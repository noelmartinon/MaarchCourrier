<ng-container *ngIf="!loading">
    <ng-container *ngFor="let visaWorkflow of visaWorkflowHistory">
        <mat-list>
            <div class="dateTitle">
                <div mat-subheader class="primary" [title]="visaWorkflow.creationDate | fullDate">
                    {{'lang.workflow' | translate}}&nbsp;<b>{{visaWorkflow.creationDate | timeAgo : 'full'}}</b>&nbsp;{{'lang.by' | translate | lowercase}}&nbsp;<b>{{visaWorkflow.user}}</b>
                </div>
                <mat-divider></mat-divider>
            </div>
            <mat-list-item disableRipple *ngFor="let diffusion of visaWorkflow.details;let i=index" class="workflow">
                <mat-icon class="fa fa-2x fa-user" mat-list-icon color="primary">
                </mat-icon>
                <div mat-line class="workflowLine">
                    <div class="workflowLineContainer">
                        <div class="workflowLineLabel">
                            {{diffusion.itemLabel}}
                        </div>
                        <div class="workflowLineSubLabel">
                            {{diffusion.itemSubLabel}}
                        </div>
                    </div>
                    <div>
                        <button class="currentRoleButton" color="primary" disabled mat-raised-button
                            title="{{'lang.' + diffusion.currentRole + 'User' | translate}}">{{diffusion.requested_signature ? ('lang.signUser' | translate) : ('lang.visaUser' | translate)}}</button>
                    </div>
                </div>
            </mat-list-item>
        </mat-list>
    </ng-container>
</ng-container>
<div *ngIf="loading" style="display:flex;padding: 10px;">
    <mat-spinner style="margin:auto;"></mat-spinner>
</div>
