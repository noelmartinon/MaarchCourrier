(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+0xr":function(t,e,n){"use strict";n.d(e,"a",(function(){return yt})),n.d(e,"b",(function(){return dt})),n.d(e,"c",(function(){return gt})),n.d(e,"d",(function(){return vt})),n.d(e,"e",(function(){return ft})),n.d(e,"f",(function(){return It})),n.d(e,"g",(function(){return Ct})),n.d(e,"h",(function(){return _t})),n.d(e,"i",(function(){return ut})),n.d(e,"j",(function(){return Et})),n.d(e,"k",(function(){return xt})),n.d(e,"l",(function(){return Tt})),n.d(e,"m",(function(){return kt})),n.d(e,"n",(function(){return ct})),n.d(e,"o",(function(){return Ft})),n.d(e,"p",(function(){return Lt})),n.d(e,"q",(function(){return Dt}));var i=n("8LU1"),s=n("0EQZ"),a=n("fXoL"),o=n("cH1L"),r=n("nLfN"),c=n("ofXK"),l=n("XNiG"),d=n("2Vo4"),h=n("7+OI"),u=n("LRne"),p=n("1G5W");const f=[[["caption"]]],m=["caption"];function g(t,e){if(1&t&&(a.Zb(0,"th",3),a.Sc(1),a.Yb()),2&t){const t=a.lc();a.Pc("text-align",t.justify),a.Eb(1),a.Uc(" ",t.headerText," ")}}function b(t,e){if(1&t&&(a.Zb(0,"td",4),a.Sc(1),a.Yb()),2&t){const t=e.$implicit,n=a.lc();a.Pc("text-align",n.justify),a.Eb(1),a.Uc(" ",n.dataAccessor(t,n.name)," ")}}function _(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Object(i.c)(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const v=new a.r("CDK_TABLE"),y=new a.r("text-column-options");let x=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkCellDef",""]]}),t})(),w=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),C=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class O{}const k=_(O);let S=(()=>{class t extends k{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Object(i.c)(t),this._hasStickyChanged=e!==this._stickyEnd}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(v,8))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,x,!0),a.Lb(n,w,!0),a.Lb(n,C,!0)),2&t&&(a.Cc(i=a.ic())&&(e.cell=i.first),a.Cc(i=a.ic())&&(e.headerCell=i.first),a.Cc(i=a.ic())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a.Db([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),a.Bb]}),t})();class E{constructor(t,e){e.nativeElement.classList.add("cdk-column-"+t.cssClassFriendlyName)}}let M=(()=>{class t extends E{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(S),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.Bb]}),t})(),I=(()=>{class t extends E{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(S),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:["role","gridcell",1,"cdk-footer-cell"],features:[a.Bb]}),t})(),P=(()=>{class t extends E{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(S),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[a.Bb]}),t})(),T=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof R?t.headerCell.template:this instanceof j?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O),a.Tb(a.u))},t.\u0275dir=a.Ob({type:t,features:[a.Cb]}),t})();class A extends T{}const D=_(A);let R=(()=>{class t extends D{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O),a.Tb(a.u),a.Tb(v,8))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.Bb,a.Cb]}),t})();class L extends T{}const F=_(L);let j=(()=>{class t extends F{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O),a.Tb(a.u),a.Tb(v,8))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.Bb,a.Cb]}),t})(),Y=(()=>{class t extends T{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.O),a.Tb(a.u),a.Tb(v,8))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.Bb]}),t})(),Z=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.R))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&a.Vb(0,0)},directives:[Z],encapsulation:2}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&a.Vb(0,0)},directives:[Z],encapsulation:2}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&a.Vb(0,0)},directives:[Z],encapsulation:2}),t})();const z=["top","bottom","left","right"];class V{constructor(t,e,n,i=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=i}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const i=e.some(t=>t)||n.some(t=>t);if(!t.length||!i||!this._isBrowser)return;const s=t[0],a=s.children.length,o=this._getCellWidths(s),r=this._getStickyStartColumnPositions(o,e),c=this._getStickyEndColumnPositions(o,n),l="rtl"===this.direction;for(const d of t)for(let t=0;t<a;t++){const i=d.children[t];e[t]&&this._addStickyStyle(i,l?"right":"left",r[t]),n[t]&&this._addStickyStyle(i,l?"left":"right",c[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.reverse():t;let s=0;for(let a=0;a<i.length;a++){if(!e[a])continue;const t=i[a];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,s);else this._addStickyStyle(t,n,s);if(a===i.length-1)return;s+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),z.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of z)t.style[i]&&(n+=e[i]);return n?""+n:""}_getCellWidths(t){const e=[],n=t.children;for(let i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let s=0;s<t.length;s++)e[s]&&(n[s]=i,i+=t[s]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let s=t.length;s>0;s--)e[s]&&(n[s]=i,i+=t[s]);return n}}function H(t){return Error(`Could not find column with id "${t}".`)}let Q=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.R),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["","rowOutlet",""]]}),t})(),$=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.R),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),W=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.R),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),G=(()=>{class t{constructor(t,e,n,i,s,a,o){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=s,this._platform=o,this._onDestroy=new l.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new d.a({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){Object(a.Y)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Object(i.c)(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Object(s.e)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,i)=>{if(null==t.previousIndex)this._insertRow(t.item,i);else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const s=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<s.length;e++){let n=s[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const s=n&&n.has(i)?n.get(i):[];if(s.length){const t=s.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),q(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw Error(`Duplicate column definition name provided: "${t.name}".`);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=q(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=q(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=q(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],Object(s.e)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(Object(s.e)(this.dataSource)?t=this.dataSource.connect(this):Object(h.a)(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(u.a)(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(Object(p.a)(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw H(t);return e}),i=n.map(t=>t.sticky),s=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,s)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for theprovided row data: "+JSON.stringify(t))}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,i={}){t.viewContainer.createEmbeddedView(e.template,i,n);for(let s of this._getCellTemplates(e))Z.mostRecentCellOutlet&&Z.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw H(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new V(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:Object(u.a)()).pipe(Object(p.a)(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.u),a.Tb(a.h),a.Tb(a.l),a.ec("role"),a.Tb(o.c,8),a.Tb(c.e),a.Tb(r.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,S,!0),a.Lb(n,Y,!0),a.Lb(n,R,!0),a.Lb(n,j,!0)),2&t&&(a.Cc(i=a.ic())&&(e._contentColumnDefs=i),a.Cc(i=a.ic())&&(e._contentRowDefs=i),a.Cc(i=a.ic())&&(e._contentHeaderRowDefs=i),a.Cc(i=a.ic())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(a.Oc(Q,!0),a.Oc($,!0),a.Oc(W,!0)),2&t&&(a.Cc(n=a.ic())&&(e._rowOutlet=n.first),a.Cc(n=a.ic())&&(e._headerRowOutlet=n.first),a.Cc(n=a.ic())&&(e._footerRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[a.Db([{provide:v,useExisting:t}])],ngContentSelectors:m,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(a.rc(f),a.qc(0),a.Vb(1,0),a.Vb(2,1),a.Vb(3,2))},directives:[$,Q,W],encapsulation:2}),t})();function q(t,e){return t.concat(Array.from(e))}let X=(()=>{class t{constructor(t,e){this._table=t,this._options=e,this.justify="start",this._options=e||{}}get name(){return this._name}set name(t){this._name=t,this._syncColumnDefName()}ngOnInit(){if(this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((t,e)=>t[e])),!this._table)throw Error("Text column could not find a parent table for registration.");this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef)}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const t=this.name;if(Object(a.Y)()&&!t)throw Error("Table text column must have a name.");return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(t):t[0].toUpperCase()+t.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(G,8),a.Tb(y,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["cdk-text-column"]],viewQuery:function(t,e){var n;1&t&&(a.Oc(S,!0),a.Oc(x,!0),a.Oc(w,!0)),2&t&&(a.Cc(n=a.ic())&&(e.columnDef=n.first),a.Cc(n=a.ic())&&(e.cell=n.first),a.Cc(n=a.ic())&&(e.headerCell=n.first))},inputs:{justify:"justify",name:"name",headerText:"headerText",dataAccessor:"dataAccessor"},decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(t,e){1&t&&(a.Xb(0,0),a.Qc(1,g,2,3,"th",1),a.Qc(2,b,2,3,"td",2),a.Wb())},directives:[S,w,x,M,P],encapsulation:2}),t})(),J=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)}}),t})();var K=n("FKr1"),tt=n("quSY"),et=n("VRyK"),nt=n("itXk"),it=n("lJxs");const st=[[["caption"]]],at=["caption"];function ot(t,e){if(1&t&&(a.Zb(0,"th",3),a.Sc(1),a.Yb()),2&t){const t=a.lc();a.Pc("text-align",t.justify),a.Eb(1),a.Uc(" ",t.headerText," ")}}function rt(t,e){if(1&t&&(a.Zb(0,"td",4),a.Sc(1),a.Yb()),2&t){const t=e.$implicit,n=a.lc();a.Pc("text-align",n.justify),a.Eb(1),a.Uc(" ",n.dataAccessor(t,n.name)," ")}}let ct=(()=>{class t extends G{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}return t.\u0275fac=function(e){return lt(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[a.Db([{provide:G,useExisting:t},{provide:v,useExisting:t}]),a.Bb],ngContentSelectors:at,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(a.rc(st),a.qc(0),a.Vb(1,0),a.Vb(2,1),a.Vb(3,2))},directives:[$,Q,W],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],encapsulation:2}),t})();const lt=a.bc(ct);let dt=(()=>{class t extends x{}return t.\u0275fac=function(e){return ht(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matCellDef",""]],features:[a.Db([{provide:x,useExisting:t}]),a.Bb]}),t})();const ht=a.bc(dt);let ut=(()=>{class t extends w{}return t.\u0275fac=function(e){return pt(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matHeaderCellDef",""]],features:[a.Db([{provide:w,useExisting:t}]),a.Bb]}),t})();const pt=a.bc(ut);let ft=(()=>{class t extends C{}return t.\u0275fac=function(e){return mt(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matFooterCellDef",""]],features:[a.Db([{provide:C,useExisting:t}]),a.Bb]}),t})();const mt=a.bc(ft);let gt=(()=>{class t extends S{}return t.\u0275fac=function(e){return bt(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a.Db([{provide:S,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),a.Bb]}),t})();const bt=a.bc(gt);let _t=(()=>{class t extends M{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(S),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.Bb]}),t})(),vt=(()=>{class t extends I{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(S),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[a.Bb]}),t})(),yt=(()=>{class t extends P{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(S),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.Bb]}),t})(),xt=(()=>{class t extends R{}return t.\u0275fac=function(e){return wt(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a.Db([{provide:R,useExisting:t}]),a.Bb]}),t})();const wt=a.bc(xt);let Ct=(()=>{class t extends j{}return t.\u0275fac=function(e){return Ot(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[a.Db([{provide:j,useExisting:t}]),a.Bb]}),t})();const Ot=a.bc(Ct);let kt=(()=>{class t extends Y{}return t.\u0275fac=function(e){return St(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a.Db([{provide:Y,useExisting:t}]),a.Bb]}),t})();const St=a.bc(kt);let Et=(()=>{class t extends N{}return t.\u0275fac=function(e){return Mt(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a.Db([{provide:N,useExisting:t}]),a.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&a.Vb(0,0)},directives:[Z],encapsulation:2}),t})();const Mt=a.bc(Et);let It=(()=>{class t extends U{}return t.\u0275fac=function(e){return Pt(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[a.Db([{provide:U,useExisting:t}]),a.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&a.Vb(0,0)},directives:[Z],encapsulation:2}),t})();const Pt=a.bc(It);let Tt=(()=>{class t extends B{}return t.\u0275fac=function(e){return At(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a.Db([{provide:B,useExisting:t}]),a.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&a.Vb(0,0)},directives:[Z],encapsulation:2}),t})();const At=a.bc(Tt);let Dt=(()=>{class t extends X{}return t.\u0275fac=function(e){return Rt(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-text-column"]],features:[a.Bb],decls:3,vars:0,consts:[["matColumnDef",""],["mat-header-cell","",3,"text-align",4,"matHeaderCellDef"],["mat-cell","",3,"text-align",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""]],template:function(t,e){1&t&&(a.Xb(0,0),a.Qc(1,ot,2,3,"th",1),a.Qc(2,rt,2,3,"td",2),a.Wb())},directives:[gt,ut,dt,_t,yt],encapsulation:2}),t})();const Rt=a.bc(Dt);let Lt=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[J,K.j],K.j]}),t})();class Ft extends s.b{constructor(t=[]){super(),this._renderData=new d.a([]),this._filter=new d.a(""),this._internalPageChanges=new l.a,this._renderChangesSubscription=tt.a.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(Object(i.a)(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,i=e.direction;return n&&""!=i?t.sort((t,e)=>{let s=this.sortingDataAccessor(t,n),a=this.sortingDataAccessor(e,n),o=0;return null!=s&&null!=a?s>a?o=1:s<a&&(o=-1):null!=s?o=1:null!=a&&(o=-1),o*("asc"==i?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new d.a(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?Object(et.a)(this._sort.sortChange,this._sort.initialized):Object(u.a)(null),e=this._paginator?Object(et.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(u.a)(null),n=this._data,i=Object(nt.a)([n,this._filter]).pipe(Object(it.a)(([t])=>this._filterData(t))),s=Object(nt.a)([i,t]).pipe(Object(it.a)(([t])=>this._orderData(t))),a=Object(nt.a)([s,e]).pipe(Object(it.a)(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=a.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}},"+AL4":function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var i=n("mrSG"),s=n("fXoL"),a=(n("XxY3"),n("pLZG")),o=n("vkgz"),r=n("JIr8"),c=n("2c88"),l=n("ds6q"),d=n("I65S"),h=n("sYmb"),u=n("tk/3"),p=n("0IaG"),f=n("AXEc"),m=n("4zkx"),g=n("ofXK"),b=n("bTqV"),_=n("NFeN");function v(t,e){1&t&&(s.Zb(0,"div",7),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc("",s.nc(2,1,"lang.checkOnlyofficeServer"),"..."))}function y(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",8),s.hc("click",(function(){return s.Hc(t),s.lc().quit()})),s.Ub(1,"mat-icon",9),s.Yb()}if(2&t){const t=s.lc();s.Jb("buttonsHide",t.hideButtons)("fullScreen",t.fullscreenMode),s.sc("title",t.translate.instant("lang.closeEditor"))}}let x=(()=>{class t{constructor(t,e,n,i,a){this.translate=t,this.http=e,this.dialog=n,this.notify=i,this.headerService=a,this.loading=!0,this.editMode=!1,this.file={},this.params={},this.hideCloseEditor=!1,this.triggerAfterUpdatedDoc=new s.o,this.triggerCloseEditor=new s.o,this.triggerModifiedDocument=new s.o,this.key="",this.documentLoaded=!1,this.canUpdateDocument=!1,this.isSaving=!1,this.fullscreenMode=!1,this.tmpFilename="",this.appUrl="",this.onlyOfficeUrl="",this.hideButtons=!1,this.allowedExtension=["doc","docx","dotx","odt","ott","rtf","txt","html","xlsl","xlsx","xltx","ods","ots","csv"],this.eventAction=new l.Subject}onMessage(t){const e=JSON.parse(t.data);"onDownloadAs"===e.event?this.getEncodedDocument(e.data):"onDocumentReady"===e.event&&this.triggerModifiedDocument.emit()}quit(){this.dialogRef=this.dialog.open(c.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.close"),msg:this.translate.instant("lang.confirmCloseEditor")}}),this.dialogRef.afterClosed().pipe(Object(a.a)(t=>"ok"===t),Object(o.a)(()=>{this.docEditor.destroyEditor(),this.closeEditor()})).subscribe()}closeEditor(){null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),$("iframe[name='frameEditor']").css("position","initial"),this.fullscreenMode=!1,this.triggerAfterUpdatedDoc.emit(),this.triggerCloseEditor.emit()}getDocument(){this.isSaving=!0,this.docEditor.downloadAs(this.file.format)}getEncodedDocument(t){this.http.get("../rest/onlyOffice/encodedFile",{params:{url:t}}).pipe(Object(o.a)(t=>{this.file.content=t.encodedFile,this.isSaving=!1,this.triggerAfterUpdatedDoc.emit(),this.eventAction.next(this.file)})).subscribe()}getEditorMode(t){return["csv","fods","ods","ots","xls","xlsm","xlsx","xlt","xltm","xltx"].indexOf(t)>-1?"spreadsheet":["fodp","odp","otp","pot","potm","potx","pps","ppsm","ppsx","ppt","pptm","pptx"].indexOf(t)>-1?"presentation":"text"}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.key=this.generateUniqueId(),this.canLaunchOnlyOffice()&&(yield this.getServerConfiguration(),yield this.checkServerStatus(),yield this.getMergedFileTemplate(),this.setEditorConfig(),yield this.getTokenOOServer(),this.initOfficeEditor(),this.loading=!1)}))}canLaunchOnlyOffice(){return!!this.isAllowedEditExtension(this.file.format)||(this.notify.error(this.translate.instant("lang.onlyofficeEditDenied")+" <b>"+this.file.format+"</b> "+this.translate.instant("lang.onlyofficeEditDenied2")),this.triggerCloseEditor.emit(),!1)}getServerConfiguration(){return new Promise((t,e)=>{this.http.get("../rest/onlyOffice/configuration").pipe(Object(o.a)(e=>{if(e.enabled){const n=e.serverUri.split("/"),i=e.serverSsl?"https://":"http://",s=e.serverUri.split("/")[0],a=n.slice(1).join("/"),o=[s+(e.serverPort?":"+e.serverPort:":80"),a].join("/");this.onlyOfficeUrl=`${i}${o}`,this.appUrl=e.coreUrl,t(!0)}else this.triggerCloseEditor.emit()}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}checkServerStatus(){return new Promise((t,e)=>{null!==this.appUrl.match(/127\.0\.0\.1/g)||null!==this.appUrl.match(/localhost/g)?(this.notify.error(""+this.translate.instant("lang.errorOnlyoffice1")),this.triggerCloseEditor.emit()):this.http.get("../rest/onlyOffice/available").pipe(Object(o.a)(e=>{e.isAvailable?t(!0):(this.notify.error(`${this.translate.instant("lang.errorOnlyoffice2")} ${this.onlyOfficeUrl}`),this.triggerCloseEditor.emit())}),Object(r.a)(t=>(this.notify.error(this.translate.instant("lang."+t.error.lang)),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}getMergedFileTemplate(){return new Promise((t,e)=>{this.http.post("../"+this.params.docUrl,{objectId:this.params.objectId,objectType:this.params.objectType,format:this.file.format,onlyOfficeKey:this.key,data:this.params.dataToMerge}).pipe(Object(o.a)(e=>{this.tmpFilename=e.filename,this.file={name:this.key,format:e.filename.split(".").pop(),type:null,contentMode:"base64",content:null,src:null},t(!0)}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}generateUniqueId(t=5){let e="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(let s=0;s<t;s++)e+=n.charAt(Math.floor(Math.random()*i));return e}ngAfterViewInit(){}initOfficeEditor(){this.docEditor=new DocsAPI.DocEditor("placeholder",this.editorConfig,this.onlyOfficeUrl)}getTokenOOServer(){return new Promise((t,e)=>{this.http.post("../rest/onlyOffice/token",{config:this.editorConfig}).pipe(Object(o.a)(e=>{null!==e&&(this.editorConfig.token=e),t(!0)}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}setEditorConfig(){this.editorConfig={documentType:this.getEditorMode(this.file.format),document:{fileType:this.file.format,key:this.key,title:"Edition",url:`${this.appUrl}${this.params.docUrl}?filename=${this.tmpFilename}`,permissions:{comment:!1,download:!0,edit:this.editMode,print:!0,review:!1}},editorConfig:{callbackUrl:this.appUrl+"rest/onlyOfficeCallback",lang:this.translate.instant("lang.language"),region:this.translate.instant("lang.langISO"),mode:"edit",customization:{chat:!1,comments:!1,compactToolbar:!1,feedback:!1,forcesave:!1,goback:!1,hideRightMenu:!0,showReviewChanges:!1,zoom:-2},user:{id:"1",name:" "}}}}isLocked(){return!!this.isSaving}getFile(){return this.getDocument(),this.eventAction.asObservable()}ngOnDestroy(){this.eventAction.complete()}openFullscreen(){$("iframe[name='frameEditor']").css("top","0px"),$("iframe[name='frameEditor']").css("left","0px"),this.fullscreenMode?(null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),$("iframe[name='frameEditor']").css("position","initial"),$("iframe[name='frameEditor']").css("z-index","1")):(null!==this.headerService.sideNavLeft&&this.headerService.sideNavLeft.close(),$("iframe[name='frameEditor']").css("position","fixed"),$("iframe[name='frameEditor']").css("z-index","2")),this.fullscreenMode=!this.fullscreenMode}isAllowedEditExtension(t){return this.allowedExtension.filter(e=>e.toLowerCase()===t.toLowerCase()).length>0}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(h.e),s.Tb(u.b),s.Tb(p.b),s.Tb(f.a),s.Tb(m.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["onlyoffice-viewer"]],hostBindings:function(t,e){1&t&&s.hc("message",(function(t){return e.onMessage(t)}),!1,s.Gc)},inputs:{editMode:"editMode",file:"file",params:"params",hideCloseEditor:"hideCloseEditor"},outputs:{triggerAfterUpdatedDoc:"triggerAfterUpdatedDoc",triggerCloseEditor:"triggerCloseEditor",triggerModifiedDocument:"triggerModifiedDocument"},decls:7,vars:16,consts:[["style","display:block;padding: 10px;",4,"ngIf"],["class","onlyofficeButton_fullscreen","mat-mini-fab","","color","warn",3,"buttonsHide","fullScreen","title","click",4,"ngIf"],["mat-mini-fab","","color","default",1,"onlyofficeButton_close",3,"title","click"],[1,"fas",2,"height","auto"],["mat-mini-fab","","color","default",1,"onlyofficeButton_hide",3,"title","click"],[1,"fa","fa-arrow-right",2,"height","auto"],["id","placeholder"],[2,"display","block","padding","10px"],["mat-mini-fab","","color","warn",1,"onlyofficeButton_fullscreen",3,"title","click"],[1,"fa","fa-times",2,"height","auto"]],template:function(t,e){1&t&&(s.Qc(0,v,3,3,"div",0),s.Qc(1,y,2,5,"button",1),s.Zb(2,"button",2),s.hc("click",(function(){return e.openFullscreen()})),s.Ub(3,"mat-icon",3),s.Yb(),s.Zb(4,"button",4),s.hc("click",(function(){return e.hideButtons=!e.hideButtons})),s.Ub(5,"mat-icon",5),s.Yb(),s.Ub(6,"div",6)),2&t&&(s.sc("ngIf",e.loading),s.Eb(1),s.sc("ngIf",!e.hideCloseEditor),s.Eb(1),s.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),s.sc("title",e.translate.instant(e.fullscreenMode?"lang.closeFullscreen":"lang.openFullscreen")),s.Eb(1),s.Jb("fa-expand",!e.fullscreenMode)("fa-compress",e.fullscreenMode),s.Eb(1),s.Jb("fullScreen",e.fullscreenMode)("buttonsHide",e.hideButtons),s.sc("title",e.translate.instant(e.hideButtons?"lang.showTool":"lang.hideTool")))},directives:[g.t,b.b,_.a],pipes:[h.d],styles:[".onlyofficeButton_close[_ngcontent-%COMP%], .onlyofficeButton_fullscreen[_ngcontent-%COMP%], .onlyofficeButton_hide[_ngcontent-%COMP%], .onlyofficeButton_show[_ngcontent-%COMP%]{position:absolute;top:12px;z-index:3;transition:all .5s}.onlyofficeButton_fullscreen[_ngcontent-%COMP%]{right:6px}.onlyofficeButton_close[_ngcontent-%COMP%]{right:56px}.onlyofficeButton_hide[_ngcontent-%COMP%]{right:106px}.onlyofficeButton_show[_ngcontent-%COMP%]{right:-15px}.fullScreen[_ngcontent-%COMP%]{position:fixed}.fullScreenEditor[_ngcontent-%COMP%]{top:0;left:0}.buttonsHide[_ngcontent-%COMP%]{top:-15px;right:-15px;transform:rotate(125deg);transition:all .5s}"]}),t})()},"+rOU":function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return _})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return c}));var i=n("fXoL"),s=n("ofXK");function a(){throw Error("Host already has a portal attached")}class o{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&a(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class r extends o{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class c extends o{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class l extends o{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class d{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&a(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof r?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof c?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof l?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class h extends d{constructor(t,e,n,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=s}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class u extends h{}let p=(()=>{class t extends c{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.O),i.Tb(i.R))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[i.Bb]}),t})(),f=(()=>{class t extends d{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.o,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.j),i.Tb(i.R),i.Tb(s.e))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.Bb]}),t})(),m=(()=>{class t extends f{}return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[i.Db([{provide:f,useExisting:t}]),i.Bb]}),t})();const g=i.bc(m);let b=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})();class _{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}},"/1cH":function(t,e,n){"use strict";n.d(e,"a",(function(){return F})),n.d(e,"b",(function(){return B})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return U}));var i=n("u47x"),s=n("8LU1"),a=n("fXoL"),o=n("FKr1"),r=n("quSY"),c=n("XNiG"),l=n("NXyV"),d=n("VRyK"),h=n("LRne"),u=n("xgIS"),p=n("ofXK"),f=n("rDax"),m=n("vxfF"),g=n("FtGj"),b=n("nLfN"),_=n("+rOU"),v=n("3Pt+"),y=n("kmnG"),x=n("IzEk"),w=n("eIep"),C=n("pLZG"),O=n("lJxs"),k=n("vkgz"),S=n("3E0/"),E=n("cH1L");const M=["panel"];function I(t,e){if(1&t&&(a.Zb(0,"div",0,1),a.qc(2),a.Yb()),2&t){const t=a.lc();a.sc("id",t.id)("ngClass",t._classList)}}const P=["*"];let T=0;class A{constructor(t,e){this.source=t,this.option=e}}class D{}const R=Object(o.A)(D),L=new a.r("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let F=(()=>{class t extends R{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=r.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new a.o,this.opened=new a.o,this.closed=new a.o,this.optionActivated=new a.o,this._classList={},this.id="mat-autocomplete-"+T++,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=Object(s.c)(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new i.b(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new A(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.h),a.Tb(a.l),a.Tb(L))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,o.o,!0),a.Lb(n,o.n,!0)),2&t&&(a.Cc(i=a.ic())&&(e.options=i),a.Cc(i=a.ic())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(a.Oc(a.O,!0),a.ad(M,!0)),2&t&&(a.Cc(n=a.ic())&&(e.template=n.first),a.Cc(n=a.ic())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[a.Db([{provide:o.h,useExisting:t}]),a.Bb],ngContentSelectors:P,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(a.rc(),a.Qc(0,I,3,2,"ng-template"))},directives:[p.q],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),j=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]}),t})();const Y=new a.r("mat-autocomplete-scroll-strategy"),Z={provide:Y,deps:[f.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},N={provide:v.r,useExisting:Object(a.W)(()=>U),multi:!0};let U=(()=>{class t{constructor(t,e,n,i,s,a,o,h,u,p){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=s,this._dir=o,this._formField=h,this._document=u,this._viewportRuler=p,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=r.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new c.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(l.a)(()=>this.autocomplete&&this.autocomplete.options?Object(d.a)(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(Object(x.a)(1),Object(w.a)(()=>this.optionSelections))),this._scrollStrategy=a}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=Object(s.c)(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(d.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(C.a)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(C.a)(()=>this._overlayAttached)):Object(h.a)()).pipe(Object(O.a)(t=>t instanceof o.q?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(d.a)(Object(u.a)(this._document,"click"),Object(u.a)(this._document,"touchend")).pipe(Object(C.a)(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(e===g.h&&t.preventDefault(),this.activeOption&&e===g.g&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=e===g.s||e===g.e;this.panelOpen||e===g.r?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=Object(o.x)(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{const n=Object(o.y)(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}_subscribeToClosingActions(){const t=this._zone.onStable.asObservable().pipe(Object(x.a)(1)),e=this.autocomplete.options.changes.pipe(Object(k.a)(()=>this._positionStrategy.reapplyLastPosition()),Object(S.a)(0));return Object(d.a)(t,e).pipe(Object(w.a)(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Object(x.a)(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Object(b.c)(this._element.nativeElement));let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new _.j(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(t.keyCode===g.h||t.keyCode===g.s&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new f.d({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"}];let i;i="above"===this.position?n:"below"===this.position?e:[...e,...n],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(f.c),a.Tb(a.R),a.Tb(a.B),a.Tb(a.h),a.Tb(Y),a.Tb(E.c,8),a.Tb(y.a,9),a.Tb(p.e,8),a.Tb(m.h))},t.\u0275dir=a.Ob({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&a.hc("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&a.Fb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[a.Db([N]),a.Cb]}),t})(),B=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[Z],imports:[[o.p,f.f,o.j,p.c],m.c,o.p,o.j]}),t})()},"/de/":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("0IaG"),s=n("fXoL"),a=n("sYmb"),o=n("tk/3"),r=n("jbvq");const c=["appVisaWorkflow"];let l=(()=>{class t{constructor(t,e,n,i){this.translate=t,this.http=e,this.data=n,this.dialogRef=i}ngOnInit(){this.appVisaWorkflow.loadWorkflowMaarchParapheur(this.data.id,this.data.type)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(o.b),s.Tb(i.a),s.Tb(i.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&s.Oc(c,!0),2&t&&s.Cc(n=s.ic())&&(e.appVisaWorkflow=n.first)},decls:7,vars:4,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[3,"adminMode"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"h1",1),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Zb(4,"mat-dialog-content"),s.Ub(5,"app-visa-workflow",2,3),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.Tc(s.nc(3,2,"lang.externalVisaWorkflow")),s.Eb(3),s.sc("adminMode",!1))},directives:[i.i,i.f,r.a],pipes:[a.d],styles:[".avatarAccount[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}"]}),t})()},"/kMP":function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var i=n("FvrZ"),s=n("fXoL"),a=n("8yBR"),o=n("1YbM"),r=n("3Pt+"),c=n("Kj3r"),l=n("vkgz"),d=n("aEDk"),h=n("kmnG"),u=n("qFsG"),p=n("ofXK"),f=n("bTqV"),m=n("NFeN"),g=n("sYmb");function b(t,e){1&t&&(s.Ub(0,"mat-hint",7),s.mc(1,"translate")),2&t&&s.sc("innerHTML",s.nc(1,1,"lang.hotkeyInfo"),s.Ic)}function _(t,e){1&t&&(s.Zb(0,"div",8),s.mc(1,"translate"),s.Ub(2,"i",9),s.Sc(3,"\xa0"),s.Ub(4,"span",10),s.mc(5,"translate"),s.Yb()),2&t&&(s.sc("title",s.nc(1,2,"lang.hotkeyTitle")),s.Eb(4),s.sc("innerHTML",s.nc(5,4,"lang.hotkeyMsg"),s.Ic))}function v(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-nested-tree-node"),s.Zb(1,"li"),s.Zb(2,"div",11),s.Ub(3,"button",12),s.Zb(4,"div",13),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc().selectNode(n)})),s.Ub(5,"i",14),s.Sc(6),s.Yb(),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc();s.Eb(4),s.Jb("node-selected",t.state.selected)("node-disabled",t.state.disabled)("node-hide",n.searchMode&&!t.state.search)("node-highlight",n.searchMode&&t.state.search),s.Eb(1),s.Gb(t.icon),s.Eb(1),s.Uc("\xa0",t.text," ")}}function y(t,e){1&t&&(s.Zb(0,"div"),s.Vb(1,19),s.Yb())}function x(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-nested-tree-node"),s.Zb(1,"li",15),s.Zb(2,"div",11),s.Zb(3,"button",16),s.hc("click",(function(){s.Hc(t);const n=e.$implicit,i=s.lc();return i.toggleNode(i.dataSource.data,{opened:!n.state.opened},[n.id])})),s.Ub(4,"mat-icon"),s.Yb(),s.Zb(5,"div",13),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc().selectNode(n)})),s.Ub(6,"i",14),s.Sc(7),s.Yb(),s.Yb(),s.Zb(8,"ul",17),s.Qc(9,y,2,0,"div",18),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc();s.Eb(1),s.Jb("fixHeight",!t.state.opened),s.Eb(2),s.uc("id","button-",t.id,""),s.Fb("aria-label","toggle "+t.filename),s.Eb(1),s.Hb("tree-exp far ",t.state.opened?"fa-minus-square":"fa-plus-square",""),s.Eb(1),s.Jb("node-selected",t.state.selected)("node-disabled",t.state.disabled)("node-hide",n.searchMode&&!t.state.search)("node-highlight",n.searchMode&&t.state.search),s.Eb(1),s.Gb(t.icon),s.Eb(1),s.Uc("\xa0",t.text," "),s.Eb(1),s.Jb("lastNode",t.last),s.Eb(1),s.sc("ngIf",t.state.opened)}}let w=(()=>{class t{constructor(t,e){this.sortPipe=t,this.latinisePipe=e,this.rawData=[],this.selectionPropagation=!0,this.openState="",this.afterSelectNode=new s.o,this.afterDeselectNode=new s.o,this.holdShift=!1,this.defaultOpenedNodes=[],this.treeControl=new i.k(t=>t.children),this.dataSource=new a.f,this.searchMode=!1,this.searchTerm=new r.h(""),this.lastSelectedNodeIds=[],this.pendingChildOf={},this.temp={},this.hasChild=(t,e)=>!!e.children&&e.children.length>0}onKeydownHandler(t){this.selectionPropagation&&(this.holdShift=!0)}onKeyupHandler(t){this.holdShift=!1}ngOnInit(){this.rawData.length>0&&this.initData()}initData(t=this.rawData){let e,i;this.rawData=t,"all"!==this.openState&&this.setDefaultOpened(),this.rawData=t.map(t=>Object.assign(Object.assign({},t),{parent_id:"#"===t.parent_id||""===t.parent_id?null:t.parent_id,state:void 0!==t.state?{selected:t.state.selected,opened:t.state.opened||this.defaultOpenedNodes.indexOf(t.id)>-1||"all"===this.openState,disabled:t.state.disabled}:{selected:!1,opened:this.defaultOpenedNodes.indexOf(t.id)>-1||"all"===this.openState,disabled:!1}})),this.rawData=this.sortPipe.transform(this.rawData,"text"),e=n("g9mw"),i=new e({id:"id",parent:"parent_id",children:"children",options:{deleteParent:!1}});let s=i.convert(this.rawData);s=s.children,this.initLastNodes(s),this.dataSource.data=s,this.treeControl.dataNodes=s,this.searchTerm.valueChanges.pipe(Object(c.a)(300),Object(l.a)(t=>{t=(t=t.trim()).toLowerCase(),this.searchNode(this.dataSource.data,t)})).subscribe()}setDefaultOpened(){this.rawData.filter(t=>void 0!==t.state&&t.state.opened).forEach(t=>{this.defaultOpenedNodes=this.defaultOpenedNodes.concat(this.getParents([t]))}),this.defaultOpenedNodes=this.defaultOpenedNodes.map(t=>t.id)}getData(t){return this.rawData.filter(e=>e.id===t)[0]}getIteration(t){return Array(t).fill(0).map((t,e)=>e)}selectNode(t){t.state.disabled||(this.searchMode&&(this.searchMode=!1,this.searchTerm.setValue("")),this.lastSelectedNodeIds=[],this.holdShift?this.toggleNode(this.dataSource.data,{selected:!t.state.selected,opened:!0},[t.id]):(t.state.selected=!t.state.selected,this.lastSelectedNodeIds=[t]),t.state.selected?this.afterSelectNode.emit(this.lastSelectedNodeIds):this.afterDeselectNode.emit(this.lastSelectedNodeIds))}toggleNode(t,e,n){Array.isArray(t)?t.forEach(t=>{(n.indexOf(t.id)>-1||this.holdShift&&n.indexOf(t.parent_id)>-1)&&Object.keys(e).forEach(n=>{t.state.disabled&&"opened"===n?t.state[n]=e[n]:t.state.disabled||(t.state[n]=e[n],"selected"===n&&this.lastSelectedNodeIds.push(t))}),this.holdShift&&n.indexOf(t.parent_id)>-1&&n.push(t.id),this.toggleNode(t,e,n)}):t instanceof Object&&(t.children||[]).forEach(t=>{(n.indexOf(t.id)>-1||this.holdShift&&n.indexOf(t.parent_id)>-1)&&Object.keys(e).forEach(n=>{t.state.disabled&&"opened"===n?t.state[n]=e[n]:t.state.disabled||(t.state[n]=e[n],"selected"===n&&this.lastSelectedNodeIds.push(t))}),this.holdShift&&n.indexOf(t.parent_id)>-1&&n.push(t.id),this.toggleNode(t,e,n)})}getParents(t){const e=this.rawData.filter(e=>e.id===t[t.length-1].parent_id);return e.length>0?(t.push(e[0]),this.getParents(t)):t}searchNode(t,e){this.searchMode=""!==e,Array.isArray(t)?t.forEach(t=>{t.state.opened=!0,this.latinisePipe.transform(t.text.toLowerCase()).indexOf(this.latinisePipe.transform(e))>-1?t.state.search=!0:""===e?delete t.state.search:t.state.search=!1,this.searchNode(t,e)}):t instanceof Object&&(t.children||[]).forEach(t=>{t.state.opened=!0,this.latinisePipe.transform(t.text.toLowerCase()).indexOf(this.latinisePipe.transform(e))>-1?t.state.search=!0:""===e?delete t.state.search:t.state.search=!1,this.searchNode(t,e)})}initLastNodes(t){Array.isArray(t)?t.forEach((e,n)=>{n===t.length-1&&(e.last=!0),this.initLastNodes(e)}):t instanceof Object&&(t.children||[]).forEach((e,n)=>{n===t.children.length-1&&(e.last=!0),this.initLastNodes(e)})}getSelectedNodes(){return this.rawData.filter(t=>t.state.selected)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(o.a),s.Tb(d.c))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-maarch-flat-tree"]],hostBindings:function(t,e){1&t&&s.hc("keydown.Shift",(function(t){return e.onKeydownHandler(t)}),!1,s.Fc)("keyup.Shift",(function(t){return e.onKeyupHandler(t)}),!1,s.Fc)},inputs:{rawData:"rawData",selectionPropagation:"selectionPropagation",openState:"openState"},outputs:{afterSelectNode:"afterSelectNode",afterDeselectNode:"afterDeselectNode"},features:[s.Db([o.a])],decls:9,vars:9,consts:[["matInput","","type","text",3,"formControl","placeholder"],["align","end",3,"innerHTML",4,"ngIf"],[2,"position","relative","padding-top","20px"],["class","msgHotkey",3,"title",4,"ngIf"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["align","end",3,"innerHTML"],[1,"msgHotkey",3,"title"],[1,"fas","fa-keyboard"],[3,"innerHTML"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle","","disabled","",2,"position","absolute","left","-35px"],[1,"node-content",3,"click"],[2,"width","24px","text-align","center"],[1,"example-tree-container"],["mat-icon-button","",2,"position","absolute","left","-35px",3,"id","click"],[1,"example-tree-nested-node"],[4,"ngIf"],["matTreeNodeOutlet",""]],template:function(t,e){1&t&&(s.Zb(0,"mat-form-field"),s.Ub(1,"input",0),s.mc(2,"translate"),s.Qc(3,b,2,3,"mat-hint",1),s.Yb(),s.Zb(4,"div",2),s.Qc(5,_,6,6,"div",3),s.Zb(6,"mat-tree",4),s.Qc(7,v,7,11,"mat-nested-tree-node",5),s.Qc(8,x,10,21,"mat-nested-tree-node",6),s.Yb(),s.Yb()),2&t&&(s.Eb(1),s.tc("placeholder",s.nc(2,7,"lang.searchEntities")),s.sc("formControl",e.searchTerm),s.Eb(2),s.sc("ngIf",e.selectionPropagation),s.Eb(2),s.sc("ngIf",e.holdShift),s.Eb(1),s.sc("dataSource",e.dataSource)("treeControl",e.treeControl),s.Eb(2),s.sc("matTreeNodeDefWhen",e.hasChild))},directives:[h.c,u.b,r.c,r.t,r.i,p.t,a.b,a.h,h.f,a.a,f.b,a.k,m.a,a.i],pipes:[g.d],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}.example-tree-nested-node[_ngcontent-%COMP%]{padding-left:30px}mat-tree[_ngcontent-%COMP%]{margin-left:10px}.mat-tree-node[_ngcontent-%COMP%]{font-family:Titillium Web,sans-serif,Arial;min-height:32px;line-height:32px;min-width:32px;height:32px;padding:0;background-color:#fff;white-space:pre}.mat-nested-tree-node[_ngcontent-%COMP%]{top:-24px}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}li.example-tree-container[_ngcontent-%COMP%]{border-bottom:0}ul[_ngcontent-%COMP%]{padding-left:40px}li[_ngcontent-%COMP%]{padding-left:15px;border:1px dotted grey;border-width:0 0 1px 1px;position:relative;top:-24px}li.mat-tree-node[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0;position:relative;top:17px}li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-top:15px;border-top:1px dotted grey;margin-left:-15px;padding-left:27px}.lastNode[_ngcontent-%COMP%]{border-left:1px solid #fff;margin-left:-16px!important}.mat-icon-button[_ngcontent-%COMP%]{z-index:100}.fixHeight[_ngcontent-%COMP%]{height:33px}.node-content[_ngcontent-%COMP%]{height:24px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;border-radius:5px;display:flex;align-items:center;margin-top:-35px!important;z-index:2}.node-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#666;color:#135f7f}.node-content[_ngcontent-%COMP%]:not(.node-selected):not(.node-disabled):hover{background-color:hsla(0,0%,40%,.11)!important;transition:all .3s}.node-selected[_ngcontent-%COMP%]{background-color:#1a80ab;color:#fff;transition:all .3s}.node-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.node-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.node-hide[_ngcontent-%COMP%]{opacity:.5}.node-highlight[_ngcontent-%COMP%]{font-weight:700;color:#135f7f}.tree-exp[_ngcontent-%COMP%]:before{background:#fff}.msgHotkey[_ngcontent-%COMP%]{position:absolute;background:rgba(0,0,0,.59);color:#fff;z-index:3;padding:5px;border-radius:5px;font-size:10px;top:0;right:0}"]}),t})()},"/t3+":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return h}));var i=n("fXoL"),s=n("FKr1"),a=n("ofXK"),o=n("nLfN");const r=["*",[["mat-toolbar-row"]]],c=["*","mat-toolbar-row"];class l{constructor(t){this._elementRef=t}}const d=Object(s.z)(l);let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),u=(()=>{class t extends d{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){Object(i.Y)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(o.a),i.Tb(a.e))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var s;1&t&&i.Lb(n,h,!0),2&t&&i.Cc(s=i.ic())&&(e._toolbarRows=s)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&i.Jb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.Bb],ngContentSelectors:c,decls:2,vars:0,template:function(t,e){1&t&&(i.rc(r),i.qc(0),i.qc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[s.j],s.j]}),t})()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7o/Q");function s(t,e){return n=>n.lift(new a(t,e))}class a{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends i.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("jj9e")},"0EQZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return c}));var i=n("7+OI"),s=n("LRne"),a=n("XNiG"),o=n("fXoL");class r{}function c(t){return t&&"function"==typeof t.connect}class l extends r{constructor(t){super(),this._data=t}connect(){return Object(i.a)(this._data)?this._data:Object(s.a)(this._data)}disconnect(){}}class d{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new a.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let h=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(o.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})()},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("bHdf");function s(){return Object(i.a)(1)}},"0IaG":function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return F})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return A}));var i=n("rDax"),s=n("+rOU"),a=n("fXoL"),o=n("FKr1"),r=n("cH1L"),c=n("ofXK"),l=n("XNiG"),d=n("NXyV"),h=n("LRne"),u=n("pLZG"),p=n("IzEk"),f=n("JX91"),m=n("R0Ic"),g=n("FtGj"),b=n("u47x");function _(t,e){}class v{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const y={dialogContainer:Object(m.n)("dialogContainer",[Object(m.k)("void, exit",Object(m.l)({opacity:0,transform:"scale(0.7)"})),Object(m.k)("enter",Object(m.l)({transform:"none"})),Object(m.m)("* => enter",Object(m.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(m.l)({transform:"none",opacity:1}))),Object(m.m)("* => void, * => exit",Object(m.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(m.l)({opacity:0})))])};function x(){throw Error("Attempting to attach dialog content after content is already attached")}let w=(()=>{class t extends s.a{constructor(t,e,n,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new a.o,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&x(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&x(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&x(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(b.i),a.Tb(a.h),a.Tb(c.e,8),a.Tb(v))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&a.Oc(s.c,!0),2&t&&a.Cc(n=a.ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&a.Kb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(a.Fb("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),a.Zc("@dialogContainer",e._state))},features:[a.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&a.Qc(0,_,0,0,"ng-template",0)},directives:[s.c],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[y.dialogContainer]}}),t})(),C=0;class O{constructor(t,e,n="mat-dialog-"+C++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new l.a,this._afterClosed=new l.a,this._beforeClosed=new l.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Object(u.a)(t=>"done"===t.phaseName&&"enter"===t.toState),Object(p.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Object(u.a)(t=>"done"===t.phaseName&&"exit"===t.toState),Object(p.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Object(u.a)(t=>t.keyCode===g.h&&!this.disableClose&&!Object(g.v)(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Object(u.a)(t=>"start"===t.phaseName),Object(p.a)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const k=new a.r("MatDialogData"),S=new a.r("mat-dialog-default-options"),E=new a.r("mat-dialog-scroll-strategy"),M={provide:E,deps:[i.c],useFactory:function(t){return()=>t.scrollStrategies.block()}};let I=(()=>{class t{constructor(t,e,n,i,s,a,o){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new l.a,this._afterOpenedAtThisLevel=new l.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(d.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(f.a)(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new v)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),s=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new i.d({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=a.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:v,useValue:e}]}),i=new s.d(w,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const o=new O(n,e,i.id);if(t instanceof a.O)e.attachTemplatePortal(new s.j(t,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,e),a=e.attachComponentPortal(new s.d(t,i.viewContainerRef,n));o.componentInstance=a.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:w,useValue:n},{provide:k,useValue:t.data},{provide:O,useValue:e}];return!t.direction||i&&i.get(r.c,null)||s.push({provide:r.c,useValue:{value:t.direction,change:Object(h.a)()}}),a.s.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(a.dc(i.c),a.dc(a.s),a.dc(c.n,8),a.dc(S,8),a.dc(E),a.dc(t,12),a.dc(i.e))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac}),t})(),P=0,T=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=L(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(O,8),a.Tb(a.l),a.Tb(I))},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&a.hc("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&a.Fb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.Cb]}),t})(),A=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+P++}ngOnInit(){this._dialogRef||(this._dialogRef=L(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(O,8),a.Tb(a.l),a.Tb(I))},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&a.cc("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function L(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let F=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[I,M],imports:[[i.f,s.i,o.j],o.j]}),t})()},"0MNC":function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return O}));var i=n("fXoL"),s=n("nLfN"),a=n("XNiG"),o=n("itXk"),r=n("GyhO"),c=n("HDdC"),l=n("IzEk"),d=n("7o/Q");class h{constructor(t){this.total=t}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends d.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var p=n("Kj3r"),f=n("lJxs"),m=n("JX91"),g=n("1G5W"),b=n("8LU1");const _=new Set;let v,y=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!_.has(t))try{v||(v=document.createElement("style"),v.setAttribute("type","text/css"),document.head.appendChild(v)),v.sheet&&(v.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),_.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(s.a))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(s.a))},token:t,providedIn:"root"}),t})();function x(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let w=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new a.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return C(Object(b.b)(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=C(Object(b.b)(t)).map(t=>this._registerQuery(t).observable);let n=Object(o.a)(e);return n=Object(r.a)(n.pipe(Object(l.a)(1)),n.pipe(t=>t.lift(new h(1)),Object(p.a)(0))),n.pipe(Object(f.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new c.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Object(m.a)(e),Object(f.a)(e=>({query:t,matches:e.matches})),Object(g.a)(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i.dc(y),i.dc(i.B))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(y),Object(i.dc)(i.B))},token:t,providedIn:"root"}),t})();function C(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const O={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},"0ST6":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),s=n("sYmb");let a=(()=>{class t{constructor(t,e,n){this.translate=t,this.changeDetectorRef=e,this.ngZone=n}transform(t,e=null){this.removeTimer();let n=new Date(t),i=("0"+n.getDate()).slice(-2),s=("0"+(n.getMonth()+1)).slice(-2),a=(("0"+n.getHours()).slice(-2),("0"+n.getMinutes()).slice(-2),new Date),o=[];o[0]=this.translate.instant("lang.januaryShort"),o[1]=this.translate.instant("lang.februaryShort"),o[2]=this.translate.instant("lang.marchShort"),o[3]=this.translate.instant("lang.aprilShort"),o[4]=this.translate.instant("lang.mayShort"),o[5]=this.translate.instant("lang.juneShort"),o[6]=this.translate.instant("lang.julyShort"),o[7]=this.translate.instant("lang.augustShort"),o[8]=this.translate.instant("lang.septemberShort"),o[9]=this.translate.instant("lang.octoberShort"),o[10]=this.translate.instant("lang.novemberShort"),o[11]=this.translate.instant("lang.decemberShort");let r=Math.round(Math.abs((a.getTime()-n.getTime())/1e3)),c=("0"+a.getDate()).slice(-2),l=Number.isNaN(r)?1e3:1e3*this.getSecondsUntilUpdate(r);this.timer=this.ngZone.runOutsideAngular(()=>"undefined"!=typeof window?window.setTimeout(()=>{this.ngZone.run(()=>this.changeDetectorRef.markForCheck())},l):null);let d=Math.round(Math.abs(r/60)),h=Math.round(Math.abs(d/60)),u=Math.round(Math.abs(h/24));return Math.round(Math.abs(u/30.416)),Math.round(Math.abs(u/365)),null==t?"<span>"+this.translate.instant("lang.undefined")+"</span>":a>n?this.getFormatedDate("","badge"===e?h<=24&&i===c||h<=24?"<b>"+this.translate.instant("lang.outdated")+" "+this.translate.instant("lang.fromRange").toLowerCase()+" "+h+" "+this.translate.instant("lang.hours")+" !</b>":"<b>"+this.translate.instant("lang.outdated")+" "+this.translate.instant("lang.fromRange").toLowerCase()+" "+u+" "+this.translate.instant("lang.dayS")+" !</b>":"<b>"+this.translate.instant("lang.outdated")+" !</b>","warn",e):Number.isNaN(r)?"":d<=59?this.getFormatedDate(this.translate.instant("lang.in")[0].toUpperCase()+this.translate.instant("lang.in").substr(1).toLowerCase(),d+" "+this.translate.instant("lang.minutes"),"warn",e):h<=23?this.getFormatedDate(this.translate.instant("lang.in")[0].toUpperCase()+this.translate.instant("lang.in").substr(1).toLowerCase(),h+" "+this.translate.instant("lang.hours"),"warn",e):u<=5?this.getFormatedDate(this.translate.instant("lang.in")[0].toUpperCase()+this.translate.instant("lang.in").substr(1).toLowerCase(),u+" "+this.translate.instant("lang.dayS"),"secondary",e):u<=345?this.getFormatedDate(this.translate.instant("lang.onRange")[0].toUpperCase()+this.translate.instant("lang.onRange").substr(1).toLowerCase(),n.getDate()+" "+o[n.getMonth()],"accent",e):i+"/"+s+"/"+n.getFullYear()}ngOnDestroy(){this.removeTimer()}removeTimer(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}getSecondsUntilUpdate(t){return t<60?2:t<3600?30:t<86400?300:3600}getFormatedDate(t,e,n,i){return"badge"===i?`${t} ${e}&nbsp;<i class="fas fa-circle badgePipe_${n}"></i>`:`<span color="${n}">${e}</span>`}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.fc(),i.Tb(i.B))},t.\u0275pipe=i.Sb({name:"timeLimit",type:t,pure:!1}),t})()},"0alx":function(t,e,n){"use strict";var i=n("VKeD");e.isIterable=function(t){return t&&"function"==typeof t[i.iterator]}},"0vfS":function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return p}));var i=n("fXoL"),s=n("bTqV");const a=[[["","md-fab",""],["","mat-fab",""]]],o=["[md-fab], [mat-fab]"],r=[[["","md-mini-fab",""],["","mat-mini-fab",""]]],c=["[md-mini-fab], [mat-mini-fab]"],l=[[["smd-fab-trigger"]],[["smd-fab-actions"]]],d=["smd-fab-trigger","smd-fab-actions"];let h=(()=>{class t{constructor(t){this._parent=t,this.spin=!1}_onClick(t){this._parent.fixed||(this._parent.toggle(),t.stopPropagation())}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(Object(i.W)(()=>p)))},t.\u0275cmp=i.Nb({type:t,selectors:[["smd-fab-trigger"]],hostVars:2,hostBindings:function(t,e){1&t&&i.hc("click",(function(t){return e._onClick(t)})),2&t&&i.Jb("smd-spin",e.spin)},inputs:{spin:"spin"},ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(i.rc(a),i.qc(0))},encapsulation:2}),t})(),u=(()=>{class t{constructor(t,e){this._parent=t,this.renderer=e}ngAfterContentInit(){this._buttons.changes.subscribe(()=>{this.initButtonStates(),this._parent.setActionsVisibility()}),this.initButtonStates()}initButtonStates(){this._buttons.toArray().forEach((t,e)=>{this.renderer.addClass(t._getHostElement(),"smd-fab-action-item"),this.changeElementStyle(t._getHostElement(),"z-index",""+(23-e))})}show(){this._buttons&&this._buttons.toArray().forEach((t,e)=>{let n,i=0;"scale"==this._parent.animationMode?(i=3+65*e,n="scale(1)"):n=this.getTranslateFunction("0"),this.changeElementStyle(t._getHostElement(),"transition-delay",i+"ms"),this.changeElementStyle(t._getHostElement(),"opacity","1"),this.changeElementStyle(t._getHostElement(),"transform",n)})}hide(){this._buttons&&this._buttons.toArray().forEach((t,e)=>{let n,i="1",s=0;"scale"==this._parent.animationMode?(s=3-65*e,n="scale(0)",i="0"):n=this.getTranslateFunction(55*(e+1)-5*e+"px"),this.changeElementStyle(t._getHostElement(),"transition-delay",s+"ms"),this.changeElementStyle(t._getHostElement(),"opacity",i),this.changeElementStyle(t._getHostElement(),"transform",n)})}getTranslateFunction(t){let e=this._parent.direction;return("up"==e||"down"==e?"translateY":"translateX")+"("+("down"==e||"right"==e?"-":"")+t+")"}changeElementStyle(t,e,n){this.renderer.setStyle(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(Object(i.W)(()=>p)),i.Tb(i.H))},t.\u0275cmp=i.Nb({type:t,selectors:[["smd-fab-actions"]],contentQueries:function(t,e,n){var a;1&t&&i.Lb(n,s.b,!1),2&t&&i.Cc(a=i.ic())&&(e._buttons=a)},ngContentSelectors:c,decls:1,vars:0,template:function(t,e){1&t&&(i.rc(r),i.qc(0))},encapsulation:2}),t})(),p=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.isInitialized=!1,this._direction="up",this._open=!1,this._animationMode="fling",this.fixed=!1,this.openChange=new i.o}get open(){return this._open}set open(t){let e=this._open;this._open=t,e!=this._open&&(this.openChange.emit(this._open),this.isInitialized&&this.setActionsVisibility())}get direction(){return this._direction}set direction(t){let e=this._direction;this._direction=t,e!=this.direction&&(this._setElementClass(e,!1),this._setElementClass(this.direction,!0),this.isInitialized&&this.setActionsVisibility())}get animationMode(){return this._animationMode}set animationMode(t){let e=this._animationMode;this._animationMode=t,e!=this._animationMode&&(this._setElementClass(e,!1),this._setElementClass(this.animationMode,!0),this.isInitialized&&Promise.resolve(null).then(()=>this.open=!1))}ngAfterContentInit(){this.isInitialized=!0,this.setActionsVisibility(),this._setElementClass(this.direction,!0),this._setElementClass(this.animationMode,!0)}toggle(){this.open=!this.open}_onClick(){!this.fixed&&this.open&&(this.open=!1)}setActionsVisibility(){this.open?this._childActions.show():this._childActions.hide()}_setElementClass(t,e){e?this.renderer.addClass(this.elementRef.nativeElement,"smd-"+t):this.renderer.removeClass(this.elementRef.nativeElement,"smd-"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.H))},t.\u0275cmp=i.Nb({type:t,selectors:[["smd-fab-speed-dial"]],contentQueries:function(t,e,n){var s;1&t&&i.Nc(n,u,!0),2&t&&i.Cc(s=i.ic())&&(e._childActions=s.first)},hostVars:2,hostBindings:function(t,e){1&t&&i.hc("click",(function(){return e._onClick()})),2&t&&i.Jb("smd-opened",e.open)},inputs:{fixed:"fixed",open:"open",direction:"direction",animationMode:"animationMode"},outputs:{openChange:"openChange"},ngContentSelectors:d,decls:3,vars:0,consts:[[1,"smd-fab-speed-dial-container"]],template:function(t,e){1&t&&(i.rc(l),i.Zb(0,"div",0),i.qc(1),i.qc(2,1),i.Yb())},styles:["smd-fab-speed-dial{position:absolute;display:inline-block}smd-fab-speed-dial.smd-opened .smd-fab-speed-dial-container{height:auto}smd-fab-speed-dial.smd-opened .smd-fab-speed-dial-container smd-fab-trigger.smd-spin{transform:rotate(1turn)}smd-fab-speed-dial.smd-opened .smd-fab-speed-dial-container smd-fab-actions{height:auto}smd-fab-speed-dial .smd-fab-speed-dial-container{height:0;position:relative;display:flex;align-items:center;z-index:20}smd-fab-speed-dial .smd-fab-speed-dial-container smd-fab-trigger{pointer-events:auto;z-index:24}smd-fab-speed-dial .smd-fab-speed-dial-container smd-fab-trigger.smd-spin{transition:all .6s cubic-bezier(.4,0,.2,1)}smd-fab-speed-dial .smd-fab-speed-dial-container smd-fab-actions{height:0;display:flex}smd-fab-speed-dial.smd-fling .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{display:block;opacity:1;transition:all .3s cubic-bezier(.55,0,.55,.2)}smd-fab-speed-dial.smd-scale .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{transform:scale(0);transition:all .3s cubic-bezier(.55,0,.55,.2);transition-duration:.14286s}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container{flex-direction:column}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container smd-fab-trigger{order:1}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container smd-fab-actions{flex-direction:column;order:2}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-top:10px}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container{flex-direction:column}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container smd-fab-trigger{order:2}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container smd-fab-actions{flex-direction:column-reverse;order:1}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-bottom:10px}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container{flex-direction:row}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container smd-fab-trigger{order:2}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container smd-fab-actions{flex-direction:row-reverse;order:1}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-right:10px}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container{flex-direction:row}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container smd-fab-trigger{order:1}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container smd-fab-actions{flex-direction:row;order:2}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-left:10px}"],encapsulation:2}),t})()},1:function(t,e){},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("zx2A");function s(t){return e=>e.lift(new a(t))}class a{constructor(t){this.notifier=t}call(t,e){const n=new o(t),s=Object(i.c)(this.notifier,new i.a(n));return s&&!n.seenValue?(n.add(s),e.subscribe(n)):n}}class o extends i.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1YbM":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL"),s=n("aEDk"),a=n("rH+9");let o=(()=>{class t{constructor(t,e){this.latinisePipe=t,this.functions=e}transform(t,e=""){let n="",i="";return this.functions.empty(t)?[]:(t.sort((t,s)=>(void 0===e?(n=this.latinisePipe.transform(t).toLocaleLowerCase(),i=this.latinisePipe.transform(s).toLocaleLowerCase()):(t[e]=null!==t[e]?t[e]:"",s[e]=null!==s[e]?s[e]:"",n="number"!=typeof t[e]?this.latinisePipe.transform(t[e]).toLocaleLowerCase():t[e],i="number"!=typeof s[e]?this.latinisePipe.transform(s[e]).toLocaleLowerCase():s[e]),n<i?-1:n>i?1:0)),t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.c),i.Tb(a.a))},t.\u0275pipe=i.Sb({name:"sortBy",type:t,pure:!0}),t})()},"1jcm":function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return O}));var i=n("GU7r"),s=n("fXoL"),a=n("FKr1"),o=n("8LU1"),r=n("3Pt+"),c=n("R1ws"),l=n("u47x"),d=n("cH1L");const h=["thumbContainer"],u=["toggleBar"],p=["input"],f=function(){return{enterDuration:150}},m=["*"],g=new s.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let b=0;const _={provide:r.r,useExisting:Object(s.W)(()=>w),multi:!0};class v{constructor(t,e){this.source=t,this.checked=e}}class y{constructor(t){this._elementRef=t}}const x=Object(a.E)(Object(a.z)(Object(a.A)(Object(a.B)(y)),"accent"));let w=(()=>{class t extends x{constructor(t,e,n,i,a,o,r,c){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this.defaults=o,this._animationMode=r,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++b,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new s.o,this.toggleChange=new s.o,this.dragChange=new s.o,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=Object(o.c)(t)}get checked(){return this._checked}set checked(t){this._checked=Object(o.c)(t),this._changeDetectorRef.markForCheck()}get inputId(){return(this.id||this._uniqueId)+"-input"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new v(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(l.h),s.Tb(s.h),s.ec("tabindex"),s.Tb(s.B),s.Tb(g),s.Tb(c.a,8),s.Tb(d.c,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(s.ad(h,!0),s.ad(u,!0),s.ad(p,!0)),2&t&&(s.Cc(n=s.ic())&&(e._thumbEl=n.first),s.Cc(n=s.ic())&&(e._thumbBarEl=n.first),s.Cc(n=s.ic())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(s.cc("id",e.id),s.Fb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),s.Jb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[s.Db([_]),s.Bb],ngContentSelectors:m,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(s.rc(),s.Zb(0,"label",0,1),s.Zb(2,"div",2,3),s.Zb(4,"input",4,5),s.hc("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),s.Yb(),s.Zb(6,"div",6,7),s.Ub(8,"div",8),s.Zb(9,"div",9),s.Ub(10,"div",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(11,"span",11,12),s.hc("cdkObserveContent",(function(){return e._onLabelTextChange()})),s.Zb(13,"span",13),s.Sc(14,"\xa0"),s.Yb(),s.qc(15),s.Yb(),s.Yb()),2&t){const t=s.Dc(1),n=s.Dc(12);s.Fb("for",e.inputId),s.Eb(2),s.Jb("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),s.Eb(2),s.sc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),s.Fb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),s.Eb(5),s.sc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.yc(17,f))}},directives:[a.t,i.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})();const C={provide:r.q,useExisting:Object(s.W)(()=>O),multi:!0};let O=(()=>{class t extends r.b{}return t.\u0275fac=function(e){return k(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["mat-slide-toggle","required","","formControlName",""],["mat-slide-toggle","required","","formControl",""],["mat-slide-toggle","required","","ngModel",""]],features:[s.Db([C]),s.Bb]}),t})();const k=s.bc(O);let S=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)}}),t})(),E=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[S,a.u,a.j,i.c],S,a.j]}),t})()},2:function(t,e){},"2ChS":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return m}));var i=n("rDax"),s=n("+rOU"),a=n("fXoL"),o=n("FKr1"),r=n("0MNC"),c=n("R0Ic"),l=n("ofXK"),d=(n("cH1L"),n("XNiG"),n("VRyK"),n("LRne"),n("FtGj"),n("pLZG"),n("IzEk"),n("u47x"));function h(t,e){}class u{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const p={bottomSheetState:Object(c.n)("state",[Object(c.k)("void, hidden",Object(c.l)({transform:"translateY(100%)"})),Object(c.k)("visible",Object(c.l)({transform:"translateY(0%)"})),Object(c.m)("visible => void, visible => hidden",Object(c.e)(`${o.b.COMPLEX} ${o.a.ACCELERATION_CURVE}`)),Object(c.m)("void => visible",Object(c.e)(`${o.b.EXITING} ${o.a.DECELERATION_CURVE}`))])};let f=(()=>{class t extends s.a{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=o,this._animationState="void",this._animationStateChanged=new a.o,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=s,this._breakpointSubscription=i.observe([r.b.Medium,r.b.Large,r.b.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",i.isMatched(r.b.Medium)),this._toggleClass("mat-bottom-sheet-container-large",i.isMatched(r.b.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",i.isMatched(r.b.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.h),a.Tb(d.i),a.Tb(r.a),a.Tb(l.e,8),a.Tb(u))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var n;1&t&&a.Oc(s.c,!0),2&t&&a.Cc(n=a.ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&a.Kb("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(a.Fb("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),a.Zc("@state",e._animationState))},features:[a.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&a.Qc(0,h,0,0,"ng-template",0)},directives:[s.c],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[p.bottomSheetState]},changeDetection:0}),t})(),m=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.f,o.j,s.i],o.j]}),t})()},"2KeD":function(t,e,n){"use strict";var i=n("Q1FS"),s=n("zB/H"),a=n("zfKp");e.scheduleObservable=function(t,e){return new i.Observable((function(n){var i=new s.Subscription;return i.add(e.schedule((function(){var s=t[a.observable]();i.add(s.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("XNiG"),s=n("9ppp");class a extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.a;return this._value}next(t){super.next(this._value=t)}}},"2c88":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("0IaG"),s=n("fXoL"),a=n("sYmb"),o=n("ofXK"),r=n("bTqV");function c(t,e){if(1&t&&(s.Zb(0,"div",7),s.Ub(1,"div",8),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.sc("innerHTML",t.data.msg,s.Ic)}}let l=(()=>{class t{constructor(t,e,n){this.translate=t,this.data=e,this.dialogRef=n,null===this.data.msg&&(this.data.msg=""),void 0===this.data.buttonCancel&&(this.data.buttonCancel=this.translate.instant("lang.cancel")),void 0===this.data.buttonValidate&&(this.data.buttonValidate=this.translate.instant("lang.ok"))}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(i.a),s.Tb(i.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:10,vars:4,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions",""],["color","primary","mat-raised-button","",1,"actions",3,"click"],["color","","mat-raised-button","","cdkFocusInitial","",1,"actions",3,"click"],["mat-dialog-content",""],[1,"alert-message","alert-message-info",3,"innerHTML"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"h1",1),s.Sc(2),s.Yb(),s.Qc(3,c,2,1,"div",2),s.Ub(4,"span",3),s.Zb(5,"div",4),s.Zb(6,"button",5),s.hc("click",(function(){return e.dialogRef.close("ok")})),s.Sc(7),s.Yb(),s.Zb(8,"button",6),s.hc("click",(function(){return e.dialogRef.close("")})),s.Sc(9),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.Tc(e.data.title),s.Eb(1),s.sc("ngIf",""!==e.data.msg),s.Eb(4),s.Tc(e.data.buttonValidate),s.Eb(2),s.Tc(e.data.buttonCancel))},directives:[i.i,o.t,i.c,r.b,i.f],styles:[".alert-message-info[_ngcontent-%COMP%]{margin:0;font-size:16px}"]}),t})()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"2qMH":function(t,e,n){"use strict";var i=n("Q1FS"),s=n("zB/H");e.scheduleArray=function(t,e){return new i.Observable((function(n){var i=new s.Subscription,a=0;return i.add(e.schedule((function(){a!==t.length?(n.next(t[a++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},3:function(t,e){},"3E0/":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("D0XW"),s=n("7o/Q"),a=n("WMd4");function o(t,e=i.a){var n;const s=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new r(s,e))}class r{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))}}class c extends s.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,s=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(a.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()}}class l{constructor(t,e){this.time=t,this.notification=e}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("quSY");class s extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class a extends s{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return Ht})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return Wt})),n.d(e,"e",(function(){return bt})),n.d(e,"f",(function(){return Yt})),n.d(e,"g",(function(){return ne})),n.d(e,"h",(function(){return mt})),n.d(e,"i",(function(){return At})),n.d(e,"j",(function(){return Ut})),n.d(e,"k",(function(){return gt})),n.d(e,"l",(function(){return Rt})),n.d(e,"m",(function(){return Ft})),n.d(e,"n",(function(){return ie})),n.d(e,"o",(function(){return Jt})),n.d(e,"p",(function(){return qt})),n.d(e,"q",(function(){return C})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return _})),n.d(e,"t",(function(){return y})),n.d(e,"u",(function(){return x})),n.d(e,"v",(function(){return yt})),n.d(e,"w",(function(){return Mt})),n.d(e,"x",(function(){return kt})),n.d(e,"y",(function(){return Q})),n.d(e,"z",(function(){return D})),n.d(e,"A",(function(){return te})),n.d(e,"B",(function(){return F})),n.d(e,"C",(function(){return Y})),n.d(e,"D",(function(){return se})),n.d(e,"E",(function(){return Vt})),n.d(e,"F",(function(){return H})),n.d(e,"G",(function(){return G})),n.d(e,"H",(function(){return S})),n.d(e,"I",(function(){return q})),n.d(e,"J",(function(){return It}));var i=n("fXoL"),s=n("ofXK"),a=n("cp0P"),o=n("Cfvw"),r=n("lJxs");const c=new i.r("NgValueAccessor"),l={provide:c,useExisting:Object(i.W)(()=>d),multi:!0};let d=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[i.Db([l])]}),t})();const h={provide:c,useExisting:Object(i.W)(()=>p),multi:!0},u=new i.r("CompositionEventMode");let p=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(s.L)()?Object(s.L)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l),i.Tb(u,8))},t.\u0275dir=i.Ob({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.hc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[i.Db([h])]}),t})(),f=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t}),t})(),m=(()=>{class t extends f{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=i.Ob({type:t,features:[i.Bb]}),t})();const g=i.bc(m);function b(){throw new Error("unimplemented")}class _ extends f{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return b()}get asyncValidator(){return b()}}class v{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let y=(()=>{class t extends v{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(_,2))},t.\u0275dir=i.Ob({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.Bb]}),t})(),x=(()=>{class t extends v{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,2))},t.\u0275dir=i.Ob({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.Bb]}),t})();function w(t){return null==t||0===t.length}const C=new i.r("NgValidators"),O=new i.r("NgAsyncValidators"),k=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class S{static min(t){return e=>{if(w(e.value)||w(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(w(e.value)||w(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return w(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return w(t.value)||k.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(w(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return S.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(w(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(E);return 0==e.length?null:function(t){return I(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(E);return 0==e.length?null:function(t){const n=function(t,e){return e.map(e=>e(t))}(t,e).map(M);return Object(a.a)(n).pipe(Object(r.a)(I))}}}function E(t){return null!=t}function M(t){const e=Object(i.vb)(t)?Object(o.a)(t):t;if(!Object(i.ub)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function I(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function P(t){return t.validate?e=>t.validate(e):t}function T(t){return t.validate?e=>t.validate(e):t}const A={provide:c,useExisting:Object(i.W)(()=>D),multi:!0};let D=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.Db([A])]}),t})();const R={provide:c,useExisting:Object(i.W)(()=>F),multi:!0};let L=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l),i.Tb(L),i.Tb(i.s))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Db([R])]}),t})();const j={provide:c,useExisting:Object(i.W)(()=>Y),multi:!0};let Y=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.Db([j])]}),t})();const Z='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',N='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',U='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class B{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Z)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${N}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${U}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Z)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+N)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const z={provide:c,useExisting:Object(i.W)(()=>H),multi:!0};function V(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let H=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=i.wb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=V(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Db([z])]}),t})(),Q=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(V(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.H),i.Tb(H,9))},t.\u0275dir=i.Ob({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const $={provide:c,useExisting:Object(i.W)(()=>G),multi:!0};function W(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let G=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=i.wb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),s=this._getOptionValue(i.value);n.push(s)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Db([$])]}),t})(),q=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(W(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(W(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.H),i.Tb(G,9))},t.\u0275dir=i.Ob({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function X(t,e){return[...e.path,t]}function J(t,e){t||nt(e,"Cannot find control with"),e.valueAccessor||nt(e,"No value accessor for form control with"),t.validator=S.compose([t.validator,e.validator]),t.asyncValidator=S.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&K(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&K(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function K(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tt(t,e){null==t&&nt(e,"Cannot find control with"),t.validator=S.compose([t.validator,e.validator]),t.asyncValidator=S.composeAsync([t.asyncValidator,e.asyncValidator])}function et(t){return nt(t,"There is no FormControl instance attached to form control element with")}function nt(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function it(t){return null!=t?S.compose(t.map(P)):null}function st(t){return null!=t?S.composeAsync(t.map(T)):null}function at(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(i.wb)(e,n.currentValue)}const ot=[d,Y,D,H,G,F];function rt(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ct(t,e){if(!e)return null;Array.isArray(e)||nt(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,s=void 0;return e.forEach(e=>{var a;e.constructor===p?n=e:(a=e,ot.some(t=>a.constructor===t)?(i&&nt(t,"More than one built-in value accessor matches form control with"),i=e):(s&&nt(t,"More than one custom value accessor matches form control with"),s=e))}),s||i||n||(nt(t,"No valid value accessor for form control with"),null)}function lt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dt(t,e,n,s){Object(i.Y)()&&"never"!==s&&((null!==s&&"once"!==s||e._ngModelWarningSentOnce)&&("always"!==s||n._ngModelWarningSent)||(B.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function ht(t){const e=pt(t)?t.validators:t;return Array.isArray(e)?it(e):e||null}function ut(t,e){const n=pt(e)?e.asyncValidators:t;return Array.isArray(n)?st(n):n||null}function pt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ft{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=ht(t)}setAsyncValidators(t){this.asyncValidator=ut(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=M(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof gt?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof bt&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.o,this.statusChanges=new i.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class mt extends ft{constructor(t=null,e,n){super(ht(e),ut(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class gt extends ft{constructor(t,e,n){super(ht(e),ut(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof mt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class bt extends ft{constructor(t,e,n){super(ht(e),ut(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof mt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const _t={provide:m,useExisting:Object(i.W)(()=>yt)},vt=(()=>Promise.resolve(null))();let yt=(()=>{class t extends m{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.o,this.form=new gt({},it(t),st(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vt.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),J(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),lt(this._directives,t)})}addFormGroup(t){vt.then(()=>{const e=this._findContainer(t.path),n=new gt({});tt(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){vt.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(C,10),i.Tb(O,10))},t.\u0275dir=i.Ob({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.hc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Db([_t]),i.Bb]}),t})(),xt=(()=>{class t extends m{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return it(this._validators)}get asyncValidator(){return st(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return wt(e||t)},t.\u0275dir=i.Ob({type:t,features:[i.Bb]}),t})();const wt=i.bc(xt);class Ct{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Z}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${N}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${U}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${N}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${U}`)}}const Ot={provide:m,useExisting:Object(i.W)(()=>kt)};let kt=(()=>{class t extends xt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof yt||Ct.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,5),i.Tb(C,10),i.Tb(O,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Db([Ot]),i.Bb]}),t})();const St={provide:_,useExisting:Object(i.W)(()=>Mt)},Et=(()=>Promise.resolve(null))();let Mt=(()=>{class t extends _{constructor(t,e,n,s){super(),this.control=new mt,this._registered=!1,this.update=new i.o,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ct(this,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),at(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?X(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return it(this._rawValidators)}get asyncValidator(){return st(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){J(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof kt)&&this._parent instanceof xt?Ct.formGroupNameException():this._parent instanceof kt||this._parent instanceof yt||Ct.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ct.missingNameException()}_updateValue(t){Et.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Et.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,9),i.Tb(C,10),i.Tb(O,10),i.Tb(c,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Db([St]),i.Bb,i.Cb]}),t})(),It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Pt=new i.r("NgModelWithFormControlWarning"),Tt={provide:_,useExisting:Object(i.W)(()=>At)};let At=(()=>{class t extends _{constructor(t,e,n,s){super(),this._ngModelWarningConfig=s,this.update=new i.o,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=ct(this,n)}set isDisabled(t){B.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(J(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),at(e,this.viewModel)&&(dt("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return it(this._rawValidators)}get asyncValidator(){return st(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(C,10),i.Tb(O,10),i.Tb(c,10),i.Tb(Pt,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Db([Tt]),i.Bb,i.Cb]}),t._ngModelWarningSentOnce=!1,t})();const Dt={provide:m,useExisting:Object(i.W)(()=>Rt)};let Rt=(()=>{class t extends m{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.o}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return J(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){lt(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,rt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>et(e)),e.valueAccessor.registerOnTouched(()=>et(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&J(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=it(this._validators);this.form.validator=S.compose([this.form.validator,t]);const e=st(this._asyncValidators);this.form.asyncValidator=S.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||B.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(C,10),i.Tb(O,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.hc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Db([Dt]),i.Bb,i.Cb]}),t})();const Lt={provide:m,useExisting:Object(i.W)(()=>Ft)};let Ft=(()=>{class t extends xt{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Zt(this._parent)&&B.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,13),i.Tb(C,10),i.Tb(O,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Db([Lt]),i.Bb]}),t})();const jt={provide:m,useExisting:Object(i.W)(()=>Yt)};let Yt=(()=>{class t extends m{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return it(this._validators)}get asyncValidator(){return st(this._asyncValidators)}_checkParentType(){Zt(this._parent)&&B.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,13),i.Tb(C,10),i.Tb(O,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Db([jt]),i.Bb]}),t})();function Zt(t){return!(t instanceof Ft||t instanceof Rt||t instanceof Yt)}const Nt={provide:_,useExisting:Object(i.W)(()=>Ut)};let Ut=(()=>{class t extends _{constructor(t,e,n,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new i.o,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ct(this,s)}set isDisabled(t){B.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),at(e,this.viewModel)&&(dt("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return it(this._rawValidators)}get asyncValidator(){return st(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ft)&&this._parent instanceof xt?B.ngModelGroupException():this._parent instanceof Ft||this._parent instanceof Rt||this._parent instanceof Yt||B.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,13),i.Tb(C,10),i.Tb(O,10),i.Tb(c,10),i.Tb(Pt,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Db([Nt]),i.Bb,i.Cb]}),t._ngModelWarningSentOnce=!1,t})();const Bt={provide:C,useExisting:Object(i.W)(()=>Vt),multi:!0},zt={provide:C,useExisting:Object(i.W)(()=>Ht),multi:!0};let Vt=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?S.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("required",e.required?"":null)},inputs:{required:"required"},features:[i.Db([Bt])]}),t})(),Ht=(()=>{class t extends Vt{validate(t){return this.required?S.requiredTrue(t):null}}return t.\u0275fac=function(e){return Qt(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("required",e.required?"":null)},features:[i.Db([zt]),i.Bb]}),t})();const Qt=i.bc(Ht),$t={provide:C,useExisting:Object(i.W)(()=>Wt),multi:!0};let Wt=(()=>{class t{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?S.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i.Db([$t])]}),t})();const Gt={provide:C,useExisting:Object(i.W)(()=>qt),multi:!0};let qt=(()=>{class t{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=S.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[i.Db([Gt]),i.Cb]}),t})();const Xt={provide:C,useExisting:Object(i.W)(()=>Jt),multi:!0};let Jt=(()=>{class t{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=S.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Db([Xt]),i.Cb]}),t})();const Kt={provide:C,useExisting:Object(i.W)(()=>te),multi:!0};let te=(()=>{class t{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=S.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[i.Db([Kt]),i.Cb]}),t})(),ee=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})(),ne=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,s=null,a=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,a=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new gt(n,{asyncValidators:s,updateOn:a,validators:i})}control(t,e,n){return new mt(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new bt(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof mt||t instanceof gt||t instanceof bt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),ie=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[L],imports:[ee]}),t})(),se=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Pt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[ne,L],imports:[ee]}),t})()},"3UWI":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("D0XW"),s=n("zx2A");class a{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new o(t,this.durationSelector))}}class o extends s.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(s.c)(n,new s.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var r=n("PqYM");function c(t,e=i.a){return n=()=>Object(r.a)(t,e),function(t){return t.lift(new a(n))};var n}},"3nLB":function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n("mrSG"),s=n("fXoL"),a=n("3Pt+"),o=n("JX91"),r=n("lJxs"),c=n("sYmb"),l=n("tk/3"),d=n("A6w4"),h=n("rH+9"),u=n("rNzc"),p=n("pWCv"),f=n("I65S"),m=n("nYR2"),g=n("AXEc");let b=(()=>{class t{constructor(t,e,n,i){this.http=t,this.translate=e,this.notify=n,this.functions=i,this.coreFields=[{identifier:"doctype",label:this.translate.instant("lang.doctype"),unit:"mail",type:"select",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]},{identifier:"subject",label:this.translate.instant("lang.subject"),unit:"mail",type:"string",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]}],this.fields=[{identifier:"recipients",label:this.translate.instant("lang.getRecipients"),type:"autocomplete",default_value:[],values:[],enabled:!0},{identifier:"priority",label:this.translate.instant("lang.priority"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"confidentiality",label:this.translate.instant("lang.confidential"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"initiator",label:this.translate.instant("lang.initiatorEntityAlt"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"departureDate",label:this.translate.instant("lang.departureDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"processLimitDate",label:this.translate.instant("lang.processLimitDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"tags",label:this.translate.instant("lang.tags"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/tags","/rest/tags"],enabled:!0},{identifier:"senders",label:this.translate.instant("lang.getSenders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/correspondents"],enabled:!0},{identifier:"destination",label:this.translate.instant("lang.destination"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"folders",label:this.translate.instant("lang.folders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/folders","/rest/folders"],enabled:!0},{identifier:"documentDate",label:this.translate.instant("lang.docDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"arrivalDate",label:this.translate.instant("lang.arrivalDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_type",label:this.translate.instant("lang.registeredMailType"),type:"select",default_value:null,values:[{id:"2D",label:this.translate.instant("lang.registeredMail_2D")},{id:"2C",label:this.translate.instant("lang.registeredMail_2C")},{id:"RW",label:this.translate.instant("lang.registeredMail_RW")}],enabled:!0},{identifier:"registeredMail_issuingSite",label:this.translate.instant("lang.issuingSite"),type:"issuingSite",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_number",label:this.translate.instant("lang.registeredMailNumber"),type:"string",default_value:null,values:[],enabled:!1},{identifier:"registeredMail_warranty",label:this.translate.instant("lang.warrantyLevel"),type:"radio",default_value:null,values:[{id:"R1",label:"R1"},{id:"R2",label:"R2"},{id:"R3",label:"R3"}],enabled:!0},{identifier:"registeredMail_letter",label:this.translate.instant("lang.letter"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"registeredMail_recipient",label:this.translate.instant("lang.registeredMailRecipient"),type:"registeredMailRecipient",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_reference",label:this.translate.instant("lang.registeredMailReference"),type:"string",default_value:null,values:[],enabled:!0}],this.customFields=[]}getCoreFields(){return this.coreFields}getFields(){return this.fields}getCustomFields(){return new Promise((t,e)=>{this.customFields.length>0?t(this.customFields):this.http.get("../rest/customFields").pipe(Object(p.tap)(t=>{this.customFields=t.customFields.map(t=>(t.identifier="indexingCustomField_"+t.id,t.system=!1,t.enabled=!0,t.SQLMode=t.SQLMode,t.default_value=["integer","string","date"].indexOf(t.type)>-1&&!this.functions.empty(t.values)?t.values[0].key:"banAutocomplete"===t.type?[]:null,t.values=t.values.length>0?t.values.map(t=>({id:t.key,label:t.label})):t.values,t))}),Object(m.a)(()=>t(this.customFields)),Object(u.catchError)(t=>(this.notify.handleSoftErrors(t),Object(f.of)(!1)))).subscribe()})}getAllFields(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.getCustomFields();let e=this.getCoreFields().concat(this.getFields());return e=e.concat(t),e}))}}return t.\u0275fac=function(e){return new(e||t)(s.dc(l.b),s.dc(c.e),s.dc(g.a),s.dc(h.a))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=n("aEDk"),v=n("kmnG"),y=n("qFsG"),x=n("/1cH"),w=n("bTqV"),C=n("NFeN"),O=n("FKr1"),k=n("ofXK"),S=n("7EHt"),E=n("1YbM");const M=["criteriaTool"],I=["searchCriteriaInput"];function P(t,e){1&t&&(s.Zb(0,"mat-option",17),s.Sc(1,"Aucun r\xe9sultat"),s.Yb())}function T(t,e){if(1&t&&(s.Zb(0,"mat-option",18),s.Sc(1),s.Yb()),2&t){const t=e.$implicit,n=s.lc();s.sc("value",t)("disabled",n.isCurrentCriteria(t.identifier)),s.Eb(1),s.Uc(" ",t.label," ")}}function A(t,e){1&t&&s.Ub(0,"div",19)}let D=(()=>{class t{constructor(t,e,n,i,o,r){this.translate=t,this.http=e,this.appService=n,this.functions=i,this.indexingFields=o,this.latinisePipe=r,this.criteria=[],this.currentCriteria=[],this.searchTermControl=new a.h,this.searchCriteria=new a.h,this.searchTerm="Foo",this.defaultCriteria=[],this.searchUrlGenerated=new s.o}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.searchTermControl.setValue(this.searchTerm),this.criteria=yield this.indexingFields.getAllFields(),this.criteria.forEach(t=>{this.defaultCriteria.indexOf(t.identifier)>-1&&(t.control=new a.h(""),this.currentCriteria.push(t))}),this.filteredCriteria=this.searchCriteria.valueChanges.pipe(Object(o.a)(""),Object(r.a)(t=>this._filter(t))),this.searchTermControl.valueChanges.pipe(Object(o.a)(""),Object(r.a)(t=>{"string"==typeof t&&(this.searchTerm=t)})).subscribe()}))}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.criteria.filter(t=>this.latinisePipe.transform(t.label.toLowerCase()).includes(e))}return this.criteria}isCurrentCriteria(t){return this.currentCriteria.filter(e=>e.identifier===t).length>0}addCriteria(t){t.control=new a.h(""),this.currentCriteria.push(t),this.searchTermControl.setValue(this.searchTerm)}removeCriteria(t){this.currentCriteria.splice(t,1)}getSearchUrl(){let t=[];this.currentCriteria.forEach(e=>{this.functions.empty(e.control.value)||t.push(`${e.id}=${e.control.value}`)}),this.criteriaTool.close(),this.searchUrlGenerated.emit("&"+t.join("&"))}getFilterControl(){return this.searchCriteria}getCriterias(){return this.criteria}getFilteredCriterias(){return this.filteredCriteria}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(c.e),s.Tb(l.b),s.Tb(d.a),s.Tb(h.a),s.Tb(b),s.Tb(_.c))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-criteria-tool"]],viewQuery:function(t,e){var n;1&t&&(s.ad(M,!0),s.ad(I,!0)),2&t&&(s.Cc(n=s.ic())&&(e.criteriaTool=n.first),s.Cc(n=s.ic())&&(e.searchCriteriaInput=n.first))},inputs:{searchTerm:"searchTerm",defaultCriteria:"defaultCriteria"},outputs:{searchUrlGenerated:"searchUrlGenerated"},decls:28,vars:23,consts:[["floatLabel","never",1,"basket-search"],["type","text","matInput","",1,"metaSearch",3,"matAutocomplete","formControl"],["mat-icon-button","","matPrefix",""],[1,"fa","fa-search"],[3,"optionSelected"],["autoCriteria","matAutocomplete"],[1,"toto",3,"label"],["matInput","","type","text",2,"margin-left","5px","width","150px !important","height","20px","border","1px solid #6666663d","padding","10px","border-radius","5px",3,"formControl","placeholder"],["disabled","",4,"ngIf"],[3,"value","disabled",4,"ngFor","ngForOf"],["expanded",""],["criteriaTool",""],[3,"ngSubmit"],["criteriaFormUp","ngForm"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-raised-button","","matSuffix","","color","primary","type","submit"],["disabled",""],[3,"value","disabled"],[1,"col-md-6"]],template:function(t,e){if(1&t&&(s.Zb(0,"mat-form-field",0),s.Ub(1,"input",1),s.Zb(2,"button",2),s.Ub(3,"mat-icon",3),s.Yb(),s.Zb(4,"mat-autocomplete",4,5),s.hc("optionSelected",(function(t){return e.addCriteria(t.option.value)})),s.Zb(6,"mat-optgroup",6),s.Ub(7,"input",7),s.mc(8,"translate"),s.Qc(9,P,2,0,"mat-option",8),s.mc(10,"async"),s.Qc(11,T,2,3,"mat-option",9),s.mc(12,"sortBy"),s.mc(13,"async"),s.Yb(),s.Yb(),s.Yb(),s.Zb(14,"mat-accordion"),s.Zb(15,"mat-expansion-panel",10,11),s.Zb(17,"mat-expansion-panel-header"),s.Zb(18,"mat-panel-title"),s.Sc(19),s.mc(20,"translate"),s.Yb(),s.Yb(),s.Zb(21,"form",12,13),s.hc("ngSubmit",(function(){return e.getSearchUrl()})),s.Qc(23,A,1,0,"div",14),s.Zb(24,"div",15),s.Zb(25,"button",16),s.Sc(26),s.mc(27,"translate"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&t){const t=s.Dc(5);var n;const i=0===(null==(n=s.nc(10,12,e.getFilteredCriterias()))?null:n.length);s.Eb(1),s.sc("matAutocomplete",t)("formControl",e.searchTermControl),s.Eb(5),s.sc("label","Ajouter un crit\xe8re de recherche"),s.Eb(1),s.tc("placeholder",s.nc(8,10,"lang.filterBy")),s.sc("formControl",e.getFilterControl()),s.Eb(2),s.sc("ngIf",i),s.Eb(2),s.sc("ngForOf",s.oc(12,14,s.nc(13,17,e.getFilteredCriterias()),"label")),s.Eb(8),s.Uc(" ",s.nc(20,19,"lang.criteriaSearch")," "),s.Eb(4),s.sc("ngForOf",e.currentCriteria),s.Eb(3),s.Uc(" ",s.nc(27,21,"lang.searchMails")," ")}},directives:[v.c,y.b,x.d,a.c,a.t,a.i,w.b,v.i,C.a,x.a,O.n,k.t,k.s,S.a,S.c,S.g,S.h,a.J,a.u,a.v,v.j,O.o],pipes:[c.d,k.b,E.a],styles:[".addCriteriaField[_ngcontent-%COMP%]{font-size:10px}.criteriaField[_ngcontent-%COMP%]{font-size:13px}.basket-search[_ngcontent-%COMP%]{color:#666;width:500px;padding-right:10px;height:55px}.basket-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;border-radius:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{font-style:italic}.basket-search[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.basket-search[_ngcontent-%COMP%]   .processLimitButton[_ngcontent-%COMP%]{color:#666;position:absolute;top:-32px;left:-47px;border-radius:30px}.basket-search[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#f99830!important;color:#fff}.toto[_ngcontent-%COMP%]     .mat-optgroup-label{z-index:1;position:-webkit-sticky;position:sticky;top:0;background:#fff;display:flex;align-items:center}"]}),t})()},4:function(t,e){},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4ik+":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("FWf1");e.filter=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))},t}(),o=function(t){function e(e,n,i){var s=t.call(this,e)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(s.Subscriber)},"4zkx":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("vkgz"),s=n("JIr8"),a=n("lJxs"),o=n("LRne"),r=n("+rOU"),c=n("fXoL"),l=n("sYmb"),d=n("tk/3"),h=n("6Psc");let u=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.foldersService=n,this.componentFactoryResolver=i,this.injector=s,this.appRef=a,this.sideBarForm=!1,this.sideBarAdmin=!1,this.hideSideBar=!1,this.showhHeaderPanel=!0,this.showMenuShortcut=!0,this.showMenuNav=!0,this.sideNavLeft=null,this.sideBarButton=null,this.currentBasketInfo={ownerId:0,groupId:0,basketId:""},this.folderId=0,this.headerMessageIcon="",this.headerMessage="",this.subHeaderMessage="",this.user={firstname:"",lastname:"",groups:[],privileges:[],preferences:[]},this.nbResourcesFollowed=0,this.base64=null}loadHeader(){return new Promise((t,e)=>{this.http.get("../rest/header").pipe(Object(i.a)(e=>{this.setUser(e.user),t(!0)}),Object(s.a)(e=>(console.log(e),t(!1),Object(o.a)(!1)))).subscribe()})}resfreshCurrentUser(){return new Promise((t,e)=>{this.http.get("../rest/currentUser/profile").pipe(Object(a.a)(e=>{this.user={mode:e.mode,id:e.id,userId:e.user_id,firstname:e.firstname,lastname:e.lastname,entities:e.entities,groups:e.groups,preferences:e.preferences,privileges:"ALL_PRIVILEGES"===e.privileges[0]?this.user.privileges:e.privileges},this.nbResourcesFollowed=e.nbFollowedResources,t(!0)})).subscribe()})}setUser(t={firstname:"",lastname:"",groups:[],privileges:[]}){this.user=t}getLastLoadedFile(){return this.base64}setLoadedFile(t){this.base64=t}setHeader(t,e="",n=""){this.headerMessage=t,this.subHeaderMessage=e,this.headerMessageIcon=n}resetSideNavSelection(){this.currentBasketInfo={ownerId:0,groupId:0,basketId:""},this.foldersService.setFolder({id:0}),this.sideBarForm=!1,this.showhHeaderPanel=!0,this.showMenuShortcut=!0,this.showMenuNav=!0,this.sideBarAdmin=!1,this.sideBarButton=null,this.hideSideBar=!0}injectInSideBarLeft(t,e,n="adminMenu",i=""){"form"===i?(this.sideBarForm=!0,this.showhHeaderPanel=!0,this.showMenuShortcut=!1,this.showMenuNav=!1,this.sideBarAdmin=!0):(this.showhHeaderPanel=!0,this.showMenuShortcut=!0,this.showMenuNav=!0),this.portalHost=new r.e(document.querySelector("#"+n),this.componentFactoryResolver,this.appRef,this.injector);const s=new r.j(t,e);this.portalHost.attach(s)}}return t.\u0275fac=function(e){return new(e||t)(c.dc(l.e),c.dc(d.b),c.dc(h.a),c.dc(c.j),c.dc(c.s),c.dc(c.g))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5:function(t,e){},"5+WD":function(t,e,n){"use strict";n.d(e,"a",(function(){return rt})),n.d(e,"b",(function(){return nt})),n.d(e,"c",(function(){return it})),n.d(e,"d",(function(){return st})),n.d(e,"e",(function(){return ht})),n.d(e,"f",(function(){return lt})),n.d(e,"g",(function(){return ut})),n.d(e,"h",(function(){return B})),n.d(e,"i",(function(){return z}));var i=n("fXoL"),s=n("ofXK"),a=n("vxfF"),o=n("nLfN"),r=n("8LU1"),c=n("XNiG"),l=n("quSY"),d=n("HDdC"),h=n("D0XW"),u=n("Y7HM");function p(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var f=n("eNwd"),m=n("VRyK"),g=n("1G5W"),b=n("lJxs"),_=n("IzEk"),v=n("JX91"),y=n("vkgz"),x=n("eIep"),w=n("cH1L");function C(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function O(t,e){const n=e?"":"none";C(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function k(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function S(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function E(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function M(t,e,n){const{top:i,bottom:s,left:a,right:o}=t;return n>=i&&n<=s&&e>=a&&e<=o}function I(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function P(t,e,n,i){const{top:s,right:a,bottom:o,left:r,width:c,height:l}=t,d=c*e,h=l*e;return i>s-h&&i<o+h&&n>r-d&&n<a+d}class T{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:E(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,s=n.scrollPosition;let a,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();a=t.top,o=t.left}else a=e.scrollTop,o=e.scrollLeft;const r=s.top-a,c=s.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&I(t.clientRect,r,c)}),s.top=a,s.left=o,{top:r,left:c}}}const A=Object(o.f)({passive:!0}),D=Object(o.f)({passive:!1});class R{constructor(t,e,n,i,s,a){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new c.a,this._pointerMoveSubscription=l.a.EMPTY,this._pointerUpSubscription=l.a.EMPTY,this._scrollSubscription=l.a.EMPTY,this._resizeSubscription=l.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new c.a,this.started=new c.a,this.released=new c.a,this.ended=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new T(n,s),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(r.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Object(r.e)(t)),this._handles.forEach(t=>O(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(r.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,D),e.addEventListener("touchstart",this._pointerDown,A)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Object(r.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Y(this._rootElement),Y(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Y(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Y(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),Z(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,s=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(o,t),t.style.display="none",this._document.body.appendChild(i.replaceChild(a,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(s),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=Z(e),s=!i&&0!==e.button,a=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||s||o)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor,a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=E(this._boundaryElement));const r=this._previewTemplate;this._pickupPositionInElement=r&&r.template&&!r.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),s=this._getDragDistance(this._getPointerPositionOnPage(t)),a=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s}),e.drop(this,n,this._initialContainer,a,s,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=L(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,s=t.viewContainer.createEmbeddedView(n,t.context);s.detectChanges(),i=N(s,this._document),this._previewRef=s,t.matchSize?U(i,e):i.style.transform=L(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=F(t),U(i,t.getBoundingClientRect())}return C(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),O(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=L(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=S(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const s=n.indexOf(i),a=S(e,"transition-duration"),o=S(e,"transition-delay");return k(a[s])+k(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=N(this._placeholderRef,this._document)):n=F(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,s=i?i.getBoundingClientRect():n,a=Z(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:s.left-n.left+(a.pageX-s.left-o.left),y:s.top-n.top+(a.pageY-s.top-o.top)}}_getPointerPositionOnPage(t){const e=Z(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,a=i.top+n,o=i.bottom-(s.height-n);e.x=j(e.x,i.left+t,i.right-(s.width-t)),e.y=j(e.y,a,o)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-s.x),o=Math.abs(n-s.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=e>s.x?1:-1,s.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>s.y?1:-1,s.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,O(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,D),t.removeEventListener("touchstart",this._pointerDown,A)}_applyRootElementTransform(t,e){const n=L(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const s=n.left-i.left,a=i.right-n.right,o=n.top-i.top,r=i.bottom-n.bottom;n.width>i.width?(s>0&&(t+=s),a>0&&(t-=a)):t=0,n.height>i.height?(o>0&&(e+=o),r>0&&(e-=r)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Z(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&I(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function L(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function F(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(let s=0;s<n.length;s++)n[s].removeAttribute("id");if(i.length){const t=e.querySelectorAll("canvas");for(let e=0;e<i.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(i[e],0,0)}}return e}function j(t,e,n){return Math.max(e,Math.min(n,t))}function Y(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Z(t){return"t"===t.type[0]}function N(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function U(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=L(e.left,e.top)}function B(t,e,n){const i=V(e,t.length-1),s=V(n,t.length-1);if(i===s)return;const a=t[i],o=s<i?-1:1;for(let r=i;r!==s;r+=o)t[r]=t[r+o];t[s]=a}function z(t,e,n,i){const s=V(n,t.length-1),a=V(i,e.length);t.length&&e.splice(a,0,t.splice(s,1)[0])}function V(t,e){return Math.max(0,Math.min(e,t))}class H{constructor(t,e,n,i,s){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.sorted=new c.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=l.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new c.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=h.a){return(!Object(u.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=h.a),new d.a(n=>(n.add(e.schedule(p,t,{subscriber:n,counter:0,period:t})),n))}(0,f.a).pipe(Object(g.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?$(t,-2):2===this._verticalScrollDirection&&$(t,2),1===this._horizontalScrollDirection?W(t,-2):2===this._horizontalScrollDirection&&W(t,2)})},this.element=Object(r.e)(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new T(n,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(r.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,i){let s;this.start(),null==i?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,n))):s=i;const a=this._activeDraggables,o=a.indexOf(t),c=t.getPlaceholderElement();let l=a[s];if(l===t&&(l=a[s+1]),o>-1&&a.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){const e=l.getRootElement();e.parentElement.insertBefore(c,e),a.splice(s,0,t)}else{const i=Object(r.e)(this.element);this._shouldEnterAsFirstChild(e,n)?(i.insertBefore(c,a[0].getRootElement()),a.unshift(t)):(i.appendChild(c),a.push(t))}c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,s,a){this._reset(),null==a&&(a=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:a,container:this,previousContainer:n,isPointerOverContainer:i,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(r.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?Q("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!P(this._clientRect,.05,e,n))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===a&&s.length>0)return;const o="horizontal"===this._orientation,r=Q(s,e=>e.drag===t),c=s[a],l=s[r].clientRect,d=c.clientRect,h=r>a?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=o?i.x:i.y;const u=this._getItemOffsetPx(l,d,h),p=this._getSiblingOffsetPx(r,s,h),f=s.slice();B(s,r,a),this.sorted.next({previousIndex:r,currentIndex:a,container:this,item:t}),s.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,s=i?u:p,a=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=s,o?(a.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,I(e.clientRect,0,s)):(a.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,I(e.clientRect,s,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,s=0;if(this._parentPositions.positions.forEach((a,o)=>{o!==this._document&&a.clientRect&&!n&&P(a.clientRect,.05,t,e)&&([i,s]=function(t,e,n,i){const s=G(e,i),a=q(e,n);let o=0,r=0;if(s){const e=t.scrollTop;1===s?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(a){const e=t.scrollLeft;1===a?e>0&&(r=1):t.scrollWidth-e>t.clientWidth&&(r=2)}return[o,r]}(o,a.clientRect,t,e),(i||s)&&(n=o))}),!i&&!s){const{width:a,height:o}=this._viewportRuler.getViewportSize(),r={width:a,height:o,top:0,right:a,bottom:o,left:0};i=G(r,e),s=q(r,t),n=window}!n||i===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=n,(i||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(r.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:E(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(r.e)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,s=e[t].clientRect,a=e[t+-1*n];let o=s[i?"width":"height"]*n;if(a){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=a.clientRect[t]-s[e]:o+=s[t]-a.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let s=i?e.left-t.left:e.top-t.top;return-1===n&&(s+=i?e.width-t.width:e.height-t.height),s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const s=n[n.length-1].clientRect;return i?t>=s.right:e>=s.bottom}{const s=n[0].clientRect;return i?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,n,i){const s="horizontal"===this._orientation;return Q(this._itemPositions,({drag:a,clientRect:o},r,c)=>{if(a===t)return c.length<2;if(i){const t=s?i.x:i.y;if(a===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return s?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return M(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!M(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const s=Object(r.e)(this.element);return i===s||s.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{I(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(o.c)(Object(r.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function Q(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function $(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function W(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function G(t,e){const{top:n,bottom:i,height:s}=t,a=.05*s;return e>=n-a&&e<=n+a?1:e>=i-a&&e<=i+a?2:0}function q(t,e){const{left:n,right:i,width:s}=t,a=.05*s;return e>=n-a&&e<=n+a?1:e>=i-a&&e<=i+a?2:0}const X=Object(o.f)({passive:!1,capture:!0});let J=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new c.a,this.pointerUp=new c.a,this.scroll=new c.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,X)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,X)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:X}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:X}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(i.B),i.dc(s.e))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(i.B),Object(i.dc)(s.e))},token:t,providedIn:"root"}),t})();const K={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let tt=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=K){return new R(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new H(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(s.e),i.dc(i.B),i.dc(a.h),i.dc(J))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(s.e),Object(i.dc)(i.B),Object(i.dc)(a.h),Object(i.dc)(J))},token:t,providedIn:"root"}),t})();const et=new i.r("CDK_DRAG_PARENT");let nt=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new c.a,this._disabled=!1,this._parentDrag=e,O(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(r.c)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(et,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),it=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.O))},t.\u0275dir=i.Ob({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),st=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Object(r.c)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.O))},t.\u0275dir=i.Ob({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const at=new i.r("CDK_DRAG_CONFIG"),ot=new i.r("CDK_DROP_LIST");let rt=(()=>{class t{constructor(t,e,n,s,a,o,r,l,h){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=s,this._viewContainerRef=a,this._dir=r,this._changeDetectorRef=h,this._destroyed=new c.a,this.started=new i.o,this.released=new i.o,this.ended=new i.o,this.entered=new i.o,this.exited=new i.o,this.dropped=new i.o,this.moved=new d.a(t=>{const e=this._dragRef.moved.pipe(Object(b.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=l.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(r.c)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(_.a)(1),Object(g.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(v.a)(this._handles),Object(y.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(x.a)(t=>Object(m.a)(...t.map(t=>t._stateChanges.pipe(Object(v.a)(t))))),Object(g.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?ct(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return ct(this.element.nativeElement,t);const e=Object(r.e)(t);if(Object(i.Y)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(r.f)(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(s),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:s,boundaryElement:a,draggingDisabled:o,rootElementSelector:r}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),s&&(this.previewClass=s),a&&(this.boundaryElement=a),r&&(this.rootElementSelector=r)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(ot,12),i.Tb(s.e),i.Tb(i.B),i.Tb(i.R),i.Tb(at,8),i.Tb(w.c,8),i.Tb(tt),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var s;1&t&&(i.Lb(n,st,!0),i.Lb(n,it,!0),i.Lb(n,nt,!0)),2&t&&(i.Cc(s=i.ic())&&(e._previewTemplate=s.first),i.Cc(s=i.ic())&&(e._placeholderTemplate=s.first),i.Cc(s=i.ic())&&(e._handles=s))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&i.Jb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.Db([{provide:et,useExisting:t}]),i.Cb]}),t})();function ct(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let lt=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(r.c)(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),t})(),dt=0,ht=(()=>{class t{constructor(e,n,s,a,o,r,l){this.element=e,this._changeDetectorRef=s,this._dir=a,this._group=o,this._scrollDispatcher=r,this._destroyed=new c.a,this.connectedTo=[],this.id="cdk-drop-list-"+dt++,this.enterPredicate=()=>!0,this.dropped=new i.o,this.entered=new i.o,this.exited=new i.o,this.sorted=new i.o,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Object(r.c)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,i){this._dropListRef.drop(t._dragRef,e,n._dropListRef,i,{x:0,y:0})}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(v.a)(this._dir.value),Object(g.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=Object(r.b)(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Object(r.c)(this.sortingDisabled),e.autoScrollDisabled=Object(r.c)(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=s&&s,this.orientation=a||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(tt),i.Tb(i.h),i.Tb(w.c,8),i.Tb(lt,12),i.Tb(a.f),i.Tb(at,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(i.cc("id",e.id),i.Jb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.Db([{provide:lt,useValue:void 0},{provide:ot,useExisting:t}])]}),t._dropLists=[],t})(),ut=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[tt],imports:[a.c]}),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),s=n("Cfvw"),a=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?a=>a.pipe(o((n,a)=>Object(s.a)(t(n,a)).pipe(Object(i.a)((t,i)=>e(n,t,a,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new r(t,n)))}class r{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends a.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new a.a(this),n=this.destination;n.add(e);const i=Object(a.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5RNC":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return C}));var i=n("ofXK"),s=n("fXoL"),a=n("FKr1"),o=n("8LU1"),r=n("FtGj"),c=n("3Pt+"),l=n("R1ws"),d=n("nLfN"),h=n("quSY"),u=n("u47x"),p=n("cH1L");const f=["sliderWrapper"],m=Object(d.f)({passive:!1}),g={provide:c.r,useExisting:Object(s.W)(()=>y),multi:!0};class b{}class _{constructor(t){this._elementRef=t}}const v=Object(a.E)(Object(a.z)(Object(a.B)(_),"accent"));let y=(()=>{class t extends v{constructor(t,e,n,i,a,o,r,c){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=i,this._animationMode=o,this._ngZone=r,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new s.o,this.input=new s.o,this.valueChange=new s.o,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=h.a.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!x(t)&&0!==t.button||this._runInsideZone(()=>{const e=this.value,n=w(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=n,e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(w(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{if(this._isSliding){const e=this._pointerPositionOnStart,n=w(t);t.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||!e||e.x===n.x&&e.y===n.y||this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=c,this.tabIndex=parseInt(a)||0,this._runOutsizeZone(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,m),e.addEventListener("touchstart",this._pointerDown,m)})}get invert(){return this._invert}set invert(t){this._invert=Object(o.c)(t)}get max(){return this._max}set max(t){this._max=Object(o.f)(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Object(o.f)(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Object(o.f)(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Object(o.c)(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Object(o.f)(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=Object(o.f)(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(o.c)(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:t+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${e})`,display:0===t?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:t+"% 2px",transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){let t;t=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",e["padding"+t]=this._thumbGap+"px"}return e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,m),t.removeEventListener("touchstart",this._pointerDown,m),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||Object(r.v)(t))return;const e=this.value;switch(t.keyCode){case r.n:this._increment(10);break;case r.m:this._increment(-10);break;case r.f:this.value=this.max;break;case r.j:this.value=this.min;break;case r.k:this._increment("rtl"==this._getDirection()?1:-1);break;case r.s:this._increment(1);break;case r.o:this._increment("rtl"==this._getDirection()?-1:1);break;case r.e:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_bindGlobalEvents(t){const e=this._document;if(void 0!==e&&e){const n=x(t),i=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,m),e.addEventListener(i,this._pointerUp,m),n&&e.addEventListener("touchcancel",this._pointerUp,m)}const n=this._getWindow();void 0!==n&&n&&n.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;void 0!==t&&t&&(t.removeEventListener("mousemove",this._pointerMove,m),t.removeEventListener("mouseup",this._pointerUp,m),t.removeEventListener("touchmove",this._pointerMove,m),t.removeEventListener("touchend",this._pointerUp,m),t.removeEventListener("touchcancel",this._pointerUp,m));const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new b;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}_runInsideZone(t){this._ngZone?this._ngZone.run(t):t()}_runOutsizeZone(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(u.h),s.Tb(s.h),s.Tb(p.c,8),s.ec("tabindex"),s.Tb(l.a,8),s.Tb(s.B),s.Tb(i.e,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var n;1&t&&s.ad(f,!0),2&t&&s.Cc(n=s.ic())&&(e._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(t,e){1&t&&s.hc("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(){return e._onKeyup()}))("mouseenter",(function(){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),2&t&&(s.cc("tabIndex",e.tabIndex),s.Fb("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),s.Jb("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[s.Db([g]),s.Bb],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(s.Zb(0,"div",0,1),s.Zb(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"div",4),s.Yb(),s.Zb(5,"div",5),s.Ub(6,"div",6),s.Yb(),s.Zb(7,"div",7),s.Ub(8,"div",8),s.Ub(9,"div",9),s.Zb(10,"div",10),s.Zb(11,"span",11),s.Sc(12),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(3),s.sc("ngStyle",e._trackBackgroundStyles),s.Eb(1),s.sc("ngStyle",e._trackFillStyles),s.Eb(1),s.sc("ngStyle",e._ticksContainerStyles),s.Eb(1),s.sc("ngStyle",e._ticksStyles),s.Eb(1),s.sc("ngStyle",e._thumbContainerStyles),s.Eb(5),s.Tc(e.displayValue))},directives:[i.w],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function x(t){return"t"===t.type[0]}function w(t){const e=x(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let C=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[i.c,a.j],a.j]}),t})()},"5cI5":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class t{constructor(){}setAppSession(t){this.appSession=t}getAppSession(){return this.appSession}save(t,e){localStorage.setItem(t+"_"+this.getAppSession(),e)}get(t){return localStorage.getItem(t+"_"+this.getAppSession())}remove(t){localStorage.removeItem(t+"_"+this.getAppSession())}resetLocal(){const t=[];for(let e=0;e<localStorage.length;e++)"filtersAdmin_"===localStorage.key(e).substring(0,13)&&t.push(localStorage.key(e));for(let e=0;e<t.length;e++)localStorage.removeItem(t[e])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"63qU":function(t,e,n){"use strict";n.d(e,"a",(function(){return V}));var i=n("3Pt+"),s=n("fXoL"),a=n("LRne"),o=n("cp0P"),r=n("JX91"),c=n("lJxs"),l=n("Kj3r"),d=n("pLZG"),h=n("vkgz"),u=n("eIep"),p=n("XqQ8"),f=n("JIr8"),m=n("2c88"),g=n("sYmb"),b=n("tk/3"),_=n("AXEc"),v=n("0IaG"),y=n("aEDk"),x=n("ofXK"),w=n("kmnG"),C=n("qFsG"),O=n("/1cH"),k=n("NFeN"),S=n("bTqV"),E=n("FKr1"),M=n("Xa2L"),I=n("A5z7"),P=n("1YbM");const T=["autoCompleteInput"];function A(t,e){if(1&t&&s.Ub(0,"input",11),2&t){const t=s.lc();s.sc("formControl",t.controlAutocomplete)}}function D(t,e){if(1&t&&(s.Zb(0,"mat-label"),s.Sc(1),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.Tc(t.placeholder)}}function R(t,e){1&t&&s.Ub(0,"mat-icon",12)}function L(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",13),s.hc("click",(function(){return s.Hc(t),s.lc().unsetValue()})),s.Ub(1,"mat-icon",14),s.Yb()}if(2&t){const t=s.lc();s.Eb(1),s.sc("title",t.translate.instant("lang.delete"))}}function F(t,e){if(1&t&&s.Ub(0,"mat-icon",18),2&t){const t=s.lc().$implicit,e=s.lc(2);s.Hb("autcompleteIcon fas ",e.type[t.type],"")}}function j(t,e){if(1&t&&(s.Zb(0,"mat-option",16),s.Qc(1,F,1,3,"mat-icon",17),s.Sc(2,"\xa0"),s.Zb(3,"span",18),s.Sc(4),s.Yb(),s.Sc(5,"\xa0"),s.Zb(6,"small"),s.Sc(7),s.Yb(),s.Yb()),2&t){const t=e.$implicit,n=s.lc(2);s.sc("value",t),s.Eb(1),s.sc("ngIf",n.type[t.type]),s.Eb(3),s.Tc(t[n.key]),s.Eb(3),s.Tc(t[n.subInfoKey])}}function Y(t,e){if(1&t&&(s.Xb(0),s.Qc(1,j,8,4,"mat-option",15),s.mc(2,"sortBy"),s.mc(3,"async"),s.Wb()),2&t){const t=s.lc();s.Eb(1),s.sc("ngForOf",s.oc(2,1,s.nc(3,4,t.filteredOptions),t.key))}}function Z(t,e){if(1&t&&s.Ub(0,"mat-option",19),2&t){const t=s.lc();s.sc("innerHTML",t.listInfo,s.Ic)}}function N(t,e){1&t&&(s.Zb(0,"mat-option",20),s.Ub(1,"mat-spinner",21),s.Yb())}function U(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-chip",25),s.hc("removed",(function(){s.Hc(t);const n=e.index;return s.lc(2).removeItem(n)})),s.Ub(1,"span",26),s.Ub(2,"mat-icon",27),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc(2);s.sc("removable",!0),s.Eb(1),s.sc("innerHTML",n.valuesToDisplay[t],s.Ic)}}function B(t,e){1&t&&(s.Zb(0,"div",28),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.noSelectedValue")," "))}function z(t,e){if(1&t&&(s.Xb(0),s.Zb(1,"mat-chip-list",22),s.Qc(2,U,3,2,"mat-chip",23),s.Yb(),s.Qc(3,B,3,3,"div",24),s.Wb()),2&t){const t=s.lc();s.Eb(2),s.sc("ngForOf",t.controlAutocomplete.value),s.Eb(1),s.sc("ngIf",0===t.controlAutocomplete.value.length)}}let V=(()=>{class t{constructor(t,e,n,a,o){this.translate=t,this.http=e,this.notify=n,this.dialog=a,this.latinisePipe=o,this.myControl=new i.h,this.loading=!1,this.type={user:"fa-user",entity:"fa-sitemap"},this.selectedOpt=new s.o,this.valuesToDisplay={}}ngOnInit(){this.appearance=void 0===this.appearance?"legacy":"outline",this.singleMode=void 0!==this.singleMode,this.optGroupLabel=void 0===this.optGroupLabel?this.translate.instant("lang.availableValues"):this.optGroupLabel,this.placeholder=void 0===this.placeholder?this.translate.instant("lang.chooseValue"):this.placeholder,void 0!==this.controlAutocomplete&&(this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.initFormValue()),this.size=void 0===this.size?"default":this.size,void 0!==this.routeDatas?this.initAutocompleteRoute():this.initAutocompleteData()}initAutocompleteData(){this.listInfo=this.translate.instant("lang.noAvailableValue"),this.filteredOptions=this.myControl.valueChanges.pipe(Object(r.a)(""),Object(c.a)(t=>this._filter(t)))}initAutocompleteRoute(){this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(l.a)(300),Object(d.a)(t=>t.length>2),Object(h.a)(()=>this.loading=!0),Object(u.a)(t=>this.getDatas(t)),Object(h.a)(t=>{this.listInfo=0===t.length?void 0!==this.manageDatas?this.translate.instant("lang.noAvailableValue")+" <div>"+this.translate.instant("lang.typeEnterToCreate")+"</div>":this.translate.instant("lang.noAvailableValue"):"",this.options=t,this.filteredOptions=Object(a.a)(this.options),this.loading=!1})).subscribe()}getDatas(t){const e=[],n=[];return this.routeDatas.forEach(n=>{e.push(this.http.get(".."+n,{params:{search:t}}))}),Object(o.a)(e).pipe(Object(c.a)(t=>(t.forEach(t=>{t.forEach(t=>{n.push(t)})}),n)))}selectOpt(t){this.singleMode?this.myControl.setValue(t.option.value[this.key]):void 0!==this.controlAutocomplete&&this.setFormValue(t.option.value),void 0!==this.selectedOpt&&(this.resetAutocomplete(),this.autoCompleteInput.nativeElement.blur(),this.selectedOpt.emit(t.option.value))}initFormValue(){this.controlAutocomplete.value.forEach(t=>{this.http.get(".."+this.manageDatas+"/"+t).pipe(Object(h.a)(t=>{for(var e in t)this.valuesToDisplay[t[e].id]=t[e].label})).subscribe()})}setFormValue(t){if(-1===this.controlAutocomplete.value.indexOf(t.id)){let e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push(t.id),this.valuesToDisplay[t.id]=t[this.key],this.controlAutocomplete.setValue(e)}}resetAutocomplete(){!1===this.singleMode&&this.myControl.setValue(""),void 0!==this.routeDatas&&(this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo"))}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.options.filter(t=>this.latinisePipe.transform(t[this.key].toLowerCase()).includes(e))}return this.options}unsetValue(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}removeItem(t){const e=this.controlAutocomplete.value;e.splice(t,1),this.controlAutocomplete.setValue(e)}addItem(){if(void 0!==this.manageDatas){const t={};t[this.key]=this.myControl.value,this.dialogRef=this.dialog.open(m.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:"Voulez-vous cr\xe9er cet \xe9l\xe9ment <b>"+t[this.key]+"</b>&nbsp;?"}}),this.dialogRef.afterClosed().pipe(Object(d.a)(t=>"ok"===t),Object(p.a)(()=>this.http.post(".."+this.manageDatas,{label:t[this.key]})),Object(h.a)(e=>{for(var n in e)t.id=e[n];this.setFormValue(t),this.notify.success(this.translate.instant("lang.elementAdded"))}),Object(f.a)(t=>(this.notify.handleErrors(t),Object(a.a)(!1)))).subscribe()}}getValue(){return this.myControl.value}resetValue(){return this.myControl.setValue("")}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(g.e),s.Tb(b.b),s.Tb(_.a),s.Tb(v.b),s.Tb(y.c))},t.\u0275cmp=s.Nb({type:t,selectors:[["plugin-autocomplete"]],viewQuery:function(t,e){var n;1&t&&s.Oc(T,!0),2&t&&s.Cc(n=s.ic())&&(e.autoCompleteInput=n.first)},inputs:{size:"size",singleMode:"singleMode",appearance:"appearance",required:"required",options:["datas","options"],routeDatas:"routeDatas",placeholder:["labelPlaceholder","placeholder"],optGroupLabel:["labelList","optGroupLabel"],key:["targetSearchKey","key"],subInfoKey:"subInfoKey",controlAutocomplete:["control","controlAutocomplete"],manageDatas:"manageDatas"},outputs:{selectedOpt:"triggerEvent"},decls:14,vars:15,consts:[["type","hidden",3,"formControl",4,"ngIf"],["floatLabel","never",3,"appearance"],[4,"ngIf"],["color","primary","class","fa fa-search","matPrefix","",4,"ngIf"],["type","text","id","autoCompleteInput","aria-label","Number","matInput","",3,"placeholder","formControl","matAutocomplete","required","click","focus","keyup.enter"],["autoCompleteInput",""],["type","button","matSuffix","","mat-icon-button","","color","warn",3,"click",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["type","hidden",3,"formControl"],["color","primary","matPrefix","",1,"fa","fa-search"],["type","button","matSuffix","","mat-icon-button","","color","warn",3,"click"],["color","warn",1,"fa","fa-times",3,"title"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","primary",3,"class",4,"ngIf"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked"],["class","activeListAutocomplete","color","default",3,"removable","removed",4,"ngFor","ngForOf"],["class","noResult",4,"ngIf"],["color","default",1,"activeListAutocomplete",3,"removable","removed"],[2,"display","flex","flex","1",3,"innerHTML"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){if(1&t&&(s.Zb(0,"form"),s.Qc(1,A,1,1,"input",0),s.Zb(2,"mat-form-field",1),s.Qc(3,D,2,1,"mat-label",2),s.Qc(4,R,1,0,"mat-icon",3),s.Zb(5,"input",4,5),s.hc("click",(function(t){return t.stopPropagation()}))("focus",(function(){return e.resetAutocomplete()}))("keyup.enter",(function(){return e.addItem()})),s.Yb(),s.Qc(7,L,2,1,"button",6),s.Zb(8,"mat-autocomplete",7,8),s.hc("optionSelected",(function(t){return e.selectOpt(t)})),s.Qc(10,Y,4,6,"ng-container",2),s.Qc(11,Z,1,1,"mat-option",9),s.Qc(12,N,2,0,"mat-option",10),s.Yb(),s.Yb(),s.Qc(13,z,4,2,"ng-container",2),s.Yb()),2&t){const t=s.Dc(9);s.Eb(1),s.sc("ngIf",void 0!==e.controlAutocomplete),s.Eb(1),s.Jb("smallInput","small"===e.size),s.sc("appearance",e.appearance),s.Eb(1),s.sc("ngIf",e.singleMode),s.Eb(1),s.sc("ngIf","small"!==e.size&&e.myControl.enabled&&!e.singleMode),s.Eb(1),s.sc("placeholder",e.singleMode?"":e.placeholder)("formControl",e.myControl)("matAutocomplete",t)("required",e.required),s.Eb(2),s.sc("ngIf",e.myControl.disabled),s.Eb(3),s.sc("ngIf",e.options.length>0&&!e.loading),s.Eb(1),s.sc("ngIf",0===e.options.length&&!e.loading),s.Eb(1),s.sc("ngIf",e.loading),s.Eb(1),s.sc("ngIf",void 0!==e.controlAutocomplete)}},directives:[i.J,i.u,i.v,x.t,w.c,C.b,i.c,O.d,i.t,i.i,i.E,O.a,w.g,k.a,w.i,S.b,w.j,x.s,E.o,M.c,I.d,I.a,I.e],pipes:[P.a,x.b,g.d],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px} .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#135f7f} .mat-form-field-prefix{top:0!important}.mat-option[_ngcontent-%COMP%]    .mat-option-text{align-items:center;display:flex}.mat-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:110%;font-weight:700}.autcompleteIcon[_ngcontent-%COMP%]{width:20px;display:flex;align-items:center}.smallInput[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle}.input-form[_ngcontent-%COMP%]    .mat-form-field-prefix{left:15px}.activeListAutocomplete[_ngcontent-%COMP%]{font-size:13px;height:auto}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.autoCompleteInfoResult[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},"6Psc":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("XNiG"),s=n("LRne"),a=n("vkgz"),o=n("nYR2"),r=n("JIr8"),c=n("fXoL"),l=n("sYmb"),d=n("tk/3"),h=n("0IaG"),u=n("AXEc"),p=n("tyNb");let f=(()=>{class t{constructor(t,e,n,s,a){this.translate=t,this.http=e,this.dialog=n,this.notify=s,this.router=a,this.loading=!0,this.pinnedFolders=[],this.folders=[],this.currentFolder={id:0},this.eventAction=new i.a}ngOnInit(){}initFolder(){this.currentFolder={id:0}}catchEvent(){return this.eventAction.asObservable()}setEvent(t){return this.eventAction.next(t)}goToFolder(t){this.setFolder(t),this.router.navigate(["/folders/"+t.id])}setFolder(t){this.currentFolder=t,this.eventAction.next(t)}getCurrentFolder(){return this.currentFolder}getFolders(){this.http.get("../rest/folders").pipe(Object(a.a)(t=>{this.folders=t.folders,this.eventAction.next({type:"initTree",content:""})}),Object(o.a)(()=>this.loading=!1),Object(r.a)(t=>(this.notify.handleErrors(t),Object(s.a)(!1)))).subscribe()}getList(){return this.folders}getPinnedFolders(){this.loading=!0,this.http.get("../rest/pinnedFolders").pipe(Object(a.a)(t=>{this.pinnedFolders=t.folders}),Object(o.a)(()=>this.loading=!1),Object(r.a)(t=>(this.notify.handleErrors(t),Object(s.a)(!1)))).subscribe()}setFolders(t){this.folders=t}getPinnedList(){return this.pinnedFolders}pinFolder(t){this.http.post(`../rest/folders/${t.id}/pin`,{}).pipe(Object(a.a)(()=>{this.getPinnedFolders(),this.eventAction.next({type:"refreshFolderPinned",content:{id:t.id,pinned:!0}}),this.notify.success(this.translate.instant("lang.folderPinned"))}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(s.a)(!1)))).subscribe()}unpinFolder(t){this.http.delete(`../rest/folders/${t.id}/unpin`).pipe(Object(a.a)(()=>{this.getPinnedFolders(),this.eventAction.next({type:"refreshFolderPinned",content:{id:t.id,pinned:!1}}),this.notify.success(this.translate.instant("lang.folderUnpinned"))}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(s.a)(!1)))).subscribe()}getDragIds(){const t=this.folders.map(t=>"treefolder-list-"+t.id);return this.pinnedFolders.map(t=>"folder-list-"+t.id).concat(t)}classifyDocument(t,e){this.http.post(`../rest/folders/${e.id}/resources`,{resources:[t.item.data.resId]}).pipe(Object(a.a)(t=>{void 0!==this.pinnedFolders.filter(t=>t.id===e.id)[0]&&(this.pinnedFolders.filter(t=>t.id===e.id)[0].countResources=t.countResources),this.eventAction.next({type:"refreshFolderCount",content:{id:e.id,countResources:t.countResources}})}),Object(a.a)(()=>{this.notify.success(this.translate.instant("lang.mailClassified")),this.eventAction.next({type:"function",content:"refreshDao"})}),Object(o.a)(()=>e.drag=!1),Object(r.a)(t=>(this.notify.handleErrors(t),Object(s.a)(!1)))).subscribe()}getLoader(){return this.loading}}return t.\u0275fac=function(e){return new(e||t)(c.dc(l.e),c.dc(d.b),c.dc(h.b),c.dc(u.a),c.dc(p.c))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac}),t})()},"6eB1":function(t,e,n){"use strict";var i=n("Q1FS"),s=n("nzqU"),a=n("QtHX"),o=n("zzsZ");e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,c=t[t.length-1];return s.isScheduler(c)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof i.Observable?t[0]:a.mergeAll(n)(o.fromArray(t,r))}},"6qA3":function(t,e,n){"use strict";var i=n("OAkW"),s=n("Z5tI"),a=n("poJ0"),o=n("ozli"),r=n("yRPT"),c=n("90cg"),l=n("GMZp"),d=n("VKeD"),h=n("zfKp");e.subscribeTo=function(t){if(t&&"function"==typeof t[h.observable])return o.subscribeToObservable(t);if(r.isArrayLike(t))return i.subscribeToArray(t);if(c.isPromise(t))return s.subscribeToPromise(t);if(t&&"function"==typeof t[d.iterator])return a.subscribeToIterable(t);var e=l.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"7+OI":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC");function s(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},"7EHt":function(t,e,n){"use strict";n.d(e,"a",(function(){return V})),n.d(e,"b",(function(){return Q})),n.d(e,"c",(function(){return Z})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return F})),n.d(e,"f",(function(){return B})),n.d(e,"g",(function(){return U})),n.d(e,"h",(function(){return z}));var i=n("fXoL"),s=n("8LU1"),a=n("XNiG"),o=n("quSY"),r=n("0EQZ");let c=0,l=(()=>{class t{constructor(){this._stateChanges=new a.a,this._openCloseAllActions=new a.a,this.id="cdk-accordion-"+c++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Object(s.c)(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[i.Cb]}),t})(),d=0,h=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=o.a.EMPTY,this.closed=new i.o,this.opened=new i.o,this.destroyed=new i.o,this.expandedChange=new i.o,this.id="cdk-accordion-child-"+d++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Object(s.c)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(s.c)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l,12),i.Tb(i.h),i.Tb(r.d))},t.\u0275dir=i.Ob({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[i.Db([{provide:l,useValue:void 0}])]}),t})(),u=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})();var p=n("+rOU"),f=n("ofXK"),m=n("u47x"),g=n("FtGj"),b=n("/uUt"),_=n("JX91"),v=n("pLZG"),y=n("IzEk"),x=n("EY2u"),w=n("VRyK"),C=n("R0Ic"),O=n("R1ws");const k=["body"];function S(t,e){}const E=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],M=["mat-expansion-panel-header","*","mat-action-row"],I=function(t,e){return{collapsedHeight:t,expandedHeight:e}},P=function(t,e){return{value:t,params:e}};function T(t,e){if(1&t&&i.Ub(0,"span",2),2&t){const t=i.lc();i.sc("@indicatorRotate",t._getExpandedState())}}const A=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],D=["mat-panel-title","mat-panel-description","*"],R=new i.r("MAT_ACCORDION"),L={indicatorRotate:Object(C.n)("indicatorRotate",[Object(C.k)("collapsed, void",Object(C.l)({transform:"rotate(0deg)"})),Object(C.k)("expanded",Object(C.l)({transform:"rotate(180deg)"})),Object(C.m)("expanded <=> collapsed, void => collapsed",Object(C.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(C.n)("expansionHeight",[Object(C.k)("collapsed, void",Object(C.l)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(C.k)("expanded",Object(C.l)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(C.m)("expanded <=> collapsed, void => collapsed",Object(C.g)([Object(C.i)("@indicatorRotate",Object(C.f)(),{optional:!0}),Object(C.e)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(C.n)("bodyExpansion",[Object(C.k)("collapsed, void",Object(C.l)({height:"0px",visibility:"hidden"})),Object(C.k)("expanded",Object(C.l)({height:"*",visibility:"visible"})),Object(C.m)("expanded <=> collapsed, void => collapsed",Object(C.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let F=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.O))},t.\u0275dir=i.Ob({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),j=0;const Y=new i.r("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Z=(()=>{class t extends h{constructor(t,e,n,s,o,r,c){super(t,e,n),this._viewContainerRef=s,this._animationMode=r,this._hideToggle=!1,this.afterExpand=new i.o,this.afterCollapse=new i.o,this._inputChanges=new a.a,this._headerId="mat-expansion-panel-header-"+j++,this._bodyAnimationDone=new a.a,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe(Object(b.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Object(s.c)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(_.a)(null),Object(v.a)(()=>this.expanded&&!this._portal),Object(y.a)(1)).subscribe(()=>{this._portal=new p.j(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(R,12),i.Tb(i.h),i.Tb(r.d),i.Tb(i.R),i.Tb(f.e),i.Tb(O.a,8),i.Tb(Y,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var s;1&t&&i.Lb(n,F,!0),2&t&&i.Cc(s=i.ic())&&(e._lazyContent=s.first)},viewQuery:function(t,e){var n;1&t&&i.ad(k,!0),2&t&&i.Cc(n=i.ic())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&i.Jb("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[i.Db([{provide:R,useValue:void 0}]),i.Bb,i.Cb],ngContentSelectors:M,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(i.rc(E),i.qc(0),i.Zb(1,"div",0,1),i.hc("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),i.Zb(3,"div",2),i.qc(4,1),i.Qc(5,S,0,0,"ng-template",3),i.Yb(),i.qc(6,2),i.Yb()),2&t&&(i.Eb(1),i.sc("@bodyExpansion",e._getExpandedState())("id",e.id),i.Fb("aria-labelledby",e._headerId),i.Eb(4),i.sc("cdkPortalOutlet",e._portal))},directives:[p.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[L.bodyExpansion]},changeDetection:0}),t})(),N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),t})(),U=(()=>{class t{constructor(t,e,n,i,s){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=o.a.EMPTY,this._animationsDisabled=!0;const a=t.accordion?t.accordion._stateChanges.pipe(Object(v.a)(t=>!(!t.hideToggle&&!t.togglePosition))):x.a;this._parentChangeSubscription=Object(w.a)(t.opened,t.closed,a,t._inputChanges.pipe(Object(v.a)(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Object(v.a)(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case g.q:case g.g:Object(g.v)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(Z,1),i.Tb(i.l),i.Tb(m.h),i.Tb(i.h),i.Tb(Y,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(i.Kb("@expansionHeight.start",(function(){return e._animationStarted()})),i.hc("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(i.Fb("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),i.Zc("@.disabled",e._animationsDisabled)("@expansionHeight",i.Ac(16,P,e._getExpandedState(),i.Ac(13,I,e.collapsedHeight,e.expandedHeight))),i.Jb("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:D,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(i.rc(A),i.Zb(0,"span",0),i.qc(1),i.qc(2,1),i.qc(3,2),i.Yb(),i.Qc(4,T,1,1,"span",1)),2&t&&(i.Eb(4),i.sc("ngIf",e._showToggle()))},directives:[f.t],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[L.indicatorRotate,L.expansionHeaderHeight]},changeDetection:0}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),V=(()=>{class t extends l{constructor(){super(...arguments),this._ownHeaders=new i.G,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Object(s.c)(t)}ngAfterContentInit(){this._headers.changes.pipe(Object(_.a)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new m.g(this._ownHeaders).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;e===g.j?Object(g.v)(t)||(n.setFirstItemActive(),t.preventDefault()):e===g.f?Object(g.v)(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return H(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var s;1&t&&i.Lb(n,U,!0),2&t&&i.Cc(s=i.ic())&&(e._headers=s)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&i.Jb("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[i.Db([{provide:R,useExisting:t}]),i.Bb]}),t})();const H=i.bc(V);let Q=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[f.c,u,p.i]]}),t})()},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));let i=1;const s=(()=>Promise.resolve())(),a={};function o(t){return t in a&&(delete a[t],!0)}const r={setImmediate(t){const e=i++;return a[e]=!0,s.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=r.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(r.clearImmediate(e),t.scheduled=void 0)}}var d=n("IjjT");class h extends d.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,s=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,n){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw n}}}const u=new h(l)},"7RJT":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("ds6q"),a=n("Mxlh");e.BehaviorSubject=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(s.Subject)},"7gPu":function(t,e,n){"use strict";n.d(e,"a",(function(){return Y}));var i=n("3Pt+"),s=n("LRne"),a=n("vkgz"),o=n("JIr8"),r=n("Kj3r"),c=n("pLZG"),l=n("/uUt"),d=n("eIep"),h=n("fXoL"),u=n("sYmb"),p=n("tk/3"),f=n("AXEc"),m=n("0IaG"),g=n("ofXK"),b=n("kmnG"),_=n("bTqV"),v=n("STbY"),y=n("qFsG"),x=n("/1cH"),w=n("FKr1"),C=n("Xa2L"),O=n("A5z7"),k=n("NFeN"),S=n("1YbM");const E=["autoCompleteInput"];function M(t,e){if(1&t){const t=h.ac();h.Zb(0,"button",17),h.hc("click",(function(){h.Hc(t);const n=e.$implicit;return h.lc(2).addressBANCurrentDepartment=n})),h.Zb(1,"span"),h.Sc(2),h.Yb(),h.Yb()}if(2&t){const t=e.$implicit;h.Eb(2),h.Tc(t)}}function I(t,e){if(1&t&&(h.Zb(0,"mat-option",19),h.Zb(1,"span",20),h.Sc(2),h.Yb(),h.Yb()),2&t){const t=e.$implicit,n=h.lc(3);h.sc("value",t)("title",t[n.key]),h.Eb(2),h.Tc(t[n.key])}}function P(t,e){if(1&t&&(h.Xb(0),h.Qc(1,I,3,3,"mat-option",18),h.mc(2,"sortBy"),h.mc(3,"async"),h.Wb()),2&t){const t=h.lc(2);h.Eb(1),h.sc("ngForOf",h.oc(2,1,h.nc(3,4,t.filteredOptions),t.key))}}function T(t,e){if(1&t&&h.Ub(0,"mat-option",21),2&t){const t=h.lc(2);h.sc("innerHTML",t.listInfo,h.Ic)}}function A(t,e){1&t&&(h.Zb(0,"mat-option",22),h.Ub(1,"mat-spinner",23),h.Yb())}function D(t,e){if(1&t){const t=h.ac();h.Zb(0,"mat-form-field",5),h.Zb(1,"button",6),h.hc("click",(function(e){return h.Hc(t),e.stopPropagation()})),h.Sc(2),h.Ub(3,"i",7),h.Yb(),h.Zb(4,"mat-menu",null,8),h.Qc(6,M,3,1,"button",9),h.Yb(),h.Zb(7,"input",10,11),h.hc("click",(function(e){return h.Hc(t),e.stopPropagation()}))("focus",(function(){return h.Hc(t),h.lc().resetAutocomplete()})),h.Yb(),h.Zb(9,"mat-autocomplete",12,13),h.hc("optionSelected",(function(e){return h.Hc(t),h.lc().selectOpt(e)})),h.Qc(11,P,4,6,"ng-container",14),h.Qc(12,T,1,1,"mat-option",15),h.Qc(13,A,2,0,"mat-option",16),h.Yb(),h.Yb()}if(2&t){const t=h.Dc(5),e=h.Dc(10),n=h.lc();h.Eb(1),h.sc("matMenuTriggerFor",t)("disabled",n.adminMode),h.Eb(1),h.Uc(" ",n.addressBANCurrentDepartment," "),h.Eb(4),h.sc("ngForOf",n.departmentList),h.Eb(1),h.sc("placeholder",n.translate.instant("lang.searchAddressBan"))("formControl",n.myControl)("matAutocomplete",e),h.Eb(4),h.sc("ngIf",n.options.length>0&&!n.loading),h.Eb(1),h.sc("ngIf",0===n.options.length&&!n.loading),h.Eb(1),h.sc("ngIf",n.loading)}}function R(t,e){1&t&&h.Ub(0,"mat-icon",29)}function L(t,e){if(1&t){const t=h.ac();h.Zb(0,"mat-chip",26),h.hc("removed",(function(){h.Hc(t);const n=e.index;return h.lc(2).removeItem(n)})),h.Zb(1,"span",27),h.hc("click",(function(){h.Hc(t);const n=e.$implicit;return h.lc(2).goTo(n)})),h.Sc(2),h.Yb(),h.Qc(3,R,1,0,"mat-icon",28),h.Yb()}if(2&t){const t=e.$implicit,n=h.lc(2);h.sc("removable",!n.controlAutocomplete.disabled),h.Eb(1),h.sc("title",n.valuesToDisplay[t.id]),h.Eb(1),h.Uc(" ",n.valuesToDisplay[t.id]," "),h.Eb(1),h.sc("ngIf",!n.controlAutocomplete.disabled)}}function F(t,e){if(1&t&&(h.Zb(0,"mat-chip-list",24),h.Qc(1,L,4,4,"mat-chip",25),h.Yb()),2&t){const t=h.lc();h.Eb(1),h.sc("ngForOf",t.controlAutocomplete.value)}}function j(t,e){1&t&&(h.Zb(0,"div",30),h.Sc(1),h.mc(2,"translate"),h.Yb()),2&t&&(h.Eb(1),h.Uc(" ",h.nc(2,1,"lang.noSelectedAddress")," "))}let Y=(()=>{class t{constructor(t,e,n,s){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.loading=!1,this.key="address",this.canAdd=!0,this.myControl=new i.h,this.valuesToDisplay={},this.addressBANCurrentDepartment="75",this.departmentList=[]}ngOnInit(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.initFormValue(),this.adminMode||this.initBanSearch(),this.initAutocompleteRoute()}initBanSearch(){this.http.get("../rest/ban/availableDepartments").pipe(Object(a.a)(t=>{null!==t.default&&-1!==t.departments.indexOf(t.default.toString())&&(this.addressBANCurrentDepartment=t.default),this.departmentList=t.departments}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(s.a)(!1)))).subscribe()}initAutocompleteRoute(){this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(r.a)(300),Object(c.a)(t=>t.length>2),Object(l.a)(),Object(a.a)(()=>this.loading=!0),Object(d.a)(t=>this.getDatas(t)),Object(a.a)(t=>{this.listInfo=0===t.length?this.translate.instant("lang.noAvailableValue"):"",this.options=t,this.filteredOptions=Object(s.a)(this.options),this.loading=!1})).subscribe()}getDatas(t){return this.http.get("../rest/autocomplete/banAddresses",{params:{address:t,department:this.addressBANCurrentDepartment}})}selectOpt(t){this.setFormValue({id:t.option.value.banId,addressNumber:t.option.value.number,addressStreet:t.option.value.afnorName,addressPostcode:t.option.value.postalCode,addressTown:t.option.value.city,longitude:t.option.value.lon,latitude:t.option.value.lat}),this.myControl.setValue("")}initFormValue(){this.controlAutocomplete.value.forEach(t=>{this.valuesToDisplay[t.id]=`${t.addressNumber} ${t.addressStreet}, ${t.addressTown} (${t.addressPostcode})`})}setFormValue(t){this.valuesToDisplay[t.id]=`${t.addressNumber} ${t.addressStreet}, ${t.addressTown} (${t.addressPostcode})`,this.controlAutocomplete.setValue([t])}resetAutocomplete(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}unsetValue(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}removeItem(t){let e=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(e)}goTo(t){window.open(`https://www.google.com/maps/search/${t.latitude},${t.longitude}`,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(u.e),h.Tb(p.b),h.Tb(f.a),h.Tb(m.b))},t.\u0275cmp=h.Nb({type:t,selectors:[["app-address-ban-input"]],viewQuery:function(t,e){var n;1&t&&h.Oc(E,!0),2&t&&h.Cc(n=h.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"],adminMode:["admin","adminMode"]},decls:6,vars:4,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form depList",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form","depList"],["mat-button","","matPrefix","",3,"matMenuTriggerFor","disabled","click"],[1,"fas","fa-angle-down"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked","itemChip"],["class","activeListAutocomplete","style","height:auto;","color","default",3,"removable","removed",4,"ngFor","ngForOf"],["color","default",1,"activeListAutocomplete",2,"height","auto",3,"removable","removed"],[2,"display","flex","flex","1","align-items","center","cursor","pointer",3,"title","click"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(h.Zb(0,"form"),h.Ub(1,"input",0),h.Qc(2,D,14,10,"mat-form-field",1),h.Zb(3,"div",2),h.Qc(4,F,2,1,"mat-chip-list",3),h.Qc(5,j,3,3,"div",4),h.Yb(),h.Yb()),2&t&&(h.Eb(1),h.sc("formControl",e.controlAutocomplete),h.Eb(1),h.sc("ngIf",!e.controlAutocomplete.disabled),h.Eb(2),h.sc("ngIf",e.controlAutocomplete.value.length>0),h.Eb(1),h.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[i.J,i.u,i.v,i.c,i.t,i.i,g.t,b.c,_.b,b.i,v.d,v.e,g.s,y.b,x.d,x.a,v.b,w.o,C.c,O.d,O.a,k.a,O.e],pipes:[S.a,g.b,u.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#fff;background-color:#1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}.depList[_ngcontent-%COMP%]    .mat-form-field-infix{margin-left:-20px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("n6bG"),s=n("gRHU"),a=n("quSY"),o=n("2QA8"),r=n("2fFW"),c=n("NJ4a");class l extends a.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.a;break;case 1:if(!t){this.destination=s.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new d(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new d(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class d extends l{constructor(t,e,n,a){let o;super(),this._parentSubscriber=t;let r=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,a=e.complete,e!==s.a&&(r=Object.create(e),Object(i.a)(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=o,this._error=n,this._complete=a}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;r.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=r.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);r.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),r.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!r.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return r.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"87bG":function(t,e,n){"use strict";n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return x}));var i=n("mrSG"),s=n("LRne"),a=n("lJxs"),o=n("JIr8"),r=n("pLZG"),c=n("vkgz"),l=n("XqQ8"),d=n("fXoL"),h=n("sYmb"),u=n("tk/3"),p=n("tyNb"),f=n("uqn4"),m=n("5cI5"),g=n("rH+9"),b=n("4zkx"),_=n("eiH7"),v=n("0IaG");let y=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c){this.translate=t,this.http=e,this.router=n,this.authService=i,this.localStorage=s,this.functionService=a,this.headerService=o,this.privilegeService=r,this.dialog=c}canActivate(t,e){const n=e.url.replace(/^\/+|\/+$/g,"").split("/");console.log("== ROUTE GUARD =="),this.headerService.resetSideNavSelection();let i=this.authService.getToken();return null!==i?(this.functionService.debug("Token trouv\xe9 !",t.url.join("/")),this.authService.setUrl(t.url.join("/")),void 0===this.headerService.user.id?(console.log("R\xe9cup\xe9ration donn\xe9es user..."),this.http.get("../rest/currentUser/profile").pipe(Object(a.a)(e=>(this.headerService.user={mode:e.mode,id:e.id,status:e.status,userId:e.user_id,firstname:e.firstname,lastname:e.lastname,entities:e.entities,groups:e.groups,preferences:e.preferences,privileges:"ALL_PRIVILEGES"===e.privileges[0]?this.privilegeService.getAllPrivileges():e.privileges},this.functionService.debug("",t.url.join("/")),this.headerService.nbResourcesFollowed=e.nbFollowedResources,this.privilegeService.resfreshUserShortcuts(),"ABS"===this.headerService.user.status?this.router.navigate(["/activate-user"]):(this.headerService.hideSideBar=n.filter(t=>["signatureBook","content"].indexOf(t)>-1).length>0,this.headerService.sideBarAdmin=n.filter(t=>"administration"===t).length>0||n.filter(t=>"profile"===t).length>0,!0))),Object(o.a)(t=>(console.log(t),"User must change his password"===t.error.errors?this.router.navigate(["/password-modification"]):Object(s.a)(!1))))):(console.log("Donn\xe9es user trouv\xe9es !"),"ABS"===this.headerService.user.status?(this.router.navigate(["/activate-user"]),Object(s.a)(!1)):(this.headerService.hideSideBar=n.filter(t=>["signatureBook","content"].indexOf(t)>-1).length>0,this.headerService.sideBarAdmin=n.filter(t=>"administration"===t).length>0||n.filter(t=>"profile"===t).length>0,Object(s.a)(!0)))):(console.log("Aucun token trouv\xe9 ! Recup\xe9ration du token ..."),this.http.get("../rest/authenticationInformations").pipe(Object(a.a)(n=>(this.authService.setAppSession(n.instanceId),this.authService.changeKey=n.changeKey,this.localStorage.setAppSession(n.instanceId),i=this.authService.getToken(),null!==i?(this.authService.setUrl(t.url.join("/")),this.functionService.debug("",t.url.join("/")),this.authService.setEvent("authenticationInformations"),i):(this.authService.setCachedUrl(e.url.replace(/^\//g,"")),console.log("Aucun token trouv\xe9 ! Redirection sur login ..."),this.authService.logout(!1),!1))),Object(r.a)(t=>null!==t),Object(c.a)(()=>console.log("R\xe9cup\xe9ration donn\xe9es user...")),Object(l.a)(()=>this.http.get("../rest/currentUser/profile")),Object(a.a)(e=>(this.headerService.user={mode:e.mode,id:e.id,status:e.status,userId:e.user_id,firstname:e.firstname,lastname:e.lastname,entities:e.entities,groups:e.groups,preferences:e.preferences,privileges:"ALL_PRIVILEGES"===e.privileges[0]?this.privilegeService.getAllPrivileges():e.privileges},this.functionService.debug("",t.url.join("/")),this.headerService.nbResourcesFollowed=e.nbFollowedResources,this.privilegeService.resfreshUserShortcuts(),"ABS"===this.headerService.user.status?this.router.navigate(["/activate-user"]):(this.headerService.hideSideBar=n.filter(t=>["signatureBook","content"].indexOf(t)>-1).length>0,this.headerService.sideBarAdmin=n.filter(t=>"administration"===t).length>0||n.filter(t=>"profile"===t).length>0,!0))),Object(o.a)(t=>(console.log(t),"User must change his password"===t.error.errors?this.router.navigate(["/password-modification"]):(this.authService.logout(),Object(s.a)(!1))))))}}return t.\u0275fac=function(e){return new(e||t)(d.dc(h.e),d.dc(u.b),d.dc(p.c),d.dc(f.a),d.dc(m.a),d.dc(g.a),d.dc(b.a),d.dc(_.a),d.dc(v.b))},t.\u0275prov=d.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),x=(()=>{class t{constructor(t){this.translate=t}canDeactivate(t,e,n,s){return Object(i.a)(this,void 0,void 0,(function*(){return(t.isToolModified()&&!t.isModalOpen()||void 0!==t.appDocumentViewer&&t.appDocumentViewer.isEditingTemplate())&&confirm(this.translate.instant("lang.saveModifiedData"))&&(yield t.saveModificationBeforeClose()),!0}))}}return t.\u0275fac=function(e){return new(e||t)(d.dc(h.e))},t.\u0275prov=d.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"8IW6":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL"),s=n("sYmb"),a=n("rH+9");let o=(()=>{class t{constructor(t,e){this.translate=t,this.functions=e}transform(t){if(this.functions.empty(t))return"";{const e=new Date(t),n={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return this.translate.instant("lang.onRange")[0].toUpperCase()+this.translate.instant("lang.onRange").substr(1).toLowerCase()+" "+e.toLocaleDateString(this.translate.instant("lang.langISO"),n)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.Tb(a.a))},t.\u0275pipe=i.Sb({name:"fullDate",type:t,pure:!1}),t})()},"8LU1":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return a}));var i=n("fXoL");function s(t){return null!=t&&""+t!="false"}function a(t,e=0){return o(t)?Number(t):e}function o(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function r(t){return Array.isArray(t)?t:[t]}function c(t){return null==t?"":"string"==typeof t?t:t+"px"}function l(t){return t instanceof i.l?t.nativeElement:t}},"8N1J":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),s=n("aEDk");let a=(()=>{class t{constructor(t){this.latinisePipe=t}transform(t,e,n){if(void 0!==n){let i=e.toLocaleLowerCase();return i?t.filter(t=>-1!=this.latinisePipe.transform(t[n].toLocaleLowerCase()).indexOf(this.latinisePipe.transform(i))):t}console.log("Init filter failed for values : "),console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.c))},t.\u0275pipe=i.Sb({name:"filterList",type:t,pure:!0}),t})()},"8yBR":function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return k})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return w}));var i=n("FvrZ"),s=n("FKr1"),a=n("8LU1"),o=n("0EQZ"),r=n("2Vo4"),c=n("VRyK"),l=n("IzEk"),d=n("lJxs"),h=n("fXoL");const u=Object(s.E)(Object(s.B)(i.e));let p=(()=>{class t extends u{constructor(t,e,n){super(t,e),this._elementRef=t,this._tree=e,this.role="treeitem",this.tabIndex=Number(n)||0}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.l),h.Tb(i.c),h.ec("tabindex"))},t.\u0275dir=h.Ob({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(t,e){2&t&&h.Fb("aria-expanded",e.isExpanded)("aria-level","treeitem"===e.role?e.level:null)("role",e.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[h.Db([{provide:i.e,useExisting:t}]),h.Bb]}),t})(),f=(()=>{class t extends i.f{}return t.\u0275fac=function(e){return m(e||t)},t.\u0275dir=h.Ob({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[h.Db([{provide:i.f,useExisting:t}]),h.Bb]}),t})();const m=h.bc(f);let g=(()=>{class t extends i.b{constructor(t,e,n,i){super(t,e,n),this._elementRef=t,this._tree=e,this._differs=n,this._disabled=!1,this.tabIndex=Number(i)||0}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(a.c)(t)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:0}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.l),h.Tb(i.c),h.Tb(h.u),h.ec("tabindex"))},t.\u0275dir=h.Ob({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("aria-expanded",e.isExpanded)("role",e.role)},inputs:{tabIndex:"tabIndex",disabled:"disabled",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[h.Db([{provide:i.b,useExisting:t},{provide:i.e,useExisting:t},{provide:i.a,useExisting:t}]),h.Bb]}),t})(),b=(()=>{class t extends i.h{}return t.\u0275fac=function(e){return _(e||t)},t.\u0275dir=h.Ob({type:t,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[h.Db([{provide:i.h,useExisting:t}]),h.Bb]}),t})();const _=h.bc(b);let v=(()=>{class t{constructor(t,e){this.viewContainer=t,this._node=e}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.R),h.Tb(i.a,8))},t.\u0275dir=h.Ob({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[h.Db([{provide:i.g,useExisting:t}])]}),t})(),y=(()=>{class t extends i.c{}return t.\u0275fac=function(e){return x(e||t)},t.\u0275cmp=h.Nb({type:t,selectors:[["mat-tree"]],viewQuery:function(t,e){var n;1&t&&h.Oc(v,!0),2&t&&h.Cc(n=h.ic())&&(e._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[h.Db([{provide:i.c,useExisting:t}]),h.Bb],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,e){1&t&&h.Vb(0,0)},directives:[v],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;min-height:48px;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),t})();const x=h.bc(y);let w=(()=>{class t extends i.i{constructor(){super(...arguments),this.recursive=!1}}return t.\u0275fac=function(e){return C(e||t)},t.\u0275dir=h.Ob({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[h.Db([{provide:i.i,useExisting:t}]),h.Bb]}),t})();const C=h.bc(w);let O=(()=>{class t{}return t.\u0275mod=h.Rb({type:t}),t.\u0275inj=h.Qb({factory:function(e){return new(e||t)},imports:[[i.d,s.j],s.j]}),t})();class k{constructor(t,e,n,i){this.transformFunction=t,this.getLevel=e,this.isExpandable=n,this.getChildren=i}_flattenNode(t,e,n,i){const s=this.transformFunction(t,e);if(n.push(s),this.isExpandable(s)){const s=this.getChildren(t);s&&(Array.isArray(s)?this._flattenChildren(s,e,n,i):s.pipe(Object(l.a)(1)).subscribe(t=>{this._flattenChildren(t,e,n,i)}))}return n}_flattenChildren(t,e,n,i){t.forEach((s,a)=>{let o=i.slice();o.push(a!=t.length-1),this._flattenNode(s,e+1,n,o)})}flattenNodes(t){let e=[];return t.forEach(t=>this._flattenNode(t,0,e,[])),e}expandFlattenedNodes(t,e){let n=[],i=[];return i[0]=!0,t.forEach(t=>{let s=!0;for(let e=0;e<=this.getLevel(t);e++)s=s&&i[e];s&&n.push(t),this.isExpandable(t)&&(i[this.getLevel(t)+1]=e.isExpanded(t))}),n}}class S extends o.b{constructor(t,e,n=[]){super(),this._treeControl=t,this._treeFlattener=e,this._flattenedData=new r.a([]),this._expandedData=new r.a([]),this._data=new r.a(n)}get data(){return this._data.value}set data(t){this._data.next(t),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(t){const e=[t.viewChange,this._treeControl.expansionModel.changed,this._flattenedData];return Object(c.a)(...e).pipe(Object(d.a)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}class E extends o.b{constructor(){super(...arguments),this._data=new r.a([])}get data(){return this._data.value}set data(t){this._data.next(t)}connect(t){return Object(c.a)(t.viewChange,this._data).pipe(Object(d.a)(()=>this.data))}disconnect(){}}},"90cg":function(t,e,n){"use strict";e.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},"9AGB":function(t,e,n){"use strict";var i=n("yoF8");function s(t){return 0===t.length?i.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)},e.pipeFromArray=s},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},A5z7:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return A})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return F}));var i=n("FtGj"),s=n("fXoL"),a=n("FKr1"),o=n("ofXK"),r=n("8LU1"),c=n("XNiG"),l=n("VRyK"),d=n("IzEk"),h=n("1G5W"),u=n("JX91"),p=n("R1ws"),f=n("u47x"),m=n("0EQZ"),g=n("kmnG"),b=n("nLfN"),_=n("cH1L"),v=n("3Pt+");const y=["*"];class x{constructor(t){this._elementRef=t}}const w=Object(a.E)(Object(a.z)(Object(a.A)(x),"primary"),-1);let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),t})(),k=(()=>{class t extends w{constructor(t,e,n,i,o,r,l,d){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=r,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new c.a,this._onBlur=new c.a,this.selectionChange=new s.o,this.destroyed=new s.o,this.removed=new s.o,this._addHostClassName(),this._chipRippleTarget=(d||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new a.w(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=i||{},this._animationsDisabled="NoopAnimations"===o,this.tabIndex=null!=l&&parseInt(l)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=Object(r.c)(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Object(r.c)(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=Object(r.c)(t)}get removable(){return this._removable}set removable(t){this._removable=Object(r.c)(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case i.d:case i.b:this.remove(),t.preventDefault();break;case i.q:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(Object(d.a)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.B),s.Tb(b.a),s.Tb(a.i,8),s.Tb(p.a,8),s.Tb(s.h),s.ec("tabindex"),s.Tb(o.e,8))},t.\u0275dir=s.Ob({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(s.Lb(n,C,!0),s.Lb(n,O,!0),s.Lb(n,S,!0)),2&t&&(s.Cc(i=s.ic())&&(e.avatar=i.first),s.Cc(i=s.ic())&&(e.trailingIcon=i.first),s.Cc(i=s.ic())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&s.hc("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(s.Fb("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),s.Jb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.Bb]}),t})(),S=(()=>{class t{constructor(t,e){this._parentChip=t,e&&"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(k),s.Tb(s.l))},t.\u0275dir=s.Ob({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&s.hc("click",(function(t){return e._handleClick(t)}))}}),t})();const E=new s.r("mat-chips-default-options");class M{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const I=Object(a.C)(M);let P=0;class T{constructor(t,e){this.source=t,this.value=e}}let A=(()=>{class t extends I{constructor(t,e,n,i,a,o,r){super(o,i,a,r),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=r,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new c.a,this._uid="mat-chip-list-"+P++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new s.o,this.valueChange=new s.o,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(r.c)(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Object(r.c)(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(r.c)(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=Object(r.c)(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(l.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(l.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(l.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(l.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new f.g(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(h.a)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Object(h.a)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Object(u.a)(null),Object(h.a)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new m.c(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;t.keyCode===i.b&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(t.keyCode===i.j?(this._keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===i.f?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new T(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(_.c,8),s.Tb(v.v,8),s.Tb(v.l,8),s.Tb(a.d),s.Tb(v.s,10))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;1&t&&s.Lb(n,k,!0),2&t&&s.Cc(i=s.ic())&&(e.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&s.hc("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(s.cc("id",e._uid),s.Fb("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),s.Jb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s.Db([{provide:g.d,useExisting:t}]),s.Bb],ngContentSelectors:y,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(s.rc(),s.Zb(0,"div",0),s.qc(1),s.Yb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),D=0,R=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new s.o,this.placeholder="",this.id="mat-chip-list-input-"+D++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=Object(r.c)(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=Object(r.c)(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&t.keyCode===i.r&&!Object(i.v)(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(Object(i.v)(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(E))},t.\u0275dir=s.Ob({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&s.hc("keydown",(function(t){return e._keydown(t)}))("blur",(function(){return e._blur()}))("focus",(function(){return e._focus()}))("input",(function(){return e._onInput()})),2&t&&(s.cc("id",e.id),s.Fb("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.Cb]}),t})();const L={separatorKeyCodes:[i.g]};let F=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},providers:[a.d,{provide:E,useValue:L}]}),t})()},A6w4:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("pWCv"),s=n("nYR2"),a=n("JIr8"),o=n("I65S"),r=n("SIQe"),c=n("fXoL"),l=n("sYmb"),d=n("tk/3"),h=n("AXEc"),u=n("uqn4"),p=n("0IaG");let f=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.authService=i,this.dialog=s,this.screenWidth=1920}getViewMode(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.screenWidth<=768}setScreenWidth(t){this.screenWidth=t}applyMinorUpdate(){return $("body").append('<div id="updateLoading" style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width: 200px;text-align: center;"><img src="assets/spinner.gif"></div>'),new Promise(t=>{this.http.put("../rest/versionsUpdateSQL",{}).pipe(Object(i.tap)(e=>{t(!0),$("#updateLoading").remove()}),Object(s.a)(()=>$("#updateLoading").remove()),Object(a.a)(e=>(this.notify.handleSoftErrors(e),t(!0),Object(o.of)(!1)))).subscribe()})}checkAppSecurity(){this.authService.catchEvent().subscribe(t=>{"authenticationInformations"===t&&this.authService.changeKey&&setTimeout(()=>{this.dialog.open(r.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{mode:"danger",title:this.translate.instant("lang.warnPrivateKeyTitle"),msg:this.translate.instant("lang.warnPrivateKey")}})},1e3)})}}return t.\u0275fac=function(e){return new(e||t)(c.dc(l.e),c.dc(d.b),c.dc(h.a),c.dc(u.a),c.dc(p.b))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},AXEc:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("dNgK"),s=n("fXoL"),a=n("sYmb"),o=n("tyNb");let r=(()=>{class t{constructor(t){this.data=t}dismiss(){this.data.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(i.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["custom-snackbar"]],decls:7,vars:5,consts:[[1,"notif-container",3,"click"],[1,"notif-container-icon"],[1,"notif-container-content"],[1,"notif-container-content-msg"],[3,"innerHTML"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.hc("click",(function(){return e.dismiss()})),s.Zb(1,"div",1),s.Ub(2,"i"),s.Yb(),s.Zb(3,"div",2),s.Zb(4,"div",3),s.Ub(5,"div",4),s.Ub(6,"div",4),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.Hb("fa fa-",e.data.icon," fa-2x"),s.Eb(3),s.sc("innerHTML",e.data.url,s.Ic),s.Eb(1),s.sc("innerHTML",e.data.message,s.Ic))},styles:[".notif-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:25px;padding-bottom:25px;cursor:pointer}.notif-container-icon[_ngcontent-%COMP%]{display:flex;width:50px;justify-content:center}.notif-container-content[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}.notif-container-content-msg[_ngcontent-%COMP%]{display:flex;flex-direction:column} .mat-snack-bar-container.error-snackbar{color:#8e3e52;background:#fff;border:1px solid #8e3e52} .mat-snack-bar-container.success-snackbar{color:#135f7f;background:#fff;border:1px solid #135f7f}"]}),t})(),c=(()=>{class t{constructor(t,e,n){this.translate=t,this.router=e,this.snackBar=n}success(t){const e=this.getMessageDuration(t,2e3),n=this.snackBar.openFromComponent(r,{duration:e,panelClass:"success-snackbar",verticalPosition:"top",data:{message:t,icon:"info-circle",close:()=>{n.dismiss()}}})}error(t,e=null){const n=this.getMessageDuration(t,4e3),i=this.snackBar.openFromComponent(r,{duration:n,panelClass:"error-snackbar",verticalPosition:"top",data:{url:e,message:t,icon:"exclamation-triangle",close:()=>{i.dismiss()}}})}handleErrors(t){console.log(t),0===t.status&&"Unknown Error"===t.statusText?this.error(this.translate.instant("lang.connectionFailed")):void 0!==t.error?void 0!==t.error.errors?(void 0!==t.error.lang?this.error(this.translate.instant("lang."+t.error.lang)):"Document out of perimeter"===t.error.errors||"Resource out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentOutOfPerimeter")):"Resources out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentsOutOfPerimeter")):this.error(t.error.errors,t.url),403!==t.status&&404!==t.status||this.router.navigate(["/home"])):this.error(void 0!==t.error.exception?t.error.exception[0].message:void 0!==t.error.error?t.error.error.message:`${t.status} : ${t.statusText}`,t.url):this.error(t)}handleSoftErrors(t){console.log(t),void 0!==t.error?void 0!==t.error.errors?void 0!==t.error.lang?this.error(this.translate.instant("lang."+t.error.lang)):"Document out of perimeter"===t.error.errors||"Resource out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentOutOfPerimeter")):"Resources out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentsOutOfPerimeter")):this.error(t.error.errors,t.url):this.error(void 0!==t.error.exception?t.error.exception[0].message:void 0!==t.error.error?t.error.error.message:`${t.status} : ${t.statusText}`,t.url):this.error(t)}getMessageDuration(t,e){const n=t.length/25*1e3;return n<e?e:n>1e4?1e4:n}}return t.\u0275fac=function(e){return new(e||t)(s.dc(a.e),s.dc(o.c),s.dc(i.b))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})()},"B/XX":function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return _}));var i=n("u47x"),s=n("cH1L"),a=n("8LU1"),o=n("FtGj"),r=n("ofXK"),c=n("fXoL"),l=n("XNiG"),d=n("LRne"),h=n("JX91"),u=n("1G5W");function p(t,e){1&t&&c.qc(0)}const f=["*"];let m=(()=>{class t{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(c.l))},t.\u0275dir=c.Ob({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t})(),g=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(c.O))},t.\u0275dir=c.Ob({type:t,selectors:[["","cdkStepLabel",""]]}),t})(),b=0;const _=new c.r("STEPPER_GLOBAL_OPTIONS");let v=(()=>{class t{constructor(t,e){this._stepper=t,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(t){this._editable=Object(a.c)(t)}get optional(){return this._optional}set optional(t){this._optional=Object(a.c)(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=Object(a.c)(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=Object(a.c)(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(Object(c.W)(()=>y)),c.Tb(_,8))},t.\u0275cmp=c.Nb({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,n){var i;1&t&&c.Lb(n,g,!0),2&t&&c.Cc(i=c.ic())&&(e.stepLabel=i.first)},viewQuery:function(t,e){var n;1&t&&c.Oc(c.O,!0),2&t&&c.Cc(n=c.ic())&&(e.content=n.first)},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[c.Cb],ngContentSelectors:f,decls:1,vars:0,template:function(t,e){1&t&&(c.rc(),c.Qc(0,p,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),y=(()=>{class t{constructor(t,e,n,i){this._dir=t,this._changeDetectorRef=e,this._elementRef=n,this._destroyed=new l.a,this._linear=!1,this._selectedIndex=0,this.selectionChange=new c.o,this._orientation="horizontal",this._groupId=b++,this._document=i}get steps(){return this._steps}get linear(){return this._linear}set linear(t){this._linear=Object(a.c)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const e=Object(a.f)(t);if(this.steps){if(e<0||e>this.steps.length-1)throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this._selectedIndex!=e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=this.steps?this.steps.toArray().indexOf(t):-1}ngAfterViewInit(){this._keyManager=new i.g(this._stepHeader).withWrap().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(d.a)()).pipe(Object(h.a)(this._layoutDirection()),Object(u.a)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.pipe(Object(u.a)(this._destroyed)).subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,e="number"){const n=this.steps.toArray()[t],i=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,i):this._getGuidelineLogic(n,i,e)}_getDefaultIndicatorLogic(t,e){return t._showError&&t.hasError&&!e?"error":!t.completed||e?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,e,n="number"){return t._showError&&t.hasError&&!e?"error":t.completed&&!e?"done":t.completed&&e?n:t.editable&&e?"edit":n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const e=Object(o.v)(t),n=t.keyCode,i=this._keyManager;null==i.activeItemIndex||e||n!==o.q&&n!==o.g?n===o.j?(i.setFirstItemActive(),t.preventDefault()):n===o.f?(i.setLastItemActive(),t.preventDefault()):i.onKeydown(t):(this.selectedIndex=i.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){const e=this.steps.toArray();return e[this._selectedIndex].interacted=!0,!!(this._linear&&t>=0)&&e.slice(0,t).some(t=>{const e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){if(!this._document||!this._elementRef)return!1;const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(s.c,8),c.Tb(c.h),c.Tb(c.l),c.Tb(r.e))},t.\u0275dir=c.Ob({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,n){var i;1&t&&(c.Lb(n,v,!0),c.Lb(n,m,!0)),2&t&&(c.Cc(i=c.ic())&&(e._steps=i),c.Cc(i=c.ic())&&(e._stepHeader=i))},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t})(),x=(()=>{class t{constructor(t){this._stepper=t,this.type="submit"}_handleClick(){this._stepper.next()}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(y))},t.\u0275dir=c.Ob({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&c.hc("click",(function(){return e._handleClick()})),2&t&&c.cc("type",e.type)},inputs:{type:"type"}}),t})(),w=(()=>{class t{constructor(t){this._stepper=t,this.type="button"}_handleClick(){this._stepper.previous()}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(y))},t.\u0275dir=c.Ob({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&c.hc("click",(function(){return e._handleClick()})),2&t&&c.cc("type",e.type)},inputs:{type:"type"}}),t})(),C=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},imports:[[s.a]]}),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("HDdC"),s=n("SeVD"),a=n("quSY"),o=n("kJWO"),r=n("jZKg"),c=n("Lhse"),l=n("c2HN"),d=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(n=>{const i=new a.a;return i.add(e.schedule(()=>{const s=t[o.a]();i.add(s.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a(n=>{const i=new a.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(d.a)(t))return Object(r.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new a.a;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(e.schedule(()=>{s=t[c.a](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=s.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(s.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("3N8a");const s=new(n("IjjT").a)(i.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},Dh3D:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return k}));var i=n("fXoL"),s=n("8LU1"),a=n("FKr1"),o=n("XNiG"),r=n("VRyK"),c=n("R0Ic"),l=n("ofXK"),d=n("u47x");const h=["mat-sort-header",""];function u(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",3),i.hc("@arrowPosition.start",(function(){return i.Hc(t),i.lc()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return i.Hc(t),i.lc()._disableViewStateAnimation=!1})),i.Ub(1,"div",4),i.Zb(2,"div",5),i.Ub(3,"div",6),i.Ub(4,"div",7),i.Ub(5,"div",8),i.Yb(),i.Yb()}if(2&t){const t=i.lc();i.sc("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),i.Eb(2),i.sc("@indicator",t._getArrowDirectionState()),i.Eb(1),i.sc("@leftPointer",t._getArrowDirectionState()),i.Eb(1),i.sc("@rightPointer",t._getArrowDirectionState())}}const p=["*"];class f{}const m=Object(a.D)(Object(a.B)(f));let g=(()=>{class t extends m{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new o.a,this.start="asc",this._direction="",this.sortChange=new i.o}get direction(){return this._direction}set direction(t){if(Object(i.Y)()&&t&&"asc"!==t&&"desc"!==t)throw function(t){return Error(t+" is not a valid sort direction ('asc' or 'desc').")}(t);this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(s.c)(t)}register(t){if(!t.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(t.id))throw Error(`Cannot have two MatSortables with the same id (${t.id}).`);this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return b(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[i.Bb,i.Cb]}),t})();const b=i.bc(g),_=a.b.ENTERING+" "+a.a.STANDARD_CURVE,v={indicator:Object(c.n)("indicator",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"translateY(0px)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"translateY(10px)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(_))]),leftPointer:Object(c.n)("leftPointer",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"rotate(-45deg)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"rotate(45deg)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(_))]),rightPointer:Object(c.n)("rightPointer",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"rotate(45deg)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"rotate(-45deg)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(_))]),arrowOpacity:Object(c.n)("arrowOpacity",[Object(c.k)("desc-to-active, asc-to-active, active",Object(c.l)({opacity:1})),Object(c.k)("desc-to-hint, asc-to-hint, hint",Object(c.l)({opacity:.54})),Object(c.k)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Object(c.l)({opacity:0})),Object(c.m)("* => asc, * => desc, * => active, * => hint, * => void",Object(c.e)("0ms")),Object(c.m)("* <=> *",Object(c.e)(_))]),arrowPosition:Object(c.n)("arrowPosition",[Object(c.m)("* => desc-to-hint, * => desc-to-active",Object(c.e)(_,Object(c.h)([Object(c.l)({transform:"translateY(-25%)"}),Object(c.l)({transform:"translateY(0)"})]))),Object(c.m)("* => hint-to-desc, * => active-to-desc",Object(c.e)(_,Object(c.h)([Object(c.l)({transform:"translateY(0)"}),Object(c.l)({transform:"translateY(25%)"})]))),Object(c.m)("* => asc-to-hint, * => asc-to-active",Object(c.e)(_,Object(c.h)([Object(c.l)({transform:"translateY(25%)"}),Object(c.l)({transform:"translateY(0)"})]))),Object(c.m)("* => hint-to-asc, * => active-to-asc",Object(c.e)(_,Object(c.h)([Object(c.l)({transform:"translateY(0)"}),Object(c.l)({transform:"translateY(-25%)"})]))),Object(c.k)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Object(c.l)({transform:"translateY(0)"})),Object(c.k)("hint-to-desc, active-to-desc, desc",Object(c.l)({transform:"translateY(-25%)"})),Object(c.k)("hint-to-asc, active-to-asc, asc",Object(c.l)({transform:"translateY(25%)"}))]),allowChildren:Object(c.n)("allowChildren",[Object(c.m)("* <=> *",[Object(c.i)("@*",Object(c.f)(),{optional:!0})])])};let y=(()=>{class t{constructor(){this.changes=new o.a,this.sortButtonLabel=t=>"Change sorting for "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const x={provide:y,deps:[[new i.C,new i.M,y]],useFactory:function(t){return t||new y}};class w{}const C=Object(a.B)(w);let O=(()=>{class t extends C{constructor(t,e,n,i,s,a){if(super(),this._intl=t,this._sort=n,this._columnDef=i,this._focusMonitor=s,this._elementRef=a,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",!n)throw Error("MatSortHeader must be placed within a parent element with the MatSort directive.");this._rerenderSubscription=Object(r.a)(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()}),s&&a&&s.monitor(a,!0).subscribe(t=>this._setIndicatorHintVisible(!!t))}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(s.c)(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngOnDestroy(){this._focusMonitor&&this._elementRef&&this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_handleClick(){if(this._isDisabled())return;this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?t+"-to-":"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":null}_renderArrow(){return!this._isDisabled()||this._isSorted()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(y),i.Tb(i.h),i.Tb(g,8),i.Tb("MAT_SORT_HEADER_COLUMN_DEF",8),i.Tb(d.h),i.Tb(i.l))},t.\u0275cmp=i.Nb({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&i.hc("click",(function(){return e._handleClick()}))("mouseenter",(function(){return e._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return e._setIndicatorHintVisible(!1)})),2&t&&(i.Fb("aria-sort",e._getAriaSortAttribute()),i.Jb("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[i.Bb],attrs:h,ngContentSelectors:p,decls:4,vars:7,consts:[[1,"mat-sort-header-container"],["type","button",1,"mat-sort-header-button","mat-focus-indicator"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(i.rc(),i.Zb(0,"div",0),i.Zb(1,"button",1),i.qc(2),i.Yb(),i.Qc(3,u,6,6,"div",2),i.Yb()),2&t&&(i.Jb("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),i.Eb(1),i.Fb("disabled",e._isDisabled()||null)("aria-label",e._intl.sortButtonLabel(e.id)),i.Eb(2),i.sc("ngIf",e._renderArrow()))},directives:[l.t],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor;position:relative}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-button,[mat-sort-header].cdk-program-focused .mat-sort-header-button{border-bottom:solid 1px currentColor}.mat-sort-header-button::-moz-focus-inner{border:0}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[v.indicator,v.leftPointer,v.rightPointer,v.arrowOpacity,v.arrowPosition,v.allowChildren]},changeDetection:0}),t})(),k=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[x],imports:[[l.c]]}),t})()},EBtg:function(t,e,n){"use strict";var i=n("2KeD"),s=n("n73p"),a=n("2qMH"),o=n("LJ/p"),r=n("HZF8"),c=n("90cg"),l=n("yRPT"),d=n("0alx");e.scheduled=function(t,e){if(null!=t){if(r.isInteropObservable(t))return i.scheduleObservable(t,e);if(c.isPromise(t))return s.schedulePromise(t,e);if(l.isArrayLike(t))return a.scheduleArray(t,e);if(d.isIterable(t)||"string"==typeof t)return o.scheduleIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var i=n("HDdC");const s=new i.a(t=>t.complete());function a(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):s}},F8Z3:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n("mLrj"),s=n("fXoL"),a=n("sYmb"),o=n("tk/3"),r=n("tyNb"),c=n("0IaG"),l=n("uqn4"),d=n("A6w4"),h=n("4zkx"),u=n("rH+9"),p=n("eiH7"),f=n("ofXK"),m=n("STbY"),g=n("MutI"),b=n("f0Cb"),_=n("kmnG"),v=n("qFsG"),y=n("bTqV"),x=n("NFeN"),w=n("Qu3c"),C=n("FKr1"),O=n("1YbM");const k=["searchInput"];function S(t,e){1&t&&(s.Zb(0,"button",34),s.Ub(1,"mat-icon",35),s.Yb())}function E(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-form-field",30),s.Zb(1,"input",31,32),s.hc("blur",(function(){s.Hc(t);const e=s.lc(2);return e.hideSearch=!e.hideSearch})),s.mc(3,"translate"),s.mc(4,"translate"),s.Yb(),s.Qc(5,S,2,0,"button",33),s.Yb()}if(2&t){const t=s.lc(2);s.Eb(1),s.tc("title",s.nc(3,3,"lang.searchMails")),s.tc("placeholder",s.nc(4,5,"lang.searchMails")),s.Eb(4),s.sc("ngIf",!t.appService.getViewMode())}}function M(t,e){if(1&t&&(s.Zb(0,"form",23),s.Ub(1,"input",24),s.Ub(2,"input",25),s.Ub(3,"input",26),s.Qc(4,E,6,7,"mat-form-field",27),s.Ub(5,"input",28,29),s.Yb()),2&t){const t=s.lc();s.Eb(4),s.sc("ngIf",t.privilegeService.hasCurrentUserPrivilege("adv_search_mlb"))}}function I(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",36),s.hc("click",(function(){return s.Hc(t),s.lc().showSearchInput()})),s.mc(1,"translate"),s.mc(2,"translate"),s.Ub(3,"mat-icon",35),s.Yb()}2&t&&s.vc("title","",s.nc(1,2,"lang.quickSearchInfo")," : ",s.nc(2,4,"lang.quickSearchTarget"),"")}function P(t,e){if(1&t&&(s.Zb(0,"button",37),s.mc(1,"translate"),s.Ub(2,"mat-icon",38),s.Yb()),2&t){s.lc();const t=s.Dc(5);s.tc("matTooltip",s.nc(1,2,"lang.menu")),s.sc("matMenuTriggerFor",t)}}function T(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"button",39),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc().gotToMenu(n)})),s.mc(2,"translate"),s.Ub(3,"i"),s.Ub(4,"br"),s.Sc(5),s.mc(6,"translate"),s.Yb(),s.Wb()}if(2&t){const t=e.$implicit;s.Eb(1),s.tc("matTooltip",s.nc(2,5,t.comment)),s.Eb(2),s.Hb("",t.style," fa-2x"),s.Eb(2),s.Uc("",s.nc(6,7,t.label)," ")}}function A(t,e){1&t&&(s.Zb(0,"div",40),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.noAvailableMenu")," "))}function D(t,e){if(1&t&&(s.Zb(0,"button",41),s.Ub(1,"mat-icon",42),s.Zb(2,"span"),s.Sc(3),s.mc(4,"titlecase"),s.Yb(),s.Sc(5,"\xa0"),s.Zb(6,"b"),s.Sc(7),s.mc(8,"uppercase"),s.Yb(),s.Yb()),2&t){const t=s.lc(),e=s.Dc(12);s.sc("matMenuTriggerFor",e),s.Eb(3),s.Tc(s.nc(4,3,t.headerService.user.firstname)),s.Eb(4),s.Tc(s.nc(8,5,t.headerService.user.lastname))}}function R(t,e){if(1&t&&(s.Zb(0,"button",43),s.Ub(1,"mat-icon",44),s.Yb()),2&t){s.lc();const t=s.Dc(12);s.sc("matMenuTriggerFor",t)}}function L(t,e){if(1&t&&(s.Zb(0,"mat-list-item"),s.Zb(1,"p",45),s.Sc(2),s.Yb(),s.Yb()),2&t){const t=e.$implicit;s.Eb(2),s.Uc(" ",t.group_desc," ")}}function F(t,e){if(1&t&&(s.Zb(0,"mat-list-item"),s.Zb(1,"p",45),s.Sc(2),s.Yb(),s.Yb()),2&t){const t=e.$implicit;s.Eb(2),s.Uc(" ",t.entity_label," ")}}let j=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c){this.translate=t,this.http=e,this.router=n,this.dialog=i,this.authService=s,this.appService=a,this.headerService=o,this.functions=r,this.privilegeService=c,this.config={},this.menus=[],this.hideSearch=!0}ngOnInit(){this.menus=this.privilegeService.getCurrentUserMenus()}gotToMenu(t){"indexing"===t.id&&t.groups.length>1?(this.config={panelClass:"maarch-modal",data:{indexingGroups:t.groups,link:t.route}},this.dialogRef=this.dialog.open(i.a,this.config)):!0===t.angular?this.router.navigate([t.route]):location.href=t.route}showSearchInput(){this.hideSearch=!this.hideSearch,setTimeout(()=>{this.searchInput.focus()},200)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(o.b),s.Tb(r.c),s.Tb(c.b),s.Tb(l.a),s.Tb(d.a),s.Tb(h.a),s.Tb(u.a),s.Tb(p.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["header-right"]],viewQuery:function(t,e){var n;1&t&&s.ad(k,!0),2&t&&s.Cc(n=s.ic())&&(e.searchInput=n.first)},decls:42,vars:35,consts:[[1,"bg-head-title-tool"],["ngNoForm","","style","height: 40px;","name","choose_query","id","choose_query","method","post","action","index.php?display=true&dir=indexing_searching&page=search_adv_result",4,"ngIf"],["mat-icon-button","","style","opacity:0.5;",3,"title","click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip",4,"ngIf"],[1,"headerMaarchShortcut"],["applications","matMenu"],[4,"ngFor","ngForOf"],["class","noAvailableMenu",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[1,"headerMaarch"],["menu","matMenu"],["width","250","height","70",1,"header-bg",2,"margin-top","-8px","background-size","cover","border-bottom","solid 1px white"],["routerLink","/profile",2,"cursor","pointer","z-index","1","color","white","position","absolute","left","85px","top","17px","width","70px","height","70px","background-size","cover","background-position","top center","border-radius","50%","border","solid white","background-color","white",3,"title"],[1,"content",2,"padding-top","20px","color","white","max-height","250px","overflow-y","auto","overflow-x","hidden"],["routerLink","/profile",1,"text-center",2,"cursor","pointer"],["mat-subheader","",2,"color","white"],[2,"display","flex","padding","5px"],[2,"text-align","left","flex","1"],["routerLink","/profile",2,"color","white","padding-left","10px"],["color","primary",1,"badge",2,"background","white"],[2,"text-align","right","flex","2"],[2,"cursor","pointer","color","white","padding-right","10px",3,"click"],["ngNoForm","","name","choose_query","id","choose_query","method","post","action","index.php?display=true&dir=indexing_searching&page=search_adv_result",2,"height","40px"],["type","hidden","name","meta[]","value","baskets_clause#baskets_clause#select_simple"],["type","hidden","name","meta[]","value","welcome#welcome#welcome"],["type","hidden","name","baskets_clause","value","true"],["floatLabel","never","style","width:100%;margin-top: -3px;margin-left:-13px;font-size: 12px;",4,"ngIf"],["type","submit","name","submit","value","",2,"display","none"],["searchHome",""],["floatLabel","never",2,"width","100%","margin-top","-3px","margin-left","-13px","font-size","12px"],["matInput","","type","text","name","welcome",3,"title","placeholder","blur"],["searchInput","matInput"],["mat-icon-button","","matSuffix","","style","opacity:0.5;",4,"ngIf"],["mat-icon-button","","matSuffix","",2,"opacity","0.5"],[1,"fa","fa-search",2,"font-size","22px"],["mat-icon-button","",2,"opacity","0.5",3,"title","click"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip"],[1,"fa","fa-th",2,"font-size","22px"],["mat-button","","color","primary",1,"col-md-4","col-xs-6",2,"white-space","inherit","height","100px","line-height","20px",3,"matTooltip","click"],[1,"noAvailableMenu"],["mat-button","",3,"matMenuTriggerFor"],["mat-list-icon","",1,"fa","fa-user","fa-2x",2,"color","white","margin","0px 12px 8px 0px"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-list-icon","",1,"fa","fa-user","fa-2x",2,"color","white","height","auto"],["mat-line","",2,"color","white","opacity","0.5"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Qc(1,M,7,1,"form",1),s.Qc(2,I,4,6,"button",2),s.Qc(3,P,3,4,"button",3),s.Zb(4,"mat-menu",4,5),s.Qc(6,T,7,9,"ng-container",6),s.mc(7,"sortBy"),s.Qc(8,A,3,3,"div",7),s.Yb(),s.Qc(9,D,9,7,"button",8),s.Qc(10,R,2,1,"button",9),s.Zb(11,"mat-menu",10,11),s.Ub(13,"canvas",12),s.Ub(14,"i",13),s.mc(15,"translate"),s.Zb(16,"div",14),s.Zb(17,"p",15),s.Sc(18),s.mc(19,"uppercase"),s.Yb(),s.Zb(20,"mat-list"),s.Zb(21,"h3",16),s.Sc(22),s.mc(23,"translate"),s.Yb(),s.Ub(24,"mat-divider"),s.Qc(25,L,3,1,"mat-list-item",6),s.Zb(26,"h3",16),s.Sc(27),s.mc(28,"translate"),s.Yb(),s.Ub(29,"mat-divider"),s.Qc(30,F,3,1,"mat-list-item",6),s.Yb(),s.Yb(),s.Zb(31,"div",17),s.Zb(32,"div",18),s.Zb(33,"a",19),s.Zb(34,"span",20),s.Sc(35),s.mc(36,"translate"),s.Yb(),s.Yb(),s.Yb(),s.Zb(37,"div",21),s.Zb(38,"a",22),s.hc("click",(function(){return e.authService.logout()})),s.Zb(39,"span",20),s.Sc(40),s.mc(41,"translate"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(1),s.sc("ngIf",!e.hideSearch),s.Eb(1),s.sc("ngIf",e.hideSearch&&e.privilegeService.hasCurrentUserPrivilege("adv_search_mlb")),s.Eb(1),s.sc("ngIf",!e.appService.getViewMode()),s.Eb(3),s.sc("ngForOf",s.oc(7,20,e.menus,"label")),s.Eb(2),s.sc("ngIf",e.functions.empty(e.menus)),s.Eb(1),s.sc("ngIf",!e.appService.getViewMode()),s.Eb(1),s.sc("ngIf",e.appService.getViewMode()),s.Eb(3),s.Pc("background-image","url(../rest/images?image=loginPage)",s.Mb),s.Eb(1),s.Pc("background-image","url(../rest/images?image=onlyLogo)",s.Mb),s.tc("title",s.nc(15,23,"lang.myProfileAccess")),s.Eb(4),s.Vc("",e.headerService.user.firstname," ",s.nc(19,25,e.headerService.user.lastname),""),s.Eb(4),s.Tc(s.nc(23,27,"lang.groups")),s.Eb(3),s.sc("ngForOf",e.headerService.user.groups),s.Eb(2),s.Tc(s.nc(28,29,"lang.entities")),s.Eb(3),s.sc("ngForOf",e.headerService.user.entities),s.Eb(5),s.Tc(s.nc(36,31,"lang.myProfile")),s.Eb(5),s.Tc(s.nc(41,33,"lang.logout")))},directives:[f.t,m.e,f.s,r.d,g.a,g.g,b.a,r.f,_.c,v.b,y.b,_.j,x.a,m.d,w.b,g.c,g.d,C.k],pipes:[O.a,a.d,f.G,f.F],styles:[".bg-head-title-tool[_ngcontent-%COMP%]{display:flex}.bg-head-title-tool[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{font-style:italic}.bg-head-title-tool[_ngcontent-%COMP%]     .mat-form-field-label{color:#fff;font-size:12px;opacity:.5}.noAvailableMenu[_ngcontent-%COMP%]{text-align:center;font-size:14px;opacity:.5;font-style:italic;padding:22px}"]}),t})()},FKr1:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return A})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return bt})),n.d(e,"h",(function(){return ut})),n.d(e,"i",(function(){return tt})),n.d(e,"j",(function(){return C})),n.d(e,"k",(function(){return V})),n.d(e,"l",(function(){return $})),n.d(e,"m",(function(){return B})),n.d(e,"n",(function(){return ct})),n.d(e,"o",(function(){return pt})),n.d(e,"p",(function(){return gt})),n.d(e,"q",(function(){return ht})),n.d(e,"r",(function(){return it})),n.d(e,"s",(function(){return st})),n.d(e,"t",(function(){return et})),n.d(e,"u",(function(){return nt})),n.d(e,"v",(function(){return Z})),n.d(e,"w",(function(){return K})),n.d(e,"x",(function(){return ft})),n.d(e,"y",(function(){return mt})),n.d(e,"z",(function(){return k})),n.d(e,"A",(function(){return S})),n.d(e,"B",(function(){return O})),n.d(e,"C",(function(){return M})),n.d(e,"D",(function(){return I})),n.d(e,"E",(function(){return E})),n.d(e,"F",(function(){return H}));var i=n("fXoL"),s=n("u47x"),a=n("cH1L");const o=new i.Q("9.2.4");var r=n("ofXK"),c=n("8LU1"),l=n("XNiG"),d=n("HDdC"),h=n("nLfN"),u=(n("jhN1"),n("JX91")),p=n("R1ws"),f=n("FtGj");const m=["*",[["mat-option"],["ng-container"]]],g=["*","mat-option, ng-container"];function b(t,e){if(1&t&&i.Ub(0,"mat-pseudo-checkbox",3),2&t){const t=i.lc();i.sc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const _=["*"];let v=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),y=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const x=new i.Q("9.2.4"),w=new i.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let C=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(i.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&x.full!==o.full&&console.warn("The Angular Material version ("+x.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)(i.dc(s.j),i.dc(w,8),i.dc(r.e,8))},imports:[[a.a],a.a]}),t})();function O(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(c.c)(t)}}}function k(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function S(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(c.c)(t)}}}function E(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function M(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new l.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function I(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new d.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const P=new i.r("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(i.X)(i.w)}});class T{constructor(){this._localeChanges=new l.a}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const A=new i.r("mat-date-formats");let D;try{D="undefined"!=typeof Intl}catch(_t){D=!1}const R={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},L=Y(31,t=>String(t+1)),F={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},j=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Y(t,e){const n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}let Z=(()=>{class t extends T{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(D){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Y(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return R[t]}getDateNames(){if(D){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Y(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return L}getDayOfWeekNames(t){if(D){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Y(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return F[t]}getYearName(t){if(D){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let i=this._createDateWithOverflow(t,e,n);if(i.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return i}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(D){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(j.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const i=new Date(t,e,n);return t>=0&&t<100&&i.setFullYear(this.getYear(i)-1900),i}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(P,8),i.dc(h.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),N=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:Z}],imports:[[h.b]]}),t})();const U={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let B=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[{provide:A,useValue:U}],imports:[[N]]}),t})(),z=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function H(t,e,n="mat"){t.changes.pipe(Object(u.a)(t)).subscribe(({length:t})=>{Q(e,n+"-2-line",!1),Q(e,n+"-3-line",!1),Q(e,n+"-multi-line",!1),2===t||3===t?Q(e,`${n}-${t}-line`,!0):t>3&&Q(e,n+"-multi-line",!0)})}function Q(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let $=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[C],C]}),t})();class W{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const G={enterDuration:450,exitDuration:400},q=Object(h.f)({passive:!0}),X=["mousedown","touchstart"],J=["mouseup","mouseleave","touchend","touchcancel"];class K{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Object(c.e)(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},G),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const a=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),s=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+s*s)}(t,e,i),o=t-i.left,r=e-i.top,c=s.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-a+"px",l.style.top=r-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const d=new W(this,l,n);return d.state=0,this._activeRipples.add(d),n.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const t=d===this._mostRecentTransientRipple;d.state=1,n.persistent||t&&this._isPointerDown||d.fadeOut()},c),d}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},G),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Object(c.e)(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(X))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(J),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Object(s.l)(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,q)})})}_removeTriggerEvents(){this._triggerElement&&(X.forEach(t=>{this._triggerElement.removeEventListener(t,this,q)}),this._pointerUpEventsRegistered&&J.forEach(t=>{this._triggerElement.removeEventListener(t,this,q)}))}}const tt=new i.r("mat-ripple-global-options");let et=(()=>{class t{constructor(t,e,n,i,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new K(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.B),i.Tb(h.a),i.Tb(tt,8),i.Tb(p.a,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Jb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),nt=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[C,h.b],C]}),t})(),it=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(p.a,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Jb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),st=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})();class at{}const ot=O(at);let rt=0,ct=(()=>{class t extends ot{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+rt++}}return t.\u0275fac=function(e){return lt(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Fb("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),i.Jb("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[i.Bb],ngContentSelectors:g,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(i.rc(m),i.Zb(0,"label",0),i.Sc(1),i.qc(2),i.Yb(),i.qc(3,1)),2&t&&(i.sc("id",e._labelId),i.Eb(1),i.Uc("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const lt=i.bc(ct);let dt=0;class ht{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const ut=new i.r("MAT_OPTION_PARENT_COMPONENT");let pt=(()=>{class t{constructor(t,e,n,s){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+dt++,this.onSelectionChange=new i.o,this._stateChanges=new l.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Object(c.c)(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==f.g&&t.keyCode!==f.q||Object(f.v)(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ht(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.h),i.Tb(ut,8),i.Tb(ct,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.hc("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(i.cc("id",e.id),i.Fb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Jb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:_,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(i.rc(),i.Qc(0,b,1,2,"mat-pseudo-checkbox",0),i.Zb(1,"span",1),i.qc(2),i.Yb(),i.Ub(3,"div",2)),2&t&&(i.sc("ngIf",e.multiple),i.Eb(3),i.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[r.t,et,it],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function ft(t,e,n){if(n.length){let i=e.toArray(),s=n.toArray(),a=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===s[a]&&a++;return a}return 0}function mt(t,e,n,i){const s=t*e;return s<n?s:s+e>n+i?Math.max(0,s-i+e):n}let gt=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[nt,r.c,st]]}),t})();const bt=new i.r("mat-label-global-options")},FWf1:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("pshJ"),a=n("GiSu"),o=n("zB/H"),r=n("p//D"),c=n("n3uD"),l=n("MkmW"),d=function(t){function e(n,i,s){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.empty;break;case 1:if(!n){o.destination=a.empty;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new h(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new h(o,n,i,s)}return o}return i(e,t),e.prototype[r.rxSubscriber]=function(){return this},e.create=function(t,n,i){var s=new e(t,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(o.Subscription);e.Subscriber=d;var h=function(t){function e(e,n,i,o){var r,c=t.call(this)||this;c._parentSubscriber=e;var l=c;return s.isFunction(n)?r=n:n&&(r=n.next,i=n.error,o=n.complete,n!==a.empty&&(l=Object.create(n),s.isFunction(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=r,c._error=i,c._complete=o,c}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(l.hostReportError(i),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(d);e.SafeSubscriber=h},FiyT:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();e.SubjectSubscription=function(t){function e(e,n){var i=t.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("zB/H").Subscription)},FtGj:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return u})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return w})),n.d(e,"q",(function(){return r})),n.d(e,"r",(function(){return s})),n.d(e,"s",(function(){return p})),n.d(e,"t",(function(){return x})),n.d(e,"u",(function(){return b})),n.d(e,"v",(function(){return O}));const i=8,s=9,a=13,o=27,r=32,c=33,l=34,d=35,h=36,u=37,p=38,f=39,m=40,g=46,b=48,_=57,v=59,y=65,x=90,w=186,C=188;function O(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},FvrZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return I})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return M})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return b}));var i=n("0EQZ"),s=n("7+OI"),a=n("XNiG"),o=n("2Vo4"),r=n("LRne"),c=n("IzEk"),l=n("pLZG"),d=n("1G5W"),h=n("fXoL"),u=n("8LU1"),p=n("u47x"),f=n("cH1L");class m{constructor(){this.expansionModel=new i.c(!0)}toggle(t){this.expansionModel.toggle(t)}expand(t){this.expansionModel.select(t)}collapse(t){this.expansionModel.deselect(t)}isExpanded(t){return this.expansionModel.isSelected(t)}toggleDescendants(t){this.expansionModel.isSelected(t)?this.collapseDescendants(t):this.expandDescendants(t)}collapseAll(){this.expansionModel.clear()}expandDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.select(...e)}collapseDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.deselect(...e)}}class g extends m{constructor(t,e){super(),this.getLevel=t,this.isExpandable=e}getDescendants(t){const e=[];for(let n=this.dataNodes.indexOf(t)+1;n<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[n]);n++)e.push(this.dataNodes[n]);return e}expandAll(){this.expansionModel.select(...this.dataNodes)}}class b extends m{constructor(t){super(),this.getChildren=t}expandAll(){this.expansionModel.clear();const t=this.dataNodes.reduce((t,e)=>[...t,...this.getDescendants(e),e],[]);this.expansionModel.select(...t)}getDescendants(t){const e=[];return this._getDescendants(e,t),e.splice(1)}_getDescendants(t,e){t.push(e);const n=this.getChildren(e);Array.isArray(n)?n.forEach(e=>this._getDescendants(t,e)):Object(s.a)(n)&&n.pipe(Object(c.a)(1),Object(l.a)(Boolean)).subscribe(e=>{for(const n of e)this._getDescendants(t,n)})}}const _=new h.r("CDK_TREE_NODE_OUTLET_NODE");let v=(()=>{class t{constructor(t,e){this.viewContainer=t,this._node=e}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.R),h.Tb(_,8))},t.\u0275dir=h.Ob({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class y{constructor(t){this.$implicit=t}}let x=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.O))},t.\u0275dir=h.Ob({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})();function w(){return Error("Could not find functions for nested/flat tree in tree control.")}let C=(()=>{class t{constructor(t,e){this._differs=t,this._changeDetectorRef=e,this._onDestroy=new a.a,this._levels=new Map,this.viewChange=new o.a({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}ngOnInit(){if(this._dataDiffer=this._differs.find([]).create(this.trackBy),!this.treeControl)throw Error("Could not find a tree control for the tree.")}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(t=>!t.when);if(t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;if(Object(i.e)(this._dataSource)?t=this._dataSource.connect(this):Object(s.a)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=Object(r.a)(this._dataSource)),!t)throw Error("A valid data source must be provided.");this._dataSubscription=t.pipe(Object(d.a)(this._onDestroy)).subscribe(t=>this.renderNodeChanges(t))}renderNodeChanges(t,e=this._dataDiffer,n=this._nodeOutlet.viewContainer,i){const s=e.diff(t);s&&(s.forEachOperation((e,s,a)=>{if(null==e.previousIndex)this.insertNode(t[a],a,n,i);else if(null==a)n.remove(s),this._levels.delete(e.item);else{const t=n.get(s);n.move(t,a)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,e){if(1===this._nodeDefs.length)return this._nodeDefs.first;const n=this._nodeDefs.find(n=>n.when&&n.when(e,t))||this._defaultNodeDef;if(!n)throw Error("Could not find a matching node definition for the provided node data.");return n}insertNode(t,e,n,i){const s=this._getNodeDef(t,e),a=new y(t);a.level=this.treeControl.getLevel?this.treeControl.getLevel(t):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(t,a.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(s.template,a,e),O.mostRecentTreeNode&&(O.mostRecentTreeNode.data=t)}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.u),h.Tb(h.h))},t.\u0275cmp=h.Nb({type:t,selectors:[["cdk-tree"]],contentQueries:function(t,e,n){var i;1&t&&h.Lb(n,x,!0),2&t&&h.Cc(i=h.ic())&&(e._nodeDefs=i)},viewQuery:function(t,e){var n;1&t&&h.Oc(v,!0),2&t&&h.Cc(n=h.ic())&&(e._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,e){1&t&&h.Vb(0,0)},directives:[v],encapsulation:2}),t})(),O=(()=>{class t{constructor(e,n){this._elementRef=e,this._tree=n,this._destroyed=new a.a,this._dataChanges=new a.a,this.role="treeitem",t.mostRecentTreeNode=this}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){if(this._tree.treeControl.isExpandable)this.role=this._tree.treeControl.isExpandable(this._data)?"group":"treeitem";else{if(!this._tree.treeControl.getChildren)throw w();const t=this._tree.treeControl.getChildren(this._data);Array.isArray(t)?this._setRoleFromChildren(t):Object(s.a)(t)&&t.pipe(Object(d.a)(this._destroyed)).subscribe(t=>this._setRoleFromChildren(t))}}_setRoleFromChildren(t){this.role=t&&t.length?"group":"treeitem"}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.l),h.Tb(C))},t.\u0275dir=h.Ob({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(t,e){2&t&&h.Fb("aria-expanded",e.isExpanded)("aria-level","treeitem"===e.role?e.level:null)("role",e.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t.mostRecentTreeNode=null,t})(),k=(()=>{class t extends O{constructor(t,e,n){super(t,e),this._elementRef=t,this._tree=e,this._differs=n}ngAfterContentInit(){if(this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),!this._tree.treeControl.getChildren)throw w();const t=this._tree.treeControl.getChildren(this.data);Array.isArray(t)?this.updateChildrenNodes(t):Object(s.a)(t)&&t.pipe(Object(d.a)(this._destroyed)).subscribe(t=>this.updateChildrenNodes(t)),this.nodeOutlet.changes.pipe(Object(d.a)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(t){const e=this._getNodeOutlet();t&&(this._children=t),e&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,e.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const t=this._getNodeOutlet();t&&(t.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const t=this.nodeOutlet;return t&&t.find(t=>!t._node||t._node===this)}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(h.l),h.Tb(C),h.Tb(h.u))},t.\u0275dir=h.Ob({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(t,e,n){var i;1&t&&h.Lb(n,v,!0),2&t&&h.Cc(i=h.ic())&&(e.nodeOutlet=i)},hostAttrs:[1,"cdk-tree-node","cdk-nested-tree-node"],hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("aria-expanded",e.isExpanded)("role",e.role)},exportAs:["cdkNestedTreeNode"],features:[h.Db([{provide:O,useExisting:t},{provide:_,useExisting:t}]),h.Bb]}),t})();const S=/([A-Za-z%]+)$/;let E=(()=>{class t{constructor(t,e,n,i,s){this._treeNode=t,this._tree=e,this._element=i,this._dir=s,this._destroyed=new a.a,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe(Object(d.a)(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(t){this._level=Object(u.f)(t,null),this._setPadding()}get indent(){return this._indent}set indent(t){let e=t,n="px";if("string"==typeof t){const i=t.split(S);e=i[0],n=i[1]||n}this.indentUnits=n,this._indent=Object(u.f)(e),this._setPadding()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,e=null==this._level?t:this._level;return"number"==typeof e?`${e*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const e=this._paddingIndent();if(e!==this._currentPadding||t){const t=this._element.nativeElement,n=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",i="paddingLeft"===n?"paddingRight":"paddingLeft";t.style[n]=e||"",t.style[i]="",this._currentPadding=e}}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(O),h.Tb(C),h.Tb(h.H),h.Tb(h.l),h.Tb(f.c,8))},t.\u0275dir=h.Ob({type:t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),t})(),M=(()=>{class t{constructor(t,e){this._tree=t,this._treeNode=e,this._recursive=!1}get recursive(){return this._recursive}set recursive(t){this._recursive=Object(u.c)(t)}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(C),h.Tb(O))},t.\u0275dir=h.Ob({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,e){1&t&&h.hc("click",(function(t){return e._toggle(t)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),I=(()=>{class t{}return t.\u0275mod=h.Rb({type:t}),t.\u0275inj=h.Qb({factory:function(e){return new(e||t)},providers:[p.h,x]}),t})()},GMZp:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},GU7r:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h}));var i=n("8LU1"),s=n("fXoL"),a=n("HDdC"),o=n("XNiG"),r=n("Kj3r");let c=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Object(i.e)(t);return new a.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new o.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(s.dc(c))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(c))},token:t,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new s.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(i.c)(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Object(i.f)(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Object(r.a)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(l),s.Tb(s.l),s.Tb(s.B))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),h=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},providers:[c]}),t})()},GUHb:function(t,e,n){"use strict";n.d(e,"a",(function(){return ft}));var i=n("mrSG"),s=n("fXoL"),a=n("tk/3"),o=n("vkgz"),r=n("JIr8"),c=n("lJxs"),l=n("pLZG"),d=n("IzEk"),h=n("XqQ8"),u=n("nYR2"),p=n("2c88"),f=n("SIQe"),m=n("1YbM"),g=n("3Pt+"),b=n("mCt4"),_=n("/de/"),v=n("I65S"),y=n("sYmb"),x=n("AXEc"),w=n("4zkx"),C=n("A6w4"),O=n("0IaG"),k=n("rH+9"),S=n("eiH7"),E=n("ofXK"),M=n("bTqV"),I=n("w9N8"),P=n("Xa2L"),T=n("fBaO"),A=n("Qu3c"),D=n("NFeN"),R=n("STbY"),L=n("TU8p"),F=n("IkSl"),j=n("+AL4"),Y=n("IOqN");const Z=["templateList"],N=["onlyofficeViewer"],U=["collaboraOnlineViewer"];function B(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"div",3),s.Ub(2,"i",4),s.Zb(3,"div"),s.Sc(4),s.mc(5,"translate"),s.Yb(),s.Zb(6,"div"),s.Zb(7,"button",5),s.hc("click",(function(){return s.Hc(t),s.lc().cancelTemplateEdition()})),s.Sc(8),s.mc(9,"translate"),s.Yb(),s.Yb(),s.Yb(),s.Wb()}2&t&&(s.Eb(4),s.Uc(" ",s.nc(5,2,"lang.editInProgress")," "),s.Eb(4),s.Tc(s.nc(9,4,"lang.cancel")))}function z(t,e){1&t&&(s.Xb(0),s.Zb(1,"div",8),s.Ub(2,"i",9),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Wb()),2&t&&(s.Eb(3),s.Uc(" ",s.nc(4,1,"lang.noFile")," "))}function V(t,e){if(1&t&&(s.Zb(0,"div",18),s.Ub(1,"mat-progress-spinner",19),s.Zb(2,"div",20),s.Sc(3),s.Yb(),s.Zb(4,"div",21),s.Sc(5),s.Yb(),s.Yb()),2&t){const t=s.lc(3);s.Eb(1),s.sc("mode",t.loadingInfo.mode)("value",t.loadingInfo.percent),s.Eb(2),s.Uc("",t.loadingInfo.percent," %"),s.Eb(2),s.Tc(t.loadingInfo.message)}}function H(t,e){if(1&t){const t=s.ac();s.Zb(0,"plugin-select-search",28,29),s.hc("afterSelected",(function(e){return s.Hc(t),s.lc(4).editTemplate(e)})),s.Yb()}if(2&t){const t=s.lc(4);s.Gb("input-form-filled"),s.sc("label",t.translate.instant("lang.chooseModel"))("placeholderLabel",t.translate.instant("lang.chooseModel"))("datas",t.listTemplates)("formControlSelect",t.templateListForm)}}function Q(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",22),s.hc("onFileDropped",(function(e){return s.Hc(t),s.lc(3).dndUploadFile(e)})),s.Ub(1,"i",23),s.Ub(2,"br"),s.Sc(3),s.mc(4,"translate"),s.Ub(5,"br"),s.Sc(6),s.mc(7,"translate"),s.Zb(8,"div",24),s.Zb(9,"div",25),s.Qc(10,H,2,6,"plugin-select-search",26),s.Yb(),s.Zb(11,"button",27),s.hc("click",(function(){return s.Hc(t),s.lc(),s.Dc(3).click()})),s.Sc(12),s.mc(13,"translate"),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=s.lc(3);s.sc("disabled",!t.editMode),s.Eb(3),s.Uc(" ",s.nc(4,5,"lang.dragAndDrop"),""),s.Eb(3),s.Uc("",s.nc(7,7,"lang.or")," "),s.Eb(4),s.sc("ngIf",t.listTemplates.length>0),s.Eb(2),s.Tc(s.nc(13,9,"lang.chooseFile"))}}function $(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",38),s.hc("click",(function(){return s.Hc(t),s.lc(4).editResource()})),s.Ub(1,"mat-icon",39),s.Yb()}if(2&t){const t=s.lc(4);s.Jb("disabledButton",!t.functions.empty(t.file.subinfos)&&t.file.subinfos.signedDocVersions),s.sc("disabled",!t.functions.empty(t.file.subinfos)&&t.file.subinfos.signedDocVersions)("matTooltip",t.functions.empty(t.file.subinfos)||!t.functions.empty(t.file.subinfos)&&!t.file.subinfos.signedDocVersions?t.translate.instant("lang.editDocument"):t.translate.instant("lang.documentSignedMsg"))}}function W(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",40),s.hc("click",(function(){return s.Hc(t),s.lc(4).openPdfInTab()})),s.Ub(1,"mat-icon",41),s.Zb(2,"span"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(3),s.Tc(s.nc(4,1,"lang.openInExternalModal")))}function G(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",40),s.hc("click",(function(){return s.Hc(t),s.lc(4).openMaarchParapheurWorkflow()})),s.Ub(1,"mat-icon",42),s.Zb(2,"span"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(3),s.Tc(s.nc(4,1,"lang.externalVisaWorkflow")))}function q(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",40),s.hc("click",(function(){return s.Hc(t),s.lc(2),s.Dc(3).click()})),s.Ub(1,"mat-icon",43),s.Zb(2,"span"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(3),s.Tc(s.nc(4,1,"lang.uploadAnOtherFile")))}function X(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",40),s.hc("click",(function(){return s.Hc(t),s.lc(4).cleanFile()})),s.Ub(1,"mat-icon",44),s.Zb(2,"span"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(3),s.Tc(s.nc(4,1,"lang.removeFile")))}function J(t,e){if(1&t&&(s.Zb(0,"button",49),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t){s.lc();const t=s.Dc(3),e=s.lc(4);s.sc("matBadge",e.file.subinfos.mainDocVersions.length)("matMenuTriggerFor",t),s.Eb(1),s.Uc(" ",s.nc(2,3,"lang.versions")," ")}}function K(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",40),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc(5).openResourceVersion(n,"PDF")})),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit;s.Eb(2),s.Vc("",s.nc(3,2,"lang.version")," ",t,"")}}function tt(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",5),s.hc("click",(function(){s.Hc(t);const e=s.lc(5);return e.openResourceVersion(e.file.subinfos.mainDocVersions[e.file.subinfos.mainDocVersions.length-1],"SIGN")})),s.Sc(1),s.mc(2,"translate"),s.Yb()}2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.SIGN_version")," "))}function et(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",5),s.hc("click",(function(){s.Hc(t);const e=s.lc(5);return e.openResourceVersion(e.file.subinfos.mainDocVersions[e.file.subinfos.mainDocVersions.length-1],"NOTE")})),s.Sc(1),s.mc(2,"translate"),s.Yb()}2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.NOTE_version")," "))}function nt(t,e){if(1&t&&(s.Xb(0),s.Qc(1,J,3,5,"button",45),s.Zb(2,"mat-menu",null,46),s.Qc(4,K,4,4,"button",47),s.Yb(),s.Qc(5,tt,3,3,"button",48),s.Qc(6,et,3,3,"button",48),s.Wb()),2&t){const t=s.lc(4);s.Eb(1),s.sc("ngIf",t.file.subinfos.mainDocVersions.length>1&&!t.file.subinfos.signedDocVersions),s.Eb(3),s.sc("ngForOf",t.file.subinfos.mainDocVersions),s.Eb(1),s.sc("ngIf",t.file.subinfos.signedDocVersions),s.Eb(1),s.sc("ngIf",t.file.subinfos.commentedDocVersions>0)}}function it(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",30),s.Zb(1,"button",31),s.hc("click",(function(){return s.Hc(t),s.lc(3).downloadOriginalFile()})),s.Ub(2,"mat-icon",32),s.Yb(),s.Qc(3,$,2,4,"button",33),s.Zb(4,"button",34),s.Ub(5,"mat-icon",35),s.Yb(),s.Zb(6,"mat-menu",null,36),s.Qc(8,W,5,3,"button",37),s.Qc(9,G,5,3,"button",37),s.Qc(10,q,5,3,"button",37),s.Qc(11,X,5,3,"button",37),s.Yb(),s.Qc(12,nt,7,4,"ng-container",0),s.Yb()}if(2&t){const t=s.Dc(7),e=s.lc(3);s.Eb(1),s.sc("matTooltip",e.translate.instant("lang.downloadOriginalFile")),s.Eb(2),s.sc("ngIf",e.editMode&&null!==e.resId&&!e.noConvertedFound),s.Eb(1),s.sc("matMenuTriggerFor",t),s.Eb(2),s.Gb("optionsListMenu"),s.Eb(2),s.sc("ngIf",void 0!==e.file.contentView||null!==e.base64),s.Eb(1),s.sc("ngIf",(void 0!==e.file.contentView||null!==e.base64)&&null!=e.resId&&"attachment"!==e.mode&&e.externalId.signatureBookId),s.Eb(1),s.sc("ngIf",e.editMode&&null===e.resId),s.Eb(1),s.sc("ngIf",e.editMode&&null===e.resId),s.Eb(1),s.sc("ngIf","mainDocument"===e.mode&&!e.functions.empty(e.file.subinfos))}}function st(t,e){if(1&t){const t=s.ac();s.Zb(0,"pdf-viewer",50),s.hc("error",(function(e){return s.Hc(t),s.lc(3).onError(e)})),s.Yb()}if(2&t){const t=s.lc(3);s.sc("src",t.file.src)("render-text",!0)("autoresize",!0)("original-size",!1)("show-all",!0)}}function at(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",51),s.hc("onFileDropped",(function(e){return s.Hc(t),s.lc(3).dndUploadFile(e)})),s.Zb(1,"div",52),s.Ub(2,"i",53),s.Sc(3,"\xa0"),s.Zb(4,"a",54),s.hc("click",(function(){return s.Hc(t),s.lc(3).downloadOriginalFile()})),s.Sc(5),s.Yb(),s.Sc(6,"\xa0"),s.Zb(7,"b"),s.Sc(8),s.mc(9,"translate"),s.Yb(),s.Yb(),s.Zb(10,"div",55),s.Ub(11,"i",56),s.Ub(12,"br"),s.Sc(13),s.mc(14,"translate"),s.Yb(),s.Yb()}if(2&t){const t=s.lc(3);s.sc("disabled",!t.editMode),s.Eb(5),s.Tc(t.file.name),s.Eb(3),s.Tc(s.nc(9,4,"lang.loaded")),s.Eb(5),s.Tc(s.nc(14,6,"lang.noAvailablePreview"))}}function ot(t,e){if(1&t){const t=s.ac();s.Qc(0,V,6,4,"div",10),s.Qc(1,Q,14,11,"div",11),s.Zb(2,"input",12,13),s.hc("change",(function(e){return s.Hc(t),s.lc(2).uploadTrigger(e)})),s.Yb(),s.Zb(4,"div",14),s.hc("onFileDropped",(function(e){return s.Hc(t),s.lc(2).dndUploadFile(e)})),s.Qc(5,it,13,10,"div",15),s.Zb(6,"div"),s.Qc(7,st,1,5,"pdf-viewer",16),s.Yb(),s.Yb(),s.Qc(8,at,15,8,"div",17)}if(2&t){const t=s.lc(2);s.sc("ngIf",t.loading),s.Eb(1),s.sc("ngIf",null===t.file.content&&!t.loading),s.Eb(1),s.sc("ngModel",t.docToUploadValue),s.Eb(2),s.sc("disabled",!t.editMode),s.Eb(1),s.sc("ngIf",!t.loading&&null!==t.file.content&&!t.hideTools),s.Eb(2),s.sc("ngIf",null!==t.file.src),s.Eb(1),s.sc("ngIf",null!==t.file.content&&t.noConvertedFound)}}function rt(t,e){if(1&t&&(s.Xb(0),s.Qc(1,z,5,3,"ng-container",6),s.Qc(2,ot,9,7,"ng-template",null,7,s.Rc),s.Wb()),2&t){const t=s.Dc(3),e=s.lc();s.Eb(1),s.sc("ngIf",e.noFile)("ngIfElse",t)}}function ct(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"onlyoffice-viewer",57,58),s.hc("triggerAfterUpdatedDoc",(function(){return s.Hc(t),s.lc().triggerEvent.emit()}))("triggerCloseEditor",(function(){return s.Hc(t),s.lc().closeEditor()}))("triggerModifiedDocument",(function(){return s.Hc(t),s.lc().isDocModified=!0})),s.Yb(),s.Wb()}if(2&t){const t=s.lc();s.Eb(1),s.sc("params",t.editor.options)("file",t.file)("editMode",!0)}}function lt(t,e){1&t&&(s.Zb(0,"div",18),s.Ub(1,"mat-spinner",60),s.Yb())}function dt(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"app-collabora-online-viewer",57,59),s.hc("triggerAfterUpdatedDoc",(function(){return s.Hc(t),s.lc().triggerEvent.emit()}))("triggerCloseEditor",(function(){return s.Hc(t),s.lc().closeEditor()}))("triggerModifiedDocument",(function(){return s.Hc(t),s.lc().isDocModified=!0})),s.Yb(),s.Qc(3,lt,2,0,"div",10),s.Wb()}if(2&t){const t=s.Dc(2),e=s.lc();s.Eb(1),s.sc("params",e.editor.options)("file",e.file)("editMode",!0),s.Eb(2),s.sc("ngIf",t.isSaving)}}function ht(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",61),s.hc("click",(function(){return s.Hc(t),s.lc().saveMainDocument()})),s.Ub(1,"mat-icon",62),s.Yb()}if(2&t){const t=s.lc();s.sc("title",t.translate.instant("lang.saveModifications"))}}function ut(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",61),s.hc("click",(function(){return s.Hc(t),s.lc().saveTmpDocument()})),s.Ub(1,"mat-icon",62),s.Yb()}if(2&t){const t=s.lc();s.sc("title",t.translate.instant("lang.saveModifications"))}}function pt(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",63),s.hc("click",(function(){return s.Hc(t),s.lc().unsignMainDocument()})),s.Sc(1),s.mc(2,"translate"),s.Yb()}if(2&t){const t=s.lc();s.sc("title",t.translate.instant("lang.unsign")),s.Eb(1),s.Uc(" ",s.nc(2,2,"lang.removeSignature"),"\n")}}let ft=(()=>{class t{constructor(t,e,n,i,a,o,r,c,l){this.translate=t,this.http=e,this.notify=n,this.headerService=i,this.appService=a,this.dialog=o,this.sortPipe=r,this.functions=c,this.privilegeService=l,this.base64=null,this.format=null,this.mode="mainDocument",this.resId=null,this.resIdMaster=null,this.editMode=!1,this.hideTools=!1,this.title="",this.attachType=null,this.triggerEvent=new s.o,this.loading=!0,this.noConvertedFound=!1,this.noFile=!1,this.file={name:"",type:"",contentMode:"base64",content:null,src:null},this.allowedExtensions=[],this.maxFileSize=0,this.maxFileSizeLabel="",this.percentInProgress=0,this.editInProgress=!1,this.listTemplates=[],this.externalId={},this.templateListForm=new g.h,this.loadingInfo={mode:"indeterminate",percent:0,message:""},this.editor={mode:"",async:!0,options:{docUrl:null,dataToMerge:null}},this.isDocModified=!1,window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js"}ngOnInit(){this.setEditor(),this.http.get("../rest/indexing/fileInformations").pipe(Object(o.a)(t=>{this.allowedExtensions=t.informations.allowedFiles.map(t=>({extension:"."+t.extension.toLowerCase(),mimeType:t.mimeType,canConvert:t.canConvert})),this.allowedExtensions=this.sortPipe.transform(this.allowedExtensions,"extension"),this.maxFileSize=t.informations.maximumSize,this.maxFileSizeLabel=t.informations.maximumSizeLabel,null!==this.resId?(this.loadRessource(this.resId,this.mode),this.editMode&&(null!==this.attachType&&"attachment"===this.mode?this.loadTemplatesByResId(this.resIdMaster,this.attachType):this.loadTemplates())):(this.loadTemplates(),this.loading=!1)}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(v.of)(!1)))).subscribe(),this.functions.empty(this.base64)?""!==this.tmpFilename&&void 0!==this.tmpFilename&&this.http.get("../rest/convertedFile/"+this.tmpFilename).pipe(Object(o.a)(t=>{this.file={name:this.tmpFilename,format:"pdf",type:"application/pdf",contentMode:"base64",content:this.getBase64Document(this.base64ToArrayBuffer(t.encodedResource)),src:this.base64ToArrayBuffer(t.encodedResource)},this.noConvertedFound=!1,this.loading=!1}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(v.of)(!1)))).subscribe():this.loadFileFromBase64()}ngOnDestroy(){this.intervalLockFile&&this.cancelTemplateEdition()}loadFileFromBase64(){this.loading=!0,this.file={name:"maarch",format:"pdf",type:"application/pdf",contentMode:"base64",content:this.base64,src:this.base64ToArrayBuffer(this.base64)},this.loading=!1}loadTmpFile(t){return new Promise((e,n)=>{this.loading=!0,this.loadingInfo.mode="determinate",this.requestWithLoader(`../rest/convertedFile/${t}?convert=true`).subscribe(n=>{n.encodedResource&&(this.file={name:t,format:n.extension,type:n.type,contentMode:"base64",content:n.encodedResource,src:void 0!==n.encodedConvertedResource?this.base64ToArrayBuffer(n.encodedConvertedResource):null},this.editMode=!0,this.triggerEvent.emit(),void 0!==n.encodedConvertedResource?this.noConvertedFound=!1:(this.noConvertedFound=!0,this.notify.error(n.convertedResourceErrors)),this.loading=!1,e(!0))},t=>(this.noConvertedFound=!0,this.notify.handleErrors(t),this.loading=!1,e(!0),Object(v.of)(!1)))})}uploadTrigger(t){if(t.target.files&&t.target.files[0]&&this.isExtensionAllowed(t.target.files[0])){this.initUpload();const e=new FileReader;this.file.name=t.target.files[0].name,this.file.type=t.target.files[0].type,this.file.format=this.file.name.split(".").pop(),e.readAsArrayBuffer(t.target.files[0]),e.onload=t=>{this.file.content=this.getBase64Document(t.target.result),this.triggerEvent.emit(),"application/pdf"!==this.file.type?this.convertDocument(this.file):(this.file.src=t.target.result,this.loading=!1)}}else this.loading=!1}initUpload(){this.loading=!0,this.file={name:"",type:"",contentMode:"base64",content:null,src:null},this.noConvertedFound=!1,this.loadingInfo.message=this.translate.instant("lang.loadingFile")+"...",this.loadingInfo.mode="indeterminate"}getBase64Document(t){const e=new Uint8Array(t).reduce((t,e)=>t+String.fromCharCode(e),"");return btoa(e)}base64ToArrayBuffer(t){const e=window.atob(t),n=e.length,i=new Uint8Array(n);for(let s=0;s<n;s++)i[s]=e.charCodeAt(s);return i.buffer}b64toBlob(t,e="",n=512){const i=atob(t),s=[];for(let a=0;a<i.length;a+=n){const t=i.slice(a,a+n),e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);const o=new Uint8Array(e);s.push(o)}return new Blob(s,{type:e})}convertDocument(t){this.canBeConverted(t)?this.upload({name:t.name,base64:t.content}).subscribe(t=>{t.encodedResource&&(this.file.base64src=t.encodedResource,this.file.src=this.base64ToArrayBuffer(t.encodedResource),this.loading=!1)},t=>(this.noConvertedFound=!0,this.notify.handleErrors(t),this.loading=!1,Object(v.of)(!1))):(this.noConvertedFound=!0,this.loading=!1)}upload(t){return this.http.post("../rest/convertedFile",t,{reportProgress:!0,observe:"events"}).pipe(Object(c.a)(t=>{switch(t.type){case a.e.DownloadProgress:const e=Math.round(100*t.loaded/t.total);return this.loadingInfo.percent=e,this.loadingInfo.mode="determinate",this.loadingInfo.message=`3/3 ${this.translate.instant("lang.downloadConvertedFile")}...`,{status:"progress",message:e};case a.e.UploadProgress:const n=Math.round(100*t.loaded/t.total);return this.loadingInfo.percent=n,100===n?(this.loadingInfo.mode="indeterminate",this.loadingInfo.message=`2/3 ${this.translate.instant("lang.convertingFile")}...`):(this.loadingInfo.mode="determinate",this.loadingInfo.message=`1/3 ${this.translate.instant("lang.loadingFile")}...`),{status:"progress",message:n};case a.e.Response:return t.body;default:return"Unhandled event: "+t.type}}))}requestWithLoader(t){return this.loadingInfo.percent=0,this.http.get(t,{reportProgress:!0,observe:"events"}).pipe(Object(c.a)(t=>{switch(t.type){case a.e.DownloadProgress:const e=Math.round(100*t.loaded/t.total);return this.loadingInfo.percent=e,this.loadingInfo.mode="determinate",this.loadingInfo.message="",{status:"progressDownload",message:e};case a.e.Response:return t.body;default:return"Unhandled event: "+t.type}}))}onError(t){console.log(t)}cleanFile(){this.dialogRef=this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(l.a)(t=>"ok"===t),Object(o.a)(()=>{this.templateListForm.reset(),this.file={name:"",type:"",content:null,src:null},this.docToUploadValue="",this.triggerEvent.emit("cleanFile")}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(v.of)(!1)))).subscribe()}saveDocService(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.getFilePdf();this.headerService.setLoadedFile(t)}))}getFile(){if("onlyoffice"===this.editor.mode&&void 0!==this.onlyofficeViewer)return this.onlyofficeViewer.getFile();if("collaboraOnline"===this.editor.mode&&void 0!==this.collaboraOnlineViewer)return this.collaboraOnlineViewer.getFile();{const t=JSON.parse(JSON.stringify(this.file));return t.content="route"===t.contentMode?null:t.content,Object(v.of)(t)}}getFilePdf(){return new Promise((t,e)=>{this.functions.empty(this.file.src)?this.getFile().pipe(Object(d.a)(1),Object(o.a)(t=>("collaboraOnline"===this.editor.mode&&void 0!==this.collaboraOnlineViewer&&(this.collaboraOnlineViewer.isSaving=!1),t)),Object(h.a)(t=>this.http.post("../rest/convertedFile",{name:`${t.name}.${t.format}`,base64:""+t.content})),Object(o.a)(e=>{t(e.encodedResource)})).subscribe():t(this.getBase64Document(this.file.src))})}dndUploadFile(t){this.uploadTrigger({target:{files:[t[0]]}})}canBeConverted(t){const e="."+t.name.toLowerCase().split(".").pop();return this.allowedExtensions.filter(n=>!0===n.canConvert&&n.mimeType===t.type&&n.extension===e).length>0}isExtensionAllowed(t){const e="."+t.name.toLowerCase().split(".").pop();return 0===this.allowedExtensions.filter(n=>n.mimeType===t.type&&n.extension===e).length?(this.dialog.open(f.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.notAllowedExtension")+" !",msg:this.translate.instant("lang.file")+" : <b>"+t.name+"</b>, "+this.translate.instant("lang.type")+" : <b>"+t.type+"</b><br/><br/><u>"+this.translate.instant("lang.allowedExtensions")+"</u> : <br/>"+this.allowedExtensions.map(t=>t.extension).filter((t,e,n)=>e===n.indexOf(t)).join(", ")}}),!1):!(t.size>this.maxFileSize&&this.maxFileSize>0&&(this.dialog.open(f.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.maxFileSizeReached")+" ! ",msg:this.translate.instant("lang.maxFileSize")+" : "+this.maxFileSizeLabel}}),1))}downloadOriginalFile(){const t=document.createElement("a");"base64"===this.file.contentMode?(t.href=`data:${this.file.type};base64,${this.file.content}`,t.setAttribute("download",this.file.name),document.body.appendChild(t),t.click()):this.http.get(this.file.content).pipe(Object(o.a)(e=>{t.href=`data:${e.mimeType};base64,${e.encodedDocument}`,t.setAttribute("download",this.file.name),document.body.appendChild(t),t.click()}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),Object(v.of)(!1)))).subscribe()}openPdfInTab(){let t="";if("base64"===this.file.contentMode){t=`data:${this.file.type};base64,${this.file.content}`;const e=window.open();e.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${t}" frameborder="0" allowfullscreen></iframe>`),e.document.title=this.title}else this.http.get(this.file.contentView).pipe(Object(o.a)(e=>{t=`data:${e.mimeType};base64,${e.encodedDocument}`;const n=window.open();n.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${t}" frameborder="0" allowfullscreen></iframe>`),n.document.title=this.title}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),Object(v.of)(!1)))).subscribe()}loadRessource(t,e="mainDocument"){return Object(i.a)(this,void 0,void 0,(function*(){this.resId=t,this.mode=e,this.loading=!0,"attachment"===e?this.requestWithLoader(`../rest/attachments/${t}/content?mode=base64`).subscribe(e=>{e.encodedDocument&&(this.file.contentMode="route",this.file.name=`${t}.${e.originalFormat}`,this.file.format=e.originalFormat,this.file.creatorId=e.originalCreatorId,this.file.content=`../rest/attachments/${t}/originalContent?mode=base64`,this.file.contentView=`../rest/attachments/${t}/content?mode=base64`,this.file.src=this.base64ToArrayBuffer(e.encodedDocument),this.loading=!1,this.noFile=!1)},e=>("Document has no file"===e.error.errors?this.noFile=!0:"Converted Document not found"===e.error.errors?(this.file.contentMode="route",this.file.content=`../rest/attachments/${t}/originalContent?mode=base64`,this.noConvertedFound=!0):(this.notify.error(e.error.errors),this.noFile=!0),this.loading=!1,Object(v.of)(!1))):(yield this.loadMainDocumentSubInformations(),0===this.file.subinfos.mainDocVersions.length?(this.noFile=!0,this.loading=!1):this.file.subinfos.canConvert?(this.requestWithLoader(`../rest/resources/${t}/content?mode=base64`).subscribe(e=>{e.encodedDocument&&(this.file.contentMode="route",this.file.name=`${t}.${e.originalFormat}`,this.file.format=e.originalFormat,this.file.content=`../rest/resources/${t}/originalContent?mode=base64`,this.file.contentView=`../rest/resources/${t}/content?mode=base64`,this.file.src=this.base64ToArrayBuffer(e.encodedDocument),this.loading=!1,this.noFile=!1)},t=>(this.notify.error(t.error.errors),this.noFile=!0,this.loading=!1,Object(v.of)(!1))),this.http.get(`../rest/resources/${this.resId}/fields/externalId`).pipe(Object(o.a)(t=>{this.externalId=t.field}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),Object(v.of)(!1)))).subscribe()):(this.file.contentMode="route",this.file.content=`../rest/resources/${t}/originalContent?mode=base64`,this.noConvertedFound=!0,this.loading=!1))}))}loadMainDocumentSubInformations(){return new Promise((t,e)=>{this.http.get(`../rest/resources/${this.resId}/versionsInformations`).pipe(Object(o.a)(t=>{const e=t.DOC;let n=!1,i=!1,s=!1;void 0!==t.DOC[t.DOC.length-1]&&(i=t.SIGN.indexOf(t.DOC[t.DOC.length-1])>-1,s=t.NOTE.indexOf(t.DOC[t.DOC.length-1])>-1,n=t.PDF.indexOf(t.DOC[t.DOC.length-1])>-1),this.file.subinfos={mainDocVersions:e,signedDocVersions:i,commentedDocVersions:s,mainDocPDFVersions:n}}),Object(h.a)(()=>this.http.get(`../rest/resources/${this.resId}/fileInformation`)),Object(o.a)(e=>{this.file.subinfos.canConvert=e.information.canConvert,t(!0)}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),Object(v.of)(!1)))).subscribe()})}editTemplate(t){let e="";e="attachment"===this.mode?this.translate.instant("lang.editionAttachmentConfirmFirst")+"<br><br>"+this.translate.instant("lang.editionAttachmentConfirmThird"):this.translate.instant("lang.editionAttachmentConfirmFirst")+"<br><br>"+this.translate.instant("lang.editionAttachmentConfirmSecond"),this.dialogRef=this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.templateEdition"),msg:e}}),this.dialogRef.afterClosed().pipe(Object(o.a)(t=>{"ok"!==t&&this.templateListForm.reset()}),Object(l.a)(t=>"ok"===t),Object(o.a)(()=>{this.triggerEvent.emit();const e=this.listTemplates.filter(e=>e.id===t)[0];this.file.format=e.extension,"onlyoffice"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"attachmentCreation",objectId:e.id,docUrl:"rest/onlyOffice/mergedFile",dataToMerge:this.resourceDatas},this.editInProgress=!0):"collaboraOnline"===this.editor.mode?(this.editor.async=!1,this.editInProgress=!0,this.editor.options={objectType:"attachment"===this.mode?"attachmentCreation":"resourceCreation",objectId:e.id,dataToMerge:this.resourceDatas}):(this.editor.async=!0,this.editor.options={objectType:"attachmentCreation",objectId:e.id,cookie:document.cookie,data:this.resourceDatas},this.editInProgress=!0,this.http.post("../rest/jnlp",this.editor.options).pipe(Object(o.a)(t=>{window.location.href="../rest/jnlp/"+t.generatedJnlp,this.checkLockFile(t.jnlpUniqueId,e.extension)})).subscribe())}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(v.of)(!1)))).subscribe()}editResource(){"attachment"===this.mode?this.editAttachment():this.editMainDocument()}editAttachment(){this.triggerEvent.emit("setData"),"onlyoffice"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"attachmentModification",objectId:this.resId,docUrl:"rest/onlyOffice/mergedFile",dataToMerge:this.resourceDatas},this.editInProgress=!0):"collaboraOnline"===this.editor.mode?(this.editor.async=!1,this.editInProgress=!0,this.editor.options={objectType:"attachmentModification",objectId:this.resId,dataToMerge:this.resourceDatas}):(this.editor.async=!0,this.editor.options={objectType:"attachmentModification",objectId:this.resId,cookie:document.cookie,data:this.resourceDatas},this.editInProgress=!0,this.http.post("../rest/jnlp",this.editor.options).pipe(Object(o.a)(t=>{window.location.href="../rest/jnlp/"+t.generatedJnlp,this.checkLockFile(t.jnlpUniqueId,this.file.format)})).subscribe())}editMainDocument(){"onlyoffice"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"resourceModification",objectId:this.resId,docUrl:"rest/onlyOffice/mergedFile"},this.editInProgress=!0):"collaboraOnline"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"resourceModification",objectId:this.resId,dataToMerge:this.resourceDatas},this.editInProgress=!0):(this.editor.async=!0,this.editor.options={objectType:"resourceModification",objectId:this.resId,cookie:document.cookie},this.editInProgress=!0,this.http.post("../rest/jnlp",this.editor.options).pipe(Object(o.a)(t=>{window.location.href="../rest/jnlp/"+t.generatedJnlp,this.checkLockFile(t.jnlpUniqueId,this.file.format)})).subscribe())}setDatas(t){this.resourceDatas=t}checkLockFile(t,e){this.intervalLockFile=setInterval(()=>{this.http.get("../rest/jnlp/lock/"+t).subscribe(t=>Object(i.a)(this,void 0,void 0,(function*(){t.lockFileFound||(this.editInProgress=!1,clearInterval(this.intervalLockFile),yield this.loadTmpFile(`${t.fileTrunk}.${e}`),"mainDocument"===this.mode&&this.saveMainDocument())})))},1e3)}cancelTemplateEdition(){clearInterval(this.intervalLockFile),this.editInProgress=!1}isEditingTemplate(){return"onlyoffice"===this.editor.mode?void 0!==this.onlyofficeViewer:"collaboraOnline"===this.editor.mode?void 0!==this.collaboraOnlineViewer:this.editInProgress}loadTemplatesByResId(t,e){const n=[];let i=[];this.listTemplates=[],this.http.get("../rest/attachmentsTypes").pipe(Object(o.a)(t=>{Object.keys(t.attachmentsTypes).forEach(e=>{i.push({id:e,label:t.attachmentsTypes[e].label})}),i=this.sortPipe.transform(i,"label"),i.push({id:"all",label:this.translate.instant("lang.others")})}),Object(h.a)(()=>this.http.get(`../rest/resources/${t}/templates?attachmentType=${e},all`)),Object(o.a)(t=>{this.listTemplates=t.templates,i=i.filter(e=>t.templates.map(t=>t.attachmentType).indexOf(e.id)>-1),i.forEach(e=>{n.push({id:e.id,label:e.label,title:e.label,disabled:!0,isTitle:!0,color:"#135f7f"}),t.templates.filter(t=>t.attachmentType===e.id).forEach(t=>{n.push({id:t.id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+t.label,title:t.exists?t.label:this.translate.instant("lang.fileDoesNotExists"),extension:t.extension,disabled:!t.exists})})}),this.listTemplates=n})).subscribe()}loadTemplates(){if(0===this.listTemplates.length){const t=[];if("mainDocument"===this.mode)this.http.get("../rest/currentUser/templates?target=indexingFile").pipe(Object(o.a)(e=>{this.listTemplates=e.templates,t.push({id:"all",label:this.translate.instant("lang.indexation"),title:this.translate.instant("lang.indexation"),disabled:!0,isTitle:!0,color:"#135f7f"}),e.templates.forEach(e=>{t.push({id:e.id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+e.label,title:e.exists?e.label:this.translate.instant("lang.fileDoesNotExists"),extension:e.extension,disabled:!e.exists})}),this.listTemplates=t})).subscribe();else{let e=[];this.http.get("../rest/attachmentsTypes").pipe(Object(o.a)(t=>{e.push({id:"all",label:this.translate.instant("lang.others")}),Object.keys(t.attachmentsTypes).forEach(n=>{e.push({id:n,label:t.attachmentsTypes[n].label}),e=this.sortPipe.transform(e,"label")})}),Object(h.a)(()=>this.http.get("../rest/currentUser/templates?target=attachments&type=office")),Object(o.a)(n=>{this.listTemplates=n.templates,e=e.filter(t=>n.templates.map(t=>t.attachmentType).indexOf(t.id)>-1),e.forEach(e=>{t.push({id:e.id,label:e.label,title:e.label,disabled:!0,isTitle:!0,color:"#135f7f"}),n.templates.filter(t=>t.attachmentType===e.id).forEach(e=>{t.push({id:e.id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+e.label,title:e.exists?e.label:this.translate.instant("lang.fileDoesNotExists"),extension:e.extension,disabled:!e.exists})})}),this.listTemplates=t})).subscribe()}}}closeEditor(){this.templateListForm.reset(),this.editInProgress=!1,this.isDocModified=!1}setEditor(){"java"===this.headerService.user.preferences.documentEdition?(this.editor.mode="java",this.editor.async=!0):"onlyoffice"===this.headerService.user.preferences.documentEdition?(this.editor.mode="onlyoffice",this.editor.async=!1):"collaboraonline"===this.headerService.user.preferences.documentEdition&&(this.editor.mode="collaboraOnline",this.editor.async=!1)}saveMainDocument(){return this.loading=!0,new Promise(t=>{this.getFile().pipe(Object(c.a)(t=>({encodedFile:t.content,format:t.format,resId:this.resId})),Object(h.a)(t=>this.http.put(`../rest/resources/${this.resId}?onlyDocument=true`,t)),Object(o.a)(()=>{this.closeEditor(),this.loadRessource(this.resId),t(!0)}),Object(u.a)(()=>this.loading=!1),Object(r.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(v.of)(!1)))).subscribe()})}loadTmpDocument(t,e){return new Promise((n,i)=>{this.http.post("../rest/convertedFile/encodedFile",{format:e,encodedFile:t}).pipe(Object(o.a)(n=>{console.log(n),this.file={name:"maarch",format:e,type:"application/pdf",contentMode:"base64",content:t,src:this.base64ToArrayBuffer(n.encodedResource)}}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),n(!1),Object(v.of)(!1)))).subscribe()})}saveTmpDocument(){return new Promise((t,e)=>{this.getFile().pipe(Object(o.a)(t=>{this.file={name:"maarch",format:t.format,type:"application/pdf",contentMode:"base64",content:t.content,src:null}}),Object(h.a)(t=>this.http.post("../rest/convertedFile/encodedFile",{format:t.format,encodedFile:t.content})),Object(o.a)(e=>{this.file.src=this.base64ToArrayBuffer(e.encodedResource),this.closeEditor(),t(!0)}),Object(r.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(v.of)(!1)))).subscribe()})}openResourceVersion(t,e){const n="PDF"!==e?this.translate.instant("lang."+e+"_version"):`${this.translate.instant("lang.version")} ${t}`;this.http.get(`../rest/resources/${this.resId}/content/${t}?type=${e="SIGN"===e?"PDF":e}`).pipe(Object(o.a)(t=>{this.dialog.open(b.a,{autoFocus:!1,panelClass:"maarch-full-height-modal",data:{title:""+n,base64:t.encodedDocument}})}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),Object(v.of)(!1)))).subscribe()}unsignMainDocument(){this.dialogRef=this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.UNSIGN"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(l.a)(t=>"ok"===t),Object(h.a)(()=>this.http.put(`../rest/resources/${this.resId}/unsign`,{})),Object(o.a)(()=>{this.notify.success(this.translate.instant("lang.documentUnsigned")),this.loadRessource(this.resId)}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(v.of)(!1)))).subscribe()}isEditorLoaded(){return!this.isEditingTemplate()||this.isEditingTemplate()&&this.isDocModified}openMaarchParapheurWorkflow(){this.dialog.open(_.a,{panelClass:"maarch-modal",data:{id:this.resId,type:"resource"}})}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(y.e),s.Tb(a.b),s.Tb(x.a),s.Tb(w.a),s.Tb(C.a),s.Tb(O.b),s.Tb(m.a),s.Tb(k.a),s.Tb(S.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-document-viewer"]],viewQuery:function(t,e){var n;1&t&&(s.Oc(Z,!0),s.ad(N,!0),s.ad(U,!0)),2&t&&(s.Cc(n=s.ic())&&(e.templateList=n.first),s.Cc(n=s.ic())&&(e.onlyofficeViewer=n.first),s.Cc(n=s.ic())&&(e.collaboraOnlineViewer=n.first))},inputs:{tmpFilename:"tmpFilename",base64:"base64",format:"format",mode:"mode",resId:"resId",resIdMaster:"resIdMaster",editMode:"editMode",hideTools:"hideTools",title:"title",attachType:"attachType"},outputs:{triggerEvent:"triggerEvent"},features:[s.Db([m.a])],decls:7,vars:7,consts:[[4,"ngIf"],["mat-fab","","color","accent","style","position: absolute;z-index: 3;bottom: 40px;right: 60px;",3,"title","click",4,"ngIf"],["mat-raised-button","","color","warn","style","position: fixed;z-index: 1;bottom: 100px;right: 150px;",3,"title","click",4,"ngIf"],[1,"editInProgress"],[1,"fas","fa-file-word","bounce"],["mat-button","",3,"click"],[4,"ngIf","ngIfElse"],["elseHaveFile",""],[1,"noFile"],[1,"far","fa-times-circle"],["class","example-loading-shade",4,"ngIf"],["class","view-doc-container","appUploadFileDragDrop","",3,"disabled","onFileDropped",4,"ngIf"],["type","file","name","files[]",2,"display","none",3,"ngModel","change"],["docToUpload",""],["appUploadFileDragDrop","",2,"display","block","width","100%",3,"disabled","onFileDropped"],["class","viewer-tools",4,"ngIf"],["style","width:100%;",3,"src","render-text","autoresize","original-size","show-all","error",4,"ngIf"],["class","no-doc-container","appUploadFileDragDrop","",3,"disabled","onFileDropped",4,"ngIf"],[1,"example-loading-shade"],[3,"mode","value"],[1,"percent"],[2,"padding-top","10px"],["appUploadFileDragDrop","",1,"view-doc-container",3,"disabled","onFileDropped"],[1,"fa","fa-file-upload","upload-icon"],[2,"display","flex"],[2,"margin-right","20px","align-items","center","justify-content","center","text-align","center","display","flex"],["style","width: 240px;text-align: left;font-weight:normal;font-size: 13px;",3,"label","placeholderLabel","datas","class","formControlSelect","afterSelected",4,"ngIf"],["mat-button","",1,"button-form-primary-alt",2,"align-items","center","justify-content","center","text-align","center","display","flex",3,"click"],[2,"width","240px","text-align","left","font-weight","normal","font-size","13px",3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],[1,"viewer-tools"],["mat-icon-button","",3,"matTooltip","click"],[1,"fa","fa-download"],["mat-icon-button","",3,"disabled","disabledButton","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"fas","fa-chevron-down"],["menuOptions","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-icon-button","",3,"disabled","matTooltip","click"],[1,"fa","fa-edit"],["mat-menu-item","",3,"click"],["color","primary",1,"fas","fa-external-link-alt"],["color","primary",1,"fas","fa-list-ol"],["color","primary",1,"fa","fa-file-upload"],["color","warn",1,"fa","fa-trash"],["mat-button","",3,"matBadge","matMenuTriggerFor",4,"ngIf"],["menuVersionsDoc","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"matBadge","matMenuTriggerFor"],[2,"width","100%",3,"src","render-text","autoresize","original-size","show-all","error"],["appUploadFileDragDrop","",1,"no-doc-container",3,"disabled","onFileDropped"],[1,"loaded-file"],[1,"fa","fa-file"],[3,"click"],[1,"no-view"],[1,"far","fa-eye-slash","no-view-icon"],[2,"height","100%","width","100%",3,"params","file","editMode","triggerAfterUpdatedDoc","triggerCloseEditor","triggerModifiedDocument"],["onlyofficeViewer",""],["collaboraOnlineViewer",""],[2,"margin","auto"],["mat-fab","","color","accent",2,"position","absolute","z-index","3","bottom","40px","right","60px",3,"title","click"],[1,"fas","fa-check",2,"height","auto","font-size","20px"],["mat-raised-button","","color","warn",2,"position","fixed","z-index","1","bottom","100px","right","150px",3,"title","click"]],template:function(t,e){1&t&&(s.Qc(0,B,10,6,"ng-container",0),s.Qc(1,rt,4,2,"ng-container",0),s.Qc(2,ct,3,3,"ng-container",0),s.Qc(3,dt,4,4,"ng-container",0),s.Qc(4,ht,2,1,"button",1),s.Qc(5,ut,2,1,"button",1),s.Qc(6,pt,3,4,"button",2)),2&t&&(s.sc("ngIf",e.editInProgress&&"onlyoffice"!==e.editor.mode&&"collaboraOnline"!==e.editor.mode),s.Eb(1),s.sc("ngIf",!e.editInProgress),s.Eb(1),s.sc("ngIf",e.editInProgress&&"onlyoffice"===e.editor.mode),s.Eb(1),s.sc("ngIf",e.editInProgress&&"collaboraOnline"===e.editor.mode),s.Eb(1),s.sc("ngIf",e.isDocModified&&"mainDocument"===e.mode&&null!==e.resId),s.Eb(1),s.sc("ngIf",e.isDocModified&&"attachment"===e.mode),s.Eb(1),s.sc("ngIf",!e.isDocModified&&"mainDocument"===e.mode&&null!==e.resId&&!e.functions.empty(e.file.subinfos)&&e.file.subinfos.signedDocVersions&&(e.privilegeService.hasCurrentUserPrivilege("sign_document")||e.headerService.user.id==e.file.creatorId)&&!e.hideTools))},directives:[E.t,M.b,g.c,g.t,g.w,I.a,P.a,T.a,A.b,D.a,R.d,R.e,R.b,E.s,L.a,F.a,j.a,Y.a,P.c],pipes:[y.d],styles:[".upload-icon[_ngcontent-%COMP%]{font-size:180px;opacity:.4;margin-bottom:30px}.view-doc-container[_ngcontent-%COMP%]{width:100%;height:100%;align-items:center;display:flex;flex-direction:column;justify-content:center}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.7);display:flex;flex-direction:column}.example-loading-shade[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;margin-top:-5px;color:#135f7f}.viewer-tools[_ngcontent-%COMP%]{position:fixed;margin-top:5px;z-index:1;background:#135f7f;margin-left:5px;border-radius:10px;color:#fff;display:flex;align-items:left;transition:all .5s}.viewer-tools[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:10px} .optionsListMenu{min-height:auto} .optionsListMenu .mat-menu-content{font-size:13px;padding-top:0;padding-bottom:0} .optionsListMenu .mat-icon{height:auto}.viewer-tools[_ngcontent-%COMP%]:hover   .mat-icon-button[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{transition:all .5s;border-radius:5px;background:hsla(0,0%,100%,.2)}.no-doc-container[_ngcontent-%COMP%]{width:100%;height:100%;align-items:center;display:flex;flex-direction:column;justify-content:center;font-weight:400}.no-doc-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:underline}.no-view[_ngcontent-%COMP%]{font-size:30px;opacity:.2}.no-view[_ngcontent-%COMP%]   .no-view-icon[_ngcontent-%COMP%]{font-size:100px}.noFile[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;font-size:30px;opacity:.2}.noFile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px}.loaded-file[_ngcontent-%COMP%]{position:absolute;top:105px;padding:10px;border-radius:10px;background:hsla(0,0%,100%,.28)}.extensionsList[_ngcontent-%COMP%]{height:200px;overflow:auto}.editInProgress[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:center;opacity:.5}.editInProgress[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:20px;padding-top:20px}.editInProgress[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:150px}@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}.bounce[_ngcontent-%COMP%]{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-name:bounce;animation-name:bounce;transform-origin:center bottom;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.disabledButton[_ngcontent-%COMP%]{cursor:not-allowed}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.77);z-index:2}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},GiSu:function(t,e,n){"use strict";var i=n("n3uD"),s=n("MkmW");e.empty={closed:!0,next:function(t){},error:function(t){if(i.config.useDeprecatedSynchronousErrorHandling)throw t;s.hostReportError(t)},complete:function(){}}},Gon0:function(t,e,n){"use strict";n.d(e,"a",(function(){return he}));var i=n("fXoL"),s=n("vkgz"),a=n("XqQ8"),o=n("nYR2"),r=n("JIr8"),c=n("lJxs"),l=n("pLZG"),d=n("Kj3r"),h=n("/uUt"),u=n("eIep"),p=n("3Pt+"),f=n("Nqwj"),m=n("R0Ic"),g=n("I65S"),b=n("MJ5r"),_=n("sYmb"),v=n("tk/3"),y=n("tyNb"),x=n("AXEc"),w=n("4zkx"),C=n("A6w4"),O=n("0IaG"),k=n("rH+9"),S=n("ofXK"),E=n("Xa2L"),M=n("STbY"),I=n("f0Cb"),P=n("bTqV"),T=n("NFeN"),A=n("bv9b"),D=n("MutI"),R=n("FKr1"),L=n("kmnG"),F=n("qFsG"),j=n("fBaO"),Y=n("iadO"),Z=n("QibW"),N=n("/1cH"),U=n("Wp6s");const B=["snav2"];function z(t,e){1&t&&(i.Zb(0,"div",2),i.Ub(1,"mat-spinner",3),i.Yb())}function V(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){const t=i.lc(4);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function H(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return e.display=!e.display})),i.Qc(1,V,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.filling),i.Eb(2),i.Tc(t.label)}}function Q(t,e){if(1&t&&(i.Xb(0),i.Qc(1,H,4,2,"button",18),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",!t.display&&"mainInfo"===t.unit)}}function $(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){const t=i.lc(4);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function W(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return e.display=!e.display})),i.Qc(1,$,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.filling),i.Eb(2),i.Tc(t.label)}}function G(t,e){if(1&t&&(i.Xb(0),i.Qc(1,W,4,2,"button",18),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",!t.display&&"address"===t.unit)}}function q(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){const t=i.lc(4);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function X(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return e.display=!e.display})),i.Qc(1,q,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.filling),i.Eb(2),i.Tc(t.label)}}function J(t,e){if(1&t&&(i.Xb(0),i.Qc(1,X,4,2,"button",18),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",!t.display&&"complement"===t.unit)}}function K(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){const t=i.lc(4);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function tt(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return e.display=!e.display})),i.Qc(1,K,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.filling),i.Eb(2),i.Tc(t.label)}}function et(t,e){if(1&t&&(i.Xb(0),i.Qc(1,tt,4,2,"button",18),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",!t.display&&"maarch2maarch"===t.unit)}}function nt(t,e){if(1&t&&(i.Zb(0,"div",22),i.Zb(1,"div",23),i.Sc(2),i.mc(3,"translate"),i.Zb(4,"b"),i.Sc(5),i.Yb(),i.Yb(),i.Ub(6,"mat-progress-bar",24),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.Pc("color",t.fillingRate.color),i.Eb(1),i.Uc("",i.nc(3,6,"lang.contactFilledTo")," "),i.Eb(3),i.Uc("",t.fillingRate.value," %"),i.Eb(1),i.sc("color",t.fillingRate.class)("value",t.fillingRate.value)}}function it(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",25),i.Zb(1,"div",22),i.Sc(2),i.mc(3,"translate"),i.Zb(4,"b"),i.Sc(5),i.Yb(),i.Sc(6),i.mc(7,"translate"),i.Zb(8,"a",26),i.hc("click",(function(){i.Hc(t);const e=i.lc(2);return e.setAddress(e.companyFound)})),i.Sc(9),i.mc(10,"translate"),i.mc(11,"translate"),i.Yb(),i.Sc(12),i.mc(13,"translate"),i.Ub(14,"br"),i.Zb(15,"q",27),i.Sc(16),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.sc("@hideShow",void 0),i.Eb(2),i.Uc(" ",i.nc(3,12,"lang.contactsParameters_company")," "),i.Eb(3),i.Tc(t.companyFound.company),i.Eb(1),i.Uc(" ",i.nc(7,14,"lang.found")," ! "),i.Eb(3),i.Vc("",i.nc(10,16,"lang.click")," ",i.nc(11,18,"lang.here"),""),i.Eb(3),i.Uc(" ",i.nc(13,20,"lang.toCopyAddress")," :"),i.Eb(4),i.Yc("",t.companyFound.addressNumber," ",t.companyFound.addressStreet,", ",t.companyFound.addressPostcode," ",t.companyFound.addressTown,", ",t.companyFound.addressCountry,"")}}function st(t,e){if(1&t){const t=i.ac();i.Zb(0,"a",32),i.hc("click",(function(){i.Hc(t);const e=i.lc(4);return e.addressBANMode=!e.addressBANMode})),i.Sc(1),i.Yb()}if(2&t){const t=i.lc(4);i.Eb(1),i.Tc(t.translate.instant(t.addressBANMode?"lang.switchManualAddress":"lang.searchAddressDb"))}}function at(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){const t=i.lc(4).$implicit;i.sc("innerHTML",t.desc,i.Ic)}}function ot(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){const t=i.lc(4).$implicit,e=i.lc(4);i.Eb(1),i.Uc(" ",e.getErrorMsg(t.control.errors),"")}}function rt(t,e){if(1&t&&i.Ub(0,"mat-icon",43),2&t){const t=i.lc(8);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function ct(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"mat-form-field"),i.Zb(2,"input",39),i.hc("blur",(function(){i.Hc(t);const e=i.lc(3).$implicit,n=i.lc(4);return n.checkCompany(e),n.checkFilling()}))("ngModelChange",(function(e){i.Hc(t);const n=i.lc(3).$implicit;return i.lc(4).toUpperCase(n,e)})),i.Yb(),i.Qc(3,at,1,1,"mat-hint",40),i.Qc(4,ot,2,1,"mat-error",34),i.Qc(5,rt,1,3,"mat-icon",41),i.Yb(),i.Wb()}if(2&t){const t=i.lc(3).$implicit,e=i.lc(4);i.Eb(2),i.sc("formControl",t.control)("placeholder",t.label)("required",t.required),i.Eb(1),i.sc("ngIf",!e.isEmptyValue(t.desc)),i.Eb(1),i.sc("ngIf","VALID"!==t.control.status&&t.control.touched),i.Eb(1),i.sc("ngIf",t.filling)}}function lt(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){const t=i.lc(4).$implicit,e=i.lc(4);i.Eb(1),i.Uc(" ",e.getErrorMsg(t.control.errors),"")}}function dt(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-form-field"),i.Ub(2,"input",44),i.Qc(3,lt,2,1,"mat-error",34),i.Yb(),i.Wb()),2&t){const t=i.lc(3).$implicit;i.Eb(2),i.sc("formControl",t.control)("placeholder",t.label)("required",t.required),i.Eb(1),i.sc("ngIf","VALID"!==t.control.status&&t.control.touched)}}const ht=function(t,e){return{class:"fa-circle",color:t,title:e}};function ut(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"plugin-select-search",45),i.Wb()),2&t){const t=i.lc(3).$implicit,e=i.lc(4);i.Eb(1),i.Gb(""),i.sc("label",t.label)("required",t.required)("showLabel",!0)("formControlSelect",t.control)("placeholderLabel",t.label)("hideErrorDesc",!1)("datas",t.values)("suffixIcon",t.filling?i.Ac(10,ht,e.fillingRate.color,e.translate.instant("lang.targetFillingField")):null)}}function pt(t,e){if(1&t&&i.Ub(0,"mat-datepicker-toggle",51),2&t){i.lc();const t=i.Dc(7);i.sc("for",t)}}function ft(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",52),i.hc("click",(function(e){i.Hc(t);const n=i.lc(4).$implicit;return e.stopPropagation(),n.control.reset()})),i.Ub(1,"mat-icon",53),i.Yb()}if(2&t){const t=i.lc(8);i.sc("title",t.translate.instant("lang.eraseValue"))}}function mt(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"mat-form-field",32),i.hc("click",(function(){return i.Hc(t),i.Dc(7).open()})),i.Zb(2,"mat-label"),i.Sc(3),i.Yb(),i.Ub(4,"input",46),i.Qc(5,pt,1,1,"mat-datepicker-toggle",47),i.Ub(6,"mat-datepicker",48,49),i.Qc(8,ft,2,1,"button",50),i.Yb(),i.Wb()}if(2&t){const t=i.Dc(7),e=i.lc(3).$implicit,n=i.lc(4);i.Eb(3),i.Uc("",e.label," "),i.Eb(1),i.sc("formControl",e.control)("matDatepicker",t)("placeholder",e.label),i.Eb(1),i.sc("ngIf",!e.control.value),i.Eb(1),i.sc("touchUi",n.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.control.value&&!e.control.disabled)}}function gt(t,e){1&t&&(i.Xb(0),i.Sc(1,"* "),i.Wb())}function bt(t,e){if(1&t&&(i.Zb(0,"mat-radio-button",58),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t.id),i.Eb(1),i.Uc(" ",t.label," ")}}function _t(t,e){if(1&t&&i.Ub(0,"i",59),2&t){const t=i.lc(8);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function vt(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){const t=i.lc(4).$implicit,e=i.lc(4);i.Eb(1),i.Uc(" ",e.getErrorMsg(t.control.errors),"")}}function yt(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"label",54),i.Sc(2),i.Qc(3,gt,2,0,"ng-container",34),i.Yb(),i.Zb(4,"mat-radio-group",55),i.Qc(5,bt,2,2,"mat-radio-button",56),i.Yb(),i.Qc(6,_t,1,3,"i",57),i.Qc(7,vt,2,1,"mat-error",34),i.Wb()),2&t){const t=i.lc(3).$implicit;i.Eb(2),i.Uc("",t.label," "),i.Eb(1),i.sc("ngIf",t.required),i.Eb(1),i.sc("formControl",t.control),i.Eb(1),i.sc("ngForOf",t.values),i.Eb(1),i.sc("ngIf",t.filling),i.Eb(1),i.sc("ngIf","VALID"!==t.control.status&&t.control.touched)}}function xt(t,e){1&t&&(i.Xb(0),i.Sc(1,"* "),i.Wb())}function wt(t,e){if(1&t&&(i.Zb(0,"mat-list-option",63),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t.id),i.Eb(1),i.Uc(" ",t.label," ")}}function Ct(t,e){if(1&t&&i.Ub(0,"i",59),2&t){const t=i.lc(8);i.Pc("color",t.fillingRate.color),i.sc("title",t.translate.instant("lang.targetFillingField"))}}function Ot(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){const t=i.lc(4).$implicit,e=i.lc(4);i.Eb(1),i.Uc(" ",e.getErrorMsg(t.control.errors),"")}}function kt(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"label",54),i.Sc(2),i.Qc(3,xt,2,0,"ng-container",34),i.Yb(),i.Zb(4,"mat-selection-list",60,61),i.Qc(6,wt,2,2,"mat-list-option",62),i.Yb(),i.Qc(7,Ct,1,3,"i",57),i.Qc(8,Ot,2,1,"mat-error",34),i.Wb()),2&t){const t=i.lc(3).$implicit;i.Eb(2),i.Uc("",t.label," "),i.Eb(1),i.sc("ngIf",t.required),i.Eb(1),i.sc("formControl",t.control),i.Eb(2),i.sc("ngForOf",t.values),i.Eb(1),i.sc("ngIf",t.filling),i.Eb(1),i.sc("ngIf","VALID"!==t.control.status&&t.control.touched)}}function St(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){const t=i.lc(5).$implicit;i.sc("innerHTML",t.desc,i.Ic)}}function Et(t,e){if(1&t&&(i.Zb(0,"mat-option",58),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t.unitOrganization," ")}}function Mt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Et,2,2,"mat-option",56),i.mc(2,"async"),i.Wb()),2&t){const t=i.lc(9);i.Eb(1),i.sc("ngForOf",i.nc(2,1,t.communicationMeanFilteredResult))}}function It(t,e){if(1&t&&i.Ub(0,"mat-option",70),2&t){const t=i.lc(9);i.sc("innerHTML",t.communicationMeanInfo,i.Ic)}}function Pt(t,e){1&t&&(i.Zb(0,"mat-option",71),i.Ub(1,"mat-spinner",72),i.Yb())}function Tt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"input",64,65),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("keyup",(function(){return i.Hc(t),i.lc(8).resetM2MFields()})),i.Yb(),i.Qc(3,St,1,1,"mat-hint",40),i.Zb(4,"mat-autocomplete",66,67),i.hc("optionSelected",(function(e){return i.Hc(t),i.lc(8).selectCommunicationMean(e)})),i.Qc(6,Mt,3,3,"ng-container",34),i.Qc(7,It,1,1,"mat-option",68),i.Qc(8,Pt,2,0,"mat-option",69),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(5),e=i.lc(4).$implicit,n=i.lc(4);i.Eb(1),i.sc("placeholder",n.translate.instant("lang.searchCommunicationMean"))("formControl",e.control)("matAutocomplete",t),i.Eb(2),i.sc("ngIf",!n.isEmptyValue(e.desc)),i.Eb(3),i.sc("ngIf",n.communicationMeanResult.length>0&&!n.communicationMeanLoading),i.Eb(1),i.sc("ngIf",0===n.communicationMeanResult.length&&!n.communicationMeanLoading),i.Eb(1),i.sc("ngIf",n.communicationMeanLoading)}}function At(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){const t=i.lc(5).$implicit;i.sc("innerHTML",t.desc,i.Ic)}}function Dt(t,e){if(1&t&&(i.Zb(0,"mat-form-field"),i.Ub(1,"input",73,65),i.Qc(3,At,1,1,"mat-hint",40),i.Yb()),2&t){const t=i.lc(4).$implicit,e=i.lc(4);i.Eb(1),i.sc("placeholder",e.translate.instant("lang.communicationMean"))("formControl",t.control),i.Eb(2),i.sc("ngIf",!e.isEmptyValue(t.desc))}}function Rt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Tt,9,7,"mat-form-field",34),i.Qc(2,Dt,4,3,"mat-form-field",34),i.Wb()),2&t){const t=i.lc(7);i.Eb(1),i.sc("ngIf",t.annuaryEnabled),i.Eb(1),i.sc("ngIf",!t.annuaryEnabled)}}function Lt(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){const t=i.lc(5).$implicit;i.sc("innerHTML",t.desc,i.Ic)}}function Ft(t,e){if(1&t&&(i.Zb(0,"mat-option",58),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t.unitOrganization," ")}}function jt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Ft,2,2,"mat-option",56),i.mc(2,"async"),i.Wb()),2&t){const t=i.lc(9);i.Eb(1),i.sc("ngForOf",i.nc(2,1,t.externalId_m2mFilteredResult))}}function Yt(t,e){if(1&t&&i.Ub(0,"mat-option",70),2&t){const t=i.lc(9);i.sc("innerHTML",t.externalId_m2mInfo,i.Ic)}}function Zt(t,e){1&t&&(i.Zb(0,"mat-option",71),i.Ub(1,"mat-spinner",72),i.Yb())}function Nt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"input",64,74),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("keyup",(function(){return i.Hc(t),i.lc(8).resetAutocompleteExternalIdM2M()})),i.Yb(),i.Qc(3,Lt,1,1,"mat-hint",40),i.Zb(4,"mat-autocomplete",66,67),i.hc("optionSelected",(function(e){return i.Hc(t),i.lc(8).selectExternalIdM2M(e)})),i.Qc(6,jt,3,3,"ng-container",34),i.Qc(7,Yt,1,1,"mat-option",68),i.Qc(8,Zt,2,0,"mat-option",69),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(5),e=i.lc(4).$implicit,n=i.lc(4);i.Eb(1),i.sc("placeholder",n.translate.instant("lang.searchExternalIdM2M"))("formControl",e.control)("matAutocomplete",t),i.Eb(2),i.sc("ngIf",!n.isEmptyValue(e.desc)),i.Eb(3),i.sc("ngIf",n.externalId_m2mResult.length>0&&!n.externalId_m2mLoading),i.Eb(1),i.sc("ngIf",0===n.externalId_m2mResult.length&&!n.externalId_m2mLoading),i.Eb(1),i.sc("ngIf",n.externalId_m2mLoading)}}function Ut(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){const t=i.lc(5).$implicit;i.sc("innerHTML",t.desc,i.Ic)}}function Bt(t,e){if(1&t&&(i.Zb(0,"mat-form-field"),i.Ub(1,"input",73,74),i.Qc(3,Ut,1,1,"mat-hint",40),i.Yb()),2&t){const t=i.lc(4).$implicit,e=i.lc(4);i.Eb(1),i.sc("placeholder",e.translate.instant("lang.IdMaarch2Maarch"))("formControl",t.control),i.Eb(2),i.sc("ngIf",!e.isEmptyValue(t.desc))}}function zt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Nt,9,7,"mat-form-field",34),i.Qc(2,Bt,4,3,"mat-form-field",34),i.Wb()),2&t){const t=i.lc(7);i.Eb(1),i.sc("ngIf",t.annuaryEnabled),i.Eb(1),i.sc("ngIf",!t.annuaryEnabled)}}function Vt(t,e){if(1&t&&(i.Zb(0,"p",38),i.Qc(1,ct,6,6,"ng-container",34),i.Qc(2,dt,4,4,"ng-container",34),i.Qc(3,ut,2,13,"ng-container",34),i.Qc(4,mt,9,7,"ng-container",34),i.Qc(5,yt,8,6,"ng-container",34),i.Qc(6,kt,9,6,"ng-container",34),i.Qc(7,Rt,3,2,"ng-container",34),i.Qc(8,zt,3,2,"ng-container",34),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.sc("ngIf","string"===t.type&&"communicationMeans"!==t.id&&"externalId_m2m"!==t.id),i.Eb(1),i.sc("ngIf","integer"===t.type),i.Eb(1),i.sc("ngIf","select"===t.type),i.Eb(1),i.sc("ngIf","date"===t.type),i.Eb(1),i.sc("ngIf","radio"===t.type),i.Eb(1),i.sc("ngIf","checkbox"===t.type),i.Eb(1),i.sc("ngIf","communicationMeans"===t.id),i.Eb(1),i.sc("ngIf","externalId_m2m"===t.id)}}function Ht(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",75),i.hc("click",(function(){i.Hc(t);const e=i.lc(2).$implicit;return i.lc(4).removeField(e)})),i.Ub(1,"mat-icon",76),i.Yb()}if(2&t){const t=i.lc(2).$implicit,e=i.lc(4);i.sc("disabled",!e.canDelete(t))}}function Qt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",35),i.Qc(1,Vt,9,8,"p",36),i.Qc(2,Ht,2,1,"button",37),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.display),i.Eb(1),i.sc("ngIf",t.display)}}function $t(t,e){1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.requiredField"),""))}function Wt(t,e){if(1&t&&(i.Zb(0,"p",38),i.Zb(1,"mat-form-field"),i.Ub(2,"input",77),i.Qc(3,$t,3,3,"mat-error",34),i.Yb(),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(2),i.sc("formControl",t.control)("placeholder",t.label)("required",t.required),i.Eb(1),i.sc("ngIf",t.control.hasError("required"))}}function Gt(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",75),i.hc("click",(function(){i.Hc(t);const e=i.lc(2).$implicit;return i.lc(4).removeField(e)})),i.Ub(1,"mat-icon",76),i.Yb()}if(2&t){const t=i.lc(2).$implicit,e=i.lc(4);i.sc("disabled",!e.canDelete(t))}}function qt(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-list-item",35),i.Qc(2,Wt,4,4,"p",36),i.Qc(3,Gt,2,1,"button",37),i.Yb(),i.Wb()),2&t){const t=i.lc().$implicit;i.Eb(2),i.sc("ngIf",t.display),i.Eb(1),i.sc("ngIf",t.display)}}function Xt(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(6).addressBANCurrentDepartment=n})),i.Sc(1),i.Yb()}if(2&t){const t=e.$implicit;i.Eb(1),i.Tc(t)}}function Jt(t,e){if(1&t&&(i.Zb(0,"mat-option",58),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t.address," ")}}function Kt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Jt,2,2,"mat-option",56),i.mc(2,"async"),i.Wb()),2&t){const t=i.lc(6);i.Eb(1),i.sc("ngForOf",i.nc(2,1,t.addressBANFilteredResult))}}function te(t,e){if(1&t&&i.Ub(0,"mat-option",70),2&t){const t=i.lc(6);i.sc("innerHTML",t.addressBANInfo,i.Ic)}}function ee(t,e){1&t&&(i.Zb(0,"mat-option",71),i.Ub(1,"mat-spinner",72),i.Yb())}function ne(t,e){if(1&t&&(i.Zb(0,"p",38),i.Sc(1),i.Yb()),2&t){const t=i.lc(7);i.Eb(1),i.Uc(" ",t.getValue("addressAdditional1")," ")}}function ie(t,e){if(1&t&&(i.Zb(0,"p",38),i.Sc(1),i.Yb()),2&t){const t=i.lc(7);i.Eb(1),i.Uc(" ",t.getValue("addressAdditional2")," ")}}function se(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-card",87),i.Zb(1,"mat-list-item",88),i.hc("click",(function(){return i.Hc(t),i.lc(6).goTo()})),i.Ub(2,"mat-icon",89),i.Qc(3,ne,2,1,"p",36),i.Zb(4,"p",38),i.Sc(5),i.Yb(),i.Qc(6,ie,2,1,"p",36),i.Zb(7,"p",38),i.Sc(8),i.Yb(),i.Zb(9,"p",38),i.Sc(10),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(6);i.Eb(1),i.sc("title",t.translate.instant("lang.address")),i.Eb(2),i.sc("ngIf",!t.isEmptyValue(t.getValue("addressAdditional1"))),i.Eb(2),i.Vc(" ",t.getValue("addressNumber")," ",t.getValue("addressStreet")," "),i.Eb(1),i.sc("ngIf",!t.isEmptyValue(t.getValue("addressAdditional2"))),i.Eb(2),i.Vc(" ",t.getValue("addressPostcode")," ",t.getValue("addressTown")," "),i.Eb(2),i.Uc(" ",t.getValue("addressCountry")," ")}}function ae(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"mat-list-item"),i.Zb(2,"p",38),i.Zb(3,"mat-form-field",78),i.Zb(4,"button",79),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Sc(5),i.Ub(6,"i",80),i.Yb(),i.Zb(7,"mat-menu",null,81),i.Qc(9,Xt,2,1,"button",82),i.Yb(),i.Ub(10,"mat-icon",83),i.Zb(11,"input",84,85),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("focus",(function(){return i.Hc(t),i.lc(5).resetAutocompleteAddressBan()})),i.Yb(),i.Zb(13,"mat-autocomplete",66,67),i.hc("optionSelected",(function(e){return i.Hc(t),i.lc(5).selectAddressBan(e)})),i.Qc(15,Kt,3,3,"ng-container",34),i.Qc(16,te,1,1,"mat-option",68),i.Qc(17,ee,2,0,"mat-option",69),i.Yb(),i.Yb(),i.Qc(18,se,11,8,"mat-card",86),i.Yb(),i.Yb(),i.Wb()}if(2&t){const t=i.Dc(8),e=i.Dc(14),n=i.lc(5);i.Eb(4),i.sc("matMenuTriggerFor",t)("title",n.translate.instant("lang.targetDepartment")),i.Eb(1),i.Uc(" ",n.addressBANCurrentDepartment,"\xa0"),i.Eb(4),i.sc("ngForOf",n.departmentList),i.Eb(2),i.sc("placeholder",n.translate.instant("lang.searchAddressBan"))("formControl",n.addressBANControl)("matAutocomplete",e),i.Eb(4),i.sc("ngIf",n.addressBANResult.length>0&&!n.addressBANLoading),i.Eb(1),i.sc("ngIf",0===n.addressBANResult.length&&!n.addressBANLoading),i.Eb(1),i.sc("ngIf",n.addressBANLoading),i.Eb(1),i.sc("ngIf",!n.emptyAddress())}}const oe=function(){return["addressAdditional1","addressAdditional2"]};function re(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Qt,3,2,"mat-list-item",33),i.Qc(2,qt,4,2,"ng-container",34),i.Qc(3,ae,19,11,"ng-container",34),i.Wb()),2&t){const t=e.$implicit,n=e.index,s=i.lc(2).$implicit,a=i.lc(2);i.Eb(1),i.sc("ngIf",t.unit===s.id&&"address"!==s.id||t.unit===s.id&&"address"===s.id&&!a.addressBANMode),i.Eb(1),i.sc("ngIf","address"===s.id&&a.addressBANMode&&i.yc(3,oe).indexOf(t.id)>-1),i.Eb(1),i.sc("ngIf","address"===s.id&&a.addressBANMode&&0===n)}}function ce(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"mat-list"),i.Zb(2,"h3",29),i.Zb(3,"span",30),i.Sc(4),i.Yb(),i.Qc(5,st,2,1,"a",31),i.Yb(),i.Qc(6,re,4,4,"ng-container",8),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.Jb("col-sm-12","maarch2maarch"!==t.id&&"complement"!==t.id&&!e.isEmptyUnit("mainInfo")&&!e.isEmptyUnit("address"))("col-md-6","maarch2maarch"!==t.id&&"complement"!==t.id&&!e.isEmptyUnit("mainInfo")&&!e.isEmptyUnit("address"))("col-md-12","complement"===t.id||"maarch2maarch"===t.id),i.Eb(4),i.Tc(t.label),i.Eb(1),i.sc("ngIf","address"===t.id),i.Eb(1),i.sc("ngForOf",e.contactForm)}}function le(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ce,7,9,"div",28),i.Wb()),2&t){const t=e.$implicit,n=i.lc(2);i.Eb(1),i.sc("ngIf",!n.isEmptyUnit(t.id))}}function de(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-menu",null,4),i.Zb(2,"button",5),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"button",5),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"button",5),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Zb(11,"button",5),i.Sc(12,"Maarch2Maarch"),i.Yb(),i.Yb(),i.Zb(13,"mat-menu",null,6),i.Zb(15,"button",7),i.hc("click",(function(){return i.Hc(t),i.lc().toogleAllFieldsUnit("mainInfo")})),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Ub(18,"mat-divider"),i.Qc(19,Q,2,1,"ng-container",8),i.Yb(),i.Zb(20,"mat-menu",null,9),i.Zb(22,"button",7),i.hc("click",(function(){return i.Hc(t),i.lc().toogleAllFieldsUnit("address")})),i.Sc(23),i.mc(24,"translate"),i.Yb(),i.Ub(25,"mat-divider"),i.Qc(26,G,2,1,"ng-container",8),i.Yb(),i.Zb(27,"mat-menu",null,10),i.Zb(29,"button",7),i.hc("click",(function(){return i.Hc(t),i.lc().toogleAllFieldsUnit("complement")})),i.Sc(30),i.mc(31,"translate"),i.Yb(),i.Ub(32,"mat-divider"),i.Qc(33,J,2,1,"ng-container",8),i.Yb(),i.Zb(34,"mat-menu",null,11),i.Zb(36,"button",7),i.hc("click",(function(){return i.Hc(t),i.lc().toogleAllFieldsUnit("maarch2maarch")})),i.Sc(37),i.mc(38,"translate"),i.Yb(),i.Ub(39,"mat-divider"),i.Qc(40,et,2,1,"ng-container",8),i.Yb(),i.Qc(41,nt,7,8,"div",12),i.Qc(42,it,17,22,"div",13),i.Zb(43,"div",14),i.Qc(44,le,2,1,"ng-container",8),i.Yb(),i.Zb(45,"div",15),i.Zb(46,"button",16),i.Sc(47),i.mc(48,"translate"),i.Yb(),i.Zb(49,"button",17),i.hc("click",(function(){return i.Hc(t),i.lc().onSubmit()})),i.Sc(50),i.mc(51,"translate"),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(1),e=i.Dc(14),n=i.Dc(21),s=i.Dc(28),a=i.Dc(35),o=i.lc();i.Eb(2),i.sc("matMenuTriggerFor",e)("disabled",o.noField("mainInfo")),i.Eb(1),i.Tc(i.nc(4,25,"lang.denomination")),i.Eb(2),i.sc("matMenuTriggerFor",n)("disabled",o.noField("address")),i.Eb(1),i.Tc(i.nc(7,27,"lang.address")),i.Eb(2),i.sc("matMenuTriggerFor",s)("disabled",o.noField("complement")),i.Eb(1),i.Tc(i.nc(10,29,"lang.additionals")),i.Eb(2),i.sc("matMenuTriggerFor",a)("disabled",o.noField("maarch2maarch")),i.Eb(5),i.Tc(i.nc(17,31,"lang.addAll")),i.Eb(3),i.sc("ngForOf",o.contactForm),i.Eb(4),i.Tc(i.nc(24,33,"lang.addAll")),i.Eb(3),i.sc("ngForOf",o.contactForm),i.Eb(4),i.Tc(i.nc(31,35,"lang.addAll")),i.Eb(3),i.sc("ngForOf",o.contactForm),i.Eb(4),i.Tc(i.nc(38,37,"lang.addAll")),i.Eb(3),i.sc("ngForOf",o.contactForm),i.Eb(1),i.sc("ngIf",o.fillingParameters.enable),i.Eb(1),i.sc("ngIf",null!==o.companyFound),i.Eb(2),i.sc("ngForOf",o.contactUnit),i.Eb(2),i.sc("matMenuTriggerFor",t),i.Eb(1),i.Uc("",i.nc(48,39,"lang.moreInfos"),"..."),i.Eb(3),i.Tc(i.nc(51,41,"lang.validate"))}}let he=(()=>{class t{constructor(t,e,n,s,a,o,r,c,l,d){this.translate=t,this.http=e,this.route=n,this.router=s,this.notify=a,this.headerService=o,this.appService=r,this.dialog=c,this.contactService=l,this.functions=d,this.loading=!1,this.creationMode=!0,this.contactId=null,this.onSubmitEvent=new i.o,this.maarch2maarchUrl=`https://docs.maarch.org/gitbook/html/MaarchCourrier/${b.a.VERSION.split(".")[0]+"."+b.a.VERSION.split(".")[1]}/guat/guat_exploitation/maarch2maarch.html`,this.contactUnit=[{id:"mainInfo",label:this.translate.instant("lang.denomination")},{id:"address",label:this.translate.instant("lang.address")},{id:"complement",label:this.translate.instant("lang.additionals")},{id:"maarch2maarch",label:"Maarch2Maarch"}],this.contactForm=[{id:"company",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_company"),type:"string",control:new p.h,required:!1,display:!0,filling:!1,values:[]},{id:"civility",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_civility"),type:"select",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"firstname",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_firstname"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"lastname",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_lastname"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"function",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_function"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"department",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_department"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"email",unit:"mainInfo",label:this.translate.instant("lang.email"),type:"string",control:new p.h,required:!1,display:!0,filling:!1,values:[]},{id:"phone",unit:"mainInfo",label:this.translate.instant("lang.phoneNumber"),type:"string",control:new p.h,required:!1,display:!0,filling:!1,values:[]},{id:"addressAdditional1",unit:"address",label:this.translate.instant("lang.contactsParameters_addressAdditional1"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressNumber",unit:"address",label:this.translate.instant("lang.contactsParameters_addressNumber"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressStreet",unit:"address",label:this.translate.instant("lang.contactsParameters_addressStreet"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressAdditional2",unit:"address",label:this.translate.instant("lang.contactsParameters_addressAdditional2"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressPostcode",unit:"address",label:this.translate.instant("lang.contactsParameters_addressPostcode"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressTown",unit:"address",label:this.translate.instant("lang.contactsParameters_addressTown"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressCountry",unit:"address",label:this.translate.instant("lang.contactsParameters_addressCountry"),type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"communicationMeans",unit:"maarch2maarch",label:this.translate.instant("lang.communicationMean"),desc:`${this.translate.instant("lang.communicationMeanDesc")} (${this.translate.instant("lang.see")} <a href="${this.maarch2maarchUrl}" target="_blank">MAARCH2MAARCH</a>)`,type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]},{id:"externalId_m2m",unit:"maarch2maarch",label:this.translate.instant("lang.IdMaarch2Maarch"),desc:`${this.translate.instant("lang.m2mContactInfo")} (${this.translate.instant("lang.see")} <a href="${this.maarch2maarchUrl}" target="_blank">MAARCH2MAARCH</a>)`,type:"string",control:new p.h,required:!1,display:!1,filling:!1,values:[]}],this.addressBANInfo="",this.addressBANMode=!0,this.addressBANControl=new p.h,this.addressBANLoading=!1,this.addressBANResult=[],this.addressBANCurrentDepartment="75",this.departmentList=[],this.fillingParameters=null,this.fillingRate={class:"warn",color:this.contactService.getFillingColor("first"),value:0},this.companyFound=null,this.communicationMeanInfo="",this.communicationMeanResult=[],this.communicationMeanLoading=!1,this.externalId_m2mInfo="",this.externalId_m2mResult=[],this.externalId_m2mLoading=!1,this.annuaryM2MId=null,this.annuaryEnabled=!1}ngOnInit(){this.loading=!0,this.initBanSearch(),null===this.contactId?(this.creationMode=!0,this.http.get("../rest/contactsParameters").pipe(Object(s.a)(t=>{this.fillingParameters=t.contactsFilling,this.initElemForm(t),this.annuaryEnabled=t.annuaryEnabled}),Object(a.a)(()=>this.http.get("../rest/civilities")),Object(s.a)(t=>{this.initCivilities(t.civilities)}),Object(a.a)(()=>this.http.get("../rest/contactsCustomFields")),Object(s.a)(t=>{this.initCustomElementForm(t),this.initAutocompleteAddressBan(),this.initAutocompleteCommunicationMeans(),this.initAutocompleteExternalIdM2M()}),Object(o.a)(()=>this.loading=!1),Object(r.a)(t=>(this.notify.handleErrors(t),Object(g.of)(!1)))).subscribe()):(this.creationMode=!1,this.contactForm.forEach(t=>{t.display=!1}),this.http.get("../rest/contactsParameters").pipe(Object(s.a)(t=>{this.fillingParameters=t.contactsFilling,this.initElemForm(t),this.annuaryEnabled=t.annuaryEnabled}),Object(a.a)(()=>this.http.get("../rest/civilities")),Object(s.a)(t=>{this.initCivilities(t.civilities)}),Object(a.a)(()=>this.http.get("../rest/contactsCustomFields")),Object(s.a)(t=>{this.initCustomElementForm(t),this.initAutocompleteAddressBan(),this.initAutocompleteCommunicationMeans(),this.initAutocompleteExternalIdM2M()}),Object(a.a)(()=>this.http.get("../rest/contacts/"+this.contactId)),Object(c.a)(t=>(t.fillingRate=this.contactService.formatFillingObject(t.fillingRate),t)),Object(s.a)(t=>{this.setContactData(t),this.setContactDataExternal(t)}),Object(l.a)(t=>null!==t.customFields),Object(s.a)(t=>{this.setContactCustomData(t)}),Object(o.a)(()=>this.loading=!1),Object(r.a)(t=>(this.notify.handleErrors(t),Object(g.of)(!1)))).subscribe())}initElemForm(t){let e=[];t.contactsParameters.forEach(t=>{let n=this.contactForm.filter(e=>e.id===t.identifier)[0];if(e=[],void 0===n&&void 0!==t.identifier.split("_")[1]){let e={};e={id:"customField_"+t.identifier.split("_")[1],unit:"complement",label:null,type:null,control:new p.h,required:!1,display:!1,values:[]},this.contactForm.push(e),n=this.contactForm.filter(t=>t.id===e.id)[0]}void 0!==n&&((t.filling&&this.fillingParameters.enable&&this.creationMode||t.mandatory)&&(n.display=!0),t.filling&&this.fillingParameters.enable&&(n.filling=!0),"email"===t.identifier?e.push(p.H.email):"phone"===t.identifier&&e.push(p.H.pattern(/^\+?((|\ |\.|\(|\)|\-)?(\d)*)*\d$/)),t.mandatory&&(n.required=!0,e.push(p.H.required)),n.control.setValidators(e))})}initCivilities(t){const e=[];Object.keys(t).forEach(n=>{e.push({id:n,label:t[n].label})}),this.contactForm.filter(t=>"civility"===t.id)[0].values=e}initCustomElementForm(t){let e=[],n={};t.customFields.forEach(t=>{e=[],n=this.contactForm.filter(e=>e.id==="customField_"+t.id)[0],void 0!==n&&(n.label=t.label,n.type=t.type,n.values=t.values.map(t=>({id:t,label:t})),"integer"===t.type&&(e.push(p.H.pattern(/^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/)),n.control.setValidators(e)))})}setContactData(t){let e=-1;Object.keys(t).forEach(n=>{e=this.contactForm.map(t=>t.id).indexOf(n),!this.isEmptyValue(t[n])&&e>-1&&(this.contactForm[e].control.setValue("civility"===n?t[n].id:t[n]),"company"===n&&this.isEmptyValue(this.contactForm.filter(t=>"lastname"===t.id)[0].control.value)?this.contactForm.filter(t=>"lastname"===t.id)[0].display=!1:"lastname"===n&&this.isEmptyValue(this.contactForm.filter(t=>"company"===t.id)[0].control.value)&&(this.contactForm.filter(t=>"company"===t.id)[0].display=!1),this.contactForm[e].display=!0)}),this.isEmptyValue(this.contactForm.filter(t=>"company"===t.id)[0].control.value)&&!this.isEmptyValue(this.contactForm.filter(t=>"lastname"===t.id)[0].control.value)&&(this.contactForm.filter(t=>"company"===t.id)[0].display=!1),this.checkFilling()}setContactDataExternal(t){void 0!==t.externalId&&Object.keys(t.externalId).forEach(e=>{this.isEmptyValue(t.externalId[e])||("m2m"===e?(this.contactForm.filter(t=>"externalId_m2m"===t.id)[0].control.setValue(t.externalId[e]),this.contactForm.filter(t=>"externalId_m2m"===t.id)[0].display=!0):this.contactForm.push("m2m_annuary_id"===e?{id:"externalId_"+e,unit:"maarch2maarch",label:e,type:"string",control:new p.h({value:t.externalId[e],disabled:!0}),required:!1,display:!0,filling:!1,values:[]}:{id:"externalId_"+e,unit:"complement",label:e,type:"string",control:new p.h({value:t.externalId[e],disabled:!0}),required:!1,display:!0,filling:!1,values:[]}))})}setContactCustomData(t){let e=-1;Object.keys(t.customFields).forEach(n=>{if(e=this.contactForm.map(t=>t.id).indexOf("customField_"+n),!this.isEmptyValue(t.customFields[n])&&e>-1){if("date"===this.contactForm[e].type){const e=new Date(this.functions.formatFrenchDateToTechnicalDate(t.customFields[n]));t.customFields[n]=e}this.contactForm[e].control.setValue(t.customFields[n]),this.contactForm[e].display=!0}}),this.checkFilling()}initBanSearch(){this.http.get("../rest/ban/availableDepartments").pipe(Object(s.a)(t=>{null!==t.default&&-1!==t.departments.indexOf(t.default.toString())&&(this.addressBANCurrentDepartment=t.default),this.departmentList=t.departments}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(g.of)(!1)))).subscribe()}isValidForm(){let t=!0;return this.contactForm.filter(t=>t.display).forEach(e=>{"DISABLED"!==e.control.status&&"VALID"!==e.control.status&&(t=!1),e.control.markAsTouched()}),t}onSubmit(){this.checkFilling(),this.addressBANMode&&this.emptyAddress()&&!this.noAddressRequired()?this.notify.error(this.translate.instant("lang.chooseBAN")):this.isValidForm()?null!==this.contactId?this.updateContact():this.createContact():this.notify.error(this.translate.instant("lang.mustFixErrors"))}createContact(){this.http.post("../rest/contacts",this.formatContact()).pipe(Object(s.a)(t=>{this.onSubmitEvent.emit(t.id),this.notify.success(this.translate.instant("lang.contactAdded")),this.functions.empty(t.warning)||this.notify.error(t.warning)}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(g.of)(!1)))).subscribe()}updateContact(){this.http.put("../rest/contacts/"+this.contactId,this.formatContact()).pipe(Object(s.a)(t=>{this.onSubmitEvent.emit(this.contactId),this.notify.success(this.translate.instant("lang.contactUpdated")),this.functions.empty(t)||this.functions.empty(t.warning)||this.notify.error(t.warning)}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(g.of)(!1)))).subscribe()}formatContact(){const t={customFields:{},externalId:{}},e=/customField_[.]*/g,n=/externalId_[.]*/g;return this.contactForm.filter(t=>t.display).forEach(i=>{if("date"===i.type&&!this.functions.empty(i.control.value)){const t=new Date(i.control.value);i.control.value=this.functions.formatDateObjectToDateString(t)}null!==i.id.match(e)?t.customFields[i.id.split(/_(.+)/)[1]]=i.control.value:null!==i.id.match(n)?t.externalId[i.id.split(/_(.+)/)[1]]=i.control.value:t[i.id]=i.control.value}),t}isEmptyUnit(t){return 0===this.contactForm.filter(e=>e.display&&e.unit===t).length}initForm(){this.contactForm.forEach(t=>{t.control=new p.h({value:"",disabled:!1})})}toogleAllFieldsUnit(t){this.contactForm.filter(e=>e.unit===t).forEach(t=>{t.display=!0})}noField(t){return 0===this.contactForm.filter(e=>!e.display&&e.unit===t).length}isEmptyValue(t){return null==t||(Array.isArray(t)?!(t.length>0):""===String(t))}checkCompany(t){"company"!==t.id||""===t.control.value||null!==this.companyFound&&this.companyFound.company===t.control.value?"company"===t.id&&""===t.control.value&&(this.companyFound=null):this.http.get("../rest/autocomplete/contacts/company?search="+t.control.value).pipe(Object(s.a)(()=>this.companyFound=null),Object(l.a)(t=>t.length>0),Object(s.a)(t=>{this.functions.empty(t[0].addressNumber)&&this.functions.empty(t[0].addressStreet)&&this.functions.empty(t[0].addressPostcode)&&this.functions.empty(t[0].addressTown)&&this.functions.empty(t[0].addressCountry)||(this.companyFound=t[0])}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(g.of)(!1)))).subscribe()}setAddress(t,e=!0){this.companyFound=null;let n=-1;Object.keys(t).forEach(e=>{n=this.contactForm.map(t=>t.id).indexOf(e),!this.isEmptyValue(t[e])&&n>-1&&["company","addressNumber","addressStreet","addressAdditional2","addressPostcode","addressTown","addressCountry"].indexOf(e)>-1&&(this.contactForm[n].control.setValue(t[e]),this.contactForm[n].display=!0)}),this.checkFilling(),this.addressBANMode=!e}canDelete(t){if("company"===t.id){const e=this.contactForm.filter(t=>"lastname"===t.id)[0];if(e.display&&!this.isEmptyValue(e.control.value))return t.control.setValidators([]),t.required=!1,!0;{const e=[];return e.push(p.H.required),t.control.setValidators(e),t.required=!0,!1}}if("lastname"===t.id){const e=this.contactForm.filter(t=>"company"===t.id)[0];if(e.display&&!this.isEmptyValue(e.control.value))return t.control.setValidators([]),t.required=!1,!0;{const e=[];return e.push(p.H.required),t.control.setValidators(e),t.required=!0,!1}}return!t.required&&!t.control.disabled}removeField(t){if(t.display=!t.display,t.control.reset(),("externalId_m2m"===t.id||"communicationMeans"===t.id)&&!t.display){const t=this.contactForm.map(t=>t.id).indexOf("externalId_m2m_annuary_id");t>-1&&this.contactForm.splice(t,1)}this.checkFilling()}initAutocompleteCommunicationMeans(){this.communicationMeanInfo=this.translate.instant("lang.autocompleteInfo"),this.communicationMeanResult=[];const t=this.contactForm.map(t=>t.id).indexOf("communicationMeans");this.contactForm[t].control.valueChanges.pipe(Object(d.a)(300),Object(l.a)(t=>t.length>2),Object(h.a)(),Object(s.a)(()=>this.communicationMeanLoading=!0),Object(u.a)(t=>this.http.get("../rest/autocomplete/ouM2MAnnuary",{params:{company:t}})),Object(s.a)(t=>{this.communicationMeanInfo=this.isEmptyValue(t)?this.translate.instant("lang.noAvailableValue"):"",this.communicationMeanResult=t,this.communicationMeanFilteredResult=Object(g.of)(this.communicationMeanResult),this.communicationMeanLoading=!1}),Object(r.a)(t=>(this.communicationMeanInfo=t.error.errors,this.communicationMeanLoading=!1,Object(g.of)(!1)))).subscribe()}selectCommunicationMean(t){const e=this.contactForm.map(t=>t.id).indexOf("communicationMeans");this.contactForm[e].control.setValue(t.option.value.communicationValue);const n=this.contactForm.map(t=>t.id).indexOf("externalId_m2m");this.contactForm[n].control.setValue(t.option.value.businessIdValue+"/"),this.contactForm[n].display=!0;const i=this.contactForm.map(t=>t.id).indexOf("department");this.contactForm[i].display=!0}initAutocompleteExternalIdM2M(){this.externalId_m2mInfo=this.translate.instant("lang.autocompleteInfo"),this.externalId_m2mResult=[];const t=this.contactForm.map(t=>t.id).indexOf("communicationMeans"),e=this.contactForm.map(t=>t.id).indexOf("externalId_m2m");this.contactForm[e].control.valueChanges.pipe(Object(d.a)(300),Object(h.a)(),Object(s.a)(()=>this.externalId_m2mLoading=!0),Object(u.a)(e=>this.http.get("../rest/autocomplete/businessIdM2MAnnuary",{params:{query:e,communicationValue:this.contactForm[t].control.value}})),Object(s.a)(t=>{this.externalId_m2mInfo=this.isEmptyValue(t)?this.translate.instant("lang.noAvailableValue"):"",this.externalId_m2mResult=t,this.externalId_m2mFilteredResult=Object(g.of)(this.externalId_m2mResult),this.externalId_m2mLoading=!1}),Object(r.a)(t=>(this.externalId_m2mInfo=t.error.errors,this.externalId_m2mLoading=!1,Object(g.of)(!1)))).subscribe()}selectExternalIdM2M(t){const e=this.contactForm.map(t=>t.id).indexOf("externalId_m2m");this.contactForm[e].control.setValue(t.option.value.businessIdValue);const n=this.contactForm.map(t=>t.id).indexOf("externalId_m2m_annuary_id");this.contactForm[n].control.setValue(t.option.value.entryuuid)}resetAutocompleteExternalIdM2M(){let t=-1;t=this.contactForm.map(t=>t.id).indexOf("externalId_m2m_annuary_id"),t>-1?this.contactForm[t].control.setValue(""):this.contactForm.push({id:"externalId_m2m_annuary_id",unit:"maarch2maarch",label:"m2m_annuary_id",type:"string",control:new p.h({value:"",disabled:!0}),required:!1,display:!0,filling:!1,values:[]})}resetM2MFields(){let t=-1;t=this.contactForm.map(t=>t.id).indexOf("externalId_m2m"),this.contactForm[t].control.setValue(""),this.resetAutocompleteExternalIdM2M()}initAutocompleteAddressBan(){this.addressBANInfo=this.translate.instant("lang.autocompleteInfo"),this.addressBANResult=[],this.addressBANControl.valueChanges.pipe(Object(d.a)(300),Object(l.a)(t=>t.length>2),Object(h.a)(),Object(s.a)(()=>this.addressBANLoading=!0),Object(u.a)(t=>this.http.get("../rest/autocomplete/banAddresses",{params:{address:t,department:this.addressBANCurrentDepartment}})),Object(s.a)(t=>{this.addressBANInfo=0===t.length?this.translate.instant("lang.noAvailableValue"):"",this.addressBANResult=t,this.addressBANFilteredResult=Object(g.of)(this.addressBANResult),this.addressBANLoading=!1})).subscribe()}resetAutocompleteAddressBan(){this.addressBANResult=[],this.addressBANInfo=this.translate.instant("lang.autocompleteInfo")}selectAddressBan(t){this.setAddress({addressNumber:t.option.value.number,addressStreet:t.option.value.afnorName,addressPostcode:t.option.value.postalCode,addressTown:t.option.value.city,addressCountry:"FRANCE"},!1),this.addressBANControl.setValue("")}getValue(t){return this.contactForm.filter(e=>e.id===t)[0].control.value}emptyAddress(){return 5===this.contactForm.filter(t=>this.isEmptyValue(t.control.value)&&["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1).length}noAddressRequired(){return 5===this.contactForm.filter(t=>!t.required&&["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1).length}goTo(){const t=this.contactForm.filter(t=>"addressNumber"===t.id)[0].control.value,e=this.contactForm.filter(t=>"addressStreet"===t.id)[0].control.value,n=this.contactForm.filter(t=>"addressPostcode"===t.id)[0].control.value,i=this.contactForm.filter(t=>"addressTown"===t.id)[0].control.value,s=this.contactForm.filter(t=>"addressCountry"===t.id)[0].control.value;window.open(`https://www.google.com/maps/search/${t}+${e},+${n}+${i},+${s}`,"_blank")}switchAddressMode(){const t=[];this.addressBANMode?(t.push(p.H.required),this.contactForm.filter(t=>["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1).forEach(e=>{e.mandatory&&e.control.setValidators(t)}),this.addressBANMode=!this.addressBANMode):(this.contactForm.filter(t=>["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1).forEach(e=>{e.mandatory&&e.control.setValidators(t)}),this.addressBANMode=!this.addressBANMode)}getErrorMsg(t){if(!this.isEmptyValue(t))return void 0!==t.required?this.translate.instant("lang.requiredField"):void 0!==t.pattern||void 0!==t.email?this.translate.instant("lang.badFormat"):"unknow validator"}checkFilling(){const t=this.contactForm.filter(t=>t.filling).length,e=this.contactForm.filter(t=>!this.isEmptyValue(t.control.value)&&t.filling).length;this.fillingRate.value=Math.round(100*e/t),this.fillingRate.value<=this.fillingParameters.first_threshold?(this.fillingRate.color=this.contactService.getFillingColor("first"),this.fillingRate.class="warn"):this.fillingRate.value<=this.fillingParameters.second_threshold?(this.fillingRate.color=this.contactService.getFillingColor("second"),this.fillingRate.class="primary"):(this.fillingRate.color=this.contactService.getFillingColor("third"),this.fillingRate.class="accent")}toUpperCase(t,e){setTimeout(()=>{const e=t.control.value;if(["lastname"].indexOf(t.id)>-1)t.control.setValue(e.toUpperCase());else if(["firstname","company"].indexOf(t.id)>-1){let n=e.toLowerCase().split(" ");for(let t=0;t<n.length;t++)n[t]=n[t].charAt(0).toUpperCase()+n[t].substring(1);n=n.join(" "),n=n.split("-");for(let t=0;t<n.length;t++)n[t]=n[t].charAt(0).toUpperCase()+n[t].substring(1);t.control.setValue(n.join("-"))}},100)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(_.e),i.Tb(v.b),i.Tb(y.a),i.Tb(y.c),i.Tb(x.a),i.Tb(w.a),i.Tb(C.a),i.Tb(O.b),i.Tb(f.a),i.Tb(k.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-contact-form"]],viewQuery:function(t,e){var n;1&t&&i.Oc(B,!0),2&t&&i.Cc(n=i.ic())&&(e.sidenavRight=n.first)},inputs:{creationMode:"creationMode",contactId:"contactId"},outputs:{onSubmitEvent:"onSubmitEvent"},features:[i.Db([f.a])],decls:3,vars:2,consts:[["class","loading",4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],[2,"margin","auto"],["menu","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor","disabled"],["mainInfo","matMenu"],["mat-menu-item","",2,"text-align","center",3,"click"],[4,"ngFor","ngForOf"],["address","matMenu"],["complement","matMenu"],["maarch2maarch","matMenu"],["style","padding: 10px;",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[1,"row",2,"margin","0px"],[2,"text-align","center","padding-top","10px"],["mat-raised-button","","color","default","type","button",3,"matMenuTriggerFor"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["style","height: auto;padding-right: 10px;","class","fas fa-circle rate",3,"title","color",4,"ngIf"],[1,"fas","fa-circle","rate",2,"height","auto","padding-right","10px",3,"title"],[2,"padding","10px"],[1,"rate"],["mode","determinate",1,"fillingBar",3,"color","value"],["role","alert",1,"alert-message","alert-message-info"],[2,"cursor","pointer","font-weight","bold","font-style","italic",3,"click"],[2,"font-weight","bold","width","100%","display","block","text-align","center"],[3,"col-sm-12","col-md-6","col-md-12",4,"ngIf"],["mat-subheader","",1,"unitTitle"],[2,"flex","1"],["style","cursor: pointer;",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","contact-item",4,"ngIf"],[4,"ngIf"],[1,"contact-item"],["mat-line","","class","contact-content",4,"ngIf"],["mat-icon-button","","matSuffix","","color","warn",3,"disabled","click",4,"ngIf"],["mat-line","",1,"contact-content"],["matInput","",3,"formControl","placeholder","required","blur","ngModelChange"],["align","end",3,"innerHTML",4,"ngIf"],["style","height: auto;","matSuffix","","class","fas fa-circle rate",3,"title","color",4,"ngIf"],["align","end",3,"innerHTML"],["matSuffix","",1,"fas","fa-circle","rate",2,"height","auto",3,"title"],["type","text","matInput","","min","0","step","0.1",3,"formControl","placeholder","required"],[3,"label","required","showLabel","formControlSelect","placeholderLabel","hideErrorDesc","datas","suffixIcon"],["matInput","","readonly","",2,"cursor","pointer",3,"formControl","matDatepicker","placeholder"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[1,"labelCustom"],["color","primary",1,"radio-form",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["style","position:absolute;height: auto;padding-right: 10px;right: 0px;z-index: 1;top: 50%;transform: translateY(-50%);","class","fas fa-circle rate",3,"title","color",4,"ngIf"],[3,"value"],[1,"fas","fa-circle","rate",2,"position","absolute","height","auto","padding-right","10px","right","0px","z-index","1","top","50%","transform","translateY(-50%)",3,"title"],[1,"checkbox-form",3,"formControl"],["shoes",""],["color","primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],["color","primary","checkboxPosition","before",3,"value"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","click","keyup"],["autoCompleteInputCommunicationMean",""],[3,"optionSelected"],["auto","matAutocomplete"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["type","text","matInput","",3,"placeholder","formControl"],["autoCompleteInputExternalIdM2M",""],["mat-icon-button","","matSuffix","","color","warn",3,"disabled","click"],[1,"fa","fa-trash"],["matInput","",3,"formControl","placeholder","required"],["appearance","outline",1,"smallInput"],["mat-button","","matSuffix","",3,"matMenuTriggerFor","title","click"],[1,"fa","fa-chevron-down"],["menuDep","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","primary","matPrefix","",1,"fa","fa-search",2,"font-size","15px"],["type","text","matInput","","maxlength","128",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],["style","margin:10px;",4,"ngIf"],[2,"margin","10px"],[1,"contact-address",3,"title","click"],["mat-list-icon","","color","primary",1,"contact-group","fas","fa-map-marker-alt"]],template:function(t,e){if(1&t&&(i.Qc(0,z,2,0,"div",0),i.Qc(1,de,52,43,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[S.t,E.c,M.e,M.b,M.d,I.a,S.s,P.b,T.a,A.a,D.a,D.g,D.d,R.k,L.c,F.b,p.c,p.t,p.i,p.E,L.f,L.b,L.j,j.a,L.g,Y.f,Y.d,Y.h,Z.b,Z.a,D.i,D.f,N.d,N.a,R.o,L.i,p.o,U.a,D.c],pipes:[_.d,S.b],styles:[".contact-item[_ngcontent-%COMP%]{height:auto!important}.unitTitle[_ngcontent-%COMP%]{display:flex;color:#135f7f}.contact-address[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7}.contact-address[_ngcontent-%COMP%]:hover   .contact-content[_ngcontent-%COMP%]{text-decoration:underline}.contact-content[_ngcontent-%COMP%]{position:relative}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{width:30px;height:25px;color:#135f7f}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;line-height:normal;align-items:center}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.radio-form[_ngcontent-%COMP%]{display:flex}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1;max-width:250px}.checkbox-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);overflow:auto;max-height:200px;border:1px solid rgba(0,0,0,.12);border-radius:5px}.loading[_ngcontent-%COMP%]{display:flex;height:100%}.fillingBar[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background:#e4e8eb}.rate[_ngcontent-%COMP%]{font-size:10px;text-align:right}.fillingBar.mat-warn[_ngcontent-%COMP%]    .mat-progress-bar-fill:after{background-color:#e81c2b}.fillingBar.mat-primary[_ngcontent-%COMP%]    .mat-progress-bar-fill:after{background-color:#f4891e}.fillingBar.mat-accent[_ngcontent-%COMP%]    .mat-progress-bar-fill:after{background-color:#0aa34f}.mat-error[_ngcontent-%COMP%]{font-size:10px;text-align:right;font-weight:700}.labelCustom[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);transform:scale(.75) translateX(-15%);font-weight:400}.alert-message-info[_ngcontent-%COMP%]{margin:10px auto auto;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;padding:0;overflow:hidden}"],data:{animation:[Object(m.n)("hideShow",[Object(m.m)(":enter",[Object(m.l)({height:"0px"}),Object(m.e)("200ms",Object(m.l)({height:"30px"}))]),Object(m.m)(":leave",[Object(m.l)({height:"30px"}),Object(m.e)("200ms",Object(m.l)({height:"0px"}))])])]}}),t})()},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("LRne"),s=n("0EUg");function a(...t){return Object(s.a)()(Object(i.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("7o/Q"),s=n("2QA8"),a=n("gRHU"),o=n("kJWO"),r=n("mCNh"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,r=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(r.add(o?o.call(r,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),c.a.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:s}=t;if(e||s)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=d(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(s){n(s),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(r.b)(t)(this)}toPromise(t){return new(t=d(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function d(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HZF8:function(t,e,n){"use strict";var i=n("zfKp");e.isInteropObservable=function(t){return t&&"function"==typeof t[i.observable]}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},I65S:function(t,e,n){"use strict";var i=n("nzqU"),s=n("zzsZ"),a=n("2qMH");e.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return i.isScheduler(n)?(t.pop(),a.scheduleArray(t,n)):s.fromArray(t)}},IKMM:function(t,e,n){"use strict";var i=n("I65S"),s=n("c4Wt");e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.concatAll()(i.of.apply(void 0,t))}},IOqN:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("mrSG"),s=n("fXoL"),a=n("pLZG"),o=n("vkgz"),r=n("JIr8"),c=n("2c88"),l=n("ds6q"),d=n("I65S"),h=n("sYmb"),u=n("tk/3"),p=n("0IaG"),f=n("AXEc"),m=n("jhN1"),g=n("4zkx"),b=n("ofXK"),_=n("bTqV"),v=n("NFeN");const y=["collaboraFrame"];function x(t,e){1&t&&(s.Zb(0,"div",8),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc("",s.nc(2,1,"lang.checkCollaboraOnlineServer"),"..."))}function w(t,e){if(1&t&&s.Ub(0,"iframe",9,10),2&t){const t=s.lc();s.sc("src",t.editorUrl,s.Jc)}}let C=(()=>{class t{constructor(t,e,n,i,a,o){this.translate=t,this.http=e,this.dialog=n,this.notify=i,this.sanitizer=a,this.headerService=o,this.loading=!0,this.editMode=!1,this.file={},this.params={},this.triggerAfterUpdatedDoc=new s.o,this.triggerCloseEditor=new s.o,this.triggerModifiedDocument=new s.o,this.key=0,this.isSaving=!1,this.isModified=!1,this.fullscreenMode=!1,this.hideButtons=!1,this.allowedExtension=["doc","docx","dotx","odt","ott","rtf","txt","html","xlsl","xlsx","xltx","ods","ots","csv"],this.eventAction=new l.Subject,this.editorUrl="",this.token=""}onMessage(t){const e=JSON.parse(t.data);"Doc_ModifiedStatus"===e.MessageId&&!1===e.Values.Modified&&(this.isModified=!1),"Action_Save_Resp"!==e.MessageId||!0!==e.Values.success||this.isModified?"Doc_ModifiedStatus"===e.MessageId&&!1===e.Values.Modified&&this.isSaving?(this.triggerAfterUpdatedDoc.emit(),this.getTmpFile()):"Doc_ModifiedStatus"===e.MessageId&&!0===e.Values.Modified?(this.isModified=!0,this.triggerModifiedDocument.emit()):"App_LoadingStatus"===e.MessageId&&"Document_Loaded"===e.Values.Status&&this.collaboraFrame.nativeElement.contentWindow.postMessage(JSON.stringify({MessageId:"Host_PostmessageReady"}),"*"):setTimeout(()=>{this.triggerAfterUpdatedDoc.emit(),this.getTmpFile()},500)}quit(){this.dialogRef=this.dialog.open(c.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.close"),msg:this.translate.instant("lang.confirmCloseEditor")}}),this.dialogRef.afterClosed().pipe(Object(a.a)(t=>"ok"===t),Object(o.a)(()=>{this.closeEditor()})).subscribe()}closeEditor(){null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),$("iframe[name='frameEditor']").css("position","initial"),this.fullscreenMode=!1,this.collaboraFrame.nativeElement.contentWindow.postMessage(JSON.stringify({MessageId:"Action_Close",Values:null}),"*"),this.deleteTmpFile(),this.triggerAfterUpdatedDoc.emit(),this.triggerCloseEditor.emit()}saveDocument(){this.isSaving=!0,this.collaboraFrame.nativeElement.contentWindow.postMessage(JSON.stringify({MessageId:"Action_Save",Values:{Notify:!0,ExtendedData:"FinalSave=True",DontTerminateEdit:!0,DontSaveIfUnmodified:!1}}),"*")}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.key=this.generateUniqueId(10),this.canLaunchCollaboraOnline()&&(yield this.checkServerStatus(),this.params.objectPath=void 0,"string"!=typeof this.params.objectId||"templateModification"!==this.params.objectType&&"templateCreation"!==this.params.objectType?"string"==typeof this.params.objectId&&"encodedResource"===this.params.objectType&&(this.params.content=this.params.objectId,this.params.objectId=this.key,this.params.objectType="templateEncoded",yield this.saveEncodedFile()):(this.params.objectPath=this.params.objectId,this.params.objectId=this.key),yield this.getConfiguration(),this.loading=!1)}))}canLaunchCollaboraOnline(){return!!this.isAllowedEditExtension(this.file.format)||(this.notify.error(this.translate.instant("lang.onlyofficeEditDenied")+" <b>"+this.file.format+"</b> "+this.translate.instant("lang.collaboraOnlineEditDenied2")),this.triggerCloseEditor.emit(),!1)}checkServerStatus(){return new Promise(t=>{"127.0.0.1"===location.host||"localhost"===location.host?(this.notify.error(""+this.translate.instant("lang.errorCollaboraOnline1")),this.triggerCloseEditor.emit()):this.http.get("../rest/collaboraOnline/available").pipe(Object(o.a)(e=>{e.isAvailable?t(!0):(this.notify.error(""+this.translate.instant("lang.errorCollaboraOnline2")),this.triggerCloseEditor.emit())}),Object(r.a)(t=>(this.notify.error(this.translate.instant("lang."+t.error.lang)),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}getTmpFile(){return new Promise(t=>{this.http.post("../rest/collaboraOnline/file",{token:this.token}).pipe(Object(o.a)(e=>{this.file={name:this.key,format:e.format,type:null,contentMode:"base64",content:e.content,src:null},this.eventAction.next(this.file),t(!0)}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}deleteTmpFile(){return new Promise(t=>{this.http.delete("../rest/collaboraOnline/file?token="+this.token).pipe(Object(o.a)(()=>{t(!0)}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}saveEncodedFile(){return new Promise(t=>{this.http.post("../rest/collaboraOnline/encodedFile",{content:this.params.content,format:this.file.format,key:this.key}).pipe(Object(o.a)(()=>{t(!0)}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}generateUniqueId(t=5){let e="";const n="0123456789".length;for(let i=0;i<t;i++)e+="0123456789".charAt(Math.floor(Math.random()*n));return parseInt(e,10)}ngAfterViewInit(){}getConfiguration(){return new Promise(t=>{this.http.post("../rest/collaboraOnline/configuration",{resId:this.params.objectId,type:this.params.objectType,format:this.file.format,path:this.params.objectPath,data:this.params.dataToMerge,lang:this.translate.instant("lang.langISO")}).pipe(Object(o.a)(e=>{this.editorUrl=e.url,this.editorUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.editorUrl),this.token=e.token,t(!0)}),Object(r.a)(t=>(this.notify.handleErrors(t),this.triggerCloseEditor.emit(),Object(d.of)(!1)))).subscribe()})}getFile(){return this.saveDocument(),this.eventAction.asObservable()}ngOnDestroy(){this.eventAction.complete()}openFullscreen(){const t=$("iframe[name='frameEditor']");t.css("top","0px"),t.css("left","0px"),this.fullscreenMode?(null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),t.css("position","initial"),t.css("z-index","1")):(null!==this.headerService.sideNavLeft&&this.headerService.sideNavLeft.close(),t.css("position","fixed"),t.css("z-index","2")),this.fullscreenMode=!this.fullscreenMode}isAllowedEditExtension(t){return this.allowedExtension.filter(e=>e.toLowerCase()===t.toLowerCase()).length>0}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(h.e),s.Tb(u.b),s.Tb(p.b),s.Tb(f.a),s.Tb(m.b),s.Tb(g.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-collabora-online-viewer"]],viewQuery:function(t,e){var n;1&t&&s.ad(y,!0),2&t&&s.Cc(n=s.ic())&&(e.collaboraFrame=n.first)},hostBindings:function(t,e){1&t&&s.hc("message",(function(t){return e.onMessage(t)}),!1,s.Gc)},inputs:{editMode:"editMode",file:"file",params:"params"},outputs:{triggerAfterUpdatedDoc:"triggerAfterUpdatedDoc",triggerCloseEditor:"triggerCloseEditor",triggerModifiedDocument:"triggerModifiedDocument"},decls:8,vars:21,consts:[["style","display:block;padding: 10px;",4,"ngIf"],["mat-mini-fab","","color","warn",1,"collaboraOnlineButton_fullscreen",3,"title","click"],[1,"fa","fa-times",2,"height","auto"],["mat-mini-fab","","color","default",1,"collaboraOnlineButton_close",3,"title","click"],[1,"fas",2,"height","auto"],["mat-mini-fab","","color","default",1,"collaboraOnlineButton_hide",3,"title","click"],[1,"fa","fa-arrow-right",2,"height","auto"],["id","collabora","width","100%","height","100%","name","frameEditor",3,"src",4,"ngIf"],[2,"display","block","padding","10px"],["id","collabora","width","100%","height","100%","name","frameEditor",3,"src"],["collaboraFrame",""]],template:function(t,e){1&t&&(s.Qc(0,x,3,3,"div",0),s.Zb(1,"button",1),s.hc("click",(function(){return e.quit()})),s.Ub(2,"mat-icon",2),s.Yb(),s.Zb(3,"button",3),s.hc("click",(function(){return e.openFullscreen()})),s.Ub(4,"mat-icon",4),s.Yb(),s.Zb(5,"button",5),s.hc("click",(function(){return e.hideButtons=!e.hideButtons})),s.Ub(6,"mat-icon",6),s.Yb(),s.Qc(7,w,2,1,"iframe",7)),2&t&&(s.sc("ngIf",e.loading),s.Eb(1),s.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),s.sc("title",e.translate.instant("lang.closeEditor")),s.Eb(2),s.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),s.sc("title",e.translate.instant(e.fullscreenMode?"lang.closeFullscreen":"lang.openFullscreen")),s.Eb(1),s.Jb("fa-expand",!e.fullscreenMode)("fa-compress",e.fullscreenMode),s.Eb(1),s.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),s.sc("title",e.translate.instant(e.hideButtons?"lang.showTool":"lang.hideTool")),s.Eb(2),s.sc("ngIf",""!==e.editorUrl))},directives:[b.t,_.b,v.a],pipes:[h.d],styles:[".collaboraOnlineButton_close[_ngcontent-%COMP%], .collaboraOnlineButton_fullscreen[_ngcontent-%COMP%], .collaboraOnlineButton_hide[_ngcontent-%COMP%], .collaboraOnlineButton_show[_ngcontent-%COMP%]{position:absolute;top:12px;z-index:3;transition:all .5s}.collaboraOnlineButton_fullscreen[_ngcontent-%COMP%]{right:6px}.collaboraOnlineButton_close[_ngcontent-%COMP%]{right:56px}.collaboraOnlineButton_hide[_ngcontent-%COMP%]{right:106px}.collaboraOnlineButton_show[_ngcontent-%COMP%]{right:-15px}.fullScreen[_ngcontent-%COMP%]{position:fixed}.fullScreenEditor[_ngcontent-%COMP%]{top:0;left:0}.buttonsHide[_ngcontent-%COMP%]{top:-15px;right:-15px;transform:rotate(125deg);transition:all .5s}"]}),t})()},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class s extends i{constructor(t,e=i.now){super(t,()=>s.delegate&&s.delegate!==this?s.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return s.delegate&&s.delegate!==this?s.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IkSl:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return u}));var i=n("fXoL");const s=["pdfViewerContainer"],a=function(t){const e=new t.EventBus(!0);var n;return(n=e).on("documentload",(function(){const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)})),n.on("pagerendered",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:t.pageNumber,cssTransform:t.cssTransform}),t.source.div.dispatchEvent(e)})),n.on("textlayerrendered",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t.pageNumber}),t.source.textLayerDiv.dispatchEvent(e)})),n.on("pagechanging",(function(t){const e=document.createEvent("UIEvents");e.initEvent("pagechanging",!0,!0),e.pageNumber=t.pageNumber,t.source.container.dispatchEvent(e)})),n.on("pagesinit",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null),t.source.container.dispatchEvent(e)})),n.on("pagesloaded",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t.pagesCount}),t.source.container.dispatchEvent(e)})),n.on("scalechange",(function(t){const e=document.createEvent("UIEvents");e.initEvent("scalechange",!0,!0),e.scale=t.scale,e.presetValue=t.presetValue,t.source.container.dispatchEvent(e)})),n.on("updateviewarea",(function(t){const e=document.createEvent("UIEvents");e.initEvent("updateviewarea",!0,!0),e.location=t.location,t.source.container.dispatchEvent(e)})),n.on("find",(function(t){if(t.source===window)return;const e=document.createEvent("CustomEvent");e.initCustomEvent("find"+t.type,!0,!0,{query:t.query,phraseSearch:t.phraseSearch,caseSensitive:t.caseSensitive,highlightAll:t.highlightAll,findPrevious:t.findPrevious}),window.dispatchEvent(e)})),n.on("attachmentsloaded",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t.attachmentsCount}),t.source.container.dispatchEvent(e)})),n.on("sidebarviewchanged",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("sidebarviewchanged",!0,!0,{view:t.view}),t.source.outerContainer.dispatchEvent(e)})),n.on("pagemode",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:t.mode}),t.source.pdfViewer.container.dispatchEvent(e)})),n.on("namedaction",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:t.action}),t.source.pdfViewer.container.dispatchEvent(e)})),n.on("presentationmodechanged",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:t.active,switchInProgress:t.switchInProgress}),window.dispatchEvent(e)})),n.on("outlineloaded",(function(t){const e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t.outlineCount}),t.source.container.dispatchEvent(e)})),e};var o;let r,c;function l(){return"undefined"==typeof window}l()||(r=n("lRFz"),c=n("louq"),r.verbosity=r.VerbosityLevel.ERRORS);var d=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}({});let h=(()=>{let t=o=class{constructor(t){if(this.element=t,this.isVisible=!1,this._cMapsUrl=void 0!==r?`https://unpkg.com/pdfjs-dist@${r.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=d.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.isInitialized=!1,this.afterLoadComplete=new i.o,this.pageRendered=new i.o,this.textLayerRendered=new i.o,this.onError=new i.o,this.onProgress=new i.o,this.pageChange=new i.o(!0),l())return;let e;e=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${r.version}/pdf.worker.min.js`,r.GlobalWorkerOptions.workerSrc=e}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const e=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,e!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return r.LinkTarget.BLANK;case"none":return r.LinkTarget.NONE;case"self":return r.LinkTarget.SELF;case"parent":return r.LinkTarget.PARENT;case"top":return r.LinkTarget.TOP}return null}static setExternalLinkTarget(t){const e=o.getLinkTarget(t);null!==e&&(r.externalLinkTarget=e)}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.ngOnInit(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){!l()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}ngOnDestroy(){this.clear()}onPageResize(){this._canAutoResize&&this._pdf&&(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.updateSize()},100))}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(t){if(!l()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:d.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){if(t.page.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();this._pdf.getPage(t.currentPageNumber).then(e=>{const n=this._rotation||e.rotate,i=e.getViewport({scale:this._zoom,rotation:n}).width*o.CSS_UNITS;let s=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){const t=e.getViewport({scale:1,rotation:n});s=this.getScale(t.width,t.height),a=!this._stickToPage}t._setScale(s,a)})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}setupMultiPageViewer(){r.disableTextLayer=!this._renderText,o.setExternalLinkTarget(this._externalLinkTarget);const t=a(c);t.on("pagerendered",t=>{this.pageRendered.emit(t)}),t.on("pagechanging",t=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=setTimeout(()=>{this._latestScrolledPage=t.pageNumber,this.pageChange.emit(t.pageNumber)},100)}),t.on("textlayerrendered",t=>{this.textLayerRendered.emit(t)}),this.pdfMultiPageLinkService=new c.PDFLinkService({eventBus:t}),this.pdfMultiPageFindController=new c.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});const e={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:d.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new c.PDFViewer(e),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){r.disableTextLayer=!this._renderText,o.setExternalLinkTarget(this._externalLinkTarget);const t=a(c);t.on("pagechanging",t=>{t.pageNumber!=this._page&&(this.page=t.pageNumber)}),t.on("pagerendered",t=>{this.pageRendered.emit(t)}),t.on("textlayerrendered",t=>{this.textLayerRendered.emit(t)}),this.pdfSinglePageLinkService=new c.PDFLinkService({eventBus:t}),this.pdfSinglePageFindController=new c.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});const e={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:d.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new c.PDFSinglePageViewer(e),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const e={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?e.url=this.src:"object"===t&&(void 0!==this.src.byteLength?e.data=this.src:Object.assign(e,this.src)),e}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=r.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=t=>{this.onProgress.emit(t)};const t=this.src;this.loadingTask.promise.then(e=>{this._pdf=e,this.lastLoaded=t,this.afterLoadComplete.emit(e),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},t=>{this.onError.emit(t)})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const t=this.getCurrentViewer();0===this._rotation&&t.pagesRotation===this._rotation||setTimeout(()=>{t.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{t.currentPageNumber=this._page}),this.updateSize()}getScale(t,e){const n=this._showBorders?2*o.BORDER_WIDTH:0,i=this.pdfViewerContainer.nativeElement.clientWidth-n,s=this.pdfViewerContainer.nativeElement.clientHeight-n;if(0===s||0===e||0===i||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(s/e,i/t);break;case"page-height":a=s/e;break;case"page-width":default:a=i/t}return this._zoom*a/o.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l))},t.\u0275cmp=i.Nb({type:t,selectors:[["pdf-viewer"]],viewQuery:function(t,e){var n;1&t&&i.ad(s,!0),2&t&&i.Cc(n=i.ic())&&(e.pdfViewerContainer=n.first)},hostBindings:function(t,e){1&t&&i.hc("resize",(function(){return e.onPageResize()}),!1,i.Gc)},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[i.Cb],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,e){1&t&&(i.Zb(0,"div",0,1),i.Ub(2,"div",2),i.Yb())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative;height:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;-webkit-transform-origin:0 0;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer{padding-bottom:10px}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid rgba(0,0,0,.01);box-sizing:initial;background-clip:content-box;-webkit-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.removePageBorders{padding-bottom:0}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page{margin-bottom:100%!important}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),t.CSS_UNITS=96/72,t.BORDER_WIDTH=9,t})(),u=(()=>{let t=class{};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})()},IsdP:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var i=n("FvrZ"),s=n("fXoL"),a=n("2Vo4"),o=n("VRyK"),r=n("lJxs"),c=n("pLZG"),l=n("vkgz"),d=n("nYR2"),h=n("tk/3"),u=n("8yBR"),p=n("bTqV"),f=n("NFeN"),m=n("ofXK"),g=n("bv9b");function b(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-tree-node",3),s.Zb(1,"button",4),s.Ub(2,"mat-icon",5),s.Yb(),s.Zb(3,"span",6),s.hc("click",(function(){s.Hc(t);const n=e.$implicit,i=s.lc();return i.toggleNode(i.getData(n.item))})),s.Ub(4,"i"),s.Sc(5),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc();s.Eb(3),s.Jb("node-selected",n.getData(t.item).selected),s.Eb(1),s.Gb(n.getData(t.item).icon),s.Eb(1),s.Uc("\xa0",n.getData(t.item).text,"")}}function _(t,e){1&t&&s.Ub(0,"i",10),2&t&&s.Pc("left",25*e.$implicit,"px")}function v(t,e){1&t&&s.Ub(0,"mat-progress-bar",11)}function y(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-tree-node",3),s.Qc(1,_,1,2,"i",7),s.Zb(2,"button",8),s.Ub(3,"mat-icon"),s.Yb(),s.Zb(4,"span",6),s.hc("click",(function(){s.Hc(t);const n=e.$implicit,i=s.lc();return i.toggleNode(i.getData(n.item))})),s.Ub(5,"i"),s.Sc(6),s.Yb(),s.Qc(7,v,1,0,"mat-progress-bar",9),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc();s.Eb(1),s.sc("ngForOf",n.getIteration(t.level)),s.Eb(1),s.Fb("aria-label","toggle "+t.filename),s.Eb(1),s.Hb("mat-icon-rtl-mirror ",n.treeControl.isExpanded(t)?"maarch-tree-collapse":"maarch-tree-expand",""),s.Eb(1),s.Jb("node-selected",n.getData(t.item).selected),s.Eb(1),s.Gb(n.getData(t.item).icon),s.Eb(1),s.Uc("\xa0",n.getData(t.item).text," "),s.Eb(1),s.sc("ngIf",t.isLoading)}}class x{constructor(t,e=1,n=!1,i=!1){this.item=t,this.level=e,this.expandable=n,this.isLoading=i}}let w=(()=>{class t{constructor(){this.dataMap=new Map([]),this.rootLevelNodes=[]}initialData(){return this.rootLevelNodes.map(t=>new x(t,0,!0))}setData(t){return this.dataMap.set(t.id,t.childrens)}setRootNode(t){this.rootLevelNodes=t}getChildren(t){return this.dataMap.get(t)}isExpandable(t){return this.dataMap.has(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();class C{constructor(t,e,n,i,s){this._treeControl=t,this._database=e,this.rawData=n,this.childrenRoute=i,this.httpClient=s,this.dataChange=new a.a([])}get data(){return this.dataChange.value}set data(t){this._treeControl.dataNodes=t,this.dataChange.next(t)}connect(t){return this._treeControl.expansionModel.changed.subscribe(t=>{(t.added||t.removed)&&this.handleTreeControl(t)}),Object(o.a)(t.viewChange,this.dataChange).pipe(Object(r.a)(()=>this.data))}disconnect(t){}handleTreeControl(t){t.added&&t.added.forEach(t=>this.toggleNode(t,!0)),t.removed&&t.removed.slice().reverse().forEach(t=>this.toggleNode(t,!1))}toggleNode(t,e){let n=this._database.getChildren(t.item),i=this.data.indexOf(t);if(this.rawData[i].children)if(t.isLoading=!0,e)if(void 0===n)this.httpClient.get(this.childrenRoute.replace("__node",t.item)).pipe(Object(c.a)(t=>t.length>0),Object(l.a)(e=>{e.forEach(t=>{this.rawData.push(t)}),this.rawData.map(t=>t.id),this.rawData.forEach(t=>{const e={id:t.id,childrens:this.rawData.filter(e=>e.parent===t.id).map(t=>t.id)};this.rawData.filter(e=>e.parent===t.id).length>0&&this._database.setData(e)}),n=this._database.getChildren(t.item),i=this.data.indexOf(t);const s=n.map(e=>new x(e,t.level+1,this._database.isExpandable(e)));this.data.splice(i+1,0,...s),this.dataChange.next(this.data)}),Object(d.a)(()=>t.isLoading=!1)).subscribe();else{const e=n.map(e=>new x(e,t.level+1,this._database.isExpandable(e)));this.data.splice(i+1,0,...e),this.dataChange.next(this.data),t.isLoading=!1}else{let e=0;for(let n=i+1;n<this.data.length&&this.data[n].level>t.level;n++,e++);this.data.splice(i+1,e),this.dataChange.next(this.data),t.isLoading=!1}}}let O=(()=>{class t{constructor(t,e){this.database=t,this.httpClient=e,this.rawData=[],this.childrenRoute="",this.multiple=!1,this.afterSelectNode=new s.o,this.afterDeselectNode=new s.o,this.getLevel=t=>t.level,this.isExpandable=t=>t.expandable,this.hasChild=(t,e)=>this.getData(e.item).children}ngOnInit(){this.treeControl=new i.j(this.getLevel,this.isExpandable),this.dataSource=new C(this.treeControl,this.database,this.rawData,this.childrenRoute,this.httpClient),this.initTree()}initTree(){this.rawData.forEach(t=>{const e={id:t.id,childrens:this.rawData.filter(e=>e.parent===t.id).map(t=>t.id)};this.rawData.filter(e=>e.parent===t.id).length>0&&this.database.setData(e)}),this.database.setRootNode(this.rawData.filter(t=>"#"===t.parent).map(t=>t.id)),this.dataSource.data=this.database.initialData()}getData(t){return this.rawData.filter(e=>e.id===t)[0]}toggleNode(t){t.selected?this.afterDeselectNode.emit(t):this.afterSelectNode.emit(t),this.multiple?t.selected=!t.selected:this.rawData.forEach(e=>{e.selected=e.id===t.id&&!t.selected})}getIteration(t){return Array(t).fill(0).map((t,e)=>e)}getTreeData(){return this.rawData}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(w),s.Tb(h.b))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-maaarch-tree"]],inputs:{rawData:"rawData",childrenRoute:"childrenRoute",multiple:"multiple"},outputs:{afterSelectNode:"afterSelectNode",afterDeselectNode:"afterDeselectNode"},features:[s.Db([w])],decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodePadding","","matTreeNodePaddingIndent","25px","style","background-size: 320px 96px;background-image: url(32px.png);   background-position: -288px -5px;background-repeat: repeat-y;",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodePaddingIndent","25px","style","background-size: 320px 96px;background-image: url(32px.png);   background-position: -288px -5px;background-repeat: repeat-y;",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","matTreeNodePaddingIndent","25px",2,"background-size","320px 96px","background-image","url(32px.png)","background-position","-288px -5px","background-repeat","repeat-y"],["mat-icon-button","","disabled","",2,"width","32px","height","32px","background-size","320px 96px","background-image","url('32px.png')","background-position","-288px -5px","background-repeat","repeat-y"],[1,"maarch-tree-node"],[1,"node-content",3,"click"],["style","background-size: 320px 96px;background-image: url(32px.png);   background-position: -288px -5px;background-repeat: repeat-y;width: 32px;height: 32px;position: absolute;",3,"left",4,"ngFor","ngForOf"],["type","button","mat-icon-button","","matTreeNodeToggle","",2,"width","32px","height","32px","background-size","320px 96px","background-image","url('32px.png')","background-position","-288px -5px","background-repeat","repeat-y"],["mode","indeterminate","class","example-tree-progress-bar",4,"ngIf"],[2,"background-size","320px 96px","background-image","url(32px.png)","background-position","-288px -5px","background-repeat","repeat-y","width","32px","height","32px","position","absolute"],["mode","indeterminate",1,"example-tree-progress-bar"]],template:function(t,e){1&t&&(s.Zb(0,"mat-tree",0),s.Qc(1,b,6,5,"mat-tree-node",1),s.Qc(2,y,8,11,"mat-tree-node",2),s.Yb()),2&t&&(s.sc("dataSource",e.dataSource)("treeControl",e.treeControl),s.Eb(2),s.sc("matTreeNodeDefWhen",e.hasChild))},directives:[u.b,u.h,u.g,u.j,p.b,f.a,m.s,u.k,m.t,g.a],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}.maarch-tree-expand[_ngcontent-%COMP%]{background-position:-101px -8px}.maarch-tree-collapse[_ngcontent-%COMP%], .maarch-tree-expand[_ngcontent-%COMP%]{background-size:320px 96px;background-image:url(32px.dcd8942fa7a2e261368d.png);width:22px;height:22px;line-height:22px;display:inline-block}.maarch-tree-collapse[_ngcontent-%COMP%]{background-position:-133px -8px}.maarch-tree-node[_ngcontent-%COMP%]{background-size:320px 96px;background-image:url(32px.dcd8942fa7a2e261368d.png);width:22px;height:22px;line-height:22px;display:inline-block;background-position:-69px -8px}.mat-tree[_ngcontent-%COMP%]{position:relative}.mat-tree-node[_ngcontent-%COMP%]{font-family:Titillium Web,sans-serif,Arial;min-height:32px;line-height:32px;min-width:32px;height:32px}.mat-tree-node[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:1}.node-content[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;cursor:pointer;transition:all .3s;border-radius:5px;height:25px;display:flex;align-items:center;white-space:pre}.node-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#135f7f}.node-content[_ngcontent-%COMP%]:not(.node-selected):hover{background-color:hsla(0,0%,40%,.11);transition:all .3s}.node-selected[_ngcontent-%COMP%]{background-color:#135f7f;color:#fff;transition:all .3s}.node-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),t})()},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q"),s=n("4I5i"),a=n("EY2u");function o(t){return e=>0===t?Object(a.b)():e.lift(new r(t))}class r{constructor(t){if(this.total=t,this.total<0)throw new s.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("zx2A");function s(t){return function(e){const n=new a(t),i=e.lift(n);return n.caught=i}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends i.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const s=new i.a(this);this.add(s);const a=Object(i.c)(n,s);a!==s&&this.add(a)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("GyhO"),s=n("z+Ro");function a(...t){const e=t[t.length-1];return Object(s.a)(e)?(t.pop(),n=>Object(i.a)(t,n,e)):e=>Object(i.a)(t,e)}},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("7o/Q"),s=n("D0XW");function a(t,e=s.a){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new r(t,this.dueTime,this.scheduler))}}class r extends i.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},L6pT:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("vWc3"),s=n("cMWS"),a=n("fXoL"),o=n("sYmb");let r=(()=>{class t{constructor(t){t.setDefaultLang("fr")}}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)(a.dc(o.e))},providers:[],imports:[[i.a,s.a]]}),t})()},LBXl:function(t,e,n){"use strict";e.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},"LJ/p":function(t,e,n){"use strict";var i=n("Q1FS"),s=n("zB/H"),a=n("VKeD");e.scheduleIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.Observable((function(n){var i,o=new s.Subscription;return o.add((function(){i&&"function"==typeof i.return&&i.return()})),o.add(e.schedule((function(){i=t[a.iterator](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var s=i.next();t=s.value,e=s.done}catch(a){return void n.error(a)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("z+Ro"),s=n("yCtX"),a=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(a.a)(t,e)):Object(s.a)(t)}},LYlH:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("0IaG"),s=n("fXoL"),a=n("sYmb"),o=n("tk/3"),r=n("bTqV"),c=n("NFeN"),l=n("bblj"),d=n("aEDk");let h=(()=>{class t{constructor(t,e,n,i){this.translate=t,this.http=e,this.data=n,this.dialogRef=i}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(o.b),s.Tb(i.a),s.Tb(i.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:9,vars:9,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1",3,"title"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[3,"resId","mode"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"h1",1),s.Zb(2,"span",2),s.Sc(3),s.mc(4,"shorten"),s.Yb(),s.Zb(5,"button",3),s.hc("click",(function(){return e.dialogRef.close()})),s.Ub(6,"mat-icon",4),s.Yb(),s.Yb(),s.Zb(7,"mat-dialog-content"),s.Ub(8,"app-contact-resource",5),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.sc("title",e.data.title),s.Eb(1),s.Uc(" ",s.pc(4,5,e.data.title,50,"...")," "),s.Eb(2),s.sc("title",e.translate.instant("lang.close")),s.Eb(3),s.sc("resId",e.data.resId)("mode",e.data.mode))},directives:[i.i,r.b,c.a,i.f,l.a],pipes:[d.p],styles:[""]}),t})()},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return s}));const s=i()},M9IT:function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return O}));var i=n("ofXK"),s=n("fXoL"),a=n("bTqV"),o=n("d3UM"),r=n("Qu3c"),c=n("8LU1"),l=n("XNiG"),d=n("FKr1"),h=n("kmnG");function u(t,e){if(1&t&&(s.Zb(0,"mat-option",19),s.Sc(1),s.Yb()),2&t){const t=e.$implicit;s.sc("value",t),s.Eb(1),s.Uc(" ",t," ")}}function p(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-form-field",16),s.Zb(1,"mat-select",17),s.hc("selectionChange",(function(e){return s.Hc(t),s.lc(2)._changePageSize(e.value)})),s.Qc(2,u,2,2,"mat-option",18),s.Yb(),s.Yb()}if(2&t){const t=s.lc(2);s.sc("color",t.color),s.Eb(1),s.sc("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),s.Eb(1),s.sc("ngForOf",t._displayedPageSizeOptions)}}function f(t,e){if(1&t&&(s.Zb(0,"div",20),s.Sc(1),s.Yb()),2&t){const t=s.lc(2);s.Eb(1),s.Tc(t.pageSize)}}function m(t,e){if(1&t&&(s.Zb(0,"div",12),s.Zb(1,"div",13),s.Sc(2),s.Yb(),s.Qc(3,p,3,5,"mat-form-field",14),s.Qc(4,f,2,1,"div",15),s.Yb()),2&t){const t=s.lc();s.Eb(2),s.Uc(" ",t._intl.itemsPerPageLabel," "),s.Eb(1),s.sc("ngIf",t._displayedPageSizeOptions.length>1),s.Eb(1),s.sc("ngIf",t._displayedPageSizeOptions.length<=1)}}function g(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",21),s.hc("click",(function(){return s.Hc(t),s.lc().firstPage()})),s.kc(),s.Zb(1,"svg",7),s.Ub(2,"path",22),s.Yb(),s.Yb()}if(2&t){const t=s.lc();s.sc("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),s.Fb("aria-label",t._intl.firstPageLabel)}}function b(t,e){if(1&t){const t=s.ac();s.kc(),s.jc(),s.Zb(0,"button",23),s.hc("click",(function(){return s.Hc(t),s.lc().lastPage()})),s.kc(),s.Zb(1,"svg",7),s.Ub(2,"path",24),s.Yb(),s.Yb()}if(2&t){const t=s.lc();s.sc("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),s.Fb("aria-label",t._intl.lastPageLabel)}}let _=(()=>{class t{constructor(){this.changes=new l.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return"0 of "+n;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const v={provide:_,deps:[[new s.C,new s.M,_]],useFactory:function(t){return t||new _}},y=new s.r("MAT_PAGINATOR_DEFAULT_OPTIONS");class x{}const w=Object(d.B)(Object(d.D)(x));let C=(()=>{class t extends w{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new s.o,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:i,showFirstLastButtons:s}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=i&&(this._hidePageSize=i),null!=s&&(this._showFirstLastButtons=s)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(Object(c.f)(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=Object(c.f)(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(Object(c.f)(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>Object(c.f)(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=Object(c.c)(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=Object(c.c)(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(_),s.Tb(s.h),s.Tb(y,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[s.Bb],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"div",1),s.Qc(2,m,5,3,"div",2),s.Zb(3,"div",3),s.Zb(4,"div",4),s.Sc(5),s.Yb(),s.Qc(6,g,3,5,"button",5),s.Zb(7,"button",6),s.hc("click",(function(){return e.previousPage()})),s.kc(),s.Zb(8,"svg",7),s.Ub(9,"path",8),s.Yb(),s.Yb(),s.jc(),s.Zb(10,"button",9),s.hc("click",(function(){return e.nextPage()})),s.kc(),s.Zb(11,"svg",7),s.Ub(12,"path",10),s.Yb(),s.Yb(),s.Qc(13,b,3,5,"button",11),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.sc("ngIf",!e.hidePageSize),s.Eb(3),s.Uc(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),s.Eb(1),s.sc("ngIf",e.showFirstLastButtons),s.Eb(1),s.sc("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.Fb("aria-label",e._intl.previousPageLabel),s.Eb(3),s.sc("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.Fb("aria-label",e._intl.nextPageLabel),s.Eb(3),s.sc("ngIf",e.showFirstLastButtons))},directives:[i.t,a.b,r.b,h.c,o.a,i.s,d.o],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),O=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},providers:[v],imports:[[i.c,a.c,o.b,r.c]]}),t})()},MJ5r:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={production:!0,VERSION:n("kiQV").version,AUTHOR:n("kiQV").author}},MhE4:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),s=n("jhN1");let a=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.b))},t.\u0275pipe=i.Sb({name:"safeHtml",type:t,pure:!0}),t})()},MkmW:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}),0)}},MutI:function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return A})),n.d(e,"e",(function(){return U})),n.d(e,"f",(function(){return Z})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return N}));var i=n("ofXK"),s=n("fXoL"),a=n("FKr1"),o=n("8LU1"),r=n("XNiG"),c=n("1G5W"),l=n("JX91"),d=n("u47x"),h=n("0EQZ"),u=n("FtGj"),p=n("3Pt+"),f=n("f0Cb");const m=["*"],g=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],b=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],_=["text"];function v(t,e){if(1&t&&s.Ub(0,"mat-pseudo-checkbox",5),2&t){const t=s.lc();s.sc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const y=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],x=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];class w{}const C=Object(a.B)(Object(a.A)(w));class O{}const k=Object(a.A)(O);let S=(()=>{class t extends C{constructor(){super(...arguments),this._stateChanges=new r.a}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return E(e||t)},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[s.Bb,s.Cb],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(s.rc(),s.qc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})();const E=s.bc(S);let M=(()=>{class t extends C{constructor(t){super(),this._elementRef=t,this._stateChanges=new r.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[s.Bb,s.Cb],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(s.rc(),s.qc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),t})(),A=(()=>{class t extends k{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new r.a,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const s=this._getHostElement();"button"!==s.nodeName.toLowerCase()||s.hasAttribute("type")||s.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Object(c.a)(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Object(o.c)(t)}ngAfterContentInit(){Object(a.F)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(S,8),s.Tb(M,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var i;1&t&&(s.Lb(n,I,!0),s.Lb(n,P,!0),s.Lb(n,a.k,!0)),2&t&&(s.Cc(i=s.ic())&&(e._avatar=i.first),s.Cc(i=s.ic())&&(e._icon=i.first),s.Cc(i=s.ic())&&(e._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&s.Jb("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.Bb],ngContentSelectors:b,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(s.rc(g),s.Zb(0,"div",0),s.Ub(1,"div",1),s.qc(2),s.Zb(3,"div",2),s.qc(4,1),s.Yb(),s.qc(5,2),s.Yb()),2&t&&(s.Eb(1),s.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[a.t],encapsulation:2,changeDetection:0}),t})();class D{}const R=Object(a.A)(D);class L{}const F=Object(a.A)(L),j={provide:p.r,useExisting:Object(s.W)(()=>N),multi:!0};class Y{constructor(t,e){this.source=t,this.option=e}}let Z=(()=>{class t extends F{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&t!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=Object(o.c)(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=Object(o.c)(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){Object(a.F)(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent(this))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(Object(s.W)(()=>N)))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){var i;1&t&&(s.Lb(n,I,!0),s.Lb(n,P,!0),s.Lb(n,a.k,!0)),2&t&&(s.Cc(i=s.ic())&&(e._avatar=i.first),s.Cc(i=s.ic())&&(e._icon=i.first),s.Cc(i=s.ic())&&(e._lines=i))},viewQuery:function(t,e){var n;1&t&&s.ad(_,!0),2&t&&s.Cc(n=s.ic())&&(e._text=n.first)},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&s.hc("focus",(function(){return e._handleFocus()}))("blur",(function(){return e._handleBlur()}))("click",(function(){return e._handleClick()})),2&t&&(s.Fb("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),s.Jb("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[s.Bb],ngContentSelectors:x,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(s.rc(y),s.Zb(0,"div",0),s.Ub(1,"div",1),s.Qc(2,v,1,2,"mat-pseudo-checkbox",2),s.Zb(3,"div",3,4),s.qc(5),s.Yb(),s.qc(6,1),s.Yb()),2&t&&(s.Jb("mat-list-item-content-reverse","after"==e.checkboxPosition),s.Eb(1),s.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),s.Eb(1),s.sc("ngIf",e.selectionList.multiple))},directives:[a.t,i.t,a.r],encapsulation:2,changeDetection:0}),t})(),N=(()=>{class t extends R{constructor(t,e,n){super(),this._element=t,this._changeDetector=n,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new s.o,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new h.c(this._multiple),this._tabIndex=-1,this._onChange=t=>{},this._destroyed=new r.a,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(o.c)(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const e=Object(o.c)(t);if(e!==this._multiple){if(Object(s.Y)()&&this._contentInitialized)throw new Error("Cannot change `multiple` mode of mat-selection-list after initialization.");this._multiple=e,this.selectedOptions=new h.c(this._multiple,this.selectedOptions.selected)}}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new d.g(this.options).withWrap().withTypeAhead().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Object(c.a)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Object(l.a)(null),Object(c.a)(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Object(c.a)(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,i=n.activeItemIndex,s=Object(u.v)(t);switch(e){case u.q:case u.g:s||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;case u.j:case u.f:s||(e===u.j?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:if(e===u.a&&this.multiple&&Object(u.v)(t,"ctrlKey")&&!n.isTyping()){const e=this.options.some(t=>!t.disabled&&!t.selected);this._setAllOptionsSelected(e,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(e===u.s||e===u.e)&&t.shiftKey&&n.activeItemIndex!==i&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new Y(this,t))}_onFocus(){const t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent(e))}}_setAllOptionsSelected(t,e){let n=!1;this.options.forEach(i=>{e&&i.disabled||!i._setSelected(t)||(n=!0)}),n&&this._reportValueChange()}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.ec("tabindex"),s.Tb(s.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){var i;1&t&&s.Lb(n,Z,!0),2&t&&s.Cc(i=s.ic())&&(e.options=i)},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&s.hc("focus",(function(){return e._onFocus()}))("keydown",(function(t){return e._keydown(t)})),2&t&&s.Fb("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[s.Db([j]),s.Bb,s.Cb],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(s.rc(),s.qc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),U=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[a.l,a.u,a.j,a.s,i.c],a.l,a.j,a.s,f.b]}),t})()},Mxlh:function(t,e,n){"use strict";e.ObjectUnsubscribedError=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},MyTJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return sr}));var i=n("mrSG"),s=n("vkgz"),a=n("JIr8"),o=n("pLZG"),r=n("nYR2"),c=n("XqQ8"),l=n("XNiG"),d=n("LRne"),h=n("0IaG"),u=n("fXoL"),p=n("sYmb"),f=n("tk/3"),m=n("AXEc"),g=n("ofXK"),b=n("dUgt"),_=n("bTqV"),v=n("Xa2L");const y=["noteEditor"];function x(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function w(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function C(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function O(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let k=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}indexDocumentAndExecuteAction(){this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(t=>{this.data.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(this.data.indexActionRoute,{resource:this.data.resIds[0],note:this.noteEditor.getNote()})),Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(y,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,x,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,w,3,3,"b",6),u.Qc(10,C,2,1,"b",6),u.Qc(11,O,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();var S=n("rH+9");const E=["noteEditor"];function M(t,e){1&t&&(u.Zb(0,"div",11),u.Ub(1,"mat-spinner",12),u.Yb())}function I(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.chrono),u.Eb(1),u.Uc(" : ",t.fields," ")}}function P(t,e){if(1&t&&(u.Zb(0,"div",15),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,I,4,2,"li",16),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(2),u.Uc("",u.nc(3,2,"lang.cannotCloseMails")," :"),u.Eb(3),u.sc("ngForOf",t.emptyMandatoryFields)}}function T(t,e){if(1&t&&(u.Zb(0,"div",15),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(2),u.Vc("",u.nc(3,2,"lang.cannotCloseThisMail")," : ",t.emptyMandatoryFields[0].fields,"")}}function A(t,e){if(1&t&&(u.Zb(0,"div",13),u.Qc(1,P,6,4,"div",14),u.Qc(2,T,4,4,"div",14),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngIf",t.data.resIds.length>1),u.Eb(1),u.sc("ngIf",t.data.resIds.length<2)}}function D(t,e){1&t&&(u.Zb(0,"b",21),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function R(t,e){if(1&t&&(u.Zb(0,"b",21),u.Sc(1),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Tc(t.data.resource.chrono)}}function L(t,e){if(1&t&&(u.Zb(0,"b",21),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Vc("",t.canCloseResIds.length," ",u.nc(2,2,"lang.elements"),"")}}function F(t,e){if(1&t&&(u.Xb(0),u.Zb(1,"div",13),u.Sc(2),u.mc(3,"translate"),u.Qc(4,D,3,3,"b",17),u.Qc(5,R,2,1,"b",17),u.Qc(6,L,3,4,"b",17),u.Sc(7," ? "),u.Ub(8,"div",18),u.Yb(),u.Zb(9,"div",13),u.Ub(10,"app-note-editor",19,20),u.Yb(),u.Wb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,6,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===t.data.resIds.length),u.Eb(1),u.sc("ngIf",1===t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1),u.Eb(2),u.sc("innerHTML",t.translate.instant("lang.updateClosingDate"),u.Ic),u.Eb(2),u.sc("resIds",t.canCloseResIds)}}let j=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.emptyMandatoryFields=[],this.canCloseResIds=[],this.customFields=[]}ngOnInit(){this.data.resIds.length>0?(this.loading=!0,this.checkClose()):this.checkIndexingClose()}checkIndexingClose(){this.http.get("../rest/actions/"+this.data.action.id).pipe(Object(s.a)(t=>{this.requiredFields=t.action.parameters.requiredFields}),Object(c.a)(()=>this.http.get("../rest/customFields")),Object(s.a)(t=>this.customFields=t.customFields),Object(s.a)(()=>{let t=[];this.requiredFields.forEach(e=>{for(let n of Object.keys(this.data.resource.customFields))e=="indexingCustomField_"+n&&this.functions.empty(this.data.resource.customFields[n])&&t.push(this.customFields.filter(t=>t.id==n)[0].label)}),this.functions.empty(t)?this.canCloseResIds=[1]:(this.emptyMandatoryFields.push({fields:t.join(", ")}),this.canCloseResIds=[])}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}checkClose(){this.http.post(`../rest/resourcesList/users/${this.data.userId}/groups/${this.data.groupId}/baskets/${this.data.basketId}/actions/${this.data.action.id}/checkCloseWithFieldsAction`,{resources:this.data.resIds}).pipe(Object(s.a)(t=>{this.emptyMandatoryFields=t.errors,this.canCloseResIds=t.success}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}onSubmit(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}indexDocumentAndExecuteAction(){this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(t=>{this.data.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(this.data.indexActionRoute,{resource:this.data.resIds[0],note:this.noteEditor.getNote()})),Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.canCloseResIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.canCloseResIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.ad(E,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:16,vars:12,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],[1,"col-md-12"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[3,"resIds"],["noteEditor",""],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,M,2,0,"div",3),u.Zb(5,"div",4),u.Qc(6,A,3,2,"div",5),u.Qc(7,F,12,8,"ng-container",6),u.Yb(),u.Yb(),u.Ub(8,"span",7),u.Zb(9,"div",8),u.Zb(10,"button",9),u.hc("click",(function(){return e.onSubmit()})),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Zb(13,"button",10),u.Sc(14),u.mc(15,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(2),u.sc("ngIf",e.emptyMandatoryFields.length>0),u.Eb(1),u.sc("ngIf",0===e.data.resIds.length||e.canCloseResIds.length>0),u.Eb(3),u.sc("disabled",e.loading||0==e.canCloseResIds.length),u.Eb(1),u.Tc(u.nc(12,8,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(15,10,"lang.cancel")))},directives:[h.i,h.f,g.t,h.c,_.b,h.d,v.c,g.s,b.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();var Y=n("jbvq");const Z=["noteEditor"],N=["appVisaWorkflow"];function U(t,e){1&t&&(u.Zb(0,"div",17),u.Ub(1,"mat-spinner",18),u.Yb())}function B(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function z(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function V(t,e){if(1&t&&u.Ub(0,"div",20),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.rejectVisaBack"),u.Ic)}}function H(t,e){if(1&t&&u.Ub(0,"div",20),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.rejectVisaBackUser")+" <b>"+t.appVisaWorkflow.getLastVisaUser().labelToDisplay+"</b>",u.Ic)}}function Q(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function W(t,e){if(1&t&&(u.Zb(0,"div",21),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,Q,5,4,"li",22),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function G(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function q(t,e){if(1&t&&(u.Zb(0,"div",23),u.Zb(1,"ul",24),u.Qc(2,G,5,4,"li",22),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.sc("ngForOf",t.resourcesWarnings)}}function X(t,e){if(1&t&&u.Ub(0,"app-visa-workflow",25,26),2&t){const t=u.lc();u.sc("adminMode",!1)("resId",t.data.resIds[0])}}let J=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.checkRejectVisaBackToPrevious(),this.loading=!1}))}checkRejectVisaBackToPrevious(){return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkRejectVisa",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.resourcesInformations.warning)||(this.resourcesWarnings=e.resourcesInformations.warning),this.functions.empty(e.resourcesInformations.error)||(this.resourcesErrors=e.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}onSubmit(){this.loading=!0,this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(Z,!0),u.ad(N,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appVisaWorkflow=n.first))},decls:28,vars:21,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,U,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,B,2,1,"b",6),u.Qc(10,z,3,4,"b",6),u.Sc(11," ? "),u.Qc(12,V,1,1,"div",7),u.Qc(13,H,1,1,"div",7),u.Qc(14,W,6,4,"div",8),u.Qc(15,q,3,1,"div",9),u.Qc(16,X,2,2,"app-visa-workflow",10),u.Yb(),u.Zb(17,"div",5),u.Ub(18,"app-note-editor",11,12),u.Yb(),u.Yb(),u.Yb(),u.Ub(20,"span",13),u.Zb(21,"div",14),u.Zb(22,"button",15),u.hc("click",(function(){return e.onSubmit()})),u.Sc(23),u.mc(24,"translate"),u.Yb(),u.Zb(25,"button",16),u.Sc(26),u.mc(27,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,15,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",1===e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",e.data.resIds.length>1),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appVisaWorkflow&&""!==e.appVisaWorkflow.getLastVisaUser()),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",e.resourcesWarnings.length>0),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(24,17,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(27,19,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c,g.s,Y.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();const K=["noteEditor"],tt=["appVisaWorkflow"];function et(t,e){1&t&&(u.Zb(0,"div",17),u.Ub(1,"mat-spinner",18),u.Yb())}function nt(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function it(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function st(t,e){if(1&t&&u.Ub(0,"div",20),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.resetVisaWorkflow"),u.Ic)}}function at(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function ot(t,e){if(1&t&&(u.Zb(0,"div",21),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,at,5,4,"li",22),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function rt(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function ct(t,e){if(1&t&&(u.Zb(0,"div",23),u.Zb(1,"ul",24),u.Qc(2,rt,5,4,"li",22),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.sc("ngForOf",t.resourcesWarnings)}}function lt(t,e){if(1&t&&u.Ub(0,"app-visa-workflow",25,26),2&t){const t=u.lc();u.sc("adminMode",!1)("resId",t.data.resIds[0])}}let dt=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.checkResetVisa(),this.loading=!1}))}checkResetVisa(){return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkInterruptResetVisa",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.resourcesInformations.warning)||(this.resourcesWarnings=e.resourcesInformations.warning),this.functions.empty(e.resourcesInformations.error)||(this.resourcesErrors=e.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}onSubmit(){this.loading=!0,this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(K,!0),u.ad(tt,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appVisaWorkflow=n.first))},decls:27,vars:20,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,et,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,nt,2,1,"b",6),u.Qc(10,it,3,4,"b",6),u.Sc(11," ? "),u.Qc(12,st,1,1,"div",7),u.Qc(13,ot,6,4,"div",8),u.Qc(14,ct,3,1,"div",9),u.Qc(15,lt,2,2,"app-visa-workflow",10),u.Yb(),u.Zb(16,"div",5),u.Ub(17,"app-note-editor",11,12),u.Yb(),u.Yb(),u.Yb(),u.Ub(19,"span",13),u.Zb(20,"div",14),u.Zb(21,"button",15),u.hc("click",(function(){return e.onSubmit()})),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Zb(24,"button",16),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,14,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",1===e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",e.data.resIds.length>0),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",e.resourcesWarnings.length>0),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(23,16,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(26,18,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c,g.s,Y.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();const ht=["noteEditor"];function ut(t,e){1&t&&(u.Zb(0,"div",17),u.Ub(1,"mat-spinner",18),u.Yb())}function pt(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function ft(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function mt(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function gt(t,e){if(1&t&&(u.Zb(0,"div",20),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,mt,5,4,"li",21),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function bt(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function _t(t,e){if(1&t&&(u.Zb(0,"div",22),u.Zb(1,"ul",23),u.Qc(2,bt,5,4,"li",21),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.sc("ngForOf",t.resourcesWarnings)}}function vt(t,e){if(1&t&&u.Ub(0,"app-visa-workflow",24,25),2&t){const t=u.lc();u.sc("adminMode",!1)("resId",t.data.resIds[0])}}let yt=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.checkInterruptVisa(),this.loading=!1}))}checkInterruptVisa(){return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkInterruptResetVisa",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.resourcesInformations.warning)||(this.resourcesWarnings=e.resourcesInformations.warning),this.functions.empty(e.resourcesInformations.error)||(this.resourcesErrors=e.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}onSubmit(){this.loading=!0,this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(ht,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:27,vars:20,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ut,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,pt,2,1,"b",6),u.Qc(10,ft,3,4,"b",6),u.Sc(11," ? "),u.Ub(12,"div",7),u.Qc(13,gt,6,4,"div",8),u.Qc(14,_t,3,1,"div",9),u.Qc(15,vt,2,2,"app-visa-workflow",10),u.Yb(),u.Zb(16,"div",5),u.Ub(17,"app-note-editor",11,12),u.Yb(),u.Yb(),u.Yb(),u.Ub(19,"span",13),u.Zb(20,"div",14),u.Zb(21,"button",15),u.hc("click",(function(){return e.onSubmit()})),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Zb(24,"button",16),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,14,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",1===e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("innerHTML",e.translate.instant("lang.interruptVisaWorkflow"),u.Ic),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",e.resourcesWarnings.length>0),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(23,16,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(26,18,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c,g.s,Y.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();const xt=["noteEditor"];function wt(t,e){1&t&&(u.Zb(0,"div",14),u.Ub(1,"mat-spinner",15),u.Yb())}function Ct(t,e){1&t&&(u.Zb(0,"b",16),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Ot(t,e){if(1&t&&(u.Zb(0,"b",16),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function kt(t,e){if(1&t&&(u.Zb(0,"b",16),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let St=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}indexDocumentAndExecuteAction(){this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(t=>{this.data.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(this.data.indexActionRoute,{resource:this.data.resIds[0],note:this.noteEditor.getNote()})),Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(xt,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:26,vars:19,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,wt,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,Ct,3,3,"b",6),u.Qc(10,Ot,2,1,"b",6),u.Qc(11,kt,3,4,"b",6),u.Sc(12," ? "),u.Ub(13,"div",7),u.Ub(14,"div",7),u.Yb(),u.Zb(15,"div",5),u.Ub(16,"app-note-editor",8,9),u.Yb(),u.Yb(),u.Yb(),u.Ub(18,"span",10),u.Zb(19,"div",11),u.Zb(20,"button",12),u.hc("click",(function(){return e.onSubmit()})),u.Sc(21),u.mc(22,"translate"),u.Yb(),u.Zb(23,"button",13),u.Sc(24),u.mc(25,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,13,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("innerHTML",e.translate.instant("lang.updateClosingDate"),u.Ic),u.Eb(1),u.sc("innerHTML",e.translate.instant("lang.openIndexation"),u.Ic),u.Eb(2),u.sc("resIds",e.data.selectedRes),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(22,15,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(25,17,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();var Et=n("kmnG"),Mt=n("qFsG"),It=n("3Pt+"),Pt=n("iadO");const Tt=["noteEditor"];function At(t,e){1&t&&(u.Zb(0,"div",19),u.Ub(1,"mat-spinner",20),u.Yb())}function Dt(t,e){1&t&&(u.Zb(0,"b",21),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Rt(t,e){if(1&t&&(u.Zb(0,"b",21),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Lt(t,e){if(1&t&&(u.Zb(0,"b",21),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let Ft=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1,this.acknowledgementSendDate=new Date,this.acknowledgementSendDateEnd=new Date}ngOnInit(){}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote(),data:{send_date:(this.acknowledgementSendDate.getTime()/1e3).toString()}}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(Tt,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:32,vars:26,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[1,"col-sm-6",2,"padding-top","10px"],["matInput","",3,"ngModel","max","matDatepicker","placeholder","ngModelChange","focus"],["matSuffix","",3,"for"],[3,"startAt"],["pickerStart",""],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,At,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,Dt,3,3,"b",6),u.Qc(10,Rt,2,1,"b",6),u.Qc(11,Lt,3,4,"b",6),u.Sc(12," ? "),u.Ub(13,"div",7),u.Zb(14,"div",8),u.Zb(15,"mat-form-field"),u.Zb(16,"input",9),u.hc("ngModelChange",(function(t){return e.acknowledgementSendDate=t}))("focus",(function(){return u.Hc(t),u.Dc(20).open()})),u.mc(17,"translate"),u.Yb(),u.Ub(18,"mat-datepicker-toggle",10),u.Ub(19,"mat-datepicker",11,12),u.Yb(),u.Yb(),u.Yb(),u.Zb(21,"div",5),u.Ub(22,"app-note-editor",13,14),u.Yb(),u.Yb(),u.Yb(),u.Ub(24,"span",15),u.Zb(25,"div",16),u.Zb(26,"button",17),u.hc("click",(function(){return e.onSubmit()})),u.Sc(27),u.mc(28,"translate"),u.Yb(),u.Zb(29,"button",18),u.Sc(30),u.mc(31,"translate"),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.Dc(20);u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,18,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("innerHTML",e.translate.instant("lang.updateAcknowledgementSendDate"),u.Ic),u.Eb(3),u.tc("placeholder",u.nc(17,20,"lang.acknowledgementSendDate")),u.sc("ngModel",e.acknowledgementSendDate)("max",e.acknowledgementSendDateEnd)("matDatepicker",t),u.Eb(2),u.sc("for",t),u.Eb(1),u.sc("startAt",e.acknowledgementSendDate),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(28,22,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(31,24,"lang.cancel"))}},directives:[h.i,h.f,g.t,Et.c,Mt.b,It.c,Pt.f,It.t,It.w,Pt.h,Et.j,Pt.d,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();var jt=n("1jcm"),Yt=n("fBaO");const Zt=["noteEditor"];function Nt(t,e){1&t&&(u.Zb(0,"div",14),u.Ub(1,"mat-spinner",15),u.Yb())}function Ut(t,e){1&t&&(u.Zb(0,"b",17),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Bt(t,e){if(1&t&&(u.Zb(0,"b",17),u.Sc(1),u.Yb()),2&t){const t=u.lc(3);u.Eb(1),u.Tc(t.data.resource.chrono)}}function zt(t,e){if(1&t&&(u.Zb(0,"b",17),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(3);u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Vt(t,e){if(1&t&&(u.Zb(0,"p"),u.Sc(1),u.mc(2,"translate"),u.Qc(3,Ut,3,3,"b",16),u.Qc(4,Bt,2,1,"b",16),u.Qc(5,zt,3,4,"b",16),u.Sc(6," ? "),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Uc(" ",u.nc(2,4,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===t.data.resIds.length),u.Eb(1),u.sc("ngIf",1==t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1)}}function Ht(t,e){if(1&t){const t=u.ac();u.Zb(0,"div"),u.Zb(1,"mat-slide-toggle",18),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).manualAR=e}))("change",(function(e){return u.Hc(t),u.lc(2).toggleArManual(e.checked)})),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()}if(2&t){const t=u.lc(2);u.Eb(1),u.sc("ngModel",t.manualAR),u.Eb(1),u.Uc(" ",u.nc(3,2,"lang.editAcknowledgementReceipt"),"")}}function Qt(t,e){if(1&t){const t=u.ac();u.Zb(0,"plugin-select-search",26),u.hc("afterSelected",(function(e){return u.Hc(t),u.lc(3).mergeEmailTemplate(e)})),u.Yb()}if(2&t){const t=u.lc(3);u.sc("label",t.translate.instant("lang.emailModel"))("placeholderLabel",t.translate.instant("lang.emailModel"))("datas",t.availableEmailModels)("formControlSelect",t.templateEmailListForm)}}function $t(t,e){if(1&t){const t=u.ac();u.Zb(0,"plugin-select-search",26,27),u.hc("afterSelected",(function(e){return u.Hc(t),u.lc(3).mergeSignEmailTemplate(e)})),u.Yb()}if(2&t){const t=u.lc(3);u.sc("label",t.translate.instant("lang.emailSignatures"))("placeholderLabel",t.translate.instant("lang.emailSignatures"))("datas",t.availableSignEmailModels)("formControlSelect",t.emailSignListForm)}}function Wt(t,e){if(1&t){const t=u.ac();u.Zb(0,"div"),u.Zb(1,"mat-form-field",19),u.Zb(2,"span",20),u.Zb(3,"span",21),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Sc(6,"[AR]\xa0"),u.Yb(),u.Zb(7,"input",22),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).emailsubject=e})),u.Yb(),u.Yb(),u.Zb(8,"div",23),u.Qc(9,Qt,1,4,"plugin-select-search",24),u.Qc(10,$t,2,4,"plugin-select-search",24),u.Yb(),u.Zb(11,"textarea",25),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).emailContent=e})),u.Yb(),u.Yb()}if(2&t){const t=u.lc(2);u.Eb(4),u.Uc("",u.nc(5,5,"lang.object"),"\xa0:\xa0"),u.Eb(3),u.sc("ngModel",t.emailsubject),u.Eb(2),u.sc("ngIf",t.availableEmailModels.length>0),u.Eb(1),u.sc("ngIf",t.availableSignEmailModels.length>0),u.Eb(1),u.sc("ngModel",t.emailContent)}}function Gt(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",t.alt_identifier," ")}}function qt(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"div",28),u.Zb(2,"p"),u.Zb(3,"b"),u.Sc(4),u.Yb(),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Zb(7,"ul"),u.Qc(8,Gt,2,1,"li",29),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(4),u.Tc(t.acknowledgement.alreadySend.number),u.Eb(1),u.Uc(" ",u.nc(6,3,"lang.arAlreadySend")," : "),u.Eb(3),u.sc("ngForOf",t.acknowledgement.alreadySend.list)}}function Xt(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",t.alt_identifier," ")}}function Jt(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"div",28),u.Zb(2,"p"),u.Zb(3,"b"),u.Sc(4),u.Yb(),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Zb(7,"ul"),u.Qc(8,Xt,2,1,"li",29),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(4),u.Tc(t.acknowledgement.alreadyGenerated.number),u.Eb(1),u.Uc(" ",u.nc(6,3,"lang.arAlreadyGenerated")," : "),u.Eb(3),u.sc("ngForOf",t.acknowledgement.alreadyGenerated.list)}}function Kt(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.Yb()),2&t){const t=e.$implicit,n=u.lc(3);u.Eb(2),u.Tc(null!=t.alt_identifier?t.alt_identifier:n.translate.instant("lang.undefined")),u.Eb(1),u.Uc(" : ",t.info," ")}}function te(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"div",28),u.Zb(2,"p"),u.Zb(3,"b"),u.Sc(4),u.Yb(),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Zb(7,"ul"),u.Qc(8,Kt,4,2,"li",29),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(4),u.Tc(t.acknowledgement.noSendAR.number),u.Eb(1),u.Uc(" ",u.nc(6,3,"lang.canNotSendAr")," :"),u.Eb(3),u.sc("ngForOf",t.acknowledgement.noSendAR.list)}}function ee(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=u.lc(3);u.Eb(2),u.Tc(t.acknowledgement.sendEmail),u.Eb(1),u.Uc(" ",u.nc(4,2,"lang.readyToSendElectronicAr")," ")}}function ne(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=u.lc(3);u.Eb(2),u.Tc(t.acknowledgement.sendPaper),u.Eb(1),u.Uc(" ",u.nc(4,2,"lang.readyToGeneratePaperAr")," ")}}function ie(t,e){if(1&t&&(u.Zb(0,"div",30),u.Qc(1,ee,5,4,"div",11),u.Qc(2,ne,5,4,"div",11),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.sc("ngIf",t.acknowledgement.sendEmail),u.Eb(1),u.sc("ngIf",t.acknowledgement.sendPaper)}}function se(t,e){if(1&t&&(u.Zb(0,"div",10),u.Ub(1,"app-note-editor",31,32),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.sc("resIds",t.data.resIds)}}function ae(t,e){if(1&t&&(u.Zb(0,"div",7),u.Qc(1,Nt,2,0,"div",8),u.Zb(2,"div",9),u.Zb(3,"div",10),u.Qc(4,Vt,7,6,"p",11),u.Qc(5,Ht,4,4,"div",11),u.Qc(6,Wt,12,7,"div",11),u.Qc(7,qt,9,5,"div",11),u.Qc(8,Jt,9,5,"div",11),u.Qc(9,te,9,5,"div",11),u.Qc(10,ie,3,2,"div",12),u.Yb(),u.Qc(11,se,3,1,"div",13),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngIf",t.loading),u.Eb(3),u.sc("ngIf","both"==t.arMode||t.acknowledgement.sendEmail||t.acknowledgement.sendPaper),u.Eb(1),u.sc("ngIf","both"==t.arMode),u.Eb(1),u.sc("ngIf",t.manualAR&&t.realResSelected.length>0),u.Eb(1),u.sc("ngIf",t.acknowledgement.alreadySend.number),u.Eb(1),u.sc("ngIf",t.acknowledgement.alreadyGenerated.number),u.Eb(1),u.sc("ngIf",t.acknowledgement.noSendAR.number),u.Eb(1),u.sc("ngIf",t.acknowledgement.sendEmail||t.acknowledgement.sendPaper),u.Eb(1),u.sc("ngIf",t.acknowledgement.sendEmail||t.acknowledgement.sendPaper)}}let oe=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1,this.loadingInit=!1,this.emailsubject="",this.emailContent="",this.availableEmailModels=[],this.availableSignEmailModels=[],this.emailSignListForm=new It.h,this.templateEmailListForm=new It.h,this.acknowledgement={alReadyGenerated:{},alReadySend:{},noSendAR:{},sendEmail:0,sendPaper:0,sendList:[]},this.realResSelected=[],this.currentMode="",this.manualAR=!1,this.arMode="auto"}ngOnInit(){this.loadingInit=!0,this.checkAcknowledgementReceipt()}checkAcknowledgementReceipt(){this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkAcknowledgementReceipt?"+this.currentMode,{resources:this.data.resIds}).subscribe(t=>{this.acknowledgement=t,this.realResSelected=t.sendList,this.loadingInit=!1,this.arMode=t.mode,this.arModeInit(this.arMode)},t=>{this.notify.error(t.error.errors),this.dialogRef.close(),this.loadingInit=!1})}arModeInit(t){"manual"===t&&this.toggleArManual(!0)}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}ngOnDestroy(){tinymce.remove()}executeAction(){let t=null;this.manualAR&&(t={subject:this.emailsubject,content:tinymce.get("emailSignature").getContent(),manual:!0}),this.http.put(this.data.processActionRoute,{resources:this.realResSelected,note:this.noteEditor.getNote(),data:t}).pipe(Object(s.a)(t=>{t&&null!=t.data&&this.downloadAcknowledgementReceipt(t.data),t&&null!=t.errors&&(this.notify.error(t.errors),console.log(t.errors)),this.dialogRef.close(this.realResSelected)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}downloadAcknowledgementReceipt(t){this.loadingExport=!0,this.http.post("../rest/acknowledgementReceipts",{resources:t},{responseType:"blob"}).subscribe(t=>{let e,n,i,s,a=document.createElement("a");a.href=window.URL.createObjectURL(t),e=new Date,n=e.getDate(),i=e.getMonth()+1,s=e.getFullYear(),n<10&&(n="0"+n),i<10&&(i="0"+i),e=n+"-"+i+"-"+s,a.setAttribute("download","acknowledgement_receipt_maarch_"+e+".pdf"),document.body.appendChild(a),a.click(),this.loadingExport=!1},t=>{this.notify.handleErrors(t)})}toggleArManual(t){t?(this.currentMode="mode=manual",this.checkAcknowledgementReceipt(),this.manualAR=!0,1===this.data.resIds.length&&(this.emailsubject=this.data.resource.subject,this.emailsubject=this.emailsubject.substring(0,100)),this.initEmailModelsList(),this.initSignEmailModelsList(),setTimeout(()=>{this.initMce()},800)):(this.currentMode="mode=auto",this.checkAcknowledgementReceipt(),tinymce.remove(),this.manualAR=!1)}initMce(){tinymce.init({selector:"textarea#emailSignature",base_url:"../node_modules/tinymce/",readonly:!1,suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant("lang.langISO").replace("-","_")}.js`,menubar:!1,statusbar:!1,plugins:["autolink","autoresize"],external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_drawer:"floating",toolbar:"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |             alignleft aligncenter alignright alignjustify             bullist numlist outdent indent | removeformat"})}mergeEmailTemplate(t){this.templateEmailListForm.reset(),this.http.post(`../rest/templates/${t}/mergeEmail`,{data:{resId:this.data.resIds[0]}}).pipe(Object(s.a)(t=>{var e=document.createElement("div");if(e.innerHTML=tinymce.get("emailSignature").getContent(),e.getElementsByClassName("signature").length>0){const n=e.getElementsByClassName("signature")[0].innerHTML;e.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent(`${e.innerHTML}${t.mergedDocument}<div class="signature">${n}</div>`)}else tinymce.get("emailSignature").setContent(`${tinymce.get("emailSignature").getContent()}${t.mergedDocument}`)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}mergeSignEmailTemplate(t){this.emailSignListForm.reset(),this.http.get("../rest/currentUser/emailSignatures/"+t).pipe(Object(s.a)(t=>{var e=document.createElement("div");e.innerHTML=tinymce.get("emailSignature").getContent(),e.getElementsByClassName("signature").length>0?(e.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent(`${e.innerHTML}<div class="signature">${t.emailSignature.content}</div>`)):tinymce.get("emailSignature").setContent(`${tinymce.get("emailSignature").getContent()}<div class="signature">${t.emailSignature.content}</div>`)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}initEmailModelsList(){0===this.availableEmailModels.length&&1===this.data.resIds.length&&this.http.get(`../rest/resources/${this.data.resIds[0]}/emailTemplates`).pipe(Object(s.a)(t=>{this.availableEmailModels=t.templates}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}initSignEmailModelsList(){0===this.availableSignEmailModels.length&&1===this.data.resIds.length&&this.http.get("../rest/currentUser/emailSignatures").pipe(Object(s.a)(t=>{this.availableSignEmailModels=t.emailSignatures}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.ad(Zt,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],["class","alert-message alert-message-success acknowledgementList","role","alert","style","padding: 10px;",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary","class","highlight",4,"ngIf"],["color","primary",1,"highlight"],["color","primary",3,"ngModel","ngModelChange","change"],["floatLabel","never"],["matPrefix",""],[1,"attachLabel"],["matInput","","maxlength","100",3,"ngModel","ngModelChange"],[1,"models"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected",4,"ngIf"],["name","emailSignature","id","emailSignature",2,"padding-top","10px",3,"ngModel","ngModelChange"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],["role","alert",1,"alert-message","alert-message-info","acknowledgementList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-success","acknowledgementList",2,"padding","10px"],[3,"resIds"],["noteEditor",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Qc(3,ae,12,9,"div",2),u.Ub(4,"span",3),u.Zb(5,"div",4),u.Zb(6,"button",5),u.hc("click",(function(){return e.onSubmit()})),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Zb(9,"button",6),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(1),u.sc("ngIf",!e.loadingInit),u.Eb(3),u.sc("disabled",e.loading||!e.acknowledgement.sendEmail&&!e.acknowledgement.sendPaper),u.Eb(1),u.Tc(u.nc(8,6,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(11,8,"lang.cancel")))},directives:[h.i,g.t,h.c,_.b,h.d,h.f,v.c,jt.a,It.t,It.w,Et.c,Et.i,Mt.b,It.c,It.o,Yt.a,g.s,b.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px;margin-bottom:10px}.attachLabel[_ngcontent-%COMP%]{color:#135f7f}"]}),t})();const re=["noteEditor"];function ce(t,e){1&t&&(u.Zb(0,"div",14),u.Ub(1,"mat-spinner",15),u.Yb())}function le(t,e){1&t&&(u.Zb(0,"b",16),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function de(t,e){if(1&t&&(u.Zb(0,"b",16),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function he(t,e){if(1&t&&(u.Zb(0,"b",16),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let ue=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(re,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:25,vars:18,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ce,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,le,3,3,"b",6),u.Qc(10,de,2,1,"b",6),u.Qc(11,he,3,4,"b",6),u.Sc(12," ? "),u.Ub(13,"div",7),u.Yb(),u.Zb(14,"div",5),u.Ub(15,"app-note-editor",8,9),u.Yb(),u.Yb(),u.Yb(),u.Ub(17,"span",10),u.Zb(18,"div",11),u.Zb(19,"button",12),u.hc("click",(function(){return e.onSubmit()})),u.Sc(20),u.mc(21,"translate"),u.Yb(),u.Zb(22,"button",13),u.Sc(23),u.mc(24,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,12,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("innerHTML",e.translate.instant("lang.updateDepartureDate"),u.Ic),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(21,14,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(24,16,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();const pe=["noteEditor"];function fe(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function me(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function ge(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function be(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let _e=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(pe,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,fe,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,me,3,3,"b",6),u.Qc(10,ge,2,1,"b",6),u.Qc(11,be,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();const ve=["noteEditor"];function ye(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function xe(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function we(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Ce(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let Oe=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(ve,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ye,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,xe,3,3,"b",6),u.Qc(10,we,2,1,"b",6),u.Qc(11,Ce,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();const ke=["noteEditor"];function Se(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function Ee(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Me(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Ie(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let Pe=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,data:{basketId:this.data.basketId},note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(ke,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Se,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,Ee,3,3,"b",6),u.Qc(10,Me,2,1,"b",6),u.Qc(11,Ie,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();var Te=n("NFeN"),Ae=n("GUHb");let De=(()=>{class t{constructor(t,e){this.translate=t,this.data=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],decls:10,vars:7,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-icon-button","",3,"title","mat-dialog-close"],[1,"fa","fa-times-circle","fa-2x"],["mat-dialog-content","",2,"min-height","200px"],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","title"],["appDocumentViewer",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Zb(2,"span"),u.Sc(3),u.Yb(),u.Zb(4,"button",2),u.mc(5,"translate"),u.Ub(6,"mat-icon",3),u.Yb(),u.Yb(),u.Zb(7,"div",4),u.Ub(8,"app-document-viewer",5,6),u.Yb(),u.Yb()),2&t&&(u.Eb(3),u.Uc(" ",e.data.resource.chrono," "),u.Eb(1),u.tc("title",u.nc(5,5,"lang.close")),u.Eb(4),u.sc("editMode",!1)("resId",e.data.resource.resId)("title",e.data.resource.chrono+" - "+e.data.resource.subject))},directives:[h.i,_.b,h.d,Te.a,h.f,Ae.a],pipes:[p.d],styles:[""]}),t})();var Re=n("XhcP"),Le=n("bSwM");let Fe=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.notify=n,this.loading=!1,this.currentAccount=null,this.usersWorkflowList=[],this.injectDatasParam={resId:0,editable:!0}}ngOnInit(){}isValidParaph(){return 0!==this.additionalsInfos.attachments.length}getRessources(){return this.additionalsInfos.attachments.map(t=>t.res_id)}getDatas(){return this.externalSignatoryBookDatas}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-i-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:6,vars:3,consts:[[1,"col-md-12"],["role","alert",1,"alert-message","alert-message-info"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"div"),u.Zb(2,"div",1),u.Zb(3,"p"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(4),u.Tc(u.nc(5,1,"lang.sentToIParapheur")))},pipes:[p.d],styles:[".alert-message[_ngcontent-%COMP%]{margin:0}"]}),t})();var je=n("QibW");function Ye(t,e){1&t&&(u.Zb(0,"div"),u.Zb(1,"div",4),u.Zb(2,"p"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(3),u.Tc(u.nc(4,1,"lang.noIxbusNature")))}function Ze(t,e){1&t&&(u.Zb(0,"div"),u.Zb(1,"div",4),u.Zb(2,"p"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(3),u.Tc(u.nc(4,1,"lang.noWorkflowIxbus")))}function Ne(t,e){if(1&t&&(u.Xb(0),u.Qc(1,Ye,5,3,"div",3),u.Qc(2,Ze,5,3,"div",3),u.Wb()),2&t){const t=u.lc(2);u.Eb(1),u.sc("ngIf",0==t.natures.length),u.Eb(1),u.sc("ngIf",0==t.messagesModel.length)}}function Ue(t,e){if(1&t){const t=u.ac();u.Xb(0),u.Zb(1,"div",5),u.Zb(2,"div",6),u.Zb(3,"plugin-select-search",7),u.hc("afterSelected",(function(){u.Hc(t);const e=u.lc(2);return e.ixbusDatas.nature=e.selectNature.value})),u.Yb(),u.Yb(),u.Yb(),u.Zb(4,"div",5),u.Zb(5,"div",6),u.Zb(6,"plugin-select-search",7),u.hc("afterSelected",(function(){u.Hc(t);const e=u.lc(2);return e.ixbusDatas.messageModel=e.selectWorkflow.value})),u.Yb(),u.Yb(),u.Yb(),u.Zb(7,"div",8),u.Zb(8,"div",6),u.Zb(9,"mat-form-field"),u.Zb(10,"input",9),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).ixbusDatas.login=e})),u.mc(11,"translate"),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(13,"div",8),u.Zb(14,"div",6),u.Zb(15,"mat-form-field"),u.Zb(16,"input",10),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).ixbusDatas.password=e})),u.mc(17,"translate"),u.mc(18,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(19,"mat-radio-group",11),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).ixbusDatas.signatureMode=e})),u.Zb(20,"mat-radio-button",12),u.Sc(21),u.mc(22,"translate"),u.Yb(),u.Zb(23,"mat-radio-button",13),u.Sc(24),u.mc(25,"translate"),u.Yb(),u.Yb(),u.Wb()}if(2&t){const t=u.lc(2);u.Eb(3),u.Gb(""),u.sc("showLabel",!0)("label",t.translate.instant("lang.natureIxbusParapheur"))("placeholderLabel",t.translate.instant("lang.natureIxbusParapheur"))("formControlSelect",t.selectNature)("datas",t.natures)("required",!0),u.Eb(3),u.Gb(""),u.sc("showLabel",!0)("label",t.translate.instant("lang.workflowModelIxbus"))("placeholderLabel",t.translate.instant("lang.workflowModelIxbus"))("formControlSelect",t.selectWorkflow)("datas",t.messagesModel)("required",!0),u.Eb(4),u.tc("title",u.nc(11,25,"lang.loginIxbus")),u.tc("placeholder",u.nc(12,27,"lang.loginIxbus")),u.sc("ngModel",t.ixbusDatas.login),u.Eb(6),u.tc("title",u.nc(17,29,"lang.passwordIxbus")),u.tc("placeholder",u.nc(18,31,"lang.passwordIxbus")),u.sc("ngModel",t.ixbusDatas.password),u.Eb(3),u.sc("ngModel",t.ixbusDatas.signatureMode),u.Eb(2),u.Uc(" ",u.nc(22,33,"lang.handwrittenSignature")," "),u.Eb(3),u.Uc(" ",u.nc(25,35,"lang.electronicSignature")," ")}}function Be(t,e){if(1&t&&(u.Zb(0,"div",1),u.Zb(1,"div"),u.Zb(2,"div",2),u.Zb(3,"p"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Qc(6,Ne,3,2,"ng-container",3),u.Qc(7,Ue,26,37,"ng-container",3),u.Yb()),2&t){const t=u.lc();u.Eb(4),u.Tc(u.nc(5,3,"lang.sentToIxbusParapheur")),u.Eb(2),u.sc("ngIf",0==t.natures.length||0==t.messagesModel.length),u.Eb(1),u.sc("ngIf",0!=t.natures.length&&0!=t.messagesModel.length)}}let ze=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.notify=n,this.loading=!0,this.currentAccount=null,this.usersWorkflowList=[],this.natures=[],this.messagesModel=[],this.ixbusDatas={nature:"",messageModel:"",login:"",password:"",signatureMode:"manual"},this.injectDatasParam={resId:0,editable:!0},this.selectNature=new It.h,this.selectWorkflow=new It.h}ngOnInit(){this.natures=this.additionalsInfos.ixbus.natures.map(t=>({id:t,label:t})),this.messagesModel=this.additionalsInfos.ixbus.messagesModel.map(t=>({id:t,label:t})),this.loading=!1}isValidParaph(){return!!(0!==this.additionalsInfos.attachments.length&&0!==this.natures.length&&0!==this.messagesModel.length&&this.ixbusDatas.nature&&this.ixbusDatas.messageModel&&this.ixbusDatas.login&&this.ixbusDatas.password)}getRessources(){return this.additionalsInfos.attachments.map(t=>t.res_id)}getDatas(){return this.externalSignatoryBookDatas={ixbus:this.ixbusDatas,steps:[]},this.externalSignatoryBookDatas}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-ixbus-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:1,vars:1,consts:[["class","col-md-12",4,"ngIf"],[1,"col-md-12"],["role","alert",1,"alert-message","alert-message-info"],[4,"ngIf"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[1,"form-group",2,"margin-top","10px"],[1,"col-sm-12"],[2,"width","100%",3,"showLabel","label","placeholderLabel","formControlSelect","datas","required","afterSelected"],[1,"form-group"],["matInput","","required","","name","loginIxbus","id","loginIxbus","type","text",3,"ngModel","title","placeholder","ngModelChange"],["matInput","","required","","name","passwordIxbus","id","passwordIxbus","type","password",3,"ngModel","title","placeholder","ngModelChange"],["id","handwrittenSignature","name","handwrittenSignature","color","primary",3,"ngModel","ngModelChange"],["value","manual","color","primary"],["value","electronic","color","primary",2,"margin-left","5px"]],template:function(t,e){1&t&&u.Qc(0,Be,8,5,"div",0),2&t&&u.sc("ngIf",!e.loading)},directives:[g.t,Yt.a,Et.c,Mt.b,It.c,It.E,It.t,It.w,je.b,je.a],pipes:[p.d],styles:[".alert-message[_ngcontent-%COMP%]{margin:0}"]}),t})(),Ve=(()=>{class t{constructor(t,e){this.translate=t,this.http=e,this.loading=!1,this.currentAccount=null,this.usersWorkflowList=[],this.injectDatasParam={resId:0,editable:!0}}ngOnInit(){}isValidParaph(){return 0!==this.additionalsInfos.attachments.length}getRessources(){return this.additionalsInfos.attachments.map(t=>t.res_id)}getDatas(){return this.externalSignatoryBookDatas}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-fast-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:6,vars:3,consts:[[1,"col-md-12"],["role","alert",1,"alert-message","alert-message-info"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"div"),u.Zb(2,"div",1),u.Zb(3,"p"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(4),u.Tc(u.nc(5,1,"lang.sentToFastParapheur")))},pipes:[p.d],styles:[".alert-message[_ngcontent-%COMP%]{margin:0}"]}),t})();const He=["appVisaWorkflow"];function Qe(t,e){if(1&t&&(u.Zb(0,"div",7),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){u.lc();const t=u.Dc(7);u.Eb(2),u.Tc(t.checkExternalSignatoryBook().join(", ")),u.Eb(1),u.Uc(" ",u.nc(4,2,"lang.usersMissingInSignatureBook")," ! ")}}function $e(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function We(t,e){if(1&t&&(u.Zb(0,"div",0),u.Zb(1,"div"),u.Zb(2,"div",8),u.Zb(3,"p"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Zb(6,"ul"),u.Qc(7,$e,5,4,"li",9),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(4),u.Uc(" ",u.nc(5,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.additionalsInfos.visaWorkflowError)}}let Ge=(()=>{class t{constructor(t,e){this.translate=t,this.http=e,this.loading=!1,this.currentAccount=null,this.usersWorkflowList=[],this.injectDatasParam={resId:0,editable:!0}}ngOnInit(){void 0!==this.additionalsInfos.destinationId&&""!==this.additionalsInfos.destinationId&&setTimeout(()=>{this.appVisaWorkflow.loadListModel(this.additionalsInfos.destinationId)},0)}isValidParaph(){return!(0===this.additionalsInfos.attachments.length||0===this.appVisaWorkflow.getWorkflow().length||this.appVisaWorkflow.checkExternalSignatoryBook().length>0)}getRessources(){return this.additionalsInfos.attachments.map(t=>t.res_id)}getDatas(){return this.appVisaWorkflow.getWorkflow().forEach(t=>{this.externalSignatoryBookDatas.steps.push({externalId:t.externalId.maarchParapheur,action:t.requested_signature?"sign":"visa"})}),this.externalSignatoryBookDatas}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-maarch-paraph"]],viewQuery:function(t,e){var n;1&t&&u.ad(He,!0),2&t&&u.Cc(n=u.ic())&&(e.appVisaWorkflow=n.first)},inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:10,vars:8,consts:[[1,"col-md-12"],[1,"fieldsetdContainer",2,"flex","2"],[1,"fieldsetdContent"],[3,"adminMode","injectDatas","linkedToMaarchParapheur"],["appVisaWorkflow",""],["class","alert-message alert-message-danger","role","alert",4,"ngIf"],["class","col-md-12",4,"ngIf"],["role","alert",1,"alert-message","alert-message-danger"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(u.Zb(0,"div",0),u.Zb(1,"div",1),u.Zb(2,"h2"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Zb(5,"div",2),u.Ub(6,"app-visa-workflow",3,4),u.Qc(8,Qe,5,4,"div",5),u.Yb(),u.Yb(),u.Yb(),u.Qc(9,We,8,4,"div",6)),2&t){const t=u.Dc(7);u.Eb(3),u.Uc("",u.nc(4,6,"lang.visaWorkflow")," :"),u.Eb(3),u.sc("adminMode",!0)("injectDatas",e.injectDatasParam)("linkedToMaarchParapheur",!0),u.Eb(2),u.sc("ngIf",t.checkExternalSignatoryBook().length>0),u.Eb(1),u.sc("ngIf",e.additionalsInfos.visaWorkflowError)}},directives:[Y.a,g.t,g.s],pipes:[p.d],styles:[".fieldsetdContainer[_ngcontent-%COMP%]{position:relative}.fieldsetdContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-5px;left:30px;margin:0;padding:0 5px;color:#135f7f}.fieldsetdContainer[_ngcontent-%COMP%]   .fieldsetdContent[_ngcontent-%COMP%]{background:#fff;border-radius:4px;border:1px solid #ccc;margin-top:10px;padding:10px;overflow:auto;height:450px}.alert-message[_ngcontent-%COMP%]{margin:0}"]}),t})();var qe=n("JX91"),Xe=n("lJxs"),Je=n("5+WD"),Ke=n("d3UM"),tn=n("FKr1"),en=n("/1cH"),nn=n("MutI"),sn=n("STbY");function an(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-option",8),u.Zb(1,"span",9),u.Sc(2),u.Yb(),u.Zb(3,"button",10),u.hc("click",(function(){u.Hc(t);const n=e.index;return u.lc(2).removeAccount(n)})),u.mc(4,"translate"),u.Ub(5,"mat-icon",11),u.Yb(),u.Yb()}if(2&t){const t=e.$implicit;u.sc("value",t),u.Eb(2),u.Vc("",t.login," (",t.siret,")"),u.Eb(1),u.tc("title",u.nc(4,4,"lang.delete"))}}function on(t,e){if(1&t){const t=u.ac();u.Zb(0,"form",null,3),u.Zb(2,"div",4),u.Zb(3,"mat-form-field"),u.Zb(4,"mat-label"),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Zb(7,"mat-select",5),u.hc("selectionChange",(function(e){return u.Hc(t),u.lc().selectAccount(e)})),u.Qc(8,an,6,6,"mat-option",6),u.Yb(),u.Zb(9,"mat-hint"),u.Zb(10,"a",7),u.hc("click",(function(){return u.Hc(t),u.lc().initNewAccount()})),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.lc();u.Eb(5),u.Tc(u.nc(6,3,"lang.selectedAccount")),u.Eb(3),u.sc("ngForOf",t.additionalsInfos.accounts),u.Eb(3),u.Tc(u.nc(12,5,"lang.addNewAccount"))}}function rn(t,e){if(1&t){const t=u.ac();u.Zb(0,"form",12,13),u.hc("ngSubmit",(function(){return u.Hc(t),u.lc().addNewAccount()})),u.Zb(2,"div",14),u.Zb(3,"mat-form-field"),u.Zb(4,"input",15),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc().newAccount.login=e})),u.mc(5,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(6,"div",14),u.Zb(7,"mat-form-field"),u.Zb(8,"input",16),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc().newAccount.siret=e})),u.mc(9,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(10,"div",17),u.Zb(11,"button",18),u.Sc(12),u.mc(13,"translate"),u.Yb(),u.Zb(14,"button",19),u.hc("click",(function(){return u.Hc(t),u.lc().addAccountMode=!1})),u.Sc(15),u.mc(16,"translate"),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.Dc(1),e=u.lc();u.Eb(4),u.tc("placeholder",u.nc(5,7,"lang.newAccount")),u.sc("ngModel",e.newAccount.login),u.Eb(4),u.tc("placeholder",u.nc(9,9,"lang.siret")),u.sc("ngModel",e.newAccount.siret),u.Eb(3),u.sc("disabled",!t.form.valid||e.loading),u.Eb(1),u.Uc(" ",u.nc(13,11,"lang.add")," "),u.Eb(3),u.Uc(" ",u.nc(16,13,"lang.cancel")," ")}}function cn(t,e){if(1&t&&(u.Zb(0,"mat-option",33),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.sc("value",t),u.Eb(1),u.Uc(" ",t.displayName," ")}}function ln(t,e){1&t&&(u.Zb(0,"div",34),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Uc(" ",u.nc(2,1,"lang.noPerson")," "))}function dn(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",49),u.hc("click",(function(){u.Hc(t);const n=e.$implicit,i=u.lc().index;return u.lc(2).changeRole(i,n)})),u.Sc(1),u.mc(2,"translate"),u.Yb()}if(2&t){const t=e.$implicit;u.Eb(1),u.Tc(u.nc(2,1,"lang."+t+"User"))}}function hn(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",49),u.hc("click",(function(){u.Hc(t);const n=e.$implicit,i=u.lc().index;return u.lc(2).changeContext(i,n)})),u.Sc(1),u.mc(2,"translate"),u.Yb()}if(2&t){const t=e.$implicit;u.Eb(1),u.Tc(u.nc(2,1,"lang."+t))}}function un(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-list",35),u.Zb(1,"mat-list-item"),u.Ub(2,"mat-icon",36),u.Zb(3,"h4",37),u.Zb(4,"span",38),u.Sc(5),u.Yb(),u.Yb(),u.Zb(6,"p",39),u.Zb(7,"span",40),u.Zb(8,"button",41),u.mc(9,"translate"),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Zb(12,"mat-menu",null,42),u.Zb(14,"div",43),u.Sc(15),u.mc(16,"translate"),u.Yb(),u.Qc(17,dn,3,3,"button",44),u.Yb(),u.Zb(18,"button",45),u.mc(19,"translate"),u.Sc(20),u.mc(21,"translate"),u.Yb(),u.Zb(22,"mat-menu",null,46),u.Zb(24,"div",43),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Qc(27,hn,3,3,"button",44),u.Yb(),u.Yb(),u.Yb(),u.Zb(28,"button",47),u.hc("click",(function(){u.Hc(t);const n=e.index;return u.lc(2).deleteItem(n)})),u.Ub(29,"mat-icon",48),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=e.$implicit,n=u.Dc(13),i=u.Dc(23),s=u.lc(2);u.Eb(5),u.Tc(t.displayName),u.Eb(3),u.tc("title",u.nc(9,15,"lang."+t.currentRole+"User")),u.sc("matMenuTriggerFor",n),u.Eb(2),u.Tc(u.nc(11,17,"lang."+t.currentRole+"User")),u.Eb(2),u.Gb("listMenu"),u.Eb(3),u.Uc(" ",u.nc(16,19,"lang.roles")," "),u.Eb(2),u.sc("ngForOf",t.roles),u.Eb(1),u.tc("title",u.nc(19,21,"lang."+t.currentContext)),u.sc("matMenuTriggerFor",i),u.Eb(2),u.Tc(u.nc(21,23,"lang."+t.currentContext)),u.Eb(2),u.Gb("listMenu"),u.Eb(3),u.Uc(" ",u.nc(26,25,"lang.contextParaph")," "),u.Eb(2),u.sc("ngForOf",s.contextList)}}function pn(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",20),u.Zb(1,"div",21),u.Zb(2,"h2",22),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Zb(5,"div",23),u.Zb(6,"mat-form-field",24),u.Ub(7,"input",25),u.mc(8,"translate"),u.Zb(9,"mat-autocomplete",26,27),u.hc("optionSelected",(function(e){return u.Hc(t),u.lc().addItem(e)})),u.Qc(11,cn,2,2,"mat-option",28),u.mc(12,"async"),u.Yb(),u.Yb(),u.Zb(13,"div",29,30),u.hc("cdkDropListDropped",(function(e){return u.Hc(t),u.lc().drop(e)})),u.Qc(15,ln,3,3,"div",31),u.Qc(16,un,30,27,"mat-list",32),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.Dc(10),e=u.lc();u.Eb(3),u.Uc("",u.nc(4,10,"lang.visaWorkflow")," :"),u.Eb(3),u.Pc("font-size",10,"px"),u.Eb(1),u.tc("placeholder",u.nc(8,12,"lang.addPerson")),u.sc("matAutocomplete",t)("formControl",e.usersCtrl),u.Eb(4),u.sc("ngForOf",u.nc(12,14,e.filteredUsers)),u.Eb(2),u.sc("cdkDropListData",e.currentWorkflow),u.Eb(2),u.sc("ngIf",0===e.currentWorkflow.length),u.Eb(1),u.sc("ngForOf",e.currentWorkflow)}}let fn=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.notify=n,this.loading=!1,this.newAccount={},this.currentAccount=null,this.usersWorkflowList=[],this.currentWorkflow=[],this.contextList=["FON","PER","SPH","DIR","DLP","EXE"],this.addAccountMode=!1,this.usersCtrl=new It.h}ngOnInit(){}drop(t){t.previousContainer===t.container&&Object(Je.h)(t.container.data,t.previousIndex,t.currentIndex)}selectAccount(t){this.loading=!1,this.currentAccount=t.value,this.usersWorkflowList=[],this.currentWorkflow=[],this.getUsersWorkflowList(this.currentAccount)}getUsersWorkflowList(t){this.loading=!0,this.filteredUsers=this.usersCtrl.valueChanges.pipe(Object(qe.a)(""),Object(Xe.a)(t=>t?this._filterUsers(t):this.usersWorkflowList.slice())),this.http.get("../rest/xParaphWorkflow?login="+t.login+"&siret="+t.siret).subscribe(t=>{this.usersWorkflowList=t.workflow,this.usersWorkflowList.forEach(t=>{t.currentRole=t.roles[0],t.currentContext=this.contextList[0]}),setTimeout(()=>{$("#availableUsers").focus()},0)},t=>{this.loading=!1,this.notify.error(t.error.errors[0])})}changeRole(t,e){this.currentWorkflow[t].currentRole=e}changeContext(t,e){this.currentWorkflow[t].currentContext=e}addItem(t){this.currentWorkflow.push(JSON.parse(JSON.stringify(t.option.value))),$("#availableUsers").blur(),this.usersCtrl.setValue("")}deleteItem(t){this.currentWorkflow.splice(t,1)}_filterUsers(t){if("string"==typeof t){const e=t.toLowerCase();return this.usersWorkflowList.filter(t=>-1!==t.displayName.toLowerCase().indexOf(e))}}isValidParaph(){return this.additionalsInfos.attachments.length>0&&this.currentWorkflow.length>0&&""!==this.currentAccount.login&&""!==this.currentAccount.siret}getRessources(){return this.additionalsInfos.attachments.map(t=>t.res_id)}getDatas(){return this.externalSignatoryBookDatas={info:{siret:this.currentAccount.siret,login:this.currentAccount.login},steps:[]},this.currentWorkflow.forEach(t=>{this.externalSignatoryBookDatas.steps.push({login:t.userId,action:"visa"===t.currentRole?"2":"1",contexte:t.currentContext})}),this.externalSignatoryBookDatas}addNewAccount(){this.loading=!0,this.http.post("../rest/xParaphAccount",{login:this.newAccount.login,siret:this.newAccount.siret}).subscribe(t=>{this.additionalsInfos.accounts.push({login:this.newAccount.login,siret:this.newAccount.siret}),this.newAccount={},this.loading=!1,this.addAccountMode=!1,this.notify.success(this.translate.instant("lang.accountAdded"))},t=>{this.notify.handleErrors(t),this.loading=!1})}removeAccount(t){confirm(this.translate.instant("lang.confirmDeleteAccount"))&&this.http.delete("../rest/xParaphAccount?siret="+this.additionalsInfos.accounts[t].siret+"&login="+this.additionalsInfos.accounts[t].login).subscribe(e=>{this.additionalsInfos.accounts.splice(t,1),this.notify.success(this.translate.instant("lang.accountDeleted"))},t=>{this.notify.handleErrors(t),this.loading=!1})}initNewAccount(){this.loading=!1,this.usersWorkflowList=[],this.currentWorkflow=[],this.currentAccount=null,this.addAccountMode=!0,setTimeout(()=>{$("#newAccountLogin").focus()},0)}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-x-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["class","col-md-12","style","padding-top: 20px;",4,"ngIf"],["accountForm","ngForm"],[1,"col-md-12",2,"padding-top","10px"],["name","loginAccount","required","",3,"selectionChange"],["class","accountList",3,"value",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[1,"accountList",3,"value"],[1,"accountName"],["mat-icon-button","","color","warn",3,"title","click"],[1,"fa","fa-trash"],[3,"ngSubmit"],["newAccountForm","ngForm"],[1,"col-md-6",2,"padding-top","10px"],["id","newAccountLogin","matInput","","name","newAccountLogin","required","",3,"placeholder","ngModel","ngModelChange"],["id","newAccountSiret","matInput","","name","newAccountSiret","required","",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-12","text-center",2,"padding-top","10px"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","",3,"click"],[1,"col-md-12",2,"padding-top","20px"],[1,"workflowContent"],[2,"top","-5px"],[1,"contentUser"],["appearance","outline","floatLabel","never"],["id","availableUsers","type","text","matInput","",3,"placeholder","matAutocomplete","formControl"],["isOpen","true",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["style","opacity: 0.5;text-align: center;font-size: 10px;padding: 10px;",4,"ngIf"],["class","columns","cdkDrag","",4,"ngFor","ngForOf"],[3,"value"],[2,"opacity","0.5","text-align","center","font-size","10px","padding","10px"],["cdkDrag","",1,"columns"],["mat-list-icon","","color","primary",1,"fa","fa-user","fa-2x"],["mat-line","",2,"display","flex"],[2,"flex","1","text-overflow","ellipsis","overflow","hidden"],["mat-line","",1,"otherInfo",2,"display","flex"],[2,"opacity","0.5","flex","1"],["mat-button","",1,"currentRoleButton",3,"matMenuTriggerFor","title"],["menu","matMenu"],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","",1,"currentContextButton",3,"matMenuTriggerFor","title"],["menuContext","matMenu"],["mat-icon-button","",3,"click"],["color","warn",1,"fa","fa-times"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(u.Qc(0,on,13,7,"form",0),u.Qc(1,rn,17,15,"form",1),u.Qc(2,pn,17,16,"div",2)),2&t&&(u.sc("ngIf",!e.addAccountMode&&e.additionalsInfos.attachments.length>0),u.Eb(1),u.sc("ngIf",e.addAccountMode&&e.additionalsInfos.attachments.length>0),u.Eb(1),u.sc("ngIf",e.usersWorkflowList.length>0))},directives:[g.t,It.J,It.u,It.v,Et.c,Et.g,Ke.a,g.s,Et.f,tn.o,_.b,Te.a,Mt.b,It.c,It.E,It.t,It.w,en.d,It.i,en.a,Je.e,nn.a,Je.a,nn.d,nn.c,tn.k,sn.d,sn.e,sn.b],pipes:[p.d,g.b],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list[_ngcontent-%COMP%]{height:250px;overflow:auto}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.workflowContent[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:4px;border:1px solid #ccc;padding:10px}.workflowContent[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:auto;font-size:13px}.workflowContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:5px;left:10px;margin:0;padding:0 5px;color:#135f7f}.accountList[_ngcontent-%COMP%]    .mat-option-text{display:flex}.accountList[_ngcontent-%COMP%]   .accountName[_ngcontent-%COMP%]{flex:1} .listMenu .mat-menu-content{padding-top:0;padding-bottom:0}.currentContextButton[_ngcontent-%COMP%]{width:150px}.currentContextButton[_ngcontent-%COMP%], .currentRoleButton[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:13px;text-align:left}.currentRoleButton[_ngcontent-%COMP%]{width:120px}"]}),t})();const mn=["noteEditor"],gn=["xParaph"],bn=["maarchParapheur"],_n=["fastParapheur"],vn=["iParapheur"],yn=["ixbus"];function xn(t,e){1&t&&(u.Zb(0,"div",20),u.Ub(1,"mat-spinner",21),u.Yb())}function wn(t,e){1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Cn(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function On(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function kn(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-checkbox",25),u.hc("click",(function(){u.Hc(t);const n=e.$implicit;return u.lc(2).toggleIntegration(n.key)})),u.Sc(1),u.mc(2,"translate"),u.Yb()}if(2&t){const t=e.$implicit,n=u.lc(2);u.sc("checked",n.data.resource.integrations[t.key]),u.Eb(1),u.Uc("",u.nc(2,2,"lang."+t.key+"_doc")," ")}}function Sn(t,e){if(1&t&&(u.Zb(0,"div",23),u.Qc(1,kn,3,4,"mat-checkbox",24),u.mc(2,"keyvalue"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngForOf",u.nc(2,1,t.integrationsInfo))}}function En(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier)}}function Mn(t,e){if(1&t&&(u.Zb(0,"div",26),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,En,3,1,"li",27),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Tc(u.nc(3,2,"lang.mailingActionInformations")),u.Eb(3),u.sc("ngForOf",t.resourcesMailing)}}function In(t,e){if(1&t&&u.Ub(0,"app-i-paraph",28,29),2&t){const t=u.lc();u.sc("additionalsInfos",t.additionalsInfos)("externalSignatoryBookDatas",t.externalSignatoryBookDatas)}}function Pn(t,e){if(1&t&&u.Ub(0,"app-ixbus-paraph",28,30),2&t){const t=u.lc();u.sc("additionalsInfos",t.additionalsInfos)("externalSignatoryBookDatas",t.externalSignatoryBookDatas)}}function Tn(t,e){if(1&t&&u.Ub(0,"app-fast-paraph",28,31),2&t){const t=u.lc();u.sc("additionalsInfos",t.additionalsInfos)("externalSignatoryBookDatas",t.externalSignatoryBookDatas)}}function An(t,e){if(1&t&&u.Ub(0,"app-maarch-paraph",28,32),2&t){const t=u.lc();u.sc("additionalsInfos",t.additionalsInfos)("externalSignatoryBookDatas",t.externalSignatoryBookDatas)}}function Dn(t,e){if(1&t&&u.Ub(0,"app-x-paraph",28,33),2&t){const t=u.lc();u.sc("additionalsInfos",t.additionalsInfos)("externalSignatoryBookDatas",t.externalSignatoryBookDatas)}}function Rn(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Ln(t,e){if(1&t&&(u.Zb(0,"div",7),u.Zb(1,"div"),u.Zb(2,"div",34),u.Zb(3,"p"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Zb(6,"ul"),u.Qc(7,Rn,5,4,"li",27),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(4),u.Uc(" ",u.nc(5,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.additionalsInfos.noAttachment)}}let Fn=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.changeDetectorRef=a,this.loading=!1,this.additionalsInfos={destinationId:"",users:[],attachments:[],noAttachment:[]},this.resourcesMailing=[],this.signatoryBookEnabled="",this.externalSignatoryBookDatas={steps:[],objectSent:"attachment"},this.integrationsInfo={inSignatureBook:{icon:"fas fa-file-signature"}}}ngOnInit(){this.loading=!0,this.checkExternalSignatureBook()}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}checkExternalSignatureBook(){return this.loading=!0,new Promise((t,e)=>{this.http.post(`../rest/resourcesList/users/${this.data.userId}/groups/${this.data.groupId}/baskets/${this.data.basketId}/checkExternalSignatoryBook`,{resources:this.data.resIds}).pipe(Object(s.a)(e=>{this.additionalsInfos=e.additionalsInfos,this.additionalsInfos.attachments.length>0&&(this.signatoryBookEnabled=e.signatureBookEnabled,e.additionalsInfos.attachments.forEach(t=>{t.mailing&&this.resourcesMailing.push(t)})),this.errors=e.errors,t(!0)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(),Object(d.a)(!1)))).subscribe()})}executeAction(){let t,e;t=this[this.signatoryBookEnabled].getRessources(),e=this[this.signatoryBookEnabled].getDatas(),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:e}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return void 0!==this[this.signatoryBookEnabled]&&this[this.signatoryBookEnabled].isValidParaph()}toggleIntegration(t){this.http.put("../rest/resourcesList/integrations",{resources:this.data.resIds,integrations:{[t]:!this.data.resource.integrations[t]}}).pipe(Object(s.a)(()=>Object(i.a)(this,void 0,void 0,(function*(){this.data.resource.integrations[t]=!this.data.resource.integrations[t],yield this.checkExternalSignatureBook(),this.changeDetectorRef.detectChanges()}))),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(u.h))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(mn,!0),u.ad(gn,!0),u.ad(bn,!0),u.ad(_n,!0),u.ad(vn,!0),u.ad(yn,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.xParaph=n.first),u.Cc(n=u.ic())&&(e.maarchParapheur=n.first),u.Cc(n=u.ic())&&(e.fastParapheur=n.first),u.Cc(n=u.ic())&&(e.iParapheur=n.first),u.Cc(n=u.ic())&&(e.ixbus=n.first))},decls:35,vars:25,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["style","padding:10px;display: flex;flex-direction: column;",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[3,"additionalsInfos","externalSignatoryBookDatas",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12",2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],[2,"padding","10px","display","flex","flex-direction","column"],["color","primary",3,"checked","click",4,"ngFor","ngForOf"],["color","primary",3,"checked","click"],["role","alert",1,"alert-message","alert-message-info"],[4,"ngFor","ngForOf"],[3,"additionalsInfos","externalSignatoryBookDatas"],["iParapheur",""],["ixbus",""],["fastParapheur",""],["maarchParapheur",""],["xParaph",""],["role","alert",1,"alert-message","alert-message-danger","mailList"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,xn,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div",6),u.Zb(8,"div",7),u.Sc(9),u.mc(10,"translate"),u.Qc(11,wn,3,3,"b",8),u.Qc(12,Cn,2,1,"b",8),u.Qc(13,On,3,4,"b",8),u.Sc(14," ? "),u.Yb(),u.Qc(15,Sn,3,3,"div",9),u.Qc(16,Mn,6,4,"div",10),u.Zb(17,"div"),u.Qc(18,In,2,2,"app-i-paraph",11),u.Qc(19,Pn,2,2,"app-ixbus-paraph",11),u.Qc(20,Tn,2,2,"app-fast-paraph",11),u.Qc(21,An,2,2,"app-maarch-paraph",11),u.Qc(22,Dn,2,2,"app-x-paraph",11),u.Qc(23,Ln,8,4,"div",12),u.Yb(),u.Zb(24,"div",13),u.Ub(25,"app-note-editor",14,15),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Ub(27,"span",16),u.Zb(28,"div",17),u.Zb(29,"button",18),u.hc("click",(function(){return e.onSubmit()})),u.Sc(30),u.mc(31,"translate"),u.Yb(),u.Zb(32,"button",19),u.Sc(33),u.mc(34,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(5),u.Uc(" ",u.nc(10,19,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",e.data.resIds.length>0),u.Eb(1),u.sc("ngIf",e.resourcesMailing.length>0),u.Eb(2),u.sc("ngIf","iParapheur"==e.signatoryBookEnabled),u.Eb(1),u.sc("ngIf","ixbus"==e.signatoryBookEnabled),u.Eb(1),u.sc("ngIf","fastParapheur"==e.signatoryBookEnabled),u.Eb(1),u.sc("ngIf","maarchParapheur"==e.signatoryBookEnabled),u.Eb(1),u.sc("ngIf","xParaph"==e.signatoryBookEnabled),u.Eb(1),u.sc("ngIf",0!=e.additionalsInfos.noAttachment.length&&"attachment"==e.externalSignatoryBookDatas.objectSent),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(31,21,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(34,23,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,b.a,h.c,_.b,h.d,v.c,g.s,Le.a,Fe,ze,Ve,Ge,fn],pipes:[p.d,g.l],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();var jn=n("63qU");const Yn=["noteEditor"];function Zn(t,e){1&t&&(u.Zb(0,"div",18),u.Ub(1,"mat-spinner",19),u.Yb())}function Nn(t,e){1&t&&(u.Zb(0,"b",20),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Un(t,e){if(1&t&&(u.Zb(0,"b",20),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Bn(t,e){if(1&t&&(u.Zb(0,"b",20),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function zn(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",11),u.Zb(1,"plugin-autocomplete",21),u.hc("triggerEvent",(function(e){return u.Hc(t),u.lc().setVal(e)})),u.Yb(),u.Yb()}if(2&t){const t=u.lc();u.Eb(1),u.sc("labelPlaceholder",t.translate.instant("lang.userMaarchParapheur"))("datas",t.additionalsInfos.users)("targetSearchKey","displayName")("subInfoKey","email")("singleMode",!0)}}function Vn(t,e){1&t&&(u.Zb(0,"div",7),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Uc(" ",u.nc(2,1,"lang.noUserDefinedInMaarchParapheur")," "))}function Hn(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Qn(t,e){if(1&t&&(u.Zb(0,"div",7),u.Zb(1,"div"),u.Zb(2,"div",22),u.Zb(3,"p"),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Zb(6,"ul"),u.Qc(7,Hn,5,4,"li",23),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(4),u.Uc(" ",u.nc(5,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.additionalsInfos.noMail)}}let $n=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1,this.additionalsInfos={users:[],mails:[],noMail:[]},this.externalSignatoryBookDatas={processingUser:""}}ngOnInit(){this.loading=!0,this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/checkExternalNoteBook",{resources:this.data.resIds}).pipe(Object(Xe.a)(t=>(t.additionalsInfos.users.forEach(t=>{t.displayName=t.firstname+" "+t.lastname}),t)),Object(s.a)(t=>{this.additionalsInfos=t.additionalsInfos,this.errors=t.errors}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),this.dialogRef.close(),Object(d.a)(!1)))).subscribe()}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){let t,e;t=this.additionalsInfos.mails.map(t=>t.res_id),e=this.externalSignatoryBookDatas,this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:e}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}checkValidAction(){return 0==this.additionalsInfos.mails.length||!this.externalSignatoryBookDatas.processingUser||0==this.additionalsInfos.users.length}setVal(t){this.externalSignatoryBookDatas.processingUser=t.id}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(Yn,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:30,vars:20,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","col-md-12","style","padding-top: 10px;",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12",2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["appearance","outline",3,"labelPlaceholder","datas","targetSearchKey","subInfoKey","singleMode","triggerEvent"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Zn,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div",6),u.Zb(8,"div",7),u.Sc(9),u.mc(10,"translate"),u.Qc(11,Nn,3,3,"b",8),u.Qc(12,Un,2,1,"b",8),u.Qc(13,Bn,3,4,"b",8),u.Sc(14," ? "),u.Yb(),u.Zb(15,"div"),u.Qc(16,zn,2,5,"div",9),u.Qc(17,Vn,3,3,"div",10),u.Qc(18,Qn,8,4,"div",10),u.Yb(),u.Zb(19,"div",11),u.Ub(20,"app-note-editor",12,13),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Ub(22,"span",14),u.Zb(23,"div",15),u.Zb(24,"button",16),u.hc("click",(function(){return e.onSubmit()})),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Zb(27,"button",17),u.Sc(28),u.mc(29,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(5),u.Uc(" ",u.nc(10,14,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("ngIf",0!=e.additionalsInfos.users.length),u.Eb(1),u.sc("ngIf",0==e.additionalsInfos.users.length),u.Eb(1),u.sc("ngIf",0!=e.additionalsInfos.noMail.length),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||e.checkValidAction()),u.Eb(1),u.Tc(u.nc(26,16,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(29,18,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,b.a,h.c,_.b,h.d,v.c,jn.a,g.s],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();var Wn=n("RmLz"),Gn=n("I65S"),qn=n("y9tK");const Xn=["appDiffusionsList"],Jn=["noteEditor"];function Kn(t,e){1&t&&(u.Zb(0,"div",10),u.Ub(1,"mat-spinner",11),u.Yb())}function ti(t,e){1&t&&(u.Zb(0,"b",13),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function ei(t,e){if(1&t&&(u.Zb(0,"b",13),u.Sc(1),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Tc(t.data.resource.chrono)}}function ni(t,e){if(1&t&&(u.Zb(0,"b",13),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function ii(t,e){if(1&t&&(u.Xb(0),u.Sc(1),u.mc(2,"translate"),u.Qc(3,ti,3,3,"b",12),u.Qc(4,ei,2,1,"b",12),u.Qc(5,ni,3,4,"b",12),u.Sc(6," ?"),u.Ub(7,"br"),u.Wb()),2&t){const t=u.lc();u.Eb(1),u.Uc(" ",u.nc(2,4,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===t.data.resIds.length),u.Eb(1),u.sc("ngIf",1==t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1)}}function si(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",14),u.Zb(1,"div"),u.Zb(2,"button",15),u.hc("click",(function(){return u.Hc(t),u.lc().loadEntities()})),u.Ub(3,"i",16),u.Sc(4),u.mc(5,"translate"),u.Yb(),u.Yb(),u.Zb(6,"div"),u.Zb(7,"button",15),u.hc("click",(function(){return u.Hc(t),u.lc().loadDestUser()})),u.Ub(8,"i",17),u.Sc(9),u.mc(10,"translate"),u.Yb(),u.Yb(),u.Yb()}2&t&&(u.Eb(4),u.Tc(u.nc(5,2,"lang.toAService")),u.Eb(5),u.Tc(u.nc(10,4,"lang.toAnUser")))}function ai(t,e){1&t&&(u.Zb(0,"div"),u.Zb(1,"div",18),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Uc(" ",u.nc(3,1,"lang.noSettingsAvailable"),""))}function oi(t,e){if(1&t&&(u.Zb(0,"div",19),u.Zb(1,"div",20),u.Zb(2,"h2"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Zb(5,"div",21),u.Zb(6,"mat-form-field",22),u.Ub(7,"input",23),u.mc(8,"translate"),u.Yb(),u.Ub(9,"div",24),u.Yb(),u.Yb(),u.Zb(10,"div",25),u.Zb(11,"h2",26),u.Sc(12),u.mc(13,"translate"),u.Yb(),u.Zb(14,"div",21),u.Ub(15,"app-diffusions-list",27,28),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(3),u.Uc("",u.nc(4,11,"lang.redirectTo")," :"),u.Eb(3),u.Pc("font-size",10,"px"),u.Eb(1),u.tc("placeholder",u.nc(8,13,"lang.searchEntities")),u.Eb(4),u.tc("title",t.currentEntity.entity_label),u.Eb(1),u.Vc("",u.nc(13,15,"lang.diffusionList"),' "',t.currentEntity.entity_label,'" : '),u.Eb(3),u.sc("adminMode",!0)("resId",t.injectDatasParam.resId)("keepDestForRedirection",t.injectDatasParam.keepDestForRedirection)("target","redirect")}}function ri(t,e){if(1&t&&(u.Zb(0,"mat-option",38),u.Zb(1,"mat-list"),u.Zb(2,"mat-list-item"),u.Ub(3,"mat-icon",39),u.Zb(4,"h4",40),u.Sc(5),u.Yb(),u.Zb(6,"p",41),u.Sc(7),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.sc("value",t),u.Eb(5),u.Tc(t.labelToDisplay),u.Eb(2),u.Uc(" ",t.descriptionToDisplay," ")}}function ci(t,e){if(1&t&&(u.Zb(0,"mat-list"),u.Zb(1,"mat-list-item"),u.Ub(2,"mat-icon",42),u.Zb(3,"h4",40),u.Sc(4),u.Yb(),u.Zb(5,"p",43),u.Sc(6),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(4),u.Tc(t.destUser.labelToDisplay),u.Eb(2),u.Uc(" ",t.destUser.descriptionToDisplay," ")}}function li(t,e){1&t&&(u.Zb(0,"div",44),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Uc(" ",u.nc(2,1,"lang.noPerson")," "))}function di(t,e){if(1&t&&(u.Zb(0,"div",45),u.Sc(1),u.mc(2,"translate"),u.Zb(3,"b"),u.Sc(4),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Uc("",u.nc(2,2,"lang.destinationChangingInfo")," "),u.Eb(3),u.Tc(t.destUser.descriptionToDisplay)}}function hi(t,e){if(1&t&&(u.Zb(0,"div",45),u.Sc(1),u.mc(2,"translate"),u.Zb(3,"b"),u.Sc(4),u.Yb(),u.Sc(5),u.mc(6,"translate"),u.Zb(7,"b"),u.Sc(8),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Uc("",u.nc(2,4,"lang.destinationChangingInfoMass")," "),u.Eb(3),u.Tc(t.destUser.labelToDisplay),u.Eb(1),u.Uc(" ",u.nc(6,6,"lang.destinationChangingInfoMass2")," "),u.Eb(3),u.Tc(t.destUser.descriptionToDisplay)}}function ui(t,e){if(1&t&&(u.Zb(0,"div",45),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3,"\xa0"),u.Ub(4,"span",46),u.Yb()),2&t){const t=u.lc(2);u.Eb(2),u.Tc(t.oldUser.labelToDisplay),u.Eb(2),u.sc("innerHTML",t.translate.instant("lang.willBeAutomaticallyInCopy"),u.Ic)}}function pi(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",29),u.Zb(1,"mat-form-field",22),u.Zb(2,"input",30),u.hc("click",(function(){return u.Hc(t),u.lc().userRedirectCtrl.setValue("")})),u.mc(3,"translate"),u.Yb(),u.Zb(4,"mat-autocomplete",31,32),u.hc("optionSelected",(function(e){return u.Hc(t),u.lc().changeDest(e)})),u.Qc(6,ri,8,3,"mat-option",33),u.mc(7,"async"),u.Yb(),u.Yb(),u.Zb(8,"div",20),u.Zb(9,"h2",34),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Zb(12,"div",35),u.Qc(13,ci,7,2,"mat-list",4),u.Qc(14,li,3,3,"div",36),u.Yb(),u.Yb(),u.Qc(15,di,5,4,"div",37),u.Qc(16,hi,9,8,"div",37),u.Qc(17,ui,5,2,"div",37),u.Yb()}if(2&t){const t=u.Dc(5),e=u.lc();u.Eb(1),u.Pc("font-size",10,"px"),u.Eb(1),u.tc("placeholder",u.nc(3,12,"lang.searchNewAssignee")),u.sc("matAutocomplete",t)("formControl",e.userRedirectCtrl),u.Eb(4),u.sc("ngForOf",u.nc(7,14,e.filteredUserRedirect)),u.Eb(4),u.Uc("",u.nc(11,16,"lang.newAssignee")," :"),u.Eb(3),u.sc("ngIf",null!=e.destUser),u.Eb(1),u.sc("ngIf",null==e.destUser),u.Eb(1),u.sc("ngIf",e.isDestinationChanging&&1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.isDestinationChanging&&e.data.resIds.length>1),u.Eb(1),u.sc("ngIf",e.keepDestForRedirection&&null!=e.oldUser)}}function fi(t,e){if(1&t&&(u.Zb(0,"div",29),u.Ub(1,"app-note-editor",47,48),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("resIds",t.data.resIds)}}function mi(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",52),u.hc("click",(function(){return u.Hc(t),u.lc(2).onSubmit()})),u.Sc(1),u.mc(2,"translate"),u.Yb()}if(2&t){const t=u.lc(2);u.sc("disabled",t.checkValidity()),u.Eb(1),u.Tc(u.nc(2,2,"lang.validate"))}}function gi(t,e){if(1&t&&(u.Zb(0,"div",49),u.Qc(1,mi,3,4,"button",50),u.Zb(2,"button",51),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngIf",""!=t.redirectMode),u.Eb(1),u.sc("disabled",t.loading),u.Eb(1),u.Tc(u.nc(4,3,"lang.cancel"))}}let bi=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functionsService=a,this.loading=!1,this.entities=[],this.injectDatasParam={resId:0,editable:!0,keepDestForRedirection:!1},this.destUser=null,this.oldUser=null,this.keepDestForRedirection=!1,this.currentDiffusionListDestRedirect=[],this.diffusionListDestRedirect=[],this.currentEntity={serialId:0,entity_label:""},this.redirectMode="",this.userListRedirect=[],this.userRedirectCtrl=new It.h,this.isDestinationChanging=!1}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.getEntities(),yield this.getDefaultEntity(),0===this.userListRedirect.length&&0===this.entities.filter(t=>t.allowed).length?(this.redirectMode="none",this.loading=!1):0===this.userListRedirect.length&&this.entities.filter(t=>t.allowed).length>0?this.loadEntities():this.userListRedirect.length>0&&0===this.entities.filter(t=>t.allowed).length?this.loadDestUser():this.loading=!1}))}getEntities(){return new Promise((t,e)=>{this.http.get(`../rest/resourcesList/users/${this.data.userId}/groups/${this.data.groupId}/baskets/${this.data.basketId}/actions/${this.data.action.id}/getRedirect`).pipe(Object(s.a)(e=>{this.entities=e.entities,this.userListRedirect=e.users,this.keepDestForRedirection=e.keepDestForRedirection,this.injectDatasParam.keepDestForRedirection=e.keepDestForRedirection,t(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(Gn.of)(!1)))).subscribe()})}getDefaultEntity(){return new Promise((t,e)=>{1===this.data.resIds.length?this.http.get(`../rest/resources/${this.data.resIds[0]}/fields/destination?alt=true`).pipe(Object(s.a)(e=>{this.functionsService.empty(e.field)?this.entities.filter(t=>t.state.selected).length>0&&(this.currentEntity=this.entities.filter(t=>t.state.selected)[0]):(this.currentEntity=this.entities.filter(t=>t.serialId===e.field)[0],this.entities=this.entities.map(t=>Object.assign(Object.assign({},t),{state:{selected:!1,opened:!1}}))),t(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(Gn.of)(!1)))).subscribe():(this.currentEntity=this.entities.filter(t=>t.state.selected)[0],t(!0))})}loadEntities(){this.redirectMode="entity",1===this.data.resIds.length&&(this.injectDatasParam.resId=this.data.resIds[0]),this.loading=!1,setTimeout(()=>{$("#jstree").jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},multiple:!1,data:this.entities},plugins:["checkbox","search","sort"]});let t=!1;$("#jstree_search").keyup((function(){t&&clearTimeout(t),t=setTimeout((function(){const t=$("#jstree_search").val();$("#jstree").jstree(!0).search(t)}),250)})),$("#jstree").on("loaded.jstree",(t,e)=>{this.currentEntity.serialId>0&&($("#jstree").jstree("select_node",this.currentEntity),this.selectEntity(this.currentEntity,!0))}).on("select_node.jstree",(t,e)=>{this.selectEntity(e.node.original)}).on("deselect_node.jstree",(t,e)=>{$("#jstree").jstree("select_node",e.node.original)}).jstree()},0)}loadDestUser(){this.redirectMode="user",this.filteredUserRedirect=this.userRedirectCtrl.valueChanges.pipe(Object(Wn.startWith)(""),Object(Xe.a)(t=>t?this._filterUserRedirect(t):this.userListRedirect.slice())),this.loading=!1,1===this.data.resIds.length?this.http.get("../rest/resources/"+this.data.resIds[0]+"/listInstance").subscribe(t=>{this.diffusionListDestRedirect=t.listInstance,Object.keys(t).forEach(e=>{t[e].forEach(t=>{"dest"===t.item_mode&&(this.oldUser=t)})}),$(".searchUserRedirect").click()},t=>{this.notify.handleErrors(t)}):(this.keepDestForRedirection=!1,setTimeout(()=>{$(".searchUserRedirect").click()},200))}changeDest(t){this.currentDiffusionListDestRedirect=this.diffusionListDestRedirect;const e=t.option.value;if(this.destUser={difflist_type:"entity_id",item_mode:"dest",item_type:"user_id",item_id:e.user_id,labelToDisplay:e.labelToDisplay,descriptionToDisplay:e.descriptionToDisplay},1===this.data.resIds.length){if(this.isDestinationChanging=!1,this.http.get("../rest/resources/"+this.data.resIds[0]+"/users/"+e.id+"/isDestinationChanging").subscribe(t=>{this.isDestinationChanging=t.isDestinationChanging},t=>{this.notify.handleErrors(t)}),this.keepDestForRedirection&&this.currentDiffusionListDestRedirect.length>0){let t=!1,e=null;this.currentDiffusionListDestRedirect.forEach(e=>{"cc"===e.item_mode&&e.item_id===this.oldUser.item_id&&(t=!0)}),t||(e=this.oldUser,e.item_mode="cc",this.currentDiffusionListDestRedirect.push(e))}this.currentDiffusionListDestRedirect.splice(this.currentDiffusionListDestRedirect.map(t=>t.item_mode).indexOf("dest"),1)}else this.isDestinationChanging=!0;this.currentDiffusionListDestRedirect.push(this.destUser),this.userRedirectCtrl.reset(),$(".searchUserRedirect").blur()}_filterUserRedirect(t){if("string"==typeof t){const e=t.toLowerCase();return this.userListRedirect.filter(t=>t.labelToDisplay.toLowerCase().indexOf(e)>=0)}}selectEntity(t,e=!1){this.currentEntity=t,this.appDiffusionsList.loadListModel(t.serialId,e)}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){"user"===this.redirectMode?this.http.put(this.data.processActionRoute,{resources:this.data.resIds,data:{onlyRedirectDest:!0,listInstances:this.currentDiffusionListDestRedirect},note:this.noteEditor.getNote()}).pipe(Object(s.a)(t=>{t&&null!=t.errors&&this.notify.error(t.errors),this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(Gn.of)(!1)))).subscribe():this.http.put(this.data.processActionRoute,{resources:this.data.resIds,data:{listInstances:this.appDiffusionsList.getCurrentListinstance()},note:this.noteEditor.getNote()}).pipe(Object(s.a)(t=>{t&&null!=t.errors&&this.notify.error(t.errors),this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(Gn.of)(!1)))).subscribe()}checkValidity(){return!("entity"===this.redirectMode&&this.appDiffusionsList&&this.appDiffusionsList.getDestUser().length>0&&this.currentEntity.serialId>0&&!this.loading||"user"===this.redirectMode&&this.currentDiffusionListDestRedirect.length>0&&null!=this.destUser&&!this.loading)}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.ad(Xn,!0),u.ad(Jn,!0)),2&t&&(u.Cc(n=u.ic())&&(e.appDiffusionsList=n.first),u.Cc(n=u.ic())&&(e.noteEditor=n.first))},decls:13,vars:11,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[4,"ngIf"],["class","chooseMode",4,"ngIf"],["class","row","style","display: flex;",4,"ngIf"],["class","row",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary","class","highlight",4,"ngIf"],["color","primary",1,"highlight"],[1,"chooseMode"],["mat-stroked-button","","color","primary",3,"click"],[1,"fa","fa-sitemap"],[1,"fa","fa-user"],["role","alert",1,"alert-message","alert-message-danger",2,"margin-top","30px"],[1,"row",2,"display","flex"],[1,"redirectContent",2,"flex","2"],[1,"contentEntities"],["appearance","outline","floatLabel","never"],["matInput","","id","jstree_search","name","jstree_search","type","text",3,"placeholder"],["id","jstree"],[1,"redirectContent",2,"flex","1","overflow","auto"],[3,"title"],[3,"adminMode","resId","keepDestForRedirection","target"],["appDiffusionsList",""],[1,"row"],["matInput","",1,"searchUserRedirect",3,"placeholder","matAutocomplete","formControl","click"],["isOpen","true",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[2,"top","-5px"],[1,"contentUser"],["class","noSelection",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",4,"ngIf"],[3,"value"],["mat-list-icon","","color","primary",1,"fa","fa-user",2,"padding-top","0px"],["mat-line",""],["mat-line","",2,"opacity","0.5","line-height","15px","font-size","10px"],["mat-list-icon","","color","primary",1,"fa","fa-2x","fa-user"],["mat-line","",2,"opacity","0.5"],[1,"noSelection"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px"],[3,"innerHTML"],[3,"resIds"],["noteEditor",""],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Kn,2,0,"div",3),u.Qc(5,ii,8,6,"ng-container",4),u.Qc(6,si,11,6,"div",5),u.Qc(7,ai,4,3,"div",4),u.Qc(8,oi,17,17,"div",6),u.Qc(9,pi,18,18,"div",7),u.Qc(10,fi,3,1,"div",7),u.Yb(),u.Ub(11,"span",8),u.Qc(12,gi,5,5,"div",9),u.Yb()),2&t&&(u.Eb(2),u.Uc('"',e.data.action.label,'"'),u.Eb(1),u.Jb("fullWidth","entity"==e.redirectMode),u.Eb(1),u.sc("ngIf",e.loading),u.Eb(1),u.sc("ngIf",!e.loading),u.Eb(1),u.sc("ngIf",""==e.redirectMode&&!e.loading),u.Eb(1),u.sc("ngIf","none"==e.redirectMode&&!e.loading),u.Eb(1),u.sc("ngIf","entity"==e.redirectMode),u.Eb(1),u.sc("ngIf","user"==e.redirectMode),u.Eb(1),u.sc("ngIf",""!=e.redirectMode&&"none"!=e.redirectMode),u.Eb(2),u.sc("ngIf",!e.loading))},directives:[h.i,h.f,g.t,v.c,_.b,Et.c,Mt.b,qn.a,en.d,It.c,It.t,It.i,en.a,g.s,tn.o,nn.a,nn.d,Te.a,nn.c,tn.k,b.a,h.c,h.d],pipes:[p.d,g.b],styles:[".fullWidth[_ngcontent-%COMP%]{width:70vw}.highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.redirectContent[_ngcontent-%COMP%]{position:relative}.redirectContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:5px;left:30px;margin:0;padding:0 5px;color:#135f7f}.contentEntities[_ngcontent-%COMP%]{overflow:auto;height:60vh}.contentEntities[_ngcontent-%COMP%], .contentUser[_ngcontent-%COMP%]{background:#fff;border-radius:4px;border:1px solid #ccc;margin:10px;padding:10px}.contentEntitiesList[_ngcontent-%COMP%]{background:#fff;margin:10px;padding:10px;overflow:auto;height:60vh}.chooseMode[_ngcontent-%COMP%], .chooseMode[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}.chooseMode[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.chooseMode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;margin:10px;width:200px}.chooseMode[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.noSelection[_ngcontent-%COMP%]{text-align:center;opacity:.5;font-style:italic}"]}),t})();var _i=n("wQTr");const vi=["noteEditor"];function yi(t,e){1&t&&(u.Zb(0,"div",10),u.Ub(1,"mat-spinner",11),u.Yb())}function xi(t,e){if(1&t&&(u.Zb(0,"div",12),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Uc(" ",u.nc(2,1,"lang."+t.fatalError.reason)," ")}}function wi(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",t," ")}}function Ci(t,e){if(1&t&&(u.Zb(0,"div",12),u.Sc(1),u.mc(2,"translate"),u.Ub(3,"br"),u.Zb(4,"div",13),u.Zb(5,"ul"),u.Qc(6,wi,2,1,"li",14),u.Yb(),u.Yb(),u.Ub(7,"span",15),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Uc(" ",u.nc(2,3,"lang.noShippingTemplate")," :"),u.Eb(5),u.sc("ngForOf",t.entitiesList),u.Eb(1),u.sc("innerHTML",t.translate.instant("lang.doShippingParameter"),u.Ic)}}function Oi(t,e){1&t&&(u.Zb(0,"b",31),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function ki(t,e){if(1&t&&(u.Zb(0,"b",31),u.Sc(1),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Tc(t.data.resource.chrono)}}function Si(t,e){if(1&t&&(u.Zb(0,"b",31),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Ei(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-checkbox",34),u.hc("click",(function(){u.Hc(t);const n=e.$implicit;return u.lc(3).toggleIntegration(n.key)})),u.Sc(1),u.mc(2,"translate"),u.Yb()}if(2&t){const t=e.$implicit,n=u.lc(3);u.sc("checked",n.data.resource.integrations[t.key]),u.Eb(1),u.Uc("",u.nc(2,2,t.key+"_doc")," ")}}function Mi(t,e){if(1&t&&(u.Zb(0,"div",32),u.Qc(1,Ei,3,4,"mat-checkbox",33),u.mc(2,"keyvalue"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.sc("ngForOf",u.nc(2,1,t.integrationsInfo))}}function Ii(t,e){if(1&t&&(u.Zb(0,"mat-option",35),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.sc("value",t),u.Eb(1),u.Uc(" ",t.label," ")}}function Pi(t,e){if(1&t&&(u.Zb(0,"div",19),u.Zb(1,"div"),u.Zb(2,"div",36),u.Zb(3,"b"),u.Sc(4),u.Yb(),u.Sc(5),u.mc(6,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(4),u.Tc(t.attachList.length),u.Eb(1),u.Uc(" ",u.nc(6,2,"lang.shippingReadyToSend")," ")}}function Ti(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.chrono),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Ai(t,e){if(1&t&&(u.Zb(0,"div",19),u.Zb(1,"div"),u.Zb(2,"div",12),u.Zb(3,"p"),u.Zb(4,"b"),u.Sc(5),u.Yb(),u.Sc(6),u.mc(7,"translate"),u.Yb(),u.Zb(8,"ul"),u.Qc(9,Ti,5,4,"li",14),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(5),u.Tc(t.mailsNotSend.length),u.Eb(1),u.Uc(" ",u.nc(7,3,"lang.shippingNotEligible")," : "),u.Eb(3),u.sc("ngForOf",t.mailsNotSend)}}function Di(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",u.nc(2,1,"lang.maileva_"+t)," ")}}function Ri(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",19),u.Zb(1,"div",37),u.Zb(2,"div",38),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Zb(5,"div",39),u.Zb(6,"div",40),u.Zb(7,"div",41),u.Zb(8,"p"),u.Sc(9),u.mc(10,"translate"),u.Yb(),u.Zb(11,"ul"),u.Zb(12,"li"),u.Sc(13),u.mc(14,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(15,"div",41),u.Zb(16,"p"),u.Sc(17),u.mc(18,"translate"),u.Yb(),u.Zb(19,"ul"),u.Qc(20,Di,3,3,"li",14),u.Yb(),u.Yb(),u.Yb(),u.Zb(21,"mat-form-field",42),u.Zb(22,"input",43),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc(2).currentShipping.fee=e})),u.mc(23,"translate"),u.Yb(),u.Zb(24,"span",44),u.Sc(25,"\xa0\u20ac"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.lc(2);u.Eb(3),u.Uc(" ",u.nc(4,7,"lang.pricesInformations")," "),u.Eb(6),u.Uc(" ",u.nc(10,9,"lang.sendMode")," : "),u.Eb(4),u.Uc(" ",u.nc(14,11,"lang.maileva_"+t.currentShipping.options.sendMode)," "),u.Eb(4),u.Uc(" ",u.nc(18,13,"lang.shapingOptions")," : "),u.Eb(3),u.sc("ngForOf",t.currentShipping.options.shapingOptions),u.Eb(2),u.tc("title",u.nc(23,15,"lang.totalPrice")),u.sc("ngModel",t.currentShipping.fee)}}function Li(t,e){if(1&t&&(u.Ub(0,"img",45),u.mc(1,"async"),u.mc(2,"secureUrl")),2&t){const t=e.$implicit;u.vc("title","",t.chrono," : ",t.title,""),u.sc("src",u.nc(1,3,u.nc(2,5,"../rest/"+("attachment"===t.type?"attachments":"resources")+"/"+t.res_id+"/thumbnail")),u.Kc)}}function Fi(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-sidenav-container",16),u.Zb(1,"mat-sidenav-content",17),u.Zb(2,"div",18),u.Zb(3,"div",19),u.Sc(4),u.mc(5,"translate"),u.Qc(6,Oi,3,3,"b",20),u.Qc(7,ki,2,1,"b",20),u.Qc(8,Si,3,4,"b",20),u.Sc(9," ? "),u.Yb(),u.Qc(10,Mi,3,3,"div",21),u.Zb(11,"div",22),u.Zb(12,"mat-form-field"),u.Zb(13,"mat-label"),u.Sc(14),u.mc(15,"translate"),u.Yb(),u.Zb(16,"mat-select",23),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc().currentShipping=e})),u.Qc(17,Ii,2,2,"mat-option",24),u.Yb(),u.Yb(),u.Yb(),u.Qc(18,Pi,7,4,"div",25),u.Qc(19,Ai,10,5,"div",25),u.Qc(20,Ri,26,17,"div",25),u.Zb(21,"div",19),u.Ub(22,"app-note-editor",26,27),u.Yb(),u.Yb(),u.Yb(),u.Zb(24,"mat-sidenav",28),u.Zb(25,"div",29),u.Qc(26,Li,3,7,"img",30),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.lc();u.Eb(4),u.Uc(" ",u.nc(5,14,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===t.data.resIds.length),u.Eb(1),u.sc("ngIf",1==t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1),u.Eb(2),u.sc("ngIf",t.data.resIds.length>0),u.Eb(4),u.Tc(u.nc(15,16,"lang.shippings")),u.Eb(2),u.sc("ngModel",t.currentShipping),u.Eb(1),u.sc("ngForOf",t.shippings),u.Eb(1),u.sc("ngIf",t.attachList.length>0),u.Eb(1),u.sc("ngIf",t.mailsNotSend.length>0),u.Eb(1),u.sc("ngIf",null!=t.currentShipping),u.Eb(2),u.sc("resIds",t.data.resIds),u.Eb(2),u.sc("opened",t.attachList.length>0),u.Eb(2),u.sc("ngForOf",t.attachList)}}let ji=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.shippings=[{label:"",description:"",options:{shapingOptions:[],sendMode:""},fee:0,account:{id:"",password:""}}],this.currentShipping=null,this.entitiesList=[],this.attachList=[],this.mailsNotSend=[],this.integrationsInfo={inShipping:{icon:"fas fa-shipping-fast"}},this.fatalError=""}ngOnInit(){this.loading=!0,this.checkShipping()}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}checkShipping(){this.http.post(`../rest/resourcesList/users/${this.data.userId}/groups/${this.data.groupId}/baskets/${this.data.basketId}/actions/${this.data.action.id}/checkShippings`,{resources:this.data.resIds}).pipe(Object(s.a)(t=>{this.functions.empty(t.fatalError)?(this.shippings=t.shippingTemplates,this.mailsNotSend=t.canNotSend,this.entitiesList=t.entities,this.attachList=t.resources):(this.fatalError=t,this.shippings=[])}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(),Object(d.a)(!1)))).subscribe()}executeAction(){let t=this.attachList.filter(t=>"attachment"===t.type).map(t=>t.res_id_master);t=t.concat(this.attachList.filter(t=>"mail"===t.type).map(t=>t.res_id)),this.http.put(this.data.processActionRoute,{resources:t,data:{shippingTemplateId:this.currentShipping.id},note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{e&&null!=e.errors?this.notify.error(e.errors):this.dialogRef.close(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}toggleIntegration(t){this.http.put("../rest/resourcesList/integrations",{resources:this.data.resIds,integrations:{[t]:!this.data.resource.integrations[t]}}).pipe(Object(s.a)(()=>{this.data.resource.integrations[t]=!this.data.resource.integrations[t],this.checkShipping()}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.ad(vi,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:16,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["autosize","","style","height:100%;",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[1,"mailList"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["autosize","",2,"height","100%"],[2,"background","white"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["style","padding:10px;display: flex;flex-direction: column;",4,"ngIf"],[1,"col-md-12",2,"padding-top","10px"],["name","currentShipping","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[3,"resIds"],["noteEditor",""],["mode","side","fixedTopGap","56","position","end",2,"width","50%",3,"opened"],[1,"pjList"],[3,"title","src",4,"ngFor","ngForOf"],["color","primary",1,"highlight"],[2,"padding","10px","display","flex","flex-direction","column"],["color","primary",3,"checked","click",4,"ngFor","ngForOf"],["color","primary",3,"checked","click"],[3,"value"],["role","alert",1,"alert-message","alert-message-info","mailList"],[1,"formType",2,"flex-direction","column"],[1,"formType-title"],[1,"priceContent"],[1,"priceInfo"],[1,"col-md-6"],["appearance","outline"],["matInput","","required","","name","totalPrice","id","totalPrice","type","number","disabled","",3,"ngModel","title","ngModelChange"],["matSuffix",""],[3,"title","src"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,yi,2,0,"div",3),u.Qc(5,xi,3,3,"div",4),u.Qc(6,Ci,8,5,"div",4),u.Qc(7,Fi,27,18,"mat-sidenav-container",5),u.Yb(),u.Ub(8,"span",6),u.Zb(9,"div",7),u.Zb(10,"button",8),u.hc("click",(function(){return e.onSubmit()})),u.Sc(11),u.mc(12,"translate"),u.Yb(),u.Zb(13,"button",9),u.Sc(14),u.mc(15,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(1),u.Jb("fullWidth",e.shippings.length>0)("fullHeight",e.shippings.length>0),u.Eb(1),u.sc("ngIf",e.loading),u.Eb(1),u.sc("ngIf",!e.functions.empty(e.fatalError)),u.Eb(1),u.sc("ngIf",e.functions.empty(e.fatalError)&&0==e.shippings.length),u.Eb(1),u.sc("ngIf",e.shippings.length>0),u.Eb(3),u.sc("disabled",e.loading||null==e.currentShipping||0==e.attachList.length),u.Eb(1),u.Tc(u.nc(12,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(15,15,"lang.cancel")))},directives:[h.i,h.f,g.t,h.c,_.b,h.d,v.c,g.s,Re.e,Re.f,Et.c,Et.g,Ke.a,It.E,It.t,It.w,b.a,Re.d,Le.a,tn.o,Mt.b,It.z,It.c,Et.j],pipes:[p.d,g.l,g.b,_i.a],styles:[".fullHeight[_ngcontent-%COMP%]{height:70vh}.fullWidth[_ngcontent-%COMP%]{width:70vw}.highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();const Yi=["noteEditor"];function Zi(t,e){1&t&&(u.Zb(0,"div",15),u.Ub(1,"mat-spinner",16),u.Yb())}function Ni(t,e){if(1&t&&(u.Zb(0,"b",17),u.Sc(1),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Tc(t.data.resource.chrono)}}function Ui(t,e){if(1&t&&(u.Zb(0,"b",17),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Bi(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",t," ")}}function zi(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"div",18),u.Zb(2,"p"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Zb(5,"ul"),u.Qc(6,Bi,2,1,"li",19),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(3),u.Uc(" ",u.nc(4,2,"lang.hasNoEntity")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesInfo.withoutEntity)}}function Vi(t,e){1&t&&(u.Zb(0,"div"),u.Zb(1,"div",20),u.Zb(2,"p"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(3),u.Uc(" ",u.nc(4,1,"lang.destUserSetToDefault")," "))}function Hi(t,e){if(1&t&&(u.Zb(0,"div",7),u.Qc(1,Zi,2,0,"div",8),u.Zb(2,"div",9),u.Zb(3,"div",10),u.Sc(4),u.mc(5,"translate"),u.Qc(6,Ni,2,1,"b",11),u.Qc(7,Ui,3,4,"b",11),u.Sc(8," ? "),u.Qc(9,zi,7,4,"div",12),u.Qc(10,Vi,5,3,"div",12),u.Yb(),u.Zb(11,"div",10),u.Ub(12,"app-note-editor",13,14),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngIf",t.loading),u.Eb(3),u.Uc(" ",u.nc(5,7,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",1==t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1),u.Eb(2),u.sc("ngIf",t.resourcesInfo.withoutEntity.length>0),u.Eb(1),u.sc("ngIf",t.resourcesInfo.withEntity.length>0),u.Eb(2),u.sc("resIds",t.data.resIds)}}let Qi=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1,this.loadingInit=!1,this.resourcesInfo={withEntity:[],withoutEntity:[]}}ngOnInit(){this.loadingInit=!0,this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/checkInitiatorEntity",{resources:this.data.resIds}).subscribe(t=>{this.resourcesInfo=t,this.loadingInit=!1},t=>{this.notify.error(t.error.errors),this.loadingInit=!1,this.dialogRef.close()})}onSubmit(){this.loading=!0,this.executeAction()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.resourcesInfo.withEntity,note:this.noteEditor.getNote()}).pipe(Object(s.a)(t=>{t&&null!=t.errors&&this.notify.error(t.errors),this.dialogRef.close(this.resourcesInfo.withEntity)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.ad(Yi,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","acknowledgementList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-success"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Qc(3,Hi,14,9,"div",2),u.Ub(4,"span",3),u.Zb(5,"div",4),u.Zb(6,"button",5),u.hc("click",(function(){return e.onSubmit()})),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Zb(9,"button",6),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(1),u.sc("ngIf",!e.loadingInit),u.Eb(3),u.sc("disabled",e.loading||0==e.resourcesInfo.withEntity.length),u.Eb(1),u.Tc(u.nc(8,6,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(11,8,"lang.cancel")))},directives:[h.i,g.t,h.c,_.b,h.d,h.f,b.a,v.c,g.s],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}"]}),t})();const $i=["noteEditor"];function Wi(t,e){1&t&&(u.Zb(0,"div",16),u.Ub(1,"mat-spinner",17),u.Yb())}function Gi(t,e){if(1&t&&(u.Zb(0,"b",18),u.Sc(1),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Tc(t.data.resource.chrono)}}function qi(t,e){if(1&t&&(u.Zb(0,"b",18),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Xi(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",t," ")}}function Ji(t,e){if(1&t&&(u.Zb(0,"div"),u.Zb(1,"div",19),u.Zb(2,"p"),u.Sc(3),u.mc(4,"translate"),u.Yb(),u.Zb(5,"ul"),u.Qc(6,Xi,2,1,"li",20),u.Yb(),u.Yb(),u.Zb(7,"div",21),u.Zb(8,"p"),u.Sc(9),u.mc(10,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(3),u.Uc(" ",u.nc(4,3,"lang.hasNoAttachmentsNotes")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesInfo.noAttachmentsNotes),u.Eb(3),u.Uc(" ",u.nc(10,5,"lang.closeMailAddNoteMandatory")," ")}}function Ki(t,e){if(1&t&&(u.Zb(0,"div",7),u.Qc(1,Wi,2,0,"div",8),u.Zb(2,"div",9),u.Zb(3,"div",10),u.Sc(4),u.mc(5,"translate"),u.Qc(6,Gi,2,1,"b",11),u.Qc(7,qi,3,4,"b",11),u.Sc(8," ? "),u.Ub(9,"div",12),u.Qc(10,Ji,11,7,"div",13),u.Yb(),u.Zb(11,"div",10),u.Ub(12,"app-note-editor",14,15),u.Yb(),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngIf",t.loading),u.Eb(3),u.Uc(" ",u.nc(5,7,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",1==t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1),u.Eb(2),u.sc("innerHTML",t.translate.instant("lang.updateClosingDate"),u.Ic),u.Eb(1),u.sc("ngIf",t.resourcesInfo.noAttachmentsNotes.length>0),u.Eb(2),u.sc("resIds",t.data.resIds)}}let ts=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1,this.loadingInit=!1,this.resourcesInfo={withEntity:[],withoutEntity:[]}}ngOnInit(){this.loadingInit=!0,this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/checkAttachmentsAndNotes",{resources:this.data.resIds}).subscribe(t=>{this.resourcesInfo=t,this.loadingInit=!1},t=>{this.notify.error(t.error.errors),this.loadingInit=!1})}onSubmit(){this.loading=!0,this.executeAction()}checkNote(){return!(!this.noteEditor||!this.noteEditor.getNoteContent())}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(t=>{t&&null!=t.errors&&this.notify.error(t.errors),this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.ad($i,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info","acknowledgementList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-danger"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Qc(3,Ki,14,9,"div",2),u.Ub(4,"span",3),u.Zb(5,"div",4),u.Zb(6,"button",5),u.hc("click",(function(){return e.onSubmit()})),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Zb(9,"button",6),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(1),u.sc("ngIf",!e.loadingInit),u.Eb(3),u.sc("disabled",e.loading||void 0!==e.resourcesInfo.noAttachmentsNotes&&e.resourcesInfo.noAttachmentsNotes.length>0&&!e.checkNote()),u.Eb(1),u.Tc(u.nc(8,6,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(11,8,"lang.cancel")))},directives:[h.i,g.t,h.c,_.b,h.d,h.f,b.a,v.c,g.s],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}"]}),t})();var es=n("qSQ4");const ns=["noteEditor"],is=["appVisaWorkflow"];function ss(t,e){1&t&&(u.Zb(0,"div",20),u.Ub(1,"mat-spinner",21),u.Yb())}function as(t,e){1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function os(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function rs(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function cs(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-checkbox",25),u.hc("click",(function(){u.Hc(t);const n=e.$implicit;return u.lc(2).toggleIntegration(n.key)})),u.Sc(1),u.mc(2,"translate"),u.Yb()}if(2&t){const t=e.$implicit,n=u.lc(2);u.sc("checked",n.data.resource.integrations[t.key]),u.Eb(1),u.Uc(" ",u.nc(2,2,"lang."+t.key+"_doc"),"")}}function ls(t,e){if(1&t&&(u.Zb(0,"div",23),u.Qc(1,cs,3,4,"mat-checkbox",24),u.mc(2,"keyvalue"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngForOf",u.nc(2,1,t.integrationsInfo))}}function ds(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function hs(t,e){if(1&t&&(u.Zb(0,"div",26),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,ds,5,4,"li",27),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesError)}}function us(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier)}}function ps(t,e){if(1&t&&(u.Zb(0,"div",28),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,us,3,1,"li",27),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Tc(u.nc(3,2,"lang.mailingActionInformations")),u.Eb(3),u.sc("ngForOf",t.resourcesMailing)}}function fs(t,e){1&t&&u.Ub(0,"app-visa-workflow",29,30),2&t&&u.sc("adminMode",!0)}function ms(t,e){if(1&t){const t=u.ac();u.Zb(0,"app-attachments-list",31),u.hc("afterActionAttachment",(function(){return u.Hc(t),u.lc().checkSignatureBook()})),u.Yb()}if(2&t){const t=u.lc();u.sc("resId",t.data.resIds[0])}}const gs=function(){return{width:"400px"}};let bs=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!0,this.resourcesMailing=[],this.resourcesError=[],this.noResourceToProcess=null,this.integrationsInfo={inSignatureBook:{icon:"fas fa-file-signature"}}}ngAfterViewInit(){return Object(i.a)(this,void 0,void 0,(function*(){0!==this.data.resIds.length||this.functions.empty(this.data.resource.destination)?this.data.resIds.length>0?(yield this.checkSignatureBook(),this.loading=!1):this.loading=!1:(yield this.appVisaWorkflow.loadListModel(this.data.resource.destination),this.loading=!1),1===this.data.resIds.length&&(yield this.appVisaWorkflow.loadWorkflow(this.data.resIds[0]),this.appVisaWorkflow.emptyWorkflow()&&this.appVisaWorkflow.loadDefaultWorkflow(this.data.resIds[0]))}))}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.loading=!0,0===this.data.resIds.length){let t=yield this.indexDocument();t&&(t=yield this.appVisaWorkflow.saveVisaWorkflow(this.data.resIds)),t&&this.executeIndexingAction(this.data.resIds[0])}else{const t=this.data.resIds.filter(t=>-1===this.resourcesError.map(t=>t.res_id).indexOf(t));(yield this.appVisaWorkflow.saveVisaWorkflow(t))&&this.executeAction(t)}this.loading=!1}))}checkSignatureBook(){return this.resourcesError=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkSignatureBook",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.resourcesInformations.error)||(this.resourcesError=e.resourcesInformations.error),this.noResourceToProcess=this.data.resIds.length===this.resourcesError.length,e.resourcesInformations.success&&(this.resourcesMailing=e.resourcesInformations.success.filter(t=>t.mailing)),t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}toggleIntegration(t){this.http.put("../rest/resourcesList/integrations",{resources:this.data.resIds,integrations:{[t]:!this.data.resource.integrations[t]}}).pipe(Object(s.a)(()=>{this.data.resource.integrations[t]=!this.data.resource.integrations[t],this.checkSignatureBook()}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}indexDocument(){return this.data.resource.integrations={inSignatureBook:!0},new Promise((t,e)=>{this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(e=>{this.data.resIds=[e.resId],t(!0)}),Object(a.a)(e=>(this.notify.handleErrors(e),t(!1),Object(d.a)(!1)))).subscribe()})}executeAction(t){this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeIndexingAction(t){this.http.put(this.data.indexActionRoute,{resource:t,note:this.noteEditor.getNote()}).pipe(Object(s.a)(t=>{t||this.dialogRef.close("success"),t&&null!=t.errors&&this.notify.error(t.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess&&void 0!==this.appVisaWorkflow&&!this.appVisaWorkflow.emptyWorkflow()&&!this.appVisaWorkflow.workflowEnd()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(ns,!0),u.ad(is,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appVisaWorkflow=n.first))},decls:31,vars:25,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["style","padding:10px;display: flex;flex-direction: column;",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[3,"adminMode",4,"ngIf"],[2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],["position","end","mode","side","autoFocus","false",2,"overflow-x","hidden",3,"opened","ngStyle"],[3,"resId","afterActionAttachment",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],[2,"padding","10px","display","flex","flex-direction","column"],["color","primary",3,"checked","click",4,"ngFor","ngForOf"],["color","primary",3,"checked","click"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info"],[3,"adminMode"],["appVisaWorkflow",""],[3,"resId","afterActionAttachment"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ss,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,as,3,3,"b",6),u.Qc(11,os,2,1,"b",6),u.Qc(12,rs,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,ls,3,3,"div",7),u.Qc(15,hs,6,4,"div",8),u.Qc(16,ps,6,4,"div",9),u.Qc(17,fs,2,1,"app-visa-workflow",10),u.Zb(18,"div",11),u.Ub(19,"app-note-editor",12,13),u.Yb(),u.Yb(),u.Zb(21,"mat-sidenav",14),u.Qc(22,ms,1,1,"app-attachments-list",15),u.Yb(),u.Yb(),u.Yb(),u.Ub(23,"span",16),u.Zb(24,"div",17),u.Zb(25,"button",18),u.hc("click",(function(){return e.onSubmit()})),u.Sc(26),u.mc(27,"translate"),u.Yb(),u.Zb(28,"button",19),u.Sc(29),u.mc(30,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,18,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",e.data.resIds.length>0),u.Eb(1),u.sc("ngIf",e.resourcesError.length>0),u.Eb(1),u.sc("ngIf",e.resourcesMailing.length>0&&""!=e.appVisaWorkflow.getFirstVisaUser()&&e.appVisaWorkflow.visaWorkflow.items[0].requested_signature),u.Eb(1),u.sc("ngIf",e.data.resIds.length<=1||!e.noResourceToProcess&&e.data.resIds.length>1),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(2),u.sc("opened",1===e.data.resIds.length&&e.noResourceToProcess)("ngStyle",u.yc(24,gs)),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length&&e.noResourceToProcess),u.Eb(3),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(27,20,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(30,22,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,b.a,Re.d,g.w,h.c,_.b,h.d,v.c,g.s,Le.a,Y.a,es.a],pipes:[p.d,g.l],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}.checked[_ngcontent-%COMP%]{opacity:1;color:#f99830}.unchecked[_ngcontent-%COMP%]{opacity:.5}"]}),t})();const _s=["noteEditor"],vs=["appVisaWorkflow"];function ys(t,e){1&t&&(u.Zb(0,"div",19),u.Ub(1,"mat-spinner",20),u.Yb())}function xs(t,e){1&t&&(u.Zb(0,"b",21),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function ws(t,e){if(1&t&&(u.Zb(0,"b",21),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Cs(t,e){if(1&t&&(u.Zb(0,"b",21),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Os(t,e){if(1&t&&u.Ub(0,"div",22),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.sendToDocTo")+" <b>"+t.appVisaWorkflow.getNextVisaUser().labelToDisplay+"</b>",u.Ic)}}function ks(t,e){if(1&t&&u.Ub(0,"div",22),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.endWorkflow"),u.Ic)}}function Ss(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Es(t,e){if(1&t&&(u.Zb(0,"div",23),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,Ss,5,4,"li",24),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function Ms(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Is(t,e){if(1&t&&(u.Zb(0,"div",25),u.Zb(1,"ul",26),u.Qc(2,Ms,5,4,"li",24),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.sc("ngForOf",t.resourcesWarnings)}}function Ps(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier)}}function Ts(t,e){if(1&t&&(u.Zb(0,"div",27),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,Ps,3,1,"li",24),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Tc(u.nc(3,2,"lang.mailingActionInformations")),u.Eb(3),u.sc("ngForOf",t.resourcesMailing)}}function As(t,e){if(1&t&&u.Ub(0,"app-visa-workflow",28,29),2&t){const t=u.lc();u.sc("adminMode",!1)("resId",t.data.resIds[0])}}let Ds=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesMailing=[],this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.checkSignatureBook(),this.loading=!1}))}checkSignatureBook(){return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkContinueVisaCircuit",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.resourcesInformations.warning)||(this.resourcesWarnings=e.resourcesInformations.warning),this.functions.empty(e.resourcesInformations.error)||(this.resourcesErrors=e.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),e.resourcesInformations.success&&e.resourcesInformations.success.forEach(t=>{t.mailing&&this.resourcesMailing.push(t)}),t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){const t=this.data.resIds.filter(t=>-1===this.resourcesErrors.map(t=>t.res_id).indexOf(t));this.executeAction(t)}))}executeAction(t){this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(_s,!0),u.ad(vs,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appVisaWorkflow=n.first))},decls:31,vars:23,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],["role","alert",1,"alert-message","alert-message-info"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ys,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,xs,3,3,"b",6),u.Qc(11,ws,2,1,"b",6),u.Qc(12,Cs,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,Os,1,1,"div",7),u.Qc(15,ks,1,1,"div",7),u.Qc(16,Es,6,4,"div",8),u.Qc(17,Is,3,1,"div",9),u.Qc(18,Ts,6,4,"div",10),u.Qc(19,As,2,2,"app-visa-workflow",11),u.Zb(20,"div",12),u.Ub(21,"app-note-editor",13,14),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Ub(23,"span",15),u.Zb(24,"div",16),u.Zb(25,"button",17),u.hc("click",(function(){return e.onSubmit()})),u.Sc(26),u.mc(27,"translate"),u.Yb(),u.Zb(28,"button",18),u.Sc(29),u.mc(30,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,17,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appVisaWorkflow&&""!==e.appVisaWorkflow.getNextVisaUser()),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appVisaWorkflow&&""===e.appVisaWorkflow.getNextVisaUser()&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",e.resourcesWarnings.length>0),u.Eb(1),u.sc("ngIf",e.resourcesMailing.length>0&&void 0!==e.appVisaWorkflow&&""!==e.appVisaWorkflow.getNextVisaUser()&&e.appVisaWorkflow.getNextVisaUser().requested_signature),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(2),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(27,19,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(30,21,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,b.a,h.c,_.b,h.d,v.c,g.s,Y.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();var Rs=n("XkWp");const Ls=["noteEditor"],Fs=["appAvisWorkflow"];function js(t,e){1&t&&(u.Zb(0,"div",20),u.Ub(1,"mat-spinner",21),u.Yb())}function Ys(t,e){1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Zs(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Ns(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Us(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Bs(t,e){if(1&t&&(u.Zb(0,"div",23),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,Us,5,4,"li",24),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesError)}}function zs(t,e){if(1&t&&u.Ub(0,"mat-datepicker-toggle",25),2&t){u.lc();const t=u.Dc(22);u.sc("for",t)}}function Vs(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",26),u.hc("click",(function(e){u.Hc(t);const n=u.lc();return e.stopPropagation(),n.opinionLimitDate=null})),u.Ub(1,"mat-icon",27),u.Yb()}if(2&t){const t=u.lc();u.sc("title",t.translate.instant("lang.eraseValue"))}}function Hs(t,e){1&t&&u.Ub(0,"app-avis-workflow",28,29),2&t&&u.sc("adminMode",!0)}let Qs=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesError=[],this.noResourceToProcess=null,this.opinionLimitDate=null,this.today=new Date}ngAfterViewInit(){return Object(i.a)(this,void 0,void 0,(function*(){1===this.data.resIds.length&&(yield this.appAvisWorkflow.loadWorkflow(this.data.resIds[0]),this.appAvisWorkflow.emptyWorkflow()&&this.appAvisWorkflow.loadDefaultWorkflow(this.data.resIds[0]))}))}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.loading=!0,0===this.data.resIds.length){let t=yield this.indexDocument();t&&(t=yield this.appAvisWorkflow.saveAvisWorkflow(this.data.resIds)),t&&this.executeAction(this.data.resIds)}else{const t=this.data.resIds.filter(t=>-1===this.resourcesError.map(t=>t.res_id).indexOf(t));(yield this.appAvisWorkflow.saveAvisWorkflow(t))&&this.executeAction(t)}this.loading=!1}))}indexDocument(){return new Promise((t,e)=>{this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(e=>{this.data.resIds=[e.resId],t(!0)}),Object(a.a)(e=>(this.notify.handleErrors(e),t(!1),Object(d.a)(!1)))).subscribe()})}executeAction(t){const e=`[${this.translate.instant("lang.avisUserAsk").toUpperCase()}] ${this.noteEditor.getNoteContent()}`;this.noteEditor.setNoteContent(e),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:{opinionLimitDate:this.functions.formatDateObjectToDateString(this.opinionLimitDate,!0)}}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!(this.noResourceToProcess||void 0===this.appAvisWorkflow||this.appAvisWorkflow.emptyWorkflow()||this.appAvisWorkflow.workflowEnd()||this.functions.empty(this.noteEditor.getNoteContent())||this.functions.empty(this.functions.formatDateObjectToDateString(this.opinionLimitDate)))}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(Ls,!0),u.ad(Fs,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appAvisWorkflow=n.first))},decls:35,vars:30,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","placeholder","min","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[3,"adminMode"],["appAvisWorkflow",""]],template:function(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,js,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,Ys,3,3,"b",6),u.Qc(11,Zs,2,1,"b",6),u.Qc(12,Ns,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,Bs,6,4,"div",7),u.Zb(15,"mat-form-field",8),u.hc("click",(function(){return u.Hc(t),u.Dc(22).open()})),u.Zb(16,"mat-label"),u.Sc(17),u.mc(18,"translate"),u.Yb(),u.Zb(19,"input",9),u.hc("ngModelChange",(function(t){return e.opinionLimitDate=t})),u.Yb(),u.Qc(20,zs,1,1,"mat-datepicker-toggle",10),u.Ub(21,"mat-datepicker",null,11),u.Qc(23,Vs,2,1,"button",12),u.Yb(),u.Ub(24,"app-note-editor",13,14),u.Qc(26,Hs,2,1,"app-avis-workflow",15),u.Yb(),u.Yb(),u.Yb(),u.Ub(27,"span",16),u.Zb(28,"div",17),u.Zb(29,"button",18),u.hc("click",(function(){return e.onSubmit()})),u.Sc(30),u.mc(31,"translate"),u.Yb(),u.Zb(32,"button",19),u.Sc(33),u.mc(34,"translate"),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.Dc(22);u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,22,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",e.resourcesError.length>0),u.Eb(3),u.Tc(u.nc(18,24,"lang.opinionLimitDate")),u.Eb(2),u.sc("ngModel",e.opinionLimitDate)("matDatepicker",t)("placeholder",e.translate.instant("lang.chooseDate"))("min",e.today),u.Eb(1),u.sc("ngIf",!e.opinionLimitDate),u.Eb(3),u.sc("ngIf",e.opinionLimitDate),u.Eb(1),u.sc("title",e.translate.instant("lang.addOpinionReason"))("resIds",e.data.resIds)("disableRestriction",!0),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length||!e.noResourceToProcess&&e.data.resIds.length>1),u.Eb(3),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(31,26,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(34,28,"lang.cancel"))}},directives:[h.i,h.f,g.t,Re.e,Re.f,Et.c,Et.g,Mt.b,It.c,Pt.f,It.E,It.t,It.w,Pt.d,b.a,h.c,_.b,h.d,v.c,g.s,Pt.h,Et.j,Te.a,Rs.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();const $s=["noteEditor"],Ws=["appAvisWorkflow"];function Gs(t,e){1&t&&(u.Zb(0,"div",18),u.Ub(1,"mat-spinner",19),u.Yb())}function qs(t,e){1&t&&(u.Zb(0,"b",20),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Xs(t,e){if(1&t&&(u.Zb(0,"b",20),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Js(t,e){if(1&t&&(u.Zb(0,"b",20),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Ks(t,e){if(1&t&&u.Ub(0,"div",21),2&t){const t=u.lc();u.sc("innerHTML","<b>"+t.ownerOpinion+"</b> "+t.translate.instant("lang.askOpinionUser")+" :<br/><br/>"+t.opinionContent,u.Ic)}}function ta(t,e){if(1&t&&u.Ub(0,"div",21),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.sendToDocTo")+" <b>"+t.appAvisWorkflow.getNextAvisUser().labelToDisplay+"</b>",u.Ic)}}function ea(t,e){if(1&t&&u.Ub(0,"div",21),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.endWorkflow"),u.Ic)}}function na(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function ia(t,e){if(1&t&&(u.Zb(0,"div",22),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,na,5,4,"li",23),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function sa(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function aa(t,e){if(1&t&&(u.Zb(0,"div",24),u.Zb(1,"ul",25),u.Qc(2,sa,5,4,"li",23),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.sc("ngForOf",t.resourcesWarnings)}}function oa(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-form-field",26),u.Zb(1,"mat-label"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"input",27),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc().opinionLimitDate=e})),u.Yb(),u.Yb()}if(2&t){const t=u.lc();u.Eb(2),u.Tc(u.nc(3,2,"lang.opinionLimitDate")),u.Eb(2),u.sc("ngModel",t.opinionLimitDate)}}function ra(t,e){if(1&t&&u.Ub(0,"app-avis-workflow",28,29),2&t){const t=u.lc();u.sc("adminMode",!1)("resId",t.data.resIds[0])}}let ca=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.ownerOpinion="",this.opinionContent="",this.opinionLimitDate=null,this.noResourceToProcess=null}ngOnInit(){this.checkAvisCircuit()}checkAvisCircuit(){this.loading=!0,this.resourcesErrors=[],this.resourcesWarnings=[],this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkContinueOpinionCircuit",{resources:this.data.resIds}).pipe(Object(s.a)(t=>{this.functions.empty(t.resourcesInformations.warning)||(this.resourcesWarnings=t.resourcesInformations.warning),this.functions.empty(t.resourcesInformations.error)||(this.resourcesErrors=t.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),this.noResourceToProcess||(this.ownerOpinion=t.resourcesInformations.success[0].avisUserAsk,this.opinionContent=t.resourcesInformations.success[0].note,this.opinionLimitDate=new Date(t.resourcesInformations.success[0].opinionLimitDate),this.opinionLimitDate=this.functions.formatDateObjectToDateString(this.opinionLimitDate))}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(),Object(d.a)(!1)))).subscribe()}onSubmit(){const t=this.data.resIds.filter(t=>-1===this.resourcesErrors.map(t=>t.res_id).indexOf(t));this.executeAction(t)}executeAction(t){const e=`[${this.translate.instant("lang.avisUserState")}] ${this.noteEditor.getNoteContent()}`;this.noteEditor.setNoteContent(e),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess&&!this.functions.empty(this.noteEditor.getNoteContent())}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc($s,!0),u.ad(Ws,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appAvisWorkflow=n.first))},decls:31,vars:26,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode","resId",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],["appearance","outline",2,"cursor","pointer","margin-top","10px"],["matInput","","readonly","","disabled","",2,"cursor","pointer",3,"ngModel","ngModelChange"],[3,"adminMode","resId"],["appAvisWorkflow",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Gs,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,qs,3,3,"b",6),u.Qc(11,Xs,2,1,"b",6),u.Qc(12,Js,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,Ks,1,1,"div",7),u.Qc(15,ta,1,1,"div",7),u.Qc(16,ea,1,1,"div",7),u.Qc(17,ia,6,4,"div",8),u.Qc(18,aa,3,1,"div",9),u.Qc(19,oa,5,4,"mat-form-field",10),u.Ub(20,"app-note-editor",11,12),u.Qc(22,ra,2,2,"app-avis-workflow",13),u.Yb(),u.Yb(),u.Yb(),u.Ub(23,"span",14),u.Zb(24,"div",15),u.Zb(25,"button",16),u.hc("click",(function(){return e.onSubmit()})),u.Sc(26),u.mc(27,"translate"),u.Yb(),u.Zb(28,"button",17),u.Sc(29),u.mc(30,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,20,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appAvisWorkflow&&""!==e.appAvisWorkflow.getNextAvisUser()),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appAvisWorkflow&&""===e.appAvisWorkflow.getNextAvisUser()&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",e.resourcesWarnings.length>0),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("title",e.translate.instant("lang.addOpinion"))("resIds",e.data.resIds)("disableRestriction",!0),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length),u.Eb(3),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(27,22,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(30,24,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,b.a,h.c,_.b,h.d,v.c,g.s,Et.c,Et.g,Mt.b,It.c,It.t,It.w,Rs.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();const la=["noteEditor"],da=["appAvisWorkflow"];function ha(t,e){1&t&&(u.Zb(0,"div",20),u.Ub(1,"mat-spinner",21),u.Yb())}function ua(t,e){1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function pa(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function fa(t,e){if(1&t&&(u.Zb(0,"b",22),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function ma(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function ga(t,e){if(1&t&&(u.Zb(0,"div",23),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,ma,5,4,"li",24),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesError)}}function ba(t,e){if(1&t&&u.Ub(0,"mat-datepicker-toggle",25),2&t){u.lc();const t=u.Dc(22);u.sc("for",t)}}function _a(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",26),u.hc("click",(function(e){u.Hc(t);const n=u.lc();return e.stopPropagation(),n.opinionLimitDate=null})),u.Ub(1,"mat-icon",27),u.Yb()}if(2&t){const t=u.lc();u.sc("title",t.translate.instant("lang.eraseValue"))}}function va(t,e){1&t&&u.Ub(0,"app-avis-workflow",28,29),2&t&&u.sc("adminMode",!0)("mode","parallel")}let ya=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesError=[],this.noResourceToProcess=null,this.opinionLimitDate=null,this.today=new Date,this.availableRoles=[]}ngAfterViewInit(){return Object(i.a)(this,void 0,void 0,(function*(){1===this.data.resIds.length&&(yield this.appAvisWorkflow.loadParallelWorkflow(this.data.resIds[0]),this.appAvisWorkflow.emptyWorkflow()&&this.appAvisWorkflow.loadDefaultWorkflow(this.data.resIds[0]))}))}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.loading=!0,0===this.data.resIds.length)(yield this.indexDocument())&&this.executeAction(this.data.resIds);else{const t=this.data.resIds.filter(t=>-1===this.resourcesError.map(t=>t.res_id).indexOf(t));this.executeAction(t)}this.loading=!1}))}indexDocument(){return new Promise((t,e)=>{this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(e=>{this.data.resIds=[e.resId],t(!0)}),Object(a.a)(e=>(this.notify.handleErrors(e),t(!1),Object(d.a)(!1)))).subscribe()})}executeAction(t){const e=`[${this.translate.instant("lang.avisUserAsk").toUpperCase()}] ${this.noteEditor.getNoteContent()}`;this.noteEditor.setNoteContent(e),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:{opinionLimitDate:this.functions.formatDateObjectToDateString(this.opinionLimitDate,!0,"yyyy-mm-dd"),opinionCircuit:this.appAvisWorkflow.getWorkflow()}}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!(this.noResourceToProcess||void 0===this.appAvisWorkflow||this.appAvisWorkflow.emptyWorkflow()||this.appAvisWorkflow.workflowEnd()||this.functions.empty(this.noteEditor.getNoteContent())||this.functions.empty(this.functions.formatDateObjectToDateString(this.opinionLimitDate)))}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(la,!0),u.ad(da,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appAvisWorkflow=n.first))},decls:35,vars:30,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","placeholder","min","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode","mode",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[3,"adminMode","mode"],["appAvisWorkflow",""]],template:function(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ha,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,ua,3,3,"b",6),u.Qc(11,pa,2,1,"b",6),u.Qc(12,fa,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,ga,6,4,"div",7),u.Zb(15,"mat-form-field",8),u.hc("click",(function(){return u.Hc(t),u.Dc(22).open()})),u.Zb(16,"mat-label"),u.Sc(17),u.mc(18,"translate"),u.Yb(),u.Zb(19,"input",9),u.hc("ngModelChange",(function(t){return e.opinionLimitDate=t})),u.Yb(),u.Qc(20,ba,1,1,"mat-datepicker-toggle",10),u.Ub(21,"mat-datepicker",null,11),u.Qc(23,_a,2,1,"button",12),u.Yb(),u.Ub(24,"app-note-editor",13,14),u.Qc(26,va,2,2,"app-avis-workflow",15),u.Yb(),u.Yb(),u.Yb(),u.Ub(27,"span",16),u.Zb(28,"div",17),u.Zb(29,"button",18),u.hc("click",(function(){return e.onSubmit()})),u.Sc(30),u.mc(31,"translate"),u.Yb(),u.Zb(32,"button",19),u.Sc(33),u.mc(34,"translate"),u.Yb(),u.Yb(),u.Yb()}if(2&t){const t=u.Dc(22);u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,22,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",e.resourcesError.length>0),u.Eb(3),u.Tc(u.nc(18,24,"lang.opinionLimitDate")),u.Eb(2),u.sc("ngModel",e.opinionLimitDate)("matDatepicker",t)("placeholder",e.translate.instant("lang.chooseDate"))("min",e.today),u.Eb(1),u.sc("ngIf",!e.opinionLimitDate),u.Eb(3),u.sc("ngIf",e.opinionLimitDate),u.Eb(1),u.sc("title",e.translate.instant("lang.addOpinionReason"))("resIds",e.data.resIds)("disableRestriction",!0),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length||!e.noResourceToProcess&&e.data.resIds.length>1),u.Eb(3),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(31,26,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(34,28,"lang.cancel"))}},directives:[h.i,h.f,g.t,Re.e,Re.f,Et.c,Et.g,Mt.b,It.c,Pt.f,It.E,It.t,It.w,Pt.d,b.a,h.c,_.b,h.d,v.c,g.s,Pt.h,Et.j,Te.a,Rs.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();const xa=["noteEditor"];function wa(t,e){1&t&&(u.Zb(0,"div",17),u.Ub(1,"mat-spinner",18),u.Yb())}function Ca(t,e){1&t&&(u.Zb(0,"b",19),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Oa(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function ka(t,e){if(1&t&&(u.Zb(0,"b",19),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Sa(t,e){if(1&t&&u.Ub(0,"div",20),2&t){const t=u.lc();u.sc("innerHTML","<b>"+t.ownerOpinion+"</b> "+t.translate.instant("lang.askOpinionUser")+" :<br/><br/>"+t.opinionContent,u.Ic)}}function Ea(t,e){if(1&t&&u.Ub(0,"div",20),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.askOpinion"),u.Ic)}}function Ma(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Ia(t,e){if(1&t&&(u.Zb(0,"div",21),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,Ma,5,4,"li",22),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function Pa(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Ta(t,e){if(1&t&&(u.Zb(0,"div",23),u.Zb(1,"ul",24),u.Qc(2,Pa,5,4,"li",22),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.sc("ngForOf",t.resourcesWarnings)}}function Aa(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-form-field",25),u.Zb(1,"mat-label"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"input",26),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc().opinionLimitDate=e})),u.Yb(),u.Yb()}if(2&t){const t=u.lc();u.Eb(2),u.Tc(u.nc(3,2,"lang.opinionLimitDate")),u.Eb(2),u.sc("ngModel",t.opinionLimitDate)}}let Da=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null,this.opinionLimitDate=null,this.ownerOpinion="",this.opinionContent=""}ngOnInit(){this.checkAvisParallel()}checkAvisParallel(){this.loading=!0,this.resourcesErrors=[],this.resourcesWarnings=[],this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkGiveParallelOpinion",{resources:this.data.resIds}).pipe(Object(s.a)(t=>{this.functions.empty(t.resourcesInformations.warning)||(this.resourcesWarnings=t.resourcesInformations.warning),this.functions.empty(t.resourcesInformations.error)||(this.resourcesErrors=t.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),this.noResourceToProcess||(this.ownerOpinion=t.resourcesInformations.success[0].avisUserAsk,this.opinionContent=t.resourcesInformations.success[0].note,this.opinionLimitDate=new Date(t.resourcesInformations.success[0].opinionLimitDate),this.opinionLimitDate=this.functions.formatDateObjectToDateString(this.opinionLimitDate))}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(),Object(d.a)(!1)))).subscribe()}onSubmit(){const t=this.data.resIds.filter(t=>-1===this.resourcesErrors.map(t=>t.res_id).indexOf(t));this.executeAction(t)}executeAction(t){const e=`[${this.translate.instant("lang.avisUserState")}] ${this.noteEditor.getNoteContent()}`;this.noteEditor.setNoteContent(e),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return!this.noResourceToProcess&&!this.functions.empty(this.noteEditor.getNoteContent())}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(xa,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:29,vars:24,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],["appearance","outline",2,"cursor","pointer","margin-top","10px"],["matInput","","readonly","","disabled","",2,"cursor","pointer",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,wa,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,Ca,3,3,"b",6),u.Qc(11,Oa,2,1,"b",6),u.Qc(12,ka,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,Sa,1,1,"div",7),u.Qc(15,Ea,1,1,"div",7),u.Qc(16,Ia,6,4,"div",8),u.Qc(17,Ta,3,1,"div",9),u.Qc(18,Aa,5,4,"mat-form-field",10),u.Ub(19,"app-note-editor",11,12),u.Yb(),u.Yb(),u.Yb(),u.Ub(21,"span",13),u.Zb(22,"div",14),u.Zb(23,"button",15),u.hc("click",(function(){return e.onSubmit()})),u.Sc(24),u.mc(25,"translate"),u.Yb(),u.Zb(26,"button",16),u.Sc(27),u.mc(28,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,18,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",e.resourcesWarnings.length>0),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("title",e.translate.instant("lang.addOpinion"))("resIds",e.data.resIds)("disableRestriction",!0),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(25,20,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(28,22,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,b.a,h.c,_.b,h.d,v.c,g.s,Et.c,Et.g,Mt.b,It.c,It.t,It.w],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();var Ra=n("4zkx");const La=["noteEditor"],Fa=["appAvisWorkflow"];function ja(t,e){1&t&&(u.Zb(0,"div",16),u.Ub(1,"mat-spinner",17),u.Yb())}function Ya(t,e){1&t&&(u.Zb(0,"b",18),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Za(t,e){if(1&t&&(u.Zb(0,"b",18),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Na(t,e){if(1&t&&(u.Zb(0,"b",18),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function Ua(t,e){if(1&t&&u.Ub(0,"div",19),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.validateAvisParallelSingle")+" <b>"+t.ownerOpinion+"</b>",u.Ic)}}function Ba(t,e){if(1&t&&u.Ub(0,"div",19),2&t){const t=u.lc();u.sc("innerHTML",t.translate.instant("lang.validateAvisParallel"),u.Ic)}}function za(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Va(t,e){if(1&t&&(u.Zb(0,"div",20),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,za,5,4,"li",21),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function Ha(t,e){if(1&t&&u.Ub(0,"mat-datepicker-toggle",27),2&t){u.lc();const t=u.Dc(7);u.sc("for",t)}}function Qa(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",28),u.hc("click",(function(e){u.Hc(t);const n=u.lc(2);return e.stopPropagation(),n.opinionLimitDate=null})),u.Ub(1,"mat-icon",29),u.Yb()}if(2&t){const t=u.lc(2);u.sc("title",t.translate.instant("lang.eraseValue"))}}function $a(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-form-field",22),u.hc("click",(function(){return u.Hc(t),u.Dc(7).open()})),u.Zb(1,"mat-label"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"input",23),u.hc("ngModelChange",(function(e){return u.Hc(t),u.lc().opinionLimitDate=e})),u.Yb(),u.Qc(5,Ha,1,1,"mat-datepicker-toggle",24),u.Ub(6,"mat-datepicker",null,25),u.Qc(8,Qa,2,1,"button",26),u.Yb()}if(2&t){const t=u.Dc(7),e=u.lc();u.Eb(2),u.Tc(u.nc(3,7,"lang.opinionLimitDate")),u.Eb(2),u.sc("ngModel",e.opinionLimitDate)("matDatepicker",t)("placeholder",e.translate.instant("lang.chooseDate"))("min",e.today),u.Eb(1),u.sc("ngIf",!e.opinionLimitDate),u.Eb(3),u.sc("ngIf",e.opinionLimitDate)}}function Wa(t,e){if(1&t&&u.Ub(0,"app-note-editor",30,31),2&t){const t=u.lc();u.sc("title",t.translate.instant("lang.addOpinionReason"))("content",t.opinionContent)("resIds",t.data.resIds)("disableRestriction",!0)}}function Ga(t,e){1&t&&u.Ub(0,"app-avis-workflow",32,33),2&t&&u.sc("adminMode",!0)("mode","parallel")}let qa=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.headerService=o,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.ownerOpinion="",this.opinionContent="",this.noResourceToProcess=null,this.opinionLimitDate=null,this.today=new Date,this.availableRoles=[]}ngOnInit(){this.checkAvisCircuit()}checkAvisCircuit(){this.loading=!0,this.resourcesErrors=[],this.resourcesWarnings=[],this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkValidateParallelOpinion",{resources:this.data.resIds}).pipe(Object(s.a)(t=>{this.functions.empty(t.resourcesInformations.warning)||(this.resourcesWarnings=t.resourcesInformations.warning),this.functions.empty(t.resourcesInformations.error)||(this.resourcesErrors=t.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length),this.noResourceToProcess||(this.ownerOpinion=t.resourcesInformations.success[0].avisUserAsk,this.opinionContent=t.resourcesInformations.success[0].note,this.opinionLimitDate=new Date(t.resourcesInformations.success[0].opinionLimitDate))}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(),Object(d.a)(!1)))).subscribe()}ngAfterViewInit(){return Object(i.a)(this,void 0,void 0,(function*(){1===this.data.resIds.length&&(yield this.appAvisWorkflow.loadParallelWorkflow(this.data.resIds[0]))}))}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){const t=this.data.resIds.filter(t=>-1===this.resourcesErrors.map(t=>t.res_id).indexOf(t));this.executeAction(t)}))}executeAction(t){const e=`[${this.translate.instant("lang.avisUserAsk").toUpperCase()}] ${this.noteEditor.getNoteContent()} \u2190 ${this.translate.instant("lang.validateBy")} ${this.headerService.user.firstname} ${this.headerService.user.lastname}`;this.noteEditor.setNoteContent(e),this.http.put(this.data.processActionRoute,{resources:t,data:{note:this.noteEditor.getNote(),opinionLimitDate:this.functions.formatDateObjectToDateString(this.opinionLimitDate,!0),opinionCircuit:this.appAvisWorkflow.getWorkflow()}}).pipe(Object(s.a)(e=>{e||this.dialogRef.close(t),e&&null!=e.errors&&this.notify.error(e.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}isValidAction(){return 1===this.data.resIds.length?!(this.noResourceToProcess||void 0===this.noteEditor||void 0===this.appAvisWorkflow||this.appAvisWorkflow.emptyWorkflow()||this.appAvisWorkflow.workflowEnd()||this.functions.empty(this.noteEditor.getNoteContent())||this.functions.empty(this.functions.formatDateObjectToDateString(this.opinionLimitDate))):!this.noResourceToProcess}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a),u.Tb(Ra.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.ad(La,!0),u.ad(Fa,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appAvisWorkflow=n.first))},decls:28,vars:22,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",3,"click",4,"ngIf"],[3,"title","content","resIds","disableRestriction",4,"ngIf"],[3,"adminMode","mode",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","placeholder","min","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[3,"title","content","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode","mode"],["appAvisWorkflow",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,ja,2,0,"div",3),u.Zb(5,"mat-sidenav-container",4),u.Zb(6,"mat-sidenav-content",5),u.Zb(7,"div"),u.Sc(8),u.mc(9,"translate"),u.Qc(10,Ya,3,3,"b",6),u.Qc(11,Za,2,1,"b",6),u.Qc(12,Na,3,4,"b",6),u.Sc(13," ? "),u.Yb(),u.Qc(14,Ua,1,1,"div",7),u.Qc(15,Ba,1,1,"div",7),u.Qc(16,Va,6,4,"div",8),u.Qc(17,$a,9,9,"mat-form-field",9),u.Qc(18,Wa,2,4,"app-note-editor",10),u.Qc(19,Ga,2,2,"app-avis-workflow",11),u.Yb(),u.Yb(),u.Yb(),u.Ub(20,"span",12),u.Zb(21,"div",13),u.Zb(22,"button",14),u.hc("click",(function(){return e.onSubmit()})),u.Sc(23),u.mc(24,"translate"),u.Yb(),u.Zb(25,"button",15),u.Sc(26),u.mc(27,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(4),u.Uc(" ",u.nc(9,16,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(2),u.sc("ngIf",1==e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),u.Eb(1),u.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),u.Eb(3),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(24,18,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(27,20,"lang.cancel")))},directives:[h.i,h.f,g.t,Re.e,Re.f,h.c,_.b,h.d,v.c,g.s,Et.c,Et.g,Mt.b,It.c,Pt.f,It.E,It.t,It.w,Pt.d,Pt.h,Et.j,Te.a,b.a,Rs.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),t})();var Xa=n("3nLB"),Ja=n("fp7N");const Ka=["noteEditor"],to=["appSearchAdvList"];function eo(t,e){1&t&&(u.Zb(0,"div",10),u.Ub(1,"mat-spinner",11),u.Yb())}function no(t,e){1&t&&(u.Zb(0,"b",16),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function io(t,e){if(1&t&&(u.Zb(0,"b",16),u.Sc(1),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Tc(t.data.resource.chrono)}}function so(t,e){if(1&t&&(u.Zb(0,"b",16),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function ao(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function oo(t,e){if(1&t&&(u.Zb(0,"div",17),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,ao,5,4,"li",18),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function ro(t,e){if(1&t&&(u.Zb(0,"div",12),u.Ub(1,"div",19),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.sc("innerHTML",1===t.data.resIds.length?t.translate.instant("lang.reconcileMsg"):t.translate.instant("lang.reconcileMsg")+"<br/>"+t.translate.instant("lang.reconcileMsg2"),u.Ic)}}const co=function(){return["resourceField","contactField"]};function lo(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",12),u.Zb(1,"app-criteria-tool",20),u.hc("searchUrlGenerated",(function(e){return u.Hc(t),u.lc(2).launchSearch(e)})),u.Yb(),u.Ub(2,"search-adv-list",21,22),u.Yb()}if(2&t){const t=u.lc(2);u.Eb(1),u.sc("defaultCriteria",u.yc(3,co)),u.Eb(1),u.sc("singleMode",!0)("excludeRes",t.data.resIds)}}function ho(t,e){if(1&t&&(u.Xb(0),u.Zb(1,"div",12),u.Sc(2),u.mc(3,"translate"),u.Qc(4,no,3,3,"b",13),u.Qc(5,io,2,1,"b",13),u.Qc(6,so,3,4,"b",13),u.Sc(7," ? "),u.Yb(),u.Zb(8,"div",12),u.Qc(9,oo,6,4,"div",14),u.Yb(),u.Qc(10,ro,2,1,"div",15),u.Qc(11,lo,4,4,"div",15),u.Wb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,7,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===t.data.resIds.length),u.Eb(1),u.sc("ngIf",1===t.data.resIds.length),u.Eb(1),u.sc("ngIf",t.data.resIds.length>1),u.Eb(3),u.sc("ngIf",t.resourcesErrors.length>0),u.Eb(1),u.sc("ngIf",!t.noResourceToProcess),u.Eb(1),u.sc("ngIf",!t.noResourceToProcess)}}let uo=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.searchUrl="",this.resourcesErrors=[],this.selectedRes=[],this.noResourceToProcess=!1}ngOnInit(){this.checkReconcile()}onSubmit(){this.loading=!0,this.executeAction()}checkReconcile(){return this.resourcesErrors=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkReconcile",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.resourcesInformations.error)||(this.resourcesErrors=e.resourcesInformations.error),e.resourcesInformations.success&&e.resourcesInformations.success.forEach(t=>{this.selectedRes.push(t.res_id)}),this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length,t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.selectedRes,data:{resId:this.appSearchAdvList.getSelectedRessources()[0]}}).pipe(Object(s.a)(t=>{null===t||this.functions.empty(t.errors)?this.dialogRef.close(this.selectedRes):this.notify.error(t.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}launchSearch(t){this.searchUrl=t,this.appSearchAdvList.refreshDao(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.ad(Ka,!0),u.ad(to,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.appSearchAdvList=n.first))},decls:15,vars:11,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","style","max-width: 100%;",4,"ngIf"],["class","col-md-12",4,"ngIf"],["color","primary",1,"highlight"],[1,"alert-message","alert-message-danger","mailList",2,"max-width","100%"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info",2,"max-width","100%",3,"innerHTML"],[3,"defaultCriteria","searchUrlGenerated"],[3,"singleMode","excludeRes"],["appSearchAdvList",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,eo,2,0,"div",3),u.Zb(5,"div",4),u.Qc(6,ho,12,9,"ng-container",5),u.Yb(),u.Yb(),u.Ub(7,"span",6),u.Zb(8,"div",7),u.Zb(9,"button",8),u.hc("click",(function(){return e.onSubmit()})),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Zb(12,"button",9),u.Sc(13),u.mc(14,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(2),u.sc("ngIf",e.data.resIds.length>0),u.Eb(3),u.sc("disabled",e.loading||void 0!==e.appSearchAdvList&&0===e.appSearchAdvList.getSelectedRessources().length||e.noResourceToProcess),u.Eb(1),u.Tc(u.nc(11,7,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(14,9,"lang.cancel")))},directives:[h.i,h.f,g.t,h.c,_.b,h.d,v.c,g.s,Xa.a,Ja.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),t})();var po=n("Kj3r"),fo=n("eIep"),mo=n("IsdP");const go=["noteEditor"],bo=["maarchTree"];function _o(t,e){1&t&&(u.Zb(0,"div",22),u.Ub(1,"mat-spinner",23),u.Yb())}function vo(t,e){1&t&&(u.Zb(0,"b",24),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function yo(t,e){if(1&t&&(u.Zb(0,"b",24),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function xo(t,e){if(1&t&&(u.Zb(0,"b",24),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}function wo(t,e){if(1&t&&(u.Zb(0,"li"),u.Zb(1,"b"),u.Sc(2),u.Yb(),u.Sc(3),u.mc(4,"translate"),u.Yb()),2&t){const t=e.$implicit;u.Eb(2),u.Tc(t.alt_identifier),u.Eb(1),u.Uc(" : ",u.nc(4,2,"lang."+t.reason)," ")}}function Co(t,e){if(1&t&&(u.Zb(0,"div",25),u.Zb(1,"p"),u.Sc(2),u.mc(3,"translate"),u.Yb(),u.Zb(4,"ul"),u.Qc(5,wo,5,4,"li",26),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(2),u.Uc(" ",u.nc(3,2,"lang.canNotMakeAction")," : "),u.Eb(3),u.sc("ngForOf",t.resourcesErrors)}}function Oo(t,e){if(1&t){const t=u.ac();u.Zb(0,"app-maaarch-tree",27,28),u.hc("afterSelectNode",(function(e){return u.Hc(t),u.lc().selectFolder(e)})),u.Yb()}if(2&t){const t=u.lc();u.sc("childrenRoute","../rest/alfresco/folders/__node/children")("rawData",t.alfrescoFolders)}}let ko=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.loading=!1,this.alfrescoFolders=[],this.searchFolder=new It.h,this.selectedFolder=null,this.selectedFolderName=null,this.resourcesErrors=[],this.noResourceToProcess=null}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.checkAlfresco(),this.loading=!1,this.getRootFolders(),this.searchFolder.valueChanges.pipe(Object(po.a)(300),Object(s.a)(t=>Object(i.a)(this,void 0,void 0,(function*(){this.selectedFolder=null,this.selectedFolderName=null,0===t.length&&(yield this.getRootFolders(),this.refreshTree())}))),Object(o.a)(t=>t.length>2),Object(fo.a)(t=>this.http.get("../rest/alfresco/autocomplete/folders",{params:{search:t}})),Object(s.a)(t=>{this.alfrescoFolders=t,this.refreshTree()})).subscribe()}))}checkAlfresco(){return this.resourcesErrors=[],new Promise((t,e)=>{this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkSendAlfresco",{resources:this.data.resIds}).subscribe(e=>{this.functions.empty(e.fatalError)?this.functions.empty(e.resourcesInformations.error)||(this.resourcesErrors=e.resourcesInformations.error,this.noResourceToProcess=this.resourcesErrors.length===this.data.resIds.length):(this.notify.error(this.translate.instant("lang."+e.reason)),this.dialogRef.close()),t(!0)},t=>{this.notify.handleSoftErrors(t),this.dialogRef.close()})})}refreshTree(){const t=this.alfrescoFolders;this.alfrescoFolders=[],setTimeout(()=>{this.alfrescoFolders=t},200)}getRootFolders(){return new Promise((t,e)=>{this.http.get("../rest/alfresco/rootFolders").pipe(Object(s.a)(e=>{this.alfrescoFolders=e,t(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(Gn.of)(!1)))).subscribe()})}selectFolder(t){this.selectedFolder=t.id,this.selectedFolderName=this.getNameWithParents(t.text,t.parent)}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){const t=this.data.resIds.filter(t=>-1===this.resourcesErrors.map(t=>t.res_id).indexOf(t));this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNoteContent(),data:{folderId:this.selectedFolder,folderName:this.selectedFolderName}}).pipe(Object(s.a)(t=>{t||this.dialogRef.close("success"),t&&null!=t.errors&&this.notify.error(t.errors)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(Gn.of)(!1)))).subscribe()}isValidAction(){return null!==this.selectedFolder&&!this.noResourceToProcess}getNameWithParents(t,e){return"#"===e||this.maarchTree.getTreeData().forEach(n=>{n.id==e&&(t=n.text+"/"+t,"#"!==n.parent&&(t=this.getNameWithParents(t,n.parent)))}),t}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a),u.Tb(S.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(u.Oc(go,!0),u.ad(bo,!0)),2&t&&(u.Cc(n=u.ic())&&(e.noteEditor=n.first),u.Cc(n=u.ic())&&(e.maarchTree=n.first))},decls:33,vars:21,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],[2,"clear","both"],["appearance","outline","floatLabel","never",1,"smallInput"],["color","primary","matPrefix","",1,"fa","fa-search"],["type","text","id","autoCompleteInput","matInput","",3,"placeholder","formControl"],["autoCompleteInput",""],[3,"childrenRoute","rawData","afterSelectNode",4,"ngIf"],["id","jstreeAlfresco"],[1,"col-md-12",2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],[3,"childrenRoute","rawData","afterSelectNode"],["maarchTree",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,_o,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,vo,3,3,"b",6),u.Qc(10,yo,2,1,"b",6),u.Qc(11,xo,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Ub(13,"br"),u.Qc(14,Co,6,4,"div",7),u.Zb(15,"div",8),u.Zb(16,"mat-form-field",9),u.Ub(17,"mat-icon",10),u.Ub(18,"input",11,12),u.Yb(),u.Qc(20,Oo,2,2,"app-maaarch-tree",13),u.Ub(21,"div",14),u.Yb(),u.Zb(22,"div",15),u.Ub(23,"app-note-editor",16,17),u.Yb(),u.Yb(),u.Yb(),u.Ub(25,"span",18),u.Zb(26,"div",19),u.Zb(27,"button",20),u.hc("click",(function(){return e.onSubmit()})),u.Sc(28),u.mc(29,"translate"),u.Yb(),u.Zb(30,"button",21),u.Sc(31),u.mc(32,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,15,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("ngIf",e.resourcesErrors.length>0),u.Eb(4),u.sc("placeholder","Recherche un dossier")("formControl",e.searchFolder),u.Eb(2),u.sc("ngIf",e.alfrescoFolders.length>0),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading||!e.isValidAction()),u.Eb(1),u.Tc(u.nc(29,17,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(32,19,"lang.cancel")))},directives:[h.i,h.f,g.t,Et.c,Te.a,Et.i,Mt.b,It.c,It.t,It.i,b.a,h.c,_.b,h.d,v.c,g.s,mo.a],pipes:[p.d],styles:[".loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.smallInput[_ngcontent-%COMP%]{font-size:9px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-flex{display:flex;align-items:center}.smallInput[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:auto}"]}),t})();const So=["noteEditor"];function Eo(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function Mo(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Io(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Po(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let To=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}indexDocumentAndExecuteAction(){this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(t=>{this.data.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(this.data.indexActionRoute,{resource:this.data.resIds[0],note:this.noteEditor.getNote(),data:{type:this.data.resource.registeredMail_type,warranty:this.data.resource.registeredMail_warranty,issuingSiteId:this.data.resource.registeredMail_issuingSite,letter:this.data.resource.registeredMail_letter,recipient:this.data.resource.registeredMail_recipient,reference:this.data.resource.registeredMail_reference,generated:!1}})),Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(So,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Eo,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,Mo,3,3,"b",6),u.Qc(10,Io,2,1,"b",6),u.Qc(11,Po,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();const Ao=["noteEditor"];function Do(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function Ro(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Lo(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Fo(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let jo=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}indexDocumentAndExecuteAction(){this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(t=>{this.data.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(this.data.indexActionRoute,{resource:this.data.resIds[0],note:this.noteEditor.getNote(),data:{type:this.data.resource.registeredMail_type,warranty:this.data.resource.registeredMail_warranty,issuingSiteId:this.data.resource.registeredMail_issuingSite,letter:this.data.resource.registeredMail_letter,recipient:this.data.resource.registeredMail_recipient,reference:this.data.resource.registeredMail_reference,generated:!0}})),Object(s.a)(t=>{if(t&&null!=t.errors)this.notify.error(t.errors);else{const e=document.createElement("a");e.href="data:application/pdf;base64,"+t.fileContent,e.setAttribute("download","recommande_"+t.registeredMailNumber.split(" ").join("_")+".pdf"),document.body.appendChild(e),e.click(),this.dialogRef.close(this.data.resIds)}}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(Ao,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Do,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,Ro,3,3,"b",6),u.Qc(10,Lo,2,1,"b",6),u.Qc(11,Fo,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();const Yo=["noteEditor"];function Zo(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function No(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function Uo(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Bo(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let zo=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}indexDocumentAndExecuteAction(){this.http.post("../rest/resources",this.data.resource).pipe(Object(s.a)(t=>{this.data.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(this.data.indexActionRoute,{resource:this.data.resIds[0],note:this.noteEditor.getNote(),data:{type:this.data.resource.registeredMail_type,warranty:this.data.resource.registeredMail_warranty,issuingSiteId:this.data.resource.registeredMail_issuingSite,letter:this.data.resource.registeredMail_letter,recipient:this.data.resource.registeredMail_recipient,reference:this.data.resource.registeredMail_reference,generated:!1}})),Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}executeAction(){this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(()=>{this.dialogRef.close(this.data.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(Yo,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Zo,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,No,3,3,"b",6),u.Qc(10,Uo,2,1,"b",6),u.Qc(11,Bo,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();const Vo=["noteEditor"];function Ho(t,e){1&t&&(u.Zb(0,"div",13),u.Ub(1,"mat-spinner",14),u.Yb())}function Qo(t,e){1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t&&(u.Eb(1),u.Tc(u.nc(2,1,"lang.currentIndexingMail")))}function $o(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Tc(t.data.resource.chrono)}}function Wo(t,e){if(1&t&&(u.Zb(0,"b",15),u.Sc(1),u.mc(2,"translate"),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.Vc("",t.data.resIds.length," ",u.nc(2,2,"lang.elements"),"")}}let Go=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.functions=i,this.dialogRef=s,this.data=a,this.loading=!1}ngOnInit(){}onSubmit(){this.loading=!0,this.executeAction()}executeAction(){const t=document.createElement("a");this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{e&&null!=e.errors?this.notify.error(e.errors):Object.values(e.data).forEach(e=>{if(!this.functions.empty(e)){let n;if(t.href="data:application/pdf;base64,"+e,1===this.data.resIds.length)n=this.data.resource.chrono.split(" ").join("_");else{let t,e,i,s;t=new Date,e=t.getDate(),i=t.getMonth()+1,s=t.getFullYear(),e<10&&(e="0"+e),i<10&&(i="0"+i),n=e+"-"+i+"-"+s}t.setAttribute("download","recommande_"+n+".pdf"),document.body.appendChild(t),t.click(),this.dialogRef.close(this.data.resIds)}})}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(S.a),u.Tb(h.h),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.Oc(Vo,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Zb(3,"div",2),u.Qc(4,Ho,2,0,"div",3),u.Zb(5,"div",4),u.Zb(6,"div",5),u.Sc(7),u.mc(8,"translate"),u.Qc(9,Qo,3,3,"b",6),u.Qc(10,$o,2,1,"b",6),u.Qc(11,Wo,3,4,"b",6),u.Sc(12," ? "),u.Yb(),u.Zb(13,"div",5),u.Ub(14,"app-note-editor",7,8),u.Yb(),u.Yb(),u.Yb(),u.Ub(16,"span",9),u.Zb(17,"div",10),u.Zb(18,"button",11),u.hc("click",(function(){return e.onSubmit()})),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Zb(21,"button",12),u.Sc(22),u.mc(23,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(2),u.sc("ngIf",e.loading),u.Eb(3),u.Uc(" ",u.nc(8,11,"lang.makeActionOn")," "),u.Eb(2),u.sc("ngIf",0===e.data.resIds.length),u.Eb(1),u.sc("ngIf",1==e.data.resIds.length),u.Eb(1),u.sc("ngIf",e.data.resIds.length>1),u.Eb(3),u.sc("resIds",e.data.resIds),u.Eb(4),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(20,13,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(23,15,"lang.cancel")))},directives:[h.i,h.f,g.t,b.a,h.c,_.b,h.d,v.c],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),t})();const qo=["noteEditor"];function Xo(t,e){1&t&&(u.Zb(0,"div",14),u.Ub(1,"mat-spinner",15),u.Yb())}function Jo(t,e){if(1&t&&(u.Zb(0,"li"),u.Sc(1),u.Yb()),2&t){const t=e.$implicit;u.Eb(1),u.Uc(" ",t," ")}}function Ko(t,e){if(1&t&&(u.Zb(0,"div",16),u.Sc(1),u.mc(2,"translate"),u.Zb(3,"ul"),u.Qc(4,Jo,2,1,"li",17),u.Yb(),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.Uc(" ",u.nc(2,2,"lang.cannotGenerateDepositListForMails")," "),u.Eb(3),u.sc("ngForOf",t.cannotGenerate)}}function tr(t,e){if(1&t&&(u.Zb(0,"div",18),u.Ub(1,"app-note-editor",19,20),u.Yb()),2&t){const t=u.lc(2);u.Eb(1),u.sc("resIds",t.data.resIds)}}function er(t,e){if(1&t&&(u.Zb(0,"div",7),u.Qc(1,Xo,2,0,"div",8),u.Zb(2,"div",9),u.Zb(3,"div"),u.Zb(4,"div",10),u.Zb(5,"p"),u.Sc(6),u.mc(7,"translate"),u.Yb(),u.Zb(8,"p"),u.Sc(9),u.mc(10,"translate"),u.Yb(),u.Zb(11,"p"),u.Zb(12,"b"),u.Sc(13),u.mc(14,"translate"),u.Yb(),u.Sc(15," : "),u.Ub(16,"span",11),u.Ub(17,"br"),u.Zb(18,"b"),u.Sc(19),u.mc(20,"translate"),u.Yb(),u.Sc(21," : "),u.Ub(22,"span",11),u.Ub(23,"br"),u.Zb(24,"b"),u.Sc(25),u.mc(26,"translate"),u.Yb(),u.Sc(27," : "),u.Ub(28,"span",11),u.Ub(29,"br"),u.Yb(),u.Yb(),u.Qc(30,Ko,5,4,"div",12),u.Yb(),u.Qc(31,tr,3,1,"div",13),u.Yb(),u.Yb()),2&t){const t=u.lc();u.Eb(1),u.sc("ngIf",t.loading),u.Eb(5),u.Uc(" ",u.nc(7,11,"lang.registeredMailsIncludedExplication")," "),u.Eb(3),u.Uc(" ",u.nc(10,13,"lang.registeredMailsIncluded")," "),u.Eb(4),u.Tc(u.nc(14,15,"lang.registeredMail_2C")),u.Eb(3),u.sc("innerHTML",t.types["2C"],u.Ic),u.Eb(3),u.Tc(u.nc(20,17,"lang.registeredMail_2D")),u.Eb(3),u.sc("innerHTML",t.types["2D"],u.Ic),u.Eb(3),u.Tc(u.nc(26,19,"lang.registeredMail_RW")),u.Eb(3),u.sc("innerHTML",t.types.RW,u.Ic),u.Eb(2),u.sc("ngIf",0!==t.cannotGenerate.length),u.Eb(1),u.sc("ngIf",0!==t.canGenerate.length)}}let nr=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.functions=s,this.data=a,this.loading=!1,this.loadingInit=!1,this.types=[],this.canGenerate=[],this.cannotGenerate=[]}ngOnInit(){this.loadingInit=!0,this.checkPrintDepositList()}checkPrintDepositList(){this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkPrintDepositList",{resources:this.data.resIds}).subscribe(t=>{this.types=t.types,this.types["2C"]=this.functions.empty(this.types["2C"])?this.translate.instant("lang.noneItalic"):this.types["2C"],this.types["2D"]=this.functions.empty(this.types["2D"])?this.translate.instant("lang.noneItalic"):this.types["2D"],this.types.RW=this.functions.empty(this.types.RW)?this.translate.instant("lang.noneItalic"):this.types.RW,this.canGenerate=t.canGenerate,this.cannotGenerate=t.cannotGenerate,this.loadingInit=!1},t=>{this.notify.error(t.error.errors),this.dialogRef.close(),this.loadingInit=!1})}onSubmit(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}executeAction(){const t=document.createElement("a");this.http.put(this.data.processActionRoute,{resources:this.canGenerate,note:this.noteEditor.getNote()}).pipe(Object(s.a)(e=>{if(e&&null!=e.errors&&(this.notify.error(e.errors),console.log(e.errors)),!this.functions.empty(e.data.encodedFile)){let n,i,s,a;t.href="data:application/pdf;base64,"+e.data.encodedFile,n=new Date,i=n.getDate(),s=n.getMonth()+1,a=n.getFullYear(),i<10&&(i="0"+i),s<10&&(s="0"+s),n=i+"-"+s+"-"+a,t.setAttribute("download","descriptif_pli_"+n+".pdf"),document.body.appendChild(t),t.click(),this.dialogRef.close(this.canGenerate)}}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),Object(Gn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(p.e),u.Tb(f.b),u.Tb(m.a),u.Tb(h.h),u.Tb(S.a),u.Tb(h.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&u.ad(qo,!0),2&t&&u.Cc(n=u.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],["role","alert",1,"alert-message","alert-message-info"],[3,"innerHTML"],["class","alert-message alert-message-danger","role","alert",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["role","alert",1,"alert-message","alert-message-danger"],[4,"ngFor","ngForOf"],[1,"col-md-12"],[3,"resIds"],["noteEditor",""]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h1",1),u.Sc(2),u.Yb(),u.Qc(3,er,32,21,"div",2),u.Ub(4,"span",3),u.Zb(5,"div",4),u.Zb(6,"button",5),u.hc("click",(function(){return e.onSubmit()})),u.Sc(7),u.mc(8,"translate"),u.Yb(),u.Zb(9,"button",6),u.Sc(10),u.mc(11,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Eb(2),u.Tc(e.data.action.label),u.Eb(1),u.sc("ngIf",!e.loadingInit),u.Eb(3),u.sc("disabled",e.loading||0===e.canGenerate.length),u.Eb(1),u.Tc(u.nc(8,6,"lang.validate")),u.Eb(2),u.sc("disabled",e.loading),u.Eb(1),u.Tc(u.nc(11,8,"lang.cancel")))},directives:[h.i,g.t,h.c,_.b,h.d,h.f,v.c,g.s,b.a],pipes:[p.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px;margin-bottom:10px}.attachLabel[_ngcontent-%COMP%]{color:#135f7f}"]}),t})();var ir=n("tyNb");let sr=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this.dialog=n,this.notify=i,this.router=s,this.headerService=a,this.functions=o,this.mode="indexing",this.currentResourceLock=null,this.lockMode=!0,this.actionEnded=!1,this.currentAction=null,this.currentUserId=null,this.currentGroupId=null,this.currentBasketId=null,this.currentResIds=[],this.currentResourceInformations=null,this.loading=!1,this.eventAction=new l.a}ngOnDestroy(){this.currentResourceLock&&this.unlockResourceAfterActionModal(this.currentResIds)}catchAction(){return this.eventAction.asObservable()}emitAction(){this.eventAction.next()}setLoading(t){this.loading=t}setActionInformations(t,e,n,i,s){return!(null!==t&&null===t.component||(null!==t&&e>0&&n>0?(this.mode=null===i?"indexing":"process",this.currentAction=t,this.currentUserId=e,this.currentGroupId=n,this.currentBasketId=i,this.currentResIds=null===s?[]:s,this.indexActionRoute=`../rest/indexing/groups/${this.currentGroupId}/actions/${this.currentAction.id}`,this.processActionRoute=`../rest/resourcesList/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}/actions/${this.currentAction.id}`,0):(console.log("Bad informations: "),console.log({action:t},{userId:e},{groupId:n},{basketId:i},{resIds:s}),this.notify.error("Une erreur est survenue"),1)))}saveDocument(t){return this.loading=!0,this.setResourceInformations(t),this.http.post("../rest/resources",this.currentResourceInformations)}setResourceInformations(t){this.currentResourceInformations=t}setResourceIds(t){this.currentResourceInformations.resId=t,this.currentResIds=t}launchIndexingAction(t,e,n,i){if(this.setActionInformations(t,e,n,null,null)){this.setResourceInformations(i),this.loading=!0;try{this[t.component]()}catch(s){console.log(s),console.log(t.component),alert(this.translate.instant("lang.actionNotExist"))}}}launchAction(t,e,n,s,a,o,r=!0){return Object(i.a)(this,void 0,void 0,(function*(){if(this.setActionInformations(t,e,n,s,a))if(this.actionEnded=!1,this.loading=!0,this.lockMode=r,this.setResourceInformations(o),this.lockMode){if(!0===(yield this.canExecuteAction(a)))if(["viewDoc","documentDetails","signatureBookAction","processDocument"].indexOf(t.component)>-1)this[t.component](t.data);else try{this.lockResource(),this[t.component](t.data)}catch(i){console.log(i),console.log(t),this.unlockResourceAfterActionModal([]),alert(this.translate.instant("lang.actionNotExist"))}}else try{this[t.component]()}catch(i){console.log(i),console.log(t),alert(this.translate.instant("lang.actionNotExist"))}}))}canExecuteAction(t,e=this.currentUserId,n=this.currentGroupId,i=this.currentBasketId){return new Promise(o=>{this.http.put(`../rest/resourcesList/users/${e}/groups/${n}/baskets/${i}/locked`,{resources:t}).pipe(Object(s.a)(e=>{let n=this.translate.instant("lang.warnLockRes")+" : "+e.lockers.join(", ");e.countLockedResources!=t.length&&(n+=this.translate.instant("lang.warnLockRes2")+"."),e.countLockedResources>0&&alert(e.countLockedResources+" "+n),e.countLockedResources!=t.length?(this.currentResIds=e.resourcesToProcess,o(!0)):o(!1)}),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()})}hasLockResources(){return!this.functions.empty(this.currentResourceLock)}lockResource(t=this.currentUserId,e=this.currentGroupId,n=this.currentBasketId,i=this.currentResIds){console.debug("Lock resources : "+i),this.http.put(`../rest/resourcesList/users/${t}/groups/${e}/baskets/${n}/lock`,{resources:i}).pipe(Object(s.a)(()=>console.debug("Cycle lock : ",this.currentResourceLock)),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe(),this.currentResourceLock=setInterval(()=>{this.http.put(`../rest/resourcesList/users/${t}/groups/${e}/baskets/${n}/lock`,{resources:i}).pipe(Object(s.a)(()=>console.debug("Cycle lock : ",this.currentResourceLock)),Object(a.a)(t=>(403===t.status&&clearInterval(this.currentResourceLock),this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()},5e4)}unlockResource(t=this.currentUserId,e=this.currentGroupId,n=this.currentBasketId,i=this.currentResIds){i.length>0&&(console.debug("Unlock resources : "+i),this.http.put(`../rest/resourcesList/users/${t}/groups/${e}/baskets/${n}/unlock`,{resources:i}).pipe(Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe())}stopRefreshResourceLock(){null!==this.currentResourceLock&&(console.debug("Cycle lock cancel"),clearInterval(this.currentResourceLock))}setDatasActionToSend(){return{resIds:this.currentResIds,resource:this.currentResourceInformations,action:this.currentAction,userId:this.currentUserId,groupId:this.currentGroupId,basketId:this.currentBasketId,indexActionRoute:this.indexActionRoute,processActionRoute:this.processActionRoute}}unlockResourceAfterActionModal(t){this.lockMode&&(this.stopRefreshResourceLock(),this.functions.empty(t)&&this.unlockResource())}endAction(t){"indexing"===this.mode&&!this.functions.empty(this.currentResourceInformations.followed)&&this.currentResourceInformations.followed&&this.headerService.nbResourcesFollowed++,this.notify.success(this.translate.instant("lang.action")+' : "'+this.currentAction.label+'" '+this.translate.instant("lang.done")),this.actionEnded=!0,this.eventAction.next(t)}confirmAction(t=null){this.dialog.open(k,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}closeMailAction(t=null){this.dialog.open(j,{disableClose:!0,width:"500px",panelClass:"maarch-modal",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}closeAndIndexAction(t=null){this.dialog.open(St,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}redirectInitiatorEntityAction(t=null){this.dialog.open(Qi,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}closeMailWithAttachmentsOrNotesAction(t=null){this.dialog.open(ts,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}updateAcknowledgementSendDateAction(t=null){this.dialog.open(Ft,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}createAcknowledgementReceiptsAction(t=null){this.dialog.open(oe,{panelClass:"maarch-modal",disableClose:!0,width:"600px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}updateDepartureDateAction(t=null){this.dialog.open(ue,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}disabledBasketPersistenceAction(t=null){this.dialog.open(_e,{disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}enabledBasketPersistenceAction(t=null){this.dialog.open(Oe,{disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}resMarkAsReadAction(t=null){this.dialog.open(Pe,{disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}viewDoc(t=null){this.dialog.open(De,{panelClass:"maarch-modal",data:this.setDatasActionToSend()})}sendExternalSignatoryBookAction(t=null){this.dialog.open(Fn,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}sendExternalNoteBookAction(t=null){this.dialog.open($n,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}redirectAction(t=null){this.dialog.open(bi,{panelClass:"maarch-modal",disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}sendShippingAction(t=null){this.dialog.open(ji,{panelClass:"maarch-modal",disableClose:!0,minWidth:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}sendSignatureBookAction(t=null){this.dialog.open(bs,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}continueVisaCircuitAction(t=null){this.dialog.open(Ds,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}noConfirmAction(t=null){const e=this.setDatasActionToSend();0===e.resIds.length?this.http.post("../rest/resources",e.resource).pipe(Object(s.a)(t=>{e.resIds=[t.resId]}),Object(c.a)(()=>this.http.put(e.indexActionRoute,{resource:e.resIds[0]})),Object(s.a)(()=>{this.endAction(e.resIds)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe():this.http.put(e.processActionRoute,{resources:this.setDatasActionToSend().resIds}).pipe(Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}processDocument(t=null){this.router.navigate([`/process/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}/resId/${this.currentResIds}`])}signatureBookAction(t=null){this.router.navigate([`/signatureBook/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}/resources/${this.currentResIds}`])}documentDetails(t=null){this.router.navigate(["/resources/"+this.currentResIds])}rejectVisaBackToPreviousAction(t=null){this.dialog.open(J,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}resetVisaAction(t=null){this.dialog.open(dt,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}interruptVisaAction(t=null){this.dialog.open(yt,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}sendToOpinionCircuitAction(t=null){this.dialog.open(Qs,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}sendToParallelOpinion(t=null){this.dialog.open(ya,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}continueOpinionCircuitAction(t=null){this.dialog.open(ca,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}giveOpinionParallelAction(t=null){this.dialog.open(Da,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}validateParallelOpinionDiffusionAction(t=null){this.dialog.open(qa,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}reconcileAction(t=null){this.dialog.open(uo,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(()=>{this.stopRefreshResourceLock()}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}sendAlfrescoAction(t=null){this.dialog.open(ko,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>"success"===t),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}saveRegisteredMailAction(t=null){this.dialog.open(To,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}saveAndPrintRegisteredMailAction(t=null){this.dialog.open(jo,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}saveAndIndexRegisteredMailAction(t=null){this.dialog.open(zo,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}printRegisteredMailAction(t=null){this.dialog.open(Go,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}printDepositListAction(t=null){this.dialog.open(nr,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(s.a)(t=>{this.unlockResourceAfterActionModal(t)}),Object(o.a)(t=>!this.functions.empty(t)),Object(s.a)(t=>{this.endAction(t)}),Object(r.a)(()=>this.loading=!1),Object(a.a)(t=>(this.notify.handleErrors(t),Object(d.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.dc(p.e),u.dc(f.b),u.dc(h.b),u.dc(m.a),u.dc(ir.c),u.dc(Ra.a),u.dc(S.a))},t.\u0275prov=u.Pb({token:t,factory:t.\u0275fac}),t})()},NFeN:function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return O}));var i=n("fXoL"),s=n("FKr1"),a=n("8LU1"),o=n("ofXK"),r=n("LRne"),c=n("z6cu"),l=n("cp0P"),d=n("quSY"),h=n("vkgz"),u=n("lJxs"),p=n("JIr8"),f=n("nYR2"),m=n("w1tV"),g=n("IzEk"),b=n("tk/3"),_=n("jhN1");const v=["*"];function y(t){return Error(`Unable to find icon with the name "${t}"`)}function x(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function w(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class C{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let O=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new C(n,i))}addSvgIconLiteralInNamespace(t,e,n,s){const a=this._sanitizer.sanitize(i.L.HTML,n);if(!a)throw w(n);const o=this._createSvgElementForSingleIcon(a,s);return this._addSvgIconConfig(t,e,new C(o,s))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new C(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const s=this._sanitizer.sanitize(i.L.HTML,e);if(!s)throw w(e);const a=this._svgElementFromString(s);return this._addSvgIconSetConfig(t,new C(a,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.L.RESOURCE_URL,t);if(!e)throw x(t);const n=this._cachedIconsByUrl.get(e);return n?Object(r.a)(k(n)):this._loadSvgIconFromConfig(new C(t)).pipe(Object(h.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(u.a)(t=>k(t)))}getNamedSvgIcon(t,e=""){const n=S(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const s=this._iconSetConfigs.get(e);return s?this._getSvgFromIconSetConfigs(t,s):Object(c.a)(y(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Object(r.a)(k(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(h.a)(e=>t.svgElement=e),Object(u.a)(t=>k(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);if(n)return Object(r.a)(n);const s=e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Object(p.a)(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(i.L.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Object(r.a)(null)})));return Object(l.a)(s).pipe(Object(u.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw y(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(Object(u.a)(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Object(r.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(u.a)(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const s=i.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,n);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),n);const a=this._svgElementFromString("<svg></svg>");return a.appendChild(s),this._setSvgAttributes(a,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:s}=n[i];"id"!==t&&e.setAttribute(t,s)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(i.L.RESOURCE_URL,t);if(!e)throw x(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const s=this._httpClient.get(e,{responseType:"text"}).pipe(Object(f.a)(()=>this._inProgressUrlFetches.delete(e)),Object(m.a)());return this._inProgressUrlFetches.set(e,s),s}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(S(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(i.dc(b.b,8),i.dc(_.b),i.dc(o.e,8),i.dc(i.n,8))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(b.b,8),Object(i.dc)(_.b),Object(i.dc)(o.e,8),Object(i.dc)(i.n,8))},token:t,providedIn:"root"}),t})();function k(t){return t.cloneNode(!0)}function S(t,e){return t+":"+e}class E{constructor(t){this._elementRef=t}}const M=Object(s.z)(E),I=new i.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(i.X)(o.e),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),P=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],T=P.map(t=>`[${t}]`).join(", "),A=/^url\(['"]?#(.*?)['"]?\)$/;let D=(()=>{class t extends M{constructor(t,e,n,i,s){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=s,this._inline=!1,this._currentIconFetch=d.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Object(a.c)(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,t).pipe(Object(g.a)(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(T),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)P.forEach(t=>{const s=e[i],a=s.getAttribute(t),o=a?a.match(A):null;if(o){let e=n.get(s);e||(e=[],n.set(s,e)),e.push({name:t,value:o[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(O),i.ec("aria-hidden"),i.Tb(I,8),i.Tb(i.n,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&i.Jb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[i.Bb,i.Cb],ngContentSelectors:v,decls:1,vars:0,template:function(t,e){1&t&&(i.rc(),i.qc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),R=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[s.j],s.j]}),t})()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return i}))},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),s=n("Cfvw"),a=n("EY2u");function o(t){return new i.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(s.a)(n):Object(a.b)()).subscribe(e)})}},Nqwj:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),s=n("sYmb"),a=n("tk/3"),o=n("rH+9");let r=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.functions=n}getFillingColor(t){return"first"===t?"#E81C2B":"second"===t?"#F4891E":"third"===t?"#0AA34F":""}formatCivilityObject(t){return this.empty(t)?{label:"",abbreviation:""}:t}formatFillingObject(t){return this.empty(t)?{rate:"",color:""}:{rate:t.rate,color:this.getFillingColor(t.thresholdLevel)}}empty(t){return null===t||""===t||void 0===t}formatContact(t){if(this.functions.empty(t.firstname)&&this.functions.empty(t.lastname))return t.company;{const e=[];return e.push(t.firstname),e.push(t.lastname),this.functions.empty(t.company)||e.push("("+t.company+")"),e.filter(t=>""!==t).join(" ")}}}return t.\u0275fac=function(e){return new(e||t)(i.dc(s.e),i.dc(a.b),i.dc(o.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})()},OAkW:function(t,e,n){"use strict";e.subscribeToArray=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},OGgV:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("0IaG"),s=n("vkgz"),a=n("nYR2"),o=n("JIr8"),r=n("LRne"),c=n("fXoL"),l=n("sYmb"),d=n("tk/3"),h=n("AXEc"),u=n("kmnG"),p=n("qFsG"),f=n("3Pt+"),m=n("bTqV");let g=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.data=i,this.dialogRef=s,this.loading=!1,this.folderName=""}ngOnInit(){this.folderName=void 0!==this.data.folderName?this.data.folderName:""}onSubmit(){this.loading=!0,this.http.post("../rest/folders",{label:this.folderName}).pipe(Object(s.a)(t=>{this.notify.success(this.translate.instant("lang.folderAdded")),this.dialogRef.close(t.folder)}),Object(a.a)(()=>this.loading=!1),Object(o.a)(t=>(this.notify.handleErrors(t),Object(r.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(l.e),c.Tb(d.b),c.Tb(h.a),c.Tb(i.a),c.Tb(i.h))},t.\u0275cmp=c.Nb({type:t,selectors:[["ng-component"]],decls:15,vars:13,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["type","text","matInput","",3,"ngModel","placeholder","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(c.Zb(0,"div",0),c.Zb(1,"h1",1),c.Sc(2),c.mc(3,"translate"),c.Yb(),c.Zb(4,"div",2),c.Zb(5,"mat-form-field",3),c.Zb(6,"input",4),c.hc("ngModelChange",(function(t){return e.folderName=t})),c.Yb(),c.Yb(),c.Yb(),c.Ub(7,"span",5),c.Zb(8,"div",6),c.Zb(9,"button",7),c.hc("click",(function(){return e.onSubmit()})),c.Sc(10),c.mc(11,"translate"),c.Yb(),c.Zb(12,"button",8),c.Sc(13),c.mc(14,"translate"),c.Yb(),c.Yb(),c.Yb()),2&t&&(c.Eb(2),c.Tc(c.nc(3,7,"lang.addFolder")),c.Eb(4),c.sc("ngModel",e.folderName)("placeholder",e.translate.instant("lang.folderName")),c.Eb(3),c.sc("disabled",e.loading||""===e.folderName),c.Eb(1),c.Tc(c.nc(11,9,"lang.validate")),c.Eb(2),c.sc("disabled",e.loading),c.Eb(1),c.Tc(c.nc(14,11,"lang.cancel")))},directives:[i.i,i.f,u.c,p.b,f.c,f.t,f.w,i.c,m.b,i.d],pipes:[l.d],styles:[""]}),t})()},OigG:function(t,e,n){"use strict";n.d(e,"a",(function(){return W}));var i=n("mrSG"),s=n("fXoL"),a=n("Nqwj"),o=n("vkgz"),r=n("nYR2"),c=n("JIr8"),l=n("I65S"),d=n("sYmb"),h=n("tk/3"),u=n("AXEc"),p=n("rH+9"),f=n("ofXK"),m=n("Xa2L"),g=n("Wp6s"),b=n("MutI"),_=n("bTqV"),v=n("NFeN"),y=n("FKr1"),x=n("7EHt");function w(t,e){1&t&&(s.Xb(0),s.Zb(1,"div",2),s.Ub(2,"mat-spinner"),s.Yb(),s.Wb())}function C(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",17),s.hc("click",(function(){s.Hc(t);const e=s.lc(3);return e.toggleContact(e.contact)})),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Ub(4,"br"),s.Zb(5,"small",18),s.Sc(6),s.mc(7,"translate"),s.Yb(),s.Yb()}if(2&t){const t=s.lc(3);s.Eb(2),s.Tc(s.nc(3,3,"lang.selectDuplicatedContact")),s.Eb(4),s.Vc("",t.contact.resourcesCount," ",s.nc(7,5,"lang.associatedElements"),"")}}function O(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",19),s.hc("click",(function(){s.Hc(t);const e=s.lc(3);return e.toggleContact(e.contact)})),s.Ub(1,"i",20),s.Sc(2),s.mc(3,"translate"),s.Yb()}2&t&&(s.Eb(2),s.Uc(" ",s.nc(3,1,"lang.selectedContact"),""))}function k(t,e){if(1&t&&(s.Zb(0,"div",14),s.Qc(1,C,8,7,"button",15),s.Qc(2,O,4,3,"button",16),s.Yb()),2&t){const t=s.lc(2);s.Jb("selected",t.contact.selected),s.Eb(1),s.sc("ngIf",!t.contact.selected),s.Eb(1),s.sc("ngIf",t.contact.selected)}}function S(t,e){1&t&&(s.Zb(0,"div",21),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Tc(s.nc(2,1,"lang.contactDisabled")))}function E(t,e){if(1&t&&(s.Zb(0,"sup",24),s.Sc(1),s.Yb()),2&t){const t=s.lc(3);s.Jb("newData",t.isNewValue("civility")),s.Eb(1),s.Uc("",t.contact.civility.abbreviation,"\xa0")}}function M(t,e){if(1&t&&(s.Zb(0,"mat-card-title",22),s.Qc(1,E,2,3,"sup",23),s.Sc(2),s.Yb()),2&t){const t=s.lc(2);s.sc("title",t.contact.civility.label+" "+t.contact.firstname+" "+t.contact.lastname),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.civility)),s.Eb(1),s.Vc("",t.contact.firstname," ",t.contact.lastname," ")}}function I(t,e){if(1&t&&(s.Zb(0,"mat-card-title",22),s.Sc(1),s.Yb()),2&t){const t=s.lc(2);s.Jb("newData",t.isNewValue("company")),s.sc("title",t.contact.company),s.Eb(1),s.Uc(" ",t.contact.company,"")}}function P(t,e){if(1&t&&(s.Zb(0,"mat-card-subtitle",22),s.Sc(1),s.Yb()),2&t){const t=s.lc(2);s.Jb("newData",t.isNewValue("function")),s.sc("title",t.contact.function),s.Eb(1),s.Uc(" ",t.contact.function,"\xa0 ")}}function T(t,e){if(1&t&&s.Ub(0,"i",25),2&t){const t=s.lc(2);s.Pc("color",t.contact.fillingRate.color),s.sc("title",t.translate.instant("lang.contactsFillingRate"))}}function A(t,e){if(1&t&&(s.Zb(0,"mat-list-item",26),s.Ub(1,"mat-icon",27),s.Zb(2,"p",28),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("title",t.translate.instant("lang.contactsParameters_company")),s.Eb(1),s.Jb("newData",t.isNewValue("company")),s.Eb(1),s.Uc(" ",t.contact.company," ")}}function D(t,e){if(1&t&&(s.Zb(0,"mat-list-item",26),s.Ub(1,"mat-icon",29),s.Zb(2,"p",28),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("title",t.translate.instant("lang.contactsParameters_department")),s.Eb(1),s.Jb("newData",t.isNewValue("department")),s.Eb(1),s.Uc(" ",t.contact.department," ")}}function R(t,e){if(1&t&&(s.Zb(0,"mat-list-item",26),s.Ub(1,"mat-icon",30),s.Zb(2,"a",31),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("title",t.translate.instant("lang.email")),s.Eb(1),s.Jb("newData",t.isNewValue("email")),s.uc("href","mailto:",t.contact.email,"",s.Kc),s.Eb(1),s.Uc(" ",t.contact.email," ")}}function L(t,e){if(1&t&&(s.Zb(0,"mat-list-item",26),s.Ub(1,"mat-icon",32),s.Zb(2,"p",28),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("title",t.translate.instant("lang.phoneNumber")),s.Eb(1),s.Jb("newData",t.isNewValue("phone")),s.Eb(1),s.Uc(" ",t.contact.phone," ")}}function F(t,e){if(1&t&&(s.Zb(0,"p",28),s.Sc(1),s.Yb()),2&t){const t=s.lc(3);s.Jb("newData",t.isNewValue("addressAdditional1")),s.Eb(1),s.Uc(" ",t.contact.addressAdditional1,"")}}function j(t,e){if(1&t&&(s.Zb(0,"p",28),s.Zb(1,"span"),s.Sc(2),s.Yb(),s.Sc(3,"\xa0"),s.Zb(4,"span"),s.Sc(5),s.Yb(),s.Yb()),2&t){const t=s.lc(3);s.Eb(1),s.Jb("newData",t.isNewValue("addressNumber")),s.Eb(1),s.Tc(t.contact.addressNumber),s.Eb(2),s.Jb("newData",t.isNewValue("addressStreet")),s.Eb(1),s.Tc(t.contact.addressStreet)}}function Y(t,e){if(1&t&&(s.Zb(0,"p",28),s.Sc(1),s.Yb()),2&t){const t=s.lc(3);s.Jb("newData",t.isNewValue("addressAdditional2")),s.Eb(1),s.Uc("",t.contact.addressAdditional2," ")}}function Z(t,e){if(1&t&&(s.Zb(0,"p",28),s.Sc(1),s.Yb()),2&t){const t=s.lc(3);s.Eb(1),s.Vc(" ",t.contact.addressPostcode," ",t.contact.addressTown," ")}}function N(t,e){if(1&t&&(s.Zb(0,"p",28),s.Sc(1),s.Yb()),2&t){const t=s.lc(3);s.Jb("newData",t.isNewValue("addressCountry")),s.Eb(1),s.Uc(" ",t.contact.addressCountry," ")}}function U(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-list-item",33),s.hc("click",(function(){s.Hc(t);const e=s.lc(2);return e.goTo(e.contact)})),s.Ub(1,"mat-icon",34),s.Qc(2,F,2,3,"p",35),s.Qc(3,j,6,6,"p",36),s.Qc(4,Y,2,3,"p",35),s.Qc(5,Z,2,2,"p",36),s.Qc(6,N,2,3,"p",35),s.Yb()}if(2&t){const t=s.lc(2);s.sc("title",t.translate.instant("lang.address")),s.Eb(2),s.sc("ngIf",!t.functionsService.empty(t.contact.addressAdditional1)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.addressNumber)||!t.functionsService.empty(t.contact.addressStreet)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.addressAdditional2)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.addressPostcode)||!t.functionsService.empty(t.contact.addressTown)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.addressCountry))}}function B(t,e){if(1&t&&(s.Zb(0,"mat-list-item",40),s.Ub(1,"mat-icon",41),s.Zb(2,"p",42),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc(3);s.sc("title",t.translate.instant("lang.communicationMean")),s.Eb(2),s.Jb("newData",t.isNewValue("communicationMeans")),s.sc("title",t.contact.communicationMeans),s.Eb(1),s.Uc(" ",t.contact.communicationMeans," ")}}function z(t,e){if(1&t&&(s.Zb(0,"mat-list-item",40),s.Ub(1,"mat-icon",41),s.Zb(2,"p",42),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc(3);s.sc("title",t.translate.instant("lang.IdMaarch2Maarch")),s.Eb(2),s.sc("title",t.contact.externalId.m2m),s.Eb(1),s.Uc(" ",t.contact.externalId.m2m," ")}}function V(t,e){if(1&t&&(s.Zb(0,"mat-list-item",26),s.Ub(1,"mat-icon",43),s.Zb(2,"p",42),s.Sc(3),s.Yb(),s.Yb()),2&t){const t=s.lc().$implicit,e=s.lc(3);s.Eb(1),s.sc("title",t.value.label),s.Eb(1),s.Jb("newData",e.isNewValue(t)),s.sc("title",t.value.value),s.Eb(1),s.Uc(" ",t.value.value," ")}}function H(t,e){if(1&t&&(s.Xb(0),s.Qc(1,V,4,5,"mat-list-item",11),s.Wb()),2&t){const t=e.$implicit;s.Eb(1),s.sc("ngIf",null!==t.value.value)}}function Q(t,e){if(1&t&&(s.Zb(0,"mat-expansion-panel",37),s.Zb(1,"mat-expansion-panel-header"),s.Zb(2,"mat-panel-title"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb(),s.Zb(5,"mat-list"),s.Qc(6,B,4,5,"mat-list-item",38),s.Qc(7,z,4,3,"mat-list-item",38),s.Qc(8,H,2,1,"ng-container",39),s.mc(9,"keyvalue"),s.Yb(),s.Yb()),2&t){const t=s.lc(2);s.sc("expanded",t.selectable),s.Eb(3),s.Uc(" ",s.nc(4,5,"lang.othersInfos")," "),s.Eb(3),s.sc("ngIf",!t.functionsService.empty(t.contact.communicationMeans)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.externalId)&&!t.functionsService.empty(t.contact.externalId.m2m)),s.Eb(1),s.sc("ngForOf",s.nc(9,7,t.contact.customFields))}}function $(t,e){if(1&t&&(s.Zb(0,"mat-card",3),s.Qc(1,k,3,4,"div",4),s.Qc(2,S,3,3,"div",5),s.Zb(3,"mat-card-header"),s.Ub(4,"div",6),s.Qc(5,M,3,4,"mat-card-title",7),s.Qc(6,I,2,4,"mat-card-title",8),s.Qc(7,P,2,4,"mat-card-subtitle",8),s.Qc(8,T,1,3,"i",9),s.Yb(),s.Zb(9,"mat-card-content"),s.Zb(10,"mat-list"),s.Zb(11,"h3",10),s.Sc(12),s.mc(13,"translate"),s.Yb(),s.Qc(14,A,4,4,"mat-list-item",11),s.Qc(15,D,4,4,"mat-list-item",11),s.Qc(16,R,4,5,"mat-list-item",11),s.Qc(17,L,4,4,"mat-list-item",11),s.Qc(18,U,7,6,"mat-list-item",12),s.Yb(),s.Qc(19,Q,10,9,"mat-expansion-panel",13),s.Yb(),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.sc("ngIf",t.selectable),s.Eb(1),s.sc("ngIf",!t.contact.enabled),s.Eb(2),s.Jb("fa-address-card","contact"===t.contact.type)("fa-users","contactGroup"===t.contact.type)("fa-sitemap","entity"===t.contact.type)("fa-user","user"===t.contact.type),s.sc("title",t.translate.instant("lang.contact_"+t.contact.type)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.firstname)||!t.functionsService.empty(t.contact.lastname)),s.Eb(1),s.sc("ngIf",t.functionsService.empty(t.contact.firstname)&&t.functionsService.empty(t.contact.lastname)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.function)),s.Eb(1),s.sc("ngIf","contact"===t.contact.type&&!t.functionsService.empty(t.contact.fillingRate.color)),s.Eb(4),s.Tc(s.nc(13,22,"lang.contactDetails")),s.Eb(2),s.sc("ngIf",!(t.functionsService.empty(t.contact.firstname)&&t.functionsService.empty(t.contact.lastname)||t.functionsService.empty(t.contact.company))),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.department)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.email)),s.Eb(1),s.sc("ngIf",!t.functionsService.empty(t.contact.phone)),s.Eb(1),s.sc("ngIf",!(t.functionsService.empty(t.contact.addressNumber)&&t.functionsService.empty(t.contact.addressStreet)&&t.functionsService.empty(t.contact.addressAdditional2)&&t.functionsService.empty(t.contact.addressPostcode)&&t.functionsService.empty(t.contact.addressTown)&&t.functionsService.empty(t.contact.addressCountry))),s.Eb(1),s.sc("ngIf",!t.emptyOtherInfo(t.contact))}}let W=(()=>{class t{constructor(t,e,n,i,a){this.translate=t,this.http=e,this.notify=n,this.contactService=i,this.functionsService=a,this.contact={},this.selectable=!1,this.afterSelectedEvent=new s.o,this.afterDeselectedEvent=new s.o,this.loading=!0,this.contactClone={},this.customFields=[]}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.getCustomFields(),2===Object.keys(this.contact).length?this.loadContact(this.contact.id,this.contact.type):Object.keys(this.contact).length>2&&(this.contactClone=JSON.parse(JSON.stringify(this.contact)),this.loading=!1)}))}getCustomFields(){return new Promise((t,e)=>{this.http.get("../rest/contactsCustomFields").pipe(Object(o.a)(e=>{this.customFields=e.customFields.map(t=>({id:t.id,label:t.label})),t(!0)})).subscribe()})}loadContact(t,e){"contact"===e?this.http.get("../rest/contacts/"+t+(this.selectable?"?resourcesCount=true":"")).pipe(Object(o.a)(t=>{this.contact=Object.assign(Object.assign({},t),{civility:this.contactService.formatCivilityObject(t.civility),fillingRate:this.contactService.formatFillingObject(t.fillingRate),customFields:this.functionsService.empty(t.customFields)?[]:this.formatCustomField(t.customFields),type:"contact"}),this.contactClone=JSON.parse(JSON.stringify(this.contact))}),Object(r.a)(()=>this.loading=!1),Object(c.a)(t=>(this.notify.handleErrors(t),Object(l.of)(!1)))).subscribe():"user"===e?this.http.get("../rest/users/"+t).pipe(Object(o.a)(t=>{this.contact={type:"user",civility:this.contactService.formatCivilityObject(null),fillingRate:this.contactService.formatFillingObject(null),customFields:[],firstname:t.firstname,lastname:t.lastname,enabled:t.enabled},this.contactClone=JSON.parse(JSON.stringify(this.contact))}),Object(r.a)(()=>this.loading=!1),Object(c.a)(t=>(this.notify.handleErrors(t),Object(l.of)(!1)))).subscribe():"entity"===e&&this.http.get("../rest/entities/"+t).pipe(Object(o.a)(t=>{this.contact={type:"entity",civility:this.contactService.formatCivilityObject(null),fillingRate:this.contactService.formatFillingObject(null),customFields:[],lastname:t.short_label,enabled:"Y"===t.enabled},this.contactClone=JSON.parse(JSON.stringify(this.contact))}),Object(r.a)(()=>this.loading=!1),Object(c.a)(t=>(this.notify.error(t.error.errors),Object(l.of)(!1)))).subscribe()}formatCustomField(t){let e=[];return Object.keys(t).forEach(n=>{e.push({label:this.customFields.filter(t=>t.id==n).length>0?this.customFields.filter(t=>t.id==n)[0].label:n,value:t[n]})}),e}goTo(t){window.open(`https://www.google.com/maps/search/${t.addressNumber}+${t.addressStreet},+${t.addressPostcode}+${t.addressTown},+${t.addressCountry}`,"_blank")}emptyOtherInfo(t){return!!("contact"!==t.type||this.functionsService.empty(t.communicationMeans)&&this.functionsService.empty(t.customFields))}toggleContact(t){t.selected=!t.selected,t.selected?this.afterSelectedEvent.emit(t):this.afterDeselectedEvent.emit(t)}getContactInfo(){return this.contact}resetContact(){this.contact=JSON.parse(JSON.stringify(this.contactClone))}setContactInfo(t,e){this.functionsService.empty(e)||("customFields"===t?this.contact[t].push(e):this.contact[t]=e)}isNewValue(t){return"object"==typeof t&&"civility"!==t?0===this.contactClone.customFields.filter(e=>e.label===t.value.label).length:"civility"===t?JSON.stringify(this.contact[t])!==JSON.stringify(this.contactClone[t]):this.contact[t]!==this.contactClone[t]}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(d.e),s.Tb(h.b),s.Tb(u.a),s.Tb(a.a),s.Tb(p.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-contact-detail"]],inputs:{contact:"contact",selectable:"selectable"},outputs:{afterSelectedEvent:"afterSelectedEvent",afterDeselectedEvent:"afterDeselectedEvent"},features:[s.Db([a.a])],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],[1,"contact-card"],["class","selectable",3,"selected",4,"ngIf"],["class","disabledContact",4,"ngIf"],["mat-card-avatar","",1,"contact-header-image","fa",3,"title"],[3,"title",4,"ngIf"],[3,"newData","title",4,"ngIf"],["class","contact-filling fa fa-circle",3,"color","title",4,"ngIf"],["mat-subheader",""],["class","contact-item",4,"ngIf"],["class","contact-address",3,"title","click",4,"ngIf"],[3,"expanded",4,"ngIf"],[1,"selectable"],["style","line-height: 15px;padding: 5px;","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["style","line-height: 15px;padding: 10px;","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",2,"line-height","15px","padding","5px",3,"click"],[2,"font-size","80%"],["mat-raised-button","","color","primary",2,"line-height","15px","padding","10px",3,"click"],[1,"far","fa-check-circle"],[1,"disabledContact"],[3,"title"],["style","color: #666;",3,"newData",4,"ngIf"],[2,"color","#666"],[1,"contact-filling","fa","fa-circle",3,"title"],[1,"contact-item"],["mat-list-icon","",1,"contact-group","far","fa-building",3,"title"],["mat-line","",1,"contact-content"],["mat-list-icon","",1,"contact-group","fa","fa-sitemap",3,"title"],["mat-list-icon","",1,"contact-group","far","fa-envelope",3,"title"],["matLine","",1,"contact-content",3,"href"],["mat-list-icon","",1,"contact-group","fas","fa-phone",3,"title"],[1,"contact-address",3,"title","click"],["mat-list-icon","",1,"contact-group","fas","fa-map-marker-alt"],["mat-line","","class","contact-content",3,"newData",4,"ngIf"],["mat-line","","class","contact-content",4,"ngIf"],[3,"expanded"],["class","contact-item",3,"title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"contact-item",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-hashtag"],["mat-line","",1,"contact-content",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-hashtag",3,"title"]],template:function(t,e){if(1&t&&(s.Qc(0,w,3,0,"ng-container",0),s.Qc(1,$,20,24,"ng-template",null,1,s.Rc)),2&t){const t=s.Dc(2);s.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[f.t,m.c,g.a,g.f,g.c,g.d,b.a,b.g,_.b,g.m,g.l,b.d,v.a,b.c,y.k,x.c,x.g,x.h,f.s],pipes:[d.d,f.l],styles:[".contact-list-container[_ngcontent-%COMP%]{padding:10px;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:10px}.contact-list-container-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.contact-list-container-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.contact-card[_ngcontent-%COMP%]{padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12);height:100%}.contact-card[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding-left:0;padding-right:0}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px 10px 5px}.mat-card-title[_ngcontent-%COMP%]{padding-right:15px}.contact-item[_ngcontent-%COMP%]{height:35px!important}.contact-header-image[_ngcontent-%COMP%]{background:#135f7f;display:flex;align-items:center;justify-content:center;font-size:18px;color:#fff}.contact-header-image[_ngcontent-%COMP%]    .mat-checkbox-layout{margin:0}.contact-header-image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-checkbox-checked) .mat-checkbox-frame{border-color:#e6dfdf!important}.contact-group[_ngcontent-%COMP%]{color:#135f7f;font-size:16px!important;display:flex;align-items:center;justify-content:center}.contact-content[_ngcontent-%COMP%]{font-size:13px!important}.contact-address[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7}.contact-address[_ngcontent-%COMP%]:hover   .contact-content[_ngcontent-%COMP%]{text-decoration:underline}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:14px;color:#666}.contact-filling[_ngcontent-%COMP%]{position:absolute;right:20px}.loading[_ngcontent-%COMP%]{display:flex;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden;justify-content:center;align-items:center}.newData[_ngcontent-%COMP%]{color:#f99830!important}.selectable[_ngcontent-%COMP%]{z-index:1;background:rgba(0,0,0,.2);position:absolute;align-items:center;justify-content:center;display:flex;width:100%;height:100%;opacity:0;flex-direction:column;transition:opacity .2s}.contact-card[_ngcontent-%COMP%]:hover   .selectable[_ngcontent-%COMP%]{opacity:1;transition:opacity .2s}.selected[_ngcontent-%COMP%]{opacity:1!important}.disabledContact[_ngcontent-%COMP%]{font-size:20px;color:red;text-align:center;opacity:.2;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%) rotate(-30deg);white-space:pre;font-weight:700}"]}),t})()},PGLw:function(t,e,n){"use strict";n.d(e,"a",(function(){return G}));var i=n("fXoL"),s=n("M9IT"),a=n("Dh3D"),o=n("+0xr"),r=n("vkgz"),c=n("nYR2"),l=n("JIr8"),d=n("pLZG"),h=n("XqQ8"),u=n("2c88"),p=n("0IaG"),f=n("LRne"),m=n("sYmb"),g=n("tk/3"),b=n("AXEc"),_=n("bTqV"),v=n("NFeN"),y=n("3nLB"),x=n("fp7N");const w=["appSearchAdvList"],C=function(){return["resourceField","contactField"]},O=function(t){return[t]};let k=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.data=i,this.dialogRef=s,this.searchUrl=""}ngOnInit(){}launchSearch(t){this.searchUrl=t,this.appSearchAdvList.refreshDao(t)}linkResources(){const t=this.appSearchAdvList.getSelectedRessources().filter(t=>t!==this.data.resId);this.http.post(`../rest/resources/${this.data.resId}/linkedResources`,{linkedResources:t}).pipe(Object(r.a)(()=>{this.dialogRef.close("success")}),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m.e),i.Tb(g.b),i.Tb(b.a),i.Tb(p.a),i.Tb(p.h))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.ad(w,!0),2&t&&i.Cc(n=i.ic())&&(e.appSearchAdvList=n.first)},decls:16,vars:14,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1",3,"title"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[3,"defaultCriteria","searchUrlGenerated"],[3,"excludeRes"],["appSearchAdvList",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"button",3),i.hc("click",(function(){return e.dialogRef.close()})),i.Ub(6,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(7,"mat-dialog-content"),i.Zb(8,"app-criteria-tool",5),i.hc("searchUrlGenerated",(function(t){return e.launchSearch(t)})),i.Yb(),i.Ub(9,"search-adv-list",6,7),i.Yb(),i.Ub(11,"span",8),i.Zb(12,"div",9),i.Zb(13,"button",10),i.hc("click",(function(){return e.linkResources()})),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.Dc(10);i.Eb(2),i.sc("title",e.translate.instant("lang.linkResource")),i.Eb(1),i.Uc(" ",i.nc(4,7,"lang.linkResource")," "),i.Eb(2),i.sc("title",e.translate.instant("lang.close")),i.Eb(3),i.sc("defaultCriteria",i.yc(11,C)),i.Eb(1),i.sc("excludeRes",i.zc(12,O,e.data.resId)),i.Eb(4),i.sc("disabled",0===t.getSelectedRessources().length),i.Eb(1),i.Tc(i.nc(15,9,"lang.linkSelectedResources"))}},directives:[p.i,_.b,v.a,p.f,y.a,x.a,p.c],pipes:[m.d],styles:[""]}),t})();var S=n("LYlH"),E=n("I65S"),M=n("A6w4"),I=n("rH+9"),P=n("eiH7"),T=n("ofXK"),A=n("Xa2L"),D=n("Wp6s"),R=n("tyNb"),L=n("wQTr"),F=n("8IW6"),j=n("aEDk"),Y=n("ZI/H");function Z(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner"),i.Yb(),i.Wb())}function N(t,e){if(1&t&&(i.Zb(0,"span",35),i.Ub(1,"i",36),i.mc(2,"translate"),i.Sc(3," \xa0 "),i.Zb(4,"span",19),i.Sc(5),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.Eb(1),i.tc("title",i.nc(2,3,"lang.visaWorkflow")),i.Eb(3),i.sc("title",e.getUsersVisaCircuit(t)),i.Eb(1),i.Tc(e.getUsersVisaCircuit(t))}}function U(t,e){1&t&&(i.Zb(0,"span",37),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function B(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",38),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc(2);return e.stopPropagation(),s.unlinkResource(n)})),i.Ub(1,"mat-icon",39),i.Yb()}if(2&t){const t=i.lc(3);i.sc("title",t.translate.instant("lang.unlink"))}}const z=function(t){return{color:t}};function V(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-cell",15),i.Zb(1,"div",16),i.Zb(2,"span",17),i.Ub(3,"i",18),i.mc(4,"translate"),i.Sc(5," \xa0 "),i.Zb(6,"span",19),i.mc(7,"translate"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Zb(10,"span",20),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).openContact(n,"senders")})),i.Ub(11,"i",21),i.mc(12,"translate"),i.Sc(13," \xa0 "),i.Zb(14,"span",19),i.Sc(15),i.Yb(),i.Yb(),i.Zb(16,"span",22),i.Ub(17,"i",23),i.mc(18,"translate"),i.Sc(19," \xa0 "),i.Zb(20,"span",19),i.mc(21,"fullDate"),i.Sc(22),i.mc(23,"ucfirst"),i.mc(24,"timeAgo"),i.Yb(),i.Yb(),i.Zb(25,"span",24),i.Ub(26,"i",25),i.mc(27,"translate"),i.Sc(28," \xa0 "),i.Zb(29,"span",19),i.Sc(30),i.Yb(),i.Yb(),i.Qc(31,N,6,5,"span",26),i.Yb(),i.Zb(32,"div",27),i.Zb(33,"span",28),i.Ub(34,"mat-icon",29),i.Qc(35,U,3,3,"span",30),i.Yb(),i.Zb(36,"span",31),i.Sc(37),i.Yb(),i.Zb(38,"span",32),i.Sc(39),i.mc(40,"shorten"),i.Yb(),i.Zb(41,"span",33),i.Qc(42,B,2,1,"button",34),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Eb(3),i.tc("title",i.nc(4,29,"lang.category_id")),i.Eb(3),i.tc("title",i.nc(7,31,"lang."+t.categoryId)),i.Eb(2),i.Tc(i.nc(9,33,"lang."+t.categoryId)),i.Eb(3),i.tc("title",i.nc(12,35,"lang.contact")),i.Eb(3),i.sc("title",t.senders),i.Eb(1),i.Tc(t.senders),i.Eb(2),i.tc("title",i.nc(18,37,"lang.creationDate")),i.Eb(3),i.sc("title",i.nc(21,39,t.documentDate)),i.Eb(2),i.Tc(i.nc(23,41,i.oc(24,43,t.documentDate,"full"))),i.Eb(4),i.tc("title",i.nc(27,46,"lang.getAssignee")),i.Eb(3),i.sc("title",t.destUserLabel+" ("+t.destinationLabel+")"),i.Eb(1),i.Tc(t.destUserLabel+" ("+t.destinationLabel+")"),i.Eb(1),i.sc("ngIf",t.visaCircuit.length>0),i.Eb(3),i.Ib("",t.statusImage.charAt(0),"",t.statusImage.charAt(1)," ",t.statusImage," ",t.statusImage.charAt(0),"",t.statusImage.charAt(1),"-2x"),i.tc("title",t.statusLabel),i.sc("ngStyle",i.zc(52,z,t.priorityColor)),i.Eb(1),i.sc("ngIf",t.confidentiality),i.Eb(2),i.Uc(" ",t.chrono," "),i.Eb(1),i.Jb("undefined",t.subject==n.translate.instant("lang.undefined")),i.tc("title",t.subject),i.Eb(1),i.Tc(i.pc(40,48,t.subject,150,"...")),i.Eb(3),i.sc("ngIf",n.privilegeService.hasCurrentUserPrivilege("add_links"))}}function H(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-row",40),i.hc("mouseenter",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).viewThumbnail(n)}))("mouseleave",(function(){return i.Hc(t),i.lc(2).closeThumbnail()})),i.Yb()}2&t&&i.uc("routerLink","/resources/",e.$implicit.resId,"")}function Q(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",41),i.hc("click",(function(){return i.Hc(t),i.lc(2).openSearchResourceModal()})),i.Ub(1,"mat-icon",42),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.translate.instant("lang.linkResource"))}}function W(t,e){if(1&t&&(i.Zb(0,"mat-card",3),i.Ub(1,"img",4),i.mc(2,"async"),i.mc(3,"secureUrl"),i.Yb(),i.Zb(4,"div",5),i.Zb(5,"div",6),i.Ub(6,"mat-paginator",7,8),i.Yb(),i.Yb(),i.Zb(8,"mat-table",9,10),i.Xb(10,11),i.Qc(11,V,43,54,"mat-cell",12),i.Wb(),i.Qc(12,H,1,1,"mat-row",13),i.Yb(),i.Qc(13,Q,2,1,"button",14)),2&t){const t=i.lc();i.Eb(1),i.sc("src",i.nc(2,7,i.nc(3,9,t.thumbnailUrl)),i.Kc),i.Eb(5),i.sc("length",100)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("dataSource",t.dataSource),i.Eb(4),i.sc("matRowDefColumns",t.displayedColumns),i.Eb(1),i.sc("ngIf",t.privilegeService.hasCurrentUserPrivilege("add_links"))}}let G=(()=>{class t{constructor(t,e,n,s,a,o,r){this.translate=t,this.http=e,this.notify=n,this.appService=s,this.dialog=a,this.functions=o,this.privilegeService=r,this.loading=!0,this.linkedResources=[],this.displayedColumns=["resId"],this.thumbnailUrl="",this.reloadBadgeLinkedResources=new i.o}ngOnInit(){this.loading=!0,this.initLinkedResources()}initLinkedResources(){this.http.get(`../rest/resources/${this.resId}/linkedResources`).pipe(Object(r.a)(t=>{this.linkedResources=t.linkedResources,this.reloadBadgeLinkedResources.emit(""+this.linkedResources.length),setTimeout(()=>{this.linkedResources=this.processPostData(this.linkedResources),this.dataSource=new o.o(this.linkedResources),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},0)}),Object(c.a)(()=>this.loading=!1),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(E.of)(!1)))).subscribe()}processPostData(t){return t.forEach(t=>{Object.keys(t).forEach(e=>{"statusImage"===e&&this.functions.empty(t[e])?t[e]="fa-question undefined":this.functions.empty(t[e])&&-1===["senders","recipients","attachments","hasDocument","confidentiality","visaCircuit"].indexOf(e)&&(t[e]=this.translate.instant("lang.undefined")),"senders"===e&&t[e].length>1&&(t[e]=t[e].length>1?t[e].length+" "+this.translate.instant("lang.contactsAlt"):t[e][0])})}),t}getUsersVisaCircuit(t){return t.visaCircuit.length>0?t.visaCircuit.map(t=>t.userLabel):""}unlinkResource(t){this.dialog.open(u.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.unlink"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(d.a)(t=>"ok"===t),Object(h.a)(()=>this.http.delete(`../rest/resources/${this.resId}/linkedResources/${t.resId}`)),Object(r.a)(()=>{this.linkedResources=this.linkedResources.filter(e=>e.resId!==t.resId),this.reloadBadgeLinkedResources.emit(""+this.linkedResources.length),this.dataSource=new o.o(this.linkedResources),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.notify.success(this.translate.instant("lang.resourceUnlinked"))}),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(E.of)(!1)))).subscribe()}viewThumbnail(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show())}closeThumbnail(){$("#viewThumbnail").hide()}openSearchResourceModal(){this.dialog.open(k,{panelClass:"maarch-full-height-modal",minWidth:"80%",data:{resId:this.resId,currentLinkedRes:this.linkedResources.map(t=>t.resId)}}).afterClosed().pipe(Object(d.a)(t=>"success"===t),Object(r.a)(()=>{this.initLinkedResources(),this.notify.success(this.translate.instant("lang.resourcesLinked"))}),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(E.of)(!1)))).subscribe()}openContact(t,e){this.dialog.open(S.a,{panelClass:"maarch-modal",data:{title:`${t.chrono} - ${t.subject}`,mode:e,resId:t.resId}})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m.e),i.Tb(g.b),i.Tb(b.a),i.Tb(M.a),i.Tb(p.b),i.Tb(I.a),i.Tb(P.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-linked-resource-list"]],viewQuery:function(t,e){var n;1&t&&(i.ad(s.a,!0),i.ad(a.a,!0)),2&t&&(i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first))},inputs:{resId:"resId"},outputs:{reloadBadgeLinkedResources:"reloadBadgeLinkedResources"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseLoading",""],[1,"loading"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px","left","50%","transform","translate(-50%,-50%)","top","50%"],[2,"max-height","100vh",3,"src"],[1,"row",2,"margin","0px"],[1,"col-md-12"],[3,"length","hidePageSize","pageSize"],["paginator",""],["matSort","","matSortActive","resId","matSortDirection","desc",3,"dataSource"],["table",""],["matColumnDef","resId"],["style","flex: 1;flex-direction: column;padding: 0px;",4,"matCellDef"],["style","cursor: pointer;",3,"routerLink","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["mat-fab","","class","linkRes","color","primary",3,"title","click",4,"ngIf"],[2,"flex","1","flex-direction","column","padding","0px"],[1,"sub-info"],[1,"sub-info-data","col-md-4"],[1,"fas","fa-exchange-alt",3,"title"],[3,"title"],[1,"sub-info-data","col-md-4","text-center","senders",3,"click"],[1,"fas","fa-user",3,"title"],[1,"sub-info-data","col-md-4","text-right"],[1,"fas","fa-calendar",3,"title"],[1,"sub-info-data","col-md-6"],[1,"fas","fa-sitemap",3,"title"],["class","sub-info-data col-md-6 text-right",4,"ngIf"],[1,"main-info"],[1,"main-info-status"],["color","primary",3,"title","ngStyle"],["class","watermark",4,"ngIf"],[1,"main-info-data",2,"width","200px","text-align","center"],[1,"main-info-data",2,"font-weight","bold","flex","1",3,"title"],[1,"main-info-data"],["mat-icon-button","","color","warn",3,"title","click",4,"ngIf"],[1,"sub-info-data","col-md-6","text-right"],[1,"fas","fa-list-ol",3,"title"],[1,"watermark"],["mat-icon-button","","color","warn",3,"title","click"],["aria-hidden","true",1,"fa","fa-unlink","fa-2x"],[2,"cursor","pointer",3,"routerLink","mouseenter","mouseleave"],["mat-fab","","color","primary",1,"linkRes",3,"title","click"],[1,"fa","fa-link",2,"height","auto"]],template:function(t,e){if(1&t&&(i.Qc(0,Z,3,0,"ng-container",0),i.Qc(1,W,14,11,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[T.t,A.c,D.a,s.a,o.n,a.a,o.c,o.b,o.m,o.a,v.a,T.w,_.b,o.l,R.d],pipes:[T.b,L.a,m.d,F.a,j.u,Y.a,j.p],styles:[".loading[_ngcontent-%COMP%]{display:flex;justify-content:center}.linkRes[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:2;bottom:10px;margin-left:10px;margin-top:10px}.main-info[_ngcontent-%COMP%], .sub-info[_ngcontent-%COMP%]{width:100%}.sub-info[_ngcontent-%COMP%]{display:block}.sub-info-data[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;text-overflow:ellipsis;padding-left:5px;padding-right:5px}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}.senders[_ngcontent-%COMP%]{cursor:pointer}.senders[_ngcontent-%COMP%]:hover{color:#135f7f}"]}),t})()},PqYM:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC"),s=n("D0XW"),a=n("Y7HM"),o=n("z+Ro");function r(t=0,e,n){let r=-1;return Object(a.a)(e)?r=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=s.a),new i.a(e=>{const i=Object(a.a)(t)?t:+t-n.now();return n.schedule(c,i,{index:0,period:r,subscriber:e})})}function c(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},Q1FS:function(t,e,n){"use strict";var i=n("yx2s"),s=n("Xwq/"),a=n("zfKp"),o=n("9AGB"),r=n("n3uD");function c(t){if(t||(t=r.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,a=s.toSubscriber(t,e,n);if(a.add(i?i.call(a,this.source):this.source||r.config.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),r.config.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){r.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),i.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))((function(e,i){var s;s=n.subscribe((function(e){try{t(e)}catch(n){i(n),s&&s.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:o.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))},t.create=function(e){return new t(e)},t}()},QNbu:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var i=n("fXoL"),s=n("vkgz"),a=n("JIr8"),o=n("I65S"),r=n("sYmb"),c=n("tk/3"),l=n("A6w4"),d=n("4zkx"),h=n("AXEc"),u=n("MyTJ"),p=n("ofXK"),f=n("7EHt"),m=n("NFeN"),g=n("MutI"),b=n("kmnG"),_=n("qFsG"),v=n("lJEt"),y=n("f0Cb"),x=n("FKr1"),w=n("tyNb"),C=n("8N1J");const O=["basketPanel"];function k(t,e){1&t&&(i.Zb(0,"div",13),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noticeGroupeOrder")," "))}function S(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item",16),i.hc("onDropSuccess",(function(){return i.Hc(t),i.lc(4).updateGroupsOrder()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",17),i.Zb(3,"span",18),i.Sc(4),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=e.index;i.tc("title",i.nc(1,3,"lang.move")),i.sc("sortableIndex",n),i.Eb(4),i.Tc(t.groupDesc)}}const E=function(){return["boxers-zone"]};function M(t,e){if(1&t&&(i.Zb(0,"mat-list"),i.Zb(1,"span",14),i.Qc(2,S,5,5,"mat-list-item",15),i.Yb(),i.Yb()),2&t){const t=i.lc(3);i.Eb(1),i.sc("dropZones",i.yc(3,E))("sortableData",t.homeData.regroupedBaskets),i.Eb(1),i.sc("ngForOf",t.homeData.regroupedBaskets)}}function I(t,e){if(1&t&&(i.Zb(0,"span",18),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Tc(t.groupDesc)}}function P(t,e){1&t&&i.Ub(0,"mat-divider",22)}const T=function(t){return{color:t}};function A(t,e){if(1&t&&i.Ub(0,"mat-icon",32),2&t){const t=i.lc(2).$implicit;i.sc("ngStyle",i.zc(1,T,t.color))}}function D(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Tc(t.resourceNumber)}}function R(t,e){if(1&t&&(i.Zb(0,"span",34),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Tc(t.resourceNumber)}}function L(t,e){if(1&t&&(i.Zb(0,"a",26),i.Qc(1,A,1,3,"mat-icon",27),i.Qc(2,D,2,1,"span",28),i.Qc(3,R,2,1,"span",29),i.Zb(4,"p",30),i.Sc(5),i.Ub(6,"br"),i.Zb(7,"small",31),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(5);i.Eb(1),i.sc("ngIf",t.redirected&&!e.appService.getViewMode()),i.Eb(1),i.sc("ngIf",0==t.resourceNumber),i.Eb(1),i.sc("ngIf",0!=t.resourceNumber),i.Eb(1),i.tc("title",t.basket_name),i.sc("ngStyle",i.zc(10,T,t.color)),i.Eb(1),i.Uc(" ",t.basket_name,""),i.Eb(3),i.Vc("(",i.nc(9,8,"lang.redirectedTo")," ",t.redirectedUser,")")}}function F(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Tc(t.resourceNumber)}}function j(t,e){if(1&t&&(i.Zb(0,"span",34),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Tc(t.resourceNumber)}}const Y=function(t){return{selectedBasket:t}},Z=function(t,e){return{opacity:t,height:e}};function N(t,e){if(1&t){const t=i.ac();i.Zb(0,"a",35),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit,n=i.lc(5);return n.refreshDatas(e),n.closePanelLeft()})),i.Qc(1,F,2,1,"span",28),i.Qc(2,j,2,1,"span",29),i.Zb(3,"p",30),i.Sc(4),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(2).$implicit,n=i.lc(3);i.wc("routerLink","/basketList/users/",t.owner_user_id,"/groups/",e.groupSerialId,"/baskets/",t.id,""),i.sc("ngClass",i.zc(10,Y,n.headerService.currentBasketInfo.basketId==t.id&&n.headerService.currentBasketInfo.ownerId==t.owner_user_id&&n.headerService.currentBasketInfo.groupId==e.groupSerialId))("ngStyle",i.Ac(12,Z,0==t.resourceNumber?"0.5":"1",n.appService.getViewMode()?"50px":"38px")),i.Eb(1),i.sc("ngIf",0==t.resourceNumber),i.Eb(1),i.sc("ngIf",0!=t.resourceNumber),i.Eb(1),i.tc("title",t.basket_name),i.sc("ngStyle",i.zc(15,T,t.color)),i.Eb(1),i.Uc(" ",t.basket_name," ")}}function U(t,e){if(1&t&&(i.Xb(0),i.Qc(1,L,10,12,"a",24),i.Qc(2,N,5,17,"a",25),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",t.redirected),i.Eb(1),i.sc("ngIf",!t.redirected)}}function B(t,e){if(1&t&&(i.Zb(0,"mat-nav-list",23),i.Qc(1,U,3,2,"ng-container",11),i.mc(2,"filterList"),i.Yb()),2&t){const t=i.lc().$implicit;i.lc();const e=i.Dc(3);i.Eb(1),i.sc("ngForOf",i.pc(2,1,t.baskets,e.value,"basket_name"))}}function z(t,e){if(1&t&&(i.Xb(0),i.Qc(1,I,2,1,"span",19),i.Qc(2,P,1,0,"mat-divider",20),i.Qc(3,B,3,5,"mat-nav-list",21),i.Wb()),2&t){const t=e.$implicit,n=i.lc(3);i.Eb(1),i.sc("ngIf",t.baskets[0]&&!n.editOrderGroups),i.Eb(1),i.sc("ngIf",t.baskets[0]&&!n.editOrderGroups),i.Eb(1),i.sc("ngIf",!n.editOrderGroups)}}function V(t,e){1&t&&i.Ub(0,"mat-icon",41)}function H(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Tc(t.resourceNumber)}}function Q(t,e){if(1&t&&(i.Zb(0,"span",34),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Tc(t.resourceNumber)}}function $(t,e){if(1&t&&(i.Zb(0,"a",38),i.Qc(1,V,1,0,"mat-icon",39),i.Qc(2,H,2,1,"span",28),i.Qc(3,Q,2,1,"span",29),i.Zb(4,"p",40),i.Sc(5),i.Ub(6,"br"),i.Zb(7,"small",31),i.Sc(8),i.Yb(),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc(4);i.wc("routerLink","/basketList/users/",t.owner_user_id,"/groups/",t.group_id,"/baskets/",t.id,""),i.sc("ngClass",i.zc(11,Y,n.headerService.currentBasketInfo.basketId==t.id&&n.headerService.currentBasketInfo.ownerId==t.owner_user_id&&n.headerService.currentBasketInfo.groupId==t.group_id)),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",0==t.resourceNumber),i.Eb(1),i.sc("ngIf",0!=t.resourceNumber),i.Eb(1),i.tc("title",t.basket_name),i.Eb(1),i.Uc(" ",t.basket_name,""),i.Eb(3),i.Vc("(",t.userToDisplay," - ",t.group_desc,")")}}function W(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",36),i.mc(2,"translate"),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Ub(5,"mat-divider"),i.Zb(6,"mat-nav-list"),i.Qc(7,$,9,13,"a",37),i.mc(8,"filterList"),i.Yb(),i.Wb()),2&t){i.lc();const t=i.Dc(3),e=i.lc(2);i.Eb(1),i.tc("title",i.nc(2,3,"lang.basketsAssigned")),i.Eb(2),i.Tc(i.nc(4,5,"lang.basketsAssignedShort")),i.Eb(4),i.sc("ngForOf",i.pc(8,7,e.homeData.assignedBaskets,t.value,"basket_name"))}}function G(t,e){1&t&&(i.Zb(0,"div",42),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAvailableBasket")," "))}function q(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-form-field",7),i.Ub(2,"input",8,9),i.mc(4,"translate"),i.Yb(),i.Qc(5,k,3,3,"div",10),i.Qc(6,M,3,4,"mat-list",6),i.Qc(7,z,4,3,"ng-container",11),i.Qc(8,W,9,11,"ng-container",6),i.Qc(9,G,3,3,"div",12),i.Wb()),2&t){const t=i.lc(2);i.Eb(1),i.Pc("display",(t.homeData.assignedBaskets.length>0||t.homeData.regroupedBaskets.length>0)&&!t.editOrderGroups?"inline-block":"none"),i.Eb(1),i.tc("placeholder",i.nc(4,8,"lang.filterBy")),i.Eb(3),i.sc("ngIf",t.editOrderGroups),i.Eb(1),i.sc("ngIf",t.editOrderGroups),i.Eb(1),i.sc("ngForOf",t.homeData.regroupedBaskets),i.Eb(1),i.sc("ngIf",t.homeData.assignedBaskets.length>0&&!t.editOrderGroups),i.Eb(1),i.sc("ngIf",0===t.homeData.assignedBaskets.length&&0===t.homeData.regroupedBaskets.length)}}const X=function(t,e){return{color:t,opacity:e}};function J(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-expansion-panel",1,2),i.Zb(2,"mat-expansion-panel-header"),i.Zb(3,"mat-panel-title"),i.Ub(4,"i",3),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Zb(7,"div",4),i.hc("click",(function(e){i.Hc(t);const n=i.lc();return e.stopPropagation(),n.editGroupOrder()}))("mouseover",(function(){return i.Hc(t),i.lc().hoverEditGroupOrder=!0}))("mouseleave",(function(){return i.Hc(t),i.lc().hoverEditGroupOrder=!1})),i.mc(8,"translate"),i.Ub(9,"mat-icon",5),i.Yb(),i.Yb(),i.Qc(10,q,10,10,"ng-container",6),i.Yb()}if(2&t){const t=i.lc();i.Eb(5),i.Uc("\xa0",i.nc(6,4,"lang.myBaskets")," "),i.Eb(2),i.tc("title",i.nc(8,6,"lang.listConfiguration")),i.Eb(2),i.sc("ngStyle",i.Ac(8,X,t.editOrderGroups?"orange":"#135F7F",t.editOrderGroups||t.hoverEditGroupOrder?"1":"0.4")),i.Eb(1),i.sc("ngIf",!t.loading)}}let K=(()=>{class t{constructor(t,e,n,s,a,o){this.translate=t,this.http=e,this.appService=n,this.headerService=s,this.notify=a,this.actionService=o,this.loading=!0,this.hoverEditGroupOrder=!1,this.homeData=null,this.currentBasketInfo={ownerId:0,groupId:0,basketId:""},this.refreshEvent=new i.o,this.editOrderGroups=!1,this.subscription=this.actionService.catchAction().subscribe(t=>{this.refreshBasketHome()})}ngOnInit(){this.getMyBaskets()}ngOnDestroy(){this.subscription.unsubscribe()}getMyBaskets(){this.loading=!0,this.http.get("../rest/home").pipe(Object(s.a)(t=>{this.homeData=t,this.loading=!1})).subscribe()}closePanelLeft(){this.appService.getViewMode()&&this.snavL.close()}refreshDatas(t){this.refreshBasketHome(),this.headerService.headerMessage===t.basket_name&&this.actionService.emitAction()}refreshBasketHome(){this.http.get("../rest/home").subscribe(t=>{this.homeData=t})}togglePanel(t){t?this.basketPanel.open():this.basketPanel.close()}editGroupOrder(){this.editOrderGroups=!this.editOrderGroups}updateGroupsOrder(){const t=this.homeData.regroupedBaskets.map(t=>t.groupSerialId);this.http.put("../rest/currentUser/profile/preferences",{homeGroups:t}).pipe(Object(s.a)(()=>this.notify.success(this.translate.instant("lang.parameterUpdated"))),Object(a.a)(t=>(this.notify.handleErrors(t),Object(o.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(r.e),i.Tb(c.b),i.Tb(l.a),i.Tb(d.a),i.Tb(h.a),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["basket-home"]],viewQuery:function(t,e){var n;1&t&&i.Oc(O,!0),2&t&&i.Cc(n=i.ic())&&(e.basketPanel=n.first)},inputs:{currentBasketInfo:"currentBasketInfo",snavL:"snavL"},outputs:{refreshEvent:"refreshEvent"},decls:1,vars:1,consts:[["class","basketList","expanded","",4,"ngIf"],["expanded","",1,"basketList"],["basketPanel",""],[1,"fa","fa-inbox","panelIconMenu"],[3,"title","click","mouseover","mouseleave"],["mat-list-icon","",1,"fa","fa-cog",2,"height","auto",3,"ngStyle"],[4,"ngIf"],["floatLabel","never","appearance","outline",1,"basketsFilter",2,"padding-left","20px","padding-right","20px","font-size","11px"],["matInput","",3,"placeholder"],["listFilter",""],["style","color: rgba(0,0,0,0.25);text-align:center;",4,"ngIf"],[4,"ngFor","ngForOf"],["class","noBasket",4,"ngIf"],[2,"color","rgba(0,0,0,0.25)","text-align","center"],["dnd-sortable-container","",3,"dropZones","sortableData"],["disableRipple","true","dnd-sortable","",3,"title","sortableIndex","onDropSuccess",4,"ngFor","ngForOf"],["disableRipple","true","dnd-sortable","",3,"title","sortableIndex","onDropSuccess"],["color","primary","mat-list-icon","",1,"fa","fa-arrows-alt",2,"font-size","19px"],[1,"basketGroupTitle"],["class","basketGroupTitle",4,"ngIf"],["style","width: 80%;",4,"ngIf"],["style","padding-bottom: 10px;",4,"ngIf"],[2,"width","80%"],[2,"padding-bottom","10px"],["mat-list-item","","disableRipple","true","style","cursor:not-allowed;",4,"ngIf"],["mat-list-item","","style","cursor:pointer;",3,"ngClass","routerLink","ngStyle","click",4,"ngIf"],["mat-list-item","","disableRipple","true",2,"cursor","not-allowed"],["mat-list-icon","","class","fa fa-share",3,"ngStyle",4,"ngIf"],["class","nbResZero",4,"ngIf"],["class","nbRes",4,"ngIf"],["mat-line","",3,"title","ngStyle"],["color","primary"],["mat-list-icon","",1,"fa","fa-share",3,"ngStyle"],[1,"nbResZero"],[1,"nbRes"],["mat-list-item","",2,"cursor","pointer",3,"ngClass","routerLink","ngStyle","click"],["color","primary",2,"font-weight","bold",3,"title"],["mat-list-item","",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"ngClass","routerLink"],["style","color:#666","mat-list-icon","","class","fa fa-paper-plane",4,"ngIf"],["mat-line","",2,"color","#666",3,"title"],["mat-list-icon","",1,"fa","fa-paper-plane",2,"color","#666"],[1,"noBasket"]],template:function(t,e){1&t&&i.Qc(0,J,11,11,"mat-expansion-panel",0),2&t&&i.sc("ngIf",!e.loading)},directives:[p.t,f.c,f.g,f.h,m.a,g.c,p.w,b.c,_.b,p.s,g.a,v.f,g.d,v.e,y.a,g.h,x.k,w.f,p.q],pipes:[r.d,C.a],styles:[".basketList[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}.basketList[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.basketList[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#135f7f;display:flex;align-items:center;font-size:14px;font-weight:500}.basketList[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.selectedBasket[_ngcontent-%COMP%]{border-left:5px solid #135f7f}.selectedBasket[_ngcontent-%COMP%], .selectedBasket[_ngcontent-%COMP%]:focus{background:rgba(19,95,127,.14)}.nbRes[_ngcontent-%COMP%]{color:#135f7f;font-size:14px}.nbRes[_ngcontent-%COMP%], .nbResZero[_ngcontent-%COMP%]{font-weight:700;min-width:auto}.nbResZero[_ngcontent-%COMP%]{color:#666;font-size:12px}.basketGroupTitle[_ngcontent-%COMP%]{color:#135f7f;font-size:14px;font-weight:500;padding-left:10px}.basketsFilter[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.panelIconMenu[_ngcontent-%COMP%]{font-size:22px}.noBasket[_ngcontent-%COMP%]{text-align:center;font-size:13px;opacity:.5;font-style:italic}"]}),t})()},QibW:function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return C}));var i=n("fXoL"),s=n("FKr1"),a=n("8LU1"),o=n("3Pt+"),r=n("R1ws"),c=n("u47x"),l=n("0EQZ");const d=["input"],h=function(){return{enterDuration:150}},u=["*"],p=new i.r("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let f=0;const m={provide:o.r,useExisting:Object(i.W)(()=>b),multi:!0};class g{constructor(t,e){this.source=t,this.value=e}}let b=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+f++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.o}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(a.c)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Object(a.c)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new g(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){var s;1&t&&i.Lb(n,x,!0),2&t&&i.Cc(s=i.ic())&&(e._radios=s)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[i.Db([m])]}),t})();class _{constructor(t){this._elementRef=t}}const v=Object(s.A)(Object(s.E)(_));let y=(()=>{class t extends v{constructor(t,e,n,s,a,o,r){super(e),this._changeDetector=n,this._focusMonitor=s,this._radioDispatcher=a,this._animationMode=o,this._providerOverride=r,this._uniqueId="mat-radio-"+ ++f,this.id=this._uniqueId,this.change=new i.o,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._removeUniqueSelectionListener=a.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=Object(a.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Object(a.c)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Object(a.c)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return(this.id||this._uniqueId)+"-input"}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new g(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputChange(t){t.stopPropagation();const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(b,8),i.Tb(i.l),i.Tb(i.h),i.Tb(c.h),i.Tb(l.d),i.Tb(r.a,8),i.Tb(p,8))},t.\u0275dir=i.Ob({type:t,viewQuery:function(t,e){var n;1&t&&i.ad(d,!0),2&t&&i.Cc(n=i.ic())&&(e._inputElement=n.first)},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[i.Bb]}),t})(),x=(()=>{class t extends y{}return t.\u0275fac=function(e){return w(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&i.hc("focus",(function(){return e._inputElement.nativeElement.focus()})),2&t&&(i.Fb("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.Jb("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.Bb],ngContentSelectors:u,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(i.rc(),i.Zb(0,"label",0,1),i.Zb(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"div",4),i.Zb(5,"input",5,6),i.hc("change",(function(t){return e._onInputChange(t)}))("click",(function(t){return e._onInputClick(t)})),i.Yb(),i.Zb(7,"div",7),i.Ub(8,"div",8),i.Yb(),i.Yb(),i.Zb(9,"div",9),i.Zb(10,"span",10),i.Sc(11,"\xa0"),i.Yb(),i.qc(12),i.Yb(),i.Yb()),2&t){const t=i.Dc(1);i.Fb("for",e.inputId),i.Eb(5),i.sc("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),i.Fb("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),i.Eb(2),i.sc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.yc(18,h)),i.Eb(2),i.Jb("mat-radio-label-before","before"==e.labelPosition)}},directives:[s.t],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})();const w=i.bc(x);let C=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[s.u,s.j],s.j]}),t})()},QtHX:function(t,e,n){"use strict";var i=n("UNqx"),s=n("yoF8");e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),i.mergeMap(s.identity,t)}},Qu3c:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return S}));var i=n("rDax"),s=n("u47x"),a=n("ofXK"),o=n("fXoL"),r=n("FKr1"),c=n("vxfF"),l=n("8LU1"),d=n("FtGj"),h=n("0MNC"),u=n("nLfN"),p=n("+rOU"),f=n("XNiG"),m=n("1G5W"),g=n("IzEk"),b=n("R0Ic"),_=n("cH1L");const v={tooltipState:Object(b.n)("state",[Object(b.k)("initial, void, hidden",Object(b.l)({opacity:0,transform:"scale(0)"})),Object(b.k)("visible",Object(b.l)({transform:"scale(1)"})),Object(b.m)("* => visible",Object(b.e)("200ms cubic-bezier(0, 0, 0.2, 1)",Object(b.h)([Object(b.l)({opacity:0,transform:"scale(0)",offset:0}),Object(b.l)({opacity:.5,transform:"scale(0.99)",offset:.5}),Object(b.l)({opacity:1,transform:"scale(1)",offset:1})]))),Object(b.m)("* => hidden",Object(b.e)("100ms cubic-bezier(0, 0, 0.2, 1)",Object(b.l)({opacity:0})))])},y=Object(u.f)({passive:!0});function x(t){return Error(`Tooltip position "${t}" is invalid.`)}const w=new o.r("mat-tooltip-scroll-strategy"),C={provide:w,deps:[i.c],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},O=new o.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let k=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l,h,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=s,this._platform=a,this._ariaDescriber=o,this._focusMonitor=r,this._dir=l,this._defaultOptions=h,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new f.a,this._handleKeydown=t=>{this._isTooltipVisible()&&t.keyCode===d.h&&!Object(d.v)(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),r.monitor(e).pipe(Object(m.a)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&s.run(()=>this.show()):s.run(()=>this.hide(0))}),s.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(l.c)(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,n)=>{t.removeEventListener(n,e,y)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new p.d(S,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(m.a)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Object(m.a)(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(m.a)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw x(e);n={originX:"end",originY:"center"}}const{x:i,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw x(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(g.a)(1),Object(m.a)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,y)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(i.c),o.Tb(o.l),o.Tb(c.f),o.Tb(o.R),o.Tb(o.B),o.Tb(u.a),o.Tb(s.c),o.Tb(s.h),o.Tb(w),o.Tb(_.c,8),o.Tb(O,8),o.Tb(o.l))},t.\u0275dir=o.Ob({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),S=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new f.a,this._isHandset=this._breakpointObserver.observe(h.b.Handset)}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.h),o.Tb(h.a))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&o.hc("click",(function(){return e._handleBodyInteraction()}),!1,o.Ec),2&t&&o.Pc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(o.Zb(0,"div",0),o.hc("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),o.mc(1,"async"),o.Sc(2),o.Yb()),2&t){var n;const t=null==(n=o.nc(1,5,e._isHandset))?null:n.matches;o.Jb("mat-tooltip-handset",t),o.sc("ngClass",e.tooltipClass)("@state",e._visibility),o.Eb(2),o.Tc(e.message)}},directives:[a.q],pipes:[a.b],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[v.tooltipState]},changeDetection:0}),t})(),E=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[C],imports:[[s.a,a.c,i.f,r.j],r.j,c.c]}),t})()},R0Ic:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return o})),n.d(e,"o",(function(){return _})),n.d(e,"p",(function(){return v}));class i{}class s{}const a="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function r(t,e=null){return{type:4,styles:e,timings:t}}function c(t,e=null){return{type:3,steps:t,options:e}}function l(t,e=null){return{type:2,steps:t,options:e}}function d(t){return{type:6,styles:t,offset:null}}function h(t,e,n){return{type:0,name:t,styles:e,options:n}}function u(t){return{type:5,steps:t}}function p(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function f(t=null){return{type:9,options:t}}function m(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function g(t){Promise.resolve(null).then(t)}class b{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){g(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const s=this.players.length;0==s?g(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==s&&this._onFinish()}),t.onDestroy(()=>{++n==s&&this._onDestroy()}),t.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const v="!"},R1ws:function(t,e,n){"use strict";n.d(e,"a",(function(){return me})),n.d(e,"b",(function(){return be}));var i=n("fXoL"),s=n("jhN1"),a=n("R0Ic");function o(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function r(t){switch(t.length){case 0:return new a.d;case 1:return t[0];default:return new a.o(t)}}function c(t,e,n,i,s={},o={}){const r=[],c=[];let l=-1,d=null;if(i.forEach(t=>{const n=t.offset,i=n==l,h=i&&d||{};Object.keys(t).forEach(n=>{let i=n,c=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,r),c){case a.p:c=s[n];break;case a.a:c=o[n];break;default:c=e.normalizeStyleValue(n,i,c,r)}h[i]=c}),i||c.push(h),d=h,l=n}),r.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${r.join(t)}`)}return c}function l(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&d(n,"start",t)));break;case"done":t.onDone(()=>i(n&&d(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&d(n,"destroy",t)))}}function d(t,e,n){const i=n.totalTime,s=h(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),a=t._data;return null!=a&&(s._data=a),s}function h(t,e,n,i,s="",a=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:s,totalTime:a,disabled:!!o}}function u(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function p(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let f=(t,e)=>!1,m=(t,e)=>!1,g=(t,e,n)=>[];const b=o();(b||"undefined"!=typeof Element)&&(f=(t,e)=>t.contains(e),m=(()=>{if(b||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):m}})(),g=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let _=null,v=!1;function y(t){_||(_=("undefined"!=typeof document?document.body:null)||{},v=!!_.style&&"WebkitAppearance"in _.style);let e=!0;return _.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _.style,!e&&v)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in _.style),e}const x=m,w=f,C=g;function O(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let k=(()=>{class t{validateStyleProperty(t){return y(t)}matchesElement(t,e){return x(t,e)}containsElement(t,e){return w(t,e)}query(t,e,n){return C(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,s,o=[],r){return new a.d(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{}return t.NOOP=new k,t})();function E(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:M(parseFloat(e[1]),e[2])}function M(t,e){switch(e){case"s":return 1e3*t;default:return t}}function I(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,s=0,a="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=M(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(s=M(parseFloat(o),n[4]));const r=n[5];r&&(a=r)}else i=t;if(!n){let n=!1,a=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(a,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:s,easing:a}}(t,e,n)}function P(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function T(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else P(t,n);return n}function A(t,e,n){return n?e+":"+n+";":""}function D(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=A(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=A(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function R(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const s=B(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[s]),t.style[s]=e[i]}),o()&&D(t))}function L(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=B(e);t.style[n]=""}),o()&&D(t))}function F(t){return Array.isArray(t)?1==t.length?t[0]:Object(a.j)(t):t}const j=new RegExp("{{\\s*(.+?)\\s*}}","g");function Y(t){let e=[];if("string"==typeof t){let n;for(;n=j.exec(t);)e.push(n[1]);j.lastIndex=0}return e}function Z(t,e,n){const i=t.toString(),s=i.replace(j,(t,i)=>{let s=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),s=""),s.toString()});return s==i?t:s}function N(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const U=/-+([a-z0-9])/g;function B(t){return t.replace(U,(...t)=>t[1].toUpperCase())}function z(t,e){return 0===t||0===e}function V(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let a=e[0],o=[];if(i.forEach(t=>{a.hasOwnProperty(t)||o.push(t),a[t]=n[t]}),o.length)for(var s=1;s<e.length;s++){let n=e[s];o.forEach((function(e){n[e]=Q(t,e)}))}}return e}function H(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Q(t,e){return window.getComputedStyle(t)[e]}function $(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const s=i[1],a=i[2],o=i[3];e.push(q(s,o)),"<"!=a[0]||"*"==s&&"*"==o||e.push(q(o,s))}(t,n,e)):n.push(t),n}const W=new Set(["true","1"]),G=new Set(["false","0"]);function q(t,e){const n=W.has(t)||G.has(t),i=W.has(e)||G.has(e);return(s,a)=>{let o="*"==t||t==s,r="*"==e||e==a;return!o&&n&&"boolean"==typeof s&&(o=s?W.has(t):G.has(t)),!r&&i&&"boolean"==typeof a&&(r=a?W.has(e):G.has(e)),o&&r}}const X=new RegExp("s*:selfs*,?","g");function J(t,e,n){return new K(t).build(e,n)}class K{constructor(t){this._driver=t}build(t,e){const n=new tt(e);return this._resetContextStyleTimingState(n),H(this,F(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,s.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const s=this.visitTransition(t,e);n+=s.queryCount,i+=s.depCount,a.push(s)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:a,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,a=i||{};if(n.styles.forEach(t=>{if(et(t)){const e=t;Object.keys(e).forEach(t=>{Y(e[t]).forEach(t=>{a.hasOwnProperty(t)||s.add(t)})})}}),s.size){const n=N(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=H(this,F(t.animation),e);return{type:1,matchers:$(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:nt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>H(this,t,e)),options:nt(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const s=t.steps.map(t=>{e.currentTime=n;const s=H(this,t,e);return i=Math.max(i,e.currentTime),s});return e.currentTime=i,{type:3,steps:s,options:nt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return it(I(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=it(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||I(i,e),it(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let s=t.styles?t.styles:Object(a.l)({});if(5==s.type)i=this.visitKeyframes(s,e);else{let s=t.styles,o=!1;if(!s){o=!0;const t={};n.easing&&(t.easing=n.easing),s=Object(a.l)(t)}e.currentTime+=n.duration+n.delay;const r=this.visitStyle(s,e);r.isEmptyStep=o,i=r}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==a.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,s=null;return n.forEach(t=>{if(et(t)){const e=t,n=e.easing;if(n&&(s=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const a=e.collectedStyles[e.currentQuerySelector],o=a[n];let r=!0;o&&(s!=i&&s>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),r=!1),s=o.startTime),r&&(a[n]={startTime:s,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},s=Y(t);s.length&&s.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const s=[];let a=!1,o=!1,r=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(et(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(et(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),o=o||l<0||l>1,a=a||l<r,r=l,s.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let d=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(d=1/(l-1));const h=l-1,u=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return c.forEach((t,i)=>{const a=d>0?i==h?1:d*i:s[i],o=a*f;e.currentTime=u+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=a,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:H(this,F(t.animation),e),options:nt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(X,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,u(e.collectedStyles,e.currentQuerySelector,{});const o=H(this,F(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:nt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:I(t.timings,e.errors,!0);return{type:12,animation:H(this,F(t.animation),e),timings:n,options:null}}}class tt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function et(t){return!Array.isArray(t)&&"object"==typeof t}function nt(t){var e;return t?(t=P(t)).params&&(t.params=(e=t.params)?P(e):null):t={},t}function it(t,e,n){return{duration:t,delay:e,easing:n}}function st(t,e,n,i,s,a,o=null,r=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:s,delay:a,totalTime:s+a,easing:o,subTimeline:r}}class at{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ot=new RegExp(":enter","g"),rt=new RegExp(":leave","g");function ct(t,e,n,i,s,a={},o={},r,c,l=[]){return(new lt).buildKeyframes(t,e,n,i,s,a,o,r,c,l)}class lt{buildKeyframes(t,e,n,i,s,a,o,r,c,l=[]){c=c||new at;const d=new ht(t,e,c,i,s,l,[]);d.options=r,d.currentTimeline.setStyles([a],null,d.errors,r),H(this,n,d);const h=d.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,d.errors,r)}return h.length?h.map(t=>t.buildKeyframes()):[st(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,i,i.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const s=null!=n.duration?E(n.duration):null,a=null!=n.delay?E(n.delay):null;return 0!==s&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,s,a);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),H(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dt);const t=E(s.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>H(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?E(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);s&&o.delayNextStep(s),H(this,a,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return I(e.params?Z(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,s=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(t=>{a.forwardTime((t.offset||0)*s),a.setStyles(t.styles,t.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?E(i.delay):0;s&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dt);let a=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let r=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);s&&o.delayNextStep(s),n===e.element&&(r=o.currentTimeline),H(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),r&&(e.currentTimeline.mergeTimelineCollectedStyles(r),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),o=a*(e.currentQueryTotal-1);let r=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":r=o-r;break;case"full":r=n.currentStaggerTime}const c=e.currentTimeline;r&&c.delayNextStep(r);const l=c.currentTime;H(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const dt={};class ht{constructor(t,e,n,i,s,a,o,r){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=r||new ut(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=E(n.duration)),null!=n.delay&&(i.delay=E(n.delay));const s=n.params;if(s){let t=i.params;t||(t=this.options.params={}),Object.keys(s).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Z(s[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,s=new ht(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=dt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},s=new pt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,s,a){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(ot,"."+this._enterClassName)).replace(rt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return s||0!=o.length||a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ut{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ut(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||a.a,this._currentKeyframe[t]=a.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=a.a})):T(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Z(o[t],s,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:a.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,o)=>{const r=T(s,!0);Object.keys(r).forEach(n=>{const i=r[n];i==a.p?t.add(n):i==a.a&&e.add(n)}),n||(r.offset=o/this.duration),i.push(r)});const s=t.size?N(t.values()):[],o=e.size?N(e.values()):[];if(n){const t=i[0],e=P(t);t.offset=0,e.offset=1,i=[t,e]}return st(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class pt extends ut{constructor(t,e,n,i,s,a,o=!1){super(t,e,a.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=n+e,o=e/a,r=T(t[0],!1);r.offset=0,s.push(r);const c=T(t[0],!1);c.offset=ft(o),s.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let o=T(t[i],!1);o.offset=ft((e+o.offset*n)/a),s.push(o)}n=a,e=0,i="",t=s}return st(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function ft(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class mt{}class gt extends mt{normalizePropertyName(t,e){return B(t)}normalizeStyleValue(t,e,n,i){let s="";const a=n.toString().trim();if(bt[e]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return a+s}}const bt=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _t(t,e,n,i,s,a,o,r,c,l,d,h,u){return{type:0,element:t,triggerName:e,isRemovalTransition:s,fromState:n,fromStyles:a,toState:i,toStyles:o,timelines:r,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:u}}const vt={};class yt{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,s){return t.some(t=>t(e,n,i,s))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],s=this._stateStyles[t],a=i?i.buildStyles(e,n):{};return s?s.buildStyles(e,n):a}build(t,e,n,i,s,a,o,r,c,l){const d=[],h=this.ast.options&&this.ast.options.params||vt,p=this.buildStyles(n,o&&o.params||vt,d),f=r&&r.params||vt,m=this.buildStyles(i,f,d),g=new Set,b=new Map,_=new Map,v="void"===i,y={params:Object.assign(Object.assign({},h),f)},x=l?[]:ct(t,e,this.ast.animation,s,a,p,m,y,c,d);let w=0;if(x.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),d.length)return _t(e,this._triggerName,n,i,v,p,m,[],[],b,_,w,d);x.forEach(t=>{const n=t.element,i=u(b,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const s=u(_,n,{});t.postStyleProps.forEach(t=>s[t]=!0),n!==e&&g.add(n)});const C=N(g.values());return _t(e,this._triggerName,n,i,v,p,m,x,C,b,_,w)}}class xt{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=P(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const s=t;Object.keys(s).forEach(t=>{let a=s[t];a.length>1&&(a=Z(a,i,e)),n[t]=a})}}),n}}class wt{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new xt(t.style,t.options&&t.options.params||{})}),Ct(this.states,"true","1"),Ct(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new yt(t,e,this.states))}),this.fallbackTransition=new yt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(s=>s.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ct(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ot=new at;class kt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=J(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,s=c(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],s=this._animations[t];let o;const c=new Map;if(s?(o=ct(this._driver,e,s,"ng-enter","ng-leave",{},{},n,Ot,i),o.forEach(t=>{const e=u(c,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));c.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,a.a)})});const l=r(o.map(t=>{const e=c.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const s=h(e,"","","");return l(this._getPlayer(t),n,s,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const St=[],Et={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class It{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=P(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Pt=new It("void");class Tt{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yt(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(s=n)&&"done"!=s)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var s;const a=u(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};a.push(o);const r=u(this._engine.statesByElement,t,{});return r.hasOwnProperty(e)||(Yt(t,"ng-trigger"),Yt(t,"ng-trigger-"+e),r[e]=Pt),()=>{this._engine.afterFlush(()=>{const t=a.indexOf(o);t>=0&&a.splice(t,1),this._triggers[e]||delete r[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const s=this._getTrigger(e),a=new Dt(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Yt(t,"ng-trigger"),Yt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let r=o[e];const c=new It(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&r&&c.absorbOptions(r.options),o[e]=c,r||(r=Pt),"void"!==c.value&&r.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(r.params,c.params)){const e=[],n=s.matchStyles(r.value,r.params,e),i=s.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{L(t,n),R(t,i)})}return}const l=u(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let d=s.matchTransition(r.value,c.value,t,c.params),h=!1;if(!d){if(!i)return;d=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:d,fromState:r,toState:c,player:a,isFallbackTransition:h}),h||(Yt(t,"ng-animate-queued"),a.onStart(()=>{Zt(t,"ng-animate-queued")})),a.onDone(()=>{let e=this.players.indexOf(a);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(a);t>=0&&n.splice(t,1)}}),this.players.push(a),l.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const s=this._engine.statesByElement.get(t);if(s){const a=[];if(Object.keys(s).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&r(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const s=this._triggers[i].fallbackTransition,a=this._engine.statesByElement.get(t)[i]||Pt,o=new It("void"),r=new Dt(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:a,toState:o,player:r,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Et||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Yt(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const s=n.element,a=this._elementListeners.get(s);a&&a.forEach(e=>{if(e.name==n.triggerName){const i=h(s,n.triggerName,n.fromState.value,n.toState.value);i._data=t,l(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class At{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Tt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const s=n[t[i]].namespaceId;if(s){const t=this._fetchNamespace(s);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Rt(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Rt(e))return;const s=e.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yt(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zt(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(Rt(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,s){return Rt(e)?this._fetchNamespace(t).listen(e,n,i,s):()=>{}}_buildInstruction(t,e,n,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return r(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Et,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Yt(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?r(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new at,i=[],s=new Map,o=[],c=new Map,l=new Map,d=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)h.add(e[n])});const p=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=jt(f,this.collectedEnterElements),g=new Map;let b=0;m.forEach((t,e)=>{const n="ng-enter"+b++;g.set(e,n),t.forEach(t=>Yt(t,n))});const _=[],v=new Set,y=new Set;for(let a=0;a<this.collectedLeaveElements.length;a++){const t=this.collectedLeaveElements[a],e=t.__ng_removed;e&&e.setForRemoval&&(_.push(t),v.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>v.add(t)):y.add(t))}const x=new Map,w=jt(f,Array.from(v));w.forEach((t,e)=>{const n="ng-leave"+b++;x.set(e,n),t.forEach(t=>Yt(t,n))}),t.push(()=>{m.forEach((t,e)=>{const n=g.get(e);t.forEach(t=>Zt(t,n))}),w.forEach((t,e)=>{const n=x.get(e);t.forEach(t=>Zt(t,n))}),_.forEach(t=>{this.processLeaveNode(t)})});const C=[],O=[];for(let a=this._namespaceList.length-1;a>=0;a--)this._namespaceList[a].drainQueuedTransitions(e).forEach(t=>{const e=t.player,s=t.element;if(C.push(e),this.collectedEnterElements.length){const t=s.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const a=!p||!this.driver.containsElement(p,s),r=x.get(s),h=g.get(s),f=this._buildInstruction(t,n,h,r,a);if(f.errors&&f.errors.length)O.push(f);else{if(a)return e.onStart(()=>L(s,f.fromStyles)),e.onDestroy(()=>R(s,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>L(s,f.fromStyles)),e.onDestroy(()=>R(s,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(s,f.timelines),o.push({instruction:f,player:e,element:s}),f.queriedElements.forEach(t=>u(c,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=l.get(e);t||l.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=d.get(e);i||d.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(O.length){const t=[];O.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),C.forEach(t=>t.destroy()),this.reportError(t)}const k=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,k))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{u(k,e,[]).push(t),t.destroy()})});const E=_.filter(t=>Ut(t,l,d)),M=new Map;Ft(M,this.driver,y,d,a.a).forEach(t=>{Ut(t,l,d)&&E.push(t)});const I=new Map;m.forEach((t,e)=>{Ft(I,this.driver,new Set(t),l,a.p)}),E.forEach(t=>{const e=M.get(t),n=I.get(t);M.set(t,Object.assign(Object.assign({},e),n))});const P=[],T=[],A={};o.forEach(t=>{const{element:e,player:a,instruction:o}=t;if(n.has(e)){if(h.has(e))return a.onDestroy(()=>R(e,o.toStyles)),a.disabled=!0,a.overrideTotalTime(o.totalTime),void i.push(a);let t=A;if(S.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>S.set(e,t))}const n=this._buildAnimation(a.namespaceId,o,k,s,I,M);if(a.setRealPlayer(n),t===A)P.push(a);else{const e=this.playersByElement.get(t);e&&e.length&&(a.parentPlayer=r(e)),i.push(a)}}else L(e,o.fromStyles),a.onDestroy(()=>R(e,o.toStyles)),T.push(a),h.has(e)&&i.push(a)}),T.forEach(t=>{const e=s.get(t.element);if(e&&e.length){const n=r(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let a=0;a<_.length;a++){const t=_[a],e=t.__ng_removed;if(Zt(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(c.size){let e=c.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=c.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Nt(this,t,i):this.processLeaveNode(t)}return _.length=0,P.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),P}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,s){let a=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(a=e)}else{const e=this.playersByElement.get(t);if(e){const t=!s||"void"==s;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&a.push(e)})}}return(n||i)&&(a=a.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),a}_beforeAnimationBuild(t,e,n){const i=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,r=t!==i,c=u(n,t,[]);this._getPreviousPlayers(t,r,s,a,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}L(i,e.fromStyles)}_buildAnimation(t,e,n,i,s,o){const l=e.triggerName,d=e.element,h=[],p=new Set,f=new Set,m=e.timelines.map(e=>{const r=e.element;p.add(r);const u=r.__ng_removed;if(u&&u.removedBeforeQueried)return new a.d(e.duration,e.delay);const m=r!==d,g=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const s=e[i];s instanceof a.o?t(s.players,n):n.push(s)}}(t,e),e}((n.get(r)||St).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===r),b=s.get(r),_=o.get(r),v=c(0,this._normalizer,0,e.keyframes,b,_),y=this._buildPlayer(e,v,g);if(e.subTimeline&&i&&f.add(r),m){const e=new Dt(t,l,r);e.setRealPlayer(y),h.push(e)}return y});h.forEach(t=>{u(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),p.forEach(t=>Yt(t,"ng-animating"));const g=r(m);return g.onDestroy(()=>{p.forEach(t=>Zt(t,"ng-animating")),R(d,e.toStyles)}),f.forEach(t=>{u(i,t,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new a.d(t.duration,t.delay)}}class Dt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new a.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>l(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){u(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rt(t){return t&&1===t.nodeType}function Lt(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ft(t,e,n,i,s){const a=[];n.forEach(t=>a.push(Lt(t)));const o=[];i.forEach((n,i)=>{const a={};n.forEach(t=>{const n=a[t]=e.computeStyle(i,t,s);n&&0!=n.length||(i.__ng_removed=Mt,o.push(i))}),t.set(i,a)});let r=0;return n.forEach(t=>Lt(t,a[r++])),o}function jt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),s=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let a=s.get(e);if(a)return a;const o=e.parentNode;return a=n.has(o)?o:i.has(o)?1:t(o),s.set(e,a),a}(t);1!==e&&n.get(e).push(t)}),n}function Yt(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Zt(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Nt(t,e,n){r(n).onDone(()=>t.processLeaveNode(e))}function Ut(t,e,n){const i=n.get(t);if(!i)return!1;let s=e.get(t);return s?i.forEach(t=>s.add(t)):e.set(t,i),n.delete(t),!0}class Bt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new At(t,e,n),this._timelineEngine=new kt(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,s){const a=t+"-"+i;let o=this._triggerCache[a];if(!o){const t=[],e=J(this._driver,s,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new wt(t,e)}(i,e),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,s]=p(n);this._timelineEngine.command(t,e,s,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,s){if("@"==n.charAt(0)){const[t,i]=p(n);return this._timelineEngine.listen(t,e,i,s)}return this._transitionEngine.listen(t,e,n,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function zt(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Ht(e[0]),e.length>1&&(i=Ht(e[e.length-1]))):e&&(n=Ht(e)),n||i?new Vt(t,n,i):null}let Vt=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&R(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(R(this._element,this._initialStyles),this._endStyles&&(R(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(L(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(L(this._element,this._endStyles),this._endStyles=null),R(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ht(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const s=n[i];Qt(s)&&(e=e||{},e[s]=t[s])}return e}function Qt(t){return"display"===t||"position"===t}class $t{constructor(t,e,n,i,s,a,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=s,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Kt(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Jt(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Wt(this._element,this._name,"paused")}resume(){Wt(this._element,this._name,"running")}setPosition(t){const e=Gt(this._element,this._name);this._position=t*this._duration,Jt(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Kt(t,"").split(","),i=qt(n,e);i>=0&&(n.splice(i,1),Jt(t,"",n.join(",")))}(this._element,this._name))}}function Wt(t,e,n){Jt(t,"PlayState",n,Gt(t,e))}function Gt(t,e){const n=Kt(t,"");return n.indexOf(",")>0?qt(n.split(","),e):qt([n],e)}function qt(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Xt(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Jt(t,e,n,i){const s="animation"+e;if(null!=i){const e=t.style[s];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[s]=n}function Kt(t,e){return t.style["animation"+e]}class te{constructor(t,e,n,i,s,a,o,r){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=s,this._finalStyles=o,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $t(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Q(this.element,n))})}this.currentSnapshot=t}}class ee extends a.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=O(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ne{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return y(t)}matchesElement(t,e){return x(t,e)}containsElement(t,e){return w(t,e)}query(t,e,n){return C(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>O(t));let i=`@keyframes ${e} {\n`,s="";n.forEach(t=>{s=" ";const e=parseFloat(t.offset);i+=`${s}${100*e}% {\n`,s+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${s}animation-timing-function: ${n};\n`));default:return void(i+=`${s}${e}: ${n};\n`)}}),i+=s+"}\n"}),i+="}\n";const a=document.createElement("style");return a.innerHTML=i,a}animate(t,e,n,i,s,a=[],o){o&&this._notifyFaultyScrubber();const r=a.filter(t=>t instanceof te),c={};z(n,i)&&r.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=V(t,e,c));if(0==n)return new ee(t,l);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,d,e);document.querySelector("head").appendChild(h);const u=zt(t,e),p=new te(t,e,d,n,i,s,l,u);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ie{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Q(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class se{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ae().toString()),this._cssKeyframesDriver=new ne}validateStyleProperty(t){return y(t)}matchesElement(t,e){return x(t,e)}containsElement(t,e){return w(t,e)}query(t,e,n){return C(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,s,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,s,a);const r={duration:n,delay:i,fill:0==i?"both":"forwards"};s&&(r.easing=s);const c={},l=a.filter(t=>t instanceof ie);z(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const d=zt(t,e=V(t,e=e.map(t=>T(t,!1)),c));return new ie(t,e,r,d)}}function ae(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var oe=n("ofXK");let re=(()=>{class t extends a.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(a.j)(t):t;return de(this._renderer,null,e,"register",[n]),new ce(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(i.I),i.dc(oe.e))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class ce extends a.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new le(this._id,t,e||{},this._renderer)}}class le{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return de(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function de(t,e,n,i,s){return t.setProperty(e,`@@${n}:${i}`,s)}let he=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ue("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=e=>{Array.isArray(e)?e.forEach(a):this.engine.registerTrigger(i,s,t,e.name,e)};return e.data.animation.forEach(a),new pe(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(i.I),i.dc(Bt),i.dc(i.B))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class ue{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class pe extends ue{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,a,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let fe=(()=>{class t extends Bt{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(oe.e),i.dc(S),i.dc(mt))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const me=new i.r("AnimationModuleType"),ge=[{provide:S,useFactory:function(){return"function"==typeof ae()?new se:new ne}},{provide:me,useValue:"BrowserAnimations"},{provide:a.b,useClass:re},{provide:mt,useFactory:function(){return new gt}},{provide:Bt,useClass:fe},{provide:i.I,useFactory:function(t,e,n){return new he(t,e,n)},deps:[s.f,Bt,i.B]}];let be=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:ge,imports:[s.a]}),t})()},RmLz:function(t,e,n){"use strict";var i=n("IKMM"),s=n("nzqU");e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return s.isScheduler(n)?(t.pop(),function(e){return i.concat(t,e,n)}):function(e){return i.concat(t,e)}}},Ro8j:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("fXoL"),s=n("sYmb"),a=n("4zkx"),o=n("ofXK"),r=n("bTqV"),c=n("NFeN");function l(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",5),i.hc("click",(function(){return i.Hc(t),i.lc(2).headerService.sideNavLeft.open()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",6),i.Yb()}2&t&&i.tc("title",i.nc(1,1,"lang.openSidePanel"))}function d(t,e){if(1&t&&i.Ub(0,"i"),2&t){const t=i.lc(2);i.Hb("",t.headerService.headerMessageIcon," headerIcon")}}function h(t,e){if(1&t&&(i.Zb(0,"div",1),i.Qc(1,l,3,3,"button",2),i.Qc(2,d,1,3,"i",3),i.Sc(3),i.Zb(4,"span",4),i.Sc(5),i.Yb(),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",!t.headerService.sideNavLeft.opened),i.Eb(1),i.sc("ngIf",""!==t.headerService.headerMessageIcon),i.Eb(1),i.Uc(" ",t.headerService.headerMessage," "),i.Eb(2),i.Tc(t.headerService.subHeaderMessage)}}let u=(()=>{class t{constructor(t,e){this.translate=t,this.headerService=e,this.config={}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.Tb(a.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["header-left"]],inputs:{snavLeft:"snavLeft"},decls:1,vars:1,consts:[["class","bg-head-title-label",4,"ngIf"],[1,"bg-head-title-label"],["mat-icon-button","","style","font-size:20px;",3,"title","click",4,"ngIf"],[3,"class",4,"ngIf"],[1,"admin-toolbar-title-small"],["mat-icon-button","",2,"font-size","20px",3,"title","click"],[1,"fa","fa-stream"]],template:function(t,e){1&t&&i.Qc(0,h,6,4,"div",0),2&t&&i.sc("ngIf",void 0!==e.headerService.sideNavLeft)},directives:[o.t,r.b,c.a],pipes:[s.d],styles:[".bg-head-title-label[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{position:absolute;margin-left:-35px;margin-top:-10px}.headerIcon[_ngcontent-%COMP%]{font-size:22px}"]}),t})()},SIQe:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("0IaG"),s=n("fXoL"),a=n("sYmb"),o=n("ofXK"),r=n("bTqV");function c(t,e){if(1&t&&(s.Zb(0,"h1",5),s.Sc(1),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.Tc(t.data.title)}}function l(t,e){if(1&t&&(s.Zb(0,"div",6),s.Ub(1,"div",7),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.Hb("alert-message ",t.data.mode,""),s.sc("innerHTML",t.data.msg,s.Ic)}}function d(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",8),s.Zb(1,"button",9),s.hc("click",(function(){return s.Hc(t),s.lc().dialogRef.close()})),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(2),s.Tc(s.nc(3,1,"lang.ok")))}let h=(()=>{class t{constructor(t,e,n){this.translate=t,this.data=e,this.dialogRef=n,null==this.data.mode&&(this.data.mode="info"),this.data.mode="alert-message-"+this.data.mode,null===this.data.msg&&(this.data.msg="")}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(i.a),s.Tb(i.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:5,vars:3,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title","",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHTML"],["mat-dialog-actions",""],["id","alertComponentClose","color","primary","mat-raised-button","",1,"actions",3,"click"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Qc(1,c,2,1,"h1",1),s.Qc(2,l,2,4,"div",2),s.Ub(3,"span",3),s.Qc(4,d,4,3,"div",4),s.Yb()),2&t&&(s.Eb(1),s.sc("ngIf",""!==e.data.title),s.Eb(1),s.sc("ngIf",""!==e.data.msg),s.Eb(2),s.sc("ngIf",!e.data.hidebutton))},directives:[o.t,i.i,i.f,i.c,r.b],pipes:[a.d],styles:[".alert-message-info[_ngcontent-%COMP%]{margin:0;font-size:16px}"]}),t})()},STbY:function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return Q})),n.d(e,"d",(function(){return V})),n.d(e,"e",(function(){return N}));var i=n("u47x"),s=n("8LU1"),a=n("FtGj"),o=n("fXoL"),r=n("XNiG"),c=n("quSY"),l=n("VRyK"),d=n("LRne"),h=n("7Hc7"),u=n("JX91"),p=n("eIep"),f=n("IzEk"),m=n("pLZG"),g=n("1G5W"),b=n("3E0/"),_=n("R0Ic"),v=n("+rOU"),y=n("ofXK"),x=n("FKr1"),w=n("rDax"),C=n("nLfN"),O=n("vxfF"),k=n("cH1L");const S=["mat-menu-item",""],E=["*"];function M(t,e){if(1&t){const t=o.ac();o.Zb(0,"div",0),o.hc("keydown",(function(e){return o.Hc(t),o.lc()._handleKeydown(e)}))("click",(function(){return o.Hc(t),o.lc().closed.emit("click")}))("@transformMenu.start",(function(e){return o.Hc(t),o.lc()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return o.Hc(t),o.lc()._onAnimationDone(e)})),o.Zb(1,"div",1),o.qc(2),o.Yb(),o.Yb()}if(2&t){const t=o.lc();o.sc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),o.Fb("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const I={transformMenu:Object(_.n)("transformMenu",[Object(_.k)("void",Object(_.l)({opacity:0,transform:"scale(0.8)"})),Object(_.m)("void => enter",Object(_.g)([Object(_.i)(".mat-menu-content, .mat-mdc-menu-content",Object(_.e)("100ms linear",Object(_.l)({opacity:1}))),Object(_.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(_.l)({transform:"scale(1)"}))])),Object(_.m)("* => void",Object(_.e)("100ms 25ms linear",Object(_.l)({opacity:0})))]),fadeInItems:Object(_.n)("fadeInItems",[Object(_.k)("showing",Object(_.l)({opacity:1})),Object(_.m)("void => *",[Object(_.l)({opacity:0}),Object(_.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let P=(()=>{class t{constructor(t,e,n,i,s,a,o){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=s,this._document=a,this._changeDetectorRef=o,this._attached=new r.a}attach(t={}){this._portal||(this._portal=new v.j(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new v.f(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.O),o.Tb(o.j),o.Tb(o.g),o.Tb(o.s),o.Tb(o.R),o.Tb(y.e),o.Tb(o.h))},t.\u0275dir=o.Ob({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const T=new o.r("MAT_MENU_PANEL");class A{}const D=Object(x.A)(Object(x.B)(A));let R=(()=>{class t extends D{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new r.a,this._focused=new r.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let s=0;s<i;s++)t.childNodes[s].nodeType===e&&(n+=t.childNodes[s].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(y.e),o.Tb(i.h),o.Tb(T,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&o.hc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(o.Fb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),o.Jb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.Bb],attrs:S,ngContentSelectors:E,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(o.rc(),o.qc(0),o.Ub(1,"div",0)),2&t&&(o.Eb(1),o.sc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[x.t],encapsulation:2,changeDetection:0}),t})();const L=new o.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let F=0,j=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.G,this._tabSubscription=c.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new r.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.o,this.close=this.closed,this.panelId="mat-menu-panel-"+F++}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Object(s.c)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(s.c)(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new i.g(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Object(u.a)(this._directDescendantItems),Object(p.a)(t=>Object(l.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Object(u.a)(this._directDescendantItems),Object(p.a)(t=>Object(l.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case a.h:Object(a.v)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case a.k:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case a.o:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case a.j:case a.f:Object(a.v)(t)||(e===a.j?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:e!==a.s&&e!==a.e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(f.a)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Object(u.a)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(o.B),o.Tb(L))},t.\u0275dir=o.Ob({type:t,contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,P,!0),o.Lb(n,R,!0),o.Lb(n,R,!1)),2&t&&(o.Cc(i=o.ic())&&(e.lazyContent=i.first),o.Cc(i=o.ic())&&(e._allItems=i),o.Cc(i=o.ic())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&o.ad(o.O,!0),2&t&&o.Cc(n=o.ic())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),Y=(()=>{class t extends j{}return t.\u0275fac=function(e){return Z(e||t)},t.\u0275dir=o.Ob({type:t,features:[o.Bb]}),t})();const Z=o.bc(Y);let N=(()=>{class t extends Y{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(o.B),o.Tb(L))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[o.Db([{provide:T,useExisting:Y},{provide:Y,useExisting:t}]),o.Bb],ngContentSelectors:E,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(o.rc(),o.Qc(0,M,3,6,"ng-template"))},directives:[y.q],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[I.transformMenu,I.fadeInItems]},changeDetection:0}),t})();const U=new o.r("mat-menu-scroll-strategy"),B={provide:U,deps:[w.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},z=Object(C.f)({passive:!0});let V=(()=>{class t{constructor(t,e,n,i,s,a,r,l){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=s,this._menuItemInstance=a,this._dir=r,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=c.a.EMPTY,this._hoverSubscription=c.a.EMPTY,this._menuCloseSubscription=c.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new o.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.o,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,z),a&&(a._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,z),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Y&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof Y?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(m.a)(t=>"void"===t.toState),Object(f.a)(1),Object(g.a)(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new w.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,s]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,o]=[i,s],[r,c]=[e,n],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=r="end"===e?"start":"end",l="bottom"===i?8:-8):this.menu.overlapTrigger||(a="top"===i?"bottom":"top",o="top"===s?"bottom":"top"),t.withPositions([{originX:e,originY:a,overlayX:r,overlayY:i,offsetY:l},{originX:n,originY:a,overlayX:c,overlayY:i,offsetY:l},{originX:e,originY:o,overlayX:r,overlayY:s,offsetY:-l},{originX:n,originY:o,overlayX:c,overlayY:s,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(d.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(m.a)(t=>t!==this._menuItemInstance),Object(m.a)(()=>this._menuOpen)):Object(d.a)();return Object(l.a)(t,n,i,e)}_handleMousedown(t){Object(i.l)(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(e===a.o&&"ltr"===this.dir||e===a.k&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(m.a)(t=>t===this._menuItemInstance&&!t.disabled),Object(b.a)(0,h.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Y&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(f.a)(1),Object(b.a)(0,h.a),Object(g.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new v.j(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(w.c),o.Tb(o.l),o.Tb(o.R),o.Tb(U),o.Tb(Y,8),o.Tb(R,10),o.Tb(k.c,8),o.Tb(i.h))},t.\u0275dir=o.Ob({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&o.hc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&o.Fb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),H=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[B],imports:[x.j]}),t})(),Q=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[B],imports:[[y.c,x.j,x.u,w.f,H],O.c,x.j,H]}),t})()},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("ngJS"),s=n("NJ4a"),a=n("Lhse"),o=n("kJWO"),r=n("I55L"),c=n("c2HN"),l=n("XoHu");const d=t=>{if(t&&"function"==typeof t[o.a])return d=t,t=>{const e=d[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(r.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s.a),t);if(t&&"function"==typeof t[a.a])return e=t,t=>{const n=e[a.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,d}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",(function(){return i}))},TCaw:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="TCaw"},TU8p:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return u}));var i=n("fXoL"),s=n("FKr1"),a=n("u47x"),o=n("8LU1"),r=n("R1ws");let c=0;class l{}const d=Object(s.B)(l);let h=(()=>{class t extends d{constructor(t,e,n,s,a){if(super(),this._ngZone=t,this._elementRef=e,this._ariaDescriber=n,this._renderer=s,this._animationMode=a,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=c++,Object(i.Y)()){const t=e.nativeElement;if(t.nodeType!==t.ELEMENT_NODE)throw Error("matBadge must be attached to an element node.")}}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=Object(o.c)(t)}get description(){return this._description}set description(t){if(t!==this._description){const e=this._badgeElement;this._updateHostAriaDescription(t,this._description),this._description=t,e&&(t?e.setAttribute("aria-label",t):e.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(t){this._hidden=Object(o.c)(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(t){const e=t.content;if(e){const t=e.currentValue;this._hasContent=null!=t&&(""+t).trim().length>0,this._updateTextContent()}}ngOnDestroy(){const t=this._badgeElement;t&&(this.description&&this._ariaDescriber.removeDescription(t,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(t))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this.content:this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const t=this._renderer.createElement("span");return this._clearExistingBadges("mat-badge-content"),t.setAttribute("id","mat-badge-content-"+this._id),t.classList.add("mat-badge-content"),t.textContent=this.content,"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this.description&&t.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add("mat-badge-active")})}):t.classList.add("mat-badge-active"),t}_updateHostAriaDescription(t,e){const n=this._updateTextContent();e&&this._ariaDescriber.removeDescription(n,e),t&&this._ariaDescriber.describe(n,t)}_setColor(t){t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-badge-"+this._color),t&&this._elementRef.nativeElement.classList.add("mat-badge-"+t))}_clearExistingBadges(t){const e=this._elementRef.nativeElement;let n=e.children.length;for(;n--;){const i=e.children[n];i.classList.contains(t)&&e.removeChild(i)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.B),i.Tb(i.l),i.Tb(a.c),i.Tb(i.H),i.Tb(r.a,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,e){2&t&&i.Jb("mat-badge-overlap",e.overlap)("mat-badge-above",e.isAbove())("mat-badge-below",!e.isAbove())("mat-badge-before",!e.isAfter())("mat-badge-after",e.isAfter())("mat-badge-small","small"===e.size)("mat-badge-medium","medium"===e.size)("mat-badge-large","large"===e.size)("mat-badge-hidden",e.hidden||!e._hasContent)("mat-badge-disabled",e.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[i.Bb,i.Cb]}),t})(),u=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.a,s.j],s.j]}),t})()},"U+qY":function(t,e,n){"use strict";n.d(e,"a",(function(){return $t}));var i=n("vWc3"),s=n("GUHb"),a=n("mCt4"),o=n("+AL4"),r=n("IkSl"),c=n("IOqN"),l=n("cMWS"),d=n("fXoL"),h=n("sYmb"),u=n("ofXK"),p=n("ZnWJ"),f=n("mLrj"),m=n("F8Z3"),g=n("Ro8j"),b=n("qQ0q"),_=n("kmnG"),v=n("qFsG"),y=n("bTqV"),x=n("NFeN");let w=(()=>{class t{constructor(t){this.translate=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(h.e))},t.\u0275cmp=d.Nb({type:t,selectors:[["search-home"]],decls:13,vars:9,consts:[["ngNoForm","","name","choose_query","id","choose_query","method","post","action","index.php?display=true&dir=indexing_searching&page=search_adv_result",2,"margin-bottom","0px"],["type","hidden","name","meta[]","value","baskets_clause#baskets_clause#select_simple"],["type","hidden","name","meta[]","value","welcome#welcome#welcome"],["type","hidden","name","baskets_clause","value","true"],["id","searchInput","floatLabel","never",2,"width","100%"],["matInput","","type","text","name","welcome",2,"width","100%",3,"placeholder"],["mat-button","","matSuffix","","mat-icon-button","","type","submit","aria-label","Clear",2,"opacity","0.5",3,"title"],[1,"fa","fa-search"],["type","submit","name","submit","value","",2,"display","none"],["searchHome",""]],template:function(t,e){1&t&&(d.Zb(0,"form",0),d.Ub(1,"input",1),d.Ub(2,"input",2),d.Ub(3,"input",3),d.Zb(4,"mat-form-field",4),d.Ub(5,"input",5),d.mc(6,"translate"),d.Zb(7,"button",6),d.mc(8,"translate"),d.mc(9,"translate"),d.Ub(10,"mat-icon",7),d.Yb(),d.Yb(),d.Ub(11,"input",8,9),d.Yb()),2&t&&(d.Eb(5),d.tc("placeholder",d.nc(6,3,"lang.searchMails")),d.Eb(2),d.vc("title","",d.nc(8,5,"lang.quickSearchInfo")," : ",d.nc(9,7,"lang.quickSearchTarget"),""))},directives:[_.c,v.b,y.b,_.j,x.a],pipes:[h.d],encapsulation:2}),t})();var C=n("QNbu"),O=n("3Pt+"),k=n("tyNb"),S=n("bSwM"),E=n("cH1L"),M=n("vxfF"),I=n("d3UM"),P=n("FKr1"),T=n("1jcm"),A=n("ihCf"),D=n("Qu3c"),R=n("wZkO"),L=n("XhcP"),F=n("Wp6s"),j=n("jaxi"),Y=n("Xa2L"),Z=n("bv9b"),N=n("/t3+"),U=n("STbY"),B=n("zkoq"),z=n("+0xr"),V=n("M9IT"),H=n("Dh3D"),Q=n("iadO"),$=n("7EHt"),W=n("/1cH"),G=n("dNgK"),q=n("0IaG"),X=n("MutI"),J=n("f0Cb"),K=n("A5z7"),tt=n("xHqg"),et=n("QibW"),nt=n("5RNC"),it=n("TU8p"),st=n("2ChS"),at=n("8yBR"),ot=n("lJEt"),rt=n("0vfS"),ct=n("5+WD"),lt=n("63qU"),dt=n("sTim"),ht=n("fBaO"),ut=n("y9tK"),pt=n("w9N8"),ft=n("dATD"),mt=n("Gon0"),gt=n("VdM8"),bt=n("7gPu"),_t=n("jbvq"),vt=n("XkWp"),yt=n("IsdP"),xt=n("/kMP"),wt=n("bblj"),Ct=n("OigG"),Ot=n("JX91"),kt=n("lJxs"),St=n("tk/3"),Et=n("AXEc"),Mt=n("aEDk");const It=["acInput"],Pt=["auto"];function Tt(t,e){if(1&t){const t=d.ac();d.Zb(0,"mat-chip",7),d.hc("removed",(function(){d.Hc(t);const n=e.$implicit;return d.lc().remove(n)})),d.Sc(1),d.Ub(2,"mat-icon",8),d.Yb()}if(2&t){const t=e.$implicit;d.Eb(1),d.Uc(" ",t," ")}}function At(t,e){if(1&t&&(d.Zb(0,"mat-option",9),d.Sc(1),d.Yb()),2&t){const t=e.$implicit,n=d.lc();d.sc("value",t)("disabled",n.datasFormControl.value.indexOf(t)>-1),d.Eb(1),d.Uc(" ",t," ")}}let Dt=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.dialog=i,this.latinisePipe=s,this.inputFormControl=new O.h,this.loading=!1,this.appearance="legacy",this.required=!1,this.options=[],this.inputLabel="Mon champ",this.targetSearchKey=null,this.datasFormControl=new O.h({value:[],disabled:!1}),this.afterSelected=new d.o,this.valuesToDisplay={}}ngOnInit(){console.log(Object.keys(this.options[0]))}getLabel(t){return this.options.length>0&&Object.keys(2===this.options[0].length)?t[this.targetSearchKey]:t}initAutocompleteData(){this.filteredOptions=this.inputFormControl.valueChanges.pipe(Object(Ot.a)(null),Object(kt.a)(t=>t?this._filter(t):this.options.slice()))}add(t){const e=t.input,n=t.value;(n||"").trim()&&this.datasFormControl.value.push(n.trim()),e&&(e.value=""),this.inputFormControl.setValue(null)}remove(t){console.log(t);const e=this.datasFormControl.value.indexOf(t);if(e>=0){let t=[];t=this.datasFormControl.value,t.splice(e,1),this.datasFormControl.setValue(t)}}selected(t){this.datasFormControl.value.push(t.option.viewValue),this.acInput.nativeElement.value="",this.inputFormControl.setValue(null)}_filter(t){const e=t.toLowerCase();return this.datasFormControl.value.filter(t=>t.toLowerCase().indexOf(e)>-1)}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(h.e),d.Tb(St.b),d.Tb(Et.a),d.Tb(q.b),d.Tb(Mt.c))},t.\u0275cmp=d.Nb({type:t,selectors:[["app-autocomplete-list"]],viewQuery:function(t,e){var n;1&t&&(d.ad(It,!0),d.ad(Pt,!0)),2&t&&(d.Cc(n=d.ic())&&(e.acInput=n.first),d.Cc(n=d.ic())&&(e.matAutocomplete=n.first))},inputs:{appearance:"appearance",required:"required",options:"options",inputLabel:"inputLabel",targetSearchKey:"targetSearchKey",datasFormControl:"datasFormControl"},outputs:{afterSelected:"afterSelected"},decls:10,vars:8,consts:[["chipList",""],[3,"removed",4,"ngFor","ngForOf"],[3,"placeholder","formControl","matAutocomplete","matChipInputFor"],["acInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove","",1,"fa","fa-times-circle"],[3,"value","disabled"]],template:function(t,e){if(1&t&&(d.Zb(0,"mat-form-field"),d.Zb(1,"mat-chip-list",null,0),d.Qc(3,Tt,3,1,"mat-chip",1),d.Ub(4,"input",2,3),d.Yb(),d.Zb(6,"mat-autocomplete",4,5),d.hc("optionSelected",(function(t){return e.selected(t)})),d.Qc(8,At,2,3,"mat-option",6),d.mc(9,"async"),d.Yb(),d.Yb()),2&t){const t=d.Dc(2),n=d.Dc(7);d.Eb(3),d.sc("ngForOf",e.datasFormControl.value),d.Eb(1),d.sc("placeholder",e.inputLabel)("formControl",e.inputFormControl)("matAutocomplete",n)("matChipInputFor",t),d.Eb(4),d.sc("ngForOf",d.nc(9,6,e.filteredOptions))}},directives:[_.c,K.d,u.s,O.c,W.d,K.c,O.t,O.i,W.a,K.a,x.a,K.e,P.o],pipes:[u.b],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px} .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#135f7f} .mat-form-field-prefix{top:0!important}.mat-option[_ngcontent-%COMP%]    .mat-option-text{display:flex}.mat-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:110%;font-weight:700}.autcompleteIcon[_ngcontent-%COMP%]{width:20px;display:flex;align-items:center}.smallInput[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle}.input-form[_ngcontent-%COMP%]    .mat-form-field-prefix{left:15px}.activeListAutocomplete[_ngcontent-%COMP%]{font-size:13px;height:auto}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.autoCompleteInfoResult[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),t})();var Rt=n("qSQ4"),Lt=n("dXBx"),Ft=n("mb9D"),jt=n("PGLw"),Yt=n("WUgQ"),Zt=n("dUgt"),Nt=n("8N1J"),Ut=n("8IW6"),Bt=n("MhE4"),zt=n("wQTr"),Vt=n("1YbM"),Ht=n("ZI/H"),Qt=n("0ST6");let $t=(()=>{class t{constructor(t){t.setDefaultLang("fr")}}return t.\u0275mod=d.Rb({type:t}),t.\u0275inj=d.Qb({factory:function(e){return new(e||t)(d.dc(h.e))},imports:[[i.a,r.b,l.a],r.b]}),t})();d.Lc(a.a,[u.q,u.r,u.s,u.t,u.A,u.w,u.x,u.y,u.z,u.u,u.v,p.a,f.b,m.a,g.a,b.a,w,C.a,O.J,O.y,O.I,O.c,O.z,O.C,O.a,O.F,O.G,O.B,O.t,O.u,O.E,O.p,O.o,O.A,O.b,O.d,O.w,O.x,O.v,O.i,O.l,O.j,O.m,O.f,k.h,k.d,k.f,k.e,k.i,S.a,E.b,S.c,M.b,_.b,_.c,_.f,_.g,_.h,_.i,_.j,I.a,I.c,P.o,P.n,T.c,T.a,A.b,A.c,v.b,v.d,D.b,D.d,R.c,R.d,R.a,R.f,R.e,R.b,L.a,L.b,L.c,L.d,L.e,L.f,y.b,y.a,F.a,F.f,F.n,F.d,F.m,F.l,F.b,F.e,F.k,F.i,F.h,F.g,F.o,F.c,j.b,j.a,Y.a,Y.c,Z.a,N.a,N.c,U.e,U.b,U.d,U.a,B.b,B.d,B.g,P.k,B.f,B.e,B.a,z.n,z.i,z.k,z.c,z.b,z.m,z.e,z.g,z.h,z.a,z.d,z.j,z.l,z.f,z.q,V.a,H.a,H.b,Q.a,Q.b,Q.d,Q.e,Q.f,Q.h,Q.i,Q.j,Q.l,Q.k,Q.c,$.a,$.c,$.d,$.g,$.h,$.f,$.e,W.a,W.d,W.c,G.c,x.a,q.e,q.d,q.i,q.f,q.c,X.a,X.h,X.d,X.b,X.c,X.g,P.r,X.i,X.f,J.a,K.d,K.a,K.c,K.e,K.b,K.f,tt.a,tt.j,tt.b,tt.d,tt.e,tt.h,tt.i,tt.c,tt.f,et.b,et.a,nt.a,it.a,st.a,P.t,at.a,at.h,at.j,at.k,at.b,at.g,at.i,M.a,M.d,M.e,ot.b,ot.c,ot.d,ot.f,ot.e,ot.g,rt.b,rt.c,rt.a,ct.e,ct.f,ct.a,ct.b,ct.d,ct.c,lt.a,dt.a,ht.a,ut.a,pt.a,ft.a,mt.a,gt.a,bt.a,_t.a,vt.a,yt.a,xt.a,wt.a,Ct.a,Dt,Rt.a,Lt.a,Ft.a,jt.a,Yt.a,Zt.a,r.a,h.a,s.a,o.a,a.a,c.a],[u.b,u.G,u.p,u.k,u.E,u.g,u.C,u.F,u.d,u.f,u.i,u.j,u.l,Mt.a,Mt.e,Mt.k,Mt.n,Mt.o,Mt.p,Mt.r,Mt.t,Mt.u,Mt.v,Mt.q,Mt.b,Mt.c,Mt.f,Mt.w,Mt.h,Mt.s,Mt.d,Mt.m,Mt.g,Mt.x,Nt.a,Ut.a,Bt.a,zt.a,Vt.a,Ht.a,Qt.a,h.d])},UNqx:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("q3Kh"),a=n("gTqA"),o=n("wjEo");function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(r((function(n,i){return a.from(t(n,i)).pipe(s.map((function(t,s){return e(n,t,i,s)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}e.mergeMap=r;var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}();e.MergeMapOperator=c;var l=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,e)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new o.SimpleInnerSubscriber(this),n=this.destination;n.add(e);var i=o.innerSubscribe(t,e);i!==e&&n.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.SimpleOuterSubscriber);e.MergeMapSubscriber=l,e.flatMap=r},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("jtHE");function s(t,e,n){let s;return s=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let a,o,r=0,c=!1,l=!1;return function(d){let h;r++,!a||c?(c=!1,a=new i.a(t,e,s),h=a.subscribe(this),o=d.subscribe({next(t){a.next(t)},error(t){c=!0,a.error(t)},complete(){l=!0,o=void 0,a.complete()}})):h=a.subscribe(this),this.add(()=>{r--,h.unsubscribe(),o&&!l&&n&&0===r&&(o.unsubscribe(),o=void 0,a=void 0)})}}(s))}},"V5D/":function(t,e,n){"use strict";n.d(e,"a",(function(){return ct}));var i=n("mrSG"),s=n("vkgz"),a=n("JIr8"),o=n("/uUt"),r=n("IzEk"),c=n("pLZG"),l=n("LRne"),d=n("0IaG"),h=n("1YbM"),u=n("3Pt+"),p=n("2c88"),f=n("Nqwj"),m=n("fXoL"),g=n("sYmb"),b=n("tk/3"),_=n("A6w4"),v=n("AXEc"),y=n("rH+9"),x=n("ofXK"),w=n("Xa2L"),C=n("bTqV"),O=n("NFeN"),k=n("wZkO"),S=n("GUHb"),E=n("fBaO"),M=n("kmnG"),I=n("qFsG"),P=n("iadO"),T=n("dATD");const A=["appDocumentViewer"],D=["contactAutocomplete"];function R(t,e){1&t&&(m.Zb(0,"div",11),m.Ub(1,"mat-spinner"),m.Yb())}function L(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",12),m.hc("click",(function(){return m.Hc(t),m.lc().dialogRef.close()})),m.Ub(1,"mat-icon",13),m.Yb()}if(2&t){const t=m.lc();m.sc("title",t.translate.instant("lang.close"))}}function F(t,e){1&t&&(m.Zb(0,"div",14),m.Ub(1,"mat-spinner",15),m.Yb())}function j(t,e){1&t&&m.Ub(0,"i",31)}function Y(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",32),m.hc("click",(function(e){m.Hc(t);const n=m.lc(2).index,i=m.lc(2);return e.stopPropagation(),i.removePj(n)})),m.Ub(1,"mat-icon",33),m.Yb()}if(2&t){const t=m.lc(4);m.sc("disabled",t.isDocLoading())("title",t.translate.instant("lang.delAttachment"))}}function Z(t,e){if(1&t&&(m.Zb(0,"span"),m.Sc(1),m.mc(2,"translate"),m.Qc(3,j,1,0,"i",29),m.Qc(4,Y,2,2,"button",30),m.Yb()),2&t){const t=m.lc().index,e=m.lc(2);m.Jb("complete",e.isPjValid(t)),m.Eb(1),m.Vc("",m.nc(2,6,"lang.attachmentShort")," n\xb0",t+1,"\xa0"),m.Eb(2),m.sc("ngIf",e.isPjValid(t)),m.Eb(1),m.sc("ngIf",e.attachments.length>1)}}function N(t,e){1&t&&m.Ub(0,"i",51)}function U(t,e){1&t&&m.Ub(0,"i",52)}function B(t,e){1&t&&m.Ub(0,"i",53)}function z(t,e){1&t&&m.Ub(0,"i",51)}function V(t,e){1&t&&m.Ub(0,"i",52)}function H(t,e){1&t&&m.Ub(0,"i",53)}function Q(t,e){if(1&t){const t=m.ac();m.Zb(0,"div",35),m.Zb(1,"plugin-select-search",54),m.hc("afterSelected",(function(e){return m.Hc(t),m.lc(4).selectContact(e)})),m.Yb(),m.Zb(2,"div",37),m.Zb(3,"button",55),m.hc("click",(function(){return m.Hc(t),m.lc(4).toggleSendMass()})),m.Ub(4,"mat-icon",56),m.Yb(),m.Ub(5,"i",57),m.Yb(),m.Yb()}if(2&t){const t=m.lc(4);m.Eb(1),m.sc("label",t.translate.instant("lang.selectContact"))("placeholderLabel",t.translate.instant("lang.selectContact"))("datas",t.resourceContacts)("returnValue","object")("formControlSelect",t.selectedContact),m.Eb(2),m.Jb("active",t.sendMassMode),m.sc("title",t.translate.instant(t.sendMassMode?"lang.disableMailing":"lang.enableMailing"))}}function $(t,e){if(1&t&&(m.Zb(0,"div",58),m.Ub(1,"div",59),m.Yb()),2&t){const t=m.lc(4);m.Eb(1),m.sc("innerHTML",t.translate.instant("lang.mailingMsg"),m.Ic)}}function W(t,e){if(1&t){const t=m.ac();m.Zb(0,"app-contact-autocomplete",61),m.hc("retrieveDocumentEvent",(function(){return m.Hc(t),m.lc(3),m.Dc(6).saveDocService()})),m.Yb()}if(2&t){const t=m.lc(3).$implicit;m.sc("control",t.recipient)("singleMode",!0)}}function G(t,e){if(1&t&&(m.Zb(0,"div",35),m.Qc(1,W,1,2,"app-contact-autocomplete",60),m.Zb(2,"div",37),m.Ub(3,"i",57),m.Yb(),m.Yb()),2&t){const t=m.lc(4);m.Eb(1),m.sc("ngIf",!t.loadingContact)}}function q(t,e){if(1&t&&m.Ub(0,"mat-datepicker-toggle",62),2&t){m.lc();const t=m.Dc(26);m.sc("for",t)}}function X(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",63),m.hc("click",(function(e){m.Hc(t);const n=m.lc(2).$implicit;return e.stopPropagation(),n.validationDate.reset()})),m.Ub(1,"mat-icon",64),m.Yb()}if(2&t){const t=m.lc(4);m.sc("title",t.translate.instant("lang.eraseValue"))}}function J(t,e){1&t&&m.Ub(0,"i",57)}function K(t,e){1&t&&m.Ub(0,"i",53)}function tt(t,e){if(1&t){const t=m.ac();m.Zb(0,"div",34),m.Zb(1,"div",35),m.Zb(2,"plugin-select-search",36),m.hc("afterSelected",(function(e){m.Hc(t);const n=m.lc().index;return m.lc(2).getAttachType(e,n)})),m.Yb(),m.Zb(3,"div",37),m.Qc(4,N,1,0,"i",38),m.Qc(5,U,1,0,"i",28),m.Qc(6,B,1,0,"i",39),m.Yb(),m.Yb(),m.Zb(7,"div",35),m.Zb(8,"mat-form-field",40),m.Ub(9,"input",41),m.mc(10,"translate"),m.Yb(),m.Zb(11,"div",37),m.Qc(12,z,1,0,"i",38),m.Qc(13,V,1,0,"i",28),m.Qc(14,H,1,0,"i",39),m.Yb(),m.Yb(),m.Qc(15,Q,6,8,"div",42),m.Qc(16,$,2,1,"div",43),m.Qc(17,G,4,1,"div",42),m.Zb(18,"div",35),m.Zb(19,"mat-form-field",44),m.hc("click",(function(){return m.Hc(t),m.Dc(26).open()})),m.Zb(20,"mat-label"),m.Sc(21),m.mc(22,"translate"),m.Yb(),m.Ub(23,"input",45),m.Qc(24,q,1,1,"mat-datepicker-toggle",46),m.Ub(25,"mat-datepicker",47,48),m.Qc(27,X,2,1,"button",49),m.Yb(),m.Zb(28,"div",37),m.Qc(29,J,1,0,"i",50),m.Qc(30,K,1,0,"i",39),m.Yb(),m.Yb(),m.Yb()}if(2&t){const t=m.Dc(26),e=m.lc().$implicit,n=m.lc(2);m.Eb(2),m.sc("label",n.translate.instant("lang.type"))("placeholderLabel",n.translate.instant("lang.type"))("formControlSelect",e.type)("datas",n.attachmentsTypes),m.Eb(2),m.sc("ngIf",e.type.hasError("required")&&e.type.untouched),m.Eb(1),m.sc("ngIf",e.type.touched&&e.type.hasError("required")),m.Eb(1),m.sc("ngIf",e.type.valid&&!n.isEmptyField(e.type)),m.Eb(3),m.tc("placeholder",m.nc(10,25,"lang.subject")),m.sc("formControl",e.title),m.Eb(3),m.sc("ngIf",e.title.hasError("required")&&e.title.untouched),m.Eb(1),m.sc("ngIf",e.title.touched&&e.title.hasError("required")),m.Eb(1),m.sc("ngIf",e.title.valid&&!n.isEmptyField(e.title)),m.Eb(1),m.sc("ngIf",n.resourceContacts.length>1),m.Eb(1),m.sc("ngIf",n.sendMassMode),m.Eb(1),m.sc("ngIf",!n.sendMassMode),m.Eb(4),m.Tc(m.nc(22,27,"lang.expectedReturnDate")),m.Eb(2),m.sc("formControl",e.validationDate)("matDatepicker",t)("placeholder",n.translate.instant("lang.expectedReturnDate"))("min",n.now),m.Eb(1),m.sc("ngIf",!e.validationDate.value),m.Eb(1),m.sc("touchUi",n.appService.getViewMode()),m.Eb(2),m.sc("ngIf",e.validationDate.value&&!e.validationDate.disabled),m.Eb(2),m.sc("ngIf",e.validationDate.valid&&n.isEmptyField(e.validationDate)),m.Eb(1),m.sc("ngIf",e.validationDate.valid&&!n.isEmptyField(e.validationDate))}}function et(t,e){1&t&&m.Ub(0,"i",52)}function nt(t,e){if(1&t){const t=m.ac();m.Zb(0,"mat-tab",21),m.Qc(1,Z,5,8,"ng-template",20),m.Zb(2,"div",22),m.Qc(3,tt,31,29,"div",23),m.Zb(4,"div",24),m.Zb(5,"app-document-viewer",25,26),m.hc("triggerEvent",(function(){m.Hc(t);const n=e.index;return m.lc(2).setDatasViewer(n)})),m.Yb(),m.Zb(7,"div",27),m.Qc(8,et,1,0,"i",28),m.Yb(),m.Yb(),m.Yb(),m.Yb()}if(2&t){const t=e.$implicit,n=m.lc(2);m.sc("disabled",n.isDocLoading()),m.Eb(3),m.sc("ngIf",!n.loading),m.Eb(2),m.sc("editMode",!0)("mode","attachment"),m.Eb(3),m.sc("ngIf",t.encodedFile.touched&&t.encodedFile.hasError("required"))}}function it(t,e){if(1&t){const t=m.ac();m.Zb(0,"span"),m.Zb(1,"button",65),m.hc("click",(function(e){m.Hc(t);const n=m.lc(2);return e.stopPropagation(),n.newPj()})),m.Ub(2,"mat-icon",66),m.Yb(),m.Yb()}if(2&t){const t=m.lc(2);m.Eb(1),m.sc("disabled",t.sendMassMode||t.isDocLoading())("title",t.translate.instant("lang.newAttachment"))}}function st(t,e){if(1&t){const t=m.ac();m.Zb(0,"mat-tab-group",16,17),m.hc("selectedIndexChange",(function(e){return m.Hc(t),m.lc().indexTab=e}))("selectedIndexChange",(function(e){return m.Hc(t),m.lc().updateFile(e)})),m.Qc(2,nt,9,5,"mat-tab",18),m.Zb(3,"mat-tab",19),m.Qc(4,it,3,2,"ng-template",20),m.Yb(),m.Yb()}if(2&t){const t=m.lc();m.sc("selectedIndex",t.indexTab),m.Eb(2),m.sc("ngForOf",t.attachments)}}function at(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",67),m.hc("click",(function(){return m.Hc(t),m.lc().onSubmit()})),m.Sc(1),m.mc(2,"translate"),m.Yb()}if(2&t){const t=m.lc();m.sc("disabled",t.canValidatePj()),m.Eb(1),m.Tc(m.nc(2,2,"lang.validate"))}}function ot(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",67),m.hc("click",(function(){return m.Hc(t),m.lc().onSubmit("mailing")})),m.Sc(1),m.mc(2,"translate"),m.Yb()}if(2&t){const t=m.lc();m.sc("disabled",t.canValidatePj()),m.Eb(1),m.Tc(m.nc(2,2,"lang.mailing"))}}function rt(t,e){if(1&t&&(m.Zb(0,"button",68),m.Sc(1),m.mc(2,"translate"),m.Yb()),2&t){const t=m.lc();m.sc("disabled",t.canValidatePj()),m.Eb(1),m.Tc(m.nc(2,2,"lang.cancel"))}}let ct=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l){this.translate=t,this.http=e,this.data=n,this.dialogRef=i,this.appService=s,this.notify=a,this.sortPipe=o,this.dialog=r,this.functions=c,this.contactService=l,this.loading=!0,this.sendMassMode=!1,this.sendingData=!1,this.attachmentsTypes=[],this.creationMode=!0,this.attachFormGroup=[],this.attachments=[],this.now=new Date,this.asyncIndexTab=0,this.indexTab=0,this.resourceContacts=[],this.selectedContact=new u.h,this.loadingContact=!1,this.resId=null}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.loadAttachmentTypes(),yield this.loadResource(),this.loading=!1}))}loadAttachmentTypes(){return new Promise((t,e)=>{this.http.get("../rest/attachmentsTypes").pipe(Object(s.a)(e=>{Object.keys(e.attachmentsTypes).forEach(t=>{e.attachmentsTypes[t].show&&this.attachmentsTypes.push(Object.assign({id:t},e.attachmentsTypes[t]))}),this.attachmentsTypes=this.sortPipe.transform(this.attachmentsTypes,"label"),t(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}loadResource(){return new Promise((t,e)=>{this.http.get(`../rest/resources/${this.data.resIdMaster}?light=true`).pipe(Object(s.a)(e=>Object(i.a)(this,void 0,void 0,(function*(){let n="";"outgoing"===e.categoryId?!this.functions.empty(e.recipients)&&e.recipients.length>0&&(e.recipients=e.recipients.filter(t=>"entity"!==t.type),yield this.getContacts(e.recipients),n=this.functions.empty(e.recipients)?"":[{id:this.resourceContacts[0].id,type:this.resourceContacts[0].type}]):!this.functions.empty(e.senders)&&e.senders.length>0&&(e.senders=e.senders.filter(t=>"entity"!==t.type),yield this.getContacts(e.senders),n=this.functions.empty(e.senders)?"":[{id:this.resourceContacts[0].id,type:this.resourceContacts[0].type}]),this.attachments.push({title:new u.h({value:e.subject,disabled:!1},[u.H.required]),recipient:new u.h({value:n,disabled:!1}),type:new u.h({value:"response_project",disabled:!1},[u.H.required]),validationDate:new u.h({value:"",disabled:!1}),format:new u.h({value:"",disabled:!1},[u.H.required]),encodedFile:new u.h({value:"",disabled:!1},[u.H.required])}),setTimeout(()=>{this.getAttachType("response_project",0)},800),this.attachFormGroup.push(new u.k(this.attachments[0])),"outgoing"===e.categoryId?!this.functions.empty(e.recipients)&&e.recipients.length>1&&this.toggleSendMass():!this.functions.empty(e.senders)&&e.senders.length>1&&this.toggleSendMass(),t(!0)}))),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}getContacts(t){return Object(i.a)(this,void 0,void 0,(function*(){this.resourceContacts=[],yield Promise.all(t.map(t=>Object(i.a)(this,void 0,void 0,(function*(){yield this.getContact(t.id,t.type)})))),this.resourceContacts=this.sortPipe.transform(this.resourceContacts,"label")}))}selectContact(t){this.loadingContact=!0;const e=JSON.parse(JSON.stringify(this.resourceContacts.filter(e=>e.id===t.id&&e.type===t.type)[0]));this.attachments[this.indexTab].recipient.setValue([e]),setTimeout(()=>{this.loadingContact=!1},0),this.selectedContact.reset()}getContact(t,e){return new Promise((n,i)=>{"contact"===e?this.http.get("../rest/contacts/"+t).pipe(Object(s.a)(t=>{this.resourceContacts.push({id:t.id,type:"contact",label:this.contactService.formatContact(t)}),n(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),n(!1),Object(l.a)(!1)))).subscribe():"user"===e?this.http.get("../rest/users/"+t).pipe(Object(s.a)(t=>{this.resourceContacts.push({id:t.id,type:"user",label:`${t.firstname} ${t.lastname}`}),n(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),n(!1),Object(l.a)(!1)))).subscribe():"entity"===e&&this.http.get("../rest/entities/"+t).pipe(Object(s.a)(t=>{this.resourceContacts.push({id:t.id,type:"entity",label:t.entity_label}),n(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),n(!1),Object(l.a)(!1)))).subscribe()})}selectAttachType(t,e){t.type=e.id}formatAttachments(){let t=[];return this.attachments.forEach((e,n)=>{t.push({resIdMaster:this.data.resIdMaster,type:e.type.value,title:e.title.value,recipientId:e.recipient.value.length>0?e.recipient.value[0].id:null,recipientType:e.recipient.value.length>0?e.recipient.value[0].type:null,validationDate:""!==e.validationDate.value?e.validationDate.value:null,encodedFile:e.encodedFile.value,format:e.format.value})}),t}onSubmit(t="default"){this.appDocumentViewer.toArray()[this.indexTab].getFile().pipe(Object(o.a)(),Object(s.a)(t=>{this.attachments[this.indexTab].encodedFile.setValue(t.content),this.attachments[this.indexTab].format.setValue(t.format)}),Object(s.a)(()=>Object(i.a)(this,void 0,void 0,(function*(){if(this.isValid()){let e=null;this.sendingData=!0;const n=this.formatAttachments();for(const t of n)e=yield this.saveAttachment(t);this.sendMassMode&&null!==e&&"mailing"===t&&(yield this.generateMailling(e)),this.sendingData=!1,this.notify.success(this.translate.instant("lang.attachmentAdded")),this.dialogRef.close("success")}else this.sendingData=!1,this.notify.error(this.translate.instant("lang.mustCompleteAllAttachments"))})))).subscribe()}saveAttachment(t){return t.status=this.sendMassMode?"SEND_MASS":"A_TRA",new Promise((e,n)=>{this.http.post("../rest/attachments",t).pipe(Object(s.a)(t=>{e(t.id)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}generateMailling(t){return new Promise((e,n)=>{this.http.post(`../rest/attachments/${t}/mailing`,{}).pipe(Object(s.a)(()=>{e(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}isValid(){let t=!0;return this.attachFormGroup.forEach(e=>{Object.keys(e.controls).forEach(t=>{e.controls[t].markAsTouched()}),console.log(e.controls),"INVALID"===e.status&&(t=!1)}),t}isPjValid(t){let e=!0;return"INVALID"===this.attachFormGroup[t].status&&(e=!1),e}isDocLoading(){let t=!1;return this.appDocumentViewer.toArray().forEach((e,n)=>{e.isEditingTemplate()&&(t=!0)}),t}canValidatePj(){let t=!1;return this.appDocumentViewer.toArray().forEach((e,n)=>{e.isEditingTemplate()&&e.editor.async&&(t=!0)}),t}setDatasViewer(t){let e={};Object.keys(this.attachments[t]).forEach(n=>{["title","validationDate","recipient"].indexOf(n)>-1&&("recipient"===n&&this.attachments[t][n].value.length>0?(e.recipientId=this.attachments[t][n].value[0].id,e.recipientType=this.attachments[t][n].value[0].type):e["attachment_"+n]=this.attachments[t][n].value)}),e.resId=this.data.resIdMaster,this.sendMassMode&&(e.inMailing=!0),this.appDocumentViewer.toArray()[t].setDatas(e)}newPj(){this.attachments.push({title:new u.h({value:"",disabled:!1},[u.H.required]),recipient:new u.h({value:this.functions.empty(this.resourceContacts[this.attachments.length])?null:[{id:this.resourceContacts[this.attachments.length].id,type:this.resourceContacts[this.attachments.length].type}],disabled:!1}),type:new u.h({value:"response_project",disabled:!1},[u.H.required]),validationDate:new u.h({value:null,disabled:!1}),encodedFile:new u.h({value:"",disabled:!1},[u.H.required]),format:new u.h({value:"",disabled:!1},[u.H.required])}),this.attachFormGroup.push(new u.k(this.attachments[this.attachments.length-1])),this.indexTab=this.attachments.length-1,setTimeout(()=>{this.getAttachType("response_project",this.indexTab)},800)}updateFile(t){this.functions.empty(this.attachments[this.asyncIndexTab].encodedFile.value)?(console.log("ca passe!"),this.appDocumentViewer.toArray()[this.asyncIndexTab].getFile().pipe(Object(r.a)(1),Object(s.a)(e=>{console.log(e),this.attachments[this.asyncIndexTab].encodedFile.setValue(e.content),this.attachments[this.asyncIndexTab].format.setValue(e.format),this.asyncIndexTab=t})).subscribe()):this.asyncIndexTab=t}removePj(t){this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete")+" : "+this.translate.instant("lang.attachmentShort")+" n\xb0"+(t+1),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(c.a)(t=>"ok"===t),Object(s.a)(()=>{this.indexTab=0,this.asyncIndexTab=this.indexTab,this.attachments.splice(t,1),this.attachFormGroup.splice(t,1)}),Object(a.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}getAttachType(t,e){this.appDocumentViewer.toArray()[e].loadTemplatesByResId(this.data.resIdMaster,t)}isEmptyField(t){return null===t.value||(Array.isArray(t.value)?!(t.value.length>0):""===String(t.value))}toggleSendMass(){this.sendMassMode?(this.sendMassMode=!this.sendMassMode,this.selectedContact.enable()):1===this.attachments.length?(this.sendMassMode=!this.sendMassMode,this.selectedContact.disable()):this.notify.error("Veuillez supprimer les <b>autres onglets PJ</b> avant de passer en <b>publipostage</b>.")}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(g.e),m.Tb(b.b),m.Tb(d.a),m.Tb(d.h),m.Tb(_.a),m.Tb(v.a),m.Tb(h.a),m.Tb(d.b),m.Tb(y.a),m.Tb(f.a))},t.\u0275cmp=m.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(m.ad(A,!0),m.ad(D,!0)),2&t&&(m.Cc(n=m.ic())&&(e.appDocumentViewer=n),m.Cc(n=m.ic())&&(e.contactAutocomplete=n))},inputs:{resId:"resId"},features:[m.Db([h.a,f.a])],decls:14,vars:10,consts:[[1,"attach-container"],["class","example-loading-shade",4,"ngIf"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click",4,"ngIf"],[1,"attach-content"],["class","loading",4,"ngIf"],["style","width: 100%;",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close",4,"ngIf"],[1,"example-loading-shade"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"loading"],[2,"margin","auto"],[2,"width","100%",3,"selectedIndex","selectedIndexChange"],["pjList",""],[3,"disabled",4,"ngFor","ngForOf"],["disabled","",1,"addPJ"],["mat-tab-label",""],[3,"disabled"],[2,"height","100%","overflow","auto"],["class","attachment-form col-md-3 col-sm-12",4,"ngIf"],[1,"documentContent","col-md-9","col-sm-12"],[2,"height","100%","width","100%","position","relative",3,"editMode","mode","triggerEvent"],["appDocumentViewer",""],[1,"fieldState","stateDoc"],["class","fas fa-exclamation-triangle fieldError",4,"ngIf"],["class","fa fa-check",4,"ngIf"],["mat-icon-button","","color","warn",3,"disabled","title","click",4,"ngIf"],[1,"fa","fa-check"],["mat-icon-button","","color","warn",3,"disabled","title","click"],[1,"fa","fa-minus"],[1,"attachment-form","col-md-3","col-sm-12"],[1,"attachment-form-item"],[2,"width","100%",3,"label","placeholderLabel","formControlSelect","datas","afterSelected"],[1,"fieldState"],["class","fas fa-asterisk fieldRequired",4,"ngIf"],["class","fas fa-check fieldFull",4,"ngIf"],[1,"input-form"],["matInput","",3,"placeholder","formControl"],["class","attachment-form-item",4,"ngIf"],["class","attachment-form-item","style","display: block;",4,"ngIf"],[1,"input-form","input-date",2,"cursor","pointer",3,"click"],["matInput","","readonly","",2,"cursor","pointer",3,"formControl","matDatepicker","placeholder","min"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["class","fas fa-asterisk noMandatory",4,"ngIf"],[1,"fas","fa-asterisk","fieldRequired"],[1,"fas","fa-exclamation-triangle","fieldError"],[1,"fas","fa-check","fieldFull"],[2,"width","100%",3,"label","placeholderLabel","datas","returnValue","formControlSelect","afterSelected"],["mat-icon-button","","color","primary",3,"title","click"],[1,"fas","fa-mail-bulk"],[1,"fas","fa-asterisk","noMandatory"],[1,"attachment-form-item",2,"display","block"],["role","alert",1,"alert","alert-info",3,"innerHTML"],["style","width:100%;",3,"control","singleMode","retrieveDocumentEvent",4,"ngIf"],[2,"width","100%",3,"control","singleMode","retrieveDocumentEvent"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],["mat-icon-button","",3,"disabled","title","click"],[1,"fa","fa-plus"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(m.Zb(0,"div",0),m.Qc(1,R,2,0,"div",1),m.Zb(2,"h1",2),m.Zb(3,"span",3),m.Sc(4),m.mc(5,"translate"),m.Yb(),m.Qc(6,L,2,1,"button",4),m.Yb(),m.Zb(7,"mat-dialog-content",5),m.Qc(8,F,2,0,"div",6),m.Qc(9,st,5,2,"mat-tab-group",7),m.Yb(),m.Zb(10,"div",8),m.Qc(11,at,3,4,"button",9),m.Qc(12,ot,3,4,"button",9),m.Qc(13,rt,3,4,"button",10),m.Yb(),m.Yb()),2&t&&(m.Eb(1),m.sc("ngIf",e.sendingData),m.Eb(3),m.Uc(" ",m.nc(5,8,"lang.attachmentCreation")," "),m.Eb(2),m.sc("ngIf",!e.loading),m.Eb(2),m.sc("ngIf",e.loading),m.Eb(1),m.sc("ngIf",!e.loading),m.Eb(2),m.sc("ngIf",e.creationMode&&!e.loading),m.Eb(1),m.sc("ngIf",e.sendMassMode&&!e.loading),m.Eb(1),m.sc("ngIf",e.creationMode&&!e.loading))},directives:[x.t,d.i,d.f,d.c,w.c,C.b,O.a,k.c,x.s,k.a,k.d,S.a,E.a,M.c,I.b,u.c,u.t,u.i,M.g,P.f,P.d,T.a,P.h,M.j,d.d],pipes:[g.d],styles:[".loading[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.attach-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:100%}.attach-container[_ngcontent-%COMP%]    .mat-tab-body-content, .attach-container[_ngcontent-%COMP%]    .mat-tab-body-wrapper{height:100%!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0!important;display:flex;align-items:center}.attach-content[_ngcontent-%COMP%]{margin:0;padding:0!important;height:100%;display:flex;overflow:auto}.attach-content[_ngcontent-%COMP%]    .mat-tab-label:last-child{min-width:50px;padding:0;opacity:1;color:#135f7f}.attachment-form[_ngcontent-%COMP%]{padding:10px;overflow:auto;position:-webkit-sticky;position:sticky;top:0}.attachment-form-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label-wrapper{margin-top:-7px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label{background:#fff;width:auto!important;padding-top:5px;padding-left:5px;padding-right:5px}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.77);z-index:2}.actions[_ngcontent-%COMP%]{margin:0}.complete[_ngcontent-%COMP%]{color:green;font-weight:700}.fieldState[_ngcontent-%COMP%]{padding-top:0!important}.stateDoc[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.documentContent[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:center;text-align:center;background:#135f7f;overflow:auto;color:#fff;height:100%}.active[_ngcontent-%COMP%]{color:#f99830}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},VKeD:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}e.getSymbolIterator=i,e.iterator=i(),e.$$iterator=e.iterator},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC"),s=n("z+Ro"),a=n("bHdf"),o=n("yCtX");function r(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Object(s.a)(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(a.a)(e)(Object(o.a)(t,n))}},VdM8:function(t,e,n){"use strict";n.d(e,"a",(function(){return ht}));var i=n("fXoL"),s=n("XNiG"),a=n("VRyK"),o=n("LRne"),r=n("M9IT"),c=n("1G5W"),l=n("JX91"),d=n("eIep"),h=n("lJxs"),u=n("JIr8"),p=n("vkgz"),f=n("nYR2"),m=n("3Pt+"),g=n("sYmb"),b=n("tk/3"),_=n("AXEc"),v=n("4zkx"),y=n("0IaG"),x=n("rH+9"),w=n("aEDk"),C=n("eiH7"),O=n("ofXK"),k=n("kmnG"),S=n("qFsG"),E=n("/1cH"),M=n("+0xr"),I=n("Dh3D"),P=n("Xa2L"),T=n("FKr1"),A=n("bTqV"),D=n("NFeN"),R=n("1YbM"),L=n("8IW6"),F=n("ZI/H");const j=["tableHistoryListSort"],Y=["autoCompleteInput"];function Z(t,e){1&t&&i.Ub(0,"mat-spinner")}function N(t,e){if(1&t&&(i.Zb(0,"div",32),i.Qc(1,Z,1,0,"mat-spinner",9),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function U(t,e){1&t&&(i.Zb(0,"mat-option",33),i.Zb(1,"div",34),i.Ub(2,"mat-spinner",35),i.Yb(),i.Yb())}function B(t,e){if(1&t&&(i.Zb(0,"mat-option",39),i.Sc(1),i.Yb()),2&t){const t=e.$implicit,n=i.lc(2).$implicit,s=i.lc(2);i.Pc("color",t.used?"":s.filterColor[n.key]),i.sc("id",n.key)("value",t)("disabled",t.used),i.Eb(1),i.Uc(" ",t.label," ")}}function z(t,e){if(1&t&&(i.Zb(0,"mat-optgroup",37),i.Qc(1,B,2,6,"mat-option",38),i.mc(2,"sortBy"),i.mc(3,"async"),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.sc("label",e.translate.instant("lang."+t.key)),i.Eb(1),i.sc("ngForOf",i.oc(2,2,i.nc(3,5,e.filteredList[t.key]),"label"))}}function V(t,e){if(1&t&&(i.Xb(0),i.Qc(1,z,4,7,"mat-optgroup",36),i.mc(2,"async"),i.Wb()),2&t){const t=e.$implicit,s=i.lc(2);var n;const a=(null==(n=i.nc(2,1,s.filteredList[t.key]))?null:n.length)>0;i.Eb(1),i.sc("ngIf",a)}}function H(t,e){if(1&t&&(i.Xb(0),i.Qc(1,V,3,3,"ng-container",15),i.mc(2,"keyvalue"),i.Wb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngForOf",i.nc(2,1,t.filterList))}}function Q(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",40),i.hc("click",(function(){return i.Hc(t),i.lc().switchHistoryMode()})),i.Ub(1,"mat-icon",41),i.Yb()}if(2&t){const t=i.lc();i.sc("title",t.translate.instant(t.fullHistoryMode?"lang.viewActionsHistory":"lang.viewAllHistory")),i.Eb(1),i.Jb("fa-exchange-alt",t.fullHistoryMode)("fa-history",!t.fullHistoryMode)}}function $(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",43),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=e.index,a=i.lc(2).$implicit;return i.lc().removeItemFilter(n,a.key,s)})),i.Sc(1),i.Ub(2,"i",44),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2).$implicit,s=i.lc();i.Pc("background",s.filterColor[n.key],i.Mb),i.sc("title",s.translate.instant("lang."+n.key)),i.Eb(1),i.Uc("",t.label," ")}}function W(t,e){if(1&t&&(i.Xb(0),i.Qc(1,$,3,4,"span",42),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngForOf",e.filterUsed[t.key])}}const G=function(){return["startDate","endDate"]};function q(t,e){if(1&t&&(i.Xb(0),i.Qc(1,W,2,1,"ng-container",9),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",-1===i.yc(1,G).indexOf(t.key))}}function X(t,e){1&t&&(i.Zb(0,"mat-header-cell",45),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.event")))}function J(t,e){if(1&t&&(i.Zb(0,"div",48),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.userLabel," ")}}function K(t,e){if(1&t&&(i.Zb(0,"mat-cell",46),i.mc(1,"fullDate"),i.Qc(2,J,2,1,"div",47),i.Zb(3,"div"),i.Sc(4),i.mc(5,"ucfirst"),i.mc(6,"timeAgo"),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc();i.Jb("smallText",null!==n.resId),i.sc("title",i.nc(1,5,t.event_date)),i.Eb(2),i.sc("ngIf",null!==n.resId),i.Eb(2),i.Uc(" ",i.nc(5,7,i.oc(6,9,t.event_date,"full"))," ")}}function tt(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.technicalId")))}function et(t,e){if(1&t&&(i.Zb(0,"mat-cell",49),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.record_id," ")}}function nt(t,e){1&t&&(i.Zb(0,"mat-header-cell",45),i.Sc(1),i.mc(2,"ucfirst"),i.mc(3,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,i.nc(3,3,"lang.user"))))}function it(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.userLabel," ")}}function st(t,e){1&t&&(i.Zb(0,"mat-header-cell",50),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("",i.nc(2,1,"lang.information")," "))}function at(t,e){if(1&t&&(i.Zb(0,"mat-cell",51),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.info," ")}}function ot(t,e){1&t&&(i.Zb(0,"mat-header-cell",45),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("",i.nc(2,1,"lang.ip")," "))}function rt(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.remote_ip," ")}}function ct(t,e){1&t&&i.Ub(0,"mat-header-row")}function lt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ct,1,0,"mat-header-row",52),i.Wb()),2&t){const t=i.lc();i.Eb(1),i.sc("matHeaderRowDef",t.displayedColumnsHistory)}}function dt(t,e){1&t&&i.Ub(0,"mat-row")}let ht=(()=>{class t{constructor(t,e,n,a,o,r,c,l){this.translate=t,this.http=e,this.notify=n,this.headerService=a,this.dialog=o,this.functions=r,this.latinisePipe=c,this.privilegeService=l,this.loading=!1,this.fullHistoryMode=!0,this.filtersChange=new i.o,this.displayedColumnsHistory=["event_date","userLabel","info","remote_ip"],this.isLoadingResults=!0,this.routeUrl="../rest/history",this.filterListUrl="../rest/history/availableFilters",this.extraParamUrl="",this.resultsLength=0,this.searchHistory=new m.h,this.startDateFilter="",this.endDateFilter="",this.filterUrl="",this.filterList=null,this.filteredList={},this.filterUsed={},this.filterColor={startDate:"#b5cfd8",endDate:"#7393a7",actions:"#7d5ba6",systemActions:"#7d5ba6",users:"#009dc5"},this.loadingFilters=!0,this.resId=null,this.destroy$=new s.a}ngOnInit(){null!==this.resId?(this.displayedColumnsHistory=["event_date","info"],this.fullHistoryMode=!this.privilegeService.hasCurrentUserPrivilege("view_doc_history")):this.displayedColumnsHistory=["event_date","record_id","userLabel","info","remote_ip"],this.loading=!0,this.initHistoryMode(),this.initHistoryList()}switchHistoryMode(){this.fullHistoryMode=!this.fullHistoryMode,this.initHistoryMode(),this.refreshDao()}resetFilter(){this.loadingFilters=!0,this.filterList=null,this.filterUsed={},this.filterUrl=""}initHistoryMode(){this.resetFilter(),this.fullHistoryMode?(this.extraParamUrl=null!==this.resId?"&resId="+this.resId:"",this.filterListUrl=null!==this.resId?"../rest/history/availableFilters?resId="+this.resId:"../rest/history/availableFilters"):(this.extraParamUrl=null!==this.resId?`&resId=${this.resId}&onlyActions=true`:"&onlyActions=true",this.filterListUrl=null!==this.resId?`../rest/history/availableFilters?resId=${this.resId}&onlyActions=true`:"../rest/history/availableFilters?onlyActions=true")}initHistoryList(){this.resultListDatabase=new ut(this.http),this.paginator.pageIndex=0,this.sort.active="event_date",this.sort.direction="desc",this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(a.a)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(c.a)(this.destroy$),Object(l.a)({}),Object(d.a)(()=>(this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.routeUrl,this.filterUrl,this.extraParamUrl))),Object(h.a)(t=>(this.isLoadingResults=!1,t=this.processPostData(t),this.resultsLength=t.count,t.history)),Object(u.a)(t=>(this.notify.handleErrors(t),this.isLoadingResults=!1,Object(o.a)([])))).subscribe(t=>this.data=t)}processPostData(t){return t.history=t.history.map(t=>Object.assign(Object.assign({},t),{userLabel:this.functions.empty(t.userLabel)?this.translate.instant("lang.userDeleted"):t.userLabel})),t}refreshDao(){this.paginator.pageIndex=0,this.filtersChange.emit()}initFilterListHistory(){null===this.filterList&&(this.filterList={},this.filterUsed={},this.filterUrl="",this.loadingFilters=!0,this.http.get(this.filterListUrl).pipe(Object(h.a)(t=>{let e=t.actions.filter(t=>null===t.label).map(t=>t.id),n=t.users.filter(t=>null===t.label).map(t=>t.login);return t.actions=t.actions.filter(t=>null!==t.label),e.length>0&&t.actions.push({id:e,label:this.translate.instant("lang.actionDeleted")}),t.users=t.users.filter(t=>null!==t.label),n.length>0&&t.users.push({id:n,label:this.translate.instant("lang.userDeleted")}),t.systemActions=t.systemActions.map(t=>({id:t.id,label:this.functions.empty(this.translate.instant("lang."+t.id))?t.id:this.translate.instant("lang."+t.id)})),t}),Object(p.a)(t=>{Object.keys(t).forEach(e=>{this.functions.empty(this.filterList[e])&&(this.filterList[e]=[],this.filteredList[e]=[]),t[e].forEach(t=>{this.filterList[e].push(t)}),this.filteredList[e]=this.searchHistory.valueChanges.pipe(Object(l.a)(""),Object(h.a)(t=>t?this.filter(t,e):this.filterList[e].slice()))})}),Object(f.a)(()=>this.loadingFilters=!1),Object(u.a)(t=>(this.notify.handleSoftErrors(t),Object(o.a)(!1)))).subscribe())}filterStartDate(){this.functions.empty(this.filterUsed.startDate)&&(this.filterUsed.startDate=[]),this.filterUsed.startDate[0]={id:this.functions.empty(this.startDateFilter)?"":this.functions.formatDateObjectToDateString(this.startDateFilter),label:this.functions.empty(this.startDateFilter)?"":this.functions.formatDateObjectToDateString(this.startDateFilter)},this.generateUrlFilter(),this.refreshDao()}filterEndDate(){this.functions.empty(this.filterUsed.endDate)&&(this.filterUsed.endDate=[]),this.filterUsed.endDate[0]={id:this.functions.empty(this.endDateFilter)?"":this.functions.formatDateObjectToDateString(this.endDateFilter,!0),label:this.functions.empty(this.endDateFilter)?"":this.functions.formatDateObjectToDateString(this.endDateFilter)},this.generateUrlFilter(),this.refreshDao()}addItemFilter(t){t.value.used=!0,this.functions.empty(this.filterUsed[t.id])&&(this.filterUsed[t.id]=[]),this.filterUsed[t.id].push(t.value),this.generateUrlFilter(),this.searchHistory.reset(),this.autoCompleteInput.nativeElement.blur(),this.refreshDao()}removeItemFilter(t,e,n){t.used=!1,this.filterUsed[e].splice(n,1),this.generateUrlFilter(),this.refreshDao()}generateUrlFilter(){this.filterUrl="";let t=[];Object.keys(this.filterUsed).forEach(e=>{this.filterUsed[e].forEach(n=>{this.functions.empty(n.id)||(["startDate","endDate"].indexOf(e)>-1?t.push(`${e}=${n.id}`):t.push(`${e}[]=${n.id}`))})}),t.length>0&&(this.filterUrl="&"+t.join("&"))}filter(t,e){if("string"==typeof t){const n=this.latinisePipe.transform(t.toLowerCase());return this.filterList[e].filter(t=>this.latinisePipe.transform(t.label.toLowerCase()).includes(n))}return this.filterList[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(g.e),i.Tb(b.b),i.Tb(_.a),i.Tb(v.a),i.Tb(y.b),i.Tb(x.a),i.Tb(w.c),i.Tb(C.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-history-list"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(r.a,!0),i.Oc(j,!0),i.Oc(Y,!0)),2&t&&(i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.autoCompleteInput=n.first))},inputs:{resId:"resId"},decls:40,vars:22,consts:[["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["floatLabel","never",2,"font-size","13px"],["type","text","matInput","","maxlength","128",3,"matAutocomplete","placeholder","formControl","click"],["autoCompleteInput",""],[3,"optionSelected","opened"],["auto","matAutocomplete"],["disabled","",4,"ngIf"],[4,"ngIf"],["color","primary","mat-icon-button","",3,"title","click",4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","hidePageSize","pageSize"],["paginatorHistoryList",""],[1,"filterBadges"],[4,"ngFor","ngForOf"],["id","history-list","matSort","","matSortActive","event_date","matSortDirection","desc",2,"width","100%",3,"dataSource"],["tableHistoryListSort","matSort"],["matColumnDef","event_date"],["mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"title","smallText",4,"matCellDef"],["matColumnDef","record_id"],[4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userLabel"],[4,"matCellDef"],["matColumnDef","info"],["mat-sort-header","","style","flex: 2;",4,"matHeaderCellDef"],["style","flex: 2;",4,"matCellDef"],["matColumnDef","remote_ip"],[4,"matRowDef","matRowDefColumns"],[1,"mat-paginator",2,"min-height","48px","min-height","48px","display","flex","justify-content","end","align-items","center","padding-right","20px"],[1,"example-loading-shade"],["disabled",""],[2,"display","flex","justify-content","center"],["diameter","35"],["class","filterList",3,"label",4,"ngIf"],[1,"filterList",3,"label"],[3,"id","color","value","disabled",4,"ngFor","ngForOf"],[3,"id","value","disabled"],["color","primary","mat-icon-button","",3,"title","click"],[1,"fas"],["class","label",3,"background","title","click",4,"ngFor","ngForOf"],[1,"label",3,"title","click"],[1,"fa","fa-times-circle"],["mat-sort-header",""],["mat-cell","",3,"title"],["style","font-size: 10px;",4,"ngIf"],[2,"font-size","10px"],["mat-cell",""],["mat-sort-header","",2,"flex","2"],[2,"flex","2"],[4,"matHeaderRowDef"]],template:function(t,e){if(1&t&&(i.Qc(0,N,2,1,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"mat-form-field",3),i.Zb(4,"input",4,5),i.hc("click",(function(t){return t.stopPropagation()})),i.Yb(),i.Zb(6,"mat-autocomplete",6,7),i.hc("optionSelected",(function(t){return e.addItemFilter(t.option)}))("opened",(function(){return e.initFilterListHistory()})),i.Qc(8,U,3,0,"mat-option",8),i.Qc(9,H,3,3,"ng-container",9),i.Yb(),i.Yb(),i.Yb(),i.Qc(10,Q,2,5,"button",10),i.Zb(11,"div",11),i.Ub(12,"mat-paginator",12,13),i.Yb(),i.Yb(),i.Zb(14,"div"),i.Zb(15,"div",14),i.Qc(16,q,2,2,"ng-container",15),i.mc(17,"keyvalue"),i.Yb(),i.Zb(18,"mat-table",16,17),i.Xb(20,18),i.Qc(21,X,3,3,"mat-header-cell",19),i.Qc(22,K,7,12,"mat-cell",20),i.Wb(),i.Xb(23,21),i.Qc(24,tt,3,3,"mat-header-cell",22),i.Qc(25,et,2,1,"mat-cell",23),i.Wb(),i.Xb(26,24),i.Qc(27,nt,4,5,"mat-header-cell",19),i.Qc(28,it,2,1,"mat-cell",25),i.Wb(),i.Xb(29,26),i.Qc(30,st,3,3,"mat-header-cell",27),i.Qc(31,at,2,1,"mat-cell",28),i.Wb(),i.Xb(32,29),i.Qc(33,ot,3,3,"mat-header-cell",19),i.Qc(34,rt,2,1,"mat-cell",25),i.Wb(),i.Qc(35,lt,2,1,"ng-container",9),i.Qc(36,dt,1,0,"mat-row",30),i.Yb(),i.Zb(37,"div",31),i.Sc(38),i.mc(39,"translate"),i.Yb(),i.Yb()),2&t){const t=i.Dc(7);i.sc("ngIf",e.isLoadingResults),i.Eb(4),i.sc("matAutocomplete",t)("placeholder",e.translate.instant("lang.filterBy"))("formControl",e.searchHistory),i.Eb(4),i.sc("ngIf",e.loadingFilters),i.Eb(1),i.sc("ngIf",null!==e.filterList&&!e.loadingFilters),i.Eb(1),i.sc("ngIf",e.privilegeService.hasCurrentUserPrivilege("view_full_history")&&e.privilegeService.hasCurrentUserPrivilege("view_doc_history")),i.Eb(2),i.sc("length",e.resultsLength)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.Jb("table-admin",null===e.resId),i.Eb(2),i.sc("ngForOf",i.nc(17,18,e.filterUsed)),i.Eb(2),i.sc("dataSource",e.data),i.Eb(17),i.sc("ngIf",null===e.resId),i.Eb(1),i.sc("matRowDefColumns",e.displayedColumnsHistory),i.Eb(2),i.Vc(" ",e.resultsLength," ",i.nc(39,20,"lang.elements"),"")}},directives:[O.t,k.c,S.b,E.d,m.c,m.o,m.t,m.i,E.a,r.a,O.s,M.n,I.a,M.c,M.i,M.b,M.m,P.c,T.o,T.n,A.b,D.a,M.h,I.b,M.a,M.k,M.j,M.l],pipes:[O.l,g.d,O.b,R.a,L.a,w.u,F.a],styles:[".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.paginatorResultList[_ngcontent-%COMP%]    .mat-paginator-range-label{justify-content:flex-end;display:flex}.filterList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.label[_ngcontent-%COMP%]{cursor:pointer;margin:5px}.bg-head-content[_ngcontent-%COMP%]     .mat-focused .mat-form-field-label{color:#fff!important}.bg-head-content[_ngcontent-%COMP%]    .mat-form-field-ripple, .bg-head-content[_ngcontent-%COMP%]    .mat-form-field-underline{background-color:#fff!important}.bg-head-content[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%], .bg-head-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.table-admin[_ngcontent-%COMP%]{height:90%;overflow:auto;position:absolute;width:100%}.smallText[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center;font-size:10px;opacity:.5;width:150px;flex:initial}"]}),t})();class ut{constructor(t){this.http=t}getRepoIssues(t,e,n,i,s,a){return this.http.get(`${i}?limit=10&offset=${10*n}&order=${e}&orderBy=${t}${s}${a}`)}}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("EY2u"),s=n("LRne"),a=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},WUgQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n("fXoL"),s=n("vkgz"),a=n("nYR2"),o=n("JIr8"),r=n("pLZG"),c=n("XqQ8"),l=n("LRne"),d=n("2c88"),h=n("sYmb"),u=n("tk/3"),p=n("AXEc"),f=n("4zkx"),m=n("0IaG"),g=n("rH+9"),b=n("ofXK"),_=n("Xa2L"),v=n("dUgt"),y=n("Wp6s"),x=n("bTqV"),w=n("kmnG"),C=n("NFeN"),O=n("8IW6"),k=n("ZI/H");function S(t,e){1&t&&(i.Zb(0,"div",2),i.Ub(1,"mat-spinner",3),i.Yb())}function E(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-note-editor",7,8),i.hc("refreshNotes",(function(e){return i.Hc(t),i.lc(2).loadNotes(e)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("addMode",!0)("resIds",t.resIds)("defaultRestriction",!0)}}function M(t,e){1&t&&(i.Zb(0,"div",9),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noNote")," "))}function I(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-card-subtitle",16),i.Zb(1,"button",17),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).editNote(e)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",18),i.Yb(),i.Zb(4,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).removeNote(e)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",20),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.tc("title",i.nc(2,2,"lang.editNote")),i.Eb(3),i.tc("title",i.nc(5,4,"lang.removeNote")))}function P(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-note-editor",21,8),i.hc("refreshNotes",(function(e){return i.Hc(t),i.lc(3).loadNotes(e)})),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(2);i.sc("resIds",e.resIds)("upMode",!0)("noteId",t.id)("entitiesNoteRestriction",e.getRestrictionEntitiesId(t.entities_restriction))("noteContent",t.value)}}function T(t,e){if(1&t&&(i.Zb(0,"span",26),i.mc(1,"translate"),i.Ub(2,"i",27),i.Sc(3),i.Yb()),2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.restrictedEntity")),i.Eb(3),i.Uc(" ",t.short_label,"")}}function A(t,e){if(1&t&&(i.Zb(0,"div",24),i.Qc(1,T,4,4,"span",25),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.sc("ngForOf",t.entities_restriction)}}function D(t,e){if(1&t&&(i.Zb(0,"mat-card-content"),i.Zb(1,"p",22),i.Sc(2),i.Yb(),i.Qc(3,A,2,1,"div",23),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.Eb(2),i.Uc(" ",t.value," "),i.Eb(1),i.sc("ngIf",!e.functions.empty(t.entities_restriction))}}const R=function(t){return{"background-color":t}};function L(t,e){if(1&t&&(i.Zb(0,"mat-card",10),i.Zb(1,"mat-card-header"),i.Zb(2,"div",11),i.Ub(3,"i",12),i.Yb(),i.Zb(4,"mat-card-title"),i.Sc(5),i.Yb(),i.Zb(6,"mat-card-subtitle"),i.Sc(7),i.Yb(),i.Zb(8,"mat-card-subtitle",13),i.mc(9,"fullDate"),i.Sc(10),i.mc(11,"timeAgo"),i.Yb(),i.Qc(12,I,7,6,"mat-card-subtitle",14),i.Yb(),i.Qc(13,P,2,5,"app-note-editor",15),i.Qc(14,D,4,2,"mat-card-content",1),i.Yb()),2&t){const t=e.$implicit,n=i.lc(2);i.sc("ngStyle",i.zc(13,R,t.entities_restriction?"#FFEDCC":"white")),i.Eb(5),i.Vc("",t.firstname," ",t.lastname,""),i.Eb(2),i.Tc(t.entity_label),i.Eb(1),i.tc("title",i.nc(9,9,t.creation_date)),i.Eb(2),i.Tc(i.nc(11,11,t.creation_date)),i.Eb(2),i.sc("ngIf",t.user_id==n.headerService.user.id),i.Eb(1),i.sc("ngIf",t.edit),i.Eb(1),i.sc("ngIf",!t.edit)}}function F(t,e){if(1&t&&(i.Xb(0),i.Qc(1,E,2,3,"app-note-editor",4),i.Qc(2,M,3,3,"div",5),i.Qc(3,L,15,15,"mat-card",6),i.Wb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.editMode),i.Eb(1),i.sc("ngIf",0==t.notes.length),i.Eb(1),i.sc("ngForOf",t.notes)}}let j=(()=>{class t{constructor(t,e,n,s,a,o){this.translate=t,this.http=e,this.notify=n,this.headerService=s,this.dialog=a,this.functions=o,this.notes=[],this.loading=!0,this.resIds=[],this.resId=null,this.editMode=!1,this.reloadBadgeNotes=new i.o}ngOnInit(){null!==this.resId&&this.http.get(`../rest/resources/${this.resId}/notes`).pipe(Object(s.a)(t=>{this.resIds[0]=this.resId,this.notes=t.notes}),Object(a.a)(()=>this.loading=!1),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}loadNotes(t){this.resIds[0]=t,this.loading=!0,this.http.get("../rest/resources/"+this.resIds[0]+"/notes").subscribe(t=>{this.notes=t.notes,this.reloadBadgeNotes.emit(""+this.notes.length),this.loading=!1})}getRestrictionEntitiesId(t){return this.functions.empty(t)?[]:t.map(t=>t.item_id[0])}removeNote(t){this.dialogRef=this.dialog.open(d.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!1,data:{title:this.translate.instant("lang.confirmRemoveNote"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(r.a)(t=>"ok"===t),Object(c.a)(()=>this.http.request("DELETE","../rest/notes/"+t.id)),Object(s.a)(()=>{var e=this.notes.findIndex(e=>e.id==t.id);e>-1&&this.notes.splice(e,1),this.notify.success(this.translate.instant("lang.noteRemoved")),this.reloadBadgeNotes.emit(""+this.notes.length)})).subscribe()}editNote(t){t.edit=!t.edit}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(h.e),i.Tb(u.b),i.Tb(p.a),i.Tb(f.a),i.Tb(m.b),i.Tb(g.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-notes-list"]],inputs:{injectDatas:"injectDatas",resId:"resId",editMode:"editMode"},outputs:{reloadBadgeNotes:"reloadBadgeNotes"},decls:2,vars:2,consts:[["style","display:flex;height:100%;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["style","margin: 20px;display: flex;flex-direction: column;",3,"addMode","resIds","defaultRestriction","refreshNotes",4,"ngIf"],["style","text-align:center;font-size:24px;font-weight:bold;opacity:0.3;",4,"ngIf"],["style","margin-top: 10px;",3,"ngStyle",4,"ngFor","ngForOf"],[2,"margin","20px","display","flex","flex-direction","column",3,"addMode","resIds","defaultRestriction","refreshNotes"],["noteEditor",""],[2,"text-align","center","font-size","24px","font-weight","bold","opacity","0.3"],[2,"margin-top","10px",3,"ngStyle"],["mat-card-avatar",""],["color","primary",1,"fa","fa-user"],[1,"dateNote",3,"title"],["class","removeNote",4,"ngIf"],["style","margin: 20px;display: flex;flex-direction: column;",3,"resIds","upMode","noteId","entitiesNoteRestriction","noteContent","refreshNotes",4,"ngIf"],[1,"removeNote"],["matSuffix","","mat-icon-button","",1,"editNote",3,"title","click"],["fontSet","fas","fontIcon","fa-pencil-alt fa-2x"],["matSuffix","","mat-icon-button","",2,"color","red",3,"title","click"],["fontSet","far","fontIcon","fa-trash-alt fa-2x"],[2,"margin","20px","display","flex","flex-direction","column",3,"resIds","upMode","noteId","entitiesNoteRestriction","noteContent","refreshNotes"],[1,"noteTextContent"],["style","overflow: auto;max-height: 75px;",4,"ngIf"],[2,"overflow","auto","max-height","75px"],["class","label label-default noteRestriction",3,"title",4,"ngFor","ngForOf"],[1,"label","label-default","noteRestriction",3,"title"],[1,"fa","fa-sitemap"]],template:function(t,e){1&t&&(i.Qc(0,S,2,0,"div",0),i.Qc(1,F,4,3,"ng-container",1)),2&t&&(i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[b.t,_.c,b.s,v.a,y.a,b.w,y.f,y.c,y.m,y.l,x.b,w.j,C.a,y.d],pipes:[h.d,O.a,k.a],styles:[".mat-card[_ngcontent-%COMP%]{margin:20px;padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12)}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px}.mat-card-avatar[_ngcontent-%COMP%]{height:auto;width:auto;border-radius:0;display:flex;text-align:center}.mat-card-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex:1;font-size:25px;margin:auto}.mat-card-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin:0}.mat-card-subtitle[_ngcontent-%COMP%]{margin:0;padding-top:5px}.dateNote[_ngcontent-%COMP%]{position:absolute;right:10px;top:13px;font-size:12px;margin:0;color:#135f7f}.removeNote[_ngcontent-%COMP%]{position:absolute;top:22px;right:0}.editNote[_ngcontent-%COMP%]{margin-right:-10px;color:#135f7f}.noteTextContent[_ngcontent-%COMP%]{white-space:pre-line;padding:30px}.noteRestriction[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);white-space:normal;display:inline-block;margin:5px!important}"]}),t})()},Wp6s:function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return y})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return S})),n.d(e,"k",(function(){return _})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return k})),n.d(e,"o",(function(){return x}));var i=n("R1ws"),s=n("FKr1"),a=n("fXoL");const o=["*",[["mat-card-footer"]]],r=["*","mat-card-footer"],c=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],l=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],d=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],h=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),m=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&a.Jb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-card-md-image"]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-card-lg-image"]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-card-xl-image",""],["","matCardImageXLarge",""]],hostAttrs:[1,"mat-card-xl-image"]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),C=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(i.a,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&a.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:r,decls:2,vars:0,template:function(t,e){1&t&&(a.rc(o),a.qc(0),a.qc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(a.rc(c),a.qc(0),a.Zb(1,"div",0),a.qc(2,1),a.Yb(),a.qc(3,2))},encapsulation:2,changeDetection:0}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:h,decls:4,vars:0,template:function(t,e){1&t&&(a.rc(d),a.Zb(0,"div"),a.qc(1),a.Yb(),a.qc(2,1),a.qc(3,2))},encapsulation:2,changeDetection:0}),t})(),S=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[s.j],s.j]}),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var i=n("HDdC"),s=n("7o/Q"),a=n("quSY"),o=n("9ppp"),r=n("Ylt2"),c=n("2QA8");class l extends s.a{constructor(t){super(t),this.destination=t}}let d=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let s=0;s<n;s++)i[s].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let s=0;s<n;s++)i[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new r.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends d{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):a.a.EMPTY}}},Xa2L:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b}));var i=n("fXoL"),s=n("ofXK"),a=n("FKr1"),o=n("8LU1"),r=n("nLfN"),c=n("R1ws");function l(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){const t=i.lc();i.Pc("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),i.Fb("r",t._circleRadius)}}function d(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){const t=i.lc();i.Pc("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),i.Fb("r",t._circleRadius)}}function h(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){const t=i.lc();i.Pc("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),i.Fb("r",t._circleRadius)}}function u(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){const t=i.lc();i.Pc("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),i.Fb("r",t._circleRadius)}}class p{constructor(t){this._elementRef=t}}const f=Object(a.z)(p,"primary"),m=new i.r("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let g=(()=>{class t extends f{constructor(e,n,i,s,a){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===s&&!!a&&!a._forceAnimations,a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Object(o.f)(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Object(o.f)(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Object(o.f)(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Object(r.c)(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-10)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let s=i.get(e);if(!s||!s.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),s||(s=new Set,i.set(e,s)),s.add(n)}}_getAnimationText(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(r.a),i.Tb(s.e,8),i.Tb(c.a,8),i.Tb(m))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(i.Fb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.Jb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[i.Bb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Qc(1,l,1,9,"circle",1),i.Qc(2,d,1,7,"circle",2),i.Yb()),2&t&&(i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.sc("ngSwitch","indeterminate"===e.mode),i.Fb("viewBox",e._viewBox),i.Eb(1),i.sc("ngSwitchCase",!0),i.Eb(1),i.sc("ngSwitchCase",!1))},directives:[s.x,s.y],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),b=(()=>{class t extends g{constructor(t,e,n,i,s){super(t,e,n,i,s),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(r.a),i.Tb(s.e,8),i.Tb(c.a,8),i.Tb(m))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.Jb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[i.Bb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Qc(1,h,1,9,"circle",1),i.Qc(2,u,1,7,"circle",2),i.Yb()),2&t&&(i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.sc("ngSwitch","indeterminate"===e.mode),i.Fb("viewBox",e._viewBox),i.Eb(1),i.sc("ngSwitchCase",!0),i.Eb(1),i.sc("ngSwitchCase",!1))},directives:[s.x,s.y],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t})(),_=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.j,s.c],a.j]}),t})()},XhcP:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return Z})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return U})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return N})),n.d(e,"g",(function(){return H}));var i=n("nLfN"),s=n("vxfF"),a=n("ofXK"),o=n("fXoL"),r=n("FKr1"),c=n("8LU1"),l=n("FtGj"),d=n("XNiG"),h=n("xgIS"),u=n("VRyK"),p=n("pLZG"),f=n("1G5W"),m=n("/uUt"),g=n("lJxs"),b=n("IzEk"),_=n("JX91"),v=n("Kj3r"),y=n("R0Ic"),x=n("R1ws"),w=n("u47x"),C=n("cH1L");const O=["*"];function k(t,e){if(1&t){const t=o.ac();o.Zb(0,"div",2),o.hc("click",(function(){return o.Hc(t),o.lc()._onBackdropClicked()})),o.Yb()}if(2&t){const t=o.lc();o.Jb("mat-drawer-shown",t._isShowingBackdrop())}}function S(t,e){1&t&&(o.Zb(0,"mat-drawer-content"),o.qc(1,2),o.Yb())}const E=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],M=["mat-drawer","mat-drawer-content","*"];function I(t,e){if(1&t){const t=o.ac();o.Zb(0,"div",2),o.hc("click",(function(){return o.Hc(t),o.lc()._onBackdropClicked()})),o.Yb()}if(2&t){const t=o.lc();o.Jb("mat-drawer-shown",t._isShowingBackdrop())}}function P(t,e){1&t&&(o.Zb(0,"mat-sidenav-content",3),o.qc(1,2),o.Yb())}const T=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],A=["mat-sidenav","mat-sidenav-content","*"],D={transformDrawer:Object(y.n)("transform",[Object(y.k)("open, open-instant",Object(y.l)({transform:"none",visibility:"visible"})),Object(y.k)("void",Object(y.l)({"box-shadow":"none",visibility:"hidden"})),Object(y.m)("void => open-instant",Object(y.e)("0ms")),Object(y.m)("void <=> open, open-instant => void",Object(y.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function R(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const L=new o.r("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),F=new o.r("MAT_DRAWER_CONTAINER");let j=(()=>{class t extends s.b{constructor(t,e,n,i,s){super(n,i,s),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.h),o.Tb(Object(o.W)(()=>Z)),o.Tb(o.l),o.Tb(s.f),o.Tb(o.B))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&o.Pc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[o.Bb],ngContentSelectors:O,decls:1,vars:0,template:function(t,e){1&t&&(o.rc(),o.qc(0))},encapsulation:2,changeDetection:0}),t})(),Y=(()=>{class t{constructor(t,e,n,i,s,a,r){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=s,this._doc=a,this._container=r,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new d.a,this._animationEnd=new d.a,this._animationState="void",this.openedChange=new o.o(!0),this._destroyed=new d.a,this.onPositionChanged=new o.o,this._modeChanged=new d.a,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Object(h.a)(this._elementRef.nativeElement,"keydown").pipe(Object(p.a)(t=>t.keyCode===l.h&&!this.disableClose&&!Object(l.v)(t)),Object(f.a)(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(Object(m.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Object(c.c)(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=Object(c.c)(t)}get opened(){return this._opened}set opened(t){this.toggle(Object(c.c)(t))}get _openedStream(){return this.openedChange.pipe(Object(p.a)(t=>t),Object(g.a)(()=>{}))}get openedStart(){return this._animationStarted.pipe(Object(p.a)(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),Object(g.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(p.a)(t=>!t),Object(g.a)(()=>{}))}get closedStart(){return this._animationStarted.pipe(Object(p.a)(t=>t.fromState!==t.toState&&"void"===t.toState),Object(g.a)(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Object(b.a)(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(w.i),o.Tb(w.h),o.Tb(i.a),o.Tb(o.B),o.Tb(a.e,8),o.Tb(F,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&o.Kb("@transform.start",(function(t){return e._animationStartListener(t)}))("@transform.done",(function(t){return e._animationDoneListener(t)})),2&t&&(o.Fb("align",null),o.Zc("@transform",e._animationState),o.Jb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:O,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(o.rc(),o.Zb(0,"div",0),o.qc(1),o.Yb())},encapsulation:2,data:{animation:[D.transformDrawer]},changeDetection:0}),t})(),Z=(()=>{class t{constructor(t,e,n,i,s,a=!1,r){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=r,this._drawers=new o.G,this.backdropClick=new o.o,this._destroyed=new d.a,this._doCheckSubject=new d.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new d.a,t&&t.change.pipe(Object(f.a)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Object(f.a)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Object(c.c)(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Object(c.c)(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Object(_.a)(this._allDrawers),Object(f.a)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Object(_.a)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Object(v.a)(10),Object(f.a)(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Object(p.a)(t=>t.fromState!==t.toState),Object(f.a)(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Object(f.a)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Object(f.a)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(b.a)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Object(f.a)(Object(u.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&R("end"),this._end=t):(null!=this._start&&R("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(C.c,8),o.Tb(o.l),o.Tb(o.B),o.Tb(o.h),o.Tb(s.h),o.Tb(L),o.Tb(x.a,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,j,!0),o.Lb(n,Y,!0)),2&t&&(o.Cc(i=o.ic())&&(e._content=i.first),o.Cc(i=o.ic())&&(e._allDrawers=i))},viewQuery:function(t,e){var n;1&t&&o.ad(j,!0),2&t&&o.Cc(n=o.ic())&&(e._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&o.Jb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o.Db([{provide:F,useExisting:t}])],ngContentSelectors:M,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(o.rc(E),o.Qc(0,k,1,2,"div",0),o.qc(1),o.qc(2,1),o.Qc(3,S,2,0,"mat-drawer-content",1)),2&t&&(o.sc("ngIf",e.hasBackdrop),o.Eb(3),o.sc("ngIf",!e._content))},directives:[a.t,j],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),N=(()=>{class t extends j{constructor(t,e,n,i,s){super(t,e,n,i,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.h),o.Tb(Object(o.W)(()=>z)),o.Tb(o.l),o.Tb(s.f),o.Tb(o.B))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&o.Pc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[o.Bb],ngContentSelectors:O,decls:1,vars:0,template:function(t,e){1&t&&(o.rc(),o.qc(0))},encapsulation:2,changeDetection:0}),t})(),U=(()=>{class t extends Y{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Object(c.c)(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Object(c.f)(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Object(c.f)(t)}}return t.\u0275fac=function(e){return B(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(o.Fb("align",null),o.Pc("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),o.Jb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.Bb],ngContentSelectors:O,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(o.rc(),o.Zb(0,"div",0),o.qc(1),o.Yb())},encapsulation:2,data:{animation:[D.transformDrawer]},changeDetection:0}),t})();const B=o.bc(U);let z=(()=>{class t extends Z{}return t.\u0275fac=function(e){return V(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,N,!0),o.Lb(n,U,!0)),2&t&&(o.Cc(i=o.ic())&&(e._content=i.first),o.Cc(i=o.ic())&&(e._allDrawers=i))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&o.Jb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[o.Db([{provide:F,useExisting:t}]),o.Bb],ngContentSelectors:A,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(o.rc(T),o.Qc(0,I,1,2,"div",0),o.qc(1),o.qc(2,1),o.Qc(3,P,2,0,"mat-sidenav-content",1)),2&t&&(o.sc("ngIf",e.hasBackdrop),o.Eb(3),o.sc("ngIf",!e._content))},directives:[a.t,N,s.b],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})();const V=o.bc(z);let H=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},imports:[[a.c,r.j,i.b,s.c],s.c,r.j]}),t})()},XkWp:function(t,e,n){"use strict";n.d(e,"a",(function(){return st}));var i=n("mrSG"),s=n("5+WD"),a=n("vkgz"),o=n("JIr8"),r=n("lJxs"),c=n("JX91"),l=n("pLZG"),d=n("nYR2"),h=n("XqQ8"),u=n("3Pt+"),p=n("LRne"),f=n("0IaG"),m=n("fXoL"),g=n("sYmb"),b=n("tk/3"),_=n("AXEc"),v=n("kmnG"),y=n("qFsG"),x=n("bTqV");let w=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.data=n,this.dialogRef=i,this.notify=s,this.loading=!1,this.template={id:0,type:"opinionCircuit",title:"",items:[]}}ngOnInit(){this.template.items=this.data.avisWorkflow.map(t=>({id:t.item_id,type:"user",mode:"avis"}))}onSubmit(){this.http.post("../rest/listTemplates",this.template).pipe(Object(a.a)(t=>{this.template.id=t.id,this.notify.success(this.translate.instant("lang.modelSaved")),this.dialogRef.close(this.template)}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(g.e),m.Tb(b.b),m.Tb(f.a),m.Tb(f.h),m.Tb(_.a))},t.\u0275cmp=m.Nb({type:t,selectors:[["ng-component"]],decls:14,vars:9,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[1,"modal-container"],["appearance","outline"],["type","text","matInput","","placeholder","Nom du mod\xe8le",3,"ngModel","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(m.Zb(0,"div",0),m.Zb(1,"h1",1),m.Sc(2,"Ajouter un mod\xe8le"),m.Yb(),m.Zb(3,"mat-dialog-content",2),m.Zb(4,"mat-form-field",3),m.Zb(5,"input",4),m.hc("ngModelChange",(function(t){return e.template.title=t})),m.Yb(),m.Yb(),m.Yb(),m.Ub(6,"span",5),m.Zb(7,"div",6),m.Zb(8,"button",7),m.hc("click",(function(){return e.onSubmit()})),m.Sc(9),m.mc(10,"translate"),m.Yb(),m.Zb(11,"button",8),m.Sc(12),m.mc(13,"translate"),m.Yb(),m.Yb(),m.Yb()),2&t&&(m.Eb(5),m.sc("ngModel",e.template.title),m.Eb(3),m.sc("disabled",e.loading),m.Eb(1),m.Tc(m.nc(10,5,"lang.validate")),m.Eb(2),m.sc("disabled",e.loading),m.Eb(1),m.Tc(m.nc(13,7,"lang.cancel")))},directives:[f.i,f.f,v.c,y.b,u.c,u.t,u.w,f.c,x.b,f.d],pipes:[g.d],styles:[""]}),t})();var C=n("2c88"),O=n("rH+9"),k=n("aEDk"),S=n("ofXK"),E=n("MutI"),M=n("/1cH"),I=n("FKr1"),P=n("Xa2L"),T=n("NFeN"),A=n("STbY"),D=n("1YbM"),R=n("8IW6"),L=n("ZI/H");const F=["searchAvisUserInput"];function j(t,e){1&t&&(m.Zb(0,"mat-option",15),m.Zb(1,"div",16),m.Ub(2,"mat-spinner",17),m.Yb(),m.Yb())}function Y(t,e){if(1&t&&(m.Zb(0,"mat-option",20),m.Sc(1),m.Yb()),2&t){const t=e.$implicit;m.sc("value",t),m.Eb(1),m.Uc(" ",t.label," ")}}function Z(t,e){if(1&t&&(m.Zb(0,"mat-optgroup",18),m.Qc(1,Y,2,2,"mat-option",19),m.mc(2,"sortBy"),m.mc(3,"async"),m.Yb()),2&t){const t=m.lc(3);m.sc("label",t.translate.instant("lang.publicModel")),m.Eb(1),m.sc("ngForOf",m.oc(2,2,m.nc(3,5,t.filteredPublicModels),"label"))}}function N(t,e){if(1&t){const t=m.ac();m.Zb(0,"mat-option",20),m.Zb(1,"div",21),m.Zb(2,"div",22),m.Sc(3),m.Yb(),m.Zb(4,"button",23),m.hc("click",(function(n){m.Hc(t);const i=e.$implicit,s=m.lc(4);return n.stopPropagation(),s.deletePrivateModel(i)})),m.Ub(5,"mat-icon",24),m.Yb(),m.Yb(),m.Yb()}if(2&t){const t=e.$implicit;m.sc("value",t),m.Eb(3),m.Uc(" ",t.label," ")}}function U(t,e){if(1&t&&(m.Zb(0,"mat-optgroup",18),m.Qc(1,N,6,2,"mat-option",19),m.mc(2,"sortBy"),m.mc(3,"async"),m.Yb()),2&t){const t=m.lc(3);m.sc("label",t.translate.instant("lang.privateModel")),m.Eb(1),m.sc("ngForOf",m.oc(2,2,m.nc(3,5,t.filteredPrivateModels),"label"))}}function B(t,e){if(1&t&&(m.Zb(0,"mat-option",20),m.Sc(1),m.Zb(2,"small"),m.Sc(3),m.Yb(),m.Yb()),2&t){const t=e.$implicit;m.sc("value",t),m.Eb(1),m.Uc(" ",t.label," "),m.Eb(2),m.Uc("(",t.entity,")")}}function z(t,e){if(1&t&&(m.Zb(0,"mat-optgroup",18),m.mc(1,"titlecase"),m.mc(2,"translate"),m.Qc(3,B,4,3,"mat-option",19),m.mc(4,"sortBy"),m.mc(5,"async"),m.Yb()),2&t){const t=m.lc(3);m.sc("label",m.nc(1,2,m.nc(2,4,"lang.user"))),m.Eb(3),m.sc("ngForOf",m.oc(4,6,m.nc(5,9,t.filteredSignAvisUsers),"label"))}}function V(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",25),m.hc("click",(function(e){m.Hc(t);const n=m.lc(3);return e.stopPropagation(),n.openPromptSaveModel()})),m.mc(1,"translate"),m.Ub(2,"mat-icon",26),m.Yb()}2&t&&m.tc("title",m.nc(1,1,"lang.saveAsPrivateModel"))}function H(t,e){if(1&t){const t=m.ac();m.Zb(0,"mat-form-field",7),m.Ub(1,"input",8,9),m.Zb(3,"mat-autocomplete",10,11),m.hc("optionSelected",(function(e){return m.Hc(t),m.lc(2).addItemToWorkflow(e.option.value)}))("opened",(function(){return m.Hc(t),m.lc(2).initFilterAvisModelList()})),m.Qc(5,j,3,0,"mat-option",12),m.Qc(6,Z,4,7,"mat-optgroup",13),m.mc(7,"async"),m.Qc(8,U,4,7,"mat-optgroup",13),m.mc(9,"async"),m.Qc(10,z,6,11,"mat-optgroup",13),m.mc(11,"async"),m.Yb(),m.Qc(12,V,3,3,"button",14),m.Yb()}if(2&t){const t=m.Dc(4),e=m.lc(2);var n;const a=(null==(n=m.nc(7,7,e.filteredPublicModels))?null:n.length)>0;var i;const o=(null==(i=m.nc(9,9,e.filteredPrivateModels))?null:i.length)>0;var s;const r=(null==(s=m.nc(11,11,e.filteredSignAvisUsers))?null:s.length)>0;m.Eb(1),m.sc("formControl",e.searchAvisUser)("matAutocomplete",t),m.Eb(4),m.sc("ngIf",e.avisModelListNotLoaded),m.Eb(1),m.sc("ngIf",a),m.Eb(2),m.sc("ngIf",o),m.Eb(2),m.sc("ngIf",r),m.Eb(2),m.sc("ngIf",e.avisWorkflow.items.length>0&&e.showListModels)}}function Q(t,e){1&t&&(m.Zb(0,"div",27),m.Sc(1),m.mc(2,"translate"),m.Yb()),2&t&&(m.Eb(1),m.Uc(" ",m.nc(2,1,"lang.noPerson")," "))}function $(t,e){1&t&&m.Ub(0,"mat-icon",38)}function W(t,e){if(1&t&&(m.Xb(0),m.Ub(1,"mat-icon",39),m.Wb()),2&t){const t=m.lc().$implicit;m.Eb(1),m.Jb("fa-hourglass",null==t.process_date)("fa-thumbs-up",null!=t.process_date)("valid",null!=t.process_date)}}function G(t,e){if(1&t&&(m.Zb(0,"div",40),m.mc(1,"fullDate"),m.Sc(2),m.mc(3,"translate"),m.mc(4,"timeAgo"),m.Yb()),2&t){const t=m.lc().$implicit;m.tc("title",m.nc(1,3,t.process_date)),m.Eb(2),m.Vc("",m.nc(3,5,"lang.avisSent")," ",m.oc(4,7,t.process_date,"full"),"")}}function q(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",44),m.hc("click",(function(){m.Hc(t);const n=e.$implicit,i=m.lc(2).index;return m.lc(2).changeRole(n,i)})),m.Sc(1),m.Yb()}if(2&t){const t=e.$implicit;m.Eb(1),m.Tc(t.label)}}function X(t,e){if(1&t&&(m.Zb(0,"div"),m.Zb(1,"button",41),m.Sc(2),m.Yb(),m.Zb(3,"mat-menu",null,42),m.Qc(5,q,2,1,"button",43),m.Yb(),m.Yb()),2&t){const t=m.Dc(4),e=m.lc().$implicit,n=m.lc(2);m.Eb(1),m.sc("disabled",!n.adminMode||!n.functions.empty(e.process_date))("matMenuTriggerFor",t)("title",n.getRoleLabel(e.item_mode)),m.Eb(1),m.Tc(n.getRoleLabel(e.item_mode)),m.Eb(3),m.sc("ngForOf",n.availableRoles)}}function J(t,e){1&t&&(m.Zb(0,"div",45),m.Sc(1),m.mc(2,"translate"),m.Yb()),2&t&&(m.Eb(1),m.Uc(" ",m.nc(2,1,"lang.noPrivileges")," "))}function K(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",46),m.hc("click",(function(){m.Hc(t);const e=m.lc().index;return m.lc(2).deleteItem(e)})),m.Ub(1,"mat-icon",47),m.Yb()}}const tt=function(t,e){return{"fa fa-user fa-2x":t,avatar:e}};function et(t,e){if(1&t&&(m.Zb(0,"mat-list-item",28),m.Qc(1,$,1,0,"mat-icon",29),m.Ub(2,"mat-icon",30),m.Qc(3,W,2,6,"ng-container",0),m.Zb(4,"div",31),m.Zb(5,"div",32),m.Zb(6,"div",33),m.Sc(7),m.Yb(),m.Zb(8,"div",34),m.Sc(9),m.Yb(),m.Qc(10,G,5,10,"div",35),m.Yb(),m.Qc(11,X,6,5,"div",0),m.Qc(12,J,3,3,"div",36),m.Yb(),m.Qc(13,K,2,0,"button",37),m.Yb()),2&t){const t=e.$implicit,n=e.index,i=m.lc(2);m.Jb("notDraggable",!i.adminMode||!i.functions.empty(t.process_date))("notEditable",!i.adminMode)("processed",null!=t.process_date),m.sc("cdkDragDisabled",!i.adminMode||!i.functions.empty(t.process_date)),m.Eb(1),m.sc("ngIf",i.getCurrentAvisUserIndex()===n&&!i.adminMode),m.Eb(1),m.Pc("background-image",i.functions.empty(t.picture)?"":"url("+t.picture+")",m.Mb),m.Jb("invalid",!t.hasPrivilege),m.sc("ngClass",m.Ac(24,tt,i.functions.empty(t.picture),!i.functions.empty(t.picture))),m.Eb(1),m.sc("ngIf",!i.adminMode||null!=t.process_date),m.Eb(3),m.Jb("unauthorized",!t.hasPrivilege),m.Eb(1),m.Uc(" ",t.labelToDisplay," "),m.Eb(1),m.Jb("unauthorized",!t.hasPrivilege),m.Eb(1),m.Uc(" ",t.item_entity," "),m.Eb(1),m.sc("ngIf",null!=t.process_date),m.Eb(1),m.sc("ngIf","parallel"===i.mode),m.Eb(1),m.sc("ngIf",!t.hasPrivilege),m.Eb(1),m.sc("ngIf",i.adminMode&&i.functions.empty(t.process_date))}}function nt(t,e){if(1&t){const t=m.ac();m.Zb(0,"mat-list"),m.Qc(1,H,13,13,"mat-form-field",2),m.Zb(2,"div",3,4),m.hc("cdkDropListDropped",(function(e){return m.Hc(t),m.lc().drop(e)})),m.Qc(4,Q,3,3,"div",5),m.Qc(5,et,14,27,"mat-list-item",6),m.Yb(),m.Yb()}if(2&t){const t=m.lc();m.Eb(1),m.sc("ngIf",t.adminMode),m.Eb(1),m.sc("cdkDropListData",t.avisWorkflow.items)("cdkDropListDisabled",!t.adminMode),m.Eb(2),m.sc("ngIf",0===t.avisWorkflow.items.length),m.Eb(1),m.sc("ngForOf",t.avisWorkflow.items)}}function it(t,e){1&t&&(m.Zb(0,"div",48),m.Ub(1,"mat-spinner",49),m.Yb())}let st=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.functions=i,this.latinisePipe=s,this.dialog=a,this.avisWorkflow={roles:["sign","avis"],items:[]},this.avisWorkflowClone=[],this.avisTemplates={private:[],public:[]},this.availableRoles=[],this.signAvisUsers=[],this.loading=!1,this.avisModelListNotLoaded=!0,this.resId=null,this.showListModels=!0,this.mode="circuit",this.searchAvisUser=new u.h}ngOnInit(){"parallel"===this.mode&&this.adminMode&&this.loadAvisRoles(),null!==this.resId&&("circuit"===this.mode?this.loadWorkflow(this.resId):this.loadParallelWorkflow(this.resId))}drop(t){t.previousContainer===t.container&&(this.functions.empty(this.avisWorkflow.items[t.currentIndex].process_date)?Object(s.h)(t.container.data,t.previousIndex,t.currentIndex):this.notify.error(`${this.translate.instant("lang.moveAvisUserErr1")} <b>${this.avisWorkflow.items[t.previousIndex].labelToDisplay}</b> ${this.translate.instant("lang.moveAvisUserErr2")}.`))}loadAvisRoles(){return new Promise((t,e)=>{this.http.get("../rest/roles").pipe(Object(a.a)(e=>{this.availableRoles=e.roles.filter(t=>["avis","avis_copy","avis_info"].indexOf(t.id)>-1).map(t=>({id:t.id,label:t.label})),t(!0)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(p.a)(!1)))).subscribe()})}getRoleLabel(t){return this.availableRoles.filter(e=>e.id===t)[0].label}loadListModel(t){this.loading=!0,this.avisWorkflow.items=[],this.http.get(`../rest/listTemplates/entities/${t}?type=opinionCircuit`).subscribe(t=>{t.listTemplates[0]&&(this.avisWorkflow.items=t.listTemplates[0].items.map(t=>Object.assign(Object.assign({},t),{item_entity:t.descriptionToDisplay}))),this.avisWorkflowClone=JSON.parse(JSON.stringify(this.avisWorkflow.items)),this.loading=!1})}loadAvisUsersList(){return new Promise((t,e)=>{this.http.get("../rest/autocomplete/users/circuit?circuit=opinion").pipe(Object(r.a)(t=>t.map(t=>({id:t.id,title:`${t.idToDisplay} (${t.otherInfo})`,label:t.idToDisplay,entity:t.otherInfo,type:"user"}))),Object(a.a)(e=>{this.signAvisUsers=e,this.filteredSignAvisUsers=this.searchAvisUser.valueChanges.pipe(Object(c.a)(""),Object(r.a)(t=>this._filter(t))),t(!0)}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()})}loadAvisModelList(){return Object(i.a)(this,void 0,void 0,(function*(){return null!==this.resId&&(yield this.loadDefaultModel()),new Promise((t,e)=>{this.http.get("../rest/availableCircuits?circuit=opinion").pipe(Object(a.a)(e=>{this.avisTemplates.public=this.avisTemplates.public.concat(e.circuits.filter(t=>!t.private).map(t=>({id:t.id,title:t.title,label:t.title,type:"entity"}))),this.avisTemplates.private=e.circuits.filter(t=>t.private).map(t=>({id:t.id,title:t.title,label:t.title,type:"entity"})),this.filteredPublicModels=this.searchAvisUser.valueChanges.pipe(Object(c.a)(""),Object(r.a)(t=>this._filterPublicModel(t))),this.filteredPrivateModels=this.searchAvisUser.valueChanges.pipe(Object(c.a)(""),Object(r.a)(t=>this._filterPrivateModel(t))),t(!0)})).subscribe()})}))}loadDefaultModel(){return this.avisTemplates.public=[],new Promise((t,e)=>{this.http.get(`../rest/resources/${this.resId}/defaultCircuit?circuit=opinion`).pipe(Object(a.a)(t=>{this.functions.empty(t.itemsRemoved)||this.notify.error(this.translate.instant("lang.itemRemovedFromAvisTemplate")+" : "+t.itemsRemoved.join(", "))}),Object(l.a)(t=>!this.functions.empty(t.circuit)),Object(a.a)(t=>{this.functions.empty(t.circuit)||this.avisTemplates.public.push({id:t.circuit.id,title:t.circuit.title,label:t.circuit.title,type:"entity"})}),Object(d.a)(()=>t(!0)),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()})}initFilterAvisModelList(){return Object(i.a)(this,void 0,void 0,(function*(){this.avisModelListNotLoaded&&(yield this.loadAvisUsersList(),this.showListModels&&(yield this.loadAvisModelList()),this.searchAvisUser.reset(),this.avisModelListNotLoaded=!1)}))}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.signAvisUsers.filter(t=>this.latinisePipe.transform(t.title.toLowerCase()).includes(e))}return this.signAvisUsers}_filterPrivateModel(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.avisTemplates.private.filter(t=>this.latinisePipe.transform(t.title.toLowerCase()).includes(e))}return this.avisTemplates.private}_filterPublicModel(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.avisTemplates.public.filter(t=>this.latinisePipe.transform(t.title.toLowerCase()).includes(e))}return this.avisTemplates.public}loadWorkflow(t){return this.resId=t,this.loading=!0,this.avisWorkflow.items=[],new Promise((e,n)=>{this.http.get("../rest/resources/"+t+"/opinionCircuit").pipe(Object(a.a)(t=>{this.functions.empty(t.itemsRemoved)||this.notify.error(this.translate.instant("lang.itemRemovedFromAvisTemplate")+" : "+t.itemsRemoved.join(", "))}),Object(l.a)(t=>!this.functions.empty(t.circuit)),Object(a.a)(t=>{t.circuit.forEach(t=>{this.avisWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"circuit"===this.mode?"AVIS_CIRCUIT":"entity_id"}))}),this.avisWorkflowClone=JSON.parse(JSON.stringify(this.avisWorkflow.items))}),Object(d.a)(()=>{this.loading=!1,e(!0)}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()})}loadParallelWorkflow(t){return this.resId=t,this.loading=!0,this.avisWorkflow.items=[],new Promise((e,n)=>{this.http.get("../rest/resources/"+t+"/parallelOpinion").subscribe(t=>{t.forEach(t=>{this.avisWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"entity_id"}))}),this.avisWorkflowClone=JSON.parse(JSON.stringify(this.avisWorkflow.items)),this.loading=!1,e(!0)},t=>{this.notify.handleErrors(t)})})}loadDefaultWorkflow(t){this.loading=!0,this.avisWorkflow.items=[],this.http.get("../rest/resources/"+t+"/defaultCircuit?circuit=opinion").pipe(Object(a.a)(t=>{this.functions.empty(t.itemsRemoved)||this.notify.error(this.translate.instant("lang.itemRemovedFromAvisTemplate")+" : "+t.itemsRemoved.join(", "))}),Object(l.a)(t=>!this.functions.empty(t.circuit)),Object(a.a)(t=>{t.circuit.items.forEach(t=>{this.avisWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"circuit"===this.mode?"AVIS_CIRCUIT":"entity_id",item_entity:t.descriptionToDisplay}))}),this.avisWorkflowClone=JSON.parse(JSON.stringify(this.avisWorkflow.items))}),Object(d.a)(()=>this.loading=!1),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}deleteItem(t){this.avisWorkflow.items.splice(t,1)}getAvisCount(){return this.avisWorkflow.items.length}changeRole(t,e){this.avisWorkflow.items[e].item_mode=t.id}getWorkflow(){return this.avisWorkflow.items}getCurrentAvisUserIndex(){return this.avisWorkflow.items.map(t=>t.listinstance_id).indexOf(this.getLastAvisUser().listinstance_id)+1}getFirstAvisUser(){return this.functions.empty(this.avisWorkflow.items[0])?"":this.avisWorkflow.items[0]}getCurrentAvisUser(){const t=this.avisWorkflow.items.map(t=>t.listinstance_id).indexOf(this.getLastAvisUser().listinstance_id);return this.functions.empty(this.avisWorkflow.items[t+1])?"":this.avisWorkflow.items[t+1]}getNextAvisUser(){const t=this.avisWorkflow.items.map(t=>t.listinstance_id).indexOf(this.getLastAvisUser().listinstance_id);return this.functions.empty(this.avisWorkflow.items[t+2])?"":this.avisWorkflow.items[t+2]}getLastAvisUser(){let t=this.avisWorkflow.items.filter(t=>!this.functions.empty(t.process_date));return this.functions.empty(t[t.length-1])?"":t[t.length-1]}saveAvisWorkflow(t=[this.resId]){return new Promise((e,n)=>{if(0===this.avisWorkflow.items.length)this.http.delete(`../rest/resources/${t[0]}/circuits/opinionCircuit`).pipe(Object(a.a)(()=>{this.avisWorkflowClone=JSON.parse(JSON.stringify(this.avisWorkflow.items)),this.notify.success(this.translate.instant("lang.avisWorkflowDeleted")),e(!0)}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe();else if(this.isValidWorkflow()){const n=t.map(t=>({resId:t,listInstances:this.avisWorkflow.items}));this.http.put("../rest/circuits/opinionCircuit",{resources:n}).pipe(Object(a.a)(t=>{this.avisWorkflowClone=JSON.parse(JSON.stringify(this.avisWorkflow.items)),this.notify.success(this.translate.instant("lang.avisWorkflowUpdated")),e(!0)}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}else this.notify.error(this.getError()),e(!1)})}addItemToWorkflow(t){return new Promise((e,n)=>{"user"===t.type?(this.avisWorkflow.items.push({item_id:t.id,item_type:"user",item_entity:t.entity,item_mode:"avis",labelToDisplay:t.label,externalId:this.functions.empty(t.externalId)?null:t.externalId,difflist_type:"circuit"===this.mode?"AVIS_CIRCUIT":"entity_id",hasPrivilege:!0}),this.searchAvisUser.reset(),this.searchAvisUserInput.nativeElement.blur(),e(!0)):"entity"===t.type&&this.http.get("../rest/listTemplates/"+t.id).pipe(Object(a.a)(t=>{this.avisWorkflow.items=this.avisWorkflow.items.concat(t.listTemplate.items.map(t=>({item_id:t.item_id,item_type:"user",labelToDisplay:t.idToDisplay,item_entity:t.descriptionToDisplay,item_mode:"avis",difflist_type:"circuit"===this.mode?"AVIS_CIRCUIT":"entity_id",hasPrivilege:t.hasPrivilege}))),this.searchAvisUser.reset(),this.searchAvisUserInput.nativeElement.blur(),e(!0)})).subscribe()})}resetWorkflow(){this.avisWorkflow.items=[]}isValidWorkflow(){return 0===this.avisWorkflow.items.filter(t=>!t.hasPrivilege).length&&this.avisWorkflow.items.length>0}getError(){return this.translate.instant("lang.mustDeleteUsersWithNoPrivileges")}emptyWorkflow(){return 0===this.avisWorkflow.items.length}workflowEnd(){return this.avisWorkflow.items.filter(t=>!this.functions.empty(t.process_date)).length===this.avisWorkflow.items.length}openPromptSaveModel(){this.dialog.open(w,{panelClass:"maarch-modal",data:{avisWorkflow:this.avisWorkflow.items}}).afterClosed().pipe(Object(l.a)(t=>!this.functions.empty(t)),Object(a.a)(t=>{this.avisTemplates.private.push({id:t.id,title:t.title,label:t.title,type:"entity"}),this.searchAvisUser.reset()}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}deletePrivateModel(t){this.dialog.open(C.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(l.a)(t=>"ok"===t),Object(h.a)(()=>this.http.delete("../rest/listTemplates/"+t.id)),Object(a.a)(()=>{this.avisTemplates.private=this.avisTemplates.private.filter(e=>e.id!==t.id),this.searchAvisUser.reset(),this.notify.success(this.translate.instant("lang.modelDeleted"))}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(p.a)(!1)))).subscribe()}getMaarchParapheurUserAvatar(t,e){this.functions.empty(t)||this.http.get("../rest/maarchParapheur/user/"+t+"/picture").subscribe(t=>{this.avisWorkflow.items[e].picture=t.picture},t=>{this.notify.handleErrors(t)})}isModified(){return!this.loading&&JSON.stringify(this.avisWorkflow.items)!==JSON.stringify(this.avisWorkflowClone)}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(g.e),m.Tb(b.b),m.Tb(_.a),m.Tb(O.a),m.Tb(k.c),m.Tb(f.b))},t.\u0275cmp=m.Nb({type:t,selectors:[["app-avis-workflow"]],viewQuery:function(t,e){var n;1&t&&m.ad(F,!0),2&t&&m.Cc(n=m.ic())&&(e.searchAvisUserInput=n.first)},inputs:{injectDatas:"injectDatas",adminMode:"adminMode",resId:"resId",showListModels:"showListModels",mode:"mode"},decls:2,vars:2,consts:[[4,"ngIf"],["style","display:flex;padding: 10px;",4,"ngIf"],["appearance","outline",4,"ngIf"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["class","emptyContent",4,"ngIf"],["disableRipple","","cdkDrag","","class","columns workflow",3,"cdkDragDisabled","notDraggable","notEditable","processed",4,"ngFor","ngForOf"],["appearance","outline"],["type","text","matInput","","placeholder","Ajouter des personnes","id","searchAvisUserInput",3,"formControl","matAutocomplete"],["searchAvisUserInput",""],[3,"optionSelected","opened"],["autoGroup","matAutocomplete"],["disabled","",4,"ngIf"],["class","avisSignList",3,"label",4,"ngIf"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click",4,"ngIf"],["disabled",""],[2,"display","flex","justify-content","center"],["diameter","35"],[1,"avisSignList",3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"display","flex","align-items","center"],[2,"flex","1"],["mat-icon-button","","color","warn",3,"click"],[1,"fa","fa-trash",2,"margin","0px"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click"],[1,"fa","fa-plus"],[1,"emptyContent"],["disableRipple","","cdkDrag","",1,"columns","workflow",3,"cdkDragDisabled"],["class","fa fa-chevron-right fa-2x","mat-list-icon","","color","accent",4,"ngIf"],["mat-list-icon","","color","primary",3,"ngClass"],["mat-line","",1,"workflowLine"],[1,"workflowLineContainer"],[1,"workflowLineLabel"],[1,"workflowLineSubLabel"],["class","workflowLineProcessDate","color","accent",3,"title",4,"ngIf"],["class","invalid",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-list-icon","","color","accent",1,"fa","fa-chevron-right","fa-2x"],["mat-list-icon","",1,"fa-2x","far",2,"opacity","0.5"],["color","accent",1,"workflowLineProcessDate",3,"title"],["color","primary","mat-raised-button","",1,"currentRoleButton",3,"disabled","matMenuTriggerFor","title"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"invalid"],["mat-icon-button","",3,"click"],["color","warn",1,"fa","fa-times"],[2,"display","flex","padding","10px"],[2,"margin","auto"]],template:function(t,e){1&t&&(m.Qc(0,nt,6,5,"mat-list",0),m.Qc(1,it,2,0,"div",1)),2&t&&(m.sc("ngIf",!e.loading),m.Eb(1),m.sc("ngIf",e.loading))},directives:[S.t,E.a,s.e,S.s,v.c,y.b,u.c,M.d,u.t,u.i,M.a,I.o,P.c,I.n,x.b,T.a,v.j,E.d,s.a,E.c,S.q,I.k,A.d,A.e,A.b],pipes:[S.b,D.a,S.F,g.d,R.a,L.a],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.avisSignList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff!important;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.notDraggable[_ngcontent-%COMP%]{cursor:not-allowed}.notEditable[_ngcontent-%COMP%]{cursor:auto}.currentContextButton[_ngcontent-%COMP%]{width:150px;text-align:left}.currentContextButton[_ngcontent-%COMP%], .currentRoleButton[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:13px}.currentRoleButton[_ngcontent-%COMP%]{width:120px;text-align:center}.emptyContent[_ngcontent-%COMP%]{opacity:.5;text-align:center;font-size:10px;padding:10px}.processed[_ngcontent-%COMP%]{background:rgba(0,128,0,.11)!important}.workflow[_ngcontent-%COMP%]{height:55px;margin-bottom:10px;background:hsla(0,0%,84.7%,.1);border-radius:10px;font-size:13px}.workflowLine[_ngcontent-%COMP%]{display:flex!important;align-items:center}.workflowLineContainer[_ngcontent-%COMP%]{flex:1}.workflowLineContainer[_ngcontent-%COMP%], .workflowLineLabel[_ngcontent-%COMP%], .workflowLineSubLabel[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.workflowLineSubLabel[_ngcontent-%COMP%]{font-size:80%;opacity:.5;flex:1}.workflowLineProcessDate[_ngcontent-%COMP%]{flex:1;text-align:left;font-size:80%}.workflowLine[_ngcontent-%COMP%]   .mat-raised-button[disabled][_ngcontent-%COMP%]{background:none;color:#135f7f!important;opacity:1}.avatar[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}.valid[_ngcontent-%COMP%]{color:#006841}.invalid[_ngcontent-%COMP%]{color:#8e3e52}.unauthorized[_ngcontent-%COMP%]{color:#8e3e52;text-decoration:line-through}"]}),t})()},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return i}))},XqQ8:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),s=n("Cfvw"),a=n("zx2A");function o(t,e){return e?n=>n.pipe(o((n,a)=>Object(s.a)(t(n,a)).pipe(Object(i.a)((t,i)=>e(n,t,a,i))))):e=>e.lift(new r(t))}class r{constructor(t){this.project=t}call(t,e){return e.subscribe(new c(t,this.project))}}class c extends a.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new a.a(this),n=this.destination;n.add(e);const i=Object(a.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},"Xwq/":function(t,e,n){"use strict";var i=n("FWf1"),s=n("p//D"),a=n("GiSu");e.toSubscriber=function(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[s.rxSubscriber])return t[s.rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(a.empty)}},XxY3:function(t,e){!function(t,e,n,i){t.DocEditor=function(i,a,o){var r=this,c=a||{};!function t(e,n){for(var i in n)n.hasOwnProperty(i)&&(void 0===e[i]?e[i]=n[i]:"object"==typeof e[i]&&"object"==typeof n[i]&&t(e[i],n[i]));return e}(c,t.DocEditor.defaultConfig),c.editorConfig.canUseHistory=c.events&&!!c.events.onRequestHistory,c.editorConfig.canHistoryClose=c.events&&!!c.events.onRequestHistoryClose,c.editorConfig.canHistoryRestore=c.events&&!!c.events.onRequestRestore,c.editorConfig.canSendEmailAddresses=c.events&&!!c.events.onRequestEmailAddresses,c.editorConfig.canRequestEditRights=c.events&&!!c.events.onRequestEditRights,c.editorConfig.canRequestClose=c.events&&!!c.events.onRequestClose,c.editorConfig.canRename=c.events&&!!c.events.onRequestRename,c.editorConfig.canMakeActionLink=c.events&&!!c.events.onMakeActionLink,c.editorConfig.canRequestUsers=c.events&&!!c.events.onRequestUsers,c.editorConfig.canRequestSendNotify=c.events&&!!c.events.onRequestSendNotify,c.editorConfig.mergeFolderUrl=c.editorConfig.mergeFolderUrl||c.editorConfig.saveAsUrl,c.editorConfig.canRequestSaveAs=c.events&&!!c.events.onRequestSaveAs,c.editorConfig.canRequestInsertImage=c.events&&!!c.events.onRequestInsertImage,c.editorConfig.canRequestMailMergeRecipients=c.events&&!!c.events.onRequestMailMergeRecipients,c.frameEditorId=i,c.onlyOfficeIp=o;var l,d=function(t){y(t)},h=function(){e.addEventListener?e.addEventListener("mouseup",d,!1):e.attachEvent&&e.attachEvent("onmouseup",d)},u=function(){e.removeEventListener?e.removeEventListener("mouseup",d,!1):e.detachEvent&&e.detachEvent("onmouseup",d)};(l=/[\?\&]placement=(\w+)&?/.exec(e.location.search))&&l.length&&"desktop"==l[1]&&(c.editorConfig.targetApp=l[1],c.editorConfig.customization||(c.editorConfig.customization={}),c.editorConfig.customization.about=!1,c.editorConfig.customization.compactHeader=!1,e.AscDesktopEditor&&e.AscDesktopEditor.execCommand("webapps:events","loading"));var p,f=n.getElementById(i);if(f&&function(){if(c.document){if(!c.document.url||("string"!=typeof c.document.fileType||""==c.document.fileType)&&("string"!=typeof c.documentType||""==c.documentType))return e.alert("One or more required parameter for the config object is not set"),!1;var t;if("string"==typeof c.documentType&&""!=c.documentType){if(!(t={text:"docx","text-pdf":"pdf",spreadsheet:"xlsx",presentation:"pptx"}[c.documentType.toLowerCase()]))return e.alert('The "documentType" parameter for the config object is invalid. Please correct it.'),!1;"string"==typeof c.document.fileType&&""!=c.document.fileType||(c.document.fileType=t)}if("string"==typeof c.document.fileType&&""!=c.document.fileType){var n;if(!(n=/^(?:(xls|xlsx|ods|csv|xlst|xlsy|gsheet|xlsm|xlt|xltm|xltx|fods|ots)|(pps|ppsx|ppt|pptx|odp|pptt|ppty|gslides|pot|potm|potx|ppsm|pptm|fodp|otp)|(doc|docx|doct|odt|gdoc|txt|rtf|pdf|mht|htm|html|epub|djvu|xps|docm|dot|dotm|dotx|fodt|ott))$/.exec(c.document.fileType)))return e.alert('The "document.fileType" parameter for the config object is invalid. Please correct it.'),!1;"string"==typeof c.documentType&&""!=c.documentType||("string"==typeof n[1]?c.documentType="spreadsheet":"string"==typeof n[2]?c.documentType="presentation":"string"==typeof n[3]&&(c.documentType="text"))}if((n=/^(?:(pdf|djvu|xps))$/.exec(c.document.fileType))&&"string"==typeof n[1]&&(c.editorConfig.canUseHistory=!1),c.document.title&&""!=c.document.title||(c.document.title="Unnamed."+c.document.fileType),c.document.key){if("string"!=typeof c.document.key)return e.alert('The "document.key" parameter for the config object must be string. Please correct it.'),!1}else c.document.key="xxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(t){return(16*Math.random()|0).toString(16)}));c.document.token=c.token}return!0}()){p=function(t){var e=n.createElement("iframe");return e.src=function(t){var e=("undefined"==typeof extensionParams||null==extensionParams.url?null:extensionParams.url+"apps/")||function(t){return t.onlyOfficeIp+"/web-apps/apps/"}(t),n={text:"documenteditor","text-pdf":"documenteditor",spreadsheet:"spreadsheeteditor",presentation:"presentationeditor"},i=n.text;if("string"==typeof t.documentType)i=n[t.documentType.toLowerCase()];else if(t.document&&"string"==typeof t.document.fileType){var s=/^(?:(xls|xlsx|ods|csv|xlst|xlsy|gsheet|xlsm|xlt|xltm|xltx|fods|ots)|(pps|ppsx|ppt|pptx|odp|pptt|ppty|gslides|pot|potm|potx|ppsm|pptm|fodp|otp))$/.exec(t.document.fileType);s&&("string"==typeof s[1]?i=n.spreadsheet:"string"==typeof s[2]&&(i=n.presentation))}return e+=i+"/",(e+="mobile"===t.type?"mobile":"embedded"===t.type?"embed":"main")+"/index.html"}(t)+function(t){var e="?_dc=5.4.2-46";return t.editorConfig&&t.editorConfig.lang&&(e+="&lang="+t.editorConfig.lang),t.editorConfig&&"desktop"!==t.editorConfig.targetApp&&("object"==typeof t.editorConfig.customization&&t.editorConfig.customization.loaderName?"none"!==t.editorConfig.customization.loaderName&&(e+="&customer="+t.editorConfig.customization.loaderName):e+="&customer=ONLYOFFICE","object"==typeof t.editorConfig.customization&&t.editorConfig.customization.loaderLogo&&""!==t.editorConfig.customization.loaderLogo&&(e+="&logo="+t.editorConfig.customization.loaderLogo)),t.frameEditorId&&(e+="&frameEditorId="+t.frameEditorId),e}(t),e.width=t.width,e.height=t.height,e.align="top",e.frameBorder=0,e.name="frameEditor",e.allowFullscreen=!0,e.setAttribute("allowfullscreen",""),e.setAttribute("onmousewheel",""),"mobile"==t.type&&(e.style.position="fixed",e.style.overflow="hidden",n.body.style.overscrollBehaviorY="contain"),e}(c),f.parentNode&&f.parentNode.replaceChild(p,f);var m=new s((function(t){if(t)if("onExternalPluginMessage"===t.type)g(t);else if(t.frameEditorId==i){var e=(c.events||{})[t.event];"onRequestEditRights"!==t.event||e?"onInternalMessage"===t.event&&t.data&&"localstorage"==t.data.type?function(t){if("get"==t.cmd){if(t.keys&&t.keys.length){var e=t.keys.split(","),n=e[0];for(i=0;++i<e.length;)n+="|"+e[i];for(i in n=new RegExp(n),s={},localStorage)n.test(i)&&(s[i]=localStorage[i])}else s=localStorage;g({command:"internalCommand",data:{type:"localstorage",keys:s}})}else if("set"==t.cmd){var i,s=t.keys;for(i in s)localStorage.setItem(i,s[i])}}(t.data.data):("onAppReady"===t.event&&("mobile"===c.type&&(n.body.onfocus=function(t){setTimeout((function(){p.contentWindow.focus(),g({command:"resetFocus",data:{}})}),10)}),h(),c.editorConfig&&b(c.editorConfig),c.document&&_(c.document)),e&&"function"==typeof e&&e.call(r,{target:r,data:t.data})):v(!1,"handler isn't defined")}}),this)}var g=function(t){var n;p&&p.contentWindow&&(n=p.contentWindow)&&n.postMessage&&e.JSON&&n.postMessage(e.JSON.stringify(t),"*")},b=function(t){g({command:"init",data:{config:t}})},_=function(t){g({command:"openDocument",data:{doc:t}})},v=function(t,e){g({command:"applyEditRights",data:{allowed:t,message:e}})},y=function(t){var e=p.getBoundingClientRect();g({command:"processMouse",data:{type:t.type,x:t.x-e.left,y:t.y-e.top,event:t}})};return{showMessage:function(t,e){g({command:"showMessage",data:{msg:e=e||t}})},processSaveResult:function(t,e){g({command:"processSaveResult",data:{result:t,message:e}})},processRightsChange:function(t,e){g({command:"processRightsChange",data:{enabled:t,message:e}})},denyEditingRights:function(t){g({command:"processRightsChange",data:{enabled:!1,message:t}})},refreshHistory:function(t,e){g({command:"refreshHistory",data:{data:t,message:e}})},setHistoryData:function(t,e){g({command:"setHistoryData",data:{data:t,message:e}})},setEmailAddresses:function(t){g({command:"setEmailAddresses",data:{data:t}})},setActionLink:function(t){g({command:"setActionLink",data:{url:t}})},processMailMerge:function(t,e){g({command:"processMailMerge",data:{enabled:t,message:e}})},downloadAs:function(t){g({command:"downloadAs",data:t})},serviceCommand:function(t,e){g({command:"internalCommand",data:{command:t,data:e}})},attachMouseEvents:h,detachMouseEvents:u,destroyEditor:function(t){var e=n.createElement("div");e.setAttribute("id",i),p&&(m&&m.unbindEvents(),u(),p.parentNode&&p.parentNode.replaceChild(e,p))},setUsers:function(t){g({command:"setUsers",data:t})},showSharingSettings:function(t){g({command:"showSharingSettings",data:t})},setSharingSettings:function(t){g({command:"setSharingSettings",data:t})},insertImage:function(t){g({command:"insertImage",data:t})},setMailMergeRecipients:function(t){g({command:"setMailMergeRecipients",data:t})}}},t.DocEditor.defaultConfig={type:"desktop",width:"100%",height:"100%",editorConfig:{lang:"en",canCoAuthoring:!0,customization:{about:!0,feedback:!1}}},t.DocEditor.version=function(){return"5.4.2"};var s=function(t,n){var i=t,s=n||e,a=function(t){o(t)},o=function(t){if(t&&e.JSON)try{t=e.JSON.parse(t.data),i&&i.call(s,t)}catch(n){}};return(function(){e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent&&e.attachEvent("onmessage",a)}).call(this),{unbindEvents:function(){e.removeEventListener?e.removeEventListener("message",a,!1):e.detachEvent&&e.detachEvent("onmessage",a)}}}}(window.DocsAPI=window.DocsAPI||{},window,document)},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("DH7j");function s(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("quSY");class s extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},Z5tI:function(t,e,n){"use strict";var i=n("MkmW");e.subscribeToPromise=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.hostReportError),e}}},"ZI/H":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),s=n("sYmb");let a=(()=>{class t{constructor(t,e,n){this.translate=t,this.changeDetectorRef=e,this.ngZone=n}transform(t,e=null){this.removeTimer();let n=new Date(t),i=("0"+n.getDate()).slice(-2),s=("0"+(n.getMonth()+1)).slice(-2),a=("0"+n.getHours()).slice(-2),o=("0"+n.getMinutes()).slice(-2),r=new Date,c=[];c[0]=this.translate.instant("lang.januaryShort"),c[1]=this.translate.instant("lang.februaryShort"),c[2]=this.translate.instant("lang.marchShort"),c[3]=this.translate.instant("lang.aprilShort"),c[4]=this.translate.instant("lang.mayShort"),c[5]=this.translate.instant("lang.juneShort"),c[6]=this.translate.instant("lang.julyShort"),c[7]=this.translate.instant("lang.augustShort"),c[8]=this.translate.instant("lang.septemberShort"),c[9]=this.translate.instant("lang.octoberShort"),c[10]=this.translate.instant("lang.novemberShort"),c[11]=this.translate.instant("lang.decemberShort");let l=Math.round(Math.abs((r.getTime()-n.getTime())/1e3)),d=("0"+r.getDate()).slice(-2),h=Number.isNaN(l)?1e3:1e3*this.getSecondsUntilUpdate(l);this.timer=this.ngZone.runOutsideAngular(()=>"undefined"!=typeof window?window.setTimeout(()=>{this.ngZone.run(()=>this.changeDetectorRef.markForCheck())},h):null);let u=Math.round(Math.abs(l/60)),p=Math.round(Math.abs(u/60)),f=Math.round(Math.abs(p/24));return Math.round(Math.abs(f/30.416)),Math.round(Math.abs(f/365)),t==this.translate.instant("lang.undefined")?this.translate.instant("lang.undefined"):Number.isNaN(l)?"":l<=45?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),this.translate.instant("lang.fewSeconds"),e):l<=90?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),this.translate.instant("lang.oneMinute"),e):u<=45?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),u+" "+this.translate.instant("lang.minutes"),e):u<=90?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),this.translate.instant("lang.oneHour"),e):p<=24&&i===d?this.getFormatedDate(this.translate.instant("lang.at").toLowerCase(),a+":"+o,e):p<=24||f<=5?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),f+" "+this.translate.instant("lang.dayS"),e):this.getFormatedDate(this.translate.instant("lang.dateTo").toLowerCase(),f<=345?n.getDate()+" "+c[n.getMonth()]:i+"/"+s+"/"+n.getFullYear(),e)}ngOnDestroy(){this.removeTimer()}removeTimer(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}getSecondsUntilUpdate(t){return t<60?2:t<3600?30:t<86400?300:3600}getFormatedDate(t,e,n){return"full"===n?`${t} ${e}`:e}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.fc(),i.Tb(i.B))},t.\u0275pipe=i.Sb({name:"timeAgo",type:t,pure:!1}),t})()},ZnWJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("fXoL"),s=n("sYmb"),a=n("tk/3"),o=n("tyNb"),r=n("ofXK"),c=n("MutI"),l=n("NFeN"),d=n("FKr1"),h=n("f0Cb");function u(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-nav-list"),i.Zb(1,"a",1),i.hc("click",(function(){return i.Hc(t),i.lc().backClicked()})),i.Ub(2,"mat-icon",2),i.Zb(3,"p",3),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Yb()}2&t&&(i.Eb(4),i.Uc(" ",i.nc(5,1,"lang.back")," "))}function p(t,e){1&t&&i.Ub(0,"mat-divider")}let f=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this._router=n,this.activatedRoute=i,this._location=s,this.user={},this.router=n}ngOnInit(){}backClicked(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.Tb(a.b),i.Tb(o.c),i.Tb(o.a),i.Tb(r.n))},t.\u0275cmp=i.Nb({type:t,selectors:[["menu-nav"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-list-item","",3,"click"],["color","primary","mat-list-icon","",1,"fa","fa-chevron-left"],["mat-line",""]],template:function(t,e){1&t&&(i.Qc(0,u,6,3,"mat-nav-list",0),i.Qc(1,p,1,0,"mat-divider",0)),2&t&&(i.sc("ngIf","/home"!=e.router.url&&"/profile"!=e.router.url&&"/about-us"!=e.router.url&&"/administration"!=e.router.url&&-1==e.router.url.indexOf("/basketList")&&-1==e.router.url.indexOf("/folders")&&"/followed"!=e.router.url),i.Eb(1),i.sc("ngIf","/home"!=e.router.url&&"/about-us"!=e.router.url&&"/administration"!=e.router.url&&-1==e.router.url.indexOf("/basketList")&&-1==e.router.url.indexOf("/folders")))},directives:[r.t,c.h,c.d,l.a,c.c,d.k,h.a],pipes:[s.d],encapsulation:2}),t})()},aEDk:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return L})),n.d(e,"j",(function(){return T})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return M})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return m})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return y})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return S})),n.d(e,"t",(function(){return _})),n.d(e,"u",(function(){return v})),n.d(e,"v",(function(){return h})),n.d(e,"w",(function(){return O})),n.d(e,"x",(function(){return P}));var i=n("fXoL");function s(t){return"string"==typeof t}function a(t){return-1!==["a","e","i","o","u"].indexOf(t)}function o(t){const[e,...n]=t.split(/\s/g);return[e.toLowerCase().split(/(?=['|-])/g).map(t=>t.indexOf("-")+t.indexOf("'")>-2?t.slice(0,2).toUpperCase()+t.slice(2):t.slice(0,1).toUpperCase()+t.slice(1)).join(""),...n].join(" ")}let r=(()=>{class t{transform(t){return s(t)?t.split("").reverse().join(""):Array.isArray(t)?t.slice().reverse():t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"reverse",type:t,pure:!0}),t})(),c=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),l=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),d=(()=>{class t{constructor(){this.irregularMap={herb:"an",honor:"an",honorable:"an",hour:"an",mba:"an",msc:"an","m.sc.":"an",unicorn:"a"}}transform(t){if(t&&""!==t){const e=t.trim().split(" ")[0];return this.irregularMap[e.toLocaleLowerCase()]?`${this.irregularMap[e.toLocaleLowerCase()]} ${t}`:a(t[0])?"an "+t:"a "+t}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"aOrAn",type:t,pure:!0}),t})(),h=(()=>{class t{transform(t){return s(t)?t.split(" ").map(t=>o(t)).join(" "):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"ucwords",type:t,pure:!0}),t})(),u=(()=>{class t{transform(t,e="\\s"){return s(t)?t.replace(new RegExp(`^[${e}]+`),""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"ltrim",type:t,pure:!0}),t})(),p=(()=>{class t{transform(t,e=1,n=""){if(e<=0)throw new RangeError;return 1===e?t:this.repeat(t,e-1,n)}repeat(t,e,n){return s(t)?0===e?t:t+n+this.repeat(t,e-1,n):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"repeat",type:t,pure:!0}),t})(),f=(()=>{class t{transform(t,e="\\s"){return s(t)?t.replace(new RegExp(`[${e}]+$`),""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"rtrim",type:t,pure:!0}),t})(),m=(()=>{class t{transform(t,e=[]){return s(t)?t.replace(/\{(\d+)}/g,(t,n)=>void 0===e[n]?t:e[n]):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"scan",type:t,pure:!0}),t})(),g=(()=>{class t{transform(t,e=0,n="",i=!0){if(!s(t))return t;if(t.length>e){if(i)return t.slice(0,e)+n;if(~t.indexOf(" ",e))return t.slice(0,t.indexOf(" ",e))+n}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"shorten",type:t,pure:!0}),t})(),b=(()=>{class t{transform(t,...e){return t.replace(e.length>0?new RegExp(`<(?!/?(${e.join("|")})s*/?)[^>]+>`,"g"):/<(?:.|\s)*?>/g,"")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"stripTags",type:t,pure:!0}),t})(),_=(()=>{class t{transform(t,e="\\s"){return s(t)?t.replace(new RegExp(`^[${e}]+|[${e}]+$`,"g"),""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"trim",type:t,pure:!0}),t})(),v=(()=>{class t{transform(t){return s(t)?o(t):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"ucfirst",type:t,pure:!0}),t})(),y=(()=>{class t{transform(t){return s(t)?t.toLowerCase().trim().replace(/[^\w\-]+/g," ").replace(/\s+/g,"-"):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"slugify",type:t,pure:!0}),t})(),x=(()=>{class t{transform(t,e="\\s"){return s(t)?t.toLowerCase().split(/[-_\s]/g).filter(t=>!!t).map((t,e)=>e?t.slice(0,1).toUpperCase()+t.slice(1):t).join(""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"camelize",type:t,pure:!0}),t})(),w=(()=>{class t{constructor(){this.latinMap={"\xc1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\xc2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\xc4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\xc0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\xc5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\xc3":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\xc9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\xca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\xcb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\xc8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\xcd":"I","\u012c":"I","\u01cf":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\xcc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\xd1":"N","\u01ca":"NJ","\xd3":"O","\u014e":"O","\u01d1":"O","\xd4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\xd6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\xd2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\xd5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u1e9e":"SS","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\xda":"U","\u016c":"U","\u01d3":"U","\xdb":"U","\u1e76":"U","\xdc":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\xd9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\xe1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\xe2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\xe4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\xe0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\xe5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\xe3":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\xe9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\xea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\xeb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\xe8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\xed":"i","\u012d":"i","\u01d0":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\xec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\xf1":"n","\u01cc":"nj","\xf3":"o","\u014f":"o","\u01d2":"o","\xf4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\xf6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\xf2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\xf5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\xdf":"ss","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\xfa":"u","\u016d":"u","\u01d4":"u","\xfb":"u","\u1e77":"u","\xfc":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\xf9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\xfd":"y","\u0177":"y","\xff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x"}}transform(t,e="\\s"){return s(t)?t.replace(/[^A-Za-z0-9]/g,t=>this.latinMap[t]||t):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"latinise",type:t,pure:!0}),t})(),C=(()=>{class t{transform(t,e="\\s"){return s(t)?t.replace(/\r\n/g,"\n").split("\n"):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"lines",type:t,pure:!0}),t})(),O=(()=>{class t{transform(t,e="\\s"){return s(t)?t.trim().replace(/\s+/g,"").replace(/[A-Z]/g,(t,e)=>e?"_"+t.toLowerCase():t.toLowerCase()):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"underscore",type:t,pure:!0}),t})(),k=(()=>{class t{transform(t,e,n){return s(t)?t.match(new RegExp(e,n)):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"match",type:t,pure:!0}),t})(),S=(()=>{class t{transform(t,e,n){return s(t)?new RegExp(e,n).test(t):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"test",type:t,pure:!0}),t})(),E=(()=>{class t{transform(t,e,n=" "){if(!s(t)||t.length>=e)return t;for(;t.length<e;)t=n+t;return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"lpad",type:t,pure:!0}),t})(),M=(()=>{class t{transform(t,e=1,n=" "){if(!s(t)||t.length>=e)return t;for(;t.length<e;)t+=n;return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"rpad",type:t,pure:!0}),t})(),I=(()=>{class t{constructor(){this.irregularMap={addendum:"addenda",alga:"algae",alumna:"alumnae",alumnus:"alumni",analysis:"analyses",antenna:"antennae",appendix:"appendices",aquarium:"aquaria",arch:"arches",axe:"axes",axis:"axes",bacillus:"bacilli",bacterium:"bacteria",basis:"bases",batch:"batches",beach:"beaches",beau:"beaux",bison:"bison",brush:"brushes",buffalo:"buffaloes",bureau:"bureaus",bus:"busses",cactus:"cacti",calf:"calves",chateau:"chateaux",cherry:"cherries",child:"children",church:"churches",circus:"circuses",cod:"cod",corps:"corps",corpus:"corpora",crisis:"crises",criterion:"criteria",curriculum:"curricula",datum:"data",deer:"deer",diagnosis:"diagnoses",die:"dice",domino:"dominoes",dwarf:"dwarves",echo:"echoes",elf:"elves",ellipsis:"ellipses",embargo:"embargoes",emphasis:"emphases",erratum:"errata",fax:"faxes",fireman:"firemen",fish:"fish",flush:"flushes",focus:"foci",foot:"feet",formula:"formulas",fungus:"fungi",genus:"genera",goose:"geese",grafito:"grafiti",half:"halves",hero:"heroes",hoax:"hoaxes",hoof:"hooves",hypothesis:"hypotheses",index:"indices",kiss:"kisses",knife:"knives",leaf:"leaves",life:"lives",loaf:"loaves",louse:"lice",man:"men",mango:"mangoes",matrix:"matrices",means:"means",medium:"media",memorandum:"memoranda",millennium:"milennia",moose:"moose",mosquito:"mosquitoes",motto:"mottoes",mouse:"mice",nebula:"nebulae",neurosis:"neuroses",nucleus:"nuclei",oasis:"oases",octopus:"octopodes",ovum:"ova",ox:"oxen",paralysis:"paralyses",parenthesis:"parentheses",person:"people",phenomenon:"phenomena",plateau:"plateaux",potato:"potatoes",quiz:"quizzes",radius:"radii",reflex:"reflexes","runner-up":"runners-up",scampo:"scampi",scarf:"scarves",scissors:"scissors",scratch:"scratches",self:"selves",series:"series",sheaf:"sheaves",sheep:"sheep",shelf:"shelves","son-in-law":"sons-in-law",species:"species",splash:"splashes",stimulus:"stimuli",stitch:"stitches",stratum:"strata",syllabus:"syllabi",symposium:"symposia",synopsis:"synopses",synthesis:"syntheses",tableau:"tableaux",tax:"taxes",that:"those",thesis:"theses",thief:"thieves",this:"these",tomato:"tomatoes",tooth:"teeth",tornado:"tornadoes",torpedo:"torpedoes",vertebra:"vertebrae",veto:"vetoes",vita:"vitae",volcano:"volcanoes",waltz:"waltzes",wash:"washes",watch:"watches",wharf:"wharves",wife:"wives",wolf:"wolves",woman:"women",zero:"zeroes"}}transform(t,e=0){if(!t||""===t)return"";if(1===e)return t;{const e=t.trim().split(" ")[t.trim().split(" ").length-1];return this.irregularMap[e.toLocaleLowerCase()]?e[0]===e[0].toLocaleUpperCase()?t.replace(e,this.irregularMap[e.toLocaleLowerCase()].replace(this.irregularMap[e.toLocaleLowerCase()][0],this.irregularMap[e.toLocaleLowerCase()][0].toLocaleUpperCase())):t.replace(e,this.irregularMap[e.toLocaleLowerCase()]):"y"===e[e.length-1]?a(e[e.length-2])?t+"s":t.replace(e,e.slice(0,-1)+"ies"):"s"===e[e.length-1]?t+"es":t+"s"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"makePluralString",type:t,pure:!0}),t})(),P=(()=>{class t{transform(t,e="",n=""){return s(t)?(e&&s(e)?e:"")+t+(n&&s(n)?n:""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"wrap",type:t,pure:!0}),t})(),T=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),A=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),D=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),R=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),L=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[c,T,A,D,l,R]}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("5+tZ"),s=n("SpAZ");function a(t=Number.POSITIVE_INFINITY){return Object(i.a)(s.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("5+tZ");function s(t,e){return Object(i.a)(t,e,1)}},bSwM:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return w}));var i=n("8LU1"),s=n("fXoL"),a=n("3Pt+"),o=n("FKr1"),r=n("R1ws"),c=n("GU7r"),l=n("u47x");const d=["input"],h=function(){return{enterDuration:150}},u=["*"],p=new s.r("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),f=new s.r("mat-checkbox-click-action");let m=0;const g={provide:a.r,useExisting:Object(s.W)(()=>y),multi:!0};class b{}class _{constructor(t){this._elementRef=t}}const v=Object(o.E)(Object(o.z)(Object(o.A)(Object(o.B)(_))));let y=(()=>{class t extends v{constructor(t,e,n,i,a,o,r,c){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=o,this._animationMode=r,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++m,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new s.o,this.indeterminateChange=new s.o,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(a)||0,this._focusMonitor.monitor(t,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),e.markForCheck()})}),this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=Object(i.c)(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=Object(i.c)(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=Object(i.c)(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new b;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(l.h),s.Tb(s.B),s.ec("tabindex"),s.Tb(f,8),s.Tb(r.a,8),s.Tb(p,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(s.ad(d,!0),s.ad(o.t,!0)),2&t&&(s.Cc(n=s.ic())&&(e._inputElement=n.first),s.Cc(n=s.ic())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(s.cc("id",e.id),s.Fb("tabindex",null),s.Jb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[s.Db([g]),s.Bb],ngContentSelectors:u,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(s.rc(),s.Zb(0,"label",0,1),s.Zb(2,"div",2),s.Zb(3,"input",3,4),s.hc("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),s.Yb(),s.Zb(5,"div",5),s.Ub(6,"div",6),s.Yb(),s.Ub(7,"div",7),s.Zb(8,"div",8),s.kc(),s.Zb(9,"svg",9),s.Ub(10,"path",10),s.Yb(),s.jc(),s.Ub(11,"div",11),s.Yb(),s.Yb(),s.Zb(12,"span",12,13),s.hc("cdkObserveContent",(function(){return e._onLabelTextChange()})),s.Zb(14,"span",14),s.Sc(15,"\xa0"),s.Yb(),s.qc(16),s.Yb(),s.Yb()),2&t){const t=s.Dc(1),n=s.Dc(13);s.Fb("for",e.inputId),s.Eb(2),s.Jb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),s.Eb(1),s.sc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),s.Fb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),s.Eb(2),s.sc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",s.yc(18,h))}},directives:[o.t,c.a],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const x={provide:a.q,useExisting:Object(s.W)(()=>w),multi:!0};let w=(()=>{class t extends a.b{}return t.\u0275fac=function(e){return C(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[s.Db([x]),s.Bb]}),t})();const C=s.bc(w);let O=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)}}),t})(),k=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[o.u,o.j,c.c,O],o.j,O]}),t})()},bTqV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return f}));var i=n("FKr1"),s=n("R1ws"),a=n("fXoL"),o=n("u47x");const r=["mat-button",""],c=["*"],l=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class d{constructor(t){this._elementRef=t}}const h=Object(i.z)(Object(i.B)(Object(i.A)(d)));let u=(()=>{class t extends h{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of l)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(o.h),a.Tb(s.a,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&a.ad(i.t,!0),2&t&&a.Cc(n=a.ic())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(a.Fb("disabled",e.disabled||null),a.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.Bb],attrs:r,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(a.rc(),a.Zb(0,"span",0),a.qc(1),a.Yb(),a.Ub(2,"div",1),a.Ub(3,"div",2)),2&t&&(a.Eb(2),a.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),a.sc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[i.t],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t extends u{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(o.h),a.Tb(a.l),a.Tb(s.a,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){1&t&&a.hc("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(a.Fb("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),a.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.Bb],attrs:r,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(a.rc(),a.Zb(0,"span",0),a.qc(1),a.Yb(),a.Ub(2,"div",1),a.Ub(3,"div",2)),2&t&&(a.Eb(2),a.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),a.sc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[i.t],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),f=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.u,i.j],i.j]}),t})()},bblj:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("mrSG"),s=n("vkgz"),a=n("nYR2"),o=n("JIr8"),r=n("Nqwj"),c=n("I65S"),l=n("fXoL"),d=n("sYmb"),h=n("tk/3"),u=n("AXEc"),p=n("rH+9"),f=n("ofXK"),m=n("Xa2L"),g=n("OigG");function b(t,e){1&t&&(l.Xb(0),l.Zb(1,"div",2),l.Ub(2,"mat-spinner"),l.Yb(),l.Wb())}function _(t,e){if(1&t&&(l.Zb(0,"div"),l.Ub(1,"app-contact-detail",4,5),l.Yb()),2&t){const t=e.$implicit;l.Eb(1),l.sc("contact",t)}}function v(t,e){if(1&t&&l.Qc(0,_,3,1,"div",3),2&t){const t=l.lc();l.sc("ngForOf",t.contacts)}}let y=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.contactService=i,this.functionsService=s,this.loading=!0,this.contacts=[],this.customFields=[],this.resId=null,this.mode="recipients"}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.getCustomFields(),null!==this.resId&&this.loadContactsOfResource(this.resId,this.mode)}))}getCustomFields(){return new Promise((t,e)=>{this.http.get("../rest/contactsCustomFields").pipe(Object(s.a)(e=>{this.customFields=e.customFields.map(t=>({id:t.id,label:t.label})),t(!0)})).subscribe()})}loadContactsOfResource(t,e){this.http.get(`../rest/resources/${t}/contacts?type=${e}`).pipe(Object(s.a)(t=>{this.contacts=t.contacts.map(t=>Object.assign(Object.assign({},t),{civility:this.contactService.formatCivilityObject(t.civility),fillingRate:this.contactService.formatFillingObject(t.fillingRate),customFields:this.functionsService.empty(t.customFields)?[]:this.formatCustomField(t.customFields)}))}),Object(a.a)(()=>this.loading=!1),Object(o.a)(t=>(this.notify.handleErrors(t),Object(c.of)(!1)))).subscribe()}formatCustomField(t){const e=[];return Object.keys(t).forEach(n=>{e.push({label:this.customFields.filter(t=>t.id==n).length>0?this.customFields.filter(t=>t.id==n)[0].label:n,value:t[n]})}),e}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(d.e),l.Tb(h.b),l.Tb(u.a),l.Tb(r.a),l.Tb(p.a))},t.\u0275cmp=l.Nb({type:t,selectors:[["app-contact-resource"]],inputs:{resId:"resId",mode:"mode"},features:[l.Db([r.a])],decls:4,vars:5,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],[4,"ngFor","ngForOf"],[3,"contact"],["appContactDetail",""]],template:function(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,b,3,0,"ng-container",0),l.Qc(2,v,1,1,"ng-template",null,1,l.Rc),l.Yb()),2&t){const t=l.Dc(3);l.Hb("contact-list-container contact-list-container-",e.contacts.length,""),l.Eb(1),l.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[f.t,m.c,f.s,g.a],styles:[".contact-list-container[_ngcontent-%COMP%]{padding:10px;display:grid;grid-template-columns:repeat(3,33%);grid-gap:10px}.contact-list-container-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.contact-list-container-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.contact-card[_ngcontent-%COMP%]{min-width:350px;width:100%;margin-top:10px;margin-bottom:10px;padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12)}.contact-card[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding-left:0;padding-right:0}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px 10px 5px}.mat-card-title[_ngcontent-%COMP%]{padding-right:15px}.contact-item[_ngcontent-%COMP%]{height:35px!important}.contact-header-image[_ngcontent-%COMP%]{background:#135f7f;font-size:18px;color:#fff}.contact-group[_ngcontent-%COMP%], .contact-header-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contact-group[_ngcontent-%COMP%]{color:#135f7f;font-size:16px!important}.contact-content[_ngcontent-%COMP%]{font-size:13px!important}.contact-address[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7}.contact-address[_ngcontent-%COMP%]:hover   .contact-content[_ngcontent-%COMP%]{text-decoration:underline}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:14px;color:#666}.contact-filling[_ngcontent-%COMP%]{position:absolute;right:20px}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden;justify-content:center;align-items:center}.newData[_ngcontent-%COMP%]{color:#f99830}"]}),t})()},bv9b:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return _}));var i=n("fXoL"),s=n("ofXK"),a=n("FKr1"),o=n("8LU1"),r=n("R1ws"),c=n("quSY"),l=n("xgIS"),d=n("pLZG");const h=["primaryValueBar"];class u{constructor(t){this._elementRef=t}}const p=Object(a.z)(u,"primary"),f=new i.r("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=Object(i.X)(s.e),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let m=0,g=(()=>{class t extends p{constructor(t,e,n,s){super(t),this._elementRef=t,this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.o,this._animationEndSubscription=c.a.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+m++;const a=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${a}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=b(Object(o.f)(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=b(t||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scaleX(${this.bufferValue/100})`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Object(l.a)(t,"transitionend").pipe(Object(d.a)(e=>e.target===t)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.B),i.Tb(r.a,8),i.Tb(f,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){var n;1&t&&i.ad(h,!0),2&t&&i.Cc(n=i.ic())&&(e._primaryValueBar=n.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Fb("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),i.Jb("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.Bb],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Zb(1,"defs"),i.Zb(2,"pattern",1),i.Ub(3,"circle",2),i.Yb(),i.Yb(),i.Ub(4,"rect",3),i.Yb(),i.jc(),i.Ub(5,"div",4),i.Ub(6,"div",5,6),i.Ub(8,"div",7)),2&t&&(i.Eb(2),i.sc("id",e.progressbarId),i.Eb(2),i.Fb("fill",e._rectangleFillValue),i.Eb(1),i.sc("ngStyle",e._bufferTransform()),i.Eb(1),i.sc("ngStyle",e._primaryTransform()))},directives:[s.w],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function b(t,e=0,n=100){return Math.max(e,Math.min(n,t))}let _=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[s.c,a.j],a.j]}),t})()},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return i}))},c4Wt:function(t,e,n){"use strict";var i=n("QtHX");e.concatAll=function(){return i.mergeAll(1)}},cH1L:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}));var i=n("fXoL"),s=n("ofXK");const a=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.X)(s.e)}});let o=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(a,8))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(a,8))},token:t,providedIn:"root"}),t})(),r=(()=>{class t{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new i.o}get dir(){return this._dir}set dir(t){const e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[i.Db([{provide:o,useExisting:t}])]}),t})(),c=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})()},cMWS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("tk/3"),s=n("ofXK"),a=n("sYmb"),o=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[],imports:[[s.c,a.c.forRoot({loader:{provide:a.b,useFactory:l,deps:[i.b]}})],a.c]}),t})();class c{constructor(t){this.http=t}getTranslation(t){return this.http.get("../rest/languages/"+t)}}function l(t){return new c(t)}},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("HDdC"),s=n("DH7j"),a=n("lJxs"),o=n("XoHu"),r=n("Cfvw");function c(...t){if(1===t.length){const e=t[0];if(Object(s.a)(e))return l(e,null);if(Object(o.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(s.a)(t[0])?t[0]:t,null).pipe(Object(a.a)(t=>e(...t)))}return l(t,null)}function l(t,e){return new i.a(n=>{const i=t.length;if(0===i)return void n.complete();const s=new Array(i);let a=0,o=0;for(let c=0;c<i;c++){const l=Object(r.a)(t[c]);let d=!1;n.add(l.subscribe({next:t=>{d||(d=!0,o++),s[c]=t},error:t=>n.error(t),complete:()=>{a++,a!==i&&d||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=s[n],t),{}):s),n.complete())}}))}})}},d3UM:function(t,e,n){"use strict";n.d(e,"a",(function(){return V})),n.d(e,"b",(function(){return H})),n.d(e,"c",(function(){return z}));var i=n("rDax"),s=n("ofXK"),a=n("fXoL"),o=n("FKr1"),r=n("kmnG"),c=n("vxfF"),l=n("u47x"),d=n("8LU1"),h=n("0EQZ"),u=n("FtGj"),p=n("XNiG"),f=n("NXyV"),m=n("VRyK"),g=n("JX91"),b=n("eIep"),_=n("IzEk"),v=n("pLZG"),y=n("lJxs"),x=n("/uUt"),w=n("1G5W"),C=n("R0Ic"),O=n("cH1L"),k=n("3Pt+");const S=["trigger"],E=["panel"];function M(t,e){if(1&t&&(a.Zb(0,"span",8),a.Sc(1),a.Yb()),2&t){const t=a.lc();a.Eb(1),a.Tc(t.placeholder||"\xa0")}}function I(t,e){if(1&t&&(a.Zb(0,"span"),a.Sc(1),a.Yb()),2&t){const t=a.lc(2);a.Eb(1),a.Tc(t.triggerValue||"\xa0")}}function P(t,e){1&t&&a.qc(0,0,["*ngSwitchCase","true"])}function T(t,e){if(1&t&&(a.Zb(0,"span",9),a.Qc(1,I,2,1,"span",10),a.Qc(2,P,1,0,void 0,11),a.Yb()),2&t){const t=a.lc();a.sc("ngSwitch",!!t.customTrigger),a.Eb(2),a.sc("ngSwitchCase",!0)}}function A(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",12),a.Zb(1,"div",13,14),a.hc("@transformPanel.done",(function(e){return a.Hc(t),a.lc()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return a.Hc(t),a.lc()._handleKeydown(e)})),a.qc(3,1),a.Yb(),a.Yb()}if(2&t){const t=a.lc();a.sc("@transformPanelWrap",void 0),a.Eb(1),a.Hb("mat-select-panel ",t._getPanelTheme(),""),a.Pc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),a.sc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),a.Fb("id",t.id+"-panel")}}const D=[[["mat-select-trigger"]],"*"],R=["mat-select-trigger","*"],L={transformPanelWrap:Object(C.n)("transformPanelWrap",[Object(C.m)("* => void",Object(C.i)("@transformPanel",[Object(C.f)()],{optional:!0}))]),transformPanel:Object(C.n)("transformPanel",[Object(C.k)("void",Object(C.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(C.k)("showing",Object(C.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(C.k)("showing-multiple",Object(C.l)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(C.m)("void => *",Object(C.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(C.m)("* => void",Object(C.e)("100ms 25ms linear",Object(C.l)({opacity:0})))])};let F=0;const j=new a.r("mat-select-scroll-strategy"),Y=new a.r("MAT_SELECT_CONFIG"),Z={provide:j,deps:[i.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class N{constructor(t,e){this.source=t,this.value=e}}class U{constructor(t,e,n,i,s){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=s}}const B=Object(o.A)(Object(o.E)(Object(o.B)(Object(o.C)(U))));let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-select-trigger"]]}),t})(),V=(()=>{class t extends B{constructor(t,e,n,i,s,o,r,c,l,d,h,u,x,w){super(s,i,r,c,d),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=d,this._liveAnnouncer=x,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+F++,this._destroy=new p.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new p.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Object(f.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(g.a)(t),Object(b.a)(()=>Object(m.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Object(_.a)(1),Object(b.a)(()=>this.optionSelectionChanges))}),this.openedChange=new a.o,this._openedStream=this.openedChange.pipe(Object(v.a)(t=>t),Object(y.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(v.a)(t=>!t),Object(y.a)(()=>{})),this.selectionChange=new a.o,this.valueChange=new a.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=u,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,w&&(null!=w.disableOptionCentering&&(this.disableOptionCentering=w.disableOptionCentering),null!=w.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=w.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(d.c)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(d.c)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(d.c)(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Object(d.f)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new h.c(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(x.a)(),Object(w.a)(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Object(w.a)(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(w.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(g.a)(null),Object(w.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(_.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===u.e||e===u.s||e===u.k||e===u.o,i=e===u.g||e===u.q,s=this._keyManager;if(!s.isTyping()&&i&&!Object(u.v)(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;e===u.j||e===u.f?(e===u.j?s.setFirstItemActive():s.setLastItemActive(),t.preventDefault()):s.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=n===u.e||n===u.s,s=e.isTyping();if(n===u.j||n===u.f)t.preventDefault(),n===u.j?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(s||n!==u.g&&n!==u.q||!e.activeItem||Object(u.v)(t))if(!s&&this._multiple&&n===u.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(_.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Object(a.Y)()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new l.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(w.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(w.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(m.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(w.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(m.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(w.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new N(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Object(o.x)(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Object(o.y)(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let s=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);s+=Object(o.x)(s,this.options,this.optionGroups);const a=n/2;this._scrollTop=this._calculateOverlayScroll(s,a,i),this._offsetY=this._calculateOverlayOffsetY(s,a,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let s;if(this.multiple)s=40;else{let t=this._selectionModel.selected[0]||this.options.first;s=t&&t.group?32:16}n||(s*=-1);const a=0-(t.left+s-(n?i:0)),o=t.right+s-e.width+(n?0:i);a>0?s+=a+8:o>0&&(s-=o+8),this.overlayDir.offsetX=Math.round(s),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),s=(i-this._triggerRect.height)/2,a=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-a))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*o-s))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,s=n.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-a-this._triggerRect.height;o>s?this._adjustPanelUp(o,s):a>i?this._adjustPanelDown(a,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(c.h),a.Tb(a.h),a.Tb(a.B),a.Tb(o.d),a.Tb(a.l),a.Tb(O.c,8),a.Tb(k.v,8),a.Tb(k.l,8),a.Tb(r.a,8),a.Tb(k.s,10),a.ec("tabindex"),a.Tb(j),a.Tb(l.k),a.Tb(Y,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,z,!0),a.Lb(n,o.o,!0),a.Lb(n,o.n,!0)),2&t&&(a.Cc(i=a.ic())&&(e.customTrigger=i.first),a.Cc(i=a.ic())&&(e.options=i),a.Cc(i=a.ic())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(a.ad(S,!0),a.ad(E,!0),a.ad(i.a,!0)),2&t&&(a.Cc(n=a.ic())&&(e.trigger=n.first),a.Cc(n=a.ic())&&(e.panel=n.first),a.Cc(n=a.ic())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&a.hc("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(a.Fb("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),a.Jb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[a.Db([{provide:r.d,useExisting:t},{provide:o.h,useExisting:t}]),a.Bb,a.Cb],ngContentSelectors:R,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(a.rc(D),a.Zb(0,"div",0,1),a.hc("click",(function(){return e.toggle()})),a.Zb(3,"div",2),a.Qc(4,M,2,1,"span",3),a.Qc(5,T,3,2,"span",4),a.Yb(),a.Zb(6,"div",5),a.Ub(7,"div",6),a.Yb(),a.Yb(),a.Qc(8,A,4,11,"ng-template",7),a.hc("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=a.Dc(1);a.Eb(3),a.sc("ngSwitch",e.empty),a.Eb(1),a.sc("ngSwitchCase",!0),a.Eb(1),a.sc("ngSwitchCase",!1),a.Eb(3),a.sc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[i.b,s.x,s.y,i.a,s.z,s.q],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[L.transformPanelWrap,L.transformPanel]},changeDetection:0}),t})(),H=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[Z],imports:[[s.c,i.f,o.p,o.j],c.c,r.e,o.p,o.j]}),t})()},"d7/a":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("fXoL"),s=n("sYmb"),a=n("zZ42"),o=n("5cI5"),r=n("4zkx"),c=n("rH+9"),l=n("tyNb");let d=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.joyrideService=e,this.localStorage=n,this.headerService=i,this.functionService=s,this.router=a,this.currentStepType="",this.currentTour=null,this.tour=[{type:"welcome",stepId:"welcome",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.welcomeTourTitle")}</b>`,description:this.translate.instant("lang.welcomeTourDescription"),redirectToAdmin:!1},{type:"email",stepId:"admin_email_server@administration",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.admin_email_serverTitle")}</b>`,description:this.translate.instant("lang.admin_email_serverTour"),redirectToAdmin:!1},{type:"email",stepId:"emailTour@administration/sendmail",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.emailTourTitle")}</b>`,description:this.translate.instant("lang.emailTourDescription"),redirectToAdmin:!1},{type:"email",stepId:"emailTour2@administration/sendmail",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.emailTour2Title")}</b>`,description:this.translate.instant("lang.emailTour2Description"),redirectToAdmin:!1},{type:"notification",stepId:"admin_notif@administration",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.admin_notifTitle")}</b>`,description:this.translate.instant("lang.admin_notifTour"),redirectToAdmin:!1},{type:"notification",stepId:"BASKETS_Tour@administration/notifications",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.notifTour2Title")}</b>`,description:this.translate.instant("lang.notifTour2Description"),redirectToAdmin:!1},{type:"notification",stepId:"createScriptTour@administration/notifications/4",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.createScriptTourTitle")}</b>`,description:this.translate.instant("lang.createScriptTourDescription"),redirectToAdmin:!1},{type:"notification",stepId:"notifTour@administration/notifications",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.notifTourTitle")}</b>`,description:this.translate.instant("lang.notifTourDescription"),redirectToAdmin:!1},{type:"notification",stepId:"notifTour3@administration/notifications",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.notifTour3Title")}</b>`,description:this.translate.instant("lang.notifTour3Description"),redirectToAdmin:!1},{type:"notification",stepId:"notifTour4@administration/notifications",title:`<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">${this.translate.instant("lang.notifTour4Title")}</b>`,description:this.translate.instant("lang.notifTour4Description"),redirectToAdmin:!0}],this.featureTourEnd=[],this.getCurrentStepType()}init(){if(!this.functionService.empty(this.currentStepType)){const t=this.tour.filter(t=>t.type===this.currentStepType).map(t=>t.stepId);this.joyrideService.startTour({customTexts:{next:">>",prev:"<<",done:this.translate.instant("lang.getIt")},steps:t,waitingTime:500}).subscribe(t=>{this.currentTour=this.tour.filter(e=>e.stepId.split("@")[0]===t.name)[0];const e=document.getElementsByClassName("joyride-step__container");e[0].style.width="auto",e[0].style.height="auto",document.getElementsByClassName("joyride-step__header")[0].innerHTML=""+this.currentTour.title,document.getElementsByClassName("joyride-step__body")[0].innerHTML=""+this.currentTour.description},t=>{},()=>{this.currentTour.redirectToAdmin&&this.router.navigate(["/administration"]),this.endTour()})}}getCurrentStepType(){null!==this.localStorage.get("featureTourEnd_"+this.headerService.user.id)&&(this.featureTourEnd=JSON.parse(this.localStorage.get("featureTourEnd_"+this.headerService.user.id)));const t=[...new Set(this.tour.map(t=>t.type))];this.currentStepType=t.filter(t=>-1===this.featureTourEnd.indexOf(t))[0]}endTour(){this.featureTourEnd.push(this.currentStepType),this.localStorage.save("featureTourEnd_"+this.headerService.user.id,JSON.stringify(this.featureTourEnd)),this.getCurrentStepType()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(s.e),i.dc(a.c),i.dc(o.a),i.dc(r.a),i.dc(c.a),i.dc(l.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},dATD:function(t,e,n){"use strict";n.d(e,"a",(function(){return kt}));var i=n("fXoL"),s=n("1YbM"),a=n("3Pt+"),o=n("LRne"),r=n("vkgz"),c=n("Kj3r"),l=n("pLZG"),d=n("eIep"),h=n("lJxs"),u=n("nYR2"),p=n("JIr8"),f=n("0IaG"),m=n("sYmb"),g=n("tk/3"),b=n("eiH7"),_=n("4zkx"),v=n("bTqV"),y=n("NFeN"),x=n("XhcP"),w=n("ofXK"),C=n("Gon0"),O=n("OigG"),k=n("GUHb");const S=["drawer"];function E(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-contact-form",13),i.hc("onSubmitEvent",(function(e){return i.Hc(t),i.lc().dialogRef.close(e)})),i.Yb()}if(2&t){const t=i.lc();i.sc("creationMode",t.creationMode)("contactId",t.data.contactId)}}function M(t,e){if(1&t&&i.Ub(0,"app-contact-detail",14),2&t){const t=i.lc();i.sc("contact",t.contact)}}function I(t,e){if(1&t&&i.Ub(0,"app-document-viewer",15,16),2&t){const t=i.lc();i.sc("editMode",!1)("base64",t.headerService.getLastLoadedFile())}}function P(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",17),i.Zb(1,"button",18),i.hc("click",(function(){return i.Hc(t),i.lc().switchMode()})),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.update")))}let T=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this.privilegeService=n,this.data=i,this.dialogRef=s,this.headerService=a,this.renderer=o,this.creationMode=!0,this.canUpdate=!1,this.contact=null,this.mode="read",this.loadedDocument=!1}ngOnInit(){null!==this.data.contactId?(this.contact={id:this.data.contactId,type:this.data.contactType},this.creationMode=!1):(this.creationMode=!0,this.mode="update","update"===this.mode&&($(".maarch-modal").css({height:"99vh"}),$(".maarch-modal").css({width:"99vw"})),null!==this.headerService.getLastLoadedFile()&&(this.drawer.toggle(),setTimeout(()=>{this.loadedDocument=!0},200))),this.canUpdate=this.privilegeService.hasCurrentUserPrivilege("update_contacts")}switchMode(){this.mode="read"===this.mode?"update":"read","update"===this.mode&&($(".maarch-modal").css({height:"99vh"}),$(".maarch-modal").css({width:"99vw"})),null!==this.headerService.getLastLoadedFile()&&(this.drawer.toggle(),setTimeout(()=>{this.loadedDocument=!0},200))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m.e),i.Tb(g.b),i.Tb(b.a),i.Tb(f.a),i.Tb(f.h),i.Tb(_.a),i.Tb(i.H))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.Oc(S,!0),2&t&&i.Cc(n=i.ic())&&(e.drawer=n.first)},decls:16,vars:6,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"modal-container"],[3,"creationMode","contactId","onSubmitEvent",4,"ngIf"],[3,"contact",4,"ngIf"],["position","end","mode","side","autoFocus","false",2,"overflow-x","hidden","width","50%"],["drawer",""],["style","height:100%;width:100%;position: relative;",3,"editMode","base64",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[3,"creationMode","contactId","onSubmitEvent"],[3,"contact"],[2,"height","100%","width","100%","position","relative",3,"editMode","base64"],["appDocumentViewer",""],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.Yb(),i.Zb(4,"button",3),i.hc("click",(function(){return e.dialogRef.close()})),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"mat-dialog-content",5),i.Zb(7,"mat-sidenav-container"),i.Zb(8,"mat-sidenav-content"),i.Qc(9,E,1,2,"app-contact-form",6),i.Qc(10,M,1,1,"app-contact-detail",7),i.Yb(),i.Zb(11,"mat-sidenav",8,9),i.Qc(13,I,2,2,"app-document-viewer",10),i.Yb(),i.Yb(),i.Yb(),i.Ub(14,"span",11),i.Qc(15,P,4,3,"div",12),i.Yb()),2&t&&(i.Eb(3),i.Uc(" ",e.translate.instant(e.creationMode?"lang.contactCreation":"lang.contact")," "),i.Eb(1),i.sc("title",e.translate.instant("lang.close")),i.Eb(5),i.sc("ngIf","update"===e.mode),i.Eb(1),i.sc("ngIf","read"===e.mode),i.Eb(3),i.sc("ngIf",e.loadedDocument),i.Eb(2),i.sc("ngIf",e.canUpdate&&"read"===e.mode&&"contact"===e.contact.type))},directives:[f.i,v.b,y.a,f.f,x.e,x.f,w.t,x.d,C.a,O.a,k.a,f.c],pipes:[m.d],styles:[".admin-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:90vw}.mat-sidenav-container[_ngcontent-%COMP%]{height:100%}"]}),t})();var A=n("Nqwj"),D=n("AXEc"),R=n("A6w4"),L=n("aEDk"),F=n("rH+9"),j=n("kmnG"),Y=n("qFsG"),Z=n("/1cH"),N=n("FKr1"),U=n("Wp6s"),B=n("MutI"),z=n("Xa2L"),V=n("A5z7");const H=["autoCompleteInput"];function Q(t,e){if(1&t&&(i.Zb(0,"sup",27),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc("",t.civility.abbreviation,"\xa0")}}function W(t,e){if(1&t&&(i.Zb(0,"mat-card-title",25),i.Qc(1,Q,2,1,"sup",26),i.Sc(2),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.sc("title",t.civility.label+" "+t.firstname+" "+t.lastname),i.Eb(1),i.sc("ngIf",!e.empty(t.civility.abbreviation)),i.Eb(1),i.Vc("",t.firstname," ",t.lastname,"")}}function G(t,e){if(1&t&&(i.Zb(0,"mat-card-title",25),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.sc("title",t.company),i.Eb(1),i.Tc(t.company)}}function q(t,e){if(1&t&&(i.Zb(0,"mat-card-subtitle",25),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.sc("title",t.function),i.Eb(1),i.Uc(" ",t.function,"\xa0 ")}}function X(t,e){if(1&t&&i.Ub(0,"i",28),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Pc("color",t.fillingRate.color),i.sc("title",e.translate.instant("lang.contactsFillingRate")+" : "+t.fillingRate.rate+"%")}}function J(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",30),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.sc("title",e.translate.instant("lang.contactsParameters_company")),i.Eb(1),i.sc("title",t.company),i.Eb(1),i.Uc(" ",t.company," ")}}function K(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.sc("title",t.addressAdditional1),i.Eb(1),i.Uc(" (",t.addressAdditional1,") ")}}function tt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",32),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Qc(4,K,2,2,"p",33),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.sc("title",e.translate.instant("lang.contactsParameters_department")),i.Eb(1),i.sc("title",t.department),i.Eb(1),i.Uc(" ",t.department," "),i.Eb(1),i.sc("ngIf",!e.empty(t.addressAdditional1))}}function et(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",34),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.sc("title",e.translate.instant("lang.email")),i.Eb(1),i.sc("title",t.email),i.Eb(1),i.Uc(" ",t.email," ")}}function nt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",35),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.sc("title",e.translate.instant("lang.phoneNumber")),i.Eb(1),i.sc("title",t.phone),i.Eb(1),i.Uc(" ",t.phone," ")}}function it(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.sc("title",t.addressStreet),i.Eb(1),i.Vc(" ",t.addressNumber," ",t.addressStreet," ")}}function st(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.sc("title",t.addressAdditional2),i.Eb(1),i.Uc(" (",t.addressAdditional2,") ")}}function at(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.sc("title",t.addressPostcode+" "+t.addressTown),i.Eb(1),i.Vc(" ",t.addressPostcode," ",t.addressTown," ")}}function ot(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){const t=i.lc(2).$implicit;i.sc("title",t.addressCountry),i.Eb(1),i.Uc(" ",t.addressCountry," ")}}function rt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",36),i.Ub(1,"mat-icon",37),i.Qc(2,it,2,3,"p",33),i.Qc(3,st,2,2,"p",33),i.Qc(4,at,2,3,"p",33),i.Qc(5,ot,2,2,"p",33),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.sc("title",e.translate.instant("lang.address")),i.Eb(2),i.sc("ngIf",!e.empty(t.addressNumber)||!e.empty(t.addressStreet)),i.Eb(1),i.sc("ngIf",!e.empty(t.addressAdditional2)),i.Eb(1),i.sc("ngIf",!e.empty(t.addressPostcode)||!e.empty(t.addressTown)),i.Eb(1),i.sc("ngIf",!e.empty(t.addressCountry))}}function ct(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",38),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("title",t.label),i.Eb(1),i.sc("title",t.value),i.Eb(1),i.Uc(" ",t.value," ")}}function lt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ct,4,3,"mat-list-item",22),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",null!==t.value)}}function dt(t,e){if(1&t&&(i.Zb(0,"mat-option",17),i.Zb(1,"mat-card"),i.Zb(2,"mat-card-header",18),i.Ub(3,"div",19),i.Qc(4,W,3,4,"mat-card-title",20),i.Qc(5,G,2,2,"mat-card-title",20),i.Qc(6,q,2,2,"mat-card-subtitle",20),i.Qc(7,X,1,3,"i",21),i.Yb(),i.Zb(8,"mat-card-content"),i.Zb(9,"mat-list"),i.Qc(10,J,4,3,"mat-list-item",22),i.Qc(11,tt,5,4,"mat-list-item",22),i.Qc(12,et,4,3,"mat-list-item",22),i.Qc(13,nt,4,3,"mat-list-item",22),i.Qc(14,rt,6,5,"mat-list-item",23),i.Qc(15,lt,2,1,"ng-container",24),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc(3);i.sc("id",n.id+"-"+t.id)("value",t),i.Eb(3),i.Jb("fa-address-card","contact"===t.type)("fa-users","contactGroup"===t.type)("fa-sitemap","entity"===t.type)("fa-user","user"===t.type),i.sc("title",n.translate.instant("lang.contact_"+t.type)),i.Eb(1),i.sc("ngIf",!n.empty(t.firstname)||!n.empty(t.lastname)),i.Eb(1),i.sc("ngIf",n.empty(t.firstname)&&n.empty(t.lastname)),i.Eb(1),i.sc("ngIf",!n.empty(t.function)),i.Eb(1),i.sc("ngIf","contact"===t.type&&!n.empty(t.fillingRate.rate)),i.Eb(3),i.sc("ngIf",!(n.empty(t.firstname)&&n.empty(t.lastname)||n.empty(t.company))),i.Eb(1),i.sc("ngIf",!n.empty(t.department)),i.Eb(1),i.sc("ngIf",!n.empty(t.email)),i.Eb(1),i.sc("ngIf",!n.empty(t.phone)),i.Eb(1),i.sc("ngIf",!(n.empty(t.addressNumber)&&n.empty(t.addressStreet)&&n.empty(t.addressAdditional2)&&n.empty(t.addressPostcode)&&n.empty(t.addressTown)&&n.empty(t.addressCountry))),i.Eb(1),i.sc("ngForOf",t.customFields)}}function ht(t,e){if(1&t&&(i.Xb(0),i.Qc(1,dt,16,21,"mat-option",16),i.mc(2,"async"),i.Wb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngForOf",i.nc(2,1,t.filteredOptions))}}function ut(t,e){if(1&t&&i.Ub(0,"mat-option",39),2&t){const t=i.lc(2);i.sc("innerHTML",t.listInfo,i.Ic)}}function pt(t,e){1&t&&(i.Zb(0,"mat-option",40),i.Ub(1,"mat-spinner",41),i.Yb())}function ft(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",42),i.Zb(1,"a",43),i.hc("click",(function(e){i.Hc(t);const n=i.lc(2);return e.stopPropagation(),n.openContact()})),i.Ub(2,"mat-icon",44),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(3),i.Uc(" ",i.nc(4,1,"lang.createContact")," "))}function mt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field",6),i.Ub(1,"mat-icon",7),i.Zb(2,"input",8,9),i.hc("click",(function(e){i.Hc(t);const n=i.lc();return e.stopPropagation(),n.noResultFound=null})),i.Yb(),i.Zb(4,"mat-autocomplete",10,11),i.hc("optionSelected",(function(e){return i.Hc(t),i.lc().selectOpt(e)})),i.Qc(6,ht,3,3,"ng-container",12),i.Qc(7,ut,1,1,"mat-option",13),i.Qc(8,pt,2,0,"mat-option",14),i.Qc(9,ft,5,3,"div",15),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(5),e=i.lc();i.Eb(2),i.sc("id",e.id)("placeholder",e.translate.instant("lang.searchContact"))("formControl",e.myControl)("matAutocomplete",t),i.Eb(4),i.sc("ngIf",e.options.length>0&&!e.loading),i.Eb(1),i.sc("ngIf",0===e.options.length&&!e.loading),i.Eb(1),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",e.canAdd&&(null!==e.noResultFound||e.options.length>0)&&!e.loading)}}function gt(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",45),i.Zb(1,"button",46),i.hc("click",(function(){return i.Hc(t),i.lc().resetAll()})),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.deleteAll")))}function bt(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.Uc(" ",e.valuesToDisplay[t.id].firstname," ")}}function _t(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.Uc(" (",e.valuesToDisplay[t.id].company,")")}}function vt(t,e){if(1&t&&i.Ub(0,"i",54),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Pc("color",e.valuesToDisplay[t.id].fillingRate.color)}}function yt(t,e){1&t&&i.Ub(0,"mat-icon",55)}function xt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",49),i.hc("removed",(function(){i.Hc(t);const n=e.index;return i.lc(3).removeItem(n)}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).openContact(n)})),i.Zb(1,"span",50),i.Ub(2,"i",51),i.Qc(3,bt,2,1,"ng-container",12),i.Sc(4),i.Qc(5,_t,2,1,"ng-container",12),i.Yb(),i.Qc(6,vt,1,2,"i",52),i.Qc(7,yt,1,0,"mat-icon",53),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(3);i.sc("removable",!n.controlAutocomplete.disabled),i.Eb(2),i.Jb("fa-address-card","contact"===n.valuesToDisplay[t.id].type)("fa-sitemap","entity"===n.valuesToDisplay[t.id].type)("fa-user","user"===n.valuesToDisplay[t.id].type),i.sc("title",n.translate.instant("lang."+n.valuesToDisplay[t.id].type)),i.Eb(1),i.sc("ngIf",!n.empty(n.valuesToDisplay[t.id].firstname)),i.Eb(1),i.Uc(" ",n.valuesToDisplay[t.id].lastname," "),i.Eb(1),i.sc("ngIf",!n.empty(n.valuesToDisplay[t.id].company)),i.Eb(1),i.sc("ngIf",!n.functions.empty(n.valuesToDisplay[t.id].fillingRate.color)),i.Eb(1),i.sc("ngIf",!n.controlAutocomplete.disabled)}}function wt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,xt,8,13,"mat-chip",48),i.Wb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngForOf",t.controlAutocomplete.value)}}function Ct(t,e){if(1&t&&(i.Zb(0,"mat-chip-list",47),i.Qc(1,wt,2,1,"ng-container",12),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",!t.loadingValues)}}function Ot(t,e){1&t&&(i.Zb(0,"div",56),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noSelectedContact")," "))}let kt=(()=>{class t{constructor(t,e,n,s,o,r,c,l,d,h){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.headerService=o,this.appService=r,this.latinisePipe=c,this.privilegeService=l,this.contactService=d,this.functions=h,this.loading=!1,this.loadingValues=!0,this.key="id",this.canAdd=!1,this.canUpdate=!1,this.noResultFound=null,this.myControl=new a.h,this.valuesToDisplay={},this.newIds=[],this.customFields=[],this.id="contact-autocomplete",this.singleMode=!1,this.retrieveDocumentEvent=new i.o}ngOnInit(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.canAdd=this.privilegeService.hasCurrentUserPrivilege("create_contacts"),this.canUpdate=this.privilegeService.hasCurrentUserPrivilege("update_contacts"),this.getCustomFields(),this.initFormValue(),this.initAutocompleteRoute()}initAutocompleteRoute(){this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(r.a)(()=>{this.noResultFound=null,this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}),Object(c.a)(300),Object(l.a)(t=>t.length>2),Object(r.a)(()=>this.loading=!0),Object(d.a)(t=>this.getDatas(t)),Object(h.a)(t=>(t=t.filter(t=>!this.singleMode||"entity"!==t.type&&"contactGroup"!==t.type&&this.singleMode)).map(t=>Object.assign(Object.assign({},t),{civility:this.contactService.formatCivilityObject(t.civility),fillingRate:this.contactService.formatFillingObject(t.fillingRate),customFields:void 0!==t.customFields?this.formatCustomField(t.customFields):[]}))),Object(r.a)(t=>{0===t.length?(this.noResultFound=!0,this.listInfo=this.translate.instant("lang.noAvailableValue")):(this.noResultFound=!1,this.listInfo=""),this.options=t,this.filteredOptions=Object(o.a)(this.options),this.loading=!1})).subscribe()}getCustomFields(){this.http.get("../rest/contactsCustomFields").pipe(Object(r.a)(t=>{this.customFields=t.customFields.map(t=>({id:t.id,label:t.label}))})).subscribe()}formatCustomField(t){const e=[];return Object.keys(t).forEach(n=>{e.push({label:this.customFields.filter(t=>t.id==n)[0].label,value:t[n]})}),e}getDatas(t){return this.http.get("../rest/autocomplete/correspondents",{params:{search:t}})}selectOpt(t){this.setFormValue(t.option.value),this.myControl.setValue("")}initFormValue(){this.controlAutocomplete.value.forEach(t=>{this.valuesToDisplay[t.id]={type:"",firstname:"",lastname:this.translate.instant("lang.undefined"),company:"",fillingRate:{color:""}},"contact"===t.type?this.http.get("../rest/contacts/"+t.id).pipe(Object(r.a)(t=>{this.valuesToDisplay[t.id]={type:"contact",firstname:t.firstname,lastname:t.lastname,company:t.company,fillingRate:this.functions.empty(t.fillingRate)?"":{color:this.contactService.getFillingColor(t.fillingRate.thresholdLevel)}}}),Object(u.a)(()=>this.loadingValues=!1),Object(p.a)(t=>(this.notify.error(t.error.errors),Object(o.a)(!1)))).subscribe():"user"===t.type?this.http.get("../rest/users/"+t.id).pipe(Object(r.a)(t=>{this.valuesToDisplay[t.id]={type:"user",firstname:t.firstname,lastname:t.lastname,fillingRate:{color:""}}}),Object(u.a)(()=>this.loadingValues=!1),Object(p.a)(t=>(this.notify.error(t.error.errors),Object(o.a)(!1)))).subscribe():"entity"===t.type&&this.http.get("../rest/entities/"+t.id).pipe(Object(r.a)(t=>{this.valuesToDisplay[t.id]={type:"entity",lastname:t.entity_label,fillingRate:{color:""}}}),Object(u.a)(()=>this.loadingValues=!1),Object(p.a)(t=>(this.notify.error(t.error.errors),Object(o.a)(!1)))).subscribe()})}setFormValue(t){"contactGroup"===t.type?this.http.get("../rest/contactsGroups/"+t.id).pipe(Object(h.a)(t=>t.contactsGroup.contacts.map(t=>({id:t.id,type:t.type,lastname:t.contact,fillingRate:this.functions.empty(t.thresholdLevel)?"":{color:this.contactService.getFillingColor(t.thresholdLevel)}}))),Object(r.a)(t=>{t.forEach(t=>{this.setContact(t)})}),Object(u.a)(()=>this.loadingValues=!1),Object(p.a)(t=>(console.log(t),this.notify.error(t.error.errors),Object(o.a)(!1)))).subscribe():this.setContact(t)}setContact(t){if(-1===this.controlAutocomplete.value.map(t=>t.id).indexOf(t.id)){let e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push({type:t.type,id:t.id}),this.valuesToDisplay[t.id]=t,this.controlAutocomplete.setValue(e),this.loadingValues=!1}}resetAutocomplete(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.myControl.setValue("")}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.options.filter(t=>this.latinisePipe.transform(t[this.key].toLowerCase()).includes(e))}return this.options}unsetValue(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}removeItem(t){if(-1===this.newIds.indexOf(this.controlAutocomplete.value[t])){const e=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(e)}else this.http.delete("../rest/tags/"+this.controlAutocomplete.value[t]).pipe(Object(r.a)(e=>{const n=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(n)}),Object(p.a)(t=>(this.notify.handleErrors(t),Object(o.a)(!1)))).subscribe()}openContact(t=null){this.retrieveDocumentEvent.emit(),this.dialog.open(T,{maxWidth:"100vw",width:null===t?"99vw":"auto",panelClass:null===t?"maarch-full-height-modal":"maarch-modal",disableClose:!0,data:{editMode:this.canUpdate,contactId:null!==t?t.id:null,contactType:null!==t?t.type:null}}).afterClosed().pipe(Object(l.a)(t=>void 0!==t),Object(r.a)(t=>{this.setFormValue({type:"contact",id:t}),this.initFormValue()}),Object(p.a)(t=>(this.notify.handleErrors(t),Object(o.a)(!1)))).subscribe()}empty(t){return null===t||""===t||void 0===t}resetAll(){this.controlAutocomplete.setValue([]),this.valuesToDisplay={}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m.e),i.Tb(g.b),i.Tb(D.a),i.Tb(f.b),i.Tb(_.a),i.Tb(R.a),i.Tb(L.c),i.Tb(b.a),i.Tb(A.a),i.Tb(F.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-contact-autocomplete"]],viewQuery:function(t,e){var n;1&t&&i.Oc(H,!0),2&t&&i.Cc(n=i.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"],id:"id",singleMode:"singleMode"},outputs:{retrieveDocumentEvent:"retrieveDocumentEvent"},features:[i.Db([s.a,A.a])],decls:7,vars:5,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form",4,"ngIf"],["style","text-align: right;",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form"],["color","primary","matPrefix","",1,"fa","fa-search",2,"padding-left","20px","font-size","15px"],["type","text","matInput","","maxlength","128",3,"id","placeholder","formControl","matAutocomplete","click"],["autoCompleteInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","","style","text-align: center;display: block;padding: 10px;",4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo create-contact","disabled","",4,"ngIf"],[3,"id","value",4,"ngFor","ngForOf"],[3,"id","value"],[1,"contact-header"],["mat-card-avatar","",1,"contact-header-image","fa",3,"title"],[3,"title",4,"ngIf"],["class","contact-filling fa fa-circle",3,"title","color",4,"ngIf"],["class","contact-item",4,"ngIf"],["class","contact-address",3,"title",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"title"],["style","color: #666;",4,"ngIf"],[2,"color","#666"],[1,"contact-filling","fa","fa-circle",3,"title"],[1,"contact-item"],["mat-list-icon","",1,"contact-group","far","fa-building",3,"title"],["mat-line","",1,"contact-content",3,"title"],["mat-list-icon","",1,"contact-group","fa","fa-sitemap",3,"title"],["mat-line","","class","contact-content",3,"title",4,"ngIf"],["mat-list-icon","",1,"contact-group","far","fa-envelope",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-phone",3,"title"],[1,"contact-address",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-map-marker-alt"],["mat-list-icon","",1,"contact-group","fas","fa-hashtag",3,"title"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled","",2,"text-align","center","display","block","padding","10px"],["diameter","20"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo","create-contact"],[2,"cursor","pointer",3,"click"],["matSuffix","",1,"fas","fa-plus-circle",2,"padding-top","5px"],[2,"text-align","right"],["mat-button","","color","warn",2,"font-size","10px",3,"click"],["color","default",1,"mat-chip-list-stacked","itemChip"],["class","listAutocomplete","color","default",3,"removable","removed","click",4,"ngFor","ngForOf"],["color","default",1,"listAutocomplete",3,"removable","removed","click"],[2,"display","flex","flex","1","align-items","center"],[1,"fa",2,"padding-right","5px",3,"title"],["class","fa fa-circle","style","font-size: 9px;",3,"color",4,"ngIf"],["matChipRemove","","class","fa fa-times",4,"ngIf"],[1,"fa","fa-circle",2,"font-size","9px"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(i.Zb(0,"form"),i.Ub(1,"input",0),i.Qc(2,mt,10,8,"mat-form-field",1),i.Qc(3,gt,4,3,"div",2),i.Zb(4,"div",3),i.Qc(5,Ct,2,1,"mat-chip-list",4),i.Qc(6,Ot,3,3,"div",5),i.Yb(),i.Yb()),2&t&&(i.Eb(1),i.sc("formControl",e.controlAutocomplete),i.Eb(1),i.sc("ngIf",!e.controlAutocomplete.disabled&&!e.singleMode||e.singleMode&&0===e.controlAutocomplete.value.length&&!e.controlAutocomplete.disabled),i.Eb(1),i.sc("ngIf",e.controlAutocomplete.value.length>=2&&!e.controlAutocomplete.disabled),i.Eb(2),i.sc("ngIf",e.controlAutocomplete.value.length>0),i.Eb(1),i.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[a.J,a.u,a.v,a.c,a.t,a.i,w.t,j.c,y.a,j.i,Y.b,Z.d,a.o,Z.a,w.s,N.o,U.a,U.f,U.c,U.d,B.a,U.m,U.l,B.d,B.c,N.k,z.c,j.j,v.b,V.d,V.a,V.e],pipes:[w.b,m.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#1a80ab;background-color:#fff;border:1px solid #1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.listAutocomplete[_ngcontent-%COMP%]{cursor:pointer;height:auto}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.mat-card[_ngcontent-%COMP%]{padding:0;margin:5px}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 5px 0 rgba(0,0,0,.12)}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}.mat-list[_ngcontent-%COMP%]{padding:0}.mat-option[_ngcontent-%COMP%]:not(.smallInputInfo){white-space:normal;line-height:normal;height:auto;padding:0}.mat-option[_ngcontent-%COMP%]:hover{background:initial}.contact-card[_ngcontent-%COMP%]{width:100%;margin-top:10px;margin-bottom:10px;padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12)}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px 10px 5px}.contact-header[_ngcontent-%COMP%]    .mat-card-header-text, .mat-card-subtitle[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.mat-card-subtitle[_ngcontent-%COMP%]{white-space:pre}.contact-item[_ngcontent-%COMP%]{height:20px!important}.contact-item[_ngcontent-%COMP%]    .mat-list-text{padding-left:0!important}.mat-card-title[_ngcontent-%COMP%]{font-size:13px}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:10px;margin-bottom:0}.contact-header-image[_ngcontent-%COMP%]{background:#135f7f;font-size:10px;color:#fff;height:24px;width:24px}.contact-group[_ngcontent-%COMP%], .contact-header-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contact-group[_ngcontent-%COMP%]{color:#135f7f;font-size:10px!important;padding:0!important;margin:0}.mat-list-item-content[_ngcontent-%COMP%]{padding:0}.contact-content[_ngcontent-%COMP%]{font-size:10px!important;color:#337ab7}.contact-address[_ngcontent-%COMP%]{height:auto!important;padding-top:5px;padding-bottom:5px}.contact-address[_ngcontent-%COMP%]    .mat-list-text{padding-left:0!important}.contact-address[_ngcontent-%COMP%]    .mat-list-item-content{padding-top:0!important;padding-bottom:0!important}.contact-filling[_ngcontent-%COMP%]{position:absolute;right:8px;border-radius:10px}.create-contact[_ngcontent-%COMP%]{text-align:center;justify-content:center;display:flex;height:auto;position:-webkit-sticky;position:sticky;bottom:0;width:auto;padding:0;background:#fff;box-shadow:1px 0 2px 0 rgba(0,0,0,.12);font-size:11px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},dNgK:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return O}));var i=n("rDax"),s=n("+rOU"),a=n("ofXK"),o=n("fXoL"),r=n("FKr1"),c=n("bTqV"),l=n("XNiG"),d=n("IzEk"),h=n("1G5W"),u=n("R0Ic"),p=n("u47x"),f=n("0MNC");function m(t,e){if(1&t){const t=o.ac();o.Zb(0,"div",1),o.Zb(1,"button",2),o.hc("click",(function(){return o.Hc(t),o.lc().action()})),o.Sc(2),o.Yb(),o.Yb()}if(2&t){const t=o.lc();o.Eb(2),o.Tc(t.data.action)}}function g(t,e){}const b=Math.pow(2,31)-1;class _{constructor(t,e){this._overlayRef=e,this._afterDismissed=new l.a,this._afterOpened=new l.a,this._onAction=new l.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,b))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const v=new o.r("MatSnackBarData");class y{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let x=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(_),o.Tb(v))},t.\u0275cmp=o.Nb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(o.Zb(0,"span"),o.Sc(1),o.Yb(),o.Qc(2,m,3,1,"div",0)),2&t&&(o.Eb(1),o.Tc(e.data.message),o.Eb(1),o.sc("ngIf",e.hasAction))},directives:[a.t,c.b],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const w={snackBarState:Object(u.n)("state",[Object(u.k)("void, hidden",Object(u.l)({transform:"scale(0.8)",opacity:0})),Object(u.k)("visible",Object(u.l)({transform:"scale(1)",opacity:1})),Object(u.m)("* => visible",Object(u.e)("150ms cubic-bezier(0, 0, 0.2, 1)")),Object(u.m)("* => void, * => hidden",Object(u.e)("75ms cubic-bezier(0.4, 0.0, 1, 1)",Object(u.l)({opacity:0})))])};let C=(()=>{class t extends s.a{constructor(t,e,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new l.a,this._onEnter=new l.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(d.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.B),o.Tb(o.l),o.Tb(o.h),o.Tb(y))},t.\u0275cmp=o.Nb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&o.Oc(s.c,!0),2&t&&o.Cc(n=o.ic())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&o.Kb("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(o.Fb("role",e._role),o.Zc("@state",e._animationState))},features:[o.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&o.Qc(0,g,0,0,"ng-template",0)},directives:[s.c],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[w.snackBarState]}}),t})(),O=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},imports:[[i.f,s.i,a.c,c.c,r.j],r.j]}),t})();const k=new o.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new y}});let S=(()=>{class t{constructor(t,e,n,i,s,a){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(x,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new s.h(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[y,e]])),i=new s.d(C,e.viewContainerRef,n),a=t.attach(i);return a.instance.snackBarConfig=e,a.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new y),this._defaultConfig),e),i=this._createOverlay(n),a=this._attachSnackBarContainer(i,n),r=new _(a,i);if(t instanceof o.O){const e=new s.j(t,null,{$implicit:n.data,snackBarRef:r});r.instance=a.attachTemplatePortal(e)}else{const e=this._createInjector(n,r),i=new s.d(t,void 0,e),o=a.attachComponentPortal(i);r.instance=o.instance}return this._breakpointObserver.observe(f.b.HandsetPortrait).pipe(Object(h.a)(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(r,n),this._openedSnackBarRef=r,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new i.d;e.direction=t.direction;let n=this._overlay.position().global();const s="rtl"===t.direction,a="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,o=!a&&"center"!==t.horizontalPosition;return a?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new s.h(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[_,e],[v,t.data]]))}}return t.\u0275fac=function(e){return new(e||t)(o.dc(i.c),o.dc(p.k),o.dc(o.s),o.dc(f.a),o.dc(t,12),o.dc(k))},t.\u0275prov=Object(o.Pb)({factory:function(){return new t(Object(o.dc)(i.c),Object(o.dc)(p.k),Object(o.dc)(o.p),Object(o.dc)(f.a),Object(o.dc)(t,12),Object(o.dc)(k))},token:t,providedIn:O}),t})()},dUgt:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var i=n("mrSG"),s=n("fXoL"),a=n("Kj3r"),o=n("vkgz"),r=n("JIr8"),c=n("LRne"),l=n("3Pt+"),d=n("sYmb"),h=n("tk/3"),u=n("AXEc"),p=n("4zkx"),f=n("rH+9"),m=n("aEDk"),g=n("kmnG"),b=n("qFsG"),_=n("bTqV"),v=n("STbY"),y=n("NFeN"),x=n("ofXK"),w=n("Qu3c"),C=n("1YbM");function O(t,e){if(1&t&&(s.Zb(0,"button",18),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()),2&t){s.lc();const t=s.Dc(20);s.sc("matMenuTriggerFor",t),s.Eb(2),s.Tc(s.nc(3,2,"lang.visibleBy"))}}function k(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",19),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc().selectTemplate(n)})),s.Zb(1,"span"),s.Sc(2),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit;s.tc("matTooltip",t.template_content),s.Eb(2),s.Tc(t.template_label)}}function S(t,e){1&t&&(s.Zb(0,"button",20),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.Tc(s.nc(3,1,"lang.noTemplate")))}function E(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",24),s.hc("click",(function(n){s.Hc(t);const i=e.$implicit,a=s.lc(2);return n.stopPropagation(),a.selectEntity(i)})),s.Sc(1),s.Yb()}if(2&t){const t=e.$implicit;s.sc("disabled",t.selected)("title",t.entity_label),s.Eb(1),s.Uc(" ",t.entity_label," ")}}function M(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-form-field",21),s.hc("click",(function(e){return s.Hc(t),e.stopPropagation()})),s.Zb(1,"input",22),s.hc("click",(function(e){return s.Hc(t),e.stopPropagation()}))("keydown",(function(e){return s.Hc(t),e.stopPropagation()})),s.mc(2,"translate"),s.Yb(),s.Yb(),s.Xb(3),s.Qc(4,E,2,3,"button",23),s.Wb()}if(2&t){const t=s.lc();s.Eb(1),s.tc("placeholder",s.nc(2,3,"lang.searchEntities")),s.sc("formControl",t.searchTerm),s.Eb(3),s.sc("ngForOf",t.entitiesList)}}function I(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",25),s.hc("click",(function(){return s.Hc(t),s.lc().addNote()})),s.mc(1,"translate"),s.Ub(2,"mat-icon",26),s.Yb()}if(2&t){const t=s.lc();s.tc("title",s.nc(1,2,"lang.add")),s.sc("disabled",""==t.content.trim()||t.loading)}}function P(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",25),s.hc("click",(function(){return s.Hc(t),s.lc().updateNote()})),s.mc(1,"translate"),s.Ub(2,"mat-icon",26),s.Yb()}if(2&t){const t=s.lc();s.tc("title",s.nc(1,2,"lang.validate")),s.sc("disabled",""==t.content.trim()||t.loading)}}function T(t,e){1&t&&(s.Zb(0,"span",27),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Tc(s.nc(2,1,"lang.all")))}function A(t,e){if(1&t){const t=s.ac();s.Zb(0,"span",29),s.hc("click",(function(){s.Hc(t);const e=s.lc(),n=e.$implicit,i=e.index,a=s.lc();return a.removeEntityRestriction(a.entitiesRestriction.indexOf(n.id),i)})),s.mc(1,"translate"),s.Ub(2,"i",30),s.Sc(3),s.Ub(4,"i",31),s.Yb()}if(2&t){const t=s.lc().$implicit;s.tc("title",s.nc(1,2,"lang.restrictedEntity")),s.Eb(3),s.Uc(" ",t.entity_label,"\xa0")}}function D(t,e){if(1&t&&(s.Xb(0),s.Qc(1,A,5,4,"span",28),s.Wb()),2&t){const t=e.$implicit,n=s.lc();s.Eb(1),s.sc("ngIf",n.entitiesRestriction.indexOf(t.id)>-1)}}let R=(()=>{class t{constructor(t,e,n,i,a,o){this.translate=t,this.http=e,this.notify=n,this.headerService=i,this.functions=a,this.latinisePipe=o,this.loading=!1,this.templatesNote=[],this.entities=[],this.entitiesRestriction=[],this.title=this.translate.instant("lang.addNote"),this.content="",this.disableRestriction=!1,this.refreshNotes=new s.o,this.searchTerm=new l.h,this.entitiesList=[]}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.getEntities(),this.defaultRestriction&&this.setDefaultRestriction(),this.upMode&&(this.content=this.noteContent,(this.content.startsWith(`[${this.translate.instant("lang.avisUserState")}]`)||this.content.startsWith(`[${this.translate.instant("lang.avisUserAsk").toUpperCase()}]`))&&(this.disableRestriction=!0),this.entitiesRestriction=this.entitiesNoteRestriction),this.entitiesList=this.entities,this.searchTerm.valueChanges.pipe(Object(a.a)(300),Object(o.a)(t=>{if(t.length>0){let e=this.latinisePipe.transform(t.toLowerCase());this.entitiesList=this.entities.filter(t=>this.latinisePipe.transform(t.entity_label.toLowerCase()).includes(e)||this.latinisePipe.transform(t.entity_id.toLowerCase()).includes(e))}else this.entitiesList=this.entities}),Object(r.a)(t=>(this.notify.handleErrors(t),Object(c.a)(!1)))).subscribe()}))}setDefaultRestriction(){this.entitiesRestriction=[],this.http.get(`../rest/resources/${this.resIds[0]}/fields/destination`).pipe(Object(o.a)(t=>{this.entitiesRestriction=this.headerService.user.entities.map(t=>t.entity_id),-1!==this.entitiesRestriction.indexOf(t.field)||this.functions.empty(t.field)||this.entitiesRestriction.push(t.field),this.entities.filter(t=>this.entitiesRestriction.indexOf(t.id)>-1).forEach(t=>{t.selected=!0})}),Object(r.a)(t=>(this.notify.handleSoftErrors(t),Object(c.a)(!1)))).subscribe()}addNote(){this.loading=!0,this.http.post("../rest/notes",{value:this.content,resId:this.resIds[0],entities:this.entitiesRestriction}).subscribe(t=>{this.refreshNotes.emit(this.resIds[0]),this.loading=!1})}updateNote(){this.loading=!0,this.http.put("../rest/notes/"+this.noteId,{value:this.content,resId:this.resIds[0],entities:this.entitiesRestriction}).subscribe(t=>{this.refreshNotes.emit(this.resIds[0]),this.loading=!1})}getNoteContent(){return this.content}setNoteContent(t){this.content=t}getNote(){return{content:this.content,entities:this.entitiesRestriction}}selectTemplate(t){this.content=this.content.length>0?this.content+" "+t.template_content:t.template_content}selectEntity(t){t.selected=!0,this.entitiesRestriction.push(t.id)}getTemplatesNote(){if(0==this.templatesNote.length){let t={};this.functions.empty(this.resIds)||1!=this.resIds.length||(t.resId=this.resIds[0]),this.http.get("../rest/notesTemplates",{params:t}).subscribe(t=>{this.templatesNote=t.templates})}}getEntities(){return new Promise((t,e)=>{if(0==this.entities.length){let e={};this.functions.empty(this.resIds)||1!=this.resIds.length||(e.resId=this.resIds[0]),this.http.get("../rest/entities").pipe(Object(o.a)(e=>{this.entities=e.entities,t(!0)}),Object(r.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(c.a)(!1)))).subscribe()}})}removeEntityRestriction(t,e){this.entities[e].selected=!1,this.entitiesRestriction.splice(t,1)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(d.e),s.Tb(h.b),s.Tb(u.a),s.Tb(p.a),s.Tb(f.a),s.Tb(m.c))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-note-editor"]],inputs:{title:"title",content:"content",resIds:"resIds",addMode:"addMode",upMode:"upMode",noteContent:"noteContent",entitiesNoteRestriction:"entitiesNoteRestriction",noteId:"noteId",defaultRestriction:"defaultRestriction",disableRestriction:"disableRestriction"},outputs:{refreshNotes:"refreshNotes"},decls:34,vars:37,consts:[["appearance","outline",1,"noteEditorContent"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matSuffix","","color","primary","mat-icon-button","",3,"title","matMenuTriggerFor"],["fontSet","fas","fontIcon","fa-angle-right fa-2x"],["menuMain","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["menuTemplates","matMenu"],[2,"z-index","1","position","sticky","top","0px","text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","","matTooltipPosition","left",3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-menu-item","","disabled","",4,"ngIf"],["menuEntities","matMenu"],["matMenuContent",""],["color","primary","matSuffix","","mat-icon-button","",3,"title","disabled","click",4,"ngIf"],[2,"overflow","auto","max-height","75px"],[2,"font-size","11px","position","sticky","top","0px"],["class","label label-default noNoteRestriction",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","","matTooltipPosition","left",3,"matTooltip","click"],["mat-menu-item","","disabled",""],["floatLabel","never","appearance","outline",1,"smallInput",2,"margin-bottom","-15px",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","formControl","click","keydown"],["mat-menu-item","","class","labelFolder",3,"disabled","title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"labelFolder",3,"disabled","title","click"],["color","primary","matSuffix","","mat-icon-button","",3,"title","disabled","click"],["fontSet","far","fontIcon","fa-paper-plane fa-2x"],[1,"label","label-default","noNoteRestriction"],["class","label label-default noteRestriction",3,"title","click",4,"ngIf"],[1,"label","label-default","noteRestriction",3,"title","click"],[1,"fa","fa-sitemap"],[1,"fa","fa-times",2,"cursor","pointer"]],template:function(t,e){if(1&t&&(s.Zb(0,"mat-form-field",0),s.Zb(1,"textarea",1),s.hc("ngModelChange",(function(t){return e.content=t})),s.Yb(),s.Zb(2,"button",2),s.mc(3,"translate"),s.Ub(4,"mat-icon",3),s.Yb(),s.Zb(5,"mat-menu",null,4),s.Zb(7,"button",5),s.hc("menuOpened",(function(){return e.getTemplatesNote()})),s.Zb(8,"span"),s.Sc(9),s.mc(10,"translate"),s.Yb(),s.Yb(),s.Qc(11,O,4,4,"button",6),s.Yb(),s.Zb(12,"mat-menu",null,7),s.Zb(14,"div",8),s.Sc(15),s.mc(16,"translate"),s.Yb(),s.Qc(17,k,3,2,"button",9),s.Qc(18,S,4,3,"button",10),s.Yb(),s.Zb(19,"mat-menu",null,11),s.Zb(21,"div",8),s.Sc(22),s.mc(23,"translate"),s.Yb(),s.Qc(24,M,5,5,"ng-template",12),s.Yb(),s.Qc(25,I,3,4,"button",13),s.Qc(26,P,3,4,"button",13),s.Yb(),s.Zb(27,"div",14),s.Zb(28,"div",15),s.Sc(29),s.mc(30,"translate"),s.Yb(),s.Qc(31,T,3,3,"span",16),s.Qc(32,D,2,1,"ng-container",17),s.mc(33,"sortBy"),s.Yb()),2&t){const t=s.Dc(6),n=s.Dc(13);s.Eb(1),s.tc("placeholder",e.title),s.sc("ngModel",e.content),s.Eb(1),s.tc("title",s.nc(3,24,"lang.options")),s.sc("matMenuTriggerFor",t),s.Eb(3),s.Gb("templateNoteListMenu"),s.Eb(2),s.sc("matMenuTriggerFor",n),s.Eb(2),s.Tc(s.nc(10,26,"lang.noteTemplates")),s.Eb(2),s.sc("ngIf",!e.disableRestriction),s.Eb(1),s.Gb("templateNoteListMenu"),s.Eb(3),s.Uc(" ",s.nc(16,28,"lang.noteTemplates")," "),s.Eb(2),s.sc("ngForOf",e.templatesNote),s.Eb(1),s.sc("ngIf",0==e.templatesNote.length),s.Eb(1),s.Gb("templateNoteListMenu fixedWidth"),s.Eb(3),s.Uc(" ",s.nc(23,30,"lang.entities")," "),s.Eb(3),s.sc("ngIf",e.addMode),s.Eb(1),s.sc("ngIf",e.upMode),s.Eb(2),s.Pc("background",e.upMode&&e.entitiesRestriction.length>0?"#FFEDCC":"white",s.Mb),s.Eb(1),s.Tc(s.nc(30,32,"lang.noteVisibleBy")),s.Eb(2),s.sc("ngIf",0===e.entitiesRestriction.length),s.Eb(1),s.sc("ngForOf",s.oc(33,34,e.entities,"entity_label"))}},directives:[g.c,b.b,l.c,l.t,l.w,_.b,g.j,v.d,y.a,v.e,v.b,x.t,x.s,v.a,w.b,l.i],pipes:[d.d,C.a],styles:[".noteEditorContent[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:disabled{opacity:.5}.noteEditorContent[_ngcontent-%COMP%]    .mat-form-field-flex{align-items:flex-start}.noteEditorContent[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0} .templateNoteListMenu .mat-menu-content{padding-top:0;padding-bottom:0;max-height:500px} .fixedWidth .mat-menu-content{min-width:265px} .mat-tooltip{font-size:14px}.noteRestriction[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4)}.noNoteRestriction[_ngcontent-%COMP%], .noteRestriction[_ngcontent-%COMP%]{white-space:normal;display:inline-block;margin:5px!important;cursor:pointer}.noNoteRestriction[_ngcontent-%COMP%]{background-color:#135f7f}.labelFolder[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}"]}),t})()},dXBx:function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));var i=n("fXoL"),s=n("Kj3r"),a=n("vkgz"),o=n("pLZG"),r=n("eIep"),c=n("JIr8"),l=n("lJxs"),d=n("nYR2"),h=n("XqQ8"),u=n("LRne"),p=n("2c88"),f=n("3Pt+"),m=n("OGgV"),g=n("sYmb"),b=n("tk/3"),_=n("AXEc"),v=n("0IaG"),y=n("6Psc"),x=n("rH+9"),w=n("ofXK"),C=n("STbY"),O=n("NFeN"),k=n("kmnG"),S=n("qFsG"),E=n("Xa2L"),M=n("1YbM");function I(t,e){if(1&t&&(i.Zb(0,"button",8),i.Ub(1,"mat-icon",9),i.Zb(2,"span"),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t){i.lc();const t=i.Dc(2);i.sc("matMenuTriggerFor",t),i.Eb(3),i.Uc("",i.nc(4,2,"lang.removeFromFolder"),"...")}}function P(t,e){1&t&&(i.Ub(0,"i",12),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function T(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",10),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc().unclassifyDocuments(n)})),i.Qc(1,P,2,3,"i",11),i.Sc(2),i.Yb()}if(2&t){const t=e.$implicit;i.sc("title",t.label),i.Eb(1),i.sc("ngIf",t.public),i.Eb(1),i.Uc(" ",t.label,"")}}function A(t,e){1&t&&(i.Zb(0,"button",19),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.myPinnedFolder")))}function D(t,e){1&t&&(i.Zb(0,"button",19),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noPinnedFolder")))}function R(t,e){1&t&&(i.Zb(0,"button",19),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noAvailableFolder")))}function L(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",20),i.hc("click",(function(){return i.Hc(t),i.lc(3).openCreateFolderModal()})),i.Sc(1,"Cr\xe9er un dossier"),i.Yb()}}function F(t,e){1&t&&(i.Ub(0,"i",12),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function j(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",10),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).classifyDocuments(n)})),i.Qc(1,F,2,3,"i",11),i.Sc(2),i.Yb()}if(2&t){const t=e.$implicit;i.sc("title",t.label),i.Eb(1),i.sc("ngIf",t.public),i.Eb(1),i.Uc(" ",t.label,"")}}function Y(t,e){if(1&t&&(i.Xb(0),i.Qc(1,A,3,3,"button",17),i.Qc(2,D,3,3,"button",17),i.Qc(3,R,3,3,"button",17),i.Qc(4,L,2,0,"button",18),i.Qc(5,j,3,3,"button",2),i.mc(6,"sortBy"),i.Wb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngIf",t.pinnedFolder&&0!==t.foldersList.length),i.Eb(1),i.sc("ngIf",t.pinnedFolder&&0===t.foldersList.length),i.Eb(1),i.sc("ngIf",!t.pinnedFolder&&0===t.foldersList.length&&!t.loading),i.Eb(1),i.sc("ngIf",!t.pinnedFolder&&0===t.foldersList.length&&!t.loading),i.Eb(1),i.sc("ngForOf",i.oc(6,5,t.foldersList,"label"))}}function Z(t,e){1&t&&(i.Zb(0,"div",21),i.Ub(1,"mat-spinner",22),i.Yb())}function N(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field",13),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Zb(1,"input",14),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("keydown",(function(e){return i.Hc(t),e.stopPropagation()})),i.mc(2,"translate"),i.Yb(),i.Yb(),i.Qc(3,Y,7,8,"ng-container",15),i.Qc(4,Z,2,0,"ng-template",null,16,i.Rc)}if(2&t){const t=i.Dc(5),e=i.lc();i.Eb(1),i.tc("placeholder",i.nc(2,4,"lang.searchFolder")),i.sc("formControl",e.searchTerm),i.Eb(2),i.sc("ngIf",!e.loading)("ngIfElse",t)}}let U=(()=>{class t{constructor(t,e,n,s,a,o,r){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.renderer=a,this.foldersService=o,this.functions=r,this.foldersList=[],this.pinnedFolder=!0,this.loading=!0,this.refreshFolders=new i.o,this.refreshList=new i.o,this.searchTerm=new f.h}ngOnInit(){this.searchTerm.valueChanges.pipe(Object(s.a)(300),Object(a.a)(t=>{0===t.length&&(this.pinnedFolder=!0,this.getFolders())}),Object(o.a)(t=>t.length>2),Object(a.a)(()=>this.loading=!0),Object(r.a)(t=>this.http.get("../rest/autocomplete/folders",{params:{search:t}})),Object(a.a)(t=>{this.pinnedFolder=!1,this.foldersList=t.map(t=>({id:t.id,label:t.idToDisplay})),this.loading=!1}),Object(c.a)(t=>(this.notify.handleErrors(t),Object(u.a)(!1)))).subscribe()}initFolderMenu(){this.searchTerm.setValue(""),setTimeout(()=>{this.renderer.selectRootElement("#searchTerm").focus()},200)}getFolders(){this.loading=!0,this.http.get("../rest/pinnedFolders").pipe(Object(l.a)(t=>t.folders),Object(a.a)(t=>{this.foldersList=t}),Object(d.a)(()=>this.loading=!1),Object(c.a)(t=>(this.notify.handleErrors(t),Object(u.a)(!1)))).subscribe()}classifyDocuments(t){this.http.post("../rest/folders/"+t.id+"/resources",{resources:this.resIds}).pipe(Object(a.a)(()=>{this.foldersService.getPinnedFolders(),this.refreshList.emit(),this.refreshFolders.emit(),this.notify.success(this.translate.instant("lang.mailClassified"))}),Object(c.a)(t=>(this.notify.handleErrors(t),Object(u.a)(!1)))).subscribe()}unclassifyDocuments(t){this.dialogRef=this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.unclassifyQuestion")+" <b>"+this.resIds.length+"</b>&nbsp;"+this.translate.instant("lang.mailsInFolder")+" ?"}}),this.dialogRef.afterClosed().pipe(Object(o.a)(t=>"ok"===t),Object(h.a)(()=>this.http.request("DELETE","../rest/folders/"+t.id+"/resources",{body:{resources:this.resIds}})),Object(a.a)(()=>{this.notify.success(this.translate.instant("lang.removedFromFolder")),this.foldersService.getPinnedFolders(),this.refreshList.emit(),this.refreshFolders.emit()}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(u.a)(!1)))).subscribe()}openCreateFolderModal(){this.dialogRef=this.dialog.open(m.a,{panelClass:"maarch-modal",data:{folderName:this.searchTerm.value}}),this.dialogRef.afterClosed().pipe(Object(o.a)(t=>!this.functions.empty(t)),Object(a.a)(t=>{this.classifyDocuments({id:t})}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(u.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(g.e),i.Tb(b.b),i.Tb(_.a),i.Tb(v.b),i.Tb(i.H),i.Tb(y.a),i.Tb(x.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["folder-menu"]],inputs:{resIds:"resIds",currentFoldersList:["currentFolders","currentFoldersList"]},outputs:{refreshFolders:"refreshFolders",refreshList:"refreshList"},decls:13,vars:14,consts:[["mat-menu-item","","class","folderAction",3,"matMenuTriggerFor",4,"ngIf"],["currentFolders","matMenu"],["mat-menu-item","","class","labelFolder",3,"title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"folderAction",3,"matMenuTriggerFor","disabled","menuOpened"],["color","primary",1,"fa","fa-folder-open","fa-2x"],["restoreFocus","false"],["folders","matMenu"],["matMenuContent",""],["mat-menu-item","",1,"folderAction",3,"matMenuTriggerFor"],["color","warn",1,"fa","fa-folder-minus","fa-2x"],["mat-menu-item","",1,"labelFolder",3,"title","click"],["class","fa fa-users private",3,"title",4,"ngIf"],[1,"fa","fa-users","private",3,"title"],["floatLabel","never","appearance","outline",1,"smallInput",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","formControl","click","keydown"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-menu-item","","class","noFolder","disabled","",4,"ngIf"],["mat-menu-item","","class","createFolder",3,"click",4,"ngIf"],["mat-menu-item","","disabled","",1,"noFolder"],["mat-menu-item","",1,"createFolder",3,"click"],[1,"loading"],["diameter","35"]],template:function(t,e){if(1&t&&(i.Qc(0,I,5,4,"button",0),i.Zb(1,"mat-menu",null,1),i.Qc(3,T,3,3,"button",2),i.mc(4,"sortBy"),i.Yb(),i.Zb(5,"button",3),i.hc("menuOpened",(function(){return e.initFolderMenu()})),i.Ub(6,"mat-icon",4),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Zb(10,"mat-menu",5,6),i.Qc(12,N,6,6,"ng-template",7),i.Yb()),2&t){const t=i.Dc(11);i.sc("ngIf",void 0!==e.currentFoldersList&&e.currentFoldersList.length>0),i.Eb(1),i.Gb("folderListMenu"),i.Eb(2),i.sc("ngForOf",i.oc(4,9,e.currentFoldersList,"label")),i.Eb(2),i.sc("matMenuTriggerFor",t)("disabled",0===e.resIds.length),i.Eb(3),i.Tc(i.nc(9,12,"lang.classifyIn")),i.Eb(2),i.Gb("folderListMenu")}},directives:[w.t,C.e,w.s,C.b,C.d,O.a,C.a,k.c,S.b,f.c,f.t,f.i,E.c],pipes:[M.a,g.d],styles:[".folderAction[_ngcontent-%COMP%]{font-style:italic}.folderAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px}.labelFolder[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.private[_ngcontent-%COMP%]{color:#f99830} .folderListMenu{width:auto}.noFolder[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;font-style:italic}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.createFolder[_ngcontent-%COMP%]{color:#135f7f;text-align:center}"]}),t})()},ds6q:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("Q1FS"),a=n("FWf1"),o=n("zB/H"),r=n("Mxlh"),c=n("FiyT"),l=n("p//D"),d=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(a.Subscriber);e.SubjectSubscriber=d;var h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[l.rxSubscriber]=function(){return new d(this)},e.prototype.lift=function(t){var e=new u(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new r.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),s=0;s<n;s++)i[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new r.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),s=0;s<n;s++)i[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new r.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new r.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new r.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.isStopped?(t.complete(),o.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new s.Observable;return t.source=this,t},e.create=function(t,e){return new u(t,e)},e}(s.Observable);e.Subject=h;var u=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.Subscription.EMPTY},e}(h);e.AnonymousSubject=u},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),s=n("Cfvw"),a=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,a)=>Object(s.a)(t(n,a)).pipe(Object(i.a)((t,i)=>e(n,t,a,i))))):e=>e.lift(new r(t))}class r{constructor(t){this.project=t}call(t,e){return e.subscribe(new c(t,this.project))}}class c extends a.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new a.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(a.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},eNwd:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("3N8a");class s extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var a=n("IjjT");class o extends a.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,s=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,n){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw n}}}const r=new o(s)},eiH7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL"),s=n("sYmb"),a=n("4zkx");let o=(()=>{class t{constructor(t,e){this.translate=t,this.headerService=e,this.administrations=[{id:"admin_users",label:"lang.users",comment:"lang.adminUsersDesc",route:"/administration/users",unit:"organisation",style:"fa fa-user",angular:!0,hasParams:!0},{id:"admin_groups",label:"lang.groups",comment:"lang.adminGroupsDesc",route:"/administration/groups",unit:"organisation",style:"fa fa-users",angular:!0,hasParams:!1},{id:"manage_entities",label:"lang.entities",comment:"lang.adminEntitiesDesc",route:"/administration/entities",unit:"organisation",style:"fa fa-sitemap",angular:!0,hasParams:!1},{id:"admin_listmodels",label:"lang.workflowModels",comment:"lang.adminWorkflowModelsDesc",route:"/administration/diffusionModels",unit:"organisation",style:"fa fa-th-list",angular:!0,hasParams:!1},{id:"admin_architecture",label:"lang.documentTypes",comment:"lang.adminDocumentTypesDesc",route:"/administration/doctypes",unit:"classement",style:"fa fa-suitcase",angular:!0,hasParams:!1},{id:"admin_tag",label:"lang.tags",comment:"lang.adminTagsDesc",route:"/administration/tags",unit:"classement",style:"fa fa-tags",angular:!0,hasParams:!1},{id:"admin_baskets",label:"lang.baskets",comment:"lang.adminBasketsDesc",route:"/administration/baskets",unit:"production",style:"fa fa-inbox",angular:!0,hasParams:!1},{id:"admin_status",label:"lang.statuses",comment:"lang.statusesAdmin",route:"/administration/statuses",unit:"production",style:"fa fa-check-circle",angular:!0,hasParams:!1},{id:"admin_actions",label:"lang.actions",comment:"lang.actionsAdmin",route:"/administration/actions",unit:"production",style:"fa fa-exchange-alt",angular:!0,hasParams:!1},{id:"admin_contacts",label:"lang.contacts",comment:"lang.contactsAdmin",route:"/administration/contacts",unit:"production",style:"fa fa-address-book",angular:!0,hasParams:!1},{id:"admin_priorities",label:"lang.prioritiesAlt",comment:"lang.prioritiesAlt",route:"/administration/priorities",unit:"production",style:"fa fa-clock",angular:!0,hasParams:!1},{id:"admin_templates",label:"lang.templates",comment:"lang.templatesAdmin",route:"/administration/templates",unit:"production",style:"fa fa-file-alt",angular:!0,hasParams:!1},{id:"admin_indexing_models",label:"lang.indexingModels",comment:"lang.indexingModels",route:"/administration/indexingModels",unit:"production",style:"fab fa-wpforms",angular:!0,hasParams:!1},{id:"admin_custom_fields",label:"lang.customFieldsAdmin",comment:"lang.customFieldsAdmin",route:"/administration/customFields",unit:"production",style:"fa fa-code",angular:!0,hasParams:!1},{id:"admin_notif",label:"lang.notifications",comment:"lang.notificationsAdmin",route:"/administration/notifications",unit:"production",style:"fa fa-bell",angular:!0,hasParams:!1},{id:"update_status_mail",label:"lang.updateStatus",comment:"lang.updateStatus",route:"/administration/update-status",unit:"supervision",style:"fa fa-envelope-square",angular:!0,hasParams:!1},{id:"admin_docservers",label:"lang.docservers",comment:"lang.docserversAdmin",route:"/administration/docservers",unit:"supervision",style:"fa fa-hdd",angular:!0,hasParams:!1},{id:"admin_parameters",label:"lang.parameters",comment:"lang.parameters",route:"/administration/parameters",unit:"supervision",style:"fa fa-wrench",angular:!0,hasParams:!1},{id:"admin_password_rules",label:"lang.securities",comment:"lang.securities",route:"/administration/securities",unit:"supervision",style:"fa fa-lock",angular:!0,hasParams:!1},{id:"admin_email_server",label:"lang.emailServerParam",comment:"lang.emailServerParamDesc",route:"/administration/sendmail",unit:"supervision",style:"fa fa-mail-bulk",angular:!0,hasParams:!1},{id:"admin_shippings",label:"lang.mailevaAdmin",comment:"lang.mailevaAdminDesc",route:"/administration/shippings",unit:"supervision",style:"fa fa-shipping-fast",angular:!0,hasParams:!1},{id:"view_history",label:"lang.history",comment:"lang.viewHistoryDesc",route:"/administration/history",unit:"supervision",style:"fa fa-history",angular:!0,hasParams:!1},{id:"view_history_batch",label:"lang.historyBatch",comment:"lang.historyBatchAdmin",route:"/administration/history-batch",unit:"supervision",style:"fa fa-history",angular:!0,hasParams:!1},{id:"admin_update_control",label:"lang.updateControl",comment:"lang.updateControlDesc",route:"/administration/versions-update",unit:"supervision",style:"fa fa-sync",angular:!0,hasParams:!1},{id:"admin_alfresco",label:"lang.alfresco",comment:"lang.adminAlfrescoDesc",route:"/administration/alfresco",unit:"supervision",style:"alfresco",angular:!0,hasParams:!1},{id:"admin_registered_mail",label:"lang.registeredMail",comment:"lang.adminRegisteredMailDesc",route:"/administration/registeredMails",unit:"supervision",style:"fas fa-dolly-flatbed",angular:!0,hasParams:!1}],this.privileges=[{id:"view_doc_history",label:"lang.viewDocHistory",comment:"lang.viewHistoryDesc",unit:"history"},{id:"view_full_history",label:"lang.viewFullHistory",comment:"lang.viewFullHistoryDesc",unit:"history"},{id:"edit_resource",label:"lang.editResource",comment:"lang.editResourceDesc",unit:"application"},{id:"add_links",label:"lang.addLinks",comment:"lang.addLinks",unit:"application"},{id:"manage_tags_application",label:"lang.manageTagsInApplication",comment:"lang.manageTagsInApplicationDesc",unit:"application"},{id:"create_contacts",label:"lang.manageCreateContacts",comment:"lang.manageCreateContactsDesc",unit:"application"},{id:"update_contacts",label:"lang.manageUpdateContacts",comment:"lang.manageUpdateContactsDesc",unit:"application"},{id:"update_diffusion_indexing",label:"lang.allRoles",comment:"lang.updateDiffusionWhileIndexing",unit:"diffusionList"},{id:"update_diffusion_except_recipient_indexing",label:"lang.rolesExceptAssignee",comment:"lang.updateDiffusionExceptRecipientWhileIndexing",unit:"diffusionList"},{id:"update_diffusion_process",label:"lang.allRoles",comment:"lang.updateDiffusionWhileProcess",unit:"diffusionList"},{id:"update_diffusion_except_recipient_process",label:"lang.rolesExceptAssignee",comment:"lang.updateDiffusionExceptRecipientWhileProcess",unit:"diffusionList"},{id:"update_diffusion_details",label:"lang.allRoles",comment:"lang.updateDiffusionWhileDetails",unit:"diffusionList"},{id:"update_diffusion_except_recipient_details",label:"lang.rolesExceptAssignee",comment:"lang.updateDiffusionExceptRecipientWhileDetails",unit:"diffusionList"},{id:"sendmail",label:"lang.sendmail",comment:"lang.sendmail",unit:"sendmail"},{id:"use_mail_services",label:"lang.useMailServices",comment:"lang.useMailServices",unit:"sendmail"},{id:"view_documents_with_notes",label:"lang.viewDocumentsWithNotes",comment:"lang.viewDocumentsWithNotesDesc",unit:"application"},{id:"view_technical_infos",label:"lang.viewTechnicalInformation",comment:"lang.viewTechnicalInformation",unit:"application"},{id:"config_avis_workflow",label:"lang.configAvisWorkflow",comment:"lang.configAvisWorkflowDesc",unit:"avis"},{id:"config_avis_workflow_in_detail",label:"lang.configAvisWorkflowInDetail",comment:"lang.configAvisWorkflowInDetailDesc",unit:"avis"},{id:"avis_documents",label:"lang.avisAnswer",comment:"lang.avisAnswerDesc",unit:"avis"},{id:"config_visa_workflow",label:"lang.configVisaWorkflow",comment:"lang.configVisaWorkflowDesc",unit:"visaWorkflow"},{id:"config_visa_workflow_in_detail",label:"lang.configVisaWorkflowInDetail",comment:"lang.configVisaWorkflowInDetailDesc",unit:"visaWorkflow"},{id:"visa_documents",label:"lang.visaAnswers",comment:"lang.visaAnswersDesc",unit:"visaWorkflow"},{id:"sign_document",label:"lang.signDocs",comment:"lang.signDocs",unit:"visaWorkflow"},{id:"modify_visa_in_signatureBook",label:"lang.modifyVisaInSignatureBook",comment:"lang.modifyVisaInSignatureBookDesc",unit:"visaWorkflow"},{id:"print_folder_doc",label:"lang.printFolderDoc",comment:"lang.printFolderDoc",unit:"application"},{id:"manage_attachments",label:"lang.manageAttachments",comment:"lang.manageAttachments",unit:"application"},{id:"view_personal_data",label:"lang.viewPersonalData",comment:"lang.viewPersonalData",unit:"confidentialityAndSecurity"},{id:"manage_personal_data",label:"lang.managePersonalData",comment:"lang.managePersonalData",unit:"confidentialityAndSecurity"},{id:"include_folders_and_followed_resources_perimeter",label:"lang.includeFolderPerimeter",comment:"lang.includeFolderPerimeter",unit:"application"}],this.menus=[{id:"admin",label:"lang.administration",comment:"lang.administration",route:"/administration",style:"fa fa-cogs",unit:"application",angular:!0,shortcut:!0},{id:"adv_search_mlb",label:"lang.search",comment:"lang.search",route:"/search",style:"fa fa-search",unit:"application",angular:!0,shortcut:!0},{id:"entities_print_sep_mlb",label:"lang.entitiesSeparator",comment:"lang.entitiesSeparator",route:"/separators/print",style:"fa fa-print",unit:"entities",angular:!0,shortcut:!1},{id:"manage_numeric_package",label:"lang.manageNumericPackage",comment:"lang.manageNumericPackage",route:"/saveNumericPackage",style:"fa fa-file-archive",unit:"sendmail",angular:!0,shortcut:!1},{id:"registered_mail_receive_ar",label:"lang.arReception",comment:"lang.arReception",route:"/registeredMail/acknowledgement",style:"fa fa-barcode",unit:"registeredMails",angular:!0,shortcut:!1}],this.shortcuts=[{id:"followed",label:"lang.followedMail",comment:"lang.followedMail",route:"/followed",style:"fas fa-star",unit:"application",angular:!0,shortcut:!0}]}getAllPrivileges(){let t=[];return t=t.concat(this.privileges.map(t=>t.id)),t=t.concat(this.administrations.map(t=>t.id)),t=t.concat(this.menus.map(t=>t.id)),t}getPrivileges(t=null){return null!==t?this.privileges.filter(e=>t.indexOf(e.id)>-1):this.privileges}getUnitsPrivileges(){return this.privileges.map(t=>t.unit).filter((t,e,n)=>n.indexOf(t)===e)}getPrivilegesByUnit(t){return this.privileges.filter(e=>e.unit===t)}getMenus(){return this.menus}getCurrentUserMenus(){let t=this.menus.filter(t=>this.headerService.user.privileges.indexOf(t.id)>-1);if(this.headerService.user.groups.filter(t=>!0===t.can_index).length>0){const e=[];this.headerService.user.groups.filter(t=>!0===t.can_index).forEach(t=>{e.push({id:t.id,label:t.group_desc})}),t.push({id:"indexing",label:"lang.recordMail",comment:"lang.recordMail",route:"/indexing/"+e[0].id,style:"fa fa-file-medical",unit:"application",angular:!0,shortcut:!0,groups:e})}return t}getMenusByUnit(t){return this.menus.filter(e=>e.unit===t)}getUnitsMenus(){return this.menus.map(t=>t.unit).filter((t,e,n)=>n.indexOf(t)===e)}resfreshUserShortcuts(){if(this.shortcuts=[{id:"followed",label:"lang.followedMail",comment:"lang.followedMail",route:"/followed",style:"fas fa-star",unit:"application",angular:!0,shortcut:!0}],this.shortcuts=this.shortcuts.concat(this.menus.filter(t=>!0===t.shortcut).filter(t=>this.headerService.user.privileges.indexOf(t.id)>-1)),this.headerService.user.groups.filter(t=>!0===t.can_index).length>0){const t=[];this.headerService.user.groups.filter(t=>!0===t.can_index).forEach(e=>{t.push({id:e.id,label:e.group_desc})}),this.shortcuts.push({id:"indexing",label:"lang.recordMail",comment:"lang.recordMail",route:"/indexing",style:"fa fa-file-medical",unit:"application",angular:!0,shortcut:!0,groups:t})}}getAdministrations(){return this.administrations}getCurrentUserAdministrationsByUnit(t){return this.hasCurrentUserPrivilege("view_history")&&this.hasCurrentUserPrivilege("view_history_batch")?this.administrations.filter(e=>e.unit===t).filter(t=>this.headerService.user.privileges.indexOf(t.id)>-1).filter(t=>"view_history_batch"!==t.id):this.administrations.filter(e=>e.unit===t).filter(t=>this.headerService.user.privileges.indexOf(t.id)>-1)}hasCurrentUserPrivilege(t){return this.headerService.user.privileges.indexOf(t)>-1}}return t.\u0275fac=function(e){return new(e||t)(i.dc(s.e),i.dc(a.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})()},enVo:function(t,e,n){"use strict";n.d(e,"a",(function(){return qe}));var i=n("mrSG"),s=n("fXoL"),a=n("vkgz"),o=n("JIr8"),r=n("pLZG"),c=n("XqQ8"),l=n("LRne"),d=n("1YbM"),h=n("5+WD"),u=n("3Pt+"),p=n("2c88"),f=n("sYmb"),m=n("tk/3"),g=n("AXEc"),b=n("0IaG"),_=n("4zkx"),v=n("A6w4"),y=n("rH+9"),x=n("ofXK"),w=n("Xa2L"),C=n("bTqV"),O=n("NFeN"),k=n("STbY"),S=n("f0Cb"),E=n("kmnG"),M=n("qFsG"),I=n("fBaO"),P=n("iadO"),T=n("Qu3c"),A=n("QibW"),D=n("MutI"),R=n("A5z7"),L=n("dATD"),F=n("Kj3r"),j=n("/uUt"),Y=n("eIep"),Z=n("aEDk"),N=n("/1cH"),U=n("FKr1");const B=["autoCompleteInput"];function z(t,e){if(1&t&&(s.Zb(0,"mat-option",17),s.Zb(1,"span",18),s.Sc(2),s.Yb(),s.Yb()),2&t){const t=e.$implicit,n=s.lc(3);s.sc("value",t)("title",t[n.key]),s.Eb(2),s.Tc(t[n.key])}}function V(t,e){if(1&t&&(s.Xb(0),s.Qc(1,z,3,3,"mat-option",16),s.mc(2,"sortBy"),s.mc(3,"async"),s.Wb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("ngForOf",s.oc(2,1,s.nc(3,4,t.filteredOptions),t.key))}}function H(t,e){if(1&t&&s.Ub(0,"mat-option",19),2&t){const t=s.lc(2);s.sc("innerHTML",t.listInfo,s.Ic)}}function Q(t,e){1&t&&(s.Zb(0,"mat-option",20),s.Ub(1,"mat-spinner",21),s.Yb())}function W(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-form-field",5),s.Ub(1,"mat-icon",6),s.Zb(2,"input",7,8),s.hc("click",(function(e){return s.Hc(t),e.stopPropagation()}))("focus",(function(){return s.Hc(t),s.lc().resetAutocomplete()})),s.Yb(),s.Zb(4,"button",9),s.hc("click",(function(){return s.Hc(t),s.lc().addItem()})),s.Ub(5,"mat-icon",10),s.Yb(),s.Zb(6,"mat-autocomplete",11,12),s.hc("optionSelected",(function(e){return s.Hc(t),s.lc().selectOpt(e)})),s.Qc(8,V,4,6,"ng-container",13),s.Qc(9,H,1,1,"mat-option",14),s.Qc(10,Q,2,0,"mat-option",15),s.Yb(),s.Yb()}if(2&t){const t=s.Dc(7),e=s.lc();s.Eb(2),s.sc("placeholder",e.translate.instant("lang.searchFolder"))("formControl",e.myControl)("matAutocomplete",t),s.Eb(2),s.sc("disabled",!e.canAdd),s.Eb(1),s.Pc("visibility",e.canAdd&&null!==e.myControl.value&&e.myControl.value.length>0?"visible":"hidden"),s.sc("title",e.translate.instant("lang.add")),s.Eb(3),s.sc("ngIf",e.options.length>0&&!e.loading),s.Eb(1),s.sc("ngIf",0===e.options.length&&!e.loading),s.Eb(1),s.sc("ngIf",e.loading)}}function G(t,e){1&t&&s.Ub(0,"mat-icon",28)}function q(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-chip",24),s.hc("removed",(function(){s.Hc(t);const n=e.index;return s.lc(2).removeItem(n)})),s.Zb(1,"span",25),s.Ub(2,"i",26),s.Sc(3),s.Yb(),s.Qc(4,G,1,0,"mat-icon",27),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc(2);s.sc("removable",!n.controlAutocomplete.disabled),s.Eb(1),s.sc("title",n.valuesToDisplay[t]),s.Eb(2),s.Uc("\xa0",n.valuesToDisplay[t]," "),s.Eb(1),s.sc("ngIf",!n.controlAutocomplete.disabled)}}function X(t,e){if(1&t&&(s.Zb(0,"mat-chip-list",22),s.Qc(1,q,5,4,"mat-chip",23),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.sc("ngForOf",t.controlAutocomplete.value)}}function J(t,e){1&t&&(s.Zb(0,"div",29),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.noSelectedFolder")," "))}let K=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this.notify=n,this.dialog=i,this.headerService=s,this.appService=a,this.latinisePipe=o,this.loading=!1,this.key="idToDisplay",this.canAdd=!0,this.myControl=new u.h,this.valuesToDisplay={},this.newIds=[]}ngOnInit(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.initFormValue(),this.initAutocompleteRoute()}initAutocompleteRoute(){this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(F.a)(300),Object(r.a)(t=>t.length>2),Object(j.a)(),Object(a.a)(()=>this.loading=!0),Object(Y.a)(t=>this.getDatas(t)),Object(a.a)(t=>{this.listInfo=0===t.length?this.translate.instant("lang.noAvailableValue"):"",this.options=t,this.filteredOptions=Object(l.a)(this.options),this.loading=!1})).subscribe()}getDatas(t){return this.http.get("../rest/autocomplete/folders",{params:{search:t}})}selectOpt(t){this.setFormValue(t.option.value),this.myControl.setValue("")}initFormValue(){this.controlAutocomplete.value.forEach(t=>{this.http.get("../rest/folders/"+t).pipe(Object(a.a)(t=>{for(var e in t)this.valuesToDisplay[t[e].id]=t[e].label})).subscribe()})}setFormValue(t){if(-1===this.controlAutocomplete.value.indexOf(t.id)){let e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push(t.id),this.valuesToDisplay[t.id]=t[this.key],this.controlAutocomplete.setValue(e)}}resetAutocomplete(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.options.filter(t=>this.latinisePipe.transform(t[this.key].toLowerCase()).includes(e))}return this.options}unsetValue(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}removeItem(t){if(-1===this.newIds.indexOf(this.controlAutocomplete.value[t])){let e=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(e)}else this.http.delete("../rest/folders/"+this.controlAutocomplete.value[t]).pipe(Object(a.a)(e=>{let n=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(n)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}addItem(){const t={};t[this.key]=this.myControl.value,this.http.post("../rest/folders",{label:t[this.key]}).pipe(Object(a.a)(e=>{for(var n in e)t.id=e[n],this.newIds.push(e[n]);this.setFormValue(t),this.myControl.setValue("")}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(f.e),s.Tb(m.b),s.Tb(g.a),s.Tb(b.b),s.Tb(_.a),s.Tb(v.a),s.Tb(Z.c))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-folder-input"]],viewQuery:function(t,e){var n;1&t&&s.Oc(B,!0),2&t&&s.Cc(n=s.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"]},features:[s.Db([d.a])],decls:6,vars:4,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form"],["color","primary","matPrefix","",1,"fa","fa-search",2,"padding-left","20px","font-size","15px"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],["type","button","matSuffix","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-folder-plus",3,"title"],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked","itemChip"],["color","default","class","listAutocomplete",3,"removable","removed",4,"ngFor","ngForOf"],["color","default",1,"listAutocomplete",3,"removable","removed"],[2,"display","flex","flex","1","align-items","center",3,"title"],[1,"fa","fa-folder-open",2,"padding-right","5px"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(s.Zb(0,"form"),s.Ub(1,"input",0),s.Qc(2,W,11,10,"mat-form-field",1),s.Zb(3,"div",2),s.Qc(4,X,2,1,"mat-chip-list",3),s.Qc(5,J,3,3,"div",4),s.Yb(),s.Yb()),2&t&&(s.Eb(1),s.sc("formControl",e.controlAutocomplete),s.Eb(1),s.sc("ngIf",!e.controlAutocomplete.disabled),s.Eb(2),s.sc("ngIf",e.controlAutocomplete.value.length>0),s.Eb(1),s.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[u.J,u.u,u.v,u.c,u.t,u.i,x.t,E.c,O.a,E.i,M.b,N.d,C.b,E.j,N.a,x.s,U.o,w.c,R.d,R.a,R.e],pipes:[d.a,x.b,f.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#fff;background-color:#1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}.listAutocomplete[_ngcontent-%COMP%]{height:auto}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})();var tt=n("lJxs"),et=n("pWCv"),nt=n("rNzc"),it=n("I65S");function st(t,e){if(1&t){const t=s.ac();s.Zb(0,"span",15),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc(3).selectTag(n)})),s.Sc(1),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc(3);s.sc("title",n.translate.instant("lang.linkedTags")),s.Eb(1),s.Tc(n.getTagLabel(t))}}function at(t,e){if(1&t&&(s.Xb(0),s.Ub(1,"br"),s.Ub(2,"hr"),s.Qc(3,st,2,2,"span",14),s.Wb()),2&t){const t=s.lc(2);s.Eb(3),s.sc("ngForOf",t.tag.links)}}function ot(t,e){if(1&t&&(s.Zb(0,"div",11),s.Zb(1,"div",12),s.Zb(2,"b"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Ub(5,"br"),s.Sc(6),s.Ub(7,"br"),s.Ub(8,"br"),s.Zb(9,"b"),s.Sc(10),s.mc(11,"translate"),s.Yb(),s.Ub(12,"br"),s.Sc(13),s.Qc(14,at,4,1,"ng-container",13),s.Yb(),s.Yb()),2&t){const t=s.lc();s.Eb(3),s.Uc("",s.nc(4,5,"lang.description")," :"),s.Eb(3),s.Uc(" ",t.functionsService.empty(t.tag.description)?t.translate.instant("lang.undefined"):t.tag.description," "),s.Eb(4),s.Uc("",s.nc(11,7,"lang.usage")," :"),s.Eb(3),s.Uc(" ",t.functionsService.empty(t.tag.usage)?t.translate.instant("lang.undefined"):t.tag.usage," "),s.Eb(1),s.sc("ngIf",t.tag.links.length>0)}}function rt(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",16),s.Zb(1,"button",17),s.hc("click",(function(){return s.Hc(t),s.lc().onSubmit()})),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Zb(4,"button",18),s.Sc(5),s.mc(6,"translate"),s.Yb(),s.Yb()}if(2&t){const t=s.lc();s.Eb(1),s.sc("disabled",t.loading||t.functionsService.empty(t.tag)),s.Eb(1),s.Tc(s.nc(3,4,"lang.validate")),s.Eb(2),s.sc("disabled",t.loading),s.Eb(1),s.Tc(s.nc(6,6,"lang.cancel"))}}let ct=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functionsService=a,this.loading=!1,this.tags=[],this.tag=null}ngOnInit(){this.getTagsTree()}getTags(){return new Promise(t=>{this.http.get("../rest/tags").pipe(Object(et.tap)(e=>{this.tags=e.tags.map(t=>({id:t.id,label:t.label,parentId:t.parentId,countResources:t.countResources})),t(!0)}),Object(nt.catchError)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()})}getTag(t){this.http.get("../rest/tags/"+t).pipe(Object(et.tap)(t=>{this.tag=t}),Object(nt.catchError)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()}getTagsTree(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.getTags();const t=this.tags.map(t=>({id:t.id,text:t.label,parent:this.functionsService.empty(t.parentId)?"#":t.parentId,state:{opened:this.data.id==t.id,selected:this.data.id==t.id,disabled:!this.functionsService.empty(this.data.id)}}));setTimeout(()=>{$("#jstree").on("select_node.jstree",(t,e)=>{this.getTag(e.node.id)}).jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},multiple:!1,data:t},plugins:["checkbox","search","sort"]})},0),this.functionsService.empty(this.data.id)||this.getTag(this.data.id)}))}selectTag(t){this.functionsService.empty(this.data.id)&&($("#jstree").jstree("deselect_all"),$("#jstree").jstree("select_node",t))}getTagLabel(t){return this.tags.filter(e=>e.id==t)[0].label}onSubmit(){this.dialogRef.close(this.tag)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(f.e),s.Tb(m.b),s.Tb(g.a),s.Tb(b.h),s.Tb(b.a),s.Tb(y.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:14,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","mat-dialog-close"],[1,"fa","fa-times-circle","fa-2x"],["mat-dialog-content",""],[1,"col-md-6",2,"overflow","auto"],["id","jstree"],["class","col-md-6",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[1,"col-md-6"],["role","alert",1,"alert-message","alert-message-info"],[4,"ngIf"],["class","badge","style","cursor: pointer;",3,"title","click",4,"ngFor","ngForOf"],[1,"badge",2,"cursor","pointer",3,"title","click"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"h1",1),s.Zb(2,"span",2),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Zb(5,"button",3),s.mc(6,"translate"),s.Ub(7,"mat-icon",4),s.Yb(),s.Yb(),s.Zb(8,"div",5),s.Zb(9,"div",6),s.Ub(10,"div",7),s.Yb(),s.Qc(11,ot,15,9,"div",8),s.Yb(),s.Ub(12,"span",9),s.Qc(13,rt,7,8,"div",10),s.Yb()),2&t&&(s.Eb(3),s.Tc(s.nc(4,6,"lang.tags")),s.Eb(2),s.tc("title",s.nc(6,8,"lang.close")),s.Eb(4),s.Jb("col-md-12",!e.functionsService.empty(e.tag)),s.Eb(2),s.sc("ngIf",!e.functionsService.empty(e.tag)),s.Eb(2),s.sc("ngIf",e.functionsService.empty(e.data.id)))},directives:[b.i,C.b,b.d,O.a,b.f,x.t,x.s,b.c],pipes:[f.d],styles:[".badge[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:10px!important;color:#fff;font-weight:400;border-radius:.25em;background:#135f7f;margin:5px}"]}),t})();var lt=n("eiH7");const dt=["autoCompleteInput"];function ht(t,e){if(1&t&&(s.Zb(0,"mat-option",18),s.Zb(1,"span",19),s.Sc(2),s.Yb(),s.Yb()),2&t){const t=e.$implicit,n=s.lc(3);s.sc("value",t)("title",t[n.key]),s.Eb(2),s.Tc(t[n.key])}}function ut(t,e){if(1&t&&(s.Xb(0),s.Qc(1,ht,3,3,"mat-option",17),s.mc(2,"sortBy"),s.mc(3,"async"),s.Wb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("ngForOf",s.oc(2,1,s.nc(3,4,t.filteredOptions),t.key))}}function pt(t,e){if(1&t&&s.Ub(0,"mat-option",20),2&t){const t=s.lc(2);s.sc("innerHTML",t.listInfo,s.Ic)}}function ft(t,e){1&t&&(s.Zb(0,"mat-option",21),s.Ub(1,"mat-spinner",22),s.Yb())}function mt(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-form-field",5),s.Zb(1,"button",6),s.hc("click",(function(e){s.Hc(t);const n=s.lc();return e.stopPropagation(),n.openThesaurus()})),s.Ub(2,"mat-icon",7),s.Yb(),s.Zb(3,"input",8,9),s.hc("click",(function(e){return s.Hc(t),e.stopPropagation()}))("focus",(function(){return s.Hc(t),s.lc().resetAutocomplete()})),s.Yb(),s.Zb(5,"button",10),s.hc("click",(function(){return s.Hc(t),s.lc().addItem()})),s.Ub(6,"mat-icon",11),s.Yb(),s.Zb(7,"mat-autocomplete",12,13),s.hc("optionSelected",(function(e){return s.Hc(t),s.lc().selectOpt(e)})),s.Qc(9,ut,4,6,"ng-container",14),s.Qc(10,pt,1,1,"mat-option",15),s.Qc(11,ft,2,0,"mat-option",16),s.Yb(),s.Yb()}if(2&t){const t=s.Dc(8),e=s.lc();s.Eb(2),s.sc("title",e.translate.instant("lang.openThesaurus")),s.Eb(1),s.sc("placeholder",e.translate.instant("lang.searchTag"))("formControl",e.myControl)("matAutocomplete",t),s.Eb(2),s.sc("disabled",!e.canAdd||null===e.myControl.value||0===e.myControl.value.length),s.Eb(1),s.Pc("visibility",e.canAdd&&null!==e.myControl.value&&e.myControl.value.length>0?"visible":"hidden"),s.sc("title",e.translate.instant("lang.add")),s.Eb(3),s.sc("ngIf",e.options.length>0&&!e.loading),s.Eb(1),s.sc("ngIf",0===e.options.length&&!e.loading),s.Eb(1),s.sc("ngIf",e.loading)}}function gt(t,e){1&t&&s.Ub(0,"mat-icon",29)}function bt(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-chip",25),s.hc("removed",(function(){s.Hc(t);const n=e.index;return s.lc(2).removeItem(n)}))("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc(2).openThesaurus(n)})),s.Zb(1,"span",26),s.Ub(2,"i",27),s.Sc(3),s.Yb(),s.Qc(4,gt,1,0,"mat-icon",28),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc(2);s.sc("removable",!n.controlAutocomplete.disabled),s.Eb(1),s.sc("title",n.valuesToDisplay[t]),s.Eb(2),s.Uc("\xa0",n.valuesToDisplay[t]," "),s.Eb(1),s.sc("ngIf",!n.controlAutocomplete.disabled)}}function _t(t,e){if(1&t&&(s.Zb(0,"mat-chip-list",23),s.Qc(1,bt,5,4,"mat-chip",24),s.Yb()),2&t){const t=s.lc();s.Eb(1),s.sc("ngForOf",t.controlAutocomplete.value)}}function vt(t,e){1&t&&(s.Zb(0,"div",30),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.noSelectedTag")," "))}let yt=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c){this.translate=t,this.http=e,this.notify=n,this.dialog=i,this.headerService=s,this.appService=a,this.latinisePipe=o,this.privilegeService=r,this.functionsService=c,this.loading=!1,this.key="idToDisplay",this.canAdd=!1,this.myControl=new u.h,this.valuesToDisplay={},this.newIds=[],this.tags=[]}ngOnInit(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.canAdd=this.privilegeService.hasCurrentUserPrivilege("manage_tags_application"),this.initFormValue(),this.initAutocompleteRoute()}initAutocompleteRoute(){this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(F.a)(300),Object(r.a)(t=>t.length>2),Object(j.a)(),Object(a.a)(()=>this.loading=!0),Object(Y.a)(t=>this.getDatas(t)),Object(a.a)(t=>{this.listInfo=0===t.length?this.translate.instant("lang.noAvailableValue"):"",this.options=t,this.filteredOptions=Object(l.a)(this.options),this.loading=!1})).subscribe()}getDatas(t){return this.http.get("../rest/autocomplete/tags",{params:{search:t}})}selectOpt(t){this.setFormValue(t.option.value),this.myControl.setValue("")}initFormValue(){this.controlAutocomplete.value.forEach(t=>{this.http.get("../rest/tags/"+t).pipe(Object(a.a)(t=>{this.valuesToDisplay[t.id]=t.label})).subscribe()})}setFormValue(t){if(-1===this.controlAutocomplete.value.indexOf(t.id)){let e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push(t.id),this.valuesToDisplay[t.id]=t[this.key],this.controlAutocomplete.setValue(e)}}resetAutocomplete(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.options.filter(t=>this.latinisePipe.transform(t[this.key].toLowerCase()).includes(e))}return this.options}unsetValue(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}removeItem(t){if(-1===this.newIds.indexOf(this.controlAutocomplete.value[t])){let e=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(e)}else this.http.delete("../rest/tags/"+this.controlAutocomplete.value[t]).pipe(Object(a.a)(e=>{let n=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(n)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}addItem(){const t={};t[this.key]=this.myControl.value,this.http.post("../rest/tags",{label:t[this.key]}).pipe(Object(a.a)(e=>{for(var n in e)t.id=e[n],this.newIds.push(e[n]);this.setFormValue(t),this.myControl.setValue("")}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}openThesaurus(t=null){this.dialog.open(ct,{panelClass:"maarch-modal",width:"600px",data:{id:t}}).afterClosed().pipe(Object(r.a)(t=>!this.functionsService.empty(t)),Object(tt.a)(t=>({id:t.id,idToDisplay:t.label})),Object(a.a)(t=>{console.log(t),this.setFormValue(t)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(f.e),s.Tb(m.b),s.Tb(g.a),s.Tb(b.b),s.Tb(_.a),s.Tb(v.a),s.Tb(Z.c),s.Tb(lt.a),s.Tb(y.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-tag-input"]],viewQuery:function(t,e){var n;1&t&&s.Oc(dt,!0),2&t&&s.Cc(n=s.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"]},features:[s.Db([d.a])],decls:6,vars:4,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form"],["color","primary","type","button","matPrefix","","mat-icon-button","",2,"left","20px","z-index","1",3,"click"],[1,"fas","fa-external-link-alt",2,"font-size","15px",3,"title"],["type","text","matInput","","maxlength","128",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],["type","button","matSuffix","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-plus",3,"title"],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked","itemChip"],["class","listAutocomplete","color","default",3,"removable","removed","click",4,"ngFor","ngForOf"],["color","default",1,"listAutocomplete",3,"removable","removed","click"],[2,"display","flex","flex","1","align-items","center","cursor","pointer",3,"title"],[1,"fa","fa-tag",2,"padding-right","5px"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(s.Zb(0,"form"),s.Ub(1,"input",0),s.Qc(2,mt,12,11,"mat-form-field",1),s.Zb(3,"div",2),s.Qc(4,_t,2,1,"mat-chip-list",3),s.Qc(5,vt,3,3,"div",4),s.Yb(),s.Yb()),2&t&&(s.Eb(1),s.sc("formControl",e.controlAutocomplete),s.Eb(1),s.sc("ngIf",!e.controlAutocomplete.disabled),s.Eb(2),s.sc("ngIf",e.controlAutocomplete.value.length>0),s.Eb(1),s.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[u.J,u.u,u.v,u.c,u.t,u.i,x.t,E.c,C.b,E.i,O.a,M.b,N.d,u.o,E.j,N.a,x.s,U.o,w.c,R.d,R.a,R.e],pipes:[d.a,x.b,f.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#fff;background-color:#1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.listAutocomplete[_ngcontent-%COMP%]{height:auto}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})();var xt=n("7gPu"),wt=n("nYR2"),Ct=n("Wp6s");const Ot=["autoCompleteInput"];function kt(t,e){if(1&t){const t=s.ac();s.Zb(0,"plugin-select-search",2),s.hc("afterSelected",(function(e){s.Hc(t);const n=s.lc();return n.afterSelected.emit(e),n.setAddress(e)})),s.mc(1,"translate"),s.mc(2,"translate"),s.Yb()}if(2&t){const t=s.lc();s.sc("label",s.nc(1,4,"lang.issuingSite"))("placeholderLabel",s.nc(2,6,"lang.issuingSite"))("formControlSelect",t.control)("datas",t.issuingSiteList)}}function St(t,e){if(1&t&&(s.Zb(0,"div"),s.Sc(1),s.Yb()),2&t){const t=s.lc(2);s.Eb(1),s.Uc(" ",t.issuingSiteAddress.addressCountry," ")}}function Et(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-card",3),s.Zb(1,"div"),s.Sc(2),s.Yb(),s.Zb(3,"div"),s.Sc(4),s.Yb(),s.Zb(5,"div"),s.Sc(6),s.Yb(),s.Zb(7,"div"),s.Sc(8),s.Yb(),s.Zb(9,"div"),s.Sc(10),s.Yb(),s.Qc(11,St,2,1,"div",4),s.Zb(12,"button",5),s.hc("click",(function(){return s.Hc(t),s.lc().goTo()})),s.mc(13,"translate"),s.Ub(14,"mat-icon",6),s.Yb(),s.Yb()}if(2&t){const t=s.lc();s.Eb(2),s.Uc(" ",t.issuingSiteAddress.siteLabel," "),s.Eb(2),s.Uc(" ",t.issuingSiteAddress.addressAdditional1," "),s.Eb(2),s.Vc(" ",t.issuingSiteAddress.addressNumber," ",t.issuingSiteAddress.addressStreet," "),s.Eb(2),s.Uc(" ",t.issuingSiteAddress.addressAdditional2," "),s.Eb(2),s.Vc(" ",t.issuingSiteAddress.addressPostcode," ",t.issuingSiteAddress.addressTown," "),s.Eb(1),s.sc("ngIf","RW"===t.registedMailType),s.Eb(1),s.sc("title",s.nc(13,9,"lang.openMap"))}}let Mt=(()=>{class t{constructor(t,e,n,i){this.http=t,this.notify=e,this.headerService=n,this.functions=i,this.loading=!1,this.issuingSiteList=[],this.issuingSiteAddress=null,this.control=new u.h(""),this.registedMailType=null,this.afterSelected=new s.o}ngOnInit(){null!==this.registedMailType&&this.getIssuingSites(this.registedMailType),this.functions.empty(this.control.value)||setTimeout(()=>{this.setAddress(this.control.value)},0)}getIssuingSites(t){this.registedMailType=t,this.loading=!0,this.http.get("../rest/registeredMail/ranges").pipe(Object(a.a)(e=>{this.issuingSiteAddress=null,this.issuingSiteList=e.ranges.filter(e=>e.registeredMailType===t&&"OK"===e.status&&e.entities.indexOf(this.headerService.user.entities[0].id)>-1).map(t=>Object.assign(Object.assign({},t),{id:t.siteId,label:`${t.label} (${t.customerAccountNumber})`,disabled:100===t.fullness}))}),Object(wt.a)(()=>this.loading=!1),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()}setAddress(t){this.http.get("../rest/registeredMail/sites/"+t).pipe(Object(a.a)(t=>{this.issuingSiteAddress=t.site}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()}goTo(){window.open(`https://www.google.com/maps/search/${this.issuingSiteAddress.addressNumber}+${this.issuingSiteAddress.addressStreet},+${this.issuingSiteAddress.addressPostcode}+${this.issuingSiteAddress.addressTown},+${this.issuingSiteAddress.addressCountry}`,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(m.b),s.Tb(g.a),s.Tb(_.a),s.Tb(y.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-issuing-site-input"]],viewQuery:function(t,e){var n;1&t&&s.Oc(Ot,!0),2&t&&s.Cc(n=s.ic())&&(e.autoCompleteInput=n.first)},inputs:{control:"control",registedMailType:"registedMailType"},outputs:{afterSelected:"afterSelected"},decls:3,vars:2,consts:[["style","width:100%;",3,"label","placeholderLabel","formControlSelect","datas","afterSelected",4,"ngIf"],["color","primary",4,"ngIf"],[2,"width","100%",3,"label","placeholderLabel","formControlSelect","datas","afterSelected"],["color","primary"],[4,"ngIf"],["mat-icon-button","",1,"map-icon",3,"title","click"],[1,"fa","fas","fa-map-marked-alt"]],template:function(t,e){1&t&&(s.Zb(0,"form"),s.Qc(1,kt,3,8,"plugin-select-search",0),s.Qc(2,Et,15,11,"mat-card",1),s.Yb()),2&t&&(s.Eb(1),s.sc("ngIf",!e.loading),s.Eb(1),s.sc("ngIf",null!==e.issuingSiteAddress))},directives:[u.J,u.u,u.v,x.t,I.a,Ct.a,C.b,O.a],pipes:[f.d],styles:[".address-icon[_ngcontent-%COMP%]{right:10px;top:10px}.address-icon[_ngcontent-%COMP%], .map-icon[_ngcontent-%COMP%]{position:absolute;font-size:14px}.map-icon[_ngcontent-%COMP%]{cursor:pointer;z-index:2;right:0;bottom:0}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})();var It=n("JX91"),Pt=n("d3UM");function Tt(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",15),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc(2).addressBANCurrentDepartment=n})),s.Sc(1),s.Yb()}if(2&t){const t=e.$implicit;s.Eb(1),s.Tc(t)}}function At(t,e){if(1&t&&(s.Zb(0,"mat-option",17),s.Sc(1),s.Yb()),2&t){const t=e.$implicit;s.sc("value",t)("title",t.address),s.Eb(1),s.Uc(" ",t.address," ")}}function Dt(t,e){if(1&t&&(s.Xb(0),s.Qc(1,At,2,3,"mat-option",16),s.mc(2,"async"),s.Wb()),2&t){const t=s.lc(2);s.Eb(1),s.sc("ngForOf",s.nc(2,1,t.addressBANFilteredResult))}}function Rt(t,e){if(1&t&&s.Ub(0,"mat-option",18),2&t){const t=s.lc(2);s.sc("innerHTML",t.addressBANInfo,s.Ic)}}function Lt(t,e){1&t&&(s.Zb(0,"mat-option",19),s.Ub(1,"mat-spinner",20),s.Yb())}function Ft(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-form-field",2),s.Zb(1,"button",3),s.hc("click",(function(e){return s.Hc(t),e.stopPropagation()})),s.Sc(2),s.Ub(3,"i",4),s.Yb(),s.Zb(4,"mat-menu",null,5),s.Qc(6,Tt,2,1,"button",6),s.Yb(),s.Ub(7,"mat-icon",7),s.Zb(8,"input",8,9),s.hc("click",(function(e){return s.Hc(t),e.stopPropagation()}))("focus",(function(){return s.Hc(t),s.lc().resetAutocompleteAddressBan()})),s.Yb(),s.Zb(10,"mat-autocomplete",10,11),s.hc("optionSelected",(function(e){return s.Hc(t),s.lc().selectAddressBan(e)})),s.Qc(12,Dt,3,3,"ng-container",12),s.Qc(13,Rt,1,1,"mat-option",13),s.Qc(14,Lt,2,0,"mat-option",14),s.Yb(),s.Yb()}if(2&t){const t=s.Dc(5),e=s.Dc(11),n=s.lc();s.Eb(1),s.sc("matMenuTriggerFor",t)("title",n.translate.instant("lang.targetDepartment")),s.Eb(1),s.Uc(" ",n.addressBANCurrentDepartment,"\xa0"),s.Eb(4),s.sc("ngForOf",n.departmentList),s.Eb(2),s.sc("placeholder",n.translate.instant("lang.searchAddressBan"))("formControl",n.addressBANControl)("matAutocomplete",e),s.Eb(4),s.sc("ngIf",n.addressBANResult.length>0&&!n.addressBANLoading),s.Eb(1),s.sc("ngIf",0===n.addressBANResult.length&&!n.addressBANLoading),s.Eb(1),s.sc("ngIf",n.addressBANLoading)}}function jt(t,e){if(1&t&&(s.Zb(0,"mat-option",39),s.Sc(1),s.Yb()),2&t){const t=e.$implicit;s.sc("value",t.label),s.Eb(1),s.Uc(" ",t.label," ")}}function Yt(t,e){if(1&t&&(s.Zb(0,"mat-option",39),s.Sc(1),s.Yb()),2&t){const t=e.$implicit;s.sc("value",t),s.Eb(1),s.Uc(" ",t," ")}}function Zt(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-card",21),s.Zb(1,"button",22),s.hc("click",(function(){s.Hc(t);const e=s.lc();return e.manualAddress=!e.manualAddress})),s.mc(2,"translate"),s.Ub(3,"mat-icon",23),s.Yb(),s.Zb(4,"mat-form-field",24),s.Zb(5,"mat-label"),s.Sc(6),s.mc(7,"translate"),s.Yb(),s.Zb(8,"input",25),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.company=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("company",e)})),s.Yb(),s.Yb(),s.Zb(9,"mat-form-field",24),s.Zb(10,"mat-label"),s.Sc(11),s.mc(12,"translate"),s.Yb(),s.Zb(13,"mat-select",26),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.civility=e})),s.Qc(14,jt,2,2,"mat-option",27),s.mc(15,"sortBy"),s.Yb(),s.Yb(),s.Zb(16,"mat-form-field",24),s.Zb(17,"mat-label"),s.Sc(18),s.mc(19,"translate"),s.Yb(),s.Zb(20,"input",28),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.firstname=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("firstname",e)})),s.Yb(),s.Yb(),s.Zb(21,"mat-form-field",24),s.Zb(22,"mat-label"),s.Sc(23),s.mc(24,"translate"),s.Yb(),s.Zb(25,"input",29),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.lastname=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("lastname",e)})),s.Yb(),s.Yb(),s.Zb(26,"mat-form-field",24),s.Zb(27,"mat-label"),s.Sc(28),s.mc(29,"translate"),s.Yb(),s.Zb(30,"input",30),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressAdditional1=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("addressAdditional1",e)})),s.Yb(),s.Yb(),s.Zb(31,"mat-form-field",24),s.Zb(32,"mat-label"),s.Sc(33),s.mc(34,"translate"),s.Yb(),s.Zb(35,"input",31),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressNumber=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("addressNumber",e)})),s.Yb(),s.Yb(),s.Zb(36,"mat-form-field",24),s.Zb(37,"mat-label"),s.Sc(38),s.mc(39,"translate"),s.Yb(),s.Zb(40,"input",32),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressStreet=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("addressStreet",e)})),s.Yb(),s.Yb(),s.Zb(41,"mat-form-field",24),s.Zb(42,"mat-label"),s.Sc(43),s.mc(44,"translate"),s.Yb(),s.Zb(45,"input",33),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressAdditional2=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("addressAdditional2",e)})),s.Yb(),s.Yb(),s.Zb(46,"mat-form-field",24),s.Zb(47,"mat-label"),s.Sc(48),s.mc(49,"translate"),s.Yb(),s.Zb(50,"input",34),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressPostcode=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("addressPostcode",e)})),s.Yb(),s.Yb(),s.Zb(51,"mat-form-field",24),s.Zb(52,"mat-label"),s.Sc(53),s.mc(54,"translate"),s.Yb(),s.Zb(55,"input",35),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressTown=e}))("ngModelChange",(function(e){return s.Hc(t),s.lc().toUpperCase("addressTown",e)})),s.Yb(),s.Yb(),s.Zb(56,"mat-form-field",24),s.Zb(57,"mat-label"),s.Sc(58),s.mc(59,"translate"),s.Yb(),s.Zb(60,"input",36,9),s.hc("ngModelChange",(function(e){return s.Hc(t),s.lc().control.value.addressCountry=e})),s.Yb(),s.Zb(62,"mat-autocomplete",37,38),s.hc("optionSelected",(function(e){return s.Hc(t),s.lc().control.value.addressCountry=e.option.value})),s.Qc(64,Yt,2,2,"mat-option",27),s.mc(65,"async"),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=s.Dc(63),e=s.lc();s.Eb(1),s.sc("title",s.nc(2,31,"lang.showAddress")),s.Eb(5),s.Tc(s.nc(7,33,"lang.contactsParameters_company")),s.Eb(2),s.sc("ngModel",e.control.value.company)("required",e.functions.empty(e.control.value.lastname)),s.Eb(3),s.Tc(s.nc(12,35,"lang.contactsParameters_civility")),s.Eb(2),s.sc("ngModel",e.control.value.civility),s.Eb(1),s.sc("ngForOf",s.oc(15,37,e.civilities,"label")),s.Eb(4),s.Tc(s.nc(19,40,"lang.contactsParameters_firstname")),s.Eb(2),s.sc("ngModel",e.control.value.firstname)("required",e.functions.empty(e.control.value.company)),s.Eb(3),s.Tc(s.nc(24,42,"lang.contactsParameters_lastname")),s.Eb(2),s.sc("ngModel",e.control.value.lastname)("required",e.functions.empty(e.control.value.company)),s.Eb(3),s.Tc(s.nc(29,44,"lang.contactsParameters_addressAdditional1")),s.Eb(2),s.sc("ngModel",e.control.value.addressAdditional1),s.Eb(3),s.Tc(s.nc(34,46,"lang.contactsParameters_addressNumber")),s.Eb(2),s.sc("ngModel",e.control.value.addressNumber),s.Eb(3),s.Tc(s.nc(39,48,"lang.contactsParameters_addressStreet")),s.Eb(2),s.sc("ngModel",e.control.value.addressStreet),s.Eb(3),s.Tc(s.nc(44,50,"lang.contactsParameters_addressAdditional2")),s.Eb(2),s.sc("ngModel",e.control.value.addressAdditional2),s.Eb(3),s.Tc(s.nc(49,52,"lang.contactsParameters_addressPostcode")),s.Eb(2),s.sc("ngModel",e.control.value.addressPostcode),s.Eb(3),s.Tc(s.nc(54,54,"lang.contactsParameters_addressTown")),s.Eb(2),s.sc("ngModel",e.control.value.addressTown),s.Eb(3),s.Tc(s.nc(59,56,"lang.contactsParameters_addressCountry")),s.Eb(2),s.sc("ngModel",e.control.value.addressCountry)("matAutocomplete",t)("formControl",e.countryControl)("required","RW"===e.registeredMailType),s.Eb(4),s.sc("ngForOf",s.nc(65,58,e.countriesFilteredResult))}}function Nt(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",22),s.hc("click",(function(){s.Hc(t);const e=s.lc(2);return e.manualAddress=!e.manualAddress})),s.mc(1,"translate"),s.Ub(2,"mat-icon",43),s.Yb()}2&t&&s.sc("title",s.nc(1,1,"lang.update"))}function Ut(t,e){if(1&t){const t=s.ac();s.Zb(0,"mat-card",21),s.Qc(1,Nt,3,3,"button",40),s.Zb(2,"div"),s.Sc(3),s.Yb(),s.Zb(4,"div"),s.Sc(5),s.Yb(),s.Zb(6,"div"),s.Sc(7),s.Yb(),s.Zb(8,"div"),s.Sc(9),s.Yb(),s.Zb(10,"div"),s.Sc(11),s.Yb(),s.Zb(12,"div"),s.Sc(13),s.Yb(),s.Zb(14,"div"),s.Sc(15),s.Yb(),s.Zb(16,"button",41),s.hc("click",(function(){return s.Hc(t),s.lc().goTo()})),s.mc(17,"translate"),s.Ub(18,"mat-icon",42),s.Yb(),s.Yb()}if(2&t){const t=s.lc();s.Eb(1),s.sc("ngIf","DISABLED"!==t.control.status),s.Eb(2),s.Uc(" ",t.control.value.company," "),s.Eb(2),s.Wc(" ",t.control.value.civility," ",t.control.value.firstname," ",t.control.value.lastname," "),s.Eb(2),s.Uc(" ",t.control.value.addressAdditional1," "),s.Eb(2),s.Vc(" ",t.control.value.addressNumber," ",t.control.value.addressStreet," "),s.Eb(2),s.Uc(" ",t.control.value.addressAdditional2," "),s.Eb(2),s.Vc(" ",t.control.value.addressPostcode," ",t.control.value.addressTown," "),s.Eb(2),s.Uc(" ",t.control.value.addressCountry," "),s.Eb(1),s.sc("title",s.nc(17,13,"lang.openMap"))}}let Bt=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.latinisePipe=i,this.functions=s,this.manualAddress=!1,this.civilities=[],this.addressBANInfo="",this.addressBANMode=!0,this.addressBANControl=new u.h,this.addressBANLoading=!1,this.addressBANResult=[],this.addressBANCurrentDepartment="75",this.departmentList=[],this.countries=[],this.countryControl=new u.h}ngOnInit(){this.getCivilities(),this.getCountries(),this.initAutocompleteCountries(),this.initBanSearch(),this.initAutocompleteAddressBan(),null===this.control.value&&(this.control.setValue({}),this.control.setErrors({required:!0}))}getCivilities(){this.http.get("../rest/civilities").pipe(Object(a.a)(t=>{Object.keys(t.civilities).forEach(e=>{this.civilities.push({id:e,label:t.civilities[e].label.toUpperCase()})})}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()}getCountries(){this.http.get("../rest/registeredMail/countries").pipe(Object(a.a)(t=>{this.countries=t.countries.map(t=>this.latinisePipe.transform(t.toUpperCase()))}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()}initAutocompleteCountries(){this.countriesFilteredResult=this.countryControl.valueChanges.pipe(Object(It.a)(""),Object(tt.a)(t=>this._filter(t)))}_filter(t){const e=t.toLowerCase();return this.countries.filter(t=>t.toLowerCase().includes(e))}initBanSearch(){this.http.get("../rest/ban/availableDepartments").pipe(Object(a.a)(t=>{null!==t.default&&-1!==t.departments.indexOf(t.default.toString())&&(this.addressBANCurrentDepartment=t.default),this.departmentList=t.departments}),Object(o.a)(t=>(this.notify.handleSoftErrors(t),Object(it.of)(!1)))).subscribe()}initAutocompleteAddressBan(){this.addressBANInfo=this.translate.instant("lang.autocompleteInfo"),this.addressBANResult=[],this.addressBANControl.valueChanges.pipe(Object(F.a)(300),Object(r.a)(t=>t.length>2),Object(j.a)(),Object(a.a)(()=>this.addressBANLoading=!0),Object(Y.a)(t=>this.http.get("../rest/autocomplete/banAddresses",{params:{address:t,department:this.addressBANCurrentDepartment}})),Object(a.a)(t=>{this.addressBANInfo=0===t.length?this.translate.instant("lang.noAvailableValue"):"",this.addressBANResult=t,this.addressBANFilteredResult=Object(it.of)(this.addressBANResult),this.addressBANLoading=!1})).subscribe()}resetAutocompleteAddressBan(){this.addressBANResult=[],this.addressBANInfo=this.translate.instant("lang.autocompleteInfo")}selectAddressBan(t){this.control.value.addressNumber=t.option.value.number,this.control.value.addressStreet=t.option.value.afnorName,this.control.value.addressPostcode=t.option.value.postalCode,this.control.value.addressTown=t.option.value.city,this.control.value.addressCountry="FRANCE",this.countryControl.setValue("FRANCE"),this.addressBANControl.setValue(""),this.control.setErrors({required:!0}),this.control.markAsTouched()}getFormatedAdress(){const t={};return Object.keys(this.control.value).forEach(e=>{t[e]=this.control.value[e]}),t}emptyAddress(){let t=!0;return Object.keys(this.control.value).forEach(e=>{""!==this.control.value[e]&&(t=!1)}),t}toUpperCase(t,e){setTimeout(()=>{const e=this.latinisePipe.transform(this.control.value[t].toUpperCase());this.control.value[t]=e,this.checkRequiredFields()},100)}checkRequiredFields(){this.functions.empty(this.control.value.company)?this.functions.empty(this.control.value.company)&&(this.functions.empty(this.control.value.firstname)||this.functions.empty(this.control.value.lastname)||this.functions.empty(this.control.value.addressNumber)||this.functions.empty(this.control.value.addressStreet)||this.functions.empty(this.control.value.addressPostcode)||this.functions.empty(this.control.value.addressTown)||"RW"===this.registeredMailType&&this.functions.empty(this.control.value.addressCountry)?this.control.setErrors({required:!0}):this.control.setErrors(null)):this.functions.empty(this.control.value.addressNumber)||this.functions.empty(this.control.value.addressStreet)||this.functions.empty(this.control.value.addressPostcode)||this.functions.empty(this.control.value.addressTown)||"RW"===this.registeredMailType&&this.functions.empty(this.control.value.addressCountry)?this.control.setErrors({required:!0}):this.control.setErrors(null)}goTo(){window.open(`https://www.google.com/maps/search/${this.control.value.addressNumber}+${this.control.value.addressStreet},+${this.control.value.addressPostcode}+${this.control.value.addressTown},+${this.control.value.addressCountry}`,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(f.e),s.Tb(m.b),s.Tb(g.a),s.Tb(Z.c),s.Tb(y.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-registered-mail-recipient-input"]],inputs:{control:"control",registeredMailType:"registeredMailType"},decls:3,vars:3,consts:[["appearance","outline","class","smallInput",4,"ngIf"],["color","primary",4,"ngIf"],["appearance","outline",1,"smallInput"],["mat-button","","matSuffix","",3,"matMenuTriggerFor","title","click"],[1,"fa","fa-chevron-down"],["menuDep","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","primary","matPrefix","",1,"fa","fa-search",2,"font-size","15px"],["type","text","matInput","","maxlength","128",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","primary"],["mat-icon-button","",1,"address-icon",3,"title","click"],[1,"fa","fa-eye"],["floatLabel","always"],["matInput","","name","company",3,"ngModel","required","ngModelChange"],["name","civility",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstname",3,"ngModel","required","ngModelChange"],["matInput","","name","lastname",3,"ngModel","required","ngModelChange"],["matInput","","name","addressAdditional1",3,"ngModel","ngModelChange"],["matInput","","name","addressNumber","required","",3,"ngModel","ngModelChange"],["matInput","","name","addressStreet","required","",3,"ngModel","ngModelChange"],["matInput","","name","addressAdditional2",3,"ngModel","ngModelChange"],["matInput","","name","addressPostcode","required","",3,"ngModel","ngModelChange"],["matInput","","name","addressTown","required","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","matAutocomplete","formControl","required","ngModelChange"],["isOpen","true",3,"optionSelected"],["matAutocompleteCountries","matAutocomplete"],[3,"value"],["mat-icon-button","","class","address-icon",3,"title","click",4,"ngIf"],["mat-icon-button","",1,"map-icon",3,"title","click"],[1,"fa","fas","fa-map-marked-alt"],[1,"fa","fa-edit"]],template:function(t,e){1&t&&(s.Qc(0,Ft,15,10,"mat-form-field",0),s.Qc(1,Zt,66,60,"mat-card",1),s.Qc(2,Ut,19,15,"mat-card",1)),2&t&&(s.sc("ngIf","DISABLED"!==e.control.status),s.Eb(1),s.sc("ngIf",e.manualAddress&&!e.emptyAddress()),s.Eb(1),s.sc("ngIf",!e.manualAddress&&!e.emptyAddress()))},directives:[x.t,E.c,C.b,E.j,k.d,k.e,x.s,O.a,E.i,M.b,u.c,N.d,u.o,u.t,u.i,N.a,k.b,U.o,w.c,Ct.a,E.g,u.w,u.E,Pt.a],pipes:[x.b,f.d,d.a],styles:[".smallInput[_ngcontent-%COMP%]{width:230px!important;font-size:11px}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{width:30px;height:25px;color:#135f7f}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;line-height:normal;align-items:center}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.address-icon[_ngcontent-%COMP%]{top:0}.address-icon[_ngcontent-%COMP%], .map-icon[_ngcontent-%COMP%]{cursor:pointer;z-index:2;position:absolute;right:0;font-size:14px}.map-icon[_ngcontent-%COMP%]{bottom:0}"]}),t})();var zt=n("y9tK");const Vt=["appDiffusionsList"],Ht=["appIssuingSiteInput"],Qt=["appRegisteredMailRecipientInput"];function $t(t,e){1&t&&(s.Zb(0,"div",2),s.Ub(1,"mat-spinner",3),s.Yb())}function Wt(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",6),s.Zb(1,"button",7),s.hc("click",(function(){return s.Hc(t),s.lc(2).toggleMailTracking()})),s.Sc(2),s.Ub(3,"mat-icon",8),s.Yb(),s.Yb()}if(2&t){const t=s.lc(2);s.Eb(1),s.sc("title",t.translate.instant(t.arrFormControl["mail\xadtracking"].value?"lang.untrackThisMail":"lang.trackThisMail")),s.Eb(1),s.Uc(" ",t.translate.instant(t.arrFormControl["mail\xadtracking"].value?"lang.untrackThisMail":"lang.trackThisMail")," "),s.Eb(1),s.Hb("",t.arrFormControl["mail\xadtracking"].value?"fas":"far"," fa-star")}}function Gt(t,e){if(1&t&&(s.Zb(0,"small",16),s.Sc(1),s.mc(2,"titlecase"),s.mc(3,"translate"),s.Yb()),2&t){const t=s.lc(4);s.sc("title",t.translate.instant("lang.category_id")),s.Eb(1),s.Tc(s.nc(2,2,s.nc(3,4,"lang.indexing_"+t.currentCategory)))}}function qt(t,e){if(1&t&&s.Ub(0,"i",30),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.move"))}}function Xt(t,e){if(1&t&&(s.Zb(0,"button",31),s.Ub(1,"mat-icon",32),s.Yb()),2&t){s.lc();const t=s.Dc(5);s.sc("matMenuTriggerFor",t)}}function Jt(t,e){1&t&&(s.Zb(0,"span"),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Tc(s.nc(2,1,"lang.mandatoryField")))}function Kt(t,e){1&t&&(s.Zb(0,"span"),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Tc(s.nc(2,1,"lang.optionalField")))}function te(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",33),s.hc("click",(function(){s.Hc(t);const e=s.lc(3).$implicit;return e.mandatory=!e.mandatory})),s.Qc(1,Jt,3,3,"span",1),s.Qc(2,Kt,3,3,"span",1),s.Yb()}if(2&t){const t=s.lc(3).$implicit;s.Eb(1),s.sc("ngIf",!t.mandatory),s.Eb(1),s.sc("ngIf",t.mandatory)}}function ee(t,e){1&t&&s.Ub(0,"mat-divider")}function ne(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",33),s.hc("click",(function(){s.Hc(t);const e=s.lc(3).$implicit;return s.lc(4).enableField(e,!0)})),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(2),s.Tc(s.nc(3,1,"lang.enableField")))}function ie(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",33),s.hc("click",(function(){s.Hc(t);const e=s.lc(3).$implicit;return s.lc(4).enableField(e,!1)})),s.Zb(1,"span"),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(2),s.Tc(s.nc(3,1,"lang.disableField")))}function se(t,e){1&t&&s.Ub(0,"mat-divider")}function ae(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",33),s.hc("click",(function(){s.Hc(t);const e=s.lc(3),n=e.$implicit,i=e.index,a=s.lc(2).$implicit;return s.lc(2).removeItem("indexingModels_"+a,n,i)})),s.Ub(1,"mat-icon",34),s.Zb(2,"span"),s.Sc(3),s.mc(4,"translate"),s.Yb(),s.Yb()}2&t&&(s.Eb(3),s.Tc(s.nc(4,1,"lang.delete")))}function oe(t,e){if(1&t&&(s.Zb(0,"div",25),s.Qc(1,qt,1,1,"i",26),s.Sc(2),s.Qc(3,Xt,2,1,"button",27),s.Zb(4,"mat-menu",null,28),s.Qc(6,te,3,2,"button",29),s.Qc(7,ee,1,0,"mat-divider",1),s.Qc(8,ne,4,3,"button",29),s.Qc(9,ie,4,3,"button",29),s.Qc(10,se,1,0,"mat-divider",1),s.Qc(11,ae,5,3,"button",29),s.Yb(),s.Yb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("ngIf",e.adminMode),s.Eb(1),s.Uc("\xa0 ",t.label," "),s.Eb(1),s.sc("ngIf",e.adminMode),s.Eb(1),s.Gb("parametersFieldsMenu"),s.Eb(2),s.sc("ngIf",!t.system),s.Eb(1),s.sc("ngIf",!t.system),s.Eb(1),s.sc("ngIf",!t.enabled),s.Eb(1),s.sc("ngIf",t.enabled),s.Eb(1),s.sc("ngIf",!t.system),s.Eb(1),s.sc("ngIf",!t.system&&-1===t.identifier.indexOf("registeredMail_")&&("registeredMail"==e.currentCategory&&"departureDate"!=t.identifier||"registeredMail"!=e.currentCategory))}}function re(t,e){if(1&t&&(s.Zb(0,"button",38),s.Ub(1,"mat-icon",39),s.Yb()),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.bddModeCustomFieldMsg"))}}function ce(t,e){if(1&t&&(s.Zb(0,"mat-label"),s.Sc(1),s.Yb()),2&t){const t=s.lc(3).$implicit;s.Eb(1),s.Tc(t.label)}}function le(t,e){if(1&t&&(s.Xb(0),s.Qc(1,re,2,1,"button",35),s.Zb(2,"mat-form-field",36),s.Qc(3,ce,2,1,"mat-label",1),s.Ub(4,"textarea",37),s.Yb(),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("ngIf",t.SQLMode&&e.adminMode),s.Eb(1),s.sc("floatLabel",e.appService.getViewMode()?"":"never"),s.Eb(1),s.sc("ngIf",e.appService.getViewMode()),s.Eb(1),s.sc("id",t.identifier)("formControl",e.arrFormControl[t.identifier])("placeholder",e.translate.instant(e.adminMode?"lang.defaultValue":"lang.typeValue"))}}function de(t,e){if(1&t&&(s.Zb(0,"button",38),s.Ub(1,"mat-icon",39),s.Yb()),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.bddModeCustomFieldMsg"))}}function he(t,e){if(1&t&&(s.Zb(0,"mat-label"),s.Sc(1),s.Yb()),2&t){const t=s.lc(3).$implicit;s.Eb(1),s.Tc(t.label)}}function ue(t,e){if(1&t&&(s.Xb(0),s.Qc(1,de,2,1,"button",35),s.Zb(2,"mat-form-field",36),s.Qc(3,he,2,1,"mat-label",1),s.Ub(4,"input",40),s.Yb(),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("ngIf",t.SQLMode&&e.adminMode),s.Eb(1),s.sc("floatLabel",e.appService.getViewMode()?"":"never"),s.Eb(1),s.sc("ngIf",e.appService.getViewMode()),s.Eb(1),s.sc("id",t.identifier)("formControl",e.arrFormControl[t.identifier])("placeholder",e.translate.instant(e.adminMode?"lang.defaultValue":"lang.typeValue"))}}function pe(t,e){if(1&t&&(s.Zb(0,"button",38),s.Ub(1,"mat-icon",39),s.Yb()),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.bddModeCustomFieldMsg"))}}function fe(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Qc(1,pe,2,1,"button",35),s.Zb(2,"plugin-select-search",41),s.hc("afterSelected",(function(e){s.Hc(t);const n=s.lc(2).$implicit;return s.lc(4).launchEvent(e,n)})),s.Yb(),s.Wb()}if(2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("ngIf",t.SQLMode&&e.adminMode),s.Eb(1),s.sc("id",t.identifier)("showResetOption",e.adminMode||!t.mandatory)("label",t.label)("placeholderLabel",e.translate.instant(e.adminMode?"lang.defaultValue":"lang.chooseValue"))("formControlSelect",e.arrFormControl[t.identifier])("datas",t.values)}}function me(t,e){if(1&t&&(s.Zb(0,"button",38),s.Ub(1,"mat-icon",39),s.Yb()),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.bddModeCustomFieldMsg"))}}function ge(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",49),s.hc("click",(function(e){s.Hc(t);const n=s.lc(3).$implicit,i=s.lc(4);return e.stopPropagation(),i.toggleTodayDate(n)})),s.Ub(1,"mat-icon",50),s.Yb()}if(2&t){const t=s.lc(3).$implicit,e=s.lc(4);s.sc("matTooltip",e.translate.instant("lang.todayDate")),s.Eb(1),s.Gb(t.today?"far fa-bell-slash":"far fa-bell")}}function be(t,e){if(1&t&&(s.Zb(0,"mat-label"),s.Sc(1),s.Yb()),2&t){const t=s.lc(3).$implicit;s.Eb(1),s.Tc(t.label)}}function _e(t,e){if(1&t&&s.Ub(0,"mat-datepicker-toggle",51),2&t){s.lc();const t=s.Dc(8);s.sc("for",t)}}function ve(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",52),s.hc("click",(function(e){s.Hc(t);const n=s.lc(3).$implicit,i=s.lc(4);return e.stopPropagation(),i.arrFormControl[n.identifier].reset()})),s.Ub(1,"mat-icon",53),s.Yb()}if(2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.eraseValue"))}}function ye(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Qc(1,me,2,1,"button",35),s.Qc(2,ge,2,4,"button",42),s.Zb(3,"mat-form-field",43),s.hc("click",(function(){return s.Hc(t),s.Dc(8).open()})),s.Qc(4,be,2,1,"mat-label",1),s.Zb(5,"input",44),s.hc("dateChange",(function(e){s.Hc(t);const n=s.lc(2).$implicit;return s.lc(4).launchEvent(e,n)})),s.Yb(),s.Qc(6,_e,1,1,"mat-datepicker-toggle",45),s.Ub(7,"mat-datepicker",46,47),s.Qc(9,ve,2,1,"button",48),s.Yb(),s.Wb()}if(2&t){const t=s.Dc(8),e=s.lc(2).$implicit,n=s.lc(4);s.Eb(1),s.sc("ngIf",e.SQLMode&&n.adminMode),s.Eb(1),s.sc("ngIf",n.adminMode&&!e.SQLMode),s.Eb(1),s.sc("floatLabel",n.appService.getViewMode()?"":"never"),s.Eb(1),s.sc("ngIf",n.appService.getViewMode()),s.Eb(1),s.sc("id",e.identifier)("formControl",n.arrFormControl[e.identifier])("matDatepicker",t)("placeholder",n.translate.instant(n.adminMode?"lang.defaultValue":"lang.chooseDate"))("min",n.getMinDate(e.startDate))("max",n.getMaxDate(e.endDate)),s.Eb(1),s.sc("ngIf",!n.arrFormControl[e.identifier].value),s.Eb(1),s.sc("touchUi",n.appService.getViewMode()),s.Eb(2),s.sc("ngIf",n.arrFormControl[e.identifier].value&&!n.arrFormControl[e.identifier].disabled)}}function xe(t,e){if(1&t&&(s.Zb(0,"button",38),s.Ub(1,"mat-icon",39),s.Yb()),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.bddModeCustomFieldMsg"))}}function we(t,e){if(1&t&&(s.Zb(0,"mat-label"),s.Sc(1),s.Yb()),2&t){const t=s.lc(3).$implicit;s.Eb(1),s.Tc(t.label)}}function Ce(t,e){if(1&t&&(s.Zb(0,"mat-radio-button",58),s.Sc(1),s.Yb()),2&t){const t=e.$implicit;s.sc("value",t.id)("disabled",t.disabled),s.Eb(1),s.Uc(" ",t.label," ")}}function Oe(t,e){if(1&t&&(s.Xb(0),s.Qc(1,xe,2,1,"button",35),s.Zb(2,"mat-form-field",54),s.Qc(3,we,2,1,"mat-label",1),s.Ub(4,"input",55),s.Zb(5,"mat-radio-group",56),s.Qc(6,Ce,2,3,"mat-radio-button",57),s.Yb(),s.Yb(),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("ngIf",t.SQLMode&&e.adminMode),s.Eb(1),s.sc("floatLabel",e.appService.getViewMode()?"":"never"),s.Eb(1),s.sc("ngIf",e.appService.getViewMode()),s.Eb(2),s.sc("formControl",e.arrFormControl[t.identifier]),s.Eb(1),s.sc("ngForOf",t.values)}}function ke(t,e){if(1&t&&(s.Zb(0,"button",38),s.Ub(1,"mat-icon",39),s.Yb()),2&t){const t=s.lc(7);s.sc("title",t.translate.instant("lang.bddModeCustomFieldMsg"))}}function Se(t,e){if(1&t&&(s.Zb(0,"mat-list-option",65),s.Sc(1),s.Yb()),2&t){const t=e.$implicit;s.sc("value",t.id),s.Eb(1),s.Uc(" ",t.label," ")}}function Ee(t,e){if(1&t&&(s.Zb(0,"mat-chip",66),s.Sc(1),s.Yb()),2&t){const t=e.$implicit,n=s.lc(3).$implicit,i=s.lc(4);s.Eb(1),s.Uc(" ",i.getCheckboxListLabel(t.value,n.values)," ")}}function Me(t,e){if(1&t&&(s.Xb(0),s.Qc(1,ke,2,1,"button",35),s.Zb(2,"div",59),s.Zb(3,"mat-selection-list",60,61),s.Qc(5,Se,2,2,"mat-list-option",62),s.Yb(),s.Yb(),s.Zb(6,"mat-chip-list",63),s.Qc(7,Ee,2,1,"mat-chip",64),s.Yb(),s.Wb()),2&t){const t=s.Dc(4),e=s.lc(2).$implicit,n=s.lc(4);s.Eb(1),s.sc("ngIf",e.SQLMode&&n.adminMode),s.Eb(2),s.sc("formControl",n.arrFormControl[e.identifier]),s.Eb(2),s.sc("ngForOf",e.values),s.Eb(1),s.sc("disabled",e.system&&n.adminMode),s.Eb(1),s.sc("ngForOf",t.selectedOptions.selected)}}function Ie(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"app-contact-autocomplete",67),s.hc("retrieveDocumentEvent",(function(){return s.Hc(t),s.lc(6).retrieveDocumentEvent.emit()})),s.Yb(),s.Wb()}if(2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("id",t.identifier)("control",e.arrFormControl[t.identifier])}}function Pe(t,e){if(1&t&&(s.Xb(0),s.Ub(1,"app-folder-input",68),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("control",e.arrFormControl[t.identifier])}}function Te(t,e){if(1&t&&(s.Xb(0),s.Ub(1,"app-tag-input",68),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("control",e.arrFormControl[t.identifier])}}function Ae(t,e){if(1&t&&(s.Xb(0),s.Ub(1,"app-address-ban-input",69),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("control",e.arrFormControl[t.identifier])("admin",e.adminMode)}}function De(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"app-issuing-site-input",70,71),s.hc("afterSelected",(function(e){s.Hc(t);const n=s.lc(2).$implicit;return s.lc(4).launchEvent(e,n)})),s.Yb(),s.Wb()}if(2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("registedMailType",e.arrFormControl.registeredMail_type.value)("control",e.arrFormControl[t.identifier])}}function Re(t,e){if(1&t&&(s.Xb(0),s.Ub(1,"app-registered-mail-recipient-input",72,73),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(4);s.Eb(1),s.sc("control",e.arrFormControl[t.identifier])("registeredMailType",e.arrFormControl.registeredMail_type.value)}}function Le(t,e){if(1&t&&s.Ub(0,"i",74),2&t){const t=s.lc(2).$implicit;s.Jb("noMandatory",!t.mandatory)}}function Fe(t,e){1&t&&s.Ub(0,"i",75)}function je(t,e){1&t&&s.Ub(0,"i",76)}const Ye=function(){return["senders","recipients"]};function Ze(t,e){if(1&t&&(s.Zb(0,"div",18),s.Qc(1,oe,12,11,"div",19),s.Zb(2,"div",20),s.Qc(3,le,5,6,"ng-container",1),s.Qc(4,ue,5,6,"ng-container",1),s.Qc(5,fe,3,7,"ng-container",1),s.Qc(6,ye,10,13,"ng-container",1),s.Qc(7,Oe,7,5,"ng-container",1),s.Qc(8,Me,8,5,"ng-container",1),s.Qc(9,Ie,2,2,"ng-container",1),s.Qc(10,Pe,2,1,"ng-container",1),s.Qc(11,Te,2,1,"ng-container",1),s.Qc(12,Ae,2,2,"ng-container",1),s.Qc(13,De,3,2,"ng-container",1),s.Qc(14,Re,3,2,"ng-container",1),s.Yb(),s.Zb(15,"div",21),s.Qc(16,Le,1,2,"i",22),s.Qc(17,Fe,1,0,"i",23),s.Qc(18,je,1,0,"i",24),s.Yb(),s.Yb()),2&t){const t=s.lc().$implicit,e=s.lc(4);s.sc("cdkDragData",t),s.Eb(1),s.sc("ngIf",!e.adminMode&&!e.appService.getViewMode()||e.adminMode),s.Eb(1),s.Jb("textareaInput","string"===t.type)("checkboxInput","checkbox"===t.type),s.Eb(1),s.sc("ngIf","string"===t.type),s.Eb(1),s.sc("ngIf","integer"===t.type),s.Eb(1),s.sc("ngIf","select"===t.type),s.Eb(1),s.sc("ngIf","date"===t.type),s.Eb(1),s.sc("ngIf","radio"===t.type),s.Eb(1),s.sc("ngIf","checkbox"===t.type),s.Eb(1),s.sc("ngIf",s.yc(21,Ye).indexOf(t.identifier)>-1),s.Eb(1),s.sc("ngIf","folders"===t.identifier),s.Eb(1),s.sc("ngIf","tags"===t.identifier),s.Eb(1),s.sc("ngIf","banAutocomplete"===t.type),s.Eb(1),s.sc("ngIf","registeredMail_issuingSite"===t.identifier),s.Eb(1),s.sc("ngIf","registeredMail_recipient"===t.identifier),s.Eb(2),s.sc("ngIf",e.adminMode||e.arrFormControl[t.identifier].hasError("required")&&e.arrFormControl[t.identifier].untouched),s.Eb(1),s.sc("ngIf",!e.adminMode&&e.arrFormControl[t.identifier].touched&&e.arrFormControl[t.identifier].hasError("required")),s.Eb(1),s.sc("ngIf",!e.adminMode&&e.arrFormControl[t.identifier].valid&&!e.isEmptyField(t))}}function Ne(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",83),s.hc("click",(function(){return s.Hc(t),s.lc(),s.Dc(12).switchMode()})),s.Ub(1,"mat-icon",84),s.Yb()}if(2&t){const t=s.lc(6);s.sc("title",t.translate.instant("lang.modifyDiffusionList"))}}function Ue(t,e){if(1&t&&s.Ub(0,"i",74),2&t){const t=s.lc(2).$implicit;s.Jb("noMandatory",!t.mandatory)}}function Be(t,e){1&t&&s.Ub(0,"i",75)}function ze(t,e){1&t&&s.Ub(0,"i",76)}function Ve(t,e){if(1&t){const t=s.ac();s.Zb(0,"div"),s.Ub(1,"mat-divider"),s.Zb(2,"div",77),s.Zb(3,"div",78),s.Sc(4),s.mc(5,"translate"),s.Qc(6,Ne,2,1,"button",79),s.Yb(),s.Zb(7,"div",80),s.Qc(8,Ue,1,2,"i",22),s.Qc(9,Be,1,0,"i",23),s.Qc(10,ze,1,0,"i",24),s.Yb(),s.Yb(),s.Zb(11,"app-diffusions-list",81,82),s.hc("triggerEvent",(function(e){s.Hc(t);const n=s.lc().$implicit;return s.lc(4).changeDestination(e,n.allowedEntities)})),s.Yb(),s.Ub(13,"mat-divider"),s.Yb()}if(2&t){const t=s.Dc(12),e=s.lc().$implicit,n=s.lc(4);s.Eb(4),s.Uc(" ",s.nc(5,11,"lang.diffusionList")," "),s.Eb(2),s.sc("ngIf",t.canUpdateRoles()&&n.canEdit&&"process"!==n.mode&&e.enabled),s.Eb(2),s.sc("ngIf",n.adminMode||n.arrFormControl.diffusionList.hasError("required")&&n.arrFormControl.diffusionList.untouched),s.Eb(1),s.sc("ngIf",!n.adminMode&&n.arrFormControl.diffusionList.touched&&n.arrFormControl.diffusionList.hasError("required")),s.Eb(1),s.sc("ngIf",!n.adminMode&&n.arrFormControl.diffusionList.valid&&!n.isEmptyField(e)),s.Eb(1),s.sc("resId",n.resId)("entityId",n.arrFormControl[e.identifier].value)("diffFormControl",n.arrFormControl.diffusionList)("allowedEntities",e.allowedEntities)("target","indexation")("selfDest",n.selfDest)}}function He(t,e){if(1&t&&(s.Xb(0),s.Qc(1,Ze,19,22,"div",17),s.Qc(2,Ve,14,13,"div",1),s.Wb()),2&t){const t=e.$implicit,n=s.lc(2).$implicit,i=s.lc(2);s.Eb(1),s.sc("ngIf",t.unit===n),s.Eb(1),s.sc("ngIf","destination"===t.identifier&&!i.adminMode&&i.arrFormControl.destination.value>0&&!i.hideDiffusionList)}}const Qe=function(){return["indexingModelsCustomFieldsList_mail","indexingModelsCustomFieldsList_contact","indexingModelsCustomFieldsList_process","indexingModelsCustomFieldsList_classifying","customFieldsList","fieldsList"]};function $e(t,e){if(1&t){const t=s.ac();s.Zb(0,"div",10),s.Zb(1,"div",11),s.Sc(2),s.mc(3,"uppercase"),s.mc(4,"translate"),s.Qc(5,Gt,4,6,"small",12),s.Ub(6,"div",13),s.Yb(),s.Zb(7,"div",14),s.Zb(8,"div",15),s.hc("cdkDropListDropped",(function(e){return s.Hc(t),s.lc(3).drop(e)})),s.Qc(9,He,3,2,"ng-container",5),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=s.lc().$implicit,e=s.lc(2);s.Pc("border-color",e.currentPriorityColor),s.Eb(1),s.Pc("color",e.currentPriorityColor),s.Eb(1),s.Uc(" ",s.nc(3,11,s.nc(4,13,"lang."+t))," "),s.Eb(3),s.sc("ngIf","mail"===t),s.Eb(3),s.uc("id","indexingModelsCustomFieldsList_",t,""),s.sc("cdkDropListConnectedTo",s.yc(15,Qe))("cdkDropListData",e["indexingModels_"+t])("cdkDropListDisabled",!e.adminMode),s.Eb(1),s.sc("ngForOf",e["indexingModels_"+t])}}function We(t,e){if(1&t&&(s.Xb(0),s.Qc(1,$e,10,16,"div",9),s.Wb()),2&t){const t=e.$implicit,n=s.lc(2);s.Eb(1),s.sc("ngIf",n["indexingModels_"+t].length>0||n.adminMode)}}function Ge(t,e){if(1&t&&(s.Xb(0),s.Qc(1,Wt,4,5,"div",4),s.Qc(2,We,2,1,"ng-container",5),s.Wb()),2&t){const t=s.lc();s.Eb(1),s.sc("ngIf",!t.adminMode&&"indexation"==t.mode),s.Eb(1),s.sc("ngForOf",t.fieldCategories)}}let qe=(()=>{class t{constructor(t,e,n,i,a,o,r){this.translate=t,this.http=e,this.notify=n,this.dialog=i,this.headerService=a,this.appService=o,this.functions=r,this.loading=!0,this.resId=null,this.canEdit=!0,this.mode="indexation",this.hideDiffusionList=!1,this.retrieveDocumentEvent=new s.o,this.loadingFormEndEvent=new s.o,this.afterSaveEvent=new s.o,this.fieldCategories=["mail","contact","process","classifying"],this.indexingModelsCore=[{identifier:"doctype",label:this.translate.instant("lang.doctype"),unit:"mail",type:"select",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]},{identifier:"subject",label:this.translate.instant("lang.subject"),unit:"mail",type:"string",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]}],this.indexingModels_mail=[],this.indexingModels_contact=[],this.indexingModels_process=[],this.indexingModels_classement=[],this.indexingModels_mailClone=[],this.indexingModels_contactClone=[],this.indexingModels_processClone=[],this.indexingModels_classementClone=[],this.indexingModelsCustomFields=[],this.availableFields=[{identifier:"recipients",label:this.translate.instant("lang.getRecipients"),type:"autocomplete",default_value:[],values:[],enabled:!0},{identifier:"priority",label:this.translate.instant("lang.priority"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"confidentiality",label:this.translate.instant("lang.confidential"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"initiator",label:this.translate.instant("lang.initiatorEntityAlt"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"departureDate",label:this.translate.instant("lang.departureDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"processLimitDate",label:this.translate.instant("lang.processLimitDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"tags",label:this.translate.instant("lang.tags"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/tags","/rest/tags"],enabled:!0},{identifier:"senders",label:this.translate.instant("lang.getSenders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/correspondents"],enabled:!0},{identifier:"destination",label:this.translate.instant("lang.destination"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"folders",label:this.translate.instant("lang.folders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/folders","/rest/folders"],enabled:!0},{identifier:"documentDate",label:this.translate.instant("lang.docDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"arrivalDate",label:this.translate.instant("lang.arrivalDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_type",label:this.translate.instant("lang.registeredMailType"),type:"select",default_value:null,values:[{id:"2D",label:this.translate.instant("lang.registeredMail_2D")},{id:"2C",label:this.translate.instant("lang.registeredMail_2C")},{id:"RW",label:this.translate.instant("lang.registeredMail_RW")}],enabled:!0},{identifier:"registeredMail_issuingSite",label:this.translate.instant("lang.issuingSite"),type:"issuingSite",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_number",label:this.translate.instant("lang.registeredMailNumber"),type:"string",default_value:null,values:[],enabled:!1},{identifier:"registeredMail_warranty",label:this.translate.instant("lang.warrantyLevel"),type:"radio",default_value:null,values:[{id:"R1",label:"R1"},{id:"R2",label:"R2"},{id:"R3",label:"R3"}],enabled:!0},{identifier:"registeredMail_letter",label:this.translate.instant("lang.letter"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"registeredMail_recipient",label:this.translate.instant("lang.registeredMailRecipient"),type:"registeredMailRecipient",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_reference",label:this.translate.instant("lang.registeredMailReference"),type:"string",default_value:null,values:[],enabled:!0}],this.availableFieldsClone=[],this.availableCustomFields=[],this.availableCustomFieldsClone=null,this.arrFormControl={},this.currentCategory="",this.currentPriorityColor="",this.currentResourceValues=null,this.selfDest=!1}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.adminMode=void 0!==this.adminMode,this.availableFieldsClone=JSON.parse(JSON.stringify(this.availableFields)),this.fieldCategories.forEach(t=>{this["indexingModels_"+t]=[]}),this.indexingFormId<=0||void 0===this.indexingFormId?(yield this.initFields(),yield this.initCustomFields(),this.initElemForm()):this.loadForm(this.indexingFormId)}))}initFields(){return new Promise((t,e)=>{this.fieldCategories.forEach(t=>{this["indexingModels_"+t]=this.indexingModelsCore.filter((e,n,i)=>e.unit===t),this["indexingModels_"+t].forEach(t=>{this.initValidator(t)})}),t(!0)})}initCustomFields(){return new Promise((t,e)=>{this.http.get("../rest/customFields").pipe(Object(a.a)(e=>{this.availableCustomFields=e.customFields.map(t=>(t.identifier="indexingCustomField_"+t.id,t.system=!1,t.enabled=!0,t.SQLMode=t.SQLMode,t.default_value=["integer","string","date"].indexOf(t.type)>-1&&!this.functions.empty(t.values)?t.values[0].key:"banAutocomplete"===t.type?[]:null,t.values=t.values.length>0?t.values.map(t=>({id:t.key,label:t.label})):t.values,t)),this.availableCustomFieldsClone=JSON.parse(JSON.stringify(this.availableCustomFields)),t(!0)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()})}drop(t){t.item.data.unit=t.container.id.split("_")[1],t.previousContainer===t.container?Object(h.h)(t.container.data,t.previousIndex,t.currentIndex):(null!==t.item.data.identifier.match(/registeredMail_[.]*/g)&&"fieldsList"===t.previousContainer.id?this.transferRegisteredMailInput(t):this.transferInput(t),["destination","priority"].indexOf(t.item.data.identifier)>-1&&this.initElemForm())}transferInput(t){this.initValidator(t.item.data),Object(h.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}onSubmit(){let t=[];this.fieldCategories.forEach(e=>{t=t.concat(this["indexingModels_"+e])})}removeItem(t,e,n){this.dialogRef=this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.indexingModelModification"),msg:this.translate.instant("lang.updateIndexingFieldWarning")}}),this.dialogRef.afterClosed().pipe(Object(r.a)(t=>"ok"===t),Object(a.a)(()=>{e.mandatory=!1,e.enabled=!0,e.identifier.indexOf("indexingCustomField")>-1?(this.availableCustomFields.push(e),this[t].splice(n,1)):(this.availableFields.push(e),this[t].splice(n,1))}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}getDatas(t=!0){let e=[];return this.fieldCategories.forEach(t=>{e=e.concat(this["indexingModels_"+t])}),e.forEach(n=>{n.default_value="date"!==n.type||this.functions.empty(this.arrFormControl[n.identifier].value)?""===this.arrFormControl[n.identifier].value?null:this.arrFormControl[n.identifier].value:!0===n.today?this.adminMode?"_TODAY":this.functions.formatDateObjectToDateString(this.arrFormControl[n.identifier].value,!1):this.functions.formatDateObjectToDateString(this.arrFormControl[n.identifier].value,"processLimitDate"===n.identifier),"destination"===n.identifier&&!this.adminMode&&t&&e.push({identifier:"diffusionList",default_value:this.arrFormControl.diffusionList.value})}),this.adminMode||(e.push({identifier:"modelId",default_value:this.indexingFormId}),"indexation"===this.mode&&e.push({identifier:"followed",default_value:this.arrFormControl["mail\xadtracking"].value})),e}saveData(){return new Promise((t,e)=>{if(this.isValidForm()){const e=this.formatDatas(this.getDatas());return this.http.put("../rest/resources/"+this.resId,e).pipe(Object(a.a)(()=>{"registeredMail"===this.currentCategory&&this.http.put("../rest/registeredMails/"+this.resId,{type:e.registeredMail_type,warranty:e.registeredMail_warranty,issuingSiteId:e.registeredMail_issuingSite,letter:e.registeredMail_letter,recipient:e.registeredMail_recipient,reference:e.registeredMail_reference}).pipe(Object(a.a)(()=>{this.loadForm(this.indexingFormId),this.afterSaveEvent.emit()}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}),Object(a.a)(()=>{this.currentResourceValues=JSON.parse(JSON.stringify(this.getDatas(!1))),this.notify.success(this.translate.instant("lang.dataUpdated")),t(!0)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe(),!0}return this.notify.error(this.translate.instant("lang.mustFixErrors")),!1})}formatDatas(t){let e={};const n=/indexingCustomField_[.]*/g;return e.customFields={},t.forEach(t=>{null!==t.identifier.match(n)?e.customFields[t.identifier.split("_")[1]]=t.default_value:e[t.identifier]="registeredMail_recipient"===t.identifier?this.appRegisteredMailRecipientInput.getFormatedAdress():t.default_value}),e}getCategory(){return this.currentCategory}getAvailableFields(){return this.availableFields}getAvailableCustomFields(){return this.availableCustomFields}isModified(){let t=!1,e="",n="";return this.fieldCategories.forEach(i=>{e=JSON.stringify(this["indexingModels_"+i]),n=JSON.stringify(this["indexingModels_"+i+"Clone"]),e!==n&&(t=!0)}),t}isResourceModified(){return!this.loading&&JSON.stringify(this.currentResourceValues)!==JSON.stringify(this.getDatas(!1))}setModification(){this.fieldCategories.forEach(t=>{this["indexingModels_"+t+"Clone"]=JSON.parse(JSON.stringify(this["indexingModels_"+t]))})}cancelModification(){this.fieldCategories.forEach(t=>{this["indexingModels_"+t]=JSON.parse(JSON.stringify(this["indexingModels_"+t+"Clone"]))})}setDocumentDateField(t){t.startDate="",t.endDate="_TODAY",this.fieldCategories.forEach(e=>{this["indexingModels_"+e].filter(t=>"arrivalDate"===t.identifier).length>0?t.endDate="arrivalDate":this["indexingModels_"+e].filter(t=>"departureDate"===t.identifier).length>0&&(t.endDate="departureDate")})}setDestinationField(t){let e=this.adminMode||"indexation"!==this.mode?"../rest/indexingModels/entities":`../rest/indexing/groups/${this.groupId}/entities`;return new Promise((n,i)=>{this.http.get(e).pipe(Object(a.a)(e=>{if(this.adminMode){let n="";t.values=[{id:"#myPrimaryEntity",title:this.translate.instant("lang.myPrimaryEntity"),label:'<i class="fa fa-hashtag"></i>&nbsp;'+this.translate.instant("lang.myPrimaryEntity"),disabled:!1}],t.values=t.values.concat(e.entities.map(t=>{n=t.entity_label;for(let e=0;e<t.level;e++)t.entity_label="&nbsp;&nbsp;&nbsp;&nbsp;"+t.entity_label;return{id:t.id,title:n,label:t.entity_label,disabled:!1}}))}else{let n="";if("#myPrimaryEntity"===t.default_value)this.selfDest="outgoing"===this.currentCategory,t.default_value=this.headerService.user.entities[0].id,this.arrFormControl[t.identifier].setValue(t.default_value);else{this.selfDest=!1;const n=e.entities.filter(e=>!0===e.enabled&&e.id===t.default_value);t.default_value=n.length>0?n[0].id:null,this.arrFormControl[t.identifier].setValue(n.length>0?n[0].id:"")}t.values=e.entities.map(t=>{n=t.entity_label;for(let e=0;e<t.level;e++)t.entity_label="&nbsp;&nbsp;&nbsp;&nbsp;"+t.entity_label;return{id:t.id,title:n,label:t.entity_label,disabled:!t.enabled}}),t.event="loadDiffusionList",t.allowedEntities=t.values.filter(t=>!1===t.disabled).map(t=>t.id)}n(!0)})).subscribe()})}setInitiatorField(t){t.values=this.headerService.user.entities.map(t=>({id:t.id,label:t.entity_label}))}setCategoryField(t){return new Promise((e,n)=>{this.http.get("../rest/categories").pipe(Object(a.a)(n=>{t.values=n.categories,e(!0)})).subscribe()})}setPriorityField(t){return new Promise((e,n)=>{this.http.get("../rest/priorities").pipe(Object(a.a)(n=>{t.values=n.priorities,t.event="calcLimitDateByPriority",null!==t.default_value&&this.calcLimitDateByPriority(t,t.default_value),e(!0)})).subscribe()})}setDoctypeField(t){return new Promise((e,n)=>{this.http.get("../rest/doctypes").pipe(Object(a.a)(n=>{let i=[];n.structure.forEach(t=>{void 0===t.doctypes_second_level_id&&(i.push({id:t.doctypes_first_level_id,label:t.doctypes_first_level_label,title:t.doctypes_first_level_label,disabled:!0,isTitle:!0,color:t.css_style}),n.structure.filter(e=>e.doctypes_first_level_id===t.doctypes_first_level_id&&void 0!==e.doctypes_second_level_id&&void 0===e.description).forEach(t=>{i.push({id:t.doctypes_second_level_id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+t.doctypes_second_level_label,title:t.doctypes_second_level_label,disabled:!0,isTitle:!0,color:t.css_style}),i=i.concat(n.structure.filter(e=>e.doctypes_second_level_id===t.doctypes_second_level_id&&void 0!==e.description).map(t=>({id:t.type_id,label:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+t.description,title:t.description,disabled:!1,isTitle:!1})))}))}),t.values=i,t.event="calcLimitDate",this.functions.empty(t.default_value)||this.adminMode||this.calcLimitDate(t,t.default_value),e(!0)})).subscribe()})}initElemForm(t=!0){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,this.adminMode||this.arrFormControl["mail\xadtracking"].setValue(!1),this.currentPriorityColor="",yield Promise.all(this.fieldCategories.map(t=>Object(i.a)(this,void 0,void 0,(function*(){yield Promise.all(this["indexingModels_"+t].map(t=>Object(i.a)(this,void 0,void 0,(function*(){"documentDate"===t.identifier?this.setDocumentDateField(t):"destination"===t.identifier?yield this.setDestinationField(t):"arrivalDate"===t.identifier?(t.startDate="documentDate",t.endDate="_TODAY"):"initiator"!==t.identifier||this.adminMode?"processLimitDate"===t.identifier?(t.startDate="_TODAY",t.endDate="",t.event="setPriorityColorByLimitDate"):"departureDate"===t.identifier?(t.startDate="documentDate",t.endDate=""):"folders"===t.identifier?t.values=null:"category_id"===t.identifier?yield this.setCategoryField(t):"priority"===t.identifier?yield this.setPriorityField(t):"doctype"===t.identifier?yield this.setDoctypeField(t):"registeredMail_type"===t.identifier&&(t.event="getIssuingSites"):this.setInitiatorField(t)}))))})))),null!==this.resId&&(yield this.setResource(t)),this.loading=!1}))}setResource(t=!0){return new Promise((e,n)=>{this.http.get("../rest/resources/"+this.resId).pipe(Object(a.a)(n=>Object(i.a)(this,void 0,void 0,(function*(){yield Promise.all(this.fieldCategories.map(e=>Object(i.a)(this,void 0,void 0,(function*(){yield Promise.all(this["indexingModels_"+e].map(e=>Object(i.a)(this,void 0,void 0,(function*(){const i=Object.keys(n.customFields).filter(t=>t===e.identifier.split("indexingCustomField_")[1])[0];if(Object.keys(n).indexOf(e.identifier)>-1||void 0!==i){let t="";t=void 0!==i?n.customFields[i]:n[e.identifier],"registeredMail_type"===e.identifier&&this.getIssuingSites(null,t,!1),"priority"===e.identifier?this.setPriorityColor(null,t):"processLimitDate"!==e.identifier||this.functions.empty(t)?"destination"===e.identifier?("process"===this.mode&&this.arrFormControl[e.identifier].disable(),this.arrFormControl.diffusionList.disable()):"initiator"!==e.identifier||0!==e.values.filter(e=>e.id===t).length||this.functions.empty(t)||(yield this.getCurrentInitiator(e,t)):e.startDate="","date"!==e.type||this.functions.empty(t)||(t=new Date(t)),this.functions.empty(t)||this.arrFormControl[e.identifier].setValue(t)}else t||"destination"!==e.identifier||(this.arrFormControl[e.identifier].disable(),this.arrFormControl[e.identifier].setValidators([]),this.arrFormControl.diffusionList.disable());this.canEdit||this.arrFormControl[e.identifier].disable()}))))})))),this.arrFormControl["mail\xadtracking"].setValue(n.followed),t&&(this.currentResourceValues=JSON.parse(JSON.stringify(this.getDatas(!1)))),e(!0)}))),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()})}getCurrentInitiator(t,e){return new Promise((n,i)=>{this.http.get("../rest/entities/"+e).pipe(Object(a.a)(e=>{t.values.unshift({id:e.id,label:e.entity_label}),n(!0)})).subscribe()})}createForm(){this.indexingFormGroup=new u.k(this.arrFormControl),this.loadingFormEndEvent.emit()}resetForm(){return Object(i.a)(this,void 0,void 0,(function*(){Object.keys(this.arrFormControl).forEach(t=>{delete this.arrFormControl[t]}),this.availableFields=JSON.parse(JSON.stringify(this.availableFieldsClone)),this.fieldCategories.forEach(t=>{this["indexingModels_"+t]=[]}),null===this.availableCustomFieldsClone?yield this.initCustomFields():this.availableCustomFields=JSON.parse(JSON.stringify(this.availableCustomFieldsClone))}))}loadForm(t,e=!0){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,this.indexingFormId=t,yield this.resetForm(),this.adminMode||(this.arrFormControl["mail\xadtracking"]=new u.h({value:"",disabled:!!this.adminMode})),this.http.get("../rest/indexingModels/"+t).pipe(Object(a.a)(t=>Object(i.a)(this,void 0,void 0,(function*(){let n;this.indexingFormId=null!==t.indexingModel.master?t.indexingModel.master:t.indexingModel.id,this.currentCategory=t.indexingModel.category,0===t.indexingModel.fields.length?(this.initFields(),this.notify.error(this.translate.instant("lang.noFieldInModelMsg"))):t.indexingModel.fields.forEach(t=>{n=!1,t.system=!1,t.values=[];let e=this.availableFields.map(t=>t.identifier).indexOf(t.identifier);e>-1&&(t.label=this.availableFields[e].label,t.default_value=this.functions.empty(t.default_value)?this.availableFields[e].default_value:t.default_value,t.values=this.availableFields[e].values,t.type=this.availableFields[e].type,this.availableFields.splice(e,1),n=!0),e=this.availableCustomFields.map(t=>t.identifier).indexOf(t.identifier),e>-1&&(t.label=this.availableCustomFields[e].label,t.default_value=this.functions.empty(t.default_value)?this.availableCustomFields[e].default_value:t.default_value,t.values=this.availableCustomFields[e].values,t.type=this.availableCustomFields[e].type,t.SQLMode=this.availableCustomFields[e].SQLMode,this.availableCustomFields.splice(e,1),n=!0),e=this.indexingModelsCore.map(t=>t.identifier).indexOf(t.identifier),e>-1&&(t.label=this.indexingModelsCore[e].label,t.default_value=this.functions.empty(t.default_value)?this.indexingModelsCore[e].default_value:t.default_value,t.values=this.indexingModelsCore[e].values,t.type=this.indexingModelsCore[e].type,n=!0,t.system=!0),"date"===t.type&&"_TODAY"===t.default_value&&(t.today=!0,t.default_value=new Date),"initiator"===t.identifier&&"indexation"===this.mode&&this.functions.empty(t.default_value)&&this.headerService.user.entities[0]&&(t.default_value=this.headerService.user.entities.filter(t=>"Y"===t.primary_entity)[0].id),n?(this["indexingModels_"+t.unit].push(t),this.initValidator(t)):this.notify.error(this.translate.instant("lang.fieldNotExist")+": "+t.identifier)}),yield this.initElemForm(e),this.createForm()}))),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}))}enableField(t,e){if(e)this.isAlwaysDisabledField(t)||this.arrFormControl[t.identifier].enable(),t.enabled=!0;else{if(this.functions.empty(this.arrFormControl[t.identifier].value)&&t.mandatory)return alert(this.translate.instant("lang.canNotDisabledField")),!1;this.arrFormControl[t.identifier].disable(),t.enabled=!1}}isAlwaysDisabledField(t){return!(!this.adminMode||!(["integer","string","date"].indexOf(t.type)>-1&&!this.functions.empty(t.values)||t.today))}initValidator(t){let e=[];const n=!t.enabled||this.isAlwaysDisabledField(t);if(n||(t.enabled=!0),this.arrFormControl[t.identifier]=new u.h({value:t.default_value,disabled:n}),"integer"===t.type?e.push(this.regexValidator(new RegExp("[+-]?([0-9]*[.])?[0-9]+"),{floatNumber:""})):"date"!==t.type||this.functions.empty(t.default_value)||this.arrFormControl[t.identifier].setValue(new Date(t.default_value)),t.mandatory&&!this.adminMode&&e.push(u.H.required),this.arrFormControl[t.identifier].setValidators(e),"destination"===t.identifier){let e=[];t.mandatory&&e.push(u.H.required),this.arrFormControl.diffusionList=new u.h({value:null,disabled:!1}),this.arrFormControl.diffusionList.setValidators(e),this.arrFormControl.diffusionList.setValue([])}}regexValidator(t,e){return n=>n.value?t.test(n.value)?null:e:null}isValidForm(){return this.indexingFormGroup.valid||Object.keys(this.indexingFormGroup.controls).forEach(t=>{null!=this.indexingFormGroup.get(t).errors&&this.indexingFormGroup.controls[t].markAsTouched()}),this.indexingFormGroup.valid}isEmptyField(t){return null===this.arrFormControl[t.identifier].value||(Array.isArray(this.arrFormControl[t.identifier].value)?!(this.arrFormControl[t.identifier].value.length>0):""===String(this.arrFormControl[t.identifier].value))}getMinDate(t){return void 0!==this.arrFormControl[t]?this.arrFormControl[t].value:"_TODAY"===t?new Date:""}getMaxDate(t){return void 0!==this.arrFormControl[t]?this.arrFormControl[t].value:"_TODAY"===t?new Date:""}toggleTodayDate(t){t.today=!t.today,t.today?(this.arrFormControl[t.identifier].disable(),this.arrFormControl[t.identifier].setValue(new Date)):(this.arrFormControl[t.identifier].setValue(""),this.arrFormControl[t.identifier].enable())}toggleMailTracking(){this.arrFormControl["mail\xadtracking"].setValue(!this.arrFormControl["mail\xadtracking"].value)}changeCategory(t){this.currentCategory=t,this.changeRegisteredMailItems(t)}changeDestination(t,e){-1===t.indexOf(this.arrFormControl.destination.value)&&this.arrFormControl.destination.setValue(t[0])}launchEvent(t,e){void 0===e.event||null===t||this.adminMode||this[e.event](e,t)}calcLimitDate(t,e){let n=null;void 0!==this.arrFormControl.processLimitDate&&this.http.get("../rest/indexing/processLimitDate",{params:{doctype:e}}).pipe(Object(a.a)(t=>{n=new Date(t.processLimitDate),this.arrFormControl.processLimitDate.setValue(n)}),Object(r.a)(()=>void 0!==this.arrFormControl.priority),Object(c.a)(()=>this.http.get("../rest/indexing/priority",{params:{processLimitDate:n.toDateString()}})),Object(a.a)(t=>{this.arrFormControl.priority.setValue(t.priority),this.setPriorityColor(null,t.priority)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}calcLimitDateByPriority(t,e){let n=null;void 0!==this.arrFormControl.processLimitDate?this.http.get("../rest/indexing/processLimitDate",{params:{priority:e}}).pipe(Object(a.a)(i=>{n=new Date(i.processLimitDate),this.arrFormControl.processLimitDate.setValue(n),this.setPriorityColor(t,e)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe():this.setPriorityColor(t,e)}setPriorityColor(t,e){null!==t?this.currentPriorityColor=t.values.filter(t=>t.id===e).map(t=>t.color)[0]:this.fieldCategories.forEach(t=>{this["indexingModels_"+t].filter(t=>"priority"===t.identifier).length>0&&(this.currentPriorityColor=this["indexingModels_"+t].filter(t=>"priority"===t.identifier)[0].values.filter(t=>t.id===e).map(t=>t.color)[0])})}setPriorityColorByLimitDate(t,e){const n=new Date(e.value);this.http.get("../rest/indexing/priority",{params:{processLimitDate:n.toDateString()}}).pipe(Object(a.a)(t=>{this.arrFormControl.priority.setValue(t.priority),this.setPriorityColor(null,t.priority)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}loadDiffusionList(t,e){this.functions.empty(this.appDiffusionsList)||this.appDiffusionsList.loadListModel(e)}getCheckboxListLabel(t,e){return e.filter(e=>e.id===t)[0].label}getIssuingSites(t,e,n=!0){this.fieldCategories.forEach(t=>{this["indexingModels_"+t].forEach(t=>{"registeredMail_warranty"===t.identifier&&(t.values[2].disabled="RW"===e),"registeredMail_issuingSite"===t.identifier&&n&&this.arrFormControl.registeredMail_issuingSite.setValue("")}),"RW"===e&&"R3"===this.arrFormControl.registeredMail_warranty.value&&this.arrFormControl.registeredMail_warranty.setValue("R1")}),this.functions.empty(this.appIssuingSiteInput)||this.appIssuingSiteInput.getIssuingSites(e)}transferRegisteredMailInput(t){const e=/registeredMail_[.]*/g;if(this.transferInput(t),"registeredMail_type"!==t.item.data.identifier){const e=t.previousContainer.data.map((t,e)=>({index:e,identifier:t.identifier})).filter(t=>"registeredMail_type"===t.identifier)[0];this.initValidator(t.previousContainer.data[e.index]),t.previousContainer.data[e.index].unit=t.container.id.split("_")[1],t.container.data.splice(t.currentIndex,0,t.previousContainer.data[e.index]),t.previousContainer.data.splice(e.index,1)}t.previousContainer.data.forEach((n,i)=>{null!==n.identifier.match(e)&&(this.initValidator(n),n.unit=t.container.id.split("_")[1],t.container.data.splice(t.currentIndex,0,n),t.previousContainer.data.splice(i,1))}),this.initElemForm()}changeRegisteredMailItems(t){"registeredMail"!==t?this.fieldCategories.forEach(t=>{this.availableFields=this.availableFields.concat(this["indexingModels_"+t].filter(t=>t.identifier.indexOf("registeredMail_")>-1)),this["indexingModels_"+t]=this["indexingModels_"+t].filter(t=>-1===t.identifier.indexOf("registeredMail_"))}):(this.indexingModels_mail=this.indexingModels_mail.concat(this.availableFields.filter(t=>t.identifier.indexOf("registeredMail_")>-1||"departureDate"===t.identifier)),this.indexingModels_mail.forEach(t=>{(t.identifier.indexOf("registeredMail_")>-1||"departureDate"===t.identifier)&&(this.functions.empty(t.unit)&&(t.unit="mail"),this.initValidator(t))}),this.availableFields=this.availableFields.filter(t=>-1===t.identifier.indexOf("registeredMail_")&&"departureDate"!==t.identifier))}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(f.e),s.Tb(m.b),s.Tb(g.a),s.Tb(b.b),s.Tb(_.a),s.Tb(v.a),s.Tb(y.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-indexing-form"]],viewQuery:function(t,e){var n;1&t&&(s.ad(Vt,!0),s.ad(Ht,!0),s.ad(Qt,!0)),2&t&&(s.Cc(n=s.ic())&&(e.appDiffusionsList=n.first),s.Cc(n=s.ic())&&(e.appIssuingSiteInput=n.first),s.Cc(n=s.ic())&&(e.appRegisteredMailRecipientInput=n.first))},inputs:{indexingFormId:"indexingFormId",resId:"resId",groupId:"groupId",adminMode:["admin","adminMode"],canEdit:"canEdit",mode:"mode",hideDiffusionList:"hideDiffusionList"},outputs:{retrieveDocumentEvent:"retrieveDocumentEvent",loadingFormEndEvent:"loadingFormEndEvent",afterSaveEvent:"afterSaveEvent"},features:[s.Db([d.a])],decls:2,vars:2,consts:[["style","display:flex;height:100%;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["style","display: flex;align-items: center;justify-content: flex-end;margin-top: 10px;margin-bottom: -20px;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","justify-content","flex-end","margin-top","10px","margin-bottom","-20px"],["mat-button","",1,"categoryLabel",3,"title","click"],["color","primary",2,"font-size","20px"],["class","banner",3,"borderColor",4,"ngIf"],[1,"banner"],[1,"title"],[3,"title",4,"ngIf"],[1,"title-divider"],[1,"content"],["cdkDropList","",1,"indexingModelsCustomFieldsList",2,"min-height","50px",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],[3,"title"],["class","fieldRow","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y",1,"fieldRow",3,"cdkDragData"],["class","fieldLabel",4,"ngIf"],[1,"fieldInput"],[1,"fieldState"],["class","fas fa-asterisk fieldRequired",3,"noMandatory",4,"ngIf"],["class","fas fa-exclamation-triangle fieldError",4,"ngIf"],["class","fas fa-check fieldFull",4,"ngIf"],[1,"fieldLabel"],["class","fas fa-bars fa-2x","color","primary","style","cursor: move","cdkDragHandle","",3,"title",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["fieldActions","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["color","primary","cdkDragHandle","",1,"fas","fa-bars","fa-2x",2,"cursor","move",3,"title"],["mat-icon-button","",3,"matMenuTriggerFor"],["color","secondary",1,"fa","fa-ellipsis-v"],["mat-menu-item","",3,"click"],["color","warn",1,"fa","fa-trash"],["mat-button","","color","primary","matPrefix","","mat-icon-button","","disabled","","style","position: absolute;left: -40px;",3,"title",4,"ngIf"],[1,"input-form",3,"floatLabel"],["matInput","","matTextareaAutosize","",1,"subject",3,"id","formControl","placeholder"],["mat-button","","color","primary","matPrefix","","mat-icon-button","","disabled","",2,"position","absolute","left","-40px",3,"title"],["color","primary",1,"fas","fa-database"],["type","number","matInput","","min","0","step","0.1",3,"id","formControl","placeholder"],[2,"width","100%",3,"id","showResetOption","label","placeholderLabel","formControlSelect","datas","afterSelected"],["mat-button","","color","primary","matPrefix","","mat-icon-button","","style","position: absolute;left: -40px;",3,"matTooltip","click",4,"ngIf"],[1,"input-form","input-date",2,"cursor","pointer",3,"floatLabel","click"],["matInput","","readonly","",2,"cursor","pointer",3,"id","formControl","matDatepicker","placeholder","min","max","dateChange"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["mat-button","","color","primary","matPrefix","","mat-icon-button","",2,"position","absolute","left","-40px",3,"matTooltip","click"],["color","primary"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[1,"input-form","input-radio",3,"floatLabel"],["matInput","",2,"display","none"],["color","primary",1,"radio-form",3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"input-form","checkbox-form"],[1,"div-list",3,"formControl"],["shoes",""],["color","primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],[1,"checkbox-selected-list",3,"disabled"],["selected","",4,"ngFor","ngForOf"],["color","primary","checkboxPosition","before",3,"value"],["selected",""],[2,"width","100%",3,"id","control","retrieveDocumentEvent"],[2,"width","100%",3,"control"],[2,"width","100%",3,"control","admin"],[2,"width","100%",3,"registedMailType","control","afterSelected"],["appIssuingSiteInput",""],[2,"width","100%",3,"control","registeredMailType"],["appRegisteredMailRecipientInput",""],[1,"fas","fa-asterisk","fieldRequired"],[1,"fas","fa-exclamation-triangle","fieldError"],[1,"fas","fa-check","fieldFull"],[2,"padding","10px","font-size","16px","color","#135F7F","letter-spacing","2px","font-weight","bold","display","flex","align-items","center"],[2,"display","flex","flex","1","align-items","center"],["mat-icon-button","","color","primary",3,"title","click",4,"ngIf"],[1,"fieldState",2,"width","20px","padding","0px"],[3,"resId","entityId","diffFormControl","allowedEntities","target","selfDest","triggerEvent"],["appDiffusionsList",""],["mat-icon-button","","color","primary",3,"title","click"],[1,"fa","fa-edit"]],template:function(t,e){1&t&&(s.Qc(0,$t,2,0,"div",0),s.Qc(1,Ge,3,2,"ng-container",1)),2&t&&(s.sc("ngIf",e.loading),s.Eb(1),s.sc("ngIf",!e.loading))},directives:[x.t,w.c,x.s,C.b,O.a,h.e,h.a,k.e,h.b,k.d,k.b,S.a,E.c,M.b,M.d,u.c,u.t,u.i,E.i,E.g,u.z,I.a,P.f,P.d,T.b,P.h,E.j,A.b,A.a,D.i,R.d,D.f,R.a,L.a,K,yt,xt.a,Mt,Bt,zt.a],pipes:[x.G,f.d,x.F],styles:[".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},f0Cb:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n("8LU1"),s=n("FKr1"),a=n("fXoL");let o=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(i.c)(t)}get inset(){return this._inset}set inset(t){this._inset=Object(i.c)(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(a.Fb("aria-orientation",e.vertical?"vertical":"horizontal"),a.Jb("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),r=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[s.j],s.j]}),t})()},fBaO:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var i=n("fXoL"),s=n("3Pt+"),a=n("1G5W"),o=n("IzEk"),r=n("JX91"),c=n("lJxs"),l=n("jtHE"),d=n("XNiG"),h=n("1YbM"),u=n("sYmb"),p=n("aEDk"),f=n("A6w4"),m=n("kmnG"),g=n("ofXK"),b=n("d3UM"),_=n("qFsG"),v=n("bTqV"),y=n("NFeN"),x=n("FKr1");const w=["searchSelectInput"],C=["test"];function O(t,e){if(1&t&&(i.Zb(0,"mat-label"),i.Sc(1),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Tc(t.label)}}function k(t,e){1&t&&i.Ub(0,"input",10)}function S(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",15),i.hc("click",(function(){return i.Hc(t),i.lc(2)._reset(!0)})),i.Ub(1,"mat-icon",16),i.Yb()}}const E=function(t){return{"mat-select-search-inner-multiple":t}};function M(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",11),i.Zb(1,"input",12,13),i.hc("keydown",(function(e){return i.Hc(t),i.lc()._handleKeydown(e)}))("input",(function(e){return i.Hc(t),i.lc().onInputChange(e.target.value)}))("blur",(function(e){return i.Hc(t),i.lc().onBlur(e.target.value)})),i.Yb(),i.Qc(3,S,2,0,"button",14),i.Yb()}if(2&t){const t=i.lc();i.sc("ngClass",i.zc(4,E,t.matSelect.multiple)),i.Eb(1),i.sc("formControl",t.formControlSearch)("placeholder",t.translate.instant("lang.filterBy")),i.Eb(2),i.sc("ngIf",t.formControlSearch.value)}}function I(t,e){1&t&&(i.Zb(0,"div",17),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noResult")," "))}function P(t,e){1&t&&i.Ub(0,"mat-option",18),2&t&&i.sc("value",null)}function T(t,e){if(1&t&&i.Ub(0,"mat-option",19),2&t){const t=e.$implicit,n=i.lc();i.Pc("color",t.color),i.Jb("opt-group",t.isTitle),i.sc("value","id"===n.returnValue?t.id:t)("title",void 0!==t.title?t.title:t.label)("disabled",t.disabled)("innerHTML",t.label,i.Ic)}}function A(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Uc(" ",t.getErrorMsg(t.formControlSelect.errors),"")}}function D(t,e){if(1&t&&i.Ub(0,"mat-icon",20),2&t){const t=i.lc();i.Pc("color",t.suffixIcon.color),i.sc("title",void 0!==t.suffixIcon.title?t.suffixIcon.title:"")}}let R=(()=>{class t{constructor(t,e,n,a,o,r){this.translate=t,this.latinisePipe=e,this.changeDetectorRef=n,this.renderer=a,this.appService=o,this.sortPipe=r,this.placeholderLabel=this.translate.instant("lang.chooseValue"),this.formControlSelect=new s.h,this.datas=[],this.returnValue="id",this.id="",this.showLabel=!1,this.required=!1,this.hideErrorDesc=!0,this.optGroupTarget=null,this.optGroupList=null,this.suffixIcon=null,this.class="input-form",this.afterSelected=new i.o,this.afterOpened=new i.o,this.filteredDatasMulti=new l.a(1),this.overlayClassSet=!1,this.change=new i.o,this._onDestroy=new d.a,this.formControlSearch=new s.h,this.onChange=t=>{},this.onTouched=t=>{}}get value(){return this._value}ngOnInit(){null!==this.optGroupList&&this.initOptGroups();const t="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(t):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,t]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[t]=!0):this.matSelect.panelClass=t,this.matSelect.openedChange.pipe(Object(a.a)(this._onDestroy)).subscribe(t=>{t?this.appService.getViewMode()||this._focus():this.formControlSearch.reset()}),this.matSelect.openedChange.pipe(Object(o.a)(1)).pipe(Object(a.a)(this._onDestroy)).subscribe(()=>{this._options=this.matSelect.options,this._options.changes.pipe(Object(a.a)(this._onDestroy)).subscribe(()=>{const t=this.matSelect._keyManager;t&&this.matSelect.panelOpen&&setTimeout(()=>{t.setFirstItemActive()})})}),this.filteredDatas=this.formControlSearch.valueChanges.pipe(Object(r.a)(""),Object(c.a)(t=>this._filter(t)))}initOptGroups(){this.datas.unshift({id:0,label:"toto",disabled:!0});let t=[];this.optGroupList=this.sortPipe.transform(this.optGroupList,"label"),this.optGroupList.forEach(e=>{t.push({id:e.id,label:e.label,disabled:!0}),t=t.concat(this.datas.filter(t=>t[this.optGroupTarget]===e.id).map(t=>Object.assign(Object.assign({},t),{title:t.label,label:"&nbsp;&nbsp;&nbsp"+t.label})))}),this.datas=t}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}ngAfterViewInit(){this.datas.length>5&&this.setOverlayClass()}_handleKeydown(t){32===t.keyCode&&t.stopPropagation()}writeValue(t){t!==this._value&&(this._value=t,this.change.emit(t))}onInputChange(t){t!==this._value&&(this._value=t,this.onChange(t),this.change.emit(t))}onBlur(t){this.writeValue(t),this.onTouched()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}_focus(){const t=this.matSelect.panel.nativeElement,e=t.scrollTop;this.datas.length>5&&this.renderer.selectRootElement("#searchSelectInput").focus(),t.scrollTop=e}_reset(t){this.formControlSearch.reset(),this.renderer.selectRootElement("#searchSelectInput").focus()}setOverlayClass(){this.overlayClassSet||(this.matSelect.overlayDir.attach.pipe(Object(a.a)(this._onDestroy)).subscribe(()=>{void 0!==this.searchSelectInput&&this.searchSelectInput.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("cdk-overlay-pane-select-search")}),this.overlayClassSet=!0)}initMultipleHandling(){this.matSelect.valueChange.pipe(Object(a.a)(this._onDestroy)).subscribe(t=>{if(this.matSelect.multiple){let e=!1;if(this._value&&this._value.length&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){t&&Array.isArray(t)||(t=[]);const n=this.matSelect.options.map(t=>t.value);this.previousSelectedValues.forEach(i=>{-1===t.indexOf(i)&&-1===n.indexOf(i)&&(t.push(i),e=!0)})}e&&this.matSelect._onChange(t),this.previousSelectedValues=t}})}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.datas.filter(t=>this.latinisePipe.transform(t.label.toLowerCase()).includes(e))}return this.datas}launchEvent(t){void 0!==this.afterSelected&&this.afterSelected.emit(t.value)}getErrorMsg(t){return void 0!==t.required?this.translate.instant("lang.requiredField"):void 0!==t.pattern||void 0!==t.email?this.translate.instant("lang.badFormat"):"unknow validator"}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(u.e),i.Tb(p.c),i.Tb(i.h),i.Tb(i.H),i.Tb(f.a),i.Tb(h.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["plugin-select-search"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(w,!0,i.l),i.Oc(C,!0)),2&t&&(i.Cc(n=i.ic())&&(e.searchSelectInput=n.first),i.Cc(n=i.ic())&&(e.matSelect=n.first))},inputs:{placeholderLabel:"placeholderLabel",formControlSelect:"formControlSelect",datas:"datas",returnValue:"returnValue",label:"label",id:"id",showResetOption:"showResetOption",showLabel:"showLabel",required:"required",hideErrorDesc:"hideErrorDesc",optGroupTarget:"optGroupTarget",optGroupList:"optGroupList",suffixIcon:"suffixIcon",class:"class"},outputs:{afterSelected:"afterSelected",afterOpened:"afterOpened"},features:[i.Db([h.a])],decls:12,vars:17,consts:[[3,"floatLabel"],[4,"ngIf"],[3,"id","formControl","placeholder","required","selectionChange"],["test",""],["matInput","","class","mat-select-search-input mat-select-search-hidden",4,"ngIf"],["class","mat-select-search-inner",3,"ngClass",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],[3,"value",4,"ngIf"],[3,"value","title","disabled","opt-group","color","innerHTML",4,"ngFor","ngForOf"],["style","height: auto;","matSuffix","","class","fas fa-circle selectSuffixIcon",3,"color","title",4,"ngIf"],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner",3,"ngClass"],["matInput","","id","searchSelectInput",1,"mat-select-search-input",3,"formControl","placeholder","keydown","input","blur"],["searchSelectInput",""],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[1,"fa","fa-times"],[1,"mat-select-search-no-entries-found"],[3,"value"],[3,"value","title","disabled","innerHTML"],["matSuffix","",1,"fas","fa-circle","selectSuffixIcon",2,"height","auto",3,"title"]],template:function(t,e){1&t&&(i.Zb(0,"mat-form-field",0),i.Qc(1,O,2,1,"mat-label",1),i.Zb(2,"mat-select",2,3),i.hc("selectionChange",(function(t){return e.launchEvent(t)})),i.Qc(4,k,1,0,"input",4),i.Qc(5,M,4,6,"div",5),i.Qc(6,I,3,3,"div",6),i.Qc(7,P,1,1,"mat-option",7),i.Qc(8,T,1,8,"mat-option",8),i.mc(9,"async"),i.Yb(),i.Qc(10,A,2,1,"mat-error",1),i.Qc(11,D,1,3,"mat-icon",9),i.Yb()),2&t&&(i.Gb(e.class+" search-select"),i.sc("floatLabel",e.appService.getViewMode()||e.showLabel?"":"never"),i.Eb(1),i.sc("ngIf",e.appService.getViewMode()||e.showLabel),i.Eb(1),i.sc("id",e.id)("formControl",e.formControlSelect)("placeholder",e.placeholderLabel)("required",e.required),i.Eb(2),i.sc("ngIf",e.datas.length>5),i.Eb(1),i.sc("ngIf",e.datas.length>5),i.Eb(1),i.sc("ngIf",e.value&&0===(null==e._options?null:e._options.length)&&e.datas.length>5),i.Eb(1),i.sc("ngIf",e.showResetOption),i.Eb(1),i.sc("ngForOf",i.nc(9,15,e.filteredDatas)),i.Eb(2),i.sc("ngIf","VALID"!==e.formControlSelect.status&&e.formControlSelect.touched&&!e.hideErrorDesc),i.Eb(1),i.sc("ngIf",null!==e.suffixIcon))},directives:[m.c,g.t,b.a,s.t,s.i,s.E,g.s,m.g,_.b,g.q,s.c,v.b,y.a,x.o,m.b,m.j],pipes:[g.b,u.d],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:calc(100% + 15px);border-bottom:1px solid #ccc;background:#fff;z-index:100}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:calc(100% + 48px)} .mat-select-search-panel{transform:none!important;max-height:350px!important;max-width:inherit!important}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 36px 16px 16px;box-sizing:border-box}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:0;top:4px} .cdk-overlay-pane-select-search{margin-top:-50px}.mat-error[_ngcontent-%COMP%]{font-weight:700}.mat-error[_ngcontent-%COMP%], .selectSuffixIcon[_ngcontent-%COMP%]{font-size:10px;text-align:right}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return La})),n.d(e,"b",(function(){return yl})),n.d(e,"c",(function(){return ml})),n.d(e,"d",(function(){return pl})),n.d(e,"e",(function(){return fl})),n.d(e,"f",(function(){return fd})),n.d(e,"g",(function(){return nd})),n.d(e,"h",(function(){return _a})),n.d(e,"i",(function(){return Tl})),n.d(e,"j",(function(){return Ar})),n.d(e,"k",(function(){return Cl})),n.d(e,"l",(function(){return Dr})),n.d(e,"m",(function(){return dd})),n.d(e,"n",(function(){return Mn})),n.d(e,"o",(function(){return Uc})),n.d(e,"p",(function(){return W})),n.d(e,"q",(function(){return u})),n.d(e,"r",(function(){return $})),n.d(e,"s",(function(){return Ra})),n.d(e,"t",(function(){return hl})),n.d(e,"u",(function(){return Jr})),n.d(e,"v",(function(){return Kr})),n.d(e,"w",(function(){return wl})),n.d(e,"x",(function(){return lt})),n.d(e,"y",(function(){return sd})),n.d(e,"z",(function(){return ct})),n.d(e,"A",(function(){return Xl})),n.d(e,"B",(function(){return Ll})),n.d(e,"C",(function(){return p})),n.d(e,"D",(function(){return ul})),n.d(e,"E",(function(){return vl})),n.d(e,"F",(function(){return _l})),n.d(e,"G",(function(){return zc})),n.d(e,"H",(function(){return jr})),n.d(e,"I",(function(){return Lr})),n.d(e,"J",(function(){return Fr})),n.d(e,"K",(function(){return Zr})),n.d(e,"L",(function(){return mi})),n.d(e,"M",(function(){return m})),n.d(e,"N",(function(){return rd})),n.d(e,"O",(function(){return ic})),n.d(e,"P",(function(){return zl})),n.d(e,"Q",(function(){return Nr})),n.d(e,"R",(function(){return ac})),n.d(e,"S",(function(){return _t})),n.d(e,"T",(function(){return za})),n.d(e,"U",(function(){return Jl})),n.d(e,"V",(function(){return Qn})),n.d(e,"W",(function(){return A})),n.d(e,"X",(function(){return st})),n.d(e,"Y",(function(){return Hn})),n.d(e,"Z",(function(){return ud})),n.d(e,"ab",(function(){return Ql})),n.d(e,"bb",(function(){return xl})),n.d(e,"cb",(function(){return ya})),n.d(e,"db",(function(){return xc})),n.d(e,"eb",(function(){return pi})),n.d(e,"fb",(function(){return _i})),n.d(e,"gb",(function(){return qn})),n.d(e,"hb",(function(){return Fn})),n.d(e,"ib",(function(){return Yn})),n.d(e,"jb",(function(){return Bn})),n.d(e,"kb",(function(){return Nn})),n.d(e,"lb",(function(){return Zn})),n.d(e,"mb",(function(){return Un})),n.d(e,"nb",(function(){return bc})),n.d(e,"ob",(function(){return hd})),n.d(e,"pb",(function(){return _c})),n.d(e,"qb",(function(){return vc})),n.d(e,"rb",(function(){return jn})),n.d(e,"sb",(function(){return Z})),n.d(e,"tb",(function(){return Va})),n.d(e,"ub",(function(){return vo})),n.d(e,"vb",(function(){return _o})),n.d(e,"wb",(function(){return Ba})),n.d(e,"xb",(function(){return gc})),n.d(e,"yb",(function(){return zt})),n.d(e,"zb",(function(){return I})),n.d(e,"Ab",(function(){return Ln})),n.d(e,"Bb",(function(){return pr})),n.d(e,"Cb",(function(){return vr})),n.d(e,"Db",(function(){return Ir})),n.d(e,"Eb",(function(){return Vi})),n.d(e,"Fb",(function(){return Xa})),n.d(e,"Gb",(function(){return zo})),n.d(e,"Hb",(function(){return cr})),n.d(e,"Ib",(function(){return lr})),n.d(e,"Jb",(function(){return Bo})),n.d(e,"Kb",(function(){return xo})),n.d(e,"Lb",(function(){return nl})),n.d(e,"Mb",(function(){return Ci})),n.d(e,"Nb",(function(){return wt})),n.d(e,"Ob",(function(){return Pt})),n.d(e,"Pb",(function(){return v})),n.d(e,"Qb",(function(){return y})),n.d(e,"Rb",(function(){return Et})),n.d(e,"Sb",(function(){return Tt})),n.d(e,"Tb",(function(){return ao})),n.d(e,"Ub",(function(){return po})),n.d(e,"Vb",(function(){return go})),n.d(e,"Wb",(function(){return mo})),n.d(e,"Xb",(function(){return fo})),n.d(e,"Yb",(function(){return uo})),n.d(e,"Zb",(function(){return ho})),n.d(e,"ac",(function(){return bo})),n.d(e,"bc",(function(){return On})),n.d(e,"cc",(function(){return dr})),n.d(e,"dc",(function(){return it})),n.d(e,"ec",(function(){return oo})),n.d(e,"fc",(function(){return dl})),n.d(e,"gc",(function(){return ro})),n.d(e,"hc",(function(){return yo})),n.d(e,"ic",(function(){return al})),n.d(e,"jc",(function(){return Fe})),n.d(e,"kc",(function(){return Le})),n.d(e,"lc",(function(){return ko})),n.d(e,"mc",(function(){return Lc})),n.d(e,"nc",(function(){return Fc})),n.d(e,"oc",(function(){return jc})),n.d(e,"pc",(function(){return Yc})),n.d(e,"qc",(function(){return Mo})),n.d(e,"rc",(function(){return Eo})),n.d(e,"sc",(function(){return co})),n.d(e,"tc",(function(){return Io})),n.d(e,"uc",(function(){return Po})),n.d(e,"vc",(function(){return To})),n.d(e,"wc",(function(){return Ao})),n.d(e,"xc",(function(){return Do})),n.d(e,"yc",(function(){return Ec})),n.d(e,"zc",(function(){return Mc})),n.d(e,"Ac",(function(){return Ic})),n.d(e,"Bc",(function(){return Pc})),n.d(e,"Cc",(function(){return Jc})),n.d(e,"Dc",(function(){return so})),n.d(e,"Ec",(function(){return an})),n.d(e,"Fc",(function(){return sn})),n.d(e,"Gc",(function(){return nn})),n.d(e,"Hc",(function(){return le})),n.d(e,"Ic",(function(){return vi})),n.d(e,"Jc",(function(){return wi})),n.d(e,"Kc",(function(){return xi})),n.d(e,"Lc",(function(){return Ct})),n.d(e,"Mc",(function(){return Mt})),n.d(e,"Nc",(function(){return il})),n.d(e,"Oc",(function(){return Kc})),n.d(e,"Pc",(function(){return Uo})),n.d(e,"Qc",(function(){return io})),n.d(e,"Rc",(function(){return ll})),n.d(e,"Sc",(function(){return er})),n.d(e,"Tc",(function(){return nr})),n.d(e,"Uc",(function(){return ir})),n.d(e,"Vc",(function(){return sr})),n.d(e,"Wc",(function(){return ar})),n.d(e,"Xc",(function(){return or})),n.d(e,"Yc",(function(){return rr})),n.d(e,"Zc",(function(){return hr})),n.d(e,"ad",(function(){return tl}));var i=n("XNiG"),s=n("quSY"),a=n("HDdC"),o=n("VRyK"),r=n("w1tV");function c(t){return{toString:t}.toString()}function l(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function d(t,e,n){return c(()=>{const i=l(e);function s(...t){if(this instanceof s)return i.apply(this,t),this;const e=new s(...t);return n.annotation=e,n;function n(t,n,i){const s=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;s.length<=i;)s.push(null);return(s[i]=s[i]||[]).push(e),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function h(t,e,n,i){return c(()=>{const s=l(e);function a(...t){if(this instanceof a)return s.apply(this,t),this;const e=new a(...t);return function(n,s){const a=n.constructor,o=a.hasOwnProperty("__prop__metadata__")?a.__prop__metadata__:Object.defineProperty(a,"__prop__metadata__",{value:{}}).__prop__metadata__;o[s]=o.hasOwnProperty(s)&&o[s]||[],o[s].unshift(e),i&&i(n,s,...t)}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}const u=d("Inject",t=>({token:t})),p=d("Optional"),f=d("Self"),m=d("SkipSelf");var g=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function b(t){for(let e in t)if(t[e]===b)return e;throw Error("Could not find renamed property on target object.")}function _(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return w(t,t[O])||w(t,t[E])}function w(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(M))?t[k]:null}const O=b({"\u0275prov":b}),k=b({"\u0275inj":b}),S=b({"\u0275provFallback":b}),E=b({ngInjectableDef:b}),M=b({ngInjectorDef:b});function I(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(I).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function P(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const T=b({__forward_ref__:b});function A(t){return t.__forward_ref__=A,t.toString=function(){return I(this())},t}function D(t){return R(t)?t():t}function R(t){return"function"==typeof t&&t.hasOwnProperty(T)&&t.__forward_ref__===A}const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Y="undefined"!=typeof global&&global,Z=L||Y||F||j,N=b({"\u0275cmp":b}),U=b({"\u0275dir":b}),B=b({"\u0275pipe":b}),z=b({"\u0275mod":b}),V=b({"\u0275loc":b}),H=b({"\u0275fac":b}),Q=b({__NG_ELEMENT_ID__:b});class ${constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new $("INJECTOR",-1),G={},q=/\n/gm,X=b({provide:String,useValue:b});let J,K=void 0;function tt(t){const e=K;return K=t,e}function et(t){const e=J;return J=t,e}function nt(t,e=g.Default){if(void 0===K)throw new Error("inject() must be called from an injection context");return null===K?at(t,void 0,e):K.get(t,e&g.Optional?null:void 0,e)}function it(t,e=g.Default){return(J||nt)(D(t),e)}const st=it;function at(t,e,n){const i=x(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&g.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${I(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const i=D(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=g.Default;for(let e=0;e<i.length;e++){const s=i[e];s instanceof p||"Optional"===s.ngMetadataName||s===p?n|=g.Optional:s instanceof m||"SkipSelf"===s.ngMetadataName||s===m?n|=g.SkipSelf:s instanceof f||"Self"===s.ngMetadataName||s===f?n|=g.Self:t=s instanceof u||s===u?s.token:s}e.push(it(t,n))}else e.push(it(i))}return e}class rt{get(t,e=G){if(e===G){const e=new Error(`NullInjectorError: No provider for ${I(t)}!`);throw e.name="NullInjectorError",e}return e}}class ct{}class lt{}function dt(t,e){t.forEach(t=>Array.isArray(t)?dt(t,e):e(t))}function ht(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ut(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ft(t,e,n){let i=gt(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let s=t.length;if(s==e)t.push(n,i);else if(1===s)t.push(i,t[0]),t[0]=n;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function mt(t,e){const n=gt(t,e);if(n>=0)return t[1|n]}function gt(t,e){return function(t,e,n){let i=0,s=t.length>>1;for(;s!==i;){const n=i+(s-i>>1),a=t[n<<1];if(e===a)return n<<1;a>e?s=n:i=n+1}return~(s<<1)}(t,e)}const bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),_t=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),vt={},yt=[];let xt=0;function wt(t){return c(()=>{const e=t.type,n=e.prototype,i={},s={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,id:"c",styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},a=t.directives,o=t.features,r=t.pipes;return s.id+=xt++,s.inputs=It(t.inputs,i),s.outputs=It(t.outputs),o&&o.forEach(t=>t(s)),s.directiveDefs=a?()=>("function"==typeof a?a():a).map(Ot):null,s.pipeDefs=r?()=>("function"==typeof r?r():r).map(kt):null,s})}function Ct(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(Ot),i.pipeDefs=()=>n.map(kt)}function Ot(t){return At(t)||function(t){return t[U]||null}(t)}function kt(t){return function(t){return t[B]||null}(t)}const St={};function Et(t){const e={type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{St[t.id]=t.type}),e}function Mt(t,e){return c(()=>{const n=Rt(t,!0);n.declarations=e.declarations||yt,n.imports=e.imports||yt,n.exports=e.exports||yt})}function It(t,e){if(null==t)return vt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let s=t[i],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),n[s]=i,e&&(e[s]=a)}return n}const Pt=wt;function Tt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[N]||null}function Dt(t,e){return t.hasOwnProperty(H)?t[H]:null}function Rt(t,e){const n=t[z]||null;if(!n&&!0===e)throw new Error(`Type ${I(t)} does not have '\u0275mod' property.`);return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function jt(t){return 0!=(8&t.flags)}function Yt(t){return 2==(2&t.flags)}function Zt(t){return 1==(1&t.flags)}function Nt(t){return null!==t.template}function Ut(t){return 0!=(512&t[2])}let Bt=void 0;function zt(t){Bt=t}function Vt(){return void 0!==Bt?Bt:"undefined"!=typeof document?document:void 0}function Ht(t){return!!t.listen}const Qt={createRenderer:(t,e)=>Vt()};function $t(t){for(;Array.isArray(t);)t=t[0];return t}function Wt(t,e){return $t(e[t+20])}function Gt(t,e){return $t(e[t.index])}function qt(t,e){return t.data[e+20]}function Xt(t,e){return t[e+20]}function Jt(t,e){const n=e[t];return Lt(n)?n:n[0]}function Kt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null===t||null==e?null:t[e]}function ie(t){t[18]=0}function se(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const ae={lFrame:Me(null),bindingsEnabled:!0,checkNoChangesMode:!1};function oe(){return ae.bindingsEnabled}function re(){return ae.lFrame.lView}function ce(){return ae.lFrame.tView}function le(t){ae.lFrame.contextLView=t}function de(){return ae.lFrame.previousOrParentTNode}function he(t,e){ae.lFrame.previousOrParentTNode=t,ae.lFrame.isParent=e}function ue(){return ae.lFrame.isParent}function pe(){ae.lFrame.isParent=!1}function fe(){return ae.checkNoChangesMode}function me(t){ae.checkNoChangesMode=t}function ge(){const t=ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function be(){return ae.lFrame.bindingIndex}function _e(){return ae.lFrame.bindingIndex++}function ve(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ye(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,xe(e)}function xe(t){ae.lFrame.currentDirectiveIndex=t}function we(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ce(){return ae.lFrame.currentQueryIndex}function Oe(t){ae.lFrame.currentQueryIndex=t}function ke(t,e){const n=Ee();ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){const n=Ee(),i=t[1];ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function Ee(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?Me(t):e}function Me(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){const t=ae.lFrame;return ae.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Pe=Ie;function Te(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ae(){return ae.lFrame.selectedIndex}function De(t){ae.lFrame.selectedIndex=t}function Re(){const t=ae.lFrame;return qt(t.tView,t.selectedIndex)}function Le(){ae.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Fe(){ae.lFrame.currentNamespace=null}function je(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Ye(t,e,n){Ue(t,e,3,n)}function Ze(t,e,n,i){(3&t[2])===n&&Ue(t,e,n,i)}function Ne(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ue(t,e,n,i){const s=null!=i?i:-1;let a=0;for(let o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(a=e[o],null!=i&&a>=i)break}else e[o]<0&&(t[18]+=65536),(a<s||-1==s)&&(Be(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Be(t,e,n,i){const s=n[i]<0,a=n[i+1],o=t[s?-n[i]:n[i]];s?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,a.call(o)):a.call(o)}class ze{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ve(t,e,n){const i=Ht(t);let s=0;for(;s<n.length;){const a=n[s];if("number"==typeof a){if(0!==a)break;s++;const o=n[s++],r=n[s++],c=n[s++];i?t.setAttribute(e,r,c,o):e.setAttributeNS(o,r,c)}else{const o=a,r=n[++s];Qe(o)?i&&t.setProperty(e,o,r):i?t.setAttribute(e,o,r):e.setAttribute(o,r),s++}}return s}function He(t){return 3===t||4===t||6===t}function Qe(t){return 64===t.charCodeAt(0)}function $e(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?n=s:0===n||We(t,n,s,null,-1===n||2===n?e[++i]:null)}}return t}function We(t,e,n,i,s){let a=0,o=t.length;if(-1===e)o=-1;else for(;a<t.length;){const n=t[a++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=a-1;break}}}for(;a<t.length;){const e=t[a];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==s&&(t[a+1]=s));if(i===t[a+1])return void(t[a+2]=s)}a++,null!==i&&a++,null!==s&&a++}-1!==o&&(t.splice(o,0,e),a=o+1),t.splice(a++,0,n),null!==i&&t.splice(a++,0,i),null!==s&&t.splice(a++,0,s)}function Ge(t){return-1!==t}function qe(t){return 32767&t}function Xe(t){return t>>16}function Je(t,e){let n=Xe(t),i=e;for(;n>0;)i=i[15],n--;return i}function Ke(t){return"string"==typeof t?t:null==t?"":""+t}function tn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}const en=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Z))();function nn(t){return{name:"window",target:t.ownerDocument.defaultView}}function sn(t){return{name:"document",target:t.ownerDocument}}function an(t){return{name:"body",target:t.ownerDocument.body}}function on(t){return t instanceof Function?t():t}let rn=!0;function cn(t){const e=rn;return rn=t,e}let ln=0;function dn(t,e){const n=un(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,hn(i.data,t),hn(e,null),hn(i.blueprint,null));const s=pn(t,e),a=t.injectorIndex;if(Ge(s)){const t=qe(s),n=Je(s,e),i=n[1].data;for(let s=0;s<8;s++)e[a+s]=n[t+s]|i[t+s]}return e[a+8]=s,a}function hn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function un(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function pn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function fn(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[Q]:n.charCodeAt(0)||0;null==i&&(i=n[Q]=ln++);const s=255&i,a=1<<s,o=64&s,r=32&s,c=e.data;128&s?o?r?c[t+7]|=a:c[t+6]|=a:r?c[t+5]|=a:c[t+4]|=a:o?r?c[t+3]|=a:c[t+2]|=a:r?c[t+1]|=a:c[t]|=a}(t,e,n)}function mn(t,e,n,i=g.Default,s){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Q];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof s){ke(e,t);try{const t=s();if(null!=t||i&g.Optional)return t;throw new Error(`No provider for ${tn(n)}!`)}finally{Pe()}}else if("number"==typeof s){if(-1===s)return new wn(t,e);let a=null,o=un(t,e),r=-1,c=i&g.Host?e[16][6]:null;for((-1===o||i&g.SkipSelf)&&(r=-1===o?pn(t,e):e[o+8],xn(i,!1)?(a=e[1],o=qe(r),e=Je(r,e)):o=-1);-1!==o;){r=e[o+8];const t=e[1];if(yn(s,o,t.data)){const t=bn(o,e,n,a,i,c);if(t!==gn)return t}xn(i,e[1].data[o+8]===c)&&yn(s,o,e)?(a=t,o=qe(r),e=Je(r,e)):o=-1}}}if(i&g.Optional&&void 0===s&&(s=null),0==(i&(g.Self|g.Host))){const t=e[9],a=et(void 0);try{return t?t.get(n,s,i&g.Optional):at(n,s,i&g.Optional)}finally{et(a)}}if(i&g.Optional)return s;throw new Error(`NodeInjector: NOT_FOUND [${tn(n)}]`)}const gn={};function bn(t,e,n,i,s,a){const o=e[1],r=o.data[t+8],c=_n(r,o,n,null==i?Yt(r)&&rn:i!=o&&3===r.type,s&g.Host&&a===r);return null!==c?vn(e,o,c,r):gn}function _n(t,e,n,i,s){const a=t.providerIndexes,o=e.data,r=65535&a,c=t.directiveStart,l=a>>16,d=s?r+l:t.directiveEnd;for(let h=i?r:r+l;h<d;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(s){const t=o[c];if(t&&Nt(t)&&t.type===n)return c}return null}function vn(t,e,n,i){let s=t[n];const a=e.data;if(s instanceof ze){const o=s;if(o.resolving)throw new Error("Circular dep for "+tn(a[n]));const r=cn(o.canSeeViewProviders);let c;o.resolving=!0,o.injectImpl&&(c=et(o.injectImpl)),ke(t,i);try{s=t[n]=o.factory(void 0,a,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:s,doCheck:a}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,s),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,a[n],e)}finally{o.injectImpl&&et(c),cn(r),o.resolving=!1,Pe()}}return s}function yn(t,e,n){const i=64&t,s=32&t;let a;return a=128&t?i?s?n[e+7]:n[e+6]:s?n[e+5]:n[e+4]:i?s?n[e+3]:n[e+2]:s?n[e+1]:n[e],!!(a&1<<t)}function xn(t,e){return!(t&g.Self||t&g.Host&&e)}class wn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return mn(this._tNode,this._lView,t,void 0,e)}}function Cn(t){const e=t;if(R(t))return()=>{const t=Cn(D(e));return t?t():null};let n=Dt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function On(t){return c(()=>{const e=t.prototype.constructor,n=e[H]||Cn(e),i=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==i;){const t=s[H]||Cn(s);if(t&&t!==n)return t;s=Object.getPrototypeOf(s)}return t=>new t})}function kn(t){return t.ngDebugContext}function Sn(t){return t.ngOriginalError}function En(t,...e){t.error(...e)}class Mn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||En}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?kn(t)?kn(t):this._findContext(Sn(t)):null}_findOriginalError(t){let e=Sn(t);for(;e&&Sn(e);)e=Sn(e);return e}}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Pn extends In{getTypeName(){return"HTML"}}class Tn extends In{getTypeName(){return"Style"}}class An extends In{getTypeName(){return"Script"}}class Dn extends In{getTypeName(){return"URL"}}class Rn extends In{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof In&&t.getTypeName()||null}function Yn(t){return new Pn(t)}function Zn(t){return new Tn(t)}function Nn(t){return new An(t)}function Un(t){return new Dn(t)}function Bn(t){return new Rn(t)}let zn=!0,Vn=!1;function Hn(){return Vn=!0,zn}function Qn(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");zn=!1}class $n{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qn(t){return(t=String(t)).match(Wn)||t.match(Gn)?t:(Hn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Xn("area,br,col,hr,img,wbr"),ti=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ei=Xn("rp,rt"),ni=Jn(ei,ti),ii=Jn(Kn,Jn(ti,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(ei,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni),si=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ai=Xn("srcset"),oi=Jn(si,ai,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ri=Xn("script,style,template");class ci{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ii.hasOwnProperty(e))return this.sanitizedSomething=!0,!ri.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let s=0;s<n.length;s++){const t=n.item(s),e=t.name,a=e.toLowerCase();if(!oi.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let o=t.value;si[a]&&(o=qn(o)),ai[a]&&(i=o,o=(i=String(i)).split(",").map(t=>qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ii.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const li=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,di=/([^\#-~ |!])/g;function hi(t){return t.replace(/&/g,"&amp;").replace(li,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(di,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ui;function pi(t,e){let n=null;try{ui=ui||new $n(t);let i=e?String(e):"";n=ui.getInertBodyElement(i);let s=5,a=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=a,a=n.innerHTML,n=ui.getInertBodyElement(i)}while(i!==a);const o=new ci,r=o.sanitizeChildren(fi(n)||n);return Hn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),r}finally{if(n){const t=fi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const mi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),gi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),bi=/^url\(([^)]+)\)$/;function _i(t){if(!(t=String(t).trim()))return"";const e=t.match(bi);return e&&qn(e[1])===e[1]||t.match(gi)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const s=t.charAt(i);"'"===s&&n?e=!e:'"'===s&&e&&(n=!n)}return e&&n}(t)?t:(Hn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function vi(t){const e=Oi();return e?e.sanitize(mi.HTML,t)||"":Fn(t,"HTML")?Ln(t):pi(Vt(),Ke(t))}function yi(t){const e=Oi();return e?e.sanitize(mi.STYLE,t)||"":Fn(t,"Style")?Ln(t):_i(Ke(t))}function xi(t){const e=Oi();return e?e.sanitize(mi.URL,t)||"":Fn(t,"URL")?Ln(t):qn(Ke(t))}function wi(t){const e=Oi();if(e)return e.sanitize(mi.RESOURCE_URL,t)||"";if(Fn(t,"ResourceURL"))return Ln(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}const Ci=function(t,e,n){if(void 0===e&&void 0===n)return yi(t);let i=!0;return 1&(n=n||3)&&(i=function(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}(t)),2&n?i?yi(e):Ln(e):i};function Oi(){const t=re();return t&&t[12]}function ki(t,e){t.__ngContext__=e}function Si(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Ei(){throw new Error("Cannot mix multi providers and regular providers")}function Mi(t,e,n){let i=t.length;for(;;){const s=t.indexOf(e,n);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const n=e.length;if(s+n===i||t.charCodeAt(s+n)<=32)return s}n=s+1}}function Ii(t,e,n){let i=0;for(;i<t.length;){let s=t[i++];if(n&&"class"===s){if(s=t[i],-1!==Mi(s.toLowerCase(),e,0))return!0}else if(1===s){for(;i<t.length&&"string"==typeof(s=t[i++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function Pi(t){return 0===t.type&&"ng-template"!==t.tagName}function Ti(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Ai(t,e,n){let i=4;const s=t.attrs||[],a=function(t){for(let e=0;e<t.length;e++)if(He(t[e]))return e;return t.length}(s);let o=!1;for(let r=0;r<e.length;r++){const c=e[r];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Ti(t,c,n)||""===c&&1===e.length){if(Di(i))return!1;o=!0}}else{const l=8&i?c:e[++r];if(8&i&&null!==t.attrs){if(!Ii(t.attrs,l,n)){if(Di(i))return!1;o=!0}continue}const d=Ri(8&i?"class":c,s,Pi(t),n);if(-1===d){if(Di(i))return!1;o=!0;continue}if(""!==l){let t;t=d>a?"":s[d+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Mi(e,l,0)||2&i&&l!==t){if(Di(i))return!1;o=!0}}}}else{if(!o&&!Di(i)&&!Di(c))return!1;if(o&&Di(c))continue;o=!1,i=c|1&i}}return Di(i)||o}function Di(t){return 0==(1&t)}function Ri(t,e,n,i){if(null===e)return-1;let s=0;if(i||!n){let n=!1;for(;s<e.length;){const i=e[s];if(i===t)return s;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++s];for(;"string"==typeof t;)t=e[++s];continue}if(4===i)break;if(0===i){s+=4;continue}}s+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Li(t,e,n=!1){for(let i=0;i<e.length;i++)if(Ai(t,e[i],n))return!0;return!1}function Fi(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function ji(t,e){return t?":not("+e.trim()+")":e}function Yi(t){let e=t[0],n=1,i=2,s="",a=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];s+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""===s||Di(o)||(e+=ji(a,s),s=""),i=o,a=a||!Di(i);n++}return""!==s&&(e+=ji(a,s)),e}const Zi={};function Ni(t){const e=t[3];return Ft(e)?e[3]:e}function Ui(t){return zi(t[13])}function Bi(t){return zi(t[4])}function zi(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Vi(t){Hi(ce(),re(),Ae()+t,fe())}function Hi(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Ye(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Ze(e,i,0,n)}De(n)}function Qi(t,e){return t<<17|e<<2}function $i(t){return t>>17&32767}function Wi(t){return 2|t}function Gi(t){return(131068&t)>>2}function qi(t,e){return-131069&t|e<<2}function Xi(t){return 1|t}function Ji(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i],a=n[i+1];if(-1!==a){const n=t.data[a];Oe(s),n.contentQueries(2,e[a],a)}}}function Ki(t,e,n){return Ht(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ts(t,e,n,i,s,a,o,r,c,l){const d=e.blueprint.slice();return d[0]=s,d[2]=140|i,ie(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=r||t&&t[11],d[12]=c||t&&t[12]||null,d[9]=l||t&&t[9]||null,d[6]=a,d[16]=2==e.type?t[16]:d,d}function es(t,e,n,i,s,a){const o=n+20,r=t.data[o]||function(t,e,n,i,s,a){const o=de(),r=ue(),c=r?o:o&&o.parent,l=t.data[n]=hs(0,c&&c!==e?c:null,i,n,s,a);return null===t.firstChild&&(t.firstChild=l),o&&(!r||null!=o.child||null===l.parent&&2!==o.type?r||(o.next=l):o.child=l),l}(t,e,o,i,s,a);return he(r,!0),r}function ns(t,e,n){Se(e,e[6]);try{const i=t.viewQuery;null!==i&&Ds(1,i,n);const s=t.template;null!==s&&as(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ji(t,e),t.staticViewQueries&&Ds(2,t.viewQuery,n);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ms(t,e[n])}(e,a)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,Te()}}function is(t,e,n,i){const s=e[2];if(256==(256&s))return;Se(e,e[6]);const a=fe();try{ie(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&as(t,e,n,2,i);const o=3==(3&s);if(!a)if(o){const n=t.preOrderCheckHooks;null!==n&&Ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ze(e,n,0,null),Ne(e,0)}if(function(t){for(let e=Ui(t);null!==e;e=Bi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&se(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ui(t);null!==e;e=Bi(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];ee(n)&&is(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Ji(t,e),!a)if(o){const n=t.contentCheckHooks;null!==n&&Ye(e,n)}else{const n=t.contentHooks;null!==n&&Ze(e,n,1),Ne(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,s=-1,a=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(a=0-o,De(a),i+=9+n[++t],s=i):i+=o:(null!==o&&(ye(i,s),o(2,e[s])),s++)}}}finally{De(-1)}}(t,e);const r=t.components;null!==r&&function(t,e){for(let n=0;n<e.length;n++)Es(t,e[n])}(e,r);const c=t.viewQuery;if(null!==c&&Ds(2,c,i),!a)if(o){const n=t.viewCheckHooks;null!==n&&Ye(e,n)}else{const n=t.viewHooks;null!==n&&Ze(e,n,2),Ne(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,se(e[3],-1))}finally{Te()}}function ss(t,e,n,i){const s=e[10],a=!fe(),o=te(e);try{a&&!o&&s.begin&&s.begin(),o&&ns(t,e,i),is(t,e,n,i)}finally{a&&!o&&s.end&&s.end()}}function as(t,e,n,i,s){const a=Ae();try{De(-1),2&i&&e.length>20&&Hi(t,e,0,fe()),n(i,s)}finally{De(a)}}function os(t,e,n){if(jt(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const e=t.data[s];e.contentQueries&&e.contentQueries(1,n[s],s)}}}function rs(t,e,n){oe()&&(function(t,e,n,i){const s=n.directiveStart,a=n.directiveEnd;t.firstCreatePass||dn(n,e),ki(i,e);const o=n.initialInputs;for(let r=s;r<a;r++){const i=t.data[r],a=Nt(i);a&&Cs(e,n,i);const c=vn(e,t,r,n);ki(c,e),null!==o&&Os(0,r-s,c,i,0,o),a&&(Jt(n.index,e)[8]=c)}}(t,e,n,Gt(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,s=n.directiveEnd,a=t.expandoInstructions,o=t.firstCreatePass,r=n.index-20,c=ae.lFrame.currentDirectiveIndex;try{De(r);for(let n=i;n<s;n++){const i=t.data[n],s=e[n];xe(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?bs(i,s):o&&a.push(null)}}finally{De(-1),xe(c)}}(t,e,n))}function cs(t,e,n=Gt){const i=e.localNames;if(null!==i){let s=e.index+1;for(let a=0;a<i.length;a+=2){const o=i[a+1],r=-1===o?n(e,t):t[o];t[s++]=r}}}function ls(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ds(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ds(t,e,n,i,s,a,o,r,c,l){const d=20+i,h=d+s,u=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Zi);return n}(d,h);return u[1]={type:t,id:e,blueprint:u,template:n,queries:null,viewQuery:r,node:null,data:u.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function hs(t,e,n,i,s,a){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function us(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,s):n[i]=[e,s]}return n}function ps(t,e,n,i,s,a,o,r){const c=Gt(e,n);let l,d=e.inputs;var h;!r&&null!=d&&(l=d[i])?(Zs(t,n,l,i,s),Yt(e)&&function(t,e){const n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,e.tagName||"",i):s,Ht(a)?a.setProperty(c,i,s):Qe(i)||(c.setProperty?c.setProperty(i,s):c[i]=s))}function fs(t,e,n,i){let s=!1;if(oe()){const a=function(t,e,n){const i=t.directiveRegistry;let s=null;if(i)for(let a=0;a<i.length;a++){const o=i[a];Li(n,o.selectors,!1)&&(s||(s=[]),fn(dn(n,e),t,o.type),Nt(o)?(2&n.flags&&Si(n),vs(t,n),s.unshift(o)):s.push(o))}return s}(t,e,n),o=null===i?null:{"":-1};if(null!==a){let i=0;s=!0,xs(n,t.data.length,a.length);for(let t=0;t<a.length;t++){const e=a[t];e.providersResolver&&e.providersResolver(e)}_s(t,n,a.length);let r=!1,c=!1;for(let s=0;s<a.length;s++){const l=a[s];n.mergedAttrs=$e(n.mergedAttrs,l.hostAttrs),ws(t,e,l),ys(t.data.length-1,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!r&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),r=!0),c||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),ms(t,l),i+=l.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,s=e.attrs,a=[];let o=null,r=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,l=null===s||Pi(e)?null:ks(n,s);a.push(l),o=us(n,c,o),r=us(t.outputs,c,r)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=o,e.outputs=r}(t,n),gs(t,e,i)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const s=n[e[t+1]];if(null==s)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],s)}}}(n,i,o)}return n.mergedAttrs=$e(n.mergedAttrs,n.attrs),s}function ms(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function gs(t,e,n){for(let i=0;i<n;i++)e.push(Zi),t.blueprint.push(Zi),t.data.push(null)}function bs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function _s(t,e,n){const i=20-e.index,s=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,s,n)}function vs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ys(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Nt(e)&&(n[""]=t)}}function xs(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ws(t,e,n){t.data.push(n);const i=n.factory||(n.factory=Dt(n.type)),s=new ze(i,Nt(n),null);t.blueprint.push(s),e.push(s)}function Cs(t,e,n){const i=Gt(e,t),s=ls(n),a=t[10],o=Is(t,ts(t,s,null,n.onPush?64:16,i,e,a,a.createRenderer(i,n)));t[e.index]=o}function Os(t,e,n,i,s,a){const o=a[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const s=o[e++],a=o[e++],r=o[e++];null!==t?i.setInput(n,r,s,a):n[a]=r}}}function ks(t,e){let n=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;t.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,t[s],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Ss(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Es(t,e){const n=Jt(e,t);if(ee(n)){const t=n[1];80&n[2]?is(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let i=Ui(e);null!==i;i=Bi(i))for(let e=10;e<i.length;e++){const n=i[e];if(1024&n[2]){const t=n[1];is(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const s=Jt(n[i],e);ee(s)&&s[5]>0&&t(s)}}(n)}}function Ms(t,e){const n=Jt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),ns(i,n,n[8])}function Is(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ps(t){for(;t;){t[2]|=64;const e=Ni(t);if(Ut(t)&&!e)return t;t=e}return null}function Ts(t,e,n){const i=e[10];i.begin&&i.begin();try{is(t,e,t.template,n)}catch(s){throw Ys(e,s),s}finally{i.end&&i.end()}}function As(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Kt(n),s=i[1];ss(s,i,s.template,n)}}(t[8])}function Ds(t,e,n){Oe(0),e(t,n)}const Rs=(()=>Promise.resolve(null))();function Ls(t){return t[7]||(t[7]=[])}function Fs(t){return t.cleanup||(t.cleanup=[])}function js(t,e,n){return(null===t||Nt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ys(t,e){const n=t[9],i=n?n.get(Mn,null):null;i&&i.handleError(e)}function Zs(t,e,n,i,s){for(let a=0;a<n.length;){const o=n[a++],r=n[a++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,s,i,r):c[r]=s}}function Ns(t,e,n){const i=Wt(e,t),s=t[11];Ht(s)?s.setValue(i,n):i.textContent=n}function Us(t,e){const n=e[3];return-1===t.index?Ft(n)?n:null:n}function Bs(t,e){const n=Us(t,e);return n?ta(e[11],n[7]):null}function zs(t,e,n,i,s){if(null!=i){let a,o=!1;Ft(i)?a=i:Lt(i)&&(o=!0,i=i[0]);const r=$t(i);0===t&&null!==n?null==s?Js(e,n,r):Xs(e,n,r,s||null):1===t&&null!==n?Xs(e,n,r,s||null):2===t?function(t,e,n){const i=ta(t,e);i&&function(t,e,n,i){Ht(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,r,o):3===t&&e.destroyNode(r),null!=a&&function(t,e,n,i,s){const a=n[7];a!==$t(n)&&zs(e,t,i,a,s);for(let o=10;o<n.length;o++){const s=n[o];aa(s[1],s,t,e,i,a)}}(e,t,a,n,s)}}function Vs(t,e,n,i){const s=Bs(t.node,e);s&&aa(t,e,e[11],n?1:2,s,i)}function Hs(t,e){const n=t[9],i=n.indexOf(e);1024&e[2]&&se(e[3],-1),n.splice(i,1)}function Qs(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Hs(s,i),e>0&&(t[n-1][4]=i[4]);const a=ut(t,10+e);Vs(i[1],i,!1,null);const o=a[19];null!==o&&o.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function $s(t,e){if(!(256&e[2])){const n=e[11];Ht(n)&&n.destroyNode&&aa(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gs(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Gs(e[1],e),e=Ws(e,t);null===e&&(e=t),Lt(e)&&Gs(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ws(t,e){let n;return Lt(t)&&(n=t[6])&&2===n.type?Us(n,t):t[3]===e?null:t[3]}function Gs(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof ze)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+1],a="function"==typeof s?s(e):$t(e[s]),o=t[n[i+2]],r=n[i+3];"boolean"==typeof r?a.removeEventListener(n[i],o,r):r>=0?t[r]():t[-r].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ht(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Ft(e[3])){i!==e[3]&&Hs(i,e);const n=e[19];null!==n&&n.detachView(t)}}}function qs(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?Bs(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Gt(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==_t.ShadowDom&&n!==_t.Native)return null}return Gt(i,n)}function Xs(t,e,n,i){Ht(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Js(t,e,n){Ht(t)?t.appendChild(e,n):e.appendChild(n)}function Ks(t,e,n,i){null!==i?Xs(t,e,n,i):Js(t,e,n)}function ta(t,e){return Ht(t)?t.parentNode(e):e.parentNode}function ea(t,e){if(2===t.type){const n=Us(t,e);return null===n?null:ia(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Gt(t,e):null}function na(t,e,n,i){const s=qs(t,i,e);if(null!=s){const t=e[11],a=ea(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ks(t,s,n[e],a);else Ks(t,s,n,a)}}function ia(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return Gt(n,e);if(0===i)return ia(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Ft(t)?ia(-1,t):$t(t)}}{const i=e[16],s=i[6],a=Ni(i),o=s.projection[n.projection];return null!=o?t(a,o):t(e,n.next)}}return null}(t,i)}return e[7]}function sa(t,e,n,i,s,a,o){for(;null!=n;){const r=i[n.index],c=n.type;o&&0===e&&(r&&ki($t(r),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(sa(t,e,n.child,i,s,a,!1),zs(e,t,s,r,a)):1===c?oa(t,e,i,n,s,a):zs(e,t,s,r,a)),n=o?n.projectionNext:n.next}}function aa(t,e,n,i,s,a){sa(n,i,t.node.child,e,s,a,!1)}function oa(t,e,n,i,s,a){const o=n[16],r=o[6].projection[i.projection];if(Array.isArray(r))for(let c=0;c<r.length;c++)zs(e,t,s,r[c],a);else sa(t,e,r,o[3],s,a,!0)}function ra(t,e,n){Ht(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ca(t,e,n){Ht(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class la{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,s,a=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&s.push($t(o)),Ft(o))for(let e=10;e<o.length;e++){const n=o[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,s)}const r=i.type;if(4===r||5===r)t(e,n,i.child,s);else if(1===r){const e=n[16],a=e[6].projection[i.projection];if(Array.isArray(a))s.push(...a);else{const n=Ni(e);t(n[1],n,a,s,!0)}}i=a?i.projectionNext:i.next}return s}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}$s(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,Ls(n=this._lView).push(i),e.firstCreatePass&&Fs(e).push(n[7].length-1,null)}markForCheck(){Ps(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ts(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){me(!0);try{Ts(t,e,n)}finally{me(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,aa(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class da extends la{constructor(t){super(t),this._view=t}detectChanges(){As(this._view)}checkNoChanges(){!function(t){me(!0);try{As(t)}finally{me(!1)}}(this._view)}get context(){return null}}let ha,ua,pa;function fa(t,e,n){return ha||(ha=class extends t{}),new ha(Gt(e,n))}function ma(t,e,n,i){return ua||(ua=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ts(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),ns(e,n,t),new la(n)}}),0===n.type?new ua(i,n,fa(e,n,i)):null}function ga(t,e,n,i){let s;pa||(pa=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return fa(e,this._hostTNode,this._hostView)}get injector(){return new wn(this._hostTNode,this._hostView)}get parentInjector(){const t=pn(this._hostTNode,this._hostView),e=Je(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=Xe(t),s=e,a=e[6];for(;i>1;)s=s[15],a=s[6],i--;return a}(t,this._hostView,this._hostTNode);return Ge(t)&&null!=n?new wn(n,e):new wn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,s){const a=n||this.parentInjector;if(!s&&null==t.ngModule&&a){const t=a.get(ct,null);t&&(s=t)}const o=t.create(a,i,void 0,s);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new pa(e,e[6],e[3]);i.detach(i.indexOf(t))}}const s=this._adjustIndex(e);return function(t,e,n,i){const s=10+i,a=n.length;i>0&&(n[s-1][4]=e),i<a-10?(e[4]=n[s],ht(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const r=e[19];null!==r&&r.insertView(t),e[2]|=128}(i,n,this._lContainer,s),Vs(i,n,!0,ia(s,this._lContainer)),t.attachToViewContainerRef(this),ht(this._lContainer[8],s,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Qs(t,e);n&&$s(n[1],n)}(this._lContainer,e),ut(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Qs(this._lContainer,e);return n&&null!=ut(this._lContainer[8],e)?new la(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const a=i[n.index];if(Ft(a))s=a;else{let t;if(4===n.type)t=$t(a);else if(t=i[11].createComment(""),Ut(i)){const e=i[11],s=Gt(n,i);Xs(e,ta(e,s),t,function(t,e){return Ht(t)?t.nextSibling(e):e.nextSibling}(e,s))}else na(i[1],i,t,n);i[n.index]=s=Ss(a,i,t,n),Is(i,s)}return new pa(s,n,i)}function ba(t=!1){return function(t,e,n){if(!n&&Yt(t)){const n=Jt(t.index,e);return new la(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new la(e[16],e):null}(de(),re(),t)}let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>va(),t})();const va=ba,ya=new $("Set Injector scope."),xa={},wa={},Ca=[];let Oa=void 0;function ka(){return void 0===Oa&&(Oa=new rt),Oa}function Sa(t,e=null,n=null,i){return new Ea(t,n,e||ka(),i)}class Ea{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&dt(e,n=>this.processProvider(n,t,e)),dt([t],t=>this.processInjectorType(t,[],s)),this.records.set(W,Pa(void 0,this));const a=this.records.get(ya);this.scope=null!=a?a.value:null,this.source=i||("object"==typeof t?null:I(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=G,n=g.Default){this.assertNotDestroyed();const i=tt(this);try{if(!(n&g.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(s=t)||"object"==typeof s&&s instanceof $)&&x(t);e=n&&this.injectableDefInScope(n)?Pa(Ma(t),xa):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&g.Self?ka():this.parent).get(t,e=n&g.Optional&&e===G?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(I(t)),i)throw a;return function(t,e,n,i){const s=t.ngTempTokenPath;throw e.__source&&s.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let s=I(e);if(Array.isArray(e))s=e.map(I).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):I(i)))}s=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${t.replace(q,"\n  ")}`}("\n"+t.message,s,n,i),t.ngTokenPath=s,t.ngTempTokenPath=null,t}(a,t,"R3InjectorError",this.source)}throw a}finally{tt(i)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(I(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=D(t)))return!1;let i=C(t);const s=null==i&&t.ngModule||void 0,a=void 0===s?t:s,o=-1!==n.indexOf(a);if(void 0!==s&&(i=C(s)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(a);try{dt(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];dt(i,t=>this.processProvider(t,n,i||Ca))}}this.injectorDefTypes.add(a),this.records.set(a,Pa(i.factory,xa));const r=i.providers;if(null!=r&&!o){const e=t;dt(r,t=>this.processProvider(t,e,r))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,n){let i=Aa(t=D(t))?t:D(t&&t.provide);const s=function(t,e,n){return Ta(t)?Pa(void 0,t.useValue):Pa(Ia(t,e,n),xa)}(t,e,n);if(Aa(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&Ei()}else{let e=this.records.get(i);e?void 0===e.multi&&Ei():(e=Pa(void 0,xa,!0),e.factory=()=>ot(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,s)}hydrate(t,e){var n;return e.value===wa?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(I(t)):e.value===xa&&(e.value=wa,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ma(t){const e=x(t),n=null!==e?e.factory:Dt(t);if(null!==n)return n;const i=C(t);if(null!==i)return i.factory;if(t instanceof $)throw new Error(`Token ${I(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pt(e,"?");throw new Error(`Can't resolve all parameters for ${I(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[E]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ia(t,e,n){let i=void 0;if(Aa(t)){const e=D(t);return Dt(e)||Ma(e)}if(Ta(t))i=()=>D(t.useValue);else if((s=t)&&s.useFactory)i=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>it(D(t.useExisting));else{const s=D(t&&(t.useClass||t.provide));if(s||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${I(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return Dt(s)||Ma(s);i=()=>new s(...ot(t.deps))}var s;return i}function Pa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ta(t){return null!==t&&"object"==typeof t&&X in t}function Aa(t){return"function"==typeof t}const Da=function(t,e,n){return function(t,e=null,n=null,i){const s=Sa(t,e,n,i);return s._resolveInjectorDefTypes(),s}({name:n},e,t,n)};let Ra=(()=>{class t{static create(t,e){return Array.isArray(t)?Da(t,e,""):Da(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=G,t.NULL=new rt,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>it(W)}),t.__NG_ELEMENT_ID__=-1,t})();const La=new $("AnalyzeForEntryComponents");let Fa=new Map;const ja=new Set;function Ya(t){return"string"==typeof t?t:t.text()}function Za(t,e,n){let i=n?t.styles:null,s=n?t.classes:null,a=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?a=t:1==a?s=P(s,t):2==a&&(i=P(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=s:t.classesWithoutHost=s}let Na=null;function Ua(){if(!Na){const t=Z.Symbol;if(t&&t.iterator)Na=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Na=n)}}}return Na}function Ba(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class za{constructor(t){this.wrapped=t}static wrap(t){return new za(t)}static unwrap(t){return za.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof za}}function Va(t){return!!Ha(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ua()in t)}function Ha(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qa(t,e,n){return t[e]=n}function $a(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Wa(t,e,n,i){const s=$a(t,e,n);return $a(t,e+1,i)||s}function Ga(t,e,n,i,s){const a=Wa(t,e,n,i);return $a(t,e+2,s)||a}function qa(t,e,n,i,s,a){const o=Wa(t,e,n,i);return Wa(t,e+2,s,a)||o}function Xa(t,e,n,i){const s=re();return $a(s,_e(),e)&&(ce(),function(t,e,n,i,s,a){const o=Gt(t,e),r=e[11];if(null==i)Ht(r)?r.removeAttribute(o,n,a):o.removeAttribute(n);else{const e=null==s?Ke(i):s(i,t.tagName||"",n);Ht(r)?r.setAttribute(o,n,e,a):a?o.setAttributeNS(a,n,e):o.setAttribute(n,e)}}(Re(),s,t,e,n,i)),Xa}function Ja(t,e,n,i){return $a(t,_e(),n)?e+Ke(n)+i:Zi}function Ka(t,e,n,i,s,a){const o=Wa(t,be(),n,s);return ve(2),o?e+Ke(n)+i+Ke(s)+a:Zi}function to(t,e,n,i,s,a,o,r){const c=Ga(t,be(),n,s,o);return ve(3),c?e+Ke(n)+i+Ke(s)+a+Ke(o)+r:Zi}function eo(t,e,n,i,s,a,o,r,c,l){const d=qa(t,be(),n,s,o,c);return ve(4),d?e+Ke(n)+i+Ke(s)+a+Ke(o)+r+Ke(c)+l:Zi}function no(t,e,n,i,s,a,o,r,c,l,d,h){const u=be();let p=qa(t,u,n,s,o,c);return p=$a(t,u+4,d)||p,ve(5),p?e+Ke(n)+i+Ke(s)+a+Ke(o)+r+Ke(c)+l+Ke(d)+h:Zi}function io(t,e,n,i,s,a,o,r){const c=re(),l=ce(),d=t+20,h=l.firstCreatePass?function(t,e,n,i,s,a,o,r,c){const l=e.consts,d=es(e,n[6],t,0,o||null,ne(l,r));fs(e,n,d,ne(l,c)),je(e,d);const h=d.tViews=ds(2,-1,i,s,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),u=hs(0,null,2,-1,null,null);return u.injectorIndex=d.injectorIndex,h.node=u,null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(t,l,c,e,n,i,s,a,o):l.data[d];he(h,!1);const u=c[11].createComment("");na(l,c,u,h),ki(u,c),Is(c,c[d]=Ss(u,c,u,h)),Zt(h)&&rs(l,c,h),null!=o&&cs(c,h,r)}function so(t){return Xt(ae.lFrame.contextLView,t)}function ao(t,e=g.Default){const n=re();return null==n?it(t,e):mn(de(),n,D(t),e)}function oo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const s=n[i];if(He(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(de(),t)}function ro(){throw new Error("invalid")}function co(t,e,n){const i=re();return $a(i,_e(),e)&&ps(ce(),Re(),i,t,e,i[11],n,!1),co}function lo(t,e,n,i,s){const a=s?"class":"style";Zs(t,n,e.inputs[a],a,i)}function ho(t,e,n,i){const s=re(),a=ce(),o=20+t,r=s[11],c=s[o]=Ki(e,r,ae.lFrame.currentNamespace),l=a.firstCreatePass?function(t,e,n,i,s,a,o){const r=e.consts,c=ne(r,a),l=es(e,n[6],t,3,s,c);return fs(e,n,l,ne(r,o)),null!==l.attrs&&Za(l,l.attrs,!1),null!==l.mergedAttrs&&Za(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(t,a,s,0,e,n,i):a.data[o];he(l,!0);const d=l.mergedAttrs;null!==d&&Ve(r,c,d);const h=l.classes;null!==h&&ca(r,c,h);const u=l.styles;null!==u&&ra(r,c,u),na(a,s,c,l),0===ae.lFrame.elementDepthCount&&ki(c,s),ae.lFrame.elementDepthCount++,Zt(l)&&(rs(a,s,l),os(a,l,s)),null!==i&&cs(s,l)}function uo(){let t=de();ue()?pe():(t=t.parent,he(t,!1));const e=t;ae.lFrame.elementDepthCount--;const n=ce();n.firstCreatePass&&(je(n,t),jt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,re(),e.stylesWithoutHost,!1)}function po(t,e,n,i){ho(t,e,n,i),uo()}function fo(t,e,n){const i=re(),s=ce(),a=t+20,o=s.firstCreatePass?function(t,e,n,i,s){const a=e.consts,o=ne(a,i),r=es(e,n[6],t,4,"ng-container",o);return null!==o&&Za(r,o,!0),fs(e,n,r,ne(a,s)),null!==e.queries&&e.queries.elementStart(e,r),r}(t,s,i,e,n):s.data[a];he(o,!0);const r=i[a]=i[11].createComment("");na(s,i,r,o),ki(r,i),Zt(o)&&(rs(s,i,o),os(s,o,i)),null!=n&&cs(i,o)}function mo(){let t=de();const e=ce();ue()?pe():(t=t.parent,he(t,!1)),e.firstCreatePass&&(je(e,t),jt(t)&&e.queries.elementEnd(t))}function go(t,e,n){fo(t,e,n),mo()}function bo(){return re()}function _o(t){return!!t&&"function"==typeof t.then}function vo(t){return!!t&&"function"==typeof t.subscribe}function yo(t,e,n=!1,i){const s=re(),a=ce(),o=de();return wo(a,s,s[11],o,t,e,n,i),yo}function xo(t,e,n=!1,i){const s=de(),a=re(),o=ce();return wo(o,a,js(we(o.data),s,a),s,t,e,n,i),xo}function wo(t,e,n,i,s,a,o=!1,r){const c=Zt(i),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),d=Ls(e);let h=!0;if(3===i.type){const u=Gt(i,e),p=r?r(u):vt,f=p.target||u,m=d.length,g=r?t=>r($t(t[i.index])).target:i.index;if(Ht(n)){let o=null;if(!r&&c&&(o=function(t,e,n,i){const s=t.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const t=s[a];if(t===n&&s[a+1]===i){const t=e[7],n=s[a+2];return t.length>n?t[n]:null}"string"==typeof t&&(a+=2)}return null}(t,e,s,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=a,o.__ngLastListenerFn__=a,h=!1;else{a=Oo(i,e,a,!1);const t=n.listen(p.name||f,s,a);d.push(a,t),l&&l.push(s,g,m,m+1)}}else a=Oo(i,e,a,!0),f.addEventListener(s,a,o),d.push(a),l&&l.push(s,g,m,o)}const u=i.outputs;let p;if(h&&null!==u&&(p=u[s])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(a),o=d.length;d.push(a,t),l&&l.push(s,i.index,o,-(o+1))}}}function Co(t,e,n){try{return!1!==e(n)}catch(i){return Ys(t,i),!1}}function Oo(t,e,n,i){return function s(a){if(a===Function)return n;const o=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&Ps(o);let r=Co(e,n,a),c=s.__ngNextListenerFn__;for(;c;)r=Co(e,c,a)&&r,c=c.__ngNextListenerFn__;return i&&!1===r&&(a.preventDefault(),a.returnValue=!1),r}}function ko(t=1){return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function So(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let s=0;s<e.length;s++){const a=e[s];if("*"!==a){if(null===i?Li(t,a,!0):Fi(i,a))return s}else n=s}return n}function Eo(t){const e=re()[16][6];if(!e.projection){const n=e.projection=pt(t?t.length:1,null),i=n.slice();let s=e.child;for(;null!==s;){const e=t?So(s,t):0;null!==e&&(i[e]?i[e].projectionNext=s:n[e]=s,i[e]=s),s=s.next}}}function Mo(t,e=0,n){const i=re(),s=ce(),a=es(s,i[6],t,1,null,n||null);null===a.projection&&(a.projection=e),pe(),function(t,e,n){oa(e[11],0,e,n,qs(t,n,e),ea(n.parent||e[6],e))}(s,i,a)}function Io(t,e,n){return Po(t,"",e,"",n),Io}function Po(t,e,n,i,s){const a=re(),o=Ja(a,e,n,i);return o!==Zi&&ps(ce(),Re(),a,t,o,a[11],s,!1),Po}function To(t,e,n,i,s,a,o){const r=re(),c=Ka(r,e,n,i,s,a);return c!==Zi&&ps(ce(),Re(),r,t,c,r[11],o,!1),To}function Ao(t,e,n,i,s,a,o,r,c){const l=re(),d=to(l,e,n,i,s,a,o,r);return d!==Zi&&ps(ce(),Re(),l,t,d,l[11],c,!1),Ao}function Do(t,e,n,i,s,a,o,r,c,l,d){const h=re(),u=eo(h,e,n,i,s,a,o,r,c,l);return u!==Zi&&ps(ce(),Re(),h,t,u,h[11],d,!1),Do}const Ro=[];function Lo(t,e,n,i,s){const a=t[n+1],o=null===e;let r=i?$i(a):Gi(a),c=!1;for(;0!==r&&(!1===c||o);){const n=t[r+1];Fo(t[r],e)&&(c=!0,t[r+1]=i?Xi(n):Wi(n)),r=i?$i(n):Gi(n)}c&&(t[n+1]=i?Wi(a):Xi(a))}function Fo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gt(t,e)>=0}const jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yo(t){return t.substring(jo.key,jo.keyEnd)}function Zo(t,e){const n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),No(t,e,n))}function No(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Uo(t,e,n){return Ho(t,e,n,!1),Uo}function Bo(t,e){return Ho(t,e,null,!0),Bo}function zo(t){Qo(ft,Vo,t,!0)}function Vo(t,e){for(let n=function(t){return function(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}(t),Zo(t,No(t,0,jo.textEnd))}(e);n>=0;n=Zo(e,n))ft(t,Yo(e),!0)}function Ho(t,e,n,i){const s=re(),a=ce(),o=ve(2);if(a.firstUpdatePass&&Wo(a,t,o,i),e!==Zi&&$a(s,o,e)){let r;null==n&&(r=function(){const t=ae.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),Xo(a,a.data[Ae()+20],s,s[11],t,s[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=I(Ln(t)))),t}(e,n),i,o)}}function Qo(t,e,n,i){const s=ce(),a=ve(2);s.firstUpdatePass&&Wo(s,null,a,i);const o=re();if(n!==Zi&&$a(o,a,n)){const r=s.data[Ae()+20];if(tr(r,i)&&!$o(s,a)){let t=i?r.classesWithoutHost:r.stylesWithoutHost;null!==t&&(n=P(t,n||"")),lo(s,r,o,n,i)}else!function(t,e,n,i,s,a,o,r){s===Zi&&(s=Ro);let c=0,l=0,d=0<s.length?s[0]:null,h=0<a.length?a[0]:null;for(;null!==d||null!==h;){const u=c<s.length?s[c+1]:void 0,p=l<a.length?a[l+1]:void 0;let f=null,m=void 0;d===h?(c+=2,l+=2,u!==p&&(f=h,m=p)):null===h||null!==d&&d<h?(c+=2,f=d):(l+=2,f=h,m=p),null!==f&&Xo(t,e,n,i,f,m,o,r),d=c<s.length?s[c]:null,h=l<a.length?a[l]:null}}(s,r,o,o[11],o[a+1],o[a+1]=function(t,e,n){if(null==n||""===n)return Ro;const i=[],s=Ln(n);if(Array.isArray(s))for(let a=0;a<s.length;a++)t(i,s[a],!0);else if("object"==typeof s)for(const a in s)s.hasOwnProperty(a)&&t(i,a,s[a]);else"string"==typeof s&&e(i,s);return i}(t,e,n),i,a)}}function $o(t,e){return e>=t.expandoStartIndex}function Wo(t,e,n,i){const s=t.data;if(null===s[n+1]){const a=s[Ae()+20],o=$o(t,n);tr(a,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const s=we(t);let a=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(n=qo(n=Go(null,t,e,n,i),e.attrs,i),a=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==s)if(n=Go(s,t,e,n,i),null===a){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Gi(i))return t[$i(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Go(null,t,e,n[1],i),n=qo(n,e.attrs,i),function(t,e,n,i){t[$i(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else a=function(t,e,n){let i=void 0;const s=e.directiveEnd;for(let a=1+e.directiveStylingLast;a<s;a++)i=qo(i,t[a].hostAttrs,n);return qo(i,e.attrs,n)}(t,e,i)}return void 0!==a&&(i?e.residualClasses=a:e.residualStyles=a),n}(s,a,e,i),function(t,e,n,i,s,a){let o=a?e.classBindings:e.styleBindings,r=$i(o),c=Gi(o);t[i]=n;let l,d=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||gt(t,l)>0)&&(d=!0)}else l=n;if(s)if(0!==c){const e=$i(t[r+1]);t[i+1]=Qi(e,r),0!==e&&(t[e+1]=qi(t[e+1],i)),t[r+1]=131071&t[r+1]|i<<17}else t[i+1]=Qi(r,0),0!==r&&(t[r+1]=qi(t[r+1],i)),r=i;else t[i+1]=Qi(c,0),0===r?r=i:t[c+1]=qi(t[c+1],i),c=i;d&&(t[i+1]=Wi(t[i+1])),Lo(t,l,i,!0),Lo(t,l,i,!1),function(t,e,n,i,s){const a=s?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof e&&gt(a,e)>=0&&(n[i+1]=Xi(n[i+1]))}(e,l,t,i,a),o=Qi(r,c),a?e.classBindings=o:e.styleBindings=o}(s,a,e,n,o,i)}}function Go(t,e,n,i,s){let a=null;const o=n.directiveEnd;let r=n.directiveStylingLast;for(-1===r?r=n.directiveStart:r++;r<o&&(a=e[r],i=qo(i,a.hostAttrs,s),a!==t);)r++;return null!==t&&(n.directiveStylingLast=r),i}function qo(t,e,n){const i=n?1:2;let s=-1;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?s=o:s===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ft(t,o,!!n||e[++a]))}return void 0===t?null:t}function Xo(t,e,n,i,s,a,o,r){if(3!==e.type)return;const c=t.data,l=c[r+1];Ko(1==(1&l)?Jo(c,e,n,s,Gi(l),o):void 0)||(Ko(a)||function(t){return 2==(2&t)}(l)&&(a=Jo(c,null,n,s,r,o)),function(t,e,n,i,s){const a=Ht(t);if(e)s?a?t.addClass(n,i):n.classList.add(i):a?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==s?a?t.removeStyle(n,i,e):n.style.removeProperty(i):a?t.setStyle(n,i,s,e):n.style.setProperty(i,s)}}(i,o,Wt(Ae(),n),s,a))}function Jo(t,e,n,i,s,a){const o=null===e;let r=void 0;for(;s>0;){const e=t[s],a=Array.isArray(e),c=a?e[1]:e,l=null===c;let d=n[s+1];d===Zi&&(d=l?Ro:void 0);let h=l?mt(d,i):c===i?d:void 0;if(a&&!Ko(h)&&(h=mt(e,i)),Ko(h)&&(r=h,o))return r;const u=t[s+1];s=o?$i(u):Gi(u)}if(null!==e){let t=a?e.residualClasses:e.residualStyles;null!=t&&(r=mt(t,i))}return r}function Ko(t){return void 0!==t}function tr(t,e){return 0!=(t.flags&(e?16:32))}function er(t,e=""){const n=re(),i=ce(),s=t+20,a=i.firstCreatePass?es(i,n[6],t,3,null,null):i.data[s],o=n[s]=function(t,e){return Ht(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);na(i,n,o,a),he(a,!1)}function nr(t){return ir("",t,""),nr}function ir(t,e,n){const i=re(),s=Ja(i,t,e,n);return s!==Zi&&Ns(i,Ae(),s),ir}function sr(t,e,n,i,s){const a=re(),o=Ka(a,t,e,n,i,s);return o!==Zi&&Ns(a,Ae(),o),sr}function ar(t,e,n,i,s,a,o){const r=re(),c=to(r,t,e,n,i,s,a,o);return c!==Zi&&Ns(r,Ae(),c),ar}function or(t,e,n,i,s,a,o,r,c){const l=re(),d=eo(l,t,e,n,i,s,a,o,r,c);return d!==Zi&&Ns(l,Ae(),d),or}function rr(t,e,n,i,s,a,o,r,c,l,d){const h=re(),u=no(h,t,e,n,i,s,a,o,r,c,l,d);return u!==Zi&&Ns(h,Ae(),u),rr}function cr(t,e,n){Qo(ft,Vo,Ja(re(),t,e,n),!0)}function lr(t,e,n,i,s,a,o,r,c,l,d){Qo(ft,Vo,no(re(),t,e,n,i,s,a,o,r,c,l,d),!0)}function dr(t,e,n){const i=re();return $a(i,_e(),e)&&ps(ce(),Re(),i,t,e,i[11],n,!0),dr}function hr(t,e,n){const i=re();if($a(i,_e(),e)){const s=ce(),a=Re();ps(s,a,i,t,e,js(we(s.data),a,i),n,!0)}return hr}function ur(t,e){const n=Kt(t)[1],i=n.data.length-1;je(n,{directiveStart:i,directiveEnd:i+1})}function pr(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let s=void 0;if(Nt(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");s=e.\u0275dir}if(s){if(n){i.push(s);const e=t;e.inputs=fr(t.inputs),e.declaredInputs=fr(t.declaredInputs),e.outputs=fr(t.outputs);const n=s.hostBindings;n&&br(t,n);const a=s.viewQuery,o=s.contentQueries;if(a&&mr(t,a),o&&gr(t,o),_(t.inputs,s.inputs),_(t.declaredInputs,s.declaredInputs),_(t.outputs,s.outputs),Nt(s)&&s.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(s.data.animation)}e.afterContentChecked=e.afterContentChecked||s.afterContentChecked,e.afterContentInit=t.afterContentInit||s.afterContentInit,e.afterViewChecked=t.afterViewChecked||s.afterViewChecked,e.afterViewInit=t.afterViewInit||s.afterViewInit,e.doCheck=t.doCheck||s.doCheck,e.onDestroy=t.onDestroy||s.onDestroy,e.onInit=t.onInit||s.onInit}const e=s.features;if(e)for(let i=0;i<e.length;i++){const s=e[i];s&&s.ngInherit&&s(t),s===pr&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const s=t[i];s.hostVars=e+=s.hostVars,s.hostAttrs=$e(s.hostAttrs,n=$e(n,s.hostAttrs))}}(i)}function fr(t){return t===vt?{}:t===yt?[]:t}function mr(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function gr(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,s)=>{e(t,i,s),n(t,i,s)}:e}function br(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class _r{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vr(t){t.type.prototype.ngOnChanges&&(t.setInput=yr,t.onChanges=function(){const t=xr(this),e=t&&t.current;if(e){const n=t.previous;if(n===vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function yr(t,e,n,i){const s=xr(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:vt,current:null}),a=s.current||(s.current={}),o=s.previous,r=this.declaredInputs[n],c=o[r];a[r]=new _r(c&&c.currentValue,e,o===vt),t[i]=e}function xr(t){return t.__ngSimpleChanges__||null}function wr(t,e,n,i,s){if(t=D(t),Array.isArray(t))for(let a=0;a<t.length;a++)wr(t[a],e,n,i,s);else{const a=ce(),o=re();let r=Aa(t)?t:D(t.provide),c=Ia(t);const l=de(),d=65535&l.providerIndexes,h=l.directiveStart,u=l.providerIndexes>>16;if(Aa(t)||!t.multi){const i=new ze(c,s,ao),p=kr(r,e,s?d:d+u,h);-1===p?(fn(dn(l,o),a,r),Cr(a,t,e.length),e.push(r),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=65536),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=kr(r,e,d+u,h),f=kr(r,e,d,d+u),m=p>=0&&n[p],g=f>=0&&n[f];if(s&&!g||!s&&!m){fn(dn(l,o),a,r);const d=function(t,e,n,i,s){const a=new ze(t,n,ao);return a.multi=[],a.index=e,a.componentProviders=0,Or(a,s,i&&!n),a}(s?Er:Sr,n.length,s,i,c);!s&&g&&(n[f].providerFactory=d),Cr(a,t,e.length,0),e.push(r),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=65536),n.push(d),o.push(d)}else Cr(a,t,p>-1?p:f,Or(n[s?f:p],c,!s&&i));!s&&i&&g&&n[f].componentProviders++}}}function Cr(t,e,n,i){const s=Aa(e);if(s||e.useClass){const a=(e.useClass||e).prototype.ngOnDestroy;if(a){const o=t.destroyHooks||(t.destroyHooks=[]);if(!s&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,a]):o[t+1].push(i,a)}else o.push(n,a)}}}function Or(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kr(t,e,n,i){for(let s=n;s<i;s++)if(e[s]===t)return s;return-1}function Sr(t,e,n,i){return Mr(this.multi,[])}function Er(t,e,n,i){const s=this.multi;let a;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=vn(n,n[1],this.providerFactory.index,i);a=e.slice(0,t),Mr(s,a);for(let n=t;n<e.length;n++)a.push(e[n])}else a=[],Mr(s,a);return a}function Mr(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ir(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=ce();if(i.firstCreatePass){const s=Nt(t);wr(n,i.data,i.blueprint,s,!0),wr(e,i.data,i.blueprint,s,!1)}}(n,i?i(t):t,e)}}vr.ngInherit=!0;class Pr{}class Tr{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${I(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ar=(()=>{class t{}return t.NULL=new Tr,t})(),Dr=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Rr(t),t})();const Rr=function(t){return fa(t,de(),re())};class Lr{}const Fr=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Yr(),t})();const Yr=function(){const t=re(),e=Jt(de().index,t);return function(t){const e=t[11];if(Ht(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let Zr=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class Nr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ur=new Nr("9.1.12");class Br{constructor(){}supports(t){return Va(t)}create(t){return new Vr(t)}}const zr=(t,e)=>e;class Vr{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zr}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,s=null;for(;e||n;){const a=!n||e&&e.currentIndex<Wr(n,i,s)?e:n,o=Wr(a,i,s),r=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{s||(s=[]);const t=o-i,e=r-i;if(t!=e){for(let n=0;n<t;n++){const i=n<s.length?s[n]:s[n]=0,a=i+n;e<=a&&a<t&&(s[n]=i+1)}s[a.previousIndex]=e-t}}o!==r&&t(a,o,r)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Va(t))throw new Error(`Error trying to diff '${I(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,s=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==s&&Ba(s.trackById,i)?(a&&(s=this._verifyReinsertion(s,n,i,e)),Ba(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,i,e),a=!0),s=s._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ua()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==s&&Ba(s.trackById,i)?(a&&(s=this._verifyReinsertion(s,t,i,e)),Ba(s.item,t)||this._addIdentityChange(s,t)):(s=this._mismatch(s,t,i,e),a=!0),s=s._next,e++}),this.length=e;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ba(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ba(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):t=this._addAfter(new Hr(e,n),s,i),t}_verifyReinsertion(t,e,n,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $r),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $r),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Hr{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qr{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ba(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class $r{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qr,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wr(t,e,n){const i=t.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+e+s}class Gr{constructor(){}supports(t){return t instanceof Map||Ha(t)}create(){return new qr}}class qr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ha(t)))throw new Error(`Error trying to diff '${I(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,s=n._next;return i&&(i._next=s),s&&(s._prev=i),n._next=null,n._prev=null,n}const n=new Xr(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ba(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Xr{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Jr=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new m,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new Br])}),t})(),Kr=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new m,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new Gr])}),t})();const tc=[new Gr],ec=new Jr([new Br]),nc=new Kr(tc);let ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sc(t,Dr),t})();const sc=function(t,e){return ma(t,e,de(),re())};let ac=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oc(t,Dr),t})();const oc=function(t,e){return ga(t,e,de(),re())},rc={};class cc extends Ar{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=At(t);return new hc(e,this.ngModule)}}function lc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const dc=new $("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>en});class hc extends Pr{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Yi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return lc(this.componentDef.inputs)}get outputs(){return lc(this.componentDef.outputs)}create(t,e,n,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,i,s)=>{const a=t.get(n,rc,s);return a!==rc||i===rc?a:e.get(n,i,s)}}}(t,i.injector):t,a=s.get(Lr,Qt),o=s.get(Zr,null),r=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Ht(t))return t.selectRootElement(e,n===_t.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(r,n,this.componentDef.encapsulation):Ki(c,a.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),u={components:[],scheduler:en,clean:Rs,playerHandler:null,flags:0},p=ds(0,-1,null,1,0,null,null,null,null,null),f=ts(null,p,u,d,null,null,a,r,o,s);let m,g;Se(f,null);try{const t=function(t,e,n,i,s,a){const o=n[1];n[20]=t;const r=es(o,null,0,3,null,null),c=r.mergedAttrs=e.hostAttrs;null!==c&&(Za(r,c,!0),null!==t&&(Ve(s,t,c),null!==r.classes&&ca(s,t,r.classes),null!==r.styles&&ra(s,t,r.styles)));const l=i.createRenderer(t,e),d=ts(n,ls(e),null,e.onPush?64:16,n[20],r,i,l,void 0);return o.firstCreatePass&&(fn(dn(r,n),o,e.type),vs(o,r),xs(r,n.length,1)),Is(n,d),n[20]=d}(l,this.componentDef,f,a,r);if(l)if(n)Ve(r,l,["ng-version",Ur.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,s=2;for(;i<t.length;){let a=t[i];if("string"==typeof a)2===s?""!==a&&e.push(a,t[++i]):8===s&&n.push(a);else{if(!Di(s))break;s=a}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ve(r,l,t),e&&e.length>0&&ca(r,l,e.join(" "))}if(g=qt(p,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}m=function(t,e,n,i,s){const a=n[1],o=function(t,e,n){const i=de();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),_s(t,i,1),ws(t,e,n));const s=vn(e,t,e.length-1,i);ki(s,e);const a=Gt(i,e);return a&&ki(a,e),s}(a,n,e);i.components.push(o),t[8]=o,s&&s.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const r=de();if(a.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){De(r.index-20);const t=n[1];ms(t,e),gs(t,n,e.hostVars),bs(e,o)}return o}(t,this.componentDef,f,u,[ur]),ns(p,f,null)}finally{Te()}const b=new uc(this.componentType,m,fa(Dr,g,f),f,g);return n&&!h||(p.node.child=g),b}}class uc extends class{}{constructor(t,e,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new da(i),function(t,e,n,i){let s=t.node;null==s&&(t.node=s=hs(0,null,2,-1,null,null)),i[6]=s}(i[1],0,0,i),this.componentType=t}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const pc=void 0;var fc=["en",[["a","p"],["AM","PM"],pc],[["AM","PM"],pc,pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pc,"{1} 'at' {0}",pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let mc={};function gc(t,e,n){"string"!=typeof e&&(n=e,e=t[xc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),mc[e]=t,n&&(mc[e][xc.ExtraData]=n)}function bc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=yc(e);if(n)return n;const i=e.split("-")[0];if(n=yc(i),n)return n;if("en"===i)return fc;throw new Error(`Missing locale data for the locale "${t}".`)}function _c(t){return bc(t)[xc.CurrencyCode]||null}function vc(t){return bc(t)[xc.PluralCase]}function yc(t){return t in mc||(mc[t]=Z.ng&&Z.ng.common&&Z.ng.common.locales&&Z.ng.common.locales[t]),mc[t]}const xc=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let wc="en-US";function Cc(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(wc=t.toLowerCase().replace(/_/g,"-"))}const Oc=new Map;class kc extends ct{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cc(this);const n=Rt(t),i=t[V]||null;i&&Cc(i),this._bootstrapComponents=on(n.bootstrap),this._r3Injector=Sa(t,e,[{provide:ct,useValue:this},{provide:Ar,useValue:this.componentFactoryResolver}],I(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ra.THROW_IF_NOT_FOUND,n=g.Default){return t===Ra||t===ct||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sc extends lt{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${I(e)} vs ${I(e.name)}`)})(t,Oc.get(t),e),Oc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new kc(this.moduleType,t)}}function Ec(t,e,n){const i=ge()+t,s=re();return s[i]===Zi?Qa(s,i,n?e.call(n):e()):function(t,e){return t[e]}(s,i)}function Mc(t,e,n,i){return Ac(re(),ge(),t,e,n,i)}function Ic(t,e,n,i,s){return Dc(re(),ge(),t,e,n,i,s)}function Pc(t,e,n,i,s,a){return Rc(re(),ge(),t,e,n,i,s,a)}function Tc(t,e){const n=t[e];return n===Zi?void 0:n}function Ac(t,e,n,i,s,a){const o=e+n;return $a(t,o,s)?Qa(t,o+1,a?i.call(a,s):i(s)):Tc(t,o+1)}function Dc(t,e,n,i,s,a,o){const r=e+n;return Wa(t,r,s,a)?Qa(t,r+2,o?i.call(o,s,a):i(s,a)):Tc(t,r+2)}function Rc(t,e,n,i,s,a,o,r){const c=e+n;return Ga(t,c,s,a,o)?Qa(t,c+3,r?i.call(r,s,a,o):i(s,a,o)):Tc(t,c+3)}function Lc(t,e){const n=ce();let i;const s=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[s]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,i.onDestroy)):i=n.data[s];const a=i.factory||(i.factory=Dt(i.type)),o=et(ao),r=cn(!1),c=a();return cn(r),et(o),function(t,e,n,i){const s=n+20;s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),e[s]=i}(n,re(),t,c),c}function Fc(t,e,n){const i=re(),s=Xt(i,t);return Nc(i,Zc(i,t)?Ac(i,ge(),e,s.transform,n,s):s.transform(n))}function jc(t,e,n,i){const s=re(),a=Xt(s,t);return Nc(s,Zc(s,t)?Dc(s,ge(),e,a.transform,n,i,a):a.transform(n,i))}function Yc(t,e,n,i,s){const a=re(),o=Xt(a,t);return Nc(a,Zc(a,t)?Rc(a,ge(),e,o.transform,n,i,s,o):o.transform(n,i,s))}function Zc(t,e){return t[1].data[e+20].pure}function Nc(t,e){return za.isWrapped(e)&&(e=za.unwrap(e),t[be()]=Zi),e}class Uc extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,a=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(a=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(a=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const r=super.subscribe(i,a,o);return t instanceof s.a&&t.add(r),r}}function Bc(){return this._results[Ua()]()}class zc{constructor(){this.dirty=!0,this._results=[],this.changes=new Uc,this.length=0;const t=Ua(),e=zc.prototype;e[t]||(e[t]=Bc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?(n===e&&(n=e.slice(0,i)),t(s,n)):n!==e&&n.push(s)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Vc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Hc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==cl(t,e).matches&&this.queries[e].setDirty()}}class Qc{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class $c{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,s=this.getByIndex(n).embeddedTView(t,i);s&&(s.indexInDeclarationView=n,null!==e?e.push(s):e=[s])}return null!==e?new $c(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,Gc(e,n[i]))}else{const n=this.metadata.predicate;n===ic?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_n(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Dr||i===ac||i===ic&&0===e.type)this.addMatch(e.index,-2);else{const n=_n(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Gc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function qc(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?fa(Dr,t,e):0===t.type?ma(ic,Dr,t,e):null}(e,t):-2===n?function(t,e,n){return n===Dr?fa(Dr,e,t):n===ic?ma(ic,Dr,e,t):n===ac?ga(ac,Dr,e,t):void 0}(t,e,i):vn(t,t[1],n,e)}function Xc(t,e,n,i){const s=e[19].queries[i];if(null===s.matches){const i=t.data,a=n.matches,o=[];for(let t=0;t<a.length;t+=2){const s=a[t];o.push(s<0?null:qc(e,i[s],a[t+1],n.metadata.read))}s.matches=o}return s.matches}function Jc(t){const e=re(),n=ce(),i=Ce();Oe(i+1);const s=cl(n,i);if(t.dirty&&te(e)===s.metadata.isStatic){if(null===s.matches)t.reset([]);else{const a=s.crossesNgTemplate?function t(e,n,i,s){const a=e.queries.getByIndex(i),o=a.matches;if(null!==o){const r=Xc(e,n,a,i);for(let e=0;e<o.length;e+=2){const i=o[e];if(i>0)s.push(r[e/2]);else{const a=o[e+1],r=n[-i];for(let e=10;e<r.length;e++){const n=r[e];n[17]===n[3]&&t(n[1],n,a,s)}if(null!==r[9]){const e=r[9];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,a,s)}}}}}return s}(n,e,i,[]):Xc(n,e,s,i);t.reset(a),t.notifyOnChanges()}return!0}return!1}function Kc(t,e,n){el(ce(),re(),t,e,n,!0)}function tl(t,e,n){el(ce(),re(),t,e,n,!1)}function el(t,e,n,i,s,a){t.firstCreatePass&&(rl(t,new Qc(n,i,a,s),-1),a&&(t.staticViewQueries=!0)),ol(t,e)}function nl(t,e,n,i){sl(ce(),re(),e,n,i,!1,de(),t)}function il(t,e,n,i){sl(ce(),re(),e,n,i,!0,de(),t)}function sl(t,e,n,i,s,a,o,r){t.firstCreatePass&&(rl(t,new Qc(n,i,a,s),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,r),a&&(t.staticContentQueries=!0)),ol(t,e)}function al(){return t=re(),e=Ce(),t[19].queries[e].queryList;var t,e}function ol(t,e){const n=new zc;!function(t,e,n,i){const s=Ls(e);s.push(n),t.firstCreatePass&&Fs(t).push(i,s.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Hc),e[19].queries.push(new Vc(n))}function rl(t,e,n){null===t.queries&&(t.queries=new $c),t.queries.track(new Wc(e,n))}function cl(t,e){return t.queries.getByIndex(e)}function ll(t,e){return ma(ic,Dr,t,e)}function dl(t=g.Default){const e=ba(!0);if(null!=e||t&g.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const hl=h("Input",t=>({bindingPropertyName:t})),ul=h("Output",t=>({bindingPropertyName:t})),pl=new $("Application Initializer");let fl=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();_o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(it(pl,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const ml=new $("AppId"),gl={provide:ml,useFactory:function(){return`${bl()}${bl()}${bl()}`},deps:[]};function bl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _l=new $("Platform Initializer"),vl=new $("Platform ID"),yl=new $("appBootstrapListener");let xl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const wl=new $("LocaleId"),Cl=new $("DefaultCurrencyCode");class Ol{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const kl=function(t){return new Sc(t)},Sl=kl,El=function(t){return Promise.resolve(kl(t))},Ml=function(t){const e=kl(t),n=on(Rt(t).declarations).reduce((t,e)=>{const n=At(e);return n&&t.push(new hc(n)),t},[]);return new Ol(e,n)},Il=Ml,Pl=function(t){return Promise.resolve(Ml(t))};let Tl=(()=>{class t{constructor(){this.compileModuleSync=Sl,this.compileModuleAsync=El,this.compileModuleAndAllComponentsSync=Il,this.compileModuleAndAllComponentsAsync=Pl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Al=new $("compilerOptions"),Dl=(()=>Promise.resolve(0))();function Rl(t){"undefined"==typeof Zone?Dl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ll{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uc(!1),this.onMicrotaskEmpty=new Uc(!1),this.onStable=new Uc(!1),this.onError=new Uc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Z.requestAnimationFrame,e=Z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Z,()=>{t.lastRequestAnimationFrameId=-1,Zl(t),Yl(t)}),Zl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,s,a,o,r)=>{try{return Nl(t),n.invokeTask(s,a,o,r)}finally{e&&"eventTask"===a.type&&e(),Ul(t)}},onInvoke:(e,n,i,s,a,o,r)=>{try{return Nl(t),e.invoke(i,s,a,o,r)}finally{Ul(t)}},onHasTask:(e,n,i,s)=>{e.hasTask(i,s),n===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Zl(t),Yl(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ll.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ll.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,t,jl,Fl,Fl);try{return s.runTask(a,e,n)}finally{s.cancelTask(a)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Fl(){}const jl={};function Yl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Nl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ul(t){t._nesting--,Yl(t)}class Bl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uc,this.onMicrotaskEmpty=new Uc,this.onStable=new Uc,this.onError=new Uc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let zl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ll.assertNotInAngularZone(),Rl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(it(Ll))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),Vl=(()=>{class t{constructor(){this._applications=new Map,Wl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Wl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class Hl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ql(t){Wl=t}let $l,Wl=new Hl,Gl=function(t,e,n){const i=t.get(Al,[]).concat(e),s=new Sc(n);if(0===Fa.size)return Promise.resolve(s);const a=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(i.map(t=>t.providers));if(0===a.length)return Promise.resolve(s);const o=function(){const t=Z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),r=Ra.create({providers:a}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(r.get(t)))(t);n.set(t,e=i.then(Ya))}return e}return Fa.forEach((t,n)=>{const s=[];t.templateUrl&&s.push(i(t.templateUrl).then(e=>{t.template=e}));const a=t.styleUrls,o=t.styles||(t.styles=[]),r=t.styles.length;a&&a.forEach((e,n)=>{o.push(""),s.push(i(e).then(i=>{o[r+n]=i,a.splice(a.indexOf(e),1),0==a.length&&(t.styleUrls=void 0)}))});const c=Promise.all(s).then(()=>function(t){ja.delete(t)}(n));e.push(c)}),Fa=new Map,Promise.all(e).then(()=>{})}().then(()=>s)};const ql=new $("AllowMultipleToken");class Xl{constructor(t,e){this.name=t,this.token=e}}function Jl(t,e,n=[]){const i="Platform: "+e,s=new $(i);return(e=[])=>{let a=Kl();if(!a||a.injector.get(ql,!1))if(t)t(n.concat(e).concat({provide:s,useValue:!0}));else{const t=n.concat(e).concat({provide:s,useValue:!0},{provide:ya,useValue:"platform"});!function(t){if($l&&!$l.destroyed&&!$l.injector.get(ql,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$l=t.get(td);const e=t.get(_l,null);e&&e.forEach(t=>t())}(Ra.create({providers:t,name:i}))}return function(t){const e=Kl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function Kl(){return $l&&!$l.destroyed?$l:null}let td=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Bl:("zone.js"===t?void 0:t)||new Ll({enableLongStackTrace:Hn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Ll,useValue:n}];return n.run(()=>{const e=Ra.create({providers:i,parent:this.injector,name:t.moduleType.name}),s=t.create(e),a=s.injector.get(Mn,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>id(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{a.handleError(t)}})),function(t,e,n){try{const i=n();return _o(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(a,n,()=>{const t=s.injector.get(fl);return t.runInitializers(),t.donePromise.then(()=>(Cc(s.injector.get(wl,"en-US")||"en-US"),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const n=ed({},e);return Gl(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(nd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${I(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(it(Ra))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function ed(t,e){return Array.isArray(e)?e.reduce(ed,t):Object.assign(Object.assign({},t),e)}let nd=(()=>{class t{constructor(t,e,n,i,s,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Hn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new a.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),d=new a.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ll.assertNotInAngularZone(),Rl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ll.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,d.pipe(Object(r.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Pr?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ct),s=n.create(Ra.NULL,[],e||n.selector,i);s.onDestroy(()=>{this._unloadComponent(s)});const a=s.injector.get(zl,null);return a&&s.injector.get(Vl).registerApplication(s.location.nativeElement,a),this._loadComponent(s),Hn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;id(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),id(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(it(Ll),it(xl),it(Ra),it(Mn),it(Ar),it(fl))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function id(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sd{}class ad{}const od={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let rd=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||od}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("TCaw")(e).then(t=>t[i]).then(t=>cd(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),n("TCaw")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+s]).then(t=>cd(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(it(Tl),it(ad,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function cd(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class ld extends _a{}class dd extends ld{}const hd=function(t){return null},ud=Jl(null,"core",[{provide:vl,useValue:"unknown"},{provide:td,deps:[Ra]},{provide:Vl,deps:[]},{provide:xl,deps:[]}]),pd=[{provide:nd,useClass:nd,deps:[Ll,xl,Ra,Mn,Ar,fl]},{provide:dc,deps:[Ll],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:fl,useClass:fl,deps:[[new p,pl]]},{provide:Tl,useClass:Tl,deps:[]},gl,{provide:Jr,useFactory:function(){return ec},deps:[]},{provide:Kr,useFactory:function(){return nc},deps:[]},{provide:wl,useFactory:function(t){return Cc(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new u(wl),new p,new m]]},{provide:Cl,useValue:"USD"}];let fd=(()=>{class t{constructor(t){}}return t.\u0275mod=Et({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(it(nd))},providers:pd}),t})()},fp7N:function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));var i=n("fXoL"),s=n("XNiG"),a=n("VRyK"),o=n("LRne"),r=n("M9IT"),c=n("1G5W"),l=n("JX91"),d=n("eIep"),h=n("lJxs"),u=n("JIr8"),p=n("3Pt+"),f=n("sYmb"),m=n("tk/3"),g=n("AXEc"),b=n("4zkx"),_=n("A6w4"),v=n("0IaG"),y=n("rH+9"),x=n("ofXK"),w=n("+0xr"),C=n("5+WD"),O=n("Dh3D"),k=n("Xa2L"),S=n("bSwM"),E=n("NFeN"),M=n("aEDk"),I=n("ZI/H");const P=["tableResourceListSort"];function T(t,e){1&t&&i.Ub(0,"mat-spinner")}function A(t,e){if(1&t&&(i.Zb(0,"div",27),i.Qc(1,T,1,0,"mat-spinner",28),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function D(t,e){if(1&t&&(i.Zb(0,"small",29),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Vc("- ",t.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}function R(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-checkbox",32),i.hc("change",(function(e){return i.Hc(t),i.lc(2).toggleAllRes(e)})),i.mc(1,"translate"),i.Yb()}if(2&t){const t=i.lc(2);i.tc("title",i.nc(1,3,"lang.selectAllResInBasket")),i.sc("checked",t.selectedRes.length==t.allResInSearch.length&&t.selectedRes.length>0)("indeterminate",t.selectedRes.length>0&&t.selectedRes.length<t.allResInSearch.length)}}function L(t,e){if(1&t&&(i.Zb(0,"mat-header-cell",30),i.Qc(1,R,2,5,"mat-checkbox",31),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",!t.singleMode)}}function F(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-cell",30),i.Zb(1,"mat-checkbox",33),i.hc("change",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().toggleRes(n,s)}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.Eb(1),i.sc("checked",-1!==n.selectedRes.indexOf(t.resId))("disabled",n.excludeRes.indexOf(t.resId)>-1)}}function j(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.category_id")," "))}function Y(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",i.nc(2,1,"lang."+t.category)," ")}}function Z(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.chrono")," "))}function N(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.chrono," ")}}function U(t,e){1&t&&(i.Zb(0,"mat-header-cell",35),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.status")," "))}const B=function(t){return{color:t}};function z(t,e){if(1&t&&(i.Zb(0,"mat-cell",36),i.Ub(1,"mat-icon",37),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Ib("",t.statusImage.charAt(0),"",t.statusImage.charAt(1)," ",t.statusImage," ",t.statusImage.charAt(0),"",t.statusImage.charAt(1),"-2x"),i.tc("title",t.statusLabel),i.sc("ngStyle",i.zc(9,B,t.priorityColor))}}function V(t,e){1&t&&(i.Zb(0,"mat-header-cell",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.subject")," "))}function H(t,e){if(1&t&&(i.Zb(0,"mat-cell",39),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.subject," ")}}function Q(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.doctype")," "))}function $(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.typeLabel," ")}}function W(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.creationDate")," "))}function G(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"ucfirst"),i.mc(3,"timeAgo"),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",i.nc(2,1,i.oc(3,3,t.creationDate,"full"))," ")}}function q(t,e){1&t&&i.Ub(0,"mat-header-row")}function X(t,e){1&t&&i.Ub(0,"mat-row",40)}let J=(()=>{class t{constructor(t,e,n,a,o,r,c){this.translate=t,this.http=e,this.notify=n,this.headerService=a,this.appService=o,this.dialog=r,this.functions=c,this.loading=!1,this.filtersChange=new i.o,this.displayedColumnsResource=["action","category","chrono","status","subject","typeLabel","creationDate"],this.selectedRes=[],this.allResInSearch=[],this.isLoadingResults=!0,this.routeUrl="../rest/search",this.resultsLength=0,this.searchResource=new p.h,this.search="",this.singleMode=!1,this.excludeRes=[],this.destroy$=new s.a}ngOnInit(){this.loading=!0,this.initResourceList(),this.selectedRes=[]}initResourceList(){this.resultListDatabase=new K(this.http),this.paginator.pageIndex=0,this.sort.active="creationDate",this.sort.direction="desc",this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(a.a)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(c.a)(this.destroy$),Object(l.a)({}),Object(d.a)(()=>(this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.routeUrl,this.search))),Object(h.a)(t=>(this.isLoadingResults=!1,t=this.processPostData(t),this.resultsLength=t.count,this.allResInSearch=t.allResources,t.resources)),Object(u.a)(t=>(this.notify.handleErrors(t),this.isLoadingResults=!1,Object(o.a)([])))).subscribe(t=>this.data=t)}processPostData(t){return t.resources.forEach(t=>{Object.keys(t).forEach(e=>{"statusImage"==e&&this.functions.empty(t[e])?t[e]="fa-question undefined":this.functions.empty(t[e])&&-1===["senders","recipients","attachments","hasDocument"].indexOf(e)&&(t[e]=this.translate.instant("lang.undefined"))})}),t}refreshDao(t=null){null!==t&&(this.search=t),this.filtersChange.emit()}toggleRes(t,e){if(this.singleMode&&(this.selectedRes=[]),t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{let t=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(t,1),e.checked=!1}}toggleAllRes(t){if(this.selectedRes=[],t.checked){this.data.forEach(t=>{-1===this.excludeRes.indexOf(t.resId)&&(t.checked=!0)});let t=this.allResInSearch.filter(t=>-1===this.excludeRes.indexOf(t));this.selectedRes=JSON.parse(JSON.stringify(t))}else this.data.forEach(t=>{t.checked=!1})}getSelectedRessources(){return this.selectedRes}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(f.e),i.Tb(m.b),i.Tb(g.a),i.Tb(b.a),i.Tb(_.a),i.Tb(v.b),i.Tb(y.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["search-adv-list"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(r.a,!0),i.Oc(P,!0)),2&t&&(i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first))},inputs:{search:"search",singleMode:"singleMode",excludeRes:"excludeRes"},decls:38,vars:14,consts:[["class","example-loading-shade",4,"ngIf"],[2,"display","flex"],[2,"display","flex","align-items","center"],["style","color: #029BB6;",4,"ngIf"],[2,"flex","1"],[1,"paginatorResultList",3,"length","hidePageSize","pageSize"],["paginatorResultList",""],[2,"overflow","auto"],["cdkDropList","","id","document-list","matSort","","matSortActive","creationDate","matSortDisableClear","","matSortDirection","desc",2,"width","100%","min-width","800px",3,"dataSource"],["tableResourceListSort","matSort"],["matColumnDef","action"],["style","width: 70px;flex: initial;",4,"matHeaderCellDef"],["style","width: 70px;flex: initial;",4,"matCellDef"],["matColumnDef","category"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","chrono"],["matColumnDef","status"],["mat-sort-header","","style","width: 100px;flex: initial",4,"matHeaderCellDef"],["style","width: 100px;flex: initial",4,"matCellDef"],["matColumnDef","subject"],["mat-sort-header","","style","flex:2",4,"matHeaderCellDef"],["style","flex:2",4,"matCellDef"],["matColumnDef","typeLabel"],["matColumnDef","creationDate"],[4,"matHeaderRowDef"],["class","rowData",4,"matRowDef","matRowDefColumns"],[1,"example-loading-shade"],[4,"ngIf"],[2,"color","#029BB6"],[2,"width","70px","flex","initial"],["color","primary",3,"checked","indeterminate","title","change",4,"ngIf"],["color","primary",3,"checked","indeterminate","title","change"],["color","primary",3,"checked","disabled","change","click"],["mat-sort-header",""],["mat-sort-header","",2,"width","100px","flex","initial"],[2,"width","100px","flex","initial"],["color","primary",3,"title","ngStyle"],["mat-sort-header","",2,"flex","2"],[2,"flex","2"],[1,"rowData"]],template:function(t,e){1&t&&(i.Qc(0,A,2,1,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"b"),i.Sc(4),i.mc(5,"ucfirst"),i.mc(6,"translate"),i.Yb(),i.Sc(7,"\xa0"),i.Qc(8,D,3,4,"small",3),i.Yb(),i.Zb(9,"div",4),i.Ub(10,"mat-paginator",5,6),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"mat-table",8,9),i.Xb(15,10),i.Qc(16,L,2,1,"mat-header-cell",11),i.Qc(17,F,2,2,"mat-cell",12),i.Wb(),i.Xb(18,13),i.Qc(19,j,3,3,"mat-header-cell",14),i.Qc(20,Y,3,3,"mat-cell",15),i.Wb(),i.Xb(21,16),i.Qc(22,Z,3,3,"mat-header-cell",14),i.Qc(23,N,2,1,"mat-cell",15),i.Wb(),i.Xb(24,17),i.Qc(25,U,3,3,"mat-header-cell",18),i.Qc(26,z,2,11,"mat-cell",19),i.Wb(),i.Xb(27,20),i.Qc(28,V,3,3,"mat-header-cell",21),i.Qc(29,H,2,1,"mat-cell",22),i.Wb(),i.Xb(30,23),i.Qc(31,Q,3,3,"mat-header-cell",14),i.Qc(32,$,2,1,"mat-cell",15),i.Wb(),i.Xb(33,24),i.Qc(34,W,3,3,"mat-header-cell",14),i.Qc(35,G,4,6,"mat-cell",15),i.Wb(),i.Qc(36,q,1,0,"mat-header-row",25),i.Qc(37,X,1,0,"mat-row",26),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",e.isLoadingResults),i.Eb(4),i.Vc("",e.allResInSearch.length," ",i.nc(5,10,i.nc(6,12,"lang.records")),""),i.Eb(4),i.sc("ngIf",e.selectedRes.length>0),i.Eb(2),i.sc("length",e.resultsLength)("hidePageSize",!0)("pageSize",10),i.Eb(3),i.sc("dataSource",e.data),i.Eb(23),i.sc("matHeaderRowDef",e.displayedColumnsResource),i.Eb(1),i.sc("matRowDefColumns",e.displayedColumnsResource))},directives:[x.t,r.a,w.n,C.e,O.a,w.c,w.i,w.b,w.k,w.m,k.c,w.h,S.a,w.a,O.b,E.a,x.w,w.j,w.l],pipes:[M.u,f.d,I.a],styles:[".align_leftData[_ngcontent-%COMP%]{text-align:left}.align_centerData[_ngcontent-%COMP%]{text-align:center}.align_rightData[_ngcontent-%COMP%]{text-align:right}.boldFontData[_ngcontent-%COMP%]{font-weight:700}.bigFontData[_ngcontent-%COMP%]{font-size:14px}.smallFontData[_ngcontent-%COMP%]{font-size:10px}.normalData[_ngcontent-%COMP%]{flex:1}.chronoData[_ngcontent-%COMP%]{width:150px}.longData[_ngcontent-%COMP%]{flex:3}.locked[_ngcontent-%COMP%]{opacity:.5}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}.dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8}.badge-folder[_ngcontent-%COMP%], .hasEvent[_ngcontent-%COMP%]{cursor:pointer}.hasEvent[_ngcontent-%COMP%]:hover{color:#135f7f}.followIcon[_ngcontent-%COMP%]{color:#f99830}"]}),t})();class K{constructor(t){this.http=t}getRepoIssues(t,e,n,i,s){return this.http.get(`${i}?limit=10&offset=${10*n}&order=${e}&orderBy=${t}${s}`)}}},g9mw:function(t,e){t.exports=function(){"use strict";function t(t){this.config=t=t||{},this.config.id=t.id||"id",this.config.parent=t.parent||"parent",this.config.children=t.children||"children",this.config.options=t.options||{deleteParent:!0}}function e(t,e,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)}function n(t,e,n){var i;for(i=n.length,void 0===e[t]&&(e[t]=[]);i-- >0;)e[t].push(n.shift())}return t.prototype.convert=function(t){var i,s,a,o,r,c,l,d,h;for(i=0,o=[],a={},d={},s=t.length;i<s;i++)c=(h=t[i])[this.config.parent],a[r=h[this.config.id]]=h,null==c?o.push(h):(void 0!==a[c]?e(this.config.children,a[c],h):e(c,d,h),this.config.options.deleteParent&&delete h[this.config.parent]),void 0!==d[r]&&n(this.config.children,h,d[r]);return 1===o.length?l=o[0]:o.length>1?(l={})[this.config.children]=o:l={},l},t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2fFW"),s=n("NJ4a");const a={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(s.a)(t)},complete(){}}},gTqA:function(t,e,n){"use strict";var i=n("Q1FS"),s=n("6qA3"),a=n("EBtg");e.from=function(t,e){return e?a.scheduled(t,e):t instanceof i.Observable?t:new i.Observable(s.subscribeTo(t))}},iadO:function(t,e,n){"use strict";n.d(e,"a",(function(){return J})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return ot})),n.d(e,"e",(function(){return at})),n.d(e,"f",(function(){return dt})),n.d(e,"g",(function(){return pt})),n.d(e,"h",(function(){return ut})),n.d(e,"i",(function(){return ht})),n.d(e,"j",(function(){return H})),n.d(e,"k",(function(){return Q})),n.d(e,"l",(function(){return q}));var i=n("u47x"),s=n("rDax"),a=n("+rOU"),o=n("ofXK"),r=n("fXoL"),c=n("bTqV"),l=n("0IaG"),d=n("vxfF"),h=n("FKr1"),u=n("XNiG"),p=n("quSY"),f=n("VRyK"),m=n("LRne"),g=n("FtGj"),b=n("IzEk"),_=n("JX91"),v=n("pLZG"),y=n("8LU1"),x=n("R0Ic"),w=n("3Pt+"),C=n("kmnG"),O=n("qFsG"),k=n("cH1L");const S=["mat-calendar-body",""];function E(t,e){if(1&t&&(r.Zb(0,"tr",2),r.Zb(1,"td",3),r.Sc(2),r.Yb(),r.Yb()),2&t){const t=r.lc();r.Eb(1),r.Pc("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),r.Fb("colspan",t.numCols),r.Eb(1),r.Uc(" ",t.label," ")}}function M(t,e){if(1&t&&(r.Zb(0,"td",7),r.Sc(1),r.Yb()),2&t){const t=r.lc(2);r.Pc("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),r.Fb("colspan",t._firstRowOffset),r.Eb(1),r.Uc(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function I(t,e){if(1&t){const t=r.ac();r.Zb(0,"td",8),r.hc("click",(function(){r.Hc(t);const n=e.$implicit;return r.lc(2)._cellClicked(n)})),r.Zb(1,"div",9),r.Sc(2),r.Yb(),r.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=r.lc().index,s=r.lc();r.Pc("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),r.Jb("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(i,n)),r.sc("ngClass",t.cssClasses)("tabindex",s._isActiveCell(i,n)?0:-1),r.Fb("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",s.selectedValue===t.value),r.Eb(1),r.Jb("mat-calendar-body-selected",s.selectedValue===t.value)("mat-calendar-body-today",s.todayValue===t.value),r.Eb(1),r.Uc(" ",t.displayValue," ")}}function P(t,e){if(1&t&&(r.Zb(0,"tr",4),r.Qc(1,M,2,6,"td",5),r.Qc(2,I,3,20,"td",6),r.Yb()),2&t){const t=e.$implicit,n=e.index,i=r.lc();r.Eb(1),r.sc("ngIf",0===n&&i._firstRowOffset),r.Eb(1),r.sc("ngForOf",t)}}function T(t,e){if(1&t&&(r.Zb(0,"th",5),r.Sc(1),r.Yb()),2&t){const t=e.$implicit;r.Fb("aria-label",t.long),r.Eb(1),r.Tc(t.narrow)}}const A=["*"];function D(t,e){}function R(t,e){if(1&t){const t=r.ac();r.Zb(0,"mat-month-view",5),r.hc("activeDateChange",(function(e){return r.Hc(t),r.lc().activeDate=e}))("selectedChange",(function(e){return r.Hc(t),r.lc()._dateSelected(e)}))("_userSelection",(function(){return r.Hc(t),r.lc()._userSelected()})),r.Yb()}if(2&t){const t=r.lc();r.sc("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function L(t,e){if(1&t){const t=r.ac();r.Zb(0,"mat-year-view",6),r.hc("activeDateChange",(function(e){return r.Hc(t),r.lc().activeDate=e}))("monthSelected",(function(e){return r.Hc(t),r.lc()._monthSelectedInYearView(e)}))("selectedChange",(function(e){return r.Hc(t),r.lc()._goToDateInView(e,"month")})),r.Yb()}if(2&t){const t=r.lc();r.sc("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)}}function F(t,e){if(1&t){const t=r.ac();r.Zb(0,"mat-multi-year-view",7),r.hc("activeDateChange",(function(e){return r.Hc(t),r.lc().activeDate=e}))("yearSelected",(function(e){return r.Hc(t),r.lc()._yearSelectedInMultiYearView(e)}))("selectedChange",(function(e){return r.Hc(t),r.lc()._goToDateInView(e,"year")})),r.Yb()}if(2&t){const t=r.lc();r.sc("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)}}const j=["button"];function Y(t,e){1&t&&(r.kc(),r.Zb(0,"svg",3),r.Ub(1,"path",4),r.Yb())}const Z=[[["","matDatepickerToggleIcon",""]]],N=["[matDatepickerToggleIcon]"];function U(t){return Error(`MatDatepicker: No provider found for ${t}. You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.`)}let B=(()=>{class t{constructor(){this.changes=new u.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class z{constructor(t,e,n,i,s={}){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=i,this.cssClasses=s}}let V=(()=>{class t{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new r.o}_cellClicked(t){t.enabled&&this.selectedValueChange.emit(t.value)}ngOnChanges(t){const e=t.numCols,{rows:n,numCols:i}=this;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/i+"%"),!e&&this._cellWidth||(this._cellWidth=100/i+"%")}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(b.a)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()})})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.B))},t.\u0275cmp=r.Nb({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",cellAspectRatio:"cellAspectRatio",label:"label",rows:"rows",todayValue:"todayValue",selectedValue:"selectedValue",labelMinRequiredCells:"labelMinRequiredCells"},outputs:{selectedValueChange:"selectedValueChange"},exportAs:["matCalendarBody"],features:[r.Cb],attrs:S,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell mat-focus-indicator",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell","mat-focus-indicator",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content"]],template:function(t,e){1&t&&(r.Qc(0,E,3,6,"tr",0),r.Qc(1,P,3,2,"tr",1)),2&t&&(r.sc("ngIf",e._firstRowOffset<e.labelMinRequiredCells),r.Eb(1),r.sc("ngForOf",e.rows))},directives:[o.t,o.s,o.q],styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n"],encapsulation:2,changeDetection:0}),t})(),H=(()=>{class t{constructor(t,e,n,i){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=p.a.EMPTY,this.selectedChange=new r.o,this._userSelection=new r.o,this.activeDateChange=new r.o,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(_.a)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){if(this._selectedDate!=t){const e=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(e,n,t);this.selectedChange.emit(i)}this._userSelection.emit()}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case g.k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case g.o:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case g.s:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case g.e:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case g.j:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case g.f:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case g.n:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case g.m:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case g.g:case g.q:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((t,n)=>({long:t,narrow:e[n]}));this._weekdays=n.slice(t).concat(n.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<t;n++,i++){7==i&&(this._weeks.push([]),i=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),s=this._shouldEnableDate(t),a=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel),o=this.dateClass?this.dateClass(t):void 0;this._weeks[this._weeks.length-1].push(new z(n+1,e[n],a,s,o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.h),r.Tb(h.e,8),r.Tb(h.c,8),r.Tb(k.c,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-month-view"]],viewQuery:function(t,e){var n;1&t&&r.ad(V,!0),2&t&&r.Cc(n=r.ic())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],decls:7,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","selectedValue","labelMinRequiredCells","activeCell","selectedValueChange","keydown"],["scope","col"]],template:function(t,e){1&t&&(r.Zb(0,"table",0),r.Zb(1,"thead",1),r.Zb(2,"tr"),r.Qc(3,T,2,2,"th",2),r.Yb(),r.Zb(4,"tr"),r.Ub(5,"th",3),r.Yb(),r.Yb(),r.Zb(6,"tbody",4),r.hc("selectedValueChange",(function(t){return e._dateSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),r.Yb(),r.Yb()),2&t&&(r.Eb(3),r.sc("ngForOf",e._weekdays),r.Eb(3),r.sc("label",e._monthLabel)("rows",e._weeks)("todayValue",e._todayDate)("selectedValue",e._selectedDate)("labelMinRequiredCells",3)("activeCell",e._dateAdapter.getDate(e.activeDate)-1))},directives:[o.s,V],encapsulation:2,changeDetection:0}),t})(),Q=(()=>{class t{constructor(t,e,n){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this._rerenderSubscription=p.a.EMPTY,this.selectedChange=new r.o,this.yearSelected=new r.o,this.activeDateChange=new r.o,!this._dateAdapter)throw U("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),$(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(_.a)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const t=this._dateAdapter.getYear(this._activeDate)-W(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let e=0,n=[];e<24;e++)n.push(t+e),4==n.length&&(this._years.push(n.map(t=>this._createCellForYear(t))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case g.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case g.o:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case g.s:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case g.e:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case g.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-W(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case g.f:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-W(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case g.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case g.m:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case g.g:case g.q:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return W(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new z(t,e,e,this._shouldEnableYear(t))}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.h),r.Tb(h.c,8),r.Tb(k.c,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(t,e){var n;1&t&&r.ad(V,!0),2&t&&r.Cc(n=r.ic())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:6,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","selectedValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(r.Zb(0,"table",0),r.Zb(1,"thead",1),r.Zb(2,"tr"),r.Ub(3,"th",2),r.Yb(),r.Yb(),r.Zb(4,"tbody",3),r.hc("selectedValueChange",(function(t){return e._yearSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),r.Yb(),r.Yb()),2&t&&(r.Eb(4),r.sc("rows",e._years)("todayValue",e._todayYear)("selectedValue",e._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._getActiveCell()))},directives:[V],encapsulation:2,changeDetection:0}),t})();function $(t,e,n,i,s){const a=t.getYear(e),o=t.getYear(n),r=G(t,i,s);return Math.floor((a-r)/24)===Math.floor((o-r)/24)}function W(t,e,n,i){return((t.getYear(e)-G(t,n,i))%24+24)%24}function G(t,e,n){let i=0;return n?i=t.getYear(n)-24+1:e&&(i=t.getYear(e)),i}let q=(()=>{class t{constructor(t,e,n,i){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=p.a.EMPTY,this.selectedChange=new r.o,this.monthSelected=new r.o,this.activeDateChange=new r.o,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(_.a)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);const n=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case g.k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case g.o:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case g.s:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case g.e:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case g.j:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case g.f:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case g.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case g.m:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case g.g:case g.q:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new z(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>i}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<i}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.h),r.Tb(h.e,8),r.Tb(h.c,8),r.Tb(k.c,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-year-view"]],viewQuery:function(t,e){var n;1&t&&r.ad(V,!0),2&t&&r.Cc(n=r.ic())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:8,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","selectedValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(r.Zb(0,"table",0),r.Zb(1,"thead",1),r.Zb(2,"tr"),r.Ub(3,"th",2),r.Yb(),r.Yb(),r.Zb(4,"tbody",3),r.hc("selectedValueChange",(function(t){return e._monthSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),r.Yb(),r.Yb()),2&t&&(r.Eb(4),r.sc("label",e._yearLabel)("rows",e._months)("todayValue",e._todayMonth)("selectedValue",e._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._dateAdapter.getMonth(e.activeDate)))},directives:[V],encapsulation:2,changeDetection:0}),t})(),X=(()=>{class t{constructor(t,e,n,i,s){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=i,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate)-W(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),e=t+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return this._intl.formatYearRange(n,i)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):$(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(B),r.Tb(Object(r.W)(()=>J)),r.Tb(h.c,8),r.Tb(h.e,8),r.Tb(r.h))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:A,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,e){1&t&&(r.rc(),r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"button",2),r.hc("click",(function(){return e.currentPeriodClicked()})),r.Sc(3),r.Ub(4,"div",3),r.Yb(),r.Ub(5,"div",4),r.qc(6),r.Zb(7,"button",5),r.hc("click",(function(){return e.previousClicked()})),r.Yb(),r.Zb(8,"button",6),r.hc("click",(function(){return e.nextClicked()})),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Eb(2),r.Fb("aria-label",e.periodButtonLabel),r.Eb(1),r.Uc(" ",e.periodButtonText," "),r.Eb(1),r.Jb("mat-calendar-invert","month"!=e.calendar.currentView),r.Eb(3),r.sc("disabled",!e.previousEnabled()),r.Fb("aria-label",e.prevButtonLabel),r.Eb(1),r.sc("disabled",!e.nextEnabled()),r.Fb("aria-label",e.nextButtonLabel))},directives:[c.b,i.d],encapsulation:2,changeDetection:0}),t})(),J=(()=>{class t{constructor(t,e,n,i){if(this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=i,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new r.o,this.yearSelected=new r.o,this.monthSelected=new r.o,this._userSelection=new r.o,this.stateChanges=new u.a,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{i.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new a.d(this.headerComponent||X),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){const t=this.currentView;let e;e="month"===t?this.monthView:"year"===t?this.yearView:this.multiYearView,e._init()}_dateSelected(t){t&&!this._dateAdapter.sameDate(t,this.selected)&&this.selectedChange.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_userSelected(){this._userSelection.emit()}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(B),r.Tb(h.c,8),r.Tb(h.e,8),r.Tb(r.h))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-calendar"]],viewQuery:function(t,e){var n;1&t&&(r.ad(H,!0),r.ad(q,!0),r.ad(Q,!0)),2&t&&(r.Cc(n=r.ic())&&(e.monthView=n.first),r.Cc(n=r.ic())&&(e.yearView=n.first),r.Cc(n=r.ic())&&(e.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[r.Cb],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange"]],template:function(t,e){1&t&&(r.Qc(0,D,0,0,"ng-template",0),r.Zb(1,"div",1),r.Qc(2,R,1,6,"mat-month-view",2),r.Qc(3,L,1,5,"mat-year-view",3),r.Qc(4,F,1,5,"mat-multi-year-view",4),r.Yb()),2&t&&(r.sc("cdkPortalOutlet",e._calendarHeaderPortal),r.Eb(1),r.sc("ngSwitch",e.currentView),r.Eb(1),r.sc("ngSwitchCase","month"),r.Eb(1),r.sc("ngSwitchCase","year"),r.Eb(1),r.sc("ngSwitchCase","multi-year"))},directives:[a.c,i.e,o.x,o.y,H,q,Q],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),t})();const K={transformPanel:Object(x.n)("transformPanel",[Object(x.k)("void",Object(x.l)({opacity:0,transform:"scale(1, 0.8)"})),Object(x.m)("void => enter",Object(x.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(x.l)({opacity:1,transform:"scale(1, 1)"}))),Object(x.m)("* => void",Object(x.e)("100ms linear",Object(x.l)({opacity:0})))]),fadeInCalendar:Object(x.n)("fadeInCalendar",[Object(x.k)("void",Object(x.l)({opacity:0})),Object(x.k)("enter",Object(x.l)({opacity:1})),Object(x.m)("void => *",Object(x.e)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let tt=0;const et=new r.r("mat-datepicker-scroll-strategy"),nt={provide:et,deps:[s.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class it{constructor(t){this._elementRef=t}}const st=Object(h.z)(it);let at=(()=>{class t extends st{constructor(t,e){super(t),this._changeDetectorRef=e,this._animationState="enter",this._animationDone=new u.a}ngAfterViewInit(){this._calendar.focusActiveCell()}ngOnDestroy(){this._animationDone.complete()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(t,e){var n;1&t&&r.ad(J,!0),2&t&&r.Cc(n=r.ic())&&(e._calendar=n.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,e){1&t&&r.Kb("@transformPanel.done",(function(){return e._animationDone.next()})),2&t&&(r.Zc("@transformPanel",e._animationState),r.Jb("mat-datepicker-content-touch",e.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[r.Bb],decls:1,vars:11,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","selectedChange","yearSelected","monthSelected","_userSelection"]],template:function(t,e){1&t&&(r.Zb(0,"mat-calendar",0),r.hc("selectedChange",(function(t){return e.datepicker.select(t)}))("yearSelected",(function(t){return e.datepicker._selectYear(t)}))("monthSelected",(function(t){return e.datepicker._selectMonth(t)}))("_userSelection",(function(){return e.datepicker.close()})),r.Yb()),2&t&&r.sc("id",e.datepicker.id)("ngClass",e.datepicker.panelClass)("startAt",e.datepicker.startAt)("startView",e.datepicker.startView)("minDate",e.datepicker._minDate)("maxDate",e.datepicker._maxDate)("dateFilter",e.datepicker._dateFilter)("headerComponent",e.datepicker.calendarHeaderComponent)("selected",e.datepicker._selected)("dateClass",e.datepicker.dateClass)("@fadeInCalendar","enter")},directives:[J,i.f,o.q],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[K.transformPanel,K.fadeInCalendar]},changeDetection:0}),t})(),ot=(()=>{class t{constructor(t,e,n,i,s,a,o,c){if(this._dialog=t,this._overlay=e,this._ngZone=n,this._viewContainerRef=i,this._dateAdapter=a,this._dir=o,this._document=c,this.startView="month",this._touchUi=!1,this.yearSelected=new r.o,this.monthSelected=new r.o,this.openedStream=new r.o,this.closedStream=new r.o,this._opened=!1,this.id="mat-datepicker-"+tt++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=p.a.EMPTY,this._disabledChange=new u.a,this._selectedChanged=new u.a,!this._dateAdapter)throw U("DateAdapter");this._scrollStrategy=s}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(y.c)(t)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(y.c)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput._dateFilter}ngOnDestroy(){this._destroyPopup(),this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete()}select(t){let e=this._selected;this._selected=t,this._dateAdapter.sameDate(e,this._selected)||this._selectedChanged.next(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_registerInput(t){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=t,this._inputSubscription=this._datepickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;if(this._popupComponentRef&&this._popupRef){const t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(Object(b.a)(1)).subscribe(()=>this._destroyPopup())}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(at,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.datepicker=this,this._dialogRef.componentInstance.color=this.color}_openAsPopup(){const t=new a.d(at,this._viewContainerRef);this._destroyPopup(),this._createPopup();const e=this._popupComponentRef=this._popupRef.attach(t);e.instance.datepicker=this,e.instance.color=this.color,this._ngZone.onStable.asObservable().pipe(Object(b.a)(1)).subscribe(()=>{this._popupRef.updatePosition()})}_createPopup(){const t=new s.d({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(f.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(v.a)(t=>t.keyCode===g.h||this._datepickerInput&&t.altKey&&t.keyCode===g.s))).subscribe(t=>{t&&t.preventDefault(),this.close()})}_destroyPopup(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(l.b),r.Tb(s.c),r.Tb(r.B),r.Tb(r.R),r.Tb(et),r.Tb(h.c,8),r.Tb(k.c,8),r.Tb(o.e,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-datepicker"]],inputs:{startView:"startView",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",panelClass:"panelClass",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},exportAs:["matDatepicker"],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();const rt={provide:w.r,useExisting:Object(r.W)(()=>dt),multi:!0},ct={provide:w.q,useExisting:Object(r.W)(()=>dt),multi:!0};class lt{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let dt=(()=>{class t{constructor(t,e,n,i){if(this._elementRef=t,this._dateAdapter=e,this._dateFormats=n,this._formField=i,this.dateChange=new r.o,this.dateInput=new r.o,this._valueChange=new r.o,this._disabledChange=new r.o,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._datepickerSubscription=p.a.EMPTY,this._localeSubscription=p.a.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!this.min||!e||this._dateAdapter.compareDate(this.min,e)<=0?null:{matDatepickerMin:{min:this.min,actual:e}}},this._maxValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!this.max||!e||this._dateAdapter.compareDate(this.max,e)>=0?null:{matDatepickerMax:{max:this.max,actual:e}}},this._filterValidator=t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return this._dateFilter&&e&&!this._dateFilter(e)?{matDatepickerFilter:!0}:null},this._validator=w.H.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._localeSubscription=e.localeChanges.subscribe(()=>{this.value=this.value})}set matDatepicker(t){t&&(this._datepicker=t,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.dateInput.emit(new lt(this,this._elementRef.nativeElement)),this.dateChange.emit(new lt(this,this._elementRef.nativeElement))}))}set matDatepickerFilter(t){this._dateFilter=t,this._validatorOnChange()}get value(){return this._value}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t);const e=this.value;this._value=t,this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)}get min(){return this._min}set min(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get max(){return this._max}set max(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(t){const e=Object(y.c)(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&this._isInitialized&&n.blur&&n.blur()}ngAfterViewInit(){this._isInitialized=!0}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){this._datepicker&&t.altKey&&t.keyCode===g.e&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),t.preventDefault())}_onInput(t){const e=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=!n||this._dateAdapter.isValid(n),n=this._getValidDateOrNull(n),this._dateAdapter.sameDate(n,this._value)?e!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new lt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new lt(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(h.c,8),r.Tb(h.e,8),r.Tb(C.a,8))},t.\u0275dir=r.Ob({type:t,selectors:[["input","matDatepicker",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.hc("input",(function(t){return e._onInput(t.target.value)}))("change",(function(){return e._onChange()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)})),2&t&&(r.cc("disabled",e.disabled),r.Fb("aria-haspopup",e._datepicker?"dialog":null)("aria-owns",(null==e._datepicker?null:e._datepicker.opened)&&e._datepicker.id||null)("min",e.min?e._dateAdapter.toIso8601(e.min):null)("max",e.max?e._dateAdapter.toIso8601(e.max):null))},inputs:{value:"value",matDatepicker:"matDatepicker",matDatepickerFilter:"matDatepickerFilter",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["matDatepickerInput"],features:[r.Db([rt,ct,{provide:O.a,useExisting:t}])]}),t})(),ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","matDatepickerToggleIcon",""]]}),t})(),ut=(()=>{class t{constructor(t,e,n){this._intl=t,this._changeDetectorRef=e,this._stateChanges=p.a.EMPTY;const i=Number(n);this.tabIndex=i||0===i?i:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=Object(y.c)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker._disabledChange:Object(m.a)(),e=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(m.a)(),n=this.datepicker?Object(f.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(m.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(f.a)(this._intl.changes,t,e,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(B),r.Tb(r.h),r.ec("tabindex"))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,e,n){var i;1&t&&r.Lb(n,ht,!0),2&t&&r.Cc(i=r.ic())&&(e._customIcon=i.first)},viewQuery:function(t,e){var n;1&t&&r.ad(j,!0),2&t&&r.Cc(n=r.ic())&&(e._button=n.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&r.hc("focus",(function(){return e._button.focus()})),2&t&&(r.Fb("tabindex",e.disabled?null:-1),r.Jb("mat-datepicker-toggle-active",e.datepicker&&e.datepicker.opened)("mat-accent",e.datepicker&&"accent"===e.datepicker.color)("mat-warn",e.datepicker&&"warn"===e.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[r.Cb],ngContentSelectors:N,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,e){1&t&&(r.rc(Z),r.Zb(0,"button",0,1),r.hc("click",(function(t){return e._open(t)})),r.Qc(2,Y,2,0,"svg",2),r.qc(3),r.Yb()),2&t&&(r.sc("disabled",e.disabled)("disableRipple",e.disableRipple),r.Fb("aria-haspopup",e.datepicker?"dialog":null)("aria-label",e._intl.openCalendarLabel)("tabindex",e.disabled?-1:e.tabIndex),r.Eb(2),r.sc("ngIf",!e._customIcon))},directives:[c.b,o.t],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),pt=(()=>{class t{}return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},providers:[B,nt],imports:[[o.c,c.c,l.g,s.f,i.a,a.i],d.c]}),t})()},ihCf:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return g}));var i=n("nLfN"),s=n("fXoL"),a=n("8LU1"),o=n("EY2u"),r=n("XNiG"),c=n("xgIS"),l=n("3UWI"),d=n("1G5W"),h=n("ofXK");const u=Object(i.f)({passive:!0});let p=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return o.a;const e=Object(a.e)(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new r.a,s="cdk-text-field-autofilled",c=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(s)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(s)&&(e.classList.remove(s),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(s),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",c,u),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",c,u)}}),i.asObservable()}stopMonitoring(t){const e=Object(a.e)(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.a),s.dc(s.B))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(i.a),Object(s.dc)(s.B))},token:t,providedIn:"root"}),t})(),f=(()=>{class t{constructor(t,e){this._elementRef=t,this._autofillMonitor=e,this.cdkAutofill=new s.o}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(t=>this.cdkAutofill.emit(t))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(p))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),t})(),m=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new r.a,this._enabled=!0,this._previousMinRows=-1,this._document=i,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=e.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}get minRows(){return this._minRows}set minRows(t){this._minRows=Object(a.f)(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=Object(a.f)(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=Object(a.c)(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();Object(c.a)(t,"resize").pipe(Object(l.a)(16),Object(d.a)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const i=e.placeholder;e.classList.add(this._measuringClass),e.placeholder="",e.style.height=e.scrollHeight-4+"px",e.classList.remove(this._measuringClass),e.placeholder=i,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(i.a),s.Tb(s.B),s.Tb(h.e,8))},t.\u0275dir=s.Ob({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&s.hc("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t})(),g=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[i.b]]}),t})()},itXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("z+Ro"),s=n("DH7j"),a=n("7o/Q");class o extends a.a{notifyNext(t,e,n,i,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class r extends a.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var c=n("SeVD"),l=n("HDdC");function d(t,e,n,i,s=new r(t,n,i)){if(!s.closed)return e instanceof l.a?e.subscribe(s):Object(c.a)(e)(s)}var h=n("yCtX");const u={};function p(...t){let e=void 0,n=void 0;return Object(i.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(s.a)(t[0])&&(t=t[0]),Object(h.a)(t,n).lift(new f(e))}class f{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new m(t,this.resultSelector))}}class m extends o{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(d(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,s=this.toRespond?i[n]===u?--this.toRespond:this.toRespond:0;i[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC"),s=n("quSY");function a(t,e){return new i.a(n=>{const i=new s.a;let a=0;return i.add(e.schedule((function(){a!==t.length?(n.next(t[a++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}},jaxi:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return y}));var i=n("8LU1"),s=n("0EQZ"),a=n("fXoL"),o=n("3Pt+"),r=n("FKr1"),c=n("u47x");const l=["button"],d=["*"],h=new a.r("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),u={provide:o.r,useExisting:Object(a.W)(()=>g),multi:!0};class p{}let f=0;class m{constructor(t,e){this.source=t,this.value=e}}let g=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+f++,this.valueChange=new a.o,this.change=new a.o,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(i.c)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(i.c)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(i.c)(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new s.c(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new m(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach(t=>this._selectValue(t))}else this._clearSelection(),this._selectValue(t)}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.h),a.Tb(h,8))},t.\u0275dir=a.Ob({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){var i;1&t&&a.Lb(n,v,!0),2&t&&a.Cc(i=a.ic())&&(e._buttonToggles=i)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(a.Fb("aria-disabled",e.disabled),a.Jb("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[a.Db([u,{provide:p,useExisting:t}])]}),t})();class b{}const _=Object(r.A)(b);let v=(()=>{class t extends _{constructor(t,e,n,i,s,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new a.o;const r=Number(s);this.tabIndex=r||0===r?r:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return this.id+"-button"}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=Object(i.c)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Object(i.c)(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||"mat-button-toggle-"+f++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked)),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new m(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(g,8),a.Tb(a.h),a.Tb(a.l),a.Tb(c.h),a.ec("tabindex"),a.Tb(h,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){var n;1&t&&a.ad(l,!0),2&t&&a.Cc(n=a.ic())&&(e._buttonElement=n.first)},hostAttrs:[1,"mat-button-toggle"],hostVars:11,hostBindings:function(t,e){1&t&&a.hc("focus",(function(){return e.focus()})),2&t&&(a.Fb("tabindex",-1)("id",e.id)("name",null),a.Jb("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[a.Bb],ngContentSelectors:d,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(a.rc(),a.Zb(0,"button",0,1),a.hc("click",(function(){return e._onButtonClick()})),a.Zb(2,"div",2),a.qc(3),a.Yb(),a.Yb(),a.Ub(4,"div",3),a.Ub(5,"div",4)),2&t){const t=a.Dc(1);a.sc("id",e.buttonId)("disabled",e.disabled||null),a.Fb("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),a.Eb(5),a.sc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[r.t],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),y=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[r.j,r.u],r.j]}),t})()},jbvq:function(t,e,n){"use strict";n.d(e,"a",(function(){return ut}));var i=n("mrSG"),s=n("5+WD"),a=n("lJxs"),o=n("vkgz"),r=n("JX91"),c=n("JIr8"),l=n("pLZG"),d=n("nYR2"),h=n("XqQ8"),u=n("3Pt+"),p=n("aEDk"),f=n("LRne"),m=n("0IaG"),g=n("fXoL"),b=n("sYmb"),_=n("tk/3"),v=n("AXEc"),y=n("kmnG"),x=n("qFsG"),w=n("bTqV");let C=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.data=n,this.dialogRef=i,this.notify=s,this.loading=!1,this.template={id:0,type:"visaCircuit",title:"",items:[]}}ngOnInit(){this.template.items=this.data.visaWorkflow.map(t=>({id:t.item_id,type:"user",mode:t.requested_signature?"sign":"visa"}))}onSubmit(){this.http.post("../rest/listTemplates",this.template).pipe(Object(o.a)(t=>{this.template.id=t.id,this.notify.success(this.translate.instant("lang.modelSaved")),this.dialogRef.close(this.template)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(g.Tb(b.e),g.Tb(_.b),g.Tb(m.a),g.Tb(m.h),g.Tb(v.a))},t.\u0275cmp=g.Nb({type:t,selectors:[["ng-component"]],decls:14,vars:9,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[1,"modal-container"],["appearance","outline"],["type","text","matInput","","placeholder","Nom du mod\xe8le",3,"ngModel","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"h1",1),g.Sc(2,"Ajouter un mod\xe8le"),g.Yb(),g.Zb(3,"mat-dialog-content",2),g.Zb(4,"mat-form-field",3),g.Zb(5,"input",4),g.hc("ngModelChange",(function(t){return e.template.title=t})),g.Yb(),g.Yb(),g.Yb(),g.Ub(6,"span",5),g.Zb(7,"div",6),g.Zb(8,"button",7),g.hc("click",(function(){return e.onSubmit()})),g.Sc(9),g.mc(10,"translate"),g.Yb(),g.Zb(11,"button",8),g.Sc(12),g.mc(13,"translate"),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(5),g.sc("ngModel",e.template.title),g.Eb(3),g.sc("disabled",e.loading),g.Eb(1),g.Tc(g.nc(10,5,"lang.validate")),g.Eb(2),g.sc("disabled",e.loading),g.Eb(1),g.Tc(g.nc(13,7,"lang.cancel")))},directives:[m.i,m.f,y.c,x.b,u.c,u.t,u.w,m.c,w.b,m.d],pipes:[b.d],styles:[".avatarAccount[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}"]}),t})();var O=n("2c88"),k=n("rH+9"),S=n("tyNb"),E=n("ofXK"),M=n("MutI"),I=n("/1cH"),P=n("FKr1"),T=n("Xa2L"),A=n("NFeN"),D=n("63qU"),R=n("Qu3c"),L=n("1YbM"),F=n("8IW6"),j=n("ZI/H");const Y=["searchVisaSignUserInput"];function Z(t,e){1&t&&(g.Zb(0,"mat-option",16),g.Zb(1,"div",17),g.Ub(2,"mat-spinner",18),g.Yb(),g.Yb())}function N(t,e){if(1&t&&(g.Zb(0,"mat-option",21),g.Sc(1),g.Yb()),2&t){const t=e.$implicit;g.sc("value",t),g.Eb(1),g.Uc(" ",t.label," ")}}function U(t,e){if(1&t&&(g.Zb(0,"mat-optgroup",19),g.Qc(1,N,2,2,"mat-option",20),g.mc(2,"sortBy"),g.mc(3,"async"),g.Yb()),2&t){const t=g.lc(3);g.sc("label",t.translate.instant("lang.publicModel")),g.Eb(1),g.sc("ngForOf",g.oc(2,2,g.nc(3,5,t.filteredPublicModels),"label"))}}function B(t,e){if(1&t){const t=g.ac();g.Zb(0,"mat-option",21),g.Zb(1,"div",22),g.Zb(2,"div",23),g.Sc(3),g.Yb(),g.Zb(4,"button",24),g.hc("click",(function(n){g.Hc(t);const i=e.$implicit,s=g.lc(4);return n.stopPropagation(),s.deletePrivateModel(i)})),g.Ub(5,"mat-icon",25),g.Yb(),g.Yb(),g.Yb()}if(2&t){const t=e.$implicit;g.sc("value",t),g.Eb(3),g.Uc(" ",t.label," ")}}function z(t,e){if(1&t&&(g.Zb(0,"mat-optgroup",19),g.Qc(1,B,6,2,"mat-option",20),g.mc(2,"sortBy"),g.mc(3,"async"),g.Yb()),2&t){const t=g.lc(3);g.sc("label",t.translate.instant("lang.privateModel")),g.Eb(1),g.sc("ngForOf",g.oc(2,2,g.nc(3,5,t.filteredPrivateModels),"label"))}}function V(t,e){if(1&t&&(g.Zb(0,"mat-option",21),g.Sc(1),g.Zb(2,"small"),g.Sc(3),g.Yb(),g.Yb()),2&t){const t=e.$implicit;g.sc("value",t),g.Eb(1),g.Uc(" ",t.label,"\xa0"),g.Eb(2),g.Uc("(",t.entity,")")}}function H(t,e){if(1&t&&(g.Zb(0,"mat-optgroup",19),g.Qc(1,V,4,3,"mat-option",20),g.mc(2,"sortBy"),g.mc(3,"async"),g.Yb()),2&t){const t=g.lc(3);g.sc("label",t.translate.instant("lang.visaUser")+" / "+t.translate.instant("lang.signUser")),g.Eb(1),g.sc("ngForOf",g.oc(2,2,g.nc(3,5,t.filteredSignVisaUsers),"label"))}}function Q(t,e){if(1&t){const t=g.ac();g.Zb(0,"button",26),g.hc("click",(function(e){g.Hc(t);const n=g.lc(3);return e.stopPropagation(),n.openPromptSaveModel()})),g.mc(1,"translate"),g.Ub(2,"mat-icon",27),g.Yb()}2&t&&g.tc("title",g.nc(1,1,"lang.saveAsPrivateModel"))}function $(t,e){if(1&t){const t=g.ac();g.Zb(0,"mat-form-field",8),g.Ub(1,"input",9,10),g.mc(3,"translate"),g.Zb(4,"mat-autocomplete",11,12),g.hc("optionSelected",(function(e){return g.Hc(t),g.lc(2).addItemToWorkflow(e.option.value)}))("opened",(function(){return g.Hc(t),g.lc(2).initFilterVisaModelList()})),g.Qc(6,Z,3,0,"mat-option",13),g.Qc(7,U,4,7,"mat-optgroup",14),g.mc(8,"async"),g.Qc(9,z,4,7,"mat-optgroup",14),g.mc(10,"async"),g.Qc(11,H,4,7,"mat-optgroup",14),g.mc(12,"async"),g.Yb(),g.Qc(13,Q,3,3,"button",15),g.Yb()}if(2&t){const t=g.Dc(5),e=g.lc(2);var n;const a=(null==(n=g.nc(8,10,e.filteredPublicModels))?null:n.length)>0;var i;const o=(null==(i=g.nc(10,12,e.filteredPrivateModels))?null:i.length)>0;var s;const r=(null==(s=g.nc(12,14,e.filteredSignVisaUsers))?null:s.length)>0;g.Eb(1),g.tc("placeholder",g.nc(3,8,"lang.addUsers")),g.sc("formControl",e.searchVisaSignUser)("matAutocomplete",t),g.Eb(5),g.sc("ngIf",e.visaModelListNotLoaded),g.Eb(1),g.sc("ngIf",a),g.Eb(2),g.sc("ngIf",o),g.Eb(2),g.sc("ngIf",r),g.Eb(2),g.sc("ngIf",e.visaWorkflow.items.length>0&&e.showListModels)}}const W=function(){return["/rest/autocomplete/maarchParapheurUsers"]};function G(t,e){if(1&t){const t=g.ac();g.Zb(0,"plugin-autocomplete",28),g.hc("triggerEvent",(function(e){return g.Hc(t),g.lc(2).addItemToWorkflow(e,!0)})),g.Yb()}if(2&t){const t=g.lc(2);g.sc("labelPlaceholder",t.translate.instant("lang.addPerson"))("routeDatas",g.yc(4,W))("targetSearchKey","idToDisplay")("subInfoKey","email")}}function q(t,e){1&t&&(g.Zb(0,"div",29),g.Sc(1),g.mc(2,"translate"),g.Yb()),2&t&&(g.Eb(1),g.Uc(" ",g.nc(2,1,"lang.noPerson")," "))}function X(t,e){1&t&&g.Ub(0,"mat-icon",43)}function J(t,e){if(1&t&&g.Ub(0,"i",44),2&t){const t=g.lc().$implicit;g.sc("matTooltip",t.process_comment)}}const K=function(t,e){return[t,e]};function tt(t,e){if(1&t&&(g.Xb(0),g.Ub(1,"mat-icon",45),g.Wb()),2&t){const t=g.lc().$implicit,e=g.lc(2);g.Eb(1),g.Jb("fa-hourglass",null==t.process_date)("fa-thumbs-up",null!=t.process_date&&-1===g.Ac(13,K,e.translate.instant("lang.visaWorkflowInterrupted"),e.translate.instant("lang.hasInterruptedWorkflow")).indexOf(t.process_comment))("fa-hand-paper",null!=t.process_date&&t.process_comment===e.translate.instant("lang.hasInterruptedWorkflow"))("fa-times",null!=t.process_date&&t.process_comment===e.translate.instant("lang.visaWorkflowInterrupted"))("valid",null!=t.process_date&&-1===g.Ac(16,K,e.translate.instant("lang.visaWorkflowInterrupted"),e.translate.instant("lang.hasInterruptedWorkflow")).indexOf(t.process_comment))("invalid",null!=t.process_date&&g.Ac(19,K,e.translate.instant("lang.visaWorkflowInterrupted"),e.translate.instant("lang.hasInterruptedWorkflow")).indexOf(t.process_comment)>-1),g.sc("title",null!==t.process_comment?t.process_comment:"")}}function et(t,e){if(1&t){const t=g.ac();g.Zb(0,"div",37),g.Zb(1,"mat-form-field"),g.Zb(2,"input",46),g.hc("ngModelChange",(function(e){return g.Hc(t),g.lc().$implicit.process_comment=e})),g.Yb(),g.Yb(),g.Yb()}if(2&t){const t=g.lc(),e=t.$implicit,n=t.index,i=g.lc(2);g.Eb(2),g.sc("disabled",!i.adminMode||null!=e.process_date||"signatureBook"===i.target&&i.getCurrentVisaUserIndex()===n)("placeholder",i.translate.instant("lang.visaNote"))("ngModel",e.process_comment)}}function nt(t,e){if(1&t&&(g.Zb(0,"div",47),g.mc(1,"fullDate"),g.Sc(2),g.mc(3,"timeAgo"),g.Yb()),2&t){const t=g.lc().$implicit,e=g.lc(2);g.tc("title",g.nc(1,3,t.process_date)),g.Eb(2),g.Vc("",e.translate.instant(t.requested_signature?"lang.signedUserDate":"lang.approvedUserDate")," ",g.oc(3,5,t.process_date,"full"),"")}}function it(t,e){if(1&t&&(g.Zb(0,"div",48),g.mc(1,"fullDate"),g.Sc(2),g.mc(3,"translate"),g.mc(4,"timeAgo"),g.Yb()),2&t){const t=g.lc().$implicit;g.tc("title",g.nc(1,3,t.process_date)),g.Eb(2),g.Vc("",g.nc(3,5,"lang.interrupted")," ",g.oc(4,7,t.process_date,"full"),"")}}function st(t,e){if(1&t){const t=g.ac();g.Zb(0,"div"),g.Zb(1,"button",49),g.hc("click",(function(){g.Hc(t);const e=g.lc().index;return g.lc(2).changeRole(e)})),g.mc(2,"translate"),g.Sc(3),g.Yb(),g.Yb()}if(2&t){const t=g.lc(),e=t.$implicit,n=t.index,i=g.lc(2);g.Eb(1),g.tc("title",g.nc(2,4,"lang."+e.currentRole+"User")),g.sc("color",e.requested_signature?"primary":"")("disabled",!i.canManageUser(e,n)),g.Eb(2),g.Tc(i.translate.instant(e.requested_signature?"lang.signUser":"lang.visaUser"))}}function at(t,e){1&t&&(g.Zb(0,"div",50),g.Sc(1),g.mc(2,"translate"),g.Yb()),2&t&&(g.Eb(1),g.Uc(" ",g.nc(2,1,"lang.noPrivileges")," "))}function ot(t,e){if(1&t){const t=g.ac();g.Zb(0,"button",51),g.hc("click",(function(){g.Hc(t);const e=g.lc().index;return g.lc(2).deleteItem(e)})),g.Ub(1,"mat-icon",52),g.Yb()}}const rt=function(t,e){return{"fa fa-user fa-2x":t,avatar:e}},ct=function(){return["A termin\xe9 le circuit"]};function lt(t,e){if(1&t&&(g.Zb(0,"mat-list-item",30),g.Qc(1,X,1,0,"mat-icon",31),g.Zb(2,"mat-icon",32),g.Qc(3,J,1,1,"i",33),g.Yb(),g.Qc(4,tt,2,22,"ng-container",0),g.Zb(5,"div",34),g.Zb(6,"div",35),g.Zb(7,"div",36),g.Sc(8),g.Yb(),g.Zb(9,"div",37),g.Sc(10),g.Yb(),g.Qc(11,et,3,3,"div",38),g.Qc(12,nt,4,8,"div",39),g.Qc(13,it,5,10,"div",40),g.Yb(),g.Qc(14,st,4,6,"div",0),g.Qc(15,at,3,3,"div",41),g.Yb(),g.Qc(16,ot,2,0,"button",42),g.Yb()),2&t){const t=e.$implicit,n=e.index,i=g.lc(2);g.Jb("notDraggable",!i.canManageUser(t,n))("notEditable",!i.adminMode)("processed",null!=t.process_date&&-1===g.Ac(29,K,i.translate.instant("lang.visaWorkflowInterrupted"),i.translate.instant("lang.hasInterruptedWorkflow")).indexOf(t.process_comment))("interrupt",null!=t.process_date&&g.Ac(32,K,i.translate.instant("lang.visaWorkflowInterrupted"),i.translate.instant("lang.hasInterruptedWorkflow")).indexOf(t.process_comment)>-1),g.sc("cdkDragDisabled",!i.canManageUser(t,n)),g.Eb(1),g.sc("ngIf",i.getCurrentVisaUserIndex()===n&&(!i.adminMode||"signatureBook"===i.target)),g.Eb(1),g.Pc("background-image",i.functions.empty(t.picture)?"":"url("+t.picture+")",g.Mb),g.Jb("invalid",!t.hasPrivilege),g.sc("ngClass",g.Ac(35,rt,i.functions.empty(t.picture),!i.functions.empty(t.picture))),g.Eb(1),g.sc("ngIf",!i.functions.empty(t.process_comment)),g.Eb(1),g.sc("ngIf",!i.adminMode||null!=t.process_date),g.Eb(3),g.Jb("unauthorized",!t.hasPrivilege),g.Eb(1),g.Uc(" ",t.labelToDisplay," "),g.Eb(1),g.Jb("unauthorized",!t.hasPrivilege),g.Eb(1),g.Uc(" ",t.item_entity," "),g.Eb(1),g.sc("ngIf",i.showComment&&(!i.linkedToMaarchParapheur&&i.adminMode&&i.functions.empty(t.process_date)||!i.linkedToMaarchParapheur&&i.getCurrentVisaUserIndex()===n&&!i.functions.empty(t.process_comment))&&t.hasPrivilege),g.Eb(1),g.sc("ngIf",null!=t.process_date&&-1===g.Ac(38,K,i.translate.instant("lang.visaWorkflowInterrupted"),i.translate.instant("lang.hasInterruptedWorkflow")).indexOf(t.process_comment)),g.Eb(1),g.sc("ngIf",null!=t.process_date&&g.yc(41,ct).indexOf(t.process_comment)>-1),g.Eb(1),g.sc("ngIf",t.hasPrivilege),g.Eb(1),g.sc("ngIf",!t.hasPrivilege),g.Eb(1),g.sc("ngIf",i.canManageUser(t,n))}}function dt(t,e){if(1&t){const t=g.ac();g.Zb(0,"mat-list"),g.Qc(1,$,14,16,"mat-form-field",2),g.Qc(2,G,1,5,"plugin-autocomplete",3),g.Zb(3,"div",4,5),g.hc("cdkDropListDropped",(function(e){return g.Hc(t),g.lc().drop(e)})),g.Qc(5,q,3,3,"div",6),g.Qc(6,lt,17,42,"mat-list-item",7),g.Yb(),g.Yb()}if(2&t){const t=g.lc();g.Eb(1),g.sc("ngIf",t.adminMode&&!t.linkedToMaarchParapheur),g.Eb(1),g.sc("ngIf",t.linkedToMaarchParapheur&&t.adminMode),g.Eb(1),g.sc("cdkDropListData",t.visaWorkflow.items)("cdkDropListDisabled",!t.adminMode),g.Eb(2),g.sc("ngIf",0===t.visaWorkflow.items.length),g.Eb(1),g.sc("ngForOf",t.visaWorkflow.items)}}function ht(t,e){1&t&&(g.Zb(0,"div",53),g.Ub(1,"mat-spinner",54),g.Yb())}let ut=(()=>{class t{constructor(t,e,n,i,s,a,o,r){this.translate=t,this.http=e,this.notify=n,this.functions=i,this.latinisePipe=s,this.dialog=a,this.scanPipe=o,this.route=r,this.visaWorkflow={roles:["sign","visa"],items:[]},this.visaWorkflowClone=[],this.visaTemplates={private:[],public:[]},this.signVisaUsers=[],this.loading=!1,this.visaModelListNotLoaded=!0,this.target="",this.resId=null,this.showListModels=!0,this.showComment=!0,this.linkedToMaarchParapheur=!1,this.searchVisaSignUser=new u.h,this.loadedInConstructor=!1,this.route.params.subscribe(t=>{this.loading=!0,this.resId=t.resId,this.functions.empty(this.resId)?this.loadedInConstructor=!1:(this.loadedInConstructor=!0,this.loadWorkflow(this.resId))},t=>{this.notify.handleErrors(t)})}ngOnInit(){this.functions.empty(this.resId)||this.loadedInConstructor?this.loading=!1:this.loadWorkflow(this.resId)}drop(t){t.previousContainer===t.container&&(this.canManageUser(this.visaWorkflow.items[t.currentIndex],t.currentIndex)?Object(s.h)(t.container.data,t.previousIndex,t.currentIndex):this.notify.error(this.translate.instant("lang.moveVisaUserErr",{value1:this.visaWorkflow.items[t.previousIndex].labelToDisplay})))}loadListModel(t){this.loading=!0,this.visaWorkflow.items=[];let e=!0===this.linkedToMaarchParapheur?`../rest/listTemplates/entities/${t}?type=visaCircuit&maarchParapheur=true`:`../rest/listTemplates/entities/${t}?type=visaCircuit`;return new Promise((t,n)=>{this.http.get(e).subscribe(e=>{e.listTemplates[0]&&(this.visaWorkflow.items=e.listTemplates[0].items.map(t=>Object.assign(Object.assign({},t),{item_entity:t.descriptionToDisplay,requested_signature:"visa"!==t.item_mode}))),this.visaWorkflow.items.forEach((t,e)=>{this.functions.empty(t.externalId)||this.getMaarchParapheurUserAvatar(t.externalId.maarchParapheur,e)}),this.visaWorkflowClone=JSON.parse(JSON.stringify(this.visaWorkflow.items)),this.loading=!1,t(!0)})})}loadVisaSignUsersList(){return new Promise((t,e)=>{this.http.get("../rest/autocomplete/users/circuit").pipe(Object(a.a)(t=>t.map(t=>({id:t.id,title:`${t.idToDisplay} (${t.otherInfo})`,label:t.idToDisplay,entity:t.otherInfo,type:"user",hasPrivilege:!0}))),Object(o.a)(e=>{this.signVisaUsers=e,this.filteredSignVisaUsers=this.searchVisaSignUser.valueChanges.pipe(Object(r.a)(""),Object(a.a)(t=>this._filter(t))),t(!0)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()})}loadVisaModelList(){return Object(i.a)(this,void 0,void 0,(function*(){return null!==this.resId&&(yield this.loadDefaultModel()),new Promise((t,e)=>{this.http.get("../rest/availableCircuits?circuit=visa").pipe(Object(o.a)(e=>{this.visaTemplates.public=this.visaTemplates.public.concat(e.circuits.filter(t=>!t.private).map(t=>({id:t.id,title:t.title,label:t.title,type:"entity"}))),this.visaTemplates.private=e.circuits.filter(t=>t.private).map(t=>({id:t.id,title:t.title,label:t.title,type:"entity"})),this.filteredPublicModels=this.searchVisaSignUser.valueChanges.pipe(Object(r.a)(""),Object(a.a)(t=>this._filterPublicModel(t))),this.filteredPrivateModels=this.searchVisaSignUser.valueChanges.pipe(Object(r.a)(""),Object(a.a)(t=>this._filterPrivateModel(t))),t(!0)})).subscribe()})}))}loadDefaultModel(){return this.visaTemplates.public=[],new Promise((t,e)=>{this.http.get(`../rest/resources/${this.resId}/defaultCircuit?circuit=visa`).pipe(Object(l.a)(t=>!this.functions.empty(t.circuit)),Object(o.a)(t=>{this.functions.empty(t.circuit)||this.visaTemplates.public.push({id:t.circuit.id,title:t.circuit.title,label:t.circuit.title,type:"entity"})}),Object(d.a)(()=>t(!0)),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()})}initFilterVisaModelList(){return Object(i.a)(this,void 0,void 0,(function*(){this.linkedToMaarchParapheur||this.visaModelListNotLoaded&&(yield this.loadVisaSignUsersList(),this.showListModels&&(yield this.loadVisaModelList()),this.searchVisaSignUser.reset(),this.visaModelListNotLoaded=!1)}))}_filter(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.signVisaUsers.filter(t=>this.latinisePipe.transform(t.title.toLowerCase()).includes(e))}return this.signVisaUsers}_filterPrivateModel(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.visaTemplates.private.filter(t=>this.latinisePipe.transform(t.title.toLowerCase()).includes(e))}return this.visaTemplates.private}_filterPublicModel(t){if("string"==typeof t){const e=this.latinisePipe.transform(t.toLowerCase());return this.visaTemplates.public.filter(t=>this.latinisePipe.transform(t.title.toLowerCase()).includes(e))}return this.visaTemplates.public}loadWorkflow(t){return this.resId=t,this.loading=!0,this.visaWorkflow.items=[],new Promise((e,n)=>{this.http.get("../rest/resources/"+t+"/visaCircuit").pipe(Object(l.a)(t=>!this.functions.empty(t.circuit)),Object(o.a)(t=>{t.circuit.forEach(t=>{this.visaWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"VISA_CIRCUIT"}))}),this.visaWorkflowClone=JSON.parse(JSON.stringify(this.visaWorkflow.items))}),Object(d.a)(()=>{this.loading=!1,e(!0)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()})}loadDefaultWorkflow(t){this.loading=!0,this.visaWorkflow.items=[],this.http.get("../rest/resources/"+t+"/defaultCircuit?circuit=visaCircuit").pipe(Object(l.a)(t=>!this.functions.empty(t.circuit)),Object(o.a)(t=>{t.circuit.items.forEach(t=>{this.visaWorkflow.items.push(Object.assign(Object.assign({},t),{requested_signature:"visa"!==t.item_mode,difflist_type:"VISA_CIRCUIT"}))}),this.visaWorkflowClone=JSON.parse(JSON.stringify(this.visaWorkflow.items))}),Object(d.a)(()=>this.loading=!1),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()}loadWorkflowMaarchParapheur(t,e){this.loading=!0,this.visaWorkflow.items=[],this.http.get(`../rest/documents/${t}/maarchParapheurWorkflow?type=${e}`).subscribe(t=>{t.workflow.forEach((t,e)=>{const n={listinstance_id:e,id:t.userId,labelToDisplay:t.userDisplay,requested_signature:"visa"!==t.mode,process_date:this.functions.formatFrenchDateToTechnicalDate(t.processDate),picture:"",hasPrivilege:!0};this.visaWorkflow.items.push(n),this.http.get("../rest/maarchParapheur/user/"+t.userId+"/picture").subscribe(e=>{this.visaWorkflow.items.filter(e=>e.id===t.userId)[0].picture=e.picture},t=>{this.notify.handleErrors(t)})}),this.loading=!1},t=>{this.notify.handleErrors(t)})}deleteItem(t){this.visaWorkflow.items.splice(t,1)}getVisaCount(){return this.visaWorkflow.items.length}changeRole(t){this.visaWorkflow.items[t].requested_signature=!this.visaWorkflow.items[t].requested_signature}getWorkflow(){return this.visaWorkflow.items}getCurrentVisaUserIndex(){return void 0===this.getLastVisaUser().listinstance_id?0:this.visaWorkflow.items.map(t=>t.listinstance_id).indexOf(this.getLastVisaUser().listinstance_id)+1}getFirstVisaUser(){return this.functions.empty(this.visaWorkflow.items[0])?"":this.visaWorkflow.items[0]}getCurrentVisaUser(){const t=this.visaWorkflow.items.map(t=>t.listinstance_id).indexOf(this.getLastVisaUser().listinstance_id);return this.functions.empty(this.visaWorkflow.items[t+1])?"":this.visaWorkflow.items[t+1]}getNextVisaUser(){const t=this.visaWorkflow.items.map(t=>t.listinstance_id).indexOf(this.getLastVisaUser().listinstance_id);return this.functions.empty(this.visaWorkflow.items[t+2])?"":this.visaWorkflow.items[t+2]}getLastVisaUser(){let t=this.visaWorkflow.items.filter(t=>!this.functions.empty(t.process_date));return this.functions.empty(t[t.length-1])?"":t[t.length-1]}checkExternalSignatoryBook(){return this.visaWorkflow.items.filter(t=>this.functions.empty(t.externalId)).map(t=>t.labelToDisplay)}saveVisaWorkflow(t=[this.resId]){return new Promise((e,n)=>{if(0===this.visaWorkflow.items.length)this.http.delete(`../rest/resources/${t[0]}/circuits/visaCircuit`).pipe(Object(o.a)(()=>{this.visaWorkflowClone=JSON.parse(JSON.stringify(this.visaWorkflow.items)),this.notify.success(this.translate.instant("lang.visaWorkflowDeleted")),e(!0)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe();else if(this.isValidWorkflow()){const n=t.map(t=>({resId:t,listInstances:this.visaWorkflow.items}));this.http.put("../rest/circuits/visaCircuit",{resources:n}).pipe(Object(o.a)(t=>{this.visaWorkflowClone=JSON.parse(JSON.stringify(this.visaWorkflow.items)),this.notify.success(this.translate.instant("lang.visaWorkflowUpdated")),e(!0)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()}else this.notify.error(this.getError()),e(!1)})}addItemToWorkflow(t,e=!1){return new Promise((n,i)=>{e?(this.visaWorkflow.items.push({item_id:t.id,item_type:"user",item_entity:t.email,labelToDisplay:t.idToDisplay,externalId:t.externalId,difflist_type:"VISA_CIRCUIT",signatory:!this.functions.empty(t.signatory)&&t.signatory,requested_signature:!this.functions.empty(t.requested_signature)&&t.requested_signature,hasPrivilege:!0}),this.linkedToMaarchParapheur&&this.getMaarchParapheurUserAvatar(t.externalId.maarchParapheur,this.visaWorkflow.items.length-1),this.searchVisaSignUser.reset(),n(!0)):"user"===t.type?(this.visaWorkflow.items.push({item_id:t.id,item_type:"user",item_entity:t.entity,labelToDisplay:t.label,externalId:this.functions.empty(t.externalId)?null:t.externalId,difflist_type:"VISA_CIRCUIT",signatory:!this.functions.empty(t.signatory)&&t.signatory,requested_signature:!this.functions.empty(t.requested_signature)&&t.requested_signature,hasPrivilege:t.hasPrivilege}),this.linkedToMaarchParapheur&&this.getMaarchParapheurUserAvatar(t.externalId.maarchParapheur,this.visaWorkflow.items.length-1),this.searchVisaSignUser.reset(),this.searchVisaSignUserInput.nativeElement.blur(),n(!0)):"entity"===t.type&&this.http.get("../rest/listTemplates/"+t.id).pipe(Object(o.a)(t=>{this.visaWorkflow.items=this.visaWorkflow.items.concat(t.listTemplate.items.map(t=>({item_id:t.item_id,item_type:"user",labelToDisplay:t.idToDisplay,item_entity:t.descriptionToDisplay,difflist_type:"VISA_CIRCUIT",signatory:!1,requested_signature:"sign"===t.item_mode,hasPrivilege:t.hasPrivilege}))),this.searchVisaSignUser.reset(),this.searchVisaSignUserInput.nativeElement.blur(),n(!0)})).subscribe()})}resetWorkflow(){this.visaWorkflow.items=[]}isValidWorkflow(){return this.visaWorkflow.items.filter(t=>t.requested_signature).length>0&&0===this.visaWorkflow.items.filter(t=>!t.hasPrivilege).length&&this.visaWorkflow.items.length>0}getError(){return 0===this.visaWorkflow.items.filter(t=>t.requested_signature).length?this.translate.instant("lang.signUserRequired"):this.visaWorkflow.items.filter(t=>!t.hasPrivilege).length>0?this.translate.instant("lang.mustDeleteUsersWithNoPrivileges"):void 0}emptyWorkflow(){return 0===this.visaWorkflow.items.length}workflowEnd(){return this.visaWorkflow.items.filter(t=>!this.functions.empty(t.process_date)).length===this.visaWorkflow.items.length}openPromptSaveModel(){this.dialog.open(C,{panelClass:"maarch-modal",data:{visaWorkflow:this.visaWorkflow.items}}).afterClosed().pipe(Object(l.a)(t=>!this.functions.empty(t)),Object(o.a)(t=>{this.visaTemplates.private.push({id:t.id,title:t.title,label:t.title,type:"entity"}),this.searchVisaSignUser.reset()}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(f.a)(!1)))).subscribe()}deletePrivateModel(t){this.dialog.open(O.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(l.a)(t=>"ok"===t),Object(h.a)(()=>this.http.delete("../rest/listTemplates/"+t.id)),Object(o.a)(()=>{this.visaTemplates.private=this.visaTemplates.private.filter(e=>e.id!==t.id),this.searchVisaSignUser.reset(),this.notify.success(this.translate.instant("lang.modelDeleted"))}),Object(c.a)(t=>(this.notify.handleErrors(t),Object(f.a)(!1)))).subscribe()}getMaarchParapheurUserAvatar(t,e){this.functions.empty(t)||this.http.get("../rest/maarchParapheur/user/"+t+"/picture").subscribe(t=>{this.visaWorkflow.items[e].picture=t.picture},t=>{this.notify.handleErrors(t)})}isModified(){return!(this.loading||JSON.stringify(this.visaWorkflow.items)===JSON.stringify(this.visaWorkflowClone))}canManageUser(t,e){return!!this.adminMode&&!(!this.functions.empty(t.process_date)||"signatureBook"===this.target&&this.getCurrentVisaUserIndex()===e)}}return t.\u0275fac=function(e){return new(e||t)(g.Tb(b.e),g.Tb(_.b),g.Tb(v.a),g.Tb(k.a),g.Tb(p.c),g.Tb(m.b),g.Tb(p.o),g.Tb(S.a))},t.\u0275cmp=g.Nb({type:t,selectors:[["app-visa-workflow"]],viewQuery:function(t,e){var n;1&t&&g.ad(Y,!0),2&t&&g.Cc(n=g.ic())&&(e.searchVisaSignUserInput=n.first)},inputs:{injectDatas:"injectDatas",target:"target",adminMode:"adminMode",resId:"resId",showListModels:"showListModels",showComment:"showComment",linkedToMaarchParapheur:"linkedToMaarchParapheur"},features:[g.Db([p.o])],decls:2,vars:2,consts:[[4,"ngIf"],["style","display:flex;padding: 10px;",4,"ngIf"],["appearance","outline",4,"ngIf"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent",4,"ngIf"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["class","emptyContent",4,"ngIf"],["disableRipple","","cdkDrag","","class","columns workflow",3,"cdkDragDisabled","notDraggable","notEditable","processed","interrupt",4,"ngFor","ngForOf"],["appearance","outline"],["type","text","matInput","","id","searchVisaSignUserInput",3,"placeholder","formControl","matAutocomplete"],["searchVisaSignUserInput",""],[3,"optionSelected","opened"],["autoGroup","matAutocomplete"],["disabled","",4,"ngIf"],["class","visaSignList",3,"label",4,"ngIf"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click",4,"ngIf"],["disabled",""],[2,"display","flex","justify-content","center"],["diameter","35"],[1,"visaSignList",3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"display","flex","align-items","center"],[2,"flex","1"],["mat-icon-button","","color","warn",3,"click"],[1,"fa","fa-trash",2,"margin","0px"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click"],[1,"fa","fa-plus"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent"],[1,"emptyContent"],["disableRipple","","cdkDrag","",1,"columns","workflow",3,"cdkDragDisabled"],["class","fa fa-chevron-right fa-2x","mat-list-icon","","color","accent",4,"ngIf"],["mat-list-icon","","color","primary",2,"position","relative",3,"ngClass"],["class","far fa-comment-dots commentBubble",3,"matTooltip",4,"ngIf"],["mat-line","",1,"workflowLine"],[1,"workflowLineContainer"],[1,"workflowLineLabel"],[1,"workflowLineSubLabel"],["class","workflowLineSubLabel",4,"ngIf"],["class","workflowLineProcessDate","color","accent",3,"title",4,"ngIf"],["class","workflowLineProcessDate","color","warn",3,"title",4,"ngIf"],["class","invalid",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-list-icon","","color","accent",1,"fa","fa-chevron-right","fa-2x"],[1,"far","fa-comment-dots","commentBubble",3,"matTooltip"],["mat-list-icon","",1,"fa-2x","fa",2,"opacity","0.5",3,"title"],["matInput","",1,"comment",3,"disabled","placeholder","ngModel","ngModelChange"],["color","accent",1,"workflowLineProcessDate",3,"title"],["color","warn",1,"workflowLineProcessDate",3,"title"],["mat-raised-button","",1,"currentRoleButton",3,"color","disabled","title","click"],[1,"invalid"],["mat-icon-button","",3,"click"],["color","warn",1,"fa","fa-times"],[2,"display","flex","padding","10px"],[2,"margin","auto"]],template:function(t,e){1&t&&(g.Qc(0,dt,7,6,"mat-list",0),g.Qc(1,ht,2,0,"div",1)),2&t&&(g.sc("ngIf",!e.loading),g.Eb(1),g.sc("ngIf",e.loading))},directives:[E.t,M.a,s.e,E.s,y.c,x.b,u.c,I.d,u.t,u.i,I.a,P.o,T.c,P.n,w.b,A.a,y.j,D.a,M.d,s.a,M.c,E.q,P.k,R.b,u.w],pipes:[b.d,E.b,L.a,F.a,j.a],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.visaSignList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff!important;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.notDraggable[_ngcontent-%COMP%]{cursor:not-allowed}.notEditable[_ngcontent-%COMP%]{cursor:auto}.currentContextButton[_ngcontent-%COMP%]{width:150px;text-align:left}.currentContextButton[_ngcontent-%COMP%], .currentRoleButton[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:13px}.currentRoleButton[_ngcontent-%COMP%]{width:120px;text-align:center}.emptyContent[_ngcontent-%COMP%]{opacity:.5;text-align:center;font-size:10px;padding:10px}.processed[_ngcontent-%COMP%]{background:rgba(0,104,65,.11)!important}.interrupt[_ngcontent-%COMP%]{background:rgba(142,62,82,.11)!important}.workflow[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;height:auto!important;margin-bottom:10px;background:hsla(0,0%,84.7%,.1);border-radius:10px;font-size:13px}.workflowLine[_ngcontent-%COMP%]{display:flex!important;align-items:center}.workflowLineContainer[_ngcontent-%COMP%]{flex:1}.workflowLineContainer[_ngcontent-%COMP%], .workflowLineLabel[_ngcontent-%COMP%], .workflowLineSubLabel[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.workflowLineSubLabel[_ngcontent-%COMP%]{font-size:80%;opacity:.5;flex:1}.workflowLineProcessDate[_ngcontent-%COMP%]{flex:1;text-align:left;font-size:80%}.workflowLine[_ngcontent-%COMP%]   .mat-raised-button[disabled][_ngcontent-%COMP%]{background:none;color:#135f7f!important;opacity:1}.avatar[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}.valid[_ngcontent-%COMP%]{color:#006841}.invalid[_ngcontent-%COMP%]{color:#8e3e52}.commentBubble[_ngcontent-%COMP%]{color:#f99830;position:absolute;top:-12px;right:-11px;font-size:20px;cursor:help}.comment[_ngcontent-%COMP%]:disabled{color:#000}.unauthorized[_ngcontent-%COMP%]{color:#8e3e52;text-decoration:line-through}"]}),t})()},jhN1:function(t,e,n){"use strict";n.d(e,"a",(function(){return Z})),n.d(e,"b",(function(){return D})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return j})),n.d(e,"f",(function(){return x}));var i=n("ofXK"),s=n("fXoL");class a extends i.J{constructor(){super()}supportsDOMEvents(){return!0}}class o extends a{static makeCurrent(){Object(i.N)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,r||(r=document.createElement("a")),r.setAttribute("href",n),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(i.M)(document.cookie,t)}}let r,c=null;const l=new s.r("TRANSITION_ID"),d=[{provide:s.d,useFactory:function(t,e,n){return()=>{n.get(s.e).donePromise.then(()=>{const n=Object(i.L)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[l,i.e,s.s],multi:!0}];class h{static init(){Object(s.ab)(new h)}addToWindow(t){s.sb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},s.sb.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.sb.getAllAngularRootElements=()=>t.getAllRootElements(),s.sb.frameworkStabilizers||(s.sb.frameworkStabilizers=[]),s.sb.frameworkStabilizers.push(t=>{const e=s.sb.getAllAngularTestabilities();let n=e.length,i=!1;const a=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(a)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?Object(i.L)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const u=new s.r("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(u),s.dc(s.B))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();class f{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=Object(i.L)().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})(),g=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(i.L)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.e))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_=/%COMP%/g;function v(t,e,n){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?v(t,s,n):(s=s.replace(_,t),n.push(s))}return n}function y(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let x=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new w(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case s.S.Native:case s.S.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(s.dc(p),s.dc(g),s.dc(s.c))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();class w{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(b[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const s=b[i];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=b[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&s.J.DashCase?t.style.setProperty(e,n,i&s.J.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&s.J.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,y(n)):this.eventManager.addEventListener(t,e,y(n))}}class C extends w{constructor(t,e,n,i){super(t),this.component=n;const s=v(i+"-"+n.id,n.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(_,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(_,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class O extends w{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===s.S.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const a=v(i.id,i.styles,[]);for(let s=0;s<a.length;s++){const t=document.createElement("style");t.textContent=a[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let k=(()=>{class t extends f{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.e))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();const S=new s.r("HammerGestureConfig");let E=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();const M=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},T={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A=(()=>{class t extends f{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,s){const a=t.parseEventName(n),o=t.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(i.L)().onAndCancel(e,a.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(n.pop());let a="";if(M.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),a+=t+".")}),a+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=i,o.fullKey=a,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&P.hasOwnProperty(e)&&(e=P[e]))}return I[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),M.forEach(i=>{i!=n&&(0,T[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return s=>{t.getEventFullKey(s)===e&&i.runGuarded(()=>n(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.e))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Pb)({factory:function(){return Object(s.dc)(L)},token:t,providedIn:"root"}),t})();function R(t){return new L(t.get(i.e))}let L=(()=>{class t extends D{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case s.L.NONE:return e;case s.L.HTML:return Object(s.hb)(e,"HTML")?Object(s.Ab)(e):Object(s.eb)(this._doc,String(e));case s.L.STYLE:return Object(s.hb)(e,"Style")?Object(s.Ab)(e):Object(s.fb)(e);case s.L.SCRIPT:if(Object(s.hb)(e,"Script"))return Object(s.Ab)(e);throw new Error("unsafe value used in a script context");case s.L.URL:return Object(s.rb)(e),Object(s.hb)(e,"URL")?Object(s.Ab)(e):Object(s.gb)(String(e));case s.L.RESOURCE_URL:if(Object(s.hb)(e,"ResourceURL"))return Object(s.Ab)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(s.ib)(t)}bypassSecurityTrustStyle(t){return Object(s.lb)(t)}bypassSecurityTrustScript(t){return Object(s.kb)(t)}bypassSecurityTrustUrl(t){return Object(s.mb)(t)}bypassSecurityTrustResourceUrl(t){return Object(s.jb)(t)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.e))},t.\u0275prov=Object(s.Pb)({factory:function(){return R(Object(s.dc)(s.p))},token:t,providedIn:"root"}),t})();const F=[{provide:s.E,useValue:i.K},{provide:s.F,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:i.e,useFactory:function(){return Object(s.yb)(document),document},deps:[]}],j=Object(s.U)(s.Z,"browser",F),Y=[[],{provide:s.cb,useValue:"root"},{provide:s.n,useFactory:function(){return new s.n},deps:[]},{provide:u,useClass:k,multi:!0,deps:[i.e,s.B,s.E]},{provide:u,useClass:A,multi:!0,deps:[i.e]},[],{provide:x,useClass:x,deps:[p,g,s.c]},{provide:s.I,useExisting:x},{provide:m,useExisting:g},{provide:g,useClass:g,deps:[i.e]},{provide:s.P,useClass:s.P,deps:[s.B]},{provide:p,useClass:p,deps:[u,s.B]},[]];let Z=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:l,useExisting:s.c},d]}}}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)(s.dc(t,12))},providers:Y,imports:[i.c,s.f]}),t})();"undefined"!=typeof window&&window},jj9e:function(t,e,n){"use strict";n.r(e);var i=n("fXoL"),s=(n("yLV6"),n("MJ5r")),a=n("vWc3"),o=n("tyNb"),r=n("87bG"),c=n("0EQZ"),l=n("sYmb"),d=n("tk/3"),h=n("uqn4"),u=n("4zkx"),p=n("AXEc"),f=n("A6w4"),m=n("/t3+"),g=n("bTqV"),b=n("NFeN"),_=n("XhcP"),v=n("ofXK"),y=n("Xa2L"),x=n("MutI"),w=n("bSwM"),C=n("Qu3c"),O=n("FKr1"),k=n("f0Cb");function S(t,e){1&t&&(i.Zb(0,"div",9),i.Ub(1,"mat-spinner",10),i.Yb())}function E(t,e){1&t&&(i.Xb(0),i.Ub(1,"br"),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Wb()),2&t&&(i.Eb(2),i.Uc(" ",i.nc(3,1,"lang.missingBasket"),""))}function M(t,e){1&t&&(i.Zb(0,"span",23),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.selectAll")," "))}function I(t,e){1&t&&(i.Zb(0,"span",24),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.selectAll")," "))}function P(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item",26),i.hc("mouseover",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(3).showActions(e)}))("mouseout",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(3).hideActions(e)})),i.Zb(1,"mat-icon",17),i.Zb(2,"mat-checkbox",27),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("change",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc(3);return e?s.selectionBaskets.toggle(n):null})),i.Yb(),i.Yb(),i.Zb(3,"h4",28),i.Zb(4,"span",29),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(3).selectionBaskets.toggle(e)})),i.mc(5,"translate"),i.Sc(6),i.Zb(7,"span",30),i.Sc(8),i.Yb(),i.Zb(9,"span",23),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(2),i.sc("checked",e.selectionBaskets.isSelected(t)),i.Eb(2),i.xc("matTooltip","",t.basket_name," [",t.group_desc,"] ",i.nc(5,9,"lang.redirectedTo")," ",t.userToDisplay,""),i.Eb(2),i.Uc(" ",t.basket_name," "),i.Eb(2),i.Tc(t.group_desc),i.Eb(2),i.Vc(" ",i.nc(11,11,"lang.redirectedTo")," ",t.userToDisplay,"")}}function T(t,e){if(1&t&&(i.Xb(0),i.Qc(1,P,12,13,"mat-list-item",25),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",null!=t.userToDisplay)}}function A(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list"),i.Zb(1,"mat-list-item"),i.Zb(2,"mat-icon",17),i.Zb(3,"mat-checkbox",18),i.hc("change",(function(e){i.Hc(t);const n=i.lc(2);return e?n.masterToggleBaskets(e):null})),i.mc(4,"translate"),i.Yb(),i.Yb(),i.Zb(5,"p",19),i.Qc(6,M,3,3,"span",20),i.Qc(7,I,3,3,"span",21),i.Yb(),i.Yb(),i.Ub(8,"mat-divider"),i.Qc(9,T,2,1,"ng-container",22),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(3),i.tc("matTooltip",i.nc(4,5,"lang.selectAll")),i.sc("checked",t.selectionBaskets.hasValue()),i.Eb(3),i.sc("ngIf",!t.selectionBaskets.hasValue()),i.Eb(1),i.sc("ngIf",t.selectionBaskets.hasValue()),i.Eb(2),i.sc("ngForOf",t.user.redirectedBaskets)}}function D(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",31),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"br"),i.Ub(4,"br"),i.Zb(5,"button",32),i.hc("click",(function(){return i.Hc(t),i.lc(2).activateUser()})),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"button",32),i.hc("click",(function(){return i.Hc(t),i.lc(2).logout()})),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,3,"lang.missingChoose"),""),i.Eb(5),i.Tc(i.nc(7,5,"lang.validate")),i.Eb(3),i.Tc(i.nc(10,7,"lang.cancel")))}function R(t,e){if(1&t&&(i.Zb(0,"div",11),i.Zb(1,"div",12),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Sc(5),i.mc(6,"translate"),i.Ub(7,"br"),i.Qc(8,E,5,3,"ng-container",13),i.Yb(),i.Ub(9,"div",14),i.Zb(10,"div",14),i.Qc(11,A,10,7,"mat-list",13),i.Yb(),i.Ub(12,"div",14),i.Ub(13,"div",15),i.Qc(14,D,11,9,"div",16),i.Yb()),2&t){const t=i.lc();i.Eb(2),i.Uc(" ",i.nc(3,5,"lang.missingAdvert"),""),i.Eb(3),i.Uc(" ",i.nc(6,7,"lang.missingAdvert2"),""),i.Eb(3),i.sc("ngIf",t.user.redirectedBaskets.length>0),i.Eb(3),i.sc("ngIf",t.user.redirectedBaskets.length>0),i.Eb(3),i.sc("ngIf",!t.loading)}}let L=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this.authService=n,this.headerService=i,this.notify=s,this.router=a,this.appService=o,this.user={baskets:[]},this.userAbsenceModel=[],this.basketsToRedirect=[],this.loading=!1,this.selectedIndex=0,this.selectionBaskets=new c.c(!0,[]),this.myBasketExpansionPanel=!1}masterToggleBaskets(t){t.checked?this.user.redirectedBaskets.forEach(t=>{this.selectionBaskets.select(t)}):this.selectionBaskets.clear()}ngOnInit(){this.loading=!0,"ABS"===this.headerService.user.status?this.http.get("../rest/currentUser/profile").subscribe(t=>{this.user=t,this.user.baskets.forEach((t,e)=>{this.user.baskets[e].disabled=!1,this.user.redirectedBaskets.forEach(n=>{t.basket_id==n.basket_id&&t.basket_owner==n.basket_owner&&(this.user.baskets[e].disabled=!0)})}),this.loading=!1}):this.router.navigate(["/home"])}showActions(t){$("#"+t.basket_id+"_"+t.group_id).show()}hideActions(t){$("#"+t.basket_id+"_"+t.group_id).hide()}activateUser(){this.http.put("../rest/users/"+this.headerService.user.id+"/status",{status:"OK"}).subscribe(()=>{this.headerService.user.status="OK";let t="";this.user.redirectedBaskets.forEach(e=>{-1!==this.selectionBaskets.selected.map(t=>t.basket_id).indexOf(e.basket_id)&&-1!==this.selectionBaskets.selected.map(t=>t.group_id).indexOf(e.group_id)&&(""!==t&&(t+="&redirectedBasketIds[]="),t+=e.id)}),""!==t?this.http.delete("../rest/users/"+this.headerService.user.id+"/redirectedBaskets?redirectedBasketIds[]="+t).subscribe(t=>{this.router.navigate(["/home"]),this.notify.success(this.translate.instant("lang.absOff"))},t=>{this.notify.error(t.error.errors)}):(this.router.navigate(["/home"]),this.notify.success(this.translate.instant("lang.absOff")))},t=>{this.notify.error(t.error.errors)})}logout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(h.a),i.Tb(u.a),i.Tb(p.a),i.Tb(o.c),i.Tb(f.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:12,vars:8,consts:[[1,"admin-container",2,"margin-top","-63px"],["color","primary",1,"admin-toolbar"],["mat-button",""],[1,"maarchLogoWhiteFull",3,"svgIcon"],[1,"admin-toolbar-title","text-center"],[2,"flex","1 1 auto"],["autosize","",1,"admin-sidenav-container"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[1,"text-center",2,"margin-top","50px"],[4,"ngIf"],[1,"col-sm-4",2,"overflow","hidden"],[2,"clear","both"],["class","text-center","style","position:relative; top:50px;",4,"ngIf"],["mat-list-icon","","color","primary"],["color","primary",3,"checked","matTooltip","change"],["mat-line",""],["style","opacity: 0.5;font-style: italic;font-size: 80%;",4,"ngIf"],["style","opacity: 1;font-style: normal;font-size: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"opacity","0.5","font-style","italic","font-size","80%"],[2,"opacity","1","font-style","normal","font-size","100%"],["style","cursor: pointer;",3,"mouseover","mouseout",4,"ngIf"],[2,"cursor","pointer",3,"mouseover","mouseout"],["color","primary",3,"checked","click","change"],["mat-line","","color","primary",2,"display","flex","align-items","center"],[2,"flex","2","overflow","hidden","text-overflow","ellipsis",3,"matTooltip","click"],[1,"label","label-primary",2,"font-weight","normal"],[1,"text-center",2,"position","relative","top","50px"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"mat-toolbar",1),i.Zb(2,"button",2),i.Ub(3,"mat-icon",3),i.Yb(),i.Zb(4,"h1",4),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Ub(7,"span",5),i.Yb(),i.Zb(8,"mat-sidenav-container",6),i.Zb(9,"mat-sidenav-content"),i.Qc(10,S,2,0,"div",7),i.Qc(11,R,15,9,"div",8),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Jb("admin-is-mobile",e.appService.getViewMode()),i.Eb(3),i.sc("svgIcon",e.appService.getViewMode()?"maarchLogoOnly":"maarchLogo"),i.Eb(2),i.Tc(i.nc(6,6,"lang.missingAdvertTitle")),i.Eb(5),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[m.a,g.b,b.a,_.e,_.f,v.t,y.c,x.a,x.d,x.c,w.a,C.b,O.k,k.a,v.s],pipes:[l.d],encapsulation:2}),t})();var F=n("3Pt+"),j=n("0IaG"),Y=n("Wp6s"),Z=n("kmnG"),N=n("qFsG");function U(t,e){1&t&&(i.Zb(0,"div",15),i.Ub(1,"mat-spinner",16),i.Yb())}function B(t,e){1&t&&(i.Sc(0),i.mc(1,"translate")),2&t&&i.Tc(i.nc(1,1,"lang.passwordModification"))}function z(t,e){1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.requiredField")))}function V(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",32),i.Zb(2,"span",33),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordValid")))}function H(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",32),i.Zb(2,"span",33),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordMatch")))}function Q(t,e){if(1&t&&i.Ub(0,"div",34),2&t){const t=i.lc(2);i.sc("innerHTML",t.otherRuleText,i.Ic)}}const W=function(t){return[t]};function G(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-card",17),i.Zb(1,"form",18),i.hc("ngSubmit",(function(){return i.Hc(t),i.lc().onSubmit()})),i.Qc(2,B,2,3,"ng-template"),i.Zb(3,"mat-form-field",19),i.Ub(4,"input",20),i.mc(5,"translate"),i.Zb(6,"mat-icon",21),i.hc("click",(function(){i.Hc(t);const e=i.lc();return e.hidePassword=!e.hidePassword})),i.Yb(),i.Qc(7,z,3,3,"mat-error",22),i.Yb(),i.Zb(8,"div",23),i.Sc(9),i.Yb(),i.Zb(10,"mat-form-field",19),i.Ub(11,"input",24,25),i.mc(13,"translate"),i.Zb(14,"mat-icon",21),i.hc("click",(function(){i.Hc(t);const e=i.lc();return e.hidePassword=!e.hidePassword})),i.Yb(),i.Qc(15,V,5,3,"mat-hint",22),i.Zb(16,"mat-error"),i.Sc(17),i.Yb(),i.Yb(),i.Zb(18,"mat-form-field",19),i.Ub(19,"input",26,27),i.mc(21,"translate"),i.Zb(22,"mat-icon",21),i.hc("click",(function(){i.Hc(t);const e=i.lc();return e.hidePassword=!e.hidePassword})),i.Yb(),i.Qc(23,H,5,3,"mat-hint",22),i.Zb(24,"mat-error"),i.Sc(25),i.mc(26,"translate"),i.Yb(),i.Yb(),i.Zb(27,"div",28),i.Zb(28,"button",29),i.Sc(29),i.mc(30,"translate"),i.Yb(),i.Zb(31,"button",30),i.hc("click",(function(){return i.Hc(t),i.lc().logout()})),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(34,Q,1,1,"div",31),i.Yb()}if(2&t){const t=i.lc();i.Eb(1),i.sc("formGroup",t.firstFormGroup),i.Eb(3),i.tc("placeholder",i.nc(5,20,"lang.typeCurrentPassword")),i.sc("type",t.hidePassword?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(32,W,t.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",t.firstFormGroup.controls.currentPasswordCtrl.hasError("required")),i.Eb(2),i.Tc(t.ruleText),i.Eb(2),i.tc("placeholder",i.nc(13,22,"lang.typeNewPassword")),i.sc("type",t.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(34,W,t.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",t.validPassword),i.Eb(2),i.Tc(t.getErrorMessage()),i.Eb(2),i.tc("placeholder",i.nc(21,24,"lang.retypeNewPassword")),i.sc("type",t.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(36,W,t.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",!t.firstFormGroup.controls.retypePasswordCtrl.hasError("mismatch")&&""!=t.firstFormGroup.controls.retypePasswordCtrl.value),i.Eb(2),i.Uc("",i.nc(26,26,"lang.passwordNotMatch")," !"),i.Eb(3),i.sc("disabled",!t.firstFormGroup.valid),i.Eb(1),i.Tc(i.nc(30,28,"lang.validate")),i.Eb(3),i.Tc(i.nc(33,30,"lang.logout")),i.Eb(2),i.sc("ngIf",t.passwordRules.renewal.enabled||t.passwordRules.historyLastUse.enabled)}}function q(t,e){if(1&t&&(i.Zb(0,"p"),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b"),i.Sc(4),i.Yb(),i.Sc(5,", "),i.Ub(6,"br"),i.Sc(7),i.mc(8,"translate"),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Uc(" ",i.nc(2,4,"lang.hello")," "),i.Eb(3),i.Vc("",t.data.user.firstname," ",t.data.user.lastname,""),i.Eb(3),i.Uc("",i.nc(8,6,"lang.changePasswordInfo"),". ")}}function X(t,e){1&t&&(i.Zb(0,"p"),i.Ub(1,"mat-icon",4),i.Zb(2,"span",5),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordChanged")))}function J(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",6),i.hc("click",(function(){return i.Hc(t),i.lc().dialogRef.close()})),i.Sc(1,"Ok"),i.Yb()}}function K(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",6),i.hc("click",(function(){return i.Hc(t),i.lc().redirect()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.homePage")))}let tt=(()=>{class t{constructor(t,e,n,i,s,a,o,r){this.translate=t,this.http=e,this.authService=n,this.headerService=i,this.notify=s,this._formBuilder=a,this.dialog=o,this.appService=r,this.config={},this.loading=!1,this.user={},this.ruleText="",this.hidePassword=!0,this.passLength=!1,this.arrValidator=[],this.validPassword=!1,this.matchPassword=!1,this.isLinear=!1,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.passwordModel={currentPassword:"",newPassword:"",reNewPassword:""},this.user=JSON.parse(atob(this.authService.getToken().split(".")[1])).user}ngOnInit(){setTimeout(()=>{this.config={panelClass:"maarch-modal",data:{user:this.user,state:"BEGIN"},disableClose:!0},this.dialogRef=this.dialog.open(et,this.config)},0),this.http.get("../rest/passwordRules").subscribe(t=>{const e=[],n=[],i=[];e.push(F.H.required),t.rules.forEach(t=>{"minLength"===t.label?(this.passwordRules.minLength.enabled=t.enabled,this.passwordRules.minLength.value=t.value,t.enabled&&(e.push(F.H.minLength(this.passwordRules.minLength.value)),n.push(t.value+" "+this.translate.instant("lang.password"+t.label)))):"complexityUpper"===t.label?(this.passwordRules.complexityUpper.enabled=t.enabled,this.passwordRules.complexityUpper.value=t.value,t.enabled&&(e.push(this.regexValidator(new RegExp("[A-Z]"),{complexityUpper:""})),n.push(this.translate.instant("lang.password"+t.label)))):"complexityNumber"===t.label?(this.passwordRules.complexityNumber.enabled=t.enabled,this.passwordRules.complexityNumber.value=t.value,t.enabled&&(e.push(this.regexValidator(new RegExp("[0-9]"),{complexityNumber:""})),n.push(this.translate.instant("lang.password"+t.label)))):"complexitySpecial"===t.label?(this.passwordRules.complexitySpecial.enabled=t.enabled,this.passwordRules.complexitySpecial.value=t.value,t.enabled&&(e.push(this.regexValidator(new RegExp("[^A-Za-z0-9]"),{complexitySpecial:""})),n.push(this.translate.instant("lang.password"+t.label)))):"renewal"===t.label?(this.passwordRules.renewal.enabled=t.enabled,this.passwordRules.renewal.value=t.value,t.enabled&&i.push(this.translate.instant("lang.password"+t.label)+" <b>"+t.value+" "+this.translate.instant("lang.days")+"</b>. "+this.translate.instant("lang.password2"+t.label)+".")):"historyLastUse"===t.label&&(this.passwordRules.historyLastUse.enabled=t.enabled,this.passwordRules.historyLastUse.value=t.value,t.enabled&&i.push(this.translate.instant("lang.passwordhistoryLastUseDesc")+" <b>"+t.value+"</b> "+this.translate.instant("lang.passwordhistoryLastUseDesc2")+"."))}),this.ruleText=n.join(", "),this.otherRuleText=i.join("<br/>"),this.firstFormGroup.controls.newPasswordCtrl.setValidators(e)},t=>{this.notify.error(t.error.errors)}),this.firstFormGroup=this._formBuilder.group({newPasswordCtrl:[""],retypePasswordCtrl:["",F.H.compose([F.H.required])],currentPasswordCtrl:["",F.H.compose([F.H.required])]},{validator:this.matchValidator})}regexValidator(t,e){return n=>n.value?t.test(n.value)?null:e:null}matchValidator(t){return t.controls.newPasswordCtrl.value!==t.controls.retypePasswordCtrl.value&&(t.controls.retypePasswordCtrl.setErrors({mismatch:!0}),{mismatch:!0})}getErrorMessage(){return this.firstFormGroup.controls.retypePasswordCtrl.setErrors(this.firstFormGroup.controls.newPasswordCtrl.value!==this.firstFormGroup.controls.retypePasswordCtrl.value?{mismatch:!0}:null),this.firstFormGroup.controls.newPasswordCtrl.hasError("required")?this.translate.instant("lang.requiredField")+" !":this.firstFormGroup.controls.newPasswordCtrl.hasError("minlength")&&this.passwordRules.minLength.enabled?this.passwordRules.minLength.value+" "+this.translate.instant("lang.passwordminLength")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityUpper&&this.passwordRules.complexityUpper.enabled?this.translate.instant("lang.passwordcomplexityUpper")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityNumber&&this.passwordRules.complexityNumber.enabled?this.translate.instant("lang.passwordcomplexityNumber")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexitySpecial&&this.passwordRules.complexitySpecial.enabled?this.translate.instant("lang.passwordcomplexitySpecial")+" !":(this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.validPassword=!0,"")}onSubmit(){this.passwordModel.currentPassword=this.firstFormGroup.controls.currentPasswordCtrl.value,this.passwordModel.newPassword=this.firstFormGroup.controls.newPasswordCtrl.value,this.passwordModel.reNewPassword=this.firstFormGroup.controls.retypePasswordCtrl.value,this.http.put("../rest/users/"+this.user.id+"/password",this.passwordModel).subscribe(()=>{this.config={panelClass:"maarch-modal",data:{state:"END"},disableClose:!0},this.dialogRef=this.dialog.open(et,this.config)},t=>{this.notify.error(t.error.errors)})}logout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(h.a),i.Tb(u.a),i.Tb(p.a),i.Tb(F.g),i.Tb(j.b),i.Tb(f.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:21,vars:20,consts:[[1,"admin-container",2,"margin-top","-63px"],["color","primary",1,"admin-toolbar"],["mat-button","",3,"click"],[1,"maarchLogoFull",3,"svgIcon"],[1,"admin-toolbar-title"],[2,"flex","1 1 auto"],["mat-button",""],["mat-list-icon","",1,"fa","fa-user","fa-2x",2,"color","white","margin","0px 12px 8px 0px"],["autosize","",1,"admin-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport","opened"],["snav",""],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content","style","display: flex;justify-content: center;align-items: center;",4,"ngIf"],["fixedTopGap","56","position","end",3,"mode","fixedInViewport","opened"],["snav2",""],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content",2,"display","flex","justify-content","center","align-items","center"],[2,"max-width","700px",3,"formGroup","ngSubmit"],[2,"padding","10px"],["matInput","","formControlName","currentPasswordCtrl","required","",3,"placeholder","type"],["matSuffix","",1,"fa","fa-2x",3,"ngClass","click"],[4,"ngIf"],[2,"text-align","center","color","rgba(0,0,0,0.54)","font-size","75%"],["matInput","","formControlName","newPasswordCtrl","required","",3,"placeholder","type"],["inputPasswd",""],["matInput","","required","","formControlName","retypePasswordCtrl",3,"placeholder","type"],["inputPasswd2",""],[1,"col-md-12","text-center",2,"padding","10px"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["mat-raised-button","","type","button","color","default",3,"click"],["class","alert alert-warning","role","alert","style","text-align:center;left:0px;bottom: 0px;position: absolute;width: 100%;margin: 0;",3,"innerHTML",4,"ngIf"],["color","accent",1,"fa","fa-check"],["color","accent"],["role","alert",1,"alert","alert-warning",2,"text-align","center","left","0px","bottom","0px","position","absolute","width","100%","margin","0",3,"innerHTML"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",0),i.Zb(1,"mat-toolbar",1),i.Zb(2,"button",2),i.hc("click",(function(){return i.Hc(t),i.Dc(15).toggle()})),i.Ub(3,"mat-icon",3),i.Yb(),i.Zb(4,"h1",4),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Ub(7,"span",5),i.Zb(8,"button",6),i.Ub(9,"mat-icon",7),i.Sc(10),i.mc(11,"uppercase"),i.mc(12,"uppercase"),i.Yb(),i.Yb(),i.Zb(13,"mat-sidenav-container",8),i.Ub(14,"mat-sidenav",9,10),i.Zb(16,"mat-sidenav-content"),i.Qc(17,U,2,0,"div",11),i.Qc(18,G,35,38,"mat-card",12),i.Yb(),i.Ub(19,"mat-sidenav",13,14),i.Yb(),i.Yb()}2&t&&(i.Jb("admin-is-mobile",e.appService.getViewMode()),i.Eb(3),i.sc("svgIcon",e.appService.getViewMode()?"maarchLogoOnly":"maarchLogo"),i.Eb(2),i.Uc("",i.nc(6,14,"lang.passwordModification")," "),i.Eb(5),i.Vc("",i.nc(11,16,e.user.firstname.charAt(0)),". ",i.nc(12,18,e.user.lastname),""),i.Eb(4),i.sc("mode",e.appService.getViewMode()?"over":"side")("fixedInViewport",e.appService.getViewMode())("opened",!e.appService.getViewMode()),i.Eb(3),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading),i.Eb(1),i.sc("mode",e.appService.getViewMode()?"over":"side")("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1)))},directives:[m.a,g.b,b.a,x.c,_.e,_.d,_.f,v.t,y.c,Y.a,F.J,F.u,F.l,Z.c,N.b,F.c,F.t,F.j,F.E,Z.j,v.q,Z.b,Z.f],pipes:[l.d,v.G],encapsulation:2}),t})(),et=(()=>{class t{constructor(t,e,n,i){this.http=t,this.router=e,this.data=n,this.dialogRef=i}redirect(){this.router.navigate(["/home"]),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(d.b),i.Tb(o.c),i.Tb(j.a),i.Tb(j.h))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"mat-dialog-content-container"],[4,"ngIf"],[1,"divider-modal"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","primary",1,"fa","fa-check-circle","fa-2x"],[2,"padding-left","10px"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"mat-dialog-content"),i.Qc(2,q,9,8,"p",1),i.Qc(3,X,5,3,"p",1),i.Yb(),i.Ub(4,"span",2),i.Zb(5,"mat-dialog-actions"),i.Qc(6,J,2,0,"button",3),i.Qc(7,K,3,3,"button",3),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.sc("ngIf","BEGIN"==e.data.state),i.Eb(1),i.sc("ngIf","END"==e.data.state),i.Eb(3),i.sc("ngIf","BEGIN"==e.data.state),i.Eb(1),i.sc("ngIf","END"==e.data.state))},directives:[j.f,v.t,j.c,b.a,g.b],pipes:[l.d],encapsulation:2}),t})();var nt=n("Kj3r"),it=n("pLZG"),st=n("/uUt"),at=n("eIep"),ot=n("vkgz"),rt=n("7EHt"),ct=n("+0xr"),lt=n("rH+9"),dt=n("Ro8j"),ht=n("F8Z3"),ut=n("wZkO"),pt=n("d3UM"),ft=n("lJEt"),mt=n("1jcm"),gt=n("M9IT"),bt=n("Dh3D"),_t=n("63qU"),vt=n("bv9b"),yt=n("wQTr");const xt=["snav2"],wt=["adminMenuTemplate"],Ct=["paginatorGroupsList"],Ot=["tableGroupsListSort"],kt=["paginatorGroupsListAutocomplete"],St=["paginatorContactsList"],Et=["tableContactsListSort"],Mt=["paginatorHistory"],It=["tableHistorySort"];function Pt(t,e){if(1&t){const t=i.ac();i.Zb(0,"a",15),i.hc("click",(function(){return i.Hc(t),i.lc(2).changePasswd()})),i.Ub(1,"mat-icon",19),i.Zb(2,"p",17),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(3),i.Uc(" ",i.nc(4,1,"lang.changeMyPassword")," "))}function Tt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-nav-list"),i.Zb(1,"h3",13),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"a",15),i.hc("click",(function(){return i.Hc(t),i.lc().askRedirectBasket()})),i.Ub(5,"mat-icon",16),i.Zb(6,"p",17),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Qc(9,Pt,5,3,"a",18),i.Yb()}if(2&t){const t=i.lc();i.Eb(2),i.Tc(i.nc(3,3,"lang.actions")),i.Eb(5),i.Uc(" ",i.nc(8,5,"lang.activateMyAbs")," "),i.Eb(2),i.sc("ngIf",t.user.canModifyPassword)}}function At(t,e){1&t&&(i.Zb(0,"div",20),i.Ub(1,"mat-spinner",21),i.Yb())}function Dt(t,e){1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.requiredField"),""))}function Rt(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",131),i.Zb(2,"span",132),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordValid")))}function Lt(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",131),i.Zb(2,"span",132),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordMatch")))}function Ft(t,e){if(1&t&&(i.Zb(0,"div",66),i.Zb(1,"div",133),i.Ub(2,"div",134),i.Yb(),i.Yb()),2&t){const t=i.lc(3);i.Eb(2),i.sc("innerHTML",t.otherRuleText,i.Ic)}}const jt=function(t){return[t]};function Yt(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",117),i.Zb(1,"form",118),i.Zb(2,"div",66),i.Zb(3,"mat-form-field",119),i.Ub(4,"input",120),i.mc(5,"translate"),i.Zb(6,"mat-icon",121),i.hc("click",(function(){i.Hc(t);const e=i.lc(2);return e.hidePassword=!e.hidePassword})),i.Yb(),i.Qc(7,Dt,3,3,"mat-error",28),i.Yb(),i.Yb(),i.Zb(8,"div",66),i.Zb(9,"div",122),i.Sc(10),i.Yb(),i.Zb(11,"div",123),i.Zb(12,"mat-form-field",119),i.Ub(13,"input",124,125),i.mc(15,"translate"),i.Zb(16,"mat-icon",121),i.hc("click",(function(){i.Hc(t);const e=i.lc(2);return e.hidePassword=!e.hidePassword})),i.Yb(),i.Qc(17,Rt,5,3,"mat-hint",28),i.Zb(18,"mat-error"),i.Sc(19),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"div",123),i.Zb(21,"mat-form-field",119),i.Ub(22,"input",126,127),i.mc(24,"translate"),i.Zb(25,"mat-icon",121),i.hc("click",(function(){i.Hc(t);const e=i.lc(2);return e.hidePassword=!e.hidePassword})),i.Yb(),i.Qc(26,Lt,5,3,"mat-hint",28),i.Zb(27,"mat-error"),i.Sc(28),i.mc(29,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(30,Ft,3,1,"div",128),i.Zb(31,"div",66),i.Zb(32,"div",53),i.Zb(33,"button",129),i.hc("click",(function(){return i.Hc(t),i.lc(2).updatePassword()})),i.Sc(34),i.mc(35,"translate"),i.Yb(),i.Zb(36,"button",130),i.hc("click",(function(){return i.Hc(t),i.lc(2).showPassword=!1})),i.Sc(37),i.mc(38,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(1),i.sc("formGroup",t.firstFormGroup),i.Eb(3),i.tc("placeholder",i.nc(5,20,"lang.typeCurrentPassword")),i.sc("type",t.hidePassword?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(32,jt,t.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",t.firstFormGroup.controls.currentPasswordCtrl.hasError("required")),i.Eb(3),i.Uc(" ",t.ruleText,""),i.Eb(3),i.tc("placeholder",i.nc(15,22,"lang.typeNewPassword")),i.sc("type",t.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(34,jt,t.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",t.validPassword),i.Eb(2),i.Tc(t.getErrorMessage()),i.Eb(3),i.tc("placeholder",i.nc(24,24,"lang.retypeNewPassword")),i.sc("type",t.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(36,jt,t.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",!t.firstFormGroup.controls.retypePasswordCtrl.hasError("mismatch")&&""!=t.firstFormGroup.controls.retypePasswordCtrl.value),i.Eb(2),i.Uc("",i.nc(29,26,"lang.passwordNotMatch")," !"),i.Eb(2),i.sc("ngIf",t.passwordRules.renewal.enabled||t.passwordRules.historyLastUse.enabled),i.Eb(3),i.sc("disabled",!t.firstFormGroup.valid),i.Eb(1),i.Tc(i.nc(35,28,"lang.update")),i.Eb(3),i.Tc(i.nc(38,30,"lang.cancel"))}}function Zt(t,e){if(1&t){const t=i.ac();i.Zb(0,"form",135,136),i.hc("ngSubmit",(function(){return i.Hc(t),i.lc(2).onSubmit()})),i.Zb(2,"div",66),i.Zb(3,"div",84),i.Zb(4,"div",137),i.Zb(5,"div",138),i.Ub(6,"i",139),i.Yb(),i.Yb(),i.Zb(7,"div",140),i.Zb(8,"mat-form-field"),i.Ub(9,"input",141),i.mc(10,"translate"),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(12,"div",66),i.Zb(13,"div",142),i.Zb(14,"mat-form-field"),i.Zb(15,"input",143),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).user.lastname=e})),i.mc(16,"translate"),i.mc(17,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(18,"div",142),i.Zb(19,"mat-form-field"),i.Zb(20,"input",144),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).user.firstname=e})),i.mc(21,"translate"),i.mc(22,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(23,"div",145),i.Zb(24,"mat-form-field"),i.Zb(25,"input",146),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).user.initials=e})),i.mc(26,"translate"),i.mc(27,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"div",66),i.Zb(29,"div",84),i.Zb(30,"mat-form-field"),i.Zb(31,"input",147),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).user.phone=e})),i.mc(32,"translate"),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(34,"div",66),i.Zb(35,"div",84),i.Zb(36,"mat-form-field"),i.Zb(37,"input",148),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).user.mail=e})),i.mc(38,"translate"),i.mc(39,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"div",149),i.Zb(41,"div",53),i.Zb(42,"button",72),i.Sc(43),i.mc(44,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(1),e=i.lc(2);i.Eb(9),i.tc("title",i.nc(10,20,"lang.id")),i.tc("value",e.user.user_id),i.tc("placeholder",i.nc(11,22,"lang.id")),i.Eb(6),i.tc("title",i.nc(16,24,"lang.lastname")),i.tc("placeholder",i.nc(17,26,"lang.lastname")),i.sc("ngModel",e.user.lastname),i.Eb(5),i.tc("title",i.nc(21,28,"lang.firstname")),i.tc("placeholder",i.nc(22,30,"lang.firstname")),i.sc("ngModel",e.user.firstname),i.Eb(5),i.tc("title",i.nc(26,32,"lang.initials")),i.tc("placeholder",i.nc(27,34,"lang.initials")),i.sc("ngModel",e.user.initials),i.Eb(6),i.tc("title",i.nc(32,36,"lang.phoneNumber")),i.tc("placeholder",i.nc(33,38,"lang.phoneNumber")),i.sc("ngModel",e.user.phone),i.Eb(6),i.tc("title",i.nc(38,40,"lang.email")),i.tc("placeholder",i.nc(39,42,"lang.email")),i.sc("ngModel",e.user.mail),i.Eb(5),i.sc("disabled",!t.form.valid),i.Eb(1),i.Tc(i.nc(44,44,"lang.update"))}}function Nt(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.editorOptionAdmin")," "))}function Ut(t,e){if(1&t&&(i.Zb(0,"mat-option",150),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Tc(t)}}function Bt(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.basketsColorAdmin")," "))}function zt(t,e){if(1&t&&(i.Zb(0,"h3"),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Tc(t.groupDesc)}}const Vt=function(t){return{color:t}};function Ht(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item"),i.Ub(1,"mat-icon",151),i.Zb(2,"h4",152),i.Sc(3),i.Yb(),i.Zb(4,"input",153),i.hc("ngModelChange",(function(n){i.Hc(t);const s=e.index,a=i.lc().index;return i.lc(2).user.regroupedBaskets[a].baskets[s].color=n}))("change",(function(){i.Hc(t);const n=e.index,s=i.lc().index;return i.lc(2).updateBasketColor(s,n)})),i.Yb(),i.Zb(5,"a",154),i.hc("click",(function(){i.Hc(t);const n=e.index,s=i.lc().index,a=i.lc(2);return a.user.regroupedBaskets[s].baskets[n].color="",a.updateBasketColor(s,n)})),i.mc(6,"translate"),i.Ub(7,"i",155),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=e.index,s=i.lc().index,a=i.lc(2);i.Eb(1),i.sc("ngStyle",i.zc(7,Vt,a.user.regroupedBaskets[s].baskets[n].color)),i.Eb(1),i.tc("title",t.basket_id),i.Eb(1),i.Tc(t.basket_name),i.Eb(1),i.sc("ngModel",a.user.regroupedBaskets[s].baskets[n].color),i.Eb(1),i.tc("title",i.nc(6,5,"lang.resetColor"))}}function Qt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,zt,2,1,"h3",28),i.Qc(2,Ht,8,9,"mat-list-item",14),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",t.baskets[0]),i.Eb(1),i.sc("ngForOf",t.baskets)}}function $t(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.myBasketsDesc")," "))}function Wt(t,e){1&t&&(i.Zb(0,"span",156),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.selectAll")," "))}const Gt=function(){return["/rest/autocomplete/users"]};function qt(t,e){if(1&t){const t=i.ac();i.Zb(0,"plugin-autocomplete",157),i.hc("triggerEvent",(function(e){return i.Hc(t),i.lc(2).addBasketRedirection(e)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("labelPlaceholder",t.translate.instant("lang.redirectBaskets"))("routeDatas",i.yc(4,Gt))("targetSearchKey","idToDisplay")("subInfoKey","descriptionToDisplay")}}function Xt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-icon",38),i.Zb(1,"mat-checkbox",164),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("change",(function(e){i.Hc(t);const n=i.lc(2).$implicit,s=i.lc(2);return e?s.selectionBaskets.toggle(n):null})),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2).$implicit,e=i.lc(2);i.Eb(1),i.sc("checked",e.selectionBaskets.isSelected(t))}}function Jt(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item",159),i.hc("mouseover",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).showActions(e)}))("mouseout",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).hideActions(e)})),i.Qc(1,Xt,2,1,"mat-icon",160),i.Zb(2,"h4",161),i.Zb(3,"span",162),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).selectionBaskets.toggle(e)})),i.Sc(4),i.Zb(5,"span",163),i.Sc(6),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.enabled),i.Eb(2),i.vc("matTooltip","",t.basket_name," [",t.group_desc,"]"),i.Eb(1),i.Uc(" ",t.basket_name," "),i.Eb(2),i.Tc(t.group_desc)}}function Kt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Jt,7,5,"mat-list-item",158),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",null==t.userToDisplay)}}function te(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"mat-list-item"),i.Ub(2,"mat-icon",165),i.Zb(3,"h4",166),i.Sc(4),i.Zb(5,"span",163),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"p",17),i.Zb(8,"mat-form-field"),i.Ub(9,"input",167),i.mc(10,"translate"),i.Zb(11,"button",168),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=e.index;return i.lc(2).delBasketRedirection(n,s)})),i.mc(12,"translate"),i.Ub(13,"mat-icon",169),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(4),i.Uc("",t.basket_name," "),i.Eb(2),i.Tc(t.group_desc),i.Eb(3),i.vc("value","",i.nc(10,5,"lang.redirectedTo")," ",t.userToDisplay,""),i.Eb(2),i.tc("matTooltip",i.nc(12,7,"lang.deleteRedirection"))}}function ee(t,e){if(1&t){const t=i.ac();i.Zb(0,"plugin-autocomplete",157),i.hc("triggerEvent",(function(e){i.Hc(t);const n=i.lc(),s=n.$implicit,a=n.index;return i.lc(2).reassignBasketRedirection(e,s,a)})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("labelPlaceholder",t.translate.instant("lang.redirectBaskets"))("routeDatas",i.yc(4,Gt))("targetSearchKey","idToDisplay")("subInfoKey","descriptionToDisplay")}}function ne(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"mat-list-item"),i.Ub(2,"mat-icon",170),i.Zb(3,"h4",166),i.Sc(4),i.Zb(5,"span",163),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"p",17),i.Qc(8,ee,1,5,"plugin-autocomplete",41),i.Zb(9,"mat-form-field"),i.Ub(10,"input",167),i.mc(11,"translate"),i.Zb(12,"button",168),i.hc("click",(function(){return e.$implicit.userToDisplay=null})),i.mc(13,"translate"),i.Ub(14,"mat-icon",171),i.Yb(),i.Zb(15,"button",168),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=e.index;return i.lc(2).delBasketAssignRedirection(n,s)})),i.mc(16,"translate"),i.Ub(17,"mat-icon",169),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(4),i.Uc("",t.basket_name," "),i.Eb(2),i.Tc(t.group_desc),i.Eb(2),i.sc("ngIf",null==t.userToDisplay),i.Eb(2),i.vc("value","",i.nc(11,7,"lang.assignBy")," ",t.userToDisplay,""),i.Eb(2),i.tc("matTooltip",i.nc(13,9,"lang.reassign")),i.Eb(3),i.tc("matTooltip",i.nc(16,11,"lang.deleteAssignation"))}}function ie(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mySignMailDesc")," "))}function se(t,e){if(1&t&&(i.Zb(0,"button",72),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){i.lc();const t=i.Dc(78);i.sc("disabled",!t.form.valid),i.Eb(1),i.Tc(i.nc(2,2,"lang.save"))}}function ae(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",129),i.hc("click",(function(){return i.Hc(t),i.lc(2).updateEmailSignature()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){i.lc();const t=i.Dc(78);i.sc("disabled",!t.form.valid),i.Eb(1),i.Tc(i.nc(2,2,"lang.update"))}}function oe(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",172),i.hc("click",(function(){return i.Hc(t),i.lc(2).deleteEmailSignature()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.delete")))}function re(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",130),i.hc("click",(function(){return i.Hc(t),i.lc(2).resetEmailSignature()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.cancel")))}function ce(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",173),i.Zb(1,"mat-card",174),i.Zb(2,"mat-card-content",53),i.Zb(3,"mat-form-field",175),i.Zb(4,"input",176),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.title=n})),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Zb(6,"button",177),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc(2).changeEmailSignature(n)})),i.mc(7,"translate"),i.Ub(8,"mat-icon",178),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit;i.Eb(4),i.tc("placeholder",i.nc(5,3,"lang.label")),i.sc("ngModel",t.title),i.Eb(2),i.tc("matTooltip",i.nc(7,5,"lang.update"))}}function le(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mySignSignatureBookDesc")," "))}function de(t,e){if(1&t&&(i.Zb(0,"div",179),i.Ub(1,"img",180),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("src",t.signatureModel.base64ForJs,i.Kc)}}function he(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",181),i.Zb(1,"mat-card",174),i.Zb(2,"mat-card-content",53),i.Zb(3,"mat-form-field",175),i.Zb(4,"input",182),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.signature_label=n}))("change",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).updateSignature(n)})),i.mc(5,"translate"),i.Yb(),i.Zb(6,"button",183),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).deleteSignature(n.id)})),i.mc(7,"translate"),i.Ub(8,"mat-icon",184),i.Yb(),i.Yb(),i.Ub(9,"img",185),i.mc(10,"async"),i.mc(11,"secureUrl"),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Eb(4),i.tc("placeholder",i.nc(5,4,"lang.label")),i.sc("ngModel",t.signature_label),i.Eb(2),i.tc("matTooltip",i.nc(7,6,"lang.delete")),i.Eb(3),i.sc("src",i.nc(10,8,i.nc(11,10,"../rest/users/"+n.user.id+"/signatures/"+t.id+"/content")),i.Kc)}}function ue(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",186),i.hc("click",(function(){return i.Hc(t),i.lc(2).syncMP()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",187),i.Yb()}if(2&t){const t=i.lc(2);i.tc("matTooltip",i.nc(1,4,"lang.syncSignsToMaarchParapheur")),i.sc("disabled",!t.user.external_id.maarchParapheur||t.loadingSign),i.Eb(2),i.Jb("fa-spin",t.loadingSign)}}function pe(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.myContactsGroupsDesc")," "))}function fe(t,e){if(1&t&&(i.Zb(0,"mat-header-cell",188),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc(2);i.Jb("hide-for-mobile",t.appService.getViewMode()),i.Eb(1),i.Uc(" ",i.nc(2,3,"lang.label"),"")}}function me(t,e){if(1&t&&(i.Zb(0,"mat-cell",189),i.Sc(1),i.Yb()),2&t){const t=e.$implicit,n=i.lc(2);i.Jb("hide-for-mobile",n.appService.getViewMode()),i.Eb(1),i.Uc(" ",t.label," ")}}function ge(t,e){1&t&&(i.Zb(0,"mat-header-cell",188),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.description"),""))}function be(t,e){if(1&t&&(i.Zb(0,"mat-cell",189),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.description," ")}}function _e(t,e){1&t&&(i.Zb(0,"mat-header-cell",190),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.relatedContactNumber"),""))}function ve(t,e){if(1&t&&(i.Zb(0,"span"),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Tc(t.nbContacts)}}function ye(t,e){if(1&t&&(i.Zb(0,"span",193),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Tc(t.nbContacts)}}function xe(t,e){if(1&t&&(i.Zb(0,"mat-cell",191),i.Qc(1,ve,2,1,"span",28),i.Qc(2,ye,2,1,"span",192),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",0==t.nbContacts),i.Eb(1),i.sc("ngIf",t.nbContacts>0)}}function we(t,e){if(1&t&&(i.Zb(0,"mat-header-cell",190),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc(2);i.Jb("hide-for-mobile",t.appService.getViewMode()),i.Eb(1),i.Uc(" ",i.nc(2,3,"lang.public"),"")}}function Ce(t,e){1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.no")," "))}function Oe(t,e){1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.yes")," "))}function ke(t,e){if(1&t&&(i.Zb(0,"mat-cell",191),i.Qc(1,Ce,3,3,"span",28),i.Qc(2,Oe,3,3,"span",28),i.Yb()),2&t){const t=e.$implicit,n=i.lc(2);i.Jb("hide-for-mobile",n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!t.public),i.Eb(1),i.sc("ngIf",t.public)}}function Se(t,e){1&t&&(i.Zb(0,"mat-header-cell",190),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.createdBy"),""))}function Ee(t,e){if(1&t&&(i.Zb(0,"mat-cell",191),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.labelledOwner," ")}}function Me(t,e){1&t&&i.Ub(0,"mat-header-cell")}function Ie(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-cell",194),i.Zb(1,"button",195),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(2);return n.stopPropagation(),a.deleteContactsGroup(s.position)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",196),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.tc("matTooltip",i.nc(2,1,"lang.delete")))}function Pe(t,e){1&t&&i.Ub(0,"mat-header-row")}function Te(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-row",197),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).loadContactsGroup(n)})),i.mc(1,"translate"),i.Yb()}2&t&&i.tc("matTooltip",i.nc(1,1,"lang.view"))}function Ae(t,e){if(1&t&&i.Ub(0,"div",215),2&t){const t=i.lc(3);i.sc("innerHTML",t.translate.instant("lang.limitDataReached_1000"),i.Ic)}}function De(t,e){1&t&&i.Ub(0,"mat-progress-bar",216)}function Re(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-header-cell",191),i.Zb(1,"mat-checkbox",226),i.hc("change",(function(e){i.Hc(t);const n=i.lc(4);return e?n.masterToggle(e):null})),i.Yb(),i.Yb()}if(2&t){const t=i.lc(4);i.Eb(1),i.sc("checked",t.selection.hasValue())}}function Le(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-cell",191),i.Zb(1,"mat-checkbox",227),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("change",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(4);return n?a.selection.toggle(s.id):null})),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(4);i.Eb(1),i.uc("id","check_",t.id,""),i.sc("disabled",n.isInGrp(t))("checked",n.selection.isSelected(t.id))}}function Fe(t,e){1&t&&(i.Zb(0,"mat-header-cell",228),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.contact"),""))}function je(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.contact," ")}}function Ye(t,e){1&t&&(i.Zb(0,"mat-header-cell",228),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.address"),""))}function Ze(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.address," ")}}function Ne(t,e){1&t&&i.Ub(0,"mat-header-row")}const Ue=function(t){return{opacity:t}};function Be(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-row",229),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(4).selectContact(n.id)})),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(4);i.sc("ngStyle",i.zc(1,Ue,n.isInGrp(t)?"0.5":""))}}function ze(t,e){if(1&t&&(i.Zb(0,"mat-table",217,218),i.Xb(2,219),i.Qc(3,Re,2,1,"mat-header-cell",220),i.Qc(4,Le,2,3,"mat-cell",105),i.Wb(),i.Xb(5,221),i.Qc(6,Fe,3,3,"mat-header-cell",222),i.Qc(7,je,2,1,"mat-cell",223),i.Wb(),i.Xb(8,224),i.Qc(9,Ye,3,3,"mat-header-cell",222),i.Qc(10,Ze,2,1,"mat-cell",223),i.Wb(),i.Qc(11,Ne,1,0,"mat-header-row",113),i.Qc(12,Be,1,3,"mat-row",225),i.Yb()),2&t){const t=i.lc(3);i.sc("dataSource",t.dataSourceContactsListAutocomplete),i.Eb(11),i.sc("matHeaderRowDef",t.displayedColumnsContactsListAutocomplete),i.Eb(1),i.sc("matRowDefColumns",t.displayedColumnsContactsListAutocomplete)}}function Ve(t,e){1&t&&(i.Zb(0,"mat-header-cell",237),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.contact")))}function He(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.contact," ")}}function Qe(t,e){1&t&&(i.Zb(0,"mat-header-cell",237),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.address")))}function $e(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.address," ")}}function We(t,e){1&t&&i.Ub(0,"mat-header-cell",191)}function Ge(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-cell",238),i.Zb(1,"button",195),i.hc("click",(function(n){i.Hc(t);const s=e.index,a=i.lc(5);return n.stopPropagation(),a.preDelete(s)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",196),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.tc("matTooltip",i.nc(2,1,"lang.delete")))}function qe(t,e){1&t&&i.Ub(0,"mat-header-row")}function Xe(t,e){1&t&&i.Ub(0,"mat-row")}function Je(t,e){if(1&t&&(i.Zb(0,"mat-table",232,233),i.Xb(2,221),i.Qc(3,Ve,3,3,"mat-header-cell",234),i.Qc(4,He,2,1,"mat-cell",223),i.Wb(),i.Xb(5,224),i.Qc(6,Qe,3,3,"mat-header-cell",234),i.Qc(7,$e,2,1,"mat-cell",223),i.Wb(),i.Xb(8,110),i.Qc(9,We,1,0,"mat-header-cell",220),i.Qc(10,Ge,4,3,"mat-cell",235),i.Wb(),i.Qc(11,qe,1,0,"mat-header-row",113),i.Qc(12,Xe,1,0,"mat-row",236),i.Yb()),2&t){const t=i.lc(4);i.sc("dataSource",t.dataSourceContactsList),i.Eb(11),i.sc("matHeaderRowDef",t.displayedColumnsContactsList),i.Eb(1),i.sc("matRowDefColumns",t.displayedColumnsContactsList)}}function Ke(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",212),i.Zb(1,"mat-tab-group"),i.Zb(2,"mat-tab",24),i.mc(3,"translate"),i.Zb(4,"div",200),i.Zb(5,"div",91),i.Zb(6,"mat-form-field"),i.Zb(7,"input",92),i.hc("keyup",(function(e){return i.Hc(t),i.lc(3).applyFilterContactsList(e.target.value)})),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(9,"div",91),i.Ub(10,"mat-paginator",93,230),i.Yb(),i.Yb(),i.Qc(12,Je,13,3,"mat-table",231),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(3);i.Eb(2),i.vc("label","",t.contactsGroup.contacts.length," ",i.nc(3,7,"lang.relatedContacts"),""),i.Eb(5),i.tc("placeholder",i.nc(8,9,"lang.filterBy")),i.Eb(3),i.sc("length",0)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("ngIf",t.contactsListMode)}}function tn(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-tab",24),i.mc(1,"translate"),i.Zb(2,"mat-accordion"),i.Zb(3,"mat-expansion-panel",null,198),i.Zb(5,"mat-expansion-panel-header"),i.Zb(6,"mat-panel-title",80),i.Zb(7,"span",81),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",199),i.Zb(11,"div",200),i.Zb(12,"div",201),i.Zb(13,"mat-form-field",202),i.Zb(14,"span",203),i.Ub(15,"mat-icon",204),i.Sc(16,"\xa0\xa0 "),i.Yb(),i.Zb(17,"input",205),i.hc("keyup",(function(){return i.Hc(t),i.lc(2).launchLoading()})),i.mc(18,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(19,"div",91),i.Qc(20,Ae,1,1,"div",206),i.Yb(),i.Zb(21,"div",91),i.Ub(22,"mat-paginator",93,207),i.Yb(),i.Yb(),i.Qc(24,De,1,0,"mat-progress-bar",208),i.Qc(25,ze,13,3,"mat-table",209),i.Zb(26,"div",66),i.Zb(27,"div",210),i.Zb(28,"button",129),i.hc("click",(function(e){return i.Hc(t),i.lc(2).saveContactsList(e.target)})),i.Sc(29),i.mc(30,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(31,"div",211),i.Zb(32,"div",212),i.Zb(33,"form",135,83),i.hc("ngSubmit",(function(){return i.Hc(t),i.lc(2).updateGroupSubmit()})),i.Zb(35,"div",66),i.Zb(36,"div",84),i.Zb(37,"mat-form-field"),i.Zb(38,"input",85),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).contactsGroup.label=e})),i.mc(39,"translate"),i.mc(40,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(41,"div",66),i.Zb(42,"div",84),i.Zb(43,"mat-form-field"),i.Zb(44,"input",86),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).contactsGroup.description=e})),i.mc(45,"translate"),i.mc(46,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(47,"div",66),i.Zb(48,"div",84),i.Zb(49,"mat-slide-toggle",213),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).contactsGroup.public=e})),i.mc(50,"translate"),i.Sc(51),i.mc(52,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(53,"div",66),i.Zb(54,"div",88),i.Zb(55,"button",72),i.Sc(56),i.mc(57,"translate"),i.Yb(),i.Zb(58,"button",130),i.hc("click",(function(){return i.Hc(t),i.lc(2).initGroupsContact()})),i.Sc(59),i.mc(60,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(61,Ke,13,11,"div",214),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(34),e=i.lc(2);i.vc("label","",i.nc(1,26,"lang.grouping")," : ",e.contactsGroup.label,""),i.Eb(8),i.Tc(i.nc(9,28,"lang.linkContact")),i.Eb(9),i.tc("placeholder",i.nc(18,30,"lang.linkContact")),i.sc("formControl",e.searchTerm),i.Eb(3),i.sc("ngIf",e.dataSourceContactsListAutocomplete&&1e3==e.dataSourceContactsListAutocomplete.data.length),i.Eb(2),i.sc("length",0)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("ngIf",!e.dataSourceContactsListAutocomplete&&!e.initAutoCompleteContact),i.Eb(1),i.sc("ngIf",e.dataSourceContactsListAutocomplete),i.Eb(3),i.sc("disabled",0==e.selection.selected.length),i.Eb(1),i.Tc(i.nc(30,32,"lang.add")),i.Eb(9),i.tc("title",i.nc(39,34,"lang.label")),i.tc("placeholder",i.nc(40,36,"lang.label")),i.sc("ngModel",e.contactsGroup.label),i.Eb(6),i.tc("title",i.nc(45,38,"lang.description")),i.tc("placeholder",i.nc(46,40,"lang.description")),i.sc("ngModel",e.contactsGroup.description),i.Eb(5),i.tc("title",i.nc(50,42,"lang.public")),i.sc("ngModel",e.contactsGroup.public),i.Eb(2),i.Uc("",i.nc(52,44,"lang.public")," "),i.Eb(4),i.sc("disabled",!t.form.valid),i.Eb(1),i.Tc(i.nc(57,46,"lang.update")),i.Eb(3),i.Tc(i.nc(60,48,"lang.close")),i.Eb(2),i.sc("ngIf",e.contactsListMode)}}function en(t,e){1&t&&(i.Zb(0,"mat-header-cell",247),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.date")))}function nn(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"date"),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc("",i.oc(2,1,t.event_date,"dd/MM/y HH:mm")," ")}}function sn(t,e){1&t&&(i.Zb(0,"mat-header-cell",247),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.technicalId")))}function an(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Tc(t.record_id)}}function on(t,e){1&t&&(i.Zb(0,"mat-header-cell",247),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("",i.nc(2,1,"lang.description")," "))}function rn(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.info," ")}}function cn(t,e){1&t&&i.Ub(0,"mat-header-row")}function ln(t,e){1&t&&i.Ub(0,"mat-row")}function dn(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",90),i.Zb(1,"div",91),i.Zb(2,"mat-form-field"),i.Zb(3,"input",92),i.hc("keyup",(function(e){return i.Hc(t),i.lc(2).applyFilter(e.target.value)})),i.mc(4,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(5,"div",91),i.Ub(6,"mat-paginator",93,239),i.Yb(),i.Yb(),i.Zb(8,"mat-table",240,241),i.Xb(10,242),i.Qc(11,en,3,3,"mat-header-cell",243),i.Qc(12,nn,3,4,"mat-cell",244),i.Wb(),i.Xb(13,245),i.Qc(14,sn,3,3,"mat-header-cell",243),i.Qc(15,an,2,1,"mat-cell",244),i.Wb(),i.Xb(16,246),i.Qc(17,on,3,3,"mat-header-cell",243),i.Qc(18,rn,2,1,"mat-cell",244),i.Wb(),i.Qc(19,cn,1,0,"mat-header-row",113),i.Qc(20,ln,1,0,"mat-row",236),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(3),i.tc("placeholder",i.nc(4,7,"lang.filterBy")),i.Eb(3),i.sc("length",100)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("dataSource",t.dataSource),i.Eb(11),i.sc("matHeaderRowDef",t.displayedColumns),i.Eb(1),i.sc("matRowDefColumns",t.displayedColumns)}}function hn(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-card",22),i.Zb(1,"mat-tab-group",23),i.hc("selectedTabChange",(function(e){return i.Hc(t),i.lc().initComponents(e)})),i.Zb(2,"mat-tab",24),i.mc(3,"translate"),i.Qc(4,Yt,39,38,"div",25),i.Qc(5,Zt,45,46,"form",26),i.Yb(),i.Zb(6,"mat-tab",24),i.mc(7,"translate"),i.Zb(8,"mat-accordion"),i.Zb(9,"mat-expansion-panel"),i.Zb(10,"mat-expansion-panel-header"),i.Zb(11,"mat-panel-title"),i.Ub(12,"mat-icon",27),i.Zb(13,"span"),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Yb(),i.Qc(16,Nt,3,3,"mat-panel-description",28),i.Yb(),i.Zb(17,"div",29),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Zb(20,"div",30),i.Zb(21,"mat-form-field"),i.Zb(22,"mat-select",31),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().user.preferences.documentEdition=e}))("selectionChange",(function(){return i.Hc(t),i.lc().updateUserPreferences()})),i.Qc(23,Ut,2,2,"mat-option",32),i.Yb(),i.Zb(24,"mat-hint"),i.Sc(25),i.mc(26,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(27,"mat-expansion-panel"),i.Zb(28,"mat-expansion-panel-header"),i.Zb(29,"mat-panel-title"),i.Ub(30,"mat-icon",33),i.Ub(31,"mat-icon",34),i.Zb(32,"span"),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Yb(),i.Qc(35,Bt,3,3,"mat-panel-description",28),i.Yb(),i.Zb(36,"mat-list"),i.Qc(37,Qt,3,2,"ng-container",14),i.Yb(),i.Yb(),i.Zb(38,"mat-expansion-panel",35),i.Zb(39,"mat-expansion-panel-header"),i.Zb(40,"mat-panel-title"),i.Ub(41,"mat-icon",33),i.Ub(42,"mat-icon",36),i.Sc(43),i.mc(44,"translate"),i.Yb(),i.Qc(45,$t,3,3,"mat-panel-description",28),i.Yb(),i.Zb(46,"div",37),i.Zb(47,"mat-list"),i.Zb(48,"mat-list-item"),i.Zb(49,"mat-icon",38),i.Zb(50,"mat-checkbox",39),i.hc("change",(function(e){i.Hc(t);const n=i.lc();return e?n.masterToggleBaskets(e):null})),i.mc(51,"translate"),i.Yb(),i.Yb(),i.Zb(52,"p",17),i.Qc(53,Wt,3,3,"span",40),i.Qc(54,qt,1,5,"plugin-autocomplete",41),i.Yb(),i.Yb(),i.Ub(55,"mat-divider"),i.Qc(56,Kt,2,1,"ng-container",14),i.Yb(),i.Yb(),i.Zb(57,"div",37),i.Zb(58,"mat-tab-group"),i.Zb(59,"mat-tab",24),i.mc(60,"translate"),i.Zb(61,"mat-list"),i.Qc(62,te,14,9,"ng-container",14),i.Yb(),i.Yb(),i.Yb(),i.Zb(63,"mat-tab-group"),i.Zb(64,"mat-tab",24),i.mc(65,"translate"),i.Zb(66,"mat-list"),i.Qc(67,ne,18,13,"ng-container",14),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(68,"div",42),i.Yb(),i.Zb(69,"mat-expansion-panel",43),i.hc("opened",(function(){return i.Hc(t),i.lc().initMce()})),i.Zb(70,"mat-expansion-panel-header"),i.Zb(71,"mat-panel-title"),i.Ub(72,"mat-icon",44),i.Sc(73),i.mc(74,"translate"),i.Yb(),i.Qc(75,ie,3,3,"mat-panel-description",28),i.Yb(),i.Zb(76,"div",37),i.Zb(77,"form",45,46),i.hc("ngSubmit",(function(){return i.Hc(t),i.lc().submitEmailSignature()})),i.Zb(79,"div",47),i.Zb(80,"div",48),i.Zb(81,"mat-form-field"),i.Zb(82,"input",49),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().mailSignatureModel.title=e})),i.mc(83,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(84,"div",47),i.Zb(85,"div",48),i.Zb(86,"div",50),i.Ub(87,"textarea",51),i.Yb(),i.Yb(),i.Yb(),i.Zb(88,"div",52),i.Zb(89,"div",53),i.Qc(90,se,3,4,"button",54),i.Qc(91,ae,3,4,"button",55),i.Qc(92,oe,3,3,"button",56),i.Qc(93,re,3,3,"button",57),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(94,"div",37),i.Qc(95,ce,9,7,"div",58),i.Yb(),i.Ub(96,"div",42),i.Yb(),i.Zb(97,"mat-expansion-panel"),i.Zb(98,"mat-expansion-panel-header"),i.Zb(99,"mat-panel-title"),i.Ub(100,"mat-icon",59),i.Sc(101),i.mc(102,"translate"),i.Yb(),i.Qc(103,le,3,3,"mat-panel-description",28),i.Yb(),i.Zb(104,"div",60),i.Zb(105,"div",61),i.hc("click",(function(){return i.Hc(t),i.lc().clickOnUploader("uploadSignFile")}))("dragover",(function(){return i.Hc(t),i.lc().highlightMe=!0}))("dragleave",(function(){return i.Hc(t),i.lc().highlightMe=!1}))("onDropSuccess",(function(e){i.Hc(t);const n=i.lc();return n.dndUploadSignature(e),n.highlightMe=!1})),i.mc(106,"translate"),i.Sc(107),i.mc(108,"translate"),i.Yb(),i.Zb(109,"form",62,63),i.hc("ngSubmit",(function(){return i.Hc(t),i.lc().submitSignature()})),i.Zb(111,"div",48),i.Zb(112,"mat-form-field"),i.Zb(113,"input",64),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().signatureModel.label=e})),i.mc(114,"translate"),i.mc(115,"translate"),i.Yb(),i.Yb(),i.Zb(116,"div",65),i.Zb(117,"div",66),i.Zb(118,"input",67),i.hc("change",(function(e){return i.Hc(t),i.lc().uploadSignatureTrigger(e)})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(119,"div",68),i.Zb(120,"div",69),i.hc("click",(function(){return i.Hc(t),i.lc().clickOnUploader("uploadSignFile")})),i.Sc(121),i.mc(122,"translate"),i.Ub(123,"i",70),i.Sc(124," ( < 2MB) "),i.Yb(),i.Yb(),i.Qc(125,de,2,1,"div",71),i.Zb(126,"div",52),i.Zb(127,"div",53),i.Zb(128,"button",72),i.Sc(129),i.mc(130,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(131,"div",73),i.Zb(132,"div",74),i.Qc(133,he,12,12,"div",75),i.Yb(),i.Zb(134,"div"),i.Qc(135,ue,3,6,"button",76),i.Yb(),i.Yb(),i.Ub(136,"div",42),i.Yb(),i.Zb(137,"mat-expansion-panel",43),i.hc("opened",(function(){return i.Hc(t),i.lc().initGroupsContact()})),i.Zb(138,"mat-expansion-panel-header"),i.Zb(139,"mat-panel-title"),i.Ub(140,"mat-icon",77),i.Sc(141),i.mc(142,"translate"),i.Yb(),i.Qc(143,pe,3,3,"mat-panel-description",28),i.Yb(),i.Zb(144,"mat-tab-group",78),i.hc("selectedIndexChange",(function(e){i.Hc(t);const n=i.Dc(149);return i.lc().changeTabContactGrp(e),n.close()})),i.Zb(145,"mat-tab",24),i.mc(146,"translate"),i.Zb(147,"mat-accordion"),i.Zb(148,"mat-expansion-panel",43,79),i.hc("opened",(function(){return i.Hc(t),i.lc().initGroupsContact()})),i.Zb(150,"mat-expansion-panel-header"),i.Zb(151,"mat-panel-title",80),i.Zb(152,"span",81),i.Sc(153),i.mc(154,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(155,"form",82,83),i.hc("ngSubmit",(function(){i.Hc(t);const e=i.Dc(149);return i.lc().contactsGroupSubmit(),e.close()})),i.Zb(157,"div",66),i.Zb(158,"div",84),i.Zb(159,"mat-form-field"),i.Zb(160,"input",85),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().contactsGroup.label=e})),i.mc(161,"translate"),i.mc(162,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(163,"div",66),i.Zb(164,"div",84),i.Zb(165,"mat-form-field"),i.Zb(166,"input",86),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().contactsGroup.description=e})),i.mc(167,"translate"),i.mc(168,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(169,"div",66),i.Zb(170,"div",84),i.Zb(171,"mat-slide-toggle",87),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().contactsGroup.public=e})),i.mc(172,"translate"),i.Sc(173),i.mc(174,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(175,"div",66),i.Zb(176,"div",88),i.Zb(177,"button",72),i.Sc(178),i.mc(179,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(180,"div",89),i.Zb(181,"div",90),i.Zb(182,"div",91),i.Zb(183,"mat-form-field"),i.Zb(184,"input",92),i.hc("keyup",(function(e){return i.Hc(t),i.lc().applyFilterGroupsList(e.target.value)})),i.mc(185,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(186,"div",91),i.Ub(187,"mat-paginator",93,94),i.Yb(),i.Yb(),i.Zb(189,"mat-table",95,96),i.Xb(191,97),i.Qc(192,fe,3,5,"mat-header-cell",98),i.Qc(193,me,2,3,"mat-cell",99),i.Wb(),i.Xb(194,100),i.Qc(195,ge,3,3,"mat-header-cell",101),i.Qc(196,be,2,1,"mat-cell",102),i.Wb(),i.Xb(197,103),i.Qc(198,_e,3,3,"mat-header-cell",104),i.Qc(199,xe,3,2,"mat-cell",105),i.Wb(),i.Xb(200,106),i.Qc(201,we,3,5,"mat-header-cell",107),i.Qc(202,ke,3,4,"mat-cell",108),i.Wb(),i.Xb(203,109),i.Qc(204,Se,3,3,"mat-header-cell",104),i.Qc(205,Ee,2,1,"mat-cell",105),i.Wb(),i.Xb(206,110),i.Qc(207,Me,1,0,"mat-header-cell",111),i.Qc(208,Ie,4,3,"mat-cell",112),i.Wb(),i.Qc(209,Pe,1,0,"mat-header-row",113),i.Qc(210,Te,2,3,"mat-row",114),i.Yb(),i.Yb(),i.Yb(),i.Qc(211,tn,62,50,"mat-tab",115),i.Yb(),i.Ub(212,"div",42),i.Yb(),i.Yb(),i.Yb(),i.Zb(213,"mat-tab",24),i.mc(214,"translate"),i.Qc(215,dn,21,9,"ng-template",116),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(110),e=i.Dc(156),n=i.lc();i.Eb(1),i.sc("selectedIndex",n.selectedIndex),i.Eb(1),i.tc("label",i.nc(3,76,"lang.myInformations")),i.Eb(2),i.sc("ngIf",n.showPassword),i.Eb(1),i.sc("ngIf",!n.showPassword),i.Eb(1),i.tc("label",i.nc(7,78,"lang.myParameters")),i.Eb(8),i.Tc(i.nc(15,80,"lang.editorOption")),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(2),i.Tc(i.nc(19,82,"lang.documentEditor")),i.Eb(4),i.sc("ngModel",n.user.preferences.documentEdition),i.Eb(1),i.sc("ngForOf",n.editorsList),i.Eb(2),i.Tc(i.nc(26,84,"lang.documentEditor_"+n.user.preferences.documentEdition)),i.Eb(8),i.Tc(i.nc(34,86,"lang.basketsColor")),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(2),i.sc("ngForOf",n.user.regroupedBaskets),i.Eb(1),i.sc("expanded",n.myBasketExpansionPanel),i.Eb(5),i.Uc(" ",i.nc(44,88,"lang.myBaskets")," "),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(5),i.tc("matTooltip",i.nc(51,90,"lang.selectAll")),i.sc("checked",n.selectionBaskets.hasValue()),i.Eb(3),i.sc("ngIf",!n.selectionBaskets.hasValue()),i.Eb(1),i.sc("ngIf",n.selectionBaskets.hasValue()),i.Eb(2),i.sc("ngForOf",n.user.baskets),i.Eb(3),i.tc("label",i.nc(60,92,"lang.basketsRedirected")),i.Eb(3),i.sc("ngForOf",n.user.redirectedBaskets),i.Eb(2),i.tc("label",i.nc(65,94,"lang.basketsAssigned")),i.Eb(3),i.sc("ngForOf",n.user.assignedBaskets),i.Eb(6),i.Uc(" ",i.nc(74,96,"lang.mySignMail")," "),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(7),i.tc("placeholder",i.nc(83,98,"lang.label")),i.sc("ngModel",n.mailSignatureModel.title),i.Eb(8),i.sc("ngIf",-1==n.mailSignatureModel.selected),i.Eb(1),i.sc("ngIf",-1!=n.mailSignatureModel.selected),i.Eb(1),i.sc("ngIf",-1!=n.mailSignatureModel.selected),i.Eb(1),i.sc("ngIf",-1!=n.mailSignatureModel.selected),i.Eb(2),i.sc("ngForOf",n.user.emailSignatures),i.Eb(6),i.Uc(" ",i.nc(102,100,"lang.mySignSignatureBook")," "),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(2),i.Jb("dndFileHighlighted",n.highlightMe),i.tc("matTooltip",i.nc(106,102,"lang.uploadSignFileInfo")),i.Eb(2),i.Uc(" ",i.nc(108,104,"lang.uploadSignFile")," "),i.Eb(6),i.tc("title",i.nc(114,106,"lang.label")),i.tc("placeholder",i.nc(115,108,"lang.label")),i.sc("ngModel",n.signatureModel.label),i.Eb(6),i.sc("ngClass",i.zc(138,jt,""!=n.signatureModel.size?"col-md-10":"col-md-12")),i.Eb(2),i.Uc(" ",i.nc(122,110,"lang.clickOn")," "),i.Eb(4),i.sc("ngIf",n.signatureModel.size),i.Eb(3),i.sc("disabled",!t.form.valid||!n.signatureModel.size),i.Eb(1),i.Tc(i.nc(130,112,"lang.save")),i.Eb(4),i.sc("ngForOf",n.user.signatures),i.Eb(2),i.sc("ngIf",n.user.signatures.length>0),i.Eb(6),i.Uc(" ",i.nc(142,114,"lang.myContactsGroups")," "),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("selectedIndex",n.selectedIndexContactsGrp),i.Eb(1),i.tc("label",i.nc(146,116,"lang.contactGroupList")),i.Eb(8),i.Tc(i.nc(154,118,"lang.contactGroupCreate")),i.Eb(7),i.tc("title",i.nc(161,120,"lang.label")),i.tc("placeholder",i.nc(162,122,"lang.label")),i.sc("ngModel",n.contactsGroup.label),i.Eb(6),i.tc("title",i.nc(167,124,"lang.description")),i.tc("placeholder",i.nc(168,126,"lang.description")),i.sc("ngModel",n.contactsGroup.description),i.Eb(5),i.tc("title",i.nc(172,128,"lang.contactsGroupDesc")),i.sc("ngModel",n.contactsGroup.public),i.Eb(2),i.Uc(" ",i.nc(174,130,"lang.public"),""),i.Eb(4),i.sc("disabled",!e.form.valid),i.Eb(1),i.Tc(i.nc(179,132,"lang.save")),i.Eb(6),i.tc("placeholder",i.nc(185,134,"lang.filterBy")),i.Eb(3),i.sc("length",100)("hidePageSize",!0)("pageSize",5),i.Eb(2),i.sc("dataSource",n.dataSourceGroupsList),i.Eb(20),i.sc("matHeaderRowDef",n.displayedColumnsGroupsList),i.Eb(1),i.sc("matRowDefColumns",n.displayedColumnsGroupsList),i.Eb(1),i.sc("ngIf",n.contactsListMode),i.Eb(2),i.tc("label",i.nc(214,136,"lang.myHistoric"))}}function un(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item"),i.Ub(1,"mat-icon",248),i.Zb(2,"h4",17),i.Sc(3),i.Yb(),i.Zb(4,"p",17),i.Zb(5,"mat-form-field",249),i.Zb(6,"input",250),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.role=n})),i.mc(7,"translate"),i.mc(8,"translate"),i.Yb(),i.Zb(9,"mat-hint",251),i.mc(10,"translate"),i.Sc(11),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit;i.Eb(3),i.Tc(t.group_desc),i.Eb(3),i.tc("title",i.nc(7,6,"lang.role")),i.tc("placeholder",i.nc(8,8,"lang.role")),i.sc("ngModel",t.role),i.Eb(3),i.tc("matTooltip",i.nc(10,10,"lang.perimeter")),i.Eb(2),i.Tc(t.maarch_comment)}}function pn(t,e){1&t&&i.Ub(0,"mat-icon",256)}function fn(t,e){1&t&&i.Ub(0,"mat-icon",257)}function mn(t,e){1&t&&(i.Zb(0,"span",163),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.primary")))}const gn=function(t){return{"font-weight":t}};function bn(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item"),i.Qc(1,pn,1,0,"mat-icon",252),i.Qc(2,fn,1,0,"mat-icon",253),i.Zb(3,"h4",254),i.Sc(4),i.Qc(5,mn,3,3,"span",255),i.Yb(),i.Zb(6,"p",17),i.Zb(7,"mat-form-field",249),i.Zb(8,"input",250),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.user_role=n})),i.mc(9,"translate"),i.mc(10,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf","Y"==t.primary_entity),i.Eb(1),i.sc("ngIf","Y"!=t.primary_entity),i.Eb(1),i.tc("matTooltip",t.entity_label),i.sc("ngStyle",i.zc(13,gn,"Y"==t.primary_entity?"bold":"normal")),i.Eb(1),i.Uc(" ",t.entity_label," "),i.Eb(1),i.sc("ngIf","Y"==t.primary_entity),i.Eb(3),i.tc("title",i.nc(9,9,"lang.role")),i.tc("placeholder",i.nc(10,11,"lang.role")),i.sc("ngModel",t.user_role)}}let _n=(()=>{class t{constructor(t,e,n,i,s,a,o,r,l,d,h){this.translate=t,this.http=e,this.zone=n,this.notify=i,this.dialog=s,this._formBuilder=a,this.authService=o,this.headerService=r,this.appService=l,this.viewContainerRef=d,this.functions=h,this.highlightMe=!1,this.user={baskets:[]},this.histories=[],this.passwordModel={currentPassword:"",newPassword:"",reNewPassword:""},this.ruleText="",this.validPassword=!1,this.matchPassword=!1,this.hidePassword=!0,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.signatureModel={base64:"",base64ForJs:"",name:"",type:"",size:0,label:""},this.mailSignatureModel={selected:-1,htmlBody:"",title:""},this.userAbsenceModel=[],this.basketsToRedirect=[],this.showPassword=!1,this.selectedSignature=-1,this.selectedSignatureLabel="",this.loading=!1,this.selectedIndex=0,this.selectedIndexContactsGrp=0,this.loadingSign=!1,this.selectionBaskets=new c.c(!0,[]),this.myBasketExpansionPanel=!1,this.contactsGroups=[],this.displayedColumnsGroupsList=["label","description","nbContacts","public","actions"],this.contactsGroup={public:!1},this.initAutoCompleteContact=!0,this.searchTerm=new F.h,this.searchResult=[],this.displayedColumnsContactsListAutocomplete=["select","contact","address"],this.selection=new c.c(!0,[]),this.contactsListMode=!1,this.contactsList=[],this.displayedColumnsContactsList=["contact","address","actions"],this.displayedColumns=["event_date","record_id","info"],window.angularProfileComponent={componentAfterUpload:t=>this.processAfterUpload(t)},this.searchTerm.valueChanges.pipe(Object(nt.a)(500),Object(it.a)(t=>t.length>2),Object(st.a)(),Object(at.a)(t=>this.http.get("../rest/autocomplete/contacts",{params:{search:t}}))).subscribe(t=>{this.searchResult=t,this.dataSourceContactsListAutocomplete=new ct.o(this.searchResult),this.dataSourceContactsListAutocomplete.paginator=this.paginatorGroupsListAutocomplete}),this.http.get("../rest/documentEditors").pipe(Object(ot.a)(t=>{this.editorsList=t})).subscribe()}masterToggleBaskets(t){t.checked?this.user.baskets.forEach(t=>{t.userToDisplay||this.selectionBaskets.select(t)}):this.selectionBaskets.clear()}applyFilterGroupsList(t){t=(t=t.trim()).toLowerCase(),this.dataSourceGroupsList.filter=t}masterToggle(t){t.checked?this.dataSourceContactsListAutocomplete.data.forEach(t=>{$("#check_"+t.id+"-input").is(":disabled")||this.selection.select(t.id)}):this.selection.clear()}applyFilterContactsList(t){t=(t=t.trim()).toLowerCase(),this.dataSourceContactsList.filter=t}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}initComponents(t){this.selectedIndex=t.index,2==t.index?(this.appService.getViewMode()||this.sidenavRight.open(),this.http.get("../rest/history/users/"+this.user.id).subscribe(t=>{this.histories=t.histories,setTimeout(()=>{this.dataSource=new ct.o(this.histories),this.dataSource.sortingDataAccessor=this.functions.listSortingDataAccessor,this.dataSource.paginator=this.paginatorHistory,this.dataSource.sort=this.sortHistory},0)},t=>{this.notify.error(t.error.errors)})):1==t.index?this.sidenavRight.close():this.appService.getViewMode()||this.sidenavRight.open()}initMce(){tinymce.remove("textarea"),tinymce.baseURL="../node_modules/tinymce",tinymce.suffix=".min",tinymce.init({selector:"textarea#emailSignature",statusbar:!1,language:this.translate.instant("lang.langISO").replace("-","_"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant("lang.langISO").replace("-","_")}.js`,height:"200",plugins:["textcolor"],external_plugins:{maarch_b64image:"../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},menubar:!1,toolbar:"undo | bold italic underline | alignleft aligncenter alignright | maarch_b64image | forecolor",theme_buttons1_add:"fontselect,fontsizeselect",theme_buttons2_add_before:"cut,copy,paste,pastetext,pasteword,separator,search,replace,separator",theme_buttons2_add:"separator,insertdate,inserttime,preview,separator,forecolor,backcolor",theme_buttons3_add_before:"tablecontrols,separator",theme_buttons3_add:"separator,print,separator,ltr,rtl,separator,fullscreen,separator,insertlayer,moveforward,movebackward,absolut",theme_toolbar_align:"left",theme_advanced_toolbar_location:"top",theme_styles:"Header 1=header1;Header 2=header2;Header 3=header3;Table Row=tableRow1"})}initGroupsContact(){this.contactsListMode=!1,this.selectedIndexContactsGrp=0,this.http.get("../rest/contactsGroups").subscribe(t=>{this.contactsGroups=[],this.contactsGroup={public:!1,contacts:[]};let e=0;t.contactsGroups.forEach(t=>{t.owner==this.headerService.user.id&&(t.position=e,this.contactsGroups.push(t),e++)}),setTimeout(()=>{this.dataSourceGroupsList=new ct.o(this.contactsGroups),this.dataSourceGroupsList.paginator=this.paginatorGroupsList,this.dataSourceGroupsList.sort=this.sortGroupsList},0)},t=>{this.notify.handleErrors(t)})}contactsGroupSubmit(){this.http.post("../rest/contactsGroups",this.contactsGroup).subscribe(t=>{this.initGroupsContact(),this.notify.success(this.translate.instant("lang.contactsGroupAdded"))},t=>{this.notify.error(t.error.errors)})}updateGroupSubmit(){this.http.put("../rest/contactsGroups/"+this.contactsGroup.id,this.contactsGroup).subscribe(()=>{this.notify.success(this.translate.instant("lang.contactsGroupUpdated")),this.initGroupsContact()},t=>{this.notify.error(t.error.errors)})}deleteContactsGroup(t){var e=this.contactsGroups[t];confirm(this.translate.instant("lang.confirmAction")+" "+this.translate.instant("lang.delete")+" \xab "+e.label+" \xbb")&&this.http.delete("../rest/contactsGroups/"+e.id).subscribe(()=>{this.contactsListMode=!1;var e=this.contactsGroups.length-1;this.contactsGroups[t]=this.contactsGroups[e],this.contactsGroups[t].position=t,this.contactsGroups.splice(e,1),this.dataSourceGroupsList=new ct.o(this.contactsGroups),this.dataSourceGroupsList.paginator=this.paginatorGroupsList,this.notify.success(this.translate.instant("lang.contactsGroupDeleted"))},t=>{this.notify.error(t.error.errors)})}loadContactsGroup(t){this.contactsListMode=!0,this.http.get("../rest/contactsGroups/"+t.id).subscribe(t=>{this.contactsGroup=t.contactsGroup,setTimeout(()=>{this.dataSourceContactsList=new ct.o(this.contactsGroup.contacts),this.dataSourceContactsList.paginator=this.paginatorContactsList,this.dataSourceContactsList.sort=this.sortContactsList,this.selectedIndexContactsGrp=1},0)})}saveContactsList(t){t.textContent=this.translate.instant("lang.loading")+"...",t.disabled=!0,this.http.post("../rest/contactsGroups/"+this.contactsGroup.id+"/contacts",{contacts:this.selection.selected}).subscribe(e=>{this.notify.success(this.translate.instant("lang.contactAdded")),this.selection.clear(),t.textContent=this.translate.instant("lang.add"),this.contactsGroup=e.contactsGroup,setTimeout(()=>{this.dataSourceContactsList=new ct.o(this.contactsGroup.contacts),this.dataSourceContactsList.paginator=this.paginatorContactsList,this.dataSourceContactsList.sort=this.sortContactsList},0)},t=>{this.notify.error(t.error.errors)})}preDelete(t){confirm(this.translate.instant("lang.reallyWantToDeleteContactFromGroup"))&&this.removeContact(this.contactsGroup.contacts[t],t)}removeContact(t,e){this.http.delete("../rest/contactsGroups/"+this.contactsGroup.id+"/contacts/"+t.id).subscribe(()=>{var t=this.contactsGroup.contacts.length-1;this.contactsGroup.contacts[e]=this.contactsGroup.contacts[t],this.contactsGroup.contacts[e].position=e,this.contactsGroup.contacts.splice(t,1),this.dataSourceContactsList=new ct.o(this.contactsGroup.contacts),this.dataSourceContactsList.paginator=this.paginatorContactsList,this.dataSourceContactsList.sort=this.sortContactsList,this.notify.success(this.translate.instant("lang.contactDeletedFromGroup"))},t=>{this.notify.error(t.error.errors)})}launchLoading(){this.searchTerm.value.length>2&&(this.dataSourceContactsListAutocomplete=null,this.initAutoCompleteContact=!1)}isInGrp(t){let e=!1;return this.contactsGroup.contacts.forEach(n=>{n.id==t.id&&(e=!0)}),e}selectContact(t){$("#check_"+t+"-input").is(":disabled")||this.selection.toggle(t)}ngOnInit(){this.headerService.setHeader(this.translate.instant("lang.myProfile")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu"),this.loading=!0,this.http.get("../rest/currentUser/profile").subscribe(t=>{this.user=t,this.user.baskets.forEach((t,e)=>{this.user.baskets[e].disabled=!1,this.user.redirectedBaskets.forEach(n=>{t.basket_id==n.basket_id&&t.basket_owner==n.basket_owner&&(this.user.baskets[e].disabled=!0)})}),this.loading=!1})}processAfterUpload(t){this.zone.run(()=>this.resfreshUpload(t))}resfreshUpload(t){this.signatureModel.size<=2e6?(this.signatureModel.base64=t.replace(/^data:.*?;base64,/,""),this.signatureModel.base64ForJs=t):(this.signatureModel.name="",this.signatureModel.size=0,this.signatureModel.type="",this.signatureModel.base64="",this.signatureModel.base64ForJs="",this.notify.error("Taille maximum de fichier d\xe9pass\xe9e (2 MB)"))}displayPassword(){this.showPassword=!this.showPassword}clickOnUploader(t){$("#"+t).click()}uploadSignatureTrigger(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;this.signatureModel.name=t.target.files[0].name,this.signatureModel.size=t.target.files[0].size,this.signatureModel.type=t.target.files[0].type,""==this.signatureModel.label&&(this.signatureModel.label=this.signatureModel.name),e.readAsDataURL(t.target.files[0]),e.onload=t=>{window.angularProfileComponent.componentAfterUpload(t.target.result),this.submitSignature()}}}dndUploadSignature(t){if(t.mouseEvent.dataTransfer.files&&t.mouseEvent.dataTransfer.files[0]){var e=new FileReader;this.signatureModel.name=t.mouseEvent.dataTransfer.files[0].name,this.signatureModel.size=t.mouseEvent.dataTransfer.files[0].size,this.signatureModel.type=t.mouseEvent.dataTransfer.files[0].type,""==this.signatureModel.label&&(this.signatureModel.label=this.signatureModel.name),e.readAsDataURL(t.mouseEvent.dataTransfer.files[0]),e.onload=t=>{window.angularProfileComponent.componentAfterUpload(t.target.result),this.submitSignature()}}}displaySignatureEditionForm(t){this.selectedSignature=t,this.selectedSignatureLabel=this.user.signatures[t].signature_label}changeEmailSignature(t){this.mailSignatureModel.selected=t,tinymce.get("emailSignature").setContent(this.user.emailSignatures[t].html_body),this.mailSignatureModel.title=this.user.emailSignatures[t].title}resetEmailSignature(){this.mailSignatureModel.selected=-1,tinymce.get("emailSignature").setContent(""),this.mailSignatureModel.title=""}addBasketRedirection(t){let e=[];this.selectionBaskets.selected.forEach(n=>{e.push({actual_user_id:t.serialId,basket_id:n.basket_id,group_id:n.groupSerialId,originalOwner:null})}),confirm(this.translate.instant("lang.confirmAction")+" "+this.translate.instant("lang.redirectBasket"))&&this.http.post("../rest/users/"+this.user.id+"/redirectedBaskets",e).subscribe(t=>{this.user.baskets=t.baskets,this.user.redirectedBaskets=t.redirectedBaskets,this.selectionBaskets.clear(),this.notify.success(this.translate.instant("lang.basketUpdated"))},t=>{this.notify.error(t.error.errors)})}delBasketRedirection(t,e){confirm(this.translate.instant("lang.confirmAction"))&&this.http.delete("../rest/users/"+this.user.id+"/redirectedBaskets?redirectedBasketIds[]="+t.id).subscribe(t=>{this.user.baskets=t.baskets,this.user.redirectedBaskets.splice(e,1),this.notify.success(this.translate.instant("lang.basketUpdated"))},t=>{this.notify.error(t.error.errors)})}delBasketAssignRedirection(t,e){confirm(this.translate.instant("lang.confirmAction"))&&this.http.delete("../rest/users/"+this.user.id+"/redirectedBaskets?redirectedBasketIds[]="+t.id).subscribe(t=>{this.user.baskets=t.baskets,this.user.assignedBaskets.splice(e,1),this.notify.success(this.translate.instant("lang.basketUpdated"))},t=>{this.notify.error(t.error.errors)})}reassignBasketRedirection(t,e,n){confirm(this.translate.instant("lang.confirmAction")+" "+this.translate.instant("lang.redirectBasket"))&&this.http.post("../rest/users/"+this.user.id+"/redirectedBaskets",[{actual_user_id:t.serialId,basket_id:e.basket_id,group_id:e.group_id,originalOwner:e.owner_user_id}]).subscribe(t=>{this.user.baskets=t.baskets,this.user.assignedBaskets.splice(n,1),this.notify.success(this.translate.instant("lang.basketUpdated"))},t=>{this.notify.error(t.error.errors)})}updateBasketColor(t,e){this.http.put("../rest/currentUser/groups/"+this.user.regroupedBaskets[t].groupSerialId+"/baskets/"+this.user.regroupedBaskets[t].baskets[e].basket_id,{color:this.user.regroupedBaskets[t].baskets[e].color}).subscribe(t=>{this.user.regroupedBaskets=t.userBaskets,this.notify.success(this.translate.instant("lang.modificationSaved"))},t=>{this.notify.error(t.error.errors)})}activateAbsence(){confirm(this.translate.instant("lang.confirmToBeAbsent"))&&this.http.put("../rest/users/"+this.user.id+"/status",{status:"ABS"}).subscribe(()=>{this.authService.logout()},t=>{this.notify.error(t.error.errors)})}askRedirectBasket(){this.myBasketExpansionPanel=!1,this.viewPanels.forEach(t=>t.close()),confirm(this.translate.instant("lang.askRedirectBasketBeforeAbsence"))?(this.selectedIndex=1,setTimeout(()=>{this.myBasketExpansionPanel=!0},0)):this.activateAbsence()}updatePassword(){this.passwordModel.currentPassword=this.firstFormGroup.controls.currentPasswordCtrl.value,this.passwordModel.newPassword=this.firstFormGroup.controls.newPasswordCtrl.value,this.passwordModel.reNewPassword=this.firstFormGroup.controls.retypePasswordCtrl.value,this.http.put("../rest/users/"+this.user.id+"/password",this.passwordModel).subscribe(t=>{this.showPassword=!1,this.passwordModel={currentPassword:"",newPassword:"",reNewPassword:""},this.notify.success(this.translate.instant("lang.passwordUpdated"))},t=>{this.notify.error(t.error.errors)})}submitEmailSignature(){this.mailSignatureModel.htmlBody=tinymce.get("emailSignature").getContent(),this.http.post("../rest/currentUser/emailSignature",this.mailSignatureModel).subscribe(t=>{t.errors?this.notify.error(t.errors):(this.user.emailSignatures=t.emailSignatures,this.mailSignatureModel={selected:-1,htmlBody:"",title:""},tinymce.get("emailSignature").setContent(""),this.notify.success(this.translate.instant("lang.emailSignatureAdded")))})}updateEmailSignature(){this.mailSignatureModel.htmlBody=tinymce.get("emailSignature").getContent(),this.http.put("../rest/currentUser/emailSignature/"+this.user.emailSignatures[this.mailSignatureModel.selected].id,this.mailSignatureModel).subscribe(t=>{t.errors?this.notify.error(t.errors):(this.user.emailSignatures[this.mailSignatureModel.selected].title=t.emailSignature.title,this.user.emailSignatures[this.mailSignatureModel.selected].html_body=t.emailSignature.html_body,this.notify.success(this.translate.instant("lang.emailSignatureUpdated")))})}deleteEmailSignature(){confirm(this.translate.instant("lang.confirmDeleteMailSignature"))&&this.http.delete("../rest/currentUser/emailSignature/"+this.user.emailSignatures[this.mailSignatureModel.selected].id).subscribe(t=>{t.errors?this.notify.error(t.errors):(this.user.emailSignatures=t.emailSignatures,this.mailSignatureModel={selected:-1,htmlBody:"",title:""},tinymce.get("emailSignature").setContent(""),this.notify.success(this.translate.instant("lang.emailSignatureDeleted")))})}submitSignature(){this.http.post("../rest/users/"+this.user.id+"/signatures",this.signatureModel).subscribe(t=>{this.user.signatures=t.signatures,this.signatureModel={base64:"",base64ForJs:"",name:"",type:"",size:0,label:""},this.notify.success(this.translate.instant("lang.signatureAdded"))},t=>{this.notify.error(t.error.errors)})}updateSignature(t){this.http.put("../rest/users/"+this.user.id+"/signatures/"+t.id,{label:t.signature_label}).subscribe(t=>{this.notify.success(this.translate.instant("lang.signatureUpdated"))},t=>{this.notify.error(t.error.errors)})}deleteSignature(t){confirm(this.translate.instant("lang.confirmDeleteSignature"))&&this.http.delete("../rest/users/"+this.user.id+"/signatures/"+t).subscribe(t=>{this.user.signatures=t.signatures,this.notify.success(this.translate.instant("lang.signatureDeleted"))},t=>{this.notify.error(t.error.errors)})}onSubmit(){this.http.put("../rest/currentUser/profile",this.user).subscribe(()=>{this.notify.success(this.translate.instant("lang.modificationSaved")),this.headerService.user.firstname=this.user.firstname,this.headerService.user.lastname=this.user.lastname},t=>{this.notify.error(t.error.errors)})}updateUserPreferences(){this.http.put("../rest/currentUser/profile/preferences",{documentEdition:this.user.preferences.documentEdition}).subscribe(()=>{this.notify.success(this.translate.instant("lang.modificationSaved")),this.headerService.resfreshCurrentUser()},t=>{this.notify.error(t.error.errors)})}regexValidator(t,e){return n=>n.value?t.test(n.value)?null:e:null}changePasswd(){this.http.get("../rest/passwordRules").subscribe(t=>{let e=[],n=[],i=[];e.push(F.H.required),t.rules.forEach(t=>{"minLength"==t.label?(this.passwordRules.minLength.enabled=t.enabled,this.passwordRules.minLength.value=t.value,t.enabled&&(e.push(F.H.minLength(this.passwordRules.minLength.value)),n.push(t.value+" "+this.translate.instant("lang.password"+t.label)))):"complexityUpper"==t.label?(this.passwordRules.complexityUpper.enabled=t.enabled,this.passwordRules.complexityUpper.value=t.value,t.enabled&&(e.push(this.regexValidator(new RegExp("[A-Z]"),{complexityUpper:""})),n.push(this.translate.instant("lang.password"+t.label)))):"complexityNumber"==t.label?(this.passwordRules.complexityNumber.enabled=t.enabled,this.passwordRules.complexityNumber.value=t.value,t.enabled&&(e.push(this.regexValidator(new RegExp("[0-9]"),{complexityNumber:""})),n.push(this.translate.instant("lang.password"+t.label)))):"complexitySpecial"==t.label?(this.passwordRules.complexitySpecial.enabled=t.enabled,this.passwordRules.complexitySpecial.value=t.value,t.enabled&&(e.push(this.regexValidator(new RegExp("[^A-Za-z0-9]"),{complexitySpecial:""})),n.push(this.translate.instant("lang.password"+t.label)))):"renewal"==t.label?(this.passwordRules.renewal.enabled=t.enabled,this.passwordRules.renewal.value=t.value,t.enabled&&i.push(this.translate.instant("lang.password"+t.label)+" <b>"+t.value+" "+this.translate.instant("lang.days")+"</b>. "+this.translate.instant("lang.password2"+t.label)+".")):"historyLastUse"==t.label&&(this.passwordRules.historyLastUse.enabled=t.enabled,this.passwordRules.historyLastUse.value=t.value,t.enabled&&i.push(this.translate.instant("lang.passwordhistoryLastUseDesc")+" <b>"+t.value+"</b> "+this.translate.instant("lang.passwordhistoryLastUseDesc2")+"."))}),this.ruleText=n.join(", "),this.otherRuleText=i.join("<br/>"),this.firstFormGroup.controls.newPasswordCtrl.setValidators(e)},t=>{this.notify.error(t.error.errors)}),this.firstFormGroup=this._formBuilder.group({newPasswordCtrl:[""],retypePasswordCtrl:["",F.H.compose([F.H.required])],currentPasswordCtrl:["",F.H.compose([F.H.required])]},{validator:this.matchValidator}),this.validPassword=!1,this.firstFormGroup.controls.currentPasswordCtrl.setErrors(null),this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.firstFormGroup.controls.retypePasswordCtrl.setErrors(null),this.selectedIndex=0,this.showPassword=!0}matchValidator(t){return t.controls.newPasswordCtrl.value!=t.controls.retypePasswordCtrl.value&&(t.controls.retypePasswordCtrl.setErrors({mismatch:!0}),{mismatch:!0})}getErrorMessage(){return this.firstFormGroup.controls.retypePasswordCtrl.setErrors(this.firstFormGroup.controls.newPasswordCtrl.value!=this.firstFormGroup.controls.retypePasswordCtrl.value?{mismatch:!0}:null),this.firstFormGroup.controls.newPasswordCtrl.hasError("required")?this.translate.instant("lang.requiredField")+" !":this.firstFormGroup.controls.newPasswordCtrl.hasError("minlength")&&this.passwordRules.minLength.enabled?this.passwordRules.minLength.value+" "+this.translate.instant("lang.passwordminLength")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityUpper&&this.passwordRules.complexityUpper.enabled?this.translate.instant("lang.passwordcomplexityUpper")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityNumber&&this.passwordRules.complexityNumber.enabled?this.translate.instant("lang.passwordcomplexityNumber")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexitySpecial&&this.passwordRules.complexitySpecial.enabled?this.translate.instant("lang.passwordcomplexitySpecial")+" !":(this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.validPassword=!0,"")}showActions(t){$("#"+t.basket_id+"_"+t.group_id).show()}hideActions(t){$("#"+t.basket_id+"_"+t.group_id).hide()}toggleAddGrp(){this.initGroupsContact(),$("#contactsGroupFormUp").toggle(),$("#contactsGroupList").toggle()}toggleAddContactGrp(){$("#contactsGroupFormAdd").toggle()}changeTabContactGrp(t){this.selectedIndexContactsGrp=t,0==t&&this.initGroupsContact()}syncMP(){this.loadingSign=!0,this.http.put("../rest/users/"+this.user.id+"/externalSignatures",{}).subscribe(t=>{this.loadingSign=!1,this.notify.success(this.translate.instant("lang.signsSynchronized"))},t=>{this.loadingSign=!1,this.notify.handleErrors(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(i.B),i.Tb(p.a),i.Tb(j.b),i.Tb(F.g),i.Tb(h.a),i.Tb(u.a),i.Tb(f.a),i.Tb(i.R),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(xt,!0),i.Oc(wt,!0),i.ad(Ct,!0),i.ad(Ot,!0),i.ad(kt,!0),i.ad(St,!0),i.ad(Et,!0),i.ad(Mt,!0),i.ad(It,!0),i.ad(rt.c,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.paginatorGroupsList=n.first),i.Cc(n=i.ic())&&(e.sortGroupsList=n.first),i.Cc(n=i.ic())&&(e.paginatorGroupsListAutocomplete=n.first),i.Cc(n=i.ic())&&(e.paginatorContactsList=n.first),i.Cc(n=i.ic())&&(e.sortContactsList=n.first),i.Cc(n=i.ic())&&(e.paginatorHistory=n.first),i.Cc(n=i.ic())&&(e.sortHistory=n.first),i.Cc(n=i.ic())&&(e.viewPanels=n))},decls:27,vars:19,consts:[["autosize","",1,"maarch-container"],["adminMenuTemplate",""],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],["fixedTopGap","56","position","end",2,"overflow-x","hidden","max-width","500px",3,"mode","fixedInViewport","opened"],["snav2",""],["mat-subheader",""],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["color","warn","mat-list-icon","",1,"fa","fa-plane"],["mat-line",""],["mat-list-item","",3,"click",4,"ngIf"],["color","primary","mat-list-icon","",1,"fa","fa-key"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[3,"selectedIndex","selectedTabChange"],[3,"label"],["style","margin-bottom: 5%",4,"ngIf"],["class","form-horizontal",3,"ngSubmit",4,"ngIf"],["color","primary",1,"fa","fa-file-word",2,"font-size","25px","width","50px"],[4,"ngIf"],[1,"col-sm-12","col-md-4",2,"line-height","50px"],[1,"col-sm-12","col-md-8"],["name","documentEdition",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"fa","fa-inbox",2,"font-size","25px","width","50px"],["color","primary",1,"fa","fa-magic",2,"position","absolute","margin-left","30px","margin-top","-10px"],[3,"expanded"],["color","primary",1,"fa","fa-reply",2,"position","absolute","margin-left","30px","margin-top","-10px"],[1,"col-sm-6",2,"overflow","hidden"],["mat-list-icon","","color","primary"],["color","primary",3,"checked","matTooltip","change"],["style","opacity: 0.5;font-style: italic;font-size: 80%;",4,"ngIf"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent",4,"ngIf"],[2,"clear","both"],[3,"opened"],["color","primary",1,"fa","fa-envelope",2,"font-size","25px","width","50px"],[3,"ngSubmit"],["emailSignatureForm","ngForm"],[1,"row",2,"margin-top","5px"],[1,"col-md-12"],["matInput","","type","text","name","title","required","",3,"ngModel","placeholder","ngModelChange"],["id","html_mode",2,"display","block","width","100%"],["name","emailSignature","id","emailSignature","rows","15","cols","60",2,"width","100%"],[1,"col-md-12","form-group",2,"margin-top","10px"],[2,"text-align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","color","primary","type","button",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn","type","button",3,"click",4,"ngIf"],["mat-raised-button","","color","default","type","button",3,"click",4,"ngIf"],["class","col-md-6 col-sm-6 col-xm-12",4,"ngFor","ngForOf"],["color","primary",1,"fa","fa-certificate",2,"font-size","25px","width","50px"],[2,"overflow","hidden"],["dnd-droppable","",1,"dndFile",3,"matTooltip","click","dragover","dragleave","onDropSuccess"],[2,"display","none",3,"ngSubmit"],["signatureForm","ngForm"],["matInput","","type","text","id","signature_label","name","signature_label","required","",3,"title","placeholder","ngModel","ngModelChange"],[1,"form-inline","hide"],[1,"form-group"],["type","file","name","files[]","id","uploadSignFile","accept","image/*",3,"change"],[3,"ngClass"],[1,"upload-drop-zone",2,"cursor","pointer",3,"click"],[1,"fa","fa-upload","fa-2x"],["class","col-md-2",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[2,"display","flex","align-items","flex-start"],[2,"flex","1","overflow","hidden"],["class","col-md-4 col-sm-4 col-xm-6",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["color","primary",1,"fa","fa-users",2,"font-size","25px","width","50px"],[3,"selectedIndex","selectedIndexChange"],["createGrpContPan",""],["color","primary"],[2,"margin-top","5px"],["id","contactsGroupFormUp",1,"form-horizontal",3,"ngSubmit"],["contactsGroupFormUp","ngForm"],[1,"col-sm-12"],["matInput","","required","","name","label","id","label","type","text","maxlength","32",3,"ngModel","title","placeholder","ngModelChange"],["matInput","","required","","name","description","id","description","type","text","maxlength","255",3,"ngModel","title","placeholder","ngModelChange"],["name","plubic","id","plubic","color","primary",3,"title","ngModel","ngModelChange"],[1,"col-sm-12",2,"text-align","center"],["id","contactsGroupList",2,"margin-top","10px"],[1,"row"],[1,"col-md-6","col-xs-6"],["matInput","",3,"placeholder","keyup"],[3,"length","hidePageSize","pageSize"],["paginatorGroupsList",""],["matSort","","matSortActive","label","matSortDirection","asc",3,"dataSource"],["tableGroupsListSort","matSort"],["matColumnDef","label"],["mat-sort-header","","style","flex:2;",3,"hide-for-mobile",4,"matHeaderCellDef"],["style","flex:2;",3,"hide-for-mobile",4,"matCellDef"],["matColumnDef","description"],["mat-sort-header","","style","flex:2;",4,"matHeaderCellDef"],["style","flex:2;",4,"matCellDef"],["matColumnDef","nbContacts"],["mat-sort-header","","style","flex:1;",4,"matHeaderCellDef"],["style","flex:1;",4,"matCellDef"],["matColumnDef","public"],["mat-sort-header","","style","flex:1;",3,"hide-for-mobile",4,"matHeaderCellDef"],["style","flex:1;",3,"hide-for-mobile",4,"matCellDef"],["matColumnDef","owner"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["style","justify-content: flex-end;",4,"matCellDef"],[4,"matHeaderRowDef"],["style","cursor:pointer;",3,"matTooltip","click",4,"matRowDef","matRowDefColumns"],[3,"label",4,"ngIf"],["matTabContent",""],[2,"margin-bottom","5%"],[3,"formGroup"],[2,"padding","10px"],["matInput","","formControlName","currentPasswordCtrl","required","",3,"placeholder","type"],["matSuffix","",1,"fa","fa-2x",3,"ngClass","click"],[2,"text-align","center","color","rgba(0,0,0,0.54)","font-size","75%"],[1,"col-sm-6",2,"padding-left","0px","padding-right","0px"],["matInput","","formControlName","newPasswordCtrl","required","",3,"placeholder","type"],["inputPasswd",""],["matInput","","required","","formControlName","retypePasswordCtrl",3,"placeholder","type"],["inputPasswd2",""],["class","form-group",4,"ngIf"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["mat-raised-button","","color","default","type","button",3,"click"],["color","accent",1,"fa","fa-check"],["color","accent"],[1,"col-sm-12",2,"padding-left","0px","padding-right","0px"],["role","alert",1,"alert","alert-warning",2,"text-align","center",3,"innerHTML"],[1,"form-horizontal",3,"ngSubmit"],["profileForm","ngForm"],[1,"pull-left"],[1,"avatar",2,"font-size","90px","text-align","center"],[1,"fa","fa-user",2,"font-size","90px","padding-top","5px"],[1,"input-group"],["matInput","","type","text","disabled","",3,"title","value","placeholder"],[1,"col-sm-5",2,"font-weight","bold"],["matInput","","type","text","id","lastname","name","lastname","required","",3,"title","placeholder","ngModel","ngModelChange"],["matInput","","type","text","id","firstname","name","firstname","required","",3,"title","placeholder","ngModel","ngModelChange"],[1,"col-sm-2",2,"font-style","italic"],["matInput","","type","text","id","initials","name","initials",3,"title","placeholder","ngModel","ngModelChange"],["matInput","","type","tel","id","phone","name","phone","pattern","\\+?((|\\ |\\.|\\(|\\)|\\-)?(\\d)*)*\\d$",3,"title","placeholder","ngModel","ngModelChange"],["matInput","","type","email","id","mail","name","mail","pattern","(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$)","required","",3,"title","placeholder","ngModel","ngModelChange"],[1,"form-group",2,"margin-top","10px"],[3,"value"],["mat-list-icon","",1,"fa","fa-inbox",3,"ngStyle"],["mat-line","",3,"title"],["name","color","type","color",2,"background","none","border","none","height","20px","width","20px","padding","0","margin-right","15px",3,"ngModel","ngModelChange","change"],[2,"cursor","pointer","color","#666666",3,"title","click"],[1,"fa","fa-magic"],[2,"opacity","0.5","font-style","italic","font-size","80%"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent"],["style","cursor: pointer;",3,"mouseover","mouseout",4,"ngIf"],[2,"cursor","pointer",3,"mouseover","mouseout"],["mat-list-icon","","color","primary",4,"ngIf"],["mat-line","","color","primary",2,"display","flex","align-items","center"],[2,"flex","2","overflow","hidden","text-overflow","ellipsis",3,"matTooltip","click"],[1,"label","label-primary",2,"font-weight","normal"],["color","primary",3,"checked","click","change"],["mat-list-icon","","color","primary",1,"fa","fa-paper-plane",2,"margin-top","-60px"],["mat-line","","color","primary"],["type","text","color","warn","matInput","","disabled","",3,"value"],["mat-button","","color","warn","matSuffix","","mat-icon-button","","aria-label","Clear",3,"matTooltip","click"],["color","warn",1,"fa","fa-times","text-danger"],["mat-list-icon","","color","primary",1,"fa","fa-reply",2,"margin-top","-60px"],["color","primary",1,"fa","fa-edit"],["mat-raised-button","","color","warn","type","button",3,"click"],[1,"col-md-6","col-sm-6","col-xm-12"],[2,"margin-bottom","10px"],["floatLabel","never"],["matInput","","type","text","name","selectedEmailSignatureLabel","disabled","",3,"ngModel","placeholder","ngModelChange"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[1,"fa","fa-edit","fa-2x"],[1,"col-md-2"],["id","signaturePreview","alt","Image non valide",2,"width","100%",3,"src"],[1,"col-md-4","col-sm-4","col-xm-6"],["matInput","","type","text","name","selectedSignatureLabel",3,"ngModel","placeholder","ngModelChange","change"],["mat-button","","matSuffix","","mat-icon-button","","color","warn",3,"matTooltip","click"],[1,"fa","fa-times"],["alt","Signature",2,"max-width","100%","height","60px",3,"src"],["mat-icon-button","","color","primary",3,"matTooltip","disabled","click"],[1,"fa","fa-sync-alt","fa-2x"],["mat-sort-header","",2,"flex","2"],[2,"flex","2"],["mat-sort-header","",2,"flex","1"],[2,"flex","1"],["color","primary","style","font-weight:bold;",4,"ngIf"],["color","primary",2,"font-weight","bold"],[2,"justify-content","flex-end"],["mat-icon-button","","color","warn",3,"matTooltip","click"],["aria-hidden","true",1,"fa","fa-trash-alt","fa-2x"],[2,"cursor","pointer",3,"matTooltip","click"],["linkContPan",""],["id","contactsGroupFormAdd"],[1,"row",2,"margin","0px"],[1,"col-md-8",2,"padding","5px"],["hintLabel","3 caract\xe8res minimum"],["matPrefix",""],["color","primary",1,"fa","fa-user-plus"],["type","text","matInput","","autocomplete","off","minlength","3",1,"autocompleteSearch",3,"placeholder","formControl","keyup"],["class","alert alert-danger",3,"innerHTML",4,"ngIf"],["paginatorGroupsListAutocomplete",""],["mode","indeterminate",4,"ngIf"],[3,"dataSource",4,"ngIf"],[2,"text-align","center","margin-top","30px"],["id","contactsGroup",2,"margin-top","20px"],[1,"col-sm-6"],["name","public","id","public","color","primary",3,"title","ngModel","ngModelChange"],["class","col-sm-6",4,"ngIf"],[1,"alert","alert-danger",3,"innerHTML"],["mode","indeterminate"],[3,"dataSource"],["tableContactList",""],["matColumnDef","select"],["style","flex:1;",4,"matHeaderCellDef"],["matColumnDef","contact"],["style","flex:3;",4,"matHeaderCellDef"],["style","flex:3;",4,"matCellDef"],["matColumnDef","address"],["style","cursor: pointer;",3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["color","primary",3,"checked","change"],["color","primary",3,"id","disabled","checked","click","change"],[2,"flex","3"],[2,"cursor","pointer",3,"ngStyle","click"],["paginatorContactsList",""],["matSort","","matSortActive","contact","matSortDirection","asc",3,"dataSource",4,"ngIf"],["matSort","","matSortActive","contact","matSortDirection","asc",3,"dataSource"],["tableContactsListSort","matSort"],["mat-sort-header","","style","flex:3;",4,"matHeaderCellDef"],["style","justify-content: flex-end;flex:1;",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","",2,"flex","3"],[2,"justify-content","flex-end","flex","1"],["paginatorHistory",""],["matSort","","matSortActive","event_date","matSortDirection","desc",3,"dataSource"],["tableHistorySort","matSort"],["matColumnDef","event_date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","record_id"],["matColumnDef","info"],["mat-sort-header",""],["color","primary","mat-list-icon","",1,"fa","fa-users"],[2,"font-size","10px"],["matInput","","type","text","id","role","name","role","disabled","",3,"title","placeholder","ngModel","ngModelChange"],[3,"matTooltip"],["color","primary","mat-list-icon","","class","fa fa-sitemap",4,"ngIf"],["color","primary","mat-list-icon","","class","fa fa-sitemap","style","position:relative;",4,"ngIf"],["mat-line","",3,"ngStyle","matTooltip"],["class","label label-primary","style","font-weight:normal",4,"ngIf"],["color","primary","mat-list-icon","",1,"fa","fa-sitemap"],["color","primary","mat-list-icon","",1,"fa","fa-sitemap",2,"position","relative"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Qc(1,Tt,10,7,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content"),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Ub(7,"header-left"),i.Yb(),i.Zb(8,"div",5),i.Ub(9,"header-right"),i.Yb(),i.Yb(),i.Ub(10,"div",6),i.Yb(),i.Zb(11,"div",7),i.Zb(12,"div",8),i.Qc(13,At,2,0,"div",9),i.Qc(14,hn,216,140,"mat-card",10),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"mat-sidenav",11,12),i.Zb(17,"mat-list"),i.Zb(18,"h3",13),i.Sc(19),i.mc(20,"translate"),i.Yb(),i.Qc(21,un,12,12,"mat-list-item",14),i.Ub(22,"mat-divider"),i.Zb(23,"h3",13),i.Sc(24),i.mc(25,"translate"),i.Yb(),i.Qc(26,bn,11,15,"mat-list-item",14),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading),i.Eb(1),i.sc("mode",e.appService.getViewMode()?"over":"side")("fixedInViewport",e.appService.getViewMode())("opened",!e.appService.getViewMode()),i.Eb(4),i.Tc(i.nc(20,15,"lang.groups")),i.Eb(2),i.sc("ngForOf",e.user.groups),i.Eb(3),i.Tc(i.nc(25,17,"lang.entities")),i.Eb(2),i.sc("ngForOf",e.user.entities))},directives:[_.e,_.f,dt.a,ht.a,v.t,_.d,x.a,x.g,v.s,k.a,x.h,x.d,b.a,x.c,O.k,y.c,Y.a,ut.c,ut.a,rt.a,rt.c,rt.g,rt.h,Z.c,pt.a,F.t,F.w,Z.f,w.a,C.b,F.J,F.u,F.v,N.b,F.c,F.E,ft.d,v.q,g.b,F.o,mt.a,gt.a,ct.n,bt.a,ct.c,ct.i,ct.b,ct.k,ct.m,ut.b,F.l,F.j,Z.j,Z.b,F.A,rt.f,O.o,v.w,_t.a,Y.d,ct.h,bt.b,ct.a,ct.j,ct.l,Z.i,F.p,F.i,vt.a],pipes:[l.d,v.b,yt.a,v.f],styles:[".upload-drop-zone[_ngcontent-%COMP%]{font-size:16px;height:100px;border-width:2px;margin-bottom:20px;color:#ccc;border-style:dashed;border-color:#ccc;line-height:100px;text-align:center}.upload-drop-zone.drop[_ngcontent-%COMP%]{color:#222;border-color:#222}.avatar[_ngcontent-%COMP%]{text-decoration:none;background:#135f7f;color:#fff;width:100px;height:100px;border-radius:5px;display:block;overflow:hidden;margin:5px}"]}),t})();var vn=n("mrSG"),yn=n("JIr8"),xn=n("I65S");function wn(t,e){1&t&&(i.Zb(0,"div",10),i.Ub(1,"mat-spinner",11),i.Yb())}function Cn(t,e){if(1&t&&(i.Zb(0,"mat-card",12),i.Zb(1,"div",13),i.Zb(2,"h3"),i.Sc(3),i.Yb(),i.Zb(4,"em"),i.Sc(5,"Version : "),i.Zb(6,"a",14),i.Sc(7),i.Yb(),i.Yb(),i.Ub(8,"hr"),i.Zb(9,"p"),i.Zb(10,"em"),i.Sc(11),i.mc(12,"translate"),i.Yb(),i.Yb(),i.Zb(13,"p"),i.Sc(14),i.mc(15,"translate"),i.Zb(16,"a",15),i.Sc(17,"licence GNU GPLv3"),i.Yb(),i.Sc(18,"."),i.Yb(),i.Zb(19,"div"),i.Zb(20,"ul"),i.Zb(21,"li"),i.Sc(22),i.mc(23,"translate"),i.Zb(24,"a",16),i.Sc(25,"https://maarch.com"),i.Yb(),i.Yb(),i.Zb(26,"li"),i.Sc(27),i.mc(28,"translate"),i.Zb(29,"a",17),i.Sc(30,"https://community.maarch.org"),i.Yb(),i.Yb(),i.Zb(31,"li"),i.Sc(32),i.mc(33,"translate"),i.Zb(34,"a",18),i.Sc(35,"https://docs.maarch.org"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(36,"p"),i.Sc(37,"\xa0"),i.Yb(),i.Zb(38,"h3"),i.Sc(39),i.mc(40,"translate"),i.Yb(),i.Ub(41,"hr"),i.Zb(42,"em"),i.Sc(43),i.mc(44,"translate"),i.Yb(),i.Zb(45,"p"),i.Sc(46,"\xa0"),i.Yb(),i.Zb(47,"ul"),i.Zb(48,"li"),i.Zb(49,"a",19),i.Sc(50,"Angular"),i.Yb(),i.Yb(),i.Zb(51,"li"),i.Zb(52,"a",20),i.Sc(53,"Angular Material"),i.Yb(),i.Yb(),i.Zb(54,"li"),i.Zb(55,"a",21),i.Sc(56,"Bootstrap"),i.Yb(),i.Yb(),i.Zb(57,"li"),i.Zb(58,"a",22),i.Sc(59,"Font Awesome"),i.Yb(),i.Yb(),i.Zb(60,"li"),i.Zb(61,"a",23),i.Sc(62,"Fpdf"),i.Yb(),i.Yb(),i.Zb(63,"li"),i.Zb(64,"a",24),i.Sc(65,"fpdi"),i.Yb(),i.Yb(),i.Zb(66,"li"),i.Zb(67,"a",25),i.Sc(68,"Jquery"),i.Yb(),i.Yb(),i.Zb(69,"li"),i.Zb(70,"a",26),i.Sc(71,"Jquery Typeahead"),i.Yb(),i.Yb(),i.Zb(72,"li"),i.Zb(73,"a",27),i.Sc(74,"log4php"),i.Yb(),i.Yb(),i.Zb(75,"li"),i.Zb(76,"a",28),i.Sc(77,"Pdfb"),i.Yb(),i.Yb(),i.Zb(78,"li"),i.Zb(79,"a",29),i.Sc(80,"Pdftotext"),i.Yb(),i.Yb(),i.Zb(81,"li"),i.Zb(82,"a",30),i.Sc(83,"Tiny But Strong"),i.Yb(),i.Yb(),i.Zb(84,"li"),i.Zb(85,"a",31),i.Sc(86,"TinyMCE"),i.Yb(),i.Yb(),i.Zb(87,"li"),i.Zb(88,"a",32),i.Sc(89,"Zend Lucene Search"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(90,"div",33),i.Zb(91,"h3"),i.Sc(92,"Cr\xe9dits"),i.Yb(),i.Ub(93,"hr"),i.Zb(94,"ul"),i.Zb(95,"li"),i.Sc(96,"Florian AZIZIAN, Damien BUREL, Bruno CARLIN, Carole COTIN, Prosper DE LAURE, Driss DEMIRAY, Ga\xebl DE VILLEBLANCHE, Emmanuel DILLARD, Mathieu DONZEL, Jean-Louis ERCOLANI, Claire FIGUERAS, Laurent GIOVANNONI, Guillaume HEURTIER, Henri QUENEAU, Kader KANE, Yves-Christian KPAKPO, Alexandre MORIN, S\xe9bastien NANABONDJA, Fod\xe9 NDIAYE, C\xe9dric NDOUMBA, Alex ORLUC, Alexis RAGOT, Alexandre STEFANOVIC, Serge THIERRY-MIEG, Cyril VAZQUEZ, Arnaud VEBER, Loic VINET"),i.Yb(),i.Ub(97,"br"),i.Zb(98,"li"),i.Zb(99,"em"),i.Sc(100),i.mc(101,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(102,"p"),i.Sc(103,"\xa0"),i.Yb(),i.Zb(104,"div",34),i.Ub(105,"mat-icon",35),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.lc();i.Eb(3),i.Uc("Maarch Courrier ",t.applicationVersion," "),i.Eb(3),i.uc("href","https://labs.maarch.org/maarch/MaarchCourrier/commit/",t.commitHash,"",i.Kc),i.Eb(1),i.Tc(t.commitHash),i.Eb(4),i.Uc("Copyright \xa9 2008-2020 Maarch SAS ",i.nc(12,11,"lang.groupeCompany"),""),i.Eb(3),i.Uc("",i.nc(15,13,"lang.maarchLicence")," "),i.Eb(8),i.Uc("",i.nc(23,15,"lang.officialWebsite")," : "),i.Eb(5),i.Uc("",i.nc(28,17,"lang.community")," : "),i.Eb(5),i.Uc("",i.nc(33,19,"lang.documentation")," : "),i.Eb(7),i.Tc(i.nc(40,21,"lang.externalComponents")),i.Eb(4),i.Tc(i.nc(44,23,"lang.thanksToExtDev")),i.Eb(57),i.Tc(i.nc(101,25,"lang.thanksToCommunity"))}}let On=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.headerService=i,this.appService=s,this.loading=!1,this.commitHash=this.translate.instant("lang.undefined")}ngOnInit(){return Object(vn.a)(this,void 0,void 0,(function*(){this.headerService.setHeader(this.translate.instant("lang.aboutUs")),this.applicationVersion=s.a.VERSION,this.loading=!1,yield this.loadCommitInformation()}))}loadCommitInformation(){return new Promise(t=>{this.http.get("../rest/commitInformation").pipe(Object(ot.a)(e=>{this.commitHash=null!==e.hash?e.hash:this.translate.instant("lang.undefined"),console.log(e),t(!0)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(u.a),i.Tb(f.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:13,vars:8,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[1,"col-sm-8"],["target","blank",3,"href"],["target","blank","href","http://www.gnu.org/licenses/gpl-3.0-standalone.html"],["target","blank","href","https://maarch.com/"],["target","blank","href","https://community.maarch.org/"],["target","blank","href","https://docs.maarch.org/"],["target","blank","href","https://angular.io/"],["target","blank","href","https://material.angular.io/"],["target","blank","href","http://getbootstrap.com/"],["target","blank","href","http://fortawesome.github.io/Font-Awesome/"],["target","blank","href","http://www.fpdf.org/"],["target","blank","href","http://www.setasign.de/products/pdf-php-solutions/fpdi/"],["target","blank","href","https://jquery.com/"],["target","blank","href","https://github.com/running-coder/jquery-typeahead"],["target","blank","href","http://logging.apache.org/log4php/"],["target","blank","href","http://chir.ag/tech/download/pdfb"],["target","blank","href","http://www.foolabs.com/xpdf/"],["target","blank","href","http://www.tinybutstrong.com/"],["target","blank","href","http://www.tinymce.com/"],["target","blank","href","http://framework.zend.com/"],[1,"col-sm-4"],[1,"img_credits_maarch_box"],["svgIcon","maarchBox",2,"width","100%","height","auto"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Qc(11,wn,2,0,"div",8),i.Qc(12,Cn,106,27,"mat-card",9),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[_.e,_.f,dt.a,ht.a,v.t,y.c,Y.a,b.a],pipes:[l.d],styles:[".img_credits_maarch_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})();var kn=n("pWCv"),Sn=n("rNzc"),En=n("jhN1"),Mn=n("d7/a"),In=n("zZ42"),Pn=n("nYR2");function Tn(t,e){1&t&&(i.Zb(0,"div",8),i.Ub(1,"mat-spinner",9),i.Yb())}const An=function(t,e,n){return{"fa-file-signature":t,"fa-thumbs-up":e,"fa-comment-dots":n}};function Dn(t,e){if(1&t&&(i.Zb(0,"td",10),i.Zb(1,"div",11),i.Ub(2,"mat-icon",12),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",13),i.Sc(5),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.Eb(2),i.tc("title",i.nc(3,4,"lang.to_"+t.mode)),i.sc("ngClass",i.Bc(6,An,"sign"==t.mode,"visa"==t.mode,"note"==t.mode)),i.Eb(2),i.tc("title",t.reference),i.Eb(1),i.Uc(" ",t.reference," ")}}function Rn(t,e){if(1&t&&(i.Zb(0,"td",14),i.Zb(1,"div",15),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.tc("title",t.title),i.Eb(2),i.Tc(t.title)}}function Ln(t,e){if(1&t){const t=i.ac();i.Zb(0,"tr",16),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc().goTo(n)})),i.Yb()}}function Fn(t,e){1&t&&(i.Zb(0,"div",17),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noResult"),"\n"))}let jn=(()=>{class t{constructor(t,e,n,s,a){this.translate=t,this.http=e,this.dialog=n,this.notify=s,this.headerService=a,this.loading=!0,this.userList=[],this.displayedColumns=["id","title"],this.maarchParapheurUrl="",this.triggerEvent=new i.o,this.dataSource=new ct.o(this.userList)}ngOnInit(){this.loading=!0}ngAfterViewInit(){this.http.get("../rest/home/maarchParapheurDocuments").pipe(Object(Pn.a)(()=>this.loading=!1)).subscribe(t=>{setTimeout(()=>{this.dataSource=new ct.o(t.documents),this.maarchParapheurUrl=t.url,this.triggerEvent.emit(t.count.current)},0)},t=>{this.notify.handleErrors(t)})}goTo(t){window.open(this.maarchParapheurUrl+"/dist/index.html#/documents/"+t.id,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(j.b),i.Tb(p.a),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-maarch-parapheur-list"]],outputs:{triggerEvent:"triggerEvent"},decls:8,vars:4,consts:[["style","display:flex;height:100%;",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","asc",2,"width","100%","table-layout","fixed",3,"dataSource"],["matColumnDef","id"],["mat-cell","","style","width:15%;text-align:center;overflow:hidden;text-overflow: ellipsis;white-space: nowrap;padding: 5px;vertical-align: middle;",4,"matCellDef"],["matColumnDef","title"],["mat-cell","","style","width:45%;overflow:hidden;text-overflow: ellipsis;padding: 5px;vertical-align: middle;",4,"matCellDef"],["mat-row","","style","cursor:pointer;",3,"click",4,"matRowDef","matRowDefColumns"],["class","noResult",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["mat-cell","",2,"width","15%","text-align","center","overflow","hidden","text-overflow","ellipsis","white-space","nowrap","padding","5px","vertical-align","middle"],[2,"overflow","hidden","text-overflow","ellipsis"],["color","primary",1,"fas","fa-2x",3,"ngClass","title"],[2,"padding-top","5px","color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis",3,"title"],["mat-cell","",2,"width","45%","overflow","hidden","text-overflow","ellipsis","padding","5px","vertical-align","middle"],[2,"overflow","hidden","line-height","1.5em","height","3em","overflow","hidden",3,"title"],["mat-row","",2,"cursor","pointer",3,"click"],[1,"noResult"]],template:function(t,e){1&t&&(i.Qc(0,Tn,2,0,"div",0),i.Zb(1,"table",1),i.Xb(2,2),i.Qc(3,Dn,6,10,"td",3),i.Wb(),i.Xb(4,4),i.Qc(5,Rn,4,2,"td",5),i.Wb(),i.Qc(6,Ln,1,0,"tr",6),i.Yb(),i.Qc(7,Fn,3,3,"div",7)),2&t&&(i.sc("ngIf",e.loading),i.Eb(1),i.sc("dataSource",e.dataSource),i.Eb(5),i.sc("matRowDefColumns",e.displayedColumns),i.Eb(1),i.sc("ngIf",0===e.dataSource.filteredData.length))},directives:[v.t,ct.n,bt.a,ct.c,ct.b,ct.m,y.c,ct.a,b.a,v.q,ct.l],pipes:[l.d],styles:[".noResult[_ngcontent-%COMP%]{padding:10px;text-align:center;opacity:.5}"]}),t})();var Yn=n("TU8p"),Zn=n("ZI/H"),Nn=n("0ST6");function Un(t,e){if(1&t&&(i.Zb(0,"mat-card",13),i.Zb(1,"div",14),i.Zb(2,"div",15),i.Ub(3,"span",16),i.Yb(),i.Yb(),i.Zb(4,"div",17),i.Zb(5,"button",18),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.lc();i.Eb(3),i.sc("innerHTML",t.homeMessage,i.Ic),i.Eb(3),i.Tc(i.nc(7,2,"lang.aboutUs"))}}function Bn(t,e){if(1&t&&(i.Zb(0,"span",21),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc(2);i.Jb("noDoc",0===t.nbMpDocs),i.tc("matBadge",t.nbMpDocs),i.Eb(1),i.Tc(i.nc(2,4,"lang.maarchParapheurDocuments"))}}function zn(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-tab"),i.Qc(1,Bn,3,6,"ng-template",19),i.Zb(2,"app-maarch-parapheur-list",20),i.hc("triggerEvent",(function(e){return i.Hc(t),i.lc().updateNbMpDocs(e)})),i.Yb(),i.Yb()}}function Vn(t,e){1&t&&(i.Zb(0,"div",25),i.Ub(1,"mat-spinner",26),i.Yb())}function Hn(t,e){if(1&t&&(i.Zb(0,"div",41),i.mc(1,"date"),i.Ub(2,"i",42),i.mc(3,"translate"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.uc("id","",t.res_id,"_creation_date"),i.tc("title",i.oc(1,4,t.creation_date,e.translate.instant("lang.onRange")+" dd/MM/y "+e.translate.instant("lang.atRange")+" HH:mm")),i.Eb(2),i.tc("title",i.nc(3,7,"lang.creationDate")),i.Eb(2),i.Uc(" ",i.nc(5,9,t.creation_date)," ")}}function Qn(t,e){1&t&&(i.Zb(0,"span",43),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}const $n=function(t){return{width:t}},Wn=function(t){return{color:t}};function Gn(t,e){if(1&t&&(i.Zb(0,"td",35),i.Qc(1,Hn,6,11,"div",36),i.Zb(2,"div",37),i.Ub(3,"mat-icon",38),i.Qc(4,Qn,3,3,"span",39),i.Yb(),i.Zb(5,"div",40),i.Sc(6),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc(3);i.sc("ngStyle",i.zc(16,$n,n.appService.getViewMode()?"30%":"15%")),i.Eb(1),i.sc("ngIf",null==t.closing_date&&n.appService.getViewMode()),i.Eb(2),i.Ib("",t.status_icon.charAt(0),"",t.status_icon.charAt(1)," ",t.status_icon," ",t.status_icon.charAt(0),"",t.status_icon.charAt(1),"-2x"),i.vc("title","",t.status_label," (",t.status_id,")"),i.sc("ngStyle",i.zc(18,Wn,t.priority_color)),i.Eb(1),i.sc("ngIf","Y"===t.confidentiality),i.Eb(1),i.vc("title","",t.alt_identifier," (n\xb0",t.res_id,")"),i.Eb(1),i.Uc(" ",t.alt_identifier," ")}}function qn(t,e){if(1&t&&(i.Zb(0,"div",47),i.Ub(1,"i",48),i.mc(2,"translate"),i.Sc(3,"\xa0 "),i.Ub(4,"span",49),i.mc(5,"timeLimit"),i.mc(6,"date"),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.tc("title",i.nc(2,3,"lang.processLimitDate")),i.Eb(3),i.tc("title",i.oc(6,7,t.process_limit_date,e.translate.instant("lang.onRange")+" dd/MM/y "+e.translate.instant("lang.atRange")+" HH:mm")),i.sc("innerHTML",i.nc(5,5,t.process_limit_date),i.Ic)}}function Xn(t,e){if(1&t&&(i.Zb(0,"td",44),i.Qc(1,qn,7,10,"div",45),i.Zb(2,"div",46),i.Zb(3,"span"),i.Sc(4),i.Yb(),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc(3);i.Eb(1),i.sc("ngIf",null==t.closing_date&&n.appService.getViewMode()),i.Eb(1),i.tc("title",t.subject),i.Eb(2),i.Tc(t.subject)}}function Jn(t,e){if(1&t&&(i.Zb(0,"div",41),i.mc(1,"date"),i.Ub(2,"i",42),i.mc(3,"translate"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.uc("id","",t.res_id,"_creation_date"),i.tc("title",i.oc(1,4,t.creation_date,e.translate.instant("lang.onRange")+" dd/MM/y "+e.translate.instant("lang.atRange")+" HH:mm")),i.Eb(2),i.tc("title",i.nc(3,7,"lang.creationDate")),i.Eb(2),i.Uc(" ",i.nc(5,9,t.creation_date)," ")}}function Kn(t,e){if(1&t&&(i.Zb(0,"div",54),i.Ub(1,"i",48),i.mc(2,"translate"),i.Sc(3,"\xa0 "),i.Ub(4,"span",49),i.mc(5,"timeLimit"),i.mc(6,"date"),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.tc("title",i.nc(2,3,"lang.processLimitDate")),i.Eb(3),i.tc("title",i.oc(6,7,t.process_limit_date,e.translate.instant("lang.onRange")+" dd/MM/y "+e.translate.instant("lang.atRange")+" HH:mm")),i.sc("innerHTML",i.nc(5,5,t.process_limit_date),i.Ic)}}function ti(t,e){if(1&t&&(i.Zb(0,"div",54),i.Ub(1,"i",55),i.mc(2,"translate"),i.Sc(3,"\xa0 "),i.Zb(4,"span",56),i.mc(5,"date"),i.Sc(6),i.mc(7,"timeAgo"),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.tc("title",i.nc(2,3,"lang.closingDate")),i.Eb(3),i.tc("title",i.oc(5,5,t.closing_date,e.translate.instant("lang.onRange")+" dd/MM/y "+e.translate.instant("lang.atRange")+" HH:mm")),i.Eb(2),i.Tc(i.nc(7,8,t.closing_date))}}const ei=function(t){return[t]};function ni(t,e){if(1&t){const t=i.ac();i.Zb(0,"td",50),i.Qc(1,Jn,6,11,"div",36),i.Qc(2,Kn,7,10,"div",51),i.Qc(3,ti,8,10,"div",51),i.Zb(4,"div"),i.Zb(5,"button",52),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.viewDocument(s)}))("mouseenter",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).viewThumbnail(n)}))("mouseleave",(function(){return i.Hc(t),i.lc(3).closeThumbnail()})),i.Ub(6,"mat-icon",53),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(3);i.Eb(1),i.sc("ngIf",null==t.closing_date),i.Eb(1),i.sc("ngIf",null==t.closing_date),i.Eb(1),i.sc("ngIf",null!=t.closing_date),i.Eb(2),i.tc("title",n.translate.instant(t.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!t.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(6,ei,t.hasDocument?"fa-eye":"fa-eye-slash"))}}function ii(t,e){if(1&t){const t=i.ac();i.Zb(0,"tr",57),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).goToDetail(n)})),i.Yb()}}function si(t,e){if(1&t&&(i.Zb(0,"table",27),i.Xb(1,28),i.Qc(2,Gn,7,20,"td",29),i.Wb(),i.Xb(3,30),i.Qc(4,Xn,5,3,"td",31),i.Wb(),i.Xb(5,32),i.Qc(6,ni,7,8,"td",33),i.Wb(),i.Qc(7,ii,1,0,"tr",34),i.Yb()),2&t){const t=i.lc(2);i.sc("dataSource",t.dataSource),i.Eb(7),i.sc("matRowDefColumns",t.displayedColumns)}}function ai(t,e){if(1&t&&(i.Zb(0,"mat-tab",22),i.mc(1,"translate"),i.Qc(2,Vn,2,0,"div",23),i.Qc(3,si,8,2,"table",24),i.Yb()),2&t){const t=i.lc();i.tc("label",i.nc(1,3,"lang.myLastResources")),i.Eb(2),i.sc("ngIf",t.loading),i.Eb(1),i.sc("ngIf",!t.loading)}}let oi=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c){this.translate=t,this.http=e,this.dialog=n,this.sanitizer=i,this.notify=s,this.headerService=a,this.appService=o,this.router=r,this.featureTourService=c,this.loading=!1,this.docUrl="",this.currentDate="",this.nbMpDocs=0,this.displayedColumns=["res_id","subject","creation_date"],window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js"}ngOnInit(){this.loading=!0,this.appService.getViewMode()&&(this.displayedColumns=["res_id","subject"]),this.headerService.setHeader(this.translate.instant("lang.home"));const t=new Date;this.currentDate=t.toLocaleDateString(this.translate.instant("lang.langISO"),{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.http.get("../rest/home").subscribe(t=>{this.homeData=t,this.homeMessage=t.homeMessage})}ngAfterViewInit(){"root_visible"!==this.headerService.user.mode&&"root_invisible"!==this.headerService.user.mode||this.featureTourService.init(),this.http.get("../rest/home/lastRessources").subscribe(t=>{setTimeout(()=>{this.dataSource=new ct.o(t.lastResources),this.loading=!1},0)})}viewDocument(t){this.http.get(`../rest/resources/${t.res_id}/content?mode=view`,{responseType:"blob"}).pipe(Object(kn.tap)(e=>{const n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),s=window.open();s.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${i}" frameborder="0" allowfullscreen></iframe>`),s.document.title=t.alt_identifier}),Object(Sn.catchError)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}viewThumbnail(t){const e=+new Date;this.thumbnailUrl="../rest/resources/"+t.res_id+"/thumbnail?tsp="+e,$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"})}closeThumbnail(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}goToDetail(t){this.http.get("../rest/resources/"+t.res_id+"/isAllowed").subscribe(e=>{e.isAllowed?this.router.navigate(["/resources/"+t.res_id]):this.notify.error(this.translate.instant("lang.documentOutOfPerimeter"))},()=>{this.notify.error(this.translate.instant("lang.errorOccured"))})}updateNbMpDocs(t){this.nbMpDocs=t}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(j.b),i.Tb(En.b),i.Tb(p.a),i.Tb(u.a),i.Tb(f.a),i.Tb(o.c),i.Tb(Mn.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.ad(rt.c,!0),2&t&&i.Cc(n=i.ic())&&(e.viewPanels=n)},decls:19,vars:14,consts:[["autosize","","joyrideStep","welcome","stepPosition","center",1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],["style","background: #135F7F;color: white;box-shadow: none;border: solid 2px white;width: 100%;border-radius: 20px;padding-bottom: 40px;",4,"ngIf"],[1,"container"],[1,"container-content"],[4,"ngIf"],[3,"label",4,"ngIf"],[2,"background","#135F7F","color","white","box-shadow","none","border","solid 2px white","width","100%","border-radius","20px","padding-bottom","40px"],[2,"display","flex","max-height","250px","overflow","auto"],[2,"padding-left","10px"],[3,"innerHTML"],[2,"text-align","right","opacity","0.5"],["mat-button","","routerLink","/about-us",2,"position","absolute","font-size","10px","right","0px","bottom","0px"],["matTabLabel",""],[3,"triggerEvent"],["matBadgeOverlap","false",3,"matBadge"],[3,"label"],["style","display:flex;height:100%;",4,"ngIf"],["mat-table","","matSort","","matSortActive","res_id","matSortDisableClear","","matSortDirection","asc","style","width:100%;table-layout: fixed;",3,"dataSource",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["mat-table","","matSort","","matSortActive","res_id","matSortDisableClear","","matSortDirection","asc",2,"width","100%","table-layout","fixed",3,"dataSource"],["matColumnDef","res_id"],["class","first_col","mat-cell","",3,"ngStyle",4,"matCellDef"],["matColumnDef","subject"],["mat-cell","","style","width:45%;overflow:hidden;text-overflow: ellipsis;padding: 5px;vertical-align: middle;",4,"matCellDef"],["matColumnDef","creation_date"],["mat-cell","","style","text-align: right;width:15%;overflow:hidden;text-overflow: ellipsis;white-space: nowrap;padding: 5px;vertical-align: middle;",4,"matCellDef"],["mat-row","","style","cursor:pointer;",3,"click",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"first_col",3,"ngStyle"],["style","color: rgba(0,0,0,0.4);font-size: 90%;overflow: hidden;text-overflow: ellipsis;",3,"id","title",4,"ngIf"],[2,"overflow","hidden","text-overflow","ellipsis"],["color","primary",3,"ngStyle","title"],["class","watermark",4,"ngIf"],[2,"padding-top","5px","color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis",3,"title"],[2,"color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis",3,"id","title"],[1,"fa","fa-calendar",3,"title"],[1,"watermark"],["mat-cell","",2,"width","45%","overflow","hidden","text-overflow","ellipsis","padding","5px","vertical-align","middle"],["style","color: rgba(0,0,0,0.4);font-size: 90%;overflow: hidden;text-overflow: ellipsis;text-align: right;",4,"ngIf"],[2,"overflow","hidden","line-height","1.5em","height","3em","overflow","hidden",3,"title"],[2,"color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis","text-align","right"],[1,"fa","fa-stopwatch",3,"title"],[3,"innerHTML","title"],["mat-cell","",2,"text-align","right","width","15%","overflow","hidden","text-overflow","ellipsis","white-space","nowrap","padding","5px","vertical-align","middle"],["style","color: rgba(0,0,0,0.4);font-size: 90%;overflow: hidden;text-overflow: ellipsis;",4,"ngIf"],["mat-icon-button","",3,"disabled","title","click","mouseenter","mouseleave"],["color","primary",1,"fa",3,"ngClass"],[2,"color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis"],[1,"fa","fa-lock",3,"title"],[3,"title"],["mat-row","",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Qc(13,Un,8,4,"mat-card",8),i.Yb(),i.Yb(),i.Zb(14,"div",9),i.Zb(15,"div",10),i.Zb(16,"mat-tab-group"),i.Qc(17,zn,3,0,"mat-tab",11),i.Qc(18,ai,4,5,"mat-tab",12),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.sc("src",i.nc(4,10,i.nc(5,12,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("ngIf",e.homeMessage),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(3),i.sc("ngIf",void 0!==e.homeData&&e.homeData.isLinkedToMaarchParapheur),i.Eb(1),i.sc("ngIf",void 0!==e.homeData))},directives:[_.e,In.a,_.f,Y.a,dt.a,ht.a,v.t,ut.c,g.b,o.d,ut.a,ut.d,jn,Yn.a,y.c,ct.n,bt.a,ct.c,ct.b,ct.m,ct.a,v.w,b.a,v.q,ct.l],pipes:[v.b,yt.a,l.d,v.f,Zn.a,Nn.a],styles:[".first_col[_ngcontent-%COMP%]{position:relative;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:5px;vertical-align:middle}.noDoc[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{color:#666;opacity:.5}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}"]}),t})();const ri=["snav"];function ci(t,e){1&t&&(i.Zb(0,"div"),i.Ub(1,"i",9),i.Yb())}function li(t,e){if(1&t){const t=i.ac();i.Zb(0,"div"),i.Zb(1,"div",10),i.Zb(2,"div",11),i.Zb(3,"h2"),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Zb(6,"form",12,13),i.hc("ngSubmit",(function(){return i.Hc(t),i.lc().submitNumericPackage()})),i.Zb(8,"input",14),i.hc("change",(function(e){return i.Hc(t),i.lc().uploadNumericPackage(e)})),i.Yb(),i.Ub(9,"br"),i.Zb(10,"div",15),i.Zb(11,"div",16),i.Zb(12,"button",17),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(7);i.Eb(4),i.Tc(i.nc(5,3,"lang.saveNumericPackage")),i.Eb(8),i.sc("disabled",!t.form.valid),i.Eb(1),i.Tc(i.nc(14,5,"lang.save"))}}let di=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.zone=n,this.notify=i,this.headerService=s,this.appService=a,this.numericPackage={base64:"",name:"",type:"",size:0,label:"",extension:""},this.loading=!1,window.angularSaveNumericPackageComponent={componentAfterUpload:t=>this.processAfterUpload(t)}}ngOnInit(){this.headerService.setHeader(this.translate.instant("lang.saveNumericPackage")),this.loading=!1}processAfterUpload(t){this.zone.run(()=>this.resfreshUpload(t))}resfreshUpload(t){this.numericPackage.base64=t.replace(/^data:.*?;base64,/,"")}uploadNumericPackage(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;this.numericPackage.name=t.target.files[0].name,this.numericPackage.size=t.target.files[0].size,this.numericPackage.type=t.target.files[0].type,this.numericPackage.extension=t.target.files[0].name.split(".").pop(),""==this.numericPackage.label&&(this.numericPackage.label=this.numericPackage.name),e.readAsDataURL(t.target.files[0]),e.onload=function(t){window.angularSaveNumericPackageComponent.componentAfterUpload(t.target.result)}}}submitNumericPackage(){0!=this.numericPackage.size?this.http.post("../rest/saveNumericPackage",this.numericPackage).subscribe(t=>{t.errors?this.notify.error(t.errors):(this.numericPackage={base64:"",name:"",type:"",size:0,label:"",extension:""},$("#numericPackageFilePath").val(null),this.notify.success(this.translate.instant("lang.numericPackageImported")),null!=t.basketRedirection&&(window.location.href=t.basketRedirection))},t=>{this.notify.error(t.error.errors)}):(this.numericPackage.name="",this.numericPackage.size=0,this.numericPackage.type="",this.numericPackage.base64="",this.numericPackage.extension="",this.notify.error(this.translate.instant("lang.noNumericPackageSelected")))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(i.B),i.Tb(p.a),i.Tb(u.a),i.Tb(f.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.Oc(ri,!0),2&t&&i.Cc(n=i.ic())&&(e.sidenavLeft=n.first)},decls:13,vars:8,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],[4,"ngIf"],[1,"fa","fa-spinner","fa-spin","fa-5x",2,"margin-left","50%","margin-top","16%","font-size","8em"],[1,"row","row-eq-height"],[1,"col-md-5","col-md-offset-3",2,"margin-top","50px","border-top","solid 2px #F99830","border-bottom","solid 2px #F99830","padding","10px"],[1,"form-horizontal",3,"ngSubmit"],["saveNumericPackageForm","ngForm"],["id","numericPackageFilePath","type","file","name","files[]",3,"change"],[1,"form-group"],[2,"text-align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Qc(11,ci,2,0,"div",8),i.Qc(12,li,15,7,"div",8),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[_.e,_.f,dt.a,ht.a,v.t,F.J,F.u,F.v,g.b],pipes:[l.d],styles:[".upload-drop-zone[_ngcontent-%COMP%]{font-size:16px;height:100px;border-width:2px;margin-bottom:20px;color:#ccc;border-style:dashed;border-color:#ccc;line-height:100px;text-align:center}.upload-drop-zone.drop[_ngcontent-%COMP%]{color:#222;border-color:#222}.avatar[_ngcontent-%COMP%]{text-decoration:none;background:#135f7f;color:#fff;width:100px;height:100px;border-radius:5px;display:block;overflow:hidden;margin:5px}"]}),t})();var hi=n("IkSl");const ui=["snav"],pi=["snav2"];function fi(t,e){if(1&t&&(i.Zb(0,"mat-option",25),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",i.nc(2,2,"lang."+t)," ")}}function mi(t,e){if(1&t&&(i.Zb(0,"mat-option",25),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",i.nc(2,2,"lang."+t)," ")}}function gi(t,e){1&t&&(i.Zb(0,"div",26),i.Ub(1,"mat-spinner"),i.Yb())}const bi=function(t){return{width:t}};let _i=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.headerService=i,this.appService=s,this.entities=[],this.entitiesChosen=[],this.loading=!1,this.docUrl="",this.docData="",this.docBuffer=null,this.separatorTypes=["barcode","qrcode"],this.separatorTargets=["entities","generic"],this.separator={type:"qrcode",target:"entities",entities:[]},window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js"}ngOnInit(){this.headerService.setHeader(this.translate.instant("lang.printSeparators")),this.http.get("../rest/entities").subscribe(t=>{this.entities=t.entities,this.entities.forEach(t=>{t.state.disabled=!1}),this.loadEntities()},t=>{this.notify.handleErrors(t)})}loadEntities(){setTimeout(()=>{$("#jstree").on("select_node.jstree",(t,e)=>{this.separator.entities=$("#jstree").jstree("get_checked",null,!0)}).on("deselect_node.jstree",(t,e)=>{this.separator.entities=$("#jstree").jstree("get_checked",null,!0)}).jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},data:this.entities},plugins:["checkbox","search","sort"]});let t=!1;$("#jstree_search").keyup((function(){t&&clearTimeout(t),t=setTimeout((function(){const t=$("#jstree_search").val();$("#jstree").jstree(!0).search(t)}),250)})),$("#jstree").jstree()},0)}generateSeparators(){this.loading=!0,this.separator.entities=$("#jstree").jstree("get_checked",null,!0),this.http.post("../rest/entitySeparators",this.separator).subscribe(t=>{this.docData=t,this.docBuffer=this.base64ToArrayBuffer(this.docData),this.downloadSeparators(),this.loading=!1},t=>{this.notify.handleErrors(t)})}base64ToArrayBuffer(t){const e=window.atob(t),n=e.length,i=new Uint8Array(n);for(let s=0;s<n;s++)i[s]=e.charCodeAt(s);return i.buffer}changeType(t){this.docBuffer=null,"entities"===t.value?(this.entities.forEach(t=>{t.state.disabled=!1}),$("#jstree").jstree(!0).settings.core.data=this.entities,$("#jstree").jstree("deselect_all"),$("#jstree").jstree("refresh")):(this.entities.forEach(t=>{t.state.disabled=!0}),$("#jstree").jstree(!0).settings.core.data=this.entities,$("#jstree").jstree("deselect_all"),$("#jstree").jstree("refresh"))}downloadSeparators(){const t=document.createElement("a");document.body.appendChild(t),t.style.display="none";const e="data:application/pdf;base64,"+this.docData;let n,i,s,a;t.href=e,n=new Date,i=n.getDate(),s=n.getMonth()+1,a=n.getFullYear(),i<10&&(i="0"+i),s<10&&(s="0"+s),n=i+"-"+s+"-"+a,t.download=this.translate.instant("lang.separators")+"_"+n+".pdf",t.click(),window.URL.revokeObjectURL(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(u.a),i.Tb(f.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(ui,!0),i.Oc(pi,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavLeft=n.first),i.Cc(n=i.ic())&&(e.sidenavRight=n.first))},decls:48,vars:42,consts:[[1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["role","alert",1,"alert-message","alert-message-info",2,"max-width","100%","margin","30px",3,"innerHTML"],[1,"col-md-12"],[1,"col-md-6"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","id","jstree_search","name","jstree_search","type","text",3,"placeholder"],["id","jstree"],[1,"col-md-12","text-center",2,"bottom","0px","padding-top","10px","position","absolute","height","10%","width","100%"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"table-head"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["class","example-loading-shade",4,"ngIf"],[1,"titlePanel"],["color","primary",2,"flex","1","font-size","20px","font-weight","bold","padding","10px"],[1,"viewSep",3,"src","render-text","autoresize","original-size","show-all"],[3,"value"],[1,"example-loading-shade"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Zb(11,"div",8),i.Ub(12,"div",9),i.Zb(13,"div",10),i.Zb(14,"div",11),i.Zb(15,"mat-form-field"),i.Zb(16,"mat-label"),i.Sc(17),i.mc(18,"translate"),i.Yb(),i.Zb(19,"mat-select",12),i.hc("ngModelChange",(function(t){return e.separator.type=t}))("selectionChange",(function(){return e.docBuffer=null})),i.Qc(20,fi,3,4,"mat-option",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(21,"div",11),i.Zb(22,"mat-form-field"),i.Zb(23,"mat-label"),i.Sc(24),i.mc(25,"translate"),i.Yb(),i.Zb(26,"mat-select",12),i.hc("ngModelChange",(function(t){return e.separator.target=t}))("selectionChange",(function(t){return e.changeType(t)})),i.Qc(27,mi,3,4,"mat-option",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"mat-form-field"),i.Ub(29,"input",14),i.mc(30,"translate"),i.Zb(31,"mat-hint"),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Ub(34,"div",15),i.Yb(),i.Yb(),i.Zb(35,"div",16),i.Zb(36,"button",17),i.hc("click",(function(){return e.generateSeparators()})),i.Sc(37),i.mc(38,"translate"),i.Yb(),i.Yb(),i.Ub(39,"div",18),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"mat-sidenav",19,20),i.Qc(42,gi,2,0,"div",21),i.Zb(43,"div",22),i.Zb(44,"span",23),i.Sc(45),i.mc(46,"translate"),i.Yb(),i.Yb(),i.Ub(47,"pdf-viewer",24),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(3),i.sc("innerHTML",e.translate.instant("lang.printSeparatorInfo"),i.Ic),i.Eb(5),i.Tc(i.nc(18,28,"lang.separatorType")),i.Eb(2),i.sc("ngModel",e.separator.type),i.Eb(1),i.sc("ngForOf",e.separatorTypes),i.Eb(4),i.Tc(i.nc(25,30,"lang.separatorTarget")),i.Eb(2),i.sc("ngModel",e.separator.target),i.Eb(1),i.sc("ngForOf",e.separatorTargets),i.Eb(2),i.tc("placeholder",i.nc(30,32,"lang.searchEntities")),i.Eb(3),i.Tc(i.nc(33,34,"lang.entityTreeInfoSeparator")),i.Eb(4),i.sc("disabled",e.loading||"entities"==e.separator.target&&0==e.separator.entities.length),i.Eb(1),i.Tc(i.nc(38,36,"lang.generateAndDownload")),i.Eb(3),i.sc("fixedInViewport",e.appService.getViewMode())("opened",!e.appService.getViewMode()&&null!=e.docBuffer)("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(40,bi,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(3),i.Tc(i.nc(46,38,"lang.separators")),i.Eb(2),i.sc("src",e.docBuffer)("render-text",!1)("autoresize",!0)("original-size",!1)("show-all",!0))},directives:[_.e,_.f,dt.a,ht.a,Z.c,Z.g,pt.a,F.t,F.w,v.s,N.b,Z.f,g.b,_.d,v.w,v.t,hi.a,O.o,y.c],pipes:[l.d],styles:[".panel-right[_ngcontent-%COMP%]    .mat-drawer-inner-container{display:flex;flex-direction:column}.panel-right[_ngcontent-%COMP%]   .titlePanel[_ngcontent-%COMP%]{display:flex;align-items:center}.panel-right[_ngcontent-%COMP%]   .viewSep[_ngcontent-%COMP%]{flex:1;display:flex;overflow:auto}"]}),t})(),vi=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.router=n,this.notificationService=i,this.headerService=s,this.loadingForm=!1,this.loading=!1,this.newLogin={login:""},this.labelButton=this.translate.instant("lang.send")}ngOnInit(){this.headerService.hideSideBar=!0}generateLink(){this.labelButton=this.translate.instant("lang.generation"),this.loading=!0,this.http.post("../rest/password",{login:this.newLogin.login}).pipe(Object(Pn.a)(()=>{this.labelButton=this.translate.instant("lang.send"),this.loading=!1})).subscribe(t=>{this.loadingForm=!0,this.notificationService.success(this.translate.instant("lang.requestSentByEmail")),this.router.navigate(["/login"])},t=>{this.notificationService.handleErrors(t)})}cancel(){this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(o.c),i.Tb(p.a),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:13,vars:10,consts:[[1,"login-content"],["svgIcon","maarchLogoWhiteFull",1,"maarchLogo"],[1,"login-form"],[3,"ngSubmit"],[1,"alert-message","alert-message-info",3,"innerHTML"],[1,"input-row"],["name","login","matInput","","type","text","oninput","this.value = this.value.toLowerCase()",3,"placeholder","ngModel","ngModelChange"],["type","submit","mat-button","",3,"disabled"],["type","button","mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Ub(1,"mat-icon",1),i.Zb(2,"mat-card",2),i.Zb(3,"form",3),i.hc("ngSubmit",(function(){return e.generateLink()})),i.Ub(4,"div",4),i.Zb(5,"mat-form-field",5),i.Zb(6,"input",6),i.hc("ngModelChange",(function(t){return e.newLogin.login=t})),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Zb(8,"button",7),i.Sc(9),i.Yb(),i.Zb(10,"button",8),i.hc("click",(function(){return e.cancel()})),i.Sc(11),i.mc(12,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(4),i.sc("innerHTML",e.translate.instant("lang.afterClickingSendLinkChangePassword"),i.Ic),i.Eb(2),i.tc("placeholder",i.nc(7,6,"lang.enterLogin")),i.sc("ngModel",e.newLogin.login),i.Eb(2),i.sc("disabled",""==e.newLogin.login||e.loading),i.Eb(1),i.Tc(e.labelButton),i.Eb(2),i.Tc(i.nc(12,8,"lang.cancel")))},directives:[b.a,Y.a,F.J,F.u,F.v,Z.c,N.b,F.c,F.t,F.w,g.b],pipes:[l.d],styles:[".login-content[_ngcontent-%COMP%]{background-color:#135f7f;height:100vh;width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{max-width:600px;text-align:center}.input-row[_ngcontent-%COMP%]{width:100%;padding-top:10px;padding-bottom:10px}.maarchLogo[_ngcontent-%COMP%]{position:absolute;transition:all 1s ease-in-out;width:250px;height:auto;padding-bottom:10px;transform:translateY(-200px)}footer[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:5px;font-size:10px;opacity:.5}"]}),t})();function yi(t,e){1&t&&(i.Zb(0,"mat-hint",8),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.passwordNotMatch"),""))}function xi(t,e){1&t&&(i.Zb(0,"mat-hint",14),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.passwordMatch"),""))}const wi=function(t){return[t]};let Ci=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.router=e,this.route=n,this.http=i,this.notificationService=s,this.authService=a,this.loadingForm=!1,this.loading=!1,this.token="",this.password={newPassword:"",passwordConfirmation:""},this.labelButton=this.translate.instant("lang.update"),this.hideNewPassword=!0,this.hideNewPasswordConfirm=!0,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.handlePassword={error:!1,errorMsg:""},this.ruleText="",this.otherRuleText="",this.route.queryParams.subscribe(t=>{this.token=t.token})}ngOnInit(){this.getPassRules()}updatePassword(){this.labelButton=this.translate.instant("lang.emailSendInProgress"),this.loading=!0,this.http.put("../rest/password",{token:this.token,password:this.password.newPassword}).pipe(Object(Pn.a)(()=>{this.labelButton=this.translate.instant("lang.update"),this.loading=!1})).subscribe(t=>{this.loadingForm=!0,this.notificationService.success(this.translate.instant("lang.passwordChanged")),this.router.navigate(["/login"])},t=>{this.notificationService.handleSoftErrors(t)})}checkPasswordValidity(t){this.handlePassword.error=!0,!t.match(/[A-Z]/g)&&this.passwordRules.complexityUpper.enabled?this.handlePassword.errorMsg=this.translate.instant("lang.passwordcomplexityUpperRequired"):!t.match(/[0-9]/g)&&this.passwordRules.complexityNumber.enabled?this.handlePassword.errorMsg=this.translate.instant("lang.passwordcomplexityNumberRequired"):!t.match(/[^A-Za-z0-9]/g)&&this.passwordRules.complexitySpecial.enabled?this.handlePassword.errorMsg=this.translate.instant("lang.passwordcomplexitySpecialRequired"):t.length<this.passwordRules.minLength.value&&this.passwordRules.minLength.enabled?this.handlePassword.errorMsg=this.passwordRules.minLength.value+" "+this.translate.instant("lang.passwordminLength")+" !":(this.handlePassword.error=!1,this.handlePassword.errorMsg="")}getPassRules(){this.handlePassword.error=!1,this.handlePassword.errorMsg="",this.http.get("../rest/passwordRules").subscribe(t=>{const e=[],n=[];t.rules.forEach(t=>{"minLength"===t.label?(this.passwordRules.minLength.enabled=t.enabled,this.passwordRules.minLength.value=t.value,t.enabled&&e.push(t.value+" "+this.translate.instant("lang.password"+t.label))):"complexityUpper"===t.label?(this.passwordRules.complexityUpper.enabled=t.enabled,this.passwordRules.complexityUpper.value=t.value,t.enabled&&e.push(this.translate.instant("lang.password"+t.label))):"complexityNumber"===t.label?(this.passwordRules.complexityNumber.enabled=t.enabled,this.passwordRules.complexityNumber.value=t.value,t.enabled&&e.push(this.translate.instant("lang.password"+t.label))):"complexitySpecial"===t.label?(this.passwordRules.complexitySpecial.enabled=t.enabled,this.passwordRules.complexitySpecial.value=t.value,t.enabled&&e.push(this.translate.instant("lang.password"+t.label))):"renewal"===t.label?(this.passwordRules.renewal.enabled=t.enabled,this.passwordRules.renewal.value=t.value,t.enabled&&n.push(this.translate.instant("lang.password"+t.label)+" <b>"+t.value+" "+this.translate.instant("lang.days")+"</b>. "+this.translate.instant("lang.password2"+t.label)+".")):"historyLastUse"===t.label&&(this.passwordRules.historyLastUse.enabled=t.enabled,this.passwordRules.historyLastUse.value=t.value,t.enabled&&n.push(this.translate.instant("lang.passwordhistoryLastUseDesc")+" <b>"+t.value+"</b> "+this.translate.instant("lang.passwordhistoryLastUseDesc2")+"."))}),this.ruleText=e.join(", "),this.otherRuleText=n.join("<br/>")},t=>{this.notificationService.handleErrors(t)})}allowValidate(){return!(!this.handlePassword.error&&this.password.newPassword===this.password.passwordConfirmation&&0!==this.password.newPassword.length&&0!==this.password.passwordConfirmation.length)}cancel(){this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(d.b),i.Tb(p.a),i.Tb(h.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:24,vars:27,consts:[[1,"login-content"],["svgIcon","maarchLogoWhiteFull",1,"maarchLogo"],[1,"login-form"],[3,"ngSubmit"],["role","alert",1,"alert-message","alert-message-info"],[1,"input-row"],["name","newPassword","matInput","",3,"ngModel","placeholder","type","ngModelChange","keyup"],["matSuffix","",1,"fa","fa-2x",3,"ngClass","click"],[2,"color","red"],["name","passwordConfirmation","matInput","",3,"ngModel","placeholder","type","ngModelChange"],["style","color:red;",4,"ngIf"],["style","color:green;",4,"ngIf"],["type","submit","mat-button","",3,"disabled"],["type","button","mat-button","",3,"click"],[2,"color","green"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Ub(1,"mat-icon",1),i.Zb(2,"mat-card",2),i.Zb(3,"form",3),i.hc("ngSubmit",(function(){return e.updatePassword()})),i.Zb(4,"div",4),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Zb(7,"mat-form-field",5),i.Zb(8,"input",6),i.hc("ngModelChange",(function(t){return e.password.newPassword=t}))("keyup",(function(){return e.checkPasswordValidity(e.password.newPassword)})),i.mc(9,"translate"),i.Yb(),i.Zb(10,"mat-icon",7),i.hc("click",(function(){return e.hideNewPassword=!e.hideNewPassword})),i.Yb(),i.Zb(11,"mat-hint",8),i.Sc(12),i.Yb(),i.Yb(),i.Zb(13,"mat-form-field",5),i.Zb(14,"input",9),i.hc("ngModelChange",(function(t){return e.password.passwordConfirmation=t})),i.mc(15,"translate"),i.Yb(),i.Zb(16,"mat-icon",7),i.hc("click",(function(){return e.hideNewPasswordConfirm=!e.hideNewPasswordConfirm})),i.Yb(),i.Qc(17,yi,3,3,"mat-hint",10),i.Qc(18,xi,3,3,"mat-hint",11),i.Yb(),i.Zb(19,"button",12),i.Sc(20),i.Yb(),i.Zb(21,"button",13),i.hc("click",(function(){return e.cancel()})),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.Uc(" ",i.nc(6,15,"lang.logInOncePasswordChanged")," "),i.Eb(3),i.tc("placeholder",i.nc(9,17,"lang.typeNewPassword")),i.sc("ngModel",e.password.newPassword)("type",e.hideNewPassword?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(23,wi,e.hideNewPassword?"fa-eye-slash":"fa-eye")),i.Eb(2),i.Tc(e.handlePassword.errorMsg),i.Eb(2),i.tc("placeholder",i.nc(15,19,"lang.retypeNewPassword")),i.sc("ngModel",e.password.passwordConfirmation)("type",e.hideNewPasswordConfirm?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(25,wi,e.hideNewPasswordConfirm?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",e.password.passwordConfirmation!==e.password.newPassword),i.Eb(1),i.sc("ngIf",e.password.passwordConfirmation===e.password.newPassword&&e.password.newPassword.length>0&&e.password.passwordConfirmation.length>0),i.Eb(1),i.sc("disabled",e.allowValidate()||e.loading),i.Eb(1),i.Tc(e.labelButton),i.Eb(2),i.Tc(i.nc(23,21,"lang.cancel")))},directives:[b.a,Y.a,F.J,F.u,F.v,Z.c,N.b,F.c,F.t,F.w,Z.j,v.q,Z.f,v.t,g.b],pipes:[l.d],styles:[".login-content[_ngcontent-%COMP%]{background-color:#135f7f;height:100vh;width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{max-width:480px;text-align:center}.input-row[_ngcontent-%COMP%]{width:100%;padding-top:10px;padding-bottom:10px}.maarchLogo[_ngcontent-%COMP%]{position:absolute;transition:all 1s ease-in-out;width:250px;height:auto;padding-bottom:10px;transform:translateY(-230px)}footer[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:5px;font-size:10px;opacity:.5}"]}),t})();var Oi=n("GUHb");function ki(t,e){if(1&t&&i.Ub(0,"app-document-viewer",2,3),2&t){const t=i.lc();i.sc("editMode",!1)("resId",t.resId)("title",t.resId)}}let Si=(()=>{class t{constructor(t,e,n,i,s){this.http=t,this.route=e,this.router=n,this.notify=i,this.headerService=s,this.loading=!0,this.resId=0}ngOnInit(){this.route.params.subscribe(t=>{void 0!==t.resId?(this.resId=t.resId,this.http.get(`../rest/resources/${this.resId}/fileInformation`).pipe(Object(kn.tap)(t=>{this.loading=!1}),Object(Sn.catchError)(t=>(this.notify.handleSoftErrors(t),this.router.navigate(["/home"]),Object(xn.of)(!1)))).subscribe()):this.router.navigate(["/home"])})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(d.b),i.Tb(o.a),i.Tb(o.c),i.Tb(p.a),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-document-viewer-page"]],decls:2,vars:1,consts:[[1,"doc-container"],["style","display:block;height:100%;width:100%;max-width:800px;overflow: auto;",3,"editMode","resId","title",4,"ngIf"],[2,"display","block","height","100%","width","100%","max-width","800px","overflow","auto",3,"editMode","resId","title"],["appDocumentViewer",""]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Qc(1,ki,2,3,"app-document-viewer",1),i.Yb()),2&t&&(i.Eb(1),i.sc("ngIf",!e.loading))},directives:[v.t,Oi.a],styles:[".doc-container[_ngcontent-%COMP%]{background:#135f7f;display:flex;justify-content:center}"]}),t})();var Ei=n("SIQe"),Mi=n("5cI5"),Ii=n("MhE4");function Pi(t,e){1&t&&(i.Zb(0,"mat-hint",14),i.Zb(1,"a",15),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.Uc("",i.nc(3,1,"lang.forgotPassword")," ?"))}function Ti(t,e){1&t&&(i.Zb(0,"mat-hint",14),i.Zb(1,"span",16),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.ldapEnabled")))}let Ai=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l,d){this.translate=t,this.http=e,this.router=n,this.headerService=i,this.authService=s,this.localStorage=a,this.functionsService=o,this.notify=r,this.dialog=c,this.formBuilder=l,this.timeLimit=d,this.loading=!1,this.showForm=!1,this.applicationName="",this.loginMessage=""}ngOnInit(){this.headerService.hideSideBar=!0,this.loginForm=this.formBuilder.group({login:[null,F.H.required],password:[null,F.H.required]}),this.environment=s.a,this.authService.isAuth()?this.functionsService.empty(this.authService.getUrl(JSON.parse(atob(this.authService.getToken().split(".")[1])).user.id))?this.router.navigate(["/home"]):this.router.navigate([this.authService.getUrl(JSON.parse(atob(this.authService.getToken().split(".")[1])).user.id)]):this.getLoginInformations()}onSubmit(){this.loading=!0,this.http.post("../rest/authenticate",{login:this.loginForm.get("login").value,password:this.loginForm.get("password").value},{observe:"response"}).pipe(Object(ot.a)(t=>{this.localStorage.resetLocal(),this.authService.saveTokens(t.headers.get("Token"),t.headers.get("Refresh-Token")),this.authService.setUser({}),this.authService.getCachedUrl()?(this.router.navigateByUrl(this.authService.getCachedUrl()),this.authService.cleanCachedUrl()):this.functionsService.empty(this.authService.getUrl(JSON.parse(atob(t.headers.get("Token").split(".")[1])).user.id))?this.router.navigate(["/home"]):this.router.navigate([this.authService.getUrl(JSON.parse(atob(t.headers.get("Token").split(".")[1])).user.id)])}),Object(yn.a)(t=>(this.loading=!1,"Authentication Failed"===t.error.errors?this.notify.error(this.translate.instant("lang.wrongLoginPassword")):"Account Suspended"===t.error.errors?this.notify.error(this.translate.instant("lang.accountSuspended")):"Account Locked"===t.error.errors?this.notify.error(this.translate.instant("lang.accountLocked")+" "+this.timeLimit.transform(t.error.date)):this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}getLoginInformations(){this.http.get("../rest/authenticationInformations").pipe(Object(ot.a)(t=>{this.authService.setAppSession(t.instanceId),this.authService.changeKey=t.changeKey,this.applicationName=t.applicationName,this.loginMessage=t.loginMessage,this.authService.setEvent("authenticationInformations")}),Object(Pn.a)(()=>this.showForm=!0),Object(yn.a)(t=>(this.http.get("../rest/validUrl").pipe(Object(ot.a)(e=>{this.functionsService.empty(e.url)?"moreOneCustom"===e.lang?this.dialog.open(Ei.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.accessNotFound"),msg:this.translate.instant("lang.moreOneCustom"),hideButton:!0}}):"noConfiguration"===e.lang?this.router.navigate(["/install"]):this.notify.handleSoftErrors(t):window.location.href=e.url})).subscribe(),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(o.c),i.Tb(u.a),i.Tb(h.a),i.Tb(Mi.a),i.Tb(lt.a),i.Tb(p.a),i.Tb(j.b),i.Tb(F.g),i.Tb(Nn.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],features:[i.Db([Nn.a])],decls:21,vars:19,consts:[[1,"login-container"],[1,"login-content"],[1,"login-form"],[3,"formGroup","ngSubmit"],["svgIcon","maarchLogoFull",1,"maarchLogo"],[2,"color","white","font-size","14px",3,"innerHTML"],[2,"color","white","font-size","14px","font-weight","bold"],[2,"padding-left","30px","padding-right","30px"],["appearance","outline",1,"input-row","login",2,"padding-bottom","0px"],["id","login","name","login","matInput","","formControlName","login","type","text",3,"placeholder"],["appearance","outline",1,"input-row"],["id","password","name","password","matInput","","type","password","formControlName","password",3,"placeholder"],["align","end",4,"ngIf"],["id","submit","type","submit","mat-stroked-button","",2,"color","white","border-color","#24b0ed","background","#24b0ed",3,"disabled"],["align","end"],["routerLink","/forgot-password",1,"infoLogin"],[1,"infoLogin"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"form",3),i.hc("ngSubmit",(function(){return e.onSubmit()})),i.Ub(4,"mat-icon",4),i.Ub(5,"div",5),i.mc(6,"safeHtml"),i.Zb(7,"p",6),i.Sc(8),i.Yb(),i.Zb(9,"div",7),i.Zb(10,"mat-form-field",8),i.Ub(11,"input",9),i.Yb(),i.Zb(12,"mat-form-field",10),i.Ub(13,"input",11),i.Qc(14,Pi,4,3,"mat-hint",12),i.Qc(15,Ti,4,3,"mat-hint",12),i.Yb(),i.Yb(),i.Zb(16,"button",13),i.Sc(17),i.mc(18,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(19,"footer"),i.Sc(20),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(1),i.Pc("background-image","url(../rest/images?image=loginPage)",i.Mb),i.Jb("showForm",e.showForm),i.Eb(2),i.sc("formGroup",e.loginForm),i.Eb(2),i.sc("innerHTML",i.nc(6,15,e.loginMessage),i.Ic),i.Eb(3),i.Tc(e.applicationName),i.Eb(3),i.sc("placeholder",e.translate.instant("lang.id")),i.Eb(2),i.sc("placeholder",e.translate.instant("lang.password")),i.Eb(1),i.sc("ngIf","default"===e.authService.authMode),i.Eb(1),i.sc("ngIf","ldap"===e.authService.authMode),i.Eb(1),i.sc("disabled",e.loginForm.invalid||e.loading),i.Eb(1),i.Tc(i.nc(18,17,"lang.LOGIN")),i.Eb(3),i.Vc(" Maarch courrier ",e.environment.VERSION," Powered by ",e.environment.AUTHOR," "))},directives:[F.J,F.u,F.l,b.a,Z.c,N.b,F.c,F.t,F.j,v.t,g.b,Z.f,o.f],pipes:[Ii.a,l.d],styles:['.login-container[_ngcontent-%COMP%], .login-content[_ngcontent-%COMP%]{background-color:#135f7f}.login-content[_ngcontent-%COMP%]{opacity:0;background-attachment:fixed;background-size:cover;display:grid;align-items:center;justify-content:center;height:100vh;transition:opacity 1s}.login-form[_ngcontent-%COMP%]{max-width:768px}.showForm[_ngcontent-%COMP%]{opacity:1;transition:opacity 1s}.input-row[_ngcontent-%COMP%]{padding-top:10px}.input-row[_ngcontent-%COMP%], .maarchLogo[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.maarchLogo[_ngcontent-%COMP%]{transition:all 1s ease-in-out;height:auto}footer[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:5px;font-size:10px;opacity:.5;left:10px}.infoLogin[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-decoration:none}.login-form[_ngcontent-%COMP%]{text-align:center;padding:10px;max-width:550px;height:auto;box-shadow:0 0 1rem 0 rgba(0,0,0,.2);border-radius:5px;position:relative;z-index:1;background:inherit;overflow:hidden;border:2px solid #24b0ed}.login-form[_ngcontent-%COMP%]     .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important}.login-form[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:#fff!important;background:#fff}.login-form[_ngcontent-%COMP%]    .mat-form-field-ripple, .login-form[_ngcontent-%COMP%]    .mat-form-field-underline{background-color:#fff!important}.login-form[_ngcontent-%COMP%]:before{content:"";position:absolute;background:inherit;z-index:-1;top:0;left:0;right:0;bottom:0;filter:blur(10px);margin:-20px}.login[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}']}),t})();var Di=n("V5D/"),Ri=n("zkFj"),Li=n("eiH7"),Fi=n("MyTJ"),ji=n("WUgQ"),Yi=n("jbvq"),Zi=n("VdM8"),Ni=n("PGLw"),Ui=n("qSQ4");const Bi=["appVisaWorkflow"],zi=["appDocumentViewer"];function Vi(t,e){1&t&&(i.Zb(0,"div",4),i.Ub(1,"i",5),i.Yb())}const Hi=function(t){return{activeTabSignatureBook:t}};function Qi(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",35),i.hc("click",(function(){return i.Hc(t),i.lc(2).changeSignatureBookLeftContent("document")})),i.mc(1,"translate"),i.Ub(2,"i",36),i.Yb()}if(2&t){const t=i.lc(2);i.tc("title",i.nc(1,2,"lang.mail")),i.sc("ngClass",i.zc(4,Hi,"document"==t.headerTab))}}function $i(t,e){1&t&&i.Ub(0,"i",38)}function Wi(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",35),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).changeSignatureBookLeftContent(n.id)})),i.Ub(1,"i"),i.Qc(2,$i,1,0,"i",37),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.tc("title",t.label),i.sc("ngClass",i.zc(5,Hi,n.headerTab==t.id)),i.Eb(1),i.Gb(t.icon),i.Eb(1),i.sc("ngIf",t.count>0)}}function Gi(t,e){if(1&t&&(i.Zb(0,"option",39),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.tc("value",t.id),i.Eb(1),i.Tc(t.label)}}function qi(t,e){if(1&t&&(i.Zb(0,"div",40),i.Zb(1,"span",41),i.Ub(2,"input",42),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(2),i.tc("value",t.signatureBook.consigne),i.tc("title",t.signatureBook.consigne)}}function Xi(t,e){1&t&&i.Ub(0,"i",53)}const Ji=function(t){return{resListContentFrameSelected:t}},Ki=function(t){return{color:t}};function ts(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",43),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).changeLocation(n.res_id,"view")})),i.Zb(1,"div",44),i.Ub(2,"i",45),i.mc(3,"translate"),i.Sc(4),i.Qc(5,Xi,1,0,"i",46),i.Sc(6,"\xa0 "),i.Ub(7,"i",47),i.Yb(),i.Zb(8,"div",44),i.Ub(9,"i",48),i.mc(10,"translate"),i.Sc(11),i.Yb(),i.Zb(12,"div",44),i.Ub(13,"i",49),i.mc(14,"translate"),i.Sc(15),i.Yb(),i.Zb(16,"div",44),i.Ub(17,"i",50),i.mc(18,"translate"),i.Sc(19),i.mc(20,"date"),i.Yb(),i.Zb(21,"div",51),i.Ub(22,"i",52),i.mc(23,"translate"),i.Sc(24),i.mc(25,"date"),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.sc("ngClass",i.zc(30,Ji,n.resId==t.res_id)),i.Eb(2),i.tc("title",i.nc(3,14,"lang.chronoNumber")),i.Eb(2),i.Uc(" ",t.alt_identifier," "),i.Eb(1),i.sc("ngIf",t.allSigned),i.Eb(2),i.tc("title",t.priorityLabel),i.sc("ngStyle",i.zc(32,Ki,t.priorityColor)),i.Eb(2),i.tc("title",i.nc(10,16,"lang.object")),i.Eb(2),i.Uc(" ",t.subject," "),i.Eb(2),i.tc("title",i.nc(14,18,"lang.contactInfo")),i.Eb(2),i.Uc(" ",t.sender," "),i.Eb(2),i.tc("title",i.nc(18,20,"lang.arrivalDate")),i.Eb(2),i.Uc(" ",i.oc(20,22,t.creation_date,"dd/MM/y")," "),i.Eb(3),i.tc("title",i.nc(23,25,"lang.processLimitDate")),i.Eb(2),i.Uc(" ",i.oc(25,27,t.process_limit_date,"dd/MM/y")," ")}}function es(t,e){1&t&&(i.Zb(0,"div",54),i.Ub(1,"i",55),i.Yb())}function ns(t,e){1&t&&i.Ub(0,"i",65)}function is(t,e){1&t&&i.Ub(0,"i",66)}function ss(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",64),i.hc("click",(function(){return i.Hc(t),i.lc(3).displayPanel("RESLEFT")})),i.Qc(1,ns,1,0,"i",63),i.Qc(2,is,1,0,"i",62),i.Yb()}if(2&t){const t=i.lc(3);i.Eb(1),i.sc("ngIf",t.showResLeftPanel),i.Eb(1),i.sc("ngIf",!t.showResLeftPanel)}}const as=function(t){return{panelSelectedThumbnail:t}};function os(t,e){if(1&t){const t=i.ac();i.Zb(0,"img",75),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc(5).changeLeftViewer(n)})),i.mc(1,"async"),i.mc(2,"secureUrl"),i.Yb()}if(2&t){const t=e.$implicit,n=e.index,s=i.lc(5);i.tc("title",t.title),i.sc("src",i.nc(1,3,i.nc(2,5,t.thumbnailLink)),i.Kc)("ngClass",i.zc(7,as,n==s.leftSelectedThumbnail))}}function rs(t,e){if(1&t&&(i.Zb(0,"div",72),i.Zb(1,"div",73),i.Qc(2,os,3,9,"img",74),i.Yb(),i.Yb()),2&t){const t=i.lc(4);i.Eb(2),i.sc("ngForOf",t.signatureBook.documents)}}function cs(t,e){1&t&&i.Ub(0,"i",80)}function ls(t,e){if(1&t&&(i.Zb(0,"sup",81),i.Sc(1),i.Yb()),2&t){const t=i.lc(5);i.Eb(1),i.Tc(t.signatureBook.documents.length-1)}}function ds(t,e){1&t&&i.Ub(0,"i",82)}function hs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",76),i.hc("click",(function(){return i.Hc(t),i.lc(4).displayPanel("TOPLEFT")})),i.mc(1,"translate"),i.Qc(2,cs,1,0,"i",77),i.Qc(3,ls,2,1,"sup",78),i.Qc(4,ds,1,0,"i",79),i.Yb()}if(2&t){const t=i.lc(4);i.vc("title","",t.signatureBook.documents.length-1," ",i.nc(1,5,"lang.mailAttachments"),""),i.Eb(2),i.sc("ngIf",!t.showTopLeftPanel),i.Eb(1),i.sc("ngIf",!t.showTopLeftPanel),i.Eb(1),i.sc("ngIf",t.showTopLeftPanel)}}const us=function(t){return{height:t}};function ps(t,e){if(1&t){const t=i.ac();i.Zb(0,"pdf-viewer",83,84),i.hc("error",(function(){i.Hc(t);const e=i.lc(4);return e.pdfViewerError(e.leftViewerLink)})),i.mc(2,"async"),i.mc(3,"secureUrl"),i.Yb()}if(2&t){const t=i.lc(4);i.sc("src",i.nc(2,6,i.nc(3,8,t.leftViewerLink)))("render-text",!0)("fit-to-page",!1)("original-size",!0)("ngStyle",i.zc(10,us,t.showTopLeftPanel?"84%":"99%"))("show-all",!0)}}function fs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",85),i.Zb(1,"div",86),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Zb(5,"sub"),i.Sc(6),i.mc(7,"translate"),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Zb(9,"div",87),i.Zb(10,"a",88),i.hc("click",(function(){i.Hc(t);const e=i.lc(4);return e.downloadOriginalFile(e.signatureBook.documents[e.leftSelectedThumbnail].res_id)})),i.mc(11,"translate"),i.Ub(12,"i",89),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(4);i.sc("ngStyle",i.zc(15,us,t.showTopLeftPanel?"79%":"96%")),i.Eb(2),i.Tc(i.nc(3,7,"lang.noOverviewAvailable")),i.Eb(4),i.Xc("",i.nc(7,9,"lang.pdfVersionFile"),' "',t.signatureBook.documents[t.leftSelectedThumbnail].title,".",t.signatureBook.documents[t.leftSelectedThumbnail].format,'" ',i.nc(8,11,"lang.isNotAvailable"),"."),i.Eb(4),i.tc("title",i.nc(11,13,"lang.dlAttachment"))}}function ms(t,e){if(1&t&&(i.Zb(0,"div",67),i.Qc(1,rs,3,1,"div",68),i.Qc(2,hs,5,7,"div",69),i.Qc(3,ps,4,12,"pdf-viewer",70),i.Qc(4,fs,13,17,"div",71),i.Yb()),2&t){const t=i.lc(3);i.Eb(1),i.sc("ngIf",t.showTopLeftPanel),i.Eb(1),i.sc("ngIf",t.signatureBook.documents.length-1>0),i.Eb(1),i.sc("ngIf",""!=t.leftViewerLink&&(0==t.leftSelectedThumbnail||"pdf"==t.signatureBook.documents[t.leftSelectedThumbnail].format||t.signatureBook.documents[t.leftSelectedThumbnail].isConverted)),i.Eb(1),i.sc("ngIf",t.leftSelectedThumbnail>0&&"pdf"!=t.signatureBook.documents[t.leftSelectedThumbnail].format&&!t.signatureBook.documents[t.leftSelectedThumbnail].isConverted)}}function gs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",90),i.Zb(1,"app-notes-list",91,92),i.hc("reloadBadgeNotes",(function(e){return i.Hc(t),i.lc(3).refreshBadge(e,"notes")})),i.Yb(),i.Yb()}if(2&t){const t=i.lc(3);i.Eb(1),i.sc("editMode",!0)("resId",t.resId)}}function bs(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",98),i.hc("click",(function(){return i.Hc(t),i.lc(4).saveVisaWorkflow()})),i.Ub(1,"mat-icon",99),i.Yb()}if(2&t){const t=i.lc(4);i.sc("title",t.translate.instant("lang.saveModifications"))}}function _s(t,e){if(1&t&&(i.Zb(0,"div",93),i.Ub(1,"app-visa-workflow",94,95),i.Zb(3,"div",96),i.Qc(4,bs,2,1,"button",97),i.Yb(),i.Yb()),2&t){const t=i.Dc(2),e=i.lc(3);i.Eb(1),i.sc("resId",e.resId)("adminMode",e.privilegeService.hasCurrentUserPrivilege("config_visa_workflow"))("target","signatureBook"),i.Eb(3),i.sc("ngIf",void 0!==t&&t.isModified())}}function vs(t,e){if(1&t&&(i.Zb(0,"div",90),i.Ub(1,"app-history-list",100,101),i.Yb()),2&t){const t=i.lc(3);i.Eb(1),i.sc("resId",t.resId)}}function ys(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",90),i.Zb(1,"app-linked-resource-list",102,103),i.hc("reloadBadgeLinkedResources",(function(e){return i.Hc(t),i.lc(3).refreshBadge(e,"linkedResources")})),i.Yb(),i.Yb()}if(2&t){const t=i.lc(3);i.Eb(1),i.sc("resId",t.resId)}}function xs(t,e){1&t&&i.Ub(0,"i",66)}function ws(t,e){1&t&&i.Ub(0,"i",65)}const Cs=function(t){return{width:t}},Os=function(t){return{right:t}};function ks(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",56),i.Qc(1,ss,3,2,"div",57),i.Qc(2,ms,5,4,"div",58),i.Qc(3,gs,3,2,"div",59),i.Qc(4,_s,5,4,"div",60),i.Qc(5,vs,3,1,"div",59),i.Qc(6,ys,3,1,"div",59),i.Zb(7,"div",61),i.hc("click",(function(){return i.Hc(t),i.lc(2).displayPanel("MIDDLE")})),i.Qc(8,xs,1,0,"i",62),i.Qc(9,ws,1,0,"i",63),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.sc("ngStyle",i.zc(10,Cs,t.leftContentWidth)),i.Eb(1),i.sc("ngIf",t.showLeftPanel&&t.showRightPanel),i.Eb(1),i.sc("ngIf","document"==t.headerTab),i.Eb(1),i.sc("ngIf","notes"==t.headerTab),i.Eb(1),i.sc("ngIf","visaCircuit"==t.headerTab),i.Eb(1),i.sc("ngIf","history"==t.headerTab),i.Eb(1),i.sc("ngIf","linkedResources"==t.headerTab),i.Eb(1),i.sc("ngStyle",i.zc(12,Os,t.showRightPanel?"-10px":"0px")),i.Eb(1),i.sc("ngIf",t.showRightPanel),i.Eb(1),i.sc("ngIf",!t.showRightPanel)}}function Ss(t,e){1&t&&i.Ub(0,"i",65)}function Es(t,e){1&t&&i.Ub(0,"i",66)}function Ms(t,e){1&t&&(i.Zb(0,"sup",123),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.signed")))}function Is(t,e){if(1&t&&(i.Zb(0,"div",114),i.Zb(1,"label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Yb()),2&t){const t=i.lc(4);i.tc("title",t.signatureBook.attachments[t.rightSelectedThumbnail].typist),i.Eb(2),i.Uc("",i.nc(3,3,"lang.createdBy")," :\xa0"),i.Eb(3),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].typist)}}function Ps(t,e){if(1&t&&(i.Zb(0,"div",114),i.mc(1,"translate"),i.mc(2,"date"),i.Zb(3,"label"),i.Zb(4,"i"),i.Sc(5,"*"),i.Yb(),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"span"),i.Sc(9),i.Yb(),i.Yb()),2&t){const t=i.lc(4);i.wc("title","",i.nc(1,5,"lang.modifiedBy")," : ",t.signatureBook.attachments[t.rightSelectedThumbnail].updated_by," le ",i.oc(2,7,t.signatureBook.attachments[t.rightSelectedThumbnail].doc_date,"dd/MM/y"),""),i.Eb(6),i.Uc(" ",i.nc(7,10,"lang.createdBy")," :\xa0"),i.Eb(3),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].typist)}}function Ts(t,e){1&t&&i.Ub(0,"i",124)}function As(t,e){1&t&&i.Ub(0,"i",82)}function Ds(t,e){if(1&t&&i.Ub(0,"app-document-viewer",125,126),2&t){const t=i.lc(4);i.sc("editMode",!0)("hideTools",!0)("mode",t.signatureBook.attachments[t.rightSelectedThumbnail].isResource?"mainDocument":"attachment")("resId",t.signatureBook.attachments[t.rightSelectedThumbnail].signed?t.signatureBook.attachments[t.rightSelectedThumbnail].viewerId:t.signatureBook.attachments[t.rightSelectedThumbnail].res_id)("title",t.signatureBook.attachments[t.rightSelectedThumbnail].identifier)}}function Rs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",85),i.Zb(1,"div",86),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Zb(5,"sub"),i.Sc(6),i.mc(7,"translate"),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Zb(9,"div",87),i.Zb(10,"a",88),i.hc("click",(function(){i.Hc(t);const e=i.lc(4);return e.downloadOriginalFile(e.signatureBook.attachments[e.rightSelectedThumbnail].res_id)})),i.mc(11,"translate"),i.Ub(12,"i",89),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(4);i.sc("ngStyle",i.zc(15,us,t.showTopRightPanel?"79%":"96%")),i.Eb(2),i.Tc(i.nc(3,7,"lang.noOverviewAvailable")),i.Eb(4),i.Xc("",i.nc(7,9,"lang.pdfVersionFile"),' "',t.signatureBook.attachments[t.rightSelectedThumbnail].title,".",t.signatureBook.attachments[t.rightSelectedThumbnail].format,'" ',i.nc(8,11,"lang.isNotAvailable"),"."),i.Eb(4),i.tc("title",i.nc(11,13,"lang.dlAttachment"))}}function Ls(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",85),i.Ub(1,"div",127),i.Zb(2,"div"),i.Zb(3,"a",128),i.hc("click",(function(){i.Hc(t);const e=i.lc(4);return e.showAttachment(e.signatureBook.attachments[e.rightSelectedThumbnail])})),i.mc(4,"translate"),i.Ub(5,"i",129),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(4);i.sc("ngStyle",i.zc(5,us,t.showTopRightPanel?"79%":"96%")),i.Eb(1),i.sc("innerHTML",t.translate.instant("lang.editingAttachmentInterrupted"),i.Ic),i.Eb(2),i.tc("title",i.nc(4,3,"lang.editAttachment"))}}const Fs=function(t){return{display:t}};function js(t,e){if(1&t){const t=i.ac();i.Zb(0,"img",136),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=i.lc(7);return s.signFile(s.signatureBook.attachments[s.rightSelectedThumbnail],n)})),i.mc(1,"async"),i.mc(2,"secureUrl"),i.Yb()}if(2&t){const t=e.$implicit,n=e.index,s=i.lc(7);i.tc("title",t.signature_label),i.sc("src",i.nc(1,3,i.nc(2,5,"../rest/users/"+t.user_serial_id+"/signatures/"+t.id+"/content")),i.Kc)("ngStyle",i.zc(7,Fs,!s.showSignaturesPanel&&n>0?"none":""))}}function Ys(t,e){if(1&t&&(i.Zb(0,"span"),i.Qc(1,js,3,9,"img",135),i.Yb()),2&t){const t=i.lc(6);i.Eb(1),i.sc("ngForOf",t.signatureBook.signatures)}}function Zs(t,e){1&t&&i.Ub(0,"i",137)}function Ns(t,e){if(1&t&&(i.Zb(0,"span",133),i.Qc(1,Ys,2,1,"span",3),i.Qc(2,Zs,1,0,"i",134),i.Yb()),2&t){const t=i.lc(5);i.Eb(1),i.sc("ngIf",!t.loadingSign),i.Eb(1),i.sc("ngIf",t.loadingSign)}}function Us(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",138),i.hc("click",(function(){i.Hc(t);const e=i.lc(5);return e.unsignFile(e.signatureBook.attachments[e.rightSelectedThumbnail])})),i.Ub(1,"i",139),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.tc("title",i.nc(2,1,"lang.unsign")))}const Bs=function(t){return[t]},zs=function(t){return{"box-shadow":t}};function Vs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",130),i.hc("mouseenter",(function(){return i.Hc(t),i.lc(4).showSignaturesPanel=!0}))("mouseleave",(function(){return i.Hc(t),i.lc(4).showSignaturesPanel=!1})),i.Qc(1,Ns,3,2,"span",131),i.Qc(2,Us,3,3,"span",132),i.Yb()}if(2&t){const t=i.lc(4);i.sc("ngClass",i.zc(4,Bs,"SIGN"==t.signatureBook.attachments[t.rightSelectedThumbnail].status?"signed":""))("ngStyle",i.zc(6,zs,t.signatureBook.listinstance.requested_signature?"inset 0px 0px 5px 0px red":"inset 0px 0px 5px 0px #656565;")),i.Eb(1),i.sc("ngIf","SIGN"!=t.signatureBook.attachments[t.rightSelectedThumbnail].status&&t.signatureBook.signatures[0]),i.Eb(1),i.sc("ngIf","SIGN"==t.signatureBook.attachments[t.rightSelectedThumbnail].status)}}function Hs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",112),i.Zb(1,"div",113),i.Zb(2,"div",114),i.Zb(3,"label"),i.Sc(4,"Type :\xa0"),i.Yb(),i.Zb(5,"span"),i.Sc(6),i.Qc(7,Ms,3,3,"sup",115),i.Yb(),i.Yb(),i.Zb(8,"div",114),i.Zb(9,"label"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Zb(12,"span"),i.Sc(13),i.Yb(),i.Yb(),i.Zb(14,"div",114),i.Zb(15,"label"),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Zb(18,"span"),i.Sc(19),i.Yb(),i.Yb(),i.Zb(20,"div"),i.Qc(21,Is,6,5,"div",116),i.Qc(22,Ps,10,12,"div",116),i.Zb(23,"div",117),i.Zb(24,"label"),i.Sc(25),i.mc(26,"translate"),i.Yb(),i.Zb(27,"span"),i.Sc(28),i.mc(29,"date"),i.Yb(),i.Yb(),i.Zb(30,"div",114),i.mc(31,"date"),i.Zb(32,"label"),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Zb(35,"span"),i.Sc(36),i.mc(37,"date"),i.Yb(),i.Yb(),i.Zb(38,"div",114),i.Zb(39,"label"),i.Sc(40),i.mc(41,"translate"),i.Yb(),i.Zb(42,"span"),i.Sc(43),i.Yb(),i.Yb(),i.Zb(44,"div",117),i.Zb(45,"label"),i.Sc(46,"Version :\xa0"),i.Yb(),i.Zb(47,"span"),i.Sc(48),i.Yb(),i.Ub(49,"i",118),i.Yb(),i.Zb(50,"div",117),i.Zb(51,"label"),i.Sc(52,"Format :\xa0"),i.Yb(),i.Zb(53,"span"),i.Sc(54),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(55,"div",119),i.hc("click",(function(){return i.Hc(t),i.lc(3).displayPanel("TOPRIGHT")})),i.mc(56,"translate"),i.Qc(57,Ts,1,0,"i",120),i.Qc(58,As,1,0,"i",79),i.Yb(),i.Qc(59,Ds,2,5,"app-document-viewer",121),i.Qc(60,Rs,13,17,"div",71),i.Qc(61,Ls,6,7,"div",71),i.Qc(62,Vs,3,8,"div",122),i.Yb()}if(2&t){const t=i.lc(3);i.Eb(1),i.sc("ngStyle",i.zc(51,Fs,t.showTopRightPanel?"block":"none")),i.Eb(1),i.tc("title",t.signatureBook.attachments[t.rightSelectedThumbnail].attachment_type),i.Eb(4),i.Uc("",t.signatureBook.attachments[t.rightSelectedThumbnail].attachment_type," "),i.Eb(1),i.sc("ngIf","SIGN"==t.signatureBook.attachments[t.rightSelectedThumbnail].status),i.Eb(1),i.tc("title",t.signatureBook.attachments[t.rightSelectedThumbnail].title),i.Eb(2),i.Uc("",i.nc(11,30,"lang.object")," :\xa0"),i.Eb(3),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].title),i.Eb(1),i.tc("title",t.signatureBook.attachments[t.rightSelectedThumbnail].destUser),i.Eb(2),i.Uc("",i.nc(17,32,"lang.for")," :\xa0"),i.Eb(3),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].destUser),i.Eb(2),i.sc("ngIf",!t.signatureBook.attachments[t.rightSelectedThumbnail].updated_by),i.Eb(1),i.sc("ngIf",t.signatureBook.attachments[t.rightSelectedThumbnail].updated_by),i.Eb(3),i.Uc("",i.nc(26,34,"lang.createdOn")," :\xa0"),i.Eb(3),i.Tc(i.oc(29,36,t.signatureBook.attachments[t.rightSelectedThumbnail].creation_date,"dd/MM/y \xe0 HH:mm")),i.Eb(2),i.tc("title",i.oc(31,39,t.signatureBook.attachments[t.rightSelectedThumbnail].validation_date,"dd/MM/y")),i.Eb(3),i.Uc("",i.nc(34,42,"lang.back")," :\xa0"),i.Eb(3),i.Tc(i.oc(37,44,t.signatureBook.attachments[t.rightSelectedThumbnail].validation_date,"dd/MM/y")),i.Eb(2),i.tc("title",t.signatureBook.attachments[t.rightSelectedThumbnail].identifier),i.Eb(2),i.Uc("",i.nc(41,47,"lang.chrono")," :\xa0"),i.Eb(3),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].identifier),i.Eb(5),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].relation),i.Eb(1),i.sc("ngStyle",i.zc(53,Fs,t.signatureBook.attachments[t.rightSelectedThumbnail].relation>1?"":"none")),i.Eb(5),i.Tc(t.signatureBook.attachments[t.rightSelectedThumbnail].format.toUpperCase()),i.Eb(1),i.tc("title",i.nc(56,49,"lang.details")),i.Eb(2),i.sc("ngIf",!t.showTopRightPanel),i.Eb(1),i.sc("ngIf",t.showTopRightPanel),i.Eb(1),i.sc("ngIf",t.signatureBook.attachments[t.rightSelectedThumbnail].isConverted),i.Eb(1),i.sc("ngIf","pdf"!=t.signatureBook.attachments[t.rightSelectedThumbnail].format&&"TMP"!=t.signatureBook.attachments[t.rightSelectedThumbnail].status&&!t.signatureBook.attachments[t.rightSelectedThumbnail].isConverted),i.Eb(1),i.sc("ngIf","TMP"==t.signatureBook.attachments[t.rightSelectedThumbnail].status&&!t.signatureBook.attachments[t.rightSelectedThumbnail].isConverted),i.Eb(1),i.sc("ngIf",t.signatureBook.signatures[0]&&t.signatureBook.canSign&&"TMP"!=t.signatureBook.attachments[t.rightSelectedThumbnail].status&&t.signatureBook.attachments[t.rightSelectedThumbnail].sign&&t.signatureBook.attachments[t.rightSelectedThumbnail].isConverted)}}function Qs(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-attachments-list",140,141),i.hc("reloadBadgeAttachments",(function(){return i.Hc(t),i.lc(3).refreshAttachments()}))("afterActionAttachment",(function(){return i.Hc(t),i.lc(3).refreshAttachments()})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.resId)("target","process")("canModify",t.canUpdateDocument)}}function $s(t,e){if(1&t&&(i.Zb(0,"div",142),i.Ub(1,"div",110),i.Yb()),2&t){const t=i.lc(3);i.Eb(1),i.sc("innerHTML",t.translate.instant("lang.noAttachmentClickToAddOne"),i.Ic)}}const Ws=function(t){return{"margin-left":t}};function Gs(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",104),i.Zb(1,"div",105),i.hc("click",(function(){return i.Hc(t),i.lc(2).displayPanel("LEFT")})),i.Qc(2,Ss,1,0,"i",63),i.Qc(3,Es,1,0,"i",62),i.Yb(),i.Zb(4,"div",106),i.Qc(5,Hs,63,55,"div",107),i.Qc(6,Qs,2,3,"app-attachments-list",108),i.Yb(),i.Zb(7,"div",109),i.Ub(8,"div",110),i.Yb(),i.Qc(9,$s,2,1,"div",111),i.Yb()}if(2&t){const t=i.lc(2);i.sc("ngStyle",i.zc(8,Cs,t.rightContentWidth)),i.Eb(1),i.sc("ngStyle",i.zc(10,Ws,t.showLeftPanel?"-13px":"-2px")),i.Eb(1),i.sc("ngIf",t.showLeftPanel),i.Eb(1),i.sc("ngIf",!t.showLeftPanel),i.Eb(2),i.sc("ngIf",t.signatureBook.attachments[t.rightSelectedThumbnail]&&!t.showAttachmentPanel),i.Eb(1),i.sc("ngIf",t.showAttachmentPanel),i.Eb(2),i.sc("innerHTML",t.translate.instant("lang.noVisaWorkflowNoSignature"),i.Ic),i.Eb(1),i.sc("ngIf",!t.signatureBook.attachments[t.rightSelectedThumbnail])}}function qs(t,e){1&t&&i.Ub(0,"i",153)}function Xs(t,e){1&t&&i.Ub(0,"i",154)}function Js(t,e){1&t&&(i.Zb(0,"i",155),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.draft")))}function Ks(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",145),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc(3).changeRightViewer(n)})),i.Zb(1,"span",146),i.Ub(2,"i",147),i.Zb(3,"i",148),i.Sc(4),i.Yb(),i.Yb(),i.Qc(5,qs,1,0,"i",149),i.Qc(6,Xs,1,0,"i",150),i.Qc(7,Js,3,3,"i",151),i.Ub(8,"br"),i.Zb(9,"i",152),i.Sc(10),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=e.index,s=i.lc(3);i.vc("title","[",t.attachment_type,"] ",t.title,""),i.sc("ngClass",i.zc(8,as,n==s.rightSelectedThumbnail&&!s.showAttachmentPanel)),i.Eb(4),i.Tc(t.icon),i.Eb(1),i.sc("ngIf",t.sign&&"SIGN"==t.status),i.Eb(1),i.sc("ngIf",t.sign&&"SIGN"!=t.status&&"TMP"!=t.status),i.Eb(1),i.sc("ngIf",t.sign&&"TMP"==t.status),i.Eb(3),i.Uc(".",t.format,"")}}function ta(t,e){if(1&t&&(i.Zb(0,"div",143),i.Qc(1,Ks,11,10,"div",144),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngForOf",t.signatureBook.attachments)}}const ea=function(t){return{visaDisabledButton:t}};function na(t,e){if(1&t){const t=i.ac();i.Zb(0,"div"),i.Zb(1,"div",156),i.hc("click",(function(){i.Hc(t);const e=i.lc(2);return e.showAttachment(e.signatureBook.attachments[e.rightSelectedThumbnail])})),i.mc(2,"translate"),i.Ub(3,"i",157),i.Yb(),i.Zb(4,"div",158),i.hc("click",(function(){i.Hc(t);const e=i.lc(2);return e.delAttachment(e.signatureBook.attachments[e.rightSelectedThumbnail])})),i.mc(5,"translate"),i.Ub(6,"i",159),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(1),i.tc("title",i.nc(2,4,"lang.editDocument")),i.sc("ngClass",i.zc(8,ea,!t.canUpdateDocument||"SIGN"==t.signatureBook.attachments[t.rightSelectedThumbnail].status)),i.Eb(3),i.tc("title",i.nc(5,6,"lang.deleteAtt")),i.sc("ngClass",i.zc(10,ea,!t.canUpdateDocument))}}function ia(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",4),i.Zb(1,"div",6),i.Zb(2,"div",7),i.Qc(3,Qi,3,6,"div",8),i.Qc(4,Wi,3,7,"div",9),i.Yb(),i.Zb(5,"div",10),i.Zb(6,"div"),i.Sc(7),i.Yb(),i.Yb(),i.Zb(8,"div",11),i.Zb(9,"i",12),i.hc("click",(function(){return i.Hc(t),i.lc().backToBasket()})),i.Yb(),i.Yb(),i.Zb(10,"div",13),i.Zb(11,"i",14),i.hc("click",(function(){return i.Hc(t),i.lc().backToDetails()})),i.mc(12,"translate"),i.Yb(),i.Sc(13,"\xa0 "),i.Zb(14,"select",15),i.Qc(15,Gi,2,2,"option",16),i.Yb(),i.Zb(16,"input",17),i.hc("click",(function(){return i.Hc(t),i.lc().validForm()})),i.mc(17,"translate"),i.Yb(),i.Yb(),i.Qc(18,qi,3,2,"div",18),i.Yb(),i.Zb(19,"div",19),i.Zb(20,"div",20),i.Zb(21,"div",21),i.Qc(22,ts,26,34,"div",22),i.Yb(),i.Qc(23,es,2,0,"div",23),i.Yb(),i.Qc(24,ks,10,14,"div",24),i.Qc(25,Gs,10,12,"div",25),i.Zb(26,"div",26),i.Qc(27,ta,2,1,"div",27),i.Zb(28,"div",28),i.Zb(29,"div",29),i.hc("click",(function(){return i.Hc(t),i.lc().displayAttachmentPanel()})),i.mc(30,"translate"),i.Ub(31,"i",30),i.Yb(),i.Ub(32,"hr",31),i.Zb(33,"div",32),i.hc("click",(function(){return i.Hc(t),i.lc().createAttachment()})),i.mc(34,"translate"),i.Ub(35,"i",33),i.Ub(36,"i",34),i.Yb(),i.Qc(37,na,7,12,"div",3),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc();i.Eb(3),i.sc("ngIf",t.signatureBook.documents[0]&&!t.signatureBook.documents[0].inSignatureBook),i.Eb(1),i.sc("ngForOf",t.processTool),i.Eb(1),i.tc("title",t.signatureBook.documents[0].title),i.Eb(2),i.Vc("",t.signatureBook.documents[0].alt_id," : ",t.signatureBook.documents[0].title,""),i.Eb(4),i.tc("title",i.nc(12,19,"lang.linkDetails")),i.Eb(4),i.sc("ngForOf",t.signatureBook.actions),i.Eb(1),i.tc("value",i.nc(17,21,"lang.validate")),i.Eb(2),i.sc("ngIf",!t.functions.empty(t.signatureBook.consigne)),i.Eb(2),i.sc("ngStyle",i.zc(27,Fs,t.showResLeftPanel?"inline-block":"none")),i.Eb(2),i.sc("ngForOf",t.signatureBook.resList),i.Eb(1),i.sc("ngIf",0==t.signatureBook.resList.length),i.Eb(1),i.sc("ngIf",t.showLeftPanel),i.Eb(1),i.sc("ngIf",t.showRightPanel),i.Eb(2),i.sc("ngIf",t.signatureBook.attachments),i.Eb(2),i.tc("title",i.nc(30,23,"lang.displayAtt")),i.sc("ngClass",i.zc(29,as,t.showAttachmentPanel)),i.Eb(4),i.tc("title",i.nc(34,25,"lang.createAtt")),i.Eb(4),i.sc("ngIf",t.signatureBook.attachments[t.rightSelectedThumbnail])}}function sa(t,e){if(1&t){const t=i.ac();i.Zb(0,"div"),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Sc(6,"\xa0 "),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Zb(10,"span"),i.Sc(11),i.Yb(),i.Sc(12,"\xa0 "),i.Zb(13,"a",88),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).downloadOriginalFile(n.resId)})),i.mc(14,"translate"),i.Ub(15,"i",89),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit;i.Eb(2),i.Uc("",i.nc(3,5,"lang.version")," : "),i.Eb(3),i.Tc(t.relation),i.Eb(3),i.Uc("",i.nc(9,7,"lang.object")," : "),i.Eb(3),i.Tc(t.title),i.Eb(2),i.tc("title",i.nc(14,9,"lang.dlAttachment"))}}function aa(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,sa,16,11,"div",160),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngForOf",t.signatureBook.attachments[t.rightSelectedThumbnail].obsAttachments)}}let oa=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l,d,h){this.translate=t,this.http=e,this.appService=n,this.route=i,this.router=s,this.zone=a,this.notify=o,this.privilegeService=r,this.dialog=c,this.functions=l,this.actionService=d,this.headerService=h,this.signatureBook={consigne:"",documents:[],attachments:[],resList:[],resListIndex:0,lang:{}},this.rightSelectedThumbnail=0,this.leftSelectedThumbnail=0,this.rightViewerLink="",this.leftViewerLink="",this.headerTab="document",this.showTopRightPanel=!1,this.showTopLeftPanel=!1,this.showResLeftPanel=!0,this.showLeftPanel=!0,this.showRightPanel=!0,this.showAttachmentPanel=!1,this.showSignaturesPanel=!1,this.loading=!1,this.loadingSign=!1,this.canUpdateDocument=!1,this.currentResourceLock=null,this.leftContentWidth="44%",this.rightContentWidth="44%",this.processTool=[{id:"notes",icon:"fas fa-pen-square fa-2x",label:this.translate.instant("lang.notesAlt"),count:0},{id:"visaCircuit",icon:"fas fa-list-ol fa-2x",label:this.translate.instant("lang.visaWorkflow"),count:0},{id:"history",icon:"fas fa-history fa-2x",label:this.translate.instant("lang.history"),count:0},{id:"linkedResources",icon:"fas fa-link fa-2x",label:this.translate.instant("lang.links"),count:0}],window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js",this.subscription=this.actionService.catchAction().subscribe(t=>{this.processAfterAction()})}ngOnInit(){this.loading=!0,this.route.params.subscribe(t=>{this.resId=+t.resId,this.basketId=t.basketId,this.groupId=t.groupId,this.userId=t.userId,this.signatureBook.resList=[],this.actionService.lockResource(this.userId,this.groupId,this.basketId,[this.resId]),this.http.get("../rest/signatureBook/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/resources/"+this.resId).subscribe(t=>{if(t.error)return location.hash="",void(location.search="");this.signatureBook=t,this.canUpdateDocument=t.canUpdateDocuments,this.headerTab="document",this.leftSelectedThumbnail=0,this.rightSelectedThumbnail=0,this.leftViewerLink="",this.rightViewerLink="",this.showLeftPanel=!0,this.showRightPanel=!0,this.showResLeftPanel=!0,this.showTopLeftPanel=!1,this.showTopRightPanel=!1,this.showAttachmentPanel=!1,this.leftContentWidth="44%",this.rightContentWidth="44%",this.signatureBook.documents[0]&&(this.leftViewerLink=this.signatureBook.documents[0].viewerLink,this.signatureBook.documents[0].inSignatureBook&&(this.headerTab="visaCircuit")),this.signatureBook.attachments[0]&&(this.rightViewerLink=this.signatureBook.attachments[0].viewerLink),this.signatureBook.resListIndex=this.signatureBook.resList.map(t=>t.res_id).indexOf(this.resId),this.displayPanel("RESLEFT"),this.loading=!1,setTimeout(()=>{$("#rightPanelContent").niceScroll({touchbehavior:!1,cursorcolor:"#666",cursoropacitymax:.6,cursorwidth:"4"}),0===$(".tooltipstered").length&&$("#obsVersion").tooltipster({theme:"tooltipster-light",interactive:!0})},0),this.loadBadges(),this.loadActions(),void 0!==this.appDocumentViewer&&this.appDocumentViewer.loadRessource(this.signatureBook.attachments[this.rightSelectedThumbnail].signed?this.signatureBook.attachments[this.rightSelectedThumbnail].viewerId:this.signatureBook.attachments[this.rightSelectedThumbnail].res_id,this.signatureBook.attachments[this.rightSelectedThumbnail].isResource?"mainDocument":"attachment")},t=>{this.notify.error(t.error.errors),setTimeout(()=>{this.backToBasket()},2e3)})})}loadActions(){this.http.get("../rest/resourcesList/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/actions?resId="+this.resId).subscribe(t=>{this.signatureBook.actions=t.actions},t=>{this.notify.error(t.error.errors)})}processAfterAction(){let t=-1;const e=this.signatureBook.resList.length;for(let n=0;n<e;n++)this.signatureBook.resList[n].res_id===this.resId&&(this.signatureBook.resList[n+1]?t=this.signatureBook.resList[n+1].res_id:n>0&&(t=this.signatureBook.resList[n-1].res_id));e>0&&(t>=0?($("#send").removeAttr("disabled"),$("#send").css("opacity","1"),this.changeLocation(t,"action")):this.backToBasket())}changeSignatureBookLeftContent(t){this.headerTab=t,this.showTopLeftPanel=!1}changeRightViewer(t){this.showAttachmentPanel=!1,this.rightViewerLink=this.signatureBook.attachments[t]?this.signatureBook.attachments[t].viewerLink:"",this.rightSelectedThumbnail=t,this.appDocumentViewer.loadRessource(this.signatureBook.attachments[this.rightSelectedThumbnail].signed?this.signatureBook.attachments[this.rightSelectedThumbnail].viewerId:this.signatureBook.attachments[this.rightSelectedThumbnail].res_id,this.signatureBook.attachments[this.rightSelectedThumbnail].isResource?"mainDocument":"attachment")}changeLeftViewer(t){this.leftViewerLink=this.signatureBook.documents[t].viewerLink,this.leftSelectedThumbnail=t}displayPanel(t){"TOPRIGHT"===t?this.showTopRightPanel=!this.showTopRightPanel:"TOPLEFT"===t?this.showTopLeftPanel=!this.showTopLeftPanel:"LEFT"===t?(this.showLeftPanel=!this.showLeftPanel,this.showResLeftPanel=!1,this.showLeftPanel?(this.rightContentWidth="48%",this.leftContentWidth="48%",$("#hideLeftContent").css("background","#fbfbfb")):(this.rightContentWidth="96%",$("#hideLeftContent").css("background","none"))):"RESLEFT"===t?(this.showResLeftPanel=!this.showResLeftPanel,this.showResLeftPanel?(this.rightContentWidth="44%",this.leftContentWidth="44%",0!==this.signatureBook.resList.length&&void 0!==this.signatureBook.resList[0].creation_date||this.http.get("../rest/signatureBook/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/resources").subscribe(t=>{this.signatureBook.resList=t.resources,this.signatureBook.resList.forEach((t,e)=>{t.res_id==this.resId&&(this.signatureBook.resListIndex=e)}),setTimeout(()=>{$("#resListContent").niceScroll({touchbehavior:!1,cursorcolor:"#666",cursoropacitymax:.6,cursorwidth:"4"}),$("#resListContent").scrollTop(0),$("#resListContent").scrollTop($(".resListContentFrameSelected").offset().top-42)},0)})):(this.rightContentWidth="48%",this.leftContentWidth="48%")):"MIDDLE"===t&&(this.showRightPanel=!this.showRightPanel,this.showResLeftPanel=!1,this.showRightPanel?(this.rightContentWidth="48%",this.leftContentWidth="48%",$("#contentLeft").css("border-right","solid 1px")):(this.leftContentWidth="96%",$("#contentLeft").css("border-right","none")))}displayAttachmentPanel(){this.showAttachmentPanel=!this.showAttachmentPanel,this.rightSelectedThumbnail=0,this.signatureBook.attachments[0]&&(this.rightViewerLink=this.signatureBook.attachments[0].viewerLink)}refreshAttachments(t="rightContent"){"rightContent"===t?this.http.get("../rest/signatureBook/"+this.resId+"/incomingMailAttachments").subscribe(t=>{this.signatureBook.documents=t}):this.http.get("../rest/signatureBook/"+this.resId+"/attachments").subscribe(e=>{let n=0;if("add"===t){let t=!1;e.forEach((e,i)=>{t||this.signatureBook.attachments[i]&&e.res_id==this.signatureBook.attachments[i].res_id||(n=i,t=!0)})}else if("edit"===t){const t=this.signatureBook.attachments[this.rightSelectedThumbnail].res_id;e.forEach((e,i)=>{e.res_id==t&&(n=i)})}this.signatureBook.attachments=e,"add"===t||"edit"===t?this.changeRightViewer(n):"del"===t&&this.changeRightViewer(0)})}delAttachment(t){if(this.canUpdateDocument){let e=!1;e=this.signatureBook.attachments.length<=1?confirm("Attention, ceci est votre derni\xe8re pi\xe8ce jointe pour ce courrier, voulez-vous vraiment la supprimer ?"):confirm("Voulez-vous vraiment supprimer la pi\xe8ce jointe ?"),e&&this.http.delete("../rest/attachments/"+t.res_id).pipe(Object(ot.a)(()=>{this.refreshAttachments("del")}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}}signFile(t,e){!this.loadingSign&&this.signatureBook.canSign&&(this.loadingSign=!0,this.http.put(t.isResource?"../rest/resources/"+t.res_id+"/sign":"../rest/attachments/"+t.res_id+"/sign",{signatureId:e.id}).subscribe(e=>{t.isResource?(this.appDocumentViewer.loadRessource(t.res_id,"mainDocument"),this.rightViewerLink+="?tsp="+Math.floor(100*Math.random()),this.signatureBook.attachments[this.rightSelectedThumbnail].status="SIGN"):(this.appDocumentViewer.loadRessource(e.id,"attachment"),this.rightViewerLink="../rest/attachments/"+e.id+"/content",this.signatureBook.attachments[this.rightSelectedThumbnail].status="SIGN",this.signatureBook.attachments[this.rightSelectedThumbnail].idToDl=e.new_id,this.signatureBook.attachments[this.rightSelectedThumbnail].signed=!0,this.signatureBook.attachments[this.rightSelectedThumbnail].viewerId=e.id),this.signatureBook.attachments[this.rightSelectedThumbnail].viewerLink=this.rightViewerLink;let n=!0;this.signatureBook.attachments.forEach(t=>{t.sign&&"SIGN"!==t.status&&(n=!1)}),this.signatureBook.resList.length>0&&(this.signatureBook.resList[this.signatureBook.resListIndex].allSigned=n),this.showSignaturesPanel=!1,this.loadingSign=!1},t=>{this.notify.handleSoftErrors(t),this.loadingSign=!1}))}unsignFile(t){t.isResource?this.http.put("../rest/resources/"+t.res_id+"/unsign",{}).subscribe(()=>{this.appDocumentViewer.loadRessource(t.res_id,"maintDocument"),this.rightViewerLink+="?tsp="+Math.floor(100*Math.random()),this.signatureBook.attachments[this.rightSelectedThumbnail].status="A_TRA",this.signatureBook.resList.length>0&&(this.signatureBook.resList[this.signatureBook.resListIndex].allSigned=!1),"visaCircuit"===this.headerTab&&(this.changeSignatureBookLeftContent("document"),setTimeout(()=>{this.changeSignatureBookLeftContent("visaCircuit")},0))}):this.http.put("../rest/attachments/"+t.res_id+"/unsign",{}).subscribe(()=>{this.appDocumentViewer.loadRessource(t.res_id,"attachment"),this.rightViewerLink="../rest/attachments/"+t.res_id+"/content",this.signatureBook.attachments[this.rightSelectedThumbnail].viewerLink=this.rightViewerLink,this.signatureBook.attachments[this.rightSelectedThumbnail].status="A_TRA",this.signatureBook.attachments[this.rightSelectedThumbnail].idToDl=t.res_id,this.signatureBook.attachments[this.rightSelectedThumbnail].signed=!1,this.signatureBook.attachments[this.rightSelectedThumbnail].viewerId=t.res_id,this.signatureBook.resList.length>0&&(this.signatureBook.resList[this.signatureBook.resListIndex].allSigned=!1),"visaCircuit"===this.headerTab&&(this.changeSignatureBookLeftContent("document"),setTimeout(()=>{this.changeSignatureBookLeftContent("visaCircuit")},0))})}backToBasket(){this.router.navigate(["/basketList/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId])}backToDetails(){this.http.put("../rest/resourcesList/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/unlock",{resources:[this.resId]}).subscribe(t=>{this.router.navigate(["/resources/"+this.resId])},t=>{})}changeLocation(t,e){return Object(vn.a)(this,void 0,void 0,(function*(){t!==this.resId&&(!0===(yield this.actionService.canExecuteAction([t],this.userId,this.groupId,this.basketId))?(this.actionService.stopRefreshResourceLock(),this.actionService.actionEnded||this.actionService.unlockResource(this.userId,this.groupId,this.basketId,[this.resId]),this.router.navigate(["signatureBook/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/resources/"+t])):this.backToBasket())}))}validForm(){""!==$("#signatureBookActions option:selected").val()?this.processAction():alert("Aucune action choisie")}processAction(){this.http.get(`../rest/resources/${this.resId}?light=true`).pipe(Object(ot.a)(t=>{const e=$("#signatureBookActions option:selected").val(),n=this.signatureBook.actions.filter(t=>t.id==e)[0];this.actionService.launchAction(n,this.userId,this.groupId,this.basketId,[this.resId],t,!1)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}refreshBadge(t,e){this.processTool.filter(t=>t.id===e)[0].count=t}loadBadges(){this.http.get(`../rest/resources/${this.resId}/items`).pipe(Object(ot.a)(t=>{this.processTool.forEach(e=>{e.count=void 0!==t[e.id]?t[e.id]:0})}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}createAttachment(){this.dialogRef=this.dialog.open(Di.a,{disableClose:!0,panelClass:"attachment-modal-container",height:"90vh",width:"90vw",data:{resIdMaster:this.resId}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"success"===t),Object(ot.a)(()=>{this.refreshAttachments("add")}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}showAttachment(t){this.canUpdateDocument&&"SIGN"!==t.status&&(t.isResource?this.appDocumentViewer.editResource():(this.dialogRef=this.dialog.open(Ri.a,{height:"99vh",width:this.appService.getViewMode()?"99vw":"90vw",maxWidth:this.appService.getViewMode()?"99vw":"90vw",panelClass:"attachment-modal-container",disableClose:!0,data:{resId:t.res_id}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"success"===t),Object(ot.a)(()=>{this.refreshAttachments("edit")}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()))}saveVisaWorkflow(){this.appVisaWorkflow.saveVisaWorkflow()}downloadOriginalFile(t){const e=document.createElement("a");this.http.get(`../rest/attachments/${t}/originalContent?mode=base64`).pipe(Object(ot.a)(n=>{e.href=`data:${n.mimeType};base64,${n.encodedDocument}`,e.setAttribute("download",`${t}.${n.extension}`),document.body.appendChild(e),e.click()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}ngOnDestroy(){this.actionService.stopRefreshResourceLock(),this.actionService.actionEnded||this.actionService.unlockResource(this.userId,this.groupId,this.basketId,[this.resId]),this.subscription.unsubscribe()}pdfViewerError(t){this.http.get(t).pipe(Object(yn.a)(t=>(200!==t.status&&this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(f.a),i.Tb(o.a),i.Tb(o.c),i.Tb(i.B),i.Tb(p.a),i.Tb(Li.a),i.Tb(j.b),i.Tb(lt.a),i.Tb(Fi.a),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.ad(Bi,!0),i.ad(zi,!0)),2&t&&(i.Cc(n=i.ic())&&(e.appVisaWorkflow=n.first),i.Cc(n=i.ic())&&(e.appDocumentViewer=n.first))},decls:5,vars:3,consts:[["class","visaContent",4,"ngIf"],[1,"tooltip_templates",2,"display","none"],["id","obsVersionTooltip"],[4,"ngIf"],[1,"visaContent"],[1,"fa","fa-spinner","fa-spin","fa-5x",2,"margin-left","50%","margin-top","16%","font-size","8em"],[1,"titleSignatureBook"],["id","tabSignatureBook"],["class","item",3,"title","ngClass","click",4,"ngIf"],["class","item",3,"title","ngClass","click",4,"ngFor","ngForOf"],["id","labelSignatureBook",3,"title"],["id","closeSignatureBook"],[1,"fa","fa-times-circle","fa-2x",2,"cursor","pointer",3,"click"],[1,"actions"],[1,"fa","fa-info-circle","fa-2x",2,"cursor","pointer","vertical-align","middle",3,"title","click"],["id","signatureBookActions"],[3,"value",4,"ngFor","ngForOf"],["name","send","id","send","type","button",1,"button","button-form-primary-filled",3,"value","click"],["class","others",4,"ngIf"],[1,"contentSignatureBook"],["id","resListContent",1,"resListContent",3,"ngStyle"],[1,"resListContentPos"],["class","resListContentFrame",3,"ngClass","click",4,"ngFor","ngForOf"],["style","position: absolute;top: 48%; left: 3%",4,"ngIf"],["class","contentLeft","id","contentLeft",3,"ngStyle",4,"ngIf"],["class","contentRight","id","contentRight",3,"ngStyle",4,"ngIf"],[1,"panelRight"],["id","rightPanelContent","class","panelRightContent",4,"ngIf"],[2,"bottom","0px","position","absolute","width","100%"],[1,"panelRightListPj",3,"title","ngClass","click"],[1,"fa","fa-bars","fa-2x"],[2,"background-color","#666","margin-top","0px"],[1,"panelRightAddPj",3,"title","click"],[1,"fa","fa-paperclip","fa-2x"],[1,"fa","fa-plus",2,"position","absolute"],[1,"item",3,"title","ngClass","click"],[1,"fa","fa-file-alt","fa-2x"],["class","fas fa-circle haveContent",4,"ngIf"],[1,"fas","fa-circle","haveContent"],[3,"value"],[1,"others"],["id","consigne"],["type","text","readonly","readonly",1,"inputConsigne",3,"value","title"],[1,"resListContentFrame",3,"ngClass","click"],[1,"resListContentInfo"],[1,"fa","fa-compass",3,"title"],["class","fa fa-certificate",4,"ngIf"],["aria-hidden","true",1,"fa","fa-circle",2,"position","absolute","right","0px","top","-10px","font-size","25px",3,"title","ngStyle"],[1,"fa","fa-info",3,"title"],[1,"fa","fa-book",3,"title"],[1,"fa","fa-calendar-alt",3,"title"],[1,"resListContentInfo",2,"margin-top","-10px"],[1,"fa","fa-bell",3,"title"],[1,"fa","fa-certificate"],[2,"position","absolute","top","48%","left","3%"],[1,"fa","fa-spinner","fa-spin","fa-4x"],["id","contentLeft",1,"contentLeft",3,"ngStyle"],["class","hideresListContent",3,"click",4,"ngIf"],["class","contentShow",4,"ngIf"],["class","contentShow","style","width:98%;",4,"ngIf"],["class","contentShow","style","width:98%;overflow-x: hidden;",4,"ngIf"],[1,"hideRightContent",3,"ngStyle","click"],["class","fa fa-chevron-right","aria-hidden","true",4,"ngIf"],["class","fa fa-chevron-left","aria-hidden","true",4,"ngIf"],[1,"hideresListContent",3,"click"],["aria-hidden","true",1,"fa","fa-chevron-left"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"contentShow"],["class","pjDoc",4,"ngIf"],["class","pjDetailsMore","style","left:25px;",3,"title","click",4,"ngIf"],["id","leftPanelShowDocumentIframe",3,"src","render-text","fit-to-page","original-size","ngStyle","show-all","error",4,"ngIf"],["class","visaNoPdfWarning",3,"ngStyle",4,"ngIf"],[1,"pjDoc"],[2,"height","100%"],["id","thumnails_img","class","leftPanelThumbnails",3,"title","src","ngClass","click",4,"ngFor","ngForOf"],["id","thumnails_img",1,"leftPanelThumbnails",3,"title","src","ngClass","click"],[1,"pjDetailsMore",2,"left","25px",3,"title","click"],["class","fa fa-envelope-square fa-2x","aria-hidden","true",4,"ngIf"],["class","nbRes","style","position: absolute;right: 6px;top: 5px;",4,"ngIf"],["class","fa fa-chevron-up","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-envelope-square","fa-2x"],[1,"nbRes",2,"position","absolute","right","6px","top","5px"],["aria-hidden","true",1,"fa","fa-chevron-up"],["id","leftPanelShowDocumentIframe",3,"src","render-text","fit-to-page","original-size","ngStyle","show-all","error"],["leftPanelShowDocumentIframe",""],[1,"visaNoPdfWarning",3,"ngStyle"],[2,"padding-top","25%"],[1,"visaPjView"],[2,"cursor","pointer",3,"title","click"],[1,"fa","fa-download","fa-2x"],[1,"contentShow",2,"width","98%"],[3,"editMode","resId","reloadBadgeNotes"],["appNotesList",""],[1,"contentShow",2,"width","98%","overflow-x","hidden"],[3,"resId","adminMode","target"],["appVisaWorkflow",""],[2,"position","sticky","bottom","0px","text-align","right"],["mat-fab","","color","accent",3,"title","click",4,"ngIf"],["mat-fab","","color","accent",3,"title","click"],[1,"fas","fa-check",2,"height","auto","font-size","20px"],[3,"resId"],["appHistoryList",""],[3,"resId","reloadBadgeLinkedResources"],["appLinkedResourceList",""],["id","contentRight",1,"contentRight",3,"ngStyle"],["id","hideLeftContent",1,"hideLeftContent",3,"ngStyle","click"],[1,"contentShow",2,"overflow","auto"],["style","height:100%;overflow: auto;",4,"ngIf"],[3,"resId","target","canModify","reloadBadgeAttachments","afterActionAttachment",4,"ngIf"],[1,"visaNoWorkflowWarning"],[2,"margin-top","200px",3,"innerHTML"],["class","visaNoPjWarning",4,"ngIf"],[2,"height","100%","overflow","auto"],[1,"pjDetails",3,"ngStyle"],[1,"infoPj",3,"title"],["style","color:#135F7F;",4,"ngIf"],["class","infoPj",3,"title",4,"ngIf"],[1,"infoPj"],["id","obsVersion","data-tooltip-content","#obsVersionTooltip","aria-hidden","true",1,"fa","fa-chevron-circle-up",2,"color","#135F7F",3,"ngStyle"],[1,"pjDetailsMore",3,"title","click"],["class","fa fa-list-alt fa-2x","aria-hidden","true",4,"ngIf"],["id","rightPanelShowDocumentIframe","style","height:100%;width:100%;",3,"editMode","hideTools","mode","resId","title",4,"ngIf"],["class","pjSign",3,"ngClass","ngStyle","mouseenter","mouseleave",4,"ngIf"],[2,"color","#135F7F"],["aria-hidden","true",1,"fa","fa-list-alt","fa-2x"],["id","rightPanelShowDocumentIframe",2,"height","100%","width","100%",3,"editMode","hideTools","mode","resId","title"],["appDocumentViewer",""],[2,"padding-top","25%",3,"innerHTML"],[3,"title","click"],[1,"fa","fa-edit","fa-2x",2,"cursor","pointer"],[1,"pjSign",3,"ngClass","ngStyle","mouseenter","mouseleave"],["style","cursor: pointer",4,"ngIf"],["style","cursor: pointer;color: green;",3,"click",4,"ngIf"],[2,"cursor","pointer"],["class","fa fa-spinner fa-pulse fa-2x fa-fw",4,"ngIf"],[3,"src","ngStyle","title","click",4,"ngFor","ngForOf"],[3,"src","ngStyle","title","click"],[1,"fa","fa-spinner","fa-pulse","fa-2x","fa-fw"],[2,"cursor","pointer","color","green",3,"click"],["aria-hidden","true",1,"fa","fa-check","fa-2x",3,"title"],[3,"resId","target","canModify","reloadBadgeAttachments","afterActionAttachment"],["appAttachmentsList",""],[1,"visaNoPjWarning"],["id","rightPanelContent",1,"panelRightContent"],["style","position: relative;","class","item",3,"title","ngClass","click",4,"ngFor","ngForOf"],[1,"item",2,"position","relative",3,"title","ngClass","click"],[1,"fa-stack","fa-lg"],[1,"far","fa-file","fa-stack-2x"],[2,"font-weight","bold","letter-spacing","-1px"],["title","Le document a \xe9t\xe9 sign\xe9","style","position: absolute;top: 12px;right: 6px;","class","fa fa-circle",4,"ngIf"],["title","Le document n'a pas encore \xe9t\xe9 sign\xe9","style","position: absolute;top: 12px;right: 6px;","class","far fa-circle",4,"ngIf"],["style","color:green;-ms-transform: rotate(-35deg);-webkit-transform: rotate(-35deg);transform: rotate(-35deg);position: absolute;top: 39px;right: 1px;",4,"ngIf"],[2,"position","absolute","margin-left","-9px"],["title","Le document a \xe9t\xe9 sign\xe9",1,"fa","fa-circle",2,"position","absolute","top","12px","right","6px"],["title","Le document n'a pas encore \xe9t\xe9 sign\xe9",1,"far","fa-circle",2,"position","absolute","top","12px","right","6px"],[2,"color","green","-ms-transform","rotate(-35deg)","-webkit-transform","rotate(-35deg)","transform","rotate(-35deg)","position","absolute","top","39px","right","1px"],[1,"visaPjUp",3,"ngClass","title","click"],[1,"fa","fa-edit","fa-2x"],[1,"visaPjDel",3,"ngClass","title","click"],[1,"fa","fa-trash-alt","fa-2x"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Qc(0,Vi,2,0,"div",0),i.Qc(1,ia,38,31,"div",0),i.Zb(2,"div",1),i.Zb(3,"span",2),i.Qc(4,aa,2,1,"div",3),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading),i.Eb(3),i.sc("ngIf",e.signatureBook.attachments[e.rightSelectedThumbnail]&&e.signatureBook.attachments[e.rightSelectedThumbnail].relation>1))},directives:[v.t,v.s,v.w,v.q,F.y,F.I,hi.a,ji.a,Yi.a,g.b,b.a,Zi.a,Ni.a,Oi.a,Ui.a],pipes:[l.d,v.f,v.b,yt.a],styles:['.selectedId[_ngcontent-%COMP%]{background-color:#f99830}#tab_visaSetWorkflow[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:pre}[draggable=true][_ngcontent-%COMP%]{cursor:move}[draggable=true][_ngcontent-%COMP%]:hover{box-shadow:0 0 5px green}[draggable=false][_ngcontent-%COMP%]:hover{cursor:not-allowed}#visa_content[_ngcontent-%COMP%]{display:block;width:100%}.droptarget[_ngcontent-%COMP%]{position:relative;background-color:rgba(19,95,127,.2);display:table;margin:10px;padding:5px;text-align:left;width:95%;cursor:default;border:2px dashed rgba(19,95,127,.2)}.droptarget_arrow[_ngcontent-%COMP%]{border:none;display:table-cell}.vised[_ngcontent-%COMP%]{opacity:1;color:green;border:2px solid green}.moved[_ngcontent-%COMP%]{opacity:.5!important;color:#666!important;border:2px solid #fff!important;text-decoration:line-through!important}.droptarget[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#visaUserList[_ngcontent-%COMP%]{width:45%;float:left}.droptarget.currentVis[_ngcontent-%COMP%]{color:#135f7f;border:2px solid #135f7f}.visaUserAction[_ngcontent-%COMP%], .visaUserConsigne[_ngcontent-%COMP%], .visaUserInfo[_ngcontent-%COMP%], .visaUserStatus[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.visaUserStatus[_ngcontent-%COMP%]{width:5%}.vised[_ngcontent-%COMP%]   .visaUserStatus[_ngcontent-%COMP%]{opacity:1}.visaUserInfo[_ngcontent-%COMP%]{width:55%;font-weight:700}.visaUserInfo[_ngcontent-%COMP%]   .nbRes[_ngcontent-%COMP%]{background-color:grey;font-weight:400}.visaUserInfo[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%]{font-weight:400}.droptarget[_ngcontent-%COMP%]:hover.vised   #dropZone[_ngcontent-%COMP%]{visibility:hidden}.droptarget[_ngcontent-%COMP%]:hover   #dropZone[_ngcontent-%COMP%]{visibility:visible}.dropArea[_ngcontent-%COMP%]{border:3px dashed #fff;width:60%;margin:auto;opacity:.5;padding:5px}.dropArea[_ngcontent-%COMP%]:after{font-weight:bolder}#dropZone[_ngcontent-%COMP%], #dropZone[_ngcontent-%COMP%]:active{width:40px;text-align:right;opacity:.5;visibility:hidden;float:right;margin:5px}#dropZone[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}#dropZone[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.visaUserConsigne[_ngcontent-%COMP%]{width:30%}.visaUserAction[_ngcontent-%COMP%]{color:red;text-align:center;width:5%}.visaUserAction[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.visaContent[_ngcontent-%COMP%]{position:relative;font-size:12px;display:flex;flex-direction:column;height:100vh;overflow:hidden}.visaContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:block!important;position:static!important;padding:10px;text-align:center!important}.titleSignatureBook[_ngcontent-%COMP%]   .others[_ngcontent-%COMP%]{float:right;width:14%;padding:5px;vertical-align:middle;text-align:right}.titleSignatureBook[_ngcontent-%COMP%]   .others[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:95%;background:#e6e6e6;border-radius:2px;border:none;padding:5px}.resListContent[_ngcontent-%COMP%]{width:8%;height:100%;text-align:center;border-right:1px solid;vertical-align:top;overflow:auto;font-size:10px}.resListContentInfo[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:95%;text-align:left;padding:5px;cursor:pointer;margin-top:0}.resListContentInfo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:5%;text-align:center}.resListContentFrame[_ngcontent-%COMP%]:hover{background-color:#f99830}.resListContentFrame[_ngcontent-%COMP%]{border-bottom:1px solid #000;position:relative;overflow:hidden;background-color:#fff}.resListContentPos[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.hideLeftContent[_ngcontent-%COMP%]{z-index:1;margin-left:-13px}.hideLeftContent[_ngcontent-%COMP%], .hideRightContent[_ngcontent-%COMP%]{position:absolute;color:#666;top:45%;padding:5px;cursor:pointer;background:#fbfbfb;border-radius:40px}.hideRightContent[_ngcontent-%COMP%]{right:-10px}.hideresListContent[_ngcontent-%COMP%]{position:absolute;left:-4px;color:#666;top:45%;padding:5px;cursor:pointer;background:#fbfbfb;border-radius:40px}.contentLeft[_ngcontent-%COMP%]{position:relative;border-right:1px solid;padding-left:10px}.contentLeft[_ngcontent-%COMP%], .contentRight[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;height:100%}.visaContent[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{margin:auto;width:100%;height:75vh;border:none}.contentLeft[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:99%}.panelRight[_ngcontent-%COMP%]{width:50px;border-left:1px solid;text-align:center;position:absolute;right:0;background-color:#fff}.panelRightContent[_ngcontent-%COMP%]{width:100%;height:69%;overflow:auto}.panelRight[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{cursor:pointer;padding:20px 10px 20px 5px}.contentRight[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{display:inline-block;height:91vh}.panelRight[_ngcontent-%COMP%]{display:inline-block;height:calc(100% - 38px)}.contentLeft[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{height:95vh;overflow:auto;width:98%}.contentLeft[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%], .contentRight[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{padding:5px;height:100%}.contentRight[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{position:relative;vertical-align:top;width:100%}.pjDetails[_ngcontent-%COMP%], .pjDoc[_ngcontent-%COMP%]{margin-bottom:5px}.pjDetails[_ngcontent-%COMP%], .pjSign[_ngcontent-%COMP%]{background-color:#fff;display:block;width:99%;text-align:left;-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=5);border-radius:5px;padding:10px;height:100px}.pjSign[_ngcontent-%COMP%]{cursor:pointer}.pjDetails[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;cursor:inherit}.pjDetailsMore[_ngcontent-%COMP%]{z-index:1;position:absolute;left:15px;margin-top:2px;text-align:center;cursor:pointer;background:#135f7f;color:#fff;padding:10px;-o-box-shadow:0 0 10px 0 #656565;box-shadow:0 0 10px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=10)}.pjDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:normal}.pjDetails[_ngcontent-%COMP%]{color:#666;font-family:Verdana,Geneva,Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;letter-spacing:.02em}.pjDoc[_ngcontent-%COMP%]{height:100px;background-color:#fff;-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=5);border-radius:5px;padding:10px}.pjDoc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%;border:2px solid #fff;cursor:pointer}img.panelSelectedThumbnail[_ngcontent-%COMP%], img[_ngcontent-%COMP%]:hover.panelSelectedThumbnail{border:2px solid #135f7f;cursor:pointer}.actions[_ngcontent-%COMP%]{float:right;width:25%;padding:5px;vertical-align:middle;text-align:right;text-transform:none;border-left:1px solid #000;border-right:1px solid #000}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:5%}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:75%}.actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;width:17%}#signatureBookActions[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#000;font:400 13.3333px Arial}.titleSignatureBook[_ngcontent-%COMP%]{height:38px;font-size:12px;display:block;width:100%;border:1px solid #000;vertical-align:middle;font-weight:700;background:#135f7f;color:#fff;text-transform:uppercase;white-space:nowrap;overflow:hidden}#closeSignatureBook[_ngcontent-%COMP%]{float:right;padding:5px;width:47px;text-align:center}#labelSignatureBook[_ngcontent-%COMP%]{float:left;width:33%;padding-left:10px;margin-top:10px}#labelSignatureBook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:block}#tabSignatureBook[_ngcontent-%COMP%]{float:left;width:auto}.titleSignatureBook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}#tabSignatureBook[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-right:1px solid #000;display:table-cell;cursor:pointer;vertical-align:middle;width:60px;text-align:center;padding:5px 10px 7px;color:#666;background-color:#fbfbfb}.contentSignatureBook[_ngcontent-%COMP%]{border:1px solid #000;border-top:none;display:block;width:100%;flex:1;overflow:hidden;background-color:#fbfbfb}#tabSignatureBook[_ngcontent-%COMP%]   .item.activeTabSignatureBook[_ngcontent-%COMP%]{-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;padding-left:10px;padding-right:10px}.resListContentFrameSelected[_ngcontent-%COMP%]{background-color:#f99830}.panelRightContent[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover, .panelSelectedThumbnail[_ngcontent-%COMP%]{-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;background-color:#f99830}.panelSelectedThumbnail[_ngcontent-%COMP%]{color:#666!important}.infoPj[_ngcontent-%COMP%]{width:30%;display:inline-block;white-space:nowrap!important;overflow:hidden;text-overflow:ellipsis;padding-left:10px}.infoPj[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{vertical-align:top}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:5px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]{padding-right:18px;position:relative}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after, .ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before{content:"";border-color:#000 transparent;border-style:solid;border-width:0 4px 4px;visibility:visible;right:5px;top:50%;position:absolute;opacity:.3;margin-top:-4px}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before{margin-top:2px;border:4px solid transparent;border-top-color:#000;border-bottom:none}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:hover:after, .ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:hover:before{opacity:1;visibility:visible}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%], .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]{background-color:rgba(141,192,219,.25);text-shadow:0 1px 1px hsla(0,0%,100%,.75)}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after{margin-top:-2px}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before{visibility:hidden}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:hover:after, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after{visibility:visible;filter:alpha(opacity=60);-khtml-opacity:.6;-moz-opacity:.6;opacity:.6}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after{border:4px solid transparent;border-top-color:#000;border-bottom:none;box-shadow:none}.ng-table[_ngcontent-%COMP%]   th.filter[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin:0;display:block;width:auto;font-size:9px;box-sizing:border-box}.ng-table[_ngcontent-%COMP%]   .ng-table-group-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}.ng-table[_ngcontent-%COMP%]   .ng-table-group-selector[_ngcontent-%COMP%]{display:block}.ng-table[_ngcontent-%COMP%]   .ng-table-group-close[_ngcontent-%COMP%], .ng-table[_ngcontent-%COMP%]   .ng-table-group-toggle[_ngcontent-%COMP%]{float:right}.ng-table[_ngcontent-%COMP%]   .ng-table-group-toggle[_ngcontent-%COMP%]{margin-right:5px}@media only screen and (max-width:800px){.ng-table-responsive[_ngcontent-%COMP%]{border-bottom:1px solid #999}.ng-table-responsive[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #999;border-left:1px solid #999;border-right:1px solid #999}.ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{position:absolute;padding:8px;left:0;top:0;width:50%;white-space:nowrap;text-align:left;font-weight:700}.ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}.ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.ng-table-filters[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.ng-table-filters[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px}.ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%;white-space:normal;text-align:left}.ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title-text)}.ng-table-responsive[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block}}.ng-table-pagination[_ngcontent-%COMP%]{margin-top:0}.filter[_ngcontent-%COMP%]:after, .filter[_ngcontent-%COMP%]:before, .ng-table-group-selector[_ngcontent-%COMP%]:after, .ng-table-group-selector[_ngcontent-%COMP%]:before{display:table;content:" "}.filter[_ngcontent-%COMP%]:after, .ng-table-group-selector[_ngcontent-%COMP%]:after{clear:both}.filter[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]{float:left;box-sizing:border-box}.filter-horizontal[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]{padding:0 2px}.filter-horizontal[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]:first-child{padding-left:0}.filter-horizontal[_ngcontent-%COMP%] > .filter-cell.last[_ngcontent-%COMP%], .filter-horizontal[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]:last-child{padding-right:0}.s12[_ngcontent-%COMP%]{width:100%}.s11[_ngcontent-%COMP%]{width:91.66666666666666%}.s10[_ngcontent-%COMP%]{width:83.33333333333334%}.s9[_ngcontent-%COMP%]{width:75%}.s8[_ngcontent-%COMP%]{width:66.66666666666666%}.s7[_ngcontent-%COMP%]{width:58.333333333333336%}.s6[_ngcontent-%COMP%]{width:50%}.s5[_ngcontent-%COMP%]{width:41.66666666666667%}.s4[_ngcontent-%COMP%]{width:33.33333333333333%}.s3[_ngcontent-%COMP%]{width:25%}.s2[_ngcontent-%COMP%]{width:16.666666666666664%}.s1[_ngcontent-%COMP%]{width:8.333333333333332%}@media (max-width:468px){.s1[_ngcontent-%COMP%], .s2[_ngcontent-%COMP%], .s3[_ngcontent-%COMP%], .s4[_ngcontent-%COMP%], .s5[_ngcontent-%COMP%], .s6[_ngcontent-%COMP%], .s7[_ngcontent-%COMP%], .s8[_ngcontent-%COMP%], .s9[_ngcontent-%COMP%], .s10[_ngcontent-%COMP%], .s11[_ngcontent-%COMP%], .s12[_ngcontent-%COMP%]{width:100%}.filter[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]{padding:0}}.ng-table[_ngcontent-%COMP%]{margin-bottom:20px;max-width:100%;width:100%;background-color:transparent;border-collapse:collapse;border-spacing:0;border-bottom:1px solid #135f7f}.ng-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:10px}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #135f7f}.ng-table-counts[_ngcontent-%COMP%]{display:none}.ng-table-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border:1px solid #135f7f;padding:5px;margin:5px;border-radius:10px}.ng-table-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#135f7f;color:#fff}.ng-table-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.ng-table-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#135f7f;color:#fff}.ng-table-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.ng-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:rgba(141,192,219,.25)}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:60%}#footer[_ngcontent-%COMP%]{padding:0}.pjSign[_ngcontent-%COMP%]{text-align:left;height:auto;position:absolute;bottom:0;background:#fff;margin-bottom:5px;width:80px;transition:width .5s;overflow:auto!important}.pjSign.signed[_ngcontent-%COMP%]{width:auto!important}.pjSign[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;height:30px;width:50px;transition:height .5s}.pjSign[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{height:60px;width:auto;transition:height .5s}.pjSign[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]:hover{border:2px solid #135f7f}.pjSign[_ngcontent-%COMP%]:hover{width:95%;transition:width .5s}.visaPjView[_ngcontent-%COMP%]{color:initial}.panelRightListPj[_ngcontent-%COMP%]{padding:3px;margin-bottom:5px;cursor:pointer}.panelRightListPj[_ngcontent-%COMP%]:hover{color:#135f7f}.panelRightAddPj[_ngcontent-%COMP%]{display:block;background-color:#16a765}.panelRightAddPj[_ngcontent-%COMP%], .visaPjUp[_ngcontent-%COMP%]{margin:auto auto 10px;font-size:10px;height:40px;width:40px;cursor:pointer;padding:10px;color:#fff;border-radius:25px;-o-box-shadow:0 0 10px 0 #656565;box-shadow:0 0 10px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=10)}.visaPjUp[_ngcontent-%COMP%]{background-color:#4285f4}.visaPjDel[_ngcontent-%COMP%]{margin:auto;font-size:10px;height:40px;width:40px;cursor:pointer;padding:10px;background-color:#d14836;color:#fff;border-radius:25px;-o-box-shadow:0 0 10px 0 #656565;box-shadow:0 0 10px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=10)}.visaNoPdfWarning[_ngcontent-%COMP%]{border:dashed;font-weight:700;opacity:.5;white-space:normal;font-size:40px;text-align:center}.visaNoWorkflowWarning[_ngcontent-%COMP%]{height:97%;width:100%}.visaNoPjWarning[_ngcontent-%COMP%], .visaNoWorkflowWarning[_ngcontent-%COMP%]{font-size:40px;border:dashed;font-weight:700;opacity:.5;white-space:normal;margin-top:10px}.visaNoPjWarning[_ngcontent-%COMP%]{height:80vh}.visaDisabledButton[_ngcontent-%COMP%]{cursor:inherit;opacity:.3}.chosen-container-single[_ngcontent-%COMP%]   .chosen-default[_ngcontent-%COMP%]{color:#000!important}#visa_content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px}.nbResZero[_ngcontent-%COMP%]{background:#666}.nbRes[_ngcontent-%COMP%], .nbResZero[_ngcontent-%COMP%]{color:#fff;padding:3px;border-radius:7px}.nbRes[_ngcontent-%COMP%]{background:#f99830}.haveContent[_ngcontent-%COMP%]{font-size:9px!important;color:#f99830;margin-left:2px}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;transition:all .1s;margin-left:5px}.inputConsigne[_ngcontent-%COMP%]{height:22px;margin-top:2px;color:#000;font-weight:400}']}),t})();var ra=n("1G5W"),ca=n("JX91"),la=n("lJxs"),da=n("XqQ8"),ha=n("2c88"),ua=n("ds6q"),pa=n("6eB1");let fa=(()=>{class t{constructor(){this.listsProperties=[],this.listsPropertiesIndex=0,this.filterMode=!1,this.mode="basket"}initListsProperties(t,e,n,i,s=""){let a;return this.listsProperties=JSON.parse(sessionStorage.getItem("propertyList"+i)),this.listsPropertiesIndex=0,this.mode=i,null!=this.listsProperties?this.listsProperties.forEach((i,s)=>{i.id==t&&i.groupId==e&&i.targetId==n&&(this.listsPropertiesIndex=s,a=i)}):this.listsProperties=[],a&&""===s||(a={id:t,groupId:e,targetId:n,page:"0",pageSize:10,order:"",orderDir:"DESC",search:s,delayed:!1,categories:[],priorities:[],entities:[],subEntities:[],statuses:[],doctypes:[],folders:[]},this.listsProperties.push(a),this.listsPropertiesIndex=this.listsProperties.length-1,this.saveListsProperties()),a}updateListsPropertiesPage(t){this.listsProperties&&(this.listsProperties[this.listsPropertiesIndex].page=t,this.saveListsProperties())}updateListsPropertiesPageSize(t){this.listsProperties&&(this.listsProperties[this.listsPropertiesIndex].pageSize=t,this.saveListsProperties())}updateListsProperties(t){this.listsProperties&&(this.listsProperties[this.listsPropertiesIndex]=t,this.saveListsProperties())}saveListsProperties(){sessionStorage.setItem("propertyList"+this.mode,JSON.stringify(this.listsProperties))}getUrlFilters(){let t="";if(this.listsProperties){if(this.listsProperties[this.listsPropertiesIndex].delayed&&(t+="&delayed=true"),this.listsProperties[this.listsPropertiesIndex].order.length>0&&(t+="&order="+this.listsProperties[this.listsPropertiesIndex].order+" "+this.listsProperties[this.listsPropertiesIndex].orderDir),this.listsProperties[this.listsPropertiesIndex].search.length>0&&(t+="&search="+this.listsProperties[this.listsPropertiesIndex].search),this.listsProperties[this.listsPropertiesIndex].categories.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].categories.forEach(t=>{e.push(t.id)}),t+="&categories="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].priorities.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].priorities.forEach(t=>{e.push(t.id)}),t+="&priorities="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].statuses.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].statuses.forEach(t=>{e.push(t.id)}),t+="&statuses="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].entities.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].entities.forEach(t=>{e.push(t.id)}),t+="&entities="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].subEntities.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].subEntities.forEach(t=>{e.push(t.id)}),t+="&entitiesChildren="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].doctypes.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].doctypes.forEach(t=>{e.push(t.id)}),t+="&doctypes="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].folders.length>0){let e=[];this.listsProperties[this.listsPropertiesIndex].folders.forEach(t=>{e.push(t.id)}),t+="&folders="+e.join(",")}}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();var ma=n("rDax"),ga=n("6Psc"),ba=n("/1cH"),_a=n("aEDk"),va=n("jaxi");function ya(t,e){1&t&&(i.Zb(0,"mat-option",32),i.Ub(1,"mat-spinner",33),i.Yb())}function xa(t,e){if(1&t&&(i.Zb(0,"mat-option",38),i.Zb(1,"span",39),i.Sc(2),i.Yb(),i.Zb(3,"span",22),i.Zb(4,"span",40),i.Sc(5),i.Yb(),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Jb("undefined","_UNDEFINED"===t.label),i.Eb(1),i.Tc(t.label),i.Eb(2),i.Hb("badge badge-",t.id,""),i.Eb(1),i.Tc(t.count)}}function wa(t,e){if(1&t&&(i.Zb(0,"mat-optgroup",36),i.Qc(1,xa,6,8,"mat-option",37),i.Yb()),2&t){const t=i.lc().$implicit;i.sc("label",t.letter),i.Eb(1),i.sc("ngForOf",t.names)}}function Ca(t,e){if(1&t&&(i.Xb(0),i.Qc(1,wa,2,2,"mat-optgroup",35),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf",t.names.length>0)}}function Oa(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Ca,2,1,"ng-container",34),i.mc(2,"async"),i.Wb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngForOf",i.nc(2,1,t.stateGroupOptions))}}function ka(t,e){if(1&t&&(i.Zb(0,"mat-option",41),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t.id),i.Eb(1),i.Uc(" ",i.nc(2,2,"lang."+t.id)," ")}}function Sa(t,e){1&t&&i.Ub(0,"mat-icon",42)}function Ea(t,e){1&t&&i.Ub(0,"mat-icon",43)}function Ma(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",44),i.hc("click",(function(){i.Hc(t);const e=i.lc();return e.listProperties.search="",e.removeFilters()})),i.mc(1,"translate"),i.Ub(2,"i",45),i.Yb()}2&t&&i.tc("title",i.nc(1,1,"lang.eraseAllFilters"))}function Ia(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",46),i.hc("click",(function(){i.Hc(t);const e=i.lc();return e.listProperties.search="",e.updateFilters()})),i.mc(1,"translate"),i.mc(2,"translate"),i.Sc(3),i.Ub(4,"i",47),i.Yb()}if(2&t){const t=i.lc();i.vc("title","",i.nc(1,3,"lang.subject")," / ",i.nc(2,5,"lang.chronoNumber"),""),i.Eb(3),i.Uc("",t.listProperties.search," ")}}function Pa(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",48),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("categories",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.categories")),i.Eb(2),i.Uc("",t.label," ")}}function Ta(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",49),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("priorities",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.priorities")),i.Eb(2),i.Uc("",t.label," ")}}function Aa(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",50),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("statuses",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.statuses")),i.Eb(2),i.Uc("",t.label," ")}}function Da(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",51),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("entities",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.entities")),i.Eb(2),i.Uc("",t.label," ")}}function Ra(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",52),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("subEntities",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.subEntities")),i.Eb(2),i.Uc("",t.label," ")}}function La(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",53),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("doctypes",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.doctypes")),i.Eb(2),i.Uc("",t.label," ")}}function Fa(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",54),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeFilter("folders",n)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){const t=e.$implicit;i.tc("title",i.nc(1,2,"lang.folders")),i.Eb(2),i.Uc("",t.label," ")}}let ja=(()=>{class t{constructor(t,e,n,s,a,o){this.translate=t,this.http=e,this.filtersListService=n,this.fb=s,this.latinisePipe=a,this.dialog=o,this.stateForm=this.fb.group({stateGroup:""}),this.displayColsOrder=[{id:"dest_user"},{id:"category_id"},{id:"creation_date"},{id:"process_limit_date"},{id:"entity_label"},{id:"subject"},{id:"alt_identifier"},{id:"priority"},{id:"status"},{id:"type_label"}],this.priorities=[],this.categories=[],this.entitiesList=[],this.statuses=[],this.metaSearchInput="",this.stateGroups=[],this.isLoading=!1,this.refreshEvent=new i.o,this.refreshEventAfterAction=new i.o,this.toggleAllRes=new i.o,this._filter=(t,e)=>{if("string"==typeof e){const n=e.toLowerCase();return t.filter(t=>-1!==this.latinisePipe.transform(t.label.toLowerCase()).indexOf(this.latinisePipe.transform(n)))}}}ngOnInit(){}_filterGroup(t){return t&&"string"==typeof t?this.stateGroups.map(e=>({letter:e.letter,names:this._filter(e.names,t)})).filter(t=>t.names.length>0):this.stateGroups}changeOrderDir(){this.listProperties.orderDir="ASC"===this.listProperties.orderDir?"DESC":"ASC",this.updateFilters()}updateFilters(){this.listProperties.page=0,this.filtersListService.updateListsProperties(this.listProperties),this.refreshEvent.emit()}refreshAfterAction(){this.refreshEventAfterAction.emit()}setFilters(t,e){this.listProperties[e]=t.source.checked,this.updateFilters()}selectFilter(t){this.listProperties[t.option.value.id].push({id:t.option.value.value,label:t.option.value.label}),$(".metaSearch").blur(),this.stateForm.controls.stateGroup.reset(),this.updateFilters()}metaSearch(t){this.listProperties.search=t.target.value,$(".metaSearch").blur(),this.stateForm.controls.stateGroup.reset(),this.autocomplete.closePanel(),this.updateFilters()}removeFilter(t,e){this.listProperties[t].splice(e,1),this.updateFilters()}removeFilters(){Object.keys(this.listProperties).forEach(t=>{Array.isArray(this.listProperties[t])?this.listProperties[t]=[]:"search"===t&&(this.listProperties[t]="")}),this.updateFilters()}haveFilters(){let t=!1;return Object.keys(this.listProperties).forEach(e=>{(Array.isArray(this.listProperties[e])&&this.listProperties[e].length>0||"search"===e&&""!==this.listProperties[e])&&(t=!0)}),t}setInputSearch(t){$(".metaSearch").focus(),this.metaSearchInput=t}initFilters(){this.isLoading=!0,this.stateForm.controls.stateGroup.reset(),this.stateGroups=[{letter:this.translate.instant("lang.categories"),names:[]},{letter:this.translate.instant("lang.priorities"),names:[]},{letter:this.translate.instant("lang.statuses"),names:[]},{letter:this.translate.instant("lang.entities"),names:[]},{letter:this.translate.instant("lang.subEntities"),names:[]},{letter:this.translate.instant("lang.doctypes"),names:[]},{letter:this.translate.instant("lang.folders"),names:[]}],this.http.get(".."+this.routeDatas+"?init"+this.filtersListService.getUrlFilters()).subscribe(t=>{t.categories.forEach(t=>{-1===this.listProperties.categories.map(t=>t.id).indexOf(t.id)&&this.stateGroups[0].names.push({id:"categories",value:t.id,label:null!==t.id?t.label:this.translate.instant("lang.undefined"),count:t.count})}),t.priorities.forEach(t=>{-1===this.listProperties.priorities.map(t=>t.id).indexOf(t.id)&&this.stateGroups[1].names.push({id:"priorities",value:t.id,label:null!==t.id?t.label:this.translate.instant("lang.undefined"),count:t.count})}),t.statuses.forEach(t=>{-1===this.listProperties.statuses.map(t=>t.id).indexOf(t.id)&&this.stateGroups[2].names.push({id:"statuses",value:t.id,label:null!==t.id?t.label:this.translate.instant("lang.undefined"),count:t.count})}),t.entities.forEach(t=>{-1===this.listProperties.entities.map(t=>t.id).indexOf(t.entityId)&&0===this.listProperties.subEntities&&this.stateGroups[3].names.push({id:"entities",value:t.entityId,label:null!==t.entityId?t.label:this.translate.instant("lang.undefined"),count:t.count})}),t.entitiesChildren.forEach(t=>{-1===this.listProperties.subEntities.map(t=>t.id).indexOf(t.entityId)&&0===this.listProperties.entities&&this.stateGroups[4].names.push({id:"subEntities",value:t.entityId,label:null!==t.entityId?t.label:this.translate.instant("lang.undefined"),count:t.count})}),t.doctypes.forEach(t=>{-1===this.listProperties.doctypes.map(t=>t.id).indexOf(t.id)&&this.stateGroups[5].names.push({id:"doctypes",value:t.id,label:null!==t.id?t.label:this.translate.instant("lang.undefined"),count:t.count})}),t.folders.forEach(t=>{-1===this.listProperties.folders.map(t=>t.id).indexOf(t.id)&&this.stateGroups[6].names.push({id:"folders",value:t.id,label:null!==t.id?t.label:this.translate.instant("lang.undefined"),count:t.count})}),this.isLoading=!1,this.metaSearchInput.length>0&&setTimeout(()=>{this.stateForm.controls.stateGroup.setValue(this.metaSearchInput),this.metaSearchInput=""},200)}),this.stateGroupOptions=this.stateForm.get("stateGroup").valueChanges.pipe(Object(ca.a)(""),Object(la.a)(t=>this._filterGroup(t)))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(fa),i.Tb(F.g),i.Tb(_a.c),i.Tb(j.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-filters-tool"]],viewQuery:function(t,e){var n;1&t&&i.Oc(ba.d,!0),2&t&&i.Cc(n=i.ic())&&(e.autocomplete=n.first)},inputs:{listProperties:"listProperties",title:"title",routeDatas:"routeDatas",selectedRes:"selectedRes",totalRes:"totalRes"},outputs:{refreshEvent:"refreshEvent",refreshEventAfterAction:"refreshEventAfterAction",toggleAllRes:"toggleAllRes"},features:[i.Db([_a.c])],decls:35,vars:31,consts:[[1,"filtersContent"],[1,"filterTool",3,"formGroup"],["floatLabel","never",1,"basket-search"],["type","text","matInput","","formControlName","stateGroup",1,"metaSearch",3,"placeholder","matAutocomplete","focus","keyup.enter"],["mat-icon-button","","matPrefix",""],[1,"fa","fa-search"],["matSuffix","","value","delayed",1,"processLimitButton",3,"checked","title","click","change"],["fontSet","fas","fontIcon","fa-stopwatch fa-2x"],[3,"optionSelected"],["autoGroup","matAutocomplete"],["class","is-loading",4,"ngIf"],[4,"ngIf"],[1,"orderTool"],[1,"basket-order"],["matPrefix","",1,"fa","fa-list"],[3,"ngModel","ngModelChange","selectionChange"],["value","",2,"text-align","center"],[3,"value",4,"ngFor","ngForOf"],[1,"ascDescTool"],["mat-fab","",2,"color","rgba(0,0,0,0.38)",3,"disabled","title","click"],["fontSet","fas","fontIcon","fa-sort-amount-down fa-2x",4,"ngIf"],["fontSet","fas","fontIcon","fa-sort-amount-up fa-2x",4,"ngIf"],[1,"filterBadges"],["class","label badge-eraser",3,"title","click",4,"ngIf"],["class","label badge-search",3,"title","click",4,"ngIf"],["class","label badge-categories",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-priorities",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-statuses",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-entities",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-subEntities",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-doctypes",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-folders",3,"title","click",4,"ngFor","ngForOf"],[1,"is-loading"],["diameter","50"],[4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[3,"label"],["class","filterOptionContent",3,"value",4,"ngFor","ngForOf"],[1,"filterOptionContent",3,"value"],[2,"flex","1","overflow","hidden","text-overflow","ellipsis"],[2,"min-width","auto"],[3,"value"],["fontSet","fas","fontIcon","fa-sort-amount-down fa-2x"],["fontSet","fas","fontIcon","fa-sort-amount-up fa-2x"],[1,"label","badge-eraser",3,"title","click"],[1,"fas","fa-eraser"],[1,"label","badge-search",3,"title","click"],[1,"fa","fa-times-circle"],[1,"label","badge-categories",3,"title","click"],[1,"label","badge-priorities",3,"title","click"],[1,"label","badge-statuses",3,"title","click"],[1,"label","badge-entities",3,"title","click"],[1,"label","badge-subEntities",3,"title","click"],[1,"label","badge-doctypes",3,"title","click"],[1,"label","badge-folders",3,"title","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"form",1),i.Zb(2,"mat-form-field",2),i.Zb(3,"input",3),i.hc("focus",(function(){return e.initFilters()}))("keyup.enter",(function(t){return e.metaSearch(t)})),i.Yb(),i.Zb(4,"button",4),i.Ub(5,"mat-icon",5),i.Yb(),i.Zb(6,"mat-button-toggle",6),i.hc("click",(function(t){return t.stopPropagation()}))("change",(function(t){return e.setFilters(t,"delayed")})),i.mc(7,"translate"),i.Ub(8,"mat-icon",7),i.Yb(),i.Zb(9,"mat-autocomplete",8,9),i.hc("optionSelected",(function(t){return e.selectFilter(t)})),i.Qc(11,ya,2,0,"mat-option",10),i.Qc(12,Oa,3,3,"ng-container",11),i.Yb(),i.Yb(),i.Yb(),i.Zb(13,"div",12),i.Zb(14,"mat-form-field",13),i.Ub(15,"mat-icon",14),i.Zb(16,"mat-select",15),i.hc("ngModelChange",(function(t){return e.listProperties.order=t}))("selectionChange",(function(){return e.updateFilters()})),i.Zb(17,"mat-option",16),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Qc(20,ka,3,4,"mat-option",17),i.Yb(),i.Yb(),i.Yb(),i.Zb(21,"div",18),i.Zb(22,"button",19),i.hc("click",(function(){return e.changeOrderDir()})),i.Qc(23,Sa,1,0,"mat-icon",20),i.Qc(24,Ea,1,0,"mat-icon",21),i.Yb(),i.Yb(),i.Yb(),i.Zb(25,"div",22),i.Qc(26,Ma,3,3,"span",23),i.Qc(27,Ia,5,7,"span",24),i.Qc(28,Pa,4,4,"span",25),i.Qc(29,Ta,4,4,"span",26),i.Qc(30,Aa,4,4,"span",27),i.Qc(31,Da,4,4,"span",28),i.Qc(32,Ra,4,4,"span",29),i.Qc(33,La,4,4,"span",30),i.Qc(34,Fa,4,4,"span",31),i.Yb()),2&t){const t=i.Dc(10);i.Eb(1),i.sc("formGroup",e.stateForm),i.Eb(2),i.tc("placeholder",e.title),i.sc("matAutocomplete",t),i.Eb(3),i.tc("title",i.nc(7,27,"lang.displayProcessLimitRes")),i.sc("checked",e.listProperties.delayed),i.Eb(3),i.Gb("autoCompletePanelFilter"),i.Eb(2),i.sc("ngIf",e.isLoading),i.Eb(1),i.sc("ngIf",!e.isLoading),i.Eb(4),i.sc("ngModel",e.listProperties.order),i.Eb(2),i.Tc(i.nc(19,29,"lang.defaultOrder")),i.Eb(2),i.sc("ngForOf",e.displayColsOrder),i.Eb(2),i.Pc("opacity",""==e.listProperties.order?"0.2":"1"),i.sc("disabled",""==e.listProperties.order)("title",e.translate.instant("DESC"==e.listProperties.orderDir?"lang.descOrder":"lang.ascOrder")),i.Eb(1),i.sc("ngIf","DESC"==e.listProperties.orderDir),i.Eb(1),i.sc("ngIf","ASC"==e.listProperties.orderDir),i.Eb(2),i.sc("ngIf",e.haveFilters()),i.Eb(1),i.sc("ngIf",""!==e.listProperties.search),i.Eb(1),i.sc("ngForOf",e.listProperties.categories),i.Eb(1),i.sc("ngForOf",e.listProperties.priorities),i.Eb(1),i.sc("ngForOf",e.listProperties.statuses),i.Eb(1),i.sc("ngForOf",e.listProperties.entities),i.Eb(1),i.sc("ngForOf",e.listProperties.subEntities),i.Eb(1),i.sc("ngForOf",e.listProperties.doctypes),i.Eb(1),i.sc("ngForOf",e.listProperties.folders)}},directives:[F.J,F.u,F.l,Z.c,N.b,F.c,ba.d,F.t,F.j,g.b,Z.i,b.a,va.a,Z.j,ba.a,v.t,pt.a,F.w,O.o,v.s,y.c,O.n],pipes:[l.d,v.b],styles:[".filtersContent[_ngcontent-%COMP%]{display:flex}.filtersContent[_ngcontent-%COMP%]   .filterTool[_ngcontent-%COMP%], .filtersContent[_ngcontent-%COMP%]   .orderTool[_ngcontent-%COMP%]{flex:1}.basket-search[_ngcontent-%COMP%]{color:#666;width:500px;padding-right:10px;height:55px}.basket-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;border-radius:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{font-style:italic}.basket-search[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.basket-search[_ngcontent-%COMP%]   .processLimitButton[_ngcontent-%COMP%]{color:#666;position:absolute;top:-32px;left:-47px;border-radius:30px}.basket-search[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#f99830!important;color:#fff}.basket-order[_ngcontent-%COMP%]{color:#fff;width:300px;padding-left:10px;padding-right:10px;height:55px}.basket-order[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:30px}.basket-order[_ngcontent-%COMP%]    .mat-select-value{color:#fff}.basket-order[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.basket-order[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border:2px solid #fff;border-radius:30px;display:flex;align-items:center}.basket-order[_ngcontent-%COMP%]    .mat-form-field-prefix{padding-left:15px;padding-right:10px}.basket-order[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{color:#fff}.basket-order[_ngcontent-%COMP%]    .mat-select-arrow{color:#fff;margin-right:25px}.basket-order[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.ascDescTool[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{background:#135f7f;border:2px solid #fff;color:#fff!important;box-shadow:none}.filterOptionContent[_ngcontent-%COMP%]    .mat-option-text{display:flex;overflow:inherit}.mat-option[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f99830;font-size:11px}.filterBadges[_ngcontent-%COMP%] > .badge-eraser[_ngcontent-%COMP%]{margin:5px;background:none;cursor:pointer;color:#fff;font-size:20px}.filterBadges[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{white-space:inherit}.filterBadges[_ngcontent-%COMP%] > .badge-search[_ngcontent-%COMP%]{margin:5px;background:#666;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-categories[_ngcontent-%COMP%]{margin:5px;background:#78ad32;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-statuses[_ngcontent-%COMP%]{margin:5px;background:#5bc0de;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-priorities[_ngcontent-%COMP%]{margin:5px;background:#f9d812;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-entities[_ngcontent-%COMP%]{margin:5px;background:#7d5ba6;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-subEntities[_ngcontent-%COMP%]{margin:5px;background:#9440d5;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-doctypes[_ngcontent-%COMP%]{margin:5px;background:#d6716f;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-folders[_ngcontent-%COMP%]{margin:5px;background:#f99830;cursor:pointer} .autoCompletePanelFilter{left:25px;min-width:400px!important;max-width:90%!important}.mat-optgroup-label[_ngcontent-%COMP%]{color:#f99830;font-size:14px;font-weight:500}"]}),t})();var Ya=n("STbY"),Za=n("dXBx"),Na=n("1YbM");function Ua(t,e){if(1&t&&(i.Zb(0,"button",11),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"mat-icon",12),i.Yb()),2&t){i.lc();const t=i.Dc(3);i.sc("matMenuTriggerFor",t),i.Eb(1),i.Tc(i.nc(2,2,"lang.actionsAlt"))}}function Ba(t,e){if(1&t&&i.Ub(0,"span",13,14),2&t){const t=i.lc(),e=i.Dc(3);i.Pc("left",t.contextMenuPosition.x)("top",t.contextMenuPosition.y),i.sc("matMenuTriggerFor",e)}}function za(t,e){if(1&t&&(i.Zb(0,"div",15),i.Sc(1),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Uc(" ",t.contextMenuTitle," ")}}function Va(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",16),i.hc("menuOpened",(function(){return i.Hc(t),i.lc().getBaskets()})),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}if(2&t){i.lc();const t=i.Dc(7);i.sc("matMenuTriggerFor",t),i.Eb(2),i.Tc(i.nc(3,2,"lang.goToBasket"))}}function Ha(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).goTo(e)})),i.Sc(1),i.Yb()}if(2&t){const t=i.lc().$implicit;i.tc("title",t.basketName),i.Eb(1),i.Uc("",t.basketName," ")}}function Qa(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Ha,2,2,"button",18),i.Wb()),2&t){const t=e.$implicit,n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.groupId===n.groupId)}}function $a(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",17),i.Sc(2),i.Yb(),i.Qc(3,Qa,2,1,"ng-container",6),i.mc(4,"sortBy"),i.Wb()),2&t){const t=e.$implicit,n=i.lc();i.Eb(2),i.Tc(t.groupName),i.Eb(1),i.sc("ngForOf",i.oc(4,2,n.basketList.list,"basketName"))}}function Wa(t,e){1&t&&(i.Zb(0,"div",20),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mailNotPresentInBasket")," "))}let Ga=(()=>{class t{constructor(t,e,n,s,a,o){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.router=a,this.headerService=o,this.loading=!1,this.triggerEvent=new i.o,this.contextMenuPosition={x:"0px",y:"0px"},this.contextMenuTitle="",this.currentAction={},this.basketInfo={},this.contextResId=0,this.currentLock=null,this.arrRes=[],this.folderList=[],this.actionsList=[],this.basketList={groups:[],list:[]},this.refreshEvent=new i.o,this.refreshPanelFolders=new i.o}ngOnInit(){}open(t,e,n){return this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=e+"px",this.contextMenuTitle=n.chrono,this.contextResId=n.resId,this.folderList=void 0!==n.folders?n.folders:[],this.contextMenu.openMenu(),!1}refreshFolders(){this.refreshPanelFolders.emit()}refreshDaoAfterAction(){this.refreshEvent.emit()}unFollow(){this.dialogRef=this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:this.selectedRes}})),Object(ot.a)(t=>{this.notify.success(this.translate.instant("lang.removedFromFolder")),this.headerService.nbResourcesFollowed-=t.unFollowed,this.refreshDaoAfterAction()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}getBaskets(){this.http.get("../rest/followedResources/"+this.selectedRes+"/baskets").pipe(Object(ot.a)(t=>{this.basketList.groups=t.groupsBaskets.filter((t,e,n)=>t&&n.map(t=>t.groupId).indexOf(t.groupId)===e),this.basketList.list=t.groupsBaskets}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}goTo(t){this.contextMenuTitle!==this.translate.instant("lang.undefined")&&""!==this.contextMenuTitle?this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId],{queryParams:{chrono:'"'+this.contextMenuTitle+'"'}}):this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId])}refreshList(){this.refreshEvent.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.b),i.Tb(o.c),i.Tb(u.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-followed-action-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(Ya.d,!0),2&t&&i.Cc(n=i.ic())&&(e.contextMenu=n.first)},inputs:{selectedRes:"selectedRes",totalRes:"totalRes",contextMode:"contextMode",currentFolderInfo:"currentFolderInfo",menuShortcut:"menuShortcut"},outputs:{triggerEvent:"triggerEvent",refreshEvent:"refreshEvent",refreshPanelFolders:"refreshPanelFolders"},decls:19,vars:19,consts:[["mat-stroked-button","",3,"matMenuTriggerFor",4,"ngIf"],["style","position: fixed;",3,"matMenuTriggerFor","left","top",4,"ngIf"],["menu","matMenu"],["style","text-align: center;font-size: 10px;color: white;background: #135F7F;padding: 5px;font-weight: bold;",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened",4,"ngIf"],["baskets","matMenu"],[4,"ngFor","ngForOf"],["class","noAvailableBasket",4,"ngIf"],["mat-menu-item","",1,"followAction",3,"disabled","click"],[1,"far","fa-star","fa-2x"],[3,"resIds","currentFolders","refreshList","refreshFolders"],["mat-stroked-button","",3,"matMenuTriggerFor"],["matSuffix","",1,"fa","fa-caret-down"],[2,"position","fixed",3,"matMenuTriggerFor"],["menu2",""],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened"],[1,"basketGroupName"],["mat-menu-item","","class","labelBasket",3,"title","click",4,"ngIf"],["mat-menu-item","",1,"labelBasket",3,"title","click"],[1,"noAvailableBasket"]],template:function(t,e){1&t&&(i.Qc(0,Ua,4,4,"button",0),i.Qc(1,Ba,2,5,"span",1),i.Zb(2,"mat-menu",null,2),i.Qc(4,za,2,1,"div",3),i.Qc(5,Va,4,4,"button",4),i.Zb(6,"mat-menu",null,5),i.Qc(8,$a,5,5,"ng-container",6),i.mc(9,"sortBy"),i.Qc(10,Wa,3,3,"div",7),i.Yb(),i.Ub(11,"mat-divider"),i.Zb(12,"button",8),i.hc("click",(function(){return e.unFollow()})),i.Ub(13,"mat-icon",9),i.Zb(14,"span"),i.Sc(15),i.mc(16,"translate"),i.Yb(),i.Yb(),i.Ub(17,"mat-divider"),i.Zb(18,"folder-menu",10),i.hc("refreshList",(function(){return e.refreshList()}))("refreshFolders",(function(){return e.refreshFolders()})),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",!e.contextMode),i.Eb(1),i.sc("ngIf",e.contextMode),i.Eb(1),i.Gb("actionListMenu"),i.Eb(2),i.sc("ngIf",e.contextMode&&1==e.selectedRes.length),i.Eb(1),i.sc("ngIf",1==e.selectedRes.length),i.Eb(1),i.Gb("folderListMenu"),i.Eb(2),i.sc("ngForOf",i.oc(9,14,e.basketList.groups,"groupName")),i.Eb(2),i.sc("ngIf",0==e.basketList.groups.length),i.Eb(2),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(16,17,"lang.untrackThisMail")),i.Eb(3),i.sc("resIds",e.selectedRes)("currentFolders",e.folderList))},directives:[v.t,Ya.e,v.s,k.a,Ya.b,b.a,Za.a,g.b,Ya.d,Z.j],pipes:[Na.a,l.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px;border-color:#135f7f;color:#135f7f} .actionListMenu .mat-menu-content{padding-top:0;padding-bottom:0}.followAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#8e3e52}.basketGroupName[_ngcontent-%COMP%]{color:#135f7f;padding-left:10px;padding-right:10px}.labelBasket[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.noAvailableBasket[_ngcontent-%COMP%]{text-align:center;font-size:12px;opacity:.5;font-style:italic;padding:22px}"]}),t})();var qa=n("5+WD"),Xa=n("y9tK"),Ja=n("XkWp");const Ka=["appDiffusionsList"],to=["appVisaWorkflow"],eo=["appAvisWorkflow"],no=["appNotesList"],io=["appAttachmentsList"],so=function(t){return{color:t}};function ao(t,e){if(1&t&&i.Ub(0,"mat-icon",8),2&t){const t=i.lc();i.Ib("",t.currentResource.statusImage.charAt(0),"",t.currentResource.statusImage.charAt(1)," ",t.currentResource.statusImage," ",t.currentResource.statusImage.charAt(0),"",t.currentResource.statusImage.charAt(1),"-2x"),i.sc("ngStyle",i.zc(8,so,t.currentResource.priorityColor))}}function oo(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-tab-group",9),i.hc("selectedIndexChange",(function(e){return i.Hc(t),i.lc().selectedDiffusionTab=e})),i.Zb(1,"mat-tab",10),i.mc(2,"translate"),i.Ub(3,"app-diffusions-list",11,12),i.Yb(),i.Zb(5,"mat-tab",13),i.mc(6,"translate"),i.Ub(7,"app-visa-workflow",14,15),i.Yb(),i.Zb(9,"mat-tab",13),i.mc(10,"translate"),i.Ub(11,"app-avis-workflow",14,16),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(8),e=i.Dc(12),n=i.lc();i.sc("selectedIndex",n.selectedDiffusionTab),i.Eb(1),i.tc("label",i.nc(2,11,"lang.diffusionList")),i.Eb(2),i.sc("adminMode",!1),i.Eb(2),i.tc("label",i.nc(6,13,"lang.visaWorkflow")),i.sc("disabled",0==t.getVisaCount()),i.Eb(2),i.sc("adminMode",!1)("injectDatas",n.injectDatasParam),i.Eb(2),i.tc("label",i.nc(10,15,"lang.avis")),i.sc("disabled",0==e.getAvisCount()),i.Eb(2),i.sc("adminMode",!1)("injectDatas",n.injectDatasParam)}}function ro(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-notes-list",17,18),i.hc("reloadBadgeNotes",(function(e){return i.Hc(t),i.lc().reloadBadgeNotes(e)})),i.Yb()}if(2&t){const t=i.lc();i.sc("editMode",!0)("injectDatas",t.injectDatasParam)}}function co(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-attachments-list",19,20),i.hc("reloadBadgeAttachments",(function(e){return i.Hc(t),i.lc().reloadBadgeAttachments(e)})),i.Yb()}if(2&t){const t=i.lc();i.sc("injectDatas",t.injectDatasParam)}}let lo=(()=>{class t{constructor(t){this.translate=t,this.loading=!1,this.selectedDiffusionTab=0,this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.refreshBadgeNotes=new i.o,this.refreshBadgeAttachments=new i.o}ngOnInit(){}loadComponent(t,e){this.mode=t,this.currentResource=e,this.injectDatasParam.resId=this.currentResource.resId,"diffusion"===t?setTimeout(()=>{this.icon="fa-sitemap",this.selectedDiffusionTab=0,this.injectDatasParam.resId=this.currentResource.resId,this.appDiffusionsList.loadListinstance(this.currentResource.resId),this.appVisaWorkflow.loadWorkflow(this.currentResource.resId),this.appAvisWorkflow.loadWorkflow(this.currentResource.resId)},0):"note"===t?(setTimeout(()=>{this.icon="fa-comments",this.appNotesList.loadNotes(this.currentResource.resId)},0),setTimeout(()=>{$("textarea").focus()},200)):"attachment"===t&&setTimeout(()=>{this.icon="fa-paperclip",this.appAttachmentsList.loadAttachments(this.currentResource.resId)},0)}reloadBadgeNotes(t){this.refreshBadgeNotes.emit(t)}reloadBadgeAttachments(t){this.refreshBadgeAttachments.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-panel-list"]],viewQuery:function(t,e){var n;1&t&&(i.ad(Ka,!0),i.ad(to,!0),i.ad(eo,!0),i.ad(no,!0),i.ad(io,!0)),2&t&&(i.Cc(n=i.ic())&&(e.appDiffusionsList=n.first),i.Cc(n=i.ic())&&(e.appVisaWorkflow=n.first),i.Cc(n=i.ic())&&(e.appAvisWorkflow=n.first),i.Cc(n=i.ic())&&(e.appNotesList=n.first),i.Cc(n=i.ic())&&(e.appAttachmentsList=n.first))},outputs:{refreshBadgeNotes:"refreshBadgeNotes",refreshBadgeAttachments:"refreshBadgeAttachments"},decls:11,vars:12,consts:[[2,"font-size","60px","opacity","0.1","padding-bottom","30px","text-align","center"],["fontSet","fas",3,"fontIcon"],[2,"position","sticky","top","0px","background","white","z-index","1","display","flex","justify-content","center","align-items","center","color","#666","padding","10px"],["color","primary",3,"ngStyle","class",4,"ngIf"],[2,"text-align","center","font-weight","bold","margin-bottom","30px","padding-left","10px","padding-right","10px",3,"title"],["class","diffusionTab",3,"selectedIndex","selectedIndexChange",4,"ngIf"],[3,"editMode","injectDatas","reloadBadgeNotes",4,"ngIf"],[3,"injectDatas","reloadBadgeAttachments",4,"ngIf"],["color","primary",3,"ngStyle"],[1,"diffusionTab",3,"selectedIndex","selectedIndexChange"],[3,"label"],[3,"adminMode"],["appDiffusionsList",""],[3,"label","disabled"],[3,"adminMode","injectDatas"],["appVisaWorkflow",""],["appAvisWorkflow",""],[3,"editMode","injectDatas","reloadBadgeNotes"],["appNotesList",""],[3,"injectDatas","reloadBadgeAttachments"],["appAttachmentsList",""]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Ub(1,"mat-icon",1),i.Yb(),i.Zb(2,"div",2),i.Qc(3,ao,1,10,"mat-icon",3),i.Sc(4),i.Yb(),i.Zb(5,"div",4),i.Sc(6),i.mc(7,"shorten"),i.Yb(),i.Qc(8,oo,13,17,"mat-tab-group",5),i.Qc(9,ro,2,2,"app-notes-list",6),i.Qc(10,co,2,1,"app-attachments-list",7)),2&t&&(i.Eb(1),i.uc("fontIcon","",e.icon," fa-2x"),i.Eb(2),i.sc("ngIf",void 0!==e.currentResource.statusImage),i.Eb(1),i.Uc("\xa0",e.currentResource.chrono,"\n"),i.Eb(1),i.tc("title",e.currentResource.subject),i.Eb(1),i.Uc(" ",i.pc(7,8,e.currentResource.subject,50,"..."),"\n"),i.Eb(2),i.sc("ngIf","diffusion"==e.mode),i.Eb(1),i.sc("ngIf","note"==e.mode),i.Eb(1),i.sc("ngIf","attachment"==e.mode))},directives:[b.a,v.t,v.w,ut.c,ut.a,Xa.a,Yi.a,Ja.a,ji.a,Ui.a],pipes:[_a.p,l.d],styles:[""]}),t})();const ho=["snav2"],uo=["actionsListContext"],po=["appPanelList"],fo=["tableBasketListSort"],mo=["basketHome"],go=["menuShortcut"];function bo(t,e){1&t&&i.Ub(0,"mat-spinner")}function _o(t,e){if(1&t&&(i.Zb(0,"div",38),i.Qc(1,bo,1,0,"mat-spinner",16),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function vo(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Vc("- ",t.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}const yo=function(t){return{color:t}};function xo(t,e){if(1&t&&i.Ub(0,"mat-icon",55),2&t){const t=i.lc(2).$implicit;i.Ib("",t.statusImage.charAt(0),"",t.statusImage.charAt(1)," ",t.statusImage," ",t.statusImage.charAt(0),"",t.statusImage.charAt(1),"-2x"),i.tc("title",t.statusLabel),i.sc("ngStyle",i.zc(9,yo,t.priorityColor))}}function wo(t,e){1&t&&(i.Zb(0,"span",56),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function Co(t,e){if(1&t&&(i.Ub(0,"mat-icon",57),i.mc(1,"translate")),2&t){const t=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",t.locker,"")}}function Oo(t,e){if(1&t&&(i.Zb(0,"span",51),i.Qc(1,xo,1,11,"mat-icon",52),i.Qc(2,wo,3,3,"span",53),i.Qc(3,Co,2,4,"mat-icon",54),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==t.isLocked),i.Eb(1),i.sc("ngIf","Y"===t.confidentiality),i.Eb(1),i.sc("ngIf",!0===t.isLocked)}}function ko(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",59),i.Ub(2,"i",60),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",t.barcode,"")}}function So(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",t.chrono," ")}}function Eo(t,e){if(1&t&&(i.Zb(0,"span",58),i.Qc(1,ko,5,4,"ng-container",16),i.Qc(2,So,2,1,"ng-container",16),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngIf",t.chrono==e.translate.instant("lang.undefined")&&t.barcode!=e.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",t.chrono!=e.translate.instant("lang.undefined"))}}function Mo(t,e){1&t&&(i.Zb(0,"div",61),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.documentOutOfPerimeter")," "))}const Io=function(t){return[t]};function Po(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",62),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("note",n)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",63),i.Yb(),i.Zb(4,"button",62),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("attachment",n)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",64),i.Yb(),i.Zb(7,"button",62),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("diffusion",n)})),i.mc(8,"translate"),i.Ub(9,"mat-icon",65),i.Yb(),i.Zb(10,"button",66),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.viewDocument(n)}))("mouseenter",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc().viewThumbnail(e)}))("mouseleave",(function(){return i.Hc(t),i.lc(2).closeThumbnail()})),i.Ub(11,"mat-icon",67),i.Yb(),i.Zb(12,"button",62),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.goToDetail(n)})),i.mc(13,"translate"),i.Ub(14,"mat-icon",68),i.Yb(),i.Wb()}if(2&t){const t=i.lc().$implicit,e=i.lc(),n=i.Dc(41);i.Eb(1),i.Jb("noData",0==t.countNotes),i.tc("title",i.nc(2,18,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==t.countNotes),i.tc("matBadge",t.countNotes),i.sc("color",n.opened&&t.checked&&"note"==e.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==t.countAttachments),i.tc("title",i.nc(5,20,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==t.countAttachments),i.tc("matBadge",t.countAttachments),i.sc("color",n.opened&&t.checked&&"attachment"==e.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(8,22,"lang.diffusionList")),i.Eb(2),i.sc("color",n.opened&&t.checked&&"diffusion"==e.currentMode?"primary":""),i.Eb(1),i.tc("title",e.translate.instant(t.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!t.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(26,Io,t.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(13,24,"lang.linkDetails"))}}function To(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",71),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.goToFolder(s)})),i.mc(1,"translate"),i.Ub(2,"i",72),i.Sc(3),i.Yb()}if(2&t){const t=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",t.label,""),i.Eb(3),i.Uc(" ",t.label,"")}}function Ao(t,e){if(1&t&&(i.Zb(0,"div",69),i.Qc(1,To,4,5,"span",70),i.mc(2,"sortBy"),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,t.folders,"label"))}}function Do(t,e){if(1&t){const t=i.ac();i.Zb(0,"td",39),i.Zb(1,"div",40),i.Zb(2,"span",41),i.Zb(3,"mat-checkbox",42),i.hc("change",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().toggleRes(n,s)}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(4,"button",43),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.unfollowMail(s)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",44),i.Yb(),i.Qc(7,Oo,4,3,"span",45),i.Qc(8,Eo,3,2,"span",46),i.Zb(9,"span",47),i.Sc(10),i.mc(11,"shorten"),i.Yb(),i.Zb(12,"span",48),i.Qc(13,Mo,3,3,"div",49),i.Qc(14,Po,15,28,"ng-container",16),i.Yb(),i.Yb(),i.Qc(15,Ao,3,4,"div",50),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.Jb("selected-data",t.checked),i.Eb(3),i.sc("checked",t.checked),i.Eb(1),i.tc("title",i.nc(5,13,"lang.untrackThisMail")),i.Eb(3),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.Jb("undefined",t.subject==n.translate.instant("lang.undefined")),i.tc("title",t.subject),i.Eb(1),i.Tc(i.pc(11,15,t.subject,150,"...")),i.Eb(3),i.sc("ngIf",!t.allowed),i.Eb(1),i.sc("ngIf",t.allowed),i.Eb(1),i.sc("ngIf",void 0!==t.folders&&t.folders.length>0)}}function Ro(t,e){1&t&&i.Ub(0,"div",76)}function Lo(t,e){if(1&t&&(i.Zb(0,"div",77),i.Ub(1,"i",78),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(t.chrono)}}function Fo(t,e){if(1&t){const t=i.ac();i.Zb(0,"tr",73),i.hc("contextmenu",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("click",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("cdkDragStarted",(function(){i.Hc(t);const n=e.$implicit;return i.lc().selectSpecificRes(n)})),i.Qc(1,Ro,1,0,"div",74),i.Qc(2,Lo,7,4,"div",75),i.Yb()}if(2&t){const t=e.$implicit;i.Jb("locked",1==t.isLocked),i.sc("cdkDragDisabled",!t.allowed)("cdkDragData",t)}}function jo(t,e){if(1&t&&i.Ub(0,"div",79),2&t){const t=i.lc();i.sc("matTooltip",t.currentChrono)("innerHTML",t.innerHtml,i.Ic)}}const Yo=function(){return[10,25,50,100,150]},Zo=function(t){return{width:t}};let No=(()=>{class t{constructor(t,e,n,s,a,o,r,c,l,d,h,u,p){this.translate=t,this.router=e,this.route=n,this.http=s,this.dialog=a,this.sanitizer=o,this.headerService=r,this.filtersListService=c,this.notify=l,this.overlay=d,this.viewContainerRef=h,this.appService=u,this.foldersService=p,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentChrono="",this.currentMode="",this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.folderInfo={id:0,label:"",ownerDisplayName:"",entitiesSharing:[]},this.destroy$=new ua.Subject,this.currentSelectedChrono="",this.subscription=this.foldersService.catchEvent().subscribe(t=>{"function"===t.type&&"refreshDao"===t.content&&this.refreshDao()})}ngOnInit(){this.loading=!1,this.isLoadingResults=!1,this.route.params.subscribe(t=>{this.dragInit=!0,this.destroy$.next(!0),this.http.get("../rest/followedResources").subscribe(t=>{this.headerService.setHeader(this.translate.instant("lang.followedMail"),"","fas fa-star")}),this.basketUrl="../rest/followedResources",this.filtersListService.filterMode=!1,this.selectedRes=[],this.listProperties=this.filtersListService.initListsProperties(this.headerService.user.id,0,null,"followed"),setTimeout(()=>{this.dragInit=!1},1e3),this.initResultList()},t=>{this.notify.handleErrors(t)})}ngOnDestroy(){this.destroy$.next(!0)}initResultList(){this.resultListDatabase=new Uo(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(pa.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(ra.a)(this.destroy$),Object(ca.a)({}),Object(at.a)(()=>(this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.basketUrl,this.filtersListService.getUrlFilters(),this.paginator.pageSize))),Object(la.a)(t=>(this.isLoadingResults=!1,t=this.processPostData(t),this.resultsLength=t.countResources,this.allResInBasket=t.allResources,t.resources)),Object(yn.a)(t=>(this.notify.handleErrors(t),this.router.navigate(["/home"]),this.isLoadingResults=!1,Object(xn.of)(!1)))).subscribe(t=>this.data=t)}goTo(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}goToDetail(t){this.router.navigate(["/resources/"+t.resId])}goToFolder(t){this.router.navigate(["/folders/"+t.id])}togglePanel(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),this.currentResource.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}refreshBadgeNotes(t){this.currentResource.countNotes=t}refreshBadgeAttachments(t){this.currentResource.countAttachments=t}refreshDao(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}refreshDaoAfterAction(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}viewThumbnail(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"}))}closeThumbnail(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}processPostData(t){return t.resources.forEach(t=>{Object.keys(t).forEach(e=>{"statusImage"===e&&null==t[e]?t[e]="fa-question undefined":null!=t[e]&&""!==t[e]||-1!==["closingDate","countAttachments","countNotes","display","mailTracking","hasDocument","folders"].indexOf(e)||(t[e]=this.translate.instant("lang.undefined"))}),t.checked=-1!==this.selectedRes.indexOf(t.resId)}),t}toggleRes(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{const t=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(t,1),e.checked=!1}}toggleAllRes(t){this.selectedRes=[],t.checked?(this.data.forEach(t=>{t.checked=!0}),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach(t=>{t.checked=!1})}selectSpecificRes(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}open({x:t,y:e},n){return!1===n.checked&&(n.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},n)),this.actionsList.open(t,e,n),!1}listTodrag(){return this.foldersService.getDragIds()}unfollowMail(t){this.dialogRef=this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}})),Object(ot.a)(t=>{this.headerService.nbResourcesFollowed--,this.initResultList()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}viewDocument(t){this.http.get(`../rest/resources/${t.resId}/content?mode=view`,{responseType:"blob"}).pipe(Object(ot.a)(e=>{const n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),s=window.open();s.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${i}" frameborder="0" allowfullscreen></iframe>`),s.document.title=t.chrono}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(d.b),i.Tb(j.b),i.Tb(En.b),i.Tb(u.a),i.Tb(fa),i.Tb(p.a),i.Tb(ma.c),i.Tb(i.R),i.Tb(f.a),i.Tb(ga.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(ho,!0),i.Oc(uo,!0),i.Oc(po,!0),i.Oc(gt.a,!0),i.Oc(fo,!0),i.Oc(mo,!0),i.Oc(go,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.basketHome=n.first),i.Cc(n=i.ic())&&(e.menuShortcut=n.first))},decls:51,vars:56,consts:[[1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[2,"flex","1","overflow-x","auto","overflow-y","hidden",3,"listProperties","totalRes","selectedRes","routeDatas","title","toggleAllRes","refreshEventAfterAction","refreshEvent"],["filtersTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","menuShortcut","refreshEvent"],["actionsList",""],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","folder-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","dataSource"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","style","cursor: pointer;","cdkDrag","",3,"locked","cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","menuShortcut","refreshEvent","refreshPanelFolders"],["actionsListContext",""],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[1,"main-info"],[2,"width","50px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[1,"fas","fa-star",2,"margin-bottom","5px"],["style","cursor:pointer;","class","main-info-status",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title"],[1,"main-info-action"],["color","warn",4,"ngIf"],["class","folder-info",4,"ngIf"],[1,"main-info-status",2,"cursor","pointer"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],["color","warn"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",2,"cursor","pointer",3,"cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"app-filters-tool",8,9),i.hc("toggleAllRes",(function(t){return e.toggleAllRes(t)}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshEvent",(function(){return e.refreshDao()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",10),i.Zb(16,"div",11),i.Qc(17,_o,2,1,"div",12),i.Zb(18,"div",13),i.Zb(19,"div",14),i.Zb(20,"mat-checkbox",15),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(21,"translate"),i.Yb(),i.Sc(22),i.mc(23,"ucfirst"),i.mc(24,"translate"),i.Qc(25,vo,3,4,"small",16),i.Yb(),i.Zb(26,"div",17),i.Zb(27,"span"),i.Ub(28,"mat-paginator",18,19),i.Yb(),i.Zb(30,"span"),i.Zb(31,"app-followed-action-list",20,21),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(33,"div",22),i.Zb(34,"table",23,24),i.Xb(36,25),i.Qc(37,Do,16,19,"td",26),i.Wb(),i.Qc(38,Fo,3,4,"tr",27),i.Yb(),i.Yb(),i.Ub(39,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"mat-sidenav",28,29),i.Qc(42,jo,1,2,"div",30),i.Zb(43,"div",31),i.Zb(44,"button",32),i.hc("click",(function(){return i.Hc(t),i.Dc(41).close()})),i.Ub(45,"mat-icon",33),i.Yb(),i.Yb(),i.Zb(46,"app-panel-list",34,35),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(48,"mat-divider"),i.Yb(),i.Yb(),i.Zb(49,"app-followed-action-list",36,37),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(3),i.sc("src",i.nc(4,43,i.nc(5,45,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("listProperties",e.listProperties)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("routeDatas","/rest/followedResources/filters")("title",e.translate.instant("lang.searchTrackedMail")),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(21,47,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.resultsLength," ",i.nc(23,49,i.nc(24,51,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(53,Yo)),i.Eb(3),i.sc("contextMode",!1)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("menuShortcut",e.menuShortcut),i.Eb(3),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode())("dataSource",e.data),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",e.innerHtml),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(54,Zo,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml),i.Eb(7),i.sc("contextMode",!0)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("menuShortcut",e.menuShortcut))},directives:[_.e,_.f,Y.a,dt.a,ht.a,ja,v.t,w.a,gt.a,Ga,ct.n,qa.e,bt.a,ct.c,ct.b,ct.m,_.d,v.w,g.b,b.a,lo,k.a,y.c,ct.a,Yn.a,v.q,v.s,ct.l,qa.a,qa.c,qa.d,C.b],pipes:[v.b,yt.a,l.d,_a.u,_a.p,Na.a],styles:[".dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.banner-opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;background:#1a80ab;width:100%}.banner-opened[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.banner-opened[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:16px}.banner-opened[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex:1;padding-left:20px;padding-right:20px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .private[_ngcontent-%COMP%]{font-style:italic;display:flex;justify-content:flex-end;align-items:center}.banner-closed[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;position:relative;width:100%}.banner-closed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.followIcon[_ngcontent-%COMP%]{color:#f99830}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{cursor:pointer;background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})();class Uo{constructor(t,e){this.http=t,this.filtersListService=e}getRepoIssues(t,e,n,i,s,a){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(a),this.http.get(`${i}?limit=${a}&offset=${n*a}${s}`)}}var Bo=n("mb9D");const zo=["snav2"],Vo=["actionsListContext"],Ho=["appPanelList"],Qo=["tableBasketListSort"],$o=["basketHome"];function Wo(t,e){1&t&&i.Ub(0,"div",42)}function Go(t,e){1&t&&(i.Zb(0,"div",47),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.privateFolder")," "))}function qo(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"b",50),i.Sc(2),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.Eb(2),i.Tc(t)}}function Xo(t,e){if(1&t&&(i.Zb(0,"div",44),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"br"),i.Zb(4,"div",48),i.Qc(5,qo,3,1,"div",49),i.mc(6,"sortBy"),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.Uc(" ",i.nc(2,2,"lang.visibleBy")," :"),i.Eb(4),i.sc("ngForOf",i.nc(6,4,t.folderInfo.entitiesSharing))}}function Jo(t,e){if(1&t&&(i.Zb(0,"div",43),i.Zb(1,"div",44),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb(),i.Qc(7,Go,3,3,"div",45),i.Qc(8,Xo,7,6,"div",46),i.Yb()),2&t){const t=i.lc();i.Eb(2),i.Uc(" ",i.nc(3,4,"lang.owner")," :"),i.Eb(4),i.Tc(t.folderInfo.ownerDisplayName),i.Eb(1),i.sc("ngIf",0===t.folderInfo.entitiesSharing.length),i.Eb(1),i.sc("ngIf",t.folderInfo.entitiesSharing.length>0)}}function Ko(t,e){1&t&&i.Ub(0,"mat-spinner")}function tr(t,e){if(1&t&&(i.Zb(0,"div",51),i.Qc(1,Ko,1,0,"mat-spinner",21),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function er(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Vc("- ",t.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}const nr=function(t){return{color:t}};function ir(t,e){if(1&t&&i.Ub(0,"mat-icon",68),2&t){const t=i.lc(2).$implicit;i.Ib("",t.statusImage.charAt(0),"",t.statusImage.charAt(1)," ",t.statusImage," ",t.statusImage.charAt(0),"",t.statusImage.charAt(1),"-2x"),i.tc("title",t.statusLabel),i.sc("ngStyle",i.zc(9,nr,t.priorityColor))}}function sr(t,e){1&t&&(i.Zb(0,"span",69),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function ar(t,e){if(1&t&&(i.Ub(0,"mat-icon",70),i.mc(1,"translate")),2&t){const t=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",t.locker,"")}}function or(t,e){if(1&t&&(i.Zb(0,"span",64),i.Qc(1,ir,1,11,"mat-icon",65),i.Qc(2,sr,3,3,"span",66),i.Qc(3,ar,2,4,"mat-icon",67),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==t.isLocked),i.Eb(1),i.sc("ngIf","Y"===t.confidentiality),i.Eb(1),i.sc("ngIf",!0===t.isLocked)}}function rr(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",72),i.Ub(2,"i",73),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",t.barcode,"")}}function cr(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",t.chrono," ")}}function lr(t,e){if(1&t&&(i.Zb(0,"span",71),i.Qc(1,rr,5,4,"ng-container",21),i.Qc(2,cr,2,1,"ng-container",21),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngIf",t.chrono==e.translate.instant("lang.undefined")&&t.barcode!=e.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",t.chrono!=e.translate.instant("lang.undefined"))}}function dr(t,e){1&t&&(i.Zb(0,"div",74),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.documentOutOfPerimeter")," "))}const hr=function(t){return[t]};function ur(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",75),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("note",n)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",76),i.Yb(),i.Zb(4,"button",75),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("attachment",n)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",77),i.Yb(),i.Zb(7,"button",75),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("diffusion",n)})),i.mc(8,"translate"),i.Ub(9,"mat-icon",78),i.Yb(),i.Zb(10,"button",79),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.viewDocument(n)}))("mouseenter",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc().viewThumbnail(e)}))("mouseleave",(function(){return i.Hc(t),i.lc(2).closeThumbnail()})),i.Ub(11,"mat-icon",80),i.Yb(),i.Zb(12,"button",75),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.goToDetail(n)})),i.mc(13,"translate"),i.Ub(14,"mat-icon",81),i.Yb(),i.Wb()}if(2&t){const t=i.lc().$implicit,e=i.lc(),n=i.Dc(49);i.Eb(1),i.Jb("noData",0==t.countNotes),i.tc("title",i.nc(2,18,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==t.countNotes),i.tc("matBadge",t.countNotes),i.sc("color",n.opened&&t.checked&&"note"==e.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==t.countAttachments),i.tc("title",i.nc(5,20,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==t.countAttachments),i.tc("matBadge",t.countAttachments),i.sc("color",n.opened&&t.checked&&"attachment"==e.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(8,22,"lang.diffusionList")),i.Eb(2),i.sc("color",n.opened&&t.checked&&"diffusion"==e.currentMode?"primary":""),i.Eb(1),i.tc("title",e.translate.instant(t.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!t.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(26,hr,t.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(13,24,"lang.linkDetails"))}}function pr(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",84),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.goToFolder(s)})),i.mc(1,"translate"),i.Ub(2,"i",85),i.Sc(3),i.Yb()}if(2&t){const t=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",t.label,""),i.Eb(3),i.Uc(" ",t.label,"")}}function fr(t,e){if(1&t&&(i.Zb(0,"div",82),i.Qc(1,pr,4,5,"span",83),i.mc(2,"sortBy"),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,t.folders,"label"))}}function mr(t,e){if(1&t){const t=i.ac();i.Zb(0,"td",52),i.Zb(1,"div",53),i.Zb(2,"span",54),i.Zb(3,"mat-checkbox",55),i.hc("change",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().toggleRes(n,s)}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(4,"button",56),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.toggleMailTracking(s)})),i.Ub(5,"mat-icon",57),i.Yb(),i.Qc(6,or,4,3,"span",58),i.Qc(7,lr,3,2,"span",59),i.Zb(8,"span",60),i.Sc(9),i.mc(10,"shorten"),i.Yb(),i.Zb(11,"span",61),i.Qc(12,dr,3,3,"div",62),i.Qc(13,ur,15,28,"ng-container",21),i.Yb(),i.Yb(),i.Qc(14,fr,3,4,"div",63),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.Jb("selected-data",t.checked),i.Eb(3),i.sc("checked",t.checked),i.Eb(1),i.sc("title",n.translate.instant(!0===t.mailTracking?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.sc("ngClass",i.zc(18,hr,!0===t.mailTracking?"fas fa-star":"far fa-star")),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.Jb("undefined",t.subject==n.translate.instant("lang.undefined")),i.tc("title",t.subject),i.Eb(1),i.Tc(i.pc(10,14,t.subject,150,"...")),i.Eb(3),i.sc("ngIf",!t.allowed),i.Eb(1),i.sc("ngIf",t.allowed),i.Eb(1),i.sc("ngIf",void 0!==t.folders&&t.folders.length>0)}}function gr(t,e){1&t&&i.Ub(0,"div",89)}function br(t,e){if(1&t&&(i.Zb(0,"div",90),i.Ub(1,"i",91),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(t.chrono)}}function _r(t,e){if(1&t){const t=i.ac();i.Zb(0,"tr",86),i.hc("contextmenu",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("click",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("cdkDragStarted",(function(){i.Hc(t);const n=e.$implicit;return i.lc().selectSpecificRes(n)})),i.Qc(1,gr,1,0,"div",87),i.Qc(2,br,7,4,"div",88),i.Yb()}if(2&t){const t=e.$implicit;i.Jb("locked",1==t.isLocked),i.sc("cdkDragDisabled",!t.allowed)("cdkDragData",t)}}function vr(t,e){if(1&t&&i.Ub(0,"div",92),2&t){const t=i.lc();i.sc("matTooltip",t.currentChrono)("innerHTML",t.innerHtml,i.Ic)}}const yr=function(){return[10,25,50,100,150]},xr=function(t){return{width:t}};let wr=(()=>{class t{constructor(t,e,n,s,a,o,r,c,l,d,h,u,p,f){this.translate=t,this.router=e,this.route=n,this.http=s,this.dialog=a,this.sanitizer=o,this.headerService=r,this.filtersListService=c,this.notify=l,this.overlay=d,this.viewContainerRef=h,this.appService=u,this.foldersService=p,this.functions=f,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentChrono="",this.currentMode="",this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.folderInfo={id:0,label:"",ownerDisplayName:"",entitiesSharing:[]},this.folderInfoOpened=!1,this.destroy$=new ua.Subject,this.currentSelectedChrono="",this.subscription=this.foldersService.catchEvent().subscribe(t=>{"refreshFolderInformations"===t.type&&t.content.id==this.folderInfo.id&&this.refreshFolderInformations(),"function"===t.type&&"refreshDao"===t.content&&this.refreshDao()})}ngOnInit(){this.loading=!1,this.isLoadingResults=!1,this.route.params.subscribe(t=>{this.folderInfoOpened=!1,this.dragInit=!0,this.destroy$.next(!0),this.http.get("../rest/folders/"+t.folderId).subscribe(e=>{const n=[{keyword:"ALL_ENTITIES",text:this.translate.instant("lang.allEntities")}];this.folderInfo={id:t.folderId,label:e.folder.label,ownerDisplayName:e.folder.ownerDisplayName,entitiesSharing:e.folder.sharing.entities.map(t=>this.functions.empty(t.label)?n.filter(e=>e.keyword===t.keyword)[0].text:t.label)},this.foldersService.setFolder(this.folderInfo),this.headerService.setHeader(this.folderInfo.label,"","fa fa-folder-open")}),this.basketUrl="../rest/folders/"+t.folderId+"/resources",this.filtersListService.filterMode=!1,this.selectedRes=[],this.sidenavRight.close(),this.listProperties=this.filtersListService.initListsProperties(this.headerService.user.id,0,t.folderId,"folder"),setTimeout(()=>{this.dragInit=!1},1e3),this.initResultList()},t=>{this.notify.handleErrors(t)})}ngOnDestroy(){this.destroy$.next(!0),this.subscription.unsubscribe()}initResultList(){this.resultListDatabase=new Cr(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(pa.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(ra.a)(this.destroy$),Object(ca.a)({}),Object(at.a)(()=>(this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.basketUrl,this.filtersListService.getUrlFilters(),this.paginator.pageSize))),Object(la.a)(t=>(this.isLoadingResults=!1,t=this.processPostData(t),this.resultsLength=t.countResources,this.allResInBasket=t.allResources,t.resources)),Object(yn.a)(t=>(this.notify.handleErrors(t),this.router.navigate(["/home"]),this.isLoadingResults=!1,Object(xn.of)(!1)))).subscribe(t=>this.data=t)}goTo(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}goToDetail(t){this.router.navigate(["/resources/"+t.resId])}goToFolder(t){this.router.navigate(["/folders/"+t.id])}togglePanel(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),this.currentResource.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}refreshBadgeNotes(t){this.currentResource.countNotes=t}refreshFolderInformations(){this.http.get("../rest/folders/"+this.folderInfo.id).subscribe(t=>{const e=[{keyword:"ALL_ENTITIES",text:this.translate.instant("lang.allEntities")}];this.folderInfo={id:t.folder.id,label:t.folder.label,ownerDisplayName:t.folder.ownerDisplayName,entitiesSharing:t.folder.sharing.entities.map(t=>this.functions.empty(t.label)?e.filter(e=>e.keyword===t.keyword)[0].text:t.label)},this.headerService.setHeader(this.folderInfo.label,"","fa fa-folder-open")})}refreshBadgeAttachments(t){this.currentResource.countAttachments=t}refreshDao(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}refreshDaoAfterAction(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}viewThumbnail(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"}))}closeThumbnail(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}processPostData(t){return t.resources.forEach(t=>{Object.keys(t).forEach(e=>{"statusImage"===e&&null==t[e]?t[e]="fa-question undefined":null!=t[e]&&""!==t[e]||-1!==["closingDate","countAttachments","countNotes","display","mailTracking","hasDocument"].indexOf(e)||(t[e]=this.translate.instant("lang.undefined"))}),t.checked=-1!==this.selectedRes.indexOf(t.resId)}),t}toggleRes(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{const t=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(t,1),e.checked=!1}}toggleAllRes(t){this.selectedRes=[],t.checked?(this.data.forEach(t=>{t.checked=!0}),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach(t=>{t.checked=!1})}selectSpecificRes(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}open({x:t,y:e},n){return!1===n.checked&&(n.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},n)),this.actionsList.open(t,e,n),!1}listTodrag(){return this.foldersService.getDragIds()}toggleMailTracking(t){t.mailTracking?this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}}).pipe(Object(ot.a)(()=>{this.headerService.nbResourcesFollowed--,t.mailTracking=!t.mailTracking}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe():this.http.post("../rest/resources/follow",{resources:[t.resId]}).pipe(Object(ot.a)(()=>{this.headerService.nbResourcesFollowed++,t.mailTracking=!t.mailTracking}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}viewDocument(t){this.http.get(`../rest/resources/${t.resId}/content?mode=view`,{responseType:"blob"}).pipe(Object(ot.a)(e=>{const n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),s=window.open();s.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${i}" frameborder="0" allowfullscreen></iframe>`),s.document.title=t.chrono}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(d.b),i.Tb(j.b),i.Tb(En.b),i.Tb(u.a),i.Tb(fa),i.Tb(p.a),i.Tb(ma.c),i.Tb(i.R),i.Tb(f.a),i.Tb(ga.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(zo,!0),i.Oc(Vo,!0),i.Oc(Ho,!0),i.Oc(gt.a,!0),i.Oc(Qo,!0),i.Oc($o,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.basketHome=n.first))},decls:59,vars:69,consts:[[1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content",2,"padding-bottom","20px"],[1,"title",2,"cursor","pointer",3,"click"],[1,"far",2,"cursor","pointer","margin-left","10px"],["class","title-divider",4,"ngIf"],["class","content",4,"ngIf"],[1,"bg-head-content"],[2,"flex","1","overflow-x","auto","overflow-y","hidden",3,"listProperties","totalRes","selectedRes","routeDatas","title","toggleAllRes","refreshEventAfterAction","refreshEvent"],["filtersTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","refreshEvent","refreshPanelFolders"],["actionsList",""],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","folder-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","dataSource"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","style","cursor: pointer;","cdkDrag","",3,"locked","cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],["actionsListContext",""],[1,"title-divider"],[1,"content"],[1,"content-item"],["class","content-item private",4,"ngIf"],["class","content-item",4,"ngIf"],[1,"content-item","private"],[2,"max-height","100px","overflow","auto"],[4,"ngFor","ngForOf"],["color","secondary"],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[1,"main-info"],[2,"width","50px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[2,"margin-bottom","5px",3,"ngClass"],["style","cursor:pointer;","class","main-info-status",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title"],[1,"main-info-action"],["color","warn",4,"ngIf"],["class","folder-info",4,"ngIf"],[1,"main-info-status",2,"cursor","pointer"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],["color","warn"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",2,"cursor","pointer",3,"cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"div"),i.Zb(14,"div",8),i.hc("click",(function(){return e.folderInfoOpened=!e.folderInfoOpened})),i.Ub(15,"i",9),i.Sc(16),i.mc(17,"translate"),i.Qc(18,Wo,1,0,"div",10),i.Yb(),i.Qc(19,Jo,9,6,"div",11),i.Yb(),i.Yb(),i.Zb(20,"div",12),i.Zb(21,"app-filters-tool",13,14),i.hc("toggleAllRes",(function(t){return e.toggleAllRes(t)}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshEvent",(function(){return e.refreshDao()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(23,"div",15),i.Zb(24,"div",16),i.Qc(25,tr,2,1,"div",17),i.Zb(26,"div",18),i.Zb(27,"div",19),i.Zb(28,"mat-checkbox",20),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(29,"translate"),i.Yb(),i.Sc(30),i.mc(31,"ucfirst"),i.mc(32,"translate"),i.Qc(33,er,3,4,"small",21),i.Yb(),i.Zb(34,"div",22),i.Zb(35,"span"),i.Ub(36,"mat-paginator",23,24),i.Yb(),i.Zb(38,"span"),i.Zb(39,"app-folder-action-list",25,26),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(41,"div",27),i.Zb(42,"table",28,29),i.Xb(44,30),i.Qc(45,mr,15,20,"td",31),i.Wb(),i.Qc(46,_r,3,4,"tr",32),i.Yb(),i.Yb(),i.Ub(47,"div",18),i.Yb(),i.Yb(),i.Yb(),i.Zb(48,"mat-sidenav",33,34),i.Qc(50,vr,1,2,"div",35),i.Zb(51,"div",36),i.Zb(52,"button",37),i.hc("click",(function(){return i.Hc(t),i.Dc(49).close()})),i.Ub(53,"mat-icon",38),i.Yb(),i.Yb(),i.Zb(54,"app-panel-list",39,40),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(56,"mat-divider"),i.Yb(),i.Yb(),i.Zb(57,"app-folder-action-list",25,41),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(3),i.sc("src",i.nc(4,54,i.nc(5,56,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("banner-opened",e.folderInfoOpened)("banner-closed",!e.folderInfoOpened),i.Eb(2),i.Jb("fa-plus-square",!e.folderInfoOpened)("fa-minus-square",e.folderInfoOpened),i.Eb(1),i.Uc("\xa0",i.nc(17,58,"lang.folderInformations")," "),i.Eb(2),i.sc("ngIf",e.folderInfoOpened),i.Eb(1),i.sc("ngIf",e.folderInfoOpened),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("listProperties",e.listProperties)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("routeDatas","/rest/folders/"+e.folderInfo.id+"/filters")("title",e.translate.instant("lang.searchMailInFolder")),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(29,60,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.resultsLength," ",i.nc(31,62,i.nc(32,64,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(66,yr)),i.Eb(3),i.sc("contextMode",!1)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes),i.Eb(3),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode())("dataSource",e.data),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",e.innerHtml),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(67,xr,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml),i.Eb(7),i.sc("contextMode",!0)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes))},directives:[_.e,_.f,Y.a,dt.a,ht.a,v.t,ja,w.a,gt.a,Bo.a,ct.n,qa.e,bt.a,ct.c,ct.b,ct.m,_.d,v.w,g.b,b.a,lo,k.a,v.s,y.c,ct.a,v.q,Yn.a,ct.l,qa.a,qa.c,qa.d,C.b],pipes:[v.b,yt.a,l.d,_a.u,Na.a,_a.p],styles:[".dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.banner-opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;background:#1a80ab;width:100%}.banner-opened[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.banner-opened[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:16px}.banner-opened[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex:1;padding-left:20px;padding-right:20px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .private[_ngcontent-%COMP%]{font-style:italic;display:flex;justify-content:flex-end;align-items:center}.banner-closed[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;position:relative;width:100%}.banner-closed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.followIcon[_ngcontent-%COMP%]{color:#f99830}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{cursor:pointer;background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})();class Cr{constructor(t,e){this.http=t,this.filtersListService=e}getRepoIssues(t,e,n,i,s,a){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(a),this.http.get(`${i}?limit=${a}&offset=${n*a}${s}`)}}var Or=n("LYlH"),kr=n("8N1J");const Sr=["listFilter"];function Er(t,e){1&t&&(i.Zb(0,"div",32),i.Ub(1,"mat-spinner"),i.Yb())}function Mr(t,e){if(1&t&&(i.Zb(0,"mat-option",33),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t," ")}}function Ir(t,e){if(1&t&&(i.Zb(0,"mat-option",33),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t," ")}}function Pr(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",34),i.Zb(1,"mat-form-field",5),i.Zb(2,"mat-label"),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"mat-select",35),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().exportModel.delimiter=e})),i.mc(6,"translate"),i.Qc(7,Ir,2,2,"mat-option",7),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc();i.Eb(3),i.Tc(i.nc(4,5,"lang.delimiter")),i.Eb(2),i.tc("placeholder",i.nc(6,7,"lang.delimiter")),i.sc("ngModel",t.exportModel.delimiter)("disabled","csv"!=t.exportModel.format),i.Eb(2),i.sc("ngForOf",t.delimiters)}}function Tr(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",36),i.Sc(1),i.Zb(2,"i",37),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc().addData(n)})),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit;i.tc("id",t.value),i.Eb(1),i.Uc("",t.label," ")}}function Ar(t,e){1&t&&(i.Zb(0,"div",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noDataAvailable")))}function Dr(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",36),i.Sc(1),i.Zb(2,"i",39),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeData(n)})),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit;i.tc("id",t.value),i.Eb(1),i.Uc("",t.label," ")}}function Rr(t,e){1&t&&(i.Zb(0,"div",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noDataAvailable")))}const Lr=function(t){return[t]};let Fr=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.notify=n,this.data=i,this.sortPipe=s,this.loading=!1,this.loadingExport=!1,this.delimiters=[";",",","TAB"],this.formats=["csv","pdf"],this.exportModel={delimiter:";",format:"csv",data:[],resources:[]},this.dataAvailable=[{value:"res_id",label:this.translate.instant("lang.resId"),isFunction:!1},{value:"type_label",label:this.translate.instant("lang.doctype"),isFunction:!1},{value:"doctypes_first_level_label",label:this.translate.instant("lang.firstLevelDoctype"),isFunction:!1},{value:"doctypes_second_level_label",label:this.translate.instant("lang.secondLevelDoctype"),isFunction:!1},{value:"format",label:this.translate.instant("lang.format"),isFunction:!1},{value:"doc_date",label:this.translate.instant("lang.docDate"),isFunction:!1},{value:"departure_date",label:this.translate.instant("lang.departureDate"),isFunction:!1},{value:"barcode",label:this.translate.instant("lang.barcode"),isFunction:!1},{value:"getFolder",label:this.translate.instant("lang.folderName"),isFunction:!0},{value:"confidentiality",label:this.translate.instant("lang.confidentiality"),isFunction:!1},{value:"alt_identifier",label:this.translate.instant("lang.chronoNumber"),isFunction:!1},{value:"admission_date",label:this.translate.instant("lang.admissionDate"),isFunction:!1},{value:"process_limit_date",label:this.translate.instant("lang.processLimitDate"),isFunction:!1},{value:"opinion_limit_date",label:this.translate.instant("lang.getOpinionLimitDate"),isFunction:!1},{value:"closing_date",label:this.translate.instant("lang.closingDate"),isFunction:!1},{value:"subject",label:this.translate.instant("lang.subject"),isFunction:!1},{value:"getStatus",label:this.translate.instant("lang.status"),isFunction:!0},{value:"getPriority",label:this.translate.instant("lang.priority"),isFunction:!0},{value:"getCopies",label:this.translate.instant("lang.copyUsersEntities"),isFunction:!0},{value:"getDetailLink",label:this.translate.instant("lang.detailLink"),isFunction:!0},{value:"getParentFolder",label:this.translate.instant("lang.parentFolder"),isFunction:!0},{value:"getCategory",label:this.translate.instant("lang.category_id"),isFunction:!0},{value:"getInitiatorEntity",label:this.translate.instant("lang.initiatorEntity"),isFunction:!0},{value:"getDestinationEntity",label:this.translate.instant("lang.destinationEntity"),isFunction:!0},{value:"getDestinationEntityType",label:this.translate.instant("lang.destinationEntityType"),isFunction:!0},{value:"getSenders",label:this.translate.instant("lang.getSenders"),isFunction:!0},{value:"getRecipients",label:this.translate.instant("lang.getRecipients"),isFunction:!0},{value:"getTypist",label:this.translate.instant("lang.typist"),isFunction:!0},{value:"getAssignee",label:this.translate.instant("lang.dest_user"),isFunction:!0},{value:"getTags",label:this.translate.instant("lang.tags"),isFunction:!0},{value:"getSignatories",label:this.translate.instant("lang.signUser"),isFunction:!0},{value:"getSignatureDates",label:this.translate.instant("lang.signatureDate"),isFunction:!0},{value:"getDepartment",label:this.translate.instant("lang.department"),isFunction:!0},{value:"getAcknowledgementSendDate",label:this.translate.instant("lang.acknowledgementSendDate"),isFunction:!0},{value:"getVisaCircuit",label:this.translate.instant("lang.getVisaWorkflow"),isFunction:!0},{value:"getOpinionCircuit",label:this.translate.instant("lang.opinionCircuit"),isFunction:!0},{value:"",label:this.translate.instant("lang.comment"),isFunction:!0}],this.dataAvailableClone=[]}ngOnInit(){this.dataAvailableClone=JSON.parse(JSON.stringify(this.dataAvailable)),this.http.get("../rest/resourcesList/exportTemplate").subscribe(t=>{this.exportModel.resources=this.data.selectedRes,this.exportModelList=t.templates,this.exportModel.data=t.templates.csv.data,this.exportModel.data.forEach(t=>{this.dataAvailable.forEach((e,n)=>{t.value===e.value&&this.dataAvailable.splice(n,1)})}),this.loading=!1},t=>{this.notify.handleErrors(t)}),this.http.get("../rest/customFields").pipe(Object(la.a)(t=>(t.customFields=t.customFields.map(t=>({value:"custom_"+t.id,label:t.label,isFunction:!0})),t)),Object(ot.a)(t=>{this.dataAvailable=this.dataAvailable.concat(t.customFields),this.dataAvailableClone=this.dataAvailableClone.concat(t.customFields)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}drop(t){if(t.previousContainer===t.container)Object(qa.h)(t.container.data,t.previousIndex,t.currentIndex);else{let e=t.previousIndex;if("selectedElements"===t.container.id&&(e=0,void 0!==$(".available-data .columns")[t.previousIndex])){const n=$(".available-data .columns")[t.previousIndex].id;e=this.dataAvailable.map(t=>t.value).indexOf(n)}Object(qa.i)(t.previousContainer.data,t.container.data,e,t.currentIndex);const n=this.listFilter.nativeElement.value;this.listFilter.nativeElement.value="",setTimeout(()=>{this.listFilter.nativeElement.value=n},10)}}exportData(){this.loadingExport=!0,this.http.put("../rest/resourcesList/users/"+this.data.ownerId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/exports",this.exportModel,{responseType:"blob"}).pipe(Object(ot.a)(t=>{if("text/html"!==t.type){const e=document.createElement("a");let n,i,s,a;e.href=window.URL.createObjectURL(t),n=new Date,i=n.getDate(),s=n.getMonth()+1,a=n.getFullYear(),i<10&&(i="0"+i),s<10&&(s="0"+s),n=i+"-"+s+"-"+a,e.setAttribute("download","export_maarch_"+n+"."+this.exportModel.format.toLowerCase()),document.body.appendChild(e),e.click(),this.exportModelList[this.exportModel.format.toLowerCase()].data=this.exportModel.data}else alert(this.translate.instant("lang.tooMuchDatas"))}),Object(Pn.a)(()=>this.loadingExport=!1),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}addData(t){let e=0;this.dataAvailable.forEach((n,i)=>{n.value===t.value&&(e=i)}),Object(qa.i)(this.dataAvailable,this.exportModel.data,e,this.exportModel.data.length);const n=this.listFilter.nativeElement.value;this.listFilter.nativeElement.value="",setTimeout(()=>{this.listFilter.nativeElement.value=n},10)}removeData(t){Object(qa.i)(this.exportModel.data,this.dataAvailable,t,this.dataAvailable.length),this.sortPipe.transform(this.dataAvailable,"label")}removeAllData(){this.dataAvailable=this.dataAvailable.concat(this.exportModel.data),this.exportModel.data=[]}addAllData(){for(this.exportModel.data=this.exportModel.data.concat(this.dataAvailable);this.dataAvailable.length>0;)this.dataAvailable.pop();this.listFilter.nativeElement.value=""}changeTemplate(t){this.dataAvailable=JSON.parse(JSON.stringify(this.dataAvailableClone)),this.exportModel.format=t.value,this.exportModel.data=this.exportModelList[t.value].data,this.exportModel.data.forEach(t=>{this.dataAvailable.forEach((e,n)=>{t.value===e.value&&this.dataAvailable.splice(n,1)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.a),i.Tb(Na.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.Oc(Sr,!0),2&t&&i.Cc(n=i.ic())&&(e.listFilter=n.first)},features:[i.Db([Na.a])],decls:63,vars:62,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loader",4,"ngIf"],[1,"row"],["appearance","outline"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-9",4,"ngIf"],[3,"expanded"],[1,"col-md-12"],["appearance","outline",1,"listFilter"],["matInput","","cdkFocusInitial","",3,"placeholder"],["listFilter",""],[1,"row","exportList"],[1,"col-md-6","available-data"],[1,"title"],["color","primary",1,"fa","fa-plus-circle","removeAllDatas",3,"title","click"],["id","availableElements","cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["class","columns","cdkDrag","",3,"id",4,"ngFor","ngForOf"],["class","noData",4,"ngIf"],[2,"display","flex","align-items","center"],[1,"fas","fa-arrow-right"],[1,"col-md-6","active-data"],["color","warn",1,"fa","fa-minus-circle","removeAllDatas",3,"title","click"],["id","selectedElements","cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["dataExportList","cdkDropList"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"],[1,"loader"],[3,"value"],[1,"col-md-9"],[3,"placeholder","ngModel","disabled","ngModelChange"],["cdkDrag","",1,"columns",3,"id"],["color","primary",1,"fa","fa-plus",2,"cursor","pointer",3,"click"],[1,"noData"],["color","warn",1,"fa","fa-minus",2,"cursor","pointer",3,"click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",2),i.Qc(5,Er,2,0,"div",3),i.Zb(6,"div",4),i.Zb(7,"div"),i.Zb(8,"mat-form-field",5),i.Zb(9,"mat-label"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Zb(12,"mat-select",6),i.hc("ngModelChange",(function(t){return e.exportModel.format=t}))("selectionChange",(function(t){return e.changeTemplate(t)})),i.mc(13,"translate"),i.Qc(14,Mr,2,2,"mat-option",7),i.Yb(),i.Yb(),i.Yb(),i.Qc(15,Pr,8,9,"div",8),i.Yb(),i.Zb(16,"mat-accordion"),i.Zb(17,"mat-expansion-panel",9),i.Zb(18,"mat-expansion-panel-header"),i.Zb(19,"mat-panel-title"),i.Sc(20),i.mc(21,"translate"),i.Yb(),i.Yb(),i.Zb(22,"div",4),i.Zb(23,"div",10),i.Zb(24,"mat-form-field",11),i.Ub(25,"input",12,13),i.mc(27,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"div",14),i.Zb(29,"div",15),i.Zb(30,"h2"),i.Zb(31,"span",16),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Zb(34,"i",17),i.hc("click",(function(){return e.addAllData()})),i.mc(35,"translate"),i.Yb(),i.Yb(),i.Zb(36,"div",18,19),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(38,Tr,3,2,"div",20),i.mc(39,"filterList"),i.mc(40,"sortBy"),i.Qc(41,Ar,3,3,"div",21),i.Yb(),i.Yb(),i.Zb(42,"div",22),i.Ub(43,"i",23),i.Yb(),i.Zb(44,"div",24),i.Zb(45,"h2"),i.Zb(46,"span",16),i.Sc(47),i.mc(48,"translate"),i.Yb(),i.Zb(49,"i",25),i.hc("click",(function(){return e.removeAllData()})),i.mc(50,"translate"),i.Yb(),i.Yb(),i.Zb(51,"div",26,27),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(53,Dr,3,2,"div",20),i.Qc(54,Rr,3,3,"div",21),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(55,"span",28),i.Zb(56,"div",29),i.Zb(57,"button",30),i.hc("click",(function(){return e.exportData()})),i.Sc(58),i.mc(59,"translate"),i.Yb(),i.Zb(60,"button",31),i.Sc(61),i.mc(62,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.Dc(26),n=i.Dc(37),s=i.Dc(52);i.Eb(2),i.Tc(i.nc(3,29,"lang.exportDatas")),i.Eb(3),i.sc("ngIf",e.loadingExport),i.Eb(2),i.Jb("col-md-12","csv"!=e.exportModel.format)("col-md-3","csv"==e.exportModel.format),i.Eb(3),i.Tc(i.nc(11,31,"lang.format")),i.Eb(2),i.tc("placeholder",i.nc(13,33,"lang.format")),i.sc("ngModel",e.exportModel.format),i.Eb(2),i.sc("ngForOf",e.formats),i.Eb(1),i.sc("ngIf","csv"==e.exportModel.format),i.Eb(2),i.sc("expanded",!0),i.Eb(3),i.Uc(" ",i.nc(21,35,"lang.datasToExport")," "),i.Eb(5),i.tc("placeholder",i.nc(27,37,"lang.searchDatas")),i.Eb(7),i.Tc(i.nc(33,39,"lang.availableDatas")),i.Eb(2),i.tc("title",i.nc(35,41,"lang.addAllData")),i.Eb(2),i.sc("cdkDropListData",e.dataAvailable)("cdkDropListConnectedTo",i.zc(58,Lr,s)),i.Eb(2),i.sc("ngForOf",i.pc(39,43,i.oc(40,47,e.dataAvailable,"label"),t.value,"label")),i.Eb(3),i.sc("ngIf",0==e.dataAvailable.length),i.Eb(6),i.Tc(i.nc(48,50,"lang.chosenDatas")),i.Eb(2),i.tc("title",i.nc(50,52,"lang.removeAllDatas")),i.Eb(2),i.sc("cdkDropListData",e.exportModel.data)("cdkDropListConnectedTo",i.zc(60,Lr,n)),i.Eb(2),i.sc("ngForOf",e.exportModel.data),i.Eb(1),i.sc("ngIf",0==e.exportModel.data.length),i.Eb(3),i.sc("disabled",0==e.exportModel.data.length),i.Eb(1),i.Tc(i.nc(59,54,"lang.toExport")),i.Eb(3),i.Tc(i.nc(62,56,"lang.cancel"))}},directives:[j.i,j.f,v.t,Z.c,Z.g,pt.a,F.t,F.w,v.s,rt.a,rt.c,rt.g,rt.h,N.b,qa.e,j.c,g.b,j.d,y.c,O.o,qa.a],pipes:[l.d,kr.a,Na.a],styles:[".mat-dialog-container{position:relative}.mat-dialog-content[_ngcontent-%COMP%]{padding-bottom:10px;overflow-x:hidden} .mat-expansion-panel-body{padding-bottom:50px}.mat-expansion-panel-header[_ngcontent-%COMP%], .noData[_ngcontent-%COMP%]{opacity:.5}.noData[_ngcontent-%COMP%]{text-align:center}.removeAllDatas[_ngcontent-%COMP%]{float:right;font-size:14px;opacity:1;cursor:pointer;margin-right:10px}.listFilter[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-20px}.exportList[_ngcontent-%COMP%]{display:flex}.exportList[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{float:left;height:20px;font-size:10px;font-weight:700;opacity:.5}.exportList[_ngcontent-%COMP%]   .cdk-list[_ngcontent-%COMP%]{height:100%}.cdk-list[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;display:block;border-radius:4px;max-height:310px;min-height:310px;overflow:auto}.cdk-list[_ngcontent-%COMP%], .columns[_ngcontent-%COMP%]{width:100%;background:#fff}.columns[_ngcontent-%COMP%]{height:50px;padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}"]}),t})();function jr(t,e){1&t&&(i.Zb(0,"div",25),i.Ub(1,"mat-spinner"),i.Yb())}function Yr(t,e){if(1&t&&(i.Zb(0,"div"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit,n=i.lc(3).$implicit;i.Gb(n.css),i.Eb(1),i.Uc(" ",t," ")}}function Zr(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",38),i.hc("click",(function(){i.Hc(t);const e=i.lc(2).$implicit;return e.enabled=!e.enabled})),i.Qc(1,Yr,2,4,"div",39),i.Yb()}if(2&t){const t=i.lc(2).$implicit;i.Eb(1),i.sc("ngForOf",t.desc)}}function Nr(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",38),i.hc("click",(function(){i.Hc(t);const e=i.lc(2).$implicit;return e.enabled=!e.enabled})),i.Ub(1,"div",40),i.Yb()}if(2&t){const t=i.lc(2).$implicit;i.Eb(1),i.sc("innerHTML",t.advanced_desc,i.Ic)}}function Ur(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",41),i.hc("click",(function(){i.Hc(t);const e=i.lc(2).index;return i.lc().removeCustomUnit(e)})),i.mc(1,"translate"),i.Ub(2,"mat-icon",42),i.Yb()}2&t&&i.tc("title",i.nc(1,1,"lang.deleteUnit"))}function Br(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",27),i.Zb(1,"div",28),i.Zb(2,"div",29),i.kc(),i.Zb(3,"svg",30),i.Ub(4,"path",31),i.Ub(5,"path",32),i.Yb(),i.Yb(),i.jc(),i.Zb(6,"mat-form-field",33),i.Zb(7,"input",34),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().$implicit.label=e}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(9,Zr,2,1,"div",35),i.Ub(10,"br"),i.Qc(11,Nr,2,1,"div",35),i.Zb(12,"mat-slide-toggle",36),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().$implicit.enabled=e})),i.Yb(),i.Qc(13,Ur,3,3,"button",37),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc();i.Jb("disabled",!t.enabled),i.tc("id",t.id),i.Eb(7),i.tc("placeholder",i.nc(8,9,"lang.label")),i.sc("ngModel",t.label),i.Eb(2),i.sc("ngIf",!e.functions.empty(t.desc)),i.Eb(2),i.sc("ngIf",t.advanced_desc),i.Eb(1),i.sc("ngModel",t.enabled),i.Eb(1),i.sc("ngIf","freeField"==t.unit)}}function zr(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Br,14,11,"div",26),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf","qrcode"!==t.unit)}}function Vr(t,e){1&t&&(i.Zb(0,"div",20),i.Zb(1,"span",43),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.firstSummarySheetsGenerated")))}function Hr(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",44),i.hc("click",(function(){return i.Hc(t),i.lc().closeModalWithParams()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.validate")))}function Qr(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",44),i.hc("click",(function(){return i.Hc(t),i.lc().genSummarySheets()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.genSummarySheets")))}let $r=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.data=s,this.functions=a,this.sanitizer=o,this.loading=!1,this.withQrcode=!0,this.paramMode=!1,this.dataAvailable=[{id:"primaryInformations",unit:"primaryInformations",label:this.translate.instant("lang.primaryInformations"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.mailDate"),this.translate.instant("lang.arrivalDate"),this.translate.instant("lang.nature"),this.translate.instant("lang.creation_date"),this.translate.instant("lang.mailType"),this.translate.instant("lang.initiator")],enabled:!0},{id:"senderRecipientInformations",unit:"senderRecipientInformations",label:this.translate.instant("lang.senderRecipientInformations"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.senders"),this.translate.instant("lang.recipients")],enabled:!0},{id:"secondaryInformations",unit:"secondaryInformations",label:this.translate.instant("lang.secondaryInformations"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.category_id"),this.translate.instant("lang.status"),this.translate.instant("lang.priority"),this.translate.instant("lang.processLimitDate"),this.translate.instant("lang.customFieldsAdmin")],enabled:!0},{id:"diffusionList",unit:"diffusionList",label:this.translate.instant("lang.diffusionList"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.dest_user"),this.translate.instant("lang.copyUsersEntities")],enabled:!0},{id:"opinionWorkflow",unit:"opinionWorkflow",label:this.translate.instant("lang.avis"),css:"col-md-4 text-center",desc:[this.translate.instant("lang.firstname")+" "+this.translate.instant("lang.lastname")+" ("+this.translate.instant("lang.destination").toLowerCase()+")",this.translate.instant("lang.role"),this.translate.instant("lang.processDate")],enabled:!0},{id:"visaWorkflow",unit:"visaWorkflow",label:this.translate.instant("lang.visaWorkflow"),css:"col-md-4 text-center",desc:[this.translate.instant("lang.firstname")+" "+this.translate.instant("lang.lastname")+" ("+this.translate.instant("lang.destination").toLowerCase()+")",this.translate.instant("lang.role"),this.translate.instant("lang.processDate")],enabled:!0},{id:"notes",unit:"notes",label:this.translate.instant("lang.notes"),css:"col-md-4 text-center",desc:[this.translate.instant("lang.firstname")+" "+this.translate.instant("lang.lastname"),this.translate.instant("lang.creation_date"),this.translate.instant("lang.content")],enabled:!0},{id:"trafficRecords",unit:"trafficRecords",label:this.translate.instant("lang.trafficRecordSummarySheet"),css:"col-md-4 text-center",desc:[],enabled:!0}]}ngOnInit(){this.paramMode=!this.functions.empty(this.data.paramMode),this.http.get("../rest/parameters").pipe(Object(ot.a)(t=>{const e=t.parameters.filter(t=>"traffic_record_summary_sheet"===t.id&&!this.functions.empty(t.param_value_string));this.dataAvailable=0===e.length?this.dataAvailable.filter(t=>"trafficRecords"!==t.id):this.dataAvailable.map(t=>("trafficRecords"===t.id&&(t.advanced_desc=this.sanitizer.bypassSecurityTrustHtml(e[0].param_value_string)),t))})).subscribe()}drop(t){t.previousContainer===t.container&&Object(qa.h)(t.container.data,t.previousIndex,t.currentIndex)}genSummarySheets(){this.loading=!0,this.http.post("../rest/resourcesList/users/"+this.data.ownerId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/summarySheets",{units:this.formatSummarySheet(),resources:this.data.selectedRes},{responseType:"blob"}).subscribe(t=>{if("text/html"!==t.type){const e=document.createElement("a");let n,i,s,a;e.href=window.URL.createObjectURL(t),n=new Date,i=n.getDate(),s=n.getMonth()+1,a=n.getFullYear(),i<10&&(i="0"+i),s<10&&(s="0"+s),n=i+"-"+s+"-"+a,e.setAttribute("download",this.translate.instant("lang.summarySheetsAlt")+"_"+n+".pdf"),document.body.appendChild(e),e.click()}else alert(this.translate.instant("lang.tooMuchDatas"));this.loading=!1},t=>{this.notify.handleErrors(t)})}formatSummarySheet(){const t=[];return this.withQrcode&&t.push({unit:"qrcode",label:""}),this.dataAvailable.forEach(e=>{e.enabled&&t.push({unit:e.unit,label:e.label})}),t}toggleQrcode(){this.withQrcode=!this.withQrcode}addCustomUnit(){this.dataAvailable.push({id:"freeField_"+this.dataAvailable.length,unit:"freeField",label:this.translate.instant("lang.comments"),css:"col-md-12 text-left",desc:[this.translate.instant("lang.freeNote")],enabled:!0})}removeCustomUnit(t){this.dataAvailable.splice(t,1)}closeModalWithParams(){this.dialogRef.close(this.formatSummarySheet())}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.h),i.Tb(j.a),i.Tb(lt.a),i.Tb(En.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:44,vars:36,consts:[[1,"mat-dialog-content-container"],["mat-dialog-content","",1,"summarySheet"],["class","loader",4,"ngIf"],[1,"row","header"],[1,"col-md-4","text-left"],[1,"col-md-4","text-center"],[1,"col-md-4","text-right"],["multiple","",2,"position","absolute","top","-2px","right","0px",3,"change"],[1,"qrcode",2,"width","40px","height","40px",3,"checked","title"],["fontSet","fas","fontIcon","fa-qrcode",2,"height","auto","font-size","30px"],[1,"row"],[1,"col-md-12","title"],[1,"col-md-12"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDropped"],["dataAvailableList","cdkDropList"],[4,"ngFor","ngForOf"],["mat-dialog-actions","","class","actions",4,"ngIf"],[2,"padding","10px"],[1,"alert-message","alert-message-info"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"],["mat-mini-fab","","color","primary",2,"position","absolute","right","30px",3,"title","click"],["fontSet","fas","fontIcon","fa-plus",2,"height","auto"],[1,"loader"],["class","columns","cdkDrag","","style","position: relative;",3,"disabled","id",4,"ngIf"],["cdkDrag","",1,"columns",2,"position","relative",3,"id"],[1,"unitTitle"],["cdkDragHandle","",1,"handleDrag"],["width","24px","fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],["floatLabel","never",2,"margin-top","-10px"],["matInput","",3,"placeholder","ngModel","ngModelChange","click"],["class","row","class","unitData",3,"click",4,"ngIf"],["color","primary",1,"unitToggle",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn","style","position: absolute;right:5px;top:0px;",3,"title","click",4,"ngIf"],[1,"unitData",3,"click"],[3,"class",4,"ngFor","ngForOf"],["name","traffic_record_summary_sheet","id","traffic_record_summary_sheet",2,"padding-top","10px",3,"innerHTML"],["mat-icon-button","","color","warn",2,"position","absolute","right","5px","top","0px",3,"title","click"],["fontSet","fas","fontIcon","fa-minus"],[2,"color","#d24747","font-style","italic"],["mat-raised-button","","mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Qc(2,jr,2,0,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Sc(5),i.mc(6,"translate"),i.mc(7,"translate"),i.Yb(),i.Zb(8,"div",5),i.Zb(9,"b"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Ub(12,"br"),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Zb(15,"div",6),i.Zb(16,"mat-button-toggle-group",7),i.hc("change",(function(){return e.toggleQrcode()})),i.Zb(17,"mat-button-toggle",8),i.mc(18,"translate"),i.Ub(19,"mat-icon",9),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"div",10),i.Zb(21,"div",11),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Yb(),i.Zb(24,"div",10),i.Zb(25,"div",12),i.Zb(26,"div",13,14),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(28,zr,2,1,"ng-container",15),i.Yb(),i.Yb(),i.Yb(),i.Qc(29,Vr,4,3,"div",16),i.Zb(30,"div",17),i.Zb(31,"span",18),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Ub(34,"span",19),i.Zb(35,"div",20),i.Qc(36,Hr,3,3,"button",21),i.Qc(37,Qr,3,3,"button",21),i.Zb(38,"button",22),i.Sc(39),i.mc(40,"translate"),i.Yb(),i.Zb(41,"button",23),i.hc("click",(function(){return e.addCustomUnit()})),i.mc(42,"translate"),i.Ub(43,"mat-icon",24),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.sc("ngIf",e.loading),i.Eb(3),i.Vc(" ",i.nc(6,18,"lang.appName")," / ",i.nc(7,20,"lang.printDate")," "),i.Eb(5),i.Tc(i.nc(11,22,"lang.summarySheet")),i.Eb(3),i.Uc("",i.nc(14,24,"lang.chronoNumber")," "),i.Eb(2),i.Jb("disabled",!e.withQrcode),i.Eb(2),i.tc("title",i.nc(18,26,"lang.toggleQrcode")),i.sc("checked",e.withQrcode),i.Eb(5),i.Uc(" ",i.nc(23,28,"lang.object")," "),i.Eb(4),i.sc("cdkDropListData",e.dataAvailable),i.Eb(2),i.sc("ngForOf",e.dataAvailable),i.Eb(1),i.sc("ngIf",!e.functions.empty(e.data.selectedRes)&&e.data.selectedRes.length>500&&!e.paramMode),i.Eb(3),i.Tc(i.nc(33,30,"lang.arGenWithModelMessage")),i.Eb(4),i.sc("ngIf",e.paramMode),i.Eb(1),i.sc("ngIf",!e.paramMode),i.Eb(2),i.Tc(i.nc(40,32,"lang.cancel")),i.Eb(2),i.tc("title",i.nc(42,34,"lang.addCustomUnit")))},directives:[j.f,v.t,va.b,va.a,b.a,qa.e,v.s,j.c,g.b,j.d,y.c,qa.a,qa.b,Z.c,N.b,F.c,F.t,F.w,mt.a],pipes:[l.d],styles:[".mat-expansion-panel-body{padding-bottom:50px} .mat-slide-toggle-content{color:rgba(0,0,0,.87)}.summarySheet[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:10px;padding:10px}.summarySheet[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:24px;margin-top:10px;margin-bottom:10px;border:1px solid #000}.summarySheet[_ngcontent-%COMP%]   .unitTitle[_ngcontent-%COMP%]{display:flex;cursor:auto;position:absolute;top:2px;left:5px;width:50%}.summarySheet[_ngcontent-%COMP%]   .unitData[_ngcontent-%COMP%]{cursor:pointer;margin-top:30px;width:100%;opacity:.5}.summarySheet[_ngcontent-%COMP%]   .unitToggle[_ngcontent-%COMP%]{position:absolute;right:10px}.cdk-list[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;min-height:60px;display:block;border-radius:4px;overflow:auto}.cdk-list[_ngcontent-%COMP%], .columns[_ngcontent-%COMP%]{width:100%;background:#fff}.columns[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.actions[_ngcontent-%COMP%]{position:relative}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}.disabled[_ngcontent-%COMP%]{opacity:.5}.qrcode[_ngcontent-%COMP%]    .mat-button-toggle-label-content{padding-left:7px!important;line-height:40px!important}.qrcode.mat-button-toggle-checked.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{background-color:#135f7f;color:#fff}.handleDrag[_ngcontent-%COMP%]{padding-right:5px;cursor:move;display:inline-block;opacity:.5}"]}),t})(),Wr=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.dialog=n,this.priorities=[],this.categories=[],this.entitiesList=[],this.statuses=[],this.metaSearchInput="",this.stateGroups=[],this.isLoading=!1}ngOnInit(){}openExport(){this.dialog.open(Fr,{panelClass:"maarch-modal",width:"800px",data:{ownerId:this.currentBasketInfo.ownerId,groupId:this.currentBasketInfo.groupId,basketId:this.currentBasketInfo.basketId,selectedRes:this.selectedRes}})}openSummarySheet(){this.dialog.open($r,{panelClass:"maarch-full-height-modal",width:"800px",data:{ownerId:this.currentBasketInfo.ownerId,groupId:this.currentBasketInfo.groupId,basketId:this.currentBasketInfo.basketId,selectedRes:this.selectedRes}})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(j.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-tools-list"]],viewQuery:function(t,e){var n;1&t&&i.Oc(ba.d,!0),2&t&&i.Cc(n=i.ic())&&(e.autocomplete=n.first)},inputs:{listProperties:"listProperties",currentBasketInfo:"currentBasketInfo",sidenavRight:["snavR","sidenavRight"],selectedRes:"selectedRes",totalRes:"totalRes"},decls:6,vars:8,consts:[["mat-mini-fab","",3,"disabled","title","click"],[1,"fa","fa-link"],[1,"fa","fa-file-download"]],template:function(t,e){1&t&&(i.Zb(0,"button",0),i.hc("click",(function(){return e.openSummarySheet()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",1),i.Yb(),i.Zb(3,"button",0),i.hc("click",(function(){return e.openExport()})),i.mc(4,"translate"),i.Ub(5,"mat-icon",2),i.Yb()),2&t&&(i.tc("title",i.nc(1,4,"lang.summarySheets")),i.sc("disabled",0==e.selectedRes.length),i.Eb(3),i.tc("title",i.nc(4,6,"lang.exportDatas")),i.sc("disabled",0==e.selectedRes.length))},directives:[g.b,b.a],pipes:[l.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-mini-fab[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;box-shadow:none;margin-left:5px;margin-right:5px}.mat-mini-fab[_ngcontent-%COMP%]:disabled{border:1px solid #fff}"]}),t})();function Gr(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",8),i.hc("click",(function(){return i.Hc(t),i.lc().loadActionList()})),i.Sc(1,"Actions "),i.Ub(2,"mat-icon",9),i.Yb()}if(2&t){i.lc();const t=i.Dc(3);i.sc("matMenuTriggerFor",t)}}function qr(t,e){if(1&t&&i.Ub(0,"span",10,11),2&t){const t=i.lc(),e=i.Dc(3);i.Pc("left",t.contextMenuPosition.x)("top",t.contextMenuPosition.y),i.sc("matMenuTriggerFor",e)}}function Xr(t,e){if(1&t&&(i.Zb(0,"div",12),i.Sc(1),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Uc(" ",t.contextMenuTitle," ")}}function Jr(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",13),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc().launchEvent(n)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.sc("disabled",""==t.component||0==n.selectedRes.length),i.Eb(2),i.Tc(t.label)}}let Kr=(()=>{class t{constructor(t,e,n,s,a,o,r,c){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.router=a,this.actionService=o,this.headerService=r,this.functionService=c,this.loading=!1,this.triggerEvent=new i.o,this.contextMenuPosition={x:"0px",y:"0px"},this.contextMenuTitle="",this.currentAction={},this.basketInfo={},this.contextResId=0,this.currentLock=null,this.arrRes=[],this.folderList=[],this.actionsList=[],this.currentResource={},this.refreshEvent=new i.o,this.refreshEventAfterAction=new i.o,this.refreshPanelFolders=new i.o}ngOnInit(){}open(t,e,n){return this.loadActionList(),this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=e+"px",this.currentResource=n,this.contextMenuTitle=n.chrono,this.contextResId=n.resId,this.folderList=void 0!==n.folders?n.folders:[],this.contextMenu.openMenu(),!1}launchEvent(t,e=null){this.arrRes=[],this.currentAction=t,this.arrRes=this.selectedRes,this.contextMode&&this.selectedRes.length>1&&(this.contextMenuTitle="",this.contextResId=0),this.functionService.empty(e)||(this.contextMenuTitle=e.chrono,this.currentResource=e),this.actionService.launchAction(t,this.currentBasketInfo.ownerId,this.currentBasketInfo.groupId,this.currentBasketInfo.basketId,this.selectedRes,this.currentResource,!0)}loadActionList(){JSON.stringify(this.basketInfo)!=JSON.stringify(this.currentBasketInfo)&&(this.basketInfo=JSON.parse(JSON.stringify(this.currentBasketInfo)),this.http.get("../rest/resourcesList/users/"+this.currentBasketInfo.ownerId+"/groups/"+this.currentBasketInfo.groupId+"/baskets/"+this.currentBasketInfo.basketId+"/actions").subscribe(t=>{this.actionsList=t.actions.length>0?t.actions:[{id:0,label:this.translate.instant("lang.noAction"),component:""}],this.loading=!1},t=>{this.notify.handleErrors(t)}))}refreshList(){this.refreshEvent.emit()}refreshFolders(){this.refreshPanelFolders.emit()}unFollow(){this.dialogRef=this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:this.selectedRes}})),Object(ot.a)(t=>{this.notify.success(this.translate.instant("lang.removedFromFolder")),this.headerService.nbResourcesFollowed-=t.unFollowed,this.refreshList()})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.b),i.Tb(o.c),i.Tb(Fi.a),i.Tb(u.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-actions-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(Ya.d,!0),2&t&&i.Cc(n=i.ic())&&(e.contextMenu=n.first)},inputs:{selectedRes:"selectedRes",totalRes:"totalRes",contextMode:"contextMode",currentBasketInfo:"currentBasketInfo",currentResource:"currentResource"},outputs:{triggerEvent:"triggerEvent",refreshEvent:"refreshEvent",refreshEventAfterAction:"refreshEventAfterAction",refreshPanelFolders:"refreshPanelFolders"},decls:14,vars:12,consts:[["mat-stroked-button","",3,"matMenuTriggerFor","click",4,"ngIf"],["style","position: fixed;",3,"matMenuTriggerFor","left","top",4,"ngIf"],["menu","matMenu"],["style","text-align: center;font-size: 10px;color: white;background: #135F7F;padding: 5px;font-weight: bold;",4,"ngIf"],["mat-menu-item","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"followAction",3,"disabled","click"],[1,"far","fa-star","fa-2x"],[3,"resIds","currentFolders","refreshList","refreshFolders"],["mat-stroked-button","",3,"matMenuTriggerFor","click"],["matSuffix","",1,"fa","fa-caret-down"],[2,"position","fixed",3,"matMenuTriggerFor"],["menu2",""],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"disabled","click"]],template:function(t,e){1&t&&(i.Qc(0,Gr,3,1,"button",0),i.Qc(1,qr,2,5,"span",1),i.Zb(2,"mat-menu",null,2),i.Qc(4,Xr,2,1,"div",3),i.Qc(5,Jr,3,2,"button",4),i.Ub(6,"mat-divider"),i.Zb(7,"button",5),i.hc("click",(function(){return e.unFollow()})),i.Ub(8,"mat-icon",6),i.Zb(9,"span"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Ub(12,"mat-divider"),i.Zb(13,"folder-menu",7),i.hc("refreshList",(function(){return e.refreshList()}))("refreshFolders",(function(){return e.refreshFolders()})),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",!e.contextMode),i.Eb(1),i.sc("ngIf",e.contextMode),i.Eb(1),i.Gb("actionListMenu"),i.Eb(2),i.sc("ngIf",e.contextMode&&1==e.selectedRes.length),i.Eb(1),i.sc("ngForOf",e.actionsList),i.Eb(2),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(11,10,"lang.untrackThisMail")),i.Eb(3),i.sc("resIds",e.selectedRes)("currentFolders",e.folderList))},directives:[v.t,Ya.e,v.s,k.a,Ya.b,b.a,Za.a,g.b,Ya.d,Z.j],pipes:[l.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px;border-color:#135f7f;color:#135f7f} .actionListMenu .mat-menu-content{padding-top:0;padding-bottom:0}.followAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#8e3e52}"]}),t})();var tc=n("8IW6");const ec=["snav2"],nc=["actionsListContext"],ic=["filtersTool"],sc=["appPanelList"],ac=["tableBasketListSort"];function oc(t,e){1&t&&i.Ub(0,"mat-spinner")}function rc(t,e){if(1&t&&(i.Zb(0,"div",39),i.Qc(1,oc,1,0,"mat-spinner",16),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function cc(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Vc("- ",t.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}function lc(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"i",61),i.mc(2,"translate"),i.Sc(3,"\xa0"),i.Ub(4,"span",62),i.mc(5,"timeAgo"),i.mc(6,"fullDate"),i.Wb()),2&t){const t=i.lc(4).$implicit;i.Eb(1),i.tc("title",i.nc(2,3,"lang.closingDate")),i.Eb(3),i.tc("title",i.nc(6,7,t.closing_date)),i.sc("innerHTML",i.nc(5,5,t.closing_date),i.Ic)}}function dc(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"i",63),i.mc(2,"translate"),i.Sc(3,"\xa0"),i.Ub(4,"span",62),i.mc(5,"timeAgo"),i.mc(6,"fullDate"),i.Sc(7," - "),i.Ub(8,"i",64),i.mc(9,"translate"),i.Sc(10,"\xa0"),i.Ub(11,"span",62),i.mc(12,"timeLimit"),i.mc(13,"fullDate"),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.tc("title",i.nc(2,6,"lang.creationDate")),i.Eb(3),i.tc("title",i.nc(6,10,t.displayValue.creationDate)),i.sc("innerHTML",i.nc(5,8,t.displayValue.creationDate),i.Ic),i.Eb(4),i.tc("title",i.nc(9,12,"lang.processLimitDate")),i.Eb(3),i.tc("title",i.nc(13,16,t.displayValue.processLimitDate)),i.sc("innerHTML",i.nc(12,14,t.displayValue.processLimitDate),i.Ic)}}function hc(t,e){if(1&t&&(i.Xb(0),i.Qc(1,lc,7,9,"ng-container",16),i.Qc(2,dc,14,18,"ng-container",16),i.Wb()),2&t){const t=i.lc(3).$implicit,e=i.lc();i.Eb(1),i.sc("ngIf",t.closing_date!=e.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",t.closing_date==e.translate.instant("lang.undefined"))}}function uc(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"i",65),i.Sc(2," \xa0 "),i.Wb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Hb("fa ",t.icon,""),i.tc("title",t.label)}}function pc(t,e){if(1&t&&(i.Zb(0,"span",68),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc(2).$implicit;i.uc("title","id: ",t.displayValue,""),i.Eb(1),i.Tc(i.nc(2,2,"lang.undefined"))}}function fc(t,e){if(1&t&&(i.Zb(0,"span",65),i.mc(1,"translate"),i.Sc(2),i.mc(3,"translate"),i.Yb()),2&t){const t=i.lc(2).$implicit;i.tc("title",i.nc(1,2,"lang."+t.displayValue)),i.Eb(2),i.Tc(i.nc(3,4,"lang."+t.displayValue))}}function mc(t,e){if(1&t&&(i.Xb(0),i.Qc(1,pc,3,4,"span",66),i.Qc(2,fc,4,6,"span",67),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc(3);i.Eb(1),i.sc("ngIf",!e.translate.instant("lang."+t.displayValue)),i.Eb(1),i.sc("ngIf",e.translate.instant("lang."+t.displayValue))}}function gc(t,e){if(1&t&&i.Ub(0,"span",71),2&t){const t=i.lc(2).$implicit;i.tc("title",t.displayTitle),i.sc("innerHTML",t.displayValue,i.Ic)}}function bc(t,e){if(1&t&&(i.Ub(0,"span",72),i.mc(1,"timeAgo")),2&t){const t=i.lc(2).$implicit;i.sc("innerHTML",i.nc(1,1,t.displayValue),i.Ic)}}function _c(t,e){if(1&t&&(i.Xb(0),i.Qc(1,gc,1,2,"span",69),i.Qc(2,bc,2,3,"span",70),i.Wb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!t.value.includes("Date")),i.Eb(1),i.sc("ngIf",t.value.includes("Date"))}}function vc(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",60),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=i.lc(2).$implicit;return i.lc().launchEventSubData(n,s)})),i.Qc(1,hc,3,2,"ng-container",16),i.Qc(2,uc,3,4,"ng-container",16),i.Qc(3,mc,3,2,"ng-container",16),i.Qc(4,_c,3,2,"ng-container",16),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(3);i.Gb(t.cssClasses.join(" ")),i.Jb("hasEvent",t.event&&t.displayValue!==n.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf","getCreationAndProcessLimitDates"==t.value),i.Eb(1),i.sc("ngIf",""!=t.icon),i.Eb(1),i.sc("ngIf","getCategory"==t.value),i.Eb(1),i.sc("ngIf","getCategory"!=t.value&&"getCreationAndProcessLimitDates"!=t.value)}}function yc(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,vc,5,8,"span",59),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Hb("sub-info column-",e.templateColumns,"-list"),i.Eb(1),i.sc("ngForOf",t.display)}}const xc=function(t){return{color:t}};function wc(t,e){if(1&t&&i.Ub(0,"mat-icon",77),2&t){const t=i.lc(2).$implicit;i.Ib("",t.statusImage.charAt(0),"",t.statusImage.charAt(1)," ",t.statusImage," ",t.statusImage.charAt(0),"",t.statusImage.charAt(1),"-2x"),i.tc("title",t.statusLabel),i.sc("ngStyle",i.zc(9,xc,t.priorityColor))}}function Cc(t,e){1&t&&(i.Zb(0,"span",78),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function Oc(t,e){if(1&t&&(i.Ub(0,"mat-icon",79),i.mc(1,"translate")),2&t){const t=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",t.locker,"")}}function kc(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",73),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit,n=i.lc();return n.launch(n.defaultAction,e)})),i.Qc(1,wc,1,11,"mat-icon",74),i.Qc(2,Cc,3,3,"span",75),i.Qc(3,Oc,2,4,"mat-icon",76),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==t.isLocked),i.Eb(1),i.sc("ngIf","Y"===t.confidentiality),i.Eb(1),i.sc("ngIf",!0===t.isLocked)}}function Sc(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",81),i.Ub(2,"i",82),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",t.barcode,"")}}function Ec(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",t.chrono," ")}}function Mc(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",80),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit,n=i.lc();return n.launch(n.defaultAction,e)})),i.Qc(1,Sc,5,4,"ng-container",16),i.Qc(2,Ec,2,1,"ng-container",16),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngIf",t.chrono==e.translate.instant("lang.undefined")&&t.barcode!=e.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",t.chrono!=e.translate.instant("lang.undefined"))}}function Ic(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",85),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.goToFolder(s)})),i.mc(1,"translate"),i.Ub(2,"i",86),i.Sc(3),i.Yb()}if(2&t){const t=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",t.label,""),i.Eb(3),i.Uc(" ",t.label,"")}}function Pc(t,e){if(1&t&&(i.Zb(0,"div",83),i.Qc(1,Ic,4,5,"span",84),i.mc(2,"sortBy"),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,t.folders,"label"))}}const Tc=function(t){return[t]};function Ac(t,e){if(1&t){const t=i.ac();i.Zb(0,"td",40),i.Qc(1,yc,2,4,"div",41),i.Zb(2,"div",42),i.Zb(3,"span",43),i.Zb(4,"mat-checkbox",44),i.hc("change",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().toggleRes(n,s)}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(5,"button",45),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.toggleMailTracking(s)})),i.Ub(6,"mat-icon",46),i.Yb(),i.Qc(7,kc,4,3,"span",47),i.Qc(8,Mc,3,2,"span",48),i.Zb(9,"span",49),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=i.lc();return s.launch(s.defaultAction,n)})),i.Sc(10),i.mc(11,"shorten"),i.Yb(),i.Zb(12,"span",50),i.Zb(13,"button",51),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.togglePanel("note",s)})),i.mc(14,"translate"),i.Ub(15,"mat-icon",52),i.Yb(),i.Zb(16,"button",51),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.togglePanel("attachment",s)})),i.mc(17,"translate"),i.Ub(18,"mat-icon",53),i.Yb(),i.Zb(19,"button",51),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.togglePanel("diffusion",s)})),i.mc(20,"translate"),i.Ub(21,"mat-icon",54),i.Yb(),i.Zb(22,"button",55),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.viewDocument(s)}))("mouseenter",(function(){i.Hc(t);const n=e.$implicit;return i.lc().viewThumbnail(n)}))("mouseleave",(function(){return i.Hc(t),i.lc().closeThumbnail()})),i.Ub(23,"mat-icon",56),i.Yb(),i.Zb(24,"button",51),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.goToDetail(s)})),i.mc(25,"translate"),i.Ub(26,"mat-icon",57),i.Yb(),i.Yb(),i.Yb(),i.Qc(27,Pc,3,4,"div",58),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(),s=i.Dc(44);i.Jb("selected-data",t.checked),i.Eb(1),i.sc("ngIf",!s.opened&&!n.appService.getViewMode()&&t.display.length>0),i.Eb(3),i.sc("checked",t.checked),i.Eb(1),i.sc("title",n.translate.instant(!0===t.mailTracking?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.sc("ngClass",i.zc(43,Tc,!0===t.mailTracking?"fas fa-star":"far fa-star")),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.Jb("undefined",t.subject==n.translate.instant("lang.undefined")),i.tc("title",t.subject),i.Eb(1),i.Tc(i.pc(11,31,t.subject,150,"...")),i.Eb(3),i.Jb("noData",0==t.countNotes),i.tc("title",i.nc(14,35,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==t.countNotes),i.tc("matBadge",t.countNotes),i.sc("color",s.opened&&t.checked&&"note"==n.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==t.countAttachments),i.tc("title",i.nc(17,37,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==t.countAttachments),i.tc("matBadge",t.countAttachments),i.sc("color",s.opened&&t.checked&&"attachment"==n.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(20,39,"lang.diffusionList")),i.Eb(2),i.sc("color",s.opened&&t.checked&&"diffusion"==n.currentMode?"primary":""),i.Eb(1),i.tc("title",n.translate.instant(t.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!t.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(45,Tc,t.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(25,41,"lang.linkDetails")),i.Eb(3),i.sc("ngIf",n.displayFolderTags&&void 0!==t.folders&&t.folders.length>0)}}function Dc(t,e){1&t&&i.Ub(0,"div",90)}function Rc(t,e){if(1&t&&(i.Zb(0,"div",91),i.Ub(1,"i",92),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(3),i.Uc("",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(t.chrono)}}function Lc(t,e){if(1&t){const t=i.ac();i.Zb(0,"tr",87),i.hc("contextmenu",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("cdkDragStarted",(function(){i.Hc(t);const n=e.$implicit;return i.lc().selectSpecificRes(n)})),i.Qc(1,Dc,1,0,"div",88),i.Qc(2,Rc,7,4,"div",89),i.Yb()}if(2&t){const t=e.$implicit;i.Jb("locked",1==t.isLocked),i.sc("cdkDragData",t)}}function Fc(t,e){if(1&t&&i.Ub(0,"div",93),2&t){const t=i.lc();i.sc("matTooltip",t.currentChrono)("innerHTML",t.innerHtml,i.Ic)}}const jc=function(){return[10,25,50,100,150]},Yc=function(t){return{width:t}};let Zc=(()=>{class t{constructor(t,e,n,s,a,o,r,c,l,d,h,u,p,f,m){this.translate=t,this.router=e,this._activatedRoute=n,this.route=s,this.http=a,this.dialog=o,this.sanitizer=r,this.headerService=c,this.filtersListService=l,this.notify=d,this.overlay=h,this.viewContainerRef=u,this.appService=p,this.foldersService=f,this.actionService=m,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.templateColumns=7,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.displayedSecondaryData=[],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentBasketInfo={},this.currentChrono="",this.currentMode="",this.defaultAction={id:19,component:"processAction"},this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.specificChrono="",this.displayFolderTags=!1,this.destroy$=new ua.Subject,this.currentSelectedChrono="",n.queryParams.subscribe(t=>this.specificChrono=t.chrono),this.subscription=this.foldersService.catchEvent().subscribe(t=>{"function"===t.type&&this[t.content]()}),this.subscription2=this.actionService.catchAction().subscribe(t=>{this.refreshDaoAfterAction()})}ngOnInit(){this.loading=!1,this.isLoadingResults=!1,this.route.params.subscribe(t=>{this.dragInit=!0,this.destroy$.next(!0),this.basketUrl="../rest/resourcesList/users/"+t.userSerialId+"/groups/"+t.groupSerialId+"/baskets/"+t.basketId,this.currentBasketInfo={ownerId:t.userSerialId,groupId:t.groupSerialId,basketId:t.basketId},this.headerService.currentBasketInfo=this.currentBasketInfo,this.filtersListService.filterMode=!1,this.selectedRes=[],this.sidenavRight.close(),this.listProperties=this.filtersListService.initListsProperties(this.currentBasketInfo.ownerId,this.currentBasketInfo.groupId,this.currentBasketInfo.basketId,"basket",this.specificChrono),setTimeout(()=>{this.dragInit=!1},1e3),this.initResultList()},t=>{this.notify.handleErrors(t)})}ngOnDestroy(){this.destroy$.next(!0),this.subscription.unsubscribe(),this.subscription2.unsubscribe()}initResultList(){this.resultListDatabase=new Nc(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(pa.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(ra.a)(this.destroy$),Object(ca.a)({}),Object(at.a)(()=>(this.data=[],this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.basketUrl,this.filtersListService.getUrlFilters(),this.paginator.pageSize))),Object(la.a)(t=>(this.isLoadingResults=!1,t=this.processPostData(t),this.resultsLength=t.count,this.allResInBasket=t.allResources,this.currentBasketInfo.basket_id=t.basket_id,this.defaultAction=t.defaultAction,this.displayFolderTags=t.displayFolderTags,this.templateColumns=t.templateColumns,this.headerService.setHeader(t.basketLabel,"","fa fa-inbox"),t.resources)),Object(yn.a)(t=>(this.notify.handleErrors(t),this.router.navigate(["/home"]),this.isLoadingResults=!1,Object(xn.of)(!1)))).subscribe(t=>this.data=t)}goTo(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}goToDetail(t){this.router.navigate(["/resources/"+t.resId])}goToFolder(t){this.router.navigate(["/folders/"+t.id])}togglePanel(t,e){const n=this.currentResource;e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),n.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}refreshBadgeNotes(t){this.currentResource.countNotes=t}refreshBadgeAttachments(t){this.currentResource.countAttachments=t}refreshDao(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}refreshDaoAfterAction(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}filterThis(t){this.filtersTool.setInputSearch(t)}viewThumbnail(t){if(t.hasDocument){const e=+new Date;this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail?tsp="+e,$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"})}}closeThumbnail(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}processPostData(t){return this.displayedSecondaryData=[],t.resources.forEach(t=>{Object.keys(t).forEach(e=>{"statusImage"===e&&null==t[e]?t[e]="fa-question undefined":null!=t[e]&&""!==t[e]||-1!==["closingDate","countAttachments","countNotes","display","folders","hasDocument","integrations","mailTracking"].indexOf(e)||(t[e]=this.translate.instant("lang.undefined"))}),t.display.forEach(t=>{if(t.event=!1,t.displayTitle=t.displayValue,null!=t.displayValue&&""!==t.displayValue||-1!==["getCreationAndProcessLimitDates","getParallelOpinionsNumber"].indexOf(t.value))if(["getSenders","getRecipients"].indexOf(t.value)>-1)t.event=!0,t.displayValue.length>1?(t.displayTitle=t.displayValue.join(" - "),t.displayValue="<b>"+t.displayValue.length+"</b> "+this.translate.instant("lang.contactsAlt")):t.displayValue=1===t.displayValue.length?t.displayValue[0]:this.translate.instant("lang.undefined");else if("getCreationAndProcessLimitDates"===t.value)t.icon="";else if("getVisaWorkflow"===t.value){let e=[],n="",i="";const s=[];t.displayValue.forEach((t,a)=>{n="",i=t.user,s.push(i),"sign"===t.mode&&(i="<u>"+i+"</u>"),n=""===t.date?'<i class="fa fa-hourglass-half"></i> <span title="'+this.translate.instant("lang."+t.mode+"User")+'">'+i+"</span>":'<span color="accent" style=""><i class="fa fa-check"></i> <span title="'+this.translate.instant("lang."+t.mode+"User")+'">'+i+"</span></span>",t.current&&a>=0&&(n='<b color="primary">'+n+"</b>"),e.push(n)});const a=t.displayValue.map(t=>t.current).indexOf(!0);if(a>0){e=e.slice(a-1),e=e.reverse();const n=t.displayValue.map(t=>t.current).reverse().indexOf(!0);n>1&&(e=e.slice(n-1)),e=e.reverse()}else 0===a?(e=e.reverse(),e=e.slice(a-2),e=e.reverse()):-1===a&&(e=e.slice(e.length-2));(a>=2||-1===a&&t.displayValue.length>=3)&&e.unshift("..."),-1!==a&&a-2<=t.displayValue.length&&a+2<t.displayValue.length&&t.displayValue.length>=3&&e.push("..."),t.displayValue=e.join(' <i class="fas fa-long-arrow-alt-right"></i> '),t.displayTitle=s.join(" - ")}else if("getSignatories"===t.value){const e=[];t.displayValue.forEach(t=>{e.push(t.user)}),t.displayValue=e.join(", "),t.displayTitle=e.join(", ")}else"getParallelOpinionsNumber"===t.value&&(t.displayTitle=t.displayValue+" "+this.translate.instant("lang.opinionsSent"),t.displayValue=t.displayValue>0?'<b color="primary">'+t.displayValue+"</b> "+this.translate.instant("lang.opinionsSent"):t.displayValue+" "+this.translate.instant("lang.opinionsSent"));else t.displayValue=this.translate.instant("lang.undefined"),t.displayTitle="";t.label=this.translate.instant("lang."+t.value)}),t.checked=-1!==this.selectedRes.indexOf(t.resId)}),t}toggleRes(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.currentResource=e,this.selectedRes.push(e.resId),e.checked=!0);else{const t=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(t,1),e.checked=!1}}toggleAllRes(t){this.selectedRes=[],t.checked?(this.data.forEach(t=>{t.checked=!0}),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach(t=>{t.checked=!1})}selectSpecificRes(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}open({x:t,y:e},n){return!1===n.checked&&(n.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},n)),this.actionsList.open(t,e,n),!1}launch(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),setTimeout(()=>{this.actionsList.launchEvent(t,e)},200)}listTodrag(){return this.foldersService.getDragIds()}launchEventSubData(t,e){t.event&&["getSenders","getRecipients"].indexOf(t.value)>-1&&t.displayValue!==this.translate.instant("lang.undefined")&&this.openContact(e,"getSenders"===t.value?"senders":"recipients")}openContact(t,e){this.dialog.open(Or.a,{panelClass:"maarch-modal",data:{title:`${t.chrono} - ${t.subject}`,mode:e,resId:t.resId}})}viewDocument(t){this.http.get(`../rest/resources/${t.resId}/content?mode=view`,{responseType:"blob"}).pipe(Object(ot.a)(e=>{const n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),s=window.open();s.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${i}" frameborder="0" allowfullscreen></iframe>`),s.document.title=t.chrono}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}toggleMailTracking(t){t.mailTracking?this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}}).pipe(Object(ot.a)(()=>this.headerService.nbResourcesFollowed--),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe():this.http.post("../rest/resources/follow",{resources:[t.resId]}).pipe(Object(ot.a)(()=>this.headerService.nbResourcesFollowed++),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe(),t.mailTracking=!t.mailTracking}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(o.a),i.Tb(d.b),i.Tb(j.b),i.Tb(En.b),i.Tb(u.a),i.Tb(fa),i.Tb(p.a),i.Tb(ma.c),i.Tb(i.R),i.Tb(f.a),i.Tb(ga.a),i.Tb(Fi.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(ec,!0),i.Oc(nc,!0),i.Oc(ic,!0),i.Oc(sc,!0),i.Oc(gt.a,!0),i.Oc(ac,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.filtersTool=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first))},decls:54,vars:57,consts:[[1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[2,"flex","1","overflow-x","auto","overflow-y","hidden",3,"listProperties","totalRes","selectedRes","routeDatas","title","toggleAllRes","refreshEventAfterAction","refreshEvent"],["filtersTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[3,"selectedRes","currentBasketInfo"],["actionsList",""],[3,"contextMode","totalRes","selectedRes","currentBasketInfo","currentResource","refreshEvent","refreshPanelFolders"],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","document-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","dataSource","cdkDropListDisabled"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","cdkDrag","",3,"locked","cdkDragData","contextmenu","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],[3,"contextMode","totalRes","selectedRes","currentBasketInfo","refreshEvent","refreshEventAfterAction","refreshPanelFolders"],["actionsListContext",""],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[3,"class",4,"ngIf"],[1,"main-info"],[2,"width","50px","height","16px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[3,"ngClass"],["style","cursor:pointer;","class","main-info-status",3,"click",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",3,"click",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title","click"],[1,"main-info-action"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],["class","folder-info",4,"ngIf"],["class","sub-info-data","style","flex:1;white-space: pre;\n                                    overflow: hidden;\n                                    text-overflow: ellipsis;\n                                    padding-left: 5px;\n                                    padding-right: 5px;",3,"class","hasEvent","click",4,"ngFor","ngForOf"],[1,"sub-info-data",2,"flex","1","white-space","pre","overflow","hidden","text-overflow","ellipsis","padding-left","5px","padding-right","5px",3,"click"],[1,"fa","fa-lock",3,"title"],[3,"innerHTML","title"],[1,"fa","fa-calendar",3,"title"],[1,"fa","fa-stopwatch",3,"title"],[3,"title"],["style","opacity: 0.5",3,"title",4,"ngIf"],[3,"title",4,"ngIf"],[2,"opacity","0.5",3,"title"],[3,"title","innerHTML",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"title","innerHTML"],[3,"innerHTML"],[1,"main-info-status",2,"cursor","pointer",3,"click"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer",3,"click"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",3,"cdkDragData","contextmenu","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"app-filters-tool",8,9),i.hc("toggleAllRes",(function(t){return e.toggleAllRes(t)}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshEvent",(function(){return e.refreshDao()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",10),i.Zb(16,"div",11),i.Qc(17,rc,2,1,"div",12),i.Zb(18,"div",13),i.Zb(19,"div",14),i.Zb(20,"mat-checkbox",15),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(21,"translate"),i.Yb(),i.Sc(22),i.mc(23,"ucfirst"),i.mc(24,"translate"),i.Qc(25,cc,3,4,"small",16),i.Yb(),i.Zb(26,"div",17),i.Zb(27,"span"),i.Ub(28,"mat-paginator",18,19),i.Yb(),i.Zb(30,"span"),i.Ub(31,"app-tools-list",20,21),i.Yb(),i.Zb(33,"span"),i.Zb(34,"app-actions-list",22,21),i.hc("refreshEvent",(function(){return e.refreshDao()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(36,"div",23),i.Zb(37,"table",24,25),i.Xb(39,26),i.Qc(40,Ac,28,47,"td",27),i.Wb(),i.Qc(41,Lc,3,3,"tr",28),i.Yb(),i.Yb(),i.Ub(42,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(43,"mat-sidenav",29,30),i.Qc(45,Fc,1,2,"div",31),i.Zb(46,"div",32),i.Zb(47,"button",33),i.hc("click",(function(){return i.Hc(t),i.Dc(44).close()})),i.Ub(48,"mat-icon",34),i.Yb(),i.Yb(),i.Zb(49,"app-panel-list",35,36),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(51,"mat-divider"),i.Yb(),i.Yb(),i.Zb(52,"app-actions-list",37,38),i.hc("refreshEvent",(function(){return e.refreshDao()}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(3),i.sc("src",i.nc(4,44,i.nc(5,46,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("listProperties",e.listProperties)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("routeDatas","/rest/resourcesList/users/"+e.currentBasketInfo.ownerId+"/groups/"+e.currentBasketInfo.groupId+"/baskets/"+e.currentBasketInfo.basketId+"/filters")("title",e.translate.instant("lang.searchMailInBasket")),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(21,48,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.allResInBasket.length," ",i.nc(23,50,i.nc(24,52,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(54,jc)),i.Eb(3),i.sc("selectedRes",e.selectedRes)("currentBasketInfo",e.currentBasketInfo),i.Eb(3),i.sc("contextMode",!1)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("currentBasketInfo",e.currentBasketInfo)("currentResource",e.currentResource),i.Eb(3),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("dataSource",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode()),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",!e.filtersListService.filterMode),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(55,Yc,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml&&!e.filtersListService.filterMode),i.Eb(7),i.sc("contextMode",!0)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("currentBasketInfo",e.currentBasketInfo))},directives:[_.e,_.f,Y.a,dt.a,ht.a,ja,v.t,w.a,gt.a,Wr,Kr,ct.n,qa.e,bt.a,ct.c,ct.b,ct.m,_.d,v.w,g.b,b.a,lo,k.a,y.c,ct.a,v.q,Yn.a,v.s,ct.l,qa.a,qa.c,qa.d,C.b],pipes:[v.b,yt.a,l.d,_a.u,_a.p,Zn.a,tc.a,Nn.a,Na.a],styles:[".align_leftData[_ngcontent-%COMP%]{text-align:left}.align_centerData[_ngcontent-%COMP%]{text-align:center}.align_rightData[_ngcontent-%COMP%]{text-align:right}.boldFontData[_ngcontent-%COMP%]{font-weight:700}.bigFontData[_ngcontent-%COMP%]{font-size:14px}.smallFontData[_ngcontent-%COMP%]{font-size:10px}.normalData[_ngcontent-%COMP%]{flex:1}.chronoData[_ngcontent-%COMP%]{width:150px}.longData[_ngcontent-%COMP%]{flex:3}.locked[_ngcontent-%COMP%]{opacity:.5}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}.dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.badge-folder[_ngcontent-%COMP%], .hasEvent[_ngcontent-%COMP%]{cursor:pointer}.hasEvent[_ngcontent-%COMP%]:hover{color:#135f7f}.followIcon[_ngcontent-%COMP%]{color:#f99830}"]}),t})();class Nc{constructor(t,e){this.http=t,this.filtersListService=e}getRepoIssues(t,e,n,i,s,a){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(a),this.http.get(`${i}?limit=${a}&offset=${n*a}${s}`)}}var Uc=n("iadO");const Bc=["numberInput"];function zc(t,e){1&t&&(i.Zb(0,"div",10),i.Ub(1,"mat-spinner",11),i.Yb())}function Vc(t,e){if(1&t&&i.Ub(0,"mat-datepicker-toggle",33),2&t){i.lc();const t=i.Dc(7);i.sc("for",t)}}function Hc(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field",29),i.hc("click",(function(){return i.Hc(t),i.Dc(7).open()})),i.Zb(1,"mat-label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"input",30),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).receivedDate=e})),i.Yb(),i.Qc(5,Vc,1,1,"mat-datepicker-toggle",31),i.Ub(6,"mat-datepicker",null,32),i.Yb()}if(2&t){const t=i.Dc(7),e=i.lc(2);i.Eb(2),i.Tc(i.nc(3,7,"lang.registeredMailReceivedDate")),i.Eb(2),i.sc("ngModel",e.receivedDate)("matDatepicker",t)("disabled","distributed"===e.type)("placeholder",e.translate.instant("lang.chooseDate"))("max",e.today),i.Eb(1),i.sc("ngIf",!e.receivedDate)}}function Qc(t,e){if(1&t&&(i.Zb(0,"mat-option",15),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Tc(t)}}function $c(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"mat-select",34),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).reason=e})),i.mc(2,"translate"),i.Qc(3,Qc,2,2,"mat-option",35),i.Zb(4,"mat-option",15),i.mc(5,"translate"),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(1),i.tc("placeholder",i.nc(2,5,"lang.returnReason")),i.sc("ngModel",t.reason),i.Eb(2),i.sc("ngForOf",t.returnReasons),i.Eb(1),i.tc("value",i.nc(5,7,"lang.others")),i.Eb(2),i.Tc(i.nc(7,9,"lang.others"))}}function Wc(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"mat-label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"input",36),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).reasonOther=e})),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(2),i.Tc(i.nc(3,2,"lang.precise")),i.Eb(2),i.sc("ngModel",t.reasonOther)}}function Gc(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"mat-label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"input",37,38),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).number=e})),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(2),i.Tc(i.nc(3,2,"lang.registeredMailNumber")),i.Eb(2),i.sc("ngModel",t.number)}}function qc(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.returnType")))}function Xc(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"translate"),i.mc(3,"translate"),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ","distributed"===t.type?i.nc(2,1,"lang.registeredMailDistributed"):i.nc(3,3,"lang.registeredMailNotDistributed")," ")}}function Jc(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.registeredMailNumber")))}function Kc(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.number," ")}}function tl(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.registeredMailReceivedDate")))}function el(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc(" ",t.receivedDate," ")}}function nl(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.returnReason")))}function il(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.Uc("",t.returnReason," ")}}function sl(t,e){1&t&&i.Ub(0,"mat-header-row")}function al(t,e){1&t&&i.Ub(0,"mat-row")}function ol(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-card",12),i.Zb(1,"form",13),i.Zb(2,"div"),i.Zb(3,"mat-form-field"),i.Zb(4,"mat-select",14),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().type=e}))("ngModelChange",(function(){i.Hc(t);const e=i.lc();return e.focusRegisteredMailNumber(),e.receivedDate=e.today})),i.mc(5,"translate"),i.Zb(6,"mat-option",15),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Zb(9,"mat-option",15),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(12,Hc,8,9,"mat-form-field",16),i.Qc(13,$c,8,11,"mat-form-field",17),i.Qc(14,Wc,5,4,"mat-form-field",17),i.Qc(15,Gc,6,4,"mat-form-field",17),i.Zb(16,"div",18),i.Zb(17,"button",19),i.hc("click",(function(){i.Hc(t);const e=i.lc();return e.receiveAcknowledgement(),e.focusRegisteredMailNumber()})),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"mat-table",20),i.Xb(21,21),i.Qc(22,qc,3,3,"mat-header-cell",22),i.Qc(23,Xc,4,5,"mat-cell",23),i.Wb(),i.Xb(24,24),i.Qc(25,Jc,3,3,"mat-header-cell",22),i.Qc(26,Kc,2,1,"mat-cell",23),i.Wb(),i.Xb(27,25),i.Qc(28,tl,3,3,"mat-header-cell",22),i.Qc(29,el,2,1,"mat-cell",23),i.Wb(),i.Xb(30,26),i.Qc(31,nl,3,3,"mat-header-cell",22),i.Qc(32,il,2,1,"mat-cell",23),i.Wb(),i.Qc(33,sl,1,0,"mat-header-row",27),i.Qc(34,al,1,0,"mat-row",28),i.Yb(),i.Yb()}if(2&t){const t=i.lc();i.Eb(1),i.sc("formGroup",t.adminFormGroup),i.Eb(3),i.tc("placeholder",i.nc(5,16,"lang.returnType")),i.sc("ngModel",t.type),i.Eb(2),i.sc("value","distributed"),i.Eb(1),i.Tc(i.nc(8,18,"lang.registeredMailDistributed")),i.Eb(2),i.sc("value","notDistributed"),i.Eb(1),i.Tc(i.nc(11,20,"lang.registeredMailNotDistributed")),i.Eb(2),i.sc("ngIf","notDistributed"===t.type||"distributed"===t.type),i.Eb(1),i.sc("ngIf","notDistributed"===t.type),i.Eb(1),i.sc("ngIf","notDistributed"===t.type&&t.reason===t.translate.instant("lang.others")),i.Eb(1),i.sc("ngIf","notDistributed"===t.type||"distributed"===t.type),i.Eb(2),i.sc("disabled",!t.adminFormGroup.valid),i.Eb(1),i.Tc(i.nc(19,22,"lang.validate")),i.Eb(2),i.sc("dataSource",t.dataSource),i.Eb(13),i.sc("matHeaderRowDef",t.displayedColumns),i.Eb(1),i.sc("matRowDefColumns",t.displayedColumns)}}let rl=(()=>{class t{constructor(t,e,n,i,s,a,o){this.http=t,this.notify=e,this.headerService=n,this.functions=i,this.appService=s,this.translate=a,this._formBuilder=o,this.loading=!1,this.today=new Date,this.receivedDate=this.today,this.displayedColumns=["type","number","receivedDate","returnReason"],this.returnReasons=[this.translate.instant("lang.returnReasonCannotAccess"),this.translate.instant("lang.returnReasonNotClaimed"),this.translate.instant("lang.returnReasonRejected"),this.translate.instant("lang.returnReasonUnknown")]}ngOnInit(){this.headerService.setHeader(this.translate.instant("lang.arReception"));const t=[F.H.pattern(/(2C|2D|RW) ([0-9]{3} [0-9]{3} [0-9]{4}) ([0-9])/),F.H.required];this.adminFormGroup=this._formBuilder.group({type:["",F.H.required],number:["",t],receivedDate:[""],returnReason:[""],returnReasonOther:[""]}),this.loading=!1,this.dataSource=new ct.o([]),this.returnReasons.sort(),this.adminFormGroup.controls.number.valueChanges.pipe(Object(nt.a)(500),Object(ot.a)(()=>this.receiveAcknowledgement())).subscribe()}receiveAcknowledgement(){const t={type:this.type,number:this.number,receivedDate:this.functions.formatDateObjectToDateString(this.receivedDate),returnReason:this.reason};if(!this.functions.empty(this.number)){if("distributed"===this.type){if(!this.adminFormGroup.get("number").valid)return void this.notify.error(this.translate.instant("lang.fieldsNotValid"))}else{if(!this.adminFormGroup.get("number").valid||!this.adminFormGroup.get("receivedDate").valid||!this.adminFormGroup.get("returnReason").valid)return void this.notify.error(this.translate.instant("lang.fieldsNotValid"));if(this.reason===this.translate.instant("lang.others")&&this.functions.empty(this.reasonOther))return void this.notify.error(this.translate.instant("lang.fieldsNotValid"));this.reason!==this.translate.instant("lang.others")||this.functions.empty(this.reasonOther)||(t.returnReason=this.reasonOther)}this.http.put("../rest/registeredMails/acknowledgement",t).pipe(Object(ot.a)(()=>{this.notify.success(this.translate.instant("lang.arReceived"));const e=this.dataSource.data;e.unshift(t),this.dataSource.data=e,this.number="",this.receivedDate=this.today,this.reason="",this.reasonOther="",this.focusRegisteredMailNumber()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}focusRegisteredMailNumber(){setTimeout(()=>{this.numberInput.nativeElement.focus()},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(d.b),i.Tb(p.a),i.Tb(u.a),i.Tb(lt.a),i.Tb(f.a),i.Tb(l.e),i.Tb(F.g))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-acknowledgement-reception"]],viewQuery:function(t,e){var n;1&t&&i.ad(Bc,!0),2&t&&i.Cc(n=i.ic())&&(e.numberInput=n.first)},decls:13,vars:8,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[2,"display","contents",3,"formGroup"],["formControlName","type",3,"ngModel","placeholder","ngModelChange"],[3,"value"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],[3,"dataSource"],["matColumnDef","type"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","number"],["matColumnDef","receivedDate"],["matColumnDef","returnReason"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","formControlName","receivedDate","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","disabled","placeholder","max","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["matSuffix","",3,"for"],["formControlName","returnReason","required","",3,"ngModel","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","returnReasonOther","formControlName","returnReasonOther",3,"ngModel","ngModelChange"],["type","text","matInput","","required","","formControlName","number",3,"ngModel","ngModelChange"],["numberInput",""]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Qc(11,zc,2,0,"div",8),i.Qc(12,ol,35,24,"mat-card",9),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[_.e,_.f,dt.a,ht.a,v.t,y.c,Y.a,F.J,F.u,F.l,Z.c,pt.a,F.t,F.j,O.o,g.b,ct.n,ct.c,ct.i,ct.b,ct.k,ct.m,Z.g,N.b,F.c,Uc.f,F.E,Uc.d,Uc.h,Z.j,v.s,ct.h,ct.a,ct.j,ct.l],pipes:[l.d],encapsulation:2}),t})();var cl=n("3nLB");function ll(t,e){if(1&t&&(i.Zb(0,"mat-list-option",8),i.Zb(1,"span",9),i.Sc(2),i.Yb(),i.Zb(3,"span",10),i.Sc(4),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.sc("selected",t.selected),i.Eb(1),i.sc("title",t.label),i.Eb(1),i.Tc(t.label),i.Eb(2),i.Tc(t.resCount)}}function dl(t,e){if(1&t&&(i.Zb(0,"mat-selection-list",4),i.Zb(1,"div",5),i.Sc(2),i.Yb(),i.Ub(3,"mat-divider",6),i.Qc(4,ll,5,4,"mat-list-option",7),i.Yb()),2&t){const t=e.$implicit,n=i.lc();i.Eb(2),i.Vc("",t.key," (",n.filters[t.key].length,")"),i.Eb(2),i.sc("ngForOf",n.filters[t.key])}}let hl=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.appService=n,this.functions=i,this.latinisePipe=s,this.filters={categories:[],priorities:[],statuses:[],doctypes:[],destinations:[],folders:[]}}ngOnInit(){this.filters={categories:[{id:"outgoing",label:"Courrier d\xe9part",resCount:24,selected:!0},{id:"incoming",label:"Courrier arriv\xe9",resCount:4,selected:!0}],priorities:[{id:"IUDZIZOJD",label:"Normal",resCount:4,selected:!0},{id:"IUDZIZOJD",label:"Urgent",resCount:42,selected:!0}],statuses:[{id:"IUDZIZOJD",label:"En cours",resCount:42,selected:!0}],doctypes:[{id:"IUDZIZOJD",label:"Convocations",resCount:42,selected:!0},{id:"IUDZIZOJD",label:"Litiges",resCount:42,selected:!0}],destinations:[{id:"IUDZIZOJD",label:"P\xf4le Jeunesse et Sport",resCount:42,selected:!0},{id:"IUDZIZOJD",label:"P\xf4le culturel",resCount:42,selected:!0}],folders:[]}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(f.a),i.Tb(lt.a),i.Tb(_a.c))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-filter-tool-adv-search"]],decls:9,vars:6,consts:[["expanded","",1,"FilterContainer"],["basketPanel",""],[1,"fas","fa-filter","panelIconMenu"],["class","filter-list",4,"ngFor","ngForOf"],[1,"filter-list"],[1,"catGroupTitle"],[2,"width","80%"],["color","primary","class","catContent","checkboxPosition","before",3,"selected",4,"ngFor","ngForOf"],["color","primary","checkboxPosition","before",1,"catContent",3,"selected"],[1,"catLabel",3,"title"],[1,"catBadge"]],template:function(t,e){1&t&&(i.Zb(0,"mat-expansion-panel",0,1),i.Zb(2,"mat-expansion-panel-header"),i.Zb(3,"mat-panel-title"),i.Ub(4,"i",2),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Yb(),i.Qc(7,dl,5,3,"mat-selection-list",3),i.mc(8,"keyvalue"),i.Yb()),2&t&&(i.Eb(5),i.Uc("\xa0",i.nc(6,2,"lang.filterBy")," "),i.Eb(2),i.sc("ngForOf",i.nc(8,4,e.filters)))},directives:[rt.c,rt.g,rt.h,v.s,x.i,k.a,x.f],pipes:[l.d,v.l],styles:[".catGroupTitle[_ngcontent-%COMP%]{color:#135f7f;font-size:14px;font-weight:500;padding-left:10px}.catContent[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.catLabel[_ngcontent-%COMP%]{flex:1}.catBadge[_ngcontent-%COMP%]{color:#135f7f;font-size:14px;font-weight:700!important;min-width:auto}.filter-list[_ngcontent-%COMP%]    .mat-list-text{flex-direction:row}.FilterContainer[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}.FilterContainer[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.FilterContainer[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#135f7f;display:flex;align-items:center;font-size:14px;font-weight:500}.FilterContainer[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.panelIconMenu[_ngcontent-%COMP%]{font-size:22px}"]}),t})();const ul=["snav2"],pl=["adminMenuTemplate"],fl=["actionsListContext"],ml=["appPanelList"],gl=["appCriteriaTool"],bl=["tableBasketListSort"],_l=["basketHome"];function vl(t,e){1&t&&i.Ub(0,"app-filter-tool-adv-search")}function yl(t,e){1&t&&i.Ub(0,"mat-spinner")}function xl(t,e){if(1&t&&(i.Zb(0,"div",37),i.Qc(1,yl,1,0,"mat-spinner",17),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function wl(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Vc("- ",t.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}const Cl=function(t){return{color:t}};function Ol(t,e){if(1&t&&i.Ub(0,"mat-icon",54),2&t){const t=i.lc(2).$implicit;i.Ib("",t.statusImage.charAt(0),"",t.statusImage.charAt(1)," ",t.statusImage," ",t.statusImage.charAt(0),"",t.statusImage.charAt(1),"-2x"),i.tc("title",t.statusLabel),i.sc("ngStyle",i.zc(9,Cl,t.priorityColor))}}function kl(t,e){1&t&&(i.Zb(0,"span",55),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function Sl(t,e){if(1&t&&(i.Ub(0,"mat-icon",56),i.mc(1,"translate")),2&t){const t=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",t.locker,"")}}function El(t,e){if(1&t&&(i.Zb(0,"span",50),i.Qc(1,Ol,1,11,"mat-icon",51),i.Qc(2,kl,3,3,"span",52),i.Qc(3,Sl,2,4,"mat-icon",53),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==t.isLocked),i.Eb(1),i.sc("ngIf","Y"===t.confidentiality),i.Eb(1),i.sc("ngIf",!0===t.isLocked)}}function Ml(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",58),i.Ub(2,"i",59),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",t.barcode,"")}}function Il(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",t.chrono," ")}}function Pl(t,e){if(1&t&&(i.Zb(0,"span",57),i.Qc(1,Ml,5,4,"ng-container",17),i.Qc(2,Il,2,1,"ng-container",17),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngIf",t.chrono==e.translate.instant("lang.undefined")&&t.barcode!=e.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",t.chrono!=e.translate.instant("lang.undefined"))}}function Tl(t,e){1&t&&(i.Zb(0,"div",60),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.documentOutOfPerimeter")," "))}const Al=function(t){return[t]};function Dl(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",61),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("note",n)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",62),i.Yb(),i.Zb(4,"button",61),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("attachment",n)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",63),i.Yb(),i.Zb(7,"button",61),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.togglePanel("diffusion",n)})),i.mc(8,"translate"),i.Ub(9,"mat-icon",64),i.Yb(),i.Zb(10,"button",65),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.viewDocument(n)}))("mouseenter",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc().viewThumbnail(e)}))("mouseleave",(function(){return i.Hc(t),i.lc(2).closeThumbnail()})),i.Ub(11,"mat-icon",66),i.Yb(),i.Zb(12,"button",61),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc();return e.stopPropagation(),s.goToDetail(n)})),i.mc(13,"translate"),i.Ub(14,"mat-icon",67),i.Yb(),i.Wb()}if(2&t){const t=i.lc().$implicit,e=i.lc(),n=i.Dc(41);i.Eb(1),i.Jb("noData",0==t.countNotes),i.tc("title",i.nc(2,18,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==t.countNotes),i.tc("matBadge",t.countNotes),i.sc("color",n.opened&&t.checked&&"note"==e.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==t.countAttachments),i.tc("title",i.nc(5,20,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==t.countAttachments),i.tc("matBadge",t.countAttachments),i.sc("color",n.opened&&t.checked&&"attachment"==e.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(8,22,"lang.diffusionList")),i.Eb(2),i.sc("color",n.opened&&t.checked&&"diffusion"==e.currentMode?"primary":""),i.Eb(1),i.tc("title",e.translate.instant(t.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!t.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(26,Al,t.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(13,24,"lang.linkDetails"))}}function Rl(t,e){if(1&t){const t=i.ac();i.Zb(0,"span",70),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.goToFolder(s)})),i.mc(1,"translate"),i.Ub(2,"i",71),i.Sc(3),i.Yb()}if(2&t){const t=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",t.label,""),i.Eb(3),i.Uc(" ",t.label,"")}}function Ll(t,e){if(1&t&&(i.Zb(0,"div",68),i.Qc(1,Rl,4,5,"span",69),i.mc(2,"sortBy"),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,t.folders,"label"))}}function Fl(t,e){if(1&t){const t=i.ac();i.Zb(0,"td",38),i.Zb(1,"div",39),i.Zb(2,"span",40),i.Zb(3,"mat-checkbox",41),i.hc("change",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().toggleRes(n,s)}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(4,"button",42),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.toggleMailTracking(s)})),i.Ub(5,"mat-icon",43),i.Yb(),i.Qc(6,El,4,3,"span",44),i.Qc(7,Pl,3,2,"span",45),i.Zb(8,"span",46),i.Sc(9),i.mc(10,"shorten"),i.Yb(),i.Zb(11,"span",47),i.Qc(12,Tl,3,3,"div",48),i.Qc(13,Dl,15,28,"ng-container",17),i.Yb(),i.Yb(),i.Qc(14,Ll,3,4,"div",49),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.Jb("selected-data",t.checked),i.Eb(3),i.sc("checked",t.checked),i.Eb(1),i.sc("title",n.translate.instant(!0===t.mailTracking?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.sc("ngClass",i.zc(18,Al,!0===t.mailTracking?"fas fa-star":"far fa-star")),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.Jb("undefined",t.subject==n.translate.instant("lang.undefined")),i.tc("title",t.subject),i.Eb(1),i.Tc(i.pc(10,14,t.subject,150,"...")),i.Eb(3),i.sc("ngIf",!t.allowed),i.Eb(1),i.sc("ngIf",t.allowed),i.Eb(1),i.sc("ngIf",void 0!==t.folders&&t.folders.length>0)}}function jl(t,e){1&t&&i.Ub(0,"div",75)}function Yl(t,e){if(1&t&&(i.Zb(0,"div",76),i.Ub(1,"i",77),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(t.chrono)}}function Zl(t,e){if(1&t){const t=i.ac();i.Zb(0,"tr",72),i.hc("contextmenu",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("click",(function(n){i.Hc(t);const s=e.$implicit;return i.lc().open(n,s)}))("cdkDragStarted",(function(){i.Hc(t);const n=e.$implicit;return i.lc().selectSpecificRes(n)})),i.Qc(1,jl,1,0,"div",73),i.Qc(2,Yl,7,4,"div",74),i.Yb()}if(2&t){const t=e.$implicit;i.Jb("locked",1==t.isLocked),i.sc("cdkDragDisabled",!t.allowed)("cdkDragData",t)}}function Nl(t,e){if(1&t&&i.Ub(0,"div",78),2&t){const t=i.lc();i.sc("matTooltip",t.currentChrono)("innerHTML",t.innerHtml,i.Ic)}}const Ul=function(){return["doctype","subject"]},Bl=function(){return[10,25,50,100,150]},zl=function(t){return{width:t}};let Vl=(()=>{class t{constructor(t,e,n,s,a,o,r,c,l,d,h,u,p,f){this.translate=t,this.router=e,this.route=n,this.http=s,this.dialog=a,this.sanitizer=o,this.headerService=r,this.filtersListService=c,this.notify=l,this.overlay=d,this.viewContainerRef=h,this.appService=u,this.foldersService=p,this.functions=f,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentChrono="",this.currentMode="",this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.folderInfo={id:0,label:"",ownerDisplayName:"",entitiesSharing:[]},this.folderInfoOpened=!1,this.destroy$=new ua.Subject,this.currentSelectedChrono=""}ngOnInit(){this.headerService.sideBarAdmin=!0,this.loading=!1,this.isLoadingResults=!1,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu"),this.headerService.setHeader(this.translate.instant("lang.searchMails"),"",""),this.appCriteriaTool.getCriterias()}ngOnDestroy(){this.destroy$.next(!0)}launchSearch(t){this.refreshDao()}initResultList(){this.resultListDatabase=new Hl(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(pa.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(ra.a)(this.destroy$),Object(ca.a)({}),Object(at.a)(()=>(this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.basketUrl,this.filtersListService.getUrlFilters(),this.paginator.pageSize))),Object(la.a)(t=>(this.isLoadingResults=!1,t=this.processPostData(t),this.resultsLength=t.countResources,this.allResInBasket=t.allResources,t.resources)),Object(yn.a)(t=>(this.notify.handleErrors(t),this.router.navigate(["/home"]),this.isLoadingResults=!1,Object(xn.of)(!1)))).subscribe(t=>this.data=t)}goTo(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}goToDetail(t){this.router.navigate(["/resources/"+t.resId])}goToFolder(t){this.router.navigate(["/folders/"+t.id])}togglePanel(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),this.currentResource.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}refreshBadgeNotes(t){this.currentResource.countNotes=t}refreshFolderInformations(){this.http.get("../rest/folders/"+this.folderInfo.id).subscribe(t=>{const e=[{keyword:"ALL_ENTITIES",text:this.translate.instant("lang.allEntities")}];this.folderInfo={id:t.folder.id,label:t.folder.label,ownerDisplayName:t.folder.ownerDisplayName,entitiesSharing:t.folder.sharing.entities.map(t=>this.functions.empty(t.label)?e.filter(e=>e.keyword===t.keyword)[0].text:t.label)},this.headerService.setHeader(this.folderInfo.label,"","fa fa-folder-open")})}refreshBadgeAttachments(t){this.currentResource.countAttachments=t}refreshDao(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}refreshDaoAfterAction(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}viewThumbnail(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"}))}closeThumbnail(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}processPostData(t){return t.resources.forEach(t=>{Object.keys(t).forEach(e=>{"statusImage"===e&&null==t[e]?t[e]="fa-question undefined":null!=t[e]&&""!==t[e]||-1!==["closingDate","countAttachments","countNotes","display","mailTracking","hasDocument"].indexOf(e)||(t[e]=this.translate.instant("lang.undefined"))}),t.checked=-1!==this.selectedRes.indexOf(t.resId)}),t}toggleRes(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{const t=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(t,1),e.checked=!1}}toggleAllRes(t){this.selectedRes=[],t.checked?(this.data.forEach(t=>{t.checked=!0}),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach(t=>{t.checked=!1})}selectSpecificRes(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}open({x:t,y:e},n){return!1===n.checked&&(n.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},n)),this.actionsList.open(t,e,n),!1}listTodrag(){return this.foldersService.getDragIds()}toggleMailTracking(t){t.mailTracking?this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}}).pipe(Object(ot.a)(()=>{this.headerService.nbResourcesFollowed--,t.mailTracking=!t.mailTracking}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe():this.http.post("../rest/resources/follow",{resources:[t.resId]}).pipe(Object(ot.a)(()=>{this.headerService.nbResourcesFollowed++,t.mailTracking=!t.mailTracking}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}viewDocument(t){this.http.get(`../rest/resources/${t.resId}/content?mode=view`,{responseType:"blob"}).pipe(Object(ot.a)(e=>{const n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),s=window.open();s.document.write(`<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="${i}" frameborder="0" allowfullscreen></iframe>`),s.document.title=t.chrono}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(d.b),i.Tb(j.b),i.Tb(En.b),i.Tb(u.a),i.Tb(fa),i.Tb(p.a),i.Tb(ma.c),i.Tb(i.R),i.Tb(f.a),i.Tb(ga.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(ul,!0),i.Oc(pl,!0),i.Oc(fl,!0),i.Oc(ml,!0),i.Oc(gl,!0),i.Oc(gt.a,!0),i.Oc(bl,!0),i.Oc(_l,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.appCriteriaTool=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.basketHome=n.first))},decls:51,vars:47,consts:[[1,"maarch-container"],["adminMenuTemplate",""],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[2,"width","100%",3,"defaultCriteria","searchUrlGenerated"],["appCriteriaTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","folder-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","dataSource"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","style","cursor: pointer;","cdkDrag","",3,"locked","cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","refreshEvent","refreshPanelFolders"],["actionsListContext",""],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[1,"main-info"],[2,"width","50px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[2,"margin-bottom","5px",3,"ngClass"],["style","cursor:pointer;","class","main-info-status",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title"],[1,"main-info-action"],["color","warn",4,"ngIf"],["class","folder-info",4,"ngIf"],[1,"main-info-status",2,"cursor","pointer"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],["color","warn"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",2,"cursor","pointer",3,"cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Qc(1,vl,1,0,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content"),i.Zb(4,"mat-card",2),i.Ub(5,"img",3),i.mc(6,"async"),i.mc(7,"secureUrl"),i.Yb(),i.Zb(8,"div",4),i.Zb(9,"div",5),i.Zb(10,"div",6),i.Ub(11,"header-left"),i.Yb(),i.Zb(12,"div",7),i.Ub(13,"header-right"),i.Yb(),i.Yb(),i.Zb(14,"div",8),i.Zb(15,"app-criteria-tool",9,10),i.hc("searchUrlGenerated",(function(t){return e.launchSearch(t)})),i.Yb(),i.Yb(),i.Yb(),i.Zb(17,"div",11),i.Zb(18,"div",12),i.Qc(19,xl,2,1,"div",13),i.Zb(20,"div",14),i.Zb(21,"div",15),i.Zb(22,"mat-checkbox",16),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(23,"translate"),i.Yb(),i.Sc(24),i.mc(25,"ucfirst"),i.mc(26,"translate"),i.Qc(27,wl,3,4,"small",17),i.Yb(),i.Zb(28,"div",18),i.Zb(29,"span"),i.Ub(30,"mat-paginator",19,20),i.Yb(),i.Ub(32,"span"),i.Yb(),i.Yb(),i.Zb(33,"div",21),i.Zb(34,"table",22,23),i.Xb(36,24),i.Qc(37,Fl,15,20,"td",25),i.Wb(),i.Qc(38,Zl,3,4,"tr",26),i.Yb(),i.Yb(),i.Ub(39,"div",14),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"mat-sidenav",27,28),i.Qc(42,Nl,1,2,"div",29),i.Zb(43,"div",30),i.Zb(44,"button",31),i.hc("click",(function(){return i.Hc(t),i.Dc(41).close()})),i.Ub(45,"mat-icon",32),i.Yb(),i.Yb(),i.Zb(46,"app-panel-list",33,34),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(48,"mat-divider"),i.Yb(),i.Yb(),i.Zb(49,"app-folder-action-list",35,36),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(5),i.sc("src",i.nc(6,33,i.nc(7,35,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("defaultCriteria",i.yc(43,Ul)),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(23,37,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.resultsLength," ",i.nc(25,39,i.nc(26,41,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(44,Bl)),i.Eb(4),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode())("dataSource",e.data),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",e.innerHtml),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(45,zl,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml),i.Eb(7),i.sc("contextMode",!0)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes))},directives:[_.e,_.f,Y.a,dt.a,ht.a,cl.a,v.t,w.a,gt.a,ct.n,qa.e,bt.a,ct.c,ct.b,ct.m,_.d,v.w,g.b,b.a,lo,k.a,Bo.a,hl,y.c,ct.a,v.q,Yn.a,v.s,ct.l,qa.a,qa.c,qa.d,C.b],pipes:[v.b,yt.a,l.d,_a.u,_a.p,Na.a],styles:[".bg-head-content[_ngcontent-%COMP%]{flex-direction:column}.dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.banner-opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;background:#1a80ab;width:100%}.banner-opened[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.banner-opened[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:16px}.banner-opened[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex:1;padding-left:20px;padding-right:20px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .private[_ngcontent-%COMP%]{font-style:italic;display:flex;justify-content:flex-end;align-items:center}.banner-closed[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;position:relative;width:100%}.banner-closed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.followIcon[_ngcontent-%COMP%]{color:#f99830}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{cursor:pointer;background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})();class Hl{constructor(t,e){this.http=t,this.filtersListService=e}getRepoIssues(t,e,n,i,s,a){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(a),this.http.get(`${i}?limit=${a}&offset=${n*a}${s}`)}}var Ql=n("Nqwj");function $l(t,e){1&t&&(i.Zb(0,"div",11),i.Ub(1,"mat-spinner",12),i.Yb())}function Wl(t,e){1&t&&i.Ub(0,"mat-spinner")}function Gl(t,e){if(1&t&&(i.Zb(0,"div",20),i.Qc(1,Wl,1,0,"mat-spinner",21),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngIf",t.isLoadingResults)}}function ql(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-expansion-panel",22),i.Zb(1,"mat-expansion-panel-header"),i.Zb(2,"mat-panel-title",23),i.Zb(3,"mat-checkbox",24),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc(2).mainDocument=e})),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.mainDocumentInformation.canConvert?"":"Aucune version pdf trouv\xe9!"),i.Eb(3),i.sc("ngModel",t.mainDocument)("disabled",!t.mainDocumentInformation.canConvert),i.Eb(1),i.Uc("",i.nc(5,4,"lang.mainDocument")," ")}}function Xl(t,e){if(1&t&&(i.Zb(0,"div",36),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.chronoMaster," ")}}function Jl(t,e){if(1&t&&(i.Zb(0,"div",36),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.chrono," ")}}function Kl(t,e){if(1&t&&(i.Zb(0,"div",37),i.Sc(1),i.mc(2,"ucfirst"),i.mc(3,"translate"),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Vc(" ",i.nc(2,2,i.nc(3,4,"lang.for"))," : ",t.recipients," ")}}function td(t,e){if(1&t&&(i.Zb(0,"div",36),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.creator," ")}}function ed(t,e){if(1&t&&(i.Zb(0,"div",38),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.type," ")}}function nd(t,e){if(1&t&&(i.Zb(0,"div",40),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.attachment_"+t.status)," ")}}function id(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,nd,3,3,"div",39),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("ngIf","SIGN"===t.status)}}function sd(t,e){if(1&t&&(i.Zb(0,"mat-list-option",30),i.Zb(1,"div"),i.Qc(2,Xl,2,1,"div",31),i.Qc(3,Jl,2,1,"div",31),i.Qc(4,Kl,4,6,"div",32),i.Qc(5,td,2,1,"div",31),i.Ub(6,"div",33),i.mc(7,"shorten"),i.Qc(8,ed,2,1,"div",34),i.Qc(9,id,2,1,"div",21),i.Zb(10,"div",35),i.mc(11,"fullDate"),i.Sc(12),i.mc(13,"date"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc(2).$implicit,s=i.lc(2);i.Jb("disabled",!t.canConvert),i.sc("title",t.canConvert?"":"Aucune version pdf trouv\xe9!")("disabled",!t.canConvert)("value",t.id),i.Eb(1),i.Hb("printedFolderElement-item ",n.key,""),i.Eb(1),i.sc("ngIf",!s.functions.empty(t.chronoMaster)),i.Eb(1),i.sc("ngIf",!s.functions.empty(t.chrono)),i.Eb(1),i.sc("ngIf",!s.functions.empty(t.recipients)),i.Eb(1),i.sc("ngIf",!s.functions.empty(t.creator)),i.Eb(1),i.sc("title",t.label)("innerHTML",i.pc(7,19,t.label,150,"..."),i.Ic),i.Eb(2),i.sc("ngIf",!s.functions.empty(t.type)),i.Eb(1),i.sc("ngIf",!s.functions.empty(t.status)),i.Eb(1),i.sc("title",i.nc(11,23,t.creationDate)),i.Eb(2),i.Vc(" ",t.creationDate," ",i.oc(13,25,t.creationDate,"dd/MM/y HH:mm")," ")}}function ad(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",26),i.Zb(1,"mat-expansion-panel"),i.Zb(2,"mat-expansion-panel-header"),i.Zb(3,"mat-panel-title",23),i.Zb(4,"mat-checkbox",27),i.hc("change",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc(2);return e?s.toggleAllElements(e.checked,n.key):null}))("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(7,"mat-selection-list",28),i.Qc(8,sd,14,28,"mat-list-option",29),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(2);i.Eb(4),i.sc("checked",e.selectedPrintedFolderElement[t.key].value.length>0&&e.selectedPrintedFolderElement[t.key].value.length===e.printedFolderElement[t.key].length)("indeterminate",e.selectedPrintedFolderElement[t.key].value.length>0&&e.selectedPrintedFolderElement[t.key].value.length!==e.printedFolderElement[t.key].length),i.Eb(1),i.Uc("",i.nc(6,5,"lang."+t.key)," "),i.Eb(2),i.sc("formControl",e.selectedPrintedFolderElement[t.key]),i.Eb(1),i.sc("ngForOf",e.printedFolderElement[t.key])}}function od(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ad,9,7,"div",25),i.Wb()),2&t){const t=e.$implicit,n=i.lc(2);i.Eb(1),i.sc("ngIf",n.printedFolderElement[t.key].length>0)}}function rd(t,e){if(1&t){const t=i.ac();i.Qc(0,Gl,2,1,"div",13),i.Zb(1,"div",14),i.Zb(2,"mat-slide-toggle",15),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().summarySheet=e}))("change",(function(e){i.Hc(t);const n=i.lc();return!!e.checked&&n.openSummarySheet()})),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb(),i.Zb(5,"div",14),i.Zb(6,"mat-slide-toggle",16),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().withSeparator=e})),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Zb(9,"div",17),i.Qc(10,ql,6,6,"mat-expansion-panel",18),i.Qc(11,od,2,1,"ng-container",19),i.mc(12,"keyvalue"),i.Yb()}if(2&t){const t=i.lc();i.sc("ngIf",t.isLoadingResults),i.Eb(2),i.sc("ngModel",t.summarySheet),i.Eb(1),i.Uc("",i.nc(4,7,"lang.attachSummarySheet")," "),i.Eb(3),i.sc("ngModel",t.withSeparator),i.Eb(1),i.Uc("",i.nc(8,9,"lang.generateSeparators")," "),i.Eb(3),i.sc("ngIf",null!==t.mainDocumentInformation.format),i.Eb(1),i.sc("ngForOf",i.nc(12,11,t.printedFolderElement))}}let cd=(()=>{class t{constructor(t,e,n,i,s,a,o,r){this.translate=t,this.http=e,this.notify=n,this.data=i,this.dialogRef=s,this.functions=a,this.sortPipe=o,this.dialog=r,this.loading=!0,this.document=[],this.mainDocument=!1,this.summarySheet=!1,this.withSeparator=!1,this.isLoadingResults=!1,this.mainDocumentInformation={},this.printedFolderElement={attachments:[],notes:[],emails:[],acknowledgementReceipts:[],linkedResources:[],linkedResourcesAttachments:[]},this.selectedPrintedFolderElement={}}ngOnInit(){return Object(vn.a)(this,void 0,void 0,(function*(){Object.keys(this.printedFolderElement).forEach(t=>{this.selectedPrintedFolderElement[t]=new F.h({value:[],disabled:!1})}),this.getMainDocInfo(),this.getAttachments(),this.getEmails(),this.getAcknowledgementReceips(),this.getNotes(),yield this.getLinkedResources(),this.loading=!1}))}getMainDocInfo(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/fileInformation`).pipe(Object(la.a)(t=>Object.assign(Object.assign({},t.information),{id:this.data.resId})),Object(ot.a)(e=>{this.mainDocumentInformation=e,t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getAttachments(){return new Promise(t=>{this.http.get("../rest/resources/"+this.data.resId+"/attachments").pipe(Object(la.a)(t=>(t.attachments=t.attachments.map(t=>({id:t.resId,label:t.title,chrono:this.functions.empty(t.chrono)?this.translate.instant("lang.undefined"):t.chrono,type:t.typeLabel,creationDate:t.creationDate,canConvert:t.canConvert,status:t.status})),t.attachments)),Object(ot.a)(e=>{this.printedFolderElement.attachments=this.sortPipe.transform(e,"chrono"),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getLinkedResources(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/linkedResources`).pipe(Object(ot.a)(e=>Object(vn.a)(this,void 0,void 0,(function*(){for(let t=0;t<e.linkedResources.length;t++)this.printedFolderElement.linkedResources.push({id:e.linkedResources[t].resId,label:e.linkedResources[t].subject,chrono:this.functions.empty(e.linkedResources[t].chrono)?this.translate.instant("lang.undefined"):e.linkedResources[t].chrono,creationDate:e.linkedResources[t].documentDate,canConvert:e.linkedResources[t].canConvert}),yield this.getLinkedAttachments(e.linkedResources[t]);t(!0)}))),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getLinkedAttachments(t){return new Promise(e=>{this.http.get(`../rest/resources/${t.resId}/attachments`).pipe(Object(la.a)(e=>(e.attachments=e.attachments.map(e=>({id:e.resId,label:e.title,resIdMaster:t.resId,chronoMaster:t.chrono,chrono:this.functions.empty(e.chrono)?this.translate.instant("lang.undefined"):e.chrono,type:e.typeLabel,creationDate:e.creationDate,canConvert:e.canConvert,status:e.status})),e.attachments)),Object(ot.a)(t=>{this.printedFolderElement.linkedResourcesAttachments=this.printedFolderElement.linkedResourcesAttachments.concat(this.sortPipe.transform(t,"chronoMaster")),e(!0)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),e(!1),Object(xn.of)(!1)))).subscribe()})}getEmails(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/emails?type=email`).pipe(Object(la.a)(t=>(t.emails=t.emails.map(t=>({id:t.id,recipients:t.recipients,creationDate:t.creation_date,label:this.functions.empty(t.object)?`<i>${this.translate.instant("lang.emptySubject")}<i>`:t.object,canConvert:!0})),t.emails)),Object(ot.a)(e=>{this.printedFolderElement.emails=this.sortPipe.transform(e,"creationDate"),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getNotes(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/notes`).pipe(Object(la.a)(t=>(t.notes=t.notes.map(t=>({id:t.id,creator:`${t.firstname} ${t.lastname}`,creationDate:t.creation_date,label:t.value,canConvert:!0})),t.notes)),Object(ot.a)(e=>{this.printedFolderElement.notes=this.sortPipe.transform(e,"creationDate"),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getAcknowledgementReceips(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/acknowledgementReceipts?type=ar`).pipe(Object(la.a)(t=>t.map(t=>{let e,n;return e=this.functions.empty(t.contact.email)?this.translate.instant("lang.contactDeleted"):t.contact.email,n=this.functions.empty(t.contact.firstname)||this.functions.empty(t.contact.lastname)?this.translate.instant("lang.contactDeleted"):`${t.contact.firstname} ${t.contact.lastname}`,{id:t.id,sender:!1,recipients:"html"===t.format?e:n,creationDate:t.creationDate,label:this.translate.instant("html"===t.format?"lang.ARelectronic":"lang.ARPaper"),canConvert:!0}})),Object(ot.a)(e=>{this.printedFolderElement.acknowledgementReceipts=this.sortPipe.transform(e,"creationDate"),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}toggleAllElements(t,e){this.selectedPrintedFolderElement[e].setValue(t?this.printedFolderElement[e].filter(t=>t.canConvert).map(t=>t.id):[])}onSubmit(){this.isLoadingResults=!0,this.http.post("../rest/resources/folderPrint",this.formatPrintedFolder(),{responseType:"blob"}).pipe(Object(ot.a)(t=>{const e=document.createElement("a");let n,i,s,a;e.href=window.URL.createObjectURL(t),n=new Date,i=n.getDate(),s=n.getMonth()+1,a=n.getFullYear(),i<10&&(i="0"+i),s<10&&(s="0"+s),n=i+"-"+s+"-"+a,e.setAttribute("download","export_maarch_"+n+".pdf"),document.body.appendChild(e),e.click()}),Object(Pn.a)(()=>this.isLoadingResults=!1),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}formatPrintedFolder(){const t={withSeparator:this.withSeparator,summarySheet:this.summarySheet,resources:[]},e={resId:this.data.resId,document:this.mainDocument};return Object.keys(this.printedFolderElement).forEach(t=>{e[t]=this.selectedPrintedFolderElement[t].value.length===this.printedFolderElement[t].length?"ALL":this.selectedPrintedFolderElement[t].value}),t.resources.push(e),t}openSummarySheet(){this.dialog.open($r,{panelClass:"maarch-full-height-modal",width:"800px",data:{paramMode:!0}}).afterClosed().pipe(Object(ot.a)(t=>{this.summarySheet=t}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}isEmptySelection(){let t=!0;return Object.keys(this.printedFolderElement).forEach(e=>{this.selectedPrintedFolderElement[e].value.length>0&&(t=!1)}),(this.summarySheet||this.mainDocument)&&(t=!1),t}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.a),i.Tb(j.h),i.Tb(lt.a),i.Tb(Na.a),i.Tb(j.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],features:[i.Db([Na.a])],decls:16,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[2,"padding-bottom","10px"],["class","loading",4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"loading"],[2,"margin","auto"],["class","example-loading-shade",4,"ngIf"],[2,"padding","10px"],["color","primary",3,"ngModel","ngModelChange","change"],["color","primary",3,"ngModel","ngModelChange"],[1,"printedFolderContainer"],["hideToggle","","disabled","",3,"title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"example-loading-shade"],[4,"ngIf"],["hideToggle","","disabled","",3,"title"],[2,"color","#135f7f","font-weight","bold"],["color","primary","disableRipple","",3,"ngModel","disabled","ngModelChange"],["class","printedFolderElement",4,"ngIf"],[1,"printedFolderElement"],["color","primary","disableRipple","",3,"checked","indeterminate","change","click"],["color","primary",1,"printedFolderElement-content",3,"formControl"],["class","printedFolderElement-option","checkboxPosition","before",3,"title","disabled","value",4,"ngFor","ngForOf"],["checkboxPosition","before",1,"printedFolderElement-option",3,"title","disabled","value"],["color","primary","style","flex:1;font-size: 80%;padding-right: 10px;",4,"ngIf"],["color","primary","style","flex:1;display: flex;font-size: 80%;white-space: pre;padding-right: 10px;",4,"ngIf"],[2,"flex","2","padding-right","10px",3,"title","innerHTML"],["color","primary","style","flex:1;font-size: 80%;white-space: pre;padding-right: 10px;",4,"ngIf"],["color","primary",2,"flex","1","justify-content","flex-end","display","flex","font-size","80%",3,"title"],["color","primary",2,"flex","1","font-size","80%","padding-right","10px"],["color","primary",2,"flex","1","display","flex","font-size","80%","white-space","pre","padding-right","10px"],["color","primary",2,"flex","1","font-size","80%","white-space","pre","padding-right","10px"],["style","color: green",4,"ngIf"],[2,"color","green"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"button",3),i.hc("click",(function(){return e.dialogRef.close()})),i.Ub(6,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(7,"mat-dialog-content",5),i.Qc(8,$l,2,0,"div",6),i.Qc(9,rd,13,13,"ng-template",null,7,i.Rc),i.Yb(),i.Ub(11,"span",8),i.Zb(12,"div",9),i.Zb(13,"button",10),i.hc("click",(function(){return e.onSubmit()})),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.Dc(10);i.Eb(3),i.Uc(" ",i.nc(4,6,"lang.generateAndDownloadPrintedFolder")," "),i.Eb(2),i.sc("title",e.translate.instant("lang.close")),i.Eb(3),i.sc("ngIf",e.loading)("ngIfElse",t),i.Eb(5),i.sc("disabled",e.isLoadingResults||e.isEmptySelection()),i.Eb(1),i.Tc(i.nc(15,8,"lang.validate"))}},directives:[j.i,g.b,b.a,j.f,v.t,j.c,y.c,mt.a,F.t,F.w,v.s,rt.c,rt.g,rt.h,w.a,x.i,F.i,x.f],pipes:[l.d,v.l,_a.p,tc.a,v.f,_a.u],styles:[".mat-dialog-title[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center}.modal-container[_ngcontent-%COMP%]{min-height:250px;height:auto;padding-bottom:5px}.modal-body[_ngcontent-%COMP%]{min-height:auto}.loading[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:10px;top:0;left:0}.printedFolderElement-title[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:-10px;padding:10px;font-size:20px;font-weight:700;color:#135f7f;background:#fff;z-index:1}.printedFolderElement-option[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.printedFolderElement-item[_ngcontent-%COMP%]{font-size:14px!important;align-items:center;display:grid;grid-template-columns:1fr 2fr 1fr;grid-gap:20px}.attachments[_ngcontent-%COMP%]{grid-template-columns:1fr 2fr 1fr 1fr 1fr}.linkedResourcesAttachments[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 2fr 1fr 1fr 1fr}.printedFolderContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:20px}.mat-expansion-panel-header[aria-disabled=true][_ngcontent-%COMP%]{color:initial!important}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}"]}),t})();var ld=n("LRne");function dd(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function hd(t,e){if(1&t&&(i.Zb(0,"div",8),i.Zb(1,"div",9),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Zb(5,"div",10),i.Sc(6),i.mc(7,"shorten"),i.Yb(),i.Zb(8,"div",11),i.Sc(9),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("title",i.nc(2,4,t.event_date)),i.Eb(2),i.Uc(" ",i.nc(4,6,t.event_date)," "),i.Eb(3),i.Uc(" ",i.pc(7,8,t.info,110,"...")," "),i.Eb(3),i.Uc(" ",t.userLabel," ")}}function ud(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",12),i.hc("click",(function(){return i.Hc(t),i.lc(3).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function pd(t,e){1&t&&(i.Zb(0,"div",13),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noEvent")," "))}function fd(t,e){if(1&t&&(i.Xb(0),i.Qc(1,hd,10,12,"div",5),i.Qc(2,ud,3,3,"button",6),i.Qc(3,pd,3,3,"div",7),i.Wb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngForOf",t.histories),i.Eb(1),i.sc("ngIf",3===t.histories.length),i.Eb(1),i.sc("ngIf",0===t.histories.length)}}function md(t,e){1&t&&(i.Zb(0,"div",13),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.historyDisabled")," "))}function gd(t,e){if(1&t&&(i.Qc(0,fd,4,3,"ng-container",0),i.Qc(1,md,3,3,"ng-template",null,4,i.Rc)),2&t){const t=i.Dc(2),e=i.lc();i.sc("ngIf",!e.disabledHistory)("ngIfElse",t)}}let bd=(()=>{class t{constructor(t,e,n,s){this.translate=t,this.http=e,this.notify=n,this.privilegeService=s,this.loading=!0,this.disabledHistory=!0,this.histories=[],this.resId=null,this.goTo=new i.o}ngOnInit(){this.loading=!0,this.privilegeService.hasCurrentUserPrivilege("view_full_history")||this.privilegeService.hasCurrentUserPrivilege("view_doc_history")?(this.disabledHistory=!1,this.loadHistory(this.resId)):this.loading=!1}loadHistory(t){this.loading=!0,this.http.get(`../rest/history?resId=${t}&limit=3&onlyActions=true`).pipe(Object(ot.a)(t=>{this.histories=t.history}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(ld.a)(!1)))).subscribe()}showMore(){this.goTo.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(Li.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-history-workflow-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["noPrivilegeTemplate",""],["class","historyList",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"historyList"],[1,"date",3,"title"],[1,"info"],[1,"date"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,dd,3,0,"ng-container",0),i.Qc(1,gd,3,2,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[v.t,y.c,v.s,g.b],pipes:[tc.a,Zn.a,_a.p,l.d],styles:[".historyList[_ngcontent-%COMP%]{font-size:13px;width:100%;display:grid;grid-template-columns:15% 70% 15%;align-items:center}.historyList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}"]}),t})();function _d(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function vd(t,e){if(1&t&&(i.Zb(0,"div",7),i.Zb(1,"div",8),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Zb(5,"div",9),i.Sc(6),i.mc(7,"shorten"),i.Yb(),i.Zb(8,"div",10),i.Sc(9),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("title",i.nc(2,6,t.creation_date)),i.Eb(2),i.Uc(" ",i.nc(4,8,t.creation_date)," "),i.Eb(2),i.sc("title",t.value),i.Eb(1),i.Uc(" ",i.pc(7,10,t.value,110,"...")," "),i.Eb(3),i.Vc(" ",t.firstname," ",t.lastname," ")}}function yd(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",11),i.hc("click",(function(){return i.Hc(t),i.lc(2).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function xd(t,e){1&t&&(i.Zb(0,"div",12),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noNote")," "))}function wd(t,e){if(1&t&&(i.Qc(0,vd,10,14,"div",4),i.Qc(1,yd,3,3,"button",5),i.Qc(2,xd,3,3,"div",6)),2&t){const t=i.lc();i.sc("ngForOf",t.notes),i.Eb(1),i.sc("ngIf",3===t.notes.length),i.Eb(1),i.sc("ngIf",0===t.notes.length)}}let Cd=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.notify=n,this.loading=!0,this.notes=[],this.resId=null,this.goTo=new i.o}ngOnInit(){this.loading=!0,this.loadNotes(this.resId)}loadNotes(t){this.loading=!0,this.http.get(`../rest/resources/${t}/notes?limit=3`).pipe(Object(ot.a)(t=>{this.notes=t.notes}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(ld.a)(!1)))).subscribe()}showMore(){this.goTo.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-note-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["class","noteList",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"noteList"],[1,"date",3,"title"],[1,"info",3,"title"],[1,"date"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,_d,3,0,"ng-container",0),i.Qc(1,wd,3,3,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[v.t,y.c,v.s,g.b],pipes:[tc.a,Zn.a,_a.p,l.d],styles:[".noteList[_ngcontent-%COMP%]{font-size:13px;width:100%;display:grid;grid-template-columns:15% 70% 15%;align-items:center}.noteList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}"]}),t})();function Od(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function kd(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",10),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Wb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("title",i.nc(2,2,t.modificationDate)),i.Eb(2),i.Uc(" ",i.nc(4,4,t.modificationDate)," ")}}function Sd(t,e){if(1&t&&(i.Zb(0,"div",10),i.mc(1,"fullDate"),i.Sc(2),i.mc(3,"timeAgo"),i.Yb()),2&t){const t=i.lc().$implicit;i.sc("title",i.nc(1,2,t.creationDate)),i.Eb(2),i.Uc(" ",i.nc(3,4,t.creationDate)," ")}}function Ed(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",7),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).showAttachment(n)})),i.Qc(1,kd,5,6,"ng-container",0),i.Qc(2,Sd,4,6,"ng-template",null,1,i.Rc),i.Zb(4,"div",8),i.Sc(5),i.mc(6,"shorten"),i.Yb(),i.Zb(7,"div",9),i.Sc(8),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.Dc(3);i.Eb(1),i.sc("ngIf",null!==t.modificationDate)("ngIfElse",n),i.Eb(4),i.Uc(" ",i.pc(6,4,t.title,110,"...")," "),i.Eb(3),i.Uc(" ",t.typeLabel," ")}}function Md(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",11),i.hc("click",(function(){return i.Hc(t),i.lc(2).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function Id(t,e){1&t&&(i.Zb(0,"div",12),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAttachment")," "))}function Pd(t,e){if(1&t&&(i.Qc(0,Ed,9,8,"div",4),i.Qc(1,Md,3,3,"button",5),i.Qc(2,Id,3,3,"div",6)),2&t){const t=i.lc();i.sc("ngForOf",t.attachments),i.Eb(1),i.sc("ngIf",3===t.attachments.length),i.Eb(1),i.sc("ngIf",0===t.attachments.length)}}let Td=(()=>{class t{constructor(t,e,n,s){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.loading=!0,this.attachments=[],this.resId=null,this.goTo=new i.o}ngOnInit(){this.loading=!0,this.loadAttachments(this.resId)}loadAttachments(t){this.loading=!0,this.http.get(`../rest/resources/${t}/attachments?limit=3`).pipe(Object(ot.a)(t=>{this.attachments=t.attachments}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(ld.a)(!1)))).subscribe()}showAttachment(t){this.dialogRef=this.dialog.open(Ri.a,{height:"99vh",width:"99vw",disableClose:!0,panelClass:"modal-container",data:{resId:t.resId}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"success"===t),Object(ot.a)(()=>{this.loadAttachments(this.resId)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(ld.a)(!1)))).subscribe()}showMore(){this.goTo.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-attachments-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["class","attachmentsList",3,"click",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"attachmentsList",3,"click"],[1,"info"],[1,"attachmentType"],[1,"date",3,"title"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,Od,3,0,"ng-container",0),i.Qc(1,Pd,3,3,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[v.t,y.c,v.s,g.b],pipes:[_a.p,tc.a,Zn.a,l.d],styles:[".attachmentsList[_ngcontent-%COMP%]{cursor:pointer;font-size:13px;width:100%;display:grid;grid-template-columns:15% 65% 20%;align-items:center}.attachmentsList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.attachmentType[_ngcontent-%COMP%]{font-size:10px;color:#135f7f}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}"]}),t})();function Ad(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function Dd(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",10),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Wb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.sc("title",i.nc(2,2,t.send_date)),i.Eb(2),i.Uc(" ",i.nc(4,4,t.send_date)," ")}}function Rd(t,e){if(1&t&&(i.Zb(0,"div",12),i.mc(1,"fullDate"),i.Sc(2),i.mc(3,"translate"),i.Yb()),2&t){const t=i.lc(2).$implicit;i.sc("title",i.nc(1,2,t.send_date)),i.Eb(2),i.Uc(" ",i.nc(3,4,"lang.sendError")," ")}}function Ld(t,e){if(1&t&&i.Qc(0,Rd,4,6,"div",11),2&t){const t=i.lc().$implicit;i.sc("ngIf","ERROR"===t.status)}}function Fd(t,e){if(1&t&&(i.Zb(0,"div",7),i.Qc(1,Dd,5,6,"ng-container",0),i.Qc(2,Ld,1,1,"ng-template",null,1,i.Rc),i.Ub(4,"div",8),i.mc(5,"shorten"),i.Zb(6,"div",9),i.Sc(7),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.Dc(3);i.Eb(1),i.sc("ngIf","SENT"===t.status)("ngIfElse",n),i.Eb(3),i.Jb("arType","aknowledgement_receipt"===t.type),i.sc("innerHTML",i.pc(5,6,t.object,110,"..."),i.Ic),i.Eb(3),i.Uc(" ",t.userInfo," ")}}function jd(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",13),i.hc("click",(function(){return i.Hc(t),i.lc(2).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function Yd(t,e){1&t&&(i.Zb(0,"div",14),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noSendmail")," "))}function Zd(t,e){if(1&t&&(i.Qc(0,Fd,8,10,"div",4),i.Qc(1,jd,3,3,"button",5),i.Qc(2,Yd,3,3,"div",6)),2&t){const t=i.lc();i.sc("ngForOf",t.mails),i.Eb(1),i.sc("ngIf",3===t.mails.length),i.Eb(1),i.sc("ngIf",0===t.mails.length)}}let Nd=(()=>{class t{constructor(t,e,n,s){this.translate=t,this.http=e,this.notify=n,this.functions=s,this.loading=!0,this.mails=[],this.resId=null,this.goTo=new i.o}ngOnInit(){this.loading=!0,this.loadMails(this.resId)}loadMails(t){this.loading=!0,this.http.get(`../rest/externalSummary/${t}?limit=3`).pipe(Object(la.a)(t=>(t.elementsSend=t.elementsSend.map(t=>{let e=t.object,n=t.type;return"aknowledgement_receipt"==t.type&&this.functions.empty(t.object)?(e=this.translate.instant("lang.ARPaper"),n="aknowledgement_receipt"):"aknowledgement_receipt"==t.type&&t.object.startsWith("[AR]")&&(e=this.translate.instant("lang.ARelectronic"),n="aknowledgement_receipt"),{object:this.functions.empty(e)?`<i>${this.translate.instant("lang.emptySubject")}<i>`:e,send_date:t.send_date,status:t.status,userInfo:t.userInfo,type:n}}),t)),Object(ot.a)(t=>{this.mails=t.elementsSend}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(ld.a)(!1)))).subscribe()}showMore(){this.goTo.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-mail-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["class","mailList",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"mailList"],[1,"info",3,"innerHTML"],[1,"date"],[1,"date",3,"title"],["class","error",3,"title",4,"ngIf"],[1,"error",3,"title"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,Ad,3,0,"ng-container",0),i.Qc(1,Zd,3,3,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[v.t,y.c,v.s,g.b],pipes:[_a.p,tc.a,Zn.a,l.d],styles:[".mailList[_ngcontent-%COMP%]{font-size:13px;width:100%;display:grid;grid-template-columns:15% 70% 15%;align-items:center}.mailList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}.error[_ngcontent-%COMP%]{padding:5px;color:#8e3e52}.arType[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{font-style:italic}.arType[_ngcontent-%COMP%]{color:#666}"]}),t})();var Ud=n("FtGj"),Bd=n("A5z7"),zd=n("fBaO");const Vd=["recipientsField"],Hd=["copiesField"],Qd=["invisibleCopiesField"];function $d(t,e){1&t&&(i.Zb(0,"div",32),i.Ub(1,"mat-spinner",33),i.Yb())}function Wd(t,e){if(1&t&&i.Ub(0,"input",34),2&t){const t=i.lc();i.sc("value",t.currentSender.email)}}function Gd(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Vc(" ",t.label," (",t.email,") ")}}function qd(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-select",35),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().currentSender=e})),i.Qc(1,Gd,2,3,"mat-option",18),i.mc(2,"sortBy"),i.Yb()}if(2&t){const t=i.lc();i.sc("compareWith",t.compareSenders)("ngModel",t.currentSender),i.Eb(1),i.sc("ngForOf",i.oc(2,3,t.availableSenders,"label"))}}function Xd(t,e){1&t&&i.Ub(0,"mat-icon",39)}function Jd(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",37),i.hc("removed",(function(){i.Hc(t);const n=e.$implicit;return i.lc().remove(n,"recipients")}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc().remove(n,"recipients")})),i.Sc(1),i.Qc(2,Xd,1,0,"mat-icon",38),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.Jb("badFormat",t.badFormat),i.sc("cdkDragDisabled","SENT"==n.emailStatus||"ERROR"==n.emailStatus)("removable",n.canManageMail())("title",t.email),i.Eb(1),i.Vc(" ",t.label,"",t.label!==t.email?" ("+t.email+")":""," "),i.Eb(1),i.sc("ngIf",n.canManageMail())}}function Kd(t,e){if(1&t&&(i.Zb(0,"span",41),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" (",t.email,")")}}function th(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Qc(2,Kd,2,1,"span",40),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t.label,""),i.Eb(1),i.sc("ngIf","contactGroup"!==t.type)}}function eh(t,e){1&t&&i.Ub(0,"mat-icon",39)}function nh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",47),i.hc("removed",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).remove(n,"copies")}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).remove(n,"recipients")})),i.Sc(1),i.Qc(2,eh,1,0,"mat-icon",38),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Jb("badFormat",t.badFormat),i.sc("cdkDragDisabled","SENT"==n.emailStatus||"ERROR"==n.emailStatus)("removable",n.canManageMail())("title",t.email),i.Eb(1),i.Vc(" ",t.label,"",t.label!==t.email?" ("+t.email+")":""," "),i.Eb(1),i.sc("ngIf",n.canManageMail())}}function ih(t,e){if(1&t&&(i.Zb(0,"span",41),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" (",t.email,")")}}function sh(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Qc(2,ih,2,1,"span",40),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t.label,""),i.Eb(1),i.sc("ngIf","contactGroup"!==t.type)}}const ah=function(){return["recipients-list","invcopies-list"]};function oh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"span",7),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-chip-list",42,43),i.hc("cdkDropListDropped",(function(e){return i.Hc(t),i.lc().drop(e)})),i.Qc(6,nh,3,8,"mat-chip",44),i.Zb(7,"input",14,45),i.hc("matChipInputTokenEnd",(function(e){return i.Hc(t),i.lc().add(e,"copies")}))("focus",(function(){return i.Hc(t),i.lc().resetAutocomplete()}))("paste",(function(e){return i.Hc(t),i.lc().onPaste(e,"copies")})),i.Yb(),i.Yb(),i.Zb(9,"mat-autocomplete",16,46),i.hc("optionSelected",(function(e){return i.Hc(t),i.lc().addEmail(e.option.value,"copies")})),i.Qc(11,sh,3,3,"mat-option",18),i.mc(12,"async"),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(5),e=i.Dc(10),n=i.lc();i.Eb(2),i.Uc("",i.nc(3,10,"lang.copieShort"),"\xa0:\xa0"),i.Eb(2),i.sc("cdkDropListConnectedTo",i.yc(14,ah))("cdkDropListData",n.copies),i.Eb(2),i.sc("ngForOf",n.copies),i.Eb(1),i.sc("formControl",n.recipientsInput)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",!0)("matAutocomplete",e),i.Eb(4),i.sc("ngForOf",i.nc(12,12,n.filteredEmails))}}function rh(t,e){1&t&&i.Ub(0,"mat-icon",39)}function ch(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",47),i.hc("removed",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).remove(n,"invisibleCopies")}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).remove(n,"recipients")})),i.Sc(1),i.Qc(2,rh,1,0,"mat-icon",38),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Jb("badFormat",t.badFormat),i.sc("cdkDragDisabled","SENT"==n.emailStatus||"ERROR"==n.emailStatus)("removable",n.canManageMail())("title",t.email),i.Eb(1),i.Vc(" ",t.label,"",t.label!==t.email?" ("+t.email+")":""," "),i.Eb(1),i.sc("ngIf",n.canManageMail())}}function lh(t,e){if(1&t&&(i.Zb(0,"span",41),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" (",t.email,")")}}function dh(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Qc(2,lh,2,1,"span",40),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Uc(" ",t.label,""),i.Eb(1),i.sc("ngIf","contactGroup"!==t.type)}}const hh=function(){return["recipients-list","copies-list"]};function uh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"span",7),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-chip-list",48,49),i.hc("cdkDropListDropped",(function(e){return i.Hc(t),i.lc().drop(e)})),i.Qc(6,ch,3,8,"mat-chip",44),i.Zb(7,"input",14,50),i.hc("matChipInputTokenEnd",(function(e){return i.Hc(t),i.lc().add(e,"invisibleCopies")}))("focus",(function(){return i.Hc(t),i.lc().resetAutocomplete()}))("paste",(function(e){return i.Hc(t),i.lc().onPaste(e,"invisibleCopies")})),i.Yb(),i.Yb(),i.Zb(9,"mat-autocomplete",16,51),i.hc("optionSelected",(function(e){return i.Hc(t),i.lc().addEmail(e.option.value,"invisibleCopies")})),i.Qc(11,dh,3,3,"mat-option",18),i.mc(12,"async"),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(5),e=i.Dc(10),n=i.lc();i.Eb(2),i.Uc("",i.nc(3,10,"lang.invisibleCopyShort"),"\xa0:\xa0"),i.Eb(2),i.sc("cdkDropListConnectedTo",i.yc(14,hh))("cdkDropListData",n.invisibleCopies),i.Eb(2),i.sc("ngForOf",n.invisibleCopies),i.Eb(1),i.sc("formControl",n.recipientsInput)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",!0)("matAutocomplete",e),i.Eb(4),i.sc("ngForOf",i.nc(12,12,n.filteredEmails))}}function ph(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",52),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.currentEmailAttachTool=s.key})),i.Ub(1,"mat-icon",53),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(),s=i.Dc(40);i.sc("disabled",!n.canManageMail()||0===n.emailAttachTool[t.key].list.length)("title",n.emailAttachTool[t.key].title)("matMenuTriggerFor",s),i.Eb(1),i.Gb(n.emailAttachTool[t.key].icon),i.Jb("activeButton","document"===t.key&&n.emailAttach.document.isLinked||"document"!==t.key&&n.emailAttach[t.key].length>0)}}function fh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",61),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit,n=i.lc(2).$implicit;return i.lc().toggleAttachMail(e,n.key,"original")})),i.Sc(1),i.Yb()}if(2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(".",t.format,"")}}function mh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",61),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit,n=i.lc(2).$implicit;return i.lc().toggleAttachMail(e,n.key,"pdf")})),i.Sc(1,".pdf"),i.Yb()}}function gh(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.chrono," \xa0 ")}}function bh(t,e){1&t&&(i.Zb(0,"span",62),i.Sc(1),i.mc(2,"lowercase"),i.mc(3,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("\xa0(",i.nc(2,1,i.nc(3,3,"lang.signed")),")"))}function _h(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",54),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Zb(2,"div",55),i.Zb(3,"div"),i.Qc(4,fh,2,1,"button",56),i.Ub(5,"br"),i.Qc(6,mh,2,0,"button",56),i.Yb(),i.Zb(7,"div"),i.Zb(8,"span",57),i.Zb(9,"div",58),i.Qc(10,gh,2,1,"ng-container",19),i.Sc(11),i.Yb(),i.Zb(12,"div"),i.Sc(13),i.mc(14,"shorten"),i.Yb(),i.Zb(15,"div",59),i.Sc(16),i.Qc(17,bh,4,5,"span",60),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(18,"mat-divider"),i.Wb()}if(2&t){const t=e.$implicit,n=i.lc(2).$implicit,s=i.lc();i.Eb(1),i.sc("disabled",s.isSelectedAttachMail(t,n.key)),i.Eb(3),i.sc("ngIf","SIGN"!==t.status),i.Eb(2),i.sc("ngIf",!s.functions.empty(t.convertedDocument)),i.Eb(2),i.sc("title",t.label),i.Eb(2),i.sc("ngIf",!s.functions.empty(t.chrono)),i.Eb(1),i.Uc(" ",t.creator," "),i.Eb(2),i.Uc(" ",i.pc(14,9,t.label,45,"...")," "),i.Eb(3),i.Uc(" ",t.typeLabel,""),i.Eb(1),i.sc("ngIf","SIGN"===t.status)}}function vh(t,e){if(1&t&&(i.Xb(0),i.Qc(1,_h,19,13,"ng-container",24),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngForOf",e.emailAttachTool[t.key].list)}}function yh(t,e){if(1&t&&(i.Xb(0),i.Qc(1,vh,2,1,"ng-container",19),i.Wb()),2&t){const t=e.$implicit,n=i.lc();i.Eb(1),i.sc("ngIf",t.key===n.currentEmailAttachTool)}}function xh(t,e){1&t&&i.Ub(0,"mat-icon",39)}function wh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",63),i.hc("removed",(function(){return i.Hc(t),i.lc().removeAttachMail(0,"document")})),i.Ub(1,"i",64),i.Sc(2),i.mc(3,"shorten"),i.Zb(4,"small",41),i.Sc(5),i.Yb(),i.Qc(6,xh,1,0,"mat-icon",38),i.Yb()}if(2&t){const t=i.lc();i.sc("removable",t.canManageMail())("title",t.emailAttach.document.chrono+" - "+t.emailAttach.document.label),i.Eb(2),i.Uc("\xa0",i.pc(3,6,t.emailAttach.document.label,25,"..."),"\xa0"),i.Eb(3),i.Vc("(",t.emailAttach.document.format," - ",t.emailAttach.document.size,")"),i.Eb(1),i.sc("ngIf",t.canManageMail())}}function Ch(t,e){1&t&&i.Ub(0,"mat-icon",39)}function Oh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",63),i.hc("removed",(function(){i.Hc(t);const n=e.index,s=i.lc(2).$implicit;return i.lc().removeAttachMail(n,s.key)})),i.Ub(1,"i"),i.Sc(2),i.mc(3,"shorten"),i.Zb(4,"small",41),i.Sc(5),i.Yb(),i.Qc(6,Ch,1,0,"mat-icon",38),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2).$implicit,s=i.lc();i.sc("removable",s.canManageMail())("title",t.title),i.Eb(1),i.Hb("",s.emailAttachTool[n.key].icon," attachLabel"),i.Eb(1),i.Uc("\xa0",i.pc(3,9,t.label,25,"..."),"\xa0"),i.Eb(3),i.Vc("(",t.format,"",s.functions.empty(t.size)?"":" - "+t.size,")"),i.Eb(1),i.sc("ngIf",s.canManageMail())}}function kh(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Oh,7,13,"mat-chip",65),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngForOf",e.emailAttach[t.key])}}function Sh(t,e){if(1&t&&(i.Xb(0),i.Qc(1,kh,2,1,"ng-container",19),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf","document"!==t.key)}}function Eh(t,e){if(1&t){const t=i.ac();i.Zb(0,"plugin-select-search",68),i.hc("afterSelected",(function(e){return i.Hc(t),i.lc(2).mergeEmailTemplate(e)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("label",t.translate.instant("lang.emailModel"))("placeholderLabel",t.translate.instant("lang.emailModel"))("datas",t.availableEmailModels)("formControlSelect",t.templateEmailListForm)}}function Mh(t,e){if(1&t){const t=i.ac();i.Zb(0,"plugin-select-search",68,69),i.hc("afterSelected",(function(e){return i.Hc(t),i.lc(2).mergeSignEmailTemplate(e)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("label",t.translate.instant("lang.emailSignatures"))("placeholderLabel",t.translate.instant("lang.emailSignatures"))("datas",t.availableSignEmailModels)("formControlSelect",t.emailSignListForm)}}function Ih(t,e){if(1&t&&(i.Zb(0,"div",66),i.Qc(1,Eh,1,4,"plugin-select-search",67),i.Qc(2,Mh,2,4,"plugin-select-search",67),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.availableEmailModels.length>0),i.Eb(1),i.sc("ngIf",t.availableSignEmailModels.length>0)}}function Ph(t,e){if(1&t){const t=i.ac();i.Zb(0,"textarea",70),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().emailContent=e})),i.Yb()}if(2&t){const t=i.lc();i.sc("ngModel",t.emailContent)}}function Th(t,e){if(1&t&&i.Ub(0,"app-document-viewer",71,72),2&t){const t=i.lc();i.sc("editMode",!1)("base64",t.emailContent)}}function Ah(t,e){if(1&t&&(i.Zb(0,"button",79),i.Ub(1,"mat-icon",80),i.Yb()),2&t){i.lc();const t=i.Dc(3);i.sc("matMenuTriggerFor",t)}}function Dh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",81),i.hc("click",(function(){return i.Hc(t),i.lc(2).switchEditionMode()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.switchInPlainText")," "))}function Rh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",81),i.hc("click",(function(){return i.Hc(t),i.lc(2).switchEditionMode()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.switchInHtml")," "))}function Lh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",82),i.hc("click",(function(){return i.Hc(t),i.lc(2).onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc(2);i.sc("disabled",0===t.recipients.length||t.emailsubject.length>256),i.Eb(1),i.Tc(i.nc(2,2,"lang.send"))}}function Fh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",83),i.hc("click",(function(){return i.Hc(t),i.lc(2).deleteEmail()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc(2);i.sc("disabled",t.headerService.user.id!==t.emailCreatorId),i.Eb(1),i.Tc(i.nc(2,2,"lang.delete"))}}function jh(t,e){if(1&t&&(i.Zb(0,"div",73),i.Qc(1,Ah,2,1,"button",74),i.Zb(2,"mat-menu",null,75),i.Qc(4,Dh,3,3,"button",76),i.Qc(5,Rh,3,3,"button",76),i.Yb(),i.Qc(6,Lh,3,4,"button",77),i.Qc(7,Fh,3,4,"button",78),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.canManageMail()&&t.privilegeService.hasCurrentUserPrivilege("sendmail")),i.Eb(1),i.Gb("attachListMenu"),i.Eb(2),i.sc("ngIf",t.htmlMode),i.Eb(1),i.sc("ngIf",!t.htmlMode),i.Eb(1),i.sc("ngIf",t.canManageMail()&&t.privilegeService.hasCurrentUserPrivilege("sendmail")),i.Eb(1),i.sc("ngIf",t.data.emailId&&"email"===t.data.emailType)}}const Yh=function(){return["copies-list","invcopies-list"]};let Zh=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l){this.http=t,this.notify=e,this.data=n,this.dialog=i,this.dialogRef=s,this.functions=a,this.contactService=o,this.privilegeService=r,this.headerService=c,this.translate=l,this.loading=!0,this.separatorKeysCodes=[Ud.c,Ud.p,Ud.i,190],this.availableEmailModels=[],this.availableSignEmailModels=[],this.resourceData=null,this.availableSenders=[],this.currentSender={},this.recipients=[],this.copies=[],this.invisibleCopies=[],this.recipientsInput=new F.h,this.emailSignListForm=new F.h,this.templateEmailListForm=new F.h,this.showCopies=!1,this.showInvisibleCopies=!1,this.emailCreatorId=null,this.emailId=null,this.emailsubject="",this.emailStatus="WAITING",this.emailContent="",this.currentEmailAttachTool="",this.emailAttachTool={document:{icon:"fa fa-file",title:this.translate.instant("lang.attachMainDocument"),list:[]},notes:{icon:"fas fa-pen-square",title:this.translate.instant("lang.attachNote"),list:[]},attachments:{icon:"fa fa-paperclip",title:this.translate.instant("lang.attachAttachment"),list:[]}},this.emailAttach={},this.canManage=!1,this.pdfMode=!1,this.htmlMode=!0}ngOnInit(){return Object(vn.a)(this,void 0,void 0,(function*(){Object.keys(this.emailAttachTool).forEach(t=>{this.emailAttach[t]="document"===t?{id:this.data.resId,isLinked:!1,original:!1}:[]}),yield this.getAttachElements(),this.data.emailId&&"email"===this.data.emailType?yield this.getEmailData(this.data.emailId):this.data.emailId&&"acknowledgementReceipt"===this.data.emailType&&(yield this.getAcknowledgementReceiptData(this.data.emailId)),this.canManageMail()&&(this.initEmailModelsList(),this.initEmailsList(),this.initSignEmailModelsList(),yield this.getResourceData(),yield this.getUserEmails(),"DRAFT"!==this.emailStatus&&this.setDefaultInfo()),setTimeout(()=>{this.initMce()},0)}))}initMce(){tinymce.init({selector:"textarea#emailSignature",base_url:"../node_modules/tinymce/",setup:t=>{t.on("init",t=>{this.loading=!1})},readonly:"SENT"===this.emailStatus,height:"400",suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant("lang.langISO").replace("-","_")}.js`,menubar:!1,statusbar:!1,plugins:["autolink"],external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_drawer:"floating",toolbar:"SENT"!==this.emailStatus&&"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |             alignleft aligncenter alignright alignjustify             bullist numlist outdent indent | removeformat"})}add(t,e){const n=t.input,i=t.value;(i||"").trim()&&this[e].push({label:i.trim(),email:i.trim(),badFormat:this.isBadEmailFormat(i.trim())}),n&&(n.value="")}isBadEmailFormat(t){return null===t.trim().match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/g)}closeModal(t=""){tinymce.remove(),this.dialogRef.close(t)}addEmail(t,e){this[e].splice(this[e].length-1,1),"contactGroup"===t.type?this.http.get("../rest/contactsGroups/"+t.id).pipe(Object(la.a)(t=>t.contactsGroup.contacts.filter(t=>!this.functions.empty(t.email)).map(t=>({label:t.contact,email:t.email}))),Object(ot.a)(t=>{this[e]=this[e].concat(t)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe():this[e].push({label:t.label,email:t.email})}mergeEmailTemplate(t){this.templateEmailListForm.reset(),this.http.post(`../rest/templates/${t}/mergeEmail`,{data:{resId:this.data.resId}}).pipe(Object(ot.a)(t=>{const e=document.createElement("div");if(e.innerHTML=tinymce.get("emailSignature").getContent(),e.getElementsByClassName("signature").length>0){const n=e.getElementsByClassName("signature")[0].innerHTML;e.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent(`${e.innerHTML}${t.mergedDocument}<div class="signature">${n}</div>`)}else tinymce.get("emailSignature").setContent(`${tinymce.get("emailSignature").getContent()}${t.mergedDocument}`);this.htmlMode||tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent({format:"text"})),this.functions.empty(t.mergedSubject)||(this.emailsubject=t.mergedSubject)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}mergeSignEmailTemplate(t){this.emailSignListForm.reset(),this.http.get("../rest/currentUser/emailSignatures/"+t).pipe(Object(ot.a)(t=>{const e=document.createElement("div");e.innerHTML=tinymce.get("emailSignature").getContent(),e.getElementsByClassName("signature").length>0?(e.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent(`${e.innerHTML}<div class="signature">${t.emailSignature.content}</div>`)):tinymce.get("emailSignature").setContent(`${tinymce.get("emailSignature").getContent()}<div class="signature">${t.emailSignature.content}</div>`),this.htmlMode||tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent({format:"text"}))}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}remove(t,e){if(this.canManageMail()){const n=this[e].indexOf(t);n>=0&&this[e].splice(n,1)}}getEmailData(t){return new Promise(e=>{this.http.get("../rest/emails/"+t).pipe(Object(ot.a)(t=>{this.emailCreatorId=t.userId,this.recipients=t.recipients.map(t=>({label:t,email:t,badFormat:this.isBadEmailFormat(t)})),this.copies=t.cc.map(t=>({label:t,email:t,badFormat:this.isBadEmailFormat(t)})),this.invisibleCopies=t.cci.map(t=>({label:t,email:t,badFormat:this.isBadEmailFormat(t)})),this.showCopies=this.copies.length>0,this.showInvisibleCopies=this.invisibleCopies.length>0,this.emailsubject=t.object,this.emailStatus=t.status,this.currentSender={entityId:t.sender.entityId,label:t.sender.label,email:t.sender.email},this.emailContent=t.body,Object.keys(t.document).forEach(e=>{-1===["id","isLinked","original"].indexOf(e)?(this.emailAttach[e]=[],t.document[e].forEach(t=>{const n=this.emailAttachTool[e].list.filter(e=>e.id===t.id||e.id===t);n.length>0&&(this.emailAttach[e]=this.emailAttach[e].concat(n.map(e=>Object.assign(Object.assign({},e),{format:t.original||void 0===t.original?e.format:"pdf",original:t.original,size:t.original||void 0===t.original?e.size:e.convertedDocument.size}))))})):"isLinked"===e&&!0===t.document.isLinked&&(this.emailAttach.document.isLinked=!0,this.emailAttach.document.format=t.document.original||void 0===t.document.original?this.emailAttachTool.document.list[0].format:"pdf",this.emailAttach.document.original=t.document.original,this.emailAttach.document.size=this.emailAttach.document.original?this.emailAttachTool.document.list[0].size:this.emailAttachTool.document.list[0].convertedDocument.size)}),e(!0)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),e(!1),Object(xn.of)(!1)))).subscribe()})}getAcknowledgementReceiptData(t){return new Promise(e=>{this.http.get("../rest/acknowledgementReceipts/"+t).pipe(Object(ot.a)(t=>{this.currentSender={label:t.acknowledgementReceipt.userLabel,email:t.acknowledgementReceipt.userLabel},this.recipients=[{label:this.functions.empty(t.acknowledgementReceipt.contact)?this.translate.instant("lang.contactDeleted"):this.contactService.formatContact(t.acknowledgementReceipt.contact),email:this.functions.empty(t.acknowledgementReceipt.contact.email)?this.translate.instant("lang.withoutEmail"):t.acknowledgementReceipt.contact.email}],this.emailStatus="SENT"}),Object(da.a)(()=>this.http.get(`../rest/acknowledgementReceipts/${t}/content`)),Object(ot.a)(t=>{this.pdfMode="pdf"===t.format,this.pdfMode?(this.emailsubject=this.translate.instant("lang.ARPaper"),this.emailContent=t.encodedDocument):(this.emailsubject=this.translate.instant("lang.ARelectronic"),this.emailContent=this.b64DecodeUnicode(t.encodedDocument)),e(!0)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),e(!1),Object(xn.of)(!1)))).subscribe()})}getResourceData(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}?light=true`).pipe(Object(ot.a)(e=>{this.resourceData=e,this.emailAttach.document.chrono=this.resourceData.chrono,this.emailAttach.document.label=this.resourceData.subject,t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}setDefaultInfo(){this.emailsubject=`[${this.resourceData.chrono}] ${this.resourceData.subject}`,this.emailsubject=this.emailsubject.substring(0,70),this.currentSender=this.availableSenders.filter(t=>t.entityId===this.headerService.user.entities[0].id).length>0?this.availableSenders.filter(t=>t.entityId===this.headerService.user.entities[0].id)[0]:this.availableSenders[0],this.functions.empty(this.resourceData.senders)||this.resourceData.senders.forEach(t=>{this.setSender(t.id)})}setSender(t){this.http.get("../rest/contacts/"+t).pipe(Object(ot.a)(t=>{this.functions.empty(t.email)||this.recipients.push({label:this.contactService.formatContact(t),email:t.email})}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}getUserEmails(){return new Promise(t=>{this.http.get("../rest/currentUser/availableEmails").pipe(Object(ot.a)(e=>{this.availableSenders=e.emails,t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getAttachElements(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/emailsInitialization`).pipe(Object(ot.a)(e=>{Object.keys(e).forEach(t=>{"resource"===t?(this.emailAttachTool.document.list=[],this.functions.empty(e[t])||(this.emailAttachTool.document.list=[e[t]])):this.emailAttachTool[t].list=e[t].map(e=>(e.attachInMail&&this.toggleAttachMail(e,t,"SIGN"===e.status?"pdf":"original"),Object.assign(Object.assign({},e),{original:void 0===e.original||e.original,title:void 0!==e.chrono?`${e.chrono} - ${e.label} (${e.typeLabel})`:`${e.label} (${e.typeLabel})`})))}),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}initEmailsList(){this.recipientsInput.valueChanges.pipe(Object(it.a)(t=>null!==t),Object(nt.a)(300),Object(ot.a)(t=>{0===t.length&&(this.filteredEmails=Object(xn.of)([]))}),Object(it.a)(t=>t.length>2),Object(st.a)(),Object(at.a)(t=>this.http.get("../rest/autocomplete/correspondents",{params:{search:t,searchEmails:"true"}})),Object(ot.a)(t=>{t=t.filter(t=>!this.functions.empty(t.email)||"contactGroup"===t.type).map(t=>{let e="";return e="user"===t.type||"contact"===t.type?this.functions.empty(t.firstname)&&this.functions.empty(t.lastname)?t.company:t.firstname+" "+t.lastname:"contactGroup"===t.type?`${t.firstname} ${t.lastname}`:""+t.lastname,{id:t.id,type:t.type,label:e,email:t.email}}),this.filteredEmails=Object(xn.of)(t)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}initEmailModelsList(){this.http.get(`../rest/resources/${this.data.resId}/emailTemplates`).pipe(Object(ot.a)(t=>{this.availableEmailModels=t.templates}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}initSignEmailModelsList(){this.http.get("../rest/currentUser/emailSignatures").pipe(Object(ot.a)(t=>{this.availableSignEmailModels=t.emailSignatures}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}resetAutocomplete(){this.filteredEmails=Object(xn.of)([])}onSubmit(){this.emailStatus="WAITING",null===this.data.emailId?this.isAllEmailRightFormat()?""===this.emailsubject?this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:this.translate.instant("lang.warnEmptySubject")}}).afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>{this.createEmail(!0)})).subscribe():this.createEmail(!0):this.notify.error(this.translate.instant("lang.badEmailsFormat")):this.updateEmail(!0)}createEmail(t=!0){this.http.post("../rest/emails",this.formatEmail()).pipe(Object(ot.a)(()=>{"DRAFT"===this.emailStatus||this.notify.success(this.translate.instant("lang.sendingEmail")+"..."),t&&this.closeModal("success")}),Object(Pn.a)(()=>{"DRAFT"===this.emailStatus&&this.closeModal("success")}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}deleteEmail(){this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.delete("../rest/emails/"+this.data.emailId)),Object(ot.a)(()=>{this.notify.success(this.translate.instant("lang.emailDeleted")),this.closeModal("success")}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}updateEmail(t=!0){this.http.put("../rest/emails/"+this.data.emailId,this.formatEmail()).pipe(Object(ot.a)(()=>{"DRAFT"===this.emailStatus||this.notify.success(this.translate.instant("lang.sendingEmail")+"..."),t&&this.closeModal("success")}),Object(Pn.a)(()=>{"DRAFT"===this.emailStatus&&this.closeModal("success")}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}saveDraft(){this.canManageMail()?(this.emailStatus="DRAFT",null===this.data.emailId?this.functions.empty(tinymce.get("emailSignature").getContent())?this.closeModal():this.createEmail(!0):this.updateEmail(!0)):this.closeModal()}drop(t){t.previousContainer!==t.container&&Object(qa.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}toggleAttachMail(t,e,n){"document"===e?!1===this.emailAttach.document.isLinked&&(this.emailAttach.document.isLinked=!0,this.emailAttach.document.format="pdf"!==n?t.format:"pdf",this.emailAttach.document.original="pdf"!==n,this.emailAttach.document.size="pdf"===n?t.convertedDocument.size:t.size):0===this.emailAttach[e].filter(e=>e.id===t.id).length&&this.emailAttach[e].push(Object.assign(Object.assign({},t),{format:"pdf"!==n?t.format:"pdf",original:"pdf"!==n,size:"pdf"===n?t.convertedDocument.size:t.size}))}removeAttachMail(t,e){"document"===e?(this.emailAttach.document.isLinked=!1,this.emailAttach.document.original=!1):this.emailAttach[e].splice(t,1)}switchEditionMode(){this.htmlMode=!this.htmlMode,this.htmlMode?($(".tox-editor-header").show(),tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent())):this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.switchInPlainText"),msg:this.translate.instant("lang.confirmSwitchInPlanText")}}).afterClosed().pipe(Object(ot.a)(t=>{"ok"===t?($(".tox-editor-header").hide(),tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent({format:"text"}))):this.htmlMode=!this.htmlMode})).subscribe()}formatEmail(){let t={};Object.keys(this.emailAttach).forEach(e=>{this.functions.empty(this.emailAttach[e])||("document"===e?t={id:this.emailAttach[e].id,isLinked:this.emailAttach[e].isLinked,original:this.emailAttach[e].original}:t[e]=this.emailAttach[e].map("notes"===e?t=>t.id:t=>({id:t.id,original:t.original})))});const e={email:this.currentSender.email,entityId:this.functions.empty(this.currentSender.entityId)?null:this.currentSender.entityId};return{document:t,sender:e,recipients:this.recipients.map(t=>t.email),cc:this.showCopies?this.copies.map(t=>t.email):[],cci:this.showInvisibleCopies?this.invisibleCopies.map(t=>t.email):[],object:this.emailsubject,body:this.htmlMode?tinymce.get("emailSignature").getContent():tinymce.get("emailSignature").getContent({format:"text"}),isHtml:!0,status:this.emailStatus}}isSelectedAttachMail(t,e){return"document"===e?this.emailAttach.document.isLinked:this.emailAttach[e].filter(e=>e.id===t.id).length>0}canManageMail(){return null===this.data.emailId||"SENT"!==this.emailStatus&&this.headerService.user.id===this.emailCreatorId?(this.recipientsInput.enable(),!0):(this.recipientsInput.disable(),!1)}isAllEmailRightFormat(){let t=!0;return this.recipients.concat(this.copies).concat(this.invisibleCopies).map(t=>t.email).forEach(e=>{this.isBadEmailFormat(e)&&(t=!1)}),t}compareSenders(t,e){return!(t.label!==e.label&&(null!==t.label&&null!==e.label||null!==t.entityId&&null!==e.entityId)||t.entityId!==e.entityId||t.email!==e.email)}b64DecodeUnicode(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}onPaste(t,e){const n=t.clipboardData.getData("text");this.formatEmailAddress(n,e)}formatEmailAddress(t,e){const n=t.split(/[,;]+/);this.functions.empty(n)||(setTimeout(()=>{this.recipientsInput.setValue(null),this[e+"Field"].nativeElement.value=""},0),n.forEach(t=>{t=t.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi),this.functions.empty(t)||this[e].push({label:t[0],email:t[0]})}))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(d.b),i.Tb(p.a),i.Tb(j.a),i.Tb(j.b),i.Tb(j.h),i.Tb(lt.a),i.Tb(Ql.a),i.Tb(Li.a),i.Tb(u.a),i.Tb(l.e))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-sent-resource-page"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Vd,!0),i.ad(Hd,!0),i.ad(Qd,!0)),2&t&&(i.Cc(n=i.ic())&&(e.recipientsField=n.first),i.Cc(n=i.ic())&&(e.copiesField=n.first),i.Cc(n=i.ic())&&(e.invisibleCopiesField=n.first))},features:[i.Db([Ql.a,f.a])],decls:53,vars:56,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"modal-container"],["class","loading",4,"ngIf"],["matPrefix","",1,"attachLabel"],["matInput","","readonly","",3,"value",4,"ngIf"],[3,"compareWith","ngModel","ngModelChange",4,"ngIf"],["mat-button","","color","primary","matSuffix","",3,"disabled","click"],["id","recipients-list","cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["recipientsList",""],["cdkDrag","","class","recipients",3,"cdkDragDisabled","removable","title","badFormat","removed","click",4,"ngFor","ngForOf"],[3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matAutocomplete","matChipInputTokenEnd","focus","paste"],["recipientsField",""],[3,"optionSelected"],["autoEmails","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["floatLabel","never"],["matInput","","maxlength","255",3,"placeholder","readonly","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click",4,"ngFor","ngForOf"],["emailAttachListMenu","matMenu"],[4,"ngFor","ngForOf"],["class","copy",3,"removable","title","removed",4,"ngIf"],["class","models",4,"ngIf"],[2,"padding-top","10px"],["style","padding-top: 10px;","name","emailSignature","id","emailSignature",3,"ngModel","ngModelChange",4,"ngIf"],["style","display:block;height:400px;width:100%;overflow: auto;",3,"editMode","base64",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[1,"loading"],[2,"margin","auto"],["matInput","","readonly","",3,"value"],[3,"compareWith","ngModel","ngModelChange"],[3,"value"],["cdkDrag","",1,"recipients",3,"cdkDragDisabled","removable","title","removed","click"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],["class","attachLabel",4,"ngIf"],[1,"attachLabel"],["id","copies-list","cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["copiesList",""],["cdkDrag","","class","copy",3,"cdkDragDisabled","removable","title","badFormat","removed","click",4,"ngFor","ngForOf"],["copiesField",""],["autoEmails2","matAutocomplete"],["cdkDrag","",1,"copy",3,"cdkDragDisabled","removable","title","removed","click"],["id","invcopies-list","cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["invCopiesList",""],["invisibleCopiesField",""],["autoEmails3","matAutocomplete"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click"],["color","primary"],["mat-menu-item","","disableRipple","",1,"attachListButton",2,"line-height","normal","height","auto","padding","10px",3,"disabled","click"],[1,"attachListContainer"],["mat-raised-button","","class","extensionButton","color","primary",3,"click",4,"ngIf"],[3,"title"],[2,"font-size","10px","opacity","0.5"],[1,"attachLabel",2,"font-size","10px"],["style","color:green",4,"ngIf"],["mat-raised-button","","color","primary",1,"extensionButton",3,"click"],[2,"color","green"],[1,"copy",3,"removable","title","removed"],[1,"fa","fa-file","attachLabel"],["class","copy",3,"removable","title","removed",4,"ngFor","ngForOf"],[1,"models"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected",4,"ngIf"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],["name","emailSignature","id","emailSignature",2,"padding-top","10px",3,"ngModel","ngModelChange"],[2,"display","block","height","400px","width","100%","overflow","auto",3,"editMode","base64"],["appDocumentViewer",""],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary","style","min-width: auto;width: 30px;padding: 0;background-color: white; color: grey;",3,"matMenuTriggerFor",4,"ngIf"],["emailActionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",2,"min-width","auto","width","30px","padding","0","background-color","white","color","grey",3,"matMenuTriggerFor"],[1,"fas","fa-ellipsis-v",2,"height","auto"],["mat-menu-item","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.Yb(),i.Zb(4,"button",3),i.hc("click",(function(){return e.saveDraft()})),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"mat-dialog-content",5),i.Qc(7,$d,2,0,"div",6),i.Zb(8,"mat-form-field"),i.Zb(9,"span",7),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Qc(12,Wd,1,1,"input",8),i.Qc(13,qd,3,6,"mat-select",9),i.Zb(14,"button",10),i.hc("click",(function(t){return t.stopPropagation(),e.showCopies=!e.showCopies})),i.Sc(15),i.mc(16,"translate"),i.Yb(),i.Zb(17,"button",10),i.hc("click",(function(t){return t.stopPropagation(),e.showInvisibleCopies=!e.showInvisibleCopies})),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Yb(),i.Zb(20,"mat-form-field"),i.Zb(21,"span",7),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Zb(24,"mat-chip-list",11,12),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(26,Jd,3,8,"mat-chip",13),i.Zb(27,"input",14,15),i.hc("matChipInputTokenEnd",(function(t){return e.add(t,"recipients")}))("focus",(function(){return e.resetAutocomplete()}))("paste",(function(t){return e.onPaste(t,"recipients")})),i.Yb(),i.Yb(),i.Zb(29,"mat-autocomplete",16,17),i.hc("optionSelected",(function(t){return e.addEmail(t.option.value,"recipients")})),i.Qc(31,th,3,3,"mat-option",18),i.mc(32,"async"),i.Yb(),i.Yb(),i.Qc(33,oh,13,15,"mat-form-field",19),i.Qc(34,uh,13,15,"mat-form-field",19),i.Zb(35,"mat-form-field",20),i.Zb(36,"input",21),i.hc("ngModelChange",(function(t){return e.emailsubject=t})),i.Yb(),i.Qc(37,ph,2,8,"button",22),i.mc(38,"keyvalue"),i.Zb(39,"mat-menu",null,23),i.Qc(41,yh,2,1,"ng-container",24),i.mc(42,"keyvalue"),i.Yb(),i.Yb(),i.Zb(43,"mat-chip-list"),i.Qc(44,wh,7,10,"mat-chip",25),i.Qc(45,Sh,2,1,"ng-container",24),i.mc(46,"keyvalue"),i.Yb(),i.Qc(47,Ih,3,2,"div",26),i.Zb(48,"div",27),i.Qc(49,Ph,1,1,"textarea",28),i.Qc(50,Th,2,2,"app-document-viewer",29),i.Yb(),i.Yb(),i.Ub(51,"span",30),i.Qc(52,jh,8,7,"div",31),i.Yb()),2&t){const t=i.Dc(25),n=i.Dc(30);i.Eb(3),i.Uc(" ",e.data.title," "),i.Eb(1),i.sc("title",e.translate.instant("lang.saveAndClose")),i.Eb(3),i.sc("ngIf",e.loading),i.Eb(3),i.Uc("",i.nc(11,39,"lang.senderShort"),"\xa0:\xa0"),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(1),i.Jb("activeButton",e.showCopies),i.sc("disabled",!e.canManageMail()),i.Eb(1),i.Tc(i.nc(16,41,"lang.copieShort")),i.Eb(2),i.Jb("activeButton",e.showInvisibleCopies),i.sc("disabled",!e.canManageMail()),i.Eb(1),i.Tc(i.nc(19,43,"lang.invisibleCopyShort")),i.Eb(4),i.Uc("",i.nc(23,45,"lang.recipientShort"),"\xa0:\xa0"),i.Eb(2),i.sc("cdkDropListConnectedTo",i.yc(55,Yh))("cdkDropListData",e.recipients),i.Eb(2),i.sc("ngForOf",e.recipients),i.Eb(1),i.sc("formControl",e.recipientsInput)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",!0)("matAutocomplete",n),i.Eb(4),i.sc("ngForOf",i.nc(32,47,e.filteredEmails)),i.Eb(2),i.sc("ngIf",e.showCopies),i.Eb(1),i.sc("ngIf",e.showInvisibleCopies),i.Eb(2),i.sc("placeholder",e.translate.instant("lang.object"))("readonly",!e.canManageMail())("ngModel",e.emailsubject),i.Eb(1),i.sc("ngForOf",i.nc(38,49,e.emailAttachTool)),i.Eb(2),i.Gb("attachListMenu"),i.Eb(2),i.sc("ngForOf",i.nc(42,51,e.emailAttachTool)),i.Eb(3),i.sc("ngIf",e.emailAttach.document.isLinked),i.Eb(1),i.sc("ngForOf",i.nc(46,53,e.emailAttach)),i.Eb(2),i.sc("ngIf",e.canManageMail()),i.Eb(2),i.sc("ngIf",!e.pdfMode),i.Eb(1),i.sc("ngIf",e.pdfMode),i.Eb(2),i.sc("ngIf",!e.loading)}},directives:[j.i,g.b,b.a,j.f,v.t,Z.c,Z.i,Z.j,Bd.d,qa.e,v.s,F.c,Bd.c,ba.d,F.t,F.i,ba.a,N.b,F.o,F.w,Ya.e,y.c,pt.a,O.o,Bd.a,qa.a,Bd.e,Ya.d,Ya.b,k.a,zd.a,Oi.a,j.c],pipes:[l.d,v.b,v.l,Na.a,_a.p,v.p],styles:[".loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;z-index:2;width:100%;top:0;left:0;background:#fff}.mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center}.copy[_ngcontent-%COMP%], .recipients[_ngcontent-%COMP%]{font-size:12px!important;padding:5px!important;min-height:auto;height:auto;border-radius:5px;cursor:pointer}.copy[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .recipients[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:auto;font-size:12px;height:auto}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px}.activeButton[_ngcontent-%COMP%]{color:#f99830;font-weight:700}.attachLabel[_ngcontent-%COMP%], .pdfVersion[_ngcontent-%COMP%]:hover{color:#135f7f} .attachListMenu{width:auto;max-width:none;min-height:auto}.attachListButton[_ngcontent-%COMP%]:hover{background:initial!important;cursor:default}.attachListContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-gap:10px;align-items:center}.extensionButton[_ngcontent-%COMP%]{line-height:20px;min-width:50px;padding:0}.badFormat[_ngcontent-%COMP%]{background-color:#d03c3c;color:#fff}"]}),t})();const Nh=["recipientsInput"];function Uh(t,e){1&t&&(i.Zb(0,"div",35),i.Ub(1,"mat-spinner",36),i.Yb())}const Bh=function(t){return{value1:t}};function zh(t,e){if(1&t&&(i.Ub(0,"div",37),i.mc(1,"translate")),2&t){const t=i.lc();i.sc("innerHTML",i.oc(1,1,"lang.sendNumericPackageInfo",i.zc(4,Bh,t.maarch2maarchUrl)),i.Ic)}}function Vh(t,e){if(1&t&&i.Ub(0,"input",38),2&t){const t=i.lc();i.sc("value",t.currentSender.label)}}function Hh(t,e){if(1&t&&(i.Zb(0,"mat-option",41),i.Sc(1),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(1),i.Vc(" ",t.label," (",t.m2m,") ")}}function Qh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-select",39),i.hc("ngModelChange",(function(e){return i.Hc(t),i.lc().currentSender=e})),i.Qc(1,Hh,2,3,"mat-option",40),i.mc(2,"sortBy"),i.Yb()}if(2&t){const t=i.lc();i.sc("compareWith",t.compareSenders)("ngModel",t.currentSender),i.Eb(1),i.sc("ngForOf",i.oc(2,3,t.availableSenders,"label"))}}function $h(t,e){1&t&&i.Ub(0,"mat-icon",44)}function Wh(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-chip",42),i.hc("removed",(function(){i.Hc(t);const n=e.$implicit;return i.lc().remove(n,"recipients")}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc().remove(n,"recipients")})),i.Zb(1,"span",2),i.Zb(2,"div"),i.Sc(3),i.Zb(4,"b"),i.Sc(5),i.Yb(),i.Yb(),i.Zb(6,"div",8),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Qc(9,$h,1,0,"mat-icon",43),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.sc("removable",n.canManageMail()),i.Eb(3),i.Uc(" ",t.label," - "),i.Eb(2),i.Tc(t.m2m),i.Eb(2),i.Vc(" (",i.nc(8,6,"lang.communicationMean")," : ",t.communicationMeans,") "),i.Eb(2),i.sc("ngIf",n.canManageMail())}}function Gh(t,e){if(1&t&&(i.Zb(0,"mat-option",45),i.Zb(1,"div"),i.Sc(2),i.Zb(3,"b"),i.Sc(4),i.Yb(),i.Yb(),i.Zb(5,"div",8),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.sc("value",t),i.Eb(2),i.Uc(" ",t.label," - "),i.Eb(2),i.Tc(t.m2m),i.Eb(2),i.Vc(" (",i.nc(7,5,"lang.communicationMean")," : ",t.communicationMeans,") ")}}function qh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",46),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc();return n.stopPropagation(),a.numericPackageCurrentAttachTool=s.key})),i.Ub(1,"mat-icon",47),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(),s=i.Dc(36);i.sc("disabled",!n.canManageMail()||0===n.numericPackageAttachTool[t.key].list.length)("title",n.numericPackageAttachTool[t.key].title)("matMenuTriggerFor",s),i.Eb(1),i.Gb(n.numericPackageAttachTool[t.key].icon),i.Jb("activeButton",n.isSelectedAttachType(t.key))}}function Xh(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",49),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(2).$implicit,o=i.lc();return n.stopPropagation(),o.toggleAttach(s,a.key,"original")})),i.Zb(1,"span",50),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(2).$implicit,o=i.lc();return n.stopPropagation(),o.toggleAttach(s,a.key,"original")})),i.Zb(2,"div",51),i.Sc(3),i.Yb(),i.Sc(4),i.mc(5,"shorten"),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2).$implicit,s=i.lc();i.sc("disabled",s.isSelectedAttach(t,n.key)),i.Eb(1),i.sc("title",t.label),i.Eb(2),i.Wc("",t.chrono," - ",t.typeLabel," (",t.creator,")"),i.Eb(1),i.Vc(" ",i.pc(5,7,t.label,45,"...")," - ",t.format," ")}}function Jh(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Xh,6,11,"button",48),i.Wb()),2&t){const t=i.lc().$implicit,e=i.lc();i.Eb(1),i.sc("ngForOf",e.numericPackageAttachTool[t.key].list)}}function Kh(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Jh,2,1,"ng-container",23),i.Wb()),2&t){const t=e.$implicit,n=i.lc();i.Eb(1),i.sc("ngIf",t.key===n.numericPackageCurrentAttachTool)}}function tu(t,e){if(1&t&&(i.Zb(0,"mat-form-field"),i.Zb(1,"mat-label",8),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Ub(4,"input",38),i.Yb()),2&t){const t=i.lc();i.Eb(2),i.Tc(i.nc(3,2,"lang.reference")),i.Eb(2),i.sc("value",t.reference)}}function eu(t,e){1&t&&(i.Zb(0,"div",52),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"i",53),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.attachItemToNumericPackage")," "))}function nu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",62),i.hc("click",(function(){return i.Hc(t),i.lc(3).numericPackage.mainExchangeDoc=null})),i.Ub(1,"mat-icon",63),i.Yb()}}function iu(t,e){if(1&t&&(i.Zb(0,"mat-list-item",56),i.Zb(1,"p",57),i.Zb(2,"span",58),i.Sc(3),i.Yb(),i.Zb(4,"span",59),i.Sc(5),i.Yb(),i.Zb(6,"span",60),i.Sc(7),i.Yb(),i.Qc(8,nu,2,0,"button",61),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(3),i.Tc(t.numericPackage.mainExchangeDoc.label),i.Eb(2),i.Tc(t.numericPackage.mainExchangeDoc.typeLabel),i.Eb(2),i.Uc(".",t.numericPackage.mainExchangeDoc.format,""),i.Eb(1),i.sc("ngIf",t.canManageMail())}}function su(t,e){if(1&t&&(i.Zb(0,"mat-list"),i.Zb(1,"h3",54),i.Sc(2),i.Yb(),i.Qc(3,iu,9,4,"mat-list-item",55),i.Yb()),2&t){const t=i.lc();i.Eb(2),i.Tc(t.canManageMail()?t.translate.instant("lang.mainDocNumericPackageToSend"):t.translate.instant("lang.mainDocNumericPackage")),i.Eb(1),i.sc("ngIf",null!==t.numericPackage.mainExchangeDoc)}}function au(t,e){1&t&&i.Ub(0,"mat-divider")}function ou(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",62),i.hc("click",(function(){i.Hc(t);const e=i.lc().index;return i.lc(2).removeAttach(e)})),i.Ub(1,"mat-icon",63),i.Yb()}}function ru(t,e){if(1&t&&(i.Zb(0,"mat-list-item",56),i.Zb(1,"p",57),i.Zb(2,"span",65),i.Sc(3),i.Yb(),i.Zb(4,"span",59),i.Sc(5),i.Yb(),i.Zb(6,"span",60),i.Sc(7),i.Yb(),i.Qc(8,ou,2,0,"button",61),i.Yb(),i.Yb()),2&t){const t=e.$implicit,n=i.lc(2);i.Eb(2),i.sc("title",t.label),i.Eb(1),i.Tc(t.label),i.Eb(2),i.Tc(t.typeLabel),i.Eb(2),i.Uc(".",t.format,""),i.Eb(1),i.sc("ngIf",n.canManageMail())}}function cu(t,e){if(1&t&&(i.Zb(0,"mat-list"),i.Zb(1,"h3",54),i.Sc(2),i.Yb(),i.Qc(3,ru,9,5,"mat-list-item",64),i.Yb()),2&t){const t=i.lc();i.Eb(2),i.Tc(t.canManageMail()?t.translate.instant("lang.attachmentsNumericPackageToSend"):t.translate.instant("lang.attachmentsNumericPackage")),i.Eb(1),i.sc("ngForOf",t.numericPackageAttach)}}function lu(t,e){if(1&t){const t=i.ac();i.Zb(0,"plugin-select-search",68),i.hc("afterSelected",(function(e){return i.Hc(t),i.lc(2).mergeEmailTemplate(e)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("label",t.translate.instant("lang.emailModel"))("placeholderLabel",t.translate.instant("lang.emailModel"))("datas",t.availableEmailModels)("formControlSelect",t.templateEmailListForm)}}function du(t,e){if(1&t){const t=i.ac();i.Zb(0,"plugin-select-search",68,69),i.hc("afterSelected",(function(e){return i.Hc(t),i.lc(2).mergeSignEmailTemplate(e)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("label",t.translate.instant("lang.emailSignatures"))("placeholderLabel",t.translate.instant("lang.emailSignatures"))("datas",t.availableSignEmailModels)("formControlSelect",t.emailSignListForm)}}function hu(t,e){if(1&t&&(i.Zb(0,"div",66),i.Qc(1,lu,1,4,"plugin-select-search",67),i.Qc(2,du,2,4,"plugin-select-search",67),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",t.availableEmailModels.length>0),i.Eb(1),i.sc("ngIf",t.availableSignEmailModels.length>0)}}function uu(t,e){if(1&t&&(i.Zb(0,"div",78),i.Zb(1,"div",79),i.Sc(2),i.mc(3,"timeAgo"),i.Yb(),i.Zb(4,"div"),i.Sc(5),i.Yb(),i.Yb()),2&t){const t=e.$implicit;i.Eb(2),i.Uc(" ",i.oc(3,2,t.date,"full")," "),i.Eb(3),i.Uc(" ",t.content," ")}}function pu(t,e){1&t&&(i.Zb(0,"div",80),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noActionProcessed")))}function fu(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",70),i.Zb(1,"div",71),i.Zb(2,"label",8),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"div",72),i.Qc(6,uu,6,5,"div",73),i.Qc(7,pu,3,3,"div",74),i.Yb(),i.Yb(),i.Zb(8,"div",75),i.Zb(9,"button",76),i.hc("click",(function(){return i.Hc(t),i.lc().saveNumericPackageFile()})),i.Ub(10,"i",77),i.Ub(11,"br"),i.Zb(12,"span"),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc();i.Eb(3),i.Tc(i.nc(4,4,"lang.actionsHistory")),i.Eb(3),i.sc("ngForOf",t.messageReview),i.Eb(1),i.sc("ngIf",0===t.messageReview.length),i.Eb(6),i.Tc(i.nc(14,6,"lang.downloadNumericPackage"))}}function mu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",81),i.hc("click",(function(){return i.Hc(t),i.lc().onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc();i.sc("disabled",0===t.recipients.length||null===t.numericPackage.mainExchangeDoc||t.loading),i.Eb(1),i.Tc(i.nc(2,2,"lang.send"))}}function gu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",82),i.hc("click",(function(){return i.Hc(t),i.lc().deleteEmail()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc();i.sc("disabled",t.headerService.user.id!==t.numericPackageCreatorId),i.Eb(1),i.Tc(i.nc(2,2,"lang.delete"))}}let bu=(()=>{class t{constructor(t,e,n,i,a,o,r,c,l,d,h,u){this.translate=t,this.http=e,this.notify=n,this.data=i,this.dialog=a,this.dialogRef=o,this.functions=r,this.contactService=c,this.privilegeService=l,this.headerService=d,this.stringPipe=h,this.reversePipe=u,this.loading=!0,this.availableEmailModels=[],this.availableSignEmailModels=[],this.resourceData=null,this.availableSenders=[],this.currentSender={},this.recipients=[],this.recipientsCtrl=new F.h,this.emailSignListForm=new F.h,this.templateEmailListForm=new F.h,this.numericPackageCreatorId=null,this.numericPackageStatus="WAITING",this.numericPackageCurrentAttachTool="",this.numericPackageAttachTool={document:{icon:"fa fa-file",title:this.translate.instant("lang.attachMainDocument"),list:[]},notes:{icon:"fas fa-pen-square",title:this.translate.instant("lang.attachNote"),list:[]},attachments:{icon:"fa fa-paperclip",title:this.translate.instant("lang.attachAttachment"),list:[]}},this.numericPackageAttach=[],this.numericPackage={mainExchangeDoc:null,object:"",contacts:[],joinFile:[],joinAttachment:[],notes:[],content:"",senderEmail:null},this.reference=null,this.messageReview=[],this.maarch2maarchUrl=`https://docs.maarch.org/gitbook/html/MaarchCourrier/${s.a.VERSION.split(".")[0]+"."+s.a.VERSION.split(".")[1]}/guat/guat_exploitation/maarch2maarch.html`}ngOnInit(){return Object(vn.a)(this,void 0,void 0,(function*(){yield this.getAttachElements(),this.data.emailId&&(yield this.getNumericPackageData(this.data.emailId)),this.canManageMail()&&(this.initEmailModelsList(),this.initM2MList(),this.initSignEmailModelsList(),yield this.getResourceData(),yield this.getM2MSenders(),this.setDefaultInfo()),this.loading=!1}))}isBadEmailFormat(t){return null===t.trim().match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/g)}closeModal(t=""){this.dialogRef.close(t)}addRecipient(t){this.recipients.push(t),this.recipientsInput.nativeElement.value="",this.recipientsCtrl.setValue("")}mergeEmailTemplate(t){this.templateEmailListForm.reset(),this.http.post(`../rest/templates/${t}/mergeEmail`,{data:{resId:this.data.resId}}).pipe(Object(ot.a)(t=>{const e=document.createElement("textarea");e.innerHTML=t.mergedDocument,this.numericPackage.content+=this.stringPipe.transform(e.value)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}mergeSignEmailTemplate(t){this.emailSignListForm.reset(),this.http.get("../rest/currentUser/emailSignatures/"+t).pipe(Object(ot.a)(t=>{const e=document.createElement("textarea");e.innerHTML=t.emailSignature.content,this.numericPackage.content+=this.stringPipe.transform(e.value)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}remove(t,e){if(this.canManageMail()){const n=this[e].indexOf(t);n>=0&&this[e].splice(n,1)}}getNumericPackageData(t){return new Promise(e=>{this.http.get("../rest/messageExchanges/"+t).pipe(Object(la.a)(t=>t.messageExchange),Object(ot.a)(t=>{this.numericPackageCreatorId=t.userId,t.recipient.communicationMeans=t.communicationType,this.recipients=[t.recipient],this.currentSender.label=t.sender,this.numericPackage.object=t.object,this.numericPackageStatus=t.status.toUpperCase(),this.numericPackage.content=t.body,this.reference=t.reference,this.messageReview=t.messageReview.map(t=>({date:this.functions.formatFrenchDateToObjectDate(t.substring(1,19),"/"),content:t.substring(21)})),this.messageReview=this.reversePipe.transform(this.messageReview),"res_letterbox"===t.disposition.tablename?(this.numericPackage.mainExchangeDoc=Object.assign(Object.assign({},this.numericPackageAttachTool.document.list[0]),{typeLabel:this.translate.instant("lang.mainDocument"),type:"document"}),this.numericPackageAttach=this.numericPackageAttach.concat(this.numericPackageAttachTool.attachments.list.filter(e=>t.attachments.indexOf(e.id.toString())>-1))):(this.numericPackage.mainExchangeDoc=Object.assign(Object.assign({},this.numericPackageAttachTool.attachments.list.filter(e=>e.id===t.disposition.res_id)[0]),{type:"attachments"}),this.numericPackageAttach=this.numericPackageAttach.concat(this.numericPackageAttachTool.attachments.list.filter(e=>t.attachments.indexOf(e.id.toString())>-1&&e.id!==t.disposition.res_id))),t.resMasterAttached&&"res_letterbox"!==t.disposition.tablename&&this.numericPackageAttach.push(Object.assign(Object.assign({},this.numericPackageAttachTool.document.list[0]),{typeLabel:this.translate.instant("lang.mainDocument"),type:"document"})),this.numericPackageAttach=this.numericPackageAttach.concat(this.numericPackageAttachTool.notes.list.filter(e=>t.notes.indexOf(e.id.toString())>-1)),e(!0)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),e(!1),Object(xn.of)(!1)))).subscribe()})}getResourceData(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}?light=true`).pipe(Object(ot.a)(e=>{this.resourceData=e,this.numericPackage.object=this.resourceData.subject,t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}setDefaultInfo(){this.functions.empty(this.resourceData.senders)||this.resourceData.senders.forEach(t=>{this.setSender(t.id)})}setSender(t){this.http.get("../rest/contacts/"+t).pipe(Object(ot.a)(t=>{this.functions.empty(t.communicationMeans)||this.functions.empty(t.externalId.m2m)||this.recipients.push({label:this.contactService.formatContact(t),email:t.email,m2m:t.externalId.m2m,communicationMeans:t.communicationMeans})}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}getM2MSenders(){return new Promise(t=>{this.http.get("../rest/messageExchangesInitialization").pipe(Object(ot.a)(e=>{this.availableSenders=e.entities,this.currentSender=this.availableSenders[0],t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}getAttachElements(){return new Promise(t=>{this.http.get(`../rest/resources/${this.data.resId}/emailsInitialization`).pipe(Object(ot.a)(e=>{Object.keys(e).forEach(t=>{"resource"===t?(this.numericPackageAttachTool.document.list=[],this.functions.empty(e[t])||(this.numericPackageAttachTool.document.list=[e[t]])):this.numericPackageAttachTool[t].list=e[t].map(t=>Object.assign(Object.assign({},t),{original:void 0===t.original||t.original,title:void 0!==t.chrono?`${t.chrono} - ${t.label} (${t.typeLabel})`:`${t.label} (${t.typeLabel})`}))}),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(xn.of)(!1)))).subscribe()})}initM2MList(){this.recipientsCtrl.valueChanges.pipe(Object(it.a)(t=>null!==t),Object(nt.a)(300),Object(ot.a)(t=>{0===t.length&&(this.filteredEmails=Object(xn.of)([]))}),Object(it.a)(t=>t.length>2),Object(st.a)(),Object(at.a)(t=>this.http.get("../rest/autocomplete/contacts/m2m",{params:{search:t}})),Object(ot.a)(t=>{t=t.map(t=>Object.assign(Object.assign({},t),{address:this.contactService.formatContact(t),label:this.contactService.formatContact(t)})),this.filteredEmails=Object(xn.of)(t)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}initEmailModelsList(){this.http.get(`../rest/resources/${this.data.resId}/emailTemplates`).pipe(Object(ot.a)(t=>{this.availableEmailModels=t.templates}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}initSignEmailModelsList(){this.http.get("../rest/currentUser/emailSignatures").pipe(Object(ot.a)(t=>{this.availableSignEmailModels=t.emailSignatures}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}resetAutocomplete(){this.filteredEmails=Object(xn.of)([])}onSubmit(){this.loading=!0,this.numericPackageStatus="WAITING",null===this.data.emailId?""===this.numericPackage.object?this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:this.translate.instant("lang.warnEmptySubject")}}).afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>{this.createEmail(!0)})).subscribe():this.createEmail(!0):this.updateEmail(!0)}createEmail(t=!0){this.http.post(`../rest/resources/${this.data.resId}/messageExchange`,this.formatNumericPackage()).pipe(Object(ot.a)(()=>{this.notify.success(this.translate.instant("lang.numericPackageSent")),this.closeModal("success")}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}deleteEmail(){this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.delete("../rest/messageExchanges/"+this.data.emailId)),Object(ot.a)(()=>{this.notify.success(this.translate.instant("lang.numericPackageDeleted")),this.closeModal("success")}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}updateEmail(t=!0){this.http.put("../rest/emails/"+this.data.emailId,this.formatNumericPackage()).pipe(Object(ot.a)(()=>{this.notify.success(this.translate.instant("lang.numericPackageSent")),t&&this.closeModal("success")}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}toggleAttach(t,e,n){null===this.numericPackage.mainExchangeDoc&&"notes"!==e?this.numericPackage.mainExchangeDoc=Object.assign(Object.assign({},t),{typeLabel:void 0!==t.typeLabel?t.typeLabel:this.translate.instant("lang.mainDocument"),type:e}):this.numericPackageAttach.push(Object.assign(Object.assign({},t),{typeLabel:void 0!==t.typeLabel?t.typeLabel:this.translate.instant("lang.mainDocument"),type:e}))}removeAttach(t){this.numericPackageAttach.splice(t,1)}formatNumericPackage(){const t={};if(null!==this.numericPackage.mainExchangeDoc){let e="res_letterbox";"attachments"===this.numericPackage.mainExchangeDoc.type?e="res_attachments":"notes"===this.numericPackage.mainExchangeDoc.type&&(e="notes"),t.joinFile=[parseInt(this.numericPackage.mainExchangeDoc.id)],t.mainExchangeDoc=`${e}__${this.numericPackage.mainExchangeDoc.id}`}return t.object=this.numericPackage.object,t.content=this.numericPackage.content,t.contacts=this.recipients.map(t=>t.id),t.joinAttachment=this.numericPackageAttach.filter(t=>"attachments"===t.type).map(t=>t.id),t.notes=this.numericPackageAttach.filter(t=>"notes"===t.type).map(t=>t.id),t.senderEmail=this.currentSender.id,t}isSelectedAttach(t,e){return this.numericPackageAttach.filter(n=>n.id===t.id&&n.type===e).length>0||null!==this.numericPackage.mainExchangeDoc&&this.numericPackage.mainExchangeDoc.id===t.id&&e===this.numericPackage.mainExchangeDoc.type}isSelectedAttachType(t){return this.numericPackageAttach.filter(e=>e.type===t).length>0||null!==this.numericPackage.mainExchangeDoc&&t===this.numericPackage.mainExchangeDoc.type}canManageMail(){return null===this.data.emailId||"SENT"!==this.numericPackageStatus&&this.headerService.user.id===this.numericPackageCreatorId?(this.recipientsCtrl.enable(),!0):(this.recipientsCtrl.disable(),!1)}compareSenders(t,e){return!(t.label!==e.label&&(null!==t.label&&null!==e.label||null!==t.entityId&&null!==e.entityId)||t.entityId!==e.entityId||t.email!==e.email)}saveNumericPackageFile(){this.http.get(`../rest/messageExchanges/${this.data.emailId}/archiveContent`,{responseType:"blob"}).pipe(Object(ot.a)(t=>{const e=document.createElement("a");let n,i,s,a;e.href=window.URL.createObjectURL(t),n=new Date,i=n.getDate(),s=n.getMonth()+1,a=n.getFullYear(),i<10&&(i="0"+i),s<10&&(s="0"+s),n=i+"-"+s+"-"+a,e.setAttribute("download",this.translate.instant("lang.summarySheetsAlt")+"_"+n+".pdf"),document.body.appendChild(e),e.click()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.a),i.Tb(j.b),i.Tb(j.h),i.Tb(lt.a),i.Tb(Ql.a),i.Tb(Li.a),i.Tb(u.a),i.Tb(_a.r),i.Tb(_a.l))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-sent-numeric-package-page"]],viewQuery:function(t,e){var n;1&t&&i.Oc(Nh,!0),2&t&&i.Cc(n=i.ic())&&(e.recipientsInput=n.first)},features:[i.Db([Ql.a,_a.r,_a.l])],decls:58,vars:47,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"modal-container"],["class","loading",4,"ngIf"],["class","alert-message alert-message-info",3,"innerHTML",4,"ngIf"],[1,"attachLabel"],["matInput","","readonly","",3,"value",4,"ngIf"],["required","",3,"compareWith","ngModel","ngModelChange",4,"ngIf"],["id","recipients-list"],["recipientsList",""],["class","recipients",3,"removable","removed","click",4,"ngFor","ngForOf"],["required","",3,"formControl","matChipInputFor","matAutocomplete","focus"],["recipientsInput",""],[3,"optionSelected"],["autoEmails","matAutocomplete"],["class","m2mRecipientList",3,"value",4,"ngFor","ngForOf"],["matInput","","maxlength","70","required","",3,"readonly","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click",4,"ngFor","ngForOf"],["emailAttachListMenu","matMenu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","attachMsg",4,"ngIf"],[2,"overflow","auto","max-height","300px"],["class","models",4,"ngIf"],["class","row","style","margin: 0;padding-top: 10px;",4,"ngIf"],[2,"padding-top","10px"],["appearance","outline"],["matInput","","matTextareaAutosize","",2,"padding","0",3,"placeholder","ngModel","readonly","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],[1,"loading"],[2,"margin","auto"],[1,"alert-message","alert-message-info",3,"innerHTML"],["matInput","","readonly","",3,"value"],["required","",3,"compareWith","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"recipients",3,"removable","removed","click"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"m2mRecipientList",3,"value"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click"],["color","primary"],["mat-menu-item","","style","line-height: normal;","disableRipple","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","","disableRipple","",2,"line-height","normal",3,"disabled","click"],[3,"title","click"],[2,"font-size","10px","opacity","0.5"],[1,"attachMsg"],[1,"fas","fa-arrow-up"],["mat-subheader","",1,"attachLabel"],["class","numericPackageAttach",4,"ngIf"],[1,"numericPackageAttach"],["mat-line","",1,"numericPackageAttachItem"],[2,"overflow","hidden","text-overflow","ellipsis"],[1,"badge"],[1,"subInfo"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"fa","fa-trash"],["class","numericPackageAttach",4,"ngFor","ngForOf"],[2,"overflow","hidden","text-overflow","ellipsis",3,"title"],[1,"models"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected",4,"ngIf"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],[1,"row",2,"margin","0","padding-top","10px"],[1,"col-md-9"],[1,"messageExchangeHistory"],["class","messageExchangeHistoryItem",4,"ngFor","ngForOf"],["class","noAction",4,"ngIf"],[1,"col-md-3","text-center"],["mat-button","","color","primary",2,"width","180px","white-space","initial","line-height","20px","padding","10px",3,"click"],[1,"fas","fa-file-download",2,"font-size","40px"],[1,"messageExchangeHistoryItem"],[1,"messageExchangeHistoryDate"],[1,"noAction"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.Yb(),i.Zb(4,"button",3),i.hc("click",(function(){return e.closeModal()})),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"mat-dialog-content",5),i.Qc(7,Uh,2,0,"div",6),i.Qc(8,zh,2,6,"div",7),i.Zb(9,"mat-form-field"),i.Zb(10,"mat-label",8),i.Sc(11),i.mc(12,"translate"),i.Yb(),i.Qc(13,Vh,1,1,"input",9),i.Qc(14,Qh,3,6,"mat-select",10),i.Yb(),i.Zb(15,"mat-form-field"),i.Zb(16,"mat-label",8),i.Sc(17),i.mc(18,"translate"),i.Yb(),i.Zb(19,"mat-chip-list",11,12),i.Qc(21,Wh,10,8,"mat-chip",13),i.Zb(22,"input",14,15),i.hc("focus",(function(){return e.resetAutocomplete()})),i.Yb(),i.Yb(),i.Zb(24,"mat-autocomplete",16,17),i.hc("optionSelected",(function(t){return e.addRecipient(t.option.value)})),i.Qc(26,Gh,8,7,"mat-option",18),i.mc(27,"async"),i.Yb(),i.Yb(),i.Zb(28,"mat-form-field"),i.Zb(29,"mat-label",8),i.Sc(30),i.mc(31,"translate"),i.Yb(),i.Zb(32,"input",19),i.hc("ngModelChange",(function(t){return e.numericPackage.object=t})),i.Yb(),i.Qc(33,qh,2,8,"button",20),i.mc(34,"keyvalue"),i.Zb(35,"mat-menu",null,21),i.Qc(37,Kh,2,1,"ng-container",22),i.mc(38,"keyvalue"),i.Yb(),i.Yb(),i.Qc(39,tu,5,4,"mat-form-field",23),i.Qc(40,eu,4,3,"div",24),i.Zb(41,"div",25),i.Qc(42,su,4,2,"mat-list",23),i.Qc(43,au,1,0,"mat-divider",23),i.Qc(44,cu,4,2,"mat-list",23),i.Yb(),i.Qc(45,hu,3,2,"div",26),i.Ub(46,"mat-divider"),i.Qc(47,fu,15,8,"div",27),i.Zb(48,"div",28),i.Zb(49,"mat-form-field",29),i.Zb(50,"mat-label",8),i.Sc(51),i.mc(52,"translate"),i.Yb(),i.Zb(53,"textarea",30),i.hc("ngModelChange",(function(t){return e.numericPackage.content=t})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(54,"span",31),i.Zb(55,"div",32),i.Qc(56,mu,3,4,"button",33),i.Qc(57,gu,3,4,"button",34),i.Yb(),i.Yb()),2&t){const t=i.Dc(20),n=i.Dc(25);i.Eb(3),i.Uc(" ",e.functions.empty(e.reference)?e.translate.instant("lang.sendNumericPackage"):e.reference," "),i.Eb(1),i.sc("title",e.translate.instant("lang.close")),i.Eb(3),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(3),i.Tc(i.nc(12,33,"lang.sender")),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(3),i.Uc("",i.nc(18,35,"lang.recipient")," *"),i.Eb(4),i.sc("ngForOf",e.recipients),i.Eb(1),i.sc("formControl",e.recipientsCtrl)("matChipInputFor",t)("matAutocomplete",n),i.Eb(4),i.sc("ngForOf",i.nc(27,37,e.filteredEmails)),i.Eb(4),i.Tc(i.nc(31,39,"lang.mailSubject")),i.Eb(2),i.sc("readonly",!e.canManageMail())("ngModel",e.numericPackage.object),i.Eb(1),i.sc("ngForOf",i.nc(34,41,e.numericPackageAttachTool)),i.Eb(2),i.Gb("attachListMenu"),i.Eb(2),i.sc("ngForOf",i.nc(38,43,e.numericPackageAttachTool)),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(1),i.sc("ngIf",null===e.numericPackage.mainExchangeDoc&&0===e.numericPackageAttach.length&&e.canManageMail()),i.Eb(2),i.sc("ngIf",null!==e.numericPackage.mainExchangeDoc),i.Eb(1),i.sc("ngIf",e.numericPackageAttach.length>0),i.Eb(1),i.sc("ngIf",e.numericPackageAttach.length>0),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(4),i.Tc(i.nc(52,45,"lang.note")),i.Eb(2),i.sc("placeholder",e.translate.instant("lang.addNoteToNumericPackage"))("ngModel",e.numericPackage.content)("readonly",!e.canManageMail()),i.Eb(3),i.sc("ngIf",e.canManageMail()&&e.privilegeService.hasCurrentUserPrivilege("sendmail")&&"ERROR"!==e.numericPackageStatus),i.Eb(1),i.sc("ngIf",e.data.emailId&&!e.loading&&"ERROR"===e.numericPackageStatus)}},directives:[j.i,g.b,b.a,j.f,v.t,Z.c,Z.g,Bd.d,v.s,F.c,Bd.c,ba.d,F.E,F.t,F.i,ba.a,N.b,F.o,F.w,Ya.e,k.a,N.d,j.c,y.c,pt.a,O.o,Bd.a,Bd.e,Z.j,Ya.d,Ya.b,x.a,x.g,x.d,O.k,zd.a],pipes:[l.d,v.b,v.l,Na.a,_a.p,Zn.a],styles:[".loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;z-index:2;width:100%;top:0;left:0;background:#fff}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px}.activeButton[_ngcontent-%COMP%]{color:#f99830;font-weight:700}.attachLabel[_ngcontent-%COMP%]{color:#135f7f} .attachListMenu{width:auto;max-width:none;min-height:auto}.numericPackageAttachItem[_ngcontent-%COMP%]{font-size:14px;display:grid!important;grid-template-columns:1fr 150px 50px 50px;grid-gap:10px;align-items:center}.numericPackageAttachItem[_ngcontent-%COMP%]   .subInfo[_ngcontent-%COMP%]{color:#135f7f;font-size:80%}.m2mRecipientList[_ngcontent-%COMP%]{line-height:normal;font-size:14px}.recipients[_ngcontent-%COMP%]{font-size:14px!important;padding:10px!important;width:100%;min-height:auto;height:auto;border-radius:5px;cursor:pointer}.attachMsg[_ngcontent-%COMP%]{font-size:20px;padding:30px;opacity:.5;font-weight:700;position:relative;text-align:center}.attachMsg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:0;right:40px;transform:rotate(29deg)}.badge[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:10px!important;color:#fff;font-weight:400;border-radius:.25em;background:#135f7f}.alert-message[_ngcontent-%COMP%]{min-width:100%}.messageExchangeHistory[_ngcontent-%COMP%]{max-height:300px;overflow:auto}.messageExchangeHistoryItem[_ngcontent-%COMP%]{display:grid;grid-template-columns:130px 1fr;grid-gap:10px;align-items:center;padding:10px}.messageExchangeHistoryItem[_ngcontent-%COMP%]:nth-child(odd){background:rgba(19,95,127,.1)}.messageExchangeHistoryDate[_ngcontent-%COMP%]{color:#135f7f}.noAction[_ngcontent-%COMP%]{padding:10px;opacity:.5;font-style:italic}"]}),t})();function _u(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner"),i.Yb(),i.Wb())}function vu(t,e){if(1&t&&(i.Zb(0,"mat-button-toggle",13),i.Sc(1),i.Yb()),2&t){const t=e.$implicit,n=i.lc(3);i.sc("checked",n.currentFilter===t.id)("value",t.id),i.Eb(1),i.Uc("",t.label," ")}}function yu(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-button-toggle-group",12),i.hc("change",(function(e){return i.Hc(t),i.lc(2).filterType(e)})),i.Zb(1,"mat-button-toggle",13),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Qc(4,vu,2,3,"mat-button-toggle",14),i.mc(5,"sortBy"),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(1),i.sc("checked",""===t.currentFilter)("value",""),i.Eb(1),i.Tc(i.nc(3,4,"lang.all")),i.Eb(2),i.sc("ngForOf",i.oc(5,6,t.filterTypes,"label"))}}function xu(t,e){if(1&t&&(i.Zb(0,"span",34),i.mc(1,"fullDate"),i.Sc(2),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.sc("title",i.nc(1,3,t.creationDate)),i.Eb(2),i.Uc(" ",e.translate.instant("m2m_ARCHIVETRANSFER"==t.type?"lang.sent":"lang.createdAlt")," : "),i.Eb(2),i.Tc(i.oc(5,5,t.creationDate,"full"))}}function wu(t,e){if(1&t&&(i.Zb(0,"span",35),i.mc(1,"fullDate"),i.Sc(2),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.sc("title",i.nc(1,3,t.sendDate)),i.Eb(2),i.Uc(" ","m2m_ARCHIVETRANSFER"==t.type?"Re\xe7u":e.translate.instant("lang.sent")," : "),i.Eb(2),i.Tc(i.oc(5,5,t.sendDate,"full"))}}function Cu(t,e){1&t&&(i.Zb(0,"span",36),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.draft")," "))}function Ou(t,e){1&t&&(i.Zb(0,"span",36),i.Sc(1," En attente de r\xe9ception "),i.Yb())}function ku(t,e){1&t&&(i.Zb(0,"span",37),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.emailSendInProgress")," "))}function Su(t,e){1&t&&(i.Zb(0,"span",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.notSent")," "))}function Eu(t,e){1&t&&(i.Zb(0,"span",36),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.manualSendingAR")," "))}function Mu(t,e){if(1&t&&(i.Zb(0,"span",35),i.mc(1,"fullDate"),i.Sc(2),i.mc(3,"translate"),i.Zb(4,"b"),i.Sc(5),i.mc(6,"timeAgo"),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.sc("title",i.nc(1,3,t.operationDate)),i.Eb(2),i.Uc(" ",i.nc(3,5,"lang.delivery")," : "),i.Eb(3),i.Tc(i.oc(6,7,t.operationDate,"full"))}}function Iu(t,e){1&t&&i.Ub(0,"i",39)}function Pu(t,e){1&t&&i.Ub(0,"i",40)}function Tu(t,e){1&t&&i.Ub(0,"i",41)}function Au(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){const t=i.lc().$implicit;i.sc("title",t.sender),i.Eb(1),i.Vc(" ",i.nc(2,3,"lang.senderShort")," : ",t.sender," ")}}function Du(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-cell",15),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).open(n)})),i.Zb(1,"div",16),i.Qc(2,xu,6,8,"span",17),i.Qc(3,wu,6,8,"span",18),i.Qc(4,Cu,3,3,"span",19),i.Qc(5,Ou,2,0,"span",19),i.Qc(6,ku,3,3,"span",20),i.Qc(7,Su,3,3,"span",21),i.Qc(8,Eu,3,3,"span",19),i.Qc(9,Mu,7,10,"span",18),i.Yb(),i.Zb(10,"div",22),i.Zb(11,"div",23),i.Zb(12,"span",24),i.Zb(13,"span",25),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Zb(16,"div",26),i.Qc(17,Iu,1,0,"i",27),i.Qc(18,Pu,1,0,"i",28),i.Qc(19,Tu,1,0,"i",29),i.Yb(),i.Yb(),i.Yb(),i.Ub(20,"div",30),i.Zb(21,"div",31),i.Qc(22,Au,3,5,"span",32),i.Zb(23,"span",33),i.Sc(24),i.mc(25,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Jb("canManage",t.canManage),i.Eb(2),i.sc("ngIf",null===t.sendDate&&"SENT"===t.status&&"m2m_ARCHIVETRANSFER"==t.type||"m2m_ARCHIVETRANSFER"!=t.type),i.Eb(1),i.sc("ngIf",null!==t.sendDate),i.Eb(1),i.sc("ngIf","DRAFT"===t.status),i.Eb(1),i.sc("ngIf",null===t.sendDate&&"SENT"===t.status),i.Eb(1),i.sc("ngIf","WAITING"===t.status),i.Eb(1),i.sc("ngIf","ERROR"===t.status),i.Eb(1),i.sc("ngIf","ERROR"!==t.status&&"acknowledgementReceipt"==t.type&&n.functions.empty(t.sendDate)),i.Eb(1),i.sc("ngIf",!n.functions.empty(t.operationDate)),i.Eb(4),i.Pc("background",t.typeColor,i.Mb),i.sc("title",n.translate.instant("lang."+t.type)),i.Eb(1),i.Tc(i.nc(15,22,"lang."+t.type)),i.Eb(3),i.sc("ngIf",t.hasMainDoc),i.Eb(1),i.sc("ngIf",t.hasAttach),i.Eb(1),i.sc("ngIf",t.hasNote),i.Eb(1),i.sc("innerHTML",t.desc,i.Ic),i.Eb(2),i.sc("ngIf",t.sender),i.Eb(1),i.sc("title",t.recipients),i.Eb(1),i.Vc(" ",i.nc(25,24,"lang.recipientShort")," : ",t.recipients," ")}}function Ru(t,e){1&t&&i.Ub(0,"mat-row")}function Lu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",42),i.hc("click",(function(){return i.Hc(t),i.lc(2).openPromptMail()})),i.Ub(1,"mat-icon",43),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.translate.instant("lang.sendElement"))}}function Fu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",42),i.hc("click",(function(){return i.Hc(t),i.lc(2).openPromptNumericPackage()})),i.Zb(1,"mat-icon",44),i.Ub(2,"i",45),i.Ub(3,"i",46),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.translate.instant("lang.sendNumericPackage"))}}function ju(t,e){if(1&t&&(i.Zb(0,"div",3),i.Zb(1,"div",4),i.Qc(2,yu,6,9,"mat-button-toggle-group",5),i.Yb(),i.Yb(),i.Zb(3,"mat-table",6,7),i.Xb(5,8),i.Qc(6,Du,26,26,"mat-cell",9),i.Wb(),i.Qc(7,Ru,1,0,"mat-row",10),i.Yb(),i.Qc(8,Lu,2,1,"button",11),i.Qc(9,Fu,4,1,"button",11)),2&t){const t=i.lc();i.Eb(2),i.sc("ngIf",t.sentResources.length>0),i.Eb(1),i.sc("dataSource",t.dataSource),i.Eb(4),i.sc("matRowDefColumns",t.displayedColumns),i.Eb(1),i.sc("ngIf",t.privilegeService.hasCurrentUserPrivilege("sendmail")),i.Eb(1),i.sc("ngIf",t.privilegeService.hasCurrentUserPrivilege("sendmail"))}}let Yu=(()=>{class t{constructor(t,e,n,s,a,o){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.functions=a,this.privilegeService=o,this.loading=!0,this.displayedColumns=["creationDate"],this.sentResources=[],this.resultsLength=0,this.currentFilter="",this.filterTypes=[],this.resId=null,this.reloadBadgeSentResource=new i.o}ngOnInit(){return Object(vn.a)(this,void 0,void 0,(function*(){this.loadList()}))}loadList(){return Object(vn.a)(this,void 0,void 0,(function*(){this.sentResources=[],this.loading=!0,yield this.initAcknowledgementReceiptList(),yield this.initEmailList(),yield this.initMessageExchange(),yield this.initShippings(),this.reloadBadgeSentResource.emit(""+this.sentResources.length),this.initFilter(),setTimeout(()=>{this.dataSource=new ct.o(this.sentResources),this.dataSource.sort=this.sort},0),this.loading=!1}))}initAcknowledgementReceiptList(){return new Promise(t=>{this.http.get(`../rest/resources/${this.resId}/acknowledgementReceipts?type=ar`).pipe(Object(la.a)(t=>t.map(t=>{let e,n;return e=this.functions.empty(t.contact.email)?this.translate.instant("lang.withoutEmail"):t.contact.email,n=this.functions.empty(t.contact.firstname)&&this.functions.empty(t.contact.lastname)?this.functions.empty(t.contact.company)?this.translate.instant("lang.contactDeleted"):t.contact.company:t.contact.firstname+" "+t.contact.lastname,{id:t.id,sender:!1,recipients:"html"===t.format?e:n,creationDate:t.creationDate,sendDate:t.sendDate,type:"acknowledgementReceipt",typeColor:"#7d5ba6",desc:this.translate.instant("html"===t.format?"lang.ARelectronic":"lang.ARPaper"),status:"html"===t.format&&null===t.sendDate?"ERROR":"SENT",hasAttach:!1,hasNote:!1,hasMainDoc:!1,canManage:!0}})),Object(ot.a)(e=>{this.sentResources=this.sentResources.concat(e),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(ld.a)(!1)))).subscribe()})}initEmailList(){return new Promise(t=>{this.http.get(`../rest/resources/${this.resId}/emails?type=email`).pipe(Object(la.a)(t=>(t.emails=t.emails.map(t=>({id:t.id,sender:t.sender.email,recipients:t.recipients,creationDate:t.creation_date,sendDate:t.send_date,type:"email",typeColor:"#5bc0de",desc:this.functions.empty(t.object)?`<i>${this.translate.instant("lang.emptySubject")}<i>`:t.object,status:t.status,hasAttach:!this.functions.empty(t.document.attachments),hasNote:!this.functions.empty(t.document.notes),hasMainDoc:t.document.isLinked,canManage:!0})),t.emails)),Object(ot.a)(e=>{this.sentResources=this.sentResources.concat(e),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(ld.a)(!1)))).subscribe()})}initMessageExchange(){return new Promise(t=>{this.http.get(`../rest/resources/${this.resId}/messageExchanges`).pipe(Object(la.a)(t=>(t.messageExchanges=t.messageExchanges.map(t=>({id:t.messageId,sender:t.sender,recipients:t.recipient,creationDate:t.creationDate,sendDate:t.receptionDate,operationDate:t.operationDate,type:"m2m_ARCHIVETRANSFER",typeColor:"#F99830",desc:this.translate.instant("lang.m2m_ARCHIVETRANSFER"),status:t.status.toUpperCase(),hasAttach:!1,hasNote:!1,hasMainDoc:!1,canManage:!0})),t.messageExchanges)),Object(ot.a)(e=>{this.sentResources=this.sentResources.concat(e),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(ld.a)(!1)))).subscribe()})}initShippings(){return new Promise(t=>{this.http.get(`../rest/resources/${this.resId}/shippings`).pipe(Object(la.a)(t=>t.map(t=>({id:t.id,sender:t.userLabel,recipients:t.recipients.map(t=>t.contactLabel),creationDate:t.creationDate,sendDate:t.creationDate,type:"shipping",typeColor:"#9440D5",desc:this.translate.instant("lang.shipping"),status:"SENT",hasAttach:"attachment"===t.creationDate,hasNote:!1,hasMainDoc:"resource"===t.creationDate,canManage:!1}))),Object(ot.a)(e=>{this.sentResources=this.sentResources.concat(e),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(ld.a)(!1)))).subscribe()})}initFilter(){this.sentResources.forEach(t=>{0===this.filterTypes.filter(e=>e.id===t.type).length&&this.filterTypes.push({id:t.type,label:this.translate.instant("lang."+t.type)})})}filterType(t){this.currentFilter=t.value,this.dataSource.filter=t.value}open(t={id:null,type:null}){"m2m_ARCHIVETRANSFER"===t.type?this.openPromptNumericPackage(t):this.openPromptMail(t)}openPromptMail(t={id:null,type:null}){let e=this.translate.instant("lang.sendElement");null!==t.id&&(e=this.translate.instant("lang."+t.type)),(t.canManage||null===t.id)&&this.dialog.open(Zh,{panelClass:"maarch-modal",width:"60vw",disableClose:!0,data:{title:e,resId:this.resId,emailId:t.id,emailType:t.type}}).afterClosed().pipe(Object(it.a)(t=>"success"===t.state||"success"===t),Object(ot.a)(()=>{this.refreshEmailList(),setTimeout(()=>{this.refreshWaitingElements()},5e3)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(ld.a)(!1)))).subscribe()}openPromptNumericPackage(t={id:null,type:null}){let e=this.translate.instant("lang.sendElement");null!==t.id&&(e=this.translate.instant("lang."+t.type)),(t.canManage||null===t.id)&&this.dialog.open(bu,{panelClass:"maarch-modal",width:"60vw",disableClose:!0,data:{title:e,resId:this.resId,emailId:t.id}}).afterClosed().pipe(Object(it.a)(t=>"success"===t.state||"success"===t),Object(ot.a)(()=>{this.loadList()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(ld.a)(!1)))).subscribe()}refreshWaitingElements(){this.sentResources.forEach(t=>{"WAITING"==t.status&&"email"==t.type&&this.http.get("../rest/emails/"+t.id).pipe(Object(ot.a)(e=>{"SENT"!=e.status&&"ERROR"!=e.status||("SENT"==e.status?this.notify.success(this.translate.instant("lang.emailSent")):this.notify.error(this.translate.instant("lang.emailCannotSent")),this.sentResources.forEach((n,i)=>{n.id==t.id&&"email"==n.type&&(this.sentResources[i].status=e.status,this.sentResources[i].sendDate=e.sendDate)}))})).subscribe()}),setTimeout(()=>{this.dataSource=new ct.o(this.sentResources),this.dataSource.sort=this.sort},0)}refreshEmailList(){return new Promise(t=>{this.http.get(`../rest/resources/${this.resId}/emails?type=email`).pipe(Object(la.a)(t=>(t.emails=t.emails.map(t=>({id:t.id,sender:t.sender.email,recipients:t.recipients,creationDate:t.creation_date,sendDate:t.send_date,type:"email",typeColor:"#5bc0de",desc:this.functions.empty(t.object)?`<i>${this.translate.instant("lang.emptySubject")}<i>`:t.object,status:t.status,hasAttach:!this.functions.empty(t.document.attachments),hasNote:!this.functions.empty(t.document.notes),hasMainDoc:t.document.isLinked,canManage:!0})),t.emails)),Object(ot.a)(e=>{const n=this.sentResources.filter(t=>"email"!==t.type);this.sentResources=n.concat(e),setTimeout(()=>{this.dataSource=new ct.o(this.sentResources),this.dataSource.sort=this.sort},0),this.initFilter(),t(!0)}),Object(yn.a)(e=>(this.notify.handleSoftErrors(e),t(!1),Object(ld.a)(!1)))).subscribe()})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.b),i.Tb(lt.a),i.Tb(Li.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-sent-resource-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(bt.a,!0),2&t&&i.Cc(n=i.ic())&&(e.sort=n.first)},inputs:{resId:"resId"},outputs:{reloadBadgeSentResource:"reloadBadgeSentResource"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseLoading",""],[1,"loading"],[1,"row",2,"margin","0px"],[1,"col-md-12",2,"padding-bottom","10px"],["class","filterTypes",3,"change",4,"ngIf"],["matSort","","matSortActive","creationDate","matSortDirection","desc",3,"dataSource"],["table",""],["matColumnDef","creationDate"],["class","dataLine","style","flex: 1;padding: 0px;flex-direction: column;",3,"canManage","click",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],["mat-fab","","class","addSentResource","color","primary",3,"title","click",4,"ngIf"],[1,"filterTypes",3,"change"],[3,"checked","value"],[3,"checked","value",4,"ngFor","ngForOf"],[1,"dataLine",2,"flex","1","padding","0px","flex-direction","column",3,"click"],[1,"subinfo"],["style","flex:1",3,"title",4,"ngIf"],["style","flex:1;color:green",3,"title",4,"ngIf"],["style","flex:1;color:orange",4,"ngIf"],["style","flex:1;color:orange;font-weight: bold;",4,"ngIf"],["style","flex:1;color:red;font-weight: bold;",4,"ngIf"],[2,"display","grid","grid-template-columns","100px 1fr 170px","width","100%","grid-gap","10px","align-items","center","padding","10px"],[1,"dateType"],[1,"type"],[1,"badge",3,"title"],[1,"attach"],["class","fas fa-file","title","Document attach\xe9",4,"ngIf"],["class","fas fa-paperclip","title","Pi\xe8ce(s) jointe(s) attach\xe9e(s)",4,"ngIf"],["class","fas fa-pen-square","title","Note(s) attach\xe9e(s)",4,"ngIf"],[1,"desc",3,"innerHTML"],[1,"contact"],["style","white-space: pre;overflow: hidden;text-overflow: ellipsis;",3,"title",4,"ngIf"],[2,"white-space","pre","overflow","hidden","text-overflow","ellipsis",3,"title"],[2,"flex","1",3,"title"],[2,"flex","1","color","green",3,"title"],[2,"flex","1","color","orange"],[2,"flex","1","color","orange","font-weight","bold"],[2,"flex","1","color","red","font-weight","bold"],["title","Document attach\xe9",1,"fas","fa-file"],["title","Pi\xe8ce(s) jointe(s) attach\xe9e(s)",1,"fas","fa-paperclip"],["title","Note(s) attach\xe9e(s)",1,"fas","fa-pen-square"],["mat-fab","","color","primary",1,"addSentResource",3,"title","click"],[1,"fa","fa-plus",2,"height","auto","width","auto"],[2,"height","auto","width","auto","font-size","20px"],[1,"fas","fa-envelope-open-text",2,"left","-5px","position","relative"],[1,"fas","fa-wifi",2,"position","absolute","font-size","10px","transform","rotate(35deg)","margin-left","-3px","margin-top","-3px"]],template:function(t,e){if(1&t&&(i.Qc(0,_u,3,0,"ng-container",0),i.Qc(1,ju,10,5,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[v.t,y.c,ct.n,bt.a,ct.c,ct.b,ct.m,va.b,va.a,v.s,ct.a,ct.l,g.b,b.a],pipes:[l.d,Na.a,tc.a,Zn.a],styles:[".dateType[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center}.dateType[_ngcontent-%COMP%], .dateType[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;font-size:10px!important}.dateType[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;color:#fff;font-weight:400;border-radius:.25em}.dateType[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{opacity:.5}.desc[_ngcontent-%COMP%]{font-size:13px;flex:1;display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:red}.success[_ngcontent-%COMP%]{color:green}.contact[_ngcontent-%COMP%]{font-size:10px;flex-direction:column;display:flex}.filterTypes[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden;width:auto;max-width:100%;margin-left:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked{background:#f99830;color:#fff;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-label-content{line-height:0}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-button{height:100%}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button{color:#135f7f;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button .mat-button-toggle-label-content{line-height:0}.subinfo[_ngcontent-%COMP%]{padding:5px;display:flex;font-size:10px;width:100%}.canManage[_ngcontent-%COMP%]{cursor:pointer;transition:all .5s}.canManage[_ngcontent-%COMP%]:hover{background:rgba(19,95,127,.1);transition:all .5s}.attach[_ngcontent-%COMP%]{font-size:13px;display:flex;padding:5px;color:#135f7f}.attach[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex:1;cursor:help}.addSentResource[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:2;bottom:10px;margin-left:10px}.loading[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:center}"]}),t})(),Zu=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.http=e,this.data=n,this.dialogRef=i,this.notify=s}ngOnInit(){}onSubmit(){this.http.post("../rest/indexingModels",this.data.indexingModel).pipe(Object(ot.a)(t=>{this.data.indexingModel.id=t.id,this.notify.success(this.translate.instant("lang.indexingModelAdded")),this.dialogRef.close(this.data)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(ld.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(j.a),i.Tb(j.h),i.Tb(p.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:21,vars:18,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[3,"ngSubmit"],["submitForm","ngForm"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["appearance","outline"],["matInput","","name","label","required","","maxlength","256",3,"placeholder","ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","default","type","button",3,"click"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-dialog-content"),i.Zb(5,"form",2,3),i.hc("ngSubmit",(function(){return e.onSubmit()})),i.Ub(7,"div",4),i.Zb(8,"mat-form-field",5),i.Zb(9,"mat-label"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Zb(12,"input",6),i.hc("ngModelChange",(function(t){return e.data.indexingModel.label=t})),i.mc(13,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(14,"mat-dialog-actions"),i.Zb(15,"button",7),i.hc("click",(function(){return i.Hc(t),i.Dc(6).ngSubmit.emit()})),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Zb(18,"button",8),i.hc("click",(function(){return e.dialogRef.close()})),i.Sc(19),i.mc(20,"translate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(6);i.Eb(2),i.Tc(i.nc(3,8,"lang.privateIndexingModelCreation")),i.Eb(5),i.sc("innerHTML",e.translate.instant("lang.addPrivateIndexingModelMsg")+" <b>"+e.data.masterIndexingModel.label+"</b> "+e.translate.instant("lang.addPrivateIndexingModelMsg2"),i.Ic),i.Eb(3),i.Tc(i.nc(11,10,"lang.label")),i.Eb(2),i.tc("placeholder",i.nc(13,12,"lang.label")),i.sc("ngModel",e.data.indexingModel.label),i.Eb(3),i.sc("disabled",!t.form.valid),i.Eb(1),i.Tc(i.nc(17,14,"lang.validate")),i.Eb(3),i.Tc(i.nc(20,16,"lang.cancel"))}},directives:[j.i,j.f,F.J,F.u,F.v,Z.c,Z.g,N.b,F.c,F.E,F.o,F.t,F.w,j.c,g.b],pipes:[l.d],styles:["mat-icon[_ngcontent-%COMP%]{height:auto!important}"]}),t})();function Nu(t,e){if(1&t&&(i.Zb(0,"div",3),i.Sc(1),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Vc(" Mod\xe8le utilis\xe9 : ",t.currentIndexingModel.label," ",t.currentIndexingModel.default?"("+t.translate.instant("lang.default")+")":""," ")}}function Uu(t,e){if(1&t&&(i.Zb(0,"div",19),i.Sc(1),i.mc(2,"shorten"),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc(2);i.Eb(1),i.Vc(" ",i.pc(2,2,t.label,45,"...")," ",t.default?"("+e.translate.instant("lang.default")+")":""," ")}}function Bu(t,e){if(1&t&&(i.Zb(0,"div",19),i.Sc(1),i.mc(2,"shorten"),i.Zb(3,"span",20),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",i.pc(2,2,t.label,45,"..."),"\xa0"),i.Eb(3),i.Tc(i.nc(5,6,"lang.private"))}}function zu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",21),i.hc("click",(function(e){i.Hc(t);const n=i.lc(),s=n.$implicit,a=n.index,o=i.lc(2);return e.stopPropagation(),o.deletePrivateIndexingModel(s.id,a)})),i.Ub(1,"mat-icon",22),i.Yb()}if(2&t){const t=i.lc(3);i.sc("title",t.translate.instant("lang.delete"))}}function Vu(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",16),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).selectIndexingModel(n)})),i.Qc(2,Uu,3,6,"div",17),i.Qc(3,Bu,6,8,"div",17),i.Qc(4,zu,2,1,"button",18),i.Yb(),i.Wb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Eb(1),i.Jb("listModels-menu-selected",t.id===n.currentIndexingModel.id)("private",t.private),i.sc("title",t.label),i.Eb(1),i.sc("ngIf",!t.private),i.Eb(1),i.sc("ngIf",t.private),i.Eb(1),i.sc("ngIf",t.id!==n.currentIndexingModel.id&&t.private)}}function Hu(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",4),i.Ub(1,"mat-icon",5),i.Zb(2,"span",6),i.Sc(3),i.Yb(),i.Ub(4,"i",7),i.Yb(),i.Zb(5,"mat-menu",null,8),i.Zb(7,"div",9),i.Zb(8,"span"),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Zb(11,"mat-form-field",10),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Zb(12,"input",11,12),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("keydown",(function(e){return i.Hc(t),e.stopPropagation()})),i.mc(14,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(15,Vu,5,8,"ng-container",13),i.mc(16,"filterList"),i.Yb(),i.Zb(17,"button",14),i.hc("click",(function(){return i.Hc(t),i.lc().savePrivateIndexingModel()})),i.Ub(18,"mat-icon",15),i.Yb()}if(2&t){const t=i.Dc(6),e=i.Dc(13),n=i.lc();i.sc("matMenuTriggerFor",t),i.Eb(2),i.sc("title",n.currentIndexingModel.label),i.Eb(1),i.Vc(" ",n.currentIndexingModel.label," ",n.currentIndexingModel.default?"("+n.translate.instant("lang.default")+")":""," "),i.Eb(2),i.Gb("menuForm listModels-menu"),i.Eb(4),i.Uc(" ",i.nc(10,10,"lang.indexingModel")," "),i.Eb(3),i.tc("placeholder",i.nc(14,12,"lang.filterBy")),i.Eb(3),i.sc("ngForOf",i.pc(16,14,n.indexingModels,e.value,"label")),i.Eb(2),i.sc("title",n.translate.instant("lang.createPrivateIndexingModel"))}}let Qu=(()=>{class t{constructor(t,e,n,s,a,o){this.translate=t,this.http=e,this.headerService=n,this.notify=s,this.sortPipe=a,this.dialog=o,this.loading=!0,this.defaultIndexingModelId=null,this.indexingModels=[],this.adminMode=!1,this.afterListModelsLoaded=new i.o,this.afterSelectedListModel=new i.o,this.currentIndexingModel={}}ngOnInit(){this.getIndexingModelList()}getIndexingModelList(){this.http.get("../rest/indexingModels").pipe(Object(kn.tap)(t=>{this.indexingModels=t.indexingModels,this.indexingModels.length>0&&(this.currentIndexingModel=null===this.defaultIndexingModelId?this.indexingModels.filter(t=>!0===t.default)[0]:this.indexingModels.filter(t=>t.id===this.defaultIndexingModelId)[0],void 0===this.currentIndexingModel&&(this.currentIndexingModel=this.indexingModels[0],this.notify.error(this.translate.instant("lang.noDefaultIndexingModel"))),this.loadIndexingModelsList())}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}loadIndexingModelsList(){const t=this.sortPipe.transform(this.indexingModels.filter(t=>null===t.master),"label"),e=this.sortPipe.transform(this.indexingModels.filter(t=>null!==t.master),"label");this.indexingModels=[],t.forEach(t=>{this.indexingModels.push(t),e.forEach(e=>{e.master===t.id&&this.indexingModels.push(e)})}),this.afterListModelsLoaded.emit(this.currentIndexingModel)}resetIndexingModel(){this.currentIndexingModel=this.indexingModels.filter(t=>!0===t.default)[0],this.afterSelectedListModel.emit(this.currentIndexingModel)}selectIndexingModel(t){this.currentIndexingModel=t,this.afterSelectedListModel.emit(t)}getCurrentIndexingModel(){return this.currentIndexingModel}getIndexingModels(){return this.indexingModels}savePrivateIndexingModel(){const t=JSON.parse(JSON.stringify(this.indexingForm.getDatas()));t.forEach((e,n)=>{delete t[n].event,delete t[n].label,delete t[n].system,delete t[n].type,delete t[n].values});const e={category:this.indexingForm.getCategory(),label:"",owner:this.headerService.user.id,private:!0,fields:t,master:null!==this.currentIndexingModel.master?this.currentIndexingModel.master:this.currentIndexingModel.id},n=this.indexingModels.filter(t=>t.id===e.master)[0];this.dialog.open(Zu,{panelClass:"maarch-modal",autoFocus:!0,disableClose:!0,data:{indexingModel:e,masterIndexingModel:n}}).afterClosed().pipe(Object(it.a)(t=>void 0!==t),Object(kn.tap)(t=>{this.indexingModels.push(t.indexingModel),this.currentIndexingModel=this.indexingModels.filter(e=>e.id===t.indexingModel.id)[0],this.loadIndexingModelsList()}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}deletePrivateIndexingModel(t,e){this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.delete("../rest/indexingModels/"+t)),Object(kn.tap)(()=>{this.indexingModels.splice(e,1),this.notify.success(this.translate.instant("lang.indexingModelDeleted"))}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(u.a),i.Tb(p.a),i.Tb(Na.a),i.Tb(j.b))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-select-indexing-model"]],inputs:{defaultIndexingModelId:"defaultIndexingModelId",indexingModels:"indexingModels",indexingForm:"indexingForm",adminMode:"adminMode"},outputs:{afterListModelsLoaded:"afterListModelsLoaded",afterSelectedListModel:"afterSelectedListModel"},features:[i.Db([Na.a])],decls:4,vars:2,consts:[[1,"listModels"],["class","primary",4,"ngIf","ngIfElse"],["menuModel",""],[1,"primary"],["mat-button","",1,"button-form-primary","listModels-button",3,"matMenuTriggerFor"],["mattPrefix","",1,"fab","fa-wpforms"],[1,"menu-label",3,"title"],[1,"fa","fa-chevron-down","menu-icon"],["IndexingModelsMenu","matMenu"],[1,"menuTitle"],["floatLabel","never","appearance","outline",1,"smallInput",2,"width","220px !important",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","click","keydown"],["listFilter",""],[4,"ngFor","ngForOf"],["mat-icon-button","","type","button","color","primary",3,"title","click"],[1,"far","fa-copy"],["mat-menu-item","",2,"display","flex","align-items","center",3,"title","click"],["style","flex:1;",4,"ngIf"],["mat-icon-button","","class","listModels-menu-delete",3,"title","click",4,"ngIf"],[2,"flex","1"],[1,"listModels-menu-badge"],["mat-icon-button","",1,"listModels-menu-delete",3,"title","click"],["color","warn",1,"fa","fa-trash"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Qc(1,Nu,2,2,"div",1),i.Qc(2,Hu,19,18,"ng-template",null,2,i.Rc),i.Yb()),2&t){const t=i.Dc(3);i.Eb(1),i.sc("ngIf",!e.adminMode)("ngIfElse",t)}},directives:[v.t,g.b,Ya.d,b.a,Ya.e,Z.c,N.b,v.s,Ya.b],pipes:[l.d,kr.a,_a.p],styles:[".listModels[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;padding:10px 40px}@media (max-width:768px){.listModels[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:0;padding-right:0}}.listModels[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:auto}.listModels-button[_ngcontent-%COMP%]{margin-right:20px;width:450px!important} .listModels-menu{min-width:450px!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-badge{background:#fff!important;color:#135f7f!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-delete .mat-icon{color:#fff!important} .listModels-menu-badge{font-size:70%;background:#135f7f;border-radius:20px;color:#fff;padding:2px 5px;font-weight:700} .listModels-menu-delete .mat-icon{margin-right:0} .listModels-menu-selected{color:#fff!important;background:#135f7f} .listModels-menu-selected .listModels-menu-badge{background:#fff!important;color:#135f7f!important}.smallInput[_ngcontent-%COMP%]{padding:10px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0}.menuTitle[_ngcontent-%COMP%]{display:flex;padding-left:20px;align-items:center;color:#135f7f;font-weight:700}.private[_ngcontent-%COMP%]{padding-left:50px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})();var $u=n("enVo");const Wu=["snav2"],Gu=["adminMenuTemplate"],qu=["appDocumentViewer"],Xu=["indexingForm"],Ju=["appDiffusionsList"],Ku=["appVisaWorkflow"],tp=["appAvisWorkflow"];function ep(t,e){1&t&&i.Ub(0,"i",27)}function np(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",25),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=i.lc(2);return!!s.isToolEnabled(n.id)&&s.changeTab(n.id)})),i.Qc(1,ep,1,0,"i",26),i.Ub(2,"i"),i.Zb(3,"span"),i.Sc(4),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Jb("processTool-module-active",t.id===n.currentTool)("tool-disabled",!n.isToolEnabled(t.id)),i.Eb(1),i.sc("ngIf",t.count>0),i.Eb(1),i.Gb(t.icon),i.Eb(2),i.Tc(t.label)}}function ip(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",28),i.Zb(1,"button",29),i.hc("click",(function(){return i.Hc(t),i.lc(2).createModal()})),i.Ub(2,"mat-icon",30),i.Yb(),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(1),i.sc("title",t.translate.instant("lang.openInExternalModal"))}}function sp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-history-workflow-resume",38),i.hc("goTo",(function(){return i.Hc(t),i.lc(3).currentTool="history"})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function ap(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-note-resume",38),i.hc("goTo",(function(){return i.Hc(t),i.lc(3).currentTool="notes"})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function op(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-attachments-resume",38),i.hc("goTo",(function(){return i.Hc(t),i.lc(3).currentTool="attachments"})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function rp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-mail-resume",38),i.hc("goTo",(function(){return i.Hc(t),i.lc(3).currentTool="emails"})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function cp(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"div",31),i.Zb(2,"button",32),i.hc("click",(function(){return i.Hc(t),i.lc(2).openPrintedFolderPrompt()})),i.Ub(3,"mat-icon",33),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Zb(6,"div",34),i.Zb(7,"div",35),i.hc("click",(function(){return i.Hc(t),i.lc(2).currentTool="history"})),i.Sc(8),i.mc(9,"translate"),i.Ub(10,"div",36),i.Yb(),i.Zb(11,"div",12),i.Qc(12,sp,1,1,"app-history-workflow-resume",37),i.Yb(),i.Yb(),i.Zb(13,"div",34),i.Zb(14,"div",35),i.hc("click",(function(){return i.Hc(t),i.lc(2).currentTool="notes"})),i.Sc(15),i.mc(16,"translate"),i.Ub(17,"div",36),i.Yb(),i.Zb(18,"div",12),i.Qc(19,ap,1,1,"app-note-resume",37),i.Yb(),i.Yb(),i.Zb(20,"div",34),i.Zb(21,"div",35),i.hc("click",(function(){return i.Hc(t),i.lc(2).currentTool="attachments"})),i.Sc(22),i.mc(23,"translate"),i.Ub(24,"div",36),i.Yb(),i.Zb(25,"div",12),i.Qc(26,op,1,1,"app-attachments-resume",37),i.Yb(),i.Yb(),i.Zb(27,"div",34),i.Zb(28,"div",35),i.hc("click",(function(){return i.Hc(t),i.lc(2).currentTool="emails"})),i.Sc(29),i.mc(30,"translate"),i.Ub(31,"div",36),i.Yb(),i.Zb(32,"div",12),i.Qc(33,rp,1,1,"app-mail-resume",37),i.Yb(),i.Yb(),i.Wb()}if(2&t){const t=i.lc(2);i.Eb(2),i.sc("title",t.translate.instant("lang.generateAndDownloadPrintedFolder")),i.Eb(2),i.Uc(" ",i.nc(5,10,"lang.printedFolder")," "),i.Eb(4),i.Uc(" ",i.nc(9,12,"lang.history")," "),i.Eb(4),i.sc("ngIf",!t.loading),i.Eb(3),i.Uc(" ",i.nc(16,14,"lang.notesAlt")," "),i.Eb(4),i.sc("ngIf",!t.loading),i.Eb(3),i.Uc(" ",i.nc(23,16,"lang.attachments")," "),i.Eb(4),i.sc("ngIf",!t.loading),i.Eb(3),i.Uc(" ",i.nc(30,18,"lang.mailsSentAlt")," "),i.Eb(4),i.sc("ngIf",!t.loading)}}function lp(t,e){if(1&t&&i.Ub(0,"app-history-list",51,52),2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function dp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-notes-list",53,54),i.hc("reloadBadgeNotes",(function(e){return i.Hc(t),i.lc(3).refreshBadge(e,"notes")})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("editMode",!0)("resId",t.currentResourceInformations.resId)}}function hp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-linked-resource-list",55,56),i.hc("reloadBadgeLinkedResources",(function(e){return i.Hc(t),i.lc(3).refreshBadge(e,"linkedResources")})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function up(t,e){if(1&t&&i.Ub(0,"app-diffusions-list",57,58),2&t){const t=i.lc(3);i.sc("adminMode",!0)("target",t.detailMode?"details":"process")("resId",t.currentResourceInformations.resId)("expanded",!0)}}function pp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-sent-resource-list",59,60),i.hc("reloadBadgeSentResource",(function(e){return i.Hc(t),i.lc(3).refreshBadge(e,"emails")})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)}}function fp(t,e){if(1&t&&i.Ub(0,"app-visa-workflow",61,62),2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)("adminMode",t.privilegeService.hasCurrentUserPrivilege(t.detailMode?"config_visa_workflow_in_detail":"config_visa_workflow"))}}function mp(t,e){if(1&t&&i.Ub(0,"app-avis-workflow",61,63),2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)("adminMode",t.privilegeService.hasCurrentUserPrivilege(t.detailMode?"config_avis_workflow_in_detail":"config_avis_workflow"))}}function gp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-attachments-list",64,65),i.hc("reloadBadgeAttachments",(function(e){return i.Hc(t),i.lc(3).refreshBadge(e,"attachments")})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("resId",t.currentResourceInformations.resId)("autoOpenCreation",t.isMailing)("target","process")}}function bp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-select-indexing-model",66,67),i.hc("afterSelectedListModel",(function(e){return i.Hc(t),i.lc(3).indexingForm.loadForm(e.id,!1)})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("defaultIndexingModelId",t.currentResourceInformations.modelId)("adminMode",t.canChangeModel)("indexingForm",t.indexingForm)}}function _p(t,e){1&t&&(i.Ub(0,"div",68),i.mc(1,"translate")),2&t&&i.sc("innerHTML",i.nc(1,1,"lang.dispositListGeneratedMsg"),i.Ic)}function vp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-indexing-form",69,70),i.hc("loadingFormEndEvent",(function(){return i.Hc(t),i.lc(3).triggerProcessAction()}))("retrieveDocumentEvent",(function(){return i.Hc(t),i.lc(3).appDocumentViewer.saveDocService()}))("afterSaveEvent",(function(){return i.Hc(t),i.lc(3).refreshData()})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("groupId",t.currentGroupId)("resId",t.currentResourceInformations.resId)("indexingFormId",t.currentResourceInformations.modelId)("mode","process")("canEdit",t.canEditData)("hideDiffusionList",!0)}}function yp(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(t),i.lc(3).saveTool()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){const t=i.lc(3);i.sc("title",t.translate.instant("lang.saveModifications"))}}function xp(t,e){if(1&t&&(i.Xb(0),i.Qc(1,lp,2,1,"app-history-list",39),i.Qc(2,dp,2,2,"app-notes-list",40),i.Qc(3,hp,2,1,"app-linked-resource-list",41),i.Qc(4,up,2,4,"app-diffusions-list",42),i.Qc(5,pp,2,1,"app-sent-resource-list",43),i.Qc(6,fp,2,2,"app-visa-workflow",44),i.Qc(7,mp,2,2,"app-avis-workflow",44),i.Qc(8,gp,2,3,"app-attachments-list",45),i.Qc(9,bp,2,3,"app-select-indexing-model",46),i.Qc(10,_p,2,3,"div",47),i.Qc(11,vp,2,6,"app-indexing-form",48),i.Zb(12,"div",49),i.Qc(13,yp,2,1,"button",50),i.Yb(),i.Wb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngIf","history"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","notes"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","linkedResources"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","diffusionList"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","emails"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","visaCircuit"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","opinionCircuit"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","attachments"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","info"===t.currentTool&&!t.loading),i.Eb(1),i.sc("ngIf","info"===t.currentTool&&!t.loading&&!t.functions.empty(t.currentResourceInformations.registeredMail_deposit_id)),i.Eb(1),i.sc("ngIf","info"===t.currentTool&&!t.loading),i.Eb(2),i.sc("ngIf",t.isToolModified())}}function wp(t,e){1&t&&(i.Zb(0,"div",73),i.Ub(1,"i",30),i.Sc(2),i.mc(3,"translate"),i.Yb()),2&t&&(i.Eb(2),i.Uc(" ",i.nc(3,1,"lang.openedInExternalModal")," "))}function Cp(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",88),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(4).selectAction(e)})),i.Zb(1,"span",89),i.Sc(2),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(4);i.Jb("listModels-menu-selected",t.id===e.selectedAction.id),i.sc("title",t.label),i.Eb(2),i.Tc(t.label)}}function Op(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Cp,3,4,"button",87),i.Wb()),2&t){const t=e.$implicit,n=i.lc(4);i.Eb(1),i.sc("ngIf",n.showActionInCurrentCategory(t))}}function kp(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",90),i.hc("click",(function(){return i.Hc(t),i.lc(4).onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc(4);i.sc("disabled",t.actionService.loading||0===t.selectedAction.id||void 0!==t.appDocumentViewer&&!t.appDocumentViewer.isEditorLoaded()),i.Eb(1),i.Tc(i.nc(2,2,"lang.validate"))}}function Sp(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",91),i.hc("click",(function(){return i.Hc(t),i.lc(4).onSubmit()})),i.Ub(1,"mat-icon",92),i.Yb()}}function Ep(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",76),i.Ub(2,"span",77),i.Ub(3,"i",78),i.Yb(),i.Zb(4,"mat-menu",null,79),i.Zb(6,"div",80),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Zb(10,"mat-form-field",81),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Zb(11,"input",82,83),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("keydown",(function(e){return i.Hc(t),e.stopPropagation()})),i.mc(13,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(14,Op,2,1,"ng-container",84),i.mc(15,"filterList"),i.Yb(),i.Qc(16,kp,3,4,"button",85),i.Qc(17,Sp,2,0,"button",86),i.Wb()}if(2&t){const t=i.Dc(5),e=i.Dc(12),n=i.lc(3);i.Eb(1),i.sc("disabled",0===n.selectedAction.id)("matMenuTriggerFor",t)("title",n.selectedAction.label),i.Eb(1),i.sc("innerHTML",n.selectedAction.label,i.Ic),i.Eb(2),i.Gb("menuForm menuAction"),i.Eb(4),i.Uc(" ",i.nc(9,11,"lang.actions")," "),i.Eb(3),i.tc("placeholder",i.nc(13,13,"lang.filterBy")),i.Eb(3),i.sc("ngForOf",i.pc(15,15,n.actionsList,e.value,"label")),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",n.appService.getViewMode())}}function Mp(t,e){if(1&t&&i.Ub(0,"div",93),2&t){const t=i.lc(3);i.sc("innerHTML",t.translate.instant("lang.noAvailableActionProcess"),i.Ic)}}function Ip(t,e){if(1&t&&(i.Zb(0,"div",74),i.Qc(1,Ep,18,19,"ng-container",22),i.Qc(2,Mp,1,1,"div",75),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("ngIf",t.actionsList.length>0&&void 0!==t.selectedAction),i.Eb(1),i.sc("ngIf",0===t.actionsList.length)}}function Pp(t,e){if(1&t&&(i.Zb(0,"div",17),i.Zb(1,"div",18),i.Qc(2,np,5,8,"div",19),i.Yb(),i.Yb(),i.Zb(3,"div",20),i.Qc(4,ip,3,1,"div",21),i.Qc(5,cp,34,20,"ng-container",22),i.Qc(6,xp,14,12,"ng-container",9),i.Qc(7,wp,4,3,"ng-template",null,23,i.Rc),i.Yb(),i.Qc(9,Ip,3,2,"div",24)),2&t){const t=i.Dc(8),e=i.lc();i.Eb(2),i.sc("ngForOf",e.processTool),i.Eb(2),i.sc("ngIf",!e.isModalOpen()&&"dashboard"!==e.currentTool),i.Eb(1),i.sc("ngIf","dashboard"===e.currentTool),i.Eb(1),i.sc("ngIf",!e.isModalOpen()&&!e.loading)("ngIfElse",t),i.Eb(3),i.sc("ngIf",!e.detailMode)}}function Tp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Zb(1,"b"),i.Ub(2,"i",107),i.Sc(3),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(2),i.Pc("color",t.currentResourceInformations.priorityColor),i.Eb(1),i.Uc(" ",t.currentResourceInformations.priorityLabel,"")}}function Ap(t,e){if(1&t&&i.Ub(0,"i",108),2&t){const t=i.lc(2);i.Pc("color",t.senderLightInfo.filling)}}function Dp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Zb(1,"div"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",101),i.mc(5,"fullDate"),i.Sc(6),i.mc(7,"date"),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(2),i.Uc("",i.nc(3,3,"lang.returnDate")," :"),i.Eb(2),i.sc("title",i.nc(5,5,t.currentResourceInformations.registeredMail_returnDate)),i.Eb(2),i.Uc(" ",i.oc(7,7,t.currentResourceInformations.registeredMail_returnDate,"dd/MM/y"),"")}}function Rp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Zb(1,"div"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",101),i.Sc(5),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(2),i.Uc("",i.nc(3,3,"lang.returnReason")," :"),i.Eb(2),i.sc("title",t.currentResourceInformations.registeredMail_returnReason),i.Eb(1),i.Uc(" ",t.currentResourceInformations.registeredMail_returnReason,"")}}function Lp(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",110),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"translate"),i.mc(5,"timeAgo"),i.Ub(6,"i",111),i.Yb(),i.Wb()),2&t){const t=i.lc(3);i.Eb(1),i.sc("title",i.nc(2,3,t.currentResourceInformations.closingDate)),i.Eb(2),i.Vc(" ",i.nc(4,5,"lang.closed")," ",i.oc(5,7,t.currentResourceInformations.closingDate,"full"),"\xa0\xa0")}}function Fp(t,e){if(1&t&&(i.Zb(0,"div"),i.Sc(1),i.mc(2,"translate"),i.Yb(),i.Ub(3,"div",112),i.mc(4,"fullDate"),i.mc(5,"timeLimit")),2&t){const t=i.lc(3);i.Eb(1),i.Uc("",i.nc(2,3,"lang.processLimitDate")," :"),i.Eb(2),i.sc("title",i.nc(4,5,t.currentResourceInformations.processLimitDate))("innerHTML",i.oc(5,7,t.currentResourceInformations.processLimitDate,"badge"),i.Ic)}}function jp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Qc(1,Lp,7,10,"ng-container",9),i.Qc(2,Fp,6,10,"ng-template",null,109,i.Rc),i.Yb()),2&t){const t=i.Dc(3),e=i.lc(2);i.Eb(1),i.sc("ngIf",null!==e.currentResourceInformations.closingDate)("ngIfElse",t)}}function Yp(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",113),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).toggleIntegration(n.key)})),i.mc(1,"translate"),i.Ub(2,"mat-icon"),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.tc("matTooltip",i.nc(1,7,"lang."+t.key)),i.Eb(2),i.Gb(t.value.icon),i.Jb("checked",n.currentResourceInformations.integrations[t.key])("unchecked",!n.currentResourceInformations.integrations[t.key])}}function Zp(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"div",94),i.Zb(2,"span",95),i.Sc(3),i.Zb(4,"small",96),i.Sc(5),i.Yb(),i.Yb(),i.Ub(6,"div",36),i.Yb(),i.Zb(7,"div",12),i.Zb(8,"button",97),i.hc("click",(function(){return i.Hc(t),i.lc().toggleFollow()})),i.Ub(9,"mat-icon",98),i.Yb(),i.Qc(10,Tp,4,3,"div",99),i.Zb(11,"div",100),i.Zb(12,"div"),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Zb(15,"div",101),i.Sc(16),i.Yb(),i.Yb(),i.Zb(17,"div",102),i.hc("click",(function(){return i.Hc(t),i.lc().openContact()})),i.Zb(18,"div"),i.Sc(19),i.Yb(),i.Zb(20,"div",103),i.Sc(21),i.Qc(22,Ap,1,2,"i",104),i.Yb(),i.Yb(),i.Qc(23,Dp,8,10,"div",99),i.Qc(24,Rp,6,5,"div",99),i.Qc(25,jp,4,2,"div",99),i.Zb(26,"div",105),i.Qc(27,Yp,3,9,"button",106),i.mc(28,"keyvalue"),i.Yb(),i.Yb(),i.Wb()}if(2&t){const t=i.lc();i.Eb(2),i.sc("title",t.currentResourceInformations.subject+" ("+t.currentResourceInformations.statusLabel+")"),i.Eb(1),i.Uc(" ",t.currentResourceInformations.subject," "),i.Eb(2),i.Tc(t.currentResourceInformations.statusLabel),i.Eb(3),i.sc("title",t.translate.instant(t.resourceFollowed?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.Hb("followIcon ",t.resourceFollowed?"fas":"far"," fa-star"),i.Eb(1),i.sc("ngIf",void 0!==t.currentResourceInformations.priority),i.Eb(3),i.Uc("",i.nc(14,18,"lang.chronoNumberShort")," :"),i.Eb(2),i.sc("title","N\xb0 "+t.currentResourceInformations.resId),i.Eb(1),i.Uc(" ",t.currentResourceInformations.chrono,""),i.Eb(3),i.Uc("",t.translate.instant("outgoing"!==t.currentResourceInformations.categoryId?"lang.senders":"lang.recipient")," :"),i.Eb(2),i.Uc("",t.senderLightInfo.displayName," "),i.Eb(1),i.sc("ngIf",t.senderLightInfo.filling),i.Eb(1),i.sc("ngIf",!t.functions.empty(t.currentResourceInformations.registeredMail_returnDate)),i.Eb(1),i.sc("ngIf",!t.functions.empty(t.currentResourceInformations.registeredMail_returnReason)),i.Eb(1),i.sc("ngIf",void 0!==t.currentResourceInformations.processLimitDate),i.Eb(2),i.sc("ngForOf",i.nc(28,20,t.integrationsInfo))}}function Np(t,e){1&t&&(i.Zb(0,"div",114),i.Ub(1,"mat-spinner",115),i.Yb())}function Up(t,e){if(1&t&&i.Ub(0,"app-document-viewer",116,117),2&t){const t=i.lc();i.sc("editMode",t.canEditData)("resId",t.currentResourceInformations.resId)("title",t.currentResourceInformations.chrono+" - "+t.currentResourceInformations.subject)}}function Bp(t,e){if(1&t&&i.Ub(0,"app-history-list",51,52),2&t){const t=i.lc(2);i.sc("resId",t.currentResourceInformations.resId)}}function zp(t,e){if(1&t&&i.Ub(0,"app-notes-list",129,54),2&t){const t=i.lc(2);i.sc("editMode",!0)("resId",t.currentResourceInformations.resId)}}function Vp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-linked-resource-list",55,56),i.hc("reloadBadgeLinkedResources",(function(e){return i.Hc(t),i.lc(2).refreshBadge(e,"linkedResources")})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("resId",t.currentResourceInformations.resId)}}function Hp(t,e){if(1&t&&i.Ub(0,"app-diffusions-list",57,58),2&t){const t=i.lc(2);i.sc("adminMode",!0)("target",t.detailMode?"details":"process")("resId",t.currentResourceInformations.resId)("expanded",!0)}}function Qp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-sent-resource-list",59,60),i.hc("reloadBadgeSentResource",(function(e){return i.Hc(t),i.lc(2).refreshBadge(e,"emails")})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("resId",t.currentResourceInformations.resId)}}function $p(t,e){if(1&t&&i.Ub(0,"app-visa-workflow",130,62),2&t){const t=i.lc(2);i.sc("adminMode",t.privilegeService.hasCurrentUserPrivilege(t.detailMode?"config_visa_workflow_in_detail":"config_visa_workflow"))("resId",t.currentResourceInformations.resId)}}function Wp(t,e){if(1&t&&i.Ub(0,"app-avis-workflow",61,63),2&t){const t=i.lc(2);i.sc("resId",t.currentResourceInformations.resId)("adminMode",t.privilegeService.hasCurrentUserPrivilege(t.detailMode?"config_avis_workflow_in_detail":"config_avis_workflow"))}}function Gp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-attachments-list",131,65),i.hc("reloadBadgeAttachments",(function(e){return i.Hc(t),i.lc(2).refreshBadge(e,"attachments")})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("resId",t.currentResourceInformations.resId)("autoOpenCreation",t.isMailing)}}function qp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-select-indexing-model",132,67),i.hc("afterSelectedListModel",(function(e){return i.Hc(t),i.lc(2).indexingForm.loadForm(e.id,!1)})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("adminMode",t.canChangeModel)("indexingForm",t.indexingForm)("defaultIndexingModelId",t.currentResourceInformations.modelId)}}function Xp(t,e){1&t&&(i.Ub(0,"div",68),i.mc(1,"translate")),2&t&&i.sc("innerHTML",i.nc(1,1,"lang.dispositListGeneratedMsg"),i.Ic)}function Jp(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-indexing-form",133,70),i.hc("loadingFormEndEvent",(function(){return i.Hc(t),i.lc(2).triggerProcessAction()}))("retrieveDocumentEvent",(function(){return i.Hc(t),i.lc(2).appDocumentViewer.saveDocService()}))("afterSaveEvent",(function(){return i.Hc(t),i.lc(2).refreshData()})),i.Yb()}if(2&t){const t=i.lc(2);i.sc("groupId",t.currentGroupId)("indexingFormId",t.currentResourceInformations.modelId)("resId",t.currentResourceInformations.resId)("mode","process")("canEdit",t.canEditData)("hideDiffusionList",!0)}}function Kp(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(t),i.lc(2).confirmModification()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.translate.instant("lang.saveModifications"))}}function tf(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(t),i.lc(2).saveListinstance()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.translate.instant("lang.saveModifications"))}}function ef(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(t),i.lc(2).saveVisaWorkflow()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){const t=i.lc(2);i.sc("title",t.translate.instant("lang.saveModifications"))}}function nf(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",118),i.Zb(1,"div",119),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Zb(4,"button",120),i.hc("click",(function(){i.Hc(t);const n=e.index;return i.lc().removeModal(n)})),i.Ub(5,"mat-icon",121),i.Yb(),i.Yb(),i.Zb(6,"div",122),i.Qc(7,Bp,2,1,"app-history-list",39),i.Qc(8,zp,2,2,"app-notes-list",123),i.Qc(9,Vp,2,1,"app-linked-resource-list",41),i.Qc(10,Hp,2,4,"app-diffusions-list",42),i.Qc(11,Qp,2,1,"app-sent-resource-list",43),i.Qc(12,$p,2,2,"app-visa-workflow",124),i.Qc(13,Wp,2,2,"app-avis-workflow",44),i.Qc(14,Gp,2,2,"app-attachments-list",125),i.Qc(15,qp,2,3,"app-select-indexing-model",126),i.Qc(16,Xp,2,3,"div",47),i.Qc(17,Jp,2,6,"app-indexing-form",127),i.Zb(18,"div",128),i.Qc(19,Kp,2,1,"button",50),i.Qc(20,tf,2,1,"button",50),i.Qc(21,ef,2,1,"button",50),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc();i.Hb("modal-module ",t.id,""),i.Jb("largeModal","info"===t.id||"history"===t.id),i.Eb(3),i.Uc(" ",t.label," "),i.Eb(4),i.sc("ngIf","history"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","notes"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","linkedResources"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","diffusionList"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","emails"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","visaCircuit"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","opinionCircuit"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","attachments"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","info"===t.id&&!n.loading),i.Eb(1),i.sc("ngIf","info"===t.id&&!n.loading&&!n.functions.empty(n.currentResourceInformations.registeredMail_deposit_id)),i.Eb(1),i.sc("ngIf","info"===t.id&&!n.loading),i.Eb(2),i.sc("ngIf",void 0!==n.indexingForm&&n.indexingForm.isResourceModified()&&"info"===t.id),i.Eb(1),i.sc("ngIf",void 0!==n.appDiffusionsList&&n.appDiffusionsList.isModified()&&"diffusionList"===t.id),i.Eb(1),i.sc("ngIf",void 0!==n.appVisaWorkflow&&n.appVisaWorkflow.isModified()&&"visaCircuit"===t.id)}}const sf=function(t){return{width:t}};let af=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l,d,h,u,p,f,m){this.translate=t,this.route=e,this._activatedRoute=n,this.http=i,this.dialog=s,this.headerService=a,this.filtersListService=o,this.notify=r,this.overlay=c,this.viewContainerRef=l,this.appService=d,this.actionService=h,this.contactService=u,this.router=p,this.privilegeService=f,this.functions=m,this.loading=!0,this.detailMode=!1,this.isMailing=!1,this.actionsList=[],this.currentUserId=null,this.currentBasketId=null,this.currentGroupId=null,this.selectedAction={id:0,label:"",component:"",default:!1,categoryUse:[]},this.currentResourceInformations={},this.processTool=[{id:"dashboard",icon:"fas fa-columns",label:this.translate.instant("lang.newsFeed"),count:0},{id:"history",icon:"fas fa-history",label:this.translate.instant("lang.history"),count:0},{id:"notes",icon:"fas fa-pen-square",label:this.translate.instant("lang.notesAlt"),count:0},{id:"attachments",icon:"fas fa-paperclip",label:this.translate.instant("lang.attachments"),count:0},{id:"linkedResources",icon:"fas fa-link",label:this.translate.instant("lang.links"),count:0},{id:"emails",icon:"fas fa-envelope",label:this.translate.instant("lang.mailsSentAlt"),count:0},{id:"diffusionList",icon:"fas fa-share-alt",label:this.translate.instant("lang.diffusionList"),editMode:!1,count:0},{id:"visaCircuit",icon:"fas fa-list-ol",label:this.translate.instant("lang.visaWorkflow"),count:0},{id:"opinionCircuit",icon:"fas fa-comment-alt",label:this.translate.instant("lang.avis"),count:0},{id:"info",icon:"fas fa-info-circle",label:this.translate.instant("lang.informations"),count:0}],this.modalModule=[],this.currentTool="dashboard",this.actionEnded=!1,this.canEditData=!1,this.canChangeModel=!1,this.autoAction=!1,this.integrationsInfo={inSignatureBook:{icon:"fas fa-file-signature"}},this.senderLightInfo={displayName:null,fillingRate:null},this.hasContact=!1,this.resourceFollowed=!1,this.route.params.subscribe(t=>{this.loading=!0,this.headerService.sideBarForm=!0,this.headerService.showhHeaderPanel=!0,this.headerService.showMenuShortcut=!1,this.headerService.showMenuNav=!1,this.headerService.sideBarAdmin=!0,void 0!==t.detailResId?this.initDetailPage(t):this.initProcessPage(t)},t=>{this.notify.handleErrors(t)}),this.subscription=this.actionService.catchAction().subscribe(t=>{this.actionEnded=!0,this.router.navigate([`/basketList/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}`])})}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu","form"),this.headerService.setHeader(this.translate.instant("lang.eventProcessDoc"))}checkAccesDocument(t){return new Promise((e,n)=>{this.http.get(`../rest/resources/${t}/isAllowed`).pipe(Object(ot.a)(t=>{t.isAllowed?e(!0):(this.notify.error(this.translate.instant("lang.documentOutOfPerimeter")),this.router.navigate(["/home"]))}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),this.router.navigate(["/home"]),Object(xn.of)(!1)))).subscribe()})}initProcessPage(t){return Object(vn.a)(this,void 0,void 0,(function*(){this.detailMode=!1,this.currentUserId=t.userSerialId,this.currentGroupId=t.groupSerialId,this.currentBasketId=t.basketId,this.currentResourceInformations={resId:t.resId,mailtracking:!1},this.headerService.sideBarButton={icon:"fa fa-inbox",label:this.translate.instant("lang.backBasket"),route:`/basketList/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}`},yield this.checkAccesDocument(this.currentResourceInformations.resId),this.actionService.lockResource(this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId]),this.loadBadges(),this.loadResource(),this.appService.getViewMode()&&setTimeout(()=>{this.headerService.sideNavLeft.open()},800),this.http.get(`../rest/resourcesList/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}/actions?resId=${this.currentResourceInformations.resId}`).pipe(Object(la.a)(t=>(t.actions=t.actions.map((t,e)=>({id:t.id,label:t.label,component:t.component,categoryUse:t.categories})),t)),Object(ot.a)(t=>{this.selectedAction=t.actions[0],this.actionsList=t.actions}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}))}initDetailPage(t){return Object(vn.a)(this,void 0,void 0,(function*(){this._activatedRoute.queryParamMap.subscribe(t=>{this.isMailing=!this.functions.empty(t.get("isMailing"))}),this.detailMode=!0,this.currentResourceInformations={resId:t.detailResId,mailtracking:!1},this.headerService.sideBarButton={icon:"fas fa-arrow-left",label:this.translate.instant("lang.back"),route:"__GOBACK"},yield this.checkAccesDocument(this.currentResourceInformations.resId),this.loadBadges(),this.loadResource(),this.appService.getViewMode()&&setTimeout(()=>{this.headerService.sideNavLeft.open()},800)}))}isActionEnded(){return this.actionEnded}loadResource(t=!0){this.http.get(`../rest/resources/${this.currentResourceInformations.resId}?light=true`).pipe(Object(ot.a)(e=>{this.currentResourceInformations=e,this.resourceFollowed=e.followed,"outgoing"!==this.currentResourceInformations.categoryId?this.loadSenders():this.loadRecipients(),t&&this.setEditDataPrivilege(),this.loadAvaibleIntegrations(e.integrations),this.headerService.setHeader(this.translate.instant(this.detailMode?"lang.detailDoc":"lang.eventProcessDoc"),this.translate.instant("lang."+this.currentResourceInformations.categoryId))}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}setEditDataPrivilege(){this.detailMode?(this.canEditData=this.privilegeService.hasCurrentUserPrivilege("edit_resource")&&this.currentResourceInformations.statusAlterable&&this.functions.empty(this.currentResourceInformations.registeredMail_deposit_id),this.isMailing&&this.isToolEnabled("attachments")&&(this.currentTool="attachments",setTimeout(()=>{this.isMailing=!1},200))):this.http.get(`../rest/resources/${this.currentResourceInformations.resId}/users/${this.currentUserId}/groups/${this.currentGroupId}/baskets/${this.currentBasketId}/processingData`).pipe(Object(ot.a)(t=>{null!==t.listEventData&&(this.isToolEnabled(t.listEventData.defaultTab)&&(this.currentTool=t.listEventData.defaultTab),this.canEditData=t.listEventData.canUpdateData&&this.functions.empty(this.currentResourceInformations.registeredMail_deposit_id),this.canChangeModel=t.listEventData.canUpdateModel)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}loadAvaibleIntegrations(t){this.integrationsInfo.inSignatureBook.enable=!this.functions.empty(t.inSignatureBook)&&t.inSignatureBook,this.http.get("../rest/externalConnectionsEnabled").pipe(Object(ot.a)(t=>{Object.keys(t.connection).filter(t=>"maarchParapheur"!==t).forEach(t=>{"maileva"===t&&(this.integrationsInfo.inShipping={icon:"fas fa-shipping-fast"})})}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}toggleIntegration(t){this.http.put("../rest/resourcesList/integrations",{resources:[this.currentResourceInformations.resId],integrations:{[t]:!this.currentResourceInformations.integrations[t]}}).pipe(Object(ot.a)(()=>{this.currentResourceInformations.integrations[t]=!this.currentResourceInformations.integrations[t],this.notify.success(this.translate.instant("lang.actionDone"))}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}loadBadges(){this.http.get(`../rest/resources/${this.currentResourceInformations.resId}/items`).pipe(Object(ot.a)(t=>{this.processTool.forEach(e=>{e.count=void 0!==t[e.id]?t[e.id]:0})}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}loadSenders(){void 0===this.currentResourceInformations.senders||0===this.currentResourceInformations.senders.length?(this.hasContact=!1,this.senderLightInfo={displayName:this.translate.instant("lang.noSelectedContact"),filling:null}):1===this.currentResourceInformations.senders.length?(this.hasContact=!0,"contact"===this.currentResourceInformations.senders[0].type?this.http.get("../rest/contacts/"+this.currentResourceInformations.senders[0].id).pipe(Object(ot.a)(t=>{const e=[];this.empty(t.firstname)&&this.empty(t.lastname)?this.senderLightInfo=this.functions.empty(t.fillingRate)?{displayName:t.company}:{displayName:t.company,filling:this.contactService.getFillingColor(t.fillingRate.thresholdLevel)}:(e.push(t.firstname),e.push(t.lastname),this.empty(t.company)||e.push("("+t.company+")"),this.senderLightInfo=this.functions.empty(t.fillingRate)?{displayName:e.filter(t=>""!==t).join(" ")}:{displayName:e.filter(t=>""!==t).join(" "),filling:this.contactService.getFillingColor(t.fillingRate.thresholdLevel)})})).subscribe():"entity"===this.currentResourceInformations.senders[0].type?this.http.get("../rest/entities/"+this.currentResourceInformations.senders[0].id).pipe(Object(ot.a)(t=>{this.senderLightInfo={displayName:t.entity_label,filling:null}})).subscribe():"user"===this.currentResourceInformations.senders[0].type&&this.http.get("../rest/users/"+this.currentResourceInformations.senders[0].id).pipe(Object(ot.a)(t=>{this.senderLightInfo={displayName:t.firstname+" "+t.lastname,filling:null}})).subscribe()):this.currentResourceInformations.senders.length>1&&(this.hasContact=!0,this.senderLightInfo={displayName:this.currentResourceInformations.senders.length+" "+this.translate.instant("lang.senders"),filling:null})}loadRecipients(){void 0===this.currentResourceInformations.recipients||0===this.currentResourceInformations.recipients.length?(this.hasContact=!1,this.senderLightInfo={displayName:this.translate.instant("lang.noSelectedContact"),filling:null}):1===this.currentResourceInformations.recipients.length?(this.hasContact=!0,"contact"===this.currentResourceInformations.recipients[0].type?this.http.get("../rest/contacts/"+this.currentResourceInformations.recipients[0].id).pipe(Object(ot.a)(t=>{const e=[];this.empty(t.firstname)&&this.empty(t.lastname)?this.senderLightInfo=this.functions.empty(t.fillingRate)?{displayName:t.company}:{displayName:t.company,filling:this.contactService.getFillingColor(t.fillingRate.thresholdLevel)}:(e.push(t.firstname),e.push(t.lastname),this.empty(t.company)||e.push("("+t.company+")"),this.senderLightInfo=this.functions.empty(t.fillingRate)?{displayName:e.filter(t=>""!==t).join(" ")}:{displayName:e.filter(t=>""!==t).join(" "),filling:this.contactService.getFillingColor(t.fillingRate.thresholdLevel)})})).subscribe():"entity"===this.currentResourceInformations.recipients[0].type?this.http.get("../rest/entities/"+this.currentResourceInformations.recipients[0].id).pipe(Object(ot.a)(t=>{this.senderLightInfo={displayName:t.entity_label,filling:null}})).subscribe():"user"===this.currentResourceInformations.recipients[0].type&&this.http.get("../rest/users/"+this.currentResourceInformations.recipients[0].id).pipe(Object(ot.a)(t=>{this.senderLightInfo={displayName:t.firstname+" "+t.lastname,filling:null}})).subscribe()):this.currentResourceInformations.recipients.length>1&&(this.hasContact=!0,this.senderLightInfo={displayName:this.currentResourceInformations.recipients.length+" "+this.translate.instant("lang.recipients"),filling:null})}onSubmit(){"info"===this.currentTool||this.isModalOpen("info")?this.processAction():this.isToolModified()?this.openConfirmModification().afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>{this.saveTool()}),Object(Pn.a)(()=>{this.autoAction=!0,this.currentTool="info"}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe():(this.autoAction=!0,this.currentTool="info")}triggerProcessAction(){this.autoAction&&(this.processAction(),this.autoAction=!this.autoAction)}processAction(){return Object(vn.a)(this,void 0,void 0,(function*(){this.indexingForm.isValidForm()?(this.actionService.loading=!0,this.isToolModified()?this.openConfirmModification().afterClosed().pipe(Object(ot.a)(t=>{"ok"!==t&&(this.refreshTool(),this.actionService.loading=!1)}),Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>Object(vn.a)(this,void 0,void 0,(function*(){yield this.saveTool(),this.appDocumentViewer.isEditingTemplate()&&(yield this.appDocumentViewer.saveMainDocument()),this.actionService.launchAction(this.selectedAction,this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId],this.currentResourceInformations,!1)}))),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),this.actionService.loading=!1,Object(xn.of)(!1)))).subscribe():(this.appDocumentViewer.isEditingTemplate()&&(yield this.appDocumentViewer.saveMainDocument()),this.actionService.launchAction(this.selectedAction,this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId],this.currentResourceInformations,!1))):this.notify.error(this.translate.instant("lang.mustFixErrors"))}))}showActionInCurrentCategory(t){if(-1===this.selectedAction.categoryUse.indexOf(this.currentResourceInformations.categoryId)){const t=this.actionsList.filter(t=>t.categoryUse.indexOf(this.currentResourceInformations.categoryId)>-1)[0];this.selectedAction=void 0!==t?this.actionsList.filter(t=>t.categoryUse.indexOf(this.currentResourceInformations.categoryId)>-1)[0]:{id:0,label:"",component:"",default:!1,categoryUse:[]}}return t.categoryUse.indexOf(this.currentResourceInformations.categoryId)>-1}selectAction(t){this.selectedAction=t}createModal(){this.modalModule.push(this.processTool.filter(t=>t.id===this.currentTool)[0])}removeModal(t){"info"===this.modalModule[t].id&&this.indexingForm.isResourceModified()?this.openConfirmModification().afterClosed().pipe(Object(ot.a)(e=>{"ok"!==e&&this.modalModule.splice(t,1)}),Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>{this.indexingForm.saveData(),setTimeout(()=>{this.loadResource(!1)},400),this.modalModule.splice(t,1)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe():this.modalModule.splice(t,1)}isModalOpen(t=this.currentTool){return this.modalModule.map(t=>t.id).indexOf(t)>-1}ngOnDestroy(){this.detailMode||(this.actionService.stopRefreshResourceLock(),this.actionService.actionEnded||this.actionService.unlockResource(this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId])),this.subscription.unsubscribe()}changeTab(t){this.isToolModified()&&!this.isModalOpen()?this.openConfirmModification().afterClosed().pipe(Object(ot.a)(e=>{"ok"!==e&&(this.currentTool=t)}),Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>{this.saveTool(),setTimeout(()=>{this.loadResource(!1)},400),this.currentTool=t}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe():this.currentTool=t}openConfirmModification(){return this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:this.translate.instant("lang.saveModifiedData"),buttonValidate:this.translate.instant("lang.yes"),buttonCancel:this.translate.instant("lang.no")}})}confirmModification(){this.indexingForm.saveData(),setTimeout(()=>{this.loadResource(!1)},400)}saveModificationBeforeClose(){return Object(vn.a)(this,void 0,void 0,(function*(){this.isToolModified()&&!this.isModalOpen()&&(yield this.saveTool()),this.appDocumentViewer.isEditingTemplate()&&(yield this.appDocumentViewer.saveMainDocument())}))}refreshData(){this.appDocumentViewer.loadRessource(this.currentResourceInformations.resId)}refreshBadge(t,e){this.processTool.filter(t=>t.id===e)[0].count=t}openContact(){this.hasContact&&this.dialog.open(Or.a,{panelClass:"maarch-modal",data:{title:`${this.currentResourceInformations.chrono} - ${this.currentResourceInformations.subject}`,mode:"outgoing"!==this.currentResourceInformations.categoryId?"senders":"recipients",resId:this.currentResourceInformations.resId}})}saveListinstance(){this.appDiffusionsList.saveListinstance()}saveVisaWorkflow(){this.appVisaWorkflow.saveVisaWorkflow()}isToolModified(){return!!("info"===this.currentTool&&void 0!==this.indexingForm&&this.indexingForm.isResourceModified()||"diffusionList"===this.currentTool&&void 0!==this.appDiffusionsList&&this.appDiffusionsList.isModified()||"visaCircuit"===this.currentTool&&void 0!==this.appVisaWorkflow&&this.appVisaWorkflow.isModified()||"opinionCircuit"===this.currentTool&&void 0!==this.appAvisWorkflow&&this.appAvisWorkflow.isModified())}refreshTool(){const t=this.currentTool;this.currentTool="",setTimeout(()=>{this.currentTool=t},0)}saveTool(){return Object(vn.a)(this,void 0,void 0,(function*(){"info"===this.currentTool&&void 0!==this.indexingForm?(yield this.indexingForm.saveData(),setTimeout(()=>{this.loadResource(!1)},400)):"diffusionList"===this.currentTool&&void 0!==this.appDiffusionsList?(yield this.appDiffusionsList.saveListinstance(),this.loadBadges()):"visaCircuit"===this.currentTool&&void 0!==this.appVisaWorkflow?(yield this.appVisaWorkflow.saveVisaWorkflow(),this.loadBadges()):"opinionCircuit"===this.currentTool&&void 0!==this.appAvisWorkflow&&(yield this.appAvisWorkflow.saveAvisWorkflow(),this.loadBadges())}))}empty(t){return null==t||(Array.isArray(t)?!(t.length>0):""===String(t))}toggleFollow(){this.resourceFollowed=!this.resourceFollowed,this.resourceFollowed?this.http.post("../rest/resources/follow",{resources:[this.currentResourceInformations.resId]}).pipe(Object(ot.a)(()=>this.headerService.nbResourcesFollowed++),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe():this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[this.currentResourceInformations.resId]}}).pipe(Object(ot.a)(()=>this.headerService.nbResourcesFollowed--),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}isToolEnabled(t){return"history"!==t||!(!this.privilegeService.hasCurrentUserPrivilege("view_full_history")&&!this.privilegeService.hasCurrentUserPrivilege("view_doc_history"))}openPrintedFolderPrompt(){this.dialog.open(cd,{panelClass:"maarch-modal",data:{resId:this.currentResourceInformations.resId}})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.a),i.Tb(o.a),i.Tb(d.b),i.Tb(j.b),i.Tb(u.a),i.Tb(fa),i.Tb(p.a),i.Tb(ma.c),i.Tb(i.R),i.Tb(f.a),i.Tb(Fi.a),i.Tb(Ql.a),i.Tb(o.c),i.Tb(Li.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Wu,!0),i.Oc(Gu,!0),i.ad(qu,!0),i.ad(Xu,!0),i.ad(Ju,!0),i.ad(Ku,!0),i.ad(tp,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.appDocumentViewer=n.first),i.Cc(n=i.ic())&&(e.indexingForm=n.first),i.Cc(n=i.ic())&&(e.appDiffusionsList=n.first),i.Cc(n=i.ic())&&(e.appVisaWorkflow=n.first),i.Cc(n=i.ic())&&(e.appAvisWorkflow=n.first))},features:[i.Db([Fi.a,Ql.a])],decls:21,vars:18,consts:[[1,"maarch-container"],["adminMenuTemplate",""],[1,"process-content"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content",2,"padding-bottom","20px"],[1,"resourceInfo"],[4,"ngIf","ngIfElse"],["elseInfoRes",""],[1,"document-container"],[1,"content"],["style","height:100%;width:100%;",3,"editMode","resId","title",4,"ngIf"],["cdkDrag","","cdkDragBoundary",".process-content",3,"class","largeModal",4,"ngFor","ngForOf"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],[1,"listModels"],[1,"processTool"],["class","processTool-module jiggle","matRipple","",3,"processTool-module-active","tool-disabled","click",4,"ngFor","ngForOf"],[1,"indexing-form-container"],["style","display: flex;justify-content: flex-end;",4,"ngIf"],[4,"ngIf"],["elseTemplate",""],["class","actions-indexing-form",4,"ngIf"],["matRipple","",1,"processTool-module","jiggle",3,"click"],["class","fas fa-circle haveContent",4,"ngIf"],[1,"fas","fa-circle","haveContent"],[2,"display","flex","justify-content","flex-end"],["mat-icon-button","","color","primary",3,"title","click"],[1,"fas","fa-external-link-alt"],[2,"display","flex","align-items","center","justify-content","flex-end","margin-top","10px","margin-bottom","-20px"],["mat-button","","color","primary",3,"title","click"],[1,"fa","fa-print",2,"height","auto"],[1,"banner"],[1,"title",3,"click"],[1,"title-divider"],[3,"resId","goTo",4,"ngIf"],[3,"resId","goTo"],[3,"resId",4,"ngIf"],[3,"editMode","resId","reloadBadgeNotes",4,"ngIf"],[3,"resId","reloadBadgeLinkedResources",4,"ngIf"],[3,"adminMode","target","resId","expanded",4,"ngIf"],[3,"resId","reloadBadgeSentResource",4,"ngIf"],[3,"resId","adminMode",4,"ngIf"],[3,"resId","autoOpenCreation","target","reloadBadgeAttachments",4,"ngIf"],[3,"defaultIndexingModelId","adminMode","indexingForm","afterSelectedListModel",4,"ngIf"],["class","alert-message alert-message-info","style","min-width: 100%;",3,"innerHTML",4,"ngIf"],[3,"groupId","resId","indexingFormId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent",4,"ngIf"],[2,"position","sticky","bottom","0px","text-align","right"],["mat-fab","","color","accent",3,"title","click",4,"ngIf"],[3,"resId"],["appHistoryList",""],[3,"editMode","resId","reloadBadgeNotes"],["appNotesList",""],[3,"resId","reloadBadgeLinkedResources"],["appLinkedResourceList",""],[3,"adminMode","target","resId","expanded"],["appDiffusionsList",""],[3,"resId","reloadBadgeSentResource"],["appSentResource",""],[3,"resId","adminMode"],["appVisaWorkflow",""],["appAvisWorkflow",""],[3,"resId","autoOpenCreation","target","reloadBadgeAttachments"],["appAttachmentsList",""],[3,"defaultIndexingModelId","adminMode","indexingForm","afterSelectedListModel"],["appSelectIndexingModel",""],[1,"alert-message","alert-message-info",2,"min-width","100%",3,"innerHTML"],[3,"groupId","resId","indexingFormId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent"],["indexingForm",""],["mat-fab","","color","accent",3,"title","click"],[1,"fas","fa-check",2,"height","auto","font-size","20px"],[1,"openedModal"],[1,"actions-indexing-form"],["class","emptyAction",3,"innerHTML",4,"ngIf"],["mat-button","",1,"button-form-primary",2,"width","350px","margin-right","20px",3,"disabled","matMenuTriggerFor","title"],[1,"menu-label",3,"innerHTML"],[1,"fa","fa-chevron-down","menu-icon"],["menu","matMenu"],[1,"menuTitle"],["floatLabel","never","appearance","outline",1,"smallInput",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","click","keydown"],["listFilter",""],[4,"ngFor","ngForOf"],["mat-button","","class","button-form-primary-filled","style","width: 150px;align-items: center;justify-content: center;text-align: center;display: flex;",3,"disabled","click",4,"ngIf"],["mat-icon-button","","class","button-form-primary",3,"click",4,"ngIf"],["mat-menu-item","",3,"title","listModels-menu-selected","click",4,"ngIf"],["mat-menu-item","",3,"title","click"],[2,"flex","1"],["mat-button","",1,"button-form-primary-filled",2,"width","150px","align-items","center","justify-content","center","text-align","center","display","flex",3,"disabled","click"],["mat-icon-button","",1,"button-form-primary",3,"click"],[1,"fa","fa-check"],[1,"emptyAction",3,"innerHTML"],[1,"title"],[2,"white-space","nowrap","padding-left","10px","padding-right","10px",3,"title"],[1,"subSubject"],["mat-icon-button","",1,"categoryLabel",3,"title","click"],[2,"font-size","20px"],["class","content-item",4,"ngIf"],[1,"content-item"],[1,"content-item-value",3,"title"],[1,"content-item",2,"cursor","pointer",3,"click"],[1,"content-item-value"],["class","fas fa-circle","style","font-size: 8px",3,"color",4,"ngIf"],[2,"position","absolute","right","0px","top","0px","height","100%","display","flex","flex-direction","column","justify-content","center"],["mat-icon-button","",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"fas","fa-flag",2,"font-size","25px","padding-right","20px"],[1,"fas","fa-circle",2,"font-size","8px"],["elseLimitDate",""],[2,"font-weight","bold",3,"title"],[1,"fa","fa-lock"],[1,"content-item-value",3,"title","innerHTML"],["mat-icon-button","",3,"matTooltip","click"],[1,"loadingBanner"],["diameter","35"],[2,"height","100%","width","100%",3,"editMode","resId","title"],["appDocumentViewer",""],["cdkDrag","","cdkDragBoundary",".process-content"],["cdkDragHandle","",1,"modal-module-title"],["mat-icon-button","",3,"click"],[1,"fas","fa-times"],[1,"modal-module-content"],[3,"editMode","resId",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resId","autoOpenCreation","reloadBadgeAttachments",4,"ngIf"],[3,"adminMode","indexingForm","defaultIndexingModelId","afterSelectedListModel",4,"ngIf"],[3,"groupId","indexingFormId","resId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent",4,"ngIf"],[2,"position","sticky","bottom","0px","text-align","right","padding","15px"],[3,"editMode","resId"],[3,"adminMode","resId"],[3,"resId","autoOpenCreation","reloadBadgeAttachments"],[3,"adminMode","indexingForm","defaultIndexingModelId","afterSelectedListModel"],[3,"groupId","indexingFormId","resId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent"]],template:function(t,e){if(1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Qc(1,Pp,10,6,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content",2),i.Zb(4,"div",3),i.Zb(5,"div",4),i.Zb(6,"div",5),i.Ub(7,"header-left"),i.Yb(),i.Zb(8,"div",6),i.Ub(9,"header-right"),i.Yb(),i.Yb(),i.Zb(10,"div",7),i.Zb(11,"div",8),i.Qc(12,Zp,29,22,"ng-container",9),i.Qc(13,Np,2,0,"ng-template",null,10,i.Rc),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",11),i.Zb(16,"div",12),i.Qc(17,Up,2,3,"app-document-viewer",13),i.Yb(),i.Yb(),i.Qc(18,nf,22,20,"div",14),i.Yb(),i.Ub(19,"mat-sidenav",15,16),i.Yb()),2&t){const t=i.Dc(14);i.Eb(5),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",!e.loading)("ngIfElse",t),i.Eb(3),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",!e.loading),i.Eb(1),i.sc("ngForOf",e.modalModule),i.Eb(1),i.Jb("docView",!e.filtersListService.filterMode),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(16,sf,e.appService.getViewMode()?"80%":"30%"))}},directives:[_.e,_.f,dt.a,ht.a,v.t,v.s,_.d,v.w,O.t,g.b,b.a,bd,Cd,Td,Nd,Zi.a,ji.a,Ni.a,Xa.a,Yu,Yi.a,Ja.a,Ui.a,Qu,$u.a,Ya.d,Ya.e,Z.c,N.b,Ya.b,C.b,y.c,Oi.a,qa.a,qa.b],pipes:[l.d,kr.a,v.l,tc.a,v.f,Zn.a,Nn.a],styles:[".document-container[_ngcontent-%COMP%]{flex:1;padding-left:50px;padding-right:50px;color:#fff;margin-top:0;width:100%;overflow:hidden;background-color:#135f7f}@media (max-width:768px){.document-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.document-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;position:relative;height:100%;min-height:200px;width:100%;border-radius:0;box-shadow:none;border:1px solid #fff;justify-content:center;display:flex;align-items:center;text-align:center;font-weight:700;flex-direction:column}.indexing-form-container[_ngcontent-%COMP%]{position:relative;height:100%;overflow:auto;padding-left:20px;padding-right:20px;padding-bottom:20px}@media (max-width:768px){.indexing-form-container[_ngcontent-%COMP%]{padding-right:0;padding-left:0}}.actions-indexing-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;box-shadow:0 -5px 10px 0 rgba(0,0,0,.07);padding:10px 40px}@media (max-width:768px){.actions-indexing-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.emptyModel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center;text-align:center;padding-left:20px;padding-right:20px;font-size:25px;opacity:.3;font-weight:700}.listModels[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;padding:10px 40px}@media (max-width:768px){.listModels[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:0;padding-right:0}}.listModels[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:auto}.listModels-button[_ngcontent-%COMP%]{margin-right:20px;width:450px!important} .listModels-menu{min-width:450px!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-badge{background:#fff!important;color:#135f7f!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-delete .mat-icon{color:#fff!important} .listModels-menu-badge{font-size:70%;background:#135f7f;border-radius:20px;color:#fff;padding:2px 5px;font-weight:700} .listModels-menu-delete .mat-icon{margin-right:0} .listModels-menu-selected{color:#fff!important;background:#135f7f} .listModels-menu-selected .listModels-menu-badge{background:#fff!important;color:#135f7f!important}.emptyAction[_ngcontent-%COMP%]{color:#8e3e52;font-size:14px;text-align:center}.loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;width:100%;background:hsla(0,0%,100%,.73);z-index:2}.loadingBanner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center} .menuAction{min-width:350px!important}.resourceInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px 40px 20px 20px;background:#1a80ab;width:100%}.resourceInfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.resourceInfo[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.resourceInfo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:15px;overflow:auto}.resourceInfo[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center;display:flex;flex:1;padding-left:20px;padding-right:20px;white-space:pre}.resourceInfo[_ngcontent-%COMP%]   .content-item-value[_ngcontent-%COMP%]{font-weight:700;display:flex;align-items:center}.resourceInfo[_ngcontent-%COMP%]   .content-item-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:10px}.processTool[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:20% 20% 20% 20% 20%;background-color:#fff;color:#b3b3b3;border:1px solid #dedede;padding:5px;border-radius:15px;text-align:center}.processTool-module[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:5px;border-right:1px solid #dedede;cursor:pointer;transition:all .3s}.processTool-module[_ngcontent-%COMP%]:nth-child(-n+5){border-bottom:1px solid #dedede}.processTool-module[_ngcontent-%COMP%]:nth-child(5n){border-right:none}.processTool-module[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.processTool-module[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:pre;font-size:10px}.processTool-module-active[_ngcontent-%COMP%]{font-weight:700;color:#135f7f}.processTool-module[_ngcontent-%COMP%]:hover:not(.tool-disabled){transition:all .3s;color:#135f7f}.haveContent[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px;font-size:10px!important;color:#f99830}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{cursor:pointer}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.jiggle[_ngcontent-%COMP%]:active:not(.tool-disabled)   i[_ngcontent-%COMP%]{-webkit-animation:jiggle .2s;-moz-animation-duration:.2s;-moz-animation-name:jiggle;-moz-animation-iteration-count:2;-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg)}@-webkit-keyframes jiggle{0%{-webkit-transform:rotate(-9deg)}50%{-webkit-transform:rotate(9deg)}}.modal-module[_ngcontent-%COMP%]{background:#fff;position:absolute;right:50px;z-index:1;box-shadow:10px 10px 21px -15px rgba(0,0,0,.75);border-radius:5px;padding:10px;width:400px}.modal-module-title[_ngcontent-%COMP%]{cursor:move;color:#fff;padding-left:10px;padding-right:10px;background:#f99830;margin-top:-10px;margin-left:-10px;margin-right:-10px;border-top-left-radius:5px;border-top-right-radius:5px;display:flex;align-items:center}.modal-module-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex:1}.modal-module-content[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.openedModal[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:center;align-items:center;font-size:30px;font-weight:700;opacity:.2}.largeModal[_ngcontent-%COMP%]{width:560px}.menuTitle[_ngcontent-%COMP%]{display:flex;padding-left:20px;align-items:center;color:#135f7f;font-weight:700}.smallInput[_ngcontent-%COMP%]{padding:10px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0}.followIcon[_ngcontent-%COMP%]{color:#f99830}.tool-disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.3}.checked[_ngcontent-%COMP%]{opacity:1;color:#f99830}.unchecked[_ngcontent-%COMP%]{opacity:.5}.emails[_ngcontent-%COMP%], .linkedResources[_ngcontent-%COMP%]{width:600px}.subSubject[_ngcontent-%COMP%]{color:#f99830}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})();var of=n("IzEk");const rf=["adminMenuTemplate"],cf=["appSelectIndexingModel"],lf=["indexingForm"],df=["appDocumentViewer"];function hf(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-indexing-form",19,20),i.hc("retrieveDocumentEvent",(function(){return i.Hc(t),i.lc(3),i.Dc(13).saveDocService()})),i.Yb()}if(2&t){const t=i.lc(3);i.sc("groupId",t.currentGroupId)("indexingFormId",t.currentIndexingModel.id)}}function uf(t,e){1&t&&(i.Zb(0,"small",36),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.badActionParam")))}function pf(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",33),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(4).selectAction(e)})),i.Zb(1,"span",34),i.Sc(2),i.Yb(),i.Qc(3,uf,3,3,"small",35),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(4);i.Jb("listModels-menu-selected",t.id===e.selectedAction.id),i.sc("title",t.label)("disabled",!t.enabled),i.Eb(2),i.Tc(t.label),i.Eb(1),i.sc("ngIf",!t.enabled)}}function ff(t,e){if(1&t&&(i.Xb(0),i.Qc(1,pf,4,6,"button",32),i.Wb()),2&t){const t=e.$implicit,n=i.lc(4);i.Eb(1),i.sc("ngIf",n.showActionInCurrentCategory(t))}}function mf(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",37),i.hc("click",(function(){return i.Hc(t),i.lc(4).onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc(4),e=i.Dc(13);i.sc("disabled",t.actionService.loading||0===t.selectedAction.id||void 0!==e&&!e.isEditorLoaded()),i.Eb(1),i.Tc(i.nc(2,2,"lang.validate"))}}function gf(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",38),i.hc("click",(function(){return i.Hc(t),i.lc(4).onSubmit()})),i.Ub(1,"mat-icon",39),i.Yb()}}function bf(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"button",21),i.Ub(2,"span",22),i.Ub(3,"i",23),i.Yb(),i.Zb(4,"mat-menu",null,24),i.Zb(6,"div",25),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Zb(10,"mat-form-field",26),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()})),i.Zb(11,"input",27,28),i.hc("click",(function(e){return i.Hc(t),e.stopPropagation()}))("keydown",(function(e){return i.Hc(t),e.stopPropagation()})),i.mc(13,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(14,ff,2,1,"ng-container",29),i.mc(15,"filterList"),i.Yb(),i.Qc(16,mf,3,4,"button",30),i.Qc(17,gf,2,0,"button",31),i.Wb()}if(2&t){const t=i.Dc(5),e=i.Dc(12),n=i.lc(3);i.Eb(1),i.sc("disabled",0===n.selectedAction.id)("matMenuTriggerFor",t)("title",n.selectedAction.label),i.Eb(1),i.sc("innerHTML",n.selectedAction.label,i.Ic),i.Eb(2),i.Gb("menuForm menuAction"),i.Eb(4),i.Uc(" ",i.nc(9,11,"lang.actions")," "),i.Eb(3),i.tc("placeholder",i.nc(13,13,"lang.filterBy")),i.Eb(3),i.sc("ngForOf",i.pc(15,15,n.actionsList,e.value,"label")),i.Eb(2),i.sc("ngIf",!n.appService.getViewMode()),i.Eb(1),i.sc("ngIf",n.appService.getViewMode())}}function _f(t,e){if(1&t&&i.Ub(0,"div",40),2&t){const t=i.lc(3);i.sc("innerHTML",t.translate.instant("lang.noAvailableAction"),i.Ic)}}function vf(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",15),i.Qc(2,hf,2,2,"app-indexing-form",16),i.Yb(),i.Zb(3,"div",17),i.Qc(4,bf,18,19,"ng-container",13),i.Qc(5,_f,1,1,"div",18),i.Yb(),i.Wb()),2&t){const t=i.lc(2);i.Eb(2),i.sc("ngIf",void 0!==t.currentIndexingModel.id),i.Eb(2),i.sc("ngIf",t.actionsList.length>0&&void 0!==t.indexingForm&&void 0!==t.selectedAction),i.Eb(1),i.sc("ngIf",0===t.actionsList.length)}}function yf(t,e){if(1&t&&i.Ub(0,"div",41),2&t){const t=i.lc(2);i.sc("innerHTML",t.translate.instant("lang.noAvailableIndexingModel"),i.Ic)}}function xf(t,e){if(1&t){const t=i.ac();i.Zb(0,"app-select-indexing-model",11,12),i.hc("afterListModelsLoaded",(function(e){return i.Hc(t),i.lc().loadIndexingModel(e)}))("afterSelectedListModel",(function(e){i.Hc(t);const n=i.lc();return n.currentIndexingModel=e,n.indexingForm.loadForm(e.id)})),i.Yb(),i.Qc(2,vf,6,3,"ng-container",13),i.Qc(3,yf,1,1,"div",14)}if(2&t){const t=i.lc();i.sc("adminMode",!0)("indexingForm",t.indexingForm),i.Eb(2),i.sc("ngIf",!t.isEmptyIndexingModels()),i.Eb(1),i.sc("ngIf",t.isEmptyIndexingModels())}}function wf(t,e){1&t&&(i.Zb(0,"div",42),i.Ub(1,"i",43),i.Yb())}const Cf=[{path:"resources/:resId/content",canActivate:[r.b],component:Si},{path:"install",loadChildren:()=>n.e(6).then(n.bind(null,"6S62")).then(t=>t.InstallerModule)},{path:"administration",loadChildren:()=>n.e(5).then(n.bind(null,"aPMI")).then(t=>t.AdministrationModule)},{path:"signatureBook/users/:userId/groups/:groupId/baskets/:basketId/resources/:resId",canActivate:[r.b],component:oa},{path:"followed",canActivate:[r.b],component:No},{path:"saveNumericPackage",canActivate:[r.b],component:di},{path:"separators/print",canActivate:[r.b],component:_i},{path:"forgot-password",component:vi},{path:"reset-password",component:Ci},{path:"activate-user",component:L},{path:"password-modification",component:tt},{path:"folders/:folderId",canActivate:[r.b],component:wr},{path:"profile",canActivate:[r.b],component:_n},{path:"about-us",canActivate:[r.b],component:On},{path:"home",canActivate:[r.b],component:oi},{path:"basketList/users/:userSerialId/groups/:groupSerialId/baskets/:basketId",canActivate:[r.b],component:Zc},{path:"login",component:Ai},{path:"registeredMail/acknowledgement",canActivate:[r.b],component:rl},{path:"search",canActivate:[r.b],component:Vl},{path:"process/users/:userSerialId/groups/:groupSerialId/baskets/:basketId/resId/:resId",canActivate:[r.b],canDeactivate:[r.a],component:af},{path:"resources/:detailResId",canActivate:[r.b],canDeactivate:[r.a],component:af},{path:"indexing/:groupId",canActivate:[r.b],component:(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l,d,h,u,p,f){this.translate=t,this.route=e,this._activatedRoute=n,this.http=i,this.dialog=s,this.headerService=a,this.filtersListService=o,this.notify=r,this.overlay=c,this.viewContainerRef=l,this.appService=d,this.actionService=h,this.router=u,this.sortPipe=p,this.functions=f,this.loading=!1,this.indexingModels=[],this.currentIndexingModel={},this.actionsList=[],this.selectedAction={id:0,label:"",component:"",default:!1,categoryUse:[]},this.tmpFilename="",this.isMailing=!1,n.queryParams.subscribe(t=>this.tmpFilename=t.tmpfilename),this.subscription=this.actionService.catchAction().subscribe(t=>{["closeAndIndexAction","saveAndIndexRegisteredMailAction"].indexOf(this.selectedAction.component)>-1?(this.appDocumentViewer.templateListForm.reset(),this.appDocumentViewer.file={name:"",type:"",content:null,src:null},this.appDocumentViewer.triggerEvent.emit("cleanFile"),this.appSelectIndexingModel.resetIndexingModel()):this.router.navigate(["/resources/"+t[0]],{queryParams:this.isMailing?{isMailing:!0}:null})})}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu","form"),this.headerService.sideBarButton={icon:"fa fa-home",label:this.translate.instant("lang.backHome"),route:"/home"},this.fetchData()}fetchData(){this.loading=!1,this.headerService.setHeader(this.translate.instant("lang.recordingMail")),this.route.params.subscribe(t=>{this.currentGroupId=t.groupId,this.http.get("../rest/indexing/groups/"+this.currentGroupId+"/actions").pipe(Object(la.a)(t=>(t.actions=t.actions.map((t,e)=>({id:t.id,label:t.label,component:t.component,enabled:t.enabled,default:0===e,categoryUse:t.categories})),t)),Object(ot.a)(t=>{this.selectedAction=t.actions[0],this.actionsList=t.actions}),Object(Pn.a)(()=>this.loading=!1),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()},t=>{this.notify.handleErrors(t)})}isEmptyIndexingModels(){return void 0!==this.appSelectIndexingModel&&0===this.appSelectIndexingModel.getIndexingModels().length}onSubmit(){if(this.indexingForm.isValidForm()){this.actionService.loading=!0;const t=this.indexingForm.formatDatas(this.indexingForm.getDatas());t.modelId=null!==this.currentIndexingModel.master?this.currentIndexingModel.master:this.currentIndexingModel.id,t.chrono=!0,this.appDocumentViewer.getFile().pipe(Object(of.a)(1),Object(ot.a)(e=>{t.encodedFile=e.content,t.format=e.format,this.isMailing=!this.functions.empty(t.recipients)&&t.recipients.length>0&&"outgoing"===this.currentIndexingModel.category&&null===t.encodedFile,null===t.encodedFile&&"registeredMail"!==this.currentIndexingModel.category?(this.dialogRef=this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.noFile"),msg:this.translate.instant("lang.noFileMsg")}}),this.dialogRef.afterClosed().pipe(Object(ot.a)(t=>{"ok"!==t&&(this.actionService.loading=!1)}),Object(it.a)(t=>"ok"===t),Object(ot.a)(()=>{this.actionService.launchIndexingAction(this.selectedAction,this.headerService.user.id,this.currentGroupId,t)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()):this.actionService.launchIndexingAction(this.selectedAction,this.headerService.user.id,this.currentGroupId,t)})).subscribe()}else this.notify.error(this.translate.instant("lang.mustFixErrors"))}formatDatas(t){const e={},n=/indexingCustomField_[.]*/g;return e.customFields={},t.forEach(t=>{null!==t.identifier.match(n)?e.customFields[t.identifier.split("_")[1]]=t.default_value:e[t.identifier]=t.default_value}),e}loadIndexingModel(t){this.currentIndexingModel=t}selectAction(t){this.selectedAction=t}ngOnDestroy(){this.subscription.unsubscribe()}showActionInCurrentCategory(t){if(-1===this.selectedAction.categoryUse.indexOf(this.indexingForm.getCategory())){const t=this.actionsList.filter(t=>t.categoryUse.indexOf(this.indexingForm.getCategory())>-1)[0];this.selectedAction=void 0!==t?this.actionsList.filter(t=>t.categoryUse.indexOf(this.indexingForm.getCategory())>-1)[0]:{id:0,label:"",component:"",default:!1,categoryUse:[]}}return t.categoryUse.indexOf(this.indexingForm.getCategory())>-1}refreshDatas(){this.appDocumentViewer.setDatas(this.indexingForm.formatDatas(this.indexingForm.getDatas()))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(o.a),i.Tb(o.a),i.Tb(d.b),i.Tb(j.b),i.Tb(u.a),i.Tb(fa),i.Tb(p.a),i.Tb(ma.c),i.Tb(i.R),i.Tb(f.a),i.Tb(Fi.a),i.Tb(o.c),i.Tb(Na.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(rf,!0),i.ad(cf,!0),i.ad(lf,!0),i.ad(df,!0)),2&t&&(i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.appSelectIndexingModel=n.first),i.Cc(n=i.ic())&&(e.indexingForm=n.first),i.Cc(n=i.ic())&&(e.appDocumentViewer=n.first))},features:[i.Db([Fi.a,Na.a])],decls:15,vars:9,consts:[[1,"maarch-container"],["adminMenuTemplate",""],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"document-container"],[1,"content"],[2,"height","100%","width","100%",3,"editMode","tmpFilename","triggerEvent"],["appDocumentViewer",""],["style","font-size: 120px;opacity: 0.4;",4,"ngIf"],[3,"adminMode","indexingForm","afterListModelsLoaded","afterSelectedListModel"],["appSelectIndexingModel",""],[4,"ngIf"],["class","emptyModel",3,"innerHTML",4,"ngIf"],[1,"indexing-form-container"],[3,"groupId","indexingFormId","retrieveDocumentEvent",4,"ngIf"],[1,"actions-indexing-form"],["class","emptyAction",3,"innerHTML",4,"ngIf"],[3,"groupId","indexingFormId","retrieveDocumentEvent"],["indexingForm",""],["mat-button","",1,"button-form-primary",2,"width","350px","margin-right","20px",3,"disabled","matMenuTriggerFor","title"],[1,"menu-label",3,"innerHTML"],[1,"fa","fa-chevron-down","menu-icon"],["menu","matMenu"],[1,"menuTitle"],["floatLabel","never","appearance","outline",1,"smallInput",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","click","keydown"],["listFilter",""],[4,"ngFor","ngForOf"],["mat-button","","class","button-form-primary-filled","style","width: 150px;align-items: center;justify-content: center;text-align: center;display: flex;",3,"disabled","click",4,"ngIf"],["mat-icon-button","","class","button-form-primary",3,"click",4,"ngIf"],["mat-menu-item","",3,"title","listModels-menu-selected","disabled","click",4,"ngIf"],["mat-menu-item","",3,"title","disabled","click"],[2,"flex","1"],["style","position: absolute;top: 15px;left: 140px;","color","warn",4,"ngIf"],["color","warn",2,"position","absolute","top","15px","left","140px"],["mat-button","",1,"button-form-primary-filled",2,"width","150px","align-items","center","justify-content","center","text-align","center","display","flex",3,"disabled","click"],["mat-icon-button","",1,"button-form-primary",3,"click"],[1,"fa","fa-check"],[1,"emptyAction",3,"innerHTML"],[1,"emptyModel",3,"innerHTML"],[2,"font-size","120px","opacity","0.4"],[1,"fas","fa-dolly-flatbed"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Qc(1,xf,4,4,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content"),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Ub(7,"header-left"),i.Yb(),i.Zb(8,"div",5),i.Ub(9,"header-right"),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",6),i.Zb(11,"div",7),i.Zb(12,"app-document-viewer",8,9),i.hc("triggerEvent",(function(){return e.refreshDatas()})),i.Yb(),i.Qc(14,wf,2,0,"div",10),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.Pc("display","registeredMail"!==e.currentIndexingModel.category?"block":"none"),i.sc("editMode",!0)("tmpFilename",e.tmpFilename),i.Eb(2),i.sc("ngIf","registeredMail"===e.currentIndexingModel.category))},directives:[_.e,_.f,dt.a,ht.a,Oi.a,v.t,Qu,$u.a,g.b,Ya.d,Ya.e,Z.c,N.b,v.s,Ya.b,b.a],pipes:[l.d,kr.a],styles:[".panel-left[_ngcontent-%COMP%]    .mat-drawer-inner-container{display:flex;flex-direction:column}.document-container[_ngcontent-%COMP%]{flex:1;padding-left:50px;padding-right:50px;color:#fff;margin-top:0;width:100%;overflow:hidden;background-color:#135f7f}@media (max-width:768px){.document-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.document-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;position:relative;height:100%;min-height:200px;width:100%;border-radius:0;box-shadow:none;border:1px solid #fff;justify-content:center;display:flex;align-items:center;text-align:center;font-weight:700;flex-direction:column}.indexing-form-container[_ngcontent-%COMP%]{height:100%;overflow:auto;padding-left:20px;padding-right:20px;padding-bottom:20px}@media (max-width:768px){.indexing-form-container[_ngcontent-%COMP%]{padding-right:0;padding-left:0}}.actions-indexing-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;box-shadow:0 -5px 10px 0 rgba(0,0,0,.07);padding:10px 40px}@media (max-width:768px){.actions-indexing-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.emptyModel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center;text-align:center;padding-left:20px;padding-right:20px;font-size:25px;opacity:.3;font-weight:700}.listModels[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;padding:10px 40px}@media (max-width:768px){.listModels[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:0;padding-right:0}}.listModels[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:auto}.listModels-button[_ngcontent-%COMP%]{margin-right:20px;width:450px!important} .listModels-menu{min-width:450px!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-badge{background:#fff!important;color:#135f7f!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-delete .mat-icon{color:#fff!important} .listModels-menu-badge{font-size:70%;background:#135f7f;border-radius:20px;color:#fff;padding:2px 5px;font-weight:700} .listModels-menu-delete .mat-icon{margin-right:0} .listModels-menu-selected{color:#fff!important;background:#135f7f} .listModels-menu-selected .listModels-menu-badge{background:#fff!important;color:#135f7f!important}.emptyAction[_ngcontent-%COMP%]{color:#8e3e52;font-size:14px;text-align:center}.loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;width:100%;background:hsla(0,0%,100%,.73);z-index:2} .menuAction{min-width:350px!important}.menuTitle[_ngcontent-%COMP%]{display:flex;padding-left:20px;align-items:center;color:#135f7f;font-weight:700}.smallInput[_ngcontent-%COMP%]{padding:10px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},{path:"",redirectTo:"home",pathMatch:"full"}];let Of=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[o.g.forRoot(Cf,{preloadingStrategy:o.b,useHash:!0})],o.g]}),t})();var kf=n("R1ws"),Sf=n("cMWS"),Ef=n("U+qY");let Mf=(()=>{class t{constructor(t){t.setDefaultLang("fr")}}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)(i.dc(l.e))},imports:[[a.a,Ef.a,Sf.a],Ef.a]}),t})(),If=(()=>{class t{constructor(t){t.setDefaultLang("fr")}}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)(i.dc(l.e))},imports:[[a.a,_a.i,Sf.a],a.a]}),t})(),Pf=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.router=n,this.notificationService=i,this.authService=s,this.functionsService=a,this.byPassToken=[{route:"../rest/prerequisites",method:["GET"]},{route:"../rest/authenticate",method:["POST"]},{route:"../rest/authenticate/token",method:["GET"]},{route:"../rest/authenticationInformation",method:["GET"]},{route:"../rest/passwordRules",method:["GET"]},{route:"../rest/languages",method:["GET"]}],this.byPassHandleErrors=[{route:"/password",method:["PUT"]}]}addAuthHeader(t){const e=this.authService.getToken();return t.clone({setHeaders:{Authorization:"Bearer "+e}})}logout(){this.authService.logout(!1),this.notificationService.error(this.translate.instant("lang.sessionExpired"))}intercept(t,e){return this.byPassToken.filter(e=>t.url.indexOf(e.route)>-1&&e.method.indexOf(t.method)>-1).length>0?e.handle(t):(t=this.addAuthHeader(t),e.handle(t).pipe(Object(yn.a)(n=>{if(this.byPassHandleErrors.filter(e=>t.url.indexOf(e.route)>-1&&e.method.indexOf(t.method)>-1).length>0)return e.handle(t);if(401===n.status)return this.functionsService.debug("Auth error",t.url),this.http.get("../rest/authenticate/token",{params:{refreshToken:this.authService.getRefreshToken()}}).pipe(Object(at.a)(n=>(this.functionsService.debug("Attempt get token ... !",t.url),this.authService.setToken(n.token),this.authService.updateUserInfo(n.token),t=this.addAuthHeader(t),e.handle(t).pipe(Object(yn.a)(t=>{if(401===t.status)return this.logout(),Object(xn.of)(!1)})))),Object(yn.a)(e=>(401===e.status&&(this.functionsService.debug("Refresh token failed !",t.url),this.logout()),Object(xn.of)(!1))));if("User must change his password"===n.error.errors)return this.router.navigate(["/password-modification"]);{const t=new d.d({error:n.error,status:n.status,statusText:n.statusText,headers:n.headers,url:n.url});return Promise.reject(t)}})))}}return t.\u0275fac=function(e){return new(e||t)(i.dc(l.e),i.dc(d.b),i.dc(o.c),i.dc(p.a),i.dc(h.a),i.dc(lt.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();var Tf=n("qQ0q"),Af=n("mLrj"),Df=n("ZnWJ"),Rf=n("QNbu");function Lf(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-list-item",4),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).gotToFolder(n)}))("cdkDropListDropped",(function(n){i.Hc(t);const s=e.$implicit;return i.lc(2).drop(n,s)}))("cdkDropListEntered",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).dragEnter(n)}))("cdkDropListExited",(function(){return e.$implicit.drag=!1})),i.Zb(1,"mat-icon",5),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(2);return n.stopPropagation(),a.foldersService.unpinFolder(s)})),i.Ub(2,"i",6),i.Yb(),i.Zb(3,"span",7),i.Zb(4,"span",8),i.Sc(5),i.Yb(),i.Yb(),i.Zb(6,"span",9),i.Sc(7),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.lc(2);i.Jb("selectedFolder",n.foldersService.getCurrentFolder().id==t.id),i.sc("id","folder-list-"+t.id),i.Eb(1),i.sc("title",n.translate.instant("lang.unpinFolder")),i.Eb(3),i.Jb("drag",t.drag),i.sc("title",t.label),i.Eb(1),i.Uc(" ",t.label," "),i.Eb(1),i.Jb("empty",0===t.countResources),i.Eb(1),i.Uc(" ",t.countResources," ")}}function Ff(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-list",2),i.Qc(2,Lf,8,11,"mat-list-item",3),i.Yb(),i.Wb()),2&t){const t=i.lc();i.Eb(2),i.sc("ngForOf",t.foldersService.getPinnedList())}}function jf(t,e){1&t&&(i.Zb(0,"div",10),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noPinnedFolder")," "))}let Yf=(()=>{class t{constructor(t,e,n){this.translate=t,this.http=e,this.foldersService=n,this.noInit=!1,this.subscription=this.foldersService.catchEvent().subscribe(t=>{})}ngOnInit(){this.foldersService.initFolder(),this.noInit||this.foldersService.getPinnedFolders()}gotToFolder(t){this.foldersService.goToFolder(t)}dragEnter(t){t.drag=!0}drop(t,e){this.foldersService.classifyDocument(t,e)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(ga.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["folder-pinned"]],inputs:{noInit:"noInit"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"pinnedFolderList"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']",3,"selectedFolder","id","click","cdkDropListDropped","cdkDropListEntered","cdkDropListExited",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']",3,"id","click","cdkDropListDropped","cdkDropListEntered","cdkDropListExited"],["mat-list-icon","",1,"pinnedIcon",3,"title","click"],[1,"fa","fa-thumbtack"],[1,"pinnedFolderItem"],[1,"treeLabel",3,"title"],[1,"countResources"],[1,"noPinnedFolder"]],template:function(t,e){if(1&t&&(i.Qc(0,Ff,3,1,"ng-container",0),i.Qc(1,jf,3,3,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.foldersService.getPinnedList().length>0)("ngIfElse",t)}},directives:[v.t,x.a,v.s,x.d,qa.e,b.a,x.c],pipes:[l.d],styles:[".pinnedFolderList[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{cursor:pointer;height:45px}.pinnedFolderList[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.pinnedFolderList[_ngcontent-%COMP%]    .mat-list-text{padding-left:0!important}.pinnedFolderList[_ngcontent-%COMP%]   .pinnedFolderItem[_ngcontent-%COMP%]{font-weight:700;font-size:12px;width:90%;overflow:hidden;text-overflow:ellipsis}.pinnedFolderList[_ngcontent-%COMP%]   .folderAction[_ngcontent-%COMP%]{color:#666}.pinnedIcon[_ngcontent-%COMP%]{cursor:pointer;color:#135f7f;text-align:center}.pinnedIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;transition:all .3s}.pinnedIcon[_ngcontent-%COMP%]:hover{color:#8e3e52}.pinnedIcon[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transition:all .3s;transform:rotate(45deg) translateY(-50%)}.countResources[_ngcontent-%COMP%]{color:#135f7f;font-weight:700;font-size:14px}.empty[_ngcontent-%COMP%]{opacity:.5;font-size:12px;color:#666}button[_ngcontent-%COMP%]:disabled{opacity:1}.selectedFolder[_ngcontent-%COMP%]{border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.public[_ngcontent-%COMP%]{color:#f99830}.drag[_ngcontent-%COMP%]{color:#f99830!important}.noPinnedFolder[_ngcontent-%COMP%]{text-align:center;font-size:13px;opacity:.5;font-style:italic}.treeLabel[_ngcontent-%COMP%]{white-space:pre;color:#666}"]}),t})();var Zf=n("FvrZ"),Nf=n("R0Ic"),Uf=n("8yBR");function Bf(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-expansion-panel",22),i.Zb(1,"mat-expansion-panel-header"),i.Zb(2,"mat-panel-title"),i.Sc(3),i.Yb(),i.Yb(),i.Zb(4,"mat-slide-toggle",23),i.hc("change",(function(e){i.Hc(t);const n=i.lc().$implicit;return i.lc(2).toggleAdmin(n,e)})),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(2);i.Eb(3),i.Uc(" ",t.entity_label," "),i.Eb(1),i.sc("checked",e.isAdminEnabled(t)),i.Eb(1),i.Uc("",i.nc(6,3,"lang.canManageFolder")," ")}}function zf(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Bf,7,5,"mat-expansion-panel",21),i.Wb()),2&t){const t=e.$implicit,n=i.lc(2);i.Eb(1),i.sc("ngIf",n.checkSelectedFolder(t))}}function Vf(t,e){if(1&t&&(i.Zb(0,"div",17),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Qc(5,zf,2,1,"ng-container",20),i.Yb(),i.Yb()),2&t){const t=i.lc();i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.parameters")," "),i.Eb(2),i.sc("ngForOf",t.entities)}}let Hf=(()=>{class t{constructor(t,e,n,i,s,a){this.translate=t,this.http=e,this.notify=n,this.dialogRef=i,this.functions=s,this.data=a,this.folder={id:0,label:"",public:!0,user_id:0,parent_id:null,level:0,sharing:{entities:[]}},this.sharingFolderCLone=[],this.holdShift=!1,this.entities=[]}onKeydownHandler(t){this.holdShift=!0}onKeyupHandler(t){this.holdShift=!1}ngOnInit(){this.getFolder()}getFolder(){this.http.get("../rest/folders/"+this.data.folderId).pipe(Object(ot.a)(t=>this.folder=t.folder),Object(da.a)(()=>this.http.get("../rest/entities")),Object(la.a)(t=>{const e={serialId:"ALL_ENTITIES",keyword:"ALL_ENTITIES",parent:"#",icon:"fa fa-hashtag",allowed:!0,text:this.translate.instant("lang.allEntities"),state:{opened:!1,selected:!1},parent_entity_id:"",id:"ALL_ENTITIES",entity_label:this.translate.instant("lang.allEntities")};return t.entities.unshift(e),this.entities=t.entities,t.entities.forEach(t=>{(this.folder.sharing.entities.map(t=>t.entity_id).indexOf(t.serialId)>-1||this.folder.sharing.entities.map(t=>t.keyword).indexOf(t.serialId)>-1)&&(t.state.selected=!0),t.state.allowed=!0,t.state.disabled=!1}),t}),Object(ot.a)(t=>{this.initEntitiesTree(t.entities)}),Object(da.a)(()=>this.http.get("../rest/folders")),Object(la.a)(t=>{let e=0;return t.folders.forEach(t=>{t.state={opened:!0},null===t.parent_id&&(t.parent_id="#"),t.id===this.folder.parent_id&&(t.state.selected=!0),t.id!==this.folder.id&&e!==t.parent_id&&t.canEdit||(e=t.id,t.state.opened=!1,t.state.disabled=!0),t.parent=t.parent_id,t.text=t.label}),t}),Object(ot.a)(t=>{this.initFoldersTree(t.folders)}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1))),Object(Pn.a)(()=>this.sharingFolderCLone=JSON.parse(JSON.stringify(this.folder.sharing.entities)))).subscribe()}initFoldersTree(t){$("#jstreeFolders").jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},multiple:!1,data:t},plugins:["checkbox","search"]}),$("#jstreeFolders").on("select_node.jstree",(t,e)=>{this.folder.parent_id=e.node.original.id}).on("deselect_node.jstree",(t,e)=>{this.folder.parent_id=""}).jstree();let e=!1;$("#jstree_searchFolders").keyup((function(){e&&clearTimeout(e),e=setTimeout((function(){const t=$("#jstree_searchFolders").val();$("#jstreeFolders").jstree(!0).search(t)}),250)}))}initEntitiesTree(t){$("#jstree").jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},data:t},plugins:["checkbox","search"]}),$("#jstree").on("select_node.jstree",(t,e)=>{this.selectEntity(e.node.original)}).on("deselect_node.jstree",(t,e)=>{this.deselectEntity(e.node.original)}).jstree();let e=!1;$("#jstree_search").keyup((function(){e&&clearTimeout(e),e=setTimeout((function(){const t=$("#jstree_search").val();$("#jstree").jstree(!0).search(t)}),250)}))}selectEntity(t){this.holdShift?($("#jstree").jstree("deselect_all"),this.folder.sharing.entities=[]):this.functions.empty(t.keyword)?this.folder.sharing.entities.push({entity_id:t.serialId,edition:!1}):this.folder.sharing.entities.push({keyword:t.keyword,edition:!1})}deselectEntity(t){let e=this.folder.sharing.entities.map(t=>t.entity_id).indexOf(t.serialId);e>-1?this.folder.sharing.entities.splice(e,1):(e=this.folder.sharing.entities.map(t=>t.keyword).indexOf(t.serialId),e>-1&&this.folder.sharing.entities.splice(e,1))}onSubmit(){this.http.put("../rest/folders/"+this.folder.id,this.folder).pipe(Object(da.a)(()=>JSON.stringify(this.sharingFolderCLone)!==JSON.stringify(this.folder.sharing.entities)?this.http.put("../rest/folders/"+this.folder.id+"/sharing",{public:this.folder.sharing.entities.length>0,sharing:this.folder.sharing}):Object(xn.of)(!1)),Object(ot.a)(()=>{this.notify.success(this.translate.instant("lang.folderUpdated")),this.dialogRef.close("success")}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}checkSelectedFolder(t){return this.folder.sharing.entities.map(t=>t.entity_id).indexOf(t.serialId)>-1||this.folder.sharing.entities.map(t=>t.keyword).indexOf(t.serialId)>-1}initService(t){1===t.index&&this.initEntitiesTree(this.entities)}toggleAdmin(t,e){let n=this.folder.sharing.entities.map(t=>t.entity_id).indexOf(t.serialId);n>-1?this.folder.sharing.entities[n].edition=e.checked:(n=this.folder.sharing.entities.map(t=>t.keyword).indexOf(t.serialId),n>-1&&(this.folder.sharing.entities[n].edition=e.checked))}isAdminEnabled(t){let e=this.folder.sharing.entities.map(t=>t.entity_id).indexOf(t.serialId);return e>-1?this.folder.sharing.entities[e].edition:(e=this.folder.sharing.entities.map(t=>t.keyword).indexOf(t.serialId),e>-1&&this.folder.sharing.entities[e].edition)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.h),i.Tb(lt.a),i.Tb(j.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&i.hc("keydown.Shift",(function(t){return e.onKeydownHandler(t)}),!1,i.Fc)("keyup",(function(t){return e.onKeyupHandler(t)}),!1,i.Fc)},decls:35,vars:31,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[3,"ngSubmit"],["submitForm","ngForm"],[1,"col-md-12"],["matInput","","name","label",3,"placeholder","ngModel","ngModelChange"],[3,"selectedTabChange"],[3,"label"],["appearance","outline"],["matInput","","id","jstree_searchFolders","type","text",3,"placeholder"],["id","jstreeFolders",1,"entitiesList"],["matInput","","id","jstree_search","type","text",3,"placeholder"],["id","jstree",1,"entitiesList"],["class","col-md-6",4,"ngIf"],[1,"divider-modal"],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","type","button","color","default",3,"click"],[1,"col-md-6"],[1,"formType","jstreeEntities"],[1,"formType-title"],[4,"ngFor","ngForOf"],["class","selectedEntities","opened","",4,"ngIf"],["opened","",1,"selectedEntities"],["color","primary",3,"checked","change"]],template:function(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-dialog-content"),i.Zb(5,"form",2,3),i.hc("ngSubmit",(function(){return e.onSubmit()})),i.Zb(7,"div",4),i.Zb(8,"mat-form-field"),i.Zb(9,"input",5),i.hc("ngModelChange",(function(t){return e.folder.label=t})),i.mc(10,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"div",4),i.Zb(12,"mat-tab-group",6),i.hc("selectedTabChange",(function(t){return e.initService(t)})),i.Zb(13,"mat-tab",7),i.mc(14,"translate"),i.Zb(15,"mat-form-field",8),i.Ub(16,"input",9),i.mc(17,"translate"),i.Yb(),i.Ub(18,"div",10),i.Yb(),i.Zb(19,"mat-tab",7),i.mc(20,"translate"),i.Zb(21,"div"),i.Zb(22,"mat-form-field",8),i.Ub(23,"input",11),i.mc(24,"translate"),i.Yb(),i.Ub(25,"div",12),i.Yb(),i.Qc(26,Vf,6,4,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(27,"span",14),i.Zb(28,"mat-dialog-actions"),i.Zb(29,"button",15),i.hc("click",(function(){return i.Hc(t),i.Dc(6).ngSubmit.emit()})),i.Sc(30),i.mc(31,"translate"),i.Yb(),i.Zb(32,"button",16),i.hc("click",(function(){return e.dialogRef.close()})),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Yb(),i.Yb()}2&t&&(i.Eb(2),i.Vc("",i.nc(3,15,"lang.folder")," : ",e.folder.label,""),i.Eb(7),i.tc("placeholder",i.nc(10,17,"lang.label")),i.sc("ngModel",e.folder.label),i.Eb(4),i.tc("label",i.nc(14,19,"lang.setInParentFolder")),i.Eb(3),i.tc("placeholder",i.nc(17,21,"lang.searchFolder")),i.Eb(3),i.tc("label",i.nc(20,23,"lang.shareToEntities")),i.Eb(2),i.Jb("col-md-12",0===e.folder.sharing.entities.length)("col-md-6",e.folder.sharing.entities.length>0),i.Eb(2),i.tc("placeholder",i.nc(24,25,"lang.searchEntities")),i.Eb(3),i.sc("ngIf",e.folder.sharing.entities.length>0),i.Eb(4),i.Tc(i.nc(31,27,"lang.validate")),i.Eb(3),i.Tc(i.nc(34,29,"lang.cancel")))},directives:[j.i,j.f,F.J,F.u,F.v,Z.c,N.b,F.c,F.t,F.w,ut.c,ut.a,v.t,j.c,g.b,v.s,rt.c,rt.g,rt.h,mt.a],pipes:[l.d],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.formType[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;background:#fff;position:absolute;top:-18px;left:10px;padding:0;margin:0;color:#135f7f}.entitiesList[_ngcontent-%COMP%]{overflow:auto}.selectedEntities[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}"]}),t})();var Qf=n("OGgV"),$f=n("7RJT");const Wf=["itemValue"],Gf=["autocomplete"],qf=["tree"];function Xf(t,e){1&t&&(i.Zb(0,"div",10),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAvailableFolder")," "))}function Jf(t,e){1&t&&(i.Ub(0,"i",31),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function Kf(t,e){1&t&&i.Ub(0,"mat-icon",32)}function tm(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Jb("empty",0===t.countResources),i.Eb(1),i.Uc(" ",t.countResources," ")}}function em(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-tree-node",15),i.hc("cdkDropListDropped",(function(n){i.Hc(t);const s=e.$implicit;return i.lc(3).drop(n,s)}))("cdkDropListEntered",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).dragEnter(n)}))("cdkDropListExited",(function(){return e.$implicit.drag=!1})),i.Ub(1,"button",16),i.Zb(2,"a",17),i.hc("mouseenter",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).showAction(n)}))("mouseleave",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).hideAction(n)}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).foldersService.goToFolder(n)})),i.Zb(3,"span",18),i.Zb(4,"span",19),i.Qc(5,Jf,2,3,"i",20),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"button",21),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.showAction(s),a.checkRights(s)})),i.Qc(8,Kf,1,0,"mat-icon",22),i.Qc(9,tm,2,3,"span",23),i.Yb(),i.Zb(10,"mat-menu",null,24),i.Zb(12,"button",25),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).togglePinFolder(n)})),i.Zb(13,"mat-icon"),i.Ub(14,"i",26),i.Yb(),i.Zb(15,"span"),i.Sc(16),i.Yb(),i.Yb(),i.Zb(17,"button",27),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).addNewItem(n)})),i.Zb(18,"mat-icon",28),i.Ub(19,"i",7),i.Yb(),i.Zb(20,"span"),i.Sc(21),i.mc(22,"translate"),i.Yb(),i.Yb(),i.Zb(23,"button",27),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).deleteNode(n)})),i.Zb(24,"mat-icon",28),i.Ub(25,"i",29),i.Yb(),i.Zb(26,"span"),i.Sc(27),i.mc(28,"translate"),i.Yb(),i.Yb(),i.Zb(29,"button",27),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).openFolderAdmin(n)})),i.Zb(30,"mat-icon",28),i.Ub(31,"i",30),i.Yb(),i.Zb(32,"span"),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.Dc(11),s=i.lc(3);i.sc("id","treefolder-list-"+t.id)("@hideShow",void 0),i.Eb(2),i.Jb("selectedFolder",s.foldersService.getCurrentFolder().id==t.id),i.Eb(2),i.Jb("drag",t.drag),i.sc("title",t.label),i.Eb(1),i.sc("ngIf",t.public),i.Eb(1),i.Uc(" ",t.label," "),i.Eb(1),i.sc("matMenuTriggerFor",n)("disabled",!t.showAction),i.Eb(1),i.sc("ngIf",t.showAction),i.Eb(1),i.sc("ngIf",!t.showAction),i.Eb(1),i.Gb("folderListMenu"),i.Eb(3),i.Jb("pinnedActionIcon",!t.pinned)("revertPinnedActionIcon",t.pinned),i.Eb(3),i.Tc(s.translate.instant(t.pinned?"lang.unpinFolder":"lang.pinFolder")),i.Eb(1),i.sc("disabled",s.createItemNode||!t.canAdd||t.level>6),i.Eb(4),i.Tc(i.nc(22,26,"lang.addSubFolder")),i.Eb(2),i.sc("disabled",!t.canDelete),i.Eb(4),i.Uc(" ",i.nc(28,28,"lang.delete")," "),i.Eb(2),i.sc("disabled",!t.edition),i.Eb(4),i.Uc(" ",i.nc(34,30,"lang.properties")," ")}}function nm(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-tree-node",34),i.Zb(1,"form"),i.Zb(2,"mat-form-field",35),i.Ub(3,"input",36,37),i.mc(5,"translate"),i.Zb(6,"button",38),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=i.Dc(4);return i.lc(3).saveNode(n,s.value)})),i.Ub(7,"mat-icon",39),i.Yb(),i.Zb(8,"button",40),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).removeTemporaryNode(n)})),i.Ub(9,"mat-icon",41),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.Dc(4),e=i.lc(3);i.Eb(3),i.uc("placeholder","",i.nc(5,4,"lang.addFolder"),"..."),i.Eb(3),i.sc("disabled",""===t.value),i.Eb(1),i.sc("title",e.translate.instant("lang.add")),i.Eb(2),i.sc("title",e.translate.instant("lang.delete"))}}function im(t,e){1&t&&(i.Ub(0,"i",31),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function sm(t,e){1&t&&i.Ub(0,"mat-icon",32)}function am(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Jb("empty",0===t.countResources),i.Eb(1),i.Uc(" ",t.countResources," ")}}function om(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-tree-node",42),i.hc("cdkDropListDropped",(function(n){i.Hc(t);const s=e.$implicit;return i.lc(3).drop(n,s)}))("cdkDropListEntered",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).dragEnter(n)}))("cdkDropListExited",(function(){return e.$implicit.drag=!1})),i.Zb(1,"button",43),i.Ub(2,"mat-icon"),i.Yb(),i.Zb(3,"a",44),i.hc("mouseleave",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).hideAction(n)}))("mouseenter",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).showAction(n)}))("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).foldersService.goToFolder(n)})),i.Zb(4,"span",18),i.Zb(5,"span",19),i.Qc(6,im,2,3,"i",20),i.Sc(7),i.Yb(),i.Yb(),i.Zb(8,"button",21),i.hc("click",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(3);return n.stopPropagation(),a.checkRights(s)})),i.Qc(9,sm,1,0,"mat-icon",22),i.Qc(10,am,2,3,"span",23),i.Yb(),i.Zb(11,"mat-menu",null,24),i.Zb(13,"button",25),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).togglePinFolder(n)})),i.Zb(14,"mat-icon"),i.Ub(15,"i",26),i.Yb(),i.Zb(16,"span"),i.Sc(17),i.Yb(),i.Yb(),i.Zb(18,"button",27),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).addNewItem(n)})),i.Zb(19,"mat-icon",28),i.Ub(20,"i",7),i.Yb(),i.Zb(21,"span"),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Yb(),i.Zb(24,"button",27),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).deleteNode(n)})),i.Zb(25,"mat-icon",28),i.Ub(26,"i",29),i.Yb(),i.Zb(27,"span"),i.Sc(28),i.mc(29,"translate"),i.Yb(),i.Yb(),i.Zb(30,"button",27),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(3).openFolderAdmin(n)})),i.Zb(31,"mat-icon",28),i.Ub(32,"i",30),i.Yb(),i.Zb(33,"span"),i.Sc(34),i.mc(35,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.Dc(12),s=i.lc(3);i.sc("id","treefolder-list-"+t.id)("@hideShow",void 0),i.Eb(1),i.Fb("aria-label","toggle "+t.name),i.Eb(1),i.Hb("mat-icon-rtl-mirror fa ",s.treeControl.isExpanded(t)?"fa-chevron-down":"fa-chevron-right",""),i.Eb(1),i.Jb("selectedFolder",s.foldersService.getCurrentFolder().id==t.id),i.Eb(2),i.Jb("drag",t.drag),i.sc("title",t.label),i.Eb(1),i.sc("ngIf",t.public),i.Eb(1),i.Uc(" ",t.label," "),i.Eb(1),i.sc("matMenuTriggerFor",n)("disabled",!t.showAction),i.Eb(1),i.sc("ngIf",t.showAction),i.Eb(1),i.sc("ngIf",!t.showAction),i.Eb(1),i.Gb("folderListMenu"),i.Eb(3),i.Jb("pinnedActionIcon",!t.pinned)("revertPinnedActionIcon",t.pinned),i.Eb(3),i.Tc(s.translate.instant(t.pinned?"lang.unpinFolder":"lang.pinFolder")),i.Eb(1),i.sc("disabled",s.createItemNode||!t.canAdd||t.level>6),i.Eb(4),i.Tc(i.nc(23,30,"lang.addSubFolder")),i.Eb(2),i.sc("disabled",!t.canDelete),i.Eb(4),i.Uc(" ",i.nc(29,32,"lang.delete")," "),i.Eb(2),i.sc("disabled",!t.edition),i.Eb(4),i.Uc(" ",i.nc(35,34,"lang.properties")," ")}}function rm(t,e){if(1&t&&(i.Zb(0,"mat-nav-list"),i.Zb(1,"mat-tree",11),i.Qc(2,em,35,32,"mat-tree-node",12),i.Qc(3,nm,10,6,"mat-tree-node",13),i.Qc(4,om,36,36,"mat-tree-node",14),i.Yb(),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.sc("dataSource",t.dataSource)("treeControl",t.treeControl),i.Eb(2),i.sc("matTreeNodeDefWhen",t.hasNoContent),i.Eb(1),i.sc("matTreeNodeDefWhen",t.hasChild)}}const cm=function(){return["/rest/autocomplete/folders"]};function lm(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"div",2),i.Zb(2,"div",3),i.Zb(3,"plugin-autocomplete",4,5),i.hc("triggerEvent",(function(e){return i.Hc(t),i.lc().goTo(e)})),i.Yb(),i.Yb(),i.Zb(5,"div"),i.Zb(6,"button",6),i.hc("click",(function(){return i.Hc(t),i.lc().openCreateFolderModal()})),i.mc(7,"translate"),i.Ub(8,"mat-icon",7),i.Yb(),i.Yb(),i.Yb(),i.Qc(9,Xf,3,3,"div",8),i.Qc(10,rm,5,4,"mat-nav-list",9),i.Wb()}if(2&t){const t=i.lc();i.Eb(3),i.sc("size","small")("labelPlaceholder",t.translate.instant("lang.searchFolder"))("routeDatas",i.yc(9,cm))("targetSearchKey","idToDisplay"),i.Eb(3),i.tc("title",i.nc(7,7,"lang.addRootFolder")),i.Eb(3),i.sc("ngIf",0===t.dataSource.data.length),i.Eb(1),i.sc("ngIf",t.dataSource.data.length>0)}}function dm(t,e){1&t&&(i.Zb(0,"div",45),i.Ub(1,"mat-spinner"),i.Yb())}class hm{}let um=(()=>{class t{constructor(t,e,n,s,a,o,r,c,l){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.router=a,this.renderer=o,this.headerService=r,this.foldersService=c,this.functions=l,this.loading=!0,this.searchTerm=new F.h,this.TREE_DATA=[],this.createRootNode=!1,this.createItemNode=!1,this.dataChange=new $f.BehaviorSubject([]),this.refreshDocList=new i.o,this.refreshFolderList=new i.o,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.transformer=(t,e)=>{const n=this.nestedNodeMap.get(t),i=n&&n.label===t.label?n:new hm;return i.label=t.label,i.countResources=t.countResources,i.public=t.public,i.pinned=t.pinned,i.parent_id=t.parent_id,i.id=t.id,i.level=e,i.expandable=!!t.children,this.flatNodeMap.set(i,t),this.nestedNodeMap.set(t,i),i},this.treeControl=new Zf.j(t=>t.level,t=>t.expandable),this.treeFlattener=new Uf.d(this.transformer,t=>t.level,t=>t.expandable,t=>t.children),this.dataSource=new Uf.c(this.treeControl,this.treeFlattener),this.hasChild=(t,e)=>e.expandable,this.hasNoContent=(t,e)=>""===e.label,this.subscription=this.foldersService.catchEvent().subscribe(t=>{if("initTree"===t.type){const t=this.flatToNestedObject(this.foldersService.getList());t.length>0&&(this.initTree(t),this.openTree(this.foldersService.getCurrentFolder().id)),this.loading=!1}else"refreshFolderCount"===t.type?this.treeControl.dataNodes.filter(e=>e.id===t.content.id)[0].countResources=t.content.countResources:"refreshFolderPinned"===t.type?this.treeControl.dataNodes.filter(e=>e.id===t.content.id)[0].pinned=t.content.pinned:void 0!==this.treeControl.dataNodes&&this.openTree(this.foldersService.getCurrentFolder().id)})}get data(){return this.dataChange.value}ngOnInit(){this.getFolders()}getFolders(){this.loading=!0,this.foldersService.getFolders()}initTree(t){this.dataChange.next(t),this.dataChange.subscribe(t=>{this.dataSource.data=t})}openTree(t){let e=this.treeControl.dataNodes.map(t=>t.id).indexOf(parseInt(t));for(;-1!==e;)e=this.treeControl.dataNodes.map(t=>t.id).indexOf(this.treeControl.dataNodes[e].parent_id),-1!==e&&this.treeControl.expand(this.treeControl.dataNodes[e])}showAction(t){this.treeControl.dataNodes.forEach(t=>{t.showAction=!1}),t.showAction=!0}hideAction(t){t.showAction=!1}flatToNestedObject(t){return t.reduce((t,e,n,i)=>(null===e.parent_id?(t.left.length&&this.checkLeftOvers(t.left,e),delete e.parent_id,e.root=!0,t.nested.push(e)):this.findParent(t.nested,e)?this.checkLeftOvers(t.left,e):t.left.push(e),n<i.length-1?t:t.nested),{nested:[],left:[]})}checkLeftOvers(t,e){for(let n=0;n<t.length;n++)if(t[n].parent_id===e.id){e.children?e.children.push(t[n]):e.children=[t[n]],e.count=e.children.length;const i=t.splice(n,1);this.checkLeftOvers(t,i[0])}}findParent(t,e){let n=!1;for(let i=0;i<t.length;i++){if(t[i].id===e.parent_id)return n=!0,t[i].children?t[i].children.push(e):t[i].children=[e],t[i].count=t[i].children.length,!0;t[i].children&&(n=this.findParent(t[i].children,e))}return n}addNewItem(t){this.createItemNode=!0;const e=this.flatNodeMap.get(t);void 0===e.children&&(e.children=[]),e.children.push({label:"",parent_id:e.id,public:e.public}),this.dataChange.next(this.data),this.treeControl.expand(t),this.renderer.selectRootElement("#itemValue").focus()}saveNode(t,e){this.http.post("../rest/folders",{label:e,parent_id:t.parent_id}).pipe(Object(ot.a)(n=>{const i=this.flatNodeMap.get(t);i.label=e,i.id=n.folder,i.countResources=0,this.dataChange.next(this.data),this.treeControl.collapseAll(),this.openTree(i.id),this.createItemNode=!1,this.foldersService.getPinnedFolders()}),Object(ot.a)(()=>this.notify.success(this.translate.instant("lang.folderAdded"))),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}removeTemporaryNode(t){const e=this.getParentNode(t),n=e.children.map(t=>t.id).indexOf(t.id);-1!==n&&e.children.splice(n,1),this.flatNodeMap.delete(t),this.dataChange.next(this.data),this.createItemNode=!1}openCreateFolderModal(){this.dialogRef=this.dialog.open(Qf.a,{panelClass:"maarch-modal",data:{folderName:this.autocomplete.getValue()}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>!this.functions.empty(t)),Object(ot.a)(()=>{this.autocomplete.resetValue(),this.getFolders(),this.foldersService.getPinnedFolders()}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}deleteNode(t){this.dialogRef=this.dialog.open(ha.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(it.a)(t=>"ok"===t),Object(da.a)(()=>this.http.delete("../rest/folders/"+t.id)),Object(ot.a)(()=>{const e=this.getParentNode(t);if(null!==e){const n=e.children.map(t=>t.id).indexOf(t.id);-1!==n&&e.children.splice(n,1)}else{const e=this.data.map(t=>t.id).indexOf(t.id);-1!==e&&this.data.splice(e,1)}this.flatNodeMap.delete(t),this.dataChange.next(this.data)}),Object(ot.a)(()=>{this.foldersService.getPinnedFolders(),this.notify.success(this.translate.instant("lang.folderDeleted"))}),Object(yn.a)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}getParentNode(t){const e=t.level;if(e<1)return null;for(let n=this.treeControl.dataNodes.indexOf(t)-1;n>=0;n--){const t=this.treeControl.dataNodes[n];if(t.level<e)return this.flatNodeMap.get(t)}return null}drop(t,e){this.foldersService.classifyDocument(t,e)}dragEnter(t){t.drag=!0}openFolderAdmin(t){this.dialogRef=this.dialog.open(Hf,{panelClass:"maarch-modal",autoFocus:!1,data:{folderId:t.id}}),this.dialogRef.afterClosed().pipe(Object(ot.a)(e=>{void 0!==e&&(this.getFolders(),this.foldersService.getPinnedFolders(),this.foldersService.setEvent({type:"refreshFolderInformations",content:t}))})).subscribe()}checkRights(t){let e=[],n=0;this.http.get("../rest/folders/"+t.id).pipe(Object(ot.a)(i=>{e=this.headerService.user.entities.map(t=>t.id),n=this.headerService.user.id;let s=!1,a=!1;const o=i.folder.sharing.entities.filter(t=>e.indexOf(t)>-1);i.folder.sharing.entities.filter(t=>o.indexOf(t.id)).forEach(t=>{!0===t.edition&&(s=!0),!0===t.canDelete&&(a=!0)}),t.edition=!(!s&&i.folder.user_id!==n),t.canAdd=t.edition,t.canDelete=a||i.folder.user_id===n})).subscribe()}goTo(t){this.selectedId=t.id,this.getFolders(),this.router.navigate(["/folders/"+t.id])}togglePinFolder(t){t.pinned?this.foldersService.unpinFolder(t):this.foldersService.pinFolder(t)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(p.a),i.Tb(j.b),i.Tb(o.c),i.Tb(i.H),i.Tb(u.a),i.Tb(ga.a),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["folder-tree"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Wf,!0),i.ad(Gf,!0),i.Oc(qf,!0)),2&t&&(i.Cc(n=i.ic())&&(e.itemValue=n.first),i.Cc(n=i.ic())&&(e.autocomplete=n.first),i.Cc(n=i.ic())&&(e.tree=n.first))},inputs:{selectedId:"selectedId"},outputs:{refreshDocList:"refreshDocList",refreshFolderList:"refreshFolderList"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"folderTools"],[1,"filter"],["appearance","outline",3,"size","labelPlaceholder","routeDatas","targetSearchKey","triggerEvent"],["autocomplete",""],["mat-icon-button","","color","primary",3,"title","click"],[1,"fas","fa-folder-plus"],["class","noFolder",4,"ngIf"],[4,"ngIf"],[1,"noFolder"],[3,"dataSource","treeControl"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodePaddingIndent","0px",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cdkDropList","","cdkDropListConnectedTo","list-1","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited"],["mat-icon-button","","disabled","",1,"expandButton"],["mat-list-item","","disableRipple","",1,"folderTreeItem",3,"mouseenter","mouseleave","click"],[2,"width","90%","overflow","hidden","text-overflow","ellipsis"],[1,"treeLabel",3,"title"],["class","fa fa-users private",3,"title",4,"ngIf"],["mat-icon-button","",2,"position","absolute","right","0px",3,"matMenuTriggerFor","disabled","click"],["class","folderAction fa fa-ellipsis-v",4,"ngIf"],["class","countResources",3,"empty",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"fas","fa-thumbtack"],["mat-menu-item","",3,"disabled","click"],[2,"width","auto","height","auto"],[1,"far","fa-trash-alt"],[1,"fas","fa-sliders-h"],[1,"fa","fa-users","private",3,"title"],[1,"folderAction","fa","fa-ellipsis-v"],[1,"countResources"],["matTreeNodePadding","","matTreeNodePaddingIndent","0px"],["floatLabel","never",2,"width","100%","padding-left","10px","padding-right","10px"],["matInput","","id","itemValue",3,"placeholder"],["itemValue",""],["type","submit","matSuffix","","mat-icon-button","",3,"disabled","click"],["color","accent",1,"fa","fa-check",3,"title"],["type","button","matSuffix","","mat-icon-button","",3,"click"],[1,"fa","fa-times",2,"color","#8e3e52",3,"title"],["cdkDropList","","cdkDropListConnectedTo","list-1","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited"],["mat-icon-button","","matTreeNodeToggle","",1,"expandButton"],["mat-list-item","","disableRipple","",1,"folderTreeItem",3,"mouseleave","mouseenter","click"],[1,"loading"]],template:function(t,e){if(1&t&&(i.Qc(0,lm,11,10,"ng-container",0),i.Qc(1,dm,2,0,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",!e.loading)("ngIfElse",t)}},directives:[v.t,_t.a,g.b,b.a,x.h,Uf.b,Uf.h,Uf.g,qa.e,Uf.j,x.d,Ya.d,Ya.e,Ya.b,F.J,F.u,F.v,Z.c,N.b,Z.j,Uf.k,y.c],pipes:[l.d],styles:[".selectedFolder[_ngcontent-%COMP%]{border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.mat-icon-rtl-mirror[_ngcontent-%COMP%]{opacity:.5}.folderAction[_ngcontent-%COMP%]{color:#666}.mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px} .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#135f7f}.example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree-node[_ngcontent-%COMP%]{display:block}.example-tree-node[_ngcontent-%COMP%]   .example-tree-node[_ngcontent-%COMP%]{padding-left:40px}.expandButton[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.mat-list-item[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700;height:40px;width:90%}.mat-tree-node[_ngcontent-%COMP%]{min-height:0;height:40px}.mat-tree-node[_ngcontent-%COMP%]    .mat-list-item-content{padding-left:0}form[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}.treeLabel[_ngcontent-%COMP%]{white-space:pre;color:#666}.drag[_ngcontent-%COMP%]{color:#f99830!important}.more[_ngcontent-%COMP%]{width:100%;opacity:.6}.more[_ngcontent-%COMP%]    .mat-list-item-content{justify-content:center}.rootFolder[_ngcontent-%COMP%]{width:100%}.private[_ngcontent-%COMP%]{margin-left:5px;color:#f99830}button[_ngcontent-%COMP%]:disabled{opacity:1}.countResources[_ngcontent-%COMP%]{font-weight:700;color:#135f7f}.empty[_ngcontent-%COMP%]{opacity:.5;font-size:12px;color:#666}.folderTools[_ngcontent-%COMP%]{padding-right:15px;display:flex;justify-content:center;align-items:baseline}.folderTools[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex:1}.noFolder[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;font-style:italic}.noFolder[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer} .folderListMenu .mat-menu-content{padding-top:0;padding-bottom:0} .folderListMenu .mat-menu-content .mat-menu-item .pinnedActionIcon{color:#8e3e52;height:auto} .folderListMenu .mat-menu-content .mat-menu-item .pinnedActionIcon i{font-size:13px;transition:all .3s;transform:rotate(15deg) translateY(-50%)} .folderListMenu .mat-menu-content .mat-menu-item .revertPinnedActionIcon{color:#135f7f;height:auto} .folderListMenu .mat-menu-content .mat-menu-item .revertPinnedActionIcon i{font-size:13px;transition:all .3s;transform:rotate(0deg) translate(0)} .folderListMenu .mat-menu-content .mat-menu-item:hover .pinnedActionIcon{color:#135f7f} .folderListMenu .mat-menu-content .mat-menu-item:hover .pinnedActionIcon i{transition:all .3s;transform:rotate(0deg) translate(0)} .folderListMenu .mat-menu-content .mat-menu-item:hover .revertPinnedActionIcon{color:#8e3e52} .folderListMenu .mat-menu-content .mat-menu-item:hover .revertPinnedActionIcon i{transition:all .3s;transform:rotate(15deg) translateY(-50%)}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[Object(Nf.n)("hideShow",[Object(Nf.m)(":enter",[Object(Nf.l)({height:"0px"}),Object(Nf.e)("200ms",Object(Nf.l)({height:"30px"}))]),Object(Nf.m)(":leave",[Object(Nf.l)({height:"30px"}),Object(Nf.e)("200ms",Object(Nf.l)({height:"0px"}))])])]}}),t})();const pm=["folderTree"];function fm(t,e){1&t&&(i.Zb(0,"mat-expansion-panel",4),i.Zb(1,"mat-expansion-panel-header"),i.Zb(2,"mat-panel-title"),i.Ub(3,"i",5),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Ub(6,"folder-pinned",6),i.Yb()),2&t&&(i.Eb(4),i.Uc("\xa0",i.nc(5,2,"lang.myPinnedFolder")," "),i.Eb(2),i.sc("noInit",!0))}function mm(t,e){if(1&t){const t=i.ac();i.Zb(0,"folder-tree",7,8),i.hc("refreshDocList",(function(){return i.Hc(t),i.lc().refreshDocList()})),i.Yb()}}let gm=(()=>{class t{constructor(t,e,n){this.translate=t,this.foldersService=e,this.actionService=n,this.refreshEvent=new i.o,this.subscription=this.actionService.catchAction().subscribe(t=>{this.refreshFoldersTree()})}ngOnInit(){this.foldersService.getPinnedFolders()}ngOnDestroy(){this.subscription.unsubscribe()}initTree(){this.folderTree.openTree(this.selectedId)}refreshDocList(){this.refreshEvent.emit()}refreshFoldersTree(){void 0!==this.folderTree&&this.folderTree.getFolders()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(ga.a),i.Tb(Fi.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["panel-folder"]],viewQuery:function(t,e){var n;1&t&&i.ad(pm,!0),2&t&&i.Cc(n=i.ic())&&(e.folderTree=n.first)},inputs:{selectedId:"selectedId"},outputs:{refreshEvent:"refreshEvent"},decls:9,vars:5,consts:[["class","folderList","expanded","",4,"ngIf"],[1,"folderList",3,"expanded"],[1,"fa","fa-folder","panelIconMenu"],["matExpansionPanelContent",""],["expanded","",1,"folderList"],[1,"fa","fa-thumbtack","panelIconMenu"],[3,"noInit"],[3,"refreshDocList"],["folderTree",""]],template:function(t,e){1&t&&(i.Qc(0,fm,7,4,"mat-expansion-panel",0),i.Ub(1,"mat-divider"),i.Zb(2,"mat-expansion-panel",1),i.Zb(3,"mat-expansion-panel-header"),i.Zb(4,"mat-panel-title"),i.Ub(5,"i",2),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Qc(8,mm,2,0,"ng-template",3),i.Yb()),2&t&&(i.sc("ngIf",e.foldersService.getPinnedList().length>0),i.Eb(2),i.sc("expanded",!1),i.Eb(4),i.Uc("\xa0",i.nc(7,3,"lang.folders")," "))},directives:[v.t,k.a,rt.c,rt.g,rt.h,rt.e,Yf,um],pipes:[l.d],styles:[".folderList[_ngcontent-%COMP%]{box-shadow:none}.folderList[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.folderList[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#135f7f;display:flex;align-items:center;font-size:14px;font-weight:500}.folderList[_ngcontent-%COMP%]   .mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0}.folderList[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.panelIconMenu[_ngcontent-%COMP%]{font-size:22px}.showFolderTree[_ngcontent-%COMP%]{font-size:13px;opacity:.8;font-weight:700;color:#666;width:100%}"]}),t})();function bm(t,e){if(1&t&&(i.Sc(0),i.Zb(1,"p",13),i.Sc(2,"\xa0"),i.Yb()),2&t){const t=i.lc(2).$implicit,e=i.lc();i.Uc(" ",t.key,"\xa0"),i.Eb(1),i.sc("matBadge",e.missingLang[t.key].length)}}function _m(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Zb(1,"mat-form-field",14),i.Zb(2,"mat-label"),i.Sc(3),i.Yb(),i.Zb(4,"input",15,16),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.value=n})),i.Yb(),i.Zb(6,"button",17),i.hc("click",(function(){i.Hc(t);const n=e.$implicit,s=i.Dc(5),a=i.lc(3);return s.select(),a.openTranslation(n.value)})),i.Ub(7,"mat-icon",18),i.Yb(),i.Yb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(3),i.Tc(t.id),i.Eb(1),i.sc("ngModel",t.value)}}function vm(t,e){if(1&t&&(i.Zb(0,"mat-tab",10),i.Qc(1,bm,3,2,"ng-template",11),i.Zb(2,"div",12),i.Qc(3,_m,8,2,"ng-container",4),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit,e=i.lc();i.sc("label",t.key),i.Eb(3),i.sc("ngForOf",e.missingLang[t.key])}}function ym(t,e){if(1&t&&(i.Xb(0),i.Qc(1,vm,4,2,"mat-tab",9),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.sc("ngIf","fr"!==t.key)}}let xm=(()=>{class t{constructor(t,e,n,i){this.data=t,this.dialogRef=e,this.http=n,this.notify=i,this.missingLang=[],this.currentLang="en"}ngOnInit(){this.getLangs()}getLangs(){this.http.get("../rest/dev/lang").pipe(Object(kn.tap)(t=>{this.allLang=t.langs,Object.keys(this.allLang).forEach(t=>{this.missingLang[t]=Object.keys(this.allLang.fr).filter(e=>-1===Object.keys(this.allLang[t]).indexOf(e)).map(t=>({id:t,value:this.allLang.fr[t]+"__TO_TRANSLATE"}))})}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}openTranslation(t){window.open("https://translate.google.fr/?hl=fr#view=home&op=translate&sl=fr&tl="+this.currentLang+"&text="+t.replace("__TO_TRANSLATE",""),"_blank")}setActiveLang(t){this.currentLang=t.tab.textLabel}generateMissingLang(t=!1){let e={},n=this.allLang[this.currentLang];const i=/__TO_TRANSLATE$/g;this.missingLang[this.currentLang].forEach(n=>{null===n.value.match(i)&&t?e[n.id]=n.value:t||(e[n.id]=n.value)}),n=Object.assign(Object.assign({},n),e),this.http.put("../rest/dev/lang",{langId:this.currentLang,jsonContent:n}).pipe(Object(kn.tap)(t=>{Object.keys(e).forEach(t=>{delete this.allLang[this.currentLang][t],this.missingLang[this.currentLang]=this.missingLang[this.currentLang].filter(e=>e.id!==t),this.data.countMissingLang--}),this.dialogRef.close(this.data.countMissingLang)}),Object(yn.a)(t=>(this.notify.handleSoftErrors(t),console.log(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(j.a),i.Tb(j.h),i.Tb(d.b),i.Tb(p.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["ng-component"]],decls:15,vars:3,consts:[[1,"mat-dialog-content-container","lang-container"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"selectedTabChange"],[4,"ngFor","ngForOf"],[1,"divider-modal"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",1,"actions",3,"click"],["mat-raised-button","","color","","mat-dialog-close","","cdkFocusInitial","",1,"actions"],[3,"label",4,"ngIf"],[3,"label"],["mat-tab-label",""],[2,"display","grid"],[3,"matBadge"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["toto",""],["mat-button","","color","primary","matSuffix","","mat-icon-button","",3,"click"],[1,"fas","fa-language"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2,"Lang checking"),i.Yb(),i.Zb(3,"div",2),i.Zb(4,"mat-tab-group",3),i.hc("selectedTabChange",(function(t){return e.setActiveLang(t)})),i.Qc(5,ym,2,1,"ng-container",4),i.mc(6,"keyvalue"),i.Yb(),i.Yb(),i.Ub(7,"span",5),i.Zb(8,"div",6),i.Zb(9,"button",7),i.hc("click",(function(){return e.generateMissingLang(!1)})),i.Sc(10,"Generate lang variables"),i.Yb(),i.Zb(11,"button",7),i.hc("click",(function(){return e.generateMissingLang(!0)})),i.Sc(12,"Generate lang variables (IGNORE __TO_TRANSLATE)"),i.Yb(),i.Zb(13,"button",8),i.Sc(14,"Close"),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.sc("ngForOf",i.nc(6,1,e.allLang)))},directives:[j.i,j.f,ut.c,v.s,j.c,g.b,j.d,v.t,ut.a,ut.d,Yn.a,Z.c,Z.g,N.b,F.c,F.t,F.w,Z.j,b.a],pipes:[v.l],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:0}.lang-container[_ngcontent-%COMP%]    .mat-tab-header{position:-webkit-sticky;position:sticky;top:0;z-index:2}.lang-container[_ngcontent-%COMP%]    .mat-tab-label-container{background:#fff}"]}),t})();var wm=n("4ik+");let Cm=(()=>{class t{constructor(t,e,n,i){this.notify=t,this.dialog=e,this.http=n,this.functionsService=i,this.countMissingLang=0}ngOnInit(){this.getLangs()}openLangTool(){this.dialog.open(xm,{panelClass:"maarch-modal",height:"99%",width:"80%",data:{countMissingLang:this.countMissingLang}}).afterClosed().pipe(Object(wm.filter)(t=>!this.functionsService.empty(t)),Object(kn.tap)(t=>{this.countMissingLang=t}),Object(Sn.catchError)(t=>(this.notify.handleErrors(t),Object(xn.of)(!1)))).subscribe()}getLangs(){this.http.get("../rest/dev/lang").pipe(Object(kn.tap)(t=>{this.allLang=t.langs,Object.keys(this.allLang).forEach(t=>{this.countMissingLang+=Object.keys(this.allLang.fr).filter(e=>-1===Object.keys(this.allLang[t]).indexOf(e)).length})}),Object(Sn.catchError)(t=>(this.notify.handleSoftErrors(t),Object(xn.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(p.a),i.Tb(j.b),i.Tb(d.b),i.Tb(lt.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-dev-tool"]],decls:11,vars:5,consts:[["mat-fab","","cdkDrag","","color","warn",2,"position","fixed","right","50px","top","50px","z-index","1",3,"matBadge","matMenuTriggerFor"],[1,"fas","fa-toolbox",2,"height","auto","font-size","23px"],["menu","matMenu"],["mat-menu-item","",3,"click"],["color","primary",1,"fas","fa-language",2,"height","auto"],[3,"matBadge"]],template:function(t,e){if(1&t&&(i.Zb(0,"button",0),i.Ub(1,"mat-icon",1),i.Yb(),i.Zb(2,"mat-menu",null,2),i.Zb(4,"button",3),i.hc("click",(function(){return e.openLangTool()})),i.Ub(5,"mat-icon",4),i.Zb(6,"span"),i.Sc(7,"Missing lang"),i.Yb(),i.Sc(8,"\xa0\xa0"),i.Zb(9,"span",5),i.Sc(10,"\xa0"),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.Dc(3);i.sc("matBadge",e.countMissingLang)("matMenuTriggerFor",t),i.Eb(2),i.Gb("devToolListMenu"),i.Eb(7),i.sc("matBadge",e.countMissingLang)}},directives:[g.b,qa.a,Yn.a,Ya.d,b.a,Ya.e,Ya.b],styles:[".devToolListMenu{min-height:auto!important;width:250px}"]}),t})();const Om=["snavLeft"];function km(t,e){1&t&&i.Ub(0,"header-panel")}function Sm(t,e){1&t&&i.Ub(0,"menu-shortcut")}function Em(t,e){1&t&&i.Ub(0,"menu-nav")}function Mm(t,e){1&t&&(i.Xb(0),i.Ub(1,"basket-home",null,6),i.Ub(3,"mat-divider"),i.Ub(4,"panel-folder",null,7),i.Wb())}function Im(t,e){1&t&&i.Ub(0,"div",8)}const Pm=function(t){return{width:t}};function Tm(t,e){if(1&t&&(i.Zb(0,"mat-sidenav-container",2),i.Zb(1,"mat-sidenav",3,4),i.Qc(3,km,1,0,"header-panel",1),i.Qc(4,Sm,1,0,"menu-shortcut",1),i.Qc(5,Em,1,0,"menu-nav",1),i.Qc(6,Mm,6,0,"ng-container",1),i.Qc(7,Im,1,0,"div",5),i.Yb(),i.Zb(8,"mat-sidenav-content"),i.Ub(9,"router-outlet"),i.Yb(),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Jb("sideBarForm",t.headerService.sideBarForm&&!t.appService.getViewMode())("sideBarFormMobile",t.appService.getViewMode()&&t.headerService.sideBarForm),i.sc("mode",t.appService.getViewMode()?"over":"side")("fixedInViewport",t.appService.getViewMode())("opened",!t.appService.getViewMode()&&!t.headerService.hideSideBar)("ngStyle",i.zc(13,Pm,t.appService.getViewMode()?"80%":"350px")),i.Eb(2),i.sc("ngIf",t.headerService.showhHeaderPanel&&!t.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",t.headerService.showMenuShortcut&&!t.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",t.headerService.showMenuShortcut&&!t.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",!t.headerService.sideBarAdmin&&!t.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",!t.headerService.hideSideBar)}}function Am(t,e){1&t&&i.Ub(0,"app-dev-tool")}const Dm={showDelay:500,hideDelay:0,touchendHideDelay:0};let Rm=(()=>{class t{constructor(t,e,n,i,a,o,r){this.translate=t,this.http=e,this.appService=a,this.headerService=o,this.authService=r,this.debugMode=!1,this.loading=!0,t.setDefaultLang("fr"),n.addSvgIcon("maarchLogo",i.bypassSecurityTrustResourceUrl("../rest/images?image=onlyLogo")),n.addSvgIcon("maarchLogoFull",i.bypassSecurityTrustResourceUrl("../rest/images?image=logo")),n.addSvgIcon("maarchLogoWhite",i.bypassSecurityTrustResourceUrl("assets/logo_only_white.svg")),n.addSvgIcon("maarchLogoWhiteFull",i.bypassSecurityTrustResourceUrl("assets/logo_white.svg")),n.addSvgIcon("maarchBox",i.bypassSecurityTrustResourceUrl("assets/maarch_box.svg")),n.addSvgIcon("alfresco",i.bypassSecurityTrustResourceUrl("assets/alfresco.svg")),s.a.production||(this.debugMode=!0)}onResize(){this.appService.setScreenWidth(window.innerWidth)}ngOnInit(){return Object(vn.a)(this,void 0,void 0,(function*(){this.appService.checkAppSecurity(),yield this.appService.applyMinorUpdate(),this.loading=!1,this.headerService.hideSideBar=!0,setTimeout(()=>{this.headerService.sideNavLeft=this.snavLeft},0)}))}ngAfterViewInit(){this.appService.setScreenWidth(window.innerWidth)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(l.e),i.Tb(d.b),i.Tb(b.c),i.Tb(En.b),i.Tb(f.a),i.Tb(u.a),i.Tb(h.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&i.ad(Om,!0),2&t&&i.Cc(n=i.ic())&&(e.snavLeft=n.first)},hostBindings:function(t,e){1&t&&i.hc("resize",(function(t){return e.onResize(t)}),!1,i.Gc)},features:[i.Db([f.a,{provide:C.a,useValue:Dm}],[b.c])],decls:2,vars:2,consts:[["class","maarch-container","autosize","",4,"ngIf"],[4,"ngIf"],["autosize","",1,"maarch-container"],["autoFocus","false",1,"panel-left",2,"overflow-x","hidden",3,"mode","fixedInViewport","opened","ngStyle"],["snavLeft",""],["id","adminMenu","style","display: contents;",4,"ngIf"],["basketHome",""],["panelFolder",""],["id","adminMenu",2,"display","contents"]],template:function(t,e){1&t&&(i.Qc(0,Tm,10,15,"mat-sidenav-container",0),i.Qc(1,Am,1,0,"app-dev-tool",1)),2&t&&(i.sc("ngIf",!e.loading),i.Eb(1),i.sc("ngIf",e.debugMode&&e.authService.isAuth()))},directives:[v.t,_.e,_.d,v.w,_.f,o.h,Tf.a,Af.b,Df.a,Rf.a,k.a,gm,Cm],encapsulation:2}),t})();var Lm=n("L6pT");let Fm=(()=>{class t extends En.d{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return t.\u0275fac=function(e){return jm(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const jm=i.bc(Fm);let Ym=(()=>{class t{}return t.\u0275mod=i.Rb({type:t,bootstrap:[Rm]}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[{provide:d.a,useClass:Pf,multi:!0},fa,ga.a,Fi.a,Li.a,{provide:En.c,useClass:Fm}],imports:[[En.a,kf.b,d.c,Sf.a,Mf,Lm.a,In.b.forRoot(),a.a,Of,Ef.a,If],a.a]}),t})();s.a.production&&(window.console.debug=function(){},Object(i.V)()),En.e().bootstrapModule(Ym)},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("XNiG"),s=n("3N8a");class a extends s.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class r extends o.a{}const c=new r(a);var l=n("quSY"),d=n("7o/Q"),h=n("WMd4");class u extends d.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new p(t,this.destination)))}_next(t){this.scheduleMessage(h.a.createNext(t))}_error(t){this.scheduleMessage(h.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(h.a.createComplete()),this.unsubscribe()}}class p{constructor(t,e){this.notification=t,this.destination=e}}var f=n("9ppp"),m=n("Ylt2");class g extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new b(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;let a;if(this.closed)throw new f.a;if(this.isStopped||this.hasError?a=l.a.EMPTY:(this.observers.push(t),a=new m.a(this,t)),i&&t.add(t=new u(t,i)),e)for(let o=0;o<s&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<s&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a}_getNow(){return(this.scheduler||c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,s=i.length;let a=0;for(;a<s&&!(t-i[a].time<n);)a++;return s>e&&(a=Math.max(a,s-e)),a>0&&i.splice(0,a),i}}class b{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kiQV:function(t){t.exports=JSON.parse('{"name":"MaarchCourrier","version":"20.10.1","description":"MaarchCourrier","scripts":{"build-css":"node-sass --include-path scss src/frontend/css/maarch-material.scss   src/frontend/css/maarch-material.css --output-style compressed","build-prod":"ng build --prod && npm run build-css","build-watch":"ng build --watch","build":"ng build","check-update":"ncu","dep-list":"npm list --depth=0","upgrade":"ncu -u","create-component":"echo Component name ?\xa0&& read varname && ng g c $varname --module app","create-component-admin":"echo Component name ?\xa0&& read varname && ng g c administration/$varname --module administration","ee-launch":"webdriver-manager update && webdriver-manager start --detach && protractor test/e2e/conf.js && webdriver-manager shutdown && fuser -k 4444/tcp","ee-update":"webdriver-manager update","ee-start-server":"webdriver-manager start","ee-test":"protractor test/e2e/conf.js"},"keywords":[],"author":"Maarch","license":"GPL-3.0","dependencies":{"@ngx-translate/core":"^13.0.0","@ngx-translate/http-loader":"^6.0.0","core-js":"^3.6.5","flat-to-nested":"^1.1.0","ngx-joyride":"^2.3.1","ngx-papaparse":"^5.0.0","zone.js":"~0.10.3"},"devDependencies":{"@angular-devkit/build-angular":"^0.901.9","@angular/animations":"^9.1.9","@angular/cdk":"^9.2.4","@angular/cli":"^9.1.9","@angular/common":"^9.1.9","@angular/compiler":"^9.1.9","@angular/compiler-cli":"^9.1.9","@angular/core":"^9.1.9","@angular/forms":"^9.1.9","@angular/material":"^9.2.4","@angular/platform-browser":"^9.1.9","@angular/platform-browser-dynamic":"^9.1.9","@angular/platform-server":"^9.1.9","@angular/router":"^9.1.9","@fortawesome/fontawesome-free":"^5.14.0","@swimlane/ngx-charts":"^13.0.4","@types/datatables.net":"^1.10.19","@types/jquery":"^3.5.0","@types/jquery.nicescroll":"^3.7.1","@types/jstree":"^3.3.40","@types/tooltipster":"0.0.29","ajv":"^6.12.5","bootstrap":"^3.4.1","chosen-js":"^1.8.7","codelyzer":"^5.2.2","hammerjs":"^2.0.8","html-minifier":"^4.0.0","jquery":"^3.5.1","jquery-typeahead":"^2.11.1","jquery.nicescroll":"^3.7.6","jstree-bootstrap-theme":"^1.0.1","ng2-dnd":"^5.0.2","ng2-pdf-viewer":"^6.3.0","ngx-cookie-service":"^3.0.4","ngx-pipes":"^2.7.3","node-sass":"^4.14.1","nodemon":"^2.0.4","npm-check-updates":"^4.1.2","pdfjs-dist":"2.4.456","photoswipe":"^4.1.3","protractor":"^5.4.4","rxjs":"^6.6.3","tinymce":"^5.4.2","tinymce-i18n":"^19.9.17","tooltipster":"^4.2.8","tslib":"^1.13.0","tslint":"^6.1.2","typescript":"3.8.3","uglify-es":"3.3.9","uglifyjs-webpack-plugin":"2.2.0","url-loader":"^4.1.0","webpack":"^4.43.0"},"repository":{}}')},kmnG:function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return F})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return Y})),n.d(e,"e",(function(){return J})),n.d(e,"f",(function(){return U})),n.d(e,"g",(function(){return B})),n.d(e,"h",(function(){return z})),n.d(e,"i",(function(){return V})),n.d(e,"j",(function(){return H}));var i=n("GU7r"),s=n("ofXK"),a=n("fXoL"),o=n("FKr1"),r=n("8LU1"),c=n("XNiG"),l=n("VRyK"),d=n("xgIS"),h=n("JX91"),u=n("1G5W"),p=n("IzEk"),f=n("R0Ic"),m=n("R1ws"),g=n("cH1L"),b=n("nLfN");const _=["underline"],v=["connectionContainer"],y=["inputContainer"],x=["label"];function w(t,e){1&t&&(a.Xb(0),a.Zb(1,"div",14),a.Ub(2,"div",15),a.Ub(3,"div",16),a.Ub(4,"div",17),a.Yb(),a.Zb(5,"div",18),a.Ub(6,"div",15),a.Ub(7,"div",16),a.Ub(8,"div",17),a.Yb(),a.Wb())}function C(t,e){1&t&&(a.Zb(0,"div",19),a.qc(1,1),a.Yb())}function O(t,e){if(1&t&&(a.Xb(0),a.qc(1,2),a.Zb(2,"span"),a.Sc(3),a.Yb(),a.Wb()),2&t){const t=a.lc(2);a.Eb(3),a.Tc(t._control.placeholder)}}function k(t,e){1&t&&a.qc(0,3,["*ngSwitchCase","true"])}function S(t,e){1&t&&(a.Zb(0,"span",23),a.Sc(1," *"),a.Yb())}function E(t,e){if(1&t){const t=a.ac();a.Zb(0,"label",20,21),a.hc("cdkObserveContent",(function(){return a.Hc(t),a.lc().updateOutlineGap()})),a.Qc(2,O,4,1,"ng-container",12),a.Qc(3,k,1,0,void 0,12),a.Qc(4,S,2,0,"span",22),a.Yb()}if(2&t){const t=a.lc();a.Jb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.sc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.Fb("for",t._control.id)("aria-owns",t._control.id),a.Eb(2),a.sc("ngSwitchCase",!1),a.Eb(1),a.sc("ngSwitchCase",!0),a.Eb(1),a.sc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function M(t,e){1&t&&(a.Zb(0,"div",24),a.qc(1,4),a.Yb())}function I(t,e){if(1&t&&(a.Zb(0,"div",25,26),a.Ub(2,"span",27),a.Yb()),2&t){const t=a.lc();a.Eb(2),a.Jb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function P(t,e){if(1&t&&(a.Zb(0,"div"),a.qc(1,5),a.Yb()),2&t){const t=a.lc();a.sc("@transitionMessages",t._subscriptAnimationState)}}function T(t,e){if(1&t&&(a.Zb(0,"div",31),a.Sc(1),a.Yb()),2&t){const t=a.lc(2);a.sc("id",t._hintLabelId),a.Eb(1),a.Tc(t.hintLabel)}}function A(t,e){if(1&t&&(a.Zb(0,"div",28),a.Qc(1,T,2,2,"div",29),a.qc(2,6),a.Ub(3,"div",30),a.qc(4,7),a.Yb()),2&t){const t=a.lc();a.sc("@transitionMessages",t._subscriptAnimationState),a.Eb(1),a.sc("ngIf",t.hintLabel)}}const D=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],R=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let L=0,F=(()=>{class t{constructor(){this.id="mat-error-"+L++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&a.Fb("id",e.id)},inputs:{id:"id"}}),t})();const j={transitionMessages:Object(f.n)("transitionMessages",[Object(f.k)("enter",Object(f.l)({opacity:1,transform:"translateY(0%)"})),Object(f.m)("void => enter",[Object(f.l)({opacity:0,transform:"translateY(-100%)"}),Object(f.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t}),t})();function Z(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let N=0,U=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+N++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(a.Fb("id",e.id)("align",null),a.Jb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-label"]]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-placeholder"]]}),t})(),V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matPrefix",""]]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","matSuffix",""]]}),t})(),Q=0;class ${constructor(t){this._elementRef=t}}const W=Object(o.z)($,"primary"),G=new a.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),q=new a.r("MatFormField");let X=(()=>{class t extends W{constructor(t,e,n,i,s,a,o,r){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=s,this._platform=a,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new c.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Q++,this._labelId="mat-form-field-label-"+Q++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==r,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Object(r.c)(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Object(h.a)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Object(u.a)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(u.a)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(l.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Object(h.a)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Object(h.a)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Object(u.a)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Object(d.a)(this._label.nativeElement,"transitionend").pipe(Object(p.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Z("start");t=n}else if("end"===n.align){if(e)throw Z("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,s=i.querySelectorAll(".mat-form-field-outline-start"),a=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const s=i.getBoundingClientRect();if(0===s.width&&0===s.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const a=this._getStartEnd(s),o=this._getStartEnd(t.children[0].getBoundingClientRect());let r=0;for(const e of t.children)r+=e.offsetWidth;e=Math.abs(o-a)-5,n=r>0?.75*r+10:0}for(let o=0;o<s.length;o++)s[o].style.width=e+"px";for(let o=0;o<a.length;o++)a[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.h),a.Tb(o.g,8),a.Tb(g.c,8),a.Tb(G,8),a.Tb(b.a),a.Tb(a.B),a.Tb(m.a,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,Y,!0),a.Nc(n,Y,!0),a.Lb(n,B,!0),a.Nc(n,B,!0),a.Lb(n,z,!0),a.Lb(n,F,!0),a.Lb(n,U,!0),a.Lb(n,V,!0),a.Lb(n,H,!0)),2&t&&(a.Cc(i=a.ic())&&(e._controlNonStatic=i.first),a.Cc(i=a.ic())&&(e._controlStatic=i.first),a.Cc(i=a.ic())&&(e._labelChildNonStatic=i.first),a.Cc(i=a.ic())&&(e._labelChildStatic=i.first),a.Cc(i=a.ic())&&(e._placeholderChild=i.first),a.Cc(i=a.ic())&&(e._errorChildren=i),a.Cc(i=a.ic())&&(e._hintChildren=i),a.Cc(i=a.ic())&&(e._prefixChildren=i),a.Cc(i=a.ic())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(a.ad(_,!0),a.Oc(v,!0),a.ad(y,!0),a.ad(x,!0)),2&t&&(a.Cc(n=a.ic())&&(e.underlineRef=n.first),a.Cc(n=a.ic())&&(e._connectionContainerRef=n.first),a.Cc(n=a.ic())&&(e._inputContainerRef=n.first),a.Cc(n=a.ic())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&a.Jb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a.Db([{provide:q,useExisting:t}]),a.Bb],ngContentSelectors:R,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(a.rc(D),a.Zb(0,"div",0),a.Zb(1,"div",1,2),a.hc("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),a.Qc(3,w,9,0,"ng-container",3),a.Qc(4,C,2,0,"div",4),a.Zb(5,"div",5,6),a.qc(7),a.Zb(8,"span",7),a.Qc(9,E,5,16,"label",8),a.Yb(),a.Yb(),a.Qc(10,M,2,0,"div",9),a.Yb(),a.Qc(11,I,3,4,"div",10),a.Zb(12,"div",11),a.Qc(13,P,2,1,"div",12),a.Qc(14,A,5,2,"div",13),a.Yb(),a.Yb()),2&t&&(a.Eb(3),a.sc("ngIf","outline"==e.appearance),a.Eb(1),a.sc("ngIf",e._prefixChildren.length),a.Eb(5),a.sc("ngIf",e._hasFloatingLabel()),a.Eb(1),a.sc("ngIf",e._suffixChildren.length),a.Eb(1),a.sc("ngIf","outline"!=e.appearance),a.Eb(1),a.sc("ngSwitch",e._getDisplayedMessages()),a.Eb(1),a.sc("ngSwitchCase","error"),a.Eb(1),a.sc("ngSwitchCase","hint"))},directives:[s.t,s.x,s.y,i.a],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[j.transitionMessages]},changeDetection:0}),t})(),J=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[s.c,o.j,i.c],o.j]}),t})()},lJEt:function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"f",(function(){return C})),n.d(e,"e",(function(){return S})),n.d(e,"g",(function(){return E}));var i=n("fXoL"),s=n("3Pt+");function a(t){return null!=t}let o=(()=>{class t{constructor(t){this.name=t}}return t.COPY=new t("copy"),t.LINK=new t("link"),t.MOVE=new t("move"),t.NONE=new t("none"),t})();class r{constructor(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=o.MOVE,this.dropEffect=o.MOVE,this.dragCursor="move",this.defaultCursor="pointer"}}var c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let l=(()=>{let t=class{constructor(){this.allowedDropZones=[]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),d=(()=>{let t=class{constructor(t){this._config=t}get elem(){return this._elem}markSortable(t){a(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),a(t)&&(this._elem=t,this._elem.classList.add(this._config.onSortableDragClass))}};return t.\u0275fac=function(e){return new(e||t)(i.dc(r))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t=function(t,e,n,i){var s,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(a<3?s(o):a>3?s(e,n,o):s(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}([c("design:paramtypes",[r])],t),t})();var h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let u=(()=>{let t=class{constructor(t,e,n,i){this._dragDropService=e,this._config=n,this._cdr=i,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=n.defaultCursor,this._elem=t.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=t=>{this._onDragEnter(t)},this._elem.ondragover=t=>(this._onDragOver(t),null!=t.dataTransfer&&(t.dataTransfer.dropEffect=this._config.dropEffect.name),!1),this._elem.ondragleave=t=>{this._onDragLeave(t)},this._elem.ondrop=t=>{this._onDrop(t)},this._elem.onmousedown=t=>{this._target=t.target},this._elem.ondragstart=t=>{if(!this._dragHandle||this._dragHandle.contains(this._target)){if(this._onDragStart(t),null!=t.dataTransfer){if(t.dataTransfer.setData("text",""),t.dataTransfer.effectAllowed=this.effectAllowed||this._config.dragEffect.name,a(this.dragImage))if(function(t){return"string"==typeof t}(this.dragImage))t.dataTransfer.setDragImage(function(t){let e=new HTMLImageElement;return e.src=t,e}(this.dragImage));else if("function"==typeof this.dragImage)t.dataTransfer.setDragImage((0,this.dragImage)());else{let e=this.dragImage;t.dataTransfer.setDragImage(e.imageElement,e.x_offset,e.y_offset)}else if(a(this._config.dragImage)){let e=this._config.dragImage;t.dataTransfer.setDragImage(e.imageElement,e.x_offset,e.y_offset)}else this.cloneItem&&(this._dragHelper=this._elem.cloneNode(!0),this._dragHelper.classList.add("dnd-drag-item"),this._dragHelper.style.position="absolute",this._dragHelper.style.top="0px",this._dragHelper.style.left="-1000px",this._elem.parentElement.appendChild(this._dragHelper),t.dataTransfer.setDragImage(this._dragHelper,t.offsetX,t.offsetY));(this._dragHandle?this._dragHandle:this._elem).style.cursor=this._dragEnabled?this.effectCursor?this.effectCursor:this._config.dragCursor:this._defaultCursor}}else t.preventDefault()},this._elem.ondragend=t=>{this._elem.parentElement&&this._dragHelper&&this._elem.parentElement.removeChild(this._dragHelper),this._onDragEnd(t),(this._dragHandle?this._dragHandle:this._elem).style.cursor=this._defaultCursor}}set dragEnabled(t){this._dragEnabled=!!t,this._elem.draggable=this._dragEnabled}get dragEnabled(){return this._dragEnabled}setDragHandle(t){this._dragHandle=t}detectChanges(){setTimeout(()=>{this._cdr&&!this._cdr.destroyed&&this._cdr.detectChanges()},250)}_onDragEnter(t){this._isDropAllowed(t)&&this._onDragEnterCallback(t)}_onDragOver(t){this._isDropAllowed(t)&&(t.preventDefault&&t.preventDefault(),this._onDragOverCallback(t))}_onDragLeave(t){this._isDropAllowed(t)&&this._onDragLeaveCallback(t)}_onDrop(t){this._isDropAllowed(t)&&(this._preventAndStop(t),this._onDropCallback(t),this.detectChanges())}_isDropAllowed(t){if((this._dragDropService.isDragged||t.dataTransfer&&t.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(let t=0;t<this._dragDropService.allowedDropZones.length;t++)if(-1!==this.dropZones.indexOf(this._dragDropService.allowedDropZones[t]))return!0}return!1}_preventAndStop(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()}_onDragStart(t){this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(t))}_onDragEnd(t){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(t)}_onDragEnterCallback(t){}_onDragOverCallback(t){}_onDragLeaveCallback(t){}_onDropCallback(t){}_onDragStartCallback(t){}_onDragEndCallback(t){}};return t.\u0275fac=function(e){return new(e||t)(i.dc(i.l),i.dc(l),i.dc(r),i.dc(i.h))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t=function(t,e,n,i){var s,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(a<3?s(o):a>3?s(e,n,o):s(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}([h("design:paramtypes",[i.l,l,r,i.h])],t),t})();class p{constructor(t,e,n,i,s){this._dragDropService=e,this._config=n,this._Component=i,this._cdr=s,this._elem=t.nativeElement,this._Component.setDragHandle(this._elem)}}var f=function(t,e,n,i){var s,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(a<3?s(o):a>3?s(e,n,o):s(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},m=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let g=(()=>{let t=class extends u{constructor(t,e,n,s){super(t,e,n,s),this.onDragStart=new i.o,this.onDragEnd=new i.o,this.onDragSuccessCallback=new i.o,this._defaultCursor=this._elem.style.cursor,this.dragEnabled=!0}set draggable(t){this.dragEnabled=!!t}set dropzones(t){this.dropZones=t}set effectallowed(t){this.effectAllowed=t}set effectcursor(t){this.effectCursor=t}_onDragStartCallback(t){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:t})}_onDragEndCallback(t){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:t})}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(l),i.Tb(r),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-draggable",""]],inputs:{draggable:["dragEnabled","draggable"],dropzones:["dropZones","dropzones"],effectallowed:["effectAllowed","effectallowed"],effectcursor:["effectCursor","effectcursor"],dragData:"dragData",dragImage:"dragImage",cloneItem:"cloneItem"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDragSuccessCallback:"onDragSuccess"},features:[i.Bb]}),f([Object(i.t)("dragEnabled"),m("design:type",Boolean),m("design:paramtypes",[Boolean])],t.prototype,"draggable",null),f([Object(i.D)(),m("design:type",i.o)],t.prototype,"onDragStart",void 0),f([Object(i.D)(),m("design:type",i.o)],t.prototype,"onDragEnd",void 0),f([Object(i.t)(),m("design:type",Object)],t.prototype,"dragData",void 0),f([Object(i.D)("onDragSuccess"),m("design:type",i.o)],t.prototype,"onDragSuccessCallback",void 0),f([Object(i.t)("dropZones"),m("design:type",Array),m("design:paramtypes",[Array])],t.prototype,"dropzones",null),f([Object(i.t)("effectAllowed"),m("design:type",String),m("design:paramtypes",[String])],t.prototype,"effectallowed",null),f([Object(i.t)("effectCursor"),m("design:type",String),m("design:paramtypes",[String])],t.prototype,"effectcursor",null),f([Object(i.t)(),m("design:type",Object)],t.prototype,"dragImage",void 0),f([Object(i.t)(),m("design:type",Boolean)],t.prototype,"cloneItem",void 0),t=f([m("design:paramtypes",[i.l,l,r,i.h])],t),t})(),b=(()=>{let t=class extends p{constructor(t,e,n,i,s){super(t,e,n,i,s)}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(l),i.Tb(r),i.Tb(g),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-draggable-handle",""]],features:[i.Bb]}),t=f([m("design:paramtypes",[i.l,l,r,g,i.h])],t),t})();var _=function(t,e,n,i){var s,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(a<3?s(o):a>3?s(e,n,o):s(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let y=(()=>{let t=class extends u{constructor(t,e,n,s){super(t,e,n,s),this.onDropSuccess=new i.o,this.onDragEnter=new i.o,this.onDragOver=new i.o,this.onDragLeave=new i.o,this.dropEnabled=!0}set droppable(t){this.dropEnabled=!!t}set allowdrop(t){this.allowDrop=t}set dropzones(t){this.dropZones=t}set effectallowed(t){this.effectAllowed=t}set effectcursor(t){this.effectCursor=t}_onDragEnterCallback(t){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:t}))}_onDragOverCallback(t){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:t}))}_onDragLeaveCallback(t){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:t}))}_onDropCallback(t){let e=t.dataTransfer;(this._dragDropService.isDragged||e&&e.files)&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:t}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:t}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(l),i.Tb(r),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-droppable",""]],inputs:{droppable:["dropEnabled","droppable"],allowdrop:["allowDrop","allowdrop"],dropzones:["dropZones","dropzones"],effectallowed:["effectAllowed","effectallowed"],effectcursor:["effectCursor","effectcursor"]},outputs:{onDropSuccess:"onDropSuccess",onDragEnter:"onDragEnter",onDragOver:"onDragOver",onDragLeave:"onDragLeave"},features:[i.Bb]}),_([Object(i.t)("dropEnabled"),v("design:type",Boolean),v("design:paramtypes",[Boolean])],t.prototype,"droppable",null),_([Object(i.D)(),v("design:type",i.o)],t.prototype,"onDropSuccess",void 0),_([Object(i.D)(),v("design:type",i.o)],t.prototype,"onDragEnter",void 0),_([Object(i.D)(),v("design:type",i.o)],t.prototype,"onDragOver",void 0),_([Object(i.D)(),v("design:type",i.o)],t.prototype,"onDragLeave",void 0),_([Object(i.t)("allowDrop"),v("design:type",Function),v("design:paramtypes",[Function])],t.prototype,"allowdrop",null),_([Object(i.t)("dropZones"),v("design:type",Array),v("design:paramtypes",[Array])],t.prototype,"dropzones",null),_([Object(i.t)("effectAllowed"),v("design:type",String),v("design:paramtypes",[String])],t.prototype,"effectallowed",null),_([Object(i.t)("effectCursor"),v("design:type",String),v("design:paramtypes",[String])],t.prototype,"effectcursor",null),t=_([v("design:paramtypes",[i.l,l,r,i.h])],t),t})();var x=function(t,e,n,i){var s,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(o=(a<3?s(o):a>3?s(e,n,o):s(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},w=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let C=(()=>{let t=class extends u{constructor(t,e,n,i,s){super(t,e,n,i),this._sortableDataService=s,this._sortableData=[],this.dragEnabled=!1}set draggable(t){this.dragEnabled=!!t}set sortableData(t){this._sortableData=t,this.sortableHandler=t instanceof s.e?new k:new O,this.dropEnabled=!!this._sortableData}get sortableData(){return this._sortableData}set dropzones(t){this.dropZones=t}_onDragEnterCallback(t){if(this._sortableDataService.isDragged){let t=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);-1===this.indexOf(t)&&(this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this.insertItemAt(t,0),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=0),this.detectChanges()}}getItemAt(t){return this.sortableHandler.getItemAt(this._sortableData,t)}indexOf(t){return this.sortableHandler.indexOf(this._sortableData,t)}removeItemAt(t){this.sortableHandler.removeItemAt(this._sortableData,t)}insertItemAt(t,e){this.sortableHandler.insertItemAt(this._sortableData,t,e)}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(l),i.Tb(r),i.Tb(i.h),i.Tb(d))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-sortable-container",""]],inputs:{draggable:["dragEnabled","draggable"],sortableData:"sortableData",dropzones:["dropZones","dropzones"]},features:[i.Bb]}),x([Object(i.t)("dragEnabled"),w("design:type",Boolean),w("design:paramtypes",[Boolean])],t.prototype,"draggable",null),x([Object(i.t)(),w("design:type",Object),w("design:paramtypes",[Object])],t.prototype,"sortableData",null),x([Object(i.t)("dropZones"),w("design:type",Array),w("design:paramtypes",[Array])],t.prototype,"dropzones",null),t=x([w("design:paramtypes",[i.l,l,r,i.h,d])],t),t})();class O{getItemAt(t,e){return t[e]}indexOf(t,e){return t.indexOf(e)}removeItemAt(t,e){t.splice(e,1)}insertItemAt(t,e,n){t.splice(n,0,e)}}class k{getItemAt(t,e){return t.at(e)}indexOf(t,e){return t.controls.indexOf(e)}removeItemAt(t,e){t.removeAt(e)}insertItemAt(t,e,n){t.insert(n,e)}}let S=(()=>{let t=class extends u{constructor(t,e,n,s,a,o){super(t,e,n,o),this._sortableContainer=s,this._sortableDataService=a,this.onDragSuccessCallback=new i.o,this.onDragStartCallback=new i.o,this.onDragOverCallback=new i.o,this.onDragEndCallback=new i.o,this.onDropSuccessCallback=new i.o,this.dropZones=this._sortableContainer.dropZones,this.dragEnabled=!0,this.dropEnabled=!0}set draggable(t){this.dragEnabled=!!t}set droppable(t){this.dropEnabled=!!t}set effectallowed(t){this.effectAllowed=t}set effectcursor(t){this.effectCursor=t}_onDragStartCallback(t){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)}_onDragOverCallback(t){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))}_onDragEndCallback(t){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)}_onDragEnterCallback(t){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){let t=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this._sortableContainer.insertItemAt(t,this.index),this._sortableContainer.dropEnabled&&(this._sortableContainer.dropEnabled=!1),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this.detectChanges()}}_onDropCallback(t){this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit(this._dragDropService.dragData),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(l),i.Tb(r),i.Tb(C),i.Tb(d),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-sortable",""]],inputs:{draggable:["dragEnabled","draggable"],droppable:["dropEnabled","droppable"],effectallowed:["effectAllowed","effectallowed"],effectcursor:["effectCursor","effectcursor"],index:["sortableIndex","index"],dragData:"dragData"},outputs:{onDragSuccessCallback:"onDragSuccess",onDragStartCallback:"onDragStart",onDragOverCallback:"onDragOver",onDragEndCallback:"onDragEnd",onDropSuccessCallback:"onDropSuccess"},features:[i.Bb]}),x([Object(i.t)("sortableIndex"),w("design:type",Number)],t.prototype,"index",void 0),x([Object(i.t)("dragEnabled"),w("design:type",Boolean),w("design:paramtypes",[Boolean])],t.prototype,"draggable",null),x([Object(i.t)("dropEnabled"),w("design:type",Boolean),w("design:paramtypes",[Boolean])],t.prototype,"droppable",null),x([Object(i.t)(),w("design:type",Object)],t.prototype,"dragData",void 0),x([Object(i.t)("effectAllowed"),w("design:type",String),w("design:paramtypes",[String])],t.prototype,"effectallowed",null),x([Object(i.t)("effectCursor"),w("design:type",String),w("design:paramtypes",[String])],t.prototype,"effectcursor",null),x([Object(i.D)("onDragSuccess"),w("design:type",i.o)],t.prototype,"onDragSuccessCallback",void 0),x([Object(i.D)("onDragStart"),w("design:type",i.o)],t.prototype,"onDragStartCallback",void 0),x([Object(i.D)("onDragOver"),w("design:type",i.o)],t.prototype,"onDragOverCallback",void 0),x([Object(i.D)("onDragEnd"),w("design:type",i.o)],t.prototype,"onDragEndCallback",void 0),x([Object(i.D)("onDropSuccess"),w("design:type",i.o)],t.prototype,"onDropSuccessCallback",void 0),t=x([w("design:paramtypes",[i.l,l,r,C,d,i.h])],t),t})(),E=(()=>{let t=class extends p{constructor(t,e,n,i,s){super(t,e,n,i,s)}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(l),i.Tb(r),i.Tb(S),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-sortable-handle",""]],features:[i.Bb]}),t=x([w("design:paramtypes",[i.l,l,r,S,i.h])],t),t})(),M=[r,{provide:l,useFactory:function(){return new l}},{provide:d,useFactory:function(t){return new d(t)},deps:[r]}],I=(()=>{let t=P=class{static forRoot(){return{ngModule:P,providers:M}}};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})();var P},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7o/Q");function s(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}class a{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lRFz:function(module,exports,__webpack_require__){var factory;factory=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,(function(e){return t[e]}).bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=n(1),s=n(3),a=n(16),o=n(17),r=n(4),c=n(18);const l=n(10),d=n(6);{const{isNodeJS:t}=n(7);if(t){const t=n(19).PDFNodeStream;s.setPDFNetworkStreamFactory(e=>new t(e))}else{const t=n(22).PDFNetworkStream;let e;r.isFetchSupported()&&(e=n(23).PDFFetchStream),s.setPDFNetworkStreamFactory(n=>e&&r.isValidFetchUrl(n.url)?new e(n):new t(n))}}e.build=s.build,e.version=s.version,e.getDocument=s.getDocument,e.LoopbackPort=s.LoopbackPort,e.PDFDataRangeTransport=s.PDFDataRangeTransport,e.PDFWorker=s.PDFWorker,e.renderTextLayer=a.renderTextLayer,e.AnnotationLayer=o.AnnotationLayer,e.createPromiseCapability=i.createPromiseCapability,e.PasswordResponses=i.PasswordResponses,e.InvalidPDFException=i.InvalidPDFException,e.MissingPDFException=i.MissingPDFException,e.SVGGraphics=c.SVGGraphics,e.NativeImageDecoding=i.NativeImageDecoding,e.CMapCompressionType=i.CMapCompressionType,e.PermissionFlag=i.PermissionFlag,e.UnexpectedResponseException=i.UnexpectedResponseException,e.OPS=i.OPS,e.VerbosityLevel=i.VerbosityLevel,e.UNSUPPORTED_FEATURES=i.UNSUPPORTED_FEATURES,e.createValidAbsoluteUrl=i.createValidAbsoluteUrl,e.createObjectURL=i.createObjectURL,e.removeNullCharacters=i.removeNullCharacters,e.shadow=i.shadow,e.Util=i.Util,e.RenderingCancelledException=r.RenderingCancelledException,e.getFilenameFromUrl=r.getFilenameFromUrl,e.LinkTarget=r.LinkTarget,e.addLinkAttributes=r.addLinkAttributes,e.loadScript=r.loadScript,e.PDFDateString=r.PDFDateString,e.GlobalWorkerOptions=l.GlobalWorkerOptions,e.apiCompatibilityParams=d.apiCompatibilityParams},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=u,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let n=0;for(let a=0;a<e;a++)n+=u(t[a]);let i=0;const s=new Uint8Array(n);for(let a=0;a<e;a++){let e=t[a];e instanceof Uint8Array||(e="string"==typeof e?h(e):new Uint8Array(e));const n=e.byteLength;s.set(e,i),i+=n}return s},e.assert=r,e.bytesToString=function(t){r(null!==t&&"object"==typeof t&&void 0!==t.length,"Invalid argument for bytesToString");const e=t.length;if(e<8192)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=8192){const s=Math.min(i+8192,e),a=t.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise((function(n,i){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,i(t)}})),t},e.getVerbosityLevel=function(){return s},e.info=function(t){s>=i.INFOS&&console.log("Info: "+t)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))},e.isBool=function(t){return"boolean"==typeof t},e.isEmptyObj=function(t){for(const e in t)return!1;return!0},e.isNum=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(s){return!1}const i=new URL(e,n);return n.origin===i.origin},e.createValidAbsoluteUrl=function(t,e){if(!t)return null;try{const n=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(n){}return null},e.removeNullCharacters=function(t){return"string"!=typeof t?(a("The argument for removeNullCharacters must be a string."),t):t.replace(d,"")},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(s=t)},e.shadow=c,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=h,e.stringToPDFString=function(t){const e=t.length,n=[];if("\xfe"===t[0]&&"\xff"===t[1])for(let i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i)<<8|t.charCodeAt(i+1)));else if("\xff"===t[0]&&"\xfe"===t[1])for(let i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i+1)<<8|t.charCodeAt(i)));else for(let i=0;i<e;++i){const e=m[t.charCodeAt(i)];n.push(e?String.fromCharCode(e):t.charAt(i))}return n.join("")},e.stringToUTF8String=function(t){return decodeURIComponent(escape(t))},e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=a,e.unreachable=o,e.IsEvalSupportedCached=e.IsLittleEndianCached=e.createObjectURL=e.FormatError=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.NativeImageDecoding=e.MissingPDFException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=e.BaseException=void 0,n(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const i={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=i,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let s=i.WARNINGS;function a(t){s>=i.WARNINGS&&console.log("Warning: "+t)}function o(t){throw new Error(t)}function r(t,e){t||o(e)}function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const l=function(){function t(e){this.constructor===t&&o("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=l,e.PasswordException=class extends l{constructor(t,e){super(t),this.code=e}},e.UnknownErrorException=class extends l{constructor(t,e){super(t),this.details=e}},e.InvalidPDFException=class extends l{},e.MissingPDFException=class extends l{},e.UnexpectedResponseException=class extends l{constructor(t,e){super(t),this.status=e}},e.FormatError=class extends l{},e.AbortException=class extends l{};const d=/\x00/g;function h(t){r("string"==typeof t,"Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function u(t){return void 0!==t.length?t.length:(r(void 0!==t.byteLength),t.byteLength)}e.IsLittleEndianCached={get value(){return c(this,"value",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}},e.IsEvalSupportedCached={get value(){return c(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};const p=["rgb(",0,",",0,",",0,")"];class f{static makeCssRgb(t,e,n){return p[1]=t,p[3]=e,p[5]=n,p.join("")}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=f.applyTransform(t,e),i=f.applyTransform(t.slice(2,4),e),s=f.applyTransform([t[0],t[3]],e),a=f.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[2]*e[1]+t[3]*e[3],s=(n+i)/2,a=Math.sqrt((n+i)*(n+i)-4*(n*i-(t[2]*e[0]+t[3]*e[2])*(t[0]*e[1]+t[1]*e[3])))/2,o=s-a||1;return[Math.sqrt(s+a||1),Math.sqrt(o)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){function n(t,e){return t-e}const i=[t[0],t[2],e[0],e[2]].sort(n),s=[t[1],t[3],e[1],e[3]].sort(n),a=[];return t=f.normalizeRect(t),e=f.normalizeRect(e),i[0]===t[0]&&i[1]===e[0]||i[0]===e[0]&&i[1]===t[0]?(a[0]=i[1],a[2]=i[2],s[0]===t[1]&&s[1]===e[1]||s[0]===e[1]&&s[1]===t[1]?(a[1]=s[1],a[3]=s[2],a):null):null}}e.Util=f;const m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],g=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n,i=!1){if(!i&&URL.createObjectURL){const t=new Blob([e],{type:n});return URL.createObjectURL(t)}let s=`data:${n};base64,`;for(let a=0,o=e.length;a<o;a+=3){const n=255&e[a],i=255&e[a+1],r=255&e[a+2];s+=t[n>>2]+t[(3&n)<<4|i>>4]+t[a+1<o?(15&i)<<2|r>>6:64]+t[a+2<o?63&r:64]}return s}}();e.createObjectURL=g},function(t,e,n){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let n;if("string"==typeof t)n={url:t};else if((0,_util.isArrayBuffer)(t))n={data:t};else if(t instanceof PDFDataRangeTransport)n={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=t}const i=Object.create(null);let s=null,a=null;for(const c in n)if("url"!==c||"undefined"==typeof window)if("range"!==c)if("worker"!==c)if("data"!==c||n[c]instanceof Uint8Array)i[c]=n[c];else{const t=n[c];if("string"==typeof t)i[c]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");i[c]=new Uint8Array(t)}else i[c]=new Uint8Array(t)}else a=n[c];else s=n[c];else i[c]=new URL(n[c],window.location).href;i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.pdfBug=!0===i.pdfBug;const o=Object.values(_util.NativeImageDecoding);if(void 0!==i.nativeImageDecoderSupport&&o.includes(i.nativeImageDecoderSupport)||(i.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),"boolean"!=typeof i.disableCreateObjectURL&&(i.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(i.verbosity),!a){const t={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=a}const r=e.docId;return a.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");return _fetchDocument(a,i,s,r).then((function(t){if(e.destroyed)throw new Error("Loading aborted");let n;s?n=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,disableRange:i.disableRange,disableStream:i.disableStream},s):i.data||(n=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream}));const o=new _message_handler.MessageHandler(r,t,a.port);o.postMessageTransfers=a.postMessageTransfers;const c=new WorkerTransport(o,e,n,i);e._transport=c,o.send("Ready",null)}))})).catch(e._capability.reject),e}function _fetchDocument(t,e,n,i){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone),t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.4.456",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,disableCreateObjectURL:e.disableCreateObjectURL,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported}).then((function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})))}const PDFDocumentLoadingTask=function(){let t=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}then(t,e){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}}}();class PDFDataRangeTransport{constructor(t,e,n=!1){this.length=t,this.initialData=e,this.progressiveDone=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getOpenActionDestination(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(t){return t&&t.dest?t.dest:null}))}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,n,i=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){if(arguments.length>1||"number"==typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:t=null}={}){return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,t),this.annotationsIntent=t),this.annotationsPromise}render({canvasContext:t,viewport:e,intent:n="display",enableWebGL:i=!1,renderInteractiveForms:s=!1,transform:a=null,imageLayer:o=null,canvasFactory:r=null,background:c=null}){this._stats&&this._stats.time("Overall");const l="print"===n?"print":"display";this.pendingCleanup=!1,this.intentStates[l]||(this.intentStates[l]=Object.create(null));const d=this.intentStates[l];d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null);const h=r||new _display_utils.DOMCanvasFactory,u=new _webgl.WebGLContext({enable:i});d.displayReadyCapability||(d.displayReadyCapability=(0,_util.createPromiseCapability)(),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:l,renderInteractiveForms:!0===s}));const p=t=>{const e=d.renderTasks.indexOf(f);e>=0&&d.renderTasks.splice(e,1),(this.cleanupAfterRender||"print"===l)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(f.capability.reject(t),this._abortOperatorList({intentState:d,reason:t})):f.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},f=new InternalRenderTask({callback:p,params:{canvasContext:t,viewport:e,transform:a,imageLayer:o,background:c},objs:this.objs,commonObjs:this.commonObjs,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:h,webGLContext:u,useRequestAnimationFrame:"print"!==l,pdfBug:this._pdfBug});d.renderTasks||(d.renderTasks=[]),d.renderTasks.push(f);const m=f.task;return d.displayReadyCapability.promise.then(t=>{this.pendingCleanup?p():(this._stats&&this._stats.time("Rendering"),f.initializeGraphics(t),f.operatorListChanged())}).catch(p),m}getOperatorList(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));const t=this.intentStates.oplist;let e;return t.opListReadCapability||(e={},e.operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);const n=t.renderTasks.indexOf(e);n>=0&&t.renderTasks.splice(n,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),t.opListReadCapability.promise}streamTextContent({normalizeWhitespace:t=!1,disableCombineTextItems:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===t,combineTextItems:!0!==e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(t={}){const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),s={items:[],styles:Object.create(null)};!function e(){i.read().then((function({value:n,done:i}){i?t(s):(Object.assign(s.styles,n.styles),s.items.push(...n.items),e())}),n)}()}))}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const t=[];return Object.keys(this.intentStates).forEach(e=>{const n=this.intentStates[e];this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==e&&n.renderTasks.forEach((function(e){const n=e.capability.promise.catch((function(){}));t.push(n),e.cancel()}))}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){return!(!this.pendingCleanup||Object.keys(this.intentStates).some(t=>{const e=this.intentStates[t];return 0!==e.renderTasks.length||!e.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(t=>{delete this.intentStates[t]}),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}_startRenderPage(t,e){const n=this.intentStates[e];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk;for(let n=0;n<e.renderTasks.length;n++)e.renderTasks[n].operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList(t){(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const e=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),n=this.intentStates[t.intent];n.streamReader=e;const i=()=>{e.read().then(({value:t,done:e})=>{e?n.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,n),i())},t=>{if(n.streamReader=null,!this._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;for(let t=0;t<n.renderTasks.length;t++)n.renderTasks[t].operatorListChanged();this._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(t);else{if(!n.opListReadCapability)throw t;n.opListReadCapability.reject(t)}}})};i()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if((0,_util.assert)(e instanceof Error||"object"==typeof e&&null!==e,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),t.streamReader){if(!n){if(0!==t.renderTasks.length)return;if(e instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:e,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}t.streamReader.cancel(new _util.AbortException(e&&e.message)),t.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(e=>this.intentStates[e]===t&&(delete this.intentStates[e],!0)),this.cleanup())}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(t=!0){this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}postMessage(t,e){if(!this._defer)return void this._listeners.forEach(e=>{e.call(this,{data:t})});const n=new WeakMap,i={data:function t(i){if("object"!=typeof i||null===i)return i;if(n.has(i))return n.get(i);let s,a;if((s=i.buffer)&&(0,_util.isArrayBuffer)(s))return a=e&&e.includes(s)?new i.constructor(s,i.byteOffset,i.byteLength):new i.constructor(i),n.set(i,a),a;a=Array.isArray(i)?[]:{},n.set(i,a);for(const e in i){let n,s=i;for(;!(n=Object.getOwnPropertyDescriptor(s,e));)s=Object.getPrototypeOf(s);if(void 0!==n.value)if("function"!=typeof n.value)a[e]=t(n.value);else if(i.hasOwnProperty&&i.hasOwnProperty(e))throw new Error("LoopbackPort.postMessage - cannot clone: "+i[e])}return a}(t)};this._deferred.then(()=>{this._listeners.forEach(t=>{t.call(this,i)})})}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const n=this._listeners.indexOf(e);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const t=document.currentScript&&document.currentScript.src;t&&(fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let t;try{t=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){return URL.createObjectURL(new Blob(["importScripts('"+t+"');"]))}class PDFWorker{constructor({name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(e&&pdfWorkerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=t,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return pdfWorkerPorts.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let e=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),i=()=>{t.removeEventListener("error",s),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),n.on("test",e=>{t.removeEventListener("error",s),this.destroyed?i():e?(this._messageHandler=n,this._port=t,this._webWorker=t,e.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",e=>{if(t.removeEventListener("error",s),this.destroyed)i();else try{a()}catch(n){this._setupFakeWorker()}});const a=()=>{const t=new Uint8Array([this.postMessageTransfers?255:0]);try{n.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,n.send("test",t)}};return void a()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const n="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(i,e);const s=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new PDFWorker(t)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(t,e,n,i){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(t,e)=>{(0,_util.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function({value:t,done:n}){n?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),e.enqueue(new Uint8Array(t),1,[t]))})).catch(t=>{e.error(t)})},e.onCancel=t=>{this._fullReader.cancel(t)}}),t.on("ReaderHeadersReady",t=>{const n=(0,_util.createPromiseCapability)(),i=this._fullReader;return i.headersReady.then(()=>{i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&e.onProgress&&e.onProgress(this._lastProgress),i.onProgress=t=>{e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})},n.reject),n.promise}),t.on("GetRangeReader",(t,e)=>{(0,_util.assert)(this._networkStream);const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function({value:t,done:n}){n?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),e.enqueue(new Uint8Array(t),1,[t]))})).catch(t=>{e.error(t)})},e.onCancel=t=>{n.cancel(t)}):e.close()}),t.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,e._capability.resolve(new PDFDocumentProxy(t,this))}),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details)}e._capability.reject(n)})),t.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const i=t=>{this._passwordCapability.resolve({password:t})};try{e.onPassword(i,t.code)}catch(n){this._passwordCapability.reject(n)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),t.on("DataLoaded",t=>{e.onProgress&&e.onProgress({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",t=>{this.destroyed||this.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)}),t.on("commonobj",e=>{if(this.destroyed)return;const[n,i,s]=e;if(!this.commonObjs.has(n))switch(i){case"Font":const e=this._params;if("error"in s){const t=s.error;(0,_util.warn)("Error during font loading: "+t),this.commonObjs.resolve(n,t);break}let a=null;e.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(a={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const o=new _font_loader.FontFaceObject(s,{isEvalSupported:e.isEvalSupported,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(o).then(()=>{this.commonObjs.resolve(n,o)},e=>{t.sendWithPromise("FontFallback",{id:n}).finally(()=>{this.commonObjs.resolve(n,o)})});break;case"FontPath":case"FontType3Res":this.commonObjs.resolve(n,s);break;default:throw new Error("Got unknown common object type "+i)}}),t.on("obj",t=>{if(this.destroyed)return;const[e,n,i,s]=t,a=this.pageCache[n];if(!a.objs.has(e))switch(i){case"JpegStream":return new Promise((t,e)=>{const n=new Image;n.onload=function(){t(n)},n.onerror=function(){e(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(n)},n.src=s}).then(t=>{a.objs.resolve(e,t)});case"Image":a.objs.resolve(e,s);const t=8e6;s&&"data"in s&&s.data.length>t&&(a.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+i)}}),t.on("DocProgress",t=>{this.destroyed||e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("JpegDecode",t=>{if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));const[e,n]=t;return 3!==n&&1!==n?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise((function(t,i){const s=new Image;s.onload=function(){const{width:e,height:i}=s,a=e*i,o=4*a,r=new Uint8ClampedArray(a*n);let c=document.createElement("canvas");c.width=e,c.height=i;let l=c.getContext("2d");l.drawImage(s,0,0);const d=l.getImageData(0,0,e,i).data;if(3===n)for(let t=0,n=0;t<o;t+=4,n+=3)r[n]=d[t],r[n+1]=d[t+1],r[n+2]=d[t+2];else if(1===n)for(let t=0,n=0;t<o;t+=4,n++)r[n]=d[t];t({data:r,width:e,height:i}),(0,_display_utils.releaseImageResources)(s),c.width=0,c.height=0,c=null,l=null},s.onerror=function(){i(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(s)},s.src=e}))}),t.on("FetchBuiltInCMap",(t,e)=>{if(this.destroyed)return void e.error(new Error("Worker was destroyed"));let n=!1;e.onPull=()=>{n?e.close():(n=!0,this.CMapReaderFactory.fetch(t).then((function(t){e.enqueue(t,1,[t.cMapData.buffer])})).catch((function(t){e.error(t)})))}})}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));const e=t-1;if(e in this.pagePromises)return this.pagePromises[e];const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(t=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(e,t,this,this._params.pdfBug);return this.pageCache[e]=n,n});return this.pagePromises[e]=n,n}getPageIndex(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(t){return Promise.reject(new Error(t))}))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null}))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let t=0,e=this.pageCache.length;t<e;t++){const e=this.pageCache[t];if(e&&!e.cleanup())throw new Error(`startCleanup: Page ${t+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear()})}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableCreateObjectURL:t.disableCreateObjectURL,disableFontFace:t.disableFontFace,nativeImageDecoderSupport:t.nativeImageDecoderSupport})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(t,e=null){if(e)return this._ensureObj(t).capability.promise.then(e),null;const n=this._objs[t];if(!n||!n.resolved)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this._objs[t];return!!e&&e.resolved}resolve(t,e){const n=this._ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)}clear(){for(const t in this._objs){const{data:e}=this._objs[t];"undefined"!=typeof Image&&e instanceof Image&&(0,_display_utils.releaseImageResources)(e)}this._objs=Object.create(null)}}class RenderTask{constructor(t){this._internalRenderTask=t,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}then(t,e){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}}const InternalRenderTask=function(){const t=new WeakSet;return class{constructor({callback:t,params:e,objs:n,commonObjs:i,operatorList:s,pageIndex:a,canvasFactory:o,webGLContext:r,useRequestAnimationFrame:c=!1,pdfBug:l=!1}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=o,this.webGLContext=r,this._pdfBug=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}initializeGraphics(e=!1){if(this.cancelled)return;if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,imageLayer:a,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,a),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page "+(this._pageIndex+1),"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback())))}}}(),version="2.4.456";exports.version=version;const build="228a591c";exports.build=build},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function(t,{url:e,target:n,rel:s,enabled:a=!0}={}){(0,i.assert)(e&&"string"==typeof e,'addLinkAttributes: A valid "url" parameter must provided.');const r=(0,i.removeNullCharacters)(e);a?t.href=t.title=r:(t.href="",t.title="Disabled: "+r,t.onclick=()=>!1);let c="";switch(n){case o.NONE:break;case o.SELF:c="_self";break;case o.BLANK:c="_blank";break;case o.PARENT:c="_parent";break;case o.TOP:c="_top"}t.target=c,t.rel="string"==typeof s?s:"noopener noreferrer nofollow"},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),n=t.indexOf("?"),i=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",i)+1,i)},e.isFetchSupported=r,e.isValidFetchUrl=c,e.loadScript=function(t){return new Promise((e,n)=>{const i=document.createElement("script");i.src=t,i.onload=e,i.onerror=function(){n(new Error("Cannot load script at: "+i.src))},(document.head||document.documentElement).appendChild(i)})},e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.releaseImageResources=function(t){(0,i.assert)(t instanceof Image,"Invalid `img` parameter.");const e=t.src;"string"==typeof e&&e.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(e),t.removeAttribute("src")},e.PDFDateString=e.StatTimer=e.DOMSVGFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=e.LinkTarget=e.RenderingCancelledException=e.PageViewport=void 0;var i=n(1);e.DEFAULT_LINK_REL="noopener noreferrer nofollow";const s="http://www.w3.org/2000/svg";e.DOMCanvasFactory=class{create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=e,{canvas:n,context:i}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},e.DOMCMapReaderFactory=class{constructor({baseUrl:t=null,isCompressed:e=!1}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return r()&&c(e,document.baseURI)?fetch(e).then(async t=>{if(!t.ok)throw new Error(t.statusText);let e;return e=this.isCompressed?new Uint8Array(await t.arrayBuffer()):(0,i.stringToBytes)(await t.text()),{cMapData:e,compressionType:n}}).catch(t=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+"CMap at: "+e)}):new Promise((t,s)=>{const a=new XMLHttpRequest;a.open("GET",e,!0),this.isCompressed&&(a.responseType="arraybuffer"),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){let e;if(this.isCompressed&&a.response?e=new Uint8Array(a.response):!this.isCompressed&&a.responseText&&(e=(0,i.stringToBytes)(a.responseText)),e)return void t({cMapData:e,compressionType:n})}s(new Error(a.statusText))}},a.send(null)}).catch(t=>{throw new Error("Unable to load "+(this.isCompressed?"binary ":"")+"CMap at: "+e)})}},e.DOMSVGFactory=class{create(t,e){(0,i.assert)(t>0&&e>0,"Invalid SVG dimensions");const n=document.createElementNS(s,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",t+"px"),n.setAttribute("height",e+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+t+" "+e),n}createElement(t){return(0,i.assert)("string"==typeof t,"Invalid SVG element type"),document.createElementNS(s,t)}};class a{constructor({viewBox:t,scale:e,rotation:n,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=i,this.offsetY=s;const o=(t[2]+t[0])/2,r=(t[3]+t[1])/2;let c,l,d,h,u,p,f,m;switch(n=(n%=360)<0?n+360:n){case 180:c=-1,l=0,d=0,h=1;break;case 90:c=0,l=1,d=1,h=0;break;case 270:c=0,l=-1,d=-1,h=0;break;default:c=1,l=0,d=0,h=-1}a&&(d=-d,h=-h),0===c?(u=Math.abs(r-t[1])*e+i,p=Math.abs(o-t[0])*e+s,f=Math.abs(t[3]-t[1])*e,m=Math.abs(t[2]-t[0])*e):(u=Math.abs(o-t[0])*e+i,p=Math.abs(r-t[1])*e+s,f=Math.abs(t[2]-t[0])*e,m=Math.abs(t[3]-t[1])*e),this.transform=[c*e,l*e,d*e,h*e,u-c*e*o-d*e*r,p-l*e*o-h*e*r],this.width=f,this.height=m}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new a({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){return i.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=i.Util.applyTransform([t[0],t[1]],this.transform),n=i.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return i.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=a,e.RenderingCancelledException=class extends i.BaseException{constructor(t,e){super(t),this.type=e}};const o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function r(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function c(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch(n){return!1}}let l;e.LinkTarget=o,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,i.warn)("Timer is already running for "+t),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,i.warn)("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const n of this.times){const t=n.name;t.length>e&&(e=t.length)}for(const n of this.times){const i=n.end-n.start;t.push(`${n.name.padEnd(e)} ${i}ms\n`)}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||!(0,i.isString)(t))return null;l||(l=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=l.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let r=parseInt(e[5],10);r=r>=0&&r<=59?r:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const d=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===d?(o+=h,r+=u):"+"===d&&(o-=h,r-=u),new Date(Date.UTC(n,s,a,o,r,c))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=n(1);class s{constructor({docId:t,onUnsupportedFeature:e}){this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(e));const n=e.sheet;n.insertRule(t,n.cssRules.length)}clear(){this.nativeFontFaces.forEach((function(t){document.fonts.delete(t)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.font}),(0,i.warn)(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent([e],[t],i)})}}_queueLoadingCallback(t){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const t="undefined"!=typeof document&&!!document.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let a;e.FontLoader=a,e.FontLoader=a=class extends s{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;if("undefined"==typeof navigator)t=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);e&&e[1]>=14&&(t=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,n={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,n){function s(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function a(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let o,r;const c=document.createElement("canvas");c.width=1,c.height=1;const l=c.getContext("2d");let d=0;const h=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=a(u,976,h.length,h);let p=s(u,16);for(o=0,r=h.length-3;o<r;o+=4)p=p-1482184792+s(h,o)|0;o<h.length&&(p=p-1482184792+s(h+"XXX",o)|0),u=a(u,16,4,(0,i.string32)(p));const f=`url(data:font/opentype;base64,${btoa(u)});`;this.insertRule(`@font-face {font-family:"${h}";src:${f}}`);const m=[];for(o=0,r=e.length;o<r;o++)m.push(e[o].loadedName);m.push(h);const g=document.createElement("div");for(g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px",o=0,r=m.length;o<r;++o){const t=document.createElement("span");t.textContent="Hi",t.style.fontFamily=m[o],g.appendChild(t)}document.body.appendChild(g),function t(e,n){if(d++,d>30)return(0,i.warn)("Load test font never loaded."),void n();l.font="30px "+e,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(h,(function(){document.body.removeChild(g),n.complete()}))}},e.FontFaceObject=class{constructor(t,{isEvalSupported:e=!0,disableFontFace:n=!1,ignoreErrors:i=!1,onUnsupportedFeature:s=null,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const o in t)this[o]=t[o];this.isEvalSupported=!1!==e,this.disableFontFace=!0===n,this.ignoreErrors=!0===i,this._onUnsupportedFeature=s,this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,i.bytesToString)(new Uint8Array(this.data)),e=`url(data:${this.mimetype};base64,${btoa(t)});`,n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n,s;try{n=t.get(this.loadedName+"_path_"+e)}catch(a){if(!this.ignoreErrors)throw a;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.font}),(0,i.warn)(`getPathGenerator - ignoring character: "${a}".`),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){let t,i="";for(let e=0,a=n.length;e<a;e++)s=n[e],t=void 0!==s.args?s.args.join(","):"",i+="c."+s.cmd+"("+t+");\n";return this.compiledGlyphs[e]=new Function("c","size",i)}return this.compiledGlyphs[e]=function(t,e){for(let i=0,a=n.length;i<a;i++)s=n[i],"scale"===s.cmd&&(s.args=[e,-e]),t[s.cmd].apply(t,s.args)}}}},function(t,e,n){"use strict";const i=Object.create(null);{const{isNodeJS:t}=n(7),e="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Trident/.test(e),a=/CriOS/.test(e);(s||a)&&(i.disableCreateObjectURL=!0),t&&(i.disableFontFace=!0,i.nativeImageDecoderSupport="none")}e.apiCompatibilityParams=Object.freeze(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const i="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;e.isNodeJS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(1),s=n(9);function a(t){t.mozCurrentTransform||(t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],r=e*s-n*i,c=n*i-e*s;return[s/r,n/c,i/c,e/r,(s*a-i*o)/c,(n*a-e*o)/r]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,i,s,a,o){var r=this._transformMatrix;this._transformMatrix=[r[0]*e+r[2]*n,r[1]*e+r[3]*n,r[0]*i+r[2]*s,r[1]*i+r[3]*s,r[0]*a+r[2]*o+r[4],r[1]*a+r[3]*o+r[5]],t._originalTransform(e,n,i,s,a,o)},t.setTransform=function(e,n,i,s,a,o){this._transformMatrix=[e,n,i,s,a,o],t._originalSetTransform(e,n,i,s,a,o)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*e+i[2]*n,i[1]*e+i[3]*n,i[0]*-n+i[2]*e,i[1]*-n+i[3]*e,i[4],i[5]],this._originalRotate(t)})}var o=function(){function t(t){this.canvasFactory=t,this.cache=Object.create(null)}return t.prototype={getCanvas:function(t,e,n,i){var s;return void 0!==this.cache[t]?(this.canvasFactory.reset(s=this.cache[t],e,n),s.context.setTransform(1,0,0,1,0,0)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),i&&a(s.context),s},clear(){for(var t in this.cache)this.canvasFactory.destroy(this.cache[t]),delete this.cache[t]}},t}(),r=function(){function t(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),c=function(){function t(t,e,n,i,s,c){this.ctx=t,this.current=new r,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.webGLContext=s,this.imageLayer=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new o(this.canvasFactory),t&&a(t),this._cachedGetSinglePixelWidth=null}function e(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var n,s,a,o,r,c=e.height,l=e.width,d=c%16,h=(c-d)/16,u=0===d?h:h+1,p=t.createImageData(l,16),f=0,m=e.data,g=p.data;if(e.kind===i.ImageKind.GRAYSCALE_1BPP){var b=m.byteLength,_=new Uint32Array(g.buffer,0,g.byteLength>>2),v=_.length,y=l+7>>3,x=4294967295,w=i.IsLittleEndianCached.value?4278190080:255;for(s=0;s<u;s++){for(o=s<h?16:d,n=0,a=0;a<o;a++){for(var C=b-f,O=0,k=C>y?l:8*C-7,S=-8&k,E=0,M=0;O<S;O+=8)M=m[f++],_[n++]=128&M?x:w,_[n++]=64&M?x:w,_[n++]=32&M?x:w,_[n++]=16&M?x:w,_[n++]=8&M?x:w,_[n++]=4&M?x:w,_[n++]=2&M?x:w,_[n++]=1&M?x:w;for(;O<k;O++)0===E&&(M=m[f++],E=128),_[n++]=M&E?x:w,E>>=1}for(;n<v;)_[n++]=0;t.putImageData(p,0,16*s)}}else if(e.kind===i.ImageKind.RGBA_32BPP){for(a=0,r=16*l*4,s=0;s<h;s++)g.set(m.subarray(f,f+r)),f+=r,t.putImageData(p,0,a),a+=16;s<u&&(g.set(m.subarray(f,f+(r=l*d*4))),t.putImageData(p,0,a))}else{if(e.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+e.kind);for(r=l*(o=16),s=0;s<u;s++){for(s>=h&&(r=l*(o=d)),n=0,a=r;a--;)g[n++]=m[f++],g[n++]=m[f++],g[n++]=m[f++],g[n++]=255;t.putImageData(p,0,16*s)}}}}function n(t,e){for(var n=e.height,i=e.width,s=n%16,a=(n-s)/16,o=0===s?a:a+1,r=t.createImageData(i,16),c=0,l=e.data,d=r.data,h=0;h<o;h++){for(var u=h<a?16:s,p=3,f=0;f<u;f++)for(var m=0,g=0;g<i;g++){if(!m){var b=l[c++];m=128}d[p]=b&m?0:255,p+=4,m>>=1}t.putImageData(r,0,16*h)}}function c(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,s=n.length;i<s;i++){var a=n[i];void 0!==t[a]&&(e[a]=t[a])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function l(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function d(t,e,n,i){for(var s=t.length,a=3;a<s;a+=4){var o=t[a];if(0===o)t[a-3]=e,t[a-2]=n,t[a-1]=i;else if(o<255){var r=255-o;t[a-3]=t[a-3]*o+e*r>>8,t[a-2]=t[a-2]*o+n*r>>8,t[a-1]=t[a-1]*o+i*r>>8}}}function h(t,e,n){for(var i=t.length,s=3;s<i;s+=4)e[s]=e[s]*(n?n[t[s]]:t[s])*(1/255)|0}function u(t,e,n){for(var i=t.length,s=3;s<i;s+=4){var a=77*t[s-3]+152*t[s-2]+28*t[s-1];e[s]=n?e[s]*n[a>>8]>>8:e[s]*a>>16}}function p(t,e,n,i){var s=e.canvas,a=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY);var o=e.backdrop||null;if(!e.transferMap&&i.isEnabled){const a=i.composeSMask({layer:n.canvas,mask:s,properties:{subtype:e.subtype,backdrop:o}});return t.setTransform(1,0,0,1,0,0),void t.drawImage(a,e.offsetX,e.offsetY)}!function(t,e,n,i,s,a,o){var r,c=!!a,l=c?a[0]:0,p=c?a[1]:0,f=c?a[2]:0;r="Luminosity"===s?u:h;for(var m=Math.min(i,Math.ceil(1048576/n)),g=0;g<i;g+=m){var b=Math.min(m,i-g),_=t.getImageData(0,g,n,b),v=e.getImageData(0,g,n,b);c&&d(_.data,l,p,f),r(_.data,v.data,o),t.putImageData(v,0,g)}}(a,n,s.width,s.height,e.subtype,o,e.transferMap),t.drawImage(s,0,0)}var f=["butt","round","square"],m=["miter","round","bevel"],g={},b={};for(var _ in t.prototype={beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){var s=this.ctx.canvas.width,a=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=i||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,a),this.ctx.restore(),n){var o=this.cachedCanvases.getCanvas("transparent",s,a,!0);this.compositeCtx=this.ctx,this.transparentCanvas=o.canvas,this.ctx=o.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),l(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,e.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,n,s){var a=t.argsArray,o=t.fnArray,r=e||0,c=a.length;if(c===r)return r;for(var l,d=c-r>10&&"function"==typeof n,h=d?Date.now()+15:0,u=0,p=this.commonObjs,f=this.objs;;){if(void 0!==s&&r===s.nextBreakPoint)return s.breakIt(r,n),r;if((l=o[r])!==i.OPS.dependency)this[l].apply(this,a[r]);else for(const t of a[r]){const e=t.startsWith("g_")?p:f;if(!e.has(t))return e.get(t,n),r}if(++r===c)return r;if(d&&++u>10){if(Date.now()>h)return n(),r;u=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=f[t]},setLineJoin:function(t){this.ctx.lineJoin=m[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)},setRenderingIntent(t){},setFlatness(t){},setGState:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e],s=i[1];switch(i[0]){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=s?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,t.canvas.width,t.canvas.height,!0),n=this.ctx,i=n.mozCurrentTransform;this.ctx.save();var s=e.context;s.scale(1/t.scaleX,1/t.scaleY),s.translate(-t.offsetX,-t.offsetY),s.transform.apply(s,i),t.startTransformInverse=s.mozCurrentTransformInverse,c(n,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++},suspendSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),this.ctx.save(),c(t,this.ctx),this.current.resumeSMaskCtx=t;var e=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()},resumeSMaskGroup:function(){var t=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),c(t,this.ctx);var e=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(t,e,n,i,s,a){this.ctx.transform(t,e,n,i,s,a),this._cachedGetSinglePixelWidth=null},constructPath:function(t,e){for(var n=this.ctx,s=this.current,a=s.x,o=s.y,r=0,c=0,l=t.length;r<l;r++)switch(0|t[r]){case i.OPS.rectangle:a=e[c++],o=e[c++];var d=e[c++],h=e[c++];0===d&&(d=this.getSinglePixelWidth()),0===h&&(h=this.getSinglePixelWidth());var u=a+d,p=o+h;this.ctx.moveTo(a,o),this.ctx.lineTo(u,o),this.ctx.lineTo(u,p),this.ctx.lineTo(a,p),this.ctx.lineTo(a,o),this.ctx.closePath();break;case i.OPS.moveTo:a=e[c++],o=e[c++],n.moveTo(a,o);break;case i.OPS.lineTo:a=e[c++],o=e[c++],n.lineTo(a,o);break;case i.OPS.curveTo:n.bezierCurveTo(e[c],e[c+1],e[c+2],e[c+3],a=e[c+4],o=e[c+5]),c+=6;break;case i.OPS.curveTo2:n.bezierCurveTo(a,o,e[c],e[c+1],e[c+2],e[c+3]),a=e[c+2],o=e[c+3],c+=4;break;case i.OPS.curveTo3:n.bezierCurveTo(e[c],e[c+1],a=e[c+2],o=e[c+3],a,o),c+=4;break;case i.OPS.closePath:n.closePath()}s.setCurrentPoint(a,o)},closePath:function(){this.ctx.closePath()},stroke:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){e.save();const t=i.Util.singularValueDecompose2dScale(e.mozCurrentTransform)[0];e.strokeStyle=n.getPattern(e,this),e.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*t),e.stroke(),e.restore()}else e.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),e.stroke();t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.fillColor,i=!1;this.current.patternFill&&(e.save(),this.baseTransform&&e.setTransform.apply(e,this.baseTransform),e.fillStyle=n.getPattern(e,this),i=!0),this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill(),i&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=g},eoClip:function(){this.pendingClip=b},beginText:function(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var n=0;n<t.length;n++){var i=t[n];e.setTransform.apply(e,i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,e){var n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error("Can't find font for "+t);if(s.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;let a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal",r=`"${n.loadedName||"sans-serif"}", ${n.fallbackName}`;let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font=`${o} ${a} ${c}px ${r}`},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,i,s,a){this.current.textMatrix=[t,e,n,i,s,a],this.current.textMatrixScale=Math.sqrt(t*t+e*e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(t,e,n,s){var a=this.ctx,o=this.current,r=o.font,c=o.textRenderingMode,l=o.fontSize/o.fontSizeScale,d=c&i.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&i.TextRenderingMode.ADD_TO_PATH_FLAG);const u=o.patternFill&&r.data;var p;(r.disableFontFace||h||u)&&(p=r.getPathGenerator(this.commonObjs,t)),r.disableFontFace||u?(a.save(),a.translate(e,n),a.beginPath(),p(a,l),s&&a.setTransform.apply(a,s),d!==i.TextRenderingMode.FILL&&d!==i.TextRenderingMode.FILL_STROKE||a.fill(),d!==i.TextRenderingMode.STROKE&&d!==i.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(d!==i.TextRenderingMode.FILL&&d!==i.TextRenderingMode.FILL_STROKE||a.fillText(t,e,n),d!==i.TextRenderingMode.STROKE&&d!==i.TextRenderingMode.FILL_STROKE||a.strokeText(t,e,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:a.mozCurrentTransform,x:e,y:n,fontSize:l,addToPath:p})},get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var s=e.fontSize;if(0===s)return;var a=this.ctx,o=e.fontSizeScale,r=e.charSpacing,c=e.wordSpacing,l=e.fontDirection,d=e.textHScale*l,h=t.length,u=n.vertical,p=u?1:-1,f=n.defaultVMetrics,m=s*e.fontMatrix[0],g=e.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;let b;if(a.save(),e.patternFill){a.save();const t=e.fillColor.getPattern(a,this);b=a.mozCurrentTransform,a.restore(),a.fillStyle=t}a.transform.apply(a,e.textMatrix),a.translate(e.x,e.y+e.textRise),a.scale(d,l>0?-1:1);var _=e.lineWidth,v=e.textMatrixScale;if(0===v||0===_){var y=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;y!==i.TextRenderingMode.STROKE&&y!==i.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,_=.65*this.getSinglePixelWidth())}else _/=v;1!==o&&(a.scale(o,o),_/=o),a.lineWidth=_;var x,w=0;for(x=0;x<h;++x){var C=t[x];if((0,i.isNum)(C))w+=p*C*s/1e3;else{var O,k,S,E,M=!1,I=(C.isSpace?c:0)+r,P=C.fontChar,T=C.accent,A=C.width;if(u?(S=C.vmetric||f,E=C.vmetric?S[1]:.5*A,A=S?-S[0]:A,O=(E=-E*m)/o,k=(w+S[2]*m)/o):(O=w/o,k=0),n.remeasure&&A>0){var D=1e3*a.measureText(P).width/s*o;if(A<D&&this.isFontSubpixelAAEnabled){var R=A/D;M=!0,a.save(),a.scale(R,1),O/=R}else A!==D&&(O+=(A-D)/2e3*s/o)}(C.isInFont||n.missingFile)&&(g&&!T?a.fillText(P,O,k):(this.paintChar(P,O,k,b),T&&this.paintChar(T.fontChar,O+T.offset.x/o,k-T.offset.y/o,b))),w+=u?A*m-I*l:A*m+I*l,M&&a.restore()}}u?e.y-=w:e.x+=w*d,a.restore()},showType3Text:function(t){var e,n,s,a,o=this.ctx,r=this.current,c=r.font,l=r.fontSize,d=r.fontDirection,h=c.vertical?1:-1,u=r.charSpacing,p=r.wordSpacing,f=r.textHScale*d,m=r.fontMatrix||i.FONT_IDENTITY_MATRIX,g=t.length;if(r.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==l){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,r.textMatrix),o.translate(r.x,r.y),o.scale(f,d),e=0;e<g;++e)if((0,i.isNum)(n=t[e]))this.ctx.translate(a=h*n*l/1e3,0),r.x+=a*f;else{var b=(n.isSpace?p:0)+u,_=c.charProcOperatorList[n.operatorListId];if(_){this.processingType3=n,this.save(),o.scale(l,l),o.transform.apply(o,m),this.executeOperatorList(_),this.restore();var v=i.Util.applyTransform([n.width,0],m);o.translate(s=v[0]*l+b,0),r.x+=s*f}else(0,i.warn)(`Type3 character "${n.operatorListId}" is not available.`)}o.restore(),this.processingType3=null}},setCharWidth:function(t,e){},setCharWidthAndBounds:function(t,e,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.clip(),this.endPath()},getColorN_Pattern:function(e){var n;if("TilingPattern"===e[0]){var i=e[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new s.TilingPattern(e,i,this.ctx,{createCanvasGraphics:e=>new t(e,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)},a)}else n=(0,s.getShadingPatternFromIR)(e);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(t,e,n){var s=i.Util.makeCssRgb(t,e,n);this.ctx.strokeStyle=s,this.current.strokeColor=s},setFillRGBColor:function(t,e,n){var s=i.Util.makeCssRgb(t,e,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1},shadingFill:function(t){var e=this.ctx;this.save();var n=(0,s.getShadingPatternFromIR)(t);e.fillStyle=n.getPattern(e,this,!0);var a=e.mozCurrentTransformInverse;if(a){var o=e.canvas,r=o.width,c=o.height,l=i.Util.applyTransform([0,0],a),d=i.Util.applyTransform([0,c],a),h=i.Util.applyTransform([r,0],a),u=i.Util.applyTransform([r,c],a),p=Math.min(l[0],d[0],h[0],u[0]),f=Math.min(l[1],d[1],h[1],u[1]),m=Math.max(l[0],d[0],h[0],u[0]),g=Math.max(l[1],d[1],h[1],u[1]);this.ctx.fillRect(p,f,m-p,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,i.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,i.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(t){this.save();var e=this.ctx;t.isolated||(0,i.info)("TODO: Support non-isolated groups."),t.knockout&&(0,i.warn)("Knockout groups not supported.");var n=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var s=i.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform);s=i.Util.intersect(s,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];var a=Math.floor(s[0]),o=Math.floor(s[1]),r=Math.max(Math.ceil(s[2])-a,1),l=Math.max(Math.ceil(s[3])-o,1),d=1,h=1;r>4096&&(d=r/4096,r=4096),l>4096&&(h=l/4096,l=4096);var u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(u,r,l,!0),f=p.context;f.scale(1/d,1/h),f.translate(-a,-o),f.transform.apply(f,n),t.smask?this.smaskStack.push({canvas:p.canvas,context:f,offsetX:a,offsetY:o,scaleX:d,scaleY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.scale(d,h)),c(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++,this.current.activeSMask=null},endGroup:function(t){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){this.save(),l(this.ctx),this.current=new r,Array.isArray(t)&&4===t.length&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath()),this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,e,n){const s=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(s){this.save();var a=this.ctx;if(a.scale(1/e,-1/n),a.drawImage(s,0,0,s.width,s.height,0,-n,e,n),this.imageLayer){var o=a.mozCurrentTransformInverse,r=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:r[0],top:r[1],width:e/o[0],height:n/o[3]})}this.restore()}else(0,i.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(t){var e=this.ctx,i=t.width,s=t.height,a=this.current.fillColor,o=this.current.patternFill,r=this.processingType3;if(r&&void 0===r.compiled&&(r.compiled=i<=1e3&&s<=1e3?function(t){var e,n,i,s,a=t.width,o=t.height,r=a+1,c=new Uint8Array(r*(o+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=a+7&-8,h=t.data,u=new Uint8Array(d*o),p=0;for(e=0,s=h.length;e<s;e++)for(var f=128,m=h[e];f>0;)u[p++]=m&f?0:255,f>>=1;var g=0;for(0!==u[p=0]&&(c[0]=1,++g),n=1;n<a;n++)u[p]!==u[p+1]&&(c[n]=u[p]?2:1,++g),p++;for(0!==u[p]&&(c[n]=2,++g),e=1;e<o;e++){i=e*r,u[(p=e*d)-d]!==u[p]&&(c[i]=u[p]?1:8,++g);var b=(u[p]?4:0)+(u[p-d]?8:0);for(n=1;n<a;n++)l[b=(b>>2)+(u[p+1]?4:0)+(u[p-d+1]?8:0)]&&(c[i+n]=l[b],++g),p++;if(u[p-d]!==u[p]&&(c[i+n]=u[p]?2:4,++g),g>1e3)return null}for(i=e*r,0!==u[p=d*(o-1)]&&(c[i]=8,++g),n=1;n<a;n++)u[p]!==u[p+1]&&(c[i+n]=u[p]?4:8,++g),p++;if(0!==u[p]&&(c[i+n]=4,++g),g>1e3)return null;var _=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=[];for(e=0;g&&e<=o;e++){for(var y=e*r,x=y+a;y<x&&!c[y];)y++;if(y!==x){var w,C=[y%r,e],O=c[y],k=y;do{var S=_[O];do{y+=S}while(!c[y]);5!==(w=c[y])&&10!==w?(O=w,c[y]=0):c[y]&=(O=w&51*O>>4)>>2|O<<2,C.push(y%r),C.push(y/r|0),c[y]||--g}while(k!==y);v.push(C),--e}}return function(t){t.save(),t.scale(1/a,-1/o),t.translate(0,-o),t.beginPath();for(var e=0,n=v.length;e<n;e++){var i=v[e];t.moveTo(i[0],i[1]);for(var s=2,r=i.length;s<r;s+=2)t.lineTo(i[s],i[s+1])}t.fill(),t.beginPath(),t.restore()}}({data:t.data,width:i,height:s}):null),r&&r.compiled)r.compiled(e);else{var c=this.cachedCanvases.getCanvas("maskCanvas",i,s),l=c.context;l.save(),n(l,t),l.globalCompositeOperation="source-in",l.fillStyle=o?a.getPattern(l,this):a,l.fillRect(0,0,i,s),l.restore(),this.paintInlineImageXObject(c.canvas)}},paintImageMaskXObjectRepeat:function(t,e,i,s){var a=t.width,o=t.height,r=this.current.fillColor,c=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",a,o),d=l.context;d.save(),n(d,t),d.globalCompositeOperation="source-in",d.fillStyle=c?r.getPattern(d,this):r,d.fillRect(0,0,a,o),d.restore();for(var h=this.ctx,u=0,p=s.length;u<p;u+=2)h.save(),h.transform(e,0,0,i,s[u],s[u+1]),h.scale(1,-1),h.drawImage(l.canvas,0,0,a,o,0,-1,1,1),h.restore()},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,i=this.current.fillColor,s=this.current.patternFill,a=0,o=t.length;a<o;a++){var r=t[a],c=r.width,l=r.height,d=this.cachedCanvases.getCanvas("maskCanvas",c,l),h=d.context;h.save(),n(h,r),h.globalCompositeOperation="source-in",h.fillStyle=s?i.getPattern(h,this):i,h.fillRect(0,0,c,l),h.restore(),e.save(),e.transform.apply(e,r.transform),e.scale(1,-1),e.drawImage(d.canvas,0,0,c,l,0,-1,1,1),e.restore()}},paintImageXObject:function(t){const e=this.processingType3?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(t,e,n,s){const a=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(a){for(var o=a.width,r=a.height,c=[],l=0,d=s.length;l<d;l+=2)c.push({transform:[e,0,0,n,s[l],s[l+1]],x:0,y:0,w:o,h:r});this.paintInlineImageXObjectGroup(a,c)}else(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(t){var n=t.width,i=t.height,s=this.ctx;this.save(),s.scale(1/n,-1/i);var a,o,r=s.mozCurrentTransformInverse,c=r[0],l=r[1],d=Math.max(Math.sqrt(c*c+l*l),1),h=r[2],u=r[3],p=Math.max(Math.sqrt(h*h+u*u),1);if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)a=t;else{var f=(o=this.cachedCanvases.getCanvas("inlineImage",n,i)).context;e(f,t),a=o.canvas}for(var m=n,g=i,b="prescale1";d>2&&m>1||p>2&&g>1;){var _=m,v=g;d>2&&m>1&&(d/=m/(_=Math.ceil(m/2))),p>2&&g>1&&(p/=g/(v=Math.ceil(g/2))),(f=(o=this.cachedCanvases.getCanvas(b,_,v)).context).clearRect(0,0,_,v),f.drawImage(a,0,0,m,g,0,0,_,v),a=o.canvas,m=_,g=v,b="prescale1"===b?"prescale2":"prescale1"}if(s.drawImage(a,0,0,m,g,0,-i,n,i),this.imageLayer){var y=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:t,left:y[0],top:y[1],width:n/r[0],height:i/r[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,n){var i=this.ctx,s=t.width,a=t.height,o=this.cachedCanvases.getCanvas("inlineImage",s,a);e(o.context,t);for(var r=0,c=n.length;r<c;r++){var l=n[r];if(i.save(),i.transform.apply(i,l.transform),i.scale(1,-1),i.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var d=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:t,left:d[0],top:d[1],width:s,height:a})}i.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,i.warn)("Unsupported 'paintXObject' command.")},markPoint:function(t){},markPointProps:function(t,e){},beginMarkedContent:function(t){},beginMarkedContentProps:function(t,e){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===b?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()},getSinglePixelWidth(t){if(null===this._cachedGetSinglePixelWidth){const t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}},i.OPS)t.prototype[i.OPS[_]]=t.prototype[_];return t}();e.CanvasGraphics=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPatternFromIR=function(t){var e=s[t[0]];if(!e)throw new Error("Unknown IR type: "+t[0]);return e.fromIR(t)},e.TilingPattern=void 0;var i=n(1),s={};function a(t,e){if(!e||"undefined"==typeof Path2D)return;const n=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],n,i),t.clip(s)}s.RadialAxial={fromIR:function(t){var e=t[1],n=t[2],i=t[3],s=t[4],o=t[5],r=t[6],c=t[7];return{type:"Pattern",getPattern:function(t){var l;a(t,n),"axial"===e?l=t.createLinearGradient(s[0],s[1],o[0],o[1]):"radial"===e&&(l=t.createRadialGradient(s[0],s[1],r,o[0],o[1],c));for(var d=0,h=i.length;d<h;++d){var u=i[d];l.addColorStop(u[0],u[1])}return l}}}};var o=function(){function t(t,e,n,i,s,a,o,r){var c,l=e.coords,d=e.colors,h=t.data,u=4*t.width;l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=a,a=o,o=c),l[i+1]>l[s+1]&&(c=i,i=s,s=c,c=o,o=r,r=c),l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=a,a=o,o=c);var p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,g=(l[i+1]+e.offsetY)*e.scaleY,b=(l[s]+e.offsetX)*e.scaleX,_=(l[s+1]+e.offsetY)*e.scaleY;if(!(f>=_))for(var v,y,x,w,C,O,k,S,E=d[a],M=d[a+1],I=d[a+2],P=d[o],T=d[o+1],A=d[o+2],D=d[r],R=d[r+1],L=d[r+2],F=Math.round(f),j=Math.round(_),Y=F;Y<=j;Y++){if(Y<g){let t;t=Y<f?0:f===g?1:(f-Y)/(f-g),v=p-(p-m)*t,y=E-(E-P)*t,x=M-(M-T)*t,w=I-(I-A)*t}else{let t;t=Y>_?1:g===_?0:(g-Y)/(g-_),v=m-(m-b)*t,y=P-(P-D)*t,x=T-(T-R)*t,w=A-(A-L)*t}let t;t=Y<f?0:Y>_?1:(f-Y)/(f-_),C=p-(p-b)*t,O=E-(E-D)*t,k=M-(M-R)*t,S=I-(I-L)*t;for(var Z=Math.round(Math.min(v,C)),N=Math.round(Math.max(v,C)),U=u*Y+4*Z,B=Z;B<=N;B++){let t=(v-B)/(v-C);t<0?t=0:t>1&&(t=1),h[U++]=y-(y-O)*t|0,h[U++]=x-(x-k)*t|0,h[U++]=w-(w-S)*t|0,h[U++]=255}}}function e(e,n,i){var s,a,o=n.coords,r=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,l=Math.floor(o.length/c)-1,d=c-1;for(s=0;s<l;s++)for(var h=s*c,u=0;u<d;u++,h++)t(e,i,o[h],o[h+1],o[h+c],r[h],r[h+1],r[h+c]),t(e,i,o[h+c+1],o[h+1],o[h+c],r[h+c+1],r[h+1],r[h+c]);break;case"triangles":for(s=0,a=o.length;s<a;s+=3)t(e,i,o[s],o[s+1],o[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}return function(t,n,i,s,a,o,r,c){var l,d,h,u,p=Math.floor(t[0]),f=Math.floor(t[1]),m=Math.ceil(t[2])-p,g=Math.ceil(t[3])-f,b=Math.min(Math.ceil(Math.abs(m*n[0]*1.1)),3e3),_=Math.min(Math.ceil(Math.abs(g*n[1]*1.1)),3e3),v=m/b,y=g/_,x={coords:i,colors:s,offsetX:-p,offsetY:-f,scaleX:1/v,scaleY:1/y},w=b+4,C=_+4;if(c.isEnabled)l=c.drawFigures({width:b,height:_,backgroundColor:o,figures:a,context:x}),(d=r.getCanvas("mesh",w,C,!1)).context.drawImage(l,2,2),l=d.canvas;else{var O=(d=r.getCanvas("mesh",w,C,!1)).context,k=O.createImageData(b,_);if(o){var S=k.data;for(h=0,u=S.length;h<u;h+=4)S[h]=o[0],S[h+1]=o[1],S[h+2]=o[2],S[h+3]=255}for(h=0;h<a.length;h++)e(k,a[h],x);O.putImageData(k,2,2),l=d.canvas}return{canvas:l,offsetX:p-2*v,offsetY:f-2*y,scaleX:v,scaleY:y}}}();s.Mesh={fromIR:function(t){var e=t[2],n=t[3],s=t[4],r=t[5],c=t[6],l=t[7],d=t[8];return{type:"Pattern",getPattern:function(t,h,u){var p;if(a(t,l),u)p=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(p=i.Util.singularValueDecompose2dScale(h.baseTransform),c){var f=i.Util.singularValueDecompose2dScale(c);p=[p[0]*f[0],p[1]*f[1]]}var m=o(r,p,e,n,s,u?null:d,h.cachedCanvases,h.webGLContext);return u||(t.setTransform.apply(t,h.baseTransform),c&&t.transform.apply(t,c)),t.translate(m.offsetX,m.offsetY),t.scale(m.scaleX,m.scaleY),t.createPattern(m.canvas,"no-repeat")}}}},s.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var r=function(){function t(t,e,n,i,s){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.canvasGraphicsFactory=i,this.baseTransform=s,this.type="Pattern",this.ctx=n}return t.prototype={createPatternCanvas:function(t){var e=this.operatorList,n=this.bbox,s=this.xstep,a=this.ystep,o=this.paintType,r=this.color,c=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);var l=n[0],d=n[1],h=n[2],u=n[3],p=i.Util.singularValueDecompose2dScale(this.matrix),f=i.Util.singularValueDecompose2dScale(this.baseTransform),m=[p[0]*f[0],p[1]*f[1]],g=this.getSizeAndScale(s,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(a,this.ctx.canvas.height,m[1]),_=t.cachedCanvases.getCanvas("pattern",g.size,b.size,!0),v=c.createCanvasGraphics(_.context);return v.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(v,o,r),v.transform(g.scale,0,0,b.scale,0,0),v.transform(1,0,0,1,-l,-d),this.clipBbox(v,n,l,d,h,u),v.executeOperatorList(e),this.ctx.transform(1,0,0,1,l,d),this.ctx.scale(1/g.scale,1/b.scale),_.canvas},getSizeAndScale:function(t,e,n){t=Math.abs(t);var i=Math.max(3e3,e),s=Math.ceil(t*n);return s>=i?s=i:n=s/t,{scale:n,size:s}},clipBbox:function(t,e,n,i,s,a){Array.isArray(e)&&4===e.length&&(t.ctx.rect(n,i,s-n,a-i),t.clip(),t.endPath())},setFillAndStrokeStyleToContext:function(t,e,n){const s=t.ctx,a=t.current;switch(e){case 1:var o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case 2:var r=i.Util.makeCssRgb(n[0],n[1],n[2]);s.fillStyle=r,s.strokeStyle=r,a.fillColor=r,a.strokeColor=r;break;default:throw new i.FormatError("Unsupported paint type: "+e)}},getPattern:function(t,e){(t=this.ctx).setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix);var n=this.createPatternCanvas(e);return t.createPattern(n,"repeat")}},t}();e.TilingPattern=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=void 0===i.workerPort?null:i.workerPort,i.workerSrc=void 0===i.workerSrc?"":i.workerSrc},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=n(1);function s(t){if("object"!=typeof t||null===t)return t;switch(t.name){case"AbortException":return new i.AbortException(t.message);case"MissingPDFException":return new i.MissingPDFException(t.message);case"UnexpectedResponseException":return new i.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new i.UnknownErrorException(t.message,t.details);default:return new i.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback "+t);if(delete this.callbackCapabilities[t],1===e.callback)n.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");n.reject(s(e.reason))}return}const i=this.actionHandler[e.action];if(!i)throw new Error("Unknown action from worker: "+e.action);if(e.callbackId){const t=this.sourceName,a=e.sourceName;new Promise((function(t){t(i(e.data))})).then((function(i){n.postMessage({sourceName:t,targetName:a,callback:1,callbackId:e.callbackId,data:i})}),(function(i){n.postMessage({sourceName:t,targetName:a,callback:2,callbackId:e.callbackId,reason:s(i)})}))}else e.streamId?this._createStreamSink(e):i(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,a=(0,i.createPromiseCapability)();this.callbackCapabilities[s]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(o){a.reject(o)}return a.promise}sendWithStream(t,e,n,a){const o=this.streamId++,r=this.sourceName,c=this.targetName,l=this.comObj;return new ReadableStream({start:n=>{const s=(0,i.createPromiseCapability)();return this.streamControllers[o]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:r,targetName:c,action:t,streamId:o,data:e,desiredSize:n.desiredSize},a),s.promise},pull:t=>{const e=(0,i.createPromiseCapability)();return this.streamControllers[o].pullCall=e,l.postMessage({sourceName:r,targetName:c,stream:6,streamId:o,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,i.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,i.createPromiseCapability)();return this.streamControllers[o].cancelCall=e,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:r,targetName:c,stream:1,streamId:o,reason:s(t)}),e.promise}},n)}_createStreamSink(t){const e=this,n=this.actionHandler[t.action],a=t.streamId,o=this.sourceName,r=t.sourceName,c=this.comObj,l={enqueue(t,n=1,s){if(this.isCancelled)return;const c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e._postMessage({sourceName:o,targetName:r,stream:4,streamId:a,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:r,stream:3,streamId:a}),delete e.streamSinks[a])},error(t){(0,i.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:r,stream:5,streamId:a,reason:s(t)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[a]=l,new Promise((function(e){e(n(t.data,l))})).then((function(){c.postMessage({sourceName:o,targetName:r,stream:8,streamId:a,success:!0})}),(function(t){c.postMessage({sourceName:o,targetName:r,stream:8,streamId:a,reason:s(t)})}))}_processStreamMessage(t){const e=t.streamId,n=this.sourceName,a=t.sourceName,o=this.comObj;switch(t.stream){case 8:t.success?this.streamControllers[e].startCall.resolve():this.streamControllers[e].startCall.reject(s(t.reason));break;case 7:t.success?this.streamControllers[e].pullCall.resolve():this.streamControllers[e].pullCall.reject(s(t.reason));break;case 6:if(!this.streamSinks[e]){o.postMessage({sourceName:n,targetName:a,stream:7,streamId:e,success:!0});break}this.streamSinks[e].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[e].sinkCapability.resolve(),this.streamSinks[e].desiredSize=t.desiredSize;const{onPull:r}=this.streamSinks[t.streamId];new Promise((function(t){t(r&&r())})).then((function(){o.postMessage({sourceName:n,targetName:a,stream:7,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:a,stream:7,streamId:e,reason:s(t)})}));break;case 4:if((0,i.assert)(this.streamControllers[e],"enqueue should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].controller.enqueue(t.chunk);break;case 3:if((0,i.assert)(this.streamControllers[e],"close should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].isClosed=!0,this.streamControllers[e].controller.close(),this._deleteStreamController(e);break;case 5:(0,i.assert)(this.streamControllers[e],"error should have stream controller"),this.streamControllers[e].controller.error(s(t.reason)),this._deleteStreamController(e);break;case 2:t.success?this.streamControllers[e].cancelCall.resolve():this.streamControllers[e].cancelCall.reject(s(t.reason)),this._deleteStreamController(e);break;case 1:if(!this.streamSinks[e])break;const{onCancel:c}=this.streamSinks[t.streamId];new Promise((function(e){e(c&&c(s(t.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:a,stream:2,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:a,stream:2,streamId:e,reason:s(t)})})),this.streamSinks[e].sinkCapability.reject(s(t.reason)),this.streamSinks[e].isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t){await Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(t){return t&&t.promise}))),delete this.streamControllers[t]}_postMessage(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(1),s=n(13);e.Metadata=class{constructor(t){(0,i.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);const e=(new s.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map,e&&this._parse(e)}_repair(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,e){const n=e.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,e,n,i){return String.fromCharCode(64*e+8*n+1*i)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,e){switch(e){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${e} isn't defined.`)}));let i="";for(let s=0,a=n.length;s<a;s+=2){const t=256*n.charCodeAt(s)+n.charCodeAt(s+1);i+=t>=32&&t<127&&60!==t&&62!==t&&38!==t?String.fromCharCode(t):"&#x"+(65536+t).toString(16).substring(1)+";"}return">"+i}))}_parse(t){let e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;const n=e?e.nodeName.toLowerCase():null;if(!e||"rdf:rdf"!==n||!e.hasChildNodes())return;const i=e.childNodes;for(let s=0,a=i.length;s<a;s++){const t=i[s];if("rdf:description"===t.nodeName.toLowerCase())for(let e=0,n=t.childNodes.length;e<n;e++)if("#text"!==t.childNodes[e].nodeName.toLowerCase()){const n=t.childNodes[e],i=n.nodeName.toLowerCase();this._metadataMap.set(i,n.textContent.trim())}}}get(t){return this._metadataMap.has(t)?this._metadataMap.get(t):null}getAll(){const t=Object.create(null);for(const[e,n]of this._metadataMap)t[e]=n;return t}has(t){return this._metadataMap.has(t)}}},function(t,e,n){"use strict";function i(t,e){const n=t[e];return" "===n||"\n"===n||"\r"===n||"\t"===n}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleXMLParser=void 0;class s{constructor(t,e){this.nodeName=t,this.nodeValue=e,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const t=this.parentNode.childNodes;if(!t)return;const e=t.indexOf(this);return-1!==e?t[e+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}e.SimpleXMLParser=class extends class{_resolveEntities(t){return t.replace(/&([^;]+);/g,(t,e)=>{if("#x"===e.substring(0,2))return String.fromCharCode(parseInt(e.substring(2),16));if("#"===e.substring(0,1))return String.fromCharCode(parseInt(e.substring(1),10));switch(e){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(e)})}_parseContent(t,e){const n=[];let s=e;function a(){for(;s<t.length&&i(t,s);)++s}for(;s<t.length&&!i(t,s)&&">"!==t[s]&&"/"!==t[s];)++s;const o=t.substring(e,s);for(a();s<t.length&&">"!==t[s]&&"/"!==t[s]&&"?"!==t[s];){a();let e="",o="";for(;s<t.length&&!i(t,s)&&"="!==t[s];)e+=t[s],++s;if(a(),"="!==t[s])return null;++s,a();const r=t[s];if('"'!==r&&"'"!==r)return null;const c=t.indexOf(r,++s);if(c<0)return null;o=t.substring(s,c),n.push({name:e,value:this._resolveEntities(o)}),s=c+1,a()}return{name:o,attributes:n,parsed:s-e}}_parseProcessingInstruction(t,e){let n=e;for(;n<t.length&&!i(t,n)&&">"!==t[n]&&"/"!==t[n];)++n;const s=t.substring(e,n);!function(){for(;n<t.length&&i(t,n);)++n}();const a=n;for(;n<t.length&&("?"!==t[n]||">"!==t[n+1]);)++n;return{name:s,value:t.substring(a,n),parsed:n-e}}parseXml(t){let e=0;for(;e<t.length;){let n=e;if("<"===t[e]){let e;switch(++n,t[n]){case"/":if(++n,e=t.indexOf(">",n),e<0)return void this.onError(-9);this.onEndElement(t.substring(n,e)),n=e+1;break;case"?":++n;const i=this._parseProcessingInstruction(t,n);if("?>"!==t.substring(n+i.parsed,n+i.parsed+2))return void this.onError(-3);this.onPi(i.name,i.value),n+=i.parsed+2;break;case"!":if("--"===t.substring(n+1,n+3)){if(e=t.indexOf("--\x3e",n+3),e<0)return void this.onError(-5);this.onComment(t.substring(n+3,e)),n=e+3}else if("[CDATA["===t.substring(n+1,n+8)){if(e=t.indexOf("]]>",n+8),e<0)return void this.onError(-2);this.onCdata(t.substring(n+8,e)),n=e+3}else{if("DOCTYPE"!==t.substring(n+1,n+8))return void this.onError(-6);{const i=t.indexOf("[",n+8);let s=!1;if(e=t.indexOf(">",n+8),e<0)return void this.onError(-4);if(i>0&&e>i){if(e=t.indexOf("]>",n+8),e<0)return void this.onError(-4);s=!0}const a=t.substring(n+8,e+(s?1:0));this.onDoctype(a),n=e+(s?2:1)}}break;default:const s=this._parseContent(t,n);if(null===s)return void this.onError(-6);let a=!1;if("/>"===t.substring(n+s.parsed,n+s.parsed+2))a=!0;else if(">"!==t.substring(n+s.parsed,n+s.parsed+1))return void this.onError(-9);this.onBeginElement(s.name,s.attributes,a),n+=s.parsed+(a?2:1)}}else{for(;n<t.length&&"<"!==t[n];)n++;const i=t.substring(e,n);this.onText(this._resolveEntities(i))}e=n}}onResolveEntity(t){return`&${t};`}onPi(t,e){}onComment(t){}onCdata(t){}onDoctype(t){}onText(t){}onBeginElement(t,e,n){}onEndElement(t){}onError(t){}}{constructor(){super(),this._currentFragment=null,this._stack=null,this._errorCode=0}parseFromString(t){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(t),0!==this._errorCode)return;const[e]=this._currentFragment;return e?{documentElement:e}:void 0}onResolveEntity(t){switch(t){case"apos":return"'"}return super.onResolveEntity(t)}onText(t){if(function(t){for(let e=0,n=t.length;e<n;e++)if(!i(t,e))return!1;return!0}(t))return;const e=new s("#text",t);this._currentFragment.push(e)}onCdata(t){const e=new s("#text",t);this._currentFragment.push(e)}onBeginElement(t,e,n){const i=new s(t);i.childNodes=[],this._currentFragment.push(i),n||(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}onEndElement(t){this._currentFragment=this._stack.pop()||[];const e=this._currentFragment[this._currentFragment.length-1];if(e)for(let n=0,i=e.childNodes.length;n<i;n++)e.childNodes[n].parentNode=e}onError(t){this._errorCode=t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=n(1);e.PDFDataTransportStream=class{constructor(t,e){(0,i.assert)(e),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;const n=t.initialData;if(n&&n.length>0){const t=new Uint8Array(n).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((t,e)=>{this._onReceiveData({begin:t,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((t,e)=>{this._onProgress({loaded:t,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,i.assert)(n)}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;e&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader);const t=this._queuedChunks;return this._queuedChunks=null,new s(this,t,this._progressiveDone)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new a(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach((function(e){e.cancel(t)})),this._pdfDataRangeTransport.abort()}};class s{constructor(t,e,n=!1){this._stream=t,this._done=n||!1,this._filename=null,this._queuedChunks=e||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){this._done||(0===this._requests.length?this._queuedChunk=t:(this._requests.shift().resolve({value:t,done:!1}),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=void 0;var i=n(1);e.WebGLContext=class{constructor({enable:t=!1}){this._enabled=!0===t}get isEnabled(){let t=this._enabled;return t&&(t=s.tryInitGL()),(0,i.shadow)(this,"isEnabled",t)}composeSMask({layer:t,mask:e,properties:n}){return s.composeSMask(t,e,n)}drawFigures({width:t,height:e,backgroundColor:n,figures:i,context:a}){return s.drawFigures(t,e,n,i,a)}clear(){s.cleanup()}};var s=function(){function t(t,e,n){var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+s)}return i}function e(e,n){return t(e,n,e.VERTEX_SHADER)}function n(e,n){return t(e,n,e.FRAGMENT_SHADER)}function i(t,e){for(var n=t.createProgram(),i=0,s=e.length;i<s;++i)t.attachShader(n,e[i]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){var a=t.getProgramInfoLog(n);throw new Error("Error during program linking: "+a)}return n}function s(t,e,n){t.activeTexture(n);var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}var a,o;function r(){a||(o=document.createElement("canvas"),a=o.getContext("webgl",{premultipliedalpha:!1}))}var c=null,l=null;return{tryInitGL(){try{return r(),!!a}catch(t){}return!1},composeSMask:function(t,l,d){var h=t.width,u=t.height;c||function(){var t,s;r(),t=o,o=null,s=a,a=null;var l=i(s,[e(s,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(s,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);s.useProgram(l);var d={};d.gl=s,d.canvas=t,d.resolutionLocation=s.getUniformLocation(l,"u_resolution"),d.positionLocation=s.getAttribLocation(l,"a_position"),d.backdropLocation=s.getUniformLocation(l,"u_backdrop"),d.subtypeLocation=s.getUniformLocation(l,"u_subtype");var h=s.getAttribLocation(l,"a_texCoord"),u=s.getUniformLocation(l,"u_image"),p=s.getUniformLocation(l,"u_mask"),f=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,f),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),s.STATIC_DRAW),s.enableVertexAttribArray(h),s.vertexAttribPointer(h,2,s.FLOAT,!1,0,0),s.uniform1i(u,0),s.uniform1i(p,1),c=d}();var p=c,f=p.canvas,m=p.gl;f.width=h,f.height=u,m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),m.uniform2f(p.resolutionLocation,h,u),d.backdrop?m.uniform4f(p.resolutionLocation,d.backdrop[0],d.backdrop[1],d.backdrop[2],1):m.uniform4f(p.resolutionLocation,0,0,0,0),m.uniform1i(p.subtypeLocation,"Luminosity"===d.subtype?1:0);var g=s(m,t,m.TEXTURE0),b=s(m,l,m.TEXTURE1),_=m.createBuffer();return m.bindBuffer(m.ARRAY_BUFFER,_),m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,h,0,0,u,0,u,h,0,h,u]),m.STATIC_DRAW),m.enableVertexAttribArray(p.positionLocation),m.vertexAttribPointer(p.positionLocation,2,m.FLOAT,!1,0,0),m.clearColor(0,0,0,0),m.enable(m.BLEND),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.clear(m.COLOR_BUFFER_BIT),m.drawArrays(m.TRIANGLES,0,6),m.flush(),m.deleteTexture(g),m.deleteTexture(b),m.deleteBuffer(_),f},drawFigures:function(t,s,c,d,h){l||function(){var t,s;r(),t=o,o=null,s=a,a=null;var c=i(s,[e(s,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(s,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);s.useProgram(c);var d={};d.gl=s,d.canvas=t,d.resolutionLocation=s.getUniformLocation(c,"u_resolution"),d.scaleLocation=s.getUniformLocation(c,"u_scale"),d.offsetLocation=s.getUniformLocation(c,"u_offset"),d.positionLocation=s.getAttribLocation(c,"a_position"),d.colorLocation=s.getAttribLocation(c,"a_color"),l=d}();var u=l,p=u.canvas,f=u.gl;p.width=t,p.height=s,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(u.resolutionLocation,t,s);var m,g,b,_=0;for(m=0,g=d.length;m<g;m++)switch(d[m].type){case"lattice":_+=((b=d[m].coords.length/d[m].verticesPerRow|0)-1)*(d[m].verticesPerRow-1)*6;break;case"triangles":_+=d[m].coords.length}var v=new Float32Array(2*_),y=new Uint8Array(3*_),x=h.coords,w=h.colors,C=0,O=0;for(m=0,g=d.length;m<g;m++){var k=d[m],S=k.coords,E=k.colors;switch(k.type){case"lattice":var M=k.verticesPerRow;b=S.length/M|0;for(var I=1;I<b;I++)for(var P=I*M+1,T=1;T<M;T++,P++)v[C]=x[S[P-M-1]],v[C+1]=x[S[P-M-1]+1],v[C+2]=x[S[P-M]],v[C+3]=x[S[P-M]+1],v[C+4]=x[S[P-1]],v[C+5]=x[S[P-1]+1],y[O]=w[E[P-M-1]],y[O+1]=w[E[P-M-1]+1],y[O+2]=w[E[P-M-1]+2],y[O+3]=w[E[P-M]],y[O+4]=w[E[P-M]+1],y[O+5]=w[E[P-M]+2],y[O+6]=w[E[P-1]],y[O+7]=w[E[P-1]+1],y[O+8]=w[E[P-1]+2],v[C+6]=v[C+2],v[C+7]=v[C+3],v[C+8]=v[C+4],v[C+9]=v[C+5],v[C+10]=x[S[P]],v[C+11]=x[S[P]+1],y[O+9]=y[O+3],y[O+10]=y[O+4],y[O+11]=y[O+5],y[O+12]=y[O+6],y[O+13]=y[O+7],y[O+14]=y[O+8],y[O+15]=w[E[P]],y[O+16]=w[E[P]+1],y[O+17]=w[E[P]+2],C+=12,O+=18;break;case"triangles":for(var A=0,D=S.length;A<D;A++)v[C]=x[S[A]],v[C+1]=x[S[A]+1],y[O]=w[E[A]],y[O+1]=w[E[A]+1],y[O+2]=w[E[A]+2],C+=2,O+=3}}c?f.clearColor(c[0]/255,c[1]/255,c[2]/255,1):f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT);var R=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,R),f.bufferData(f.ARRAY_BUFFER,v,f.STATIC_DRAW),f.enableVertexAttribArray(u.positionLocation),f.vertexAttribPointer(u.positionLocation,2,f.FLOAT,!1,0,0);var L=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,L),f.bufferData(f.ARRAY_BUFFER,y,f.STATIC_DRAW),f.enableVertexAttribArray(u.colorLocation),f.vertexAttribPointer(u.colorLocation,3,f.UNSIGNED_BYTE,!1,0,0),f.uniform2f(u.scaleLocation,h.scaleX,h.scaleY),f.uniform2f(u.offsetLocation,h.offsetX,h.offsetY),f.drawArrays(f.TRIANGLES,0,_),f.flush(),f.deleteBuffer(R),f.deleteBuffer(L),p},cleanup(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),c=null,l=null}}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=void 0;var i=n(1),s=function(){var t=/\S/;function e(e,n,s){var a=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(a),!t.test(n.str))return o.isWhitespace=!0,void e._textDivProperties.set(a,o);var r=i.Util.transform(e._viewport.transform,n.transform),c=Math.atan2(r[1],r[0]),l=s[n.fontName];l.vertical&&(c+=Math.PI/2);var d=Math.sqrt(r[2]*r[2]+r[3]*r[3]),h=d;let u,p;if(l.ascent?h*=l.ascent:l.descent&&(h*=1+l.descent),0===c?(u=r[4],p=r[5]-h):(u=r[4]+h*Math.sin(c),p=r[5]-h*Math.cos(c)),a.style.left=u+"px",a.style.top=p+"px",a.style.fontSize=d+"px",a.style.fontFamily=l.fontFamily,a.textContent=n.str,e._fontInspectorEnabled&&(a.dataset.fontName=n.fontName),0!==c&&(o.angle=c*(180/Math.PI)),n.str.length>1&&(o.canvasWidth=l.vertical?n.height*e._viewport.scale:n.width*e._viewport.scale),e._textDivProperties.set(a,o),e._textContentStream&&e._layoutText(a),e._enhanceTextSelection){var f=1,m=0;0!==c&&(f=Math.cos(c),m=Math.sin(c));var g,b,_=(l.vertical?n.height:n.width)*e._viewport.scale,v=d;b=0!==c?i.Util.getAxialAlignedBoundingBox([0,0,_,v],g=[f,m,-m,f,u,p]):[u,p,u+_,p+v],e._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:a,size:[_,v],m:g})}}function n(t){if(!t._canceled){var e=t._textDivs,n=t._capability,i=e.length;if(i>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var s=0;s<i;s++)t._layoutText(e[s]);t._renderingDone=!0,n.resolve()}}function s(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach((function(t){for(var e=0;e<n.length&&n[e].end<=t.y1;)e++;for(var i,s,a=n.length-1;a>=0&&n[a].start>=t.y2;)a--;var o,r,c=-1/0;for(o=e;o<=a;o++){var l;(l=(s=(i=n[o]).boundary).x2>t.x1?s.index>t.index?s.x1New:t.x1:void 0===s.x2New?(s.x2+t.x1)/2:s.x2New)>c&&(c=l)}for(t.x1New=c,o=e;o<=a;o++)void 0===(s=(i=n[o]).boundary).x2New?s.x2>t.x1?s.index>t.index&&(s.x2New=s.x2):s.x2New=c:s.x2New>c&&(s.x2New=Math.max(c,s.x2));var d=[],h=null;for(o=e;o<=a;o++){var u=(s=(i=n[o]).boundary).x2>t.x2?s:t;h===u?d[d.length-1].end=i.end:(d.push({start:i.start,end:i.end,boundary:u}),h=u)}for(n[e].start<t.y1&&(d[0].start=t.y1,d.unshift({start:n[e].start,end:t.y1,boundary:n[e].boundary})),t.y2<n[a].end&&(d[d.length-1].end=t.y2,d.push({start:t.y2,end:n[a].end,boundary:n[a].boundary})),o=e;o<=a;o++)if(void 0===(s=(i=n[o]).boundary).x2New){var p=!1;for(r=e-1;!p&&r>=0&&n[r].start>=s.y1;r--)p=n[r].boundary===s;for(r=a+1;!p&&r<n.length&&n[r].end<=s.y2;r++)p=n[r].boundary===s;for(r=0;!p&&r<d.length;r++)p=d[r].boundary===s;p||(s.x2New=c)}Array.prototype.splice.apply(n,[e,a-e+1].concat(d))})),n.forEach((function(e){var n=e.boundary;void 0===n.x2New&&(n.x2New=Math.max(t,n.x2))}))}function a({textContent:t,textContentStream:e,container:n,viewport:s,textDivs:a,textContentItemsStr:o,enhanceTextSelection:r}){this._textContent=t,this._textContentStream=e,this._container=n,this._viewport=s,this._textDivs=a||[],this._textContentItemsStr=o||[],this._enhanceTextSelection=!!r,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}return a.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(t,n){for(let i=0,s=t.length;i<s;i++)this._textContentItemsStr.push(t[i].str),e(this,t[i],n)},_layoutText(t){const e=this._textDivProperties.get(t);if(e.isWhitespace)return;let n="";if(0!==e.canvasWidth){const{fontSize:i,fontFamily:s}=t.style;i===this._layoutTextLastFontSize&&s===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${i} ${s}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=s);const{width:a}=this._layoutTextCtx.measureText(t.textContent);a>0&&(e.scale=e.canvasWidth/a,n=`scaleX(${e.scale})`)}0!==e.angle&&(n=`rotate(${e.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),this._textDivProperties.set(t,e),this._container.appendChild(t)},_render:function(t){const e=(0,i.createPromiseCapability)();let s=Object.create(null);const a=document.createElement("canvas");if(a.mozOpaque=!0,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),e.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then(({value:n,done:i})=>{i?e.resolve():(Object.assign(s,n.styles),this._processItems(n.items,s),t())},e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then(()=>{s=null,t?this._renderTimer=setTimeout(()=>{n(this),this._renderTimer=null},t):n(this)},this._capability.reject)},expandTextDivs:function(t){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(t){for(var e=t._bounds,n=t._viewport,a=function(t,e,n){var i=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));s(t,i);var a=new Array(n.length);return i.forEach((function(t){a[t.index]={left:t.x1New,top:0,right:t.x2New,bottom:0}})),n.map((function(e,n){var s=a[n],o=i[n];o.x1=e.top,o.y1=t-s.right,o.x2=e.bottom,o.y2=t-s.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),s(e,i),i.forEach((function(t){var e=t.index;a[e].top=t.x1New,a[e].bottom=t.x2New})),a}(n.width,n.height,e),o=0;o<a.length;o++){var r=e[o].div,c=t._textDivProperties.get(r);if(0!==c.angle){var l=a[o],d=e[o],h=d.m,u=h[0],p=h[1],f=[[0,0],[0,d.size[1]],[d.size[0],0],d.size],m=new Float64Array(64);f.forEach((function(t,e){var n=i.Util.applyTransform(t,h);m[e+0]=u&&(l.left-n[0])/u,m[e+4]=p&&(l.top-n[1])/p,m[e+8]=u&&(l.right-n[0])/u,m[e+12]=p&&(l.bottom-n[1])/p,m[e+16]=p&&(l.left-n[0])/-p,m[e+20]=u&&(l.top-n[1])/u,m[e+24]=p&&(l.right-n[0])/-p,m[e+28]=u&&(l.bottom-n[1])/u,m[e+32]=u&&(l.left-n[0])/-u,m[e+36]=p&&(l.top-n[1])/-p,m[e+40]=u&&(l.right-n[0])/-u,m[e+44]=p&&(l.bottom-n[1])/-p,m[e+48]=p&&(l.left-n[0])/p,m[e+52]=u&&(l.top-n[1])/-u,m[e+56]=p&&(l.right-n[0])/p,m[e+60]=u&&(l.bottom-n[1])/-u}));var g=function(t,e,n){for(var i=0,s=0;s<n;s++){var a=t[e++];a>0&&(i=i?Math.min(a,i):a)}return i},b=1+Math.min(Math.abs(u),Math.abs(p));c.paddingLeft=g(m,32,16)/b,c.paddingTop=g(m,48,16)/b,c.paddingRight=g(m,0,16)/b,c.paddingBottom=g(m,16,16)/b,t._textDivProperties.set(r,c)}else c.paddingLeft=e[o].left-a[o].left,c.paddingTop=e[o].top-a[o].top,c.paddingRight=a[o].right-e[o].right,c.paddingBottom=a[o].bottom-e[o].bottom,t._textDivProperties.set(r,c)}}(this),this._bounds=null);const e=[],n=[];for(var a=0,o=this._textDivs.length;a<o;a++){const i=this._textDivs[a],s=this._textDivProperties.get(i);s.isWhitespace||(t?(e.length=0,n.length=0,s.originalTransform&&e.push(s.originalTransform),s.paddingTop>0?(n.push(s.paddingTop+"px"),e.push(`translateY(${-s.paddingTop}px)`)):n.push(0),n.push(s.paddingRight>0?s.paddingRight/s.scale+"px":0),n.push(s.paddingBottom>0?s.paddingBottom+"px":0),s.paddingLeft>0?(n.push(s.paddingLeft/s.scale+"px"),e.push(`translateX(${-s.paddingLeft/s.scale}px)`)):n.push(0),i.style.padding=n.join(" "),e.length&&(i.style.transform=e.join(" "))):(i.style.padding=null,i.style.transform=s.originalTransform))}}},function(t){var e=new a({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e}}();e.renderTextLayer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(4),s=n(1);class a{static create(t){switch(t.data.annotationType){case s.AnnotationType.LINK:return new r(t);case s.AnnotationType.TEXT:return new c(t);case s.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new d(t);case"Btn":return t.data.radioButton?new u(t):t.data.checkBox?new h(t):new p(t);case"Ch":return new f(t)}return new l(t);case s.AnnotationType.POPUP:return new m(t);case s.AnnotationType.FREETEXT:return new b(t);case s.AnnotationType.LINE:return new _(t);case s.AnnotationType.SQUARE:return new v(t);case s.AnnotationType.CIRCLE:return new y(t);case s.AnnotationType.POLYLINE:return new x(t);case s.AnnotationType.CARET:return new C(t);case s.AnnotationType.INK:return new O(t);case s.AnnotationType.POLYGON:return new w(t);case s.AnnotationType.HIGHLIGHT:return new k(t);case s.AnnotationType.UNDERLINE:return new S(t);case s.AnnotationType.SQUIGGLY:return new E(t);case s.AnnotationType.STRIKEOUT:return new M(t);case s.AnnotationType.STAMP:return new I(t);case s.AnnotationType.FILEATTACHMENT:return new P(t);default:return new o(t)}}}class o{constructor(t,e=!1,n=!1){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,e&&(this.container=this._createContainer(n))}_createContainer(t=!1){const e=this.data,n=this.page,i=this.viewport,a=document.createElement("section");let o=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1];a.setAttribute("data-annotation-id",e.id);const c=s.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(a.style.transform=`matrix(${i.transform.join(",")})`,a.style.transformOrigin=`-${c[0]}px -${c[1]}px`,!t&&e.borderStyle.width>0){a.style.borderWidth=e.borderStyle.width+"px",e.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(o-=2*e.borderStyle.width,r-=2*e.borderStyle.width);const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;switch((t>0||n>0)&&(a.style.borderRadius=`${t}px / ${n}px`),e.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}e.color?a.style.borderColor=s.Util.makeCssRgb(0|e.color[0],0|e.color[1],0|e.color[2]):a.style.borderWidth=0}return a.style.left=c[0]+"px",a.style.top=c[1]+"px",a.style.width=o+"px",a.style.height=r+"px",a}_createPopup(t,e,n){e||((e=document.createElement("div")).style.height=t.style.height,e.style.width=t.style.width,t.appendChild(e));const i=new g({container:t,trigger:e,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();i.style.left=t.style.width,t.appendChild(i)}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}}class r extends o{constructor(t){super(t,!!(t.data.url||t.data.dest||t.data.action))}render(){this.container.className="linkAnnotation";const{data:t,linkService:e}=this,n=document.createElement("a");return t.url?(0,i.addLinkAttributes)(n,{url:t.url,target:t.newWindow?i.LinkTarget.BLANK:e.externalLinkTarget,rel:e.externalLinkRel,enabled:e.externalLinkEnabled}):t.action?this._bindNamedAction(n,t.action):this._bindLink(n,t.dest),this.container.appendChild(n),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.navigateTo(e),!1),e&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}}class c extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents))}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}}class l extends o{render(){return this.container}}class d extends l{constructor(t){super(t,t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue)}render(){this.container.className="textWidgetAnnotation";let t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea"),t.textContent=this.data.fieldValue):(t=document.createElement("input"),t.type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing=`calc(${e}px - 1ch)`}}else{t=document.createElement("div"),t.textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";let e=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(e=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(t,e)}return null!==this.data.textAlignment&&(t.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(t),this.container}_setTextStyle(t,e){const n=t.style;if(n.fontSize=this.data.fontSize+"px",n.direction=this.data.fontDirection<0?"rtl":"ltr",!e)return;let i="normal";e.black?i="900":e.bold&&(i="bold"),n.fontWeight=i,n.fontStyle=e.italic?"italic":"normal",n.fontFamily=(e.loadedName?`"${e.loadedName}", `:"")+(e.fallbackName||"Helvetica, sans-serif")}}class h extends l{constructor(t){super(t,t.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation checkBox";const t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}class u extends l{constructor(t){super(t,t.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="radio",t.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}class p extends r{render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",t}}class f extends l{constructor(t){super(t,t.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";const t=document.createElement("select");t.disabled=this.data.readOnly,this.data.combo||(t.size=this.data.options.length,this.data.multiSelect&&(t.multiple=!0));for(const e of this.data.options){const n=document.createElement("option");n.textContent=e.displayValue,n.value=e.exportValue,this.data.fieldValue.includes(e.displayValue)&&n.setAttribute("selected",!0),t.appendChild(n)}return this.container.appendChild(t),this.container}}class m extends o{constructor(t){super(t,!(!t.data.title&&!t.data.contents))}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t=this.layer.querySelector(`[data-annotation-id="${this.data.parentId}"]`);if(!t)return this.container;const e=new g({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),n=parseFloat(t.style.left),i=parseFloat(t.style.width);return this.container.style.transformOrigin=`-${n+i}px -${t.style.top}`,this.container.style.left=n+i+"px",this.container.appendChild(e.render()),this.container}}class g{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);const e=document.createElement("div");e.className="popup";const n=this.color;n&&(e.style.backgroundColor=s.Util.makeCssRgb(0|.7*(255-n[0])+n[0],0|.7*(255-n[1])+n[1],0|.7*(255-n[2])+n[2]));const a=document.createElement("h1");a.textContent=this.title,e.appendChild(a);const o=i.PDFDateString.toDateObject(this.modificationDate);if(o){const t=document.createElement("span");t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:o.toLocaleDateString(),time:o.toLocaleTimeString()}),e.appendChild(t)}const r=this._formatContents(this.contents);return e.appendChild(r),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),e.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(e),t}_formatContents(t){const e=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/);for(let i=0,s=n.length;i<s;++i)e.appendChild(document.createTextNode(n[i])),i<s-1&&e.appendChild(document.createElement("br"));return e}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class b extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class _ extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){this.container.className="lineAnnotation";const t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),n.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),n.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),n.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),e.appendChild(n),this.container.append(e),this._createPopup(this.container,n,t),this.container}}class v extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){this.container.className="squareAnnotation";const t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),s=t.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",e-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,t),this.container}}class y extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){this.container.className="circleAnnotation";const t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),s=t.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,t),this.container}}class x extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]);let n=[];for(const s of t.vertices)n.push(s.x-t.rect[0]+","+(t.rect[3]-s.y));n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);return i.setAttribute("points",n),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),e.appendChild(i),this.container.append(e),this._createPopup(this.container,i,t),this.container}}class w extends x{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class C extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class O extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]);for(const n of t.inkLists){let i=[];for(const e of n)i.push(`${e.x-t.rect[0]},${t.rect[3]-e.y}`);i=i.join(" ");const s=this.svgFactory.createElement(this.svgElementName);s.setAttribute("points",i),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),this._createPopup(this.container,s,t),e.appendChild(s)}return this.container.append(e),this.container}}class k extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class S extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class E extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class M extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class I extends o{constructor(t){super(t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class P extends o{constructor(t){super(t,!0);const{filename:e,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(e),this.content=n,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,s.stringToPDFString)(e),filename:e,content:n})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,s.warn)("Download cannot be started due to unavailable download manager")}}e.AnnotationLayer=class{static render(t){const e=[],n=[];for(const i of t.annotations)i&&(i.annotationType!==s.AnnotationType.POPUP?e.push(i):n.push(i));n.length&&e.push(...n);for(const s of e){const e=a.create({data:s,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:t.renderInteractiveForms||!1,svgFactory:new i.DOMSVGFactory});e.isRenderable&&t.div.appendChild(e.render())}}static update(t){for(const e of t.annotations){const n=t.div.querySelector(`[data-annotation-id="${e.id}"]`);n&&(n.style.transform=`matrix(${t.viewport.transform.join(",")})`)}t.div.removeAttribute("hidden")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(1),s=n(4),a=n(7);let o=function(){throw new Error("Not implemented: SVGGraphics")};e.SVGGraphics=o;{const t={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},n="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",d=["butt","round","square"],h=["miter","round","bevel"],u=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let i=0;i<256;i++){let t=i;for(let e=0;e<8;e++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;e[i]=t}function n(t,n,i,s){let a=s;const o=n.length;i[a]=o>>24&255,i[a+1]=o>>16&255,i[a+2]=o>>8&255,i[a+3]=255&o,a+=4,i[a]=255&t.charCodeAt(0),i[a+1]=255&t.charCodeAt(1),i[a+2]=255&t.charCodeAt(2),i[a+3]=255&t.charCodeAt(3),a+=4,i.set(n,a),a+=n.length;const r=function(t,n,i){let s=-1;for(let a=n;a<i;a++)s=s>>>8^e[255&(s^t[a])];return-1^s}(i,s+4,a);i[a]=r>>24&255,i[a+1]=r>>16&255,i[a+2]=r>>8&255,i[a+3]=255&r}function s(t){let e=t.length;const n=Math.ceil(e/65535),i=new Uint8Array(2+e+5*n+4);let s=0;i[s++]=120,i[s++]=156;let a=0;for(;e>65535;)i[s++]=0,i[s++]=255,i[s++]=255,i[s++]=0,i[s++]=0,i.set(t.subarray(a,a+65535),s),s+=65535,a+=65535,e-=65535;i[s++]=1,i[s++]=255&e,i[s++]=e>>8&255,i[s++]=255&~e,i[s++]=(65535&~e)>>8&255,i.set(t.subarray(a),s),s+=t.length-a;const o=function(t,e,n){let i=1,s=0;for(let a=0;a<n;++a)i=(i+(255&t[a]))%65521,s=(s+i)%65521;return s<<16|i}(t,0,t.length);return i[s++]=o>>24&255,i[s++]=o>>16&255,i[s++]=o>>8&255,i[s++]=255&o,i}return function(e,o,r){return function(e,o,r,c){const l=e.width,d=e.height;let h,u,p;const f=e.data;switch(o){case i.ImageKind.GRAYSCALE_1BPP:u=0,h=1,p=l+7>>3;break;case i.ImageKind.RGB_24BPP:u=2,h=8,p=3*l;break;case i.ImageKind.RGBA_32BPP:u=6,h=8,p=4*l;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+p)*d);let g=0,b=0;for(let t=0;t<d;++t)m[g++]=0,m.set(f.subarray(b,b+p),g),b+=p,g+=p;if(o===i.ImageKind.GRAYSCALE_1BPP&&c){g=0;for(let t=0;t<d;t++){g++;for(let t=0;t<p;t++)m[g++]^=255}}const _=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,d>>24&255,d>>16&255,d>>8&255,255&d,h,u,0,0,0]),v=function(t){if(!a.isNodeJS)return s(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const n=__webpack_require__(1).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return s(t)}(m),y=new Uint8Array(t.length+36+_.length+v.length);let x=0;return y.set(t,x),x+=t.length,n("IHDR",_,y,x),x+=12+_.length,n("IDATA",v,y,x),x+=12+v.length,n("IEND",new Uint8Array(0),y,x),(0,i.createObjectURL)(y,"image/png",r)}(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,o,r)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=t.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=t.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function r(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)}function c(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${r(t[0])} ${r(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2])return`rotate(${r(180*Math.acos(t[0])/Math.PI)})`}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${r(t[4])} ${r(t[5])})`;return`matrix(${r(t[0])} ${r(t[1])} ${r(t[2])} ${r(t[3])} ${r(t[4])} `+r(t[5])+")"}let f=0,m=0,g=0;e.SVGGraphics=o=class{constructor(t,e,n){this.svgFactory=new s.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const s in i.OPS)this._operatorIdMapping[i.OPS[s]]=s}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,n=t.argsArray;for(let s=0,a=e.length;s<a;s++)if(e[s]===i.OPS.dependency)for(const t of n[s]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise(n=>{e.get(t,n)});this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(t,e,n,s,a,o){this.transformMatrix=i.Util.transform(this.transformMatrix,[t,e,n,s,a,o]),this.tgrp=null}getSVG(t,e){this.viewport=e;const n=this._initialize(e);return this.loadDependencies(t).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),n))}convertOpList(t){const e=this._operatorIdMapping,n=t.argsArray,i=t.fnArray,s=[];for(let a=0,o=i.length;a<o;a++){const t=i[a];s.push({fnId:t,fn:e[t],args:n[a]})}return function(t){let e=[];const n=[];for(const i of t)"save"!==i.fn?"restore"===i.fn?e=n.pop():e.push(i):(e.push({fnId:92,fn:"group",items:[]}),n.push(e),e=e[e.length-1].items);return e}(s)}executeOpTree(t){for(const e of t){const t=e.fn,n=e.args;switch(0|e.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(n);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(n[0],n[1]);break;case i.OPS.setFont:this.setFont(n);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(n[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(n[0],n[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(n[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(n[0]);break;case i.OPS.setHScale:this.setHScale(n[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(n[0],n[1],n[2],n[3],n[4],n[5]);break;case i.OPS.setTextRise:this.setTextRise(n[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(n[0]);break;case i.OPS.setLineWidth:this.setLineWidth(n[0]);break;case i.OPS.setLineJoin:this.setLineJoin(n[0]);break;case i.OPS.setLineCap:this.setLineCap(n[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(n[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(n[0],n[1],n[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(n[0],n[1],n[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(n);break;case i.OPS.setFillColorN:this.setFillColorN(n);break;case i.OPS.shadingFill:this.shadingFill(n[0]);break;case i.OPS.setDash:this.setDash(n[0],n[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(n[0]);break;case i.OPS.setFlatness:this.setFlatness(n[0]);break;case i.OPS.setGState:this.setGState(n[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintJpegXObject:this.paintJpegXObject(n[0],n[1],n[2]);break;case i.OPS.paintImageXObject:this.paintImageXObject(n[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(n[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(n[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(n[0],n[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(n[0],n[1],n[2],n[3],n[4],n[5]);break;case i.OPS.constructPath:this.constructPath(n[0],n[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,i.warn)("Unimplemented operator "+t)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,n,i,s,a){const o=this.current;o.textMatrix=o.lineMatrix=[t,e,n,i,s,a],o.textMatrixScale=Math.sqrt(t*t+e*e),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",r(o.fontSize)+"px"),o.tspan.setAttributeNS(null,"y",r(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[]}moveText(t,e){const n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",r(n.fontSize)+"px"),n.tspan.setAttributeNS(null,"y",r(-n.y))}showText(e){const s=this.current,a=s.font,o=s.fontSize;if(0===o)return;const l=s.charSpacing,d=s.wordSpacing,h=s.fontDirection,u=s.textHScale*h,p=a.vertical,f=o*s.fontMatrix[0];let m=0;for(const t of e){if(null===t){m+=h*d;continue}if((0,i.isNum)(t)){m+=-t*o*.001;continue}const e=t.fontChar,n=t.width*f+((t.isSpace?d:0)+l)*h;t.isInFont||a.missingFile?(s.xcoords.push(s.x+m),s.tspan.textContent+=e,m+=n):m+=n}p?s.y-=m*u:s.x+=m*u,s.tspan.setAttributeNS(null,"x",s.xcoords.map(r).join(" ")),s.tspan.setAttributeNS(null,"y",r(-s.y)),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",r(s.fontSize)+"px"),s.fontStyle!==t.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==t.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const g=s.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;g===i.TextRenderingMode.FILL||g===i.TextRenderingMode.FILL_STROKE?(s.fillColor!==t.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(g===i.TextRenderingMode.STROKE||g===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let b=s.textMatrix;0!==s.textRise&&(b=b.slice(),b[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${c(b)} scale(${r(u)}, -1)`),s.txtElement.setAttributeNS(n,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const e=(0,i.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${e}); }\n`}setFont(t){const e=this.current,n=this.commonObjs.get(t[0]);let s=t[1];e.font=n,this.embedFonts&&n.data&&!this.embeddedFonts[n.loadedName]&&(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX;let a="normal";n.black?a="900":n.bold&&(a="bold");const o=n.italic?"italic":"normal";s<0?(s=-s,e.fontDirection=-1):e.fontDirection=1,e.fontSize=s,e.fontFamily=n.loadedName,e.fontWeight=a,e.fontStyle=o,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",r(-e.y)),e.xcoords=[]}endText(){const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=d[t]}setLineJoin(t){this.current.lineJoin=h[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,n){this.current.strokeColor=i.Util.makeCssRgb(t,e,n)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,n){this.current.fillColor=i.Util.makeCssRgb(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,n=this.viewport.height,s=i.Util.inverseTransform(this.transformMatrix),a=i.Util.applyTransform([0,0],s),o=i.Util.applyTransform([0,n],s),r=i.Util.applyTransform([e,0],s),c=i.Util.applyTransform([e,n],s),l=Math.min(a[0],o[0],r[0],c[0]),d=Math.min(a[1],o[1],r[1],c[1]),h=Math.max(a[0],o[0],r[0],c[0]),u=Math.max(a[1],o[1],r[1],c[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",l),p.setAttributeNS(null,"y",d),p.setAttributeNS(null,"width",h-l),p.setAttributeNS(null,"height",u-d),p.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this._ensureTransformGroup().appendChild(p)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],n=t[2],s=t[3]||i.IDENTITY_MATRIX,[a,o,r,c]=t[4],l=t[5],d=t[6],h=t[7],u="shading"+g++,[p,f]=i.Util.applyTransform([a,o],s),[m,b]=i.Util.applyTransform([r,c],s),[_,v]=i.Util.singularValueDecompose2dScale(s),y=l*_,x=d*v,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",u),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",y),w.setAttributeNS(null,"height",x),w.setAttributeNS(null,"x",""+p),w.setAttributeNS(null,"y",""+f);const C=this.svg,O=this.transformMatrix,k=this.current.fillColor,S=this.current.strokeColor,E=this.svgFactory.create(m-p,b-f);if(this.svg=E,this.transformMatrix=s,2===h){const t=i.Util.makeCssRgb(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=O,this.current.fillColor=k,this.current.strokeColor=S,w.appendChild(E.childNodes[0]),this.defs.appendChild(w),`url(#${u})`}_makeShadingPattern(t){switch(t[0]){case"RadialAxial":const e="shading"+g++,n=t[3];let s;switch(t[1]){case"axial":const n=t[4],i=t[5];s=this.svgFactory.createElement("svg:linearGradient"),s.setAttributeNS(null,"id",e),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"x1",n[0]),s.setAttributeNS(null,"y1",n[1]),s.setAttributeNS(null,"x2",i[0]),s.setAttributeNS(null,"y2",i[1]);break;case"radial":const a=t[4],o=t[5],r=t[6],c=t[7];s=this.svgFactory.createElement("svg:radialGradient"),s.setAttributeNS(null,"id",e),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"cx",o[0]),s.setAttributeNS(null,"cy",o[1]),s.setAttributeNS(null,"r",c),s.setAttributeNS(null,"fx",a[0]),s.setAttributeNS(null,"fy",a[1]),s.setAttributeNS(null,"fr",r);break;default:throw new Error("Unknown RadialAxial type: "+t[1])}for(const t of n){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),s.appendChild(e)}return this.defs.appendChild(s),`url(#${e})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: "+t[0])}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const n=this.current;let s=n.x,a=n.y,o=[],c=0;for(const l of t)switch(0|l){case i.OPS.rectangle:s=e[c++],a=e[c++];const t=s+e[c++],n=a+e[c++];o.push("M",r(s),r(a),"L",r(t),r(a),"L",r(t),r(n),"L",r(s),r(n),"Z");break;case i.OPS.moveTo:s=e[c++],a=e[c++],o.push("M",r(s),r(a));break;case i.OPS.lineTo:s=e[c++],a=e[c++],o.push("L",r(s),r(a));break;case i.OPS.curveTo:s=e[c+4],a=e[c+5],o.push("C",r(e[c]),r(e[c+1]),r(e[c+2]),r(e[c+3]),r(s),r(a)),c+=6;break;case i.OPS.curveTo2:o.push("C",r(s),r(a),r(e[c]),r(e[c+1]),r(e[c+2]),r(e[c+3])),s=e[c+2],a=e[c+3],c+=4;break;case i.OPS.curveTo3:s=e[c+2],a=e[c+3],o.push("C",r(e[c]),r(e[c+1]),r(s),r(a),r(s),r(a)),c+=4;break;case i.OPS.closePath:o.push("Z")}o=o.join(" "),n.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?o=n.path.getAttributeNS(null,"d")+o:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(n.path)),n.path.setAttributeNS(null,"d",o),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(s,a)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath"+f++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",c(this.transformMatrix));const i=t.element.cloneNode(!0);i.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(i),this.defs.appendChild(n),t.activeClipUrl&&(t.clipGroup=null,this.extraStack.forEach((function(t){t.clipGroup=null})),n.setAttributeNS(null,"clip-path",t.activeClipUrl)),t.activeClipUrl=`url(#${e})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e=t.path.getAttributeNS(null,"d")+"Z";t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)("Unimplemented graphic state operator "+e)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,e=1){const n=this.current;let i=n.dashArray;1!==e&&i.length>0&&(i=i.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",r(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",i.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(e*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintJpegXObject(t,e,n){const i=this.objs.get(t),s=this.svgFactory.createElement("svg:image");s.setAttributeNS(l,"xlink:href",i.src),s.setAttributeNS(null,"width",r(e)),s.setAttributeNS(null,"height",r(n)),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",r(-n)),s.setAttributeNS(null,"transform",`scale(${r(1/e)} ${r(-1/n)})`),this._ensureTransformGroup().appendChild(s)}paintImageXObject(t){const e=this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,e){const n=t.width,i=t.height,s=u(t,this.forceDataSchema,!!e),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",r(n)),a.setAttributeNS(null,"height",r(i)),this.current.element=a,this.clip("nonzero");const o=this.svgFactory.createElement("svg:image");o.setAttributeNS(l,"xlink:href",s),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",r(-i)),o.setAttributeNS(null,"width",r(n)+"px"),o.setAttributeNS(null,"height",r(i)+"px"),o.setAttributeNS(null,"transform",`scale(${r(1/n)} ${r(-1/i)})`),e?e.appendChild(o):this._ensureTransformGroup().appendChild(o)}paintImageMaskXObject(t){const e=this.current,n=t.width,i=t.height,s=e.fillColor;e.maskId="mask"+m++;const a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",e.maskId);const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",r(n)),o.setAttributeNS(null,"height",r(i)),o.setAttributeNS(null,"fill",s),o.setAttributeNS(null,"mask",`url(#${e.maskId})`),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(t,a)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],n=e[3]-e[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",e[0]),i.setAttributeNS(null,"y",e[1]),i.setAttributeNS(null,"width",r(t)),i.setAttributeNS(null,"height",r(n)),this.current.element=i,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.appendChild(n),this.defs=n;const i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",c(t.transform)),e.appendChild(i),this.svg=i,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=n(1),s=n(20);const a=__webpack_require__(2),o=__webpack_require__(3),r=__webpack_require__(4),c=__webpack_require__(5),l=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=c.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?c.parse("file:///"+t):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new m(this):new p(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new g(this,t,e):new f(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}};class d{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class p extends d{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:a,suggestedLength:o}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n)};this._request=null,this._request="http:"===this._url.protocol?o.request(u(this._url,t.httpHeaders),e):r.request(u(this._url,t.httpHeaders),e),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class f extends h{constructor(t,e,n){super(t),this._httpHeaders={};for(const i in t.httpHeaders){const e=t.httpHeaders[i];void 0!==e&&(this._httpHeaders[i]=e)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const s=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=t}};this._request=null,this._request="http:"===this._url.protocol?o.request(u(this._url,this._httpHeaders),s):r.request(u(this._url,this._httpHeaders),s),this._request.on("error",t=>{this._storedError=t}),this._request.end()}}class m extends d{constructor(t){super(t);let e=decodeURIComponent(this._url.path);l.test(this._url.href)&&(e=e.replace(/^\//,"")),a.lstat(e,(t,n)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=n.size,this._setReadableStream(a.createReadStream(e)),this._headersCapability.resolve()})}}class g extends h{constructor(t,e,n){super(t);let i=decodeURIComponent(this._url.path);l.test(this._url.href)&&(i=i.replace(/^\//,"")),this._setReadableStream(a.createReadStream(i,{start:e,end:n-1}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+e+'".'):new i.UnexpectedResponseException("Unexpected server response ("+t+') while retrieving PDF "'+e+'".',t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,s.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if(/\.pdf$/i.test(t))return t}return null},e.validateRangeRequestCapabilities=function({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:s}){(0,i.assert)(n>0,"Range chunk size must be larger than zero");const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(a.suggestedLength=o,o<=2*n||s||!e||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},e.validateResponseStatus=function(t){return 200===t||206===t};var i=n(1),s=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=o(n);return t=unescape(t),t=r(t),t=c(t),a(t)}if(n=function(t){const e=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(t));){let[,t,i,s]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,s]}const a=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=o(n),t&&(n=unescape(n),0===i&&(n=r(n))),a.push(n)}return a.join("")}(t),n)return a(c(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=o(n);return t=c(t),a(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function s(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),s=Array.from(n,(function(t){return 255&t.charCodeAt(0)}));n=i.decode(new Uint8Array(s)),e=!1}catch(i){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),e=!1}catch(s){}}}return n}function a(t){return e&&/[\x80-\xff]/.test(t)&&(t=s("utf-8",t),e&&(t=s("iso-8859-1",t))),t}function o(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function r(t){const e=t.indexOf("'");return-1===e?t:s(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function c(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return s(e,i=(i=i.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{i=atob(i)}catch(a){}return s(e,i)}))}return""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=n(1),s=n(20);class a{constructor(t,e){this.url=t,e=e||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const t=this.httpHeaders[s];void 0!==t&&e.setRequestHeader(s,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress&&n.onProgress(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==s.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===s.status&&this.isHttp)return void(n.onError&&n.onError(s.status));const a=s.status||200;if((200!==a||206!==n.expectedStatus)&&a!==n.expectedStatus)return void(n.onError&&n.onError(s.status));const o=function(t){const e=t.response;return"string"!=typeof e?e:(0,i.stringToBytes)(e).buffer}(s);if(206===a){const t=s.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(s.status)}hasPendingRequests(){for(const t in this.pendingRequests)return!0;return!1}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortAllRequests(){for(const t in this.pendingRequests)this.abortRequest(0|t)}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new a(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new r(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}};class o{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:i,suggestedLength:a}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[])}_onError(t){const e=(0,s.createResponseStatusError)(t,this._url);this._storedError=e,this._headersReceivedCapability.reject(e),this._requests.forEach((function(t){t.reject(e)})),this._requests=[],this._cachedChunks=[]}_onProgress(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class r{constructor(t,e,n){this._manager=t;const i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}_onProgress(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=n(1),s=n(20);function a(t,e,n){return{method:"GET",headers:t,signal:n&&n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function o(t){const e=new Headers;for(const n in t){const i=t[n];void 0!==i&&e.append(n,i)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new r(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new c(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}};class r{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=o(this._stream.httpHeaders);const n=e.url;fetch(n,a(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,s.validateResponseStatus)(t.status))throw(0,s.createResponseStatusError)(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:a,suggestedLength:o}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}class c{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!r.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const c=r.url;fetch(c,a(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,s.validateResponseStatus)(t.status))throw(0,s.createResponseStatusError)(t.status,c);this._readCapability.resolve(),this._reader=t.body.getReader()}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}}])},module.exports=factory()},louq:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,(function(e){return t[e]}).bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return i.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return i.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return s.TextLayerBuilder}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return a.NullL10n}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return r.DownloadManager}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return l.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return h.PDFPageView}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return u.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return p.PDFViewer}});var i=n(1),s=n(5),a=n(3),o=n(4),r=n(6),c=n(7),l=n(9),d=n(11),h=n(12),u=n(15),p=n(17)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultAnnotationLayerFactory=e.AnnotationLayerBuilder=void 0;var i=n(2),s=n(3),a=n(4);class o{constructor({pageDiv:t,pdfPage:e,linkService:n,downloadManager:i,imageResourcesPath:a="",renderInteractiveForms:o=!1,l10n:r=s.NullL10n}){this.pageDiv=t,this.pdfPage=e,this.linkService=n,this.downloadManager=i,this.imageResourcesPath=a,this.renderInteractiveForms=o,this.l10n=r,this.div=null,this._cancelled=!1}render(t,e="display"){this.pdfPage.getAnnotations({intent:e}).then(e=>{if(this._cancelled)return;const n={viewport:t.clone({dontFlip:!0}),div:this.div,annotations:e,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,linkService:this.linkService,downloadManager:this.downloadManager};if(this.div)i.AnnotationLayer.update(n);else{if(0===e.length)return;this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),n.div=this.div,i.AnnotationLayer.render(n),this.l10n.translate(this.div)}})}cancel(){this._cancelled=!0}hide(){this.div&&this.div.setAttribute("hidden","true")}}e.AnnotationLayerBuilder=o,e.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(t,e,n="",i=!1,r=s.NullL10n){return new o({pageDiv:t,pdfPage:e,imageResourcesPath:n,renderInteractiveForms:i,linkService:new a.SimpleLinkService,l10n:r})}}},function(t,e,i){"use strict";let s;s="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n("lRFz"),t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidRotation=function(t){return Number.isInteger(t)&&t%90==0},e.isValidScrollMode=function(t){return Number.isInteger(t)&&Object.values(i).includes(t)&&t!==i.UNKNOWN},e.isValidSpreadMode=function(t){return Number.isInteger(t)&&Object.values(s).includes(t)&&t!==s.UNKNOWN},e.isPortraitOrientation=function(t){return t.width<=t.height},e.getGlobalEventBus=function(t=!1){return console.error("getGlobalEventBus is deprecated, use a manually created EventBus instance instead."),h||(h=new d({dispatchToDOM:t})),h},e.clamp=u,e.getPDFFileNameFromURL=function(t,e="document.pdf"){if("string"!=typeof t)return e;if(function(t){let e=0;const n=t.length;for(;e<n&&""===t[e].trim();)e++;return"data:"===t.substring(e,e+5).toLowerCase()}(t))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),e;const n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch(a){}return s||e},e.noContextMenuHandler=function(t){t.preventDefault()},e.parseQueryString=function(t){const e=t.split("&"),n=Object.create(null);for(let i=0,s=e.length;i<s;++i){const t=e[i].split("="),s=t[0].toLowerCase(),a=t.length>1?t[1]:null;n[decodeURIComponent(s)]=decodeURIComponent(a)}return n},e.backtrackBeforeAllVisibleElements=o,e.getVisibleElements=function(t,e,n=!1,i=!1){const s=t.scrollTop,r=s+t.clientHeight,c=t.scrollLeft,l=c+t.clientWidth,d=[],h=e.length;let u=0===h?0:a(e,i?function(t){const e=t.div;return e.offsetLeft+e.clientLeft+e.clientWidth>c}:function(t){const e=t.div;return e.offsetTop+e.clientTop+e.clientHeight>s});u>0&&u<h&&!i&&(u=o(u,e,s));let p=i?l:-1;for(let a=u;a<h;a++){const t=e[a],n=t.div,o=n.offsetLeft+n.clientLeft,h=n.offsetTop+n.clientTop,u=n.clientWidth,f=n.clientHeight,m=o+u,g=h+f;if(-1===p)g>=r&&(p=g);else if((i?o:h)>p)break;if(g<=s||h>=r||m<=c||o>=l)continue;const b=Math.max(0,s-h)+Math.max(0,g-r),_=Math.max(0,c-o)+Math.max(0,m-l);d.push({id:t.id,x:o,y:h,view:t,percent:(f-b)*(u-_)*100/f/u|0})}const f=d[0],m=d[d.length-1];return n&&d.sort((function(t,e){const n=t.percent-e.percent;return Math.abs(n)>.001?-n:t.id-e.id})),{first:f,last:m,views:d}},e.roundToDivide=function(t,e){const n=t%e;return 0===n?t:Math.round(t-n+e)},e.getPageSizeInches=function({view:t,userUnit:e,rotate:n}){const[i,s,a,o]=t,r=n%180!=0,c=(a-i)/72*e,l=(o-s)/72*e;return{width:r?l:c,height:r?c:l}},e.approximateFraction=function(t){if(Math.floor(t)===t)return[t,1];const e=1/t;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];const n=t>1?e:t;let i,s=0,a=1,o=1,r=1;for(;;){const t=s+o,e=a+r;if(e>8)break;n<=t/e?(o=t,r=e):(s=t,a=e)}return i=n-s/a<o/r-n?n===t?[s,a]:[a,s]:n===t?[o,r]:[r,o],i},e.getOutputScale=function(t){const e=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1);return{sx:e,sy:e,scaled:1!==e}},e.scrollIntoView=function(t,e,n=!1){let i=t.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");let s=t.offsetTop+t.clientTop,a=t.offsetLeft+t.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(s/=i.dataset._scaleY,a/=i.dataset._scaleX),s+=i.offsetTop,a+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(s+=e.top),void 0!==e.left&&(a+=e.left,i.scrollLeft=a)),i.scrollTop=s},e.watchScroll=function(t,e){const n=function(n){s||(s=window.requestAnimationFrame((function(){s=null;const n=t.scrollLeft,a=i.lastX;n!==a&&(i.right=n>a),i.lastX=n;const o=t.scrollTop,r=i.lastY;o!==r&&(i.down=o>r),i.lastY=o,e(i)})))},i={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:n};let s=null;return t.addEventListener("scroll",n,!0),i},e.binarySearchFirstItem=a,e.normalizeWheelEventDelta=function(t){let e=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY);const n=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(e=-e),0===t.deltaMode?e/=900:1===t.deltaMode&&(e/=30),e},e.waitOnEventOrTimeout=function({target:t,name:e,delay:n=0}){return new Promise((function(i,s){if("object"!=typeof t||!e||"string"!=typeof e||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(n){t instanceof d?t._off(e,o):t.removeEventListener(e,o),l&&clearTimeout(l),i(n)}const o=a.bind(null,r.EVENT);t instanceof d?t._on(e,o):t.addEventListener(e,o);const c=a.bind(null,r.TIMEOUT),l=setTimeout(c,n)}))},e.moveToEndOfArray=function(t,e){const n=[],i=t.length;let s=0;for(let a=0;a<i;++a)e(t[a])?n.push(t[a]):(t[s]=t[a],++s);for(let a=0;s<i;++a,++s)t[s]=n[a]},e.WaitOnType=e.animationStarted=e.ProgressBar=e.EventBus=e.NullL10n=e.SpreadMode=e.ScrollMode=e.TextLayerMode=e.RendererType=e.PresentationModeState=e.VERTICAL_PADDING=e.SCROLLBAR_PADDING=e.MAX_AUTO_SCALE=e.UNKNOWN_SCALE=e.MAX_SCALE=e.MIN_SCALE=e.DEFAULT_SCALE=e.DEFAULT_SCALE_VALUE=e.CSS_UNITS=e.AutoPrintRegExp=void 0,e.CSS_UNITS=96/72,e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5,e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const i={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};e.ScrollMode=i;const s={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function a(t,e){let n=0,i=t.length-1;if(0===t.length||!e(t[i]))return t.length;if(e(t[n]))return n;for(;n<i;){const s=n+i>>1;e(t[s])?i=s:n=s+1}return n}function o(t,e,n){if(t<2)return t;let i=e[t].div,s=i.offsetTop+i.clientTop;s>=n&&(i=e[t-1].div,s=i.offsetTop+i.clientTop);for(let a=t-2;a>=0&&(i=e[a].div,!(i.offsetTop+i.clientTop+i.clientHeight<=s));--a)t=a;return t}e.SpreadMode=s,e.AutoPrintRegExp=/\bprint\s*\(/,e.NullL10n={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(t,e,n)=>function(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(t,n)=>n in e?e[n]:"{{"+n+"}}"):t}(n,e),async translate(t){}};const r={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=r;const c=new Promise((function(t){window.requestAnimationFrame(t)}));function l(t,e=null){const n=Object.create(null);if(e&&e.length>0){const t=e[0];for(const e in t){const i=t[e];if("source"!==e)n[e]=i;else if(i===window||i===document)return}}const i=document.createEvent("CustomEvent");i.initCustomEvent(t,!0,!0,n),document.dispatchEvent(i)}e.animationStarted=c;class d{constructor({dispatchToDOM:t=!1}={}){this._listeners=Object.create(null),this._dispatchToDOM=!0===t,t&&console.error("The `eventBusDispatchToDOM` option/preference is deprecated, add event listeners to the EventBus instance rather than the DOM.")}on(t,e){this._on(t,e,{external:!0})}off(t,e){this._off(t,e,{external:!0})}dispatch(t){const e=this._listeners[t];if(!e||0===e.length)return void(this._dispatchToDOM&&l(t,Array.prototype.slice.call(arguments,1)));const n=Array.prototype.slice.call(arguments,1);let i;e.slice(0).forEach((function({listener:t,external:e}){if(e)return i||(i=[]),void i.push(t);t.apply(null,n)})),i&&(i.forEach((function(t){t.apply(null,n)})),i=null),this._dispatchToDOM&&l(t,n)}_on(t,e,n=null){let i=this._listeners[t];i||(this._listeners[t]=i=[]),i.push({listener:e,external:!0===(n&&n.external)})}_off(t,e,n=null){const i=this._listeners[t];if(i)for(let s=0,a=i.length;s<a;s++)if(i[s].listener===e)return void i.splice(s,1)}}e.EventBus=d;let h=null;function u(t,e,n){return Math.min(Math.max(t,e),n)}e.ProgressBar=class{constructor(t,{height:e,width:n,units:i}={}){this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=e||100,this.width=n||100,this.units=i||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(t){this._indeterminate=isNaN(t),this._percent=u(t,0,100),this._updateBar()}setWidth(t){if(!t)return;const e=t.parentNode.offsetWidth-t.offsetWidth;e>0&&(this.bar.style.width=`calc(100% - ${e}px)`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}show(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=void 0;var i=n(3);e.PDFLinkService=class{constructor({eventBus:t,externalLinkTarget:e=null,externalLinkRel:n=null,externalLinkEnabled:s=!0,ignoreDestinationZoom:a=!1}={}){this.eventBus=t||(0,i.getGlobalEventBus)(),this.externalLinkTarget=e,this.externalLinkRel=n,this.externalLinkEnabled=s,this._ignoreDestinationZoom=a,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}setDocument(t,e=null){this.baseUrl=e,this.pdfDocument=t,this._pagesRefCache=Object.create(null)}setViewer(t){this.pdfViewer=t}setHistory(t){this.pdfHistory=t}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(t){this.pdfViewer.currentPageNumber=t}get rotation(){return this.pdfViewer.pagesRotation}set rotation(t){this.pdfViewer.pagesRotation=t}navigateTo(t){const e=({namedDest:n,explicitDest:i})=>{const s=i[0];let a;if(s instanceof Object){if(a=this._cachedPageNumber(s),null===a)return void this.pdfDocument.getPageIndex(s).then(t=>{this.cachePageRef(t+1,s),e({namedDest:n,explicitDest:i})}).catch(()=>{console.error(`PDFLinkService.navigateTo: "${s}" is not a valid page reference, for dest="${t}".`)})}else{if(!Number.isInteger(s))return void console.error(`PDFLinkService.navigateTo: "${s}" is not a valid destination reference, for dest="${t}".`);a=s+1}!a||a<1||a>this.pagesCount?console.error(`PDFLinkService.navigateTo: "${a}" is not a valid page number, for dest="${t}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:n,explicitDest:i,pageNumber:a})),this.pdfViewer.scrollPageIntoView({pageNumber:a,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))};new Promise((e,n)=>{"string"!=typeof t?e({namedDest:"",explicitDest:t}):this.pdfDocument.getDestination(t).then(n=>{e({namedDest:t,explicitDest:n})})}).then(n=>{Array.isArray(n.explicitDest)?e(n):console.error(`PDFLinkService.navigateTo: "${n.explicitDest}" is not a valid destination array, for dest="${t}".`)})}getDestinationHash(t){if("string"==typeof t)return this.getAnchorUrl("#"+escape(t));if(Array.isArray(t)){const e=JSON.stringify(t);return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}getAnchorUrl(t){return(this.baseUrl||"")+t}setHash(t){let e,n;if(t.includes("=")){const s=(0,i.parseQueryString)(t);if("search"in s&&this.eventBus.dispatch("findfromurlhash",{source:this,query:s.search.replace(/"/g,""),phraseSearch:"true"===s.phrase}),"nameddest"in s)return void this.navigateTo(s.nameddest);if("page"in s&&(e=0|s.page||1),"zoom"in s){const t=s.zoom.split(","),e=t[0],i=parseFloat(e);e.includes("Fit")?"Fit"===e||"FitB"===e?n=[null,{name:e}]:"FitH"===e||"FitBH"===e||"FitV"===e||"FitBV"===e?n=[null,{name:e},t.length>1?0|t[1]:null]:"FitR"===e?5!==t.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:e},0|t[1],0|t[2],0|t[3],0|t[4]]:console.error(`PDFLinkService.setHash: "${e}" is not a valid zoom value.`):n=[null,{name:"XYZ"},t.length>1?0|t[1]:null,t.length>2?0|t[2]:null,i?i/100:e]}n?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:n,allowNegativeOffset:!0}):e&&(this.page=e),"pagemode"in s&&this.eventBus.dispatch("pagemode",{source:this,mode:s.pagemode})}else{n=unescape(t);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(s){}if("string"==typeof n||function(t){if(!Array.isArray(t))return!1;const e=t.length;if(e<2)return!1;const n=t[0];if(!("object"==typeof n&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;const i=t[1];if("object"!=typeof i||"string"!=typeof i.name)return!1;let s=!0;switch(i.name){case"XYZ":if(5!==e)return!1;break;case"Fit":case"FitB":return 2===e;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==e)return!1;break;case"FitR":if(6!==e)return!1;s=!1;break;default:return!1}for(let a=2;a<e;a++){const e=t[a];if(!("number"==typeof e||s&&null===e))return!1}return!0}(n))return void this.navigateTo(n);console.error(`PDFLinkService.setHash: "${unescape(t)}" is not a valid destination.`)}}executeNamedAction(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}cachePageRef(t,e){e&&(this._pagesRefCache[0===e.gen?e.num+"R":`${e.num}R${e.gen}`]=t)}_cachedPageNumber(t){return this._pagesRefCache&&this._pagesRefCache[0===t.gen?t.num+"R":`${t.num}R${t.gen}`]||null}isPageVisible(t){return this.pdfViewer.isPageVisible(t)}},e.SimpleLinkService=class{constructor(){this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}get pagesCount(){return 0}get page(){return 0}set page(t){}get rotation(){return 0}set rotation(t){}navigateTo(t){}getDestinationHash(t){return"#"}getAnchorUrl(t){return"#"}setHash(t){}executeNamedAction(t){}cachePageRef(t,e){}isPageVisible(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultTextLayerFactory=e.TextLayerBuilder=void 0;var i=n(3),s=n(2);class a{constructor({textLayerDiv:t,eventBus:e,pageIndex:n,viewport:s,findController:a=null,enhanceTextSelection:o=!1}){this.textLayerDiv=t,this.eventBus=e||(0,i.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=n,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=s,this.textDivs=[],this.findController=a,this.textLayerRenderTask=null,this.enhanceTextSelection=o,this._onUpdateTextLayerMatches=null,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs=[];const e=document.createDocumentFragment();this.textLayerRenderTask=(0,s.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:e,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(e),this._finishRendering(),this._updateMatches()},(function(t){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=t=>{t.pageIndex!==this.pageIdx&&-1!==t.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_convertMatches(t,e){if(!t)return[];const{findController:n,textContentItemsStr:i}=this;let s=0,a=0;const o=i.length-1,r=n.state.query.length,c=[];for(let l=0,d=t.length;l<d;l++){let n=t[l];for(;s!==o&&n>=a+i[s].length;)a+=i[s].length,s++;s===i.length&&console.error("Could not find a matching mapping");const d={begin:{divIdx:s,offset:n-a}};for(n+=e?e[l]:r;s!==o&&n>a+i[s].length;)a+=i[s].length,s++;d.end={divIdx:s,offset:n-a},c.push(d)}return c}_renderMatches(t){if(0===t.length)return;const{findController:e,pageIdx:n,textContentItemsStr:i,textDivs:s}=this,a=n===e.selected.pageIdx,o=e.selected.matchIdx;let r=null;function c(t,e){const n=t.divIdx;s[n].textContent="",l(n,0,t.offset,e)}function l(t,e,n,a){const o=s[t],r=i[t].substring(e,n),c=document.createTextNode(r);if(a){const t=document.createElement("span");return t.className=a,t.appendChild(c),void o.appendChild(t)}o.appendChild(c)}let d=o,h=d+1;if(e.state.highlightAll)d=0,h=t.length;else if(!a)return;for(let u=d;u<h;u++){const i=t[u],d=i.begin,h=i.end,p=a&&u===o,f=p?" selected":"";if(p&&e.scrollMatchIntoView({element:s[d.divIdx],pageIndex:n,matchIndex:o}),r&&d.divIdx===r.divIdx?l(r.divIdx,r.offset,d.offset):(null!==r&&l(r.divIdx,r.offset,void 0),c(d)),d.divIdx===h.divIdx)l(d.divIdx,d.offset,h.offset,"highlight"+f);else{l(d.divIdx,d.offset,void 0,"highlight begin"+f);for(let t=d.divIdx+1,e=h.divIdx;t<e;t++)s[t].className="highlight middle"+f;c(h,"highlight end"+f)}r=h}r&&l(r.divIdx,r.offset,void 0)}_updateMatches(){if(!this.renderingDone)return;const{findController:t,matches:e,pageIdx:n,textContentItemsStr:i,textDivs:s}=this;let a=-1;for(let o=0,r=e.length;o<r;o++){const t=e[o];for(let e=Math.max(a,t.begin.divIdx),n=t.end.divIdx;e<=n;e++){const t=s[e];t.textContent=i[e],t.className=""}a=t.end.divIdx+1}t&&t.highlightMatches&&(this.matches=this._convertMatches(t.pageMatches[n]||null,t.pageMatchesLength[n]||null),this._renderMatches(this.matches))}_bindMouse(){const t=this.textLayerDiv;let e=null;t.addEventListener("mousedown",n=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(e&&(clearTimeout(e),e=null));const i=t.querySelector(".endOfContent");if(!i)return;let s=n.target!==t;if(s=s&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select"),s){const e=t.getBoundingClientRect(),s=Math.max(0,(n.pageY-e.top)/e.height);i.style.top=(100*s).toFixed(2)+"%"}i.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(e=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),e=null},300));const n=t.querySelector(".endOfContent");n&&(n.style.top="",n.classList.remove("active"))})}}e.TextLayerBuilder=a,e.DefaultTextLayerFactory=class{createTextLayerBuilder(t,e,n,i=!1,s){return new a({textLayerDiv:t,pageIndex:e,viewport:n,enhanceTextSelection:i,eventBus:s})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var i=n(2);const s=i.apiCompatibilityParams.disableCreateObjectURL||!1;function a(t,e){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=t,n.target="_parent","download"in n&&(n.download=e),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}e.DownloadManager=class{constructor({disableCreateObjectURL:t=s}){this.disableCreateObjectURL=t}downloadUrl(t,e){(0,i.createValidAbsoluteUrl)(t,"http://example.com")&&a(t+"#pdfjs.action=download",e)}downloadData(t,e,n){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([t],{type:n}),e):a((0,i.createObjectURL)(t,n,this.disableCreateObjectURL),e)}download(t,e,n){navigator.msSaveBlob?navigator.msSaveBlob(t,n)||this.downloadUrl(e,n):this.disableCreateObjectURL?this.downloadUrl(e,n):a(URL.createObjectURL(t),n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0,n(8);const i=document.webL10n;e.GenericL10n=class{constructor(t){this._lang=t,this._ready=new Promise((e,n)=>{i.setLanguage(t,()=>{e(i)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(t,e,n){return(await this._ready).get(t,e,n)}async translate(t){return(await this._ready).translate(t)}}},function(t,e,n){"use strict";document.webL10n=function(t,e,n){var i={},s="",a="textContent",o="",r={},c="loading";function l(t,e,n){e=e||function(t){},n=n||function(){};var i=new XMLHttpRequest;i.open("GET",t,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?e(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(s){n()}}function d(t,e,n){var s=i[t];if(!s){if(console.warn("#"+t+" is undefined."),!n)return null;s=n}var a={};for(var o in s){var r=s[o];r=u(r=h(r,e,t,o),e,t),a[o]=r}return a}function h(t,e,n,s){var a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(t);if(!a||!a.length)return t;var o,c=a[1],l=a[2];return e&&l in e?o=e[l]:l in i&&(o=i[l]),c in r&&(t=(0,r[c])(t,o,n,s)),t}function u(t,e,n){return t.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(t,s){return e&&s in e?e[s]:s in i?i[s]:(console.log("argument {{"+s+"}} for #"+n+" is undefined."),t)}))}function p(t){var n=function(t){if(!t)return{};var e=t.getAttribute("data-l10n-id"),n=t.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(s){console.warn("could not parse arguments for #"+e)}return{id:e,args:i}}(t);if(n.id){var i=d(n.id,n.args);if(i){if(i[a]){if(0===function(t){if(t.children)return t.children.length;if(void 0!==t.childElementCount)return t.childElementCount;for(var e=0,n=0;n<t.childNodes.length;n++)e+=1===t.nodeType?1:0;return e}(t))t[a]=i[a];else{for(var s=t.childNodes,o=!1,r=0,c=s.length;r<c;r++)3===s[r].nodeType&&/\S/.test(s[r].nodeValue)&&(o?s[r].nodeValue="":(s[r].nodeValue=i[a],o=!0));if(!o){var l=e.createTextNode(i[a]);t.insertBefore(l,t.firstChild)}}delete i[a]}for(var h in i)t[h]=i[h]}else console.warn("#"+n.id+" is undefined.")}}return r.plural=function(t,e,n,s){var c=parseFloat(e);if(isNaN(c))return t;if(s!=a)return t;r._pluralRules||(r._pluralRules=function(t){function e(t,e){return-1!==e.indexOf(t)}function n(t,e,n){return e<=t&&t<=n}var i={0:function(t){return"other"},1:function(t){return n(t%100,3,10)?"few":0===t?"zero":n(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function(t){return 1==t?"one":"other"},4:function(t){return n(t,0,1)?"one":"other"},5:function(t){return n(t,0,2)&&2!=t?"one":"other"},6:function(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function(t){return 2==t?"two":1==t?"one":"other"},8:function(t){return n(t,3,6)?"few":n(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function(t){return 0===t||1!=t&&n(t%100,1,19)?"few":1==t?"one":"other"},10:function(t){return n(t%10,2,9)&&!n(t%100,11,19)?"few":t%10!=1||n(t%100,11,19)?"other":"one"},11:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":t%10==0||n(t%10,5,9)||n(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function(t){return n(t,2,4)?"few":1==t?"one":"other"},13:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":1!=t&&n(t%10,0,1)||n(t%10,5,9)||n(t%100,12,14)?"many":1==t?"one":"other"},14:function(t){return n(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function(t){return 0===t||n(t%100,2,10)?"few":n(t%100,11,19)?"many":1==t?"one":"other"},16:function(t){return t%10==1&&11!=t?"one":"other"},17:function(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function(t){return 0===t?"zero":n(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function(t){return n(t,2,10)?"few":n(t,0,1)?"one":"other"},20:function(t){return!n(t%10,3,4)&&t%10!=9||n(t%100,10,19)||n(t%100,70,79)||n(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||e(t%100,[12,72,92])?t%10!=1||e(t%100,[11,71,91])?"other":"one":"two":"few"},21:function(t){return 0===t?"zero":1==t?"one":"other"},22:function(t){return n(t,0,1)||n(t,11,99)?"one":"other"},23:function(t){return n(t%10,1,2)||t%20==0?"one":"other"},24:function(t){return n(t,3,10)||n(t,13,19)?"few":e(t,[2,12])?"two":e(t,[1,11])?"one":"other"}},s={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[t.replace(/-.*$/,"")];return s in i?i[s]:(console.warn("plural form unknown for ["+t+"]"),function(){return"other"})}(o));var l="["+r._pluralRules(c)+"]";return 0===c&&n+"[zero]"in i?t=i[n+"[zero]"][s]:1==c&&n+"[one]"in i?t=i[n+"[one]"][s]:2==c&&n+"[two]"in i?t=i[n+"[two]"][s]:n+l in i?t=i[n+l][s]:n+"[other]"in i&&(t=i[n+"[other]"][s]),t},{get:function(t,e,n){var i,s=t.lastIndexOf("."),o=a;s>0&&(o=t.substring(s+1),t=t.substring(0,s)),n&&((i={})[o]=n);var r=d(t,e,i);return r&&o in r?r[o]:"{{"+t+"}}"},getData:function(){return i},getText:function(){return s},getLanguage:function(){return o},setLanguage:function(t,n){!function(t,n){t&&(t=t.toLowerCase()),n=n||function(){},i={},s="",o="",o=t;var r=e.querySelectorAll('link[type="application/l10n"]'),d=r.length;if(0!==d){var h,u,p=0;u=function(){++p>=d&&(n(),c="complete")};for(var f=0;f<d;f++)new _(r[f]).load(t,u)}else{var m=(h=e.querySelector('script[type="application/l10n"]'))?JSON.parse(h.innerHTML):null;if(m&&m.locales&&m.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(i=m.locales[t])){var g=m.default_locale.toLowerCase();for(var b in m.locales){if((b=b.toLowerCase())===t){i=m.locales[t];break}b===g&&(i=m.locales[g])}}n()}else console.log("no resource to load, early way out");c="complete"}function _(t){var e=t.href;this.load=function(t,n){!function(t,e,n,o){var r=t.replace(/[^\/]*$/,"")||"./";function c(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(t,(function(t){s+=t,function(t,s){var o={},d=/^\s*|\s*$/,h=/^\s*#|^\s*$/,u=/^\s*\[(.*)\]\s*$/,p=/^\s*@import\s+url\((.*)\)\s*$/i,f=/^([^=\s]*)\s*=\s*(.+)$/;function m(t,n,i){var s=t.replace(d,"").split(/[\r\n]+/),a="*",l=e.split("-",1)[0],m=!1,b="";!function t(){for(;;){if(!s.length)return void i();var d=s.shift();if(!h.test(d)){if(n){if(b=u.exec(d)){a=b[1].toLowerCase(),m="*"!==a&&a!==e&&a!==l;continue}if(m)continue;if(b=p.exec(d))return void g(r+b[1],t)}var _=d.match(f);_&&3==_.length&&(o[_[1]]=c(_[2]))}}}()}function g(t,e){l(t,(function(t){m(t,!1,e)}),(function(){console.warn(t+" not found."),e()}))}m(t,!0,(function(){!function(t){for(var e in t){var s,o,r=e.lastIndexOf(".");r>0?(s=e.substring(0,r),o=e.substring(r+1)):(s=e,o=a),i[s]||(i[s]={}),i[s][o]=t[e]}n&&n()}(o)}))}(t)}),o)}(e,t,n,(function(){console.warn(e+" not found."),console.warn('"'+t+'" resource not found'),o="",n()}))}}}(t,(function(){n&&n()}))},getDirection:function(){var t=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function(t){for(var n=function(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}(t=t||e.documentElement),i=n.length,s=0;s<i;s++)p(n[s]);p(t)},getReadyState:function(){return c},ready:function(n){n&&("complete"==c||"interactive"==c?t.setTimeout((function(){n()})):e.addEventListener&&e.addEventListener("localized",(function t(){e.removeEventListener("localized",t),n()})))}}}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var i=n(3),s=n(2),a=n(10);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=o;const r={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"};let c=null;function l(t){if(!c){const t=Object.keys(r).join("");c=new RegExp(`[${t}]`,"g")}return t.replace(c,(function(t){return r[t]}))}e.PDFFindController=class{constructor({linkService:t,eventBus:e}){this._linkService=t,this._eventBus=e||(0,i.getGlobalEventBus)(),this._reset(),e._on("findbarclose",this._onFindBarClose.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(t){this._pdfDocument&&this._reset(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}executeCommand(t,e){if(!e)return;const n=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,e))&&(this._dirtyMatch=!0),this._state=e,"findhighlightallchange"!==t&&this._updateUIState(o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||n&&this._pdfDocument!==n)return;this._extractText();const e=!this._highlightMatches,i=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),"find"===t?this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250):this._dirtyMatch?this._nextMatch():"findagain"===t?(this._nextMatch(),e&&this._state.highlightAll&&this._updateAllPages()):"findhighlightallchange"===t?(i?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch()})}scrollMatchIntoView({element:t=null,pageIndex:e=-1,matchIndex:n=-1}){this._scrollMatches&&t&&-1!==n&&n===this._selected.matchIdx&&-1!==e&&e===this._selected.pageIdx&&(this._scrollMatches=!1,(0,i.scrollIntoView)(t,{top:-50,left:-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,s.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=l(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(t,e){if(e.query!==this._state.query)return!0;switch(t){case"findagain":const t=this._selected.pageIdx+1,e=this._linkService;return t>=1&&t<=e.pagesCount&&t!==e.page&&!e.isPageVisible(t);case"findhighlightallchange":return!1}return!0}_prepareMatches(t,e,n){function i(e){const n=t[e];if(e<t.length-1&&n.match===t[e+1].match)return n.skipped=!0,!0;for(let i=e-1;i>=0;i--){const e=t[i];if(!e.skipped){if(e.match+e.matchLength<n.match)break;if(e.match+e.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}t.sort((function(t,e){return t.match===e.match?t.matchLength-e.matchLength:t.match-e.match}));for(let s=0,a=t.length;s<a;s++)i(s)||(e.push(t[s].match),n.push(t[s].matchLength))}_isEntireWord(t,e,n){if(e>0){const n=t.charCodeAt(e),i=t.charCodeAt(e-1);if((0,a.getCharacterType)(n)===(0,a.getCharacterType)(i))return!1}const i=e+n-1;if(i<t.length-1){const e=t.charCodeAt(i),n=t.charCodeAt(i+1);if((0,a.getCharacterType)(e)===(0,a.getCharacterType)(n))return!1}return!0}_calculatePhraseMatch(t,e,n,i){const s=[],a=t.length;let o=-a;for(;o=n.indexOf(t,o+a),-1!==o;)i&&!this._isEntireWord(n,o,a)||s.push(o);this._pageMatches[e]=s}_calculateWordMatch(t,e,n,i){const s=[],a=t.match(/\S+/g);for(let o=0,r=a.length;o<r;o++){const t=a[o],e=t.length;let r=-e;for(;r=n.indexOf(t,r+e),-1!==r;)i&&!this._isEntireWord(n,r,e)||s.push({match:r,matchLength:e,skipped:!1})}this._pageMatchesLength[e]=[],this._pageMatches[e]=[],this._prepareMatches(s,this._pageMatches[e],this._pageMatchesLength[e])}_calculateMatch(t){let e=this._pageContents[t],n=this._query;const{caseSensitive:i,entireWord:s,phraseSearch:a}=this._state;if(0===n.length)return;i||(e=e.toLowerCase(),n=n.toLowerCase()),a?this._calculatePhraseMatch(n,t,e,s):this._calculateWordMatch(n,t,e,s),this._state.highlightAll&&this._updatePage(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this._nextPageMatch());const o=this._pageMatches[t].length;o>0&&(this._matchesCountTotal+=o,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let t=Promise.resolve();for(let e=0,n=this._linkService.pagesCount;e<n;e++){const n=(0,s.createPromiseCapability)();this._extractTextPromises[e]=n.promise,t=t.then(()=>this._pdfDocument.getPage(e+1).then(t=>t.getTextContent({normalizeWhitespace:!0})).then(t=>{const i=t.items,s=[];for(let e=0,n=i.length;e<n;e++)s.push(i[e].str);this._pageContents[e]=l(s.join("")),n.resolve(e)},t=>{console.error("Unable to get text content for page "+(e+1),t),this._pageContents[e]="",n.resolve(e)}))}}_updatePage(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const t=this._state.findPrevious,e=this._linkService.page-1,n=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let t=0;t<n;t++)!0!==this._pendingFindMatches[t]&&(this._pendingFindMatches[t]=!0,this._extractTextPromises[t].then(t=>{delete this._pendingFindMatches[t],this._calculateMatch(t)}))}if(""===this._query)return void this._updateUIState(o.FOUND);if(this._resumePageIdx)return;const i=this._offset;if(this._pagesToSearch=n,null!==i.matchIdx){const e=this._pageMatches[i.pageIdx].length;if(!t&&i.matchIdx+1<e||t&&i.matchIdx>0)return i.matchIdx=t?i.matchIdx-1:i.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}_matchesReady(t){const e=this._offset,n=t.length,i=this._state.findPrevious;return n?(e.matchIdx=i?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let t=null;do{const e=this._offset.pageIdx;if(t=this._pageMatches[e],!t){this._resumePageIdx=e;break}}while(!this._matchesReady(t))}_advanceOffsetPage(t){const e=this._offset,n=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=n||e.pageIdx<0)&&(e.pageIdx=t?n-1:0,e.wrapped=!0)}_updateMatch(t=!1){let e=o.NOT_FOUND;const n=this._offset.wrapped;if(this._offset.wrapped=!1,t){const t=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=n?o.WRAPPED:o.FOUND,-1!==t&&t!==this._selected.pageIdx&&this._updatePage(t)}this._updateUIState(e,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(t){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(o.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:t,matchIdx:e}=this._selected;let n=0,i=this._matchesCountTotal;if(-1!==e){for(let e=0;e<t;e++)n+=this._pageMatches[e]&&this._pageMatches[e].length||0;n+=e+1}return(n<1||n>i)&&(n=i=0),{current:n,total:i}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(t,e){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:e,matchesCount:this._requestMatchesCount()})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharacterType=function(t){return function(t){return t<11904}(t)?function(t){return 0==(65408&t)}(t)?function(t){return 32===t||9===t||13===t||10===t}(t)?i.SPACE:function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function(t){return t>=48&&t<=57}(t)||95===t?i.ALPHA_LETTER:i.PUNCT:function(t){return 3584==(65408&t)}(t)?i.THAI_LETTER:160===t?i.SPACE:i.ALPHA_LETTER:function(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?i.HAN_LETTER:function(t){return t>=12448&&t<=12543}(t)?i.KATAKANA_LETTER:function(t){return t>=12352&&t<=12447}(t)?i.HIRAGANA_LETTER:function(t){return t>=65376&&t<=65439}(t)?i.HALFWIDTH_KATAKANA_LETTER:i.ALPHA_LETTER},e.CharacterType=void 0;const i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDestHashesEqual=a,e.isDestArraysEqual=o,e.PDFHistory=void 0;var i=n(3);function s(){return document.location.hash}function a(t,e){if("string"!=typeof t||"string"!=typeof e)return!1;if(t===e)return!0;const{nameddest:n}=(0,i.parseQueryString)(t);return n===e}function o(t,e){function n(t,e){if(typeof t!=typeof e)return!1;if(Array.isArray(t)||Array.isArray(e))return!1;if(null!==t&&"object"==typeof t&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!n(t[i],e[i]))return!1;return!0}return t===e||Number.isNaN(t)&&Number.isNaN(e)}if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(let i=0,s=t.length;i<s;i++)if(!n(t[i],e[i]))return!1;return!0}e.PDFHistory=class{constructor({linkService:t,eventBus:e}){this.linkService=t,this.eventBus=e||(0,i.getGlobalEventBus)(),this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",t=>{this._isViewerInPresentationMode=t.active||t.switchInProgress}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1;const t=e=>{this.eventBus._off("pagesloaded",t),this._isPagesLoaded=!!e.pagesCount};this.eventBus._on("pagesloaded",t)})}initialize({fingerprint:t,resetHistory:e=!1,updateUrl:n=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const i=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===n,this._initialized=!0,this._bindEvents();const a=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(a,!0)||e){const{hash:t,page:n,rotation:s}=this._parseCurrentHash();return!t||i||e?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:t,page:n,rotation:s},!0)}const o=a.destination;this._updateInternalState(o,a.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==o.rotation&&(this._initialRotation=o.rotation),o.dest?(this._initialBookmark=JSON.stringify(o.dest),this._destination.page=null):o.hash?this._initialBookmark=o.hash:o.page&&(this._initialBookmark="page="+o.page)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:e,pageNumber:n}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(e))return void console.error(`PDFHistory.push: "${e}" is not a valid explicitDest parameter.`);if(!(Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount)&&(null!==n||this._destination))return void console.error(`PDFHistory.push: "${n}" is not a valid pageNumber parameter.`);const i=t||JSON.stringify(e);if(!i)return;let s=!1;if(this._destination&&(a(this._destination.hash,i)||o(this._destination.dest,e))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:e,hash:i,page:n,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,e=!1){const n=e||!this._destination,i={fingerprint:this._fingerprint,uid:n?this._uid:this._uid+1,destination:t};let s;if(this._updateInternalState(t,i.uid),this._updateUrl&&t&&t.hash){const e=document.location.href.split("#")[0];e.startsWith("file://")||(s=`${e}#${t.hash}`)}n?window.history.replaceState(i,"",s):(this._maxUid=this._uid,window.history.pushState(i,"",s))}_tryPushCurrentPosition(t=!1){if(!this._position)return;let e=this._position;if(t&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination)return void this._pushOrReplaceState(e);if(this._destination.temporary)return void this._pushOrReplaceState(e,!0);if(this._destination.hash===e.hash)return;if(!this._destination.page&&this._numPositionUpdates<=50)return;let n=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(e,n)}_isValidState(t,e=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!e)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[e]=performance.getEntriesByType("navigation");if(!e||"reload"!==e.type)return!1}}return!(!Number.isInteger(t.uid)||t.uid<0)&&null!==t.destination&&"object"==typeof t.destination}_updateInternalState(t,e,n=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._numPositionUpdates=0}_parseCurrentHash(){const t=unescape(s()).substring(1);let e=0|(0,i.parseQueryString)(t).page;return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount||(e=null),{hash:t,page:e,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page="+t.pageNumber:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const e=s(),n=this._currentHash!==e;if(this._currentHash=e,!t){this._uid++;const{hash:t,page:e,rotation:n}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:t,page:e,rotation:n},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,n&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const a=t.destination;this._updateInternalState(a,t.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,i.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation),a.dest?this.linkService.navigateTo(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var i=n(3),s=n(2),a=n(13);const o=n(14).viewerCompatibilityParams.maxCanvasPixels||16777216;e.PDFPageView=class{constructor(t){const e=t.container,n=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||i.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||o,this.eventBus=t.eventBus||(0,i.getGlobalEventBus)(),this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||i.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||i.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=a.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),this.div=s,e.appendChild(s)}setPdfPage(t){this.pdfPage=t,this.pdfPageRotate=t.rotate,this.viewport=t.getViewport({scale:this.scale*i.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=t.stats,this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_resetZoomLayer(t=!1){if(!this.zoomLayer)return;const e=this.zoomLayer.firstChild;this.paintedViewportMap.delete(e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}reset(t=!1,e=!1){this.cancelRendering(e),this.renderingState=a.RenderingStates.INITIAL;const n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";const i=n.childNodes,s=t&&this.zoomLayer||null,o=e&&this.annotationLayer&&this.annotationLayer.div||null;for(let a=i.length-1;a>=0;a--){const t=i[a];s!==t&&o!==t&&n.removeChild(t)}n.removeAttribute("data-loaded"),o?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),s||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}update(t,e){if(this.scale=t||this.scale,void 0!==e&&(this.rotation=e),this.viewport=this.viewport.clone({scale:this.scale*i.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});let n=!1;if(this.canvas&&this.maxCanvasPixels>0){const t=this.outputScale;(Math.floor(this.viewport.width)*t.sx|0)*(Math.floor(this.viewport.height)*t.sy|0)>this.maxCanvasPixels&&(n=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&n)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}cancelRendering(t=!1){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!t&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}cssTransform(t,e=!1){const n=this.viewport.width,i=this.viewport.height,s=this.div;t.style.width=t.parentNode.style.width=s.style.width=Math.floor(n)+"px",t.style.height=t.parentNode.style.height=s.style.height=Math.floor(i)+"px";const a=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,o=Math.abs(a);let r=1,c=1;if(90!==o&&270!==o||(r=i/n,c=n/i),t.style.transform="rotate("+a+"deg) scale("+r+","+c+")",this.textLayer){const t=this.textLayer.viewport,e=Math.abs(this.viewport.rotation-t.rotation);let i=n/t.width;90!==e&&270!==e||(i=n/t.height);const s=this.textLayer.textLayerDiv;let a,o;switch(e){case 0:a=o=0;break;case 90:a=0,o="-"+s.style.height;break;case 180:a="-"+s.style.width,o="-"+s.style.height;break;case 270:a="-"+s.style.width,o=0;break;default:console.error("Bad rotation value.")}s.style.transform="rotate("+e+"deg) scale("+i+", "+i+") translate("+a+", "+o+")",s.style.transformOrigin="0% 0%"}e&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,e){return this.viewport.convertToPdfPoint(t,e)}draw(){this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,pdfPage:e}=this;if(!e)return this.renderingState=a.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=a.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=t.style.width,n.style.height=t.style.height,n.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?t.insertBefore(n,this.annotationLayer.div):t.appendChild(n);let o=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){const e=document.createElement("div");e.className="textLayer",e.style.width=n.style.width,e.style.height=n.style.height,this.annotationLayer&&this.annotationLayer.div?t.insertBefore(e,this.annotationLayer.div):t.appendChild(e),o=this.textLayerFactory.createTextLayerBuilder(e,this.id-1,this.viewport,this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=o;let r=null;this.renderingQueue&&(r=t=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=a.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=a.RenderingStates.RUNNING,t()});t()});const c=async n=>{if(l===this.paintTask&&(this.paintTask=null),n instanceof s.RenderingCancelledException)this.error=null;else if(this.renderingState=a.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.error=n,this.stats=e.stats,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now()}),n)throw n},l=this.renderer===i.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);l.onRenderContinue=r,this.paintTask=l;const d=l.promise.then((function(){return c(null).then((function(){if(o){const t=e.streamTextContent({normalizeWhitespace:!0});o.setTextContentStream(t),o.render()}}))}),(function(t){return c(t)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(t,e,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),d}paintOnCanvas(t){const e=(0,s.createPromiseCapability)(),n={promise:e.promise,onRenderContinue(t){t()},cancel(){p.cancel()}},a=this.viewport,o=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(t=>{o.setAttribute("aria-label",t)}),o.setAttribute("hidden","hidden");let r=!0;const c=function(){r&&(o.removeAttribute("hidden"),r=!1)};t.appendChild(o),this.canvas=o,o.mozOpaque=!0;const l=o.getContext("2d",{alpha:!1}),d=(0,i.getOutputScale)(l);if(this.outputScale=d,this.useOnlyCssZoom){const t=a.clone({scale:i.CSS_UNITS});d.sx*=t.width/a.width,d.sy*=t.height/a.height,d.scaled=!0}if(this.maxCanvasPixels>0){const t=Math.sqrt(this.maxCanvasPixels/(a.width*a.height));d.sx>t||d.sy>t?(d.sx=t,d.sy=t,d.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const h=(0,i.approximateFraction)(d.sx),u=(0,i.approximateFraction)(d.sy);o.width=(0,i.roundToDivide)(a.width*d.sx,h[0]),o.height=(0,i.roundToDivide)(a.height*d.sy,u[0]),o.style.width=(0,i.roundToDivide)(a.width,h[1])+"px",o.style.height=(0,i.roundToDivide)(a.height,u[1])+"px",this.paintedViewportMap.set(o,a);const p=this.pdfPage.render({canvasContext:l,transform:d.scaled?[d.sx,0,0,d.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return p.onContinue=function(t){c(),n.onRenderContinue?n.onRenderContinue(t):t()},p.promise.then((function(){c(),e.resolve(void 0)}),(function(t){c(),e.reject(t)})),n}paintOnSvg(t){let e=!1;const n=()=>{if(e)throw new s.RenderingCancelledException("Rendering cancelled, page "+this.id,"svg")},o=this.pdfPage,r=this.viewport.clone({scale:i.CSS_UNITS});return{promise:o.getOperatorList().then(e=>(n(),new s.SVGGraphics(o.commonObjs,o.objs).getSVG(e,r).then(e=>{n(),this.svg=e,this.paintedViewportMap.set(e,r),e.style.width=t.style.width,e.style.height=t.style.height,this.renderingState=a.RenderingStates.FINISHED,t.appendChild(e)}))),onRenderContinue(t){t()},cancel(){e=!0}}}setPageLabel(t){this.pageLabel="string"==typeof t?t:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=e.RenderingStates=void 0;const i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};e.RenderingStates=i,e.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(t,e,n){const i=t.views,s=i.length;if(0===s)return null;for(let a=0;a<s;++a){const t=i[a].view;if(!this.isViewFinished(t))return t}if(n){const n=t.last.id;if(e[n]&&!this.isViewFinished(e[n]))return e[n]}else{const n=t.first.id-2;if(e[n]&&!this.isViewFinished(e[n]))return e[n]}return null}isViewFinished(t){return t.renderingState===i.FINISHED}renderView(t){switch(t.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case i.RUNNING:this.highestPriorityPage=t.renderingId;break;case i.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{console.error(`renderView: "${t}"`)})}return!0}}},function(t,e,n){"use strict";const i=Object.create(null);{const t="undefined"!=typeof navigator&&navigator.userAgent||"",e="undefined"!=typeof navigator&&navigator.platform||"",n="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,s=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===e&&n>1||s)&&(i.maxCanvasPixels=5242880)}e.viewerCompatibilityParams=Object.freeze(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFSinglePageViewer=void 0;var i=n(16),s=n(2);e.PDFSinglePageViewer=class extends i.BaseViewer{constructor(t){super(t),this.eventBus._on("pagesinit",t=>{this._ensurePageViewVisible()})}get _setDocumentViewerElement(){return(0,s.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}_resetView(){super._resetView(),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}_ensurePageViewVisible(){const t=this._pages[this._currentPageNumber-1],e=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(n[0]!==e.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===e)break;this._shadowViewer.appendChild(e.div),this.viewer.appendChild(t.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}_scrollUpdate(){this._updateScrollDown&&this._updateScrollDown(),super._scrollUpdate()}_scrollIntoView({pageDiv:t,pageSpot:e=null,pageNumber:n=null}){n&&this._setCurrentPageNumber(n);const i=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),super._scrollIntoView({pageDiv:t,pageSpot:e,pageNumber:n}),this._updateScrollDown=()=>{this.scroll.down=i,this._updateScrollDown=null}}_getVisiblePages(){return this._getCurrentVisiblePage()}_updateHelper(t){}get _isScrollModeHorizontal(){return(0,s.shadow)(this,"_isScrollModeHorizontal",!1)}_updateScrollMode(){}_updateSpreadMode(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewer=void 0;var i=n(3),s=n(13),a=n(1),o=n(2),r=n(12),c=n(4),l=n(5);function d(t){const e=[];this.push=function(n){const i=e.indexOf(n);i>=0&&e.splice(i,1),e.push(n),e.length>t&&e.shift().destroy()},this.resize=function(n,s){if(t=n,s){const t=new Set;for(let e=0,n=s.length;e<n;++e)t.add(s[e].id);(0,i.moveToEndOfArray)(e,(function(e){return t.has(e.id)}))}for(;e.length>t;)e.shift().destroy()}}class h{constructor(t){if(this.constructor===h)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus||(0,i.getGlobalEventBus)(),this.linkService=t.linkService||new c.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||i.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||i.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(t){return this._pages[t]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every((function(t){return t&&t.pdfPage}))}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error(`${this._name}.currentPageNumber: "${t}" is not a valid page.`))}_setCurrentPageNumber(t,e=!1){return this._currentPageNumber===t?(e&&this._resetCurrentPageView(),!0):0<t&&t<=this.pagesCount&&(this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1]}),e&&this._resetCurrentPageView(),!0)}get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]}set currentPageLabel(t){if(!this.pdfDocument)return;let e=0|t;if(this._pageLabels){const n=this._pageLabels.indexOf(t);n>=0&&(e=n+1)}this._setCurrentPageNumber(e,!0)||console.error(`${this._name}.currentPageLabel: "${t}" is not a valid page.`)}get currentScale(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE}set currentScale(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(t){this.pdfDocument&&this._setScale(t,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(t){if(!(0,i.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;if(this._pagesRotation===t)return;this._pagesRotation=t;const e=this._currentPageNumber;for(let n=0,i=this._pages.length;n<i;n++){const e=this._pages[n];e.update(e.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:e}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _setDocumentViewerElement(){throw new Error("Not implemented: _setDocumentViewerElement")}setDocument(t){if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=t,!t)return;const e=t.numPages,n=t.getPage(1);this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:e})}),this._onBeforeDraw=t=>{const e=this._pages[t.pageNumber-1];e&&this._buffer.push(e)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=t=>{t.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve(),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),n.then(n=>{this._firstPageCapability.resolve(n);const s=this.currentScale,a=n.getViewport({scale:s*i.CSS_UNITS}),o=this.textLayerMode!==i.TextLayerMode.DISABLE?this:null;for(let t=1;t<=e;++t){const e=new r.PDFPageView({container:this._setDocumentViewerElement,eventBus:this.eventBus,id:t,scale:s,defaultViewport:a.clone(),renderingQueue:this.renderingQueue,textLayerFactory:o,textLayerMode:this.textLayerMode,annotationLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer,enableWebGL:this.enableWebGL,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(e)}const c=this._pages[0];c&&(c.setPdfPage(n),this.linkService.cachePageRef(1,n.ref)),this._spreadMode!==i.SpreadMode.NONE&&this._updateSpreadMode(),this._onePageRenderedCapability.promise.then(()=>{if(this.findController&&this.findController.setDocument(t),t.loadingParams.disableAutoFetch||e>7500)return void this._pagesCapability.resolve();let n=e-1;if(n<=0)this._pagesCapability.resolve();else for(let i=2;i<=e;++i)t.getPage(i).then(t=>{const e=this._pages[i-1];e.pdfPage||e.setPdfPage(t),this.linkService.cachePageRef(i,t.ref),0==--n&&this._pagesCapability.resolve()},t=>{console.error(`Unable to get page ${i} to initialize viewer`,t),0==--n&&this._pagesCapability.resolve()})}),this.eventBus.dispatch("pagesinit",{source:this}),this.defaultRenderingQueue&&this.update()}).catch(t=>{console.error("Unable to initialize viewer",t)})}setPageLabels(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,e=this._pages.length;t<e;t++)this._pages[t].setPageLabel(this._pageLabels&&this._pageLabels[t])}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new d(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,o.createPromiseCapability)(),this._onePageRenderedCapability=(0,o.createPromiseCapability)(),this._pagesCapability=(0,o.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:t,pageSpot:e=null,pageNumber:n=null}){(0,i.scrollIntoView)(t,e)}_setScaleUpdatePages(t,e,n=!1,i=!1){if(this._currentScaleValue=e.toString(),function(t,e){return e===t||Math.abs(e-t)<1e-15}(this._currentScale,t))i&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});else{for(let e=0,n=this._pages.length;e<n;e++)this._pages[e].update(t);if(this._currentScale=t,!n){let t,e=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(e=this._location.pageNumber,t=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:e,destArray:t,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:i?e:void 0}),this.defaultRenderingQueue&&this.update()}}_setScale(t,e=!1){let n=parseFloat(t);if(n>0)this._setScaleUpdatePages(n,t,e,!1);else{const s=this._pages[this._currentPageNumber-1];if(!s)return;const a=this.isInPresentationMode||this.removePageBorders;let o=a?0:i.SCROLLBAR_PADDING,r=a?0:i.VERTICAL_PADDING;!a&&this._isScrollModeHorizontal&&([o,r]=[r,o]);const c=(this.container.clientWidth-o)/s.width*s.scale,l=(this.container.clientHeight-r)/s.height*s.scale;switch(t){case"page-actual":n=1;break;case"page-width":n=c;break;case"page-height":n=l;break;case"page-fit":n=Math.min(c,l);break;case"auto":const e=(0,i.isPortraitOrientation)(s)?c:Math.min(l,c);n=Math.min(i.MAX_AUTO_SCALE,e);break;default:return void console.error(`${this._name}._setScale: "${t}" is an unknown zoom value.`)}this._setScaleUpdatePages(n,t,e,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}scrollPageIntoView({pageNumber:t,destArray:e=null,allowNegativeOffset:n=!1,ignoreDestinationZoom:s=!1}){if(!this.pdfDocument)return;const a=Number.isInteger(t)&&this._pages[t-1];if(!a)return void console.error(this._name+".scrollPageIntoView: "+`"${t}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!e)return void this._setCurrentPageNumber(t,!0);let o,r,c=0,l=0,d=0,h=0;const u=a.rotation%180!=0,p=(u?a.height:a.width)/a.scale/i.CSS_UNITS,f=(u?a.width:a.height)/a.scale/i.CSS_UNITS;let m=0;switch(e[1].name){case"XYZ":c=e[2],l=e[3],m=e[4],c=null!==c?c:0,l=null!==l?l:f;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":l=e[2],m="page-width",null===l&&this._location&&(c=this._location.left,l=this._location.top);break;case"FitV":case"FitBV":c=e[2],d=p,h=f,m="page-height";break;case"FitR":c=e[2],l=e[3],d=e[4]-c,h=e[5]-l,o=(this.container.clientWidth-(this.removePageBorders?0:i.SCROLLBAR_PADDING))/d/i.CSS_UNITS,r=(this.container.clientHeight-(this.removePageBorders?0:i.VERTICAL_PADDING))/h/i.CSS_UNITS,m=Math.min(Math.abs(o),Math.abs(r));break;default:return void console.error(this._name+".scrollPageIntoView: "+`"${e[1].name}" is not a valid destination type.`)}if(s||(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"===m&&!e[4])return void this._scrollIntoView({pageDiv:a.div,pageNumber:t});const g=[a.viewport.convertToViewportPoint(c,l),a.viewport.convertToViewportPoint(c+d,l+h)];let b=Math.min(g[0][0],g[1][0]),_=Math.min(g[0][1],g[1][1]);n||(b=Math.max(b,0),_=Math.max(_,0)),this._scrollIntoView({pageDiv:a.div,pageSpot:{left:b,top:_},pageNumber:t})}_updateLocation(t){const e=this._currentScale,n=this._currentScaleValue,i=parseFloat(n)===e?Math.round(1e4*e)/100:n,s=t.id;let a="#page="+s;a+="&zoom="+i;const o=this.container,r=this._pages[s-1].getPagePoint(o.scrollLeft-t.x,o.scrollTop-t.y),c=Math.round(r[0]),l=Math.round(r[1]);a+=","+c+","+l,this._location={pageNumber:s,scale:i,top:l,left:c,rotation:this._pagesRotation,pdfOpenParams:a}}_updateHelper(t){throw new Error("Not implemented: _updateHelper")}update(){const t=this._getVisiblePages(),e=t.views,n=e.length;if(0===n)return;const i=Math.max(10,2*n+1);this._buffer.resize(i,e),this.renderingQueue.renderHighestPriority(t),this._updateHelper(e),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(t){return this.container.contains(t)}focus(){this.container.focus()}get _isScrollModeHorizontal(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}get isInPresentationMode(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===i.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const t=this._pages[this._currentPageNumber-1],e=t.div,n={id:t.id,x:e.offsetLeft+e.clientLeft,y:e.offsetTop+e.clientTop,view:t};return{first:n,last:n,views:[n]}}_getVisiblePages(){return(0,i.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}isPageVisible(t){return!!this.pdfDocument&&(t<1||t>this.pagesCount?(console.error(`${this._name}.isPageVisible: "${t}" is out of bounds.`),!1):this._getVisiblePages().views.some((function(e){return e.id===t})))}cleanup(){for(let t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].renderingState!==s.RenderingStates.FINISHED&&this._pages[t].reset()}_cancelRendering(){for(let t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].cancelRendering()}_ensurePdfPageLoaded(t){if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);const e=this.pdfDocument.getPage(t.id).then(e=>(t.pdfPage||t.setPdfPage(e),this._pagesRequests.delete(t),e)).catch(e=>{console.error("Unable to get page for page view",e),this._pagesRequests.delete(t)});return this._pagesRequests.set(t,e),e}forceRendering(t){const e=t||this._getVisiblePages(),n=this.renderingQueue.getHighestPriority(e,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!n&&(this._ensurePdfPageLoaded(n).then(()=>{this.renderingQueue.renderView(n)}),!0)}createTextLayerBuilder(t,e,n,i=!1,s){return new l.TextLayerBuilder({textLayerDiv:t,eventBus:s,pageIndex:e,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}createAnnotationLayerBuilder(t,e,n="",s=!1,o=i.NullL10n){return new a.AnnotationLayerBuilder({pageDiv:t,pdfPage:e,imageResourcesPath:n,renderInteractiveForms:s,linkService:this.linkService,downloadManager:this.downloadManager,l10n:o})}get hasEqualPageSizes(){const t=this._pages[0];for(let e=1,n=this._pages.length;e<n;++e){const n=this._pages[e];if(n.width!==t.width||n.height!==t.height)return!1}return!0}getPagesOverview(){const t=this._pages.map((function(t){const e=t.pdfPage.getViewport({scale:1});return{width:e.width,height:e.height,rotation:e.rotation}}));if(!this.enablePrintAutoRotate)return t;const e=(0,i.isPortraitOrientation)(t[0]);return t.map((function(t){return e===(0,i.isPortraitOrientation)(t)?t:{width:t.height,height:t.width,rotation:(t.rotation+90)%360}}))}get scrollMode(){return this._scrollMode}set scrollMode(t){if(this._scrollMode!==t){if(!(0,i.isValidScrollMode)(t))throw new Error("Invalid scroll mode: "+t);this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber)}}_updateScrollMode(t=null){const e=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",e===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",e===i.ScrollMode.WRAPPED),this.pdfDocument&&t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(t,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(t){if(this._spreadMode!==t){if(!(0,i.isValidSpreadMode)(t))throw new Error("Invalid spread mode: "+t);this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(t=null){if(!this.pdfDocument)return;const e=this.viewer,n=this._pages;if(e.textContent="",this._spreadMode===i.SpreadMode.NONE)for(let i=0,s=n.length;i<s;++i)e.appendChild(n[i].div);else{const t=this._spreadMode-1;let i=null;for(let s=0,a=n.length;s<a;++s)null===i?(i=document.createElement("div"),i.className="spread",e.appendChild(i)):s%2===t&&(i=i.cloneNode(!1),e.appendChild(i)),i.appendChild(n[s].div)}t&&(this._setCurrentPageNumber(t,!0),this.update())}}e.BaseViewer=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=void 0;var i=n(16),s=n(2);e.PDFViewer=class extends i.BaseViewer{get _setDocumentViewerElement(){return(0,s.shadow)(this,"_setDocumentViewerElement",this.viewer)}_scrollIntoView({pageDiv:t,pageSpot:e=null,pageNumber:n=null}){if(!e&&!this.isInPresentationMode){const n=t.offsetLeft+t.clientLeft,i=n+t.clientWidth,{scrollLeft:s,clientWidth:a}=this.container;(this._isScrollModeHorizontal||n<s||i>s+a)&&(e={left:0,top:0})}super._scrollIntoView({pageDiv:t,pageSpot:e,pageNumber:n})}_getVisiblePages(){return this.isInPresentationMode?this._getCurrentVisiblePage():super._getVisiblePages()}_updateHelper(t){if(this.isInPresentationMode)return;let e=this._currentPageNumber,n=!1;for(const i of t){if(i.percent<100)break;if(i.id===e){n=!0;break}}n||(e=t[0].id),this._setCurrentPageNumber(e)}}}])},t.exports=i()},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var i=n("SpAZ");function s(...t){return a(t)}function a(t){return 0===t.length?i.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mCt4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("0IaG"),s=n("fXoL"),a=n("sYmb");let o=(()=>{class t{constructor(t,e,n){this.translate=t,this.dialogRef=e,this.data=n,this.loading=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(i.h),s.Tb(i.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:11,vars:7,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[1,"divider-modal"],["mat-icon-button","",3,"title","mat-dialog-close"],[1,"fa","fa-times-circle","fa-2x"],[2,"height","100%","width","100%",3,"editMode","base64","title"],["appDocumentViewer",""]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"h1",1),s.Zb(2,"span"),s.Sc(3),s.Yb(),s.Ub(4,"span",2),s.Zb(5,"button",3),s.mc(6,"translate"),s.Ub(7,"mat-icon",4),s.Yb(),s.Yb(),s.Zb(8,"mat-dialog-content"),s.Ub(9,"app-document-viewer",5,6),s.Yb(),s.Yb()),2&t&&(s.Eb(3),s.Tc(e.data.title),s.Eb(2),s.tc("title",s.nc(6,5,"lang.close")),s.Eb(4),s.sc("editMode",!1)("base64",e.data.base64)("title",e.data.title))},styles:[""]}),t})()},mLrj:function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return M}));var i=n("0IaG"),s=n("fXoL"),a=n("sYmb"),o=n("tk/3"),r=n("tyNb"),c=n("A6w4"),l=n("eiH7"),d=n("4zkx"),h=n("MutI"),u=n("ofXK"),p=n("f0Cb"),f=n("bTqV"),m=n("Qu3c"),g=n("NFeN"),b=n("TU8p"),_=n("0vfS"),v=n("1YbM"),y=n("aEDk"),x=n("FKr1");function w(t,e){if(1&t){const t=s.ac();s.Zb(0,"span",5),s.Zb(1,"button",6),s.hc("click",(function(){s.Hc(t);const e=s.lc().$implicit;return s.lc().gotToMenu(e)})),s.mc(2,"translate"),s.Ub(3,"mat-icon",7),s.Yb(),s.Yb()}if(2&t){const t=s.lc().$implicit,e=s.lc();s.Eb(1),s.tc("matTooltip",s.nc(2,7,t.label)),s.sc("id",t.id),s.Eb(2),s.Hb("fa ",t.style,""),s.tc("matBadge",e.headerService.nbResourcesFollowed),s.tc("matBadgeHidden","followed"!=t.id)}}function C(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",15),s.hc("click",(function(){s.Hc(t);const n=e.$implicit,i=s.lc(2).$implicit;return s.lc().onSpeedDialFabClicked(n,i)})),s.Zb(1,"span",16),s.Sc(2),s.mc(3,"shorten"),s.Yb(),s.Ub(4,"mat-icon",17),s.Yb()}if(2&t){const t=e.$implicit,n=s.lc(2).$implicit;s.sc("id",n.id),s.Eb(2),s.Tc(s.pc(3,2,t.label,20,"..."))}}function O(t,e){if(1&t){const t=s.ac();s.Zb(0,"span",8),s.Zb(1,"smd-fab-speed-dial",9,10),s.hc("mouseenter",(function(){return s.Hc(t),s.Dc(2).open=!0}))("mouseleave",(function(){return s.Hc(t),s.Dc(2).open=!1})),s.Zb(3,"smd-fab-trigger",11),s.Zb(4,"button",12),s.Ub(5,"mat-icon",13),s.Yb(),s.Yb(),s.Zb(6,"smd-fab-actions"),s.Qc(7,C,5,6,"button",14),s.mc(8,"sortBy"),s.Yb(),s.Yb(),s.Yb()}if(2&t){const t=s.lc().$implicit;s.Eb(5),s.Hb("fa ",t.style," spin360"),s.Eb(2),s.sc("ngForOf",s.oc(8,4,t.groups,"label"))}}function k(t,e){if(1&t&&(s.Xb(0),s.Qc(1,w,4,9,"span",3),s.Qc(2,O,9,7,"span",4),s.Wb()),2&t){const t=e.$implicit;s.Eb(1),s.sc("ngIf","indexing"==t.id&&t.groups.length<=1||"indexing"!=t.id),s.Eb(1),s.sc("ngIf","indexing"==t.id&&t.groups.length>1)}}function S(t,e){if(1&t){const t=s.ac();s.Xb(0),s.Zb(1,"a",3),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc().goTo(n)})),s.Ub(2,"mat-icon",4),s.Zb(3,"p",5),s.Sc(4),s.Yb(),s.Yb(),s.Wb()}if(2&t){const t=e.$implicit;s.Eb(4),s.Uc(" ",t.label," ")}}let E=(()=>{class t{constructor(t,e,n,i,s,a,o){this.translate=t,this.http=e,this._router=n,this.dialog=i,this.appService=s,this.privilegeService=a,this.headerService=o,this.config={},this.speedDialFabButtons=[],this.speedDialFabColumnDirection="column",this.router=n}ngOnInit(){}onSpeedDialFabClicked(t,e){this.router.navigate(["/indexing/"+t.id])}gotToMenu(t){"indexing"===t.id?this.router.navigate([t.route+"/"+t.groups[0].id]):!0===t.angular?this.router.navigate([t.route]):location.href=t.route}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(a.e),s.Tb(o.b),s.Tb(r.c),s.Tb(i.b),s.Tb(c.a),s.Tb(l.a),s.Tb(d.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["menu-shortcut"]],decls:5,vars:1,consts:[[2,"position","relative"],[1,"button-row",2,"padding-left","10px","padding-right","10px","display","flex","width","300px","margin-top","-10px","margin-bottom","10px"],[4,"ngFor","ngForOf"],["style","flex:1;text-align: left;padding: 5px;",4,"ngIf"],["style","flex:1;text-align: left;padding: 5px;position: relative;",4,"ngIf"],[2,"flex","1","text-align","left","padding","5px"],["color","default","mat-fab","","matTooltipPosition","above",1,"followedShortcut",2,"z-index","9999",3,"id","matTooltip","click"],[2,"height","auto","font-size","22px",3,"matBadge","matBadgeHidden"],[2,"flex","1","text-align","left","padding","5px","position","relative"],["direction","down","animationMode","fling","fixed","false",3,"mouseenter","mouseleave"],["myFab",""],["spin","true"],["color","default","mat-fab",""],[2,"font-size","22px"],["color","primary","mat-mini-fab","",3,"id","click",4,"ngFor","ngForOf"],["color","primary","mat-mini-fab","",3,"id","click"],["color","primary",1,"speedDialLabel",2,"display","none","position","absolute","margin-left","20px","margin-top","-5px"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(s.Ub(0,"mat-nav-list",0),s.Zb(1,"mat-nav-list"),s.Zb(2,"div",1),s.Qc(3,k,3,2,"ng-container",2),s.Yb(),s.Yb(),s.Ub(4,"mat-divider")),2&t&&(s.Eb(3),s.sc("ngForOf",e.privilegeService.shortcuts))},directives:[h.h,u.s,p.a,u.t,f.b,m.b,g.a,b.a,_.b,_.c,_.a],pipes:[a.d,v.a,y.p],styles:[".button-row[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{border:2px solid #135f7f;color:#135f7f}.mat-fab[_ngcontent-%COMP%]    .mat-button-wrapper{padding:0}.speedDialLabel[_ngcontent-%COMP%]{margin-left:-220px!important;width:200px;text-align:right;z-index:0;font-weight:700}.smd-opened[_ngcontent-%COMP%]   .speedDialLabel[_ngcontent-%COMP%]{transition:opacity 1s ease-in!important;display:block!important}.mat-icon[_ngcontent-%COMP%]{height:auto!important}.followedShortcut[_ngcontent-%COMP%]    .mat-badge-content{width:auto;min-width:25px;min-height:25px;text-align:center;align-items:center;padding:2px;font-size:15px;top:-23px!important;right:-22px!important}"]}),t})(),M=(()=>{class t{constructor(t,e,n,i){this.http=t,this.router=e,this.data=n,this.dialogRef=i}goTo(t){this.router.navigate(["/indexing/"+t.id]),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(o.b),s.Tb(r.c),s.Tb(i.a),s.Tb(i.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:7,vars:4,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title","","color","primary"],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["color","primary","mat-list-icon","",1,"fa","fa-users"],["mat-line",""]],template:function(t,e){1&t&&(s.Zb(0,"div",0),s.Zb(1,"h2",1),s.Sc(2),s.mc(3,"translate"),s.Yb(),s.Zb(4,"mat-dialog-content"),s.Zb(5,"mat-nav-list"),s.Qc(6,S,5,1,"ng-container",2),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.Tc(s.nc(3,2,"lang.chooseIndexationProfil")),s.Eb(4),s.sc("ngForOf",e.data.indexingGroups))},directives:[i.i,i.f,h.h,u.s,h.d,g.a,h.c,x.k],pipes:[a.d],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height: 65vh;width:600px;}"]}),t})()},mb9D:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n("fXoL"),s=n("STbY"),a=n("2c88"),o=n("pLZG"),r=n("XqQ8"),c=n("vkgz"),l=n("JIr8"),d=n("I65S"),h=n("sYmb"),u=n("tk/3"),p=n("AXEc"),f=n("0IaG"),m=n("tyNb"),g=n("4zkx"),b=n("6Psc"),_=n("ofXK"),v=n("f0Cb"),y=n("NFeN"),x=n("dXBx"),w=n("bTqV"),C=n("kmnG"),O=n("1YbM");function k(t,e){if(1&t&&(i.Zb(0,"button",13),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"mat-icon",14),i.Yb()),2&t){i.lc();const t=i.Dc(3);i.sc("matMenuTriggerFor",t),i.Eb(1),i.Tc(i.nc(2,2,"lang.actionsAlt"))}}function S(t,e){if(1&t&&i.Ub(0,"span",15,16),2&t){const t=i.lc(),e=i.Dc(3);i.Pc("left",t.contextMenuPosition.x)("top",t.contextMenuPosition.y),i.sc("matMenuTriggerFor",e)}}function E(t,e){if(1&t&&(i.Zb(0,"div",17),i.Sc(1),i.Yb()),2&t){const t=i.lc();i.Eb(1),i.Uc(" ",t.contextMenuTitle," ")}}function M(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",18),i.hc("menuOpened",(function(){return i.Hc(t),i.lc().getBaskets()})),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}if(2&t){i.lc();const t=i.Dc(7);i.sc("matMenuTriggerFor",t),i.Eb(2),i.Tc(i.nc(3,2,"lang.goToBasket"))}}function I(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",21),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).goTo(e)})),i.Sc(1),i.Yb()}if(2&t){const t=i.lc().$implicit;i.tc("title",t.basketName),i.Eb(1),i.Uc("",t.basketName," ")}}function P(t,e){if(1&t&&(i.Xb(0),i.Qc(1,I,2,2,"button",20),i.Wb()),2&t){const t=e.$implicit,n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",t.groupId===n.groupId)}}function T(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",19),i.Sc(2),i.Yb(),i.Qc(3,P,2,1,"ng-container",6),i.mc(4,"sortBy"),i.Wb()),2&t){const t=e.$implicit,n=i.lc();i.Eb(2),i.Tc(t.groupName),i.Eb(1),i.sc("ngForOf",i.oc(4,2,n.basketList.list,"basketName"))}}function A(t,e){1&t&&(i.Zb(0,"div",22),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mailNotPresentInBasket")," "))}let D=(()=>{class t{constructor(t,e,n,s,a,o,r){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.router=a,this.headerService=o,this.foldersService=r,this.loading=!1,this.triggerEvent=new i.o,this.contextMenuPosition={x:"0px",y:"0px"},this.contextMenuTitle="",this.currentAction={},this.basketInfo={},this.contextResId=0,this.currentLock=null,this.arrRes=[],this.actionsList=[],this.basketList={groups:[],list:[]},this.refreshEvent=new i.o,this.refreshPanelFolders=new i.o}ngOnInit(){}open(t,e,n){return this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=e+"px",this.contextMenuTitle=n.chrono,this.contextResId=n.resId,this.contextMenu.openMenu(),!1}refreshFolders(){this.refreshPanelFolders.emit()}refreshDaoAfterAction(){this.refreshEvent.emit()}unclassify(){this.dialogRef=this.dialog.open(a.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:"Voulez-vous enlever <b>"+this.selectedRes.length+"</b> document(s) du classement ?"}}),this.dialogRef.afterClosed().pipe(Object(o.a)(t=>"ok"===t),Object(r.a)(()=>this.http.request("DELETE","../rest/folders/"+this.currentFolderInfo.id+"/resources",{body:{resources:this.selectedRes}})),Object(c.a)(t=>{this.notify.success(this.translate.instant("lang.removedFromFolder")),this.refreshFolders(),this.foldersService.getPinnedFolders(),this.refreshDaoAfterAction()}),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(d.of)(!1)))).subscribe()}getBaskets(){this.http.get("../rest/folders/"+this.currentFolderInfo.id+"/resources/"+this.selectedRes+"/baskets").pipe(Object(c.a)(t=>{this.basketList.groups=t.groupsBaskets.filter((t,e,n)=>t&&n.map(t=>t.groupId).indexOf(t.groupId)===e),this.basketList.list=t.groupsBaskets}),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(d.of)(!1)))).subscribe()}goTo(t){this.contextMenuTitle!==this.translate.instant("lang.undefined")?this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId],{queryParams:{chrono:'"'+this.contextMenuTitle+'"'}}):this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId])}unFollow(){this.dialogRef=this.dialog.open(a.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(o.a)(t=>"ok"===t),Object(r.a)(()=>this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:this.selectedRes}})),Object(c.a)(t=>{this.notify.success(this.translate.instant("lang.removedFromFolder")),this.headerService.nbResourcesFollowed-=t.unFollowed,this.refreshDaoAfterAction()}),Object(l.a)(t=>(this.notify.handleSoftErrors(t),Object(d.of)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(h.e),i.Tb(u.b),i.Tb(p.a),i.Tb(f.b),i.Tb(m.c),i.Tb(g.a),i.Tb(b.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-folder-action-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(s.d,!0),2&t&&i.Cc(n=i.ic())&&(e.contextMenu=n.first)},inputs:{selectedRes:"selectedRes",totalRes:"totalRes",contextMode:"contextMode",currentFolderInfo:"currentFolderInfo"},outputs:{triggerEvent:"triggerEvent",refreshEvent:"refreshEvent",refreshPanelFolders:"refreshPanelFolders"},decls:24,vars:22,consts:[["mat-stroked-button","",3,"matMenuTriggerFor",4,"ngIf"],["style","position: fixed;",3,"matMenuTriggerFor","left","top",4,"ngIf"],["menu","matMenu"],["style","text-align: center;font-size: 10px;color: white;background: #135F7F;padding: 5px;font-weight: bold;",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened",4,"ngIf"],["baskets","matMenu"],[4,"ngFor","ngForOf"],["class","noAvailableBasket",4,"ngIf"],["mat-menu-item","",1,"followAction",3,"disabled","click"],[1,"far","fa-star","fa-2x"],["mat-menu-item","",1,"folderAction",3,"disabled","click"],[1,"fa","fa-folder-minus","fa-2x"],[3,"resIds","refreshList","refreshFolders"],["mat-stroked-button","",3,"matMenuTriggerFor"],["matSuffix","",1,"fa","fa-caret-down"],[2,"position","fixed",3,"matMenuTriggerFor"],["menu2",""],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened"],[1,"basketGroupName"],["mat-menu-item","","class","labelBasket",3,"title","click",4,"ngIf"],["mat-menu-item","",1,"labelBasket",3,"title","click"],[1,"noAvailableBasket"]],template:function(t,e){1&t&&(i.Qc(0,k,4,4,"button",0),i.Qc(1,S,2,5,"span",1),i.Zb(2,"mat-menu",null,2),i.Qc(4,E,2,1,"div",3),i.Qc(5,M,4,4,"button",4),i.Zb(6,"mat-menu",null,5),i.Qc(8,T,5,5,"ng-container",6),i.mc(9,"sortBy"),i.Qc(10,A,3,3,"div",7),i.Yb(),i.Ub(11,"mat-divider"),i.Zb(12,"button",8),i.hc("click",(function(){return e.unFollow()})),i.Ub(13,"mat-icon",9),i.Zb(14,"span"),i.Sc(15),i.mc(16,"translate"),i.Yb(),i.Yb(),i.Ub(17,"mat-divider"),i.Zb(18,"button",10),i.hc("click",(function(){return e.unclassify()})),i.Ub(19,"mat-icon",11),i.Zb(20,"span"),i.Sc(21),i.mc(22,"translate"),i.Yb(),i.Yb(),i.Zb(23,"folder-menu",12),i.hc("refreshList",(function(){return e.refreshDaoAfterAction()}))("refreshFolders",(function(){return e.refreshFolders()})),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",!e.contextMode),i.Eb(1),i.sc("ngIf",e.contextMode),i.Eb(1),i.Gb("actionListMenu"),i.Eb(2),i.sc("ngIf",e.contextMode&&1==e.selectedRes.length),i.Eb(1),i.sc("ngIf",1==e.selectedRes.length),i.Eb(1),i.Gb("folderListMenu"),i.Eb(2),i.sc("ngForOf",i.oc(9,15,e.basketList.groups,"groupName")),i.Eb(2),i.sc("ngIf",0==e.basketList.groups.length),i.Eb(2),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(16,18,"lang.untrackThisMail")),i.Eb(3),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(22,20,"lang.removeFromFolder")),i.Eb(2),i.sc("resIds",e.selectedRes))},directives:[_.t,s.e,_.s,v.a,s.b,y.a,x.a,w.b,s.d,C.j],pipes:[O.a,h.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px;border-color:#135f7f;color:#135f7f} .actionListMenu .mat-menu-content{padding-top:0;padding-bottom:0}.folderAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .followAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#8e3e52}.basketGroupName[_ngcontent-%COMP%]{color:#135f7f;padding-left:10px;padding-right:10px}.labelBasket[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.noAvailableBasket[_ngcontent-%COMP%]{text-align:center;font-size:12px;opacity:.5;font-style:italic;padding:22px}"]}),t})()},mbIT:function(t,e,n){"use strict";e.isArray=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))((function(s,a){function o(t){try{c(i.next(t))}catch(e){a(e)}}function r(t){try{c(i.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,r)}c((i=i.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return i}))},n3uD:function(t,e,n){"use strict";var i=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",(function(){return i}))},n73p:function(t,e,n){"use strict";var i=n("Q1FS"),s=n("zB/H");e.schedulePromise=function(t,e){return new i.Observable((function(n){var i=new s.Subscription;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}))}},nLfN:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return m}));var i=n("fXoL"),s=n("ofXK");let a;try{a="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_){a=!1}let o,r=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(s.I)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!a)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.dc(i.E,8))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(i.E,8))},token:t,providedIn:"root"}),t})(),c=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})();const l=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(l),o;let t=document.createElement("input");return o=new Set(l.filter(e=>(t.setAttribute("type",e),t.type===e))),o}let h,u,p;function f(t){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?t:!!t.capture}function m(){return!("object"!=typeof document||!("scrollBehavior"in document.documentElement.style))}function g(){if("object"!=typeof document||!document)return 0;if(null==u){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),u=0,0===t.scrollLeft&&(t.scrollLeft=1,u=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return u}function b(t){if(function(){if(null==p){const t="undefined"!=typeof document?document.head:null;p=!(!t||!t.createShadowRoot&&!t.attachShadow)}return p}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("7o/Q"),s=n("quSY");function a(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new r(t,this.callback))}}class r extends i.a{constructor(t,e){super(t),this.add(new s.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},nzqU:function(t,e,n){"use strict";e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return At})),n.d(e,"c",(function(){return qt})),n.d(e,"d",(function(){return Qt})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return jt})),n.d(e,"g",(function(){return Vt})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return Zt})),n.d(e,"j",(function(){return Nt})),n.d(e,"k",(function(){return Ut})),n.d(e,"l",(function(){return Bt})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return C})),n.d(e,"o",(function(){return _})),n.d(e,"p",(function(){return Dt})),n.d(e,"q",(function(){return ht})),n.d(e,"r",(function(){return ut})),n.d(e,"s",(function(){return ft})),n.d(e,"t",(function(){return gt})),n.d(e,"u",(function(){return Ct})),n.d(e,"v",(function(){return Ot})),n.d(e,"w",(function(){return kt})),n.d(e,"x",(function(){return yt})),n.d(e,"y",(function(){return xt})),n.d(e,"z",(function(){return wt})),n.d(e,"A",(function(){return St})),n.d(e,"B",(function(){return x})),n.d(e,"C",(function(){return Ht})),n.d(e,"D",(function(){return l})),n.d(e,"E",(function(){return Gt})),n.d(e,"F",(function(){return Lt})),n.d(e,"G",(function(){return Ft})),n.d(e,"H",(function(){return Kt})),n.d(e,"I",(function(){return Jt})),n.d(e,"J",(function(){return r})),n.d(e,"K",(function(){return Xt})),n.d(e,"L",(function(){return a})),n.d(e,"M",(function(){return dt})),n.d(e,"N",(function(){return o}));var i=n("fXoL");let s=null;function a(){return s}function o(t){s||(s=t)}class r{}const c=new i.r("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:d,token:t,providedIn:"platform"}),t})();function d(){return Object(i.dc)(u)}const h=new i.r("Location Initialized");let u=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.dc(c))},t.\u0275prov=Object(i.Pb)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new u(Object(i.dc)(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(i.dc)(c).location;return new x(Object(i.dc)(l),e&&e.origin||"")}const y=new i.r("appBaseHref");let x=(()=>{class t extends _{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const s=this.prepareExternalUrl(n+b(i));this._platformLocation.pushState(t,e,s)}replaceState(t,e,n,i){const s=this.prepareExternalUrl(n+b(i));this._platformLocation.replaceState(t,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(l),i.dc(y,8))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends _{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let s=this.prepareExternalUrl(n+b(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,e,s)}replaceState(t,e,n,i){let s=this.prepareExternalUrl(n+b(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(l),i.dc(y,8))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new i.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(k(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,k(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.dc(_),i.dc(l))},t.normalizeQueryParams=b,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(i.Pb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new C(Object(i.dc)(_),Object(i.dc)(l))}function k(t){return t.replace(/\/index.html$/,"")}const S={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},E=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),M=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),I=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),P=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),T=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),A=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function D(t,e){return N(Object(i.nb)(t)[i.db.DateFormat],e)}function R(t,e){return N(Object(i.nb)(t)[i.db.TimeFormat],e)}function L(t,e){return N(Object(i.nb)(t)[i.db.DateTimeFormat],e)}function F(t,e){const n=Object(i.nb)(t),s=n[i.db.NumberSymbols][e];if(void 0===s){if(e===A.CurrencyDecimal)return n[i.db.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[i.db.NumberSymbols][A.Group]}return s}function j(t,e){return Object(i.nb)(t)[i.db.NumberFormats][e]}const Y=i.qb;function Z(t){if(!t[i.db.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[i.db.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const B=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},V=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,H=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Q=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),$=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function W(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function G(t,e,n="-",i,s){let a="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,a=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),a+o}function q(t,e,n=0,i=!1,s=!1){return function(a,o){let r=function(t,e){switch(t){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,a);if((n>0||r>-n)&&(r+=n),t===Q.Hours)0===r&&-12===n&&(r=12);else if(t===Q.FractionalSeconds)return c=e,G(r,3).substr(0,c);var c;const l=F(o,A.MinusSign);return G(r,e,l,i,s)}}function X(t,e,n=I.Format,s=!1){return function(a,o){return function(t,e,n,s,a,o){switch(n){case $.Months:return function(t,e,n){const s=Object(i.nb)(t),a=N([s[i.db.MonthsFormat],s[i.db.MonthsStandalone]],e);return N(a,n)}(e,a,s)[t.getMonth()];case $.Days:return function(t,e,n){const s=Object(i.nb)(t),a=N([s[i.db.DaysFormat],s[i.db.DaysStandalone]],e);return N(a,n)}(e,a,s)[t.getDay()];case $.DayPeriods:const r=t.getHours(),c=t.getMinutes();if(o){const t=function(t){const e=Object(i.nb)(t);return Z(e),(e[i.db.ExtraData][2]||[]).map(t=>"string"==typeof t?U(t):[U(t[0]),U(t[1])])}(e),n=function(t,e,n){const s=Object(i.nb)(t);Z(s);const a=N([s[i.db.ExtraData][0],s[i.db.ExtraData][1]],e)||[];return N(a,n)||[]}(e,a,s);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:s}=t[0],{hours:a,minutes:l}=t[1];r>=i&&c>=s&&(r<a||r===a&&c<l)&&(o=n[e])}else{const{hours:i,minutes:s}=t;i===r&&s===c&&(o=n[e])}}),o)return o}return function(t,e,n){const s=Object(i.nb)(t),a=N([s[i.db.DayPeriodsFormat],s[i.db.DayPeriodsStandalone]],e);return N(a,n)}(e,a,s)[r<12?0:1];case $.Eras:return function(t,e){return N(Object(i.nb)(t)[i.db.Eras],e)}(e,s)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(a,o,t,e,n,s)}}function J(t){return function(e,n,i){const s=-1*i,a=F(n,A.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case H.Short:return(s>=0?"+":"")+G(o,2,a)+G(Math.abs(s%60),2,a);case H.ShortGMT:return"GMT"+(s>=0?"+":"")+G(o,1,a);case H.Long:return"GMT"+(s>=0?"+":"")+G(o,2,a)+":"+G(Math.abs(s%60),2,a);case H.Extended:return 0===i?"Z":(s>=0?"+":"")+G(o,2,a)+":"+G(Math.abs(s%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}function K(t,e=!1){return function(n,i){let s;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();s=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-t.getTime();s=1+Math.round(e/6048e5)}var a;return G(s,t,F(i,A.MinusSign))}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}const it=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function st(t,e,n,i,s,a,o=!1){let r="",c=!1;if(isFinite(t)){let l=function(t){let e,n,i,s,a,o=Math.abs(t)+"",r=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;"0"===o.charAt(i);i++);if(i===(a=o.length))e=[0],n=1;else{for(a--;"0"===o.charAt(a);)a--;for(n-=i,e=[],s=0;i<=a;i++,s++)e[s]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),r=n-1,n=1),{digits:e,exponent:r,integerLen:n}}(t);o&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let d=e.minInt,h=e.minFrac,u=e.maxFrac;if(a){const t=a.match(it);if(null===t)throw new Error(a+" is not a valid digit info");const e=t[1],n=t[3],i=t[5];null!=e&&(d=ot(e)),null!=n&&(h=ot(n)),null!=i?u=ot(i):null!=n&&h>u&&(u=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,s=i.length-t.integerLen;const a=Math.min(Math.max(e,s),n);let o=a+t.integerLen,r=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{s=Math.max(0,s),t.integerLen=1,i.length=Math.max(1,o=a+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(r>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;s<Math.max(0,a);s++)i.push(0);let c=0!==a;const l=e+t.integerLen,d=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,c&&(0===i[n]&&n>=l?i.pop():c=!1),e>=10?1:0}),0);d&&(i.unshift(d),t.integerLen++)}(l,h,u);let p=l.digits,f=l.integerLen;const m=l.exponent;let g=[];for(c=p.every(t=>!t);f<d;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const b=[];for(p.length>=e.lgSize&&b.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)b.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),r=b.join(F(n,i)),g.length&&(r+=F(n,s)+g.join("")),m&&(r+=F(n,A.Exponential)+"+"+m)}else r=F(n,A.Infinity);return r=t<0&&!c?e.negPre+r+e.negSuf:e.posPre+r+e.posSuf,r}function at(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),s=i[0],a=i[1],o=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],r=o[0],c=o[1]||"";n.posPre=r.substr(0,r.indexOf("#"));for(let d=0;d<c.length;d++){const t=c.charAt(d);"0"===t?n.minFrac=n.maxFrac=d+1:"#"===t?n.maxFrac=d+1:n.posSuf+=t}const l=r.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,a){const t=s.length-n.posPre.length-n.posSuf.length,e=a.indexOf("#");n.negPre=a.substr(0,e).replace(/'/g,""),n.negSuf=a.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function ot(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class rt{}function ct(t,e,n,i){let s="="+t;if(e.indexOf(s)>-1)return s;if(s=n.getPluralCategory(t,i),e.indexOf(s)>-1)return s;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}let lt=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(Y(e||this.locale)(t)){case M.Zero:return"zero";case M.One:return"one";case M.Two:return"two";case M.Few:return"few";case M.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.dc(i.w))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();function dt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,s]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let ht=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.tb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.zb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.u),i.Tb(i.v),i.Tb(i.l),i.Tb(i.H))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),ut=(()=>{class t{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(i.z);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(i.j)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.Cb]}),t})();class pt{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(i.Y)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pt(null,this._ngForOf,-1,-1),null===i?void 0:i),s=new mt(t,n);e.push(s)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,i);const a=new mt(t,s);e.push(a)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O),i.Tb(i.u))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class mt{constructor(t,e){this.record=t,this.view=e}}let gt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_t("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_t("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function _t(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.zb)(e)}'.`)}class vt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let yt=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),xt=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new vt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O),i.Tb(yt,1))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),wt=(()=>{class t{constructor(t,e,n){n._addDefault(new vt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O),i.Tb(yt,1))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Ct=(()=>{class t{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=ct(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(rt))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t})(),Ot=(()=>{class t{constructor(t,e,n,i){this.value=t;const s=!isNaN(Number(t));i.addCase(s?"="+t:t,new vt(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.ec("ngPluralCase"),i.Tb(i.O),i.Tb(i.R),i.Tb(Ct,1))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngPluralCase",""]]}),t})(),kt=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.v),i.Tb(i.H))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),St=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Cb]}),t})();function Et(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.zb)(t)}'`)}class Mt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class It{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Pt=new It,Tt=new Mt;let At=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(i.wb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.T.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(i.vb)(e))return Pt;if(Object(i.ub)(e))return Tt;throw Et(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.fc())},t.\u0275pipe=i.Sb({name:"async",type:t,pure:!1}),t})(),Dt=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Et(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"lowercase",type:t,pure:!0}),t})();const Rt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Lt=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Et(t,e);return e.replace(Rt,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"titlecase",type:t,pure:!0}),t})(),Ft=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Et(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"uppercase",type:t,pure:!0}),t})(),jt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",s,a){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,s){let a=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(B))return function(t){const e=new Date(0);let n=0,i=0;const s=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),s.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,r=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(e,o,r,c,l),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const s=function(t){return Object(i.nb)(t)[i.db.LocaleId]}(e);if(z[s]=z[s]||{},z[s][n])return z[s][n];let a="";switch(n){case"shortDate":a=D(e,T.Short);break;case"mediumDate":a=D(e,T.Medium);break;case"longDate":a=D(e,T.Long);break;case"fullDate":a=D(e,T.Full);break;case"shortTime":a=R(e,T.Short);break;case"mediumTime":a=R(e,T.Medium);break;case"longTime":a=R(e,T.Long);break;case"fullTime":a=R(e,T.Full);break;case"short":const n=t(e,"shortTime"),i=t(e,"shortDate");a=W(L(e,T.Short),[n,i]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");a=W(L(e,T.Medium),[s,o]);break;case"long":const r=t(e,"longTime"),c=t(e,"longDate");a=W(L(e,T.Long),[r,c]);break;case"full":const l=t(e,"fullTime"),d=t(e,"fullDate");a=W(L(e,T.Full),[l,d])}return a&&(z[s][n]=a),a}(n,e)||e;let o,r=[];for(;e;){if(o=V.exec(e),!o){r.push(e);break}{r=r.concat(o.slice(1));const t=r.pop();if(!t)break;e=t}}let c=a.getTimezoneOffset();s&&(c=et(s,c),a=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,i)-i))}(a,s));let l="";return r.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=X($.Eras,P.Abbreviated);break;case"GGGG":e=X($.Eras,P.Wide);break;case"GGGGG":e=X($.Eras,P.Narrow);break;case"y":e=q(Q.FullYear,1,0,!1,!0);break;case"yy":e=q(Q.FullYear,2,0,!0,!0);break;case"yyy":e=q(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=q(Q.FullYear,4,0,!1,!0);break;case"M":case"L":e=q(Q.Month,1,1);break;case"MM":case"LL":e=q(Q.Month,2,1);break;case"MMM":e=X($.Months,P.Abbreviated);break;case"MMMM":e=X($.Months,P.Wide);break;case"MMMMM":e=X($.Months,P.Narrow);break;case"LLL":e=X($.Months,P.Abbreviated,I.Standalone);break;case"LLLL":e=X($.Months,P.Wide,I.Standalone);break;case"LLLLL":e=X($.Months,P.Narrow,I.Standalone);break;case"w":e=K(1);break;case"ww":e=K(2);break;case"W":e=K(1,!0);break;case"d":e=q(Q.Date,1);break;case"dd":e=q(Q.Date,2);break;case"E":case"EE":case"EEE":e=X($.Days,P.Abbreviated);break;case"EEEE":e=X($.Days,P.Wide);break;case"EEEEE":e=X($.Days,P.Narrow);break;case"EEEEEE":e=X($.Days,P.Short);break;case"a":case"aa":case"aaa":e=X($.DayPeriods,P.Abbreviated);break;case"aaaa":e=X($.DayPeriods,P.Wide);break;case"aaaaa":e=X($.DayPeriods,P.Narrow);break;case"b":case"bb":case"bbb":e=X($.DayPeriods,P.Abbreviated,I.Standalone,!0);break;case"bbbb":e=X($.DayPeriods,P.Wide,I.Standalone,!0);break;case"bbbbb":e=X($.DayPeriods,P.Narrow,I.Standalone,!0);break;case"B":case"BB":case"BBB":e=X($.DayPeriods,P.Abbreviated,I.Format,!0);break;case"BBBB":e=X($.DayPeriods,P.Wide,I.Format,!0);break;case"BBBBB":e=X($.DayPeriods,P.Narrow,I.Format,!0);break;case"h":e=q(Q.Hours,1,-12);break;case"hh":e=q(Q.Hours,2,-12);break;case"H":e=q(Q.Hours,1);break;case"HH":e=q(Q.Hours,2);break;case"m":e=q(Q.Minutes,1);break;case"mm":e=q(Q.Minutes,2);break;case"s":e=q(Q.Seconds,1);break;case"ss":e=q(Q.Seconds,2);break;case"S":e=q(Q.FractionalSeconds,1);break;case"SS":e=q(Q.FractionalSeconds,2);break;case"SSS":e=q(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J(H.Short);break;case"ZZZZZ":e=J(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J(H.Long);break;default:return null}return tt[t]=e,e}(t);l+=e?e(a,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,a||this.locale,s)}catch(o){throw Et(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w))},t.\u0275pipe=i.Sb({name:"date",type:t,pure:!0}),t})();const Yt=/#/g;let Zt=(()=>{class t{constructor(t){this._localization=t}transform(e,n,i){if(null==e)return"";if("object"!=typeof n||null===n)throw Et(t,n);return n[ct(e,Object.keys(n),this._localization,i)].replace(Yt,e.toString())}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(rt))},t.\u0275pipe=i.Sb({name:"i18nPlural",type:t,pure:!0}),t})(),Nt=(()=>{class t{transform(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Et(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"i18nSelect",type:t,pure:!0}),t})(),Ut=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"json",type:t,pure:!1}),t})(),Bt=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=zt){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.v))},t.\u0275pipe=i.Sb({name:"keyvalue",type:t,pure:!1}),t})();function zt(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const s=String(n),a=String(i);return s==a?0:s<a?-1:1}let Vt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if($t(e))return null;i=i||this._locale;try{return function(t,e,n){return st(t,at(j(e,E.Decimal),F(e,A.MinusSign)),e,A.Group,A.Decimal,n)}(Wt(e),i,n)}catch(s){throw Et(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w))},t.\u0275pipe=i.Sb({name:"number",type:t,pure:!0}),t})(),Ht=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if($t(e))return null;i=i||this._locale;try{return function(t,e,n){return st(t,at(j(e,E.Percent),F(e,A.MinusSign)),e,A.Group,A.Decimal,n,!0).replace(new RegExp("%","g"),F(e,A.PercentSign))}(Wt(e),i,n)}catch(s){throw Et(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w))},t.\u0275pipe=i.Sb({name:"percent",type:t,pure:!0}),t})(),Qt=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,s="symbol",a,o){if($t(e))return null;o=o||this._locale,"boolean"==typeof s&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),s=s?"symbol":"code");let r=n||this._defaultCurrencyCode;"code"!==s&&(r="symbol"===s||"symbol-narrow"===s?function(t,e,n="en"){const s=function(t){return Object(i.nb)(t)[i.db.Currencies]}(n)[t]||S[t]||[],a=s[1];return"narrow"===e&&"string"==typeof a?a:s[0]||t}(r,"symbol"===s?"wide":"narrow",o):s);try{return function(t,e,n,i,s){const a=at(j(e,E.Currency),F(e,A.MinusSign));return a.minFrac=function(t){let e;const n=S[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),a.maxFrac=a.minFrac,st(t,a,e,A.CurrencyGroup,A.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(Wt(e),o,r,n,a)}catch(c){throw Et(t,c.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w),i.Tb(i.k))},t.\u0275pipe=i.Sb({name:"currency",type:t,pure:!0}),t})();function $t(t){return null==t||""===t||t!=t}function Wt(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}let Gt=(()=>{class t{transform(e,n,i){if(null==e)return e;if(!this.supports(e))throw Et(t,e);return e.slice(n,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"slice",type:t,pure:!1}),t})(),qt=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[{provide:rt,useClass:lt}]}),t})();const Xt="browser";function Jt(t){return t===Xt}let Kt=(()=>{class t{}return t.\u0275prov=Object(i.Pb)({token:t,providedIn:"root",factory:()=>new te(Object(i.dc)(c),window,Object(i.dc)(i.n))}),t})();class te{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},ozli:function(t,e,n){"use strict";var i=n("zfKp");e.subscribeToObservable=function(t){return function(e){var n=t[i.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},"p//D":function(t,e,n){"use strict";e.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),e.$$rxSubscriber=e.rxSubscriber},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7o/Q");function s(t,e){return function(n){return n.lift(new a(t,e))}}class a{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pWCv:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("FWf1"),a=n("w5QO"),o=n("pshJ");e.tap=function(t,e,n){return function(i){return i.lift(new r(t,e,n))}};var r=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))},t}(),c=function(t){function e(e,n,i,s){var r=t.call(this,e)||this;return r._tapNext=a.noop,r._tapError=a.noop,r._tapComplete=a.noop,r._tapError=i||a.noop,r._tapComplete=s||a.noop,o.isFunction(n)?(r._context=r,r._tapNext=n):n&&(r._context=n,r._tapNext=n.next||a.noop,r._tapError=n.error||a.noop,r._tapComplete=n.complete||a.noop),r}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(s.Subscriber)},poJ0:function(t,e,n){"use strict";var i=n("VKeD");e.subscribeToIterable=function(t){return function(e){for(var n=t[i.iterator]();;){var s=void 0;try{s=n.next()}catch(a){return e.error(a),e}if(s.done){e.complete();break}if(e.next(s.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},pshJ:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},q3Kh:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("FWf1");e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.project,this.thisArg))},t}();e.MapOperator=a;var o=function(t){function e(e,n,i){var s=t.call(this,e)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(s.Subscriber)},qFsG:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return h}));var i=n("ihCf"),s=n("fXoL"),a=n("8LU1"),o=n("nLfN"),r=n("FKr1"),c=n("kmnG"),l=n("XNiG"),d=n("3Pt+");let h=(()=>{class t extends i.c{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}return t.\u0275fac=function(e){return u(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[s.Bb]}),t})();const u=s.bc(h),p=new s.r("MAT_INPUT_VALUE_ACCESSOR"),f=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let m=0;class g{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const b=Object(r.C)(g);let _=(()=>{class t extends b{constructor(t,e,n,i,s,a,r,c,d){super(a,i,s,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=c,this._uid="mat-input-"+m++,this.focused=!1,this.stateChanges=new l.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Object(o.e)().has(t));const h=this._elementRef.nativeElement,u=h.nodeName.toLowerCase();this._inputValueAccessor=r||h,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(a.c)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Object(a.c)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Object(o.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Object(a.c)(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(f.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(o.a),s.Tb(d.s,10),s.Tb(d.v,8),s.Tb(d.l,8),s.Tb(r.d),s.Tb(p,10),s.Tb(i.a),s.Tb(s.B))},t.\u0275dir=s.Ob({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&s.hc("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(s.cc("disabled",e.disabled)("required",e.required),s.Fb("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),s.Jb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[s.Db([{provide:c.d,useExisting:t}]),s.Bb,s.Cb]}),t})(),v=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},providers:[r.d],imports:[[i.d,c.e],i.d,c.e]}),t})()},qQ0q:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("fXoL"),s=n("sYmb"),a=n("4zkx"),o=n("A6w4"),r=n("tyNb"),c=n("ofXK"),l=n("bTqV"),d=n("NFeN"),h=n("f0Cb");function u(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",8),i.Zb(1,"button",9),i.hc("click",(function(){return i.Hc(t),i.lc().goTo()})),i.Ub(2,"i",10),i.Sc(3,"\xa0 "),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=i.lc();i.Eb(2),i.Gb(t.headerService.sideBarButton.icon),i.Eb(3),i.Tc(t.headerService.sideBarButton.label)}}let p=(()=>{class t{constructor(t,e,n,i,s){this.translate=t,this.headerService=e,this.appService=n,this.router=i,this._location=s,this.config={},this.navButton=null}ngOnInit(){}goTo(){"__GOBACK"===this.headerService.sideBarButton.route?this._location.back():this.router.navigate([this.headerService.sideBarButton.route])}goToHome(){this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.Tb(a.a),i.Tb(o.a),i.Tb(r.c),i.Tb(c.n))},t.\u0275cmp=i.Nb({type:t,selectors:[["header-panel"]],inputs:{navButton:"navButton",snavLeft:"snavLeft"},decls:11,vars:9,consts:[[1,"panelHeader"],["class","panelHeader-backHome",4,"ngIf"],[1,"panelHeader-logo"],["mat-button","",2,"margin-right","30px",3,"title","click"],["svgIcon","maarchLogoFull",1,"maarchLogo"],[1,"panelHeader-button"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-stream",2,"transform","rotate(180deg)"],[1,"panelHeader-backHome"],["mat-button","",2,"padding-top","5px","padding-bottom","5px",3,"click"],[2,"height","auto"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Qc(1,u,6,4,"div",1),i.Zb(2,"div",2),i.Zb(3,"button",3),i.hc("click",(function(){return e.goToHome()})),i.mc(4,"translate"),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"div",5),i.Zb(7,"button",6),i.hc("click",(function(){return e.headerService.sideNavLeft.close()})),i.mc(8,"translate"),i.Ub(9,"mat-icon",7),i.Yb(),i.Yb(),i.Yb(),i.Ub(10,"mat-divider")),2&t&&(i.Eb(1),i.sc("ngIf",null!==e.headerService.sideBarButton),i.Eb(1),i.Jb("text-center",null!==e.headerService.sideBarButton),i.Eb(1),i.tc("title",i.nc(4,5,"lang.home")),i.Eb(4),i.tc("title",i.nc(8,7,"lang.closeSidePanel")))},directives:[c.t,l.b,d.a,h.a],pipes:[s.d],styles:[".panelHeader[_ngcontent-%COMP%]{display:flex;align-items:center}.panelHeader-logo[_ngcontent-%COMP%]{flex:1}.panelHeader-button[_ngcontent-%COMP%]{display:flex;align-items:center}.panelHeader-button[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{font-size:25px;color:#666}.panelHeader-backHome[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:auto;color:#666;background:#d8d8d8;padding:10px;border-radius:20px;font-size:18px}.panelHeader-backHome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#666}.maarchLogo[_ngcontent-%COMP%]{height:80px;width:auto;padding:20px}"]}),t})()},qSQ4:function(t,e,n){"use strict";n.d(e,"a",(function(){return it}));var i=n("fXoL"),s=n("vkgz"),a=n("nYR2"),o=n("JIr8"),r=n("pLZG"),c=n("XqQ8"),l=n("LRne"),d=n("R0Ic"),h=n("zkFj"),u=n("V5D/"),p=n("2c88"),f=n("/de/"),m=n("sYmb"),g=n("tk/3"),b=n("AXEc"),_=n("0IaG"),v=n("A6w4"),y=n("4zkx"),x=n("eiH7"),w=n("ofXK"),C=n("Xa2L"),O=n("bTqV"),k=n("NFeN"),S=n("jaxi"),E=n("Wp6s"),M=n("STbY"),I=n("bSwM"),P=n("3Pt+"),T=n("f0Cb"),A=n("8N1J"),D=n("1YbM"),R=n("wQTr"),L=n("aEDk"),F=n("ZI/H");function j(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner"),i.Yb(),i.Wb())}function Y(t,e){1&t&&(i.Zb(0,"div",9),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAttachment")," "))}function Z(t,e){if(1&t&&(i.Zb(0,"mat-button-toggle",11),i.Sc(1),i.Yb()),2&t){const t=e.$implicit,n=i.lc(3);i.sc("checked",n.currentFilter===t.id)("value",t.id),i.Eb(1),i.Uc("",t.label," ")}}function N(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-button-toggle-group",10),i.hc("change",(function(e){return i.Hc(t),i.lc(2).filterType(e)})),i.Zb(1,"mat-button-toggle",11),i.Sc(2,"Tous"),i.Yb(),i.Qc(3,Z,2,3,"mat-button-toggle",12),i.mc(4,"sortBy"),i.Yb()}if(2&t){const t=i.lc(2);i.Eb(1),i.sc("checked",""===t.currentFilter)("value",""),i.Eb(2),i.sc("ngForOf",i.oc(4,3,t.filterAttachTypes,"label"))}}function U(t,e){if(1&t){const t=i.ac();i.Zb(0,"button",34),i.hc("click",(function(e){i.Hc(t);const n=i.lc(2).$implicit,s=i.lc(2);return e.stopPropagation(),s.deleteAttachment(n)})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){const t=i.lc(2).$implicit;i.sc("disabled",!t.canDelete),i.Eb(1),i.Tc(i.nc(2,2,"lang.deleteResource"))}}function B(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",31),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).showAttachment(e)})),i.Zb(1,"button",32),i.hc("click",(function(e){i.Hc(t);const n=i.lc().$implicit,s=i.lc(2);return e.stopPropagation(),s.showAttachment(n)})),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Qc(4,U,3,4,"button",33),i.Yb()}if(2&t){const t=i.lc().$implicit,e=i.lc(2);i.sc("@myAnimation",void 0),i.Eb(2),i.Tc(i.nc(3,3,"lang.viewResource")),i.Eb(2),i.sc("ngIf","SIGN"!==t.status&&"FRZ"!==t.status&&e.canModify)}}function z(t,e){if(1&t&&(i.Zb(0,"span",35),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b",36),i.Sc(4),i.Yb(),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc("",i.nc(2,2,"lang.version")," "),i.Eb(3),i.Tc(t.relation)}}function V(t,e){if(1&t){const t=i.ac();i.Xb(0),i.Ub(1,"mat-divider"),i.Zb(2,"button",37),i.hc("click",(function(){i.Hc(t);const e=i.lc().$implicit;return i.lc(2).openMaarchParapheurWorkflow(e)})),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Wb()}2&t&&(i.Eb(3),i.Uc(" ",i.nc(4,1,"lang.externalVisaWorkflow")," "))}function H(t,e){1&t&&(i.Ub(0,"i",38),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.inSignatureBook"))}function Q(t,e){1&t&&(i.Ub(0,"i",39),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.inShipping"))}function $(t,e){if(1&t&&(i.Zb(0,"div",40),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.chrono,"\xa0 ")}}function W(t,e){if(1&t&&(i.Zb(0,"div",40),i.Sc(1),i.mc(2,"shorten"),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",i.pc(2,1,t.title,40,"...")," ")}}function G(t,e){if(1&t&&(i.Zb(0,"div",41),i.Sc(1),i.Yb()),2&t){const t=i.lc().$implicit;i.Eb(1),i.Uc(" ",t.typeLabel," ")}}function q(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Sc(6),i.mc(7,"lowercase"),i.mc(8,"translate"),i.Zb(9,"b"),i.Sc(10),i.Yb(),i.Wb()),2&t){const t=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",i.nc(2,4,"lang.signedAlt")," "),i.Eb(3),i.Tc(i.oc(5,6,t.signDate,"full")),i.Eb(2),i.Uc(" ",i.nc(7,9,i.nc(8,11,"lang.by"))," "),i.Eb(4),i.Tc(t.signatory)}}function X(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Sc(6),i.mc(7,"lowercase"),i.mc(8,"translate"),i.Zb(9,"b"),i.Sc(10),i.Yb(),i.Wb()),2&t){const t=i.lc(3).$implicit;i.Eb(1),i.Uc(" ",i.nc(2,4,"lang.modified")," "),i.Eb(3),i.Tc(i.oc(5,6,t.modificationDate,"full")),i.Eb(2),i.Uc(" ",i.nc(7,9,i.nc(8,11,"lang.by"))," "),i.Eb(4),i.Tc(t.modifiedBy)}}function J(t,e){if(1&t&&(i.Sc(0),i.mc(1,"translate"),i.Zb(2,"b"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Sc(5),i.mc(6,"lowercase"),i.mc(7,"translate"),i.Zb(8,"b"),i.Sc(9),i.Yb()),2&t){const t=i.lc(3).$implicit;i.Uc(" ",i.nc(1,4,"lang.created")," "),i.Eb(3),i.Tc(i.oc(4,6,t.creationDate,"full")),i.Eb(2),i.Uc(" ",i.nc(6,9,i.nc(7,11,"lang.by"))," "),i.Eb(4),i.Tc(t.typistLabel)}}function K(t,e){if(1&t&&(i.Qc(0,X,11,13,"ng-container",0),i.Qc(1,J,10,13,"ng-template",null,43,i.Rc)),2&t){const t=i.Dc(2),e=i.lc(2).$implicit;i.sc("ngIf",null!==e.modificationDate)("ngIfElse",t)}}function tt(t,e){if(1&t&&(i.Zb(0,"div",41),i.Qc(1,q,11,13,"ng-container",0),i.Qc(2,K,3,2,"ng-template",null,42,i.Rc),i.Yb()),2&t){const t=i.Dc(3),e=i.lc().$implicit;i.Eb(1),i.sc("ngIf",void 0!==e.signDate)("ngIfElse",t)}}function et(t,e){if(1&t){const t=i.ac();i.Zb(0,"mat-card",13),i.hc("mouseover",(function(n){i.Hc(t);const s=e.$implicit,a=i.lc(2);return n.stopPropagation(),a.toggleInfo(s,!0)})),i.mc(1,"async"),i.mc(2,"secureUrl"),i.Qc(3,B,5,5,"div",14),i.Zb(4,"div",15),i.Qc(5,z,5,4,"span",16),i.Zb(6,"button",17),i.Ub(7,"mat-icon",18),i.Yb(),i.Zb(8,"mat-menu",null,19),i.Zb(10,"button",20),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).setInSignatureBook(n)})),i.Zb(11,"mat-checkbox",21),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.inSignatureBook=n})),i.Yb(),i.Sc(12),i.mc(13,"translate"),i.Yb(),i.Zb(14,"button",20),i.hc("click",(function(){i.Hc(t);const n=e.$implicit;return i.lc(2).setInSendAttachment(n)})),i.Zb(15,"mat-checkbox",22),i.hc("ngModelChange",(function(n){return i.Hc(t),e.$implicit.inSendAttach=n})),i.Yb(),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Qc(18,V,5,3,"ng-container",23),i.Yb(),i.Yb(),i.Zb(19,"div",24),i.Zb(20,"div",25),i.Qc(21,H,2,3,"i",26),i.Sc(22,"\xa0 "),i.Qc(23,Q,2,3,"i",27),i.Yb(),i.Qc(24,$,2,1,"div",28),i.Qc(25,W,3,5,"div",28),i.Qc(26,G,2,1,"div",29),i.Qc(27,tt,4,2,"div",29),i.Zb(28,"div",30),i.Sc(29),i.mc(30,"translate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){const t=e.$implicit,n=i.Dc(9),s=i.lc(2);i.Pc("background-image","url("+i.nc(1,22,i.nc(2,24,t.thumbnailUrl))+")",i.Mb),i.Jb("signed","SIGN"===t.status),i.Eb(3),i.sc("ngIf",t.hideMainInfo),i.Eb(2),i.sc("ngIf",t.relation>1),i.Eb(1),i.sc("matMenuTriggerFor",n),i.Eb(4),i.sc("disabled","FRZ"===t.status),i.Eb(1),i.sc("ngModel",t.inSignatureBook),i.Eb(1),i.Uc(" ",i.nc(13,26,"lang.putInSignatureBook")," "),i.Eb(2),i.sc("disabled",!s.mailevaEnabled),i.Eb(1),i.sc("ngModel",t.inSendAttach)("disabled",!s.mailevaEnabled),i.Eb(1),i.Uc(" ",i.nc(17,28,"lang.putInSendAttach")," "),i.Eb(2),i.sc("ngIf",s.maarchParapheurEnabled&&"FRZ"===t.status),i.Eb(3),i.sc("ngIf",t.inSignatureBook),i.Eb(2),i.sc("ngIf",t.inSendAttach),i.Eb(1),i.sc("ngIf",!t.hideMainInfo),i.Eb(1),i.sc("ngIf",t.hideMainInfo),i.Eb(1),i.sc("ngIf",!t.hideMainInfo),i.Eb(1),i.sc("ngIf",t.hideMainInfo),i.Eb(2),i.Uc(" ",i.nc(30,30,"lang.attachment_"+t.status)," ")}}function nt(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",3),i.hc("mouseover",(function(){return i.Hc(t),i.lc().resetToggleInfo()})),i.Qc(1,Y,3,3,"div",4),i.Qc(2,N,5,6,"mat-button-toggle-group",5),i.Qc(3,et,31,32,"mat-card",6),i.mc(4,"filterList"),i.Yb(),i.Zb(5,"button",7),i.hc("click",(function(){return i.Hc(t),i.lc().createAttachment()})),i.Ub(6,"mat-icon",8),i.Yb()}if(2&t){const t=i.lc();i.Eb(1),i.sc("ngIf",0==t.attachments.length),i.Eb(1),i.sc("ngIf",t.attachments.length>0),i.Eb(1),i.sc("ngForOf",i.pc(4,8,t.attachments,t.currentFilter,"type")),i.Eb(2),i.Jb("addPjPanel","panel"===t.target)("addPjProcess","process"===t.target),i.sc("title",t.translate.instant("lang.addAttachment"))}}let it=(()=>{class t{constructor(t,e,n,s,a,o,r){this.translate=t,this.http=e,this.notify=n,this.dialog=s,this.appService=a,this.headerService=o,this.privilegeService=r,this.loading=!0,this.pos=0,this.mailevaEnabled=!1,this.maarchParapheurEnabled=!1,this.hideMainInfo=!1,this.filterAttachTypes=[],this.currentFilter="",this.resId=null,this.target="panel",this.autoOpenCreation=!1,this.canModify=!1,this.reloadBadgeAttachments=new i.o,this.afterActionAttachment=new i.o}ngOnInit(){this.autoOpenCreation&&this.createAttachment(),this.checkMaarchParapheurEnabled(),null!==this.resId&&this.http.get(`../rest/resources/${this.resId}/attachments`).pipe(Object(s.a)(t=>{this.mailevaEnabled=t.mailevaEnabled,this.attachments=t.attachments,this.attachments.forEach(t=>{0===this.filterAttachTypes.filter(e=>e.id===t.type).length&&this.filterAttachTypes.push({id:t.type,label:t.typeLabel}),t.thumbnailUrl="../rest/attachments/"+t.resId+"/thumbnail",t.canDelete=this.privilegeService.hasCurrentUserPrivilege("manage_attachments")||this.headerService.user.id===t.typist})}),Object(a.a)(()=>this.loading=!1),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}checkMaarchParapheurEnabled(){this.http.get("../rest/externalSignatureBooks/enabled").subscribe(t=>{"maarchParapheur"===t.enabledSignatureBook&&(this.maarchParapheurEnabled=!0)},t=>{this.notify.error(t.error.errors)})}loadAttachments(t){let e=+new Date;this.resId=t,this.loading=!0,this.filterAttachTypes=[],this.http.get("../rest/resources/"+this.resId+"/attachments").subscribe(t=>{this.mailevaEnabled=t.mailevaEnabled,this.attachments=t.attachments,this.attachments.forEach(t=>{0===this.filterAttachTypes.filter(e=>e.id===t.type).length&&this.filterAttachTypes.push({id:t.type,label:t.typeLabel}),t.thumbnailUrl="../rest/attachments/"+t.resId+"/thumbnail?tsp="+e,t.canDelete=this.privilegeService.hasCurrentUserPrivilege("manage_attachments")||this.headerService.user.id===t.typist}),0===this.attachments.filter(t=>t.type===this.currentFilter).length&&(this.currentFilter=""),this.reloadBadgeAttachments.emit(""+this.attachments.length),this.loading=!1},t=>{this.notify.error(t.error.errors)})}setInSignatureBook(t){this.http.put("../rest/attachments/"+t.resId+"/inSignatureBook",{}).subscribe(()=>{t.inSignatureBook=!t.inSignatureBook,this.afterActionAttachment.emit("setInSignatureBook"),this.notify.success(this.translate.instant("lang.actionDone"))},t=>{this.notify.error(t.error.errors)})}setInSendAttachment(t){this.http.put("../rest/attachments/"+t.resId+"/inSendAttachment",{}).subscribe(()=>{t.inSendAttach=!t.inSendAttach,this.afterActionAttachment.emit("setInSendAttachment"),this.notify.success(this.translate.instant("lang.actionDone"))},t=>{this.notify.error(t.error.errors)})}toggleInfo(t,e){this.attachments.forEach(t=>{t.hideMainInfo=!1}),t.hideMainInfo=e}resetToggleInfo(){this.attachments.forEach(t=>{t.hideMainInfo=!1})}showAttachment(t){this.dialogRef=this.dialog.open(h.a,{height:"99vh",width:this.appService.getViewMode()?"99vw":"90vw",maxWidth:this.appService.getViewMode()?"99vw":"90vw",panelClass:"attachment-modal-container",disableClose:!0,data:{resId:t.resId,editMode:this.canModify}}),this.dialogRef.afterClosed().pipe(Object(r.a)(t=>"success"===t),Object(s.a)(()=>{this.loadAttachments(this.resId)}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}createAttachment(){this.dialogRef=this.dialog.open(u.a,{disableClose:!0,panelClass:"attachment-modal-container",height:"90vh",width:this.appService.getViewMode()?"99vw":"90vw",maxWidth:this.appService.getViewMode()?"99vw":"90vw",data:{resIdMaster:this.resId}}),this.dialogRef.afterClosed().pipe(Object(r.a)(t=>"success"===t),Object(s.a)(()=>{this.loadAttachments(this.resId),this.afterActionAttachment.emit("setInSendAttachment")}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}deleteAttachment(t){this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(r.a)(t=>"ok"===t),Object(c.a)(()=>this.http.delete("../rest/attachments/"+t.resId)),Object(s.a)(()=>{this.loadAttachments(this.resId),this.afterActionAttachment.emit("setInSendAttachment"),this.notify.success(this.translate.instant("lang.attachmentDeleted"))}),Object(o.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}filterType(t){this.currentFilter=t.value}openMaarchParapheurWorkflow(t){this.dialog.open(f.a,{panelClass:"maarch-modal",data:{id:t.resId,type:"attachment"}})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(m.e),i.Tb(g.b),i.Tb(b.a),i.Tb(_.b),i.Tb(v.a),i.Tb(y.a),i.Tb(x.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-attachments-list"]],inputs:{injectDatas:"injectDatas",resId:"resId",target:"target",autoOpenCreation:"autoOpenCreation",canModify:"canModify"},outputs:{reloadBadgeAttachments:"reloadBadgeAttachments",afterActionAttachment:"afterActionAttachment"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseLoading",""],[1,"loading"],[3,"mouseover"],["style","text-align:center;font-size:24px;font-weight:bold;opacity:0.3;",4,"ngIf"],["class","filterTypes",3,"change",4,"ngIf"],["style","padding:0;margin: 30px;min-height: 300px;background-size: cover;overflow: hidden;",3,"signed","background-image","mouseover",4,"ngFor","ngForOf"],["mat-fab","","color","primary",1,"addPj",3,"title","click"],[1,"fa","fa-plus"],[2,"text-align","center","font-size","24px","font-weight","bold","opacity","0.3"],[1,"filterTypes",3,"change"],[3,"checked","value"],[3,"checked","value",4,"ngFor","ngForOf"],[2,"padding","0","margin","30px","min-height","300px","background-size","cover","overflow","hidden",3,"mouseover"],["class","layout",3,"click",4,"ngIf"],[1,"pjToolsContent"],["color","primary","class","versionButton",4,"ngIf"],["color","primary","mat-icon-button","",1,"actionsButton",3,"matMenuTriggerFor"],["fontSet","fas","fontIcon","fa-ellipsis-v"],["menuPjAction","matMenu"],["mat-menu-item","",3,"disabled","click"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[1,"infosPj"],[1,"stateInfo"],["class","fas fa-file-signature",3,"title",4,"ngIf"],["class","fa fa-shipping-fast",3,"title",4,"ngIf"],["class","mainInfos",4,"ngIf"],["class","subInfos",4,"ngIf"],[1,"statusInfo"],[1,"layout",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click"],["color","primary",1,"versionButton"],["color","secondary"],["mat-menu-item","",3,"click"],[1,"fas","fa-file-signature",3,"title"],[1,"fa","fa-shipping-fast",3,"title"],[1,"mainInfos"],[1,"subInfos"],["elseTemplate",""],["creationTemplate",""]],template:function(t,e){if(1&t&&(i.Qc(0,j,3,0,"ng-container",0),i.Qc(1,nt,7,12,"ng-template",null,1,i.Rc)),2&t){const t=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",t)}},directives:[w.t,C.c,w.s,O.b,k.a,S.b,S.a,E.a,M.d,M.e,M.b,I.a,P.t,P.w,T.a],pipes:[A.a,m.d,D.a,w.b,R.a,L.p,F.a,w.p],styles:[".mat-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 0 8px 0 rgba(0,0,0,.75)}.layout[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.layout[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:200px}.infosPj[_ngcontent-%COMP%]{background:#f9f9f9;border-top:1px solid rgba(0,0,0,.12);position:absolute;width:100%;bottom:0;padding:5px;display:flex;flex-direction:column;align-items:center}.infosPj[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.infosPj[_ngcontent-%COMP%]    .mat-form-field-label{color:#135f7f}.mainInfos[_ngcontent-%COMP%]{display:block;font-size:16px;color:#666}.subInfos[_ngcontent-%COMP%]{display:block;font-size:10px;color:#135f7f}.stateInfo[_ngcontent-%COMP%]{color:#135f7f;left:0;justify-content:left;padding-left:10px}.stateInfo[_ngcontent-%COMP%], .statusInfo[_ngcontent-%COMP%]{font-size:12px;position:absolute;height:100%;top:0;width:100px;display:flex;align-items:center;font-style:italic}.statusInfo[_ngcontent-%COMP%]{color:#666;opacity:.5;right:0;justify-content:center}.subInfosBottom[_ngcontent-%COMP%]{font-style:italic;font-size:12px;color:#666}.signed[_ngcontent-%COMP%]{border:1px solid green}.signed[_ngcontent-%COMP%]   .infosPj[_ngcontent-%COMP%]{background:green}.signed[_ngcontent-%COMP%]   .mainInfos[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .stateInfo[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .statusInfo[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .subInfos[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .subInfosBottom[_ngcontent-%COMP%]{color:#fff}.mat-icon[_ngcontent-%COMP%]{height:auto}.pjToolsContent[_ngcontent-%COMP%]{position:absolute;right:0;border-bottom:1px solid #e0e0e0;border-left:1px solid #e0e0e0;border-bottom-left-radius:5px;background:#fff}.pjToolsContent[_ngcontent-%COMP%]   .actionsButton[_ngcontent-%COMP%], .pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%], .pjToolsContent[_ngcontent-%COMP%]   .versionButton[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;font-size:10px}.pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%]:active, .pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%]:focus, .pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%]:hover{text-decoration:none}.pjToolsContent[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:0;top:-7px;font-size:10px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;top:0;left:0;width:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.filterTypes[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden;width:auto;max-width:100%;margin-left:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked{background:#f99830;color:#fff;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-label-content{line-height:0}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-button{height:100%}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button{color:#135f7f;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button .mat-button-toggle-label-content{line-height:0}.addPjProcess[_ngcontent-%COMP%]{bottom:0}.addPjPanel[_ngcontent-%COMP%], .addPjProcess[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:2;margin-left:10px}.addPjPanel[_ngcontent-%COMP%]{bottom:10px}"],data:{animation:[Object(d.n)("myAnimation",[Object(d.m)(":enter",[Object(d.l)({transform:"translateY(-10%)",opacity:0}),Object(d.e)("150ms",Object(d.l)({transform:"translateY(0)",opacity:1}))]),Object(d.m)(":leave",[Object(d.l)({transform:"translateY(0)",opacity:1}),Object(d.e)("150ms",Object(d.l)({transform:"translateY(-10%)",opacity:0}))])])]}}),t})()},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("DH7j"),s=n("XoHu"),a=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let r=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:l,_subscriptions:d}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(a.a)(l)){r&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(i.a)(d)){let t=-1,n=d.length;for(;++t<n;){const n=d[t];if(Object(s.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},rDax:function(t,e,n){"use strict";n.d(e,"a",(function(){return H})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return T})),n.d(e,"f",(function(){return $}));var i=n("vxfF"),s=n("fXoL"),a=n("nLfN"),o=n("cH1L"),r=n("ofXK"),c=n("8LU1"),l=n("+rOU"),d=n("XNiG"),h=n("quSY"),u=n("VRyK"),p=n("IzEk"),f=n("1G5W"),m=n("FtGj");class g{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(c.d)(-this._previousScrollPosition.left),t.style.top=Object(c.d)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=s}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function b(){return Error("Scroll strategy has already been attached.")}class _{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw b();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class v{enable(){}disable(){}attach(){}}function y(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function x(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class w{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw b();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();y(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let C=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new v,this.close=t=>new _(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new g(this._viewportRuler,this._document),this.reposition=t=>new w(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.f),s.dc(i.h),s.dc(s.B),s.dc(r.e))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(i.f),Object(s.dc)(i.h),Object(s.dc)(s.B),Object(s.dc)(r.e))},token:t,providedIn:"root"}),t})();class O{constructor(t){if(this.scrollStrategy=new v,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class k{constructor(t,e,n,i,s){this.offsetX=n,this.offsetY=i,this.panelClass=s,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class S{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function E(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function M(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let I=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(r.e))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(r.e))},token:t,providedIn:"root"}),t})();const P=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let T=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||P){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),P?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(s.dc(r.e),s.dc(a.a))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(r.e),Object(s.dc)(a.a))},token:t,providedIn:"root"}),t})();class A{constructor(t,e,n,i,s,a,o,r){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=s,this._keyboardDispatcher=a,this._document=o,this._location=r,this._backdropElement=null,this._backdropClick=new d.a,this._attachments=new d.a,this._detachments=new d.a,this._locationChanges=h.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new d.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Object(c.d)(this._config.width),t.height=Object(c.d)(this._config.height),t.minWidth=Object(c.d)(this._config.minWidth),t.minHeight=Object(c.d)(this._config.minHeight),t.maxWidth=Object(c.d)(this._config.maxWidth),t.maxHeight=Object(c.d)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Object(c.b)(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Object(f.a)(Object(u.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const D=/([A-Za-z%]+)$/;class R{constructor(t,e,n,i,s){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new d.a,this._resizeSubscription=h.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let s;for(let a of this._preferredPositions){let o=this._getOriginPoint(t,a),r=this._getOverlayPoint(o,e,a),c=this._getOverlayFit(r,e,n,a);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,o);this._canFitWithFlexibleDimensions(c,r,n)?i.push({position:a,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,a)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:r,originPoint:o,position:a,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&L(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;n="start"==e.originX?i:s}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,s;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,n,i){let{x:s,y:a}=t,o=this._getOffset(i,"x"),r=this._getOffset(i,"y");o&&(s+=o),r&&(a+=r);let c=0-a,l=a+e.height-n.height,d=this._subtractOverflows(e.width,0-s,s+e.width-n.width),h=this._subtractOverflows(e.height,c,l),u=d*h;return{visibleArea:u,isCompletelyWithinViewport:e.width*e.height===u,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:d==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,s=n.right-e.x,a=F(this._overlayRef.getConfig().minHeight),o=F(this._overlayRef.getConfig().minWidth),r=t.fitsInViewportHorizontally||null!=o&&o<=s;return(t.fitsInViewportVertically||null!=a&&a<=i)&&r}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,s=Math.max(t.x+e.width-i.right,0),a=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),r=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=i.width?r||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=e.height<=i.height?o||-a:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new S(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let s,a,o,r,c,l;if("top"===e.overlayY)a=t.y,s=n.height-a+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,s=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;s=2*e,a=t.y-e,s>i&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,r=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,r=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;r=2*e,c=t.x-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:a,left:c,bottom:o,right:l,width:r,height:s}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Object(c.d)(n.height),i.top=Object(c.d)(n.top),i.bottom=Object(c.d)(n.bottom),i.width=Object(c.d)(n.width),i.left=Object(c.d)(n.left),i.right=Object(c.d)(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Object(c.d)(t)),s&&(i.maxWidth=Object(c.d)(s))}this._lastBoundingBoxSize=n,L(this._boundingBox.style,i)}_resetBoundingBoxStyles(){L(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){L(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();L(n,this._getExactOverlayY(e,t,i)),L(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",r=this._getOffset(e,"x"),l=this._getOffset(e,"y");r&&(o+=`translateX(${r}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),a.maxHeight&&(i?n.maxHeight=Object(c.d)(a.maxHeight):s&&(n.maxHeight="")),a.maxWidth&&(i?n.maxWidth=Object(c.d)(a.maxWidth):s&&(n.maxWidth="")),L(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=a,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Object(c.d)(s.y),i}_getExactOverlayX(t,e,n){let i,s={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?s.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":s.left=Object(c.d)(a.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:x(t,n),isOriginOutsideView:y(t,n),isOverlayClipped:x(e,n),isOverlayOutsideView:y(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{M("originX",t.originX),E("originY",t.originY),M("overlayX",t.overlayX),E("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Object(c.b)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function L(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function F(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(D);return n&&"px"!==n?null:parseFloat(e)}return t||null}class j{constructor(t,e,n,i,s,a,o){this._preferredPositions=[],this._positionStrategy=new R(n,i,s,a,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const s=new k(t,e,n,i);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Y{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:a,maxHeight:o}=n,r=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==s&&"100vh"!==s||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=r?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,r?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Z=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Y}connectedTo(t,e,n){return new j(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new R(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.h),s.dc(r.e),s.dc(a.a),s.dc(T))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(i.h),Object(s.dc)(r.e),Object(s.dc)(a.a),Object(s.dc)(T))},token:t,providedIn:"root"}),t})(),N=0,U=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=s,this._injector=a,this._ngZone=o,this._document=r,this._directionality=c,this._location=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),s=new O(t);return s.direction=s.direction||this._directionality.value,new A(i,e,n,s,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+N++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(s.g)),new l.f(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(C),s.dc(T),s.dc(s.j),s.dc(Z),s.dc(I),s.dc(s.s),s.dc(s.B),s.dc(r.e),s.dc(o.c),s.dc(r.n,8))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();const B=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],z=new s.r("cdk-connected-overlay-scroll-strategy");let V=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),H=(()=>{class t{constructor(t,e,n,i,a){this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new s.o,this.positionChange=new s.o,this.attach=new s.o,this.detach=new s.o,this.overlayKeydown=new s.o,this._templatePortal=new l.j(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(c.c)(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Object(c.c)(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Object(c.c)(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Object(c.c)(t)}get push(){return this._push}set push(t){this._push=Object(c.c)(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=B),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode!==m.h||Object(m.v)(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new O({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(U),s.Tb(s.O),s.Tb(s.R),s.Tb(z),s.Tb(o.c,8))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[s.Cb]}),t})();const Q={provide:z,deps:[U],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let $=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},providers:[U,Q],imports:[[o.a,l.i,i.g],i.g]}),t})()},"rH+9":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),s=n("sYmb"),a=n("uqn4"),o=n("4zkx"),r=n("aEDk");let c=(()=>{class t{constructor(t,e,n,i){this.translate=t,this.authService=e,this.headerService=n,this.latinisePipe=i}empty(t){return null==t||(Array.isArray(t)?!(t.length>0):""===String(t))}formatFrenchDateToTechnicalDate(t){if(this.empty(t))return t;{let e=t.split("-");return e=e.concat(e[e.length-1].split(" ")),e.splice(2,1),this.empty(e[3])&&(e[3]="00:00:00"),`${e[2]}-${e[1]}-${e[0]} ${e[3]}`}}formatFrenchDateToObjectDate(t,e="-"){if(this.empty(t))return t;{let n=t.split(e);return n=n.concat(n[n.length-1].split(" ")),n.splice(2,1),this.empty(n[3])&&(n[3]="00:00:00"),new Date(`${n[2]}-${n[1]}-${n[0]} ${n[3]}`)}}formatDateObjectToDateString(t,e=!1,n="dd-mm-yyyy"){if(null!==t){let i=[];n.split("-").forEach(e=>{if("dd"===e){let e=t.getDate();e=("00"+e).slice(-2),i.push(e)}else if("mm"===e){let e=t.getMonth()+1;e=("00"+e).slice(-2),i.push(e)}else if("yyyy"===e){let e=t.getFullYear();i.push(e)}});let s="";return e&&(s=" 23:59:59"),`${i.join("-")}${s}`}return t}listSortingDataAccessor(t,e){return"string"==typeof t[e]?t[e].toLowerCase():t[e]}filterUnSensitive(t,e,n){let i=!1;return e=this.latinisePipe.transform(e),n.forEach(n=>{let s=t[n];"string"!=typeof t[n]&&(s=void 0===s?"":JSON.stringify(s)),i=i||this.latinisePipe.transform(s.toLowerCase()).includes(e)}),i}debug(t,e){let n={route:e,session:"No user logged !",refreshSession:"No user logged !",user:"No user logged !"};null!=this.authService.getToken()&&(n={route:e,session:{id:this.authService.getAppSession(),expireIn:new Date(1e3*JSON.parse(atob(this.authService.getToken().split(".")[1])).exp)},refreshSession:{id:this.authService.getAppSession(),expireIn:new Date(1e3*JSON.parse(atob(this.authService.getRefreshToken().split(".")[1])).exp)},user:this.headerService.user}),""!==t?console.log(t,n):console.log(n)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(s.e),i.dc(a.a),i.dc(o.a),i.dc(r.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},rNzc:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("wjEo");e.catchError=function(t){return function(e){var n=new a(t),i=e.lift(n);return n.caught=i}};var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.selector,this.caught))},t}(),o=function(t){function e(e,n,i){var s=t.call(this,e)||this;return s.selector=n,s.caught=i,s}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var i=new s.SimpleInnerSubscriber(this);this.add(i);var a=s.innerSubscribe(n,i);a!==i&&this.add(a)}},e}(s.SimpleOuterSubscriber)},sTim:function(t,e,n){"use strict";n.d(e,"a",(function(){return Q}));var i=n("1YbM"),s=n("5+WD"),a=n("fXoL"),o=n("sYmb"),r=n("tk/3"),c=n("0IaG"),l=n("A6w4"),d=n("ofXK"),h=n("kmnG"),u=n("qFsG"),p=n("d3UM"),f=n("FKr1"),m=n("iadO"),g=n("QibW"),b=n("MutI"),_=n("A5z7");function v(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-form-field",13),a.Ub(2,"textarea",14),a.Yb(),a.Wb()),2&t){const t=a.lc().$implicit,e=a.lc(2);a.Eb(2),a.sc("placeholder",e.translate.instant("lang."+t.type+"Input"))}}function y(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-form-field",13),a.Ub(2,"input",15),a.Yb(),a.Wb()),2&t){const t=a.lc().$implicit,e=a.lc(2);a.Eb(2),a.sc("placeholder",e.translate.instant("lang."+t.type+"Input"))}}function x(t,e){if(1&t&&(a.Zb(0,"mat-option",18),a.Sc(1),a.Yb()),2&t){const t=e.$implicit;a.sc("value",t),a.Eb(1),a.Uc(" ",t," ")}}function w(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-form-field",13),a.Zb(2,"mat-select",16),a.Qc(3,x,2,2,"mat-option",17),a.Yb(),a.Yb(),a.Wb()),2&t){const t=a.lc().$implicit,e=a.lc(2);a.Eb(2),a.sc("placeholder",e.translate.instant("lang."+t.type+"Input")),a.Eb(1),a.sc("ngForOf",t.values)}}function C(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Zb(1,"mat-form-field",13),a.Zb(2,"input",19),a.hc("click",(function(){return a.Hc(t),a.Dc(5).open()})),a.Yb(),a.Ub(3,"mat-datepicker-toggle",20),a.Ub(4,"mat-datepicker",null,21),a.Yb(),a.Wb()}if(2&t){const t=a.Dc(5),e=a.lc().$implicit,n=a.lc(2);a.Eb(2),a.sc("matDatepicker",t)("placeholder",n.translate.instant("lang."+e.type+"Input")),a.Eb(1),a.sc("for",t)}}function O(t,e){if(1&t&&(a.Zb(0,"mat-radio-button",18),a.Sc(1),a.Yb()),2&t){const t=e.$implicit;a.sc("value",t.id),a.Eb(1),a.Uc(" ",t.label," ")}}function k(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-radio-group",22),a.Qc(2,O,2,2,"mat-radio-button",17),a.Yb(),a.Wb()),2&t){const t=a.lc().$implicit;a.Eb(2),a.sc("ngForOf",t.values)}}function S(t,e){if(1&t&&(a.Zb(0,"mat-list-option",29),a.Sc(1),a.Yb()),2&t){const t=e.$implicit;a.sc("value",t.id),a.Eb(1),a.Uc(" ",t.label," ")}}function E(t,e){1&t&&(a.Zb(0,"mat-chip",30),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.selectedValue")," "))}function M(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"div",23),a.Zb(2,"mat-selection-list",24,25),a.Qc(4,S,2,2,"mat-list-option",26),a.Yb(),a.Yb(),a.Zb(5,"mat-chip-list",27),a.Qc(6,E,3,3,"mat-chip",28),a.Yb(),a.Wb()),2&t){const t=a.Dc(3),e=a.lc().$implicit;a.Eb(4),a.sc("ngForOf",e.values),a.Eb(2),a.sc("ngForOf",t.selectedOptions.selected)}}const I=function(){return["string","autocomplete","banAutocomplete"]};function P(t,e){if(1&t&&(a.Zb(0,"div",4),a.Zb(1,"div",5),a.Ub(2,"i",6),a.Yb(),a.Zb(3,"div",7),a.Zb(4,"div",8),a.Sc(5),a.Yb(),a.Zb(6,"div",9),a.Qc(7,v,3,1,"ng-container",10),a.Qc(8,y,3,1,"ng-container",10),a.Qc(9,w,4,2,"ng-container",10),a.Qc(10,C,6,3,"ng-container",10),a.Qc(11,k,3,1,"ng-container",10),a.Qc(12,M,7,2,"ng-container",10),a.Yb(),a.Zb(13,"div",11),a.Ub(14,"i",12),a.Yb(),a.Yb(),a.Yb()),2&t){const t=e.$implicit;a.sc("cdkDragData",t),a.Eb(4),a.sc("id",t.identifier),a.Eb(1),a.Uc(" ",t.label," "),a.Eb(1),a.Jb("advancedInput","checkbox"===t.type),a.Eb(1),a.sc("ngIf",a.yc(13,I).indexOf(t.type)>-1),a.Eb(1),a.sc("ngIf","integer"===t.type),a.Eb(1),a.sc("ngIf","select"===t.type),a.Eb(1),a.sc("ngIf","date"===t.type),a.Eb(1),a.sc("ngIf","radio"===t.type),a.Eb(1),a.sc("ngIf","checkbox"===t.type),a.Eb(2),a.Jb("noMandatory",!t.mandatory)}}const T=function(){return["indexingModelsCustomFieldsList_mail","indexingModelsCustomFieldsList_contact","indexingModelsCustomFieldsList_process","indexingModelsCustomFieldsList_classifying"]};function A(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",2),a.hc("cdkDropListDropped",(function(e){return a.Hc(t),a.lc().drop(e)})),a.Qc(1,P,15,14,"div",3),a.mc(2,"sortBy"),a.Yb()}if(2&t){const t=a.lc();a.sc("cdkDropListConnectedTo",a.yc(6,T))("cdkDropListData",t.dataCustomFields),a.Eb(1),a.sc("ngForOf",a.oc(2,3,t.dataCustomFields,"label"))}}function D(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-form-field",13),a.Ub(2,"textarea",14),a.Yb(),a.Wb()),2&t){const t=a.lc(2).$implicit,e=a.lc(2);a.Eb(2),a.sc("placeholder",e.translate.instant("lang."+t.type+"Input"))}}function R(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-form-field",13),a.Ub(2,"input",15),a.Yb(),a.Wb()),2&t){const t=a.lc(2).$implicit,e=a.lc(2);a.Eb(2),a.sc("placeholder",e.translate.instant("lang."+t.type+"Input"))}}function L(t,e){if(1&t&&(a.Zb(0,"mat-option",18),a.Sc(1),a.Yb()),2&t){const t=e.$implicit;a.sc("value",t),a.Eb(1),a.Uc(" ",t," ")}}function F(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-form-field",13),a.Zb(2,"mat-select",16),a.Qc(3,L,2,2,"mat-option",17),a.Yb(),a.Yb(),a.Wb()),2&t){const t=a.lc(2).$implicit,e=a.lc(2);a.Eb(2),a.sc("placeholder",e.translate.instant("lang."+t.type+"Input")),a.Eb(1),a.sc("ngForOf",t.values)}}function j(t,e){if(1&t){const t=a.ac();a.Xb(0),a.Zb(1,"mat-form-field",13),a.Zb(2,"input",19),a.hc("click",(function(){return a.Hc(t),a.Dc(5).open()})),a.Yb(),a.Ub(3,"mat-datepicker-toggle",20),a.Ub(4,"mat-datepicker",null,21),a.Yb(),a.Wb()}if(2&t){const t=a.Dc(5),e=a.lc(2).$implicit,n=a.lc(2);a.Eb(2),a.sc("matDatepicker",t)("placeholder",n.translate.instant("lang."+e.type+"Input")),a.Eb(1),a.sc("for",t)}}function Y(t,e){if(1&t&&(a.Zb(0,"mat-radio-button",18),a.Sc(1),a.Yb()),2&t){const t=e.$implicit;a.sc("value",t.id),a.Eb(1),a.Uc(" ",t.label," ")}}function Z(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-radio-group",22),a.Qc(2,Y,2,2,"mat-radio-button",17),a.Yb(),a.Wb()),2&t){const t=a.lc(2).$implicit;a.Eb(2),a.sc("ngForOf",t.values)}}function N(t,e){if(1&t&&(a.Zb(0,"mat-list-option",29),a.Sc(1),a.Yb()),2&t){const t=e.$implicit;a.sc("value",t.id),a.Eb(1),a.Uc(" ",t.label," ")}}function U(t,e){1&t&&(a.Zb(0,"mat-chip",30),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.selectedValue")," "))}function B(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"div",23),a.Zb(2,"mat-selection-list",24,38),a.Qc(4,N,2,2,"mat-list-option",26),a.Yb(),a.Yb(),a.Zb(5,"mat-chip-list",27),a.Qc(6,U,3,3,"mat-chip",28),a.Yb(),a.Wb()),2&t){const t=a.Dc(3),e=a.lc(2).$implicit;a.Eb(4),a.sc("ngForOf",e.values),a.Eb(2),a.sc("ngForOf",t.selectedOptions.selected)}}function z(t,e){if(1&t&&(a.Zb(0,"div",35),a.Zb(1,"div",36),a.Ub(2,"i",37),a.Yb(),a.Zb(3,"div",7),a.Zb(4,"div",8),a.Sc(5),a.Yb(),a.Zb(6,"div",9),a.Qc(7,D,3,1,"ng-container",10),a.Qc(8,R,3,1,"ng-container",10),a.Qc(9,F,4,2,"ng-container",10),a.Qc(10,j,6,3,"ng-container",10),a.Qc(11,Z,3,1,"ng-container",10),a.Qc(12,B,7,2,"ng-container",10),a.Yb(),a.Zb(13,"div",11),a.Ub(14,"i",12),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.lc().$implicit;a.Eb(4),a.sc("id",t.identifier),a.Eb(1),a.Uc(" ",t.label," "),a.Eb(2),a.sc("ngIf","string"===t.type||"autocomplete"===t.type),a.Eb(1),a.sc("ngIf","integer"===t.type),a.Eb(1),a.sc("ngIf","select"===t.type),a.Eb(1),a.sc("ngIf","date"===t.type),a.Eb(1),a.sc("ngIf","radio"===t.type),a.Eb(1),a.sc("ngIf","checkbox"===t.type),a.Eb(2),a.Jb("noMandatory",!t.mandatory)}}function V(t,e){if(1&t&&(a.Zb(0,"div",33),a.Qc(1,z,15,10,"div",34),a.Yb()),2&t){const t=e.$implicit;a.sc("cdkDragData",t),a.Eb(1),a.sc("ngIf",-1===t.identifier.indexOf("registeredMail_"))}}function H(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",31),a.hc("cdkDropListDropped",(function(e){return a.Hc(t),a.lc().drop(e)})),a.Qc(1,V,2,2,"div",32),a.mc(2,"sortBy"),a.Yb()}if(2&t){const t=a.lc();a.sc("cdkDropListConnectedTo",a.yc(6,T))("cdkDropListData",t.dataFields),a.Eb(1),a.sc("ngForOf",a.oc(2,3,t.dataFields,"label"))}}let Q=(()=>{class t{constructor(t,e,n,i){this.translate=t,this.http=e,this.dialog=n,this.appService=i,this.loading=!1}ngOnInit(){}drop(t){t.item.data.unit=t.container.id.split("_")[1],t.previousContainer===t.container?Object(s.h)(t.container.data,t.previousIndex,t.currentIndex):Object(s.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(o.e),a.Tb(r.b),a.Tb(c.b),a.Tb(l.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-field-list"]],inputs:{dataCustomFields:"dataCustomFields",dataFields:"dataFields"},features:[a.Db([i.a])],decls:2,vars:2,consts:[["class","content","cdkDropList","","id","customFieldsList",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped",4,"ngIf"],["class","content","cdkDropList","","id","fieldsList",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","customFieldsList",1,"content",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["class","customFieldRow","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",1,"customFieldRow",3,"cdkDragData"],[1,"customFieldDrag"],["color","primary","cdkDragHandle","",1,"fas","fa-arrows-alt","fa-2x"],[2,"flex","1","display","flex"],[1,"fieldLabel",3,"id"],[1,"fieldInput"],[4,"ngIf"],[1,"fieldState"],[1,"fas","fa-asterisk"],["floatLabel","never",1,"input-form"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","1","cdkAutosizeMaxRows","6","disabled","",3,"placeholder"],["type","number","matInput","","disabled","",3,"placeholder"],["disabled","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","disabled","",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["color","primary","disabled","",1,"radio-form"],[1,"input-form","checkbox-form"],["disabled","",1,"div-list"],["checkboxCustomElement",""],["checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],[1,"checkbox-selected-list"],["selected","",4,"ngFor","ngForOf"],["checkboxPosition","before",3,"value"],["selected",""],["cdkDropList","","id","fieldsList",1,"content",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragData"],["class","customFieldRow",4,"ngIf"],[1,"customFieldRow"],["cdkDragHandle","",1,"customFieldDrag"],["color","primary",1,"fas","fa-arrows-alt","fa-2x"],["checkboxElement",""]],template:function(t,e){1&t&&(a.Qc(0,A,3,7,"div",0),a.Qc(1,H,3,7,"div",1)),2&t&&(a.sc("ngIf",void 0!==e.dataCustomFields),a.Eb(1),a.sc("ngIf",void 0!==e.dataFields))},directives:[d.t,s.e,d.s,s.a,s.b,h.c,u.b,u.d,p.a,f.o,m.f,m.h,h.j,m.d,g.b,g.a,b.i,_.d,b.f,_.a],pipes:[i.a,o.d],styles:["div[id^=registeredMail_][_ngcontent-%COMP%]{color:orange}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},sYmb:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return F})),n.d(e,"d",(function(){return L})),n.d(e,"e",(function(){return D}));var i=n("fXoL"),s=n("LRne"),a=n("7+OI"),o=n("cp0P"),r=n("GyhO"),c=n("NXyV"),l=n("IzEk"),d=n("UXun"),h=n("lJxs"),u=n("bOdf"),p=n("eIep");class f{}let m=(()=>{class t extends f{getTranslation(t){return Object(s.a)({})}}return t.\u0275fac=function(e){return g(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const g=i.bc(m);class b{}let _=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();function v(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,s,a=typeof t;if(a==typeof e&&"object"==a){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in s=Object.create(null),t){if(!v(t[i],e[i]))return!1;s[i]=!0}for(i in e)if(!(i in s)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!v(t[i],e[i]))return!1;return!0}}return!1}function y(t){return null!=t}function x(t){return t&&"object"==typeof t&&!Array.isArray(t)}class w{}let C=(()=>{class t extends w{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!y(t)||!y(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return y(i)?i:t}):t}}return t.\u0275fac=function(e){return O(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const O=i.bc(C);class k{}let S=(()=>{class t extends k{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return E(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const E=i.bc(S);class M{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.o,this.onLangChange=new i.o,this.onDefaultLangChange=new i.o}}const I=new i.r("USE_STORE"),P=new i.r("USE_DEFAULT_LANG"),T=new i.r("DEFAULT_LANGUAGE"),A=new i.r("USE_EXTEND");let D=(()=>{class t{constructor(t,e,n,s,a,o=!0,r=!1,c=!1,l){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=o,this.isolate=r,this.extend=c,this.pending=!1,this._onTranslationChange=new i.o,this._onLangChange=new i.o,this._onDefaultLangChange=new i.o,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Object(l.a)(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Object(s.a)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Object(l.a)(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Object(s.a)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(Object(d.a)(1),Object(l.a)(1));return this.loadingTranslations=e.pipe(Object(h.a)(e=>this.compiler.compileTranslations(e,t)),Object(d.a)(1),Object(l.a)(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){let i=Object.assign({},e);return x(e)&&x(n)&&Object.keys(n).forEach(s=>{x(n[s])?s in e?i[s]=t(e[s],n[s]):Object.assign(i,{[s]:n[s]}):Object.assign(i,{[s]:n[s]})}),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},r=!1;for(let s of e)i[s]=this.getParsedResult(t,s,n),Object(a.a)(i[s])&&(r=!0);if(r){const t=e.map(t=>Object(a.a)(i[t])?i[t]:Object(s.a)(i[t]));return Object(o.a)(t).pipe(Object(h.a)(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n}))}return i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(u.a)(n=>(n=this.getParsedResult(n,t,e),Object(a.a)(n)?n:Object(s.a)(n))));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return Object(a.a)(n)?n:Object(s.a)(n)}}getStreamOnTranslationChange(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');return Object(r.a)(Object(c.a)(()=>this.get(t,e)),this.onTranslationChange.pipe(Object(p.a)(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:Object(s.a)(i)})))}stream(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');return Object(r.a)(Object(c.a)(()=>this.get(t,e)),this.onLangChange.pipe(Object(p.a)(n=>{const i=this.getParsedResult(n.translations,t,e);return Object(a.a)(i)?i:Object(s.a)(i)})))}instant(t,e){if(!y(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Object(a.a)(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(i.dc(M),i.dc(f),i.dc(k),i.dc(w),i.dc(b),i.dc(P),i.dc(I),i.dc(A),i.dc(T))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),R=(()=>{class t{constructor(t,e,n){this.translateService=t,this.element=e,this._ref=n,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(t=>{t.lang===this.translateService.currentLang&&this.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(t=>{this.checkNodes(!0,t.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(t=>{this.checkNodes(!0)}))}set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){v(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,e){let n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(let i=0;i<n.length;++i){let s=n[i];if(3===s.nodeType){let n;if(t&&(s.lastKey=null),y(s.lookupKey))n=s.lookupKey;else if(this.key)n=this.key;else{let t=this.getContent(s),e=t.trim();e.length&&(s.lookupKey=e,t!==s.currentValue?(n=e,s.originalContent=t||s.originalContent):s.originalContent?n=s.originalContent.trim():t!==s.currentValue&&(n=e,s.originalContent=t||s.originalContent))}this.updateValue(n,s,e)}}}updateValue(t,e,n){if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let i=n=>{n!==t&&(e.lastKey=t),e.originalContent||(e.originalContent=this.getContent(e)),e.currentValue=y(n)?n:e.originalContent||t,this.setContent(e,this.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),this._ref.markForCheck()};if(y(n)){let e=this.translateService.getParsedResult(n,t,this.currentParams);Object(a.a)(e)?e.subscribe(i):i(e)}else this.translateService.get(t,this.currentParams).subscribe(i)}}getContent(t){return y(t.textContent)?t.textContent:t.data}setContent(t,e){y(t.textContent)?t.textContent=e:t.data=e}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(D),i.Tb(i.l),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),t})(),L=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let s=this.translate.getParsedResult(n,t,e);Object(a.a)(s.subscribe)?s.subscribe(i):i(s)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||!t.length)return t;if(v(t,this.lastKey)&&v(e,this.lastParams))return this.value;let n;if(y(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(i){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+e[0])}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(D),i.fc())},t.\u0275pipe=i.Sb({name:"translate",type:t,pure:!1}),t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:f,useClass:m},e.compiler||{provide:k,useClass:S},e.parser||{provide:w,useClass:C},e.missingTranslationHandler||{provide:b,useClass:_},M,{provide:I,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:A,useValue:e.extend},{provide:T,useValue:e.defaultLanguage},D]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:f,useClass:m},e.compiler||{provide:k,useClass:S},e.parser||{provide:w,useClass:C},e.missingTranslationHandler||{provide:b,useClass:_},{provide:I,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:A,useValue:e.extend},{provide:T,useValue:e.defaultLanguage},D]}}}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t})()},"tk/3":function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return u}));var i=n("fXoL"),s=n("LRne"),a=n("HDdC"),o=n("bOdf"),r=n("pLZG"),c=n("lJxs"),l=n("ofXK");class d{}class h{}class u{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),s=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new u;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof u?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===s.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p{encodeKey(t){return f(t)}encodeValue(t){return f(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function f(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class m{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[s,a]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(s)||[];o.push(a),n.set(s,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new m({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function g(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function b(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}class v{constructor(t,e,n,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new u),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new m,this.urlWithParams=e}serializeBody(){return null===this.body?null:g(this.body)||b(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_(this.body)?null:b(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let r=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(r=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),r)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new v(e,n,s,{params:c,headers:r,reportProgress:o,responseType:i,withCredentials:a})}}const y=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class x{constructor(t,e=200,n="OK"){this.headers=t.headers||new u,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class w extends x{constructor(t={}){super(t),this.type=y.ResponseHeader}clone(t={}){return new w({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends x{constructor(t={}){super(t),this.type=y.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new C({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class O extends x{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function k(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let S=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof v)i=t;else{let s=void 0;s=n.headers instanceof u?n.headers:new u(n.headers);let a=void 0;n.params&&(a=n.params instanceof m?n.params:new m({fromObject:n.params})),i=new v(t,e,void 0!==n.body?n.body:null,{headers:s,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const a=Object(s.a)(i).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof v||"events"===n.observe)return a;const l=a.pipe(Object(r.a)(t=>t instanceof C));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return l.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return l.pipe(Object(c.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return l.pipe(Object(c.a)(t=>t.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new m).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,k(n,e))}post(t,e,n={}){return this.request("POST",t,k(n,e))}put(t,e,n={}){return this.request("PUT",t,k(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.dc(d))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class E{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const M=new i.r("HTTP_INTERCEPTORS");let I=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const P=/^\)\]\}',?\n/;class T{}let A=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new a.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const e=1223===n.status?204:n.status,i=n.statusText||"OK",a=new u(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return s=new w({headers:a,status:e,statusText:i,url:o}),s},o=()=>{let{headers:i,status:s,statusText:o,url:r}=a(),c=null;204!==s&&(c=void 0===n.response?n.responseText:n.response),0===s&&(s=c?200:0);let l=s>=200&&s<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(P,"");try{c=""!==c?JSON.parse(c):null}catch(d){c=t,l&&(l=!1,c={error:d,text:c})}}l?(e.next(new C({body:c,headers:i,status:s,statusText:o,url:r||void 0})),e.complete()):e.error(new O({error:c,headers:i,status:s,statusText:o,url:r||void 0}))},r=t=>{const{url:i}=a(),s=new O({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(s)};let c=!1;const l=i=>{c||(e.next(a()),c=!0);let s={type:y.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(s.total=i.total),"text"===t.responseType&&n.responseText&&(s.partialText=n.responseText),e.next(s)},d=t=>{let n={type:y.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",r),t.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",d)),n.send(i),e.next({type:y.Sent}),()=>{n.removeEventListener("error",r),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",d)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.dc(T))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const R=new i.r("XSRF_COOKIE_NAME"),L=new i.r("XSRF_HEADER_NAME");class F{}let j=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.M)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.dc(l.e),i.dc(i.E),i.dc(R))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(F),i.dc(L))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),Z=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(M,[]);this.chain=t.reduceRight((t,e)=>new E(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.dc(h),i.dc(i.s))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),N=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Y,useClass:I}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:R,useValue:e.cookieName}:[],e.headerName?{provide:L,useValue:e.headerName}:[]]}}}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[Y,{provide:M,useExisting:Y,multi:!0},{provide:F,useClass:j},{provide:R,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),t})(),U=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[S,{provide:d,useClass:Z},D,{provide:h,useExisting:D},A,{provide:T,useExisting:A}],imports:[[N.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return te})),n.d(e,"b",(function(){return vn})),n.d(e,"c",(function(){return ln})),n.d(e,"d",(function(){return dn})),n.d(e,"e",(function(){return pn})),n.d(e,"f",(function(){return hn})),n.d(e,"g",(function(){return En})),n.d(e,"h",(function(){return gn})),n.d(e,"i",(function(){return dt}));var i=n("ofXK"),s=n("fXoL"),a=n("LRne"),o=n("Cfvw"),r=n("2Vo4"),c=n("HDdC");const l=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var d=n("itXk"),h=n("NXyV"),u=n("XNiG"),p=n("EY2u"),f=n("lJxs"),m=n("0EUg"),g=n("pLZG"),b=n("7o/Q"),_=n("4I5i");function v(t){return function(e){return 0===t?Object(p.b)():e.lift(new y(t))}}class y{constructor(t){if(this.total=t,this.total<0)throw new _.a}call(t,e){return e.subscribe(new x(t,this.total))}}class x extends b.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<n;s++){const s=e++%n;t.next(i[s])}}t.complete()}}function w(t=k){return e=>e.lift(new C(t))}class C{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new O(t,this.errorFactory))}}class O extends b.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function k(){return new l}function S(t=null){return e=>e.lift(new E(t))}class E{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new M(t,this.defaultValue))}}class M extends b.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var I=n("SpAZ");function P(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(g.a)((e,n)=>t(e,n,i)):I.a,v(1),n?S(e):w(()=>new l))}var T=n("JIr8"),A=n("IzEk");function D(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(g.a)((e,n)=>t(e,n,i)):I.a,Object(A.a)(1),n?S(e):w(()=>new l))}var R=n("5+tZ");class L{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new F(t,this.predicate,this.thisArg,this.source))}}class F extends b.a{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var j=n("eIep"),Y=n("JX91");function Z(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new N(t,e,n))}}class N{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new U(t,this.accumulator,this.seed,this.hasSeed))}}class U extends b.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}var B=n("bOdf"),z=n("mCNh"),V=n("vkgz"),H=n("nYR2"),Q=n("bHdf");class ${constructor(t,e){this.id=t,this.url=e}}class W extends ${constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G extends ${constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class q extends ${constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class X extends ${constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J extends ${constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends ${constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends ${constructor(t,e,n,i,s){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class et extends ${constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt extends ${constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class st{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class at{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Nb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ub(0,"router-outlet")},directives:function(){return[gn]},encapsulation:2}),t})();class ht{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ut(t){return new ht(t)}function pt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ft(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const s={};for(let a=0;a<i.length;a++){const e=i[a],n=t[a];if(e.startsWith(":"))s[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}class mt{constructor(t,e){this.routes=t,this.module=e}}function gt(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];bt(i,_t(e,i))}}function bt(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&gt(t.children,e)}function _t(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function vt(t){const e=t.children&&t.children.map(vt),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=dt),n}function yt(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let s;for(let a=0;a<n.length;a++)if(s=n[a],!xt(t[s],e[s]))return!1;return!0}function xt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function wt(t){return Array.prototype.concat.apply([],t)}function Ct(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function kt(t){return Object(s.ub)(t)?t:Object(s.vb)(t)?Object(o.a)(Promise.resolve(t)):Object(a.a)(t)}function St(t,e,n){return n?function(t,e){return yt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Pt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xt(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,s){if(n.segments.length>s.length)return!!Pt(n.segments.slice(0,s.length),s)&&!i.hasChildren();if(n.segments.length===s.length){if(!Pt(n.segments,s))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=s.slice(0,n.segments.length),a=s.slice(n.segments.length);return!!Pt(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,a)}}(e,n,n.segments)}(t.root,e.root)}class Et{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ut(this.queryParams)),this._queryParamMap}toString(){return Rt.serialize(this)}}class Mt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ot(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lt(this)}}class It{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ut(this.parameters)),this._parameterMap}toString(){return Ut(this)}}function Pt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Tt(t,e){let n=[];return Ot(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),Ot(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class At{}class Dt{parse(t){const e=new Qt(t);return new Et(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Lt(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return Ot(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Tt(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${Lt(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${jt(e)}=${jt(t)}`).join("&"):`${jt(e)}=${jt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Rt=new Dt;function Lt(t){return t.segments.map(t=>Ut(t)).join("/")}function Ft(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jt(t){return Ft(t).replace(/%3B/gi,";")}function Yt(t){return Ft(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zt(t){return decodeURIComponent(t)}function Nt(t){return Zt(t.replace(/\+/g,"%20"))}function Ut(t){return`${Yt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Yt(t)}=${Yt(e[t])}`).join("")}`;var e}const Bt=/^[^\/()?;=#]+/;function zt(t){const e=t.match(Bt);return e?e[0]:""}const Vt=/^[^=?&#]+/,Ht=/^[^?&#]+/;class Qt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Mt(t,e)),n}parseSegment(){const t=zt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new It(Zt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=zt(this.remaining);t&&(n=t,this.capture(n))}t[Zt(e)]=Zt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Vt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ht);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Nt(e),s=Nt(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=zt(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s="primary");const a=this.parseChildren();e[s]=1===Object.keys(a).length?a.primary:new Mt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class $t{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Gt(t,this._root).map(t=>t.value)}}function Wt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wt(t,n);if(e)return e}return null}function Gt(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Gt(t,n);if(i.length)return i.unshift(e),i}return[]}class qt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Jt extends $t{constructor(t,e){super(t),this.snapshot=e,se(this,t)}toString(){return this.snapshot.toString()}}function Kt(t,e){const n=function(t,e){const n=new ne([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ie("",new qt(n,[]))}(t,e),i=new r.a([new It("",{})]),s=new r.a({}),a=new r.a({}),o=new r.a({}),c=new r.a(""),l=new te(i,s,o,c,a,"primary",e,n.root);return l.snapshot=n.root,new Jt(new qt(l,[]),n)}class te{constructor(t,e,n,i,s,a,o,r){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this._futureSnapshot=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(f.a)(t=>ut(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(f.a)(t=>ut(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ee(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ne{constructor(t,e,n,i,s,a,o,r,c,l,d){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this.routeConfig=r,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ut(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ut(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ie extends $t{constructor(t,e){super(e),this.url=t,se(this,e)}toString(){return ae(this._root)}}function se(t,e){e.value._routerState=t,e.children.forEach(e=>se(t,e))}function ae(t){const e=t.children.length>0?` { ${t.children.map(ae).join(", ")} } `:"";return`${t.value}${e}`}function oe(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function re(t,e){var n,i;return yt(t.params,e.params)&&Pt(n=t.url,i=e.url)&&n.every((t,e)=>yt(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||re(t.parent,e.parent))}function ce(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function le(t,e,n,i,s){let a={};return i&&Ot(i,(t,e)=>{a[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Et(n.root===t?e:function t(e,n,i){const s={};return Ot(e.children,(e,a)=>{s[a]=e===n?i:t(e,n,i)}),new Mt(e.segments,s)}(n.root,t,e),a,s)}class de{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ce(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==Ct(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class he{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ue(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function pe(t,e,n){if(t||(t=new Mt([],{})),0===t.segments.length&&t.hasChildren())return fe(t,e,n);const i=function(t,e,n){let i=0,s=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=n.length)return a;const e=t.segments[s],o=ue(n[i]),r=i<n.length-1?n[i+1]:null;if(s>0&&void 0===o)break;if(o&&r&&"object"==typeof r&&void 0===r.outlets){if(!_e(o,r,e))return a;i+=2}else{if(!_e(o,{},e))return a;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,e,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Mt(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Mt(t.segments.slice(i.pathIndex),t.children),fe(e,0,s)}return i.match&&0===s.length?new Mt(t.segments,{}):i.match&&!t.hasChildren()?me(t,e,n):i.match?fe(t,0,s):me(t,e,n)}function fe(t,e,n){if(0===n.length)return new Mt(t.segments,{});{const i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),s={};return Ot(i,(n,i)=>{null!==n&&(s[i]=pe(t.children[i],e,n))}),Ot(t.children,(t,e)=>{void 0===i[e]&&(s[e]=t)}),new Mt(t.segments,s)}}function me(t,e,n){const i=t.segments.slice(0,e);let s=0;for(;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){const t=ge(n[s].outlets);return new Mt(i,t)}if(0===s&&ce(n[0])){i.push(new It(t.segments[e].path,n[0])),s++;continue}const a=ue(n[s]),o=s<n.length-1?n[s+1]:null;a&&o&&ce(o)?(i.push(new It(a,be(o))),s+=2):(i.push(new It(a,{})),s++)}return new Mt(i,{})}function ge(t){const e={};return Ot(t,(t,n)=>{null!==t&&(e[n]=me(new Mt([],{}),0,t))}),e}function be(t){const e={};return Ot(t,(t,n)=>e[n]=""+t),e}function _e(t,e,n){return t==n.path&&yt(e,n.parameters)}class ve{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),oe(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Xt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Ot(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Xt(t),s=t.value.component?n.children:e;Ot(i,(t,e)=>this.deactivateRouteAndItsChildren(t,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Xt(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new ct(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ot(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,s=e?e.value:null;if(oe(i),i===s)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ye(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),s=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=s,e.outlet&&e.outlet.activateWith(i,s),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ye(t){oe(t.value),t.children.forEach(ye)}function xe(t){return"function"==typeof t}function we(t){return t instanceof Et}class Ce{constructor(t){this.segmentGroup=t||null}}class Oe{constructor(t){this.urlTree=t}}function ke(t){return new c.a(e=>e.error(new Ce(t)))}function Se(t){return new c.a(e=>e.error(new Oe(t)))}function Ee(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Me{constructor(t,e,n,i,a){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(s.z)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(f.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(T.a)(t=>{if(t instanceof Oe)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ce)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(f.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(T.a)(t=>{if(t instanceof Ce)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Mt([],{primary:t}):t;return new Et(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(f.a)(t=>new Mt([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(a.a)({});const n=[],i=[],s={};return Ot(t,(t,a)=>{const o=e(a,t).pipe(Object(f.a)(t=>s[a]=t));"primary"===a?n.push(o):i.push(o)}),a.a.apply(null,n.concat(i)).pipe(Object(m.a)(),P(),Object(f.a)(()=>s))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,s,o){return Object(a.a)(...n).pipe(Object(f.a)(r=>this.expandSegmentAgainstRoute(t,e,n,r,i,s,o).pipe(Object(T.a)(t=>{if(t instanceof Ce)return Object(a.a)(null);throw t}))),Object(m.a)(),D(t=>!!t),Object(T.a)((t,n)=>{if(t instanceof l||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,s))return Object(a.a)(new Mt([],{}));throw new Ce(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,s,a,o){return Ae(i)!==a?ke(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,s,a):ke(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Se(s):this.lineralizeSegments(n,s).pipe(Object(R.a)(n=>{const s=new Mt(n,{});return this.expandSegment(t,s,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,s,a){const{matched:o,consumedSegments:r,lastChild:c,positionalParamSegments:l}=Ie(e,i,s);if(!o)return ke(e);const d=this.applyRedirectCommands(r,i.redirectTo,l);return i.redirectTo.startsWith("/")?Se(d):this.lineralizeSegments(i,d).pipe(Object(R.a)(i=>this.expandSegment(t,e,n,i.concat(s.slice(c)),a,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(f.a)(t=>(n._loadedConfig=t,new Mt(i,{})))):Object(a.a)(new Mt(i,{}));const{matched:s,consumedSegments:o,lastChild:r}=Ie(e,n,i);if(!s)return ke(e);const c=i.slice(r);return this.getChildConfig(t,n,i).pipe(Object(R.a)(t=>{const n=t.module,i=t.routes,{segmentGroup:s,slicedSegments:r}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Te(t,e,n)&&"primary"!==Ae(n))}(t,n,i)?{segmentGroup:Pe(new Mt(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==Ae(i)&&(n[Ae(i)]=new Mt([],{}));return n}(i,new Mt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Te(t,e,n))}(t,n,i)?{segmentGroup:Pe(new Mt(t.segments,function(t,e,n,i){const s={};for(const a of n)Te(t,e,a)&&!i[Ae(a)]&&(s[Ae(a)]=new Mt([],{}));return Object.assign(Object.assign({},i),s)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,c,i);return 0===r.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(Object(f.a)(t=>new Mt(o,t))):0===i.length&&0===r.length?Object(a.a)(new Mt(o,{})):this.expandSegment(n,s,i,r,"primary",!0).pipe(Object(f.a)(t=>new Mt(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(a.a)(new mt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?Object(o.a)(i).pipe(Object(f.a)(i=>{const s=t.get(i);let a;if(function(t){return t&&xe(t.canLoad)}(s))a=s.canLoad(e,n);else{if(!xe(s))throw new Error("Invalid CanLoad guard");a=s(e,n)}return kt(a)})).pipe(Object(m.a)(),(s=t=>!0===t,t=>t.lift(new L(s,void 0,t)))):Object(a.a)(!0);var s}(t.injector,e,n).pipe(Object(R.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(f.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error(pt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(a.a)(new mt([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(a.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Ee(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const s=this.createSegmentGroup(t,e.root,n,i);return new Et(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ot(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const s=t.substring(1);n[i]=e[s]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const s=this.createSegments(t,e.segments,n,i);let a={};return Ot(e.children,(e,s)=>{a[s]=this.createSegmentGroup(t,e,n,i)}),new Mt(s,a)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ie(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||ft)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pe(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Mt(t.segments.concat(e.segments),e.children)}return t}function Te(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ae(t){return t.outlet||"primary"}class De{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Re{constructor(t,e){this.component=t,this.route=e}}function Le(t,e,n){const i=t._root;return function t(e,n,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xt(n);return e.children.forEach(e=>{!function(e,n,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,r=n?n.value:null,c=i?i.getContext(e.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pt(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!re(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!re(t,e)}}(r,o,o.routeConfig.runGuardsAndResolvers);l?a.canActivateChecks.push(new De(s)):(o.data=r.data,o._resolvedData=r._resolvedData),t(e,n,o.component?c?c.children:null:i,s,a),l&&a.canDeactivateChecks.push(new Re(c&&c.outlet&&c.outlet.component||null,r))}else r&&je(n,c,a),a.canActivateChecks.push(new De(s)),t(e,null,o.component?c?c.children:null:i,s,a)}(e,o[e.value.outlet],i,s.concat([e.value]),a),delete o[e.value.outlet]}),Ot(o,(t,e)=>je(t,i.getContext(e),a)),a}(i,e?e._root:null,n,[i.value])}function Fe(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function je(t,e,n){const i=Xt(t),s=t.value;Ot(i,(t,i)=>{je(t,s.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Re(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}const Ye=Symbol("INITIAL_VALUE");function Ze(){return Object(j.a)(t=>Object(d.a)(...t.map(t=>t.pipe(Object(A.a)(1),Object(Y.a)(Ye)))).pipe(Z((t,e)=>{let n=!1;return e.reduce((t,i,s)=>{if(t!==Ye)return t;if(i===Ye&&(n=!0),!n){if(!1===i)return i;if(s===e.length-1||we(i))return i}return t},t)},Ye),Object(g.a)(t=>t!==Ye),Object(f.a)(t=>we(t)?t:!0===t),Object(A.a)(1)))}function Ne(t,e){return null!==t&&e&&e(new rt(t)),Object(a.a)(!0)}function Ue(t,e){return null!==t&&e&&e(new at(t)),Object(a.a)(!0)}function Be(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(a.a)(!0);const s=i.map(i=>Object(h.a)(()=>{const s=Fe(i,e,n);let a;if(function(t){return t&&xe(t.canActivate)}(s))a=kt(s.canActivate(e,t));else{if(!xe(s))throw new Error("Invalid CanActivate guard");a=kt(s(e,t))}return a.pipe(D())}));return Object(a.a)(s).pipe(Ze())}function ze(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(h.a)(()=>{const s=e.guards.map(s=>{const a=Fe(s,e.node,n);let o;if(function(t){return t&&xe(t.canActivateChild)}(a))o=kt(a.canActivateChild(i,t));else{if(!xe(a))throw new Error("Invalid CanActivateChild guard");o=kt(a(i,t))}return o.pipe(D())});return Object(a.a)(s).pipe(Ze())}));return Object(a.a)(s).pipe(Ze())}class Ve{}class He{constructor(t,e,n,i,s,a){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){try{const t=We(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ne([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qt(n,e),s=new ie(this.url,i);return this.inheritParamsAndData(s._root),Object(a.a)(s)}catch(t){return new c.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ee(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Tt(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const a of t)try{return this.processSegmentAgainstRoute(a,e,n,i)}catch(s){if(!(s instanceof Ve))throw s}if(this.noLeftoversInUrl(e,n,i))return[];throw new Ve}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Ve;if((t.outlet||"primary")!==i)throw new Ve;let s,a=[],o=[];if("**"===t.path){const a=n.length>0?Ct(n).parameters:{};s=new ne(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xe(t),i,t.component,t,Qe(e),$e(e)+n.length,Je(t))}else{const r=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ve;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||ft)(n,t,e);if(!i)throw new Ve;const s={};Ot(i.posParams,(t,e)=>{s[e]=t.path});const a=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=r.consumedSegments,o=n.slice(r.lastChild),s=new ne(a,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xe(t),i,t.component,t,Qe(e),$e(e)+a.length,Je(t))}const r=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=We(e,a,o,r,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(r,c);return[new qt(s,t)]}if(0===r.length&&0===l.length)return[new qt(s,[])];const d=this.processSegment(r,c,l,"primary");return[new qt(s,d)]}}function Qe(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $e(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function We(t,e,n,i,s){if(n.length>0&&function(t,e,n){return n.some(n=>Ge(t,e,n)&&"primary"!==qe(n))}(t,n,i)){const s=new Mt(e,function(t,e,n,i){const s={};s.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const a of n)if(""===a.path&&"primary"!==qe(a)){const n=new Mt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,s[qe(a)]=n}return s}(t,e,i,new Mt(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ge(t,e,n))}(t,n,i)){const a=new Mt(t.segments,function(t,e,n,i,s,a){const o={};for(const r of i)if(Ge(t,n,r)&&!s[qe(r)]){const n=new Mt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===a?t.segments.length:e.length,o[qe(r)]=n}return Object.assign(Object.assign({},s),o)}(t,e,n,i,t.children,s));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}const a=new Mt(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Ge(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function qe(t){return t.outlet||"primary"}function Xe(t){return t.data||{}}function Je(t){return t.resolve||{}}function Ke(t,e,n,i){const s=Fe(t,e,i);return kt(s.resolve?s.resolve(e,n):s(e,n))}function tn(t){return function(e){return e.pipe(Object(j.a)(e=>{const n=t(e);return n?Object(o.a)(n).pipe(Object(f.a)(()=>e)):Object(o.a)([e])}))}}class en{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const nn=new s.r("ROUTES");class sn{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(f.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new mt(wt(i.injector.get(nn)).map(vt),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(o.a)(this.loader.load(t)):kt(t()).pipe(Object(R.a)(t=>t instanceof s.x?Object(a.a)(t):Object(o.a)(this.compiler.compileModuleAsync(t))))}}class an{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function on(t){throw t}function rn(t,e,n){return e.parse("/")}function cn(t,e){return Object(a.a)(null)}let ln=(()=>{class t{constructor(t,e,n,i,a,o,c,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new u.a,this.errorHandler=on,this.malformedUriErrorHandler=rn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cn,afterPreactivation:cn},this.urlHandlingStrategy=new an,this.routeReuseStrategy=new en,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(s.z),this.console=a.get(s.bb);const d=a.get(s.B);this.isNgZoneEnabled=d instanceof s.B,this.resetConfig(l),this.currentUrlTree=new Et(new Mt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sn(o,c,t=>this.triggerEvent(new it(t)),t=>this.triggerEvent(new st(t))),this.routerState=Kt(this.currentUrlTree,this.rootComponentType),this.transitions=new r.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(g.a)(t=>0!==t.id),Object(f.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(j.a)(t=>{let n=!1,i=!1;return Object(a.a)(t).pipe(Object(V.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(j.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(Object(j.a)(t=>{const n=this.transitions.getValue();return e.next(new W(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?p.a:[t]}),Object(j.a)(t=>Promise.resolve(t)),(i=this.ngModule.injector,s=this.configLoader,o=this.urlSerializer,r=this.config,function(t){return t.pipe(Object(j.a)(t=>function(t,e,n,i,s){return new Me(t,e,n,i,s).apply()}(i,s,o,t.extractedUrl,r).pipe(Object(f.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(V.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,s){return function(a){return a.pipe(Object(R.a)(a=>function(t,e,n,i,s="emptyOnly",a="legacy"){return new He(t,e,n,i,s,a).recognize()}(t,e,a.urlAfterRedirects,n(a.urlAfterRedirects),i,s).pipe(Object(f.a)(t=>Object.assign(Object.assign({},a),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(V.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(V.a)(t=>{const n=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,s,o,r;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:s,restoredState:o,extras:r}=t,c=new W(n,this.serializeUrl(i),s,o);e.next(c);const l=Kt(i,this.rootComponentType).snapshot;return Object(a.a)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},r),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),p.a}),tn(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:a,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!a,replaceUrl:!!o})}),Object(V.a)(t=>{const e=new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(f.a)(t=>Object.assign(Object.assign({},t),{guards:Le(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(R.a)(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:c}}=n;return 0===c.length&&0===r.length?Object(a.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(o.a)(t).pipe(Object(R.a)(t=>function(t,e,n,i,s){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(a.a)(!0);const r=o.map(a=>{const o=Fe(a,e,s);let r;if(function(t){return t&&xe(t.canDeactivate)}(o))r=kt(o.canDeactivate(t,e,n,i));else{if(!xe(o))throw new Error("Invalid CanDeactivate guard");r=kt(o(t,e,n,i))}return r.pipe(D())});return Object(a.a)(r).pipe(Ze())}(t.component,t.route,n,e,i)),D(t=>!0!==t,!0))}(c,i,s,t).pipe(Object(R.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(o.a)(e).pipe(Object(B.a)(e=>Object(o.a)([Ue(e.route.parent,i),Ne(e.route,i),ze(t,e.path,n),Be(t,e.route,n)]).pipe(Object(m.a)(),D(t=>!0!==t,!0))),D(t=>!0!==t,!0))}(i,r,t,e):Object(a.a)(n)),Object(f.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(V.a)(t=>{if(we(t.guardsResult)){const e=pt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(V.a)(t=>{const e=new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(g.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new q(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),tn(t=>{if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(Object(V.a)(t=>{const e=new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(R.a)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;return s.length?Object(o.a)(s).pipe(Object(B.a)(t=>function(t,e,n,i){return function(t,e,n,i){const s=Object.keys(t);if(0===s.length)return Object(a.a)({});if(1===s.length){const a=s[0];return Ke(t[a],e,n,i).pipe(Object(f.a)(t=>({[a]:t})))}const r={};return Object(o.a)(s).pipe(Object(R.a)(s=>Ke(t[s],e,n,i).pipe(Object(f.a)(t=>(r[s]=t,t))))).pipe(P(),Object(f.a)(()=>r))}(t._resolve,t,e,i).pipe(Object(f.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ee(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(z.a)(Z(t,e),v(1),S(e))(n)}:function(e){return Object(z.a)(Z((e,n,i)=>t(e,n,i+1)),v(1))(e)}}((t,e)=>t),Object(f.a)(e=>t)):Object(a.a)(t)}))}),Object(V.a)(t=>{const e=new nt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),tn(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:a,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!a,replaceUrl:!!o})}),Object(f.a)(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const a=function(e,n,i){return n.children.map(n=>{for(const s of i.children)if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s);return t(e,n)})}(e,n,i);return new qt(s,a)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new te(new r.a((s=n.value).url),new r.a(s.params),new r.a(s.queryParams),new r.a(s.fragment),new r.a(s.data),s.outlet,s.component,s),a=n.children.map(n=>t(e,n));return new qt(i,a)}}var s}(t,e._root,n?n._root:void 0);return new Jt(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(V.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,c=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(f.a)(t=>(new ve(c,t.targetRouterState,t.currentRouterState,l).activate(s),t))),Object(V.a)({next(){n=!0},complete(){n=!0}}),Object(H.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new q(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(T.a)(n=>{if(i=!0,(s=n)&&s.ngNavigationCancelingError){const i=we(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const s=new q(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(s),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new X(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(a){t.reject(a)}}var s;return p.a}));var s,c,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){gt(t),this.config=t.map(vt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:a,preserveQueryParams:o,queryParamsHandling:r,preserveFragment:c}=e;Object(s.Y)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,d=c?this.currentUrlTree.fragment:a;let h=null;if(r)switch(r){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,s){if(0===n.length)return le(e.root,e.root,e,i,s);const a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new de(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Ot(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===s?(i.split("/").forEach((i,s)=>{0==s&&"."===i||(0==s&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new de(n,e,i)}(n);if(a.toRoot())return le(e.root,new Mt([],{}),e,i,s);const o=function(t,e,n){if(t.isAbsolute)return new he(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new he(n.snapshot._urlSegment,!0,0);const i=ce(t.commands[0])?0:1;return function(t,e,n){let i=t,s=e,a=n;for(;a>s;){if(a-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new he(i,!1,s-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),r=o.processChildren?fe(o.segmentGroup,o.index,a.commands):pe(o.segmentGroup,o.index,a.commands);return le(o.segmentGroup,r,e,i,s)}(l,this.currentUrlTree,t,h,d)}navigateByUrl(t,e={skipLocationChange:!1}){Object(s.Y)()&&this.isNgZoneEnabled&&!s.B.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=we(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(we(t))return St(this.currentUrlTree,t,e);const n=this.parseUrl(t);return St(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,s){const a=this.getTransition();if(a&&"imperative"!==e&&"imperative"===a.source&&a.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(a&&"hashchange"==e&&"popstate"===a.source&&a.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(a&&"popstate"==e&&"hashchange"===a.source&&a.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,r,c;s?(o=s.resolve,r=s.reject,c=s.promise):c=new Promise((t,e)=>{o=t,r=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:r,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const s=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(s)||e?this.location.replaceState(s,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(s,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){s.gc()},t.\u0275dir=s.Ob({type:t}),t})(),dn=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(s.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(s.Y)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:un(this.skipLocationChange),replaceUrl:un(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:un(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:un(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(ln),s.Tb(te),s.ec("tabindex"),s.Tb(s.H),s.Tb(s.l))},t.\u0275dir=s.Ob({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&s.hc("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),hn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof G&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(s.Y)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:un(this.skipLocationChange),replaceUrl:un(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:un(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:un(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(ln),s.Tb(te),s.Tb(i.o))},t.\u0275dir=s.Ob({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&s.hc("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(s.cc("href",e.href,s.Kc),s.Fb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[s.Cb]}),t})();function un(t){return""===t||!!t}let pn=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.element=e,this.renderer=n,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof G&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(ln),s.Tb(s.l),s.Tb(s.H),s.Tb(dn,8),s.Tb(hn,8))},t.\u0275dir=s.Ob({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(s.Lb(n,dn,!0),s.Lb(n,hn,!0)),2&t&&(s.Cc(i=s.ic())&&(e.links=i),s.Cc(i=s.ic())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[s.Cb]}),t})();class fn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mn,this.attachRef=null}}class mn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let gn=(()=>{class t{constructor(t,e,n,i,a){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.o,this.deactivateEvents=new s.o,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,s=new bn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(mn),s.Tb(s.R),s.Tb(s.j),s.ec("name"),s.Tb(s.h))},t.\u0275dir=s.Ob({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class bn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===te?this.route:t===mn?this.childContexts:this.parent.get(t,e)}}class _n{}class vn{preload(t,e){return e().pipe(Object(T.a)(()=>Object(a.a)(null)))}}class yn{preload(t,e){return Object(a.a)(null)}}let xn=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new sn(e,n,e=>t.triggerEvent(new it(e)),e=>t.triggerEvent(new st(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(g.a)(t=>t instanceof G),Object(B.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(s.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(o.a)(n).pipe(Object(Q.a)(),Object(f.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(R.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(s.dc(ln),s.dc(s.y),s.dc(s.i),s.dc(s.s),s.dc(_n))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})(),wn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof W?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new lt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){s.gc()},t.\u0275dir=s.Ob({type:t}),t})();const Cn=new s.r("ROUTER_CONFIGURATION"),On=new s.r("ROUTER_FORROOT_GUARD"),kn=[i.n,{provide:At,useClass:Dt},{provide:ln,useFactory:function(t,e,n,s,a,o,r,c={},l,d){const h=new ln(null,t,e,n,s,a,o,wt(r));if(l&&(h.urlHandlingStrategy=l),d&&(h.routeReuseStrategy=d),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=Object(i.L)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[At,mn,i.n,s.s,s.y,s.i,nn,Cn,[class{},new s.C],[class{},new s.C]]},mn,{provide:te,useFactory:function(t){return t.routerState.root},deps:[ln]},{provide:s.y,useClass:s.N},xn,yn,vn,{provide:Cn,useValue:{enableTracing:!1}}];function Sn(){return new s.A("Router",ln)}let En=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[kn,Tn(e),{provide:On,useFactory:Pn,deps:[[ln,new s.C,new s.M]]},{provide:Cn,useValue:n||{}},{provide:i.o,useFactory:In,deps:[i.D,[new s.q(i.a),new s.C],Cn]},{provide:wn,useFactory:Mn,deps:[ln,i.H,Cn]},{provide:_n,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yn},{provide:s.A,multi:!0,useFactory:Sn},[An,{provide:s.d,multi:!0,useFactory:Dn,deps:[An]},{provide:Ln,useFactory:Rn,deps:[An]},{provide:s.b,multi:!0,useExisting:Ln}]]}}static forChild(e){return{ngModule:t,providers:[Tn(e)]}}}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)(s.dc(On,8),s.dc(ln,8))}}),t})();function Mn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wn(t,e,n)}function In(t,e,n={}){return n.useHash?new i.h(t,e):new i.B(t,e)}function Pn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Tn(t){return[{provide:s.a,multi:!0,useValue:t},{provide:nn,multi:!0,useValue:t}]}let An=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new u.a}appInitializer(){return this.injector.get(i.m,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ln),i=this.injector.get(Cn);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(a.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Cn),n=this.injector.get(xn),i=this.injector.get(wn),a=this.injector.get(ln),o=this.injector.get(s.g);t===o.components[0]&&(this.isLegacyEnabled(e)?a.initialNavigation():this.isLegacyDisabled(e)&&a.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(s.dc(s.s))},t.\u0275prov=s.Pb({token:t,factory:t.\u0275fac}),t})();function Dn(t){return t.appInitializer.bind(t)}function Rn(t){return t.bootstrapListener.bind(t)}const Ln=new s.r("Router Initializer")},u47x:function(t,e,n){"use strict";n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return R})),n.d(e,"e",(function(){return N})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return O})),n.d(e,"h",(function(){return Y})),n.d(e,"i",(function(){return I})),n.d(e,"j",(function(){return U})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return L}));var i=n("ofXK"),s=n("fXoL"),a=n("XNiG"),o=n("quSY"),r=n("LRne"),c=n("FtGj"),l=n("vkgz"),d=n("Kj3r"),h=n("pLZG"),u=n("lJxs"),p=n("IzEk"),f=n("8LU1"),m=n("nLfN"),g=n("GU7r");function b(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let _=0;const v=new Map;let y=null,x=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),v.set(e,{messageElement:e,referenceCount:0})):v.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=v.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}y&&0===y.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");y&&this._deleteMessagesContainer(),v.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),y.appendChild(e),v.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id="cdk-describedby-message-"+_++)}_deleteMessageElement(t){const e=v.get(t),n=e&&e.messageElement;y&&n&&y.removeChild(n),v.delete(t)}_createMessagesContainer(){if(!y){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),y=this._document.createElement("div"),y.id="cdk-describedby-message-container",y.setAttribute("aria-hidden","true"),y.style.display="none",this._document.body.appendChild(y)}}_deleteMessagesContainer(){y&&y.parentNode&&(y.parentNode.removeChild(y),y=null)}_removeCdkDescribedByReferenceIds(t){const e=b(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=v.get(e);!function(t,e,n){const i=b(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=v.get(e);n.referenceCount--,function(t,e,n){const i=b(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=b(t,"aria-describedby"),i=v.get(e),s=i&&i.messageElement.id;return!!s&&-1!=n.indexOf(s)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":(""+e).trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.e))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(i.e))},token:t,providedIn:"root"}),t})();class w{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new a.a,this._typeaheadSubscription=o.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new a.a,this.change=new a.a,t instanceof s.G&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(l.a)(t=>this._pressedLetters.push(t)),Object(d.a)(t),Object(h.a)(()=>this._pressedLetters.length>0),Object(u.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,s=e[i];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case c.r:return void this.tabOut.next();case c.e:if(this._vertical&&n){this.setNextItemActive();break}return;case c.s:if(this._vertical&&n){this.setPreviousItemActive();break}return;case c.o:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case c.k:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Object(c.v)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=c.a&&e<=c.t||e>=c.u&&e<=c.l)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.G?this._items.toArray():this._items}}class C extends w{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class O extends w{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let k=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(e){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===E(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),s=E(t);if(t.hasAttribute("contenteditable"))return-1!==s;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||S(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(m.a))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(m.a))},token:t,providedIn:"root"}),t})();function S(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function E(t){if(!S(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class M{constructor(t,e,n,i,s=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(s.Y)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe(t)}}let I=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new M(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(k),s.dc(s.B),s.dc(i.e))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(k),Object(s.dc)(s.B),Object(s.dc)(i.e))},token:t,providedIn:"root"}),t})(),P=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Object(f.c)(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Object(f.c)(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(I),s.Tb(i.e))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"]}),t})();"undefined"!=typeof Element&&Element;const T=new s.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),A=new s.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let D=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,s;return 1===e.length&&"number"==typeof e[0]?s=e[0]:[i,s]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==s&&n&&(s=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(s.dc(T,8),s.dc(s.B),s.dc(i.e),s.dc(A,8))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(T,8),Object(s.dc)(s.B),Object(s.dc)(i.e),Object(s.dc)(A,8))},token:t,providedIn:"root"}),t})(),R=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=n,this._ngZone=i,this._politeness="off"}get politeness(){return this._politeness}set politeness(t){this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(D),s.Tb(g.b),s.Tb(s.B))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),t})();function L(t){return 0===t.buttons}const F=new s.r("cdk-focus-monitor-default-options"),j=Object(m.f)({passive:!0,capture:!0});let Y=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=L(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Z(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Z(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(r.a)(null);const n=Object(f.e)(t),i=Object(m.c)(n)||this._getDocument(),s=this._elementInfo.get(n);if(s)return e&&(s.checkChildren=!0),s.subject.asObservable();const o={checkChildren:e,subject:new a.a,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}stopMonitoring(t){const e=Object(f.e)(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=Object(f.e)(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Z(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Z(t))return;const i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,j),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,j)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,j),t.addEventListener("mousedown",this._documentMousedownListener,j),t.addEventListener("touchstart",this._documentTouchstartListener,j),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,j),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,j),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,j),t.removeEventListener("mousedown",this._documentMousedownListener,j),t.removeEventListener("touchstart",this._documentTouchstartListener,j),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(s.dc(s.B),s.dc(m.a),s.dc(i.e,8),s.dc(F,8))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(s.B),Object(s.dc)(m.a),Object(s.dc)(i.e,8),Object(s.dc)(F,8))},token:t,providedIn:"root"}),t})();function Z(t){return t.composedPath?t.composedPath()[0]:t.target}let N=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new s.o,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(Y))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),U=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(s.dc(m.a),s.dc(i.e))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(m.a),Object(s.dc)(i.e))},token:t,providedIn:"root"}),t})(),B=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)(s.dc(U))},imports:[[m.b,g.c]]}),t})()},uqn4:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("mrSG"),s=n("ds6q"),a=n("fXoL"),o=n("tk/3"),r=n("tyNb"),c=n("4zkx"),l=n("AXEc"),d=n("5cI5");let h=(()=>{class t{constructor(t,e,n,i,a){this.http=t,this.router=e,this.headerService=n,this.notify=i,this.localStorage=a,this.authMode="default",this.changeKey=null,this.user={},this.eventAction=new s.Subject}catchEvent(){return this.eventAction.asObservable()}setEvent(t){return this.eventAction.next(t)}getToken(){return this.localStorage.get("MaarchCourrierToken")}getAppSession(){return this.localStorage.getAppSession()}setAppSession(t){this.localStorage.setAppSession(t)}setCachedUrl(t){this.localStorage.save("MaarchCourrierCachedUrl",t)}getCachedUrl(){return this.localStorage.get("MaarchCourrierCachedUrl")}cleanCachedUrl(){return this.localStorage.remove("MaarchCourrierCachedUrl")}getUrl(t){return this.localStorage.get("MaarchCourrierUrl_"+t)}setUrl(t){const e=t.split("/");-1===e.indexOf("resources")&&-1===e.indexOf("content")&&this.localStorage.save("MaarchCourrierUrl_"+JSON.parse(atob(this.getToken().split(".")[1])).user.id,t)}cleanUrl(t){return this.localStorage.remove("MaarchCourrierUrl_"+t)}setToken(t){this.localStorage.save("MaarchCourrierToken",t)}getRefreshToken(){return this.localStorage.get("MaarchCourrierRefreshToken")}setRefreshToken(t){this.localStorage.save("MaarchCourrierRefreshToken",t)}clearTokens(){this.localStorage.remove("MaarchCourrierToken"),this.localStorage.remove("MaarchCourrierRefreshToken")}logout(t=!0){return Object(i.a)(this,void 0,void 0,(function*(){null!==this.getToken()&&t&&this.cleanUrl(JSON.parse(atob(this.getToken().split(".")[1])).user.id),this.headerService.setUser(),yield this.router.navigate(["/login"]),this.clearTokens()}))}saveTokens(t,e){this.setToken(t),this.setRefreshToken(e)}isAuth(){return null!==this.getToken()}updateUserInfo(t){const e=this.user.picture;this.user=JSON.parse(atob(t.split(".")[1])).user,this.user.picture=e}updateUserInfoWithTokenRefresh(){this.http.get("../rest/authenticate/token",{params:{refreshToken:this.getRefreshToken()}}).subscribe({next:t=>{this.setToken(t.token),this.updateUserInfo(this.getToken())},error:t=>{this.notify.handleSoftErrors(t)}})}setUser(t){this.user=t}}return t.\u0275fac=function(e){return new(e||t)(a.dc(o.b),a.dc(r.c),a.dc(c.a),a.dc(l.a),a.dc(d.a))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vWc3:function(t,e,n){"use strict";n.d(e,"a",(function(){return nt}));var i=n("ofXK"),s=n("3Pt+"),a=n("tyNb"),o=n("5+WD"),r=n("aEDk"),c=n("fXoL");let l=(()=>{let t=class{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=Object(i.I)(this.platformId)}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const e=this.getCookieRegExp(t).exec(this.document.cookie);return this.safeDecodeURIComponent(e[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;return e.cookie&&""!==e.cookie&&e.cookie.split(";").forEach(e=>{const[n,i]=e.split("=");t[this.safeDecodeURIComponent(n.replace(/^ /,""))]=this.safeDecodeURIComponent(i)}),t}set(t,e,n,i,s,a,o="Lax"){if(!this.documentIsAccessible)return;let r=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";n&&(r+="number"==typeof n?"expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toUTCString()+";":"expires="+n.toUTCString()+";"),i&&(r+="path="+i+";"),s&&(r+="domain="+s+";"),!1===a&&"None"===o&&(a=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),a&&(r+="secure;"),r+="sameSite="+o+";",this.document.cookie=r}delete(t,e,n,i,s="Lax"){this.documentIsAccessible&&this.set(t,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),e,n,i,s)}deleteAll(t,e,n,i="Lax"){if(!this.documentIsAccessible)return;const s=this.getAll();for(const a in s)s.hasOwnProperty(a)&&this.delete(a,t,e,n,i)}getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch(e){return t}}};return t.\u0275fac=function(e){return new(e||t)(c.dc(i.e),c.dc(c.E))},t.\u0275prov=Object(c.Pb)({factory:function(){return new t(Object(c.dc)(i.e),Object(c.dc)(c.E))},token:t,providedIn:"root"}),t})(),d=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},providers:[r.c,l],imports:[[r.j],r.j]}),t})();var h=n("FKr1"),u=n("lJEt"),p=n("/1cH"),f=n("TU8p"),m=n("2ChS"),g=n("bTqV"),b=n("jaxi"),_=n("Wp6s"),v=n("bSwM"),y=n("A5z7"),x=n("iadO"),w=n("0IaG"),C=n("7EHt"),O=n("zkoq"),k=n("NFeN"),S=n("qFsG"),E=n("MutI"),M=n("STbY"),I=n("M9IT"),P=n("bv9b"),T=n("Xa2L"),A=n("QibW"),D=n("d3UM"),R=n("XhcP"),L=n("1jcm"),F=n("5RNC"),j=n("dNgK"),Y=n("Dh3D"),Z=n("xHqg"),N=n("+0xr"),U=n("wZkO"),B=n("/t3+"),z=n("Qu3c"),V=n("vxfF"),H=n("8yBR");const Q=(t,e,n)=>{if(0==n||0==e)return"0 de "+n;const i=t*e;return i<(n=Math.max(n,0))&&Math.min(i+e,n),`Page ${t+1} / ${Math.ceil(n/e)}`},$=(t,e,n)=>0==n||0==e?"0 of "+n:Q(t,e,n);let W=(()=>{class t extends h.v{parse(t){if("string"==typeof t&&t.indexOf("/")>-1){const e=t.split("/"),n=Number(e[2]),i=Number(e[1])-1,s=Number(e[0]);return new Date(n,i,s)}const e="number"==typeof t?t:Date.parse(t);return isNaN(e)?null:new Date(e)}format(t,e){if("input"==e){let e=t.getDate(),n=t.getMonth()+1,i=t.getFullYear();return this._to2digit(e)+"/"+this._to2digit(n)+"/"+i}return t.toLocaleDateString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}_to2digit(t){return("00"+t).slice(-2)}getFirstDayOfWeek(){return 1}}return t.\u0275fac=function(e){return G(e||t)},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac}),t})();const G=c.bc(W),q={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{month:"short",year:"numeric",day:"numeric"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let X=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},providers:[{provide:I.b,useValue:("FR-fr",function(){const t=new I.b;return t.nextPageLabel="Next page",t.previousPageLabel="Previous page",t.getRangeLabel=$,t.itemsPerPageLabel="",t}())},{provide:h.f,useValue:"FR-fr"},{provide:h.c,useClass:W},{provide:h.e,useValue:q}],imports:[[v.b,D.b,L.b,S.c,z.c,U.g,R.g,g.c,_.j,b.c,T.b,P.b,B.b,M.c,O.c,N.p,I.c,Y.c,x.g,h.m,C.b,p.b,j.d,k.b,w.g,E.e,y.g,Z.g,A.c,F.b,f.b,m.b,H.e,h.u,V.g,u.a.forRoot()],v.b,D.b,L.b,S.c,z.c,U.g,R.g,g.c,_.j,b.c,T.b,P.b,B.b,M.c,O.c,N.p,I.c,Y.c,x.g,h.m,C.b,p.b,j.d,k.b,w.g,E.e,y.g,Z.g,A.c,F.b,f.b,m.b,h.u,H.e,V.g,u.a]}),t})();var J=n("AXEc");let K=(()=>{class t{}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},providers:[J.a],imports:[[X,i.c]]}),t})();var tt=n("cMWS"),et=n("sYmb");let nt=(()=>{class t{constructor(t){t.setDefaultLang("fr")}}return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)(c.dc(et.e))},providers:[],imports:[[i.c,a.g,s.n,s.D,X,o.g,d,K,tt.a],i.c,s.n,s.D,a.g,X,d,K,o.g]}),t})()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");function s(){}var a=n("n6bG");function o(t,e,n){return function(i){return i.lift(new r(t,e,n))}}class r{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=s,this._tapError=s,this._tapComplete=s,this._tapError=n||s,this._tapComplete=i||s,Object(a.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||s,this._tapError=e.error||s,this._tapComplete=e.complete||s)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},vxfF:function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return Y})),n.d(e,"f",(function(){return R})),n.d(e,"g",(function(){return B})),n.d(e,"h",(function(){return F}));var i=n("8LU1"),s=n("fXoL"),a=n("XNiG"),o=n("LRne"),r=n("HDdC"),c=n("xgIS"),l=n("VRyK"),d=n("eNwd"),h=n("7Hc7"),u=n("quSY"),p=n("7+OI"),f=n("/uUt"),m=n("3UWI"),g=n("pLZG"),b=n("1G5W"),_=n("JX91"),v=n("7o/Q");class y{call(t,e){return e.subscribe(new x(t))}}class x extends v.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var w=n("eIep"),C=n("UXun"),O=n("nLfN"),k=n("ofXK"),S=n("cH1L"),E=n("0EQZ");const M=["contentWrapper"],I=["*"],P=new s.r("VIRTUAL_SCROLL_STRATEGY");class T{constructor(t,e,n){this._scrolledIndexChange=new a.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Object(f.a)()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){if(n<e)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.measureScrollOffset(),e=t/this._itemSize,n=this._viewport.getRenderedRange(),i={start:n.start,end:n.end},s=this._viewport.getViewportSize(),a=this._viewport.getDataLength(),o=t-i.start*this._itemSize;if(o<this._minBufferPx&&0!=i.start){const t=Math.ceil((this._maxBufferPx-o)/this._itemSize);i.start=Math.max(0,i.start-t),i.end=Math.min(a,Math.ceil(e+(s+this._minBufferPx)/this._itemSize))}else{const n=i.end*this._itemSize-(t+s);if(n<this._minBufferPx&&i.end!=a){const t=Math.ceil((this._maxBufferPx-n)/this._itemSize);t>0&&(i.end=Math.min(a,i.end+t),i.start=Math.max(0,Math.floor(e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(i),this._viewport.setRenderedContentOffset(this._itemSize*i.start),this._scrolledIndexChange.next(Math.floor(e))}}function A(t){return t._scrollStrategy}let D=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new T(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Object(i.f)(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Object(i.f)(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Object(i.f)(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s.Db([{provide:P,useFactory:A,deps:[Object(s.W)(()=>t)]}]),s.Cb]}),t})(),R=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new a.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new r.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Object(m.a)(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(o.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(g.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return Object(c.a)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(s.dc(s.B),s.dc(O.a),s.dc(k.e,8))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(s.B),Object(s.dc)(O.a),Object(s.dc)(k.e,8))},token:t,providedIn:"root"}),t})(),L=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new a.a,this._elementScrolled=new r.a(t=>this.ngZone.runOutsideAngular(()=>Object(c.a)(this.elementRef.nativeElement,"scroll").pipe(Object(b.a)(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Object(O.d)()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Object(O.d)()?t.left=t.right:1==Object(O.d)()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Object(O.g)()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==Object(O.d)()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==Object(O.d)()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(R),s.Tb(s.B),s.Tb(S.c,8))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),F=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(l.a)(Object(c.a)(e,"resize"),Object(c.a)(e,"orientationchange")):Object(o.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Object(m.a)(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(s.dc(O.a),s.dc(s.B),s.dc(k.e,8))},t.\u0275prov=Object(s.Pb)({factory:function(){return new t(Object(s.dc)(O.a),Object(s.dc)(s.B),Object(s.dc)(k.e,8))},token:t,providedIn:"root"}),t})();const j="undefined"!=typeof requestAnimationFrame?d.a:h.a;let Y=(()=>{class t extends L{constructor(t,e,n,i,s,o,c){if(super(t,o,n,s),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=i,this._detachedSubject=new a.a,this._renderedRangeSubject=new a.a,this._orientation="vertical",this.scrolledIndexChange=new r.a(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=u.a.EMPTY,!i)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');c&&(this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}))}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Object(_.a)(null),Object(m.a)(0,j)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Object(b.a)(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let s=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(s+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(s.B),s.Tb(P,8),s.Tb(S.c,8),s.Tb(R),s.Tb(F,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;1&t&&s.Oc(M,!0),2&t&&s.Cc(n=s.ic())&&(e._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&s.Jb("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s.Db([{provide:L,useExisting:t}]),s.Bb],ngContentSelectors:I,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(s.rc(),s.Zb(0,"div",0,1),s.qc(2),s.Yb(),s.Ub(3,"div",2)),2&t&&(s.Eb(3),s.Pc("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function Z(t,e){if(!e.getBoundingClientRect)return 0;const n=e.getBoundingClientRect();return"horizontal"==t?n.width:n.height}let N=(()=>{class t{constructor(t,e,n,i,s){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewport=i,this.viewChange=new a.a,this._dataSourceChanges=new a.a,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(Object(_.a)(null),t=>t.lift(new y),Object(w.a)(([t,e])=>this._changeDataSource(t,e)),Object(C.a)(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new a.a,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Object(b.a)(this._destroyed)).subscribe(t=>{this._renderedRange=t,s.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,Object(E.e)(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new E.a(Object(p.a)(t)?t:Array.prototype.slice.call(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;if(t.start<this._renderedRange.start||t.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const n=t.start-this._renderedRange.start;let i=0,s=t.end-t.start;for(;s--;){const t=this._viewContainerRef.get(s+n);let a=t?t.rootNodes.length:0;for(;a--;)i+=Z(e,t.rootNodes[a])}return i}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let t of this._templateCache)t.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Object(o.a)()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){let n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){t.forEachOperation((t,e,n)=>{if(null==t.previousIndex)this._insertViewForNewItem(n).context.$implicit=t.item;else if(null==n)this._cacheView(this._detachView(e));else{const i=this._viewContainerRef.get(e);this._viewContainerRef.move(i,n),i.context.$implicit=t.item}}),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_cacheView(t){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(t);else{const e=this._viewContainerRef.indexOf(t);-1===e?t.destroy():this._viewContainerRef.remove(e)}}_insertViewForNewItem(t){return this._insertViewFromCache(t)||this._createEmbeddedViewAt(t)}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_createEmbeddedViewAt(t){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},t)}_insertViewFromCache(t){const e=this._templateCache.pop();return e&&this._viewContainerRef.insert(e,t),e||null}_detachView(t){return this._viewContainerRef.detach(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.R),s.Tb(s.O),s.Tb(s.u),s.Tb(Y,4),s.Tb(s.B))},t.\u0275dir=s.Ob({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize",cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate"}}),t})(),U=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)}}),t})(),B=(()=>{class t{}return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[S.a,O.b,U],S.a,U]}),t})()},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("XNiG"),s=n("HDdC"),a=n("7o/Q"),o=n("quSY");function r(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new l(t,n),s=e.subscribe(i);return i.closed||(i.connection=n.connect()),s}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class d extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return r()(this)}}const h=(()=>{const t=d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new i.a}function f(){return t=>{return r()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,h);return i.source=t,i.subjectFactory=n,i})(t));var e}}},w5QO:function(t,e,n){"use strict";e.noop=function(){}},w9N8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class t{constructor(){this.onFileDropped=new i.o,this.disabled=!1,this.background="none",this.opacity="1"}onDragOver(t){this.disabled||(t.preventDefault(),t.stopPropagation(),this.background="#9ecbec",this.opacity="0.8")}onDragLeave(t){this.disabled||(t.preventDefault(),t.stopPropagation(),this.background="rgba(255,255,255,0)",this.opacity="1")}ondrop(t){if(!this.disabled){t.preventDefault(),t.stopPropagation(),this.background="rgba(255,255,255,0)",this.opacity="1";let e=t.dataTransfer.files;e.length>0&&this.onFileDropped.emit(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","appUploadFileDragDrop",""]],hostVars:4,hostBindings:function(t,e){1&t&&i.hc("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&i.Pc("background-color",e.background)("opacity",e.opacity)},inputs:{disabled:"disabled"},outputs:{onFileDropped:"onFileDropped"}}),t})()},wQTr:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("tk/3"),s=n("Q1FS"),a=n("fXoL"),o=n("uqn4");let r=(()=>{class t{constructor(t,e){this.http=t,this.authService=e}transform(t){const e=new i.f({Authorization:"Bearer "+this.authService.getToken()});return new s.Observable(n=>(n.next("data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),void 0!==t&&this.http.get(t,{headers:e,responseType:"blob"}).subscribe(t=>{const e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>{n.next(e.result)}}),{unsubscribe(){}}))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(i.b),a.Tb(o.a))},t.\u0275pipe=a.Sb({name:"secureUrl",type:t,pure:!0}),t})()},wZkO:function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return rt})),n.d(e,"d",(function(){return H})),n.d(e,"e",(function(){return yt})),n.d(e,"f",(function(){return gt})),n.d(e,"g",(function(){return xt}));var i=n("u47x"),s=n("GU7r"),a=n("+rOU"),o=n("ofXK"),r=n("fXoL"),c=n("FKr1"),l=n("R1ws"),d=n("XNiG"),h=n("quSY"),u=n("VRyK"),p=n("xgIS"),f=n("LRne"),m=n("PqYM"),g=n("R0Ic"),b=n("JX91"),_=n("/uUt"),v=n("1G5W"),y=n("8LU1"),x=n("nLfN"),w=n("FtGj"),C=n("cH1L"),O=n("vxfF");function k(t,e){1&t&&r.qc(0)}const S=["*"];function E(t,e){}const M=function(t){return{animationDuration:t}},I=function(t,e){return{value:t,params:e}},P=["tabBodyWrapper"],T=["tabHeader"];function A(t,e){}function D(t,e){if(1&t&&r.Qc(0,A,0,0,"ng-template",9),2&t){const t=r.lc().$implicit;r.sc("cdkPortalOutlet",t.templateLabel)}}function R(t,e){if(1&t&&r.Sc(0),2&t){const t=r.lc().$implicit;r.Tc(t.textLabel)}}function L(t,e){if(1&t){const t=r.ac();r.Zb(0,"div",6),r.hc("click",(function(){r.Hc(t);const n=e.$implicit,i=e.index,s=r.lc(),a=r.Dc(1);return s._handleClick(n,a,i)})),r.Zb(1,"div",7),r.Qc(2,D,1,1,"ng-template",8),r.Qc(3,R,1,1,"ng-template",8),r.Yb(),r.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=r.lc();r.Jb("mat-tab-label-active",i.selectedIndex==n),r.sc("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),r.Fb("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),r.Eb(2),r.sc("ngIf",t.templateLabel),r.Eb(1),r.sc("ngIf",!t.templateLabel)}}function F(t,e){if(1&t){const t=r.ac();r.Zb(0,"mat-tab-body",10),r.hc("_onCentered",(function(){return r.Hc(t),r.lc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return r.Hc(t),r.lc()._setTabBodyWrapperHeight(e)})),r.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=r.lc();r.Jb("mat-tab-body-active",i.selectedIndex==n),r.sc("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),r.Fb("aria-labelledby",i._getTabLabelId(n))}}const j=["tabListContainer"],Y=["tabList"],Z=["nextPaginator"],N=["previousPaginator"],U=["mat-tab-nav-bar",""],B=new r.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let z=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.B),r.Tb(B),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})(),V=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.O))},t.\u0275dir=r.Ob({type:t,selectors:[["","matTabContent",""]]}),t})(),H=(()=>{class t extends a.b{}return t.\u0275fac=function(e){return Q(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[r.Bb]}),t})();const Q=r.bc(H);class ${}const W=Object(c.B)($),G=new r.r("MAT_TAB_GROUP");let q=(()=>{class t extends W{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new d.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){t&&(this._templateLabel=t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new a.j(this._explicitContent||this._implicitContent,this._viewContainerRef)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.R),r.Tb(G,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,H,!0),r.Nc(n,V,!0,r.O)),2&t&&(r.Cc(i=r.ic())&&(e.templateLabel=i.first),r.Cc(i=r.ic())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&r.Oc(r.O,!0),2&t&&r.Cc(n=r.ic())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.Bb,r.Cb],ngContentSelectors:S,decls:1,vars:0,template:function(t,e){1&t&&(r.rc(),r.Qc(0,k,1,0,"ng-template"))},encapsulation:2}),t})();const X={translateTab:Object(g.n)("translateTab",[Object(g.k)("center, void, left-origin-center, right-origin-center",Object(g.l)({transform:"none"})),Object(g.k)("left",Object(g.l)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(g.k)("right",Object(g.l)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(g.m)("* => left, * => right, left => center, right => center",Object(g.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(g.m)("void => left-origin-center",[Object(g.l)({transform:"translate3d(-100%, 0, 0)"}),Object(g.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(g.m)("void => right-origin-center",[Object(g.l)({transform:"translate3d(100%, 0, 0)"}),Object(g.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let J=(()=>{class t extends a.c{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=h.a.EMPTY,this._leavingSub=h.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(b.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.j),r.Tb(r.R),r.Tb(Object(r.W)(()=>tt)),r.Tb(o.e))},t.\u0275dir=r.Ob({type:t,selectors:[["","matTabBodyHost",""]],features:[r.Bb]}),t})(),K=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=h.a.EMPTY,this._translateTabComplete=new d.a,this._onCentering=new r.o,this._beforeCentering=new r.o,this._afterLeavingCenter=new r.o,this._onCentered=new r.o(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(Object(_.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(C.c,8),r.Tb(r.h))},t.\u0275dir=r.Ob({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),tt=(()=>{class t extends K{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(C.c,8),r.Tb(r.h))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&r.ad(a.g,!0),2&t&&r.Cc(n=r.ic())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[r.Bb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(r.Zb(0,"div",0,1),r.hc("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),r.Qc(2,E,0,0,"ng-template",2),r.Yb()),2&t&&r.sc("@translateTab",r.Ac(3,I,e._position,r.zc(1,M,e.animationDuration)))},directives:[J],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[X.translateTab]}}),t})();const et=new r.r("MAT_TABS_CONFIG");let nt=0;class it{}class st{constructor(t){this._elementRef=t}}const at=Object(c.z)(Object(c.A)(st),"primary");let ot=(()=>{class t extends at{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new r.G,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.a.EMPTY,this._tabLabelSubscription=h.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.o,this.focusChange=new r.o,this.animationDone=new r.o,this.selectedTabChange=new r.o(!0),this._groupId=nt++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Object(y.c)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Object(y.f)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(b.a)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new it;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(u.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(et,8),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.Bb]}),t})(),rt=(()=>{class t extends ot{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(et,8),r.Tb(l.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&r.Lb(n,q,!0),2&t&&r.Cc(i=r.ic())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(r.ad(P,!0),r.ad(T,!0)),2&t&&(r.Cc(n=r.ic())&&(e._tabBodyWrapper=n.first),r.Cc(n=r.ic())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r.Db([{provide:G,useExisting:t}]),r.Bb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(r.Zb(0,"mat-tab-header",0,1),r.hc("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),r.Qc(2,L,4,14,"div",2),r.Yb(),r.Zb(3,"div",3,4),r.Qc(5,F,1,8,"mat-tab-body",5),r.Yb()),2&t&&(r.sc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),r.Eb(2),r.sc("ngForOf",e._tabs),r.Eb(1),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Eb(2),r.sc("ngForOf",e._tabs))},directives:function(){return[ft,o.s,dt,c.t,i.e,o.t,a.c,tt]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class ct{}const lt=Object(c.B)(ct);let dt=(()=>{class t extends lt{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l))},t.\u0275dir=r.Ob({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Fb("aria-disabled",!!e.disabled),r.Jb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[r.Bb]}),t})();const ht=Object(x.f)({passive:!0});let ut=(()=>{class t{constructor(t,e,n,i,s,a,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=s,this._platform=a,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new d.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new d.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.o,this.indexFocused=new r.o,s.runOutsideAngular(()=>{Object(p.a)(t.nativeElement,"mouseleave").pipe(Object(v.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Object(y.f)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Object(p.a)(this._previousPaginator.nativeElement,"touchstart",ht).pipe(Object(v.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(p.a)(this._nextPaginator.nativeElement,"touchstart",ht).pipe(Object(v.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(f.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new i.g(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(u.a)(t,e,this._items.changes).pipe(Object(v.a)(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(v.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Object(w.v)(t))switch(t.keyCode){case w.j:this._keyManager.setFirstItemActive(),t.preventDefault();break;case w.f:this._keyManager.setLastItemActive(),t.preventDefault();break;case w.g:case w.q:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:s}=e.elementRef.nativeElement;let a,o;"ltr"==this._getLayoutDirection()?(a=i,o=a+s):(o=this._tabList.nativeElement.offsetWidth-i,a=o-s);const r=this.scrollDistance,c=this.scrollDistance+n;a<r?this.scrollDistance-=r-a+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(m.a)(650,100).pipe(Object(v.a)(Object(u.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(O.h),r.Tb(C.c,8),r.Tb(r.B),r.Tb(x.a),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),pt=(()=>{class t extends ut{constructor(t,e,n,i,s,a,o){super(t,e,n,i,s,a,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(y.c)(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(O.h),r.Tb(C.c,8),r.Tb(r.B),r.Tb(x.a),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,inputs:{disableRipple:"disableRipple"},features:[r.Bb]}),t})(),ft=(()=>{class t extends pt{constructor(t,e,n,i,s,a,o){super(t,e,n,i,s,a,o)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(O.h),r.Tb(C.c,8),r.Tb(r.B),r.Tb(x.a),r.Tb(l.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&r.Lb(n,dt,!1),2&t&&r.Cc(i=r.ic())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(r.Oc(z,!0),r.Oc(j,!0),r.Oc(Y,!0),r.ad(Z,!0),r.ad(N,!0)),2&t&&(r.Cc(n=r.ic())&&(e._inkBar=n.first),r.Cc(n=r.ic())&&(e._tabListContainer=n.first),r.Cc(n=r.ic())&&(e._tabList=n.first),r.Cc(n=r.ic())&&(e._nextPaginator=n.first),r.Cc(n=r.ic())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.Bb],ngContentSelectors:S,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.rc(),r.Zb(0,"div",0,1),r.hc("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),r.Ub(2,"div",2),r.Yb(),r.Zb(3,"div",3,4),r.hc("keydown",(function(t){return e._handleKeydown(t)})),r.Zb(5,"div",5,6),r.hc("cdkObserveContent",(function(){return e._onContentChanges()})),r.Zb(7,"div",7),r.qc(8),r.Yb(),r.Ub(9,"mat-ink-bar"),r.Yb(),r.Yb(),r.Zb(10,"div",8,9),r.hc("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),r.Ub(12,"div",2),r.Yb()),2&t&&(r.Jb("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.sc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Eb(5),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Eb(5),r.Jb("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.sc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[c.t,s.a,z],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),mt=(()=>{class t extends ut{constructor(t,e,n,i,s,a,o){super(t,i,s,e,n,a,o),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement.classList;e.remove("mat-background-"+this.backgroundColor),t&&e.add("mat-background-"+t),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(y.c)(t)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Object(b.a)(null),Object(v.a)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(t){if(!this._items)return;const e=this._items.toArray();for(let n=0;n<e.length;n++)if(e[n].active)return this.selectedIndex=n,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(C.c,8),r.Tb(r.B),r.Tb(r.h),r.Tb(O.h),r.Tb(x.a,8),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,inputs:{color:"color",backgroundColor:"backgroundColor",disableRipple:"disableRipple"},features:[r.Bb]}),t})(),gt=(()=>{class t extends mt{constructor(t,e,n,i,s,a,o){super(t,e,n,i,s,a,o)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(C.c,8),r.Tb(r.B),r.Tb(r.h),r.Tb(O.h),r.Tb(x.a,8),r.Tb(l.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,e,n){var i;1&t&&r.Lb(n,yt,!0),2&t&&r.Cc(i=r.ic())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(r.Oc(z,!0),r.Oc(j,!0),r.Oc(Y,!0),r.ad(Z,!0),r.ad(N,!0)),2&t&&(r.Cc(n=r.ic())&&(e._inkBar=n.first),r.Cc(n=r.ic())&&(e._tabListContainer=n.first),r.Cc(n=r.ic())&&(e._tabList=n.first),r.Cc(n=r.ic())&&(e._nextPaginator=n.first),r.Cc(n=r.ic())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(t,e){2&t&&r.Jb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())("mat-primary","warn"!==e.color&&"accent"!==e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[r.Bb],attrs:U,ngContentSelectors:S,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.rc(),r.Zb(0,"div",0,1),r.hc("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),r.Ub(2,"div",2),r.Yb(),r.Zb(3,"div",3,4),r.hc("keydown",(function(t){return e._handleKeydown(t)})),r.Zb(5,"div",5,6),r.hc("cdkObserveContent",(function(){return e._onContentChanges()})),r.Zb(7,"div",7),r.qc(8),r.Yb(),r.Ub(9,"mat-ink-bar"),r.Yb(),r.Yb(),r.Zb(10,"div",8,9),r.hc("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),r.Ub(12,"div",2),r.Yb()),2&t&&(r.Jb("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.sc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Eb(5),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Eb(5),r.Jb("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.sc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[c.t,s.a,z],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n'],encapsulation:2}),t})();class bt{}const _t=Object(c.E)(Object(c.A)(Object(c.B)(bt)));let vt=(()=>{class t extends _t{constructor(t,e,n,i,s,a){super(),this._tabNavBar=t,this.elementRef=e,this._focusMonitor=s,this._isActive=!1,this.rippleConfig=n||{},this.tabIndex=parseInt(i)||0,"NoopAnimations"===a&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0}),s.monitor(e)}get active(){return this._isActive}set active(t){t!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink(this.elementRef))}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(mt),r.Tb(r.l),r.Tb(c.i,8),r.ec("tabindex"),r.Tb(i.h),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,inputs:{active:"active"},features:[r.Bb]}),t})(),yt=(()=>{class t extends vt{constructor(t,e,n,i,s,a,o,r){super(t,e,s,a,o,r),this._tabLinkRipple=new c.w(this,n,e,i),this._tabLinkRipple.setupTriggerEvents(e.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(gt),r.Tb(r.l),r.Tb(r.B),r.Tb(x.a),r.Tb(c.i,8),r.ec("tabindex"),r.Tb(i.h),r.Tb(l.a,8))},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Fb("aria-current",e.active?"page":null)("aria-disabled",e.disabled)("tabIndex",e.tabIndex),r.Jb("mat-tab-disabled",e.disabled)("mat-tab-label-active",e.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[r.Bb]}),t})(),xt=(()=>{class t{}return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[o.c,c.j,a.i,c.u,s.c,i.a],c.j]}),t})()},wjEo:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=n("FWf1"),a=n("Q1FS"),o=n("6qA3");e.SimpleInnerSubscriber=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(s.Subscriber),e.ComplexInnerSubscriber=function(t){function e(e,n,i){var s=t.call(this)||this;return s.parent=e,s.outerValue=n,s.outerIndex=i,s}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(s.Subscriber),e.SimpleOuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(s.Subscriber),e.ComplexOuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(s.Subscriber),e.innerSubscribe=function(t,e){if(!e.closed)return t instanceof a.Observable?t.subscribe(e):o.subscribeTo(t)(e)}},xHqg:function(t,e,n){"use strict";n.d(e,"a",(function(){return N})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return P})),n.d(e,"e",(function(){return Y})),n.d(e,"f",(function(){return F})),n.d(e,"g",(function(){return $})),n.d(e,"h",(function(){return z})),n.d(e,"i",(function(){return H})),n.d(e,"j",(function(){return B}));var i=n("+rOU"),s=n("B/XX"),a=n("ofXK"),o=n("fXoL"),r=n("bTqV"),c=n("FKr1"),l=n("NFeN"),d=n("XNiG"),h=n("1G5W"),u=n("/uUt"),p=n("R0Ic"),f=n("u47x"),m=n("cH1L");function g(t,e){if(1&t&&o.Vb(0,9),2&t){const t=o.lc();o.sc("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function b(t,e){if(1&t&&(o.Zb(0,"span"),o.Sc(1),o.Yb()),2&t){const t=o.lc(2);o.Eb(1),o.Tc(t._getDefaultTextForState(t.state))}}function _(t,e){if(1&t&&(o.Zb(0,"mat-icon"),o.Sc(1),o.Yb()),2&t){const t=o.lc(2);o.Eb(1),o.Tc(t._getDefaultTextForState(t.state))}}function v(t,e){if(1&t&&(o.Xb(0,10),o.Qc(1,b,2,1,"span",11),o.Qc(2,_,2,1,"mat-icon",12),o.Wb()),2&t){const t=o.lc();o.sc("ngSwitch",t.state),o.Eb(1),o.sc("ngSwitchCase","number")}}function y(t,e){if(1&t&&o.Vb(0,13),2&t){const t=o.lc();o.sc("ngTemplateOutlet",t._templateLabel().template)}}function x(t,e){if(1&t&&(o.Zb(0,"div",14),o.Sc(1),o.Yb()),2&t){const t=o.lc();o.Eb(1),o.Tc(t.label)}}function w(t,e){if(1&t&&(o.Zb(0,"div",15),o.Sc(1),o.Yb()),2&t){const t=o.lc();o.Eb(1),o.Tc(t._intl.optionalLabel)}}function C(t,e){if(1&t&&(o.Zb(0,"div",16),o.Sc(1),o.Yb()),2&t){const t=o.lc();o.Eb(1),o.Tc(t.errorMessage)}}function O(t,e){1&t&&o.qc(0)}const k=["*"];function S(t,e){1&t&&o.Ub(0,"div",6)}function E(t,e){if(1&t){const t=o.ac();o.Xb(0),o.Zb(1,"mat-step-header",4),o.hc("click",(function(){return e.$implicit.select()}))("keydown",(function(e){return o.Hc(t),o.lc()._onKeydown(e)})),o.Yb(),o.Qc(2,S,1,0,"div",5),o.Wb()}if(2&t){const t=e.$implicit,n=e.index,i=e.last,s=o.lc();o.Eb(1),o.sc("tabIndex",s._getFocusIndex()===n?0:-1)("id",s._getStepLabelId(n))("index",n)("state",s._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",s.selectedIndex===n)("active",t.completed||s.selectedIndex===n||!s.linear)("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",s._iconOverrides)("disableRipple",s.disableRipple),o.Fb("aria-posinset",n+1)("aria-setsize",s.steps.length)("aria-controls",s._getStepContentId(n))("aria-selected",s.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.Eb(1),o.sc("ngIf",!i)}}function M(t,e){if(1&t){const t=o.ac();o.Zb(0,"div",7),o.hc("@stepTransition.done",(function(e){return o.Hc(t),o.lc()._animationDone.next(e)})),o.Vb(1,8),o.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=o.lc();o.sc("@stepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),o.Fb("tabindex",i.selectedIndex===n?0:null)("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),o.Eb(1),o.sc("ngTemplateOutlet",t.content)}}function I(t,e){if(1&t){const t=o.ac();o.Zb(0,"div",1),o.Zb(1,"mat-step-header",2),o.hc("click",(function(){return e.$implicit.select()}))("keydown",(function(e){return o.Hc(t),o.lc()._onKeydown(e)})),o.Yb(),o.Zb(2,"div",3),o.Zb(3,"div",4),o.hc("@stepTransition.done",(function(e){return o.Hc(t),o.lc()._animationDone.next(e)})),o.Zb(4,"div",5),o.Vb(5,6),o.Yb(),o.Yb(),o.Yb(),o.Yb()}if(2&t){const t=e.$implicit,n=e.index,i=e.last,s=o.lc();o.Eb(1),o.sc("tabIndex",s._getFocusIndex()==n?0:-1)("id",s._getStepLabelId(n))("index",n)("state",s._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",s.selectedIndex===n)("active",t.completed||s.selectedIndex===n||!s.linear)("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",s._iconOverrides)("disableRipple",s.disableRipple),o.Fb("aria-posinset",n+1)("aria-setsize",s.steps.length)("aria-controls",s._getStepContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.Eb(1),o.Jb("mat-stepper-vertical-line",!i),o.Eb(1),o.sc("@stepTransition",s._getAnimationDirection(n))("id",s._getStepContentId(n)),o.Fb("tabindex",s.selectedIndex===n?0:null)("aria-labelledby",s._getStepLabelId(n))("aria-expanded",s.selectedIndex===n),o.Eb(2),o.sc("ngTemplateOutlet",t.content)}}let P=(()=>{class t extends s.c{}return t.\u0275fac=function(e){return T(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["","matStepLabel",""]],features:[o.Bb]}),t})();const T=o.bc(P);let A=(()=>{class t{constructor(){this.changes=new d.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(o.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const D={provide:A,deps:[[new o.C,new o.M,A]],useFactory:function(t){return t||new A}};let R=(()=>{class t extends s.b{constructor(t,e,n,i){super(n),this._intl=t,this._focusMonitor=e,e.monitor(n,!0),this._intlSubscription=t.changes.subscribe(()=>i.markForCheck())}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(){this._focusMonitor.focusVia(this._elementRef,"program")}_stringLabel(){return this.label instanceof P?null:this.label}_templateLabel(){return this.label instanceof P?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?""+(this.index+1):"edit"==t?"create":"error"==t?"warning":t}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(A),o.Tb(f.h),o.Tb(o.l),o.Tb(o.h))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[o.Bb],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],[3,"ngTemplateOutlet",4,"ngIf"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Zb(1,"div"),o.Zb(2,"div",1),o.Qc(3,g,1,2,"ng-container",2),o.Qc(4,v,3,2,"ng-container",3),o.Yb(),o.Yb(),o.Zb(5,"div",4),o.Qc(6,y,1,1,"ng-container",5),o.Qc(7,x,2,1,"div",6),o.Qc(8,w,2,1,"div",7),o.Qc(9,C,2,1,"div",8),o.Yb()),2&t&&(o.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),o.Eb(1),o.Hb("mat-step-icon-state-",e.state," mat-step-icon"),o.Jb("mat-step-icon-selected",e.selected),o.Eb(1),o.sc("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),o.Eb(1),o.sc("ngSwitchCase",!0),o.Eb(2),o.Jb("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),o.Eb(1),o.sc("ngIf",e._templateLabel()),o.Eb(1),o.sc("ngIf",e._stringLabel()),o.Eb(1),o.sc("ngIf",e.optional&&"error"!=e.state),o.Eb(1),o.sc("ngIf","error"==e.state))},directives:[c.t,a.x,a.y,a.z,a.t,a.A,l.a],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const L={horizontalStepTransition:Object(p.n)("stepTransition",[Object(p.k)("previous",Object(p.l)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Object(p.k)("current",Object(p.l)({transform:"none",visibility:"visible"})),Object(p.k)("next",Object(p.l)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Object(p.m)("* => *",Object(p.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:Object(p.n)("stepTransition",[Object(p.k)("previous",Object(p.l)({height:"0px",visibility:"hidden"})),Object(p.k)("next",Object(p.l)({height:"0px",visibility:"hidden"})),Object(p.k)("current",Object(p.l)({height:"*",visibility:"visible"})),Object(p.m)("* <=> current",Object(p.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let F=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.O))},t.\u0275dir=o.Ob({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t})(),j=(()=>{class t extends s.a{constructor(t,e,n){super(t,n),this._errorStateMatcher=e}isErrorState(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(Object(o.W)(()=>Y)),o.Tb(c.d,4),o.Tb(s.h,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-step"]],contentQueries:function(t,e,n){var i;1&t&&o.Lb(n,P,!0),2&t&&o.Cc(i=o.ic())&&(e.stepLabel=i.first)},exportAs:["matStep"],features:[o.Db([{provide:c.d,useExisting:t},{provide:s.a,useExisting:t}]),o.Bb],ngContentSelectors:k,decls:1,vars:0,template:function(t,e){1&t&&(o.rc(),o.Qc(0,O,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),Y=(()=>{class t extends s.d{constructor(){super(...arguments),this.animationDone=new o.o,this._iconOverrides={},this._animationDone=new d.a}ngAfterContentInit(){this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this._steps.changes.pipe(Object(h.a)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Object(u.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),Object(h.a)(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}}return t.\u0275fac=function(e){return Z(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["","matStepper",""]],contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,j,!0),o.Lb(n,F,!0)),2&t&&(o.Cc(i=o.ic())&&(e._steps=i),o.Cc(i=o.ic())&&(e._icons=i))},viewQuery:function(t,e){var n;1&t&&o.ad(R,!0),2&t&&o.Cc(n=o.ic())&&(e._stepHeader=n)},inputs:{disableRipple:"disableRipple"},outputs:{animationDone:"animationDone"},features:[o.Db([{provide:s.d,useExisting:t}]),o.Bb]}),t})();const Z=o.bc(Y);let N=(()=>{class t extends Y{constructor(){super(...arguments),this.labelPosition="end"}}return t.\u0275fac=function(e){return U(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-horizontal-stepper"]],hostAttrs:["aria-orientation","horizontal","role","tablist",1,"mat-stepper-horizontal"],hostVars:4,hostBindings:function(t,e){2&t&&o.Jb("mat-stepper-label-position-end","end"==e.labelPosition)("mat-stepper-label-position-bottom","bottom"==e.labelPosition)},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition"},exportAs:["matHorizontalStepper"],features:[o.Db([{provide:Y,useExisting:t},{provide:s.d,useExisting:t}]),o.Bb],decls:4,vars:2,consts:[[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[1,"mat-horizontal-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(o.Zb(0,"div",0),o.Qc(1,E,3,18,"ng-container",1),o.Yb(),o.Zb(2,"div",2),o.Qc(3,M,2,6,"div",3),o.Yb()),2&t&&(o.Eb(1),o.sc("ngForOf",e.steps),o.Eb(2),o.sc("ngForOf",e.steps))},directives:[a.s,R,a.t,a.A],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[L.horizontalStepTransition]},changeDetection:0}),t})();const U=o.bc(N);let B=(()=>{class t extends Y{constructor(t,e,n,i){super(t,e,n,i),this._orientation="vertical"}}return t.\u0275fac=function(e){return new(e||t)(o.Tb(m.c,8),o.Tb(o.h),o.Tb(o.l),o.Tb(a.e))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-vertical-stepper"]],hostAttrs:["aria-orientation","vertical","role","tablist",1,"mat-stepper-vertical"],inputs:{selectedIndex:"selectedIndex"},exportAs:["matVerticalStepper"],features:[o.Db([{provide:Y,useExisting:t},{provide:s.d,useExisting:t}]),o.Bb],decls:1,vars:1,consts:[["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&o.Qc(0,I,6,25,"div",0),2&t&&o.sc("ngForOf",e.steps)},directives:[a.s,R,a.A],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[L.verticalStepTransition]},changeDetection:0}),t})(),z=(()=>{class t extends s.f{}return t.\u0275fac=function(e){return V(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["button","matStepperNext",""]],hostVars:1,hostBindings:function(t,e){2&t&&o.cc("type",e.type)},inputs:{type:"type"},features:[o.Bb]}),t})();const V=o.bc(z);let H=(()=>{class t extends s.g{}return t.\u0275fac=function(e){return Q(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["button","matStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){2&t&&o.cc("type",e.type)},inputs:{type:"type"},features:[o.Bb]}),t})();const Q=o.bc(H);let $=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[D,c.d],imports:[[c.j,a.c,i.i,r.c,s.e,l.b,c.u],c.j]}),t})()},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC"),s=n("DH7j"),a=n("n6bG"),o=n("lJxs");function r(t,e,n,c){return Object(a.a)(n)&&(c=n,n=void 0),c?r(t,e,n).pipe(Object(o.a)(t=>Object(s.a)(t)?c(...t):c(t))):new i.a(i=>{!function t(e,n,i,s,a){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,a),o=()=>t.removeEventListener(n,i,a)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,r=e.length;o<r;o++)t(e[o],n,i,s,a)}s.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}},y9tK:function(t,e,n){"use strict";n.d(e,"a",(function(){return B}));var i=n("mrSG"),s=n("fXoL"),a=n("5+WD"),o=n("lJxs"),r=n("vkgz"),c=n("JIr8"),l=n("LRne"),d=n("SIQe"),h=n("sYmb"),u=n("tk/3"),p=n("AXEc"),f=n("0IaG"),m=n("rH+9"),g=n("4zkx"),b=n("ofXK"),_=n("63qU"),v=n("7EHt"),y=n("MutI"),x=n("NFeN"),w=n("FKr1"),C=n("bTqV"),O=n("STbY"),k=n("Xa2L");const S=function(){return["/rest/autocomplete/users","/rest/autocomplete/entities"]};function E(t,e){if(1&t){const t=s.ac();s.Zb(0,"plugin-autocomplete",6,7),s.hc("triggerEvent",(function(e){return s.Hc(t),s.lc(2).addElem(e)})),s.Yb()}if(2&t){const t=s.lc(2);s.sc("labelPlaceholder",t.translate.instant("lang.addUserOrEntity"))("routeDatas",s.yc(4,S))("targetSearchKey","idToDisplay")("subInfoKey","descriptionToDisplay")}}function M(t,e){1&t&&(s.Zb(0,"div",8),s.Sc(1),s.mc(2,"translate"),s.Yb()),2&t&&(s.Eb(1),s.Uc(" ",s.nc(2,1,"lang.noDiffusionList")," "))}function I(t,e){if(1&t&&s.Ub(0,"div",9),2&t){const t=s.lc(2);s.sc("innerHTML",t.translate.instant("lang.diffNoDestmsg"),s.Ic)}}function P(t,e){if(1&t&&(s.Xb(0),s.Sc(1),s.Wb()),2&t){const t=s.lc(2).$implicit,e=s.lc(2);s.Eb(1),s.Uc("(",e.diffList[t.id].items.length,") ")}}function T(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",22),s.hc("click",(function(){s.Hc(t);const n=e.$implicit;return s.lc(6).changeDest(n)})),s.Zb(1,"span"),s.Sc(2),s.Yb(),s.Yb()}if(2&t){const t=e.$implicit;s.Eb(2),s.Tc(t.labelToDisplay)}}function A(t,e){if(1&t){const t=s.ac();s.Zb(0,"div"),s.Zb(1,"button",18),s.hc("click",(function(){return s.Hc(t),s.lc(5).loadDestUserList()})),s.mc(2,"translate"),s.Ub(3,"mat-icon",19),s.Yb(),s.Zb(4,"mat-menu",null,20),s.Qc(6,T,3,1,"button",21),s.Yb(),s.Yb()}if(2&t){const t=s.Dc(5),e=s.lc(5);s.Eb(1),s.tc("title",s.nc(2,3,"lang.chooseAnotherEntityUser")),s.sc("matMenuTriggerFor",t),s.Eb(5),s.sc("ngForOf",e.userDestList)}}function D(t,e){if(1&t){const t=s.ac();s.Zb(0,"button",27),s.hc("click",(function(){s.Hc(t);const e=s.lc().$implicit,n=s.lc(2).$implicit,i=s.lc(2).$implicit;return s.lc(2).changeRole(n,i,e)})),s.Sc(1),s.Yb()}if(2&t){const t=s.lc().$implicit;s.Eb(1),s.Tc(t.label)}}function R(t,e){if(1&t&&(s.Xb(0),s.Qc(1,D,2,1,"button",26),s.Wb()),2&t){const t=e.$implicit,n=s.lc(6);s.Eb(1),s.sc("ngIf",t.canUpdate&&"redirect"!==n.target||"dest"!==t.id&&"redirect"===n.target&&t.canUpdate)}}function L(t,e){if(1&t&&(s.Zb(0,"div"),s.Zb(1,"button",23),s.Sc(2),s.Ub(3,"i",24),s.Yb(),s.Zb(4,"mat-menu",null,25),s.Qc(6,R,2,1,"ng-container",5),s.Yb(),s.Yb()),2&t){const t=s.Dc(5),e=s.lc(3).$implicit,n=s.lc(2);s.Eb(1),s.sc("matMenuTriggerFor",t)("disabled",!n.canUpdateRoles()),s.Eb(1),s.Uc("",e.label," "),s.Eb(2),s.Gb("roleListMenu"),s.Eb(2),s.sc("ngForOf",n.availableRoles)}}function F(t,e){if(1&t){const t=s.ac();s.Zb(0,"div"),s.Zb(1,"button",28),s.hc("click",(function(){s.Hc(t);const e=s.lc().index,n=s.lc(2).$implicit;return s.lc(2).deleteItem(n.id,e)})),s.Ub(2,"mat-icon",29),s.Yb(),s.Yb()}if(2&t){const t=s.lc(5);s.Eb(1),s.sc("disabled",!t.canUpdateRoles())}}function j(t,e){if(1&t&&(s.Zb(0,"mat-list-item",13),s.Ub(1,"mat-icon",14),s.Zb(2,"div",15),s.Zb(3,"p",16),s.Sc(4),s.Yb(),s.Zb(5,"p",17),s.Sc(6),s.Yb(),s.Yb(),s.Qc(7,A,7,5,"div",0),s.Qc(8,L,7,6,"div",0),s.Qc(9,F,3,1,"div",0),s.Yb()),2&t){const t=e.$implicit,n=s.lc(2).$implicit,i=s.lc(2);s.Eb(1),s.Jb("fa-user","user_id"===t.item_type||"user"===t.item_type)("fa-sitemap","entity_id"===t.item_type||"entity"===t.item_type),s.Eb(2),s.sc("title",t.itemLabel),s.Eb(1),s.Tc(t.itemLabel),s.Eb(1),s.sc("title",t.itemSubLabel),s.Eb(1),s.Uc(" ",t.itemSubLabel,""),s.Eb(1),s.sc("ngIf","dest"===n.id&&"redirect"===i.target&&i.adminMode),s.Eb(1),s.sc("ngIf","dest"!==n.id&&i.adminMode&&("user_id"===t.item_type||"user"===t.item_type)),s.Eb(1),s.sc("ngIf","dest"!==n.id&&i.adminMode)}}function Y(t,e){if(1&t&&(s.Zb(0,"mat-expansion-panel",11),s.Zb(1,"mat-expansion-panel-header"),s.Zb(2,"mat-panel-title"),s.Sc(3),s.Qc(4,P,2,1,"ng-container",0),s.Yb(),s.Yb(),s.Zb(5,"mat-list"),s.Qc(6,j,10,11,"mat-list-item",12),s.Yb(),s.Yb()),2&t){const t=s.lc().$implicit,e=s.lc(2);s.sc("expanded","dest"===t.id||e.adminMode||e.expanded),s.Eb(3),s.Uc(" ",t.label," "),s.Eb(1),s.sc("ngIf","dest"!==t.id),s.Eb(2),s.sc("ngForOf",e.diffList[t.id].items)}}function Z(t,e){if(1&t&&(s.Xb(0),s.Qc(1,Y,7,4,"mat-expansion-panel",10),s.Wb()),2&t){const t=e.$implicit,n=s.lc(2);s.Eb(1),s.sc("ngIf",n.diffList[t.id].items.length>0)}}function N(t,e){if(1&t&&(s.Xb(0),s.Qc(1,E,2,5,"plugin-autocomplete",2),s.Qc(2,M,3,3,"div",3),s.Qc(3,I,1,1,"div",4),s.Qc(4,Z,2,1,"ng-container",5),s.Wb()),2&t){const t=s.lc();s.Eb(1),s.sc("ngIf",t.adminMode&&t.canUpdateRoles()),s.Eb(1),s.sc("ngIf",t.isEmptyList()&&!t.loading),s.Eb(1),s.sc("ngIf",t.hasNoDest),s.Eb(1),s.sc("ngForOf",t.availableRoles)}}function U(t,e){1&t&&(s.Zb(0,"div",30),s.Ub(1,"mat-spinner",31),s.Yb())}let B=(()=>{class t{constructor(t,e,n,i,a,o,r){this.translate=t,this.http=e,this.notify=n,this.renderer=i,this.dialog=a,this.functions=o,this.headerService=r,this.roles=[],this.loading=!0,this.availableRoles=[],this.keepRoles=[],this.currentEntityId=0,this.userDestList=[],this.diffList=null,this.listinstanceClone=[],this.hasNoDest=!1,this.resId=null,this.keepDestForRedirection=!1,this.entityId=null,this.selfDest=!1,this.adminMode=!1,this.allowedEntities=[],this.expanded=!1,this.target="",this.triggerEvent=new s.o}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.initRoles(),null!==this.resId&&0!=this.resId&&"redirect"!==this.target?this.loadListinstance(this.resId):null!==this.resId&&0!=this.resId||this.functions.empty(this.entityId)||this.loadListModel(this.entityId,!1,this.selfDest),this.loading=!1}))}drop(t){t.previousContainer===t.container||"dest"!=t.container.id&&Object(a.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}noReturnPredicate(){return!1}allPredicate(){return!0}loadListModel(t,e=!1,n=!1){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0,this.currentEntityId=t,this.userDestList=[];const i=yield this.getListModel(t);if(this.removeAllItems(),i.length>0&&i[0].forEach(t=>{this.diffList[t.item_mode].items.push(t)}),n&&this.headerService.user.entities[0].id===t&&(this.diffList.dest.items=[{item_mode:"dest",item_type:"user",itemSerialId:this.headerService.user.id,itemId:"",itemLabel:`${this.headerService.user.firstname} ${this.headerService.user.lastname}`,itemSubLabel:this.headerService.user.entities[0].entity_label,difflist_type:"entity_id",process_date:null,process_comment:null}]),null!==this.resId){const t=yield this.getListinstance(this.resId);void 0!==t&&t.forEach(t=>{e&&"dest"==t.item_mode&&(this.diffList[t.item_mode].items=[t]),this.keepRoles.indexOf(t.item_mode)>-1&&0===this.diffList[t.item_mode].items.filter(e=>e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type).length&&this.diffList[t.item_mode].items.push(t),this.keepDestForRedirection&&"dest"==t.item_mode&&0===this.diffList.cc.items.filter(e=>e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type).length&&this.diffList.cc.items.push(t)})}void 0!==this.diffFormControl&&this.setFormValues(),this.listinstanceClone=JSON.parse(JSON.stringify(this.getCurrentListinstance())),this.loading=!1}))}getListModel(t){return new Promise((e,n)=>{this.http.get(`../rest/listTemplates/entities/${t}?type=diffusionList`).pipe(Object(o.a)(t=>(t.listTemplates=t.listTemplates.map(t=>t.items.map(t=>({listmodel_id:t.id,listinstance_id:t.listinstance_id,item_mode:t.item_mode,item_type:t.item_type,itemSerialId:t.item_id,itemId:"",itemLabel:t.labelToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:"entity_id",process_date:null,process_comment:null}))),t.listTemplates)),Object(r.a)(t=>{e(t)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(l.a)(!1)))).subscribe()})}getListinstance(t){return new Promise((e,n)=>{0!=t?this.http.get(`../rest/resources/${t}/listInstance`).pipe(Object(o.a)(t=>(t.listInstance=t.listInstance.map(t=>({listinstance_id:t.listinstance_id,item_mode:t.item_mode,item_type:"user_id"===t.item_type?"user":"entity",itemSerialId:t.itemSerialId,itemId:t.item_id,itemLabel:t.labelToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:t.difflist_type,process_date:null,process_comment:null})),t.listInstance)),Object(r.a)(t=>{e(t)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(l.a)(!1)))).subscribe():e([])})}loadListinstance(t){return Object(i.a)(this,void 0,void 0,(function*(){this.http.get(`../rest/resources/${t}/fields/destination?alt=true`).pipe(Object(r.a)(t=>{this.currentEntityId=t.field}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(l.a)(!1)))).subscribe(),this.loading=!0;const e=yield this.getListinstance(t);this.removeAllItems(),e.forEach(t=>{this.functions.empty(this.diffList[t.item_mode])||this.diffList[t.item_mode].items.push(t)}),0===e.filter(t=>"dest"===t.item_mode).length&&!this.availableRoles.filter(t=>"dest"===t.id)[0].canUpdate&&this.adminMode&&(this.adminMode=!1,this.hasNoDest=!0),void 0!==this.diffFormControl&&this.setFormValues(),this.loading=!1,this.listinstanceClone=JSON.parse(JSON.stringify(this.getCurrentListinstance()))}))}saveListinstance(){if(!this.hasEmptyDest())return new Promise((t,e)=>{const n=[{resId:this.resId,listInstances:this.getCurrentListinstance()}];this.http.put("../rest/listinstances",n).pipe(Object(r.a)(e=>{e&&null!=e.errors?this.notify.error(e.errors):(this.listinstanceClone=JSON.parse(JSON.stringify(this.getCurrentListinstance())),this.notify.success(this.translate.instant("lang.diffusionListUpdated")),t(!0))}),Object(c.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()});this.notify.error(this.translate.instant("lang.noDest"))}initRoles(){return new Promise((t,e)=>{this.http.get("../rest/roles?context="+this.target).pipe(Object(o.a)(t=>(t.roles=t.roles.map(t=>Object.assign(Object.assign({},t),{id:t.id})),t.roles)),Object(r.a)(e=>{this.diffList={},this.availableRoles=e,this.availableRoles.forEach(t=>{this.diffList[t.id]={label:t.label,items:[]},t.keepInListInstance&&this.keepRoles.push(t.id)}),t(!0)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(l.a)(!1)))).subscribe()})}deleteItem(t,e){this.diffList[t].items.splice(e,1),void 0!==this.diffFormControl&&this.setFormValues()}getCurrentListinstance(){let t=[];return null!==this.diffList&&Object.keys(this.diffList).forEach(e=>{this.diffList[e].items.length>0&&this.diffList[e].items.forEach(n=>{t.push({difflist_type:n.difflist_type,item_id:n.itemSerialId,item_mode:"copy"===e?"cc":e,item_type:n.item_type,process_date:n.process_date,process_comment:n.process_comment})})}),t}loadDestUserList(){this.currentEntityId>0&&0==this.userDestList.length&&this.http.get("../rest/entities/"+this.currentEntityId+"/users").subscribe(t=>{this.userDestList=t.users,this.loading=!1},t=>{this.notify.handleErrors(t)})}changeDest(t){this.diffList.dest.items[0]={listinstance_id:null,item_mode:"dest",item_type:"user",itemSerialId:t.id,itemId:t.user_id,itemLabel:t.labelToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:"entity_id",process_date:null,process_comment:null}}getDestUser(){return!(null===this.diffList||!this.diffList.dest)&&this.diffList.dest.items}addElem(t){return Object(i.a)(this,void 0,void 0,(function*(){let e="cc";this.hasEmptyDest()&&"user"==t.type&&(e=this.currentEntityId?(yield this.isUserInCurrentEntity(t.serialId))&&this.availableRoles.filter(t=>"dest"===t.id)[0].canUpdate?"dest":"cc":this.availableRoles.filter(t=>"dest"===t.id)[0].canUpdate?"dest":"cc");let n="";n="user"==t.type?"user":"entity";const i={listinstance_id:null,item_mode:e,item_type:n,itemSerialId:t.serialId,itemId:t.id,itemLabel:t.idToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:"entity_id",process_date:null,process_comment:null};this.isItemInThisRole(i,"cc")||(this.diffList[e].items.unshift(i),void 0!==this.diffFormControl&&this.setFormValues())}))}isItemInThisRole(t,e){return this.diffList[e].items.map((t,e)=>Object.assign(Object.assign({},t),{index:e})).filter(e=>e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type).length>0}isUserInCurrentEntity(t){return new Promise((e,n)=>{this.http.get(`../rest/entities/${this.currentEntityId}/users`).pipe(Object(r.a)(n=>{const i=n.users.filter(e=>e.id===t).length>0;e(i)}),Object(c.a)(t=>(this.notify.handleSoftErrors(t),Object(l.a)(!1)))).subscribe()})}removeAllItems(){Object.keys(this.diffList).forEach(t=>{this.diffList[t].items=[]})}hasEmptyDest(){return 0===this.diffList.dest.items.length}isEmptyList(){let t=!0;return null!==this.diffList&&Object.keys(this.diffList).forEach(e=>{this.diffList[e].items.length>0&&(t=!1)}),t}changeRole(t,e,n){"dest"===n.id?this.switchUserWithOldDest(t,e):this.changeUserRole(t,e,n)}switchMode(){this.adminMode=!this.adminMode,this.adminMode&&this.canUpdateRoles()&&setTimeout(()=>{this.renderer.selectRootElement("#autoCompleteInput").focus()},100)}switchUserWithOldDest(t,e){this.http.get("../rest/users/"+t.itemSerialId+"/entities").pipe(Object(o.a)(t=>(t.entities=t.entities.map(t=>t.id),t)),Object(r.a)(n=>{let i=-1,s=!1,a=[];if(this.allowedEntities.forEach(t=>{n.entities.indexOf(t)>-1&&(s=!0,a.push(n.entities[n.entities.indexOf(t)]))}),s||"process"===this.target||"details"===this.target){if(this.diffList.dest.items.length>0){const t=this.diffList.dest.items[0];i=this.diffList[e.id].items.map(t=>t.itemSerialId).indexOf(t.itemSerialId),-1!==i||this.isItemInThisRole(t,e.id)||(t.item_mode=e.id,this.diffList[e.id].items.push(t))}const n=this.diffList[e.id].items.map((t,e)=>Object.assign(Object.assign({},t),{index:e})).filter(e=>e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type);n.length>0&&this.diffList[e.id].items.splice(n[0].index,1),t.item_mode="dest",this.diffList.dest.items[0]=t,void 0!==this.diffFormControl&&this.setFormValues(),void 0!==this.triggerEvent&&this.triggerEvent.emit(a)}else this.dialog.open(d.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.userUnauthorized"),msg:"<b>"+t.itemLabel+"</b> "+this.translate.instant("lang.notInAuthorizedEntities")}})})).subscribe()}changeUserRole(t,e,n){let i;i=this.diffList[e.id].items.map(t=>t.itemSerialId).indexOf(t.itemSerialId),i>-1&&this.diffList[e.id].items.splice(i,1),this.isItemInThisRole(t,n.id)||(t.item_mode=n.id,this.diffList[n.id].items.push(t)),void 0!==this.diffFormControl&&this.setFormValues()}setFormValues(){let t=[];Object.keys(this.diffList).forEach(e=>{t=t.concat(this.diffList[e].items.map(t=>({id:t.itemSerialId,mode:e,type:"user"===t.item_type?"user":"entity"})))}),this.diffFormControl.setValue(t),this.diffFormControl.markAsTouched()}canUpdateRoles(){return this.availableRoles.filter(t=>!0===t.canUpdate).length>0}isModified(){return JSON.stringify(this.listinstanceClone)!==JSON.stringify(this.getCurrentListinstance())}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(h.e),s.Tb(u.b),s.Tb(p.a),s.Tb(s.H),s.Tb(f.b),s.Tb(m.a),s.Tb(g.a))},t.\u0275cmp=s.Nb({type:t,selectors:[["app-diffusions-list"]],inputs:{resId:"resId",keepDestForRedirection:"keepDestForRedirection",entityId:"entityId",selfDest:"selfDest",adminMode:"adminMode",allowedEntities:"allowedEntities",expanded:"expanded",target:"target",diffFormControl:"diffFormControl"},outputs:{triggerEvent:"triggerEvent"},decls:2,vars:2,consts:[[4,"ngIf"],["style","display:flex;",4,"ngIf"],["appearance","ouline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent",4,"ngIf"],["style","text-align:center;font-size:24px;font-weight:bold;opacity:0.3;",4,"ngIf"],["class","alert-message alert-message-danger","role","alert",3,"innerHTML",4,"ngIf"],[4,"ngFor","ngForOf"],["appearance","ouline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent"],["test",""],[2,"text-align","center","font-size","24px","font-weight","bold","opacity","0.3"],["role","alert",1,"alert-message","alert-message-danger",3,"innerHTML"],["class","diffusionList",3,"expanded",4,"ngIf"],[1,"diffusionList",3,"expanded"],["disableRipple","","class","item-diffusion-list",4,"ngFor","ngForOf"],["disableRipple","",1,"item-diffusion-list"],["mat-list-icon","","color","primary",1,"fa"],[1,"item-diffusion"],["mat-line","",3,"title"],["mat-line","",1,"subInfo",3,"title"],["mat-icon-button","",3,"matMenuTriggerFor","title","click"],["color","primary",1,"fa","fa-edit"],["menuDestUserList","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor","disabled"],[1,"fa","fa-chevron-down"],["menu","matMenu"],["mat-menu-item","","style","font-size:13px;",3,"click",4,"ngIf"],["mat-menu-item","",2,"font-size","13px",3,"click"],["mat-icon-button","","color","warn",3,"disabled","click"],[1,"fa","fa-trash",2,"height","auto"],[2,"display","flex"],[2,"margin","auto"]],template:function(t,e){1&t&&(s.Qc(0,N,5,4,"ng-container",0),s.Qc(1,U,2,0,"div",1)),2&t&&(s.sc("ngIf",!e.loading),s.Eb(1),s.sc("ngIf",e.loading))},directives:[b.t,b.s,_.a,v.c,v.g,v.h,y.a,y.d,x.a,y.c,w.k,C.b,O.d,O.e,O.b,k.c],pipes:[h.d],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.notDraggable[_ngcontent-%COMP%]{cursor:not-allowed}.notEditable[_ngcontent-%COMP%]{cursor:auto}.roleList[_ngcontent-%COMP%]{padding-bottom:40px}.diffusionList[_ngcontent-%COMP%]{box-shadow:none}.diffusionList[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#4a4a4a;font-weight:700;font-size:13px}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]{height:55px;margin-bottom:10px;background-color:hsla(0,0%,84.7%,.1);border-radius:10px;font-size:13px}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:13px;height:13px;width:13px;padding-right:10px}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .item-diffusion[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;overflow:hidden}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .item-diffusion[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{margin:0}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .subInfo[_ngcontent-%COMP%]{font-size:13px;opacity:.5}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{background:#fff;font-size:13px;border:.5px solid rgba(74,74,74,.32);border-radius:29.5px;color:#4a4a4a} .roleListMenu .mat-menu-content{padding-top:0;padding-bottom:0;font-size:13px;color:#4a4a4a}"]}),t})()},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),s=n("ngJS"),a=n("jZKg");function o(t,e){return e?Object(a.a)(t,e):new i.a(Object(s.a)(t))}},yLV6:function(t,e,n){var i;!function(s,a,o,r){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],d=a.createElement("div"),h=Math.round,u=Math.abs,p=Date.now;function f(t,e,n){return setTimeout(x(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function b(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=s.console&&(s.console.warn||s.console.log);return a&&a.call(s.console,i,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e}:Object.assign;var _=b((function(t,e,n){for(var i=Object.keys(e),s=0;s<i.length;)(!n||n&&void 0===t[i[s]])&&(t[i[s]]=e[i[s]]),s++;return t}),"extend","Use `assign`."),v=b((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function y(t,e,n){var i,s=e.prototype;(i=t.prototype=Object.create(s)).constructor=t,i._super=s,n&&c(i,n)}function x(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function O(t,e,n){g(M(e),(function(e){t.addEventListener(e,n,!1)}))}function k(t,e,n){g(M(e),(function(e){t.removeEventListener(e,n,!1)}))}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function E(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function T(t,e,n){for(var i=[],s=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];I(s,o)<0&&i.push(t[a]),s[a]=o,a++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function A(t,e){for(var n,i,s=e[0].toUpperCase()+e.slice(1),a=0;a<l.length;){if((i=(n=l[a])?n+s:e)in t)return i;a++}}var D=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s}var L="ontouchstart"in s,F=void 0!==A(s,"PointerEvent"),j=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Y=["x","y"],Z=["clientX","clientY"];function N(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function U(t,e,n){var i=n.pointers.length,s=n.changedPointers.length,a=1&e&&i-s==0,o=12&e&&i-s==0;n.isFirst=!!a,n.isFinal=!!o,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,s=i.length;n.firstInput||(n.firstInput=B(e)),s>1&&!n.firstMultiple?n.firstMultiple=B(e):1===s&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,r=o?o.center:a.center,c=e.center=z(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=$(r,c),e.distance=Q(r,c),function(t,e){var n=e.center,i=t.offsetDelta||{},s=t.prevDelta||{},a=t.prevInput||{};1!==e.eventType&&4!==a.eventType||(s=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=s.x+(n.x-i.x),e.deltaY=s.y+(n.y-i.y)}(n,e),e.offsetDirection=H(e.deltaX,e.deltaY);var l,d,h=V(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=u(h.x)>u(h.y)?h.x:h.y,e.scale=o?(l=o.pointers,Q((d=i)[0],d[1],Z)/Q(l[0],l[1],Z)):1,e.rotation=o?function(t,e){return $(e[1],e[0],Z)+$(t[1],t[0],Z)}(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,s,a,o=t.lastInterval||e,r=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(r>25||void 0===o.velocity)){var c=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,d=V(r,c,l);i=d.x,s=d.y,n=u(d.x)>u(d.y)?d.x:d.y,a=H(c,l),t.lastInterval=e}else n=o.velocity,i=o.velocityX,s=o.velocityY,a=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=s,e.direction=a}(n,e);var f=t.element;S(e.srcEvent.target,f)&&(f=e.srcEvent.target),e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function B(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,s=0;s<e;)n+=t[s].clientX,i+=t[s].clientY,s++;return{x:h(n/e),y:h(i/e)}}function V(t,e,n){return{x:e/t||0,y:n/t||0}}function H(t,e){return t===e?1:u(t)>=u(e)?t<0?2:4:e<0?8:16}function Q(t,e,n){n||(n=Y);var i=e[n[0]]-t[n[0]],s=e[n[1]]-t[n[1]];return Math.sqrt(i*i+s*s)}function $(t,e,n){return n||(n=Y),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}N.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(R(this.element),this.evWin,this.domHandler)}};var W={mousedown:1,mousemove:2,mouseup:4};function G(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,N.apply(this,arguments)}y(G,N,{handler:function(t){var e=W[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",K="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=K,N.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(J="MSPointerDown",K="MSPointerMove MSPointerUp MSPointerCancel"),y(tt,N,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),s=q[i],a=X[t.pointerType]||t.pointerType,o="touch"==a,r=I(e,t.pointerId,"pointerId");1&s&&(0===t.button||o)?r<0&&(e.push(t),r=e.length-1):12&s&&(n=!0),r<0||(e[r]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(r,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,N.apply(this,arguments)}function it(t,e){var n=P(t.touches),i=P(t.changedTouches);return 12&e&&(n=T(n.concat(i),"identifier",!0)),[n,i]}y(nt,N,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function at(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},N.apply(this,arguments)}function ot(t,e){var n=P(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var s,a,o=P(t.changedTouches),r=[],c=this.target;if(a=n.filter((function(t){return S(t.target,c)})),1===e)for(s=0;s<a.length;)i[a[s].identifier]=!0,s++;for(s=0;s<o.length;)i[o[s].identifier]&&r.push(o[s]),12&e&&delete i[o[s].identifier],s++;return r.length?[T(a.concat(r),"identifier",!0),r]:void 0}function rt(){N.apply(this,arguments);var t=x(this.handler,this);this.touch=new at(this.manager,t),this.mouse=new G(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function dt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var s=this.lastTouches[i],a=Math.abs(e-s.x),o=Math.abs(n-s.y);if(a<=25&&o<=25)return!0}return!1}y(at,N,{handler:function(t){var e=st[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),y(rt,N,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ct.call(this,e,n);else if(i&&dt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=A(d.style,"touchAction"),ut=void 0!==ht,pt=function(){if(!ut)return!1;var t={},e=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||s.CSS.supports("touch-action",n)})),t}();function ft(t,e){this.manager=t,this.set(e)}function mt(t){this.options=c({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function bt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function _t(t,e){var n=e.manager;return n?n.get(t):t}function vt(){mt.apply(this,arguments)}function yt(){vt.apply(this,arguments),this.pX=null,this.pY=null}function xt(){vt.apply(this,arguments)}function wt(){mt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){vt.apply(this,arguments)}function Ot(){vt.apply(this,arguments)}function kt(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function St(t,e){return(e=e||{}).recognizers=C(e.recognizers,St.defaults.preset),new Et(t,e)}function Et(t,e){var n;this.options=c({},St.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?tt:j?at:L?rt:G))(n,U),this.touchAction=new ft(this,this.options.touchAction),Mt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Mt(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,(function(s,a){n=A(i.style,a),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}ft.prototype={set:function(t){"compute"==t&&(t=this.compute()),ut&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(E(t,"none"))return"none";var e=E(t,"pan-x"),n=E(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":E(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,s=E(i,"none")&&!pt.none,a=E(i,"pan-y")&&!pt["pan-y"],o=E(i,"pan-x")&&!pt["pan-x"];if(s&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!a)return s||a&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=_t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=_t(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=_t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=_t(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+gt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},y(vt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,s=this.attrTest(t);return i&&(8&n||!s)?16|e:i||s?4&n?8|e:2&e?4|e:2:32}}),y(yt,vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,s=t.direction,a=t.deltaX,o=t.deltaY;return s&e.direction||(6&e.direction?(s=0===a?1:a<0?2:4,n=a!=this.pX,i=Math.abs(t.deltaX)):(s=0===o?1:o<0?8:16,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=s,n&&i>e.threshold&&s&e.direction},attrTest:function(t){return vt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=bt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),y(xt,vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),y(wt,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),y(Ct,vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),y(Ot,vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&u(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=bt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),y(kt,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&s&&n){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||Q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&a?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),St.VERSION="2.0.7",St.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[xt,{enable:!1},["rotate"]],[Ot,{direction:6}],[yt,{direction:6},["swipe"]],[kt],[kt,{event:"doubletap",taps:2},["tap"]],[wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Et.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,s=e.curRecognizer;(!s||s&&8&s.state)&&(s=e.curRecognizer=null);for(var a=0;a<i.length;)n=i[a],2===e.stopped||s&&n!=s&&!n.canRecognizeWith(s)?n.reset():n.recognize(t),!s&&14&n.state&&(s=e.curRecognizer=n),a++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(M(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(M(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(St,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Et,Input:N,TouchAction:ft,TouchInput:at,MouseInput:G,PointerEventInput:tt,TouchMouseInput:rt,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:vt,Tap:kt,Pan:yt,Swipe:Ot,Pinch:xt,Rotate:Ct,Press:wt,on:O,off:k,each:g,merge:v,extend:_,assign:c,inherit:y,bindFn:x,prefixed:A}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=St,void 0===(i=(function(){return St}).call(e,n,e,t))||(t.exports=i)}(window,document)},yRPT:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},yoF8:function(t,e,n){"use strict";e.identity=function(t){return t}},yx2s:function(t,e,n){"use strict";var i=n("FWf1");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof i.Subscriber?e:null}return!0}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return i}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC");function s(t,e){return new i.a(e?n=>e.schedule(a,0,{error:t,subscriber:n}):e=>e.error(t))}function a({error:t,subscriber:e}){e.error(t)}},"zB/H":function(t,e,n){"use strict";var i=n("mbIT"),s=n("GMZp"),a=n("pshJ"),o=n("LBXl");function r(t){return t.reduce((function(t,e){return t.concat(e instanceof o.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,c=this._ctorUnsubscribe,l=this._unsubscribe,d=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(a.isFunction(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(f){e=f instanceof o.UnsubscriptionError?r(f.errors):[f]}}if(i.isArray(d)){h=-1;for(var u=d.length;++h<u;){var p=d[h];if(s.isObject(p))try{p.unsubscribe()}catch(f){e=e||[],f instanceof o.UnsubscriptionError?e=e.concat(r(f.errors)):e.push(f)}}}if(e)throw new o.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var s=n._parentOrParents;if(null===s)n._parentOrParents=this;else if(s instanceof t){if(s===this)return n;n._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return n;s.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}()},zZ42:function(t,e,n){"use strict";n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return st})),n.d(e,"c",(function(){return et}));var i=n("fXoL"),s=n("ofXK"),a=n("jtHE"),o=n("LRne"),r=n("HDdC"),c=n("XNiG"),l=n("tyNb"),d=n("nYR2");const h=["stepHolder"],u=["stepContainer"];function p(t,e){if(1&t&&i.Ub(0,"joyride-arrow",17),2&t){const t=i.lc();i.Pc("top",t.arrowTopPosition,"px")("left",t.arrowLeftPosition,"px"),i.sc("position",t.arrowPosition)}}function f(t,e){1&t&&i.Vb(0)}function m(t,e){if(1&t&&(i.Sc(0),i.mc(1,"async")),2&t){const t=i.lc();i.Uc(" ",i.nc(1,1,t.text)," ")}}function g(t,e){1&t&&i.Vb(0)}function b(t,e){if(1&t&&(i.Zb(0,"div",20),i.Sc(1),i.Yb()),2&t){const t=i.lc(2);i.Eb(1),i.Tc(t.counter)}}function _(t,e){if(1&t&&(i.Zb(0,"div",18),i.Qc(1,g,1,0,"ng-container",9),i.Qc(2,b,2,1,"ng-template",null,19,i.Rc),i.Yb()),2&t){const t=i.Dc(3),e=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",e.customCounter?e.customCounter:t)("ngTemplateOutletContext",e.counterData)}}function v(t,e){1&t&&i.Vb(0)}function y(t,e){if(1&t&&(i.Zb(0,"joyride-button",24),i.Sc(1),i.mc(2,"async"),i.Yb()),2&t){const t=i.lc(2);i.sc("color",t.themeColor),i.Eb(1),i.Tc(i.nc(2,2,t.prevText))}}function x(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",21),i.hc("click",(function(){return i.Hc(t),i.lc().prev()})),i.Qc(1,v,1,0,"ng-container",22),i.Qc(2,y,3,4,"ng-template",null,23,i.Rc),i.Yb()}if(2&t){const t=i.Dc(3),e=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",e.customPrevButton?e.customPrevButton:t)}}function w(t,e){1&t&&i.Vb(0)}function C(t,e){if(1&t&&(i.Zb(0,"joyride-button",27),i.Sc(1),i.mc(2,"async"),i.Yb()),2&t){const t=i.lc(2);i.sc("color",t.themeColor),i.Eb(1),i.Tc(i.nc(2,2,t.nextText))}}function O(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",25),i.hc("click",(function(){return i.Hc(t),i.lc().next()})),i.Qc(1,w,1,0,"ng-container",22),i.Qc(2,C,3,4,"ng-template",null,26,i.Rc),i.Yb()}if(2&t){const t=i.Dc(3),e=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",e.customNextButton?e.customNextButton:t)}}function k(t,e){1&t&&i.Vb(0)}function S(t,e){if(1&t&&(i.Zb(0,"joyride-button",30),i.Sc(1),i.mc(2,"async"),i.Yb()),2&t){const t=i.lc(2);i.sc("color",t.themeColor),i.Eb(1),i.Tc(i.nc(2,2,t.doneText))}}function E(t,e){if(1&t){const t=i.ac();i.Zb(0,"div",28),i.hc("click",(function(){return i.Hc(t),i.lc().close()})),i.Qc(1,k,1,0,"ng-container",22),i.Qc(2,S,3,4,"ng-template",null,29,i.Rc),i.Yb()}if(2&t){const t=i.Dc(3),e=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",e.customDoneButton?e.customDoneButton:t)}}const M=function(t,e,n){return{"background-color":t,color:e,"border-color":n}},I=["*"];class P{constructor(){this.title=new a.a,this.text=new a.a}}const T={prev:Object(o.a)("prev"),next:Object(o.a)("next"),done:Object(o.a)("done"),close:Object(o.a)(null)};let A=(()=>{let t=class{constructor(){this.themeColor="#3b5560",this.stepDefaultPosition="bottom",this.logsEnabled=!1,this.showCounter=!0,this.showPrevButton=!0,this.stepsOrder=[]}setOptions(t){this.stepsOrder=t.steps,this.stepDefaultPosition=t.stepDefaultPosition?t.stepDefaultPosition:this.stepDefaultPosition,this.logsEnabled=void 0!==t.logsEnabled?t.logsEnabled:this.logsEnabled,this.showCounter=void 0!==t.showCounter?t.showCounter:this.showCounter,this.showPrevButton=void 0!==t.showPrevButton?t.showPrevButton:this.showPrevButton,this.themeColor=t.themeColor?t.themeColor:this.themeColor,this.firstStep=t.startWith,this.waitingTime=void 0!==t.waitingTime?t.waitingTime:1,this.setCustomText(void 0!==t.customTexts?t.customTexts:T)}getBackdropColor(){return this.hexToRgb(this.themeColor)}getThemeColor(){return this.themeColor}getStepDefaultPosition(){return this.stepDefaultPosition}getStepsOrder(){return this.stepsOrder}getFirstStep(){return this.firstStep}getWaitingTime(){return this.waitingTime}areLogsEnabled(){return this.logsEnabled}isCounterVisible(){return this.showCounter}isPrevButtonVisible(){return this.showPrevButton}getCustomTexts(){return this.customTexts}setCustomText(t){let e,n,i,s;e=t.prev?t.prev:T.prev,n=t.next?t.next:T.next,i=t.done?t.done:T.done,s=t.close?t.close:T.close,this.customTexts={prev:this.toObservable(e),next:this.toObservable(n),done:this.toObservable(i),close:this.toObservable(s)}}toObservable(t){return t instanceof r.a?t:Object(o.a)(t)}hexToRgb(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,e,n,i)=>e+e+n+n+i+i);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?`${parseInt(e[1],16)}, ${parseInt(e[2],16)}, ${parseInt(e[3],16)}`:null}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const D="ngx-joyride:::";let R=(()=>{let t=class{constructor(t){this.optionService=t}debug(t,e=""){this.optionService.areLogsEnabled()&&console.debug(D+t,e)}info(t,e=""){this.optionService.areLogsEnabled()&&console.info(D+t,e)}warn(t,e=""){this.optionService.areLogsEnabled()&&console.warn(D+t,e)}error(t,e=""){this.optionService.areLogsEnabled()&&console.error(D+t,e)}};return t.\u0275fac=function(e){return new(e||t)(i.dc(A))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class L extends Error{constructor(t){super(t),Object.setPrototypeOf(this,L.prototype)}}class F extends Error{constructor(t){super(t),Object.setPrototypeOf(this,F.prototype)}}class j extends Error{constructor(t){super(t),Object.setPrototypeOf(this,j.prototype)}}var Y=function(t){return t.NEXT="NEXT",t.PREV="PREV",t}({});let Z=(()=>{let t=class{constructor(t,e){this.stepOptions=t,this.logger=e,this.tempSteps=[],this.currentStepIndex=-2,this.stepHasBeenModified=new c.a}getFirstStepIndex(){const t=this.stepOptions.getFirstStep();let e=this.stepOptions.getStepsOrder().indexOf(t);return e<0&&(e=0,void 0!==t&&this.logger.warn(`The step ${t} does not exist. Check in your step list if it's present.`)),e}init(){this.logger.info("Initializing the steps array."),this.steps=[],this.currentStepIndex=this.getFirstStepIndex()-1,this.stepOptions.getStepsOrder().forEach(t=>this.steps.push({id:t,step:null}))}addStep(t){if(this.tempSteps.filter(e=>e.name===t.name).length>0){let e=this.tempSteps.findIndex(e=>e.name===t.name);this.tempSteps[e]=t}else this.logger.info(`Adding step ${t.name} to the steps list.`),this.tempSteps.push(t)}get(t){if(t===Y.NEXT?this.currentStepIndex++:this.currentStepIndex--,this.currentStepIndex<0||this.currentStepIndex>=this.steps.length)throw new j("The first or last step of the tour cannot be found!");const e=this.getStepName(this.steps[this.currentStepIndex].id),n=this.tempSteps.findIndex(t=>t.name===e);let i=this.tempSteps[n];return this.steps[this.currentStepIndex].step=i,null==i&&this.logger.warn(`Step ${this.steps[this.currentStepIndex].id} not found in the DOM. Check if it's hidden by *ngIf directive.`),i}getStepRoute(t){let e;return e=t===Y.NEXT?this.steps[this.currentStepIndex+1]?this.steps[this.currentStepIndex+1].id:null:this.steps[this.currentStepIndex-1]?this.steps[this.currentStepIndex-1].id:null,e&&e.includes("@")?e.split("@")[1]:""}updatePosition(t,e){let n=this.getStepIndex(t);this.steps[n].step?(this.steps[n].step.position=e,this.stepHasBeenModified.next(this.steps[n].step)):this.logger.warn(`Trying to modify the position of ${t} to ${e}. Step not found!Is this step located in a different route?`)}getStepNumber(t){return this.getStepIndex(t)+1}getStepsCount(){return this.stepOptions.getStepsOrder().length}getStepIndex(t){const e=this.steps.map(t=>t.id.includes("@")?t.id.split("@")[0]:t.id).findIndex(e=>t===e);if(-1===e)throw new L(`The step with name: ${t} does not exist in the step list.`);return e}getStepName(t){return t&&t.includes("@")?t.split("@")[0]:t}};return t.\u0275fac=function(e){return new(e||t)(i.dc(A),i.dc(R))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),N=(()=>{let t=class{constructor(t){this.platformId=t,this.fakeDocument={body:{},documentElement:{}},this.fakeWindow={document:this.fakeDocument,navigator:{}}}getNativeWindow(){return Object(s.I)(this.platformId)?window:this.fakeWindow}getNativeDocument(){return Object(s.I)(this.platformId)?document:this.fakeDocument}};return t.\u0275fac=function(e){return new(e||t)(i.dc(i.E))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{let t=class{setPrevButton(t){this._prevButton=t}getPrevButton(){return this._prevButton}setNextButton(t){this._nextButton=t}getNextButton(){return this._nextButton}setDoneButton(t){this._doneButton=t}getDoneButton(){return this._doneButton}setCounter(t){this._counter=t}getCounter(){return this._counter}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),B=(()=>{let t=class{constructor(t,e,n,s,a,o){this.joyrideStepsContainer=t,this.viewContainerRef=e,this.domService=n,this.router=s,this.templateService=a,this.platformId=o,this.stepPosition="NO_POSITION",this.prev=new i.o,this.next=new i.o,this.done=new i.o,this.subscriptions=[],this.windowRef=this.domService.getNativeWindow(),this.step=new P}ngAfterViewInit(){if(Object(s.I)(this.platformId)){if(this.prevTemplate&&this.templateService.setPrevButton(this.prevTemplate),this.nextTemplate&&this.templateService.setNextButton(this.nextTemplate),this.doneTemplate&&this.templateService.setDoneButton(this.doneTemplate),this.counterTemplate&&this.templateService.setCounter(this.counterTemplate),this.step.position=this.stepPosition,this.step.targetViewContainer=this.viewContainerRef,this.setAsyncFields(this.step),this.step.stepContent=this.stepContent,this.step.stepContentParams=this.stepContentParams,this.step.nextClicked=this.next,this.step.prevCliked=this.prev,this.step.tourDone=this.done,!this.name)throw new L("All the steps should have the 'joyrideStep' property set with a custom name.");this.step.name=this.name,this.step.route="/"===this.router.url.substr(0,1)?this.router.url.substr(1):this.router.url,this.step.transformCssStyle=this.windowRef.getComputedStyle(this.viewContainerRef.element.nativeElement).transform,this.step.isElementOrAncestorFixed=this.isElementFixed(this.viewContainerRef.element)||this.isAncestorsFixed(this.viewContainerRef.element.nativeElement.parentElement),this.joyrideStepsContainer.addStep(this.step)}}ngOnChanges(t){(t.title||t.text)&&this.setAsyncFields(this.step)}isElementFixed(t){return"fixed"===this.windowRef.getComputedStyle(t.nativeElement).position}setAsyncFields(t){this.title instanceof r.a?this.subscriptions.push(this.title.subscribe(e=>{t.title.next(e)})):t.title.next(this.title),this.text instanceof r.a?this.subscriptions.push(this.text.subscribe(e=>{t.text.next(e)})):t.text.next(this.text)}isAncestorsFixed(t){if(!t||!t.parentElement)return!1;let e="fixed"===this.windowRef.getComputedStyle(t.parentElement).position;return"BODY"===t.nodeName?e:!!e||this.isAncestorsFixed(t.parentElement)}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(Z),i.Tb(i.R),i.Tb(N),i.Tb(l.c),i.Tb(U),i.Tb(i.E))},t.\u0275dir=i.Ob({type:t,selectors:[["joyrideStep"],["","joyrideStep",""]],inputs:{stepPosition:"stepPosition",name:["joyrideStep","name"],nextStep:"nextStep",title:"title",text:"text",stepContent:"stepContent",stepContentParams:"stepContentParams",prevTemplate:"prevTemplate",nextTemplate:"nextTemplate",doneTemplate:"doneTemplate",counterTemplate:"counterTemplate"},outputs:{prev:"prev",next:"next",done:"done"},features:[i.Cb]}),t})(),z=(()=>{let t=class{constructor(t){this.DOMService=t,this.setDocumentHeight(),document.elementsFromPoint||(document.elementsFromPoint=this.elementsFromPoint.bind(this))}getElementFixedTop(t){return t.nativeElement.getBoundingClientRect().top}getElementFixedLeft(t){return t.nativeElement.getBoundingClientRect().left}getElementAbsoluteTop(t){const e=this.getScrollOffsets();return t.nativeElement.getBoundingClientRect().top+e.y}getElementAbsoluteLeft(t){const e=this.getScrollOffsets();return t.nativeElement.getBoundingClientRect().left+e.x}setDocumentHeight(){this.documentHeight=this.calculateDocumentHeight()}getDocumentHeight(){return this.documentHeight}isParentScrollable(t){return this.getFirstScrollableParent(t.nativeElement)!==this.DOMService.getNativeDocument().body}isElementBeyondOthers(t,e,n){const i=e?this.getElementFixedLeft(t):this.getElementAbsoluteLeft(t),s=e?this.getElementFixedTop(t):this.getElementAbsoluteTop(t),a=i+t.nativeElement.getBoundingClientRect().width-1,o=s+t.nativeElement.getBoundingClientRect().height-1,r=this.DOMService.getNativeDocument().elementsFromPoint(i,s),c=this.DOMService.getNativeDocument().elementsFromPoint(a,o);return 0===r.length&&0===c.length?1:this.getFirstElementWithoutKeyword(r,n)!==t.nativeElement||this.getFirstElementWithoutKeyword(c,n)!==t.nativeElement?2:3}scrollIntoView(t,e){const n=this.getFirstScrollableParent(t.nativeElement),i=e?this.getElementFixedTop(t):this.getElementAbsoluteTop(t);n!==this.DOMService.getNativeDocument().body?n.scrollTo?n.scrollTo(0,i-150):n.scrollTop=i-150:this.DOMService.getNativeWindow().scrollTo(0,i-150)}scrollToTheTop(t){const e=this.getFirstScrollableParent(t.nativeElement);e!==this.DOMService.getNativeDocument().body?e.scrollTo?e.scrollTo(0,0):e.scrollTop=0:this.DOMService.getNativeWindow().scrollTo(0,0)}scrollToTheBottom(t){const e=this.getFirstScrollableParent(t.nativeElement);e!==this.DOMService.getNativeDocument().body?e.scrollTo?e.scrollTo(0,this.DOMService.getNativeDocument().body.scrollHeight):e.scrollTop=e.scrollHeight-e.clientHeight:this.DOMService.getNativeWindow().scrollTo(0,this.DOMService.getNativeDocument().body.scrollHeight)}getFirstScrollableParent(t){const e=/(auto|scroll|overlay)/,n=(t,e)=>this.DOMService.getNativeWindow().getComputedStyle(t,null).getPropertyValue(e),i=t=>t&&t!==this.DOMService.getNativeDocument().body?(t=>e.test(n(t,"overflow")+n(t,"overflow-y")+n(t,"overflow-x")))(t)?t:i(t.parentNode):this.DOMService.getNativeDocument().body;return i(t)}calculateDocumentHeight(){const t=this.DOMService.getNativeDocument();return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)}getScrollOffsets(){const t=this.DOMService.getNativeWindow(),e=this.DOMService.getNativeDocument();return null!=t.pageXOffset?{x:t.pageXOffset,y:t.pageYOffset}:"CSS1Compat"==e.compatMode?{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop}:{x:e.body.scrollLeft,y:e.body.scrollTop}}elementsFromPoint(t,e){var n=[],i=void 0;do{const s=this.DOMService.getNativeDocument().elementFromPoint(t,e);s&&i!==s?(n.push(i=s),i.style.pointerEvents="none"):i=!1}while(i);return n.forEach((function(t){return t.style.pointerEvents="all"})),n}getFirstElementWithoutKeyword(t,e){for(;t[0]&&t[0].classList.toString().includes(e);)t.shift();return t[0]}};return t.\u0275fac=function(e){return new(e||t)(i.dc(N))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),V=(()=>{let t=class{constructor(t,e,n){this.documentService=t,this.optionsService=e,this.rendererFactory=n,this.lastXScroll=0,this.lastYScroll=0,this.setRenderer()}setRenderer(){this.renderer=this.rendererFactory.createRenderer(null,null)}draw(t){this.elementRef=t.targetViewContainer,this.targetAbsoluteTop=this.getTargetTotalTop(t),this.targetAbsoluteLeft=this.getTargetTotalLeft(t),this.currentBackdropContainer=this.renderer.createElement("div"),this.renderer.addClass(this.currentBackdropContainer,"backdrop-container"),this.renderer.setStyle(this.currentBackdropContainer,"position","fixed"),this.renderer.setStyle(this.currentBackdropContainer,"top","0px"),this.renderer.setStyle(this.currentBackdropContainer,"left","0px"),this.renderer.setStyle(this.currentBackdropContainer,"width","100%"),this.renderer.setStyle(this.currentBackdropContainer,"height","100%"),this.renderer.setStyle(this.currentBackdropContainer,"z-index","1000"),this.renderer.setAttribute(this.currentBackdropContainer,"id","backdrop-"+t.name),this.backdropContent=this.renderer.createElement("div"),this.renderer.addClass(this.backdropContent,"backdrop-content"),this.renderer.setStyle(this.backdropContent,"position","relative"),this.renderer.setStyle(this.backdropContent,"height","100%"),this.renderer.setStyle(this.backdropContent,"display","flex"),this.renderer.setStyle(this.backdropContent,"flex-direction","column"),this.renderer.appendChild(this.currentBackdropContainer,this.backdropContent),this.backdropTop=this.renderer.createElement("div"),this.renderer.addClass(this.backdropTop,"joyride-backdrop"),this.renderer.addClass(this.backdropTop,"backdrop-top"),this.renderer.setStyle(this.backdropTop,"width","100%"),this.renderer.setStyle(this.backdropTop,"height",this.targetAbsoluteTop-this.lastYScroll+"px"),this.renderer.setStyle(this.backdropTop,"flex-shrink","0"),this.renderer.setStyle(this.backdropTop,"background-color",`rgba(${this.optionsService.getBackdropColor()}, 0.7)`),this.renderer.appendChild(this.backdropContent,this.backdropTop),this.backdropMiddleContainer=this.renderer.createElement("div"),this.renderer.addClass(this.backdropMiddleContainer,"backdrop-middle-container"),this.renderer.setStyle(this.backdropMiddleContainer,"height",this.elementRef.element.nativeElement.offsetHeight+"px"),this.renderer.setStyle(this.backdropMiddleContainer,"width","100%"),this.renderer.setStyle(this.backdropMiddleContainer,"flex-shrink","0"),this.renderer.appendChild(this.backdropContent,this.backdropMiddleContainer),this.backdropMiddleContent=this.renderer.createElement("div"),this.renderer.addClass(this.backdropMiddleContent,"backdrop-middle-content"),this.renderer.setStyle(this.backdropMiddleContent,"display","flex"),this.renderer.setStyle(this.backdropMiddleContent,"width","100%"),this.renderer.setStyle(this.backdropMiddleContent,"height","100%"),this.renderer.appendChild(this.backdropMiddleContainer,this.backdropMiddleContent),this.leftBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.leftBackdrop,"joyride-backdrop"),this.renderer.addClass(this.leftBackdrop,"backdrop-left"),this.renderer.setStyle(this.leftBackdrop,"flex-shrink","0"),this.renderer.setStyle(this.leftBackdrop,"width",this.targetAbsoluteLeft-this.lastXScroll+"px"),this.renderer.setStyle(this.leftBackdrop,"background-color",`rgba(${this.optionsService.getBackdropColor()}, 0.7)`),this.renderer.appendChild(this.backdropMiddleContent,this.leftBackdrop),this.targetBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.targetBackdrop,"backdrop-target"),this.renderer.setStyle(this.targetBackdrop,"flex-shrink","0"),this.renderer.setStyle(this.targetBackdrop,"width",this.elementRef.element.nativeElement.offsetWidth+"px"),this.renderer.appendChild(this.backdropMiddleContent,this.targetBackdrop),this.rightBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.rightBackdrop,"joyride-backdrop"),this.renderer.addClass(this.rightBackdrop,"backdrop-right"),this.renderer.setStyle(this.rightBackdrop,"width","100%"),this.renderer.setStyle(this.rightBackdrop,"background-color",`rgba(${this.optionsService.getBackdropColor()}, 0.7)`),this.renderer.appendChild(this.backdropMiddleContent,this.rightBackdrop),this.backdropBottom=this.renderer.createElement("div"),this.renderer.addClass(this.backdropBottom,"joyride-backdrop"),this.renderer.addClass(this.backdropBottom,"backdrop-bottom"),this.renderer.setStyle(this.backdropBottom,"width","100%"),this.renderer.setStyle(this.backdropBottom,"height","100%"),this.renderer.setStyle(this.backdropBottom,"background-color",`rgba(${this.optionsService.getBackdropColor()}, 0.7)`),this.renderer.appendChild(this.backdropContent,this.backdropBottom),this.removeLastBackdrop(),this.drawCurrentBackdrop(),this.lastBackdropContainer=this.currentBackdropContainer}remove(){this.removeLastBackdrop()}redrawTarget(t){this.targetAbsoluteLeft=this.getTargetTotalLeft(t),this.targetAbsoluteTop=this.getTargetTotalTop(t),this.handleVerticalScroll(t),this.handleHorizontalScroll(t)}getTargetTotalTop(t){let e=t.targetViewContainer;return t.isElementOrAncestorFixed?this.documentService.getElementFixedTop(e.element):this.documentService.getElementAbsoluteTop(e.element)}getTargetTotalLeft(t){let e=t.targetViewContainer;return t.isElementOrAncestorFixed?this.documentService.getElementFixedLeft(e.element):this.documentService.getElementAbsoluteLeft(e.element)}redraw(t,e){this.lastYScroll!==e.scrollY&&(this.lastYScroll=e.scrollY,this.elementRef&&this.handleVerticalScroll(t)),this.lastXScroll!==e.scrollX&&(this.lastXScroll=e.scrollX,this.elementRef&&this.handleHorizontalScroll(t))}handleHorizontalScroll(t){let e=t.isElementOrAncestorFixed?this.targetAbsoluteLeft:this.targetAbsoluteLeft-this.lastXScroll;e>=0?(this.renderer.setStyle(this.leftBackdrop,"width",e+"px"),this.renderer.setStyle(this.targetBackdrop,"width",this.elementRef.element.nativeElement.offsetWidth+"px")):this.handleTargetPartialWidth(e)}handleTargetPartialWidth(t){this.renderer.setStyle(this.leftBackdrop,"width","0px");let e=this.elementRef.element.nativeElement.offsetWidth+t;this.renderer.setStyle(this.targetBackdrop,"width",e>=0?e+"px":"0px")}handleVerticalScroll(t){let e=t.isElementOrAncestorFixed?this.targetAbsoluteTop:this.targetAbsoluteTop-this.lastYScroll;e>=0?(this.renderer.setStyle(this.backdropTop,"height",e+"px"),this.renderer.setStyle(this.backdropMiddleContainer,"height",this.elementRef.element.nativeElement.offsetHeight+"px")):this.handleTargetPartialHeight(e)}handleTargetPartialHeight(t){this.renderer.setStyle(this.backdropTop,"height","0px");let e=this.elementRef.element.nativeElement.offsetHeight+t;this.renderer.setStyle(this.backdropMiddleContainer,"height",e>=0?e+"px":"0px")}removeLastBackdrop(){this.lastBackdropContainer&&(this.renderer.removeChild(document.body,this.lastBackdropContainer),this.lastBackdropContainer=void 0)}drawCurrentBackdrop(){this.renderer.appendChild(document.body,this.currentBackdropContainer)}};return t.\u0275fac=function(e){return new(e||t)(i.dc(z),i.dc(A),i.dc(i.I))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),H=(()=>{let t=class{constructor(t,e){this.rendererFactory=t,this.DOMService=e,this.scrollEvent=new c.a,this.resizeEvent=new c.a,this.renderer=t.createRenderer(null,null)}startListeningScrollEvents(){this.scrollUnlisten=this.renderer.listen("document","scroll",t=>{this.scrollEvent.next({scrollX:this.DOMService.getNativeWindow().pageXOffset,scrollY:this.DOMService.getNativeWindow().pageYOffset})})}startListeningResizeEvents(){this.resizeUnlisten=this.renderer.listen("window","resize",t=>{this.resizeEvent.next(t)})}stopListeningScrollEvents(){this.scrollUnlisten()}stopListeningResizeEvents(){this.resizeUnlisten()}};return t.\u0275fac=function(e){return new(e||t)(i.dc(i.I),i.dc(N))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})(),Q=(()=>{let t=class{constructor(t,e,n,i,s,a,o,r){this.injector=t,this.stepsContainerService=e,this.eventListenerService=n,this.documentService=i,this.renderer=s,this.logger=a,this.optionsService=o,this.templateService=r,this.stepWidth=200,this.stepHeight=200,this.showArrow=!0,this.arrowSize=J,this.subscriptions=[]}ngOnInit(){this.joyrideStepService=this.injector.get(K),this.documentHeight=this.documentService.getDocumentHeight(),this.subscriptions.push(this.subscribeToResizeEvents()),this.title=this.step.title.asObservable(),this.text=this.step.text.asObservable(),this.setCustomTemplates(),this.setCustomTexts(),this.counter=this.getCounter(),this.isCounterVisible=this.optionsService.isCounterVisible(),this.isPrevButtonVisible=this.optionsService.isPrevButtonVisible(),this.themeColor=this.optionsService.getThemeColor(),this.text&&this.text.subscribe(t=>this.checkRedraw(t)),this.title&&this.title.subscribe(t=>this.checkRedraw(t))}ngAfterViewInit(){if(this.isCustomized())this.renderer.setStyle(this.stepContainer.nativeElement,"max-width","90vw"),this.updateStepDimensions();else{this.renderer.setStyle(this.stepContainer.nativeElement,"max-width","400px");let t=this.getDimensionsByAspectRatio(this.stepContainer.nativeElement.clientWidth,this.stepContainer.nativeElement.clientHeight,1.212);t=this.adjustDimensions(t.width,t.height),this.stepWidth=t.width,this.stepHeight=t.height,this.renderer.setStyle(this.stepContainer.nativeElement,"width",this.stepWidth+"px"),this.renderer.setStyle(this.stepContainer.nativeElement,"height",this.stepHeight+"px")}this.drawStep()}checkRedraw(t){null!=t&&setTimeout(()=>{this.redrawStep()},2)}isCustomized(){return this.step.stepContent||this.templateService.getCounter()||this.templateService.getPrevButton()||this.templateService.getNextButton()||this.templateService.getDoneButton()}setCustomTexts(){const t=this.optionsService.getCustomTexts();this.prevText=t.prev,this.nextText=t.next,this.doneText=t.done}drawStep(){let t=this.step.isElementOrAncestorFixed?"fixed":"absolute";this.renderer.setStyle(this.stepHolder.nativeElement,"position",t),this.renderer.setStyle(this.stepHolder.nativeElement,"transform",this.step.transformCssStyle),this.targetWidth=this.step.targetViewContainer.element.nativeElement.getBoundingClientRect().width,this.targetHeight=this.step.targetViewContainer.element.nativeElement.getBoundingClientRect().height,this.targetAbsoluteLeft="fixed"===t?this.documentService.getElementFixedLeft(this.step.targetViewContainer.element):this.documentService.getElementAbsoluteLeft(this.step.targetViewContainer.element),this.targetAbsoluteTop="fixed"===t?this.documentService.getElementFixedTop(this.step.targetViewContainer.element):this.documentService.getElementAbsoluteTop(this.step.targetViewContainer.element),this.setStepStyle()}getCounter(){let t=this.stepsContainerService.getStepNumber(this.step.name),e=this.stepsContainerService.getStepsCount();return this.counterData={step:t,total:e},t+"/"+e}setCustomTemplates(){this.customContent=this.step.stepContent,this.ctx=this.step.stepContentParams,this.customPrevButton=this.templateService.getPrevButton(),this.customNextButton=this.templateService.getNextButton(),this.customDoneButton=this.templateService.getDoneButton(),this.customCounter=this.templateService.getCounter()}prev(){this.joyrideStepService.prev()}next(){this.joyrideStepService.next()}close(){this.joyrideStepService.close()}isFirstStep(){return 1===this.stepsContainerService.getStepNumber(this.step.name)}isLastStep(){return this.stepsContainerService.getStepNumber(this.step.name)===this.stepsContainerService.getStepsCount()}setStepStyle(){switch(this.step.position){case"top":this.setStyleTop();break;case"bottom":this.setStyleBottom();break;case"right":this.setStyleRight();break;case"left":this.setStyleLeft();break;case"center":this.setStyleCenter();break;default:this.setStyleBottom()}}setStyleTop(){this.stepsContainerService.updatePosition(this.step.name,"top"),this.topPosition=this.targetAbsoluteTop-X-this.stepHeight,this.stepAbsoluteTop=this.targetAbsoluteTop-X-this.stepHeight,this.arrowTopPosition=this.stepHeight,this.leftPosition=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.stepAbsoluteLeft=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.arrowLeftPosition=this.stepWidth/2-this.arrowSize,this.adjustLeftPosition(),this.adjustRightPosition(),this.arrowPosition="bottom",this.autofixTopPosition()}setStyleRight(){this.stepsContainerService.updatePosition(this.step.name,"right"),this.topPosition=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.arrowTopPosition=this.stepHeight/2-this.arrowSize,this.leftPosition=this.targetAbsoluteLeft+this.targetWidth+X,this.stepAbsoluteLeft=this.targetAbsoluteLeft+this.targetWidth+X,this.arrowLeftPosition=-this.arrowSize,this.adjustTopPosition(),this.adjustBottomPosition(),this.arrowPosition="left",this.autofixRightPosition()}setStyleBottom(){this.stepsContainerService.updatePosition(this.step.name,"bottom"),this.topPosition=this.targetAbsoluteTop+this.targetHeight+X,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight+X,this.arrowTopPosition=-this.arrowSize,this.arrowLeftPosition=this.stepWidth/2-this.arrowSize,this.leftPosition=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.stepAbsoluteLeft=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.adjustLeftPosition(),this.adjustRightPosition(),this.arrowPosition="top",this.autofixBottomPosition()}setStyleLeft(){this.stepsContainerService.updatePosition(this.step.name,"left"),this.topPosition=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.arrowTopPosition=this.stepHeight/2-this.arrowSize,this.leftPosition=this.targetAbsoluteLeft-this.stepWidth-X,this.stepAbsoluteLeft=this.targetAbsoluteLeft-this.stepWidth-X,this.arrowLeftPosition=this.stepWidth,this.adjustTopPosition(),this.adjustBottomPosition(),this.arrowPosition="right",this.autofixLeftPosition()}setStyleCenter(){this.renderer.setStyle(this.stepHolder.nativeElement,"position","fixed"),this.renderer.setStyle(this.stepHolder.nativeElement,"top","50%"),this.renderer.setStyle(this.stepHolder.nativeElement,"left","50%"),this.updateStepDimensions(),this.renderer.setStyle(this.stepHolder.nativeElement,"transform",`translate(-${this.stepWidth/2}px, -${this.stepHeight/2}px)`),this.showArrow=!1}adjustLeftPosition(){this.leftPosition<0&&(this.arrowLeftPosition=this.arrowLeftPosition+this.leftPosition-2,this.leftPosition=2)}adjustRightPosition(){let t=document.body.clientWidth;if(this.stepAbsoluteLeft+this.stepWidth>t){let e=this.leftPosition-(this.stepAbsoluteLeft+this.stepWidth+5-t),n=e-this.leftPosition;this.leftPosition=e,this.arrowLeftPosition=this.arrowLeftPosition-n}}adjustTopPosition(){this.stepAbsoluteTop<0&&(this.arrowTopPosition=this.arrowTopPosition+this.topPosition-2,this.topPosition=2)}adjustBottomPosition(){if(this.stepAbsoluteTop+this.stepHeight>this.documentHeight){let t=this.topPosition-(this.stepAbsoluteTop+this.stepHeight+5-this.documentHeight),e=t-this.topPosition;this.topPosition=t,this.arrowTopPosition=this.arrowTopPosition-e}}autofixTopPosition(){this.positionAlreadyFixed?this.logger.warn("No step positions found for this step. The step will be centered."):this.targetAbsoluteTop-this.stepHeight-this.arrowSize<0&&(this.positionAlreadyFixed=!0,this.setStyleRight())}autofixRightPosition(){this.targetAbsoluteLeft+this.targetWidth+this.stepWidth+this.arrowSize>document.body.clientWidth&&this.setStyleBottom()}autofixBottomPosition(){this.targetAbsoluteTop+this.stepHeight+this.arrowSize+this.targetHeight>this.documentHeight&&this.setStyleLeft()}autofixLeftPosition(){this.targetAbsoluteLeft-this.stepWidth-this.arrowSize<0&&this.setStyleTop()}subscribeToResizeEvents(){return this.eventListenerService.resizeEvent.subscribe(()=>{this.redrawStep()})}redrawStep(){this.updateStepDimensions(),this.drawStep()}getDimensionsByAspectRatio(t,e,n){let i=(t+e)/(1+n);return{width:i*n,height:i}}adjustDimensions(t,e){let n=t,i=e;return t>400?(n=400,i=t*e/n):t<200&&(n=200,i=200/1.212),{width:n,height:i}}updateStepDimensions(){this.stepWidth=this.stepContainer.nativeElement.clientWidth,this.stepHeight=this.stepContainer.nativeElement.clientHeight}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.s),i.Tb(Z),i.Tb(H),i.Tb(z),i.Tb(i.H),i.Tb(R),i.Tb(A),i.Tb(U))},t.\u0275cmp=i.Nb({type:t,selectors:[["joyride-step"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(h,!0),i.Oc(u,!0)),2&t&&(i.Cc(n=i.ic())&&(e.stepHolder=n.first),i.Cc(n=i.ic())&&(e.stepContainer=n.first))},inputs:{step:"step"},decls:21,vars:17,consts:[[1,"joyride-step__holder",3,"id"],["stepHolder",""],["class","joyride-step__arrow",3,"position","top","left",4,"ngIf"],[1,"joyride-step__container"],["stepContainer",""],[1,"joyride-step__close",3,"click"],[1,"joyride-step__header"],[1,"joyride-step__title"],[1,"joyride-step__body"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultContent",""],[1,"joyride-step__footer"],["class","joyride-step__counter-container",4,"ngIf"],[1,"joyride-step__buttons-container"],["class","joyride-step__prev-container joyride-step__button",3,"click",4,"ngIf"],["class","joyride-step__next-container joyride-step__button",3,"click",4,"ngIf","ngIfElse"],["doneButton",""],[1,"joyride-step__arrow",3,"position"],[1,"joyride-step__counter-container"],["defaultCounter",""],[1,"joyride-step__counter"],[1,"joyride-step__prev-container","joyride-step__button",3,"click"],[4,"ngTemplateOutlet"],["defaultPrevButton",""],[1,"joyride-step__prev-button",3,"color"],[1,"joyride-step__next-container","joyride-step__button",3,"click"],["defaulNextButton",""],[3,"color"],[1,"joyride-step__done-container","joyride-step__button",3,"click"],["defaultDoneButton",""],[1,"joyride-step__done-button",3,"color"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0,1),i.Qc(2,p,1,5,"joyride-arrow",2),i.Zb(3,"div",3,4),i.Zb(5,"joy-close-button",5),i.hc("click",(function(){return e.close()})),i.Yb(),i.Zb(6,"div",6),i.Zb(7,"div",7),i.Sc(8),i.mc(9,"async"),i.Yb(),i.Yb(),i.Zb(10,"div",8),i.Qc(11,f,1,0,"ng-container",9),i.Qc(12,m,2,3,"ng-template",null,10,i.Rc),i.Yb(),i.Zb(14,"div",11),i.Qc(15,_,4,2,"div",12),i.Zb(16,"div",13),i.Qc(17,x,4,1,"div",14),i.Qc(18,O,4,1,"div",15),i.Qc(19,E,4,1,"ng-template",null,16,i.Rc),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t){const t=i.Dc(13),n=i.Dc(20);i.Pc("top",e.topPosition,"px")("left",e.leftPosition,"px"),i.sc("id","joyride-step-"+e.step.name),i.Eb(2),i.sc("ngIf",e.showArrow),i.Eb(5),i.Pc("color",e.themeColor),i.Eb(1),i.Tc(i.nc(9,15,e.title)),i.Eb(3),i.sc("ngTemplateOutlet",e.customContent?e.customContent:t)("ngTemplateOutletContext",e.ctx),i.Eb(4),i.sc("ngIf",e.isCounterVisible),i.Eb(2),i.sc("ngIf",e.isPrevButtonVisible&&!e.isFirstStep()),i.Eb(1),i.sc("ngIf",!e.isLastStep())("ngIfElse",n)}},directives:function(){return[s.t,G,s.A,$,W]},pipes:function(){return[s.b]},styles:[".joyride-step__holder{position:absolute;font-family:Arial,Helvetica,sans-serif;font-size:16px;z-index:1001}.joyride-step__arrow{position:absolute;left:40px;z-index:1002}.joyride-step__container{box-sizing:border-box;position:relative;color:#000;background-color:#fff;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;padding:10px;box-shadow:0 0 30px 1px #000}.joyride-step__header{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:8px}.joyride-step__title{font-weight:700;font-size:20px}.joyride-step__close{position:absolute;right:10px;top:10px;width:14px;height:14px;cursor:pointer}.joyride-step__body{text-align:left;padding:10px 8px}.joyride-step__footer{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding-left:8px}.joyride-step__buttons-container{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.joyride-step__button:first-child{margin-right:2.5px}.joyride-step__button:last-child{margin-left:2.5px}.joyride-step__counter{font-weight:700;font-size:14px}.joyride-step__counter-container{margin-right:10px}"],encapsulation:2}),t})(),$=(()=>{let t=class{constructor(){this.position="top"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["joyride-arrow"]],inputs:{position:"position"},decls:1,vars:8,template:function(t,e){1&t&&i.Ub(0,"div"),2&t&&i.Jb("joyride-arrow__top","top"==e.position)("joyride-arrow__bottom","bottom"==e.position)("joyride-arrow__left","left"==e.position)("joyride-arrow__right","right"==e.position)},styles:[".joyride-arrow__top{border-left:11px solid transparent;border-right:11px solid transparent;border-bottom:11px solid #fff}.joyride-arrow__bottom{border-left:11px solid transparent;border-right:11px solid transparent;border-top:11px solid #fff}.joyride-arrow__right{border-left:11px solid #fff;border-bottom:11px solid transparent;border-top:11px solid transparent}.joyride-arrow__left{border-right:11px solid #fff;border-top:11px solid transparent;border-bottom:11px solid transparent}"],encapsulation:2}),t})(),W=(()=>{let t=class{constructor(){this.clicked=new i.o}onClick(){this.clicked.emit()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["joyride-button"]],inputs:{color:"color"},outputs:{clicked:"clicked"},ngContentSelectors:I,decls:2,vars:5,consts:[[1,"joyride-button",3,"ngStyle","mouseleave","mouseover","click"]],template:function(t,e){1&t&&(i.rc(),i.Zb(0,"button",0),i.hc("mouseleave",(function(){return e.hover=!1}))("mouseover",(function(){return e.hover=!0}))("click",(function(){return e.onClick()})),i.qc(1),i.Yb()),2&t&&i.sc("ngStyle",i.Bc(1,M,e.hover?"#fff":e.color,e.hover?e.color:"#fff",e.hover?e.color:"transparent"))},directives:[s.w],styles:[".joyride-button[_ngcontent-%COMP%]{text-transform:uppercase;border:2px solid transparent;outline:0;padding:6px 12px;font-size:12px;font-weight:700;color:#fff;background-color:#3b5560;cursor:pointer}.joyride-button[_ngcontent-%COMP%]:hover{color:#3b5560;border:2px solid #3b5560;background-color:#fff}"]}),t})(),G=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["joy-close-button"]],decls:3,vars:0,consts:[["viewBox","0 0 25 25","xmlns","http://www.w3.org/2000/svg"],["x1","1","y1","24","x2","24","y2","1","stroke","black","stroke-width","3"],["x1","1","y1","1","x2","24","y2","24","stroke","black","stroke-width","3"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Ub(1,"line",1),i.Ub(2,"line",2),i.Yb())},encapsulation:2}),t})(),q=(()=>{let t=class{constructor(t,e,n){this.componentFactoryResolver=t,this.appRef=e,this.injector=n,this.refMap={}}draw(t){const e=this.componentFactoryResolver.resolveComponentFactory(Q).create(this.injector);this.appRef.attachView(e.hostView),document.body.appendChild(e.hostView.rootNodes[0]);const n=e.instance;n.step=t,e.changeDetectorRef.detectChanges(),t.stepInstance=n,this.refMap[t.name]=e}remove(t){this.appRef.detachView(this.refMap[t.name].hostView),this.refMap[t.name].destroy()}};return t.\u0275fac=function(e){return new(e||t)(i.dc(i.j),i.dc(i.g),i.dc(i.s))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();const X=15,J=10;let K=(()=>{let t=class{constructor(t,e,n,i,s,o,r,c,l){this.backDropService=t,this.eventListener=e,this.stepsContainerService=n,this.documentService=i,this.DOMService=s,this.stepDrawerService=o,this.optionsService=r,this.router=c,this.logger=l,this.winTopPosition=0,this.winBottomPosition=0,this.stepsObserver=new a.a,this.initViewportPositions(),this.subscribeToScrollEvents(),this.subscribeToResizeEvents()}initViewportPositions(){this.winTopPosition=0,this.winBottomPosition=this.DOMService.getNativeWindow().innerHeight-20}subscribeToScrollEvents(){this.eventListener.startListeningScrollEvents(),this.eventListener.scrollEvent.subscribe(t=>{this.winTopPosition=t.scrollY,this.winBottomPosition=this.winTopPosition+this.DOMService.getNativeWindow().innerHeight-20,this.currentStep&&this.backDropService.redraw(this.currentStep,t)})}subscribeToResizeEvents(){this.eventListener.resizeEvent.subscribe(()=>{this.currentStep&&this.backDropService.redrawTarget(this.currentStep)})}drawStep(t){t.position="NO_POSITION"===t.position?this.optionsService.getStepDefaultPosition():t.position,this.stepDrawerService.draw(t)}startTour(){return this.stepsObserver=new a.a,this.stepsContainerService.init(),this.documentService.setDocumentHeight(),this.tryShowStep(Y.NEXT),this.eventListener.startListeningResizeEvents(),this.subscribeToStepsUpdates(),this.stepsObserver.asObservable()}close(){this.removeCurrentStep(),this.notifyTourIsFinished(),this.DOMService.getNativeWindow().scrollTo(0,0),this.eventListener.stopListeningResizeEvents(),this.backDropService.remove()}prev(){this.removeCurrentStep(),this.currentStep.prevCliked.emit(),this.tryShowStep(Y.PREV)}next(){this.removeCurrentStep(),this.currentStep.nextClicked.emit(),this.tryShowStep(Y.NEXT)}navigateToStepPage(t){let e=this.stepsContainerService.getStepRoute(t);e&&this.router.navigate([e])}subscribeToStepsUpdates(){this.stepsContainerService.stepHasBeenModified.subscribe(t=>{this.currentStep&&this.currentStep.name===t.name&&(this.currentStep=t)})}tryShowStep(t){this.navigateToStepPage(t);const e=this.optionsService.getWaitingTime();e>100&&this.backDropService.remove(),setTimeout(()=>{try{this.showStep(t)}catch(e){if(e instanceof F)this.tryShowStep(t);else{if(!(e instanceof j))throw new Error(e);this.logger.error("Forcing the tour closure: First or Last step not found in the DOM."),this.close()}}},e)}showStep(t){if(this.currentStep=this.stepsContainerService.get(t),null==this.currentStep)throw new F("");this.scrollIfElementBeyondOtherElements(),this.backDropService.draw(this.currentStep),this.drawStep(this.currentStep),this.scrollIfStepAndTargetAreNotVisible(),this.notifyStepClicked(t)}notifyStepClicked(t){let e={number:this.stepsContainerService.getStepNumber(this.currentStep.name),name:this.currentStep.name,route:this.currentStep.route,actionType:t};this.stepsObserver.next(e)}notifyTourIsFinished(){this.currentStep&&this.currentStep.tourDone.emit(),this.stepsObserver.complete()}removeCurrentStep(){this.currentStep&&this.stepDrawerService.remove(this.currentStep)}scrollIfStepAndTargetAreNotVisible(){this.scrollWhenTargetOrStepAreHiddenBottom(),this.scrollWhenTargetOrStepAreHiddenTop()}scrollWhenTargetOrStepAreHiddenBottom(){let t=this.getMaxTargetAndStepBottomPosition();t>this.winBottomPosition&&this.DOMService.getNativeWindow().scrollBy(0,t-this.winBottomPosition)}scrollWhenTargetOrStepAreHiddenTop(){let t=this.getMaxTargetAndStepTopPosition();t<this.winTopPosition&&this.DOMService.getNativeWindow().scrollBy(0,t-this.winTopPosition)}getMaxTargetAndStepBottomPosition(){let t=this.documentService.getElementAbsoluteTop(this.currentStep.targetViewContainer.element);return"top"===this.currentStep.position?t+this.currentStep.stepInstance.targetHeight:"bottom"===this.currentStep.position?t+this.currentStep.stepInstance.targetHeight+this.currentStep.stepInstance.stepHeight+J+X:"right"===this.currentStep.position||"left"===this.currentStep.position?Math.max(t+this.currentStep.stepInstance.targetHeight,t+this.currentStep.stepInstance.targetHeight/2+this.currentStep.stepInstance.stepHeight/2):void 0}getMaxTargetAndStepTopPosition(){let t=this.documentService.getElementAbsoluteTop(this.currentStep.targetViewContainer.element);return"top"===this.currentStep.position?t-(this.currentStep.stepInstance.stepHeight+J+X):"bottom"===this.currentStep.position?t:"right"===this.currentStep.position||"left"===this.currentStep.position?Math.min(t,t+this.currentStep.stepInstance.targetHeight/2-this.currentStep.stepInstance.stepHeight/2):void 0}scrollIfElementBeyondOtherElements(){2===this.isElementBeyondOthers()&&this.documentService.scrollToTheTop(this.currentStep.targetViewContainer.element),2===this.isElementBeyondOthers()&&this.documentService.scrollToTheBottom(this.currentStep.targetViewContainer.element),1===this.isElementBeyondOthers()&&this.documentService.isParentScrollable(this.currentStep.targetViewContainer.element)&&this.documentService.scrollIntoView(this.currentStep.targetViewContainer.element,this.currentStep.isElementOrAncestorFixed),1===this.isElementBeyondOthers()&&this.documentService.isParentScrollable(this.currentStep.targetViewContainer.element)&&this.currentStep.targetViewContainer.element.nativeElement.scrollIntoView()}isElementBeyondOthers(){return this.documentService.isElementBeyondOthers(this.currentStep.targetViewContainer.element,this.currentStep.isElementOrAncestorFixed,"backdrop")}};return t.\u0275fac=function(e){return new(e||t)(i.dc(V),i.dc(H),i.dc(Z),i.dc(z),i.dc(N),i.dc(q),i.dc(A),i.dc(l.c),i.dc(R))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();class tt{}let et=(()=>{let t=class{constructor(t,e,n){this.platformId=t,this.stepService=e,this.optionsService=n,this.tourInProgress=!1}startTour(t){return Object(s.I)(this.platformId)?(this.tourInProgress||(this.tourInProgress=!0,t&&this.optionsService.setOptions(t),this.tour$=this.stepService.startTour().pipe(Object(d.a)(()=>this.tourInProgress=!1)),this.tour$.subscribe()),this.tour$):Object(o.a)(new tt)}closeTour(){this.isTourInProgress()&&this.stepService.close()}isTourInProgress(){return this.tourInProgress}};return t.\u0275fac=function(e){return new(e||t)(i.dc(i.E),i.dc(K),i.dc(A))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t})();var nt;const it=l.g.forChild([]);let st=(()=>{let t=nt=class{static forRoot(){return{ngModule:nt,providers:[et,K,Z,V,H,z,A,q,N,R,U]}}static forChild(){return{ngModule:nt,providers:[]}}};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[s.c,it]]}),t})()},zfKp:function(t,e,n){"use strict";e.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},zkFj:function(t,e,n){"use strict";n.d(e,"a",(function(){return vt}));var i=n("mrSG"),s=n("vkgz"),a=n("JIr8"),o=n("pLZG"),r=n("XqQ8"),c=n("nYR2"),l=n("LRne"),d=n("0IaG"),h=n("1YbM"),u=n("3Pt+"),p=n("2c88"),f=n("fXoL"),m=n("sYmb"),g=n("tk/3"),b=n("A6w4"),_=n("AXEc"),v=n("4zkx"),y=n("eiH7"),x=n("rH+9"),w=n("ofXK"),C=n("bTqV"),O=n("NFeN"),k=n("Xa2L"),S=n("kmnG"),E=n("qFsG"),M=n("fBaO"),I=n("7EHt"),P=n("iadO"),T=n("1jcm"),A=n("dATD"),D=n("wZkO"),R=n("GUHb"),L=n("aEDk"),F=n("ZI/H");const j=["appAttachmentViewer"];function Y(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner"),f.Yb())}function Z(t,e){if(1&t&&(f.Xb(0),f.Sc(1),f.Wb()),2&t){const t=f.lc(2);f.Eb(1),f.Uc(" ",t.attachment.chrono.value," - ")}}function N(t,e){if(1&t&&(f.Zb(0,"span",14),f.Qc(1,Z,2,1,"ng-container",7),f.Sc(2),f.mc(3,"shorten"),f.Yb()),2&t){const t=f.lc();f.sc("title",t.attachment.title.value),f.Eb(1),f.sc("ngIf",null!==t.attachment.chrono.value),f.Eb(1),f.Uc(" ",f.pc(3,3,t.attachment.title.value,50,"...")," ")}}function U(t,e){if(1&t){const t=f.ac();f.Zb(0,"div",17),f.Zb(1,"mat-slide-toggle",35),f.hc("change",(function(){f.Hc(t);const e=f.lc(2);return e.newVersion=!e.newVersion})),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()}if(2&t){const t=f.lc(2);f.Eb(1),f.sc("checked",t.newVersion),f.Eb(1),f.Tc(f.nc(3,2,"lang.newVersion"))}}function B(t,e){if(1&t&&(f.Zb(0,"div",17),f.Ub(1,"div",36),f.Yb()),2&t){const t=f.lc(2);f.Eb(1),f.sc("innerHTML",t.translate.instant("lang.mustEditDocument"),f.Ic)}}function z(t,e){1&t&&f.Ub(0,"i",37)}function V(t,e){1&t&&f.Ub(0,"i",38)}function H(t,e){1&t&&f.Ub(0,"i",39)}function Q(t,e){1&t&&f.Ub(0,"i",37)}function $(t,e){1&t&&f.Ub(0,"i",38)}function W(t,e){1&t&&f.Ub(0,"i",39)}function G(t,e){if(1&t&&(f.Zb(0,"div",40),f.Ub(1,"div",41),f.Yb()),2&t){const t=f.lc(2);f.Eb(1),f.sc("innerHTML",t.translate.instant("lang.mailingMsg"),f.Ic)}}function q(t,e){if(1&t&&(f.Zb(0,"div",17),f.Ub(1,"app-contact-autocomplete",42),f.Zb(2,"div",20),f.Ub(3,"i",21),f.Yb(),f.Yb()),2&t){const t=f.lc(2);f.Eb(1),f.sc("control",t.attachment.recipient)("singleMode",!0)}}function X(t,e){if(1&t&&(f.Zb(0,"div",17),f.Zb(1,"mat-form-field",18),f.Ub(2,"input",19),f.mc(3,"translate"),f.mc(4,"timeAgo"),f.Yb(),f.Zb(5,"div",20),f.Ub(6,"i",21),f.Yb(),f.Yb()),2&t){const t=f.lc(2);f.Eb(2),f.tc("placeholder",f.nc(3,3,"lang.signedAlt")),f.sc("formControl",t.attachment.signDate)("value",f.oc(4,5,t.attachment.signDate.value,"full"))}}function J(t,e){if(1&t&&(f.Zb(0,"div",17),f.Zb(1,"mat-form-field",18),f.Ub(2,"input",26),f.mc(3,"translate"),f.mc(4,"translate"),f.Yb(),f.Zb(5,"div",20),f.Ub(6,"i",21),f.Yb(),f.Yb()),2&t){const t=f.lc(2);f.Eb(2),f.vc("placeholder","",f.nc(3,3,"lang.signedAlt")," ",f.nc(4,5,"lang.by"),""),f.sc("formControl",t.attachment.signatory)}}function K(t,e){if(1&t&&(f.Zb(0,"div",17),f.Zb(1,"mat-form-field",18),f.Ub(2,"input",19),f.mc(3,"translate"),f.mc(4,"timeAgo"),f.Yb(),f.Zb(5,"div",20),f.Ub(6,"i",21),f.Yb(),f.Yb()),2&t){const t=f.lc(2);f.Eb(2),f.tc("placeholder",f.nc(3,3,"lang.modified")),f.sc("formControl",t.attachment.modificationDate)("value",f.oc(4,5,t.attachment.modificationDate.value,"full"))}}function tt(t,e){if(1&t&&(f.Zb(0,"div",17),f.Zb(1,"mat-form-field",18),f.Ub(2,"input",26),f.mc(3,"translate"),f.mc(4,"translate"),f.Yb(),f.Zb(5,"div",20),f.Ub(6,"i",21),f.Yb(),f.Yb()),2&t){const t=f.lc(2);f.Eb(2),f.vc("placeholder","",f.nc(3,3,"lang.modified")," ",f.nc(4,5,"lang.by"),""),f.sc("formControl",t.attachment.modifiedBy)}}function et(t,e){if(1&t&&f.Ub(0,"mat-datepicker-toggle",43),2&t){f.lc();const t=f.Dc(60);f.sc("for",t)}}function nt(t,e){if(1&t){const t=f.ac();f.Zb(0,"button",44),f.hc("click",(function(e){f.Hc(t);const n=f.lc(2);return e.stopPropagation(),n.attachment.validationDate.reset()})),f.Ub(1,"mat-icon",45),f.Yb()}if(2&t){const t=f.lc(2);f.sc("title",t.translate.instant("lang.eraseValue"))}}function it(t,e){1&t&&f.Ub(0,"i",21)}function st(t,e){1&t&&f.Ub(0,"i",39)}function at(t,e){if(1&t){const t=f.ac();f.Xb(0),f.Zb(1,"div",15),f.Qc(2,U,4,4,"div",16),f.Qc(3,B,2,1,"div",16),f.Zb(4,"div",17),f.Zb(5,"mat-form-field",18),f.Ub(6,"input",19),f.mc(7,"translate"),f.Yb(),f.Zb(8,"div",20),f.Ub(9,"i",21),f.Yb(),f.Yb(),f.Zb(10,"div",17),f.Zb(11,"plugin-select-search",22),f.hc("afterSelected",(function(e){return f.Hc(t),f.lc().getAttachType(e)})),f.Yb(),f.Zb(12,"div",20),f.Qc(13,z,1,0,"i",23),f.Qc(14,V,1,0,"i",24),f.Qc(15,H,1,0,"i",25),f.Yb(),f.Yb(),f.Zb(16,"div",17),f.Zb(17,"mat-form-field",18),f.Ub(18,"input",26),f.mc(19,"translate"),f.Yb(),f.Zb(20,"div",20),f.Qc(21,Q,1,0,"i",23),f.Qc(22,$,1,0,"i",24),f.Qc(23,W,1,0,"i",25),f.Yb(),f.Yb(),f.Qc(24,G,2,1,"div",27),f.Qc(25,q,4,2,"div",16),f.Qc(26,X,7,8,"div",16),f.Qc(27,J,7,7,"div",16),f.Zb(28,"mat-expansion-panel"),f.Zb(29,"mat-expansion-panel-header"),f.Zb(30,"mat-panel-title"),f.Sc(31),f.mc(32,"translate"),f.Yb(),f.Yb(),f.Zb(33,"div",17),f.Zb(34,"mat-form-field",18),f.Ub(35,"input",19),f.mc(36,"translate"),f.mc(37,"timeAgo"),f.Yb(),f.Zb(38,"div",20),f.Ub(39,"i",21),f.Yb(),f.Yb(),f.Zb(40,"div",17),f.Zb(41,"mat-form-field",18),f.Ub(42,"input",26),f.mc(43,"translate"),f.mc(44,"translate"),f.Yb(),f.Zb(45,"div",20),f.Ub(46,"i",21),f.Yb(),f.Yb(),f.Qc(47,K,7,8,"div",16),f.Qc(48,tt,7,7,"div",16),f.Zb(49,"div",17),f.Zb(50,"mat-form-field",18),f.Ub(51,"input",19),f.mc(52,"translate"),f.Yb(),f.Zb(53,"div",20),f.Ub(54,"i",21),f.Yb(),f.Yb(),f.Zb(55,"div",17),f.Zb(56,"mat-form-field",28),f.hc("click",(function(){return f.Hc(t),f.Dc(60).open()})),f.Ub(57,"input",29),f.Qc(58,et,1,1,"mat-datepicker-toggle",30),f.Ub(59,"mat-datepicker",31,32),f.Qc(61,nt,2,1,"button",33),f.Yb(),f.Zb(62,"div",20),f.Qc(63,it,1,0,"i",34),f.Qc(64,st,1,0,"i",25),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Wb()}if(2&t){const t=f.Dc(60),e=f.lc();f.Eb(2),f.sc("ngIf",e.editMode),f.Eb(1),f.sc("ngIf",e.newVersion),f.Eb(3),f.tc("placeholder",f.nc(7,42,"lang.status")),f.sc("formControl",e.attachment.status)("value",e.translate.instant("lang.attachment_"+e.attachment.status.value)),f.Eb(5),f.sc("label",e.translate.instant("lang.type"))("placeholderLabel",e.translate.instant("lang.type"))("formControlSelect",e.attachment.type)("datas",e.attachmentsTypes),f.Eb(2),f.sc("ngIf",e.attachment.type.hasError("required")&&e.attachment.type.untouched),f.Eb(1),f.sc("ngIf",e.attachment.type.touched&&e.attachment.type.hasError("required")),f.Eb(1),f.sc("ngIf",e.attachment.type.valid&&!e.isEmptyField(e.attachment.type)),f.Eb(3),f.tc("placeholder",f.nc(19,44,"lang.subject")),f.sc("formControl",e.attachment.title),f.Eb(3),f.sc("ngIf",e.attachment.title.hasError("required")&&e.attachment.title.untouched),f.Eb(1),f.sc("ngIf",e.attachment.title.touched&&e.attachment.title.hasError("required")),f.Eb(1),f.sc("ngIf",e.attachment.title.valid&&!e.isEmptyField(e.attachment.title)),f.Eb(1),f.sc("ngIf",e.sendMassMode),f.Eb(1),f.sc("ngIf",!e.sendMassMode),f.Eb(1),f.sc("ngIf",void 0!==e.attachment.signedResponse.value),f.Eb(1),f.sc("ngIf",void 0!==e.attachment.signedResponse.value),f.Eb(4),f.Uc(" ",f.nc(32,46,"lang.othersInfos")," "),f.Eb(4),f.tc("placeholder",f.nc(36,48,"lang.created")),f.sc("formControl",e.attachment.creationDate)("value",f.oc(37,50,e.attachment.creationDate.value,"full")),f.Eb(7),f.vc("placeholder","",f.nc(43,53,"lang.created")," ",f.nc(44,55,"lang.by"),""),f.sc("formControl",e.attachment.typistLabel),f.Eb(5),f.sc("ngIf",null!==e.attachment.modificationDate.value),f.Eb(1),f.sc("ngIf",null!==e.attachment.modificationDate.value),f.Eb(3),f.tc("placeholder",f.nc(52,57,"lang.version")),f.sc("formControl",e.attachment.relation)("value",e.translate.instant("lang.version")+" "+e.attachment.relation.value),f.Eb(6),f.sc("formControl",e.attachment.validationDate)("matDatepicker",t)("placeholder",e.translate.instant("lang.expectedReturnDate"))("min",e.now),f.Eb(1),f.sc("ngIf",!e.attachment.validationDate.value),f.Eb(1),f.sc("touchUi",e.appService.getViewMode()),f.Eb(2),f.sc("ngIf",e.attachment.validationDate.value&&!e.attachment.validationDate.disabled),f.Eb(2),f.sc("ngIf",e.attachment.validationDate.valid&&e.isEmptyField(e.attachment.validationDate)),f.Eb(1),f.sc("ngIf",e.attachment.validationDate.valid&&!e.isEmptyField(e.attachment.validationDate))}}function ot(t,e){if(1&t&&f.Ub(0,"app-document-viewer",54,55),2&t){const t=f.lc(3);f.sc("editMode",!1)("resId",t.attachment.resIdMaster.value)("title","Document principal")}}function rt(t,e){1&t&&(f.Zb(0,"mat-tab",52),f.Qc(1,ot,2,3,"ng-template",53),f.Yb())}function ct(t,e){1&t&&(f.Zb(0,"span",57),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.signedAttachment")))}function lt(t,e){if(1&t&&(f.Zb(0,"mat-tab"),f.Qc(1,ct,3,3,"ng-template",48),f.Ub(2,"app-document-viewer",56,55),f.Yb()),2&t){const t=f.lc(2);f.Eb(2),f.sc("editMode",!1)("resId",t.attachment.signedResponse.value)("mode","attachment")("title",t.attachment.chrono.value+" - "+t.attachment.title.value+" ("+t.translate.instant("lang.signed")+")")}}function dt(t,e){1&t&&(f.Zb(0,"span",58),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.attachment")))}function ht(t,e){if(1&t&&f.Ub(0,"app-document-viewer",60,55),2&t){const t=f.lc().$implicit,e=f.lc(2);f.sc("editMode",!1)("resId",t.resId)("mode","attachment")("format",e.attachment.format.value)("title",e.attachment.chrono.value+" - "+e.attachment.title.value+" ("+t.relation+")")}}function ut(t,e){if(1&t&&(f.Zb(0,"mat-tab",59),f.mc(1,"translate"),f.mc(2,"translate"),f.Qc(3,ht,2,5,"ng-template",53),f.Yb()),2&t){const t=e.$implicit;f.wc("label","",f.nc(1,3,"lang.attachment")," (",f.nc(2,5,"lang.version")," ",t.relation,")")}}function pt(t,e){if(1&t){const t=f.ac();f.Zb(0,"mat-tab-group",46),f.Qc(1,rt,2,0,"mat-tab",47),f.Qc(2,lt,4,4,"mat-tab",7),f.Zb(3,"mat-tab"),f.Qc(4,dt,3,3,"ng-template",48),f.Zb(5,"app-document-viewer",49,50),f.hc("triggerEvent",(function(e){return f.Hc(t),f.lc().setDatasViewer(e)})),f.Yb(),f.Yb(),f.Qc(7,ut,4,7,"mat-tab",51),f.Yb()}if(2&t){const t=f.lc();f.sc("selectedIndex",1),f.Eb(1),f.sc("ngIf",null!==t.attachment.res_id_master),f.Eb(1),f.sc("ngIf","SIGN"===t.attachment.status.value),f.Eb(3),f.sc("editMode",t.editMode)("resId",t.data.resId)("resIdMaster",t.attachment.resIdMaster.value)("mode","attachment")("format",t.attachment.format.value)("attachType",t.attachment.type.value)("title",t.attachment.chrono.value+" - "+t.attachment.title.value),f.Eb(2),f.sc("ngForOf",t.versions)}}function ft(t,e){if(1&t){const t=f.ac();f.Zb(0,"button",61),f.hc("click",(function(){return f.Hc(t),f.lc().updateAttachment()})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){const t=f.lc();f.sc("disabled",!(t.loading||t.editMode&&t.attachFormGroup.valid)),f.Eb(1),f.Tc(f.nc(2,2,"lang.validate"))}}function mt(t,e){if(1&t){const t=f.ac();f.Zb(0,"button",61),f.hc("click",(function(){return f.Hc(t),f.lc().updateAttachment("mailing")})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){const t=f.lc();f.sc("disabled",!(t.loading||t.editMode&&t.attachFormGroup.valid)),f.Eb(1),f.Tc(f.nc(2,2,"lang.mailing"))}}function gt(t,e){if(1&t){const t=f.ac();f.Zb(0,"button",61),f.hc("click",(function(){return f.Hc(t),f.lc().createNewVersion()})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){const t=f.lc();f.sc("disabled",!t.editMode||!t.isEditing()),f.Eb(1),f.Tc(f.nc(2,2,"lang.createNewVersion"))}}function bt(t,e){if(1&t){const t=f.ac();f.Zb(0,"button",61),f.hc("click",(function(){return f.Hc(t),f.lc().createNewVersion("mailing")})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){const t=f.lc();f.sc("disabled",!t.editMode||!t.isEditing()),f.Eb(1),f.Tc(f.nc(2,2,"lang.mailing"))}}function _t(t,e){if(1&t){const t=f.ac();f.Zb(0,"button",62),f.hc("click",(function(){return f.Hc(t),f.lc().deleteSignedVersion()})),f.Sc(1),f.mc(2,"translate"),f.Yb()}2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.deleteSignedVersion")))}let vt=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l,d){this.translate=t,this.http=e,this.data=n,this.dialog=i,this.dialogRef=s,this.appService=a,this.notify=o,this.sortPipe=r,this.headerService=c,this.privilegeService=l,this.functions=d,this.loading=!0,this.sendMassMode=!1,this.sendingData=!1,this.attachmentsTypes=[],this.versions=[],this.hidePanel=!1,this.newVersion=!1,this.attachFormGroup=null,this.editMode=!1,this.now=new Date}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.hidePanel=void 0!==this.data.hidePanel&&this.data.hidePanel,yield this.loadAttachmentTypes(),yield this.loadAttachment(),this.loading=!1}))}loadAttachmentTypes(){return new Promise((t,e)=>{this.http.get("../rest/attachmentsTypes").pipe(Object(s.a)(e=>{Object.keys(e.attachmentsTypes).forEach(t=>{e.attachmentsTypes[t].show&&this.attachmentsTypes.push(Object.assign({id:t},e.attachmentsTypes[t]))}),this.attachmentsTypes=this.sortPipe.transform(this.attachmentsTypes,"label"),t(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}loadAttachment(){return new Promise((t,e)=>{this.http.get("../rest/attachments/"+this.data.resId).pipe(Object(s.a)(e=>{let n=null;this.functions.empty(this.data.editMode)?!this.privilegeService.hasCurrentUserPrivilege("manage_attachments")&&this.headerService.user.id!==e.typist||"SIGN"===e.status||"FRZ"===e.status||(this.editMode=!0):this.editMode=this.data.editMode,null!==e.recipientId&&"SEND_MASS"!==e.status&&(n=[{id:e.recipientId,type:e.recipientType}]),this.sendMassMode="SEND_MASS"===e.status,this.attachment={typist:new u.h({value:e.typist,disabled:!0},[u.H.required]),typistLabel:new u.h({value:e.typistLabel,disabled:!0},[u.H.required]),creationDate:new u.h({value:e.creationDate,disabled:!0},[u.H.required]),modificationDate:new u.h({value:e.modificationDate,disabled:!0}),modifiedBy:new u.h({value:e.modifiedBy,disabled:!0}),signatory:new u.h({value:e.signatory,disabled:!0}),signDate:new u.h({value:e.signDate,disabled:!0}),resId:new u.h({value:this.data.resId,disabled:!0},[u.H.required]),chrono:new u.h({value:e.chrono,disabled:!0}),originId:new u.h({value:e.originId,disabled:!0}),resIdMaster:new u.h({value:e.resIdMaster,disabled:!0},[u.H.required]),status:new u.h({value:e.status,disabled:!0},[u.H.required]),relation:new u.h({value:e.relation,disabled:!0},[u.H.required]),title:new u.h({value:e.title,disabled:!this.editMode},[u.H.required]),recipient:new u.h({value:n,disabled:!this.editMode}),type:new u.h({value:e.type,disabled:!this.editMode},[u.H.required]),validationDate:new u.h({value:null!==e.validationDate?new Date(e.validationDate):null,disabled:!this.editMode}),signedResponse:new u.h({value:e.signedResponse,disabled:!1}),encodedFile:new u.h({value:"_CURRENT_FILE",disabled:!this.editMode},[u.H.required]),format:new u.h({value:e.format,disabled:!0},[u.H.required])},this.versions=e.versions,this.attachFormGroup=new u.k(this.attachment),t(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}createNewVersion(t="default"){this.sendingData=!0,this.appAttachmentViewer.getFile().pipe(Object(s.a)(t=>{this.attachment.encodedFile.setValue(t.content),this.attachment.format.setValue(t.format),this.functions.empty(this.attachment.encodedFile.value)&&(this.notify.error(this.translate.instant("lang.mustEditAttachmentFirst")),this.sendingData=!1)}),Object(o.a)(()=>!this.functions.empty(this.attachment.encodedFile.value)),Object(r.a)(()=>this.http.post("../rest/attachments",this.getAttachmentValues(!0,t))),Object(s.a)(e=>Object(i.a)(this,void 0,void 0,(function*(){this.sendMassMode&&"mailing"===t?(yield this.generateMailling(e.id),this.notify.success(this.translate.instant("lang.attachmentGenerated"))):this.notify.success(this.translate.instant("lang.newVersionAdded")),this.dialogRef.close("success")}))),Object(c.a)(()=>this.sendingData=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()}updateAttachment(t="default"){this.sendingData=!0,this.appAttachmentViewer.getFile().pipe(Object(s.a)(t=>{this.attachment.encodedFile.setValue(t.content),this.attachment.format.setValue(t.format)}),Object(r.a)(()=>this.http.put("../rest/attachments/"+this.attachment.resId.value,this.getAttachmentValues(!1,t))),Object(s.a)(()=>Object(i.a)(this,void 0,void 0,(function*(){this.sendMassMode&&"mailing"===t?(yield this.generateMailling(this.attachment.resId.value),this.notify.success(this.translate.instant("lang.attachmentGenerated"))):this.notify.success(this.translate.instant("lang.attachmentUpdated")),this.dialogRef.close("success")}))),Object(c.a)(()=>this.sendingData=!1),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()}generateMailling(t){return new Promise((e,n)=>{this.http.post(`../rest/attachments/${t}/mailing`,{}).pipe(Object(s.a)(()=>{e(!0)}),Object(a.a)(t=>(this.notify.handleSoftErrors(t),this.dialogRef.close(""),Object(l.a)(!1)))).subscribe()})}enableForm(t){Object.keys(this.attachment).forEach(e=>{-1===["status","typistLabel","creationDate","relation","modificationDate","modifiedBy"].indexOf(e)&&(t?this.attachment[e].enable():this.attachment[e].disable())})}getAttachmentValues(t=!1,e){let n={};return Object.keys(this.attachment).forEach(t=>{if(void 0!==this.attachment[t]&&null!=this.attachment[t].value){if("validationDate"===t){let e=this.attachment[t].value.getDate(),i=this.attachment[t].value.getMonth()+1,s=this.attachment[t].value.getFullYear();n[t]=("00"+e).slice(-2)+"-"+("00"+i).slice(-2)+"-"+s+" 23:59:59"}else"recipient"===t?(n.recipientId=this.attachment[t].value.length>0?this.attachment[t].value[0].id:null,n.recipientType=this.attachment[t].value.length>0?this.attachment[t].value[0].type:null):n[t]=this.attachment[t].value;"encodedFile"===t&&"_CURRENT_FILE"===this.attachment[t].value&&(n.encodedFile=null),"mailing"===e&&(n.inMailing=!0)}}),t&&(n.originId=null!==this.attachment.originId.value?this.attachment.originId.value:n.resId,n.relation=this.attachment.relation.value+1,delete n.resId),n}setDatasViewer(t){let e={};Object.keys(this.attachment).forEach(t=>{["title","validationDate","effectiveDate"].indexOf(t)>-1&&(e["attachment_"+t]=this.attachment[t].value)}),"setData"===t?this.appAttachmentViewer.setDatas(e):"cleanFile"===t?this.attachment.encodedFile.setValue(null):(e.resId=this.attachment.resIdMaster.value,this.appAttachmentViewer.setDatas(e))}getAttachType(t){this.appAttachmentViewer.loadTemplatesByResId(this.attachment.resIdMaster.value,t)}setNewVersion(){this.newVersion||this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.createNewVersion"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(o.a)(t=>"ok"===t),Object(s.a)(()=>{this.newVersion=!0}),Object(a.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}deleteSignedVersion(){this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.deleteSignedVersion"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(o.a)(t=>"ok"===t),Object(r.a)(()=>this.http.put(`../rest/attachments/${this.attachment.resId.value}/unsign`,{})),Object(s.a)(()=>{this.attachment.status.setValue("A_TRA"),this.attachment.signedResponse.setValue(null),(this.privilegeService.hasCurrentUserPrivilege("manage_attachments")||this.headerService.user.id===this.attachment.typist.value)&&(this.editMode=!0,this.enableForm(this.editMode)),this.notify.success(this.translate.instant("lang.signedVersionDeleted")),this.dialogRef.close("success")}),Object(a.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe()}isEmptyField(t){return null===t.value||(Array.isArray(t.value)?!(t.value.length>0):""===String(t.value))}isEditing(){return!this.functions.empty(this.appAttachmentViewer)&&this.appAttachmentViewer.isEditorLoaded()}closeModal(){this.appAttachmentViewer.isEditingTemplate()?this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.close"),msg:this.translate.instant("lang.editingDocumentMsg")}}).afterClosed().pipe(Object(o.a)(t=>"ok"===t),Object(s.a)(()=>{this.dialogRef.close()}),Object(a.a)(t=>(this.notify.handleErrors(t),Object(l.a)(!1)))).subscribe():this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(f.Tb(m.e),f.Tb(g.b),f.Tb(d.a),f.Tb(d.b),f.Tb(d.h),f.Tb(b.a),f.Tb(_.a),f.Tb(h.a),f.Tb(v.a),f.Tb(y.a),f.Tb(x.a))},t.\u0275cmp=f.Nb({type:t,selectors:[["app-attachment-page"]],viewQuery:function(t,e){var n;1&t&&f.ad(j,!0),2&t&&f.Cc(n=f.ic())&&(e.appAttachmentViewer=n.first)},features:[f.Db([h.a])],decls:18,vars:14,consts:[[1,"attach-container"],["class","example-loading-shade",4,"ngIf"],["mat-dialog-title",""],["style","flex: 1;",3,"title",4,"ngIf"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"attach-content"],[4,"ngIf"],["class","pjList","animationDuration","0","style","height: 100%",3,"selectedIndex",4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"disabled","click"],[1,"example-loading-shade"],[2,"flex","1",3,"title"],[1,"attachment-form","col-md-3","col-sm-12"],["class","attachment-form-item",4,"ngIf"],[1,"attachment-form-item"],[1,"input-form"],["matInput","",3,"placeholder","formControl","value"],[1,"fieldState"],[1,"fas","fa-asterisk","noMandatory"],[2,"width","100%",3,"label","placeholderLabel","formControlSelect","datas","afterSelected"],["class","fas fa-asterisk fieldRequired",4,"ngIf"],["class","fas fa-exclamation-triangle fieldError",4,"ngIf"],["class","fas fa-check fieldFull",4,"ngIf"],["matInput","",3,"placeholder","formControl"],["class","attachment-form-item","style","display: block;",4,"ngIf"],[1,"input-form",2,"cursor","pointer",3,"click"],["matInput","","readonly","",2,"cursor","pointer",3,"formControl","matDatepicker","placeholder","min"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["class","fas fa-asterisk noMandatory",4,"ngIf"],["color","primary",3,"checked","change"],["role","alert",1,"alert-message","alert-message-danger",3,"innerHTML"],[1,"fas","fa-asterisk","fieldRequired"],[1,"fas","fa-exclamation-triangle","fieldError"],[1,"fas","fa-check","fieldFull"],[1,"attachment-form-item",2,"display","block"],["role","alert",1,"alert","alert-info",3,"innerHTML"],[2,"width","100%",3,"control","singleMode"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],["animationDuration","0",1,"pjList",2,"height","100%",3,"selectedIndex"],["label","Document principal",4,"ngIf"],["mat-tab-label",""],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","resIdMaster","mode","format","attachType","title","triggerEvent"],["appAttachmentViewer",""],[3,"label",4,"ngFor","ngForOf"],["label","Document principal"],["matTabContent",""],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","title"],["appDocumentViewer",""],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","mode","title"],[2,"color","green"],[2,"color","#135f7f"],[3,"label"],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","mode","format","title"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Qc(1,Y,2,0,"div",1),f.Zb(2,"h1",2),f.Qc(3,N,4,7,"span",3),f.Zb(4,"button",4),f.hc("click",(function(){return e.dialogRef.close()})),f.Ub(5,"mat-icon",5),f.Yb(),f.Yb(),f.Zb(6,"mat-dialog-content",6),f.Qc(7,at,65,59,"ng-container",7),f.Qc(8,pt,8,11,"mat-tab-group",8),f.Yb(),f.Zb(9,"div",9),f.Qc(10,ft,3,4,"button",10),f.Qc(11,mt,3,4,"button",10),f.Qc(12,gt,3,4,"button",10),f.Qc(13,bt,3,4,"button",10),f.Qc(14,_t,3,3,"button",11),f.Zb(15,"button",12),f.hc("click",(function(){return e.closeModal()})),f.Sc(16),f.mc(17,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(1),f.sc("ngIf",e.sendingData),f.Eb(2),f.sc("ngIf",!e.loading),f.Eb(1),f.sc("title",e.translate.instant("lang.close")),f.Eb(3),f.sc("ngIf",!e.loading),f.Eb(1),f.sc("ngIf",!e.loading),f.Eb(2),f.sc("ngIf",!e.newVersion),f.Eb(1),f.sc("ngIf",!e.newVersion&&e.sendMassMode&&!e.loading),f.Eb(1),f.sc("ngIf",e.newVersion),f.Eb(1),f.sc("ngIf",e.newVersion&&e.sendMassMode&&!e.loading),f.Eb(1),f.sc("ngIf",!e.loading&&"SIGN"===e.attachment.status.value&&(e.privilegeService.hasCurrentUserPrivilege("sign_document")||e.headerService.user.id==e.attachment.typist.value)),f.Eb(1),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(17,12,"lang.close")))},directives:[w.t,d.i,C.b,O.a,d.f,d.c,k.c,S.c,E.b,u.c,u.t,u.i,M.a,I.c,I.g,I.h,P.f,P.d,T.a,A.a,P.h,S.j,D.c,D.a,D.d,R.a,w.s,D.b],pipes:[m.d,L.p,F.a],styles:[".attach-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:100%}.attach-container[_ngcontent-%COMP%]    .mat-tab-body-content, .attach-container[_ngcontent-%COMP%]    .mat-tab-body-wrapper{height:100%!important}.attach-container[_ngcontent-%COMP%]    .mat-drawer-inner-container{overflow-x:hidden}.mat-dialog-title[_ngcontent-%COMP%]{margin:0!important;display:flex;align-items:center}.attach-content[_ngcontent-%COMP%]{margin:0;padding:0!important;display:block;overflow:auto;max-height:100vh!important;height:calc(100% - 75px)}.attachment-form[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;overflow:auto;height:100%;padding:10px}.attachment-form[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.attachment-form-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label-wrapper{margin-top:-7px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label{background:#fff;width:auto!important;padding-top:5px;padding-left:5px;padding-right:5px}.pjList[_ngcontent-%COMP%]{flex:1}.pjList[_ngcontent-%COMP%]    .mat-tab-header{position:-webkit-sticky;position:sticky;z-index:1;height:50px;background:#fff;top:0}.pjList[_ngcontent-%COMP%]    .mat-tab-body-wrapper{flex:1}.pjList[_ngcontent-%COMP%]    .mat-tab-body-content{display:block;height:100%!important;text-align:center;background:#135f7f;color:#fff}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.77);z-index:2}.actions[_ngcontent-%COMP%]{margin:0}.complete[_ngcontent-%COMP%]{color:green;font-weight:700}.fieldState[_ngcontent-%COMP%]{padding-top:0!important}.stateDoc[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.documentContent[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:center;text-align:center;background:#135f7f;overflow:auto;color:#fff}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:14px;color:#666}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t})()},zkoq:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return u}));var i=n("fXoL"),s=n("FKr1"),a=n("8LU1"),o=n("cH1L");const r=["*"],c=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],l=["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"],d=new i.r("MAT_GRID_LIST");let h=(()=>{class t{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Object(a.f)(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Object(a.f)(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(d,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&i.Fb("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:r,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(i.rc(),i.Zb(0,"figure",0),i.qc(1),i.Yb())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t})(),u=(()=>{class t{constructor(t){this._element=t}ngAfterContentInit(){Object(s.F)(this._lines,this._element)}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(t,e,n){var a;1&t&&i.Lb(n,s.k,!0),2&t&&i.Cc(a=i.ic())&&(e._lines=a)},ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(t,e){1&t&&(i.rc(c),i.qc(0),i.Zb(1,"div",0),i.qc(2,1),i.Yb(),i.qc(3,2))},encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","mat-grid-avatar",""],["","matGridAvatar",""]],hostAttrs:[1,"mat-grid-avatar"]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-grid-tile-footer"]],hostAttrs:[1,"mat-grid-tile-footer"]}),t})();class g{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new b(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class b{constructor(t,e){this.row=t,this.col=e}}const _=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class v{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=O(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":C(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(t,n,i,s),this.setRowStyles(t,e,i,s)}setColStyles(t,e,n,i){let s=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,e)),t._setStyle("width",C(this.getTileSize(s,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class y extends v{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){if(super.init(t,e,n,i),this.fixedRowHeight=O(this.fixedRowHeight),!_.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",C(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",C(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class x extends v{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",C(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",C(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class w extends v{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",C(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function C(t){return`calc(${t})`}function O(t){return t.match(/([A-Za-z%]+)$/)?t:t+"px"}let k=(()=>{class t{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Object(a.f)(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=""+(null==t?"":t)}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=""+(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new w:t&&t.indexOf(":")>-1?new x(t):new y(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new g);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(o.c,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){var s;1&t&&i.Lb(n,h,!0),2&t&&i.Cc(s=i.ic())&&(e._tiles=s)},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[i.Db([{provide:d,useExisting:t}])],ngContentSelectors:r,decls:2,vars:0,template:function(t,e){1&t&&(i.rc(),i.Zb(0,"div"),i.qc(1),i.Yb())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t})(),S=(()=>{class t{}return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[s.l,s.j],s.l,s.j]}),t})()},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c}));var i=n("7o/Q"),s=n("HDdC"),a=n("SeVD");class o extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class r extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof s.a?t.subscribe(e):Object(a.a)(t)(e)}},zzsZ:function(t,e,n){"use strict";var i=n("Q1FS"),s=n("OAkW"),a=n("2qMH");e.fromArray=function(t,e){return e?a.scheduleArray(t,e):new i.Observable(s.subscribeToArray(t))}}},[[0,0]]]);