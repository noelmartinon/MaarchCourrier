function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"6S62":function(t,e,n){"use strict";n.r(e),n.d(e,"InstallerModule",(function(){return Tt}));var o,r=n("vWc3"),a=n("cMWS"),i=n("tyNb"),s=n("B/XX"),c=n("1YbM"),l=n("mrSG"),p=n("0IaG"),u=n("pWCv"),b=n("rNzc"),d=n("I65S"),m=n("fXoL"),g=n("sYmb"),f=n("tk/3"),h=((o=function(){function t(){_classCallCheck(this,t),this.steps=[]}return _createClass(t,[{key:"setStep",value:function(t){this.steps.push(t)}},{key:"isStepAlreadyLaunched",value:function(t){return this.steps.filter((function(e){return t===e.idStep})).length>0}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275prov=m.Mb({token:o,factory:o.\u0275fac}),o),v=n("AXEc"),y=n("7EHt"),C=n("bTqV"),k=n("ofXK"),S=n("MutI"),V=n("FKr1");function I(t,e){1&t&&(m.Ub(0),m.Qc(1,"..."),m.Tb())}function O(t,e){1&t&&m.Rb(0,"i",16)}function F(t,e){1&t&&m.Rb(0,"i",17)}function W(t,e){if(1&t&&(m.Wb(0,"div",18),m.Qc(1),m.Vb()),2&t){var n=m.hc().$implicit;m.Db(1),m.Sc(" ",n.msgErr," ")}}function G(t,e){if(1&t&&(m.Wb(0,"mat-list-item"),m.Wb(1,"div",11),m.Wb(2,"span",12),m.Qc(3),m.Vb(),m.Oc(4,I,2,0,"ng-container",10),m.Qc(5,"\xa0 "),m.Oc(6,O,1,0,"i",13),m.Oc(7,F,1,0,"i",14),m.Oc(8,W,2,1,"div",15),m.Vb(),m.Vb()),2&t){var n=e.$implicit;m.Db(1),m.Ib("endStep","OK"===n.state||"KO"===n.state)("currentStep","inProgress"===n.state),m.Db(2),m.Rc(n.label),m.Db(1),m.oc("ngIf","inProgress"===n.state),m.Db(2),m.oc("ngIf","OK"===n.state),m.Db(1),m.oc("ngIf","KO"===n.state),m.Db(1),m.oc("ngIf",""!==n.msgErr)}}function x(t,e){if(1&t){var n=m.Xb();m.Wb(0,"button",23),m.dc("click",(function(){return m.Dc(n),m.hc(2).goToInstance()})),m.Qc(1),m.ic(2,"translate"),m.Vb()}2&t&&(m.Db(1),m.Rc(m.jc(2,1,"lang.goToNewInstance")))}function D(t,e){1&t&&(m.Wb(0,"button",24),m.Qc(1),m.ic(2,"translate"),m.Vb()),2&t&&(m.Db(1),m.Rc(m.jc(2,1,"lang.cancel")))}function _(t,e){if(1&t&&(m.Ub(0),m.Rb(1,"span",19),m.Wb(2,"div",20),m.Oc(3,x,3,3,"button",21),m.Oc(4,D,3,3,"button",22),m.Vb(),m.Tb()),2&t){var n=m.hc();m.Db(3),m.oc("ngIf",!n.isInstallError()&&n.isInstallComplete()),m.Db(1),m.oc("ngIf",n.isInstallError()||!n.isInstallBegin())}}var w,j=((w=function(){function t(e,n,o,r,a,i){_classCallCheck(this,t),this.translate=e,this.data=n,this.dialogRef=o,this.http=r,this.installerService=a,this.notify=i,this.steps=[],this.customId="",this.disableAnimation=!0}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.initSteps();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){return t.disableAnimation=!1}))}},{key:"launchInstall",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(t.t0=n<this.data.length,!t.t0){t.next=8;break}return this.steps[n].state="inProgress",t.next=6,this.doStep(n);case 6:e=t.sent,t.t0=e;case 8:if(!t.t0){t.next=13;break}case 10:n++,t.next=1;break;case 13:case"end":return t.stop()}}),t,this)})))}},{key:"initSteps",value:function(){var t=this;this.data.forEach((function(e,n){0===n?t.customId=e.body.customId:e.body.customId=t.customId,t.steps.push({idStep:e.idStep,label:e.description,state:"",msgErr:""})}))}},{key:"doStep",value:function(t){var e=this;return new Promise((function(n,o){e.installerService.isStepAlreadyLaunched(e.data[t].idStep)?(e.steps[t].state="OK",n(!0)):e.http[e.data[t].route.method.toLowerCase()](e.data[t].route.url,e.data[t].body).pipe(Object(u.tap)((function(o){e.steps[t].state="OK",e.installerService.setStep(e.steps[t]),n(!0)})),Object(b.catchError)((function(o){return e.steps[t].state="KO",e.steps[t].msgErr=void 0!==o.error.lang?e.translate.instant("lang."+o.error.lang):o.error.errors,n(!1),Object(d.of)(!1)}))).subscribe()}))}},{key:"isInstallBegin",value:function(){return this.steps.filter((function(t){return""===t.state})).length!==this.steps.length}},{key:"isInstallComplete",value:function(){return 0===this.steps.filter((function(t){return""===t.state})).length}},{key:"isInstallError",value:function(){return this.steps.filter((function(t){return"KO"===t.state})).length>0}},{key:"goToInstance",value:function(){var t=this;this.http.request("DELETE","../rest/installer/lock",{body:{customId:this.customId}}).pipe(Object(u.tap)((function(e){window.location.href=e.url,t.dialogRef.close("ok")})),Object(b.catchError)((function(e){return t.notify.handleSoftErrors(e),Object(d.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||w)(m.Qb(g.e),m.Qb(p.a),m.Qb(p.h),m.Qb(f.b),m.Qb(h),m.Qb(v.a))},w.\u0275cmp=m.Kb({type:w,selectors:[["app-install-action"]],decls:15,vars:7,consts:[[1,"mat-dialog-content-container"],["mat-dialog-content",""],["hideToggle","","expanded",""],[1,"launch-action"],["color","primary",1,"text-center"],["mat-raised-button","","type","button","color","primary",2,"font-size","25px","padding","20px",3,"click"],[1,"far","fa-hdd"],[3,"expanded"],["installStepAction",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-line","",1,"step"],[1,"stepLabel"],["class","fa fa-check","style","color: green",4,"ngIf"],["class","fa fa-times","style","color: red",4,"ngIf"],["class","alert-message alert-message-danger","role","alert","style","margin-top: 30px;min-width: 100%;",4,"ngIf"],[1,"fa","fa-check",2,"color","green"],[1,"fa","fa-times",2,"color","red"],["role","alert",1,"alert-message","alert-message-danger",2,"margin-top","30px","min-width","100%"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"mat-dialog-close",4,"ngIf"],["mat-raised-button","","mat-button","","color","primary",3,"click"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t){var n=m.Xb();m.Wb(0,"div",0),m.Wb(1,"div",1),m.Wb(2,"mat-accordion"),m.Wb(3,"mat-expansion-panel",2),m.Wb(4,"div",3),m.Wb(5,"h2",4),m.Qc(6,"Vous y \xeates presque !"),m.Vb(),m.Wb(7,"button",5),m.dc("click",(function(){return m.Dc(n),m.zc(12).open(),e.launchInstall()})),m.Rb(8,"i",6),m.Qc(9),m.ic(10,"translate"),m.Vb(),m.Vb(),m.Vb(),m.Wb(11,"mat-expansion-panel",7,8),m.Oc(13,G,9,9,"mat-list-item",9),m.Vb(),m.Vb(),m.Vb(),m.Oc(14,_,5,2,"ng-container",10),m.Vb()}2&t&&(m.Db(1),m.oc("@.disabled",e.disableAnimation),m.Db(8),m.Sc(" ",m.jc(10,5,"lang.launchInstall")," "),m.Db(2),m.oc("expanded",!1),m.Db(2),m.oc("ngForOf",e.steps),m.Db(1),m.oc("ngIf",e.isInstallComplete()||e.isInstallError()||!e.isInstallBegin()))},directives:[p.f,y.a,y.c,C.b,k.s,k.t,S.d,V.l,p.c,p.d],pipes:[g.d],styles:[".step[_ngcontent-%COMP%]{opacity:.5}.currentStep[_ngcontent-%COMP%], .step[_ngcontent-%COMP%], .step[_ngcontent-%COMP%]   .stepLabel[_ngcontent-%COMP%]{transition:all .2s}.currentStep[_ngcontent-%COMP%]{opacity:1}.currentStep[_ngcontent-%COMP%]   .stepLabel[_ngcontent-%COMP%]{font-size:150%;transition:all .2s}.endStep[_ngcontent-%COMP%]{opacity:1}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.launch-action[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),w),Q=n("4ik+"),P=n("4zkx"),R=n("A6w4"),M=n("rH+9"),L=n("XhcP"),E=n("xHqg"),q=n("3Pt+"),A=n("MJ5r"),z=n("NFeN"),N=n("kmnG"),T=n("d3UM"),B=n("f0Cb");function K(t,e){if(1&t&&(m.Wb(0,"mat-option",13),m.Qc(1),m.ic(2,"translate"),m.Vb()),2&t){var n=e.$implicit;m.oc("value",n),m.Db(1),m.Sc(" ",m.jc(2,2,"lang."+n+"Full")," ")}}function U(t,e){if(1&t&&(m.Wb(0,"mat-list-item"),m.Rb(1,"mat-icon",14),m.Wb(2,"div",15),m.Qc(3),m.Vb(),m.Vb()),2&t){var n=e.$implicit;m.Db(1),m.Fb(n.icon),m.Db(2),m.Rc(n.desc)}}var H,X=function(t){return{value1:t}},Z=((H=function(){function t(e,n,o,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=o,this._formBuilder=r,this.langs=[],this.appVersion=A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1],this.steps=[{icon:"fas fa-check-square",desc:this.translate.instant("lang.prerequisiteCheck")},{icon:"fa fa-database",desc:this.translate.instant("lang.databaseCreation")},{icon:"fa fa-database",desc:this.translate.instant("lang.dataSampleCreation")},{icon:"fa fa-hdd",desc:this.translate.instant("lang.docserverCreation")},{icon:"fas fa-tools",desc:this.translate.instant("lang.stepCustomizationActionDesc")},{icon:"fa fa-user",desc:this.translate.instant("lang.adminUserCreation")}]}return _createClass(t,[{key:"ngOnInit",value:function(){this.stepFormGroup=this._formBuilder.group({lang:["fr",q.I.required]}),this.getLang()}},{key:"getLang",value:function(){this.langs=["fr","en"]}},{key:"initStep",value:function(){return!1}},{key:"getInfoToInstall",value:function(){return[]}}]),t}()).\u0275fac=function(t){return new(t||H)(m.Qb(g.e),m.Qb(f.b),m.Qb(v.a),m.Qb(q.h))},H.\u0275cmp=m.Kb({type:H,selectors:[["app-welcome"]],decls:30,vars:22,consts:[[1,"stepContent"],[1,"stepContentTitle"],[2,"text-align","center"],["svgIcon","maarchLogoFull",1,"maarchLogoFull"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline","floatLabel","never"],["formControlName","lang","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-subheader",""],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","href","https://community.maarch.org/","target","_blank"],["mat-raised-button","","color","primary","href","http://www.maarch.com","target","_blank"],[2,"font-style","italic","padding-top","30px","text-align","right",3,"innerHTML"],[3,"value"],["mat-list-icon","","color","primary"],["mat-line",""]],template:function(t,e){1&t&&(m.Wb(0,"div",0),m.Wb(1,"h2",1),m.Qc(2),m.ic(3,"translate"),m.Vb(),m.Wb(4,"div",2),m.Rb(5,"mat-icon",3),m.Vb(),m.Wb(6,"form",4),m.Wb(7,"mat-form-field",5),m.Wb(8,"mat-label"),m.Qc(9),m.ic(10,"translate"),m.Vb(),m.Wb(11,"mat-select",6),m.Oc(12,K,3,4,"mat-option",7),m.Vb(),m.Vb(),m.Vb(),m.Rb(13,"mat-divider"),m.Wb(14,"mat-list"),m.Wb(15,"div",8),m.Qc(16),m.ic(17,"translate"),m.Vb(),m.Oc(18,U,4,3,"mat-list-item",9),m.Vb(),m.Rb(19,"mat-divider"),m.Wb(20,"p"),m.Qc(21),m.ic(22,"translate"),m.Vb(),m.Wb(23,"a",10),m.Qc(24," community.maarch.org "),m.Vb(),m.Qc(25),m.ic(26,"translate"),m.Wb(27,"a",11),m.Qc(28," www.maarch.com "),m.Vb(),m.Rb(29,"p",12),m.Vb()),2&t&&(m.Db(2),m.Sc("",m.kc(3,9,"lang.welcomeApp",m.vc(20,X,e.appVersion))," !"),m.Db(4),m.oc("formGroup",e.stepFormGroup),m.Db(3),m.Sc("",m.jc(10,12,"lang.chooseAppLanguage")," : "),m.Db(3),m.oc("ngForOf",e.langs),m.Db(4),m.Sc("",m.jc(17,14,"lang.installDescription")," : "),m.Db(2),m.oc("ngForOf",e.steps),m.Db(3),m.Sc(" ",m.jc(22,16,"lang.externalInfoSite")," : "),m.Db(4),m.Sc(" ",m.jc(26,18,"lang.or")," "),m.Db(4),m.oc("innerHTML",e.translate.instant("lang.maarchLicenceInstall"),m.Ec))},directives:[z.a,q.K,q.v,q.m,N.c,N.g,T.a,q.u,q.k,q.F,k.s,B.a,S.a,S.g,C.a,V.p,S.d,S.c,V.l],pipes:[g.d],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:#135f7f;margin-bottom:30px;border-bottom:1px solid;padding:0}.stepContent[_ngcontent-%COMP%]   .maarchLogoFull[_ngcontent-%COMP%]{width:300px;height:100px}.stepContent[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.link[_ngcontent-%COMP%]{text-decoration:underline;color:#135f7f!important}"]}),H),J=n("zkoq"),Y=n("Qu3c"),tt=["packageItem"];function et(t,e){if(1&t&&(m.Wb(0,"mat-grid-tile"),m.Wb(1,"mat-list-item"),m.Rb(2,"mat-icon",12),m.Wb(3,"div",13),m.Qc(4),m.ic(5,"translate"),m.Rb(6,"i",14,15),m.Vb(),m.Vb(),m.Vb()),2&t){var n=e.$implicit,o=m.hc(2);m.Db(2),m.Gb("fa iconCheckPackage icon_",n.state,""),m.Db(2),m.Sc(" ",m.jc(5,7,"lang.install_"+n.label)," "),m.Db(2),m.oc("id",n.label)("matTooltip",o.translate.instant("lang.install_"+n.label+"_desc"))("matTooltipClass","ok"!==n.state?"tooltip-red":"")}}function nt(t,e){if(1&t&&(m.Wb(0,"mat-list",8),m.Wb(1,"div",9),m.Qc(2),m.ic(3,"translate"),m.Vb(),m.Wb(4,"mat-grid-list",10),m.Oc(5,et,8,9,"mat-grid-tile",11),m.Vb(),m.Vb()),2&t){var n=e.$implicit,o=m.hc();m.Db(2),m.Rc(m.jc(3,2,"lang."+n.key)),m.Db(3),m.oc("ngForOf",o.packagesList[n.key])}}var ot,rt=((ot=function(){function t(e,n,o,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=o,this._formBuilder=r,this.prerequisites={},this.packagesList={general:[{label:"phpVersionValid",required:!0},{label:"writable",required:!0}],tools:[{label:"unoconv",required:!0},{label:"netcatOrNmap",required:!0},{label:"pgsql",required:!0},{label:"curl",required:!0},{label:"zip",required:!0},{label:"wkhtmlToPdf",required:!0},{label:"imagick",required:!0}],phpExtensions:[{label:"fileinfo",required:!0},{label:"pdoPgsql",required:!0},{label:"gd",required:!0},{label:"mbstring",required:!0},{label:"json",required:!0},{label:"gettext",required:!0},{label:"xml",required:!0}],phpConfiguration:[{label:"errorReporting",required:!0},{label:"displayErrors",required:!0}]},this.docMaarchUrl="https://docs.maarch.org/gitbook/html/MaarchCourrier/".concat(A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1],"/guat/guat_prerequisites/home.html")}return _createClass(t,[{key:"ngOnInit",value:function(){this.stepFormGroup=this._formBuilder.group({firstCtrl:["",q.I.required]}),this.getStepData()}},{key:"getStepData",value:function(){var t=this;this.http.get("../rest/installer/prerequisites").pipe(Object(u.tap)((function(e){t.prerequisites=e.prerequisites,Object.keys(t.packagesList).forEach((function(e){t.packagesList[e].forEach((function(n,o){t.packagesList[e][o].state=t.prerequisites[t.packagesList[e][o].label]?"ok":"ko","phpVersionValid"===t.packagesList[e][o].label&&(t.translate.setTranslation(t.translate.getDefaultLang(),{lang:{install_phpVersionValid_desc:t.translate.instant("lang.currentVersion")+" : "+t.prerequisites.phpVersion}},!0),console.log(t.translate))}))})),t.stepFormGroup.controls.firstCtrl.setValue(t.checkStep()),t.stepFormGroup.controls.firstCtrl.markAsUntouched()})),Object(b.catchError)((function(e){return t.notify.handleSoftErrors(e),Object(d.of)(!1)}))).subscribe()}},{key:"initStep",value:function(){var t=this;Object.keys(this.packagesList).forEach((function(e){t.packagesList[e].forEach((function(n,o){"ko"===t.packagesList[e][o].state&&t.packageItem.toArray().filter((function(n){return n._elementRef.nativeElement.id===t.packagesList[e][o].label}))[0].toggle()}))}))}},{key:"checkStep",value:function(){var t=this,e="success";return Object.keys(this.packagesList).forEach((function(n){t.packagesList[n].forEach((function(t){"ko"===t.state&&(e="")}))})),e}},{key:"isValidStep",value:function(){return void 0!==this.stepFormGroup&&"success"===this.stepFormGroup.controls.firstCtrl.value}},{key:"getFormGroup",value:function(){return this.stepFormGroup}},{key:"getInfoToInstall",value:function(){return[]}}]),t}()).\u0275fac=function(t){return new(t||ot)(m.Qb(g.e),m.Qb(f.b),m.Qb(v.a),m.Qb(q.h))},ot.\u0275cmp=m.Kb({type:ot,selectors:[["app-prerequisite"]],viewQuery:function(t,e){var n;1&t&&m.Xc(tt,!0),2&t&&m.yc(n=m.ec())&&(e.packageItem=n)},decls:16,vars:14,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-check-square"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],["target","_blank",1,"link",3,"href"],["style","background: white;",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"click"],[2,"background","white"],["mat-subheader",""],["cols","3","rowHeight","50px"],[4,"ngFor","ngForOf"],["mat-list-icon",""],["mat-line","",1,"packageName"],["matTooltipPosition","right",1,"fa","fa-info-circle",3,"id","matTooltip","matTooltipClass"],["packageItem","matTooltip"]],template:function(t,e){1&t&&(m.Wb(0,"div",0),m.Wb(1,"h2",1),m.Rb(2,"i",2),m.Qc(3),m.ic(4,"translate"),m.Vb(),m.Wb(5,"div",3),m.Qc(6),m.ic(7,"translate"),m.Wb(8,"a",4),m.Qc(9),m.Vb(),m.Vb(),m.Oc(10,nt,6,4,"mat-list",5),m.ic(11,"keyvalue"),m.Wb(12,"div",6),m.Wb(13,"button",7),m.dc("click",(function(){return e.getStepData()})),m.Qc(14),m.ic(15,"translate"),m.Vb(),m.Vb(),m.Vb()),2&t&&(m.Db(3),m.Sc(" ",m.jc(4,6,"lang.prerequisite"),""),m.Db(3),m.Sc(" ",m.jc(7,8,"lang.stepPrerequisite_desc")," : "),m.Db(2),m.pc("href",e.docMaarchUrl,m.Gc),m.Db(1),m.Rc(e.docMaarchUrl),m.Db(1),m.oc("ngForOf",m.jc(11,10,e.packagesList)),m.Db(4),m.Rc(m.jc(15,12,"lang.updateInformations")))},directives:[k.s,C.b,S.a,S.g,J.b,J.d,S.d,z.a,S.c,V.l,Y.b],pipes:[g.d,k.l],styles:['.stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:#135f7f;margin-bottom:30px;border-bottom:1px solid;padding:0}.packageItem[_ngcontent-%COMP%]{flex:1!important}.iconCheckPackage[_ngcontent-%COMP%]{background:#fff;font-size:15px!important;display:flex;align-items:center;justify-content:center;padding:10px;border-radius:20px;height:35px;width:35px}.icon_ok[_ngcontent-%COMP%]{color:green}.icon_ok[_ngcontent-%COMP%]:before{content:"\\f111"}.icon_warning[_ngcontent-%COMP%]{color:orange}.icon_warning[_ngcontent-%COMP%]:before{content:"\\f111"}.icon_ko[_ngcontent-%COMP%]{color:red}.icon_ko[_ngcontent-%COMP%]:before{content:"\\f111"}.link[_ngcontent-%COMP%]{text-decoration:underline;color:#135f7f!important}.packageName[_ngcontent-%COMP%]{font-size:120%!important;white-space:normal!important}.packageName[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:help;opacity:.5;color:#135f7f} .tooltip-red{background:#b71c1c;font-size:14px}']}),ot),at=n("qFsG");function it(t,e){1&t&&(m.Wb(0,"div",18),m.Qc(1),m.ic(2,"translate"),m.Vb()),2&t&&(m.Db(1),m.Sc(" ",m.jc(2,1,"lang.stepEmptyDb")," "))}function st(t,e){if(1&t&&(m.Wb(0,"mat-option",19),m.Qc(1),m.Vb()),2&t){var n=e.$implicit;m.oc("value",n),m.Db(1),m.Sc(" ",n," ")}}var ct,lt,pt=((lt=function(){function t(e,n,o,r,a,i){_classCallCheck(this,t),this.translate=e,this.http=n,this._formBuilder=o,this.notify=r,this.functionsService=a,this.installerService=i,this.hide=!0,this.connectionState=!1,this.dbExist=!1,this.dataFiles=[],this.nextStep=new m.o;var s=[q.I.pattern(/^[^\;\" \\]+$/),q.I.required],c=[q.I.pattern(/^[^ ]+$/),q.I.required];this.stepFormGroup=this._formBuilder.group({dbHostCtrl:["localhost",q.I.required],dbLoginCtrl:["",c],dbPortCtrl:["5432",q.I.required],dbPasswordCtrl:["",c],dbNameCtrl:["",s],dbSampleCtrl:["data_fr",q.I.required],stateStep:["",q.I.required]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.stepFormGroup.controls.dbHostCtrl.valueChanges.pipe(Object(u.tap)((function(){return t.stepFormGroup.controls.stateStep.setValue("")}))).subscribe(),this.stepFormGroup.controls.dbLoginCtrl.valueChanges.pipe(Object(u.tap)((function(){return t.stepFormGroup.controls.stateStep.setValue("")}))).subscribe(),this.stepFormGroup.controls.dbPortCtrl.valueChanges.pipe(Object(u.tap)((function(){return t.stepFormGroup.controls.stateStep.setValue("")}))).subscribe(),this.stepFormGroup.controls.dbPasswordCtrl.valueChanges.pipe(Object(u.tap)((function(){return t.stepFormGroup.controls.stateStep.setValue("")}))).subscribe(),this.stepFormGroup.controls.dbNameCtrl.valueChanges.pipe(Object(u.tap)((function(){return t.stepFormGroup.controls.stateStep.setValue("")}))).subscribe(),this.getDataFiles()}},{key:"getDataFiles",value:function(){var t=this;this.http.get("../rest/installer/sqlDataFiles").pipe(Object(u.tap)((function(e){t.dataFiles=e.dataFiles})),Object(b.catchError)((function(e){return t.notify.handleSoftErrors(e),Object(d.of)(!1)}))).subscribe()}},{key:"isValidConnection",value:function(){return!1}},{key:"initStep",value:function(){this.installerService.isStepAlreadyLaunched("database")&&this.stepFormGroup.disable()}},{key:"checkConnection",value:function(){var t=this;this.http.get("../rest/installer/databaseConnection",{observe:"response",params:{server:this.stepFormGroup.controls.dbHostCtrl.value,port:this.stepFormGroup.controls.dbPortCtrl.value,user:this.stepFormGroup.controls.dbLoginCtrl.value,password:this.stepFormGroup.controls.dbPasswordCtrl.value,name:this.stepFormGroup.controls.dbNameCtrl.value}}).pipe(Object(u.tap)((function(e){t.dbExist=200===e.status,t.notify.success(t.translate.instant("lang.rightInformations")),t.stepFormGroup.controls.stateStep.setValue("success"),t.nextStep.emit()})),Object(b.catchError)((function(e){return t.dbExist=!1,t.notify.error(t.translate.instant("Given database has tables"===e.error.errors?"lang.dbNotEmpty":"lang.badInformations")),t.stepFormGroup.markAllAsTouched(),t.stepFormGroup.controls.stateStep.setValue(""),Object(d.of)(!1)}))).subscribe()}},{key:"checkStep",value:function(){return this.stepFormGroup.valid}},{key:"isValidStep",value:function(){return!!this.installerService.isStepAlreadyLaunched("database")||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}},{key:"isEmptyConnInfo",value:function(){return this.stepFormGroup.controls.dbHostCtrl.invalid||this.stepFormGroup.controls.dbPortCtrl.invalid||this.stepFormGroup.controls.dbLoginCtrl.invalid||this.stepFormGroup.controls.dbPasswordCtrl.invalid||this.stepFormGroup.controls.dbNameCtrl.invalid}},{key:"getFormGroup",value:function(){return!!this.installerService.isStepAlreadyLaunched("database")||this.stepFormGroup}},{key:"getInfoToInstall",value:function(){return[{idStep:"database",body:{server:this.stepFormGroup.controls.dbHostCtrl.value,port:this.stepFormGroup.controls.dbPortCtrl.value,user:this.stepFormGroup.controls.dbLoginCtrl.value,password:this.stepFormGroup.controls.dbPasswordCtrl.value,name:this.stepFormGroup.controls.dbNameCtrl.value,data:this.stepFormGroup.controls.dbSampleCtrl.value},route:{method:"POST",url:"../rest/installer/database"},description:this.translate.instant("lang.stepDatabaseActionDesc"),installPriority:2}]}}]),t}()).\u0275fac=function(t){return new(t||lt)(m.Qb(g.e),m.Qb(f.b),m.Qb(q.h),m.Qb(v.a),m.Qb(M.a),m.Qb(h))},lt.\u0275cmp=m.Kb({type:lt,selectors:[["app-database"]],outputs:{nextStep:"nextStep"},decls:47,vars:35,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fa","fa-database"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","dbHostCtrl","required",""],["matInput","","formControlName","dbPortCtrl","required",""],["matInput","","formControlName","dbLoginCtrl","required",""],["matInput","","formControlName","dbPasswordCtrl","required","",3,"type"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["matInput","","formControlName","dbNameCtrl","maxlength","50","required",""],["class","alert-message alert-message-info","role","alert","style","margin-top: 0px;min-width: 100%;",4,"ngIf"],["appearance","outline","floatLabel","never"],["formControlName","dbSampleCtrl"],[3,"value",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","0px","min-width","100%"],[3,"value"]],template:function(t,e){1&t&&(m.Wb(0,"div",0),m.Wb(1,"h2",1),m.Rb(2,"i",2),m.Qc(3),m.ic(4,"translate"),m.Vb(),m.Wb(5,"div",3),m.Qc(6),m.ic(7,"translate"),m.Vb(),m.Wb(8,"form",4),m.Wb(9,"mat-form-field",5),m.Wb(10,"mat-label"),m.Qc(11),m.ic(12,"translate"),m.Vb(),m.Rb(13,"input",6),m.Vb(),m.Wb(14,"mat-form-field",5),m.Wb(15,"mat-label"),m.Qc(16),m.ic(17,"translate"),m.Vb(),m.Rb(18,"input",7),m.Vb(),m.Wb(19,"mat-form-field",5),m.Wb(20,"mat-label"),m.Qc(21),m.ic(22,"translate"),m.Vb(),m.Rb(23,"input",8),m.Vb(),m.Wb(24,"mat-form-field",5),m.Wb(25,"mat-label"),m.Qc(26),m.ic(27,"translate"),m.Vb(),m.Rb(28,"input",9),m.Wb(29,"button",10),m.dc("click",(function(){return e.hide=!e.hide})),m.Rb(30,"mat-icon"),m.Vb(),m.Vb(),m.Wb(31,"mat-form-field",5),m.Wb(32,"mat-label"),m.Qc(33),m.ic(34,"translate"),m.Vb(),m.Rb(35,"input",11),m.Vb(),m.Oc(36,it,3,3,"div",12),m.Wb(37,"mat-form-field",13),m.Wb(38,"mat-label"),m.Qc(39),m.ic(40,"translate"),m.Vb(),m.Wb(41,"mat-select",14),m.Oc(42,st,2,2,"mat-option",15),m.Vb(),m.Vb(),m.Wb(43,"div",16),m.Wb(44,"button",17),m.dc("click",(function(){return e.checkConnection()})),m.Qc(45),m.ic(46,"translate"),m.Vb(),m.Vb(),m.Vb(),m.Vb()),2&t&&(m.Db(3),m.Sc(" ",m.jc(4,17,"lang.database"),""),m.Db(3),m.Sc(" ",m.jc(7,19,"lang.stepDatabase_desc")," "),m.Db(2),m.oc("formGroup",e.stepFormGroup),m.Db(3),m.Rc(m.jc(12,21,"lang.host")),m.Db(5),m.Rc(m.jc(17,23,"lang.port")),m.Db(5),m.Rc(m.jc(22,25,"lang.user")),m.Db(5),m.Rc(m.jc(27,27,"lang.password")),m.Db(2),m.oc("type",e.hide?"password":"text"),m.Db(2),m.Gb("fa ",e.hide?"fa-eye-slash":"fa-eye",""),m.Db(3),m.Rc(m.jc(34,29,"lang.dbName")),m.Db(3),m.oc("ngIf",e.dbExist),m.Db(3),m.Rc(m.jc(40,31,"lang.dbSample")),m.Db(3),m.oc("ngForOf",e.dataFiles),m.Db(2),m.oc("disabled",e.isEmptyConnInfo()||e.stepFormGroup.controls.dbHostCtrl.disabled),m.Db(1),m.Sc(" ",m.jc(46,33,"lang.checkInformations")," "))},directives:[q.K,q.v,q.m,N.c,N.g,at.b,q.d,q.u,q.k,q.F,C.b,N.j,z.a,q.p,k.t,T.a,k.s,V.p],pipes:[g.d],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:#135f7f;margin-bottom:30px;border-bottom:1px solid;padding:0}"]}),lt),ut=((ct=function(){function t(e,n,o,r,a){var i=this;_classCallCheck(this,t),this.translate=e,this._formBuilder=n,this.notify=o,this.http=r,this.installerService=a,this.nextStep=new m.o;var s=[q.I.pattern(/^[^\'\<\>\|\*\:\?]+$/),q.I.required];this.stepFormGroup=this._formBuilder.group({docserversPath:["/opt/maarch/docservers/",s],stateStep:["",q.I.required]}),this.stepFormGroup.controls.docserversPath.valueChanges.pipe(Object(u.tap)((function(){return i.stepFormGroup.controls.stateStep.setValue("")}))).subscribe()}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"isValidStep",value:function(){return!!this.installerService.isStepAlreadyLaunched("docserver")||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}},{key:"initStep",value:function(){this.installerService.isStepAlreadyLaunched("docserver")&&this.stepFormGroup.disable()}},{key:"getFormGroup",value:function(){return!!this.installerService.isStepAlreadyLaunched("docserver")||this.stepFormGroup}},{key:"checkAvailability",value:function(){var t=this;this.http.get("../rest/installer/docservers",{params:{path:this.stepFormGroup.controls.docserversPath.value}}).pipe(Object(u.tap)((function(e){t.notify.success(t.translate.instant("lang.rightInformations")),t.stepFormGroup.controls.stateStep.setValue("success"),t.nextStep.emit()})),Object(b.catchError)((function(e){return t.notify.error(t.translate.instant("lang.pathUnreacheable")),t.stepFormGroup.controls.stateStep.setValue(""),Object(d.of)(!1)}))).subscribe()}},{key:"getInfoToInstall",value:function(){return[{idStep:"docserver",body:{path:this.stepFormGroup.controls.docserversPath.value},route:{method:"POST",url:"../rest/installer/docservers"},description:this.translate.instant("lang.stepDocserversActionDesc"),installPriority:3}]}}]),t}()).\u0275fac=function(t){return new(t||ct)(m.Qb(g.e),m.Qb(q.h),m.Qb(v.a),m.Qb(f.b),m.Qb(h))},ct.\u0275cmp=m.Kb({type:ct,selectors:[["app-docservers"]],outputs:{nextStep:"nextStep"},decls:20,vars:14,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fa","fa-hdd"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline",2,"color","initial"],["matInput","","formControlName","docserversPath"],["matSuffix",""],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(m.Wb(0,"div",0),m.Wb(1,"h2",1),m.Rb(2,"i",2),m.Qc(3),m.ic(4,"translate"),m.Vb(),m.Wb(5,"div",3),m.Qc(6),m.ic(7,"translate"),m.Vb(),m.Wb(8,"form",4),m.Wb(9,"mat-form-field",5),m.Wb(10,"mat-label"),m.Qc(11),m.ic(12,"translate"),m.Vb(),m.Rb(13,"input",6),m.Wb(14,"span",7),m.Qc(15,"/__CUSTOM_iD__/"),m.Vb(),m.Vb(),m.Wb(16,"div",8),m.Wb(17,"button",9),m.dc("click",(function(){return e.checkAvailability()})),m.Qc(18),m.ic(19,"translate"),m.Vb(),m.Vb(),m.Vb(),m.Vb()),2&t&&(m.Db(3),m.Sc(" ",m.jc(4,6,"lang.docserver"),""),m.Db(3),m.Sc(" ",m.jc(7,8,"lang.stepDocserver_desc")," "),m.Db(2),m.oc("formGroup",e.stepFormGroup),m.Db(3),m.Rc(m.jc(12,10,"lang.docserverPath")),m.Db(6),m.oc("disabled",!e.stepFormGroup.controls.docserversPath.valid),m.Db(1),m.Rc(m.jc(19,12,"lang.checkInformations")))},directives:[q.K,q.v,q.m,N.c,N.g,at.b,q.d,q.u,q.k,N.j,C.b],pipes:[g.d],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:#135f7f;margin-bottom:30px;border-bottom:1px solid;padding:0}"]}),ct),bt=n("aEDk"),dt=n("vkgz"),mt=n("Kj3r"),gt=n("pLZG"),ft=n("JIr8"),ht=n("jhN1"),vt=n("Wp6s");function yt(t,e){1&t&&(m.Ub(0),m.Qc(1),m.ic(2,"translate"),m.Tb()),2&t&&(m.Db(1),m.Sc(" ",m.jc(2,1,"lang.customAlreadyExist")," "))}var Ct=function(){return{value1:'"_", "-"'}};function kt(t,e){1&t&&(m.Ub(0),m.Qc(1),m.ic(2,"translate"),m.Tb()),2&t&&(m.Db(1),m.Sc(" ",m.kc(2,1,"lang.onlySpecialCharAllowed",m.uc(4,Ct))," "))}function St(t,e){if(1&t){var n=m.Xb();m.Wb(0,"mat-card",20),m.dc("click",(function(){m.Dc(n);var t=e.$implicit;return m.hc().selectBg(t.url)})),m.Vb()}if(2&t){var o=e.$implicit,r=m.hc();m.Lc("background","url("+o.url+")"),m.Ib("selected",o.url===r.stepFormGroup.controls.bodyLoginBackground.value)("disabled",r.stepFormGroup.controls.bodyLoginBackground.disabled)}}function Vt(t,e){if(1&t){var n=m.Xb();m.Wb(0,"mat-card",21),m.dc("click",(function(){return m.Dc(n),m.zc(2).click()})),m.Wb(1,"input",22,23),m.dc("change",(function(t){return m.Dc(n),m.hc().uploadTrigger(t,"bg")})),m.Vb(),m.Rb(3,"i",24),m.Vb()}}var It,Ot,Ft=((Ot=function(){function t(e,n,o,r,a,i,s){_classCallCheck(this,t),this.translate=e,this._formBuilder=n,this.notify=o,this.sanitizer=r,this.scanPipe=a,this.http=i,this.installerService=s,this.readonlyState=!1,this.backgroundList=[];var c=[q.I.pattern(/^[a-zA-Z0-9_\-]*$/),q.I.required];this.stepFormGroup=this._formBuilder.group({firstCtrl:["success",q.I.required],customId:["cs_maarchcourrier",c],appName:["Maarch Courrier "+A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1],q.I.required],loginMessage:['<span style="color:#24b0ed"><strong>D\xe9couvrez votre application via</strong></span>&nbsp;<a title="le guide de visite" href="https://docs.maarch.org/gitbook/html/MaarchCourrier/'.concat(A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1],'/guu/home.html" target="_blank"><span style="color:#f99830;"><strong>le guide de visite en ligne</strong></span></a>')],homeMessage:['<p>D&eacute;couvrez <strong>Maarch Courrier 20.10</strong> avec <a title="notre guide de visite" href="https://docs.maarch.org/" target="_blank"><span style="color:#f99830;"><strong>notre guide de visite en ligne</strong></span></a>.</p>'],bodyLoginBackground:["assets/bodylogin.jpg"],uploadedLogo:["../rest/images?image=logo"]}),this.backgroundList=Array.from({length:16}).map((function(t,e){return{filename:e+1+".jpg",url:"assets/".concat(e+1,".jpg")}}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.checkCustomExist(),this.stepFormGroup.controls.customId.valueChanges.pipe(Object(dt.a)((function(){t.stepFormGroup.controls.firstCtrl.setValue("")})),Object(mt.a)(500),Object(gt.a)((function(t){return t.length>2})),Object(gt.a)((function(){return null===t.stepFormGroup.controls.customId.errors||void 0===t.stepFormGroup.controls.customId.errors.pattern})),Object(dt.a)((function(){t.checkCustomExist()}))).subscribe()}},{key:"initStep",value:function(){this.installerService.isStepAlreadyLaunched("createCustom")&&this.installerService.isStepAlreadyLaunched("customization")?(this.stepFormGroup.disable(),this.readonlyState=!0,tinymce.remove(),this.initMce(!0)):this.installerService.isStepAlreadyLaunched("createCustom")?(this.stepFormGroup.controls.customId.disable(),this.stepFormGroup.controls.appName.disable(),this.stepFormGroup.controls.firstCtrl.disable()):this.installerService.isStepAlreadyLaunched("customization")?(this.stepFormGroup.controls.loginMessage.disable(),this.stepFormGroup.controls.homeMessage.disable(),this.stepFormGroup.controls.bodyLoginBackground.disable(),this.stepFormGroup.controls.uploadedLogo.disable(),this.readonlyState=!0,tinymce.remove(),this.initMce(!0)):(this.readonlyState=!1,this.initMce())}},{key:"checkCustomExist",value:function(){var t=this;this.http.get("../rest/installer/custom",{observe:"response",params:{customId:this.stepFormGroup.controls.customId.value}}).pipe(Object(dt.a)((function(e){null!==t.stepFormGroup.controls.customId.errors?delete t.stepFormGroup.controls.customId.errors.customExist:t.stepFormGroup.controls.firstCtrl.setValue("success")})),Object(ft.a)((function(e){return null!==e.error.errors.match(/^Custom already exists/g)?(t.stepFormGroup.controls.customId.setErrors(Object.assign(Object.assign({},t.stepFormGroup.controls.customId.errors),{customExist:!0})),t.stepFormGroup.controls.customId.markAsTouched()):t.notify.handleSoftErrors(e),Object(d.of)(!1)}))).subscribe()}},{key:"isValidStep",value:function(){return!(!this.installerService.isStepAlreadyLaunched("createCustom")||!this.installerService.isStepAlreadyLaunched("customization"))||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}},{key:"getFormGroup",value:function(){return!(!this.installerService.isStepAlreadyLaunched("createCustom")||!this.installerService.isStepAlreadyLaunched("customization"))||this.stepFormGroup}},{key:"initMce",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];tinymce.init({selector:"textarea",base_url:"../node_modules/tinymce/",height:"150",suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:"../node_modules/tinymce-i18n/langs/".concat(this.translate.instant("lang.langISO").replace("-","_"),".js"),menubar:!1,statusbar:!1,readonly:t,plugins:["autolink"],external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_drawer:"floating",toolbar:t?"":"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |         alignleft aligncenter alignright alignjustify         bullist numlist outdent indent | removeformat"})}},{key:"getInfoToInstall",value:function(){return[{idStep:"createCustom",body:{customId:this.stepFormGroup.controls.customId.value,applicationName:this.stepFormGroup.controls.appName.value},description:this.translate.instant("lang.stepInstanceActionDesc"),route:{method:"POST",url:"../rest/installer/custom"},installPriority:1},{idStep:"customization",body:{loginMessage:tinymce.get("loginMessage").getContent(),homeMessage:tinymce.get("homeMessage").getContent(),bodyLoginBackground:this.stepFormGroup.controls.bodyLoginBackground.value,logo:this.stepFormGroup.controls.uploadedLogo.value},description:this.translate.instant("lang.stepCustomizationActionDesc"),route:{method:"POST",url:"../rest/installer/customization"},installPriority:3}]}},{key:"uploadTrigger",value:function(t,e){var n=this;if(t.target.files&&t.target.files[0]){var o=this.canUploadFile(t.target.files[0],e);if(!0===o){var r=new FileReader;r.readAsDataURL(t.target.files[0]),r.onload=function(t){if("logo"===e)n.stepFormGroup.controls.uploadedLogo.setValue(t.target.result);else{var o=new Image;o.onload=function(e){e.target.width<1920||e.target.height<1080?n.notify.error(n.translate.instant("lang.badImageResolution",{value1:"1920x1080"})):(n.backgroundList.push({filename:t.target.result,url:t.target.result}),n.stepFormGroup.controls.bodyLoginBackground.setValue(t.target.result))},o.src=t.target.result}}}else this.notify.error(o)}}},{key:"canUploadFile",value:function(t,e){var n="logo"!==e?["image/jpg","image/jpeg"]:["image/svg+xml"];if("logo"===e){if(t.size>5e6)return this.translate.instant("lang.maxFileSizeExceeded",{value1:"5mo"});if(-1===n.indexOf(t.type))return this.translate.instant("lang.onlyExtensionsAllowed",{value1:n.join(", ")})}else{if(t.size>1e7)return this.translate.instant("lang.maxFileSizeExceeded",{value1:"10mo"});if(-1===n.indexOf(t.type))return this.translate.instant("lang.onlyExtensionsAllowed",{value1:n.join(", ")})}return!0}},{key:"logoURL",value:function(){return this.sanitizer.bypassSecurityTrustUrl(this.stepFormGroup.controls.uploadedLogo.value)}},{key:"selectBg",value:function(t){this.stepFormGroup.controls.bodyLoginBackground.disabled||this.stepFormGroup.controls.bodyLoginBackground.setValue(t)}},{key:"clickLogoButton",value:function(t){this.stepFormGroup.controls.uploadedLogo.disabled||t.click()}}]),t}()).\u0275fac=function(t){return new(t||Ot)(m.Qb(g.e),m.Qb(q.h),m.Qb(v.a),m.Qb(ht.b),m.Qb(bt.o),m.Qb(f.b),m.Qb(h))},Ot.\u0275cmp=m.Kb({type:Ot,selectors:[["app-customization"]],features:[m.Cb([bt.o])],decls:52,vars:34,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-tools"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"display","contents",3,"formGroup"],[1,"col-md-6"],["appearance","outline"],["matInput","","formControlName","customId"],[4,"ngIf"],["matInput","","formControlName","appName"],["name","loginMessage","id","loginMessage","formControlName","loginMessage",2,"padding-top","10px"],["name","homeMessage","id","homeMessage","formControlName","homeMessage",2,"padding-top","10px"],["matRipple","",2,"width","350px","background-size","100%","cursor","pointer"],[2,"width","100%",3,"src","click"],["type","file","name","files[]","accept","image/svg+xml",2,"display","none",3,"change"],["uploadLogo",""],[1,"backgroundList"],[1,"backgroundItem",2,"background","url(assets/bodylogin.jpg)","background-size","cover",3,"click"],["style","opacity: 0.3;","class","backgroundItem",3,"selected","disabled","background","click",4,"ngFor","ngForOf"],["style","opacity: 0.3;display: flex;align-items: center;justify-content: center;","class","backgroundItem",3,"click",4,"ngIf"],[1,"backgroundItem",2,"opacity","0.3",3,"click"],[1,"backgroundItem",2,"opacity","0.3","display","flex","align-items","center","justify-content","center",3,"click"],["type","file","name","files[]","accept","image/jpeg",2,"display","none",3,"change"],["uploadFile",""],[1,"fa","fa-plus",2,"font-size","30px","color","#666"]],template:function(t,e){if(1&t){var n=m.Xb();m.Wb(0,"div",0),m.Wb(1,"h2",1),m.Rb(2,"i",2),m.Qc(3),m.ic(4,"translate"),m.Vb(),m.Wb(5,"div",3),m.Qc(6),m.ic(7,"translate"),m.Vb(),m.Wb(8,"form",4),m.Wb(9,"div",5),m.Wb(10,"mat-form-field",6),m.Wb(11,"mat-label"),m.Qc(12),m.ic(13,"translate"),m.Vb(),m.Rb(14,"input",7),m.Wb(15,"mat-error"),m.Oc(16,yt,3,3,"ng-container",8),m.Oc(17,kt,3,5,"ng-container",8),m.Vb(),m.Vb(),m.Wb(18,"mat-form-field",6),m.Wb(19,"mat-label"),m.Qc(20),m.ic(21,"translate"),m.Vb(),m.Rb(22,"input",9),m.Vb(),m.Wb(23,"div"),m.Qc(24),m.ic(25,"translate"),m.Vb(),m.Rb(26,"textarea",10),m.Rb(27,"br"),m.Rb(28,"br"),m.Wb(29,"div"),m.Qc(30),m.ic(31,"translate"),m.Vb(),m.Rb(32,"textarea",11),m.Rb(33,"br"),m.Rb(34,"br"),m.Vb(),m.Wb(35,"div",5),m.Wb(36,"div"),m.Qc(37),m.ic(38,"translate"),m.Vb(),m.Wb(39,"div"),m.Wb(40,"mat-card",12),m.Wb(41,"img",13),m.dc("click",(function(){m.Dc(n);var t=m.zc(43);return e.clickLogoButton(t)})),m.Vb(),m.Wb(42,"input",14,15),m.dc("change",(function(t){return e.uploadTrigger(t,"logo")})),m.Vb(),m.Vb(),m.Vb(),m.Rb(44,"br"),m.Wb(45,"div"),m.Qc(46),m.ic(47,"translate"),m.Vb(),m.Wb(48,"div",16),m.Wb(49,"mat-card",17),m.dc("click",(function(){return e.selectBg("assets/bodylogin.jpg")})),m.Vb(),m.Oc(50,St,1,6,"mat-card",18),m.Oc(51,Vt,4,0,"mat-card",19),m.Vb(),m.Vb(),m.Vb(),m.Vb()}2&t&&(m.Db(3),m.Sc(" ",m.jc(4,18,"lang.customization"),""),m.Db(3),m.Sc(" ",m.jc(7,20,"lang.stepCustomization_desc")," "),m.Db(2),m.oc("formGroup",e.stepFormGroup),m.Db(4),m.Rc(m.jc(13,22,"lang.instanceId")),m.Db(4),m.oc("ngIf",null==e.stepFormGroup.controls.customId.errors?null:e.stepFormGroup.controls.customId.errors.customExist),m.Db(1),m.oc("ngIf",null==e.stepFormGroup.controls.customId.errors?null:e.stepFormGroup.controls.customId.errors.pattern),m.Db(3),m.Rc(m.jc(21,24,"lang.applicationName")),m.Db(4),m.Sc("",m.jc(25,26,"lang.loginMsg")," : "),m.Db(6),m.Sc("",m.jc(31,28,"lang.homeMsg")," : "),m.Db(7),m.Sc("",m.jc(38,30,"lang.chooseLogo")," : "),m.Db(4),m.oc("src",e.logoURL(),m.Gc),m.Db(5),m.Sc("",m.jc(47,32,"lang.chooseLoginBg")," : "),m.Db(3),m.Ib("disabled",e.stepFormGroup.controls.bodyLoginBackground.disabled)("selected","assets/bodylogin.jpg"===e.stepFormGroup.controls.bodyLoginBackground.value),m.Db(1),m.oc("ngForOf",e.backgroundList),m.Db(1),m.oc("ngIf",!e.stepFormGroup.controls.bodyLoginBackground.disabled))},directives:[q.K,q.v,q.m,N.c,N.g,at.b,q.d,q.u,q.k,N.b,k.t,vt.a,V.u,k.s],pipes:[g.d],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:#135f7f;margin-bottom:30px;border-bottom:1px solid;padding:0}.backgroundList[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:10px}.selected[_ngcontent-%COMP%]{transition:all .3s;opacity:1!important;border:10px solid #f99830!important}.backgroundItem[_ngcontent-%COMP%]{border:0 solid #f99830;opacity:.5;transition:all .3s;cursor:pointer;height:120px;background-size:cover!important}.disabled[_ngcontent-%COMP%]{cursor:default!important}.backgroundItem[_ngcontent-%COMP%]:not(.disabled):hover{transition:all .3s;opacity:1!important}"]}),Ot),Wt=((It=function(){function t(e,n,o,r){_classCallCheck(this,t),this.translate=e,this._formBuilder=n,this.notify=o,this.installerService=r,this.hide=!0,this.tiggerInstall=new m.o;var a=[q.I.pattern(/^[\w.@-]*$/),q.I.required],i=[q.I.pattern(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/),q.I.required];this.stepFormGroup=this._formBuilder.group({login:["superadmin",a],firstname:["Admin",q.I.required],lastname:["SUPER",q.I.required],password:["",q.I.required],passwordConfirm:["",q.I.required],email:["yourEmail@domain.com",i]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.stepFormGroup.controls.password.valueChanges.pipe(Object(u.tap)((function(e){e!==t.stepFormGroup.controls.passwordConfirm.value?(t.stepFormGroup.controls.password.setErrors({incorrect:!0}),t.stepFormGroup.controls.passwordConfirm.setErrors({incorrect:!0}),t.stepFormGroup.controls.passwordConfirm.markAsTouched()):(t.stepFormGroup.controls.password.setErrors(null),t.stepFormGroup.controls.passwordConfirm.setErrors(null))}))).subscribe(),this.stepFormGroup.controls.passwordConfirm.valueChanges.pipe(Object(u.tap)((function(e){e!==t.stepFormGroup.controls.password.value?(t.stepFormGroup.controls.password.setErrors({incorrect:!0}),t.stepFormGroup.controls.password.markAsTouched(),t.stepFormGroup.controls.passwordConfirm.setErrors({incorrect:!0})):(t.stepFormGroup.controls.password.setErrors(null),t.stepFormGroup.controls.passwordConfirm.setErrors(null))}))).subscribe()}},{key:"initStep",value:function(){this.installerService.isStepAlreadyLaunched("userAdmin")&&this.stepFormGroup.disable()}},{key:"isValidStep",value:function(){return void 0!==this.stepFormGroup&&(this.stepFormGroup.valid||this.installerService.isStepAlreadyLaunched("userAdmin"))}},{key:"getFormGroup",value:function(){return!!this.installerService.isStepAlreadyLaunched("userAdmin")||this.stepFormGroup}},{key:"getInfoToInstall",value:function(){return[{idStep:"userAdmin",body:{login:this.stepFormGroup.controls.login.value,firstname:this.stepFormGroup.controls.firstname.value,lastname:this.stepFormGroup.controls.lastname.value,password:this.stepFormGroup.controls.password.value,email:this.stepFormGroup.controls.email.value},route:{method:"PUT",url:"../rest/installer/administrator"},description:this.translate.instant("lang.stepUserAdminActionDesc"),installPriority:3}]}},{key:"launchInstall",value:function(){this.tiggerInstall.emit()}}]),t}()).\u0275fac=function(t){return new(t||It)(m.Qb(g.e),m.Qb(q.h),m.Qb(v.a),m.Qb(h))},It.\u0275cmp=m.Kb({type:It,selectors:[["app-useradmin"]],outputs:{tiggerInstall:"tiggerInstall"},decls:49,vars:39,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-user"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","login"],["matInput","","formControlName","firstname"],["matInput","","formControlName","lastname"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["matInput","","formControlName","passwordConfirm",3,"type"],["matInput","","formControlName","email"]],template:function(t,e){1&t&&(m.Wb(0,"div",0),m.Wb(1,"h2",1),m.Rb(2,"i",2),m.Qc(3),m.ic(4,"translate"),m.Vb(),m.Wb(5,"div",3),m.Qc(6),m.ic(7,"translate"),m.Vb(),m.Wb(8,"form",4),m.Wb(9,"mat-form-field",5),m.Wb(10,"mat-label"),m.Qc(11),m.ic(12,"translate"),m.Vb(),m.Rb(13,"input",6),m.Vb(),m.Wb(14,"mat-form-field",5),m.Wb(15,"mat-label"),m.Qc(16),m.ic(17,"translate"),m.Vb(),m.Rb(18,"input",7),m.Vb(),m.Wb(19,"mat-form-field",5),m.Wb(20,"mat-label"),m.Qc(21),m.ic(22,"translate"),m.Vb(),m.Rb(23,"input",8),m.Vb(),m.Wb(24,"mat-form-field",5),m.Wb(25,"mat-label"),m.Qc(26),m.ic(27,"translate"),m.Vb(),m.Rb(28,"input",9),m.Wb(29,"button",10),m.dc("click",(function(){return e.hide=!e.hide})),m.Rb(30,"mat-icon"),m.Vb(),m.Wb(31,"mat-error"),m.Qc(32),m.ic(33,"translate"),m.Vb(),m.Vb(),m.Wb(34,"mat-form-field",5),m.Wb(35,"mat-label"),m.Qc(36),m.ic(37,"translate"),m.Vb(),m.Rb(38,"input",11),m.Wb(39,"button",10),m.dc("click",(function(){return e.hide=!e.hide})),m.Rb(40,"mat-icon"),m.Vb(),m.Wb(41,"mat-error"),m.Qc(42),m.ic(43,"translate"),m.Vb(),m.Vb(),m.Wb(44,"mat-form-field",5),m.Wb(45,"mat-label"),m.Qc(46),m.ic(47,"translate"),m.Vb(),m.Rb(48,"input",12),m.Vb(),m.Vb(),m.Vb()),2&t&&(m.Db(3),m.Sc(" ",m.jc(4,19,"lang.userAdmin"),""),m.Db(3),m.Sc(" ",m.jc(7,21,"lang.stepUserAdmin_desc")," "),m.Db(2),m.oc("formGroup",e.stepFormGroup),m.Db(3),m.Rc(m.jc(12,23,"lang.id")),m.Db(5),m.Rc(m.jc(17,25,"lang.firstname")),m.Db(5),m.Rc(m.jc(22,27,"lang.lastname")),m.Db(5),m.Rc(m.jc(27,29,"lang.password")),m.Db(2),m.oc("type",e.hide?"password":"text"),m.Db(2),m.Gb("fa ",e.hide?"fa-eye-slash":"fa-eye",""),m.Db(2),m.Rc(m.jc(33,31,"lang.passwordNotMatch")),m.Db(4),m.Rc(m.jc(37,33,"lang.retypeNewPassword")),m.Db(2),m.oc("type",e.hide?"password":"text"),m.Db(2),m.Gb("fa ",e.hide?"fa-eye-slash":"fa-eye",""),m.Db(2),m.Rc(m.jc(43,35,"lang.passwordNotMatch")),m.Db(4),m.Rc(m.jc(47,37,"lang.email")))},directives:[q.K,q.v,q.m,N.c,N.g,at.b,q.d,q.u,q.k,C.b,N.j,z.a,N.b],pipes:[g.d],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:#135f7f;margin-bottom:30px;border-bottom:1px solid;padding:0}"]}),It),Gt=["stepper"],xt=["stepContent"];function Dt(t,e){1&t&&m.Qc(0,"Installation")}function _t(t,e){1&t&&(m.Qc(0),m.ic(1,"translate")),2&t&&m.Rc(m.jc(1,1,"lang.prerequisite"))}function wt(t,e){1&t&&(m.Qc(0),m.ic(1,"translate")),2&t&&m.Rc(m.jc(1,1,"lang.database"))}function jt(t,e){1&t&&(m.Qc(0),m.ic(1,"translate")),2&t&&m.Rc(m.jc(1,1,"lang.docserver"))}function Qt(t,e){1&t&&(m.Qc(0),m.ic(1,"translate")),2&t&&m.Rc(m.jc(1,1,"lang.customization"))}function Pt(t,e){1&t&&(m.Qc(0),m.ic(1,"translate")),2&t&&m.Rc(m.jc(1,1,"lang.userAdmin"))}function Rt(t,e){1&t&&m.Rb(0,"mat-icon",30)}function Mt(t,e){1&t&&m.Rb(0,"mat-icon",30)}function Lt(t,e){1&t&&m.Rb(0,"mat-icon",31)}var Et,qt,At,zt=[{path:"",component:(Et=function(){function t(e,n,o,r,a,i,s,c,l,p){_classCallCheck(this,t),this.translate=e,this.http=n,this.router=o,this.headerService=r,this.notify=a,this.appService=i,this.sortPipe=s,this.dialog=c,this.functionService=l,this.installerService=p}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.hideSideBar=!0}},{key:"ngAfterViewInit",value:function(){$(".mat-horizontal-stepper-header-container").insertBefore(".bg-head-content"),$(".mat-step-icon").css("background-color","white"),$(".mat-step-icon").css("color","#135f7f"),$(".mat-step-label").css("color","white")}},{key:"isValidStep",value:function(){return!1}},{key:"initStep",value:function(t){this.stepContent.toArray()[t.selectedIndex].initStep()}},{key:"nextStep",value:function(){this.stepper.next()}},{key:"endInstall",value:function(){var t=this,e=[];this.stepContent.toArray().forEach((function(t){e=e.concat(t.getInfoToInstall())})),e=this.sortPipe.transform(e,"installPriority"),console.log(e),this.dialog.open(j,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:e}).afterClosed().pipe(Object(Q.filter)((function(e){return!t.functionService.empty(e)})),Object(u.tap)((function(t){})),Object(b.catchError)((function(e){return t.notify.handleErrors(e),Object(d.of)(!1)}))).subscribe()}}]),t}(),Et.\u0275fac=function(t){return new(t||Et)(m.Qb(g.e),m.Qb(f.b),m.Qb(i.c),m.Qb(P.a),m.Qb(v.a),m.Qb(R.a),m.Qb(c.a),m.Qb(p.b),m.Qb(M.a),m.Qb(h))},Et.\u0275cmp=m.Kb({type:Et,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(m.Kc(Gt,!0),m.Xc(xt,!0)),2&t&&(m.yc(n=m.ec())&&(e.stepper=n.first),m.yc(n=m.ec())&&(e.stepContent=n))},features:[m.Cb([{provide:s.h,useValue:{showError:!0}},c.a])],decls:74,vars:26,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-content"],[1,"container"],[1,"container-content",2,"overflow","hidden"],["linear","",2,"height","100vh","overflow","auto",3,"selectionChange"],["stepper",""],["label","install"],["matStepLabel",""],[1,"stepContainer"],[1,"stepContent"],["stepContent",""],["mat-fab","","matStepperNext","","color","primary",1,"nextStepButton",3,"title"],[1,"fa","fa-arrow-right"],[3,"stepControl"],["appPrerequisite","","stepContent",""],["mat-fab","","matStepperPrevious","","color","primary",1,"previousStepButton",3,"title"],[1,"fa","fa-arrow-left"],["mat-fab","","matStepperNext","","color","primary",1,"nextStepButton",3,"title","disabled"],[3,"nextStep"],["appDatabase","","stepContent",""],["appDocservers","","stepContent",""],["appCustomization","","stepContent",""],[3,"tiggerInstall"],["appUseradmin","","stepContent",""],["mat-fab","","color","accent",1,"nextStepButton",3,"title","disabled","click"],[1,"fas","fa-check-double"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],[1,"fa","fa-check","stepIcon"],[1,"fa","fa-times","stepIcon",2,"color","red","font-size","15px !important"]],template:function(t,e){if(1&t&&(m.Wb(0,"mat-sidenav-container",0),m.Wb(1,"mat-sidenav-content"),m.Wb(2,"div",1),m.Rb(3,"div",2),m.Vb(),m.Wb(4,"div",3),m.Wb(5,"div",4),m.Wb(6,"mat-horizontal-stepper",5,6),m.dc("selectionChange",(function(t){return e.initStep(t)})),m.Wb(8,"mat-step",7),m.Oc(9,Dt,1,0,"ng-template",8),m.Wb(10,"div",9),m.Wb(11,"div",10),m.Rb(12,"app-welcome",null,11),m.Vb(),m.Wb(14,"button",12),m.Rb(15,"mat-icon",13),m.Vb(),m.Vb(),m.Vb(),m.Wb(16,"mat-step",14),m.Oc(17,_t,2,3,"ng-template",8),m.Wb(18,"div",9),m.Wb(19,"div",10),m.Rb(20,"app-prerequisite",null,15),m.Vb(),m.Wb(23,"button",16),m.Rb(24,"mat-icon",17),m.Vb(),m.Wb(25,"button",18),m.Rb(26,"mat-icon",13),m.Vb(),m.Vb(),m.Vb(),m.Wb(27,"mat-step",14),m.Oc(28,wt,2,3,"ng-template",8),m.Wb(29,"div",9),m.Wb(30,"div",10),m.Wb(31,"app-database",19,20),m.dc("nextStep",(function(){return e.nextStep()})),m.Vb(),m.Vb(),m.Wb(34,"button",16),m.Rb(35,"mat-icon",17),m.Vb(),m.Wb(36,"button",18),m.Rb(37,"mat-icon",13),m.Vb(),m.Vb(),m.Vb(),m.Wb(38,"mat-step",14),m.Oc(39,jt,2,3,"ng-template",8),m.Wb(40,"div",9),m.Wb(41,"div",10),m.Wb(42,"app-docservers",19,21),m.dc("nextStep",(function(){return e.nextStep()})),m.Vb(),m.Vb(),m.Wb(45,"button",16),m.Rb(46,"mat-icon",17),m.Vb(),m.Wb(47,"button",18),m.Rb(48,"mat-icon",13),m.Vb(),m.Vb(),m.Vb(),m.Wb(49,"mat-step",14),m.Oc(50,Qt,2,3,"ng-template",8),m.Wb(51,"div",9),m.Wb(52,"div",10),m.Rb(53,"app-customization",null,22),m.Vb(),m.Wb(56,"button",16),m.Rb(57,"mat-icon",17),m.Vb(),m.Wb(58,"button",18),m.Rb(59,"mat-icon",13),m.Vb(),m.Vb(),m.Vb(),m.Wb(60,"mat-step",14),m.Oc(61,Pt,2,3,"ng-template",8),m.Wb(62,"div",9),m.Wb(63,"div",10),m.Wb(64,"app-useradmin",23,24),m.dc("tiggerInstall",(function(){return e.endInstall()})),m.Vb(),m.Vb(),m.Wb(67,"button",16),m.Rb(68,"mat-icon",17),m.Vb(),m.Wb(69,"button",25),m.dc("click",(function(){return e.endInstall()})),m.Rb(70,"mat-icon",26),m.Vb(),m.Vb(),m.Vb(),m.Oc(71,Rt,1,0,"ng-template",27),m.Oc(72,Mt,1,0,"ng-template",28),m.Oc(73,Lt,1,0,"ng-template",29),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb()),2&t){var n=m.zc(21),o=m.zc(32),r=m.zc(43),a=m.zc(54),i=m.zc(65);m.Db(3),m.Ib("fullContainer",e.appService.getViewMode()),m.Db(1),m.Ib("fullContainer",e.appService.getViewMode()),m.Db(2),m.oc("@.disabled",!0),m.Db(8),m.oc("title",e.translate.instant("lang.next")),m.Db(2),m.oc("stepControl",n.getFormGroup()),m.Db(7),m.oc("title",e.translate.instant("lang.previous")),m.Db(2),m.oc("title",e.translate.instant("lang.next"))("disabled",!n.isValidStep()),m.Db(2),m.oc("stepControl",o.getFormGroup()),m.Db(7),m.oc("title",e.translate.instant("lang.previous")),m.Db(2),m.oc("title",e.translate.instant("lang.next"))("disabled",!o.isValidStep()),m.Db(2),m.oc("stepControl",r.getFormGroup()),m.Db(7),m.oc("title",e.translate.instant("lang.previous")),m.Db(2),m.oc("title",e.translate.instant("lang.next"))("disabled",!r.isValidStep()),m.Db(2),m.oc("stepControl",a.getFormGroup()),m.Db(7),m.oc("title",e.translate.instant("lang.previous")),m.Db(2),m.oc("title",e.translate.instant("lang.next"))("disabled",!a.isValidStep()),m.Db(2),m.oc("stepControl",i.getFormGroup()),m.Db(7),m.oc("title",e.translate.instant("lang.previous")),m.Db(2),m.oc("title",e.translate.instant("lang.beginInstall"))("disabled",!i.isValidStep())}},directives:[L.e,L.f,E.a,E.b,E.d,Z,C.b,E.h,z.a,rt,E.i,pt,ut,Ft,Wt,E.f],pipes:[g.d],styles:[".mat-stepper-horizontal{height:100%!important}.container[_ngcontent-%COMP%]{padding-left:80px!important;padding-right:80px!important}.previousStepButton[_ngcontent-%COMP%]{position:fixed;top:50%;left:10px;transform:translateY(-50%)}.previousStepButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:auto;width:auto}.nextStepButton[_ngcontent-%COMP%]{position:fixed;top:50%;right:13px;transform:translateY(-50%)}.nextStepButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:auto;width:auto} .mat-step-icon{background-color:#fff;color:#135f7f} .mat-step-label-active{opacity:1!important} .mat-step-label{color:#fff;opacity:.5}.stepIcon[_ngcontent-%COMP%]{font-size:10px!important;height:auto!important;width:auto!important} .mat-step-label{transition:all .2s} .mat-step-label-selected{font-size:160%;transition:all .2s;opacity:1}"]}),Et)}],Nt=((At=function t(){_classCallCheck(this,t)}).\u0275mod=m.Ob({type:At}),At.\u0275inj=m.Nb({factory:function(t){return new(t||At)},imports:[[i.g.forChild(zt)],i.g]}),At),Tt=((qt=function t(e){_classCallCheck(this,t),e.setDefaultLang("fr")}).\u0275mod=m.Ob({type:qt}),qt.\u0275inj=m.Nb({factory:function(t){return new(t||qt)(m.ac(g.e))},providers:[h],imports:[[r.a,a.a,Nt]]}),qt)}}]);