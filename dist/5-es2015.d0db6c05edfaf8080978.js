(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"6S62":function(t,e,s){"use strict";s.r(e),s.d(e,"InstallerModule",function(){return qt});var r=s("vWc3"),o=s("cMWS"),a=s("tyNb"),n=s("B/XX"),i=s("1YbM"),c=s("mrSG"),l=s("0IaG"),p=s("LRne"),b=s("vkgz"),m=s("JIr8"),u=s("fXoL"),d=s("sYmb"),g=s("tk/3");let h=(()=>{class t{constructor(){this.steps=[]}setStep(t){this.steps.push(t)}isStepAlreadyLaunched(t){return this.steps.filter(e=>t===e.idStep).length>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Pb({token:t,factory:t.\u0275fac}),t})();var f=s("AXEc"),F=s("uqn4"),v=s("7EHt"),y=s("bTqV"),C=s("ofXK"),I=s("MutI"),S=s("FKr1");function k(t,e){1&t&&(u.Xb(0),u.Tc(1,"..."),u.Wb())}function T(t,e){1&t&&u.Ub(0,"i",16)}function Y(t,e){1&t&&u.Ub(0,"i",17)}function Z(t,e){if(1&t&&(u.Zb(0,"div",18),u.Tc(1),u.Yb()),2&t){const t=u.kc().$implicit;u.Fb(1),u.Vc(" ",t.msgErr," ")}}function O(t,e){if(1&t&&(u.Zb(0,"mat-list-item"),u.Zb(1,"div",11),u.Zb(2,"span",12),u.Tc(3),u.Yb(),u.Rc(4,k,2,0,"ng-container",10),u.Tc(5,"\xa0 "),u.Rc(6,T,1,0,"i",13),u.Rc(7,Y,1,0,"i",14),u.Rc(8,Z,2,1,"div",15),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Fb(1),u.Lb("endStep","OK"===t.state||"KO"===t.state)("currentStep","inProgress"===t.state),u.Fb(2),u.Uc(t.label),u.Fb(1),u.sc("ngIf","inProgress"===t.state),u.Fb(2),u.sc("ngIf","OK"===t.state),u.Fb(1),u.sc("ngIf","KO"===t.state),u.Fb(1),u.sc("ngIf",""!==t.msgErr)}}function G(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",23),u.gc("click",function(){return u.Ic(t),u.kc(2).goToInstance()}),u.Tc(1),u.lc(2,"translate"),u.Yb()}2&t&&(u.Fb(1),u.Uc(u.mc(2,1,"lang.goToNewInstance")))}function x(t,e){1&t&&(u.Zb(0,"button",24),u.Tc(1),u.lc(2,"translate"),u.Yb()),2&t&&(u.Fb(1),u.Uc(u.mc(2,1,"lang.cancel")))}function w(t,e){if(1&t&&(u.Xb(0),u.Ub(1,"span",19),u.Zb(2,"div",20),u.Rc(3,G,3,3,"button",21),u.Rc(4,x,3,3,"button",22),u.Yb(),u.Wb()),2&t){const t=u.kc();u.Fb(3),u.sc("ngIf",!t.isInstallError()&&t.isInstallComplete()),u.Fb(1),u.sc("ngIf",t.isInstallError()||!t.isInstallBegin())}}let _=(()=>{class t{constructor(t,e,s,r,o,a,n){this.translate=t,this.data=e,this.dialogRef=s,this.http=r,this.installerService=o,this.notify=a,this.authService=n,this.steps=[],this.customId="",this.disableAnimation=!0}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.initSteps()})}ngAfterViewInit(){setTimeout(()=>this.disableAnimation=!1)}launchInstall(){return Object(c.a)(this,void 0,void 0,function*(){let t;for(let e=0;e<this.data.length&&(this.steps[e].state="inProgress",t=yield this.doStep(e),t);e++);})}initSteps(){this.data.forEach((t,e)=>{0===e?this.customId=t.body.customId:t.body.customId=this.customId,this.steps.push({idStep:t.idStep,label:t.description,state:"",msgErr:""})})}doStep(t){return new Promise((e,s)=>{this.installerService.isStepAlreadyLaunched(this.data[t].idStep)?(this.steps[t].state="OK",e(!0)):this.http[this.data[t].route.method.toLowerCase()](this.data[t].route.url,this.data[t].body).pipe(Object(b.a)(s=>{this.steps[t].state="OK",this.installerService.setStep(this.steps[t]),e(!0)}),Object(m.a)(s=>(this.steps[t].state="KO",this.steps[t].msgErr=void 0!==s.error.lang?this.translate.instant("lang."+s.error.lang):s.error.errors,e(!1),Object(p.a)(!1)))).subscribe()})}isInstallBegin(){return this.steps.filter(t=>""===t.state).length!==this.steps.length}isInstallComplete(){return 0===this.steps.filter(t=>""===t.state).length}isInstallError(){return this.steps.filter(t=>"KO"===t.state).length>0}goToInstance(){this.http.request("DELETE","../rest/installer/lock",{body:{customId:this.customId}}).pipe(Object(b.a)(t=>{this.authService.noInstall=!1,window.location.href=t.url,this.dialogRef.close("ok")}),Object(m.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(l.a),u.Tb(l.g),u.Tb(g.b),u.Tb(h),u.Tb(f.a),u.Tb(F.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-install-action"]],decls:16,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-content",""],["hideToggle","","expanded",""],[1,"launch-action"],["color","primary",1,"text-center"],["mat-raised-button","","type","button","color","primary",2,"font-size","25px","padding","20px",3,"click"],[1,"far","fa-hdd"],[3,"expanded"],["installStepAction",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-line","",1,"step"],[1,"stepLabel"],["class","fa fa-check","style","color: green",4,"ngIf"],["class","fa fa-times","style","color: red",4,"ngIf"],["class","alert-message alert-message-danger","role","alert","style","margin-top: 30px;min-width: 100%;",4,"ngIf"],[1,"fa","fa-check",2,"color","green"],[1,"fa","fa-times",2,"color","red"],["role","alert",1,"alert-message","alert-message-danger",2,"margin-top","30px","min-width","100%"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"mat-dialog-close",4,"ngIf"],["mat-raised-button","","mat-button","","color","primary",3,"click"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",0),u.Zb(1,"div",1),u.Zb(2,"mat-accordion"),u.Zb(3,"mat-expansion-panel",2),u.Zb(4,"div",3),u.Zb(5,"h2",4),u.Tc(6),u.lc(7,"translate"),u.Yb(),u.Zb(8,"button",5),u.gc("click",function(){return u.Ic(t),u.Ec(13).open(),e.launchInstall()}),u.Ub(9,"i",6),u.Tc(10),u.lc(11,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Zb(12,"mat-expansion-panel",7,8),u.Rc(14,O,9,9,"mat-list-item",9),u.Yb(),u.Yb(),u.Yb(),u.Rc(15,w,5,2,"ng-container",10),u.Yb()}2&t&&(u.Fb(1),u.sc("@.disabled",e.disableAnimation),u.Fb(5),u.Uc(u.mc(7,6,"lang.almostThere")),u.Fb(4),u.Vc(" ",u.mc(11,8,"lang.launchInstall")," "),u.Fb(2),u.sc("expanded",!1),u.Fb(2),u.sc("ngForOf",e.steps),u.Fb(1),u.sc("ngIf",e.isInstallComplete()||e.isInstallError()||!e.isInstallBegin()))},directives:[l.e,v.a,v.c,y.b,C.m,C.n,I.c,S.k,l.c,l.d],pipes:[d.c],styles:[".step[_ngcontent-%COMP%]{opacity:.5}.currentStep[_ngcontent-%COMP%], .step[_ngcontent-%COMP%], .step[_ngcontent-%COMP%]   .stepLabel[_ngcontent-%COMP%]{transition:all .2s}.currentStep[_ngcontent-%COMP%]{opacity:1}.currentStep[_ngcontent-%COMP%]   .stepLabel[_ngcontent-%COMP%]{font-size:150%;transition:all .2s}.endStep[_ngcontent-%COMP%]{opacity:1}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.launch-action[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();var U=s("pLZG"),P=s("4zkx"),L=s("A6w4"),M=s("rH+9"),V=s("eiH7"),E=s("XhcP"),j=s("xHqg"),q=s("3Pt+"),A=s("MJ5r"),N=s("NFeN"),z=s("kmnG"),R=s("d3UM"),B=s("f0Cb");function D(t,e){if(1&t&&(u.Zb(0,"mat-option",14),u.Tc(1),u.lc(2,"translate"),u.Yb()),2&t){const t=e.$implicit;u.sc("value",t),u.Fb(1),u.Vc(" ",u.mc(2,2,"lang."+t+"Full")," ")}}function W(t,e){if(1&t&&(u.Zb(0,"mat-list-item"),u.Ub(1,"mat-icon",15),u.Zb(2,"div",16),u.Tc(3),u.Zb(4,"small",17),u.Tc(5),u.Yb(),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Fb(3),u.Vc("",t.label," "),u.Fb(2),u.Uc(t.id)}}function H(t,e){if(1&t&&(u.Xb(0),u.Zb(1,"mat-list"),u.Zb(2,"div",9),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Rc(5,W,6,2,"mat-list-item",10),u.Yb(),u.Ub(6,"mat-divider"),u.Wb()),2&t){const t=u.kc();u.Fb(3),u.Vc("",u.mc(4,2,"lang.instancesList")," : "),u.Fb(2),u.sc("ngForOf",t.customs)}}function X(t,e){if(1&t&&(u.Zb(0,"mat-list-item"),u.Ub(1,"mat-icon",18),u.Zb(2,"div",16),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Fb(1),u.Hb(t.icon),u.Fb(2),u.Uc(u.mc(4,3,t.desc))}}const K=function(t){return{value1:t}};let J=(()=>{class t{constructor(t,e,s,r,o){this.translate=t,this.http=e,this.notify=s,this._formBuilder=r,this.authService=o,this.langs=[],this.appVersion=A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1],this.steps=[{icon:"fas fa-check-square",desc:"lang.prerequisiteCheck"},{icon:"fa fa-database",desc:"lang.databaseCreation"},{icon:"fa fa-database",desc:"lang.dataSampleCreation"},{icon:"fa fa-hdd",desc:"lang.docserverCreation"},{icon:"fas fa-tools",desc:"lang.stepCustomizationActionDesc"},{icon:"fa fa-user",desc:"lang.adminUserCreation"}],this.customs=[]}ngOnInit(){this.stepFormGroup=this._formBuilder.group({lang:["fr",q.y.required]}),this.getLang(),this.authService.noInstall||this.getCustoms()}getLang(){this.http.get("../rest/languages").pipe(Object(b.a)(t=>{this.langs=Object.keys(t.langs).filter(t=>"nl"!==t)}),Object(m.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}changeLang(t){this.translate.use(t)}getCustoms(){this.http.get("../rest/installer/customs").pipe(Object(b.a)(t=>{this.customs=t.customs}),Object(m.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}initStep(){return!1}getInfoToInstall(){return[]}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(g.b),u.Tb(f.a),u.Tb(q.e),u.Tb(F.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-welcome"]],decls:32,vars:25,consts:[[1,"stepContent"],[1,"stepContentTitle"],[2,"text-align","center"],["svgIcon","maarchLogoFull",1,"maarchLogoFull"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline","floatLabel","never"],["formControlName","lang","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-subheader",""],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","href","https://community.maarch.org/","target","_blank"],["mat-raised-button","","color","primary","href","http://www.maarch.com","target","_blank"],[2,"font-style","italic","padding-top","30px","text-align","right",3,"innerHTML"],[3,"value"],["mat-list-icon","","color","primary",1,"fas","fa-box-open"],["mat-line",""],[2,"color","#666"],["mat-list-icon","","color","primary"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h2",1),u.Tc(2),u.lc(3,"translate"),u.Yb(),u.Zb(4,"div",2),u.Ub(5,"mat-icon",3),u.Yb(),u.Zb(6,"form",4),u.Zb(7,"mat-form-field",5),u.Zb(8,"mat-label"),u.Tc(9),u.lc(10,"translate"),u.Yb(),u.Zb(11,"mat-select",6),u.gc("selectionChange",function(t){return e.changeLang(t.value)}),u.Rc(12,D,3,4,"mat-option",7),u.Yb(),u.Yb(),u.Yb(),u.Ub(13,"mat-divider"),u.Rc(14,H,7,4,"ng-container",8),u.Zb(15,"mat-list"),u.Zb(16,"div",9),u.Tc(17),u.lc(18,"translate"),u.Yb(),u.Rc(19,X,5,5,"mat-list-item",10),u.Yb(),u.Ub(20,"mat-divider"),u.Zb(21,"p"),u.Tc(22),u.lc(23,"translate"),u.Yb(),u.Zb(24,"a",11),u.Tc(25," community.maarch.org "),u.Yb(),u.Tc(26),u.lc(27,"translate"),u.Zb(28,"a",12),u.Tc(29," www.maarch.com "),u.Yb(),u.Ub(30,"p",13),u.lc(31,"translate"),u.Yb()),2&t&&(u.Fb(2),u.Vc("",u.nc(3,10,"lang.welcomeApp",u.zc(23,K,e.appVersion))," !"),u.Fb(4),u.sc("formGroup",e.stepFormGroup),u.Fb(3),u.Vc("",u.mc(10,13,"lang.chooseAppLanguage")," : "),u.Fb(3),u.sc("ngForOf",e.langs),u.Fb(2),u.sc("ngIf",e.customs.length>0),u.Fb(3),u.Vc("",u.mc(18,15,"lang.installDescription")," : "),u.Fb(2),u.sc("ngForOf",e.steps),u.Fb(3),u.Vc(" ",u.mc(23,17,"lang.externalInfoSite")," : "),u.Fb(4),u.Vc(" ",u.mc(27,19,"lang.or")," "),u.Fb(4),u.sc("innerHTML",u.mc(31,21,"lang.maarchLicenceInstall"),u.Jc))},directives:[N.a,q.z,q.q,q.j,z.c,z.g,R.a,q.p,q.h,q.x,C.m,B.a,C.n,I.a,I.f,y.a,S.o,I.c,I.b,S.k],pipes:[d.c],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:1px solid;padding:0}.stepContent[_ngcontent-%COMP%]   .maarchLogoFull[_ngcontent-%COMP%]{width:300px;height:100px}.stepContent[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.link[_ngcontent-%COMP%]{text-decoration:underline;color:var(--maarch-color-primary)!important}"]}),t})();var Q=s("zkoq"),tt=s("Qu3c");const et=["packageItem"];function st(t,e){if(1&t&&(u.Zb(0,"mat-grid-tile"),u.Zb(1,"mat-list-item"),u.Ub(2,"mat-icon",12),u.Zb(3,"div",13),u.Tc(4),u.lc(5,"translate"),u.Ub(6,"i",14,15),u.lc(8,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t){const t=e.$implicit;u.Fb(2),u.Ib("fa iconCheckPackage icon_",t.state,""),u.Fb(2),u.Vc(" ",u.mc(5,7,"lang.install_"+t.label)," "),u.Fb(2),u.sc("id",t.label)("matTooltip",u.mc(8,9,"lang.install_"+t.label+"_desc"))("matTooltipClass","ok"!==t.state?"tooltip-red":"")}}function rt(t,e){if(1&t&&(u.Zb(0,"mat-list",8),u.Zb(1,"div",9),u.Tc(2),u.lc(3,"translate"),u.Yb(),u.Zb(4,"mat-grid-list",10),u.Rc(5,st,9,11,"mat-grid-tile",11),u.Yb(),u.Yb()),2&t){const t=e.$implicit,s=u.kc();u.Fb(2),u.Uc(u.mc(3,2,"lang."+t.key)),u.Fb(3),u.sc("ngForOf",s.packagesList[t.key])}}let ot=(()=>{class t{constructor(t,e,s,r){this.translate=t,this.http=e,this.notify=s,this._formBuilder=r,this.prerequisites={},this.packagesList={general:[{label:"phpVersionValid",required:!0},{label:"writable",required:!0}],tools:[{label:"unoconv",required:!0},{label:"netcatOrNmap",required:!0},{label:"pgsql",required:!0},{label:"curl",required:!0},{label:"zip",required:!0},{label:"wkhtmlToPdf",required:!0},{label:"imagick",required:!0}],phpExtensions:[{label:"fileinfo",required:!0},{label:"pdoPgsql",required:!0},{label:"gd",required:!0},{label:"mbstring",required:!0},{label:"json",required:!0},{label:"gettext",required:!0},{label:"xml",required:!0}],phpConfiguration:[{label:"errorReporting",required:!0},{label:"displayErrors",required:!0}]},this.docMaarchUrl=`https://docs.maarch.org/gitbook/html/MaarchCourrier/${A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1]}/guat/guat_prerequisites/home.html`}ngOnInit(){this.stepFormGroup=this._formBuilder.group({firstCtrl:["",q.y.required]}),this.getStepData()}getStepData(){this.http.get("../rest/installer/prerequisites").pipe(Object(b.a)(t=>{this.prerequisites=t.prerequisites,Object.keys(this.packagesList).forEach(t=>{this.packagesList[t].forEach((e,s)=>{this.packagesList[t][s].state=this.prerequisites[this.packagesList[t][s].label]?"ok":"ko","phpVersionValid"===this.packagesList[t][s].label&&this.translate.setTranslation(this.translate.getDefaultLang(),{lang:{install_phpVersionValid_desc:this.translate.instant("lang.currentVersion")+" : "+this.prerequisites.phpVersion}},!0)})}),this.stepFormGroup.controls.firstCtrl.setValue(this.checkStep()),this.stepFormGroup.controls.firstCtrl.markAsUntouched()}),Object(m.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}initStep(){Object.keys(this.packagesList).forEach(t=>{this.packagesList[t].forEach((e,s)=>{"ko"===this.packagesList[t][s].state&&this.packageItem.toArray().filter(e=>e._elementRef.nativeElement.id===this.packagesList[t][s].label)[0].toggle()})})}checkStep(){let t="success";return Object.keys(this.packagesList).forEach(e=>{this.packagesList[e].forEach(e=>{"ko"===e.state&&(t="")})}),t}isValidStep(){return void 0!==this.stepFormGroup&&"success"===this.stepFormGroup.controls.firstCtrl.value}getFormGroup(){return this.stepFormGroup}getInfoToInstall(){return[]}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(g.b),u.Tb(f.a),u.Tb(q.e))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-prerequisite"]],viewQuery:function(t,e){if(1&t&&u.ad(et,1),2&t){let t;u.Dc(t=u.hc())&&(e.packageItem=t)}},decls:16,vars:14,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-check-square"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],["target","_blank",1,"link",3,"href"],["style","background: white;",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"click"],[2,"background","white"],["mat-subheader",""],["cols","3","rowHeight","50px"],[4,"ngFor","ngForOf"],["mat-list-icon",""],["mat-line","",1,"packageName"],["matTooltipPosition","right",1,"fa","fa-info-circle",3,"id","matTooltip","matTooltipClass"],["packageItem","matTooltip"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h2",1),u.Ub(2,"i",2),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Zb(5,"div",3),u.Tc(6),u.lc(7,"translate"),u.Zb(8,"a",4),u.Tc(9),u.Yb(),u.Yb(),u.Rc(10,rt,6,4,"mat-list",5),u.lc(11,"keyvalue"),u.Zb(12,"div",6),u.Zb(13,"button",7),u.gc("click",function(){return e.getStepData()}),u.Tc(14),u.lc(15,"translate"),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Fb(3),u.Vc(" ",u.mc(4,6,"lang.prerequisite"),""),u.Fb(3),u.Vc(" ",u.mc(7,8,"lang.stepPrerequisite_desc")," : "),u.Fb(2),u.tc("href",e.docMaarchUrl,u.Lc),u.Fb(1),u.Uc(e.docMaarchUrl),u.Fb(1),u.sc("ngForOf",u.mc(11,10,e.packagesList)),u.Fb(4),u.Uc(u.mc(15,12,"lang.updateInformations")))},directives:[C.m,y.b,I.a,I.f,Q.a,Q.c,I.c,N.a,I.b,S.k,tt.b],pipes:[d.c,C.g],styles:['@charset "UTF-8";.stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:1px solid;padding:0}.packageItem[_ngcontent-%COMP%]{flex:1!important}.iconCheckPackage[_ngcontent-%COMP%]{background:#fff;font-size:15px!important;display:flex;align-items:center;justify-content:center;padding:10px;border-radius:20px;height:35px;width:35px}.icon_ok[_ngcontent-%COMP%]{color:green}.icon_ok[_ngcontent-%COMP%]:before{content:"\uf111"}.icon_warning[_ngcontent-%COMP%]{color:orange}.icon_warning[_ngcontent-%COMP%]:before{content:"\uf111"}.icon_ko[_ngcontent-%COMP%]{color:red}.icon_ko[_ngcontent-%COMP%]:before{content:"\uf111"}.link[_ngcontent-%COMP%]{text-decoration:underline;color:var(--maarch-color-primary)!important}.packageName[_ngcontent-%COMP%]{font-size:120%!important;white-space:normal!important}.packageName[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:help;opacity:.5;color:var(--maarch-color-primary)} .tooltip-red{background:#b71c1c;font-size:14px}']}),t})();var at=s("qFsG");function nt(t,e){1&t&&(u.Zb(0,"div",18),u.Tc(1),u.lc(2,"translate"),u.Yb()),2&t&&(u.Fb(1),u.Vc(" ",u.mc(2,1,"lang.stepEmptyDb")," "))}function it(t,e){if(1&t&&(u.Zb(0,"mat-option",19),u.Tc(1),u.Yb()),2&t){const t=e.$implicit;u.sc("value",t),u.Fb(1),u.Vc(" ",t," ")}}let ct=(()=>{class t{constructor(t,e,s,r,o,a){this.translate=t,this.http=e,this._formBuilder=s,this.notify=r,this.functionsService=o,this.installerService=a,this.hide=!0,this.connectionState=!1,this.dbExist=!1,this.dataFiles=[],this.nextStep=new u.o;const n=[q.y.pattern(/^[^\;\" \\]+$/),q.y.required],i=[q.y.pattern(/^[^ ]+$/),q.y.required];this.stepFormGroup=this._formBuilder.group({dbHostCtrl:["localhost",q.y.required],dbLoginCtrl:["",i],dbPortCtrl:["5432",q.y.required],dbPasswordCtrl:["",i],dbNameCtrl:["",n],dbSampleCtrl:["data_fr",q.y.required],stateStep:["",q.y.required]})}ngOnInit(){this.stepFormGroup.controls.dbHostCtrl.valueChanges.pipe(Object(b.a)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbLoginCtrl.valueChanges.pipe(Object(b.a)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbPortCtrl.valueChanges.pipe(Object(b.a)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbPasswordCtrl.valueChanges.pipe(Object(b.a)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbNameCtrl.valueChanges.pipe(Object(b.a)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.getDataFiles()}getDataFiles(){this.http.get("../rest/installer/sqlDataFiles").pipe(Object(b.a)(t=>{this.dataFiles=t.dataFiles}),Object(m.a)(t=>(this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}isValidConnection(){return!1}initStep(){this.installerService.isStepAlreadyLaunched("database")&&this.stepFormGroup.disable()}checkConnection(){this.http.get("../rest/installer/databaseConnection",{observe:"response",params:{server:this.stepFormGroup.controls.dbHostCtrl.value,port:this.stepFormGroup.controls.dbPortCtrl.value,user:this.stepFormGroup.controls.dbLoginCtrl.value,password:this.stepFormGroup.controls.dbPasswordCtrl.value,name:this.stepFormGroup.controls.dbNameCtrl.value}}).pipe(Object(b.a)(t=>{this.dbExist=200===t.status,this.notify.success(this.translate.instant("lang.rightInformations")),this.stepFormGroup.controls.stateStep.setValue("success"),this.nextStep.emit()}),Object(m.a)(t=>(this.dbExist=!1,this.notify.error(this.translate.instant("Given database has tables"===t.error.errors?"lang.dbNotEmpty":"lang.badInformations")),this.stepFormGroup.markAllAsTouched(),this.stepFormGroup.controls.stateStep.setValue(""),Object(p.a)(!1)))).subscribe()}checkStep(){return this.stepFormGroup.valid}isValidStep(){return!!this.installerService.isStepAlreadyLaunched("database")||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}isEmptyConnInfo(){return this.stepFormGroup.controls.dbHostCtrl.invalid||this.stepFormGroup.controls.dbPortCtrl.invalid||this.stepFormGroup.controls.dbLoginCtrl.invalid||this.stepFormGroup.controls.dbPasswordCtrl.invalid||this.stepFormGroup.controls.dbNameCtrl.invalid}getFormGroup(){return!!this.installerService.isStepAlreadyLaunched("database")||this.stepFormGroup}getInfoToInstall(){return[{idStep:"database",body:{server:this.stepFormGroup.controls.dbHostCtrl.value,port:this.stepFormGroup.controls.dbPortCtrl.value,user:this.stepFormGroup.controls.dbLoginCtrl.value,password:this.stepFormGroup.controls.dbPasswordCtrl.value,name:this.stepFormGroup.controls.dbNameCtrl.value,data:this.stepFormGroup.controls.dbSampleCtrl.value},route:{method:"POST",url:"../rest/installer/database"},description:this.translate.instant("lang.stepDatabaseActionDesc"),installPriority:2}]}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(g.b),u.Tb(q.e),u.Tb(f.a),u.Tb(M.a),u.Tb(h))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-database"]],outputs:{nextStep:"nextStep"},decls:47,vars:35,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fa","fa-database"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","dbHostCtrl","required",""],["matInput","","formControlName","dbPortCtrl","required",""],["matInput","","formControlName","dbLoginCtrl","required",""],["matInput","","formControlName","dbPasswordCtrl","required","",3,"type"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["matInput","","formControlName","dbNameCtrl","maxlength","50","required",""],["class","alert-message alert-message-info","role","alert","style","margin-top: 0px;min-width: 100%;",4,"ngIf"],["appearance","outline","floatLabel","never"],["formControlName","dbSampleCtrl"],[3,"value",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","0px","min-width","100%"],[3,"value"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h2",1),u.Ub(2,"i",2),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Zb(5,"div",3),u.Tc(6),u.lc(7,"translate"),u.Yb(),u.Zb(8,"form",4),u.Zb(9,"mat-form-field",5),u.Zb(10,"mat-label"),u.Tc(11),u.lc(12,"translate"),u.Yb(),u.Ub(13,"input",6),u.Yb(),u.Zb(14,"mat-form-field",5),u.Zb(15,"mat-label"),u.Tc(16),u.lc(17,"translate"),u.Yb(),u.Ub(18,"input",7),u.Yb(),u.Zb(19,"mat-form-field",5),u.Zb(20,"mat-label"),u.Tc(21),u.lc(22,"translate"),u.Yb(),u.Ub(23,"input",8),u.Yb(),u.Zb(24,"mat-form-field",5),u.Zb(25,"mat-label"),u.Tc(26),u.lc(27,"translate"),u.Yb(),u.Ub(28,"input",9),u.Zb(29,"button",10),u.gc("click",function(){return e.hide=!e.hide}),u.Ub(30,"mat-icon"),u.Yb(),u.Yb(),u.Zb(31,"mat-form-field",5),u.Zb(32,"mat-label"),u.Tc(33),u.lc(34,"translate"),u.Yb(),u.Ub(35,"input",11),u.Yb(),u.Rc(36,nt,3,3,"div",12),u.Zb(37,"mat-form-field",13),u.Zb(38,"mat-label"),u.Tc(39),u.lc(40,"translate"),u.Yb(),u.Zb(41,"mat-select",14),u.Rc(42,it,2,2,"mat-option",15),u.Yb(),u.Yb(),u.Zb(43,"div",16),u.Zb(44,"button",17),u.gc("click",function(){return e.checkConnection()}),u.Tc(45),u.lc(46,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Fb(3),u.Vc(" ",u.mc(4,17,"lang.database"),""),u.Fb(3),u.Vc(" ",u.mc(7,19,"lang.stepDatabase_desc")," "),u.Fb(2),u.sc("formGroup",e.stepFormGroup),u.Fb(3),u.Uc(u.mc(12,21,"lang.host")),u.Fb(5),u.Uc(u.mc(17,23,"lang.port")),u.Fb(5),u.Uc(u.mc(22,25,"lang.user")),u.Fb(5),u.Uc(u.mc(27,27,"lang.password")),u.Fb(2),u.sc("type",e.hide?"password":"text"),u.Fb(2),u.Ib("fa ",e.hide?"fa-eye-slash":"fa-eye",""),u.Fb(3),u.Uc(u.mc(34,29,"lang.dbName")),u.Fb(3),u.sc("ngIf",e.dbExist),u.Fb(3),u.Uc(u.mc(40,31,"lang.dbSample")),u.Fb(3),u.sc("ngForOf",e.dataFiles),u.Fb(2),u.sc("disabled",e.isEmptyConnInfo()||e.stepFormGroup.controls.dbHostCtrl.disabled),u.Fb(1),u.Vc(" ",u.mc(46,33,"lang.checkInformations")," "))},directives:[q.z,q.q,q.j,z.c,z.g,at.b,q.c,q.p,q.h,q.x,y.b,z.i,N.a,q.l,C.n,R.a,C.m,S.o],pipes:[d.c],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:1px solid;padding:0}"]}),t})(),lt=(()=>{class t{constructor(t,e,s,r,o){this.translate=t,this._formBuilder=e,this.notify=s,this.http=r,this.installerService=o,this.nextStep=new u.o;const a=[q.y.pattern(/^[^\'\<\>\|\*\:\?]+$/),q.y.required];this.stepFormGroup=this._formBuilder.group({docserversPath:["/opt/maarch/docservers/",a],stateStep:["",q.y.required]}),this.stepFormGroup.controls.docserversPath.valueChanges.pipe(Object(b.a)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe()}ngOnInit(){}isValidStep(){return!!this.installerService.isStepAlreadyLaunched("docserver")||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}initStep(){this.installerService.isStepAlreadyLaunched("docserver")&&this.stepFormGroup.disable()}getFormGroup(){return!!this.installerService.isStepAlreadyLaunched("docserver")||this.stepFormGroup}checkAvailability(){this.http.get("../rest/installer/docservers",{params:{path:this.stepFormGroup.controls.docserversPath.value}}).pipe(Object(b.a)(t=>{this.notify.success(this.translate.instant("lang.rightInformations")),this.stepFormGroup.controls.stateStep.setValue("success"),this.nextStep.emit()}),Object(m.a)(t=>(this.notify.error(this.translate.instant("lang.pathUnreacheable")),this.stepFormGroup.controls.stateStep.setValue(""),Object(p.a)(!1)))).subscribe()}getInfoToInstall(){return[{idStep:"docserver",body:{path:this.stepFormGroup.controls.docserversPath.value},route:{method:"POST",url:"../rest/installer/docservers"},description:this.translate.instant("lang.stepDocserversActionDesc"),installPriority:3}]}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(q.e),u.Tb(f.a),u.Tb(g.b),u.Tb(h))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-docservers"]],outputs:{nextStep:"nextStep"},decls:20,vars:14,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fa","fa-hdd"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline",2,"color","initial"],["matInput","","formControlName","docserversPath"],["matSuffix",""],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h2",1),u.Ub(2,"i",2),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Zb(5,"div",3),u.Tc(6),u.lc(7,"translate"),u.Yb(),u.Zb(8,"form",4),u.Zb(9,"mat-form-field",5),u.Zb(10,"mat-label"),u.Tc(11),u.lc(12,"translate"),u.Yb(),u.Ub(13,"input",6),u.Zb(14,"span",7),u.Tc(15,"/__CUSTOM_iD__/"),u.Yb(),u.Yb(),u.Zb(16,"div",8),u.Zb(17,"button",9),u.gc("click",function(){return e.checkAvailability()}),u.Tc(18),u.lc(19,"translate"),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Fb(3),u.Vc(" ",u.mc(4,6,"lang.docserver"),""),u.Fb(3),u.Vc(" ",u.mc(7,8,"lang.stepDocserver_desc")," "),u.Fb(2),u.sc("formGroup",e.stepFormGroup),u.Fb(3),u.Uc(u.mc(12,10,"lang.docserverPath")),u.Fb(6),u.sc("disabled",!e.stepFormGroup.controls.docserversPath.valid),u.Fb(1),u.Uc(u.mc(19,12,"lang.checkInformations")))},directives:[q.z,q.q,q.j,z.c,z.g,at.b,q.c,q.p,q.h,z.i,y.b],pipes:[d.c],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:1px solid;padding:0}"]}),t})();var pt=s("aEDk"),bt=s("JX91"),mt=s("Kj3r"),ut=s("jhN1"),dt=s("Wp6s");function gt(t,e){1&t&&(u.Xb(0),u.Tc(1),u.lc(2,"translate"),u.Wb()),2&t&&(u.Fb(1),u.Vc(" ",u.mc(2,1,"lang.customAlreadyExist")," "))}function ht(t,e){1&t&&(u.Xb(0),u.Tc(1),u.lc(2,"translate"),u.Wb()),2&t&&(u.Fb(1),u.Vc(" ",u.mc(2,1,"lang.invalidCustomName")," "))}const ft=function(){return{value1:'"_", "-"'}};function Ft(t,e){1&t&&(u.Xb(0),u.Tc(1),u.lc(2,"translate"),u.Wb()),2&t&&(u.Fb(1),u.Vc(" ",u.nc(2,1,"lang.onlySpecialCharAllowed",u.yc(4,ft))," "))}const vt=function(){return{value1:"2"}};function yt(t,e){1&t&&(u.Xb(0),u.Tc(1),u.lc(2,"translate"),u.Wb()),2&t&&(u.Fb(1),u.Vc(" ",u.nc(2,1,"lang.invalidLengthCustomName",u.yc(4,vt))," "))}function Ct(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-card",20),u.gc("click",function(){u.Ic(t);const s=e.$implicit;return u.kc().selectBg(s.url)}),u.Yb()}if(2&t){const t=e.$implicit,s=u.kc();u.Oc("background","url("+t.url+")"),u.Lb("selected",t.url===s.stepFormGroup.controls.bodyLoginBackground.value)("disabled",s.stepFormGroup.controls.bodyLoginBackground.disabled)}}function It(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-card",21),u.gc("click",function(){return u.Ic(t),u.Ec(2).click()}),u.Zb(1,"input",22,23),u.gc("change",function(e){return u.Ic(t),u.kc().uploadTrigger(e,"bg")}),u.Yb(),u.Ub(3,"i",24),u.Yb()}}let St=(()=>{class t{constructor(t,e,s,r,o,a,n){this.translate=t,this._formBuilder=e,this.notify=s,this.sanitizer=r,this.scanPipe=o,this.http=a,this.installerService=n,this.readonlyState=!1,this.backgroundList=[];const i=[q.y.pattern(/^[a-z0-9_\-]*$/),q.y.required,q.y.minLength(3)];this.stepFormGroup=this._formBuilder.group({firstCtrl:["success",q.y.required],customId:[null,i],appName:["Maarch Courrier "+A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1],q.y.required],loginMessage:[`<span style="color:#24b0ed"><strong>D\xe9couvrez votre application via</strong></span>&nbsp;<a title="le guide de visite" href="https://docs.maarch.org/gitbook/html/MaarchCourrier/${A.a.VERSION.split(".")[0]+"."+A.a.VERSION.split(".")[1]}/guu/home.html" target="_blank"><span style="color:#f99830;"><strong>le guide de visite en ligne</strong></span></a>`],homeMessage:['<p>D&eacute;couvrez <strong>Maarch Courrier 21.03</strong> avec <a title="notre guide de visite" href="https://docs.maarch.org/" target="_blank"><span style="color:#f99830;"><strong>notre guide de visite en ligne</strong></span></a>.</p>'],bodyLoginBackground:["assets/bodylogin.jpg"],uploadedLogo:["../rest/images?image=logo"]}),this.backgroundList=Array.from({length:17}).map((t,e)=>({filename:`${e+1}.jpg`,url:`assets/${e+1}.jpg`}))}ngOnInit(){this.checkCustomExist(),this.stepFormGroup.controls.customId.valueChanges.pipe(Object(bt.a)(""),Object(b.a)(()=>{this.stepFormGroup.controls.firstCtrl.setValue("")}),Object(mt.a)(500),Object(U.a)(t=>t.length>2),Object(U.a)(()=>null===this.stepFormGroup.controls.customId.errors||void 0===this.stepFormGroup.controls.customId.errors.pattern),Object(b.a)(()=>{this.checkCustomExist()})).subscribe()}initStep(){null===this.stepFormGroup.controls.customId.value&&this.stepFormGroup.controls.customId.setValue(this.appDatabase.getInfoToInstall()[0].body.name),this.installerService.isStepAlreadyLaunched("createCustom")&&this.installerService.isStepAlreadyLaunched("customization")?(this.stepFormGroup.disable(),this.readonlyState=!0,tinymce.remove(),this.initMce(!0)):this.installerService.isStepAlreadyLaunched("createCustom")?(this.stepFormGroup.controls.customId.disable(),this.stepFormGroup.controls.appName.disable(),this.stepFormGroup.controls.firstCtrl.disable()):this.installerService.isStepAlreadyLaunched("customization")?(this.stepFormGroup.controls.loginMessage.disable(),this.stepFormGroup.controls.homeMessage.disable(),this.stepFormGroup.controls.bodyLoginBackground.disable(),this.stepFormGroup.controls.uploadedLogo.disable(),this.readonlyState=!0,tinymce.remove(),this.initMce(!0)):(this.readonlyState=!1,this.initMce())}checkCustomExist(){this.http.get("../rest/installer/custom",{observe:"response",params:{customId:this.stepFormGroup.controls.customId.value}}).pipe(Object(b.a)(t=>{null!==this.stepFormGroup.controls.customId.errors?delete this.stepFormGroup.controls.customId.errors.customExist:this.stepFormGroup.controls.firstCtrl.setValue("success")}),Object(m.a)(t=>(null!==t.error.errors.match(/^Custom already exists/g)?(this.stepFormGroup.controls.customId.setErrors(Object.assign(Object.assign({},this.stepFormGroup.controls.customId.errors),{customExist:!0})),this.stepFormGroup.controls.customId.markAsTouched()):null!==t.error.errors.match(/^Unauthorized custom name/g)?(this.stepFormGroup.controls.customId.setErrors(Object.assign(Object.assign({},this.stepFormGroup.controls.customId.errors),{invalidCustomName:!0})),this.stepFormGroup.controls.customId.markAsTouched()):this.notify.handleSoftErrors(t),Object(p.a)(!1)))).subscribe()}isValidStep(){return!(!this.installerService.isStepAlreadyLaunched("createCustom")||!this.installerService.isStepAlreadyLaunched("customization"))||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}getFormGroup(){return!(!this.installerService.isStepAlreadyLaunched("createCustom")||!this.installerService.isStepAlreadyLaunched("customization"))||this.stepFormGroup}initMce(t=!1){tinymce.init({selector:"textarea",base_url:"../node_modules/tinymce/",convert_urls:!1,height:"150",suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant("lang.langISO").replace("-","_")}.js`,menubar:!1,statusbar:!1,readonly:t,plugins:["autolink"],external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_drawer:"floating",toolbar:t?"":"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |         alignleft aligncenter alignright alignjustify         bullist numlist outdent indent | removeformat"})}getInfoToInstall(){return[{idStep:"createCustom",body:{lang:this.appWelcome.stepFormGroup.controls.lang.value,customId:this.stepFormGroup.controls.customId.value,applicationName:this.stepFormGroup.controls.appName.value},description:this.translate.instant("lang.stepInstanceActionDesc"),route:{method:"POST",url:"../rest/installer/custom"},installPriority:1},{idStep:"customization",body:{loginMessage:tinymce.get("loginMessage").getContent(),homeMessage:tinymce.get("homeMessage").getContent(),bodyLoginBackground:this.stepFormGroup.controls.bodyLoginBackground.value,logo:this.stepFormGroup.controls.uploadedLogo.value},description:this.translate.instant("lang.stepCustomizationActionDesc"),route:{method:"POST",url:"../rest/installer/customization"},installPriority:3}]}uploadTrigger(t,e){if(t.target.files&&t.target.files[0]){const s=this.canUploadFile(t.target.files[0],e);if(!0===s){const s=new FileReader;s.readAsDataURL(t.target.files[0]),s.onload=t=>{if("logo"===e)this.stepFormGroup.controls.uploadedLogo.setValue(t.target.result);else{const e=new Image;e.onload=e=>{e.target.width<1920||e.target.height<1080?this.notify.error(this.translate.instant("lang.badImageResolution",{value1:"1920x1080"})):(this.backgroundList.push({filename:t.target.result,url:t.target.result}),this.stepFormGroup.controls.bodyLoginBackground.setValue(t.target.result))},e.src=t.target.result}}}else this.notify.error(s)}}canUploadFile(t,e){const s="logo"!==e?["image/jpg","image/jpeg"]:["image/svg+xml"];if("logo"===e){if(t.size>5e6)return this.translate.instant("lang.maxFileSizeExceeded",{value1:"5mo"});if(-1===s.indexOf(t.type))return this.translate.instant("lang.onlyExtensionsAllowed",{value1:s.join(", ")})}else{if(t.size>1e7)return this.translate.instant("lang.maxFileSizeExceeded",{value1:"10mo"});if(-1===s.indexOf(t.type))return this.translate.instant("lang.onlyExtensionsAllowed",{value1:s.join(", ")})}return!0}logoURL(){return this.sanitizer.bypassSecurityTrustUrl(this.stepFormGroup.controls.uploadedLogo.value)}selectBg(t){this.stepFormGroup.controls.bodyLoginBackground.disabled||this.stepFormGroup.controls.bodyLoginBackground.setValue(t)}clickLogoButton(t){this.stepFormGroup.controls.uploadedLogo.disabled||t.click()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(q.e),u.Tb(f.a),u.Tb(ut.b),u.Tb(pt.e),u.Tb(g.b),u.Tb(h))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-customization"]],inputs:{appDatabase:"appDatabase",appWelcome:"appWelcome"},features:[u.Eb([pt.e])],decls:54,vars:36,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-tools"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"display","contents",3,"formGroup"],[1,"col-md-6"],["appearance","outline"],["matInput","","formControlName","customId"],[4,"ngIf"],["matInput","","formControlName","appName"],["name","loginMessage","id","loginMessage","formControlName","loginMessage",2,"padding-top","10px"],["name","homeMessage","id","homeMessage","formControlName","homeMessage",2,"padding-top","10px"],["matRipple","",2,"width","350px","background-size","100%","cursor","pointer"],[2,"width","100%",3,"src","click"],["type","file","name","files[]","accept","image/svg+xml",2,"display","none",3,"change"],["uploadLogo",""],[1,"backgroundList"],[1,"backgroundItem",2,"background","url(assets/bodylogin.jpg)","background-size","cover",3,"click"],["style","opacity: 0.3;","class","backgroundItem",3,"selected","disabled","background","click",4,"ngFor","ngForOf"],["style","opacity: 0.3;display: flex;align-items: center;justify-content: center;","class","backgroundItem",3,"click",4,"ngIf"],[1,"backgroundItem",2,"opacity","0.3",3,"click"],[1,"backgroundItem",2,"opacity","0.3","display","flex","align-items","center","justify-content","center",3,"click"],["type","file","name","files[]","accept","image/jpeg",2,"display","none",3,"change"],["uploadFile",""],[1,"fa","fa-plus",2,"font-size","30px","color","#666"]],template:function(t,e){if(1&t){const t=u.ac();u.Zb(0,"div",0),u.Zb(1,"h2",1),u.Ub(2,"i",2),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Zb(5,"div",3),u.Tc(6),u.lc(7,"translate"),u.Yb(),u.Zb(8,"form",4),u.Zb(9,"div",5),u.Zb(10,"mat-form-field",6),u.Zb(11,"mat-label"),u.Tc(12),u.lc(13,"translate"),u.Yb(),u.Ub(14,"input",7),u.Zb(15,"mat-error"),u.Rc(16,gt,3,3,"ng-container",8),u.Rc(17,ht,3,3,"ng-container",8),u.Rc(18,Ft,3,5,"ng-container",8),u.Rc(19,yt,3,5,"ng-container",8),u.Yb(),u.Yb(),u.Zb(20,"mat-form-field",6),u.Zb(21,"mat-label"),u.Tc(22),u.lc(23,"translate"),u.Yb(),u.Ub(24,"input",9),u.Yb(),u.Zb(25,"div"),u.Tc(26),u.lc(27,"translate"),u.Yb(),u.Ub(28,"textarea",10),u.Ub(29,"br"),u.Ub(30,"br"),u.Zb(31,"div"),u.Tc(32),u.lc(33,"translate"),u.Yb(),u.Ub(34,"textarea",11),u.Ub(35,"br"),u.Ub(36,"br"),u.Yb(),u.Zb(37,"div",5),u.Zb(38,"div"),u.Tc(39),u.lc(40,"translate"),u.Yb(),u.Zb(41,"div"),u.Zb(42,"mat-card",12),u.Zb(43,"img",13),u.gc("click",function(){u.Ic(t);const s=u.Ec(45);return e.clickLogoButton(s)}),u.Yb(),u.Zb(44,"input",14,15),u.gc("change",function(t){return e.uploadTrigger(t,"logo")}),u.Yb(),u.Yb(),u.Yb(),u.Ub(46,"br"),u.Zb(47,"div"),u.Tc(48),u.lc(49,"translate"),u.Yb(),u.Zb(50,"div",16),u.Zb(51,"mat-card",17),u.gc("click",function(){return e.selectBg("assets/bodylogin.jpg")}),u.Yb(),u.Rc(52,Ct,1,6,"mat-card",18),u.Rc(53,It,4,0,"mat-card",19),u.Yb(),u.Yb(),u.Yb(),u.Yb()}2&t&&(u.Fb(3),u.Vc(" ",u.mc(4,20,"lang.customization"),""),u.Fb(3),u.Vc(" ",u.mc(7,22,"lang.stepCustomization_desc")," "),u.Fb(2),u.sc("formGroup",e.stepFormGroup),u.Fb(4),u.Uc(u.mc(13,24,"lang.instanceId")),u.Fb(4),u.sc("ngIf",null==e.stepFormGroup.controls.customId.errors?null:e.stepFormGroup.controls.customId.errors.customExist),u.Fb(1),u.sc("ngIf",null==e.stepFormGroup.controls.customId.errors?null:e.stepFormGroup.controls.customId.errors.invalidCustomName),u.Fb(1),u.sc("ngIf",null==e.stepFormGroup.controls.customId.errors?null:e.stepFormGroup.controls.customId.errors.pattern),u.Fb(1),u.sc("ngIf",null==e.stepFormGroup.controls.customId.errors?null:e.stepFormGroup.controls.customId.errors.minlength),u.Fb(3),u.Uc(u.mc(23,26,"lang.applicationName")),u.Fb(4),u.Vc("",u.mc(27,28,"lang.loginMsg")," : "),u.Fb(6),u.Vc("",u.mc(33,30,"lang.homeMsg")," : "),u.Fb(7),u.Vc("",u.mc(40,32,"lang.chooseLogo")," : "),u.Fb(4),u.sc("src",e.logoURL(),u.Lc),u.Fb(5),u.Vc("",u.mc(49,34,"lang.chooseLoginBg")," : "),u.Fb(3),u.Lb("disabled",e.stepFormGroup.controls.bodyLoginBackground.disabled)("selected","assets/bodylogin.jpg"===e.stepFormGroup.controls.bodyLoginBackground.value),u.Fb(1),u.sc("ngForOf",e.backgroundList),u.Fb(1),u.sc("ngIf",!e.stepFormGroup.controls.bodyLoginBackground.disabled))},directives:[q.z,q.q,q.j,z.c,z.g,at.b,q.c,q.p,q.h,z.b,C.n,dt.a,S.t,C.m],pipes:[d.c],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:1px solid;padding:0}.backgroundList[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:10px}.selected[_ngcontent-%COMP%]{transition:all .3s;opacity:1!important;border:10px solid var(--maarch-color-secondary)!important}.backgroundItem[_ngcontent-%COMP%]{border:0 solid var(--maarch-color-secondary);opacity:.5;transition:all .3s;cursor:pointer;height:120px;background-size:cover!important}.disabled[_ngcontent-%COMP%]{cursor:default!important}.backgroundItem[_ngcontent-%COMP%]:not(.disabled):hover{transition:all .3s;opacity:1!important}"]}),t})(),kt=(()=>{class t{constructor(t,e,s,r){this.translate=t,this._formBuilder=e,this.notify=s,this.installerService=r,this.hide=!0,this.tiggerInstall=new u.o;const o=[q.y.pattern(/^[\w.@-]*$/),q.y.required],a=[q.y.pattern(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/),q.y.required];this.stepFormGroup=this._formBuilder.group({login:["superadmin",o],firstname:["Admin",q.y.required],lastname:["SUPER",q.y.required],password:["",q.y.required],passwordConfirm:["",q.y.required],email:["yourEmail@domain.com",a]})}ngOnInit(){this.stepFormGroup.controls.password.valueChanges.pipe(Object(b.a)(t=>{t!==this.stepFormGroup.controls.passwordConfirm.value?(this.stepFormGroup.controls.password.setErrors({incorrect:!0}),this.stepFormGroup.controls.passwordConfirm.setErrors({incorrect:!0}),this.stepFormGroup.controls.passwordConfirm.markAsTouched()):(this.stepFormGroup.controls.password.setErrors(null),this.stepFormGroup.controls.passwordConfirm.setErrors(null))})).subscribe(),this.stepFormGroup.controls.passwordConfirm.valueChanges.pipe(Object(b.a)(t=>{t!==this.stepFormGroup.controls.password.value?(this.stepFormGroup.controls.password.setErrors({incorrect:!0}),this.stepFormGroup.controls.password.markAsTouched(),this.stepFormGroup.controls.passwordConfirm.setErrors({incorrect:!0})):(this.stepFormGroup.controls.password.setErrors(null),this.stepFormGroup.controls.passwordConfirm.setErrors(null))})).subscribe()}initStep(){this.installerService.isStepAlreadyLaunched("userAdmin")&&this.stepFormGroup.disable()}isValidStep(){return void 0!==this.stepFormGroup&&(this.stepFormGroup.valid||this.installerService.isStepAlreadyLaunched("userAdmin"))}getFormGroup(){return!!this.installerService.isStepAlreadyLaunched("userAdmin")||this.stepFormGroup}getInfoToInstall(){return[{idStep:"userAdmin",body:{login:this.stepFormGroup.controls.login.value,firstname:this.stepFormGroup.controls.firstname.value,lastname:this.stepFormGroup.controls.lastname.value,password:this.stepFormGroup.controls.password.value,email:this.stepFormGroup.controls.email.value},route:{method:"PUT",url:"../rest/installer/administrator"},description:this.translate.instant("lang.stepUserAdminActionDesc"),installPriority:3}]}launchInstall(){this.tiggerInstall.emit()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(q.e),u.Tb(f.a),u.Tb(h))},t.\u0275cmp=u.Nb({type:t,selectors:[["app-useradmin"]],outputs:{tiggerInstall:"tiggerInstall"},decls:49,vars:39,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-user"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","login"],["matInput","","formControlName","firstname"],["matInput","","formControlName","lastname"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["matInput","","formControlName","passwordConfirm",3,"type"],["matInput","","formControlName","email"]],template:function(t,e){1&t&&(u.Zb(0,"div",0),u.Zb(1,"h2",1),u.Ub(2,"i",2),u.Tc(3),u.lc(4,"translate"),u.Yb(),u.Zb(5,"div",3),u.Tc(6),u.lc(7,"translate"),u.Yb(),u.Zb(8,"form",4),u.Zb(9,"mat-form-field",5),u.Zb(10,"mat-label"),u.Tc(11),u.lc(12,"translate"),u.Yb(),u.Ub(13,"input",6),u.Yb(),u.Zb(14,"mat-form-field",5),u.Zb(15,"mat-label"),u.Tc(16),u.lc(17,"translate"),u.Yb(),u.Ub(18,"input",7),u.Yb(),u.Zb(19,"mat-form-field",5),u.Zb(20,"mat-label"),u.Tc(21),u.lc(22,"translate"),u.Yb(),u.Ub(23,"input",8),u.Yb(),u.Zb(24,"mat-form-field",5),u.Zb(25,"mat-label"),u.Tc(26),u.lc(27,"translate"),u.Yb(),u.Ub(28,"input",9),u.Zb(29,"button",10),u.gc("click",function(){return e.hide=!e.hide}),u.Ub(30,"mat-icon"),u.Yb(),u.Zb(31,"mat-error"),u.Tc(32),u.lc(33,"translate"),u.Yb(),u.Yb(),u.Zb(34,"mat-form-field",5),u.Zb(35,"mat-label"),u.Tc(36),u.lc(37,"translate"),u.Yb(),u.Ub(38,"input",11),u.Zb(39,"button",10),u.gc("click",function(){return e.hide=!e.hide}),u.Ub(40,"mat-icon"),u.Yb(),u.Zb(41,"mat-error"),u.Tc(42),u.lc(43,"translate"),u.Yb(),u.Yb(),u.Zb(44,"mat-form-field",5),u.Zb(45,"mat-label"),u.Tc(46),u.lc(47,"translate"),u.Yb(),u.Ub(48,"input",12),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Fb(3),u.Vc(" ",u.mc(4,19,"lang.userAdmin"),""),u.Fb(3),u.Vc(" ",u.mc(7,21,"lang.stepUserAdmin_desc")," "),u.Fb(2),u.sc("formGroup",e.stepFormGroup),u.Fb(3),u.Uc(u.mc(12,23,"lang.id")),u.Fb(5),u.Uc(u.mc(17,25,"lang.firstname")),u.Fb(5),u.Uc(u.mc(22,27,"lang.lastname")),u.Fb(5),u.Uc(u.mc(27,29,"lang.password")),u.Fb(2),u.sc("type",e.hide?"password":"text"),u.Fb(2),u.Ib("fa ",e.hide?"fa-eye-slash":"fa-eye",""),u.Fb(2),u.Uc(u.mc(33,31,"lang.passwordNotMatch")),u.Fb(4),u.Uc(u.mc(37,33,"lang.retypeNewPassword")),u.Fb(2),u.sc("type",e.hide?"password":"text"),u.Fb(2),u.Ib("fa ",e.hide?"fa-eye-slash":"fa-eye",""),u.Fb(2),u.Uc(u.mc(43,35,"lang.passwordNotMatch")),u.Fb(4),u.Uc(u.mc(47,37,"lang.email")))},directives:[q.z,q.q,q.j,z.c,z.g,at.b,q.c,q.p,q.h,y.b,z.i,N.a,z.b],pipes:[d.c],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:1px solid;padding:0}"]}),t})();const Tt=["stepper"],Yt=["stepContent"];function Zt(t,e){1&t&&u.Tc(0,"Installation")}function Ot(t,e){if(1&t){const t=u.ac();u.Zb(0,"button",33),u.gc("click",function(){return u.Ic(t),u.kc(2).gotToLogin()}),u.lc(1,"translate"),u.Ub(2,"mat-icon",34),u.Yb()}2&t&&u.sc("title",u.mc(1,1,"lang.home"))}function Gt(t,e){1&t&&(u.Tc(0),u.lc(1,"translate")),2&t&&u.Uc(u.mc(1,1,"lang.prerequisite"))}function xt(t,e){1&t&&(u.Tc(0),u.lc(1,"translate")),2&t&&u.Uc(u.mc(1,1,"lang.database"))}function wt(t,e){1&t&&(u.Tc(0),u.lc(1,"translate")),2&t&&u.Uc(u.mc(1,1,"lang.docserver"))}function _t(t,e){1&t&&(u.Tc(0),u.lc(1,"translate")),2&t&&u.Uc(u.mc(1,1,"lang.customization"))}function Ut(t,e){1&t&&(u.Tc(0),u.lc(1,"translate")),2&t&&u.Uc(u.mc(1,1,"lang.userAdmin"))}function Pt(t,e){1&t&&u.Ub(0,"mat-icon",35)}function Lt(t,e){1&t&&u.Ub(0,"mat-icon",35)}function Mt(t,e){1&t&&u.Ub(0,"mat-icon",36)}function Vt(t,e){if(1&t){const t=u.ac();u.Zb(0,"mat-horizontal-stepper",6,7),u.gc("selectionChange",function(e){return u.Ic(t),u.kc().initStep(e)}),u.Zb(2,"mat-step",8),u.Rc(3,Zt,1,0,"ng-template",9),u.Zb(4,"div",10),u.Zb(5,"div",11),u.Ub(6,"app-welcome",null,12),u.Yb(),u.Rc(9,Ot,3,3,"button",13),u.Zb(10,"button",14),u.lc(11,"translate"),u.Ub(12,"mat-icon",15),u.Yb(),u.Yb(),u.Yb(),u.Zb(13,"mat-step",16),u.Rc(14,Gt,2,3,"ng-template",9),u.Zb(15,"div",10),u.Zb(16,"div",11),u.Ub(17,"app-prerequisite",null,17),u.Yb(),u.Zb(20,"button",18),u.lc(21,"translate"),u.Ub(22,"mat-icon",19),u.Yb(),u.Zb(23,"button",20),u.lc(24,"translate"),u.Ub(25,"mat-icon",15),u.Yb(),u.Yb(),u.Yb(),u.Zb(26,"mat-step",16),u.Rc(27,xt,2,3,"ng-template",9),u.Zb(28,"div",10),u.Zb(29,"div",11),u.Zb(30,"app-database",21,22),u.gc("nextStep",function(){return u.Ic(t),u.kc().nextStep()}),u.Yb(),u.Yb(),u.Zb(33,"button",18),u.lc(34,"translate"),u.Ub(35,"mat-icon",19),u.Yb(),u.Zb(36,"button",20),u.lc(37,"translate"),u.Ub(38,"mat-icon",15),u.Yb(),u.Yb(),u.Yb(),u.Zb(39,"mat-step",16),u.Rc(40,wt,2,3,"ng-template",9),u.Zb(41,"div",10),u.Zb(42,"div",11),u.Zb(43,"app-docservers",21,23),u.gc("nextStep",function(){return u.Ic(t),u.kc().nextStep()}),u.Yb(),u.Yb(),u.Zb(46,"button",18),u.lc(47,"translate"),u.Ub(48,"mat-icon",19),u.Yb(),u.Zb(49,"button",20),u.lc(50,"translate"),u.Ub(51,"mat-icon",15),u.Yb(),u.Yb(),u.Yb(),u.Zb(52,"mat-step",16),u.Rc(53,_t,2,3,"ng-template",9),u.Zb(54,"div",10),u.Zb(55,"div",11),u.Ub(56,"app-customization",24,25),u.Yb(),u.Zb(59,"button",18),u.lc(60,"translate"),u.Ub(61,"mat-icon",19),u.Yb(),u.Zb(62,"button",20),u.lc(63,"translate"),u.Ub(64,"mat-icon",15),u.Yb(),u.Yb(),u.Yb(),u.Zb(65,"mat-step",16),u.Rc(66,Ut,2,3,"ng-template",9),u.Zb(67,"div",10),u.Zb(68,"div",11),u.Zb(69,"app-useradmin",26,27),u.gc("tiggerInstall",function(){return u.Ic(t),u.kc().endInstall()}),u.Yb(),u.Yb(),u.Zb(72,"button",18),u.lc(73,"translate"),u.Ub(74,"mat-icon",19),u.Yb(),u.Zb(75,"button",28),u.gc("click",function(){return u.Ic(t),u.kc().endInstall()}),u.lc(76,"translate"),u.Ub(77,"mat-icon",29),u.Yb(),u.Yb(),u.Yb(),u.Rc(78,Pt,1,0,"ng-template",30),u.Rc(79,Lt,1,0,"ng-template",31),u.Rc(80,Mt,1,0,"ng-template",32),u.Yb()}if(2&t){const t=u.Ec(8),e=u.Ec(18),s=u.Ec(31),r=u.Ec(44),o=u.Ec(57),a=u.Ec(70),n=u.kc();u.sc("@.disabled",!0),u.Fb(9),u.sc("ngIf",!n.authService.noInstall),u.Fb(1),u.sc("title",u.mc(11,25,"lang.next")),u.Fb(3),u.sc("stepControl",e.getFormGroup()),u.Fb(7),u.sc("title",u.mc(21,27,"lang.previous")),u.Fb(3),u.sc("title",u.mc(24,29,"lang.next"))("disabled",!e.isValidStep()),u.Fb(3),u.sc("stepControl",s.getFormGroup()),u.Fb(7),u.sc("title",u.mc(34,31,"lang.previous")),u.Fb(3),u.sc("title",u.mc(37,33,"lang.next"))("disabled",!s.isValidStep()),u.Fb(3),u.sc("stepControl",r.getFormGroup()),u.Fb(7),u.sc("title",u.mc(47,35,"lang.previous")),u.Fb(3),u.sc("title",u.mc(50,37,"lang.next"))("disabled",!r.isValidStep()),u.Fb(3),u.sc("stepControl",o.getFormGroup()),u.Fb(4),u.sc("appDatabase",s)("appWelcome",t),u.Fb(3),u.sc("title",u.mc(60,39,"lang.previous")),u.Fb(3),u.sc("title",u.mc(63,41,"lang.next"))("disabled",!o.isValidStep()),u.Fb(3),u.sc("stepControl",a.getFormGroup()),u.Fb(7),u.sc("title",u.mc(73,43,"lang.previous")),u.Fb(3),u.sc("title",u.mc(76,45,"lang.beginInstall"))("disabled",!a.isValidStep())}}const Et=[{path:"",component:(()=>{class t{constructor(t,e,s,r,o,a,n,i,c,l){this.translate=t,this.router=e,this.headerService=s,this.notify=r,this.appService=o,this.sortPipe=a,this.dialog=n,this.functionService=i,this.privilegeService=c,this.authService=l,this.loading=!0}ngOnInit(){this.headerService.hideSideBar=!0,this.authService.isAuth()||this.authService.noInstall?null===this.authService.getToken()||this.privilegeService.hasCurrentUserPrivilege("create_custom")?this.loading=!1:(this.router.navigate(["/login"]),this.notify.error(this.translate.instant("lang.mustPrivilegeToInstall"))):(this.router.navigate(["/login"]),this.notify.error(this.translate.instant("lang.mustConnectToInstall")))}ngAfterViewInit(){$(".mat-horizontal-stepper-header-container").insertBefore(".bg-head-content"),$(".mat-step-icon").css("background-color","white"),$(".mat-step-icon").css("color","#135f7f"),$(".mat-step-label").css("color","white")}isValidStep(){return!1}initStep(t){this.stepContent.toArray()[t.selectedIndex].initStep()}nextStep(){this.stepper.next()}gotToLogin(){this.router.navigate(["/login"])}endInstall(){let t=[];this.stepContent.toArray().forEach(e=>{t=t.concat(e.getInfoToInstall())}),t=this.sortPipe.transform(t,"installPriority"),this.dialog.open(_,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:t}).afterClosed().pipe(Object(U.a)(t=>!this.functionService.empty(t)),Object(b.a)(t=>{}),Object(m.a)(t=>(this.notify.handleErrors(t),Object(p.a)(!1)))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(d.d),u.Tb(a.c),u.Tb(P.a),u.Tb(f.a),u.Tb(L.a),u.Tb(i.a),u.Tb(l.b),u.Tb(M.a),u.Tb(V.a),u.Tb(F.a))},t.\u0275cmp=u.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(u.ad(Tt,1),u.ad(Yt,1)),2&t){let t;u.Dc(t=u.hc())&&(e.stepper=t.first),u.Dc(t=u.hc())&&(e.stepContent=t)}},features:[u.Eb([{provide:n.h,useValue:{showError:!0}},i.a])],decls:7,vars:5,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-content"],[1,"container"],[1,"container-content",2,"overflow","hidden"],["linear","","style","height: 100vh;overflow: auto;",3,"selectionChange",4,"ngIf"],["linear","",2,"height","100vh","overflow","auto",3,"selectionChange"],["stepper",""],["label","install"],["matStepLabel",""],[1,"stepContainer"],[1,"stepContent"],["stepContent","","appWelcome",""],["mat-fab","","class","previousStepButton","color","primary",3,"title","click",4,"ngIf"],["mat-fab","","matStepperNext","","color","primary",1,"nextStepButton",3,"title"],[1,"fa","fa-arrow-right"],[3,"stepControl"],["appPrerequisite","","stepContent",""],["mat-fab","","matStepperPrevious","","color","primary",1,"previousStepButton",3,"title"],[1,"fa","fa-arrow-left"],["mat-fab","","matStepperNext","","color","primary",1,"nextStepButton",3,"title","disabled"],[3,"nextStep"],["appDatabase","","stepContent",""],["appDocservers","","stepContent",""],[3,"appDatabase","appWelcome"],["appCustomization","","stepContent",""],[3,"tiggerInstall"],["appUseradmin","","stepContent",""],["mat-fab","","color","accent",1,"nextStepButton",3,"title","disabled","click"],[1,"fas","fa-check-double"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["mat-fab","","color","primary",1,"previousStepButton",3,"title","click"],[1,"fas","fa-home"],[1,"fa","fa-check","stepIcon"],[1,"fa","fa-times","stepIcon",2,"color","red","font-size","15px !important"]],template:function(t,e){1&t&&(u.Zb(0,"mat-sidenav-container",0),u.Zb(1,"mat-sidenav-content"),u.Zb(2,"div",1),u.Ub(3,"div",2),u.Yb(),u.Zb(4,"div",3),u.Zb(5,"div",4),u.Rc(6,Vt,81,47,"mat-horizontal-stepper",5),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&t&&(u.Fb(3),u.Lb("fullContainer",e.appService.getViewMode()),u.Fb(1),u.Lb("fullContainer",e.appService.getViewMode()),u.Fb(2),u.sc("ngIf",!e.loading))},directives:[E.b,E.c,C.n,j.a,j.b,j.c,J,y.b,j.f,N.a,ot,j.g,ct,lt,St,kt,j.d],pipes:[d.c],styles:[".mat-stepper-horizontal{height:100%!important}.container[_ngcontent-%COMP%]{padding-left:80px!important;padding-right:80px!important}.previousStepButton[_ngcontent-%COMP%]{position:fixed;top:50%;left:10px;transform:translateY(-50%)}.previousStepButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:auto;width:auto}.nextStepButton[_ngcontent-%COMP%]{position:fixed;top:50%;right:13px;transform:translateY(-50%)}.nextStepButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:auto;width:auto} .mat-step-icon{background-color:#fff;color:#135f7f} .mat-step-label-active{opacity:1!important} .mat-step-label{color:#fff;opacity:.5}.stepIcon[_ngcontent-%COMP%]{font-size:10px!important;height:auto!important;width:auto!important} .mat-step-label{transition:all .2s} .mat-step-label-selected{font-size:160%;transition:all .2s;opacity:1}"]}),t})()}];let jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Rb({type:t}),t.\u0275inj=u.Qb({imports:[[a.f.forChild(Et)],a.f]}),t})(),qt=(()=>{class t{constructor(t){t.setDefaultLang("fr")}}return t.\u0275fac=function(e){return new(e||t)(u.dc(d.d))},t.\u0275mod=u.Rb({type:t}),t.\u0275inj=u.Qb({providers:[h],imports:[[r.a,o.a,jt]]}),t})()}}]);