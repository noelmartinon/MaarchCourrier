{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{\"/JYr\":function(module,exports,__webpack_require__){\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),map_1=__webpack_require__(\"q3Kh\"),from_1=__webpack_require__(\"gTqA\"),innerSubscribe_1=__webpack_require__(\"wjEo\");exports.exhaustMap=function exhaustMap(project,resultSelector){return resultSelector?function(source){return source.pipe(exhaustMap((function(a,i){return from_1.from(project(a,i)).pipe(map_1.map((function(b,ii){return resultSelector(a,b,i,ii)})))})))}:function(source){return source.lift(new ExhaustMapOperator(project))}};var ExhaustMapOperator=function(){function ExhaustMapOperator(project){this.project=project}return ExhaustMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new ExhaustMapSubscriber(subscriber,this.project))},ExhaustMapOperator}(),ExhaustMapSubscriber=function(_super){function ExhaustMapSubscriber(destination,project){var _this=_super.call(this,destination)||this;return _this.project=project,_this.hasSubscription=!1,_this.hasCompleted=!1,_this.index=0,_this}return __extends(ExhaustMapSubscriber,_super),ExhaustMapSubscriber.prototype._next=function(value){this.hasSubscription||this.tryNext(value)},ExhaustMapSubscriber.prototype.tryNext=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.hasSubscription=!0,this._innerSub(result)},ExhaustMapSubscriber.prototype._innerSub=function(result){var innerSubscriber=new innerSubscribe_1.SimpleInnerSubscriber(this),destination=this.destination;destination.add(innerSubscriber);var innerSubscription=innerSubscribe_1.innerSubscribe(result,innerSubscriber);innerSubscription!==innerSubscriber&&destination.add(innerSubscription)},ExhaustMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},ExhaustMapSubscriber.prototype.notifyNext=function(innerValue){this.destination.next(innerValue)},ExhaustMapSubscriber.prototype.notifyError=function(err){this.destination.error(err)},ExhaustMapSubscriber.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},ExhaustMapSubscriber}(innerSubscribe_1.SimpleOuterSubscriber)},Dxa7:function(module,exports,__webpack_require__){\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Subscriber_1=__webpack_require__(\"FWf1\"),ArgumentOutOfRangeError_1=__webpack_require__(\"IKal\"),empty_1=__webpack_require__(\"aJGj\");exports.take=function(count){return function(source){return 0===count?empty_1.empty():source.lift(new TakeOperator(count))}};var TakeOperator=function(){function TakeOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeSubscriber(subscriber,this.total))},TakeOperator}(),TakeSubscriber=function(_super){function TakeSubscriber(destination,total){var _this=_super.call(this,destination)||this;return _this.total=total,_this.count=0,_this}return __extends(TakeSubscriber,_super),TakeSubscriber.prototype._next=function(value){var total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(Subscriber_1.Subscriber)},IKal:function(module,exports,__webpack_require__){\"use strict\";exports.ArgumentOutOfRangeError=function(){function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl}()},NpuA:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=\"function\"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{},n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;if(U(i)&&(t.dynamicTypingFunction=i,i={}),t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var i,r,e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);return t.onmessage=m,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;return\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&U(e.read)&&U(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t)),n.stream(e)},unparse:function(e,t){var n=!1,m=!0,_=\",\",v=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(_=t.delimiter),(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),\"string\"==typeof t.newline&&(v=t.newline),\"string\"==typeof t.quoteChar&&(s=t.quoteChar),\"boolean\"==typeof t.header&&(m=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),\"boolean\"==typeof t.escapeFormulae&&(o=t.escapeFormulae)}}();var h=new RegExp(q(s),\"g\");if(\"string\"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,i);if(\"object\"==typeof e[0])return f(r||u(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:u(e.data[0])),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e){if(\"object\"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function f(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&m){for(var a=0;a<e.length;a++)0<a&&(r+=_),r+=y(e[a],a);0<t.length&&(r+=v)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++)d.push(t[o][s?e[l]:l]);u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++)0<p&&!f&&(r+=_),r+=y(t[o][n&&s?e[p]:p],p);o<t.length-1&&(!i||0<h&&!f)&&(r+=v)}}return r}function y(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===o&&\"string\"==typeof e&&null!==e.match(/^[=+\\-@].*$/)&&(e=\"'\"+e);var i=e.toString().replace(h,a);return\"boolean\"==typeof n&&n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(_)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1)?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=w,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each((function(e){if(\"INPUT\"!==d(this).prop(\"tagName\").toUpperCase()||\"file\"!==d(this).attr(\"type\").toLowerCase()||!f.FileReader||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})})),e(),this;function e(){if(0!==h.length){var t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:\"AbortError\"},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else U(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new i(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&U(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(U(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!U(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}this._config.chunkSize&&r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+(this._start+this._config.chunkSize-1));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");return null===t?-1:parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){this._sendError(new Error(r.statusText||e))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y((function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=y((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=y((function(){this._streamCleanUp(),r=!0,this._streamData(\"\")}),this),this._streamCleanUp=y((function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)}),this)}function i(_){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)(e[-+]?\\d+)?\\s*$/,u=/(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(U(_.step)){var p=_.step;_.step=function(e){if(c=e,m())g();else{if(g(),0===c.data.length)return;i+=e.data.length,_.preview&&i>_.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function v(e){return\"greedy\"===_.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),_.skipEmptyLines)for(var e=0;e<c.data.length;e++)v(c.data[e])&&c.data.splice(e--,1);return m()&&function(){if(c)if(Array.isArray(c.data[0])){for(var t=0;m()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e);function e(e,t){U(_.transformHeader)&&(e=_.transformHeader(e,t)),l.push(e)}}(),function(){if(!c||!_.header&&!_.dynamicTyping&&!_.transform)return c;function e(e,t){var i,r=_.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];_.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),_.transform&&(s=_.transform(s,n)),s=y(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return _.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;return!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0),_.header&&c.meta&&(c.meta.fields=l),f+=t,c}()}function m(){return _.header&&0===l.length}function y(e,t){return i=e,_.dynamicTypingFunction&&void 0===_.dynamicTyping[i]&&(_.dynamicTyping[i]=_.dynamicTypingFunction(i)),!0===(_.dynamicTyping[i]||_.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){if(_.newline||(_.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(q(t)+\"([^]*?)\"+q(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\");if(1===r.length||1<n.length&&n[0].length<r[0].length)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,_.quoteChar||'\"')),h=!1,_.delimiter)U(_.delimiter)&&(_.delimiter=_.delimiter(e),c.meta.delimiter=_.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new w({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&v(p.data[g]))c++;else{var m=p.data[g].length;l+=m,void 0!==o?0<m&&(d+=Math.abs(m-o),o=m):o=m}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(_.delimiter=s),bestDelimiter:s}}(e,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);n.successful?_.delimiter=n.bestDelimiter:(h=!0,_.delimiter=b.DefaultDelimiter),c.meta.delimiter=_.delimiter}var s=E(_);return _.preview&&_.header&&s.preview++,a=e,o=new w(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=U(_.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,U(_.complete)&&_.complete(c),a=\"\"}}function q(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function w(e){var O,D=(e=e||{}).delimiter,I=e.newline,T=e.comments,A=e.step,L=e.preview,F=e.fastMode,z=O=void 0===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(z=e.escapeChar),(\"string\"!=typeof D||-1<b.BAD_DELIMITERS.indexOf(D))&&(D=\",\"),T===D)throw new Error(\"Comment character same as delimiter\");!0===T?T=\"#\":(\"string\"!=typeof T||-1<b.BAD_DELIMITERS.indexOf(T))&&(T=!1),\"\\n\"!==I&&\"\\r\"!==I&&\"\\r\\n\"!==I&&(I=\"\\n\");var M=0,j=!1;this.parse=function(a,t,i){if(\"string\"!=typeof a)throw new Error(\"Input must be a string\");var r=a.length,e=D.length,n=I.length,s=T.length,o=U(A),h=[],u=[],f=[],d=M=0;if(!a)return R();if(F||!1!==F&&-1===a.indexOf(O)){for(var l=a.split(I),c=0;c<l.length;c++){if(M+=(f=l[c]).length,c!==l.length-1)M+=I.length;else if(i)return R();if(!T||f.substring(0,s)!==T){if(o){if(h=[],b(f.split(D)),S(),j)return R()}else b(f.split(D));if(L&&L<=c)return h=h.slice(0,L),R(!0)}}return R()}for(var p=a.indexOf(D,M),g=a.indexOf(I,M),m=new RegExp(q(z)+q(O),\"g\"),_=a.indexOf(O,M);;)if(a[M]!==O)if(T&&0===f.length&&a.substring(M,M+s)===T){if(-1===g)return R();g=a.indexOf(I,M=g+n),p=a.indexOf(D,M)}else{if(-1!==p&&(p<g||-1===g)){if(!(p<_)){f.push(a.substring(M,p)),p=a.indexOf(D,M=p+e);continue}var v=x(p,_,g);if(v&&void 0!==v.nextDelim){_=v.quoteSearch,f.push(a.substring(M,p=v.nextDelim)),p=a.indexOf(D,M=p+e);continue}}if(-1===g)break;if(f.push(a.substring(M,g)),C(g+n),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0)}else for(_=M,M++;;){if(-1===(_=a.indexOf(O,_+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:M}),E();if(_===r-1)return E(a.substring(M,_).replace(m,O));if(O!==z||a[_+1]!==z){if(O===z||0===_||a[_-1]!==z){-1!==p&&p<_+1&&(p=a.indexOf(D,_+1)),-1!==g&&g<_+1&&(g=a.indexOf(I,_+1));var y=w(-1===g?p:Math.min(p,g));if(a[_+1+y]===D){f.push(a.substring(M,_).replace(m,O)),a[M=_+1+y+e]!==O&&(_=a.indexOf(O,M)),p=a.indexOf(D,M),g=a.indexOf(I,M);break}var k=w(g);if(a.substring(_+1+k,_+1+k+n)===I){if(f.push(a.substring(M,_).replace(m,O)),C(_+1+k+n),p=a.indexOf(D,M),_=a.indexOf(O,M),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:M}),_++}}else _++}return E();function b(e){h.push(e),d=M}function w(e){var t=0;if(-1!==e){var i=a.substring(_+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=a.substring(M)),f.push(e),M=r,b(f),o&&S()),R()}function C(e){M=e,b(f),f=[],g=a.indexOf(I,M)}function R(e){return{data:h,errors:u,meta:{delimiter:D,linebreak:I,aborted:j,truncated:!!e,cursor:d+(t||0)}}}function S(){A(R()),h=[],u=[]}function x(e,t,i){var r={nextDelim:void 0,quoteSearch:void 0},n=a.indexOf(O,t+1);if(t<e&&e<n&&(n<i||-1===i)){var s=a.indexOf(D,n);if(-1===s)return r;n<s&&(n=a.indexOf(O,n+1)),r=x(s,n,i)}else r={nextDelim:e,quoteSearch:t};return r}},this.abort=function(){j=!0},this.getCharIndex=function(){return M}}function m(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=a[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function v(){throw new Error(\"Not implemented.\")}function E(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=E(e[i]);return t}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;if(void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId),\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,[]):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},aJGj:function(module,exports,__webpack_require__){\"use strict\";var Observable_1=__webpack_require__(\"Q1FS\");exports.EMPTY=new Observable_1.Observable((function(subscriber){return subscriber.complete()})),exports.empty=function(scheduler){return scheduler?function(scheduler){return new Observable_1.Observable((function(subscriber){return scheduler.schedule((function(){return subscriber.complete()}))}))}(scheduler):exports.EMPTY}},aPMI:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"AdministrationModule\",(function(){return administration_module_AdministrationModule}));var app_common_module=__webpack_require__(\"vWc3\"),internationalization_module=__webpack_require__(\"cMWS\"),fesm2015_router=__webpack_require__(\"tyNb\"),of=__webpack_require__(\"LRne\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),startWith=__webpack_require__(\"JX91\"),map=__webpack_require__(\"lJxs\"),tap=__webpack_require__(\"vkgz\"),catchError=__webpack_require__(\"JIr8\"),core=__webpack_require__(\"fXoL\"),ngx_translate_core=__webpack_require__(\"sYmb\"),fesm2015_http=__webpack_require__(\"tk/3\"),header_service=__webpack_require__(\"4zkx\"),app_service=__webpack_require__(\"A6w4\"),privileges_service=__webpack_require__(\"eiH7\"),ngx_pipes=__webpack_require__(\"aEDk\"),notification_service=__webpack_require__(\"AXEc\"),functions_service=__webpack_require__(\"rH+9\"),featureTour_service=__webpack_require__(\"d7/a\"),sidenav=__webpack_require__(\"XhcP\"),header_left_component=__webpack_require__(\"Ro8j\"),ngx_joyride=__webpack_require__(\"zZ42\"),header_right_component=__webpack_require__(\"F8Z3\"),common=__webpack_require__(\"ofXK\"),divider=__webpack_require__(\"f0Cb\"),form_field=__webpack_require__(\"kmnG\"),input=__webpack_require__(\"qFsG\"),progress_spinner=__webpack_require__(\"Xa2L\"),card=__webpack_require__(\"Wp6s\"),fesm2015_core=__webpack_require__(\"FKr1\"),fesm2015_button=__webpack_require__(\"bTqV\"),sorting_pipe=__webpack_require__(\"1YbM\");const _c0=[\"snav2\"],_c1=[\"searchServiceInput\"];function AdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",18),core.Ub(1,\"mat-spinner\",19),core.Yb())}function AdministrationComponent_mat_card_13_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"mat-card\",20),core.hc(\"click\",(function(){core.Hc(_r7);const shortcut_r5=ctx.$implicit;return core.lc().goToSpecifiedAdministration(shortcut_r5)})),core.Zb(1,\"div\",21),core.Ub(2,\"i\",22),core.Yb(),core.Zb(3,\"span\",23),core.Sc(4),core.Yb(),core.Sc(5),core.mc(6,\"translate\"),core.Yb()}if(2&rf){const shortcut_r5=ctx.$implicit;core.Eb(2),core.Gb(shortcut_r5.style),core.Eb(2),core.Tc(shortcut_r5.count),core.Eb(1),core.Uc(\"  \",core.nc(6,5,shortcut_r5.label),\" \")}}function AdministrationComponent_button_19_Template(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"button\",24),core.hc(\"click\",(function(){core.Hc(_r10);const administration_r8=ctx.$implicit;return core.lc().goToSpecifiedAdministration(administration_r8)})),core.mc(1,\"translate\"),core.Zb(2,\"div\",25),core.Zb(3,\"span\",26),core.Ub(4,\"i\"),core.Yb(),core.Zb(5,\"span\",27),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const administration_r8=ctx.$implicit;core.sc(\"joyrideStep\",administration_r8.id)(\"title\",core.nc(1,6,administration_r8.comment)),core.Eb(4),core.Hb(\"avatarCount2 \",administration_r8.style,\"\"),core.Eb(2),core.Uc(\" \",core.nc(7,8,administration_r8.label),\" \")}}const _c2=function(a0){return{width:a0}};let administration_component_AdministrationComponent=(()=>{class AdministrationComponent{constructor(translate,http,router,headerService,appService,privilegeService,latinisePipe,notify,functionService,featureTourService){this.translate=translate,this.http=http,this.router=router,this.headerService=headerService,this.appService=appService,this.privilegeService=privilegeService,this.latinisePipe=latinisePipe,this.notify=notify,this.functionService=functionService,this.featureTourService=featureTourService,this.loading=!1,this.shortcutsAdmin=[],this.organisationServices=[],this.productionServices=[],this.classementServices=[],this.supervisionServices=[],this.searchService=new fesm2015_forms.h,this.administrations=[]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")),this.organisationServices=this.privilegeService.getCurrentUserAdministrationsByUnit(\"organisation\"),this.productionServices=this.privilegeService.getCurrentUserAdministrationsByUnit(\"production\"),this.classementServices=this.privilegeService.getCurrentUserAdministrationsByUnit(\"classement\"),this.supervisionServices=this.privilegeService.getCurrentUserAdministrationsByUnit(\"supervision\"),this.administrations=this.organisationServices.concat(this.productionServices).concat(this.classementServices).concat(this.supervisionServices),this.shortcutsAdmin=this.administrations.filter(admin=>[\"admin_users\",\"admin_groups\",\"manage_entities\"].indexOf(admin.id)>-1).map(admin=>Object.assign(Object.assign({},admin),{count:0})),this.getNbShortcuts(),this.filteredAdministrations=this.searchService.valueChanges.pipe(Object(startWith.a)(\"\"),Object(map.a)(value=>this._filter(value,\"administrations\"))),this.loading=!1,setTimeout(()=>{this.searchServiceInput.nativeElement.focus()},0)}ngAfterViewInit(){\"root_visible\"!==this.headerService.user.mode&&\"root_invisible\"!==this.headerService.user.mode||this.featureTourService.init()}goToSpecifiedAdministration(service){!0===service.angular?this.router.navigate([service.route]):window.location.assign(service.route)}_filter(value,type){if(\"string\"==typeof value){const filterValue=this.latinisePipe.transform(value.toLowerCase());return this[type].filter(option=>this.latinisePipe.transform(option.label.toLowerCase()).includes(filterValue))}return this[type]}getNbShortcuts(){this.http.get(\"../rest/administration/details\").pipe(Object(tap.a)(data=>{this.functionService.empty(data.count.users)||(this.shortcutsAdmin.filter(admin=>\"admin_users\"===admin.id)[0].count=data.count.users),this.functionService.empty(data.count.groups)||(this.shortcutsAdmin.filter(admin=>\"admin_groups\"===admin.id)[0].count=data.count.groups),this.functionService.empty(data.count.entities)||(this.shortcutsAdmin.filter(admin=>\"manage_entities\"===admin.id)[0].count=data.count.entities)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}}return AdministrationComponent.ɵfac=function(t){return new(t||AdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.c),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(privileges_service.a),core.Tb(ngx_pipes.c),core.Tb(notification_service.a),core.Tb(functions_service.a),core.Tb(featureTour_service.a))},AdministrationComponent.ɵcmp=core.Nb({type:AdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(_c0,!0),core.Oc(_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.searchServiceInput=_t.first))},decls:24,vars:22,consts:[[1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[\"stepNumber\",\"1\",\"joyrideStep\",\"firstStep\",\"title\",\"demoTour\",\"text\",\"Hi, Welcome to demo tour\",1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\",2,\"display\",\"flex\",\"flex-direction\",\"column\"],[\"class\",\"loading\",4,\"ngIf\"],[2,\"display\",\"grid\",\"grid-template-columns\",\"repeat(auto-fill, minmax(400px, 1fr))\",\"gap\",\"20px\",\"padding\",\"20px\"],[\"class\",\"countCard\",\"matRipple\",\"\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[2,\"padding\",\"10px\",\"font-size\",\"10px\",\"width\",\"250px !important\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[\"searchServiceInput\",\"\"],[2,\"margin\",\"20px\",\"display\",\"grid\",\"grid-template-columns\",\"repeat(auto-fill, minmax(300px, 1fr))\",\"gap\",\"20px\",\"padding\",\"20px\",\"padding-top\",\"0px\",\"margin-top\",\"0px\"],[\"mat-button\",\"\",\"style\",\"font-size:20px;height:80px;\",3,\"joyrideStep\",\"title\",\"click\",4,\"ngFor\",\"ngForOf\"],[\"position\",\"end\",\"autoFocus\",\"false\",1,\"panel-right\",2,\"overflow-x\",\"hidden\",3,\"fixedInViewport\",\"opened\",\"mode\",\"ngStyle\"],[\"snav2\",\"\"],[1,\"loading\"],[2,\"margin\",\"auto\"],[\"matRipple\",\"\",1,\"countCard\",3,\"click\"],[\"mat-card-avatar\",\"\",1,\"avatarCount\",2,\"margin-right\",\"10px\"],[2,\"position\",\"absolute\"],[2,\"font-size\",\"40px\"],[\"mat-button\",\"\",2,\"font-size\",\"20px\",\"height\",\"80px\",3,\"joyrideStep\",\"title\",\"click\"],[2,\"display\",\"flex\",\"align-items\",\"center\"],[2,\"padding-right\",\"10px\"],[1,\"countLabel\",2,\"white-space\",\"initial\",\"text-align\",\"left\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,AdministrationComponent_div_11_Template,2,0,\"div\",8),core.Zb(12,\"div\",9),core.Qc(13,AdministrationComponent_mat_card_13_Template,7,7,\"mat-card\",10),core.Yb(),core.Ub(14,\"mat-divider\"),core.Zb(15,\"mat-form-field\",11),core.Ub(16,\"input\",12,13),core.Yb(),core.Zb(18,\"div\",14),core.Qc(19,AdministrationComponent_button_19_Template,8,10,\"button\",15),core.mc(20,\"sortBy\"),core.mc(21,\"async\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(22,\"mat-sidenav\",16,17),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(2),core.sc(\"ngForOf\",ctx.shortcutsAdmin),core.Eb(3),core.sc(\"formControl\",ctx.searchService)(\"placeholder\",ctx.translate.instant(\"lang.filterBy\")),core.Eb(3),core.sc(\"ngForOf\",core.oc(20,15,core.nc(21,18,ctx.filteredAdministrations),\"label\")),core.Eb(3),core.sc(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1))(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"ngStyle\",core.zc(20,_c2,ctx.appService.getViewMode()?\"80%\":\"30%\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,ngx_joyride.a,header_right_component.a,common.t,common.s,divider.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,sidenav.d,common.w,progress_spinner.c,card.a,fesm2015_core.t,card.c,fesm2015_button.b],pipes:[sorting_pipe.a,common.b,ngx_translate_core.d],styles:[\".adminArea[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.adminArea_1[_ngcontent-%COMP%]{flex:1}.adminArea_1[_ngcontent-%COMP%], .adminArea_2[_ngcontent-%COMP%], .adminArea_3[_ngcontent-%COMP%], .adminArea_4[_ngcontent-%COMP%]{overflow:hidden;padding:20px}.loading[_ngcontent-%COMP%]{display:flex;height:100%}.adminArea-label[_ngcontent-%COMP%]{font-size:20px;font-weight:bolder;opacity:.2;text-align:center}.adminArea-button[_ngcontent-%COMP%]{white-space:inherit;height:100px;line-height:20px} .autocompleteServices .mat-optgroup-label{position:-webkit-sticky;position:sticky;top:0;background:#fff;z-index:1}.countCard[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;height:100px;color:#fff;background:#135f7f;cursor:pointer}.avatarCount[_ngcontent-%COMP%]{color:#135f7f;font-size:20px;background:#fff}.avatarCount[_ngcontent-%COMP%], .avatarCount2[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;border-radius:40px;padding:10px}.avatarCount2[_ngcontent-%COMP%]{color:#fff;font-size:30px;background:#135f7f;width:55px!important;height:55px!important}.countLabel[_ngcontent-%COMP%]{color:#135f7f;font-size:16px}\"]}),AdministrationComponent})();var fesm2015_dialog=__webpack_require__(\"0IaG\"),fesm2015_paginator=__webpack_require__(\"M9IT\"),fesm2015_sort=__webpack_require__(\"Dh3D\"),observable_of=__webpack_require__(\"I65S\"),operators_catchError=__webpack_require__(\"rNzc\"),table=__webpack_require__(\"+0xr\"),confirm_component=__webpack_require__(\"2c88\"),filter=__webpack_require__(\"pLZG\"),exhaustMap=__webpack_require__(\"XqQ8\"),alert_component=__webpack_require__(\"SIQe\"),local_storage_service=__webpack_require__(\"5cI5\"),toolbar=__webpack_require__(\"/t3+\"),slide_toggle=__webpack_require__(\"1jcm\"),upload_file_dnd_directive=__webpack_require__(\"w9N8\"),fesm2015_select=__webpack_require__(\"d3UM\");function UsersImportComponent_ng_container_28_Template(rf,ctx){1&rf&&(core.Xb(0),core.Zb(1,\"div\",18),core.Ub(2,\"mat-spinner\"),core.Yb(),core.Wb())}function UsersImportComponent_ng_template_29_div_2_mat_option_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",32),core.Sc(1),core.Yb()),2&rf){const delimiter_r9=ctx.$implicit;core.sc(\"value\",delimiter_r9),core.Eb(1),core.Uc(\" \",\"\\t\"===delimiter_r9?\"TAB\":delimiter_r9,\" \")}}function UsersImportComponent_ng_template_29_div_2_Template(rf,ctx){if(1&rf){const _r11=core.ac();core.Zb(0,\"div\",28),core.hc(\"click\",(function(){return core.Hc(_r11),core.lc(),core.Dc(1).click()}))(\"onFileDropped\",(function($event){return core.Hc(_r11),core.lc(2).dndUploadFile($event)})),core.Zb(1,\"div\"),core.Sc(2),core.mc(3,\"translate\"),core.Zb(4,\"mat-form-field\",29),core.hc(\"click\",(function($event){return core.Hc(_r11),$event.stopPropagation()})),core.Zb(5,\"mat-label\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Zb(8,\"mat-select\",30),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r11),core.lc(2).currentDelimiter=$event}))(\"click\",(function($event){return core.Hc(_r11),$event.stopPropagation()})),core.Qc(9,UsersImportComponent_ng_template_29_div_2_mat_option_9_Template,2,2,\"mat-option\",31),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r5=core.lc(2);core.Eb(2),core.Uc(\" \",core.nc(3,4,\"lang.dndFileCsvDesc\"),\" \"),core.Eb(4),core.Tc(core.nc(7,6,\"lang.delimiter\")),core.Eb(2),core.sc(\"ngModel\",ctx_r5.currentDelimiter),core.Eb(1),core.sc(\"ngForOf\",ctx_r5.delimiters)}}function UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_mat_header_cell_2_mat_option_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",32),core.Sc(1),core.Yb()),2&rf){const col_r25=ctx.$implicit;core.sc(\"value\",col_r25),core.Eb(1),core.Uc(\" \",col_r25,\" \")}}function UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_mat_header_cell_2_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Zb(0,\"mat-header-cell\"),core.Ub(1,\"i\",41),core.mc(2,\"translate\"),core.Sc(3,\" \"),core.Zb(4,\"b\",42),core.mc(5,\"translate\"),core.Sc(6),core.Yb(),core.Sc(7,\"  \"),core.Ub(8,\"i\",43),core.Sc(9,\"  \"),core.Ub(10,\"i\",44),core.mc(11,\"translate\"),core.Sc(12,\" \"),core.Zb(13,\"mat-form-field\",45),core.hc(\"click\",(function($event){return core.Hc(_r27),$event.stopPropagation()})),core.mc(14,\"translate\"),core.Zb(15,\"mat-select\",46),core.hc(\"ngModelChange\",(function($event){core.Hc(_r27);const column_r20=core.lc().$implicit;return core.lc(3).associatedColmuns[column_r20]=$event}))(\"selectionChange\",(function($event){core.Hc(_r27);const column_r20=core.lc().$implicit;return core.lc(3).changeColumn(column_r20,$event.value)})),core.Ub(16,\"mat-option\",47),core.Qc(17,UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_mat_header_cell_2_mat_option_17_Template,2,2,\"mat-option\",31),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const column_r20=core.lc().$implicit,ctx_r22=core.lc(3);core.Eb(1),core.sc(\"title\",core.nc(2,7,\"lang.dbColumn\")),core.Eb(3),core.sc(\"title\",core.nc(5,9,\"lang.dbColumn\")),core.Eb(2),core.Tc(column_r20),core.Eb(4),core.sc(\"title\",core.nc(11,11,\"lang.csvColumn\")),core.Eb(3),core.sc(\"title\",core.nc(14,13,\"lang.csvColumn\")),core.Eb(2),core.sc(\"ngModel\",ctx_r22.associatedColmuns[column_r20]),core.Eb(2),core.sc(\"ngForOf\",ctx_r22.csvColumns)}}function UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_mat_cell_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r33=ctx.$implicit,column_r20=core.lc().$implicit;core.Eb(1),core.Uc(\" \",element_r33[column_r20],\" \")}}function UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Xb(1,38),core.Qc(2,UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_mat_header_cell_2_Template,18,15,\"mat-header-cell\",39),core.Qc(3,UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_mat_cell_3_Template,2,1,\"mat-cell\",40),core.Wb(),core.Wb()),2&rf){const column_r20=ctx.$implicit;core.Eb(1),core.sc(\"matColumnDef\",column_r20)}}function UsersImportComponent_ng_template_29_mat_table_7_mat_header_row_3_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function UsersImportComponent_ng_template_29_mat_table_7_mat_row_4_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}function UsersImportComponent_ng_template_29_mat_table_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-table\",33,34),core.Qc(2,UsersImportComponent_ng_template_29_mat_table_7_ng_container_2_Template,4,1,\"ng-container\",35),core.Qc(3,UsersImportComponent_ng_template_29_mat_table_7_mat_header_row_3_Template,1,0,\"mat-header-row\",36),core.Qc(4,UsersImportComponent_ng_template_29_mat_table_7_mat_row_4_Template,1,0,\"mat-row\",37),core.Yb()),2&rf){const ctx_r7=core.lc(2);core.sc(\"dataSource\",ctx_r7.dataSource),core.Eb(2),core.sc(\"ngForOf\",ctx_r7.userColmuns),core.Eb(1),core.sc(\"matHeaderRowDef\",ctx_r7.userColmuns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r7.userColmuns)}}function UsersImportComponent_ng_template_29_Template(rf,ctx){if(1&rf){const _r37=core.ac();core.Zb(0,\"input\",19,20),core.hc(\"change\",(function($event){return core.Hc(_r37),core.lc().uploadCsv($event)})),core.Yb(),core.Qc(2,UsersImportComponent_ng_template_29_div_2_Template,10,8,\"div\",21),core.Zb(3,\"div\",22),core.Zb(4,\"div\",23),core.Ub(5,\"mat-paginator\",24,25),core.Yb(),core.Yb(),core.Qc(7,UsersImportComponent_ng_template_29_mat_table_7_Template,5,4,\"mat-table\",26),core.Ub(8,\"div\",27),core.mc(9,\"translate\"),core.Ub(10,\"div\",27),core.mc(11,\"translate\")}if(2&rf){const ctx_r2=core.lc();core.Eb(2),core.sc(\"ngIf\",0===ctx_r2.csvData.length),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"ngIf\",ctx_r2.csvData.length>0),core.Eb(1),core.sc(\"innerHTML\",core.nc(9,7,\"lang.infoImportusers\"),core.Ic),core.Eb(2),core.sc(\"innerHTML\",core.nc(11,9,\"lang.infoImportusers2\"),core.Ic)}}function UsersImportComponent_button_33_Template(rf,ctx){if(1&rf){const _r39=core.ac();core.Zb(0,\"button\",48),core.hc(\"click\",(function(){return core.Hc(_r39),core.lc().onSubmit()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.sc(\"disabled\",ctx_r3.loading),core.Eb(1),core.Tc(core.nc(2,2,\"lang.validate\"))}}let users_import_component_UsersImportComponent=(()=>{class UsersImportComponent{constructor(translate,http,notify,functionsService,localStorage,headerService,dialog,dialogRef,data){this.translate=translate,this.http=http,this.notify=notify,this.functionsService=functionsService,this.localStorage=localStorage,this.headerService=headerService,this.dialog=dialog,this.dialogRef=dialogRef,this.data=data,this.loading=!1,this.userColmuns=[\"id\",\"user_id\",\"firstname\",\"lastname\",\"mail\",\"phone\"],this.csvColumns=[],this.delimiters=[\";\",\",\",\"\\t\"],this.currentDelimiter=\";\",this.associatedColmuns={},this.dataSource=new table.o(null),this.hasHeader=!0,this.csvData=[],this.userData=[],this.countAll=0,this.countAdd=0,this.countUp=0}ngOnInit(){this.setConfiguration()}changeColumn(coldb,colCsv){this.userData=[];for(let index=this.hasHeader?1:0;index<this.csvData.length;index++){const data=this.csvData[index];this.userData.push({id:\"id\"===coldb?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns.id],user_id:\"user_id\"===coldb?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns.user_id],firstname:\"firstname\"===coldb?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns.firstname],lastname:\"lastname\"===coldb?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns.lastname],mail:\"mail\"===coldb?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns.mail],phone:\"phone\"===coldb?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns.phone]})}this.countAdd=this.csvData.filter((data,index)=>index>0&&this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>index>0&&!this.functionsService.empty(data[this.associatedColmuns.id])).length,setTimeout(()=>{this.dataSource=new table.o(this.userData),this.dataSource.paginator=this.paginator},0)}uploadCsv(fileInput){if(fileInput.target.files&&fileInput.target.files[0]&&(\"text/csv\"===fileInput.target.files[0].type||\"application/vnd.ms-excel\"===fileInput.target.files[0].type)){this.loading=!0;let rawCsv=[];const reader=new FileReader;reader.readAsText(fileInput.target.files[0],\"ISO-8859-1\"),reader.onload=value=>{if(rawCsv=value.target.result.split(\"\\n\"),rawCsv=rawCsv.filter(data=>\"\"!==data),rawCsv[0].split(this.currentDelimiter).map(s=>s.replace(/\"/gi,\"\").trim()).length>=this.userColmuns.length-1){let dataCol=[],objData={};this.setCsvColumns(rawCsv[0].split(this.currentDelimiter).map(s=>s.replace(/\"/gi,\"\").trim())),this.countAll=this.hasHeader?rawCsv.length-1:rawCsv.length;for(let index=0;index<rawCsv.length;index++)objData={},dataCol=rawCsv[index].split(this.currentDelimiter).map(s=>s.replace(/\"/gi,\"\").trim()),dataCol.forEach((element,index2)=>{objData[this.csvColumns[index2]]=element}),this.csvData.push(objData);this.initData(),this.countAdd=this.csvData.filter((data,index)=>index>0&&this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>index>0&&!this.functionsService.empty(data[this.associatedColmuns.id])).length,this.localStorage.save(\"importUsersFields_\"+this.headerService.user.id,this.currentDelimiter)}else this.notify.error(this.translate.instant(\"lang.mustAtLeastMinValues\"));this.loading=!1}}else this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.notAllowedExtension\")+\" !\",msg:this.translate.instant(\"lang.file\")+\" : <b>\"+fileInput.target.files[0].name+\"</b>, \"+this.translate.instant(\"lang.type\")+\" : <b>\"+fileInput.target.files[0].type+\"</b><br/><br/><u>\"+this.translate.instant(\"lang.allowedExtensions\")+\"</u> : <br/>text/csv\"}})}setCsvColumns(headerData=null){this.csvColumns=headerData.filter(col=>this.functionsService.empty(col)).length>0?Object.keys(headerData).map((val,index)=>\"\"+index):headerData}toggleHeader(){this.hasHeader=!this.hasHeader,this.countAll=this.hasHeader?this.csvData.length-1:this.csvData.length,this.hasHeader?(this.countAdd=this.csvData.filter((data,index)=>index>0&&this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>index>0&&!this.functionsService.empty(data[this.associatedColmuns.id])).length):(this.countAdd=this.csvData.filter((data,index)=>this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>!this.functionsService.empty(data[this.associatedColmuns.id])).length),this.initData()}initData(){this.userData=[];for(let index=this.hasHeader?1:0;index<this.csvData.length;index++){const data=this.csvData[index];this.associatedColmuns.id=this.csvColumns[0],this.associatedColmuns.user_id=this.csvColumns[1],this.associatedColmuns.firstname=this.csvColumns[2],this.associatedColmuns.lastname=this.csvColumns[3],this.associatedColmuns.mail=this.csvColumns[4],this.associatedColmuns.phone=this.csvColumns[5],this.userData.push({id:data[this.csvColumns[0]],user_id:data[this.csvColumns[1]],firstname:data[this.csvColumns[2]],lastname:data[this.csvColumns[3]],mail:data[this.csvColumns[4]],phone:data[this.csvColumns[5]]})}setTimeout(()=>{this.dataSource=new table.o(this.userData),this.dataSource.paginator=this.paginator},0)}dndUploadFile(event){this.uploadCsv({target:{files:[event[0]]}})}onSubmit(){const dataToSend=[];let confirmText=\"\";this.translate.get(\"lang.confirmImportUsers\",{0:this.countAll}).subscribe(res=>{confirmText=res+\" ?<br/><br/>\",confirmText+=`<ul><li><b>${this.countAdd}</b> ${this.translate.instant(\"lang.additions\")}</li><li><b>${this.countUp}</b> ${this.translate.instant(\"lang.modifications\")}</li></ul>`});let dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.import\"),msg:confirmText}});dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(tap.a)(()=>{this.loading=!0,this.csvData.forEach((element,index)=>{(this.hasHeader&&index>0||!this.hasHeader)&&dataToSend.push({id:element[this.associatedColmuns.id],user_id:element[this.associatedColmuns.user_id],firstname:element[this.associatedColmuns.firstname],lastname:element[this.associatedColmuns.lastname],mail:element[this.associatedColmuns.mail],phone:element[this.associatedColmuns.phone]})})}),Object(exhaustMap.a)(()=>this.http.put(\"../rest/users/import\",{users:dataToSend})),Object(tap.a)(data=>{let textModal=\"\";data.warnings.count>0&&(textModal=`<br/>${data.warnings.count} ${this.translate.instant(\"lang.withWarnings\")}  : <ul>`,data.warnings.details.forEach(element=>{textModal+=`<li> ${this.translate.instant(\"lang.\"+element.lang)} (${this.translate.instant(\"lang.line\")} : ${this.hasHeader?element.index+2:element.index+1})</li>`}),textModal+=\"</ul>\"),data.errors.count>0&&(textModal+=`<br/>${data.errors.count} ${this.translate.instant(\"lang.withErrors\")}  : <ul>`,data.errors.details.forEach(element=>{textModal+=`<li> ${this.translate.instant(\"lang.\"+element.lang)} (${this.translate.instant(\"lang.line\")} : ${this.hasHeader?element.index+2:element.index+1})</li>`}),textModal+=\"</ul>\"),dialogRef=this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.import\"),msg:\"<b>\"+data.success+\"</b> / <b>\"+this.countAll+\"</b> \"+this.translate.instant(\"lang.importedUsers\")+\".\"+textModal}})}),Object(exhaustMap.a)(()=>dialogRef.afterClosed()),Object(tap.a)(()=>{this.dialogRef.close(\"success\")}),Object(catchError.a)(err=>(this.loading=!1,this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}setConfiguration(){null!==this.localStorage.get(\"importUsersFields_\"+this.headerService.user.id)&&(this.currentDelimiter=this.localStorage.get(\"importUsersFields_\"+this.headerService.user.id))}}return UsersImportComponent.ɵfac=function(t){return new(t||UsersImportComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(functions_service.a),core.Tb(local_storage_service.a),core.Tb(header_service.a),core.Tb(fesm2015_dialog.b),core.Tb(fesm2015_dialog.h),core.Tb(fesm2015_dialog.a))},UsersImportComponent.ɵcmp=core.Nb({type:UsersImportComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.ad(fesm2015_paginator.a,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.paginator=_t.first)},decls:37,vars:28,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\"],[1,\"import-tool\"],[2,\"flex\",\"1\"],[\"color\",\"primary\",3,\"checked\",\"change\"],[2,\"flex\",\"1\",\"text-align\",\"center\"],[\"color\",\"primary\",1,\"fa\",\"fa-users\"],[\"color\",\"primary\"],[\"color\",\"primary\",1,\"fa\",\"fa-user-plus\"],[2,\"flex\",\"1\",\"text-align\",\"right\"],[\"color\",\"primary\",1,\"fa\",\"fa-user-edit\"],[4,\"ngIf\",\"ngIfElse\"],[\"elseTemplate\",\"\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"disabled\",\"mat-dialog-close\"],[1,\"loader\"],[\"type\",\"file\",\"name\",\"files[]\",\"id\",\"uploadFile\",\"accept\",\".csv\",2,\"display\",\"none\",3,\"change\"],[\"uploadFile\",\"\"],[\"appUploadFileDragDrop\",\"\",\"class\",\"dndFile\",3,\"click\",\"onFileDropped\",4,\"ngIf\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-12\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[3,\"dataSource\",4,\"ngIf\"],[1,\"alert-message\",\"alert-message-info\",2,\"min-width\",\"100%\",3,\"innerHTML\"],[\"appUploadFileDragDrop\",\"\",1,\"dndFile\",3,\"click\",\"onFileDropped\"],[\"appearance\",\"outline\",2,\"font-size\",\"14px\",3,\"click\"],[3,\"ngModel\",\"ngModelChange\",\"click\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[3,\"dataSource\"],[\"table\",\"\"],[4,\"ngFor\",\"ngForOf\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[3,\"matColumnDef\"],[4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"color\",\"primary\",1,\"fas\",\"fa-database\",3,\"title\"],[\"color\",\"primary\",3,\"title\"],[1,\"fas\",\"fa-arrows-alt-h\"],[1,\"fas\",\"fa-file-csv\",3,\"title\"],[2,\"width\",\"80px !important\",3,\"title\",\"click\"],[3,\"ngModel\",\"ngModelChange\",\"selectionChange\"],[\"value\",\"\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",2),core.Zb(5,\"mat-toolbar\",3),core.Zb(6,\"span\",4),core.Zb(7,\"mat-slide-toggle\",5),core.hc(\"change\",(function(){return ctx.toggleHeader()})),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Zb(10,\"span\",6),core.Ub(11,\"i\",7),core.Sc(12),core.mc(13,\"translate\"),core.Zb(14,\"b\",8),core.Sc(15),core.Yb(),core.Yb(),core.Zb(16,\"span\",6),core.Ub(17,\"i\",9),core.Sc(18),core.mc(19,\"translate\"),core.Zb(20,\"b\",8),core.Sc(21),core.Yb(),core.Yb(),core.Zb(22,\"span\",10),core.Ub(23,\"i\",11),core.Sc(24),core.mc(25,\"translate\"),core.Zb(26,\"b\",8),core.Sc(27),core.Yb(),core.Yb(),core.Yb(),core.Qc(28,UsersImportComponent_ng_container_28_Template,3,0,\"ng-container\",12),core.Qc(29,UsersImportComponent_ng_template_29_Template,12,11,\"ng-template\",null,13,core.Rc),core.Yb(),core.Ub(31,\"span\",14),core.Zb(32,\"div\",15),core.Qc(33,UsersImportComponent_button_33_Template,3,4,\"button\",16),core.Zb(34,\"button\",17),core.Sc(35),core.mc(36,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r1=core.Dc(30);core.Eb(2),core.Tc(core.nc(3,16,\"lang.usersImport\")),core.Eb(3),core.Jb(\"hide\",0===ctx.csvData.length||ctx.loading),core.Eb(2),core.sc(\"checked\",ctx.hasHeader),core.Eb(1),core.Tc(core.nc(9,18,\"lang.csvHeader\")),core.Eb(4),core.Uc(\" \",core.nc(13,20,\"lang.usersOfFile\"),\" : \"),core.Eb(3),core.Tc(ctx.countAll),core.Eb(3),core.Uc(\" \",core.nc(19,22,\"lang.additions\"),\" : \"),core.Eb(3),core.Tc(ctx.countAdd),core.Eb(3),core.Uc(\" \",core.nc(25,24,\"lang.modifications\"),\" : \"),core.Eb(3),core.Tc(ctx.countUp),core.Eb(1),core.sc(\"ngIf\",ctx.loading)(\"ngIfElse\",_r1),core.Eb(5),core.sc(\"ngIf\",ctx.csvData.length>0),core.Eb(1),core.sc(\"disabled\",ctx.loading),core.Eb(1),core.Tc(core.nc(36,26,\"lang.cancel\"))}},directives:[fesm2015_dialog.i,fesm2015_dialog.f,toolbar.a,slide_toggle.a,common.t,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,progress_spinner.c,fesm2015_paginator.a,upload_file_dnd_directive.a,form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_core.o,table.n,table.k,table.m,table.c,table.i,table.b,table.h,table.a,table.j,table.l],pipes:[ngx_translate_core.d],styles:[\".loader[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.hide[_ngcontent-%COMP%]{display:none}.import-tool[_ngcontent-%COMP%]{font-size:14px}.dndFile[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;margin:0;justify-content:center;font-size:30px;opacity:.5!important;cursor:pointer}\"]}),UsersImportComponent})();var tslib_es6=__webpack_require__(\"mrSG\"),finalize=__webpack_require__(\"nYR2\");const users_export_component_c0=[\"listFilter\"];function UsersExportComponent_div_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",13),core.Ub(1,\"mat-spinner\"),core.Yb())}function UsersExportComponent_mat_option_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",14),core.Sc(1),core.Yb()),2&rf){const format_r3=ctx.$implicit;core.sc(\"value\",format_r3),core.Eb(1),core.Uc(\" \",format_r3,\" \")}}function UsersExportComponent_div_15_mat_option_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",14),core.Sc(1),core.Yb()),2&rf){const delimiter_r5=ctx.$implicit;core.sc(\"value\",delimiter_r5),core.Eb(1),core.Uc(\" \",delimiter_r5,\" \")}}function UsersExportComponent_div_15_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"div\",15),core.Zb(1,\"mat-form-field\",5),core.Zb(2,\"mat-label\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"mat-select\",16),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r7),core.lc().exportModel.delimiter=$event})),core.mc(6,\"translate\"),core.Qc(7,UsersExportComponent_div_15_mat_option_7_Template,2,2,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Eb(3),core.Tc(core.nc(4,5,\"lang.delimiter\")),core.Eb(2),core.tc(\"placeholder\",core.nc(6,7,\"lang.delimiter\")),core.sc(\"ngModel\",ctx_r2.exportModel.delimiter)(\"disabled\",\"csv\"!=ctx_r2.exportModel.format),core.Eb(2),core.sc(\"ngForOf\",ctx_r2.delimiters)}}let users_export_component_UsersExportComponent=(()=>{class UsersExportComponent{constructor(translate,http,notify,data,localStorage,headerService){this.translate=translate,this.http=http,this.notify=notify,this.data=data,this.localStorage=localStorage,this.headerService=headerService,this.loading=!1,this.loadingExport=!1,this.delimiters=[\";\",\",\",\"TAB\"],this.formats=[\"csv\"],this.exportModel={delimiter:\";\",format:\"csv\"}}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.setConfiguration()}))}exportData(){this.localStorage.save(\"exportUsersFields_\"+this.headerService.user.id,JSON.stringify(this.exportModel)),this.loadingExport=!0,this.http.put(\"../rest/users/export\",this.exportModel,{responseType:\"blob\"}).pipe(Object(tap.a)(data=>{if(\"text/html\"!==data.type){const downloadLink=document.createElement(\"a\");let today,dd,mm,yyyy;downloadLink.href=window.URL.createObjectURL(data),today=new Date,dd=today.getDate(),mm=today.getMonth()+1,yyyy=today.getFullYear(),dd<10&&(dd=\"0\"+dd),mm<10&&(mm=\"0\"+mm),today=dd+\"-\"+mm+\"-\"+yyyy,downloadLink.setAttribute(\"download\",\"export_users_maarch_\"+today+\".\"+this.exportModel.format.toLowerCase()),document.body.appendChild(downloadLink),downloadLink.click()}else alert(this.translate.instant(\"lang.tooMuchDatas\"))}),Object(finalize.a)(()=>this.loadingExport=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}setConfiguration(){null!==this.localStorage.get(\"exportUsersFields_\"+this.headerService.user.id)&&(this.exportModel.delimiter=JSON.parse(this.localStorage.get(\"exportUsersFields_\"+this.headerService.user.id)).delimiter)}}return UsersExportComponent.ɵfac=function(t){return new(t||UsersExportComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.a),core.Tb(local_storage_service.a),core.Tb(header_service.a))},UsersExportComponent.ɵcmp=core.Nb({type:UsersExportComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(users_export_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.listFilter=_t.first)},decls:24,vars:23,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\"],[\"class\",\"loader\",4,\"ngIf\"],[1,\"row\"],[\"appearance\",\"outline\"],[3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"col-md-9\",4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"click\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"mat-dialog-close\"],[1,\"loader\"],[3,\"value\"],[1,\"col-md-9\"],[3,\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",2),core.Qc(5,UsersExportComponent_div_5_Template,2,0,\"div\",3),core.Zb(6,\"div\",4),core.Zb(7,\"div\"),core.Zb(8,\"mat-form-field\",5),core.Zb(9,\"mat-label\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Zb(12,\"mat-select\",6),core.hc(\"ngModelChange\",(function($event){return ctx.exportModel.format=$event})),core.mc(13,\"translate\"),core.Qc(14,UsersExportComponent_mat_option_14_Template,2,2,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb(),core.Qc(15,UsersExportComponent_div_15_Template,8,9,\"div\",8),core.Yb(),core.Yb(),core.Ub(16,\"span\",9),core.Zb(17,\"div\",10),core.Zb(18,\"button\",11),core.hc(\"click\",(function(){return ctx.exportData()})),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"button\",12),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,13,\"lang.exportDatas\")),core.Eb(3),core.sc(\"ngIf\",ctx.loadingExport),core.Eb(2),core.Jb(\"col-md-12\",\"csv\"!=ctx.exportModel.format)(\"col-md-3\",\"csv\"==ctx.exportModel.format),core.Eb(3),core.Tc(core.nc(11,15,\"lang.format\")),core.Eb(2),core.tc(\"placeholder\",core.nc(13,17,\"lang.format\")),core.sc(\"ngModel\",ctx.exportModel.format),core.Eb(2),core.sc(\"ngForOf\",ctx.formats),core.Eb(1),core.sc(\"ngIf\",\"csv\"==ctx.exportModel.format),core.Eb(4),core.Tc(core.nc(20,19,\"lang.toExport\")),core.Eb(3),core.Tc(core.nc(23,21,\"lang.cancel\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,common.t,form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,progress_spinner.c,fesm2015_core.o],pipes:[ngx_translate_core.d],styles:[\".mat-dialog-container{position:relative}.mat-dialog-content[_ngcontent-%COMP%]{min-height:150px;padding-bottom:10px;overflow-x:hidden}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}\"]}),UsersExportComponent})();var operators_tap=__webpack_require__(\"pWCv\"),merge=__webpack_require__(\"6eB1\"),operators_startWith=__webpack_require__(\"RmLz\");let administration_service_AdministrationService=(()=>{class AdministrationService{constructor(notify,headerService,functionsService,localStorage){this.notify=notify,this.headerService=headerService,this.functionsService=functionsService,this.localStorage=localStorage,this.filters={},this.defaultFilters={admin_users:{sort:\"user_id\",sortDirection:\"asc\",page:0,field:\"\"},admin_actions:{sort:\"id\",sortDirection:\"asc\",page:0,field:\"\"},admin_baskets:{sort:\"basket_id\",sortDirection:\"asc\",page:0,field:\"\"},admin_contacts_groups:{sort:\"label\",sortDirection:\"asc\",page:0,field:\"\"},admin_listmodels:{sort:\"title\",sortDirection:\"asc\",page:0,field:\"\"},admin_groups:{sort:\"group_desc\",sortDirection:\"asc\",page:0,field:\"\"},admin_indexing_models:{sort:\"label\",sortDirection:\"asc\",page:0,field:\"\"},admin_notif:{sort:\"notification_id\",sortDirection:\"asc\",page:0,field:\"\"},admin_parameters:{sort:\"id\",sortDirection:\"asc\",page:0,field:\"\"},admin_priorities:{sort:\"label\",sortDirection:\"asc\",page:0,field:\"\"},admin_shippings:{sort:\"label\",sortDirection:\"asc\",page:0,field:\"\"},admin_status:{sort:\"label_status\",sortDirection:\"asc\",page:0,field:\"\"},admin_tag:{sort:\"label\",sortDirection:\"asc\",page:0,field:\"\"},admin_templates:{sort:\"template_label\",sortDirection:\"asc\",page:0,field:\"\"},admin_alfresco:{sort:\"label\",sortDirection:\"asc\",page:0,field:\"\"},admin_contacts_list:{sort:\"lastname\",sortDirection:\"asc\",page:0,field:\"\"},admin_regitered_mail_issuing_site:{sort:\"accountNumber\",sortDirection:\"asc\",page:0,field:\"\"},admin_regitered_mail:{sort:\"rangeNumber\",sortDirection:\"asc\",page:0,field:\"\"}},this.searchTerm=new fesm2015_forms.h(\"\"),this.currentAdminId=\"\",null!==this.localStorage.get(\"filtersAdmin_\"+this.headerService.user.id)&&(this.filters=JSON.parse(this.localStorage.get(\"filtersAdmin_\"+this.headerService.user.id)))}setAdminId(adminId){this.currentAdminId=adminId}setDataSource(adminId,data,sort,paginator,filterColumns){this.currentAdminId=adminId,this.searchTerm=new fesm2015_forms.h(\"\"),this.searchTerm.valueChanges.pipe(Object(operators_tap.tap)(filterValue=>{this.setFilter(\"field\",filterValue),this.saveFilter(this.filters[this.currentAdminId]),filterValue=(filterValue=filterValue.trim()).toLowerCase(),setTimeout(()=>{this.dataSource.filter=filterValue},0),this.dataSource.filterPredicate=(template,filter)=>this.functionsService.filterUnSensitive(template,filter,this.filterColumns)})).subscribe(),this.filterColumns=filterColumns,this.dataSource=new table.o(data),this.dataSource.paginator=paginator,this.dataSource.sortingDataAccessor=this.functionsService.listSortingDataAccessor,this.functionsService.empty(this.getFilter())&&this.saveDefaultFilter(),paginator.pageIndex=this.getFilter(\"page\"),this.dataSource.sort=sort;const element=document.getElementsByClassName(\"mat-column-\"+this.getFilter(\"sort\"))[0];element.click(),\"desc\"===this.getFilter(\"sortDirection\")&&element.click(),this.searchTerm.setValue(this.getFilter(\"field\")),Object(merge.merge)(sort.sortChange,paginator.page).pipe(Object(operators_startWith.startWith)({}),Object(operators_tap.tap)(()=>{this.saveFilter({sort:sort.active,sortDirection:sort.direction,page:paginator.pageIndex,field:this.getFilter(\"field\")})}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}saveDefaultFilter(){this.saveFilter(this.defaultFilters[this.currentAdminId])}setFilter(idFilter,value){this.filters[this.currentAdminId][idFilter]=value}saveFilter(filter){this.filters[this.currentAdminId]=filter,this.localStorage.save(\"filtersAdmin_\"+this.headerService.user.id,JSON.stringify(this.filters))}getFilterField(){return this.searchTerm}getDataSource(){return this.dataSource}getFilter(idFilter=null){return this.functionsService.empty(this.filters[this.currentAdminId])?null:this.functionsService.empty(idFilter)?this.functionsService.empty(this.filters[this.currentAdminId])?\"\":this.filters[this.currentAdminId]:this.functionsService.empty(this.filters[this.currentAdminId][idFilter])?\"\":this.filters[this.currentAdminId][idFilter]}}return AdministrationService.ɵfac=function(t){return new(t||AdministrationService)(core.dc(notification_service.a),core.dc(header_service.a),core.dc(functions_service.a),core.dc(local_storage_service.a))},AdministrationService.ɵprov=core.Pb({token:AdministrationService,factory:AdministrationService.ɵfac}),AdministrationService})();var list=__webpack_require__(\"MutI\"),icon=__webpack_require__(\"NFeN\"),button_toggle=__webpack_require__(\"jaxi\"),tooltip=__webpack_require__(\"Qu3c\"),autocomplete_component=__webpack_require__(\"63qU\");const users_administration_component_c0=[\"adminMenuTemplate\"];function UsersAdministrationComponent_ng_template_1_mat_divider_20_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-divider\")}function UsersAdministrationComponent_ng_template_1_mat_nav_list_21_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"p\",19),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Zb(7,\"p\",19),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Zb(10,\"p\",19),core.Sc(11),core.mc(12,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r5=core.lc(2);core.Eb(2),core.Tc(core.nc(3,7,\"lang.quota\")),core.Eb(3),core.Vc(\"\",core.nc(6,9,\"lang.actives\"),\" : \",ctx_r5.quota.actives,\"\"),core.Eb(3),core.Vc(\"\",core.nc(9,11,\"lang.inactives\"),\" : \",ctx_r5.quota.inactives,\"\"),core.Eb(3),core.Vc(\"\",core.nc(12,13,\"lang.quota\"),\" : \",ctx_r5.quota.userQuota,\"\")}}function UsersAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Zb(9,\"a\",15),core.hc(\"click\",(function(){return core.Hc(_r7),core.lc().openUsersExportModal()})),core.Ub(10,\"mat-icon\",16),core.Zb(11,\"p\",14),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Zb(14,\"a\",15),core.hc(\"click\",(function(){return core.Hc(_r7),core.lc().openUsersImportModal()})),core.Ub(15,\"mat-icon\",17),core.Zb(16,\"p\",14),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(19,\"mat-divider\"),core.Qc(20,UsersAdministrationComponent_ng_template_1_mat_divider_20_Template,1,0,\"mat-divider\",18),core.Qc(21,UsersAdministrationComponent_ng_template_1_mat_nav_list_21_Template,13,15,\"mat-nav-list\",18)}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,6,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,8,\"lang.add\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(13,10,\"lang.usersExport\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(18,12,\"lang.usersImport\"),\" \"),core.Eb(3),core.sc(\"ngIf\",ctx_r1.quota.userQuota),core.Eb(1),core.sc(\"ngIf\",ctx_r1.quota.userQuota)}}function UsersAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",20),core.Ub(1,\"mat-spinner\",21),core.Yb())}function UsersAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r11=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r11.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.technicalId\"),\" \")}}function UsersAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r27=ctx.$implicit,ctx_r12=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r12.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r27.id,\" \")}}function UsersAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r13=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r13.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.id\"))}}function UsersAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r28=ctx.$implicit,ctx_r14=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r14.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r28.user_id,\" \")}}function UsersAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.lastname\")))}function UsersAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r29=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r29.lastname,\" \")}}function UsersAdministrationComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.firstname\")))}function UsersAdministrationComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r30=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r30.firstname,\" \")}}function UsersAdministrationComponent_mat_card_14_mat_header_cell_27_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.status\")))}const users_administration_component_c1=function(){return[\"SPD\",\"ABS\"]},users_administration_component_c2=function(a0,a1){return{statusUserLabelWarn:a0,statusUserLabelPrimary:a1}};function UsersAdministrationComponent_mat_card_14_mat_cell_28_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Zb(1,\"span\",49),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf){const element_r31=ctx.$implicit;core.Eb(1),core.sc(\"ngClass\",core.Ac(6,users_administration_component_c2,core.yc(4,users_administration_component_c1).indexOf(element_r31.status)>-1,-1==core.yc(5,users_administration_component_c1).indexOf(element_r31.status))),core.Eb(1),core.Tc(core.nc(3,2,\"lang.user\"+element_r31.status))}}function UsersAdministrationComponent_mat_card_14_mat_header_cell_30_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r21=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r21.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.email\"))}}function UsersAdministrationComponent_mat_card_14_mat_cell_31_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r32=ctx.$implicit,ctx_r22=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r22.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r32.mail,\" \")}}function UsersAdministrationComponent_mat_card_14_mat_header_cell_33_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}const _c3=function(){return[\"root_visible\",\"root_invisible\"]};function UsersAdministrationComponent_mat_card_14_mat_cell_34_button_1_Template(rf,ctx){if(1&rf){const _r37=core.ac();core.Zb(0,\"button\",55),core.hc(\"click\",(function($event){core.Hc(_r37);const element_r33=core.lc().$implicit,ctx_r36=core.lc(2);return $event.stopPropagation(),ctx_r36.deleteUser(element_r33,\"suspend\")})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",56),core.Yb()}if(2&rf){const element_r33=core.lc().$implicit,ctx_r34=core.lc(2);core.tc(\"matTooltip\",core.nc(1,2,\"lang.suspend\")),core.sc(\"disabled\",element_r33.id===ctx_r34.user.id||core.yc(4,_c3).indexOf(element_r33.mode)>-1&&\"standard\"===ctx_r34.headerService.user.mode)}}function UsersAdministrationComponent_mat_card_14_mat_cell_34_button_2_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"button\",57),core.hc(\"click\",(function($event){core.Hc(_r41);const element_r33=core.lc().$implicit,ctx_r40=core.lc(2);return $event.stopPropagation(),ctx_r40.activateUser(element_r33)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",58),core.Yb()}if(2&rf){const element_r33=core.lc().$implicit,ctx_r35=core.lc(2);core.tc(\"matTooltip\",core.nc(1,2,\"lang.authorize\")),core.sc(\"disabled\",core.yc(4,_c3).indexOf(element_r33.mode)>-1&&\"standard\"===ctx_r35.headerService.user.mode)}}function UsersAdministrationComponent_mat_card_14_mat_cell_34_Template(rf,ctx){if(1&rf){const _r45=core.ac();core.Zb(0,\"mat-cell\",50),core.Qc(1,UsersAdministrationComponent_mat_card_14_mat_cell_34_button_1_Template,3,5,\"button\",51),core.Qc(2,UsersAdministrationComponent_mat_card_14_mat_cell_34_button_2_Template,3,5,\"button\",52),core.Zb(3,\"button\",53),core.hc(\"click\",(function($event){core.Hc(_r45);const element_r33=ctx.$implicit,ctx_r44=core.lc(2);return $event.stopPropagation(),ctx_r44.deleteUser(element_r33,\"delete\")})),core.mc(4,\"translate\"),core.Ub(5,\"mat-icon\",54),core.Yb(),core.Yb()}if(2&rf){const element_r33=ctx.$implicit,ctx_r24=core.lc(2);core.Eb(1),core.sc(\"ngIf\",\"SPD\"!=element_r33.status),core.Eb(1),core.sc(\"ngIf\",\"SPD\"==element_r33.status),core.Eb(1),core.tc(\"matTooltip\",core.nc(4,4,\"lang.delete\")),core.sc(\"disabled\",element_r33.id===ctx_r24.user.id||core.yc(6,_c3).indexOf(element_r33.mode)>-1)}}function UsersAdministrationComponent_mat_card_14_mat_header_row_35_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function UsersAdministrationComponent_mat_card_14_mat_row_36_Template(rf,ctx){if(1&rf&&(core.Ub(0,\"mat-row\",59),core.mc(1,\"translate\")),2&rf){const row_r46=ctx.$implicit;core.Jb(\"admin\",core.yc(6,_c3).indexOf(row_r46.mode)>-1),core.uc(\"routerLink\",\"/administration/users/\",row_r46.id,\"\"),core.tc(\"matTooltip\",core.nc(1,4,\"lang.view\"))}}function UsersAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r48=core.ac();core.Zb(0,\"mat-card\",22),core.Zb(1,\"div\",23),core.Zb(2,\"div\",24),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",25),core.mc(5,\"translate\"),core.Zb(6,\"mat-button-toggle\",26),core.hc(\"click\",(function($event){core.Hc(_r48);const ctx_r47=core.lc();return $event.stopPropagation(),ctx_r47.toggleWebserviceAccount()})),core.mc(7,\"translate\"),core.Ub(8,\"mat-icon\",27),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"div\",24),core.Ub(10,\"mat-paginator\",28,29),core.Yb(),core.Yb(),core.Zb(12,\"mat-table\",30,31),core.Xb(14,32),core.Qc(15,UsersAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,5,\"mat-header-cell\",33),core.Qc(16,UsersAdministrationComponent_mat_card_14_mat_cell_16_Template,2,3,\"mat-cell\",34),core.Wb(),core.Xb(17,35),core.Qc(18,UsersAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",33),core.Qc(19,UsersAdministrationComponent_mat_card_14_mat_cell_19_Template,2,3,\"mat-cell\",34),core.Wb(),core.Xb(20,36),core.Qc(21,UsersAdministrationComponent_mat_card_14_mat_header_cell_21_Template,3,3,\"mat-header-cell\",37),core.Qc(22,UsersAdministrationComponent_mat_card_14_mat_cell_22_Template,2,1,\"mat-cell\",38),core.Wb(),core.Xb(23,39),core.Qc(24,UsersAdministrationComponent_mat_card_14_mat_header_cell_24_Template,3,3,\"mat-header-cell\",37),core.Qc(25,UsersAdministrationComponent_mat_card_14_mat_cell_25_Template,2,1,\"mat-cell\",38),core.Wb(),core.Xb(26,40),core.Qc(27,UsersAdministrationComponent_mat_card_14_mat_header_cell_27_Template,3,3,\"mat-header-cell\",37),core.Qc(28,UsersAdministrationComponent_mat_card_14_mat_cell_28_Template,4,9,\"mat-cell\",38),core.Wb(),core.Xb(29,41),core.Qc(30,UsersAdministrationComponent_mat_card_14_mat_header_cell_30_Template,3,5,\"mat-header-cell\",33),core.Qc(31,UsersAdministrationComponent_mat_card_14_mat_cell_31_Template,2,3,\"mat-cell\",34),core.Wb(),core.Xb(32,42),core.Qc(33,UsersAdministrationComponent_mat_card_14_mat_header_cell_33_Template,1,0,\"mat-header-cell\",43),core.Qc(34,UsersAdministrationComponent_mat_card_14_mat_cell_34_Template,6,7,\"mat-cell\",44),core.Wb(),core.Qc(35,UsersAdministrationComponent_mat_card_14_mat_header_row_35_Template,1,0,\"mat-header-row\",45),core.Qc(36,UsersAdministrationComponent_mat_card_14_mat_row_36_Template,2,7,\"mat-row\",46),core.Yb(),core.Zb(37,\"div\",47),core.Sc(38),core.mc(39,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,12,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(2),core.tc(\"title\",core.nc(7,14,\"lang.displayWebserviceAccount\")),core.sc(\"checked\",ctx_r3.withWebserviceAccount),core.Eb(4),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(23),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.data.length,\" \",core.nc(39,16,\"lang.usersAlt\"),\"\")}}const _c4=function(){return[\"/rest/autocomplete/users\"]};function UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_1_div_10_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"div\",10),core.Zb(1,\"plugin-autocomplete\",11),core.hc(\"triggerEvent\",(function($event){core.Hc(_r12);const i_r10=ctx.index;return core.lc(3).setRedirectUserListModels(i_r10,$event)})),core.Yb(),core.Yb()}if(2&rf){const redirectModel_r9=ctx.$implicit,ctx_r8=core.lc(3);core.tc(\"id\",redirectModel_r9.object_id),core.Eb(1),core.sc(\"labelPlaceholder\",ctx_r8.translate.instant(\"lang.newDest\")+\" : \"+redirectModel_r9.title)(\"labelList\",ctx_r8.translate.instant(\"lang.availableUsers\"))(\"routeDatas\",core.yc(6,_c4))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\")}}function UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"h2\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",7),core.Zb(5,\"b\"),core.Sc(6),core.Yb(),core.Sc(7,\" \"),core.Ub(8,\"span\",8),core.Sc(9,\" : \"),core.Yb(),core.Qc(10,UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_1_div_10_Template,2,7,\"div\",9),core.Wb()),2&rf){const ctx_r5=core.lc(2);core.Eb(2),core.Tc(core.nc(3,5,\"lang.redirectUserListDiff\")),core.Eb(4),core.Vc(\"\",ctx_r5.data.userDestRedirect.firstname,\" \",ctx_r5.data.userDestRedirect.lastname,\"\"),core.Eb(2),core.sc(\"innerHTML\",ctx_r5.translate.instant(\"lang.chooseNewDest\"),core.Ic),core.Eb(2),core.sc(\"ngForOf\",ctx_r5.data.redirectListModels)}}function UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_2_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Xb(0),core.Zb(1,\"h2\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",7),core.Zb(5,\"b\"),core.Sc(6),core.Yb(),core.Sc(7,\" \"),core.Ub(8,\"span\",8),core.Sc(9,\" : \"),core.Yb(),core.Zb(10,\"div\",10),core.Zb(11,\"plugin-autocomplete\",11),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r14),core.lc(2).setRedirectUserRes($event)})),core.Yb(),core.Yb(),core.Wb()}if(2&rf){const ctx_r6=core.lc(2);core.Eb(2),core.Tc(core.nc(3,10,\"lang.redirectUserListInstances\")),core.Eb(4),core.Vc(\"\",ctx_r6.data.userDestRedirect.firstname,\" \",ctx_r6.data.userDestRedirect.lastname,\"\"),core.Eb(2),core.sc(\"innerHTML\",ctx_r6.translate.instant(\"lang.chooseNewDestUser\"),core.Ic),core.Eb(2),core.tc(\"id\",ctx_r6.data.userDestRedirect.user_id),core.Eb(1),core.sc(\"labelPlaceholder\",ctx_r6.translate.instant(\"lang.newDestRes\"))(\"labelList\",ctx_r6.translate.instant(\"lang.availableUsers\"))(\"routeDatas\",core.yc(12,_c4))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\")}}function UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_3_b_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"b\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r15=core.lc(3);core.Eb(1),core.Wc(\"\",core.nc(2,3,\"lang.delete\"),\" \",ctx_r15.data.userDestRedirect.firstname,\" \",ctx_r15.data.userDestRedirect.lastname,\"\")}}function UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_3_b_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"b\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r16=core.lc(3);core.Eb(1),core.Wc(\"\",core.nc(2,3,\"lang.suspend\"),\" \",ctx_r16.data.userDestRedirect.firstname,\" \",ctx_r16.data.userDestRedirect.lastname,\"\")}}function UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_3_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"div\",12),core.Qc(2,UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_3_b_2_Template,3,5,\"b\",2),core.Sc(3,\"  \"),core.Qc(4,UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_3_b_4_Template,3,5,\"b\",2),core.Sc(5,\"  \"),core.Yb(),core.Wb()),2&rf){const ctx_r7=core.lc(2);core.Eb(2),core.sc(\"ngIf\",\"delete\"==ctx_r7.data.userDestRedirect.actionMode),core.Eb(2),core.sc(\"ngIf\",\"suspend\"==ctx_r7.data.userDestRedirect.actionMode)}}function UsersAdministrationRedirectModalComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_1_Template,11,7,\"ng-container\",2),core.Qc(2,UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_2_Template,12,13,\"ng-container\",2),core.Qc(3,UsersAdministrationRedirectModalComponent_ng_container_4_ng_container_3_Template,6,2,\"ng-container\",2),core.Wb()),2&rf){const ctx_r0=core.lc();core.Eb(1),core.sc(\"ngIf\",ctx_r0.data.inDiffListDest),core.Eb(1),core.sc(\"ngIf\",ctx_r0.data.isResDestUser),core.Eb(1),core.sc(\"ngIf\",!ctx_r0.data.inDiffListDest&&!ctx_r0.data.isResDestUser)}}function UsersAdministrationRedirectModalComponent_ng_container_5_div_9_mat_list_item_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Zb(1,\"mat-icon\",17),core.Ub(2,\"i\",18),core.Yb(),core.Zb(3,\"p\",15),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb(),core.Yb()),2&rf){const templateEntity_r20=ctx.$implicit;core.Eb(5),core.Uc(\" \",templateEntity_r20,\" \")}}function UsersAdministrationRedirectModalComponent_ng_container_5_div_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",14),core.Zb(1,\"mat-list\"),core.Zb(2,\"p\",15),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Qc(5,UsersAdministrationRedirectModalComponent_ng_container_5_div_9_mat_list_item_5_Template,6,1,\"mat-list-item\",16),core.Yb(),core.Yb()),2&rf){const ctx_r17=core.lc(2);core.Eb(3),core.Tc(core.nc(4,2,\"lang.diffusionList\")),core.Eb(2),core.sc(\"ngForOf\",ctx_r17.data.listTemplateEntities)}}function UsersAdministrationRedirectModalComponent_ng_container_5_div_10_mat_list_item_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Zb(1,\"mat-icon\",17),core.Ub(2,\"i\",19),core.Yb(),core.Zb(3,\"p\",15),core.Zb(4,\"span\"),core.Sc(5),core.Yb(),core.Yb(),core.Yb()),2&rf){const instanceEntity_r22=ctx.$implicit;core.Eb(5),core.Uc(\" \",instanceEntity_r22,\" \")}}function UsersAdministrationRedirectModalComponent_ng_container_5_div_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",14),core.Zb(1,\"mat-list\"),core.Zb(2,\"p\",15),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Qc(5,UsersAdministrationRedirectModalComponent_ng_container_5_div_10_mat_list_item_5_Template,6,1,\"mat-list-item\",16),core.Yb(),core.Yb()),2&rf){const ctx_r18=core.lc(2);core.Eb(3),core.Tc(core.nc(4,2,\"lang.mailEntitiesList\")),core.Eb(2),core.sc(\"ngForOf\",ctx_r18.data.listInstanceEntities)}}function UsersAdministrationRedirectModalComponent_ng_container_5_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"div\",7),core.Zb(2,\"p\"),core.Ub(3,\"span\",8),core.Zb(4,\"b\"),core.Sc(5),core.Yb(),core.Sc(6,\" \"),core.Yb(),core.Zb(7,\"p\"),core.Ub(8,\"span\",8),core.Yb(),core.Yb(),core.Qc(9,UsersAdministrationRedirectModalComponent_ng_container_5_div_9_Template,6,4,\"div\",13),core.Qc(10,UsersAdministrationRedirectModalComponent_ng_container_5_div_10_Template,6,4,\"div\",13),core.Wb()),2&rf){const ctx_r1=core.lc();core.Eb(3),core.sc(\"innerHTML\",ctx_r1.translate.instant(\"lang.userIsNotDeletable\"),core.Ic),core.Eb(2),core.Vc(\"\",ctx_r1.data.userDestRedirect.firstname,\" \",ctx_r1.data.userDestRedirect.lastname,\"\"),core.Eb(3),core.sc(\"innerHTML\",ctx_r1.translate.instant(\"lang.userIsDeletableBy\"),core.Ic),core.Eb(1),core.sc(\"ngIf\",ctx_r1.data.inTemplateList),core.Eb(1),core.sc(\"ngIf\",ctx_r1.data.inInstanceList)}}function UsersAdministrationRedirectModalComponent_button_8_Template(rf,ctx){if(1&rf){const _r24=core.ac();core.Zb(0,\"button\",20),core.hc(\"click\",(function(){core.Hc(_r24);const ctx_r23=core.lc();return ctx_r23.dialogRef.close(ctx_r23.data)})),core.Sc(1),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.sc(\"disabled\",!ctx_r2.sendFunction()),core.Eb(1),core.Vc(\"\",core.nc(2,3,\"lang.delete\"),\" \",core.nc(3,5,\"lang.user\"),\"\")}}function UsersAdministrationRedirectModalComponent_button_9_Template(rf,ctx){if(1&rf){const _r26=core.ac();core.Zb(0,\"button\",21),core.hc(\"click\",(function(){core.Hc(_r26);const ctx_r25=core.lc();return ctx_r25.dialogRef.close(ctx_r25.data)})),core.Sc(1),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.sc(\"disabled\",!ctx_r3.sendFunction()),core.Eb(1),core.Vc(\"\",core.nc(2,3,\"lang.suspend\"),\" \",core.nc(3,5,\"lang.user\"),\"\")}}function UsersAdministrationRedirectModalComponent_button_10_Template(rf,ctx){if(1&rf){const _r28=core.ac();core.Zb(0,\"button\",22),core.hc(\"click\",(function(){return core.Hc(_r28),core.lc().dialogRef.close()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.close\")))}let users_administration_component_UsersAdministrationComponent=(()=>{class UsersAdministrationComponent{constructor(translate,http,notify,dialog,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!0,this.updateListModel=!0,this.updateListInstance=!0,this.data=[],this.config={},this.userDestRedirect={},this.userDestRedirectModels=[],this.listinstances=[],this.quota={},this.user={},this.withWebserviceAccount=!1,this.webserviceAccounts=[],this.noWebserviceAccounts=[],this.displayedColumns=[\"id\",\"user_id\",\"lastname\",\"firstname\",\"status\",\"mail\",\"actions\"],this.filterColumns=[\"id\",\"user_id\",\"lastname\",\"firstname\",\"mail\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.users\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.user=this.headerService.user,this.getData()}getData(){this.webserviceAccounts=[],this.noWebserviceAccounts=[],this.data=[],this.http.get(\"../rest/users\").pipe(Object(operators_tap.tap)(data=>{this.data=data.users,this.data.forEach(element=>{element.statusLabel=this.translate.instant(\"lang.user\"+element.status),\"rest\"===element.mode?this.webserviceAccounts.push(element):this.noWebserviceAccounts.push(element)}),this.data=this.noWebserviceAccounts,this.quota=data.quota,this.quota.actives>this.quota.userQuota&&this.notify.error(this.translate.instant(\"lang.quotaExceeded\")),this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_users\",this.data,this.sort,this.paginator,this.filterColumns)},0)}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}activateUser(user){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.authorize\")+\" « \"+user.user_id+\" »\")&&(user.status=\"OK\",this.http.put(\"../rest/users/\"+user.id,user).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.userAuthorized\")),this.quota.userQuota&&(this.quota.inactives--,this.quota.actives++,this.quota.actives>this.quota.userQuota&&this.notify.error(this.translate.instant(\"lang.quotaExceeded\")))},err=>{user.status=\"SPD\",this.notify.error(err.error.errors)}))}deleteUser(user,mode){user.actionMode=mode,this.http.get(\"../rest/users/\"+user.id+\"/isDeletable\").subscribe(response=>{response&&response.hasOwnProperty(\"errors\")?this.notify.error(response.errors):(user.isDeletable=response.isDeletable,this.config=response.isDeletable?{panelClass:\"maarch-modal\",data:{userDestRedirect:user,isDeletable:response.isDeletable,redirectListInstances:response.listInstances,redirectListModels:response.listTemplates}}:{panelClass:\"maarch-modal\",data:{userDestRedirect:user,isDeletable:response.isDeletable,listInstanceEntities:response.listInstanceEntities,listTemplateEntities:response.listTemplateEntities}},this.dialogRef=this.dialog.open(users_administration_component_UsersAdministrationRedirectModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{result&&user.isDeletable&&(user.inDiffListDest=result.inDiffListDest,user.isResDestUser=result.isResDestUser,result.inDiffListDest&&(user.redirectListModels=result.redirectListModels),result.isResDestUser&&(user.redirectDestResUserId=result.redirectDestResUserId,result.redirectListInstances.forEach(list=>{list.listInstances.forEach(element=>{\"dest\"===element.item_mode&&element.item_id===user.user_id&&(element.item_id=user.redirectDestResUserId)})}),user.redirectListInstances=result.redirectListInstances),user.inDiffListDest&&user.isResDestUser?this.http.put(\"../rest/listTemplates/entityDest/itemId/\"+user.id,user).subscribe(()=>{this.http.put(\"../rest/listinstances\",user.redirectListInstances).subscribe(data=>{null!=data&&data.errors?this.notify.error(data.errors):\"delete\"===user.actionMode?this.http.delete(\"../rest/users/\"+user.id).subscribe(()=>{for(const i in this.data)this.data[i].id==user.id&&this.data.splice(Number(i),1);this.adminService.setDataSource(\"admin_users\",this.data,this.sort,this.paginator,this.filterColumns),this.quota.userQuota&&\"SPD\"!==user.status?this.quota.actives--:this.quota.userQuota&&\"SPD\"===user.status&&this.quota.inactives--,this.notify.success(this.translate.instant(\"lang.userDeleted\")+\" « \"+user.user_id+\" »\")},err=>{this.notify.error(err.error.errors)}):\"suspend\"===user.actionMode&&this.http.put(\"../rest/users/\"+user.id+\"/suspend\",user).subscribe(()=>{user.status=\"SPD\",this.notify.success(this.translate.instant(\"lang.userSuspended\")),this.quota.userQuota&&(this.quota.inactives++,this.quota.actives--)},err=>{user.status=\"OK\",this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)}):user.inDiffListDest&&!user.isResDestUser?this.http.put(\"../rest/listTemplates/entityDest/itemId/\"+user.id,user).subscribe(()=>{\"delete\"===user.actionMode?this.http.delete(\"../rest/users/\"+user.id).subscribe(()=>{for(const i in this.data)this.data[i].id==user.id&&this.data.splice(Number(i),1);this.adminService.setDataSource(\"admin_users\",this.data,this.sort,this.paginator,this.filterColumns),this.quota.userQuota&&\"OK\"===user.status?this.quota.actives--:this.quota.userQuota&&\"SPD\"===user.status&&this.quota.inactives--,this.notify.success(this.translate.instant(\"lang.userDeleted\")+\" « \"+user.user_id+\" »\")},err=>{this.notify.error(err.error.errors)}):\"suspend\"===user.actionMode&&this.http.put(\"../rest/users/\"+user.id+\"/suspend\",user).subscribe(()=>{user.status=\"SPD\",this.notify.success(this.translate.instant(\"lang.userSuspended\")),this.quota.userQuota&&(this.quota.inactives++,this.quota.actives--)},err=>{user.status=\"OK\",this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)}):!user.inDiffListDest&&user.isResDestUser?this.http.put(\"../rest/listinstances\",user.redirectListInstances).subscribe(data=>{data&&data.hasOwnProperty(\"errors\")?this.notify.error(data.errors):\"delete\"===user.actionMode?this.http.delete(\"../rest/users/\"+user.id).subscribe(()=>{for(const i in this.data)this.data[i].id===user.id&&this.data.splice(Number(i),1);this.adminService.setDataSource(\"admin_users\",this.data,this.sort,this.paginator,this.filterColumns),this.quota.userQuota&&\"OK\"===user.status?this.quota.actives--:this.quota.userQuota&&\"SPD\"===user.status&&this.quota.inactives--,this.notify.success(this.translate.instant(\"lang.userDeleted\")+\" « \"+user.user_id+\" »\")},err=>{this.notify.error(err.error.errors)}):\"suspend\"===user.actionMode&&this.http.put(\"../rest/users/\"+user.id+\"/suspend\",user).subscribe(()=>{user.status=\"SPD\",this.notify.success(this.translate.instant(\"lang.userSuspended\")),this.quota.userQuota&&(this.quota.inactives++,this.quota.actives--)},err=>{user.status=\"OK\",this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)}):user.inDiffListDest||user.isResDestUser||(\"delete\"===user.actionMode?this.http.delete(\"../rest/users/\"+user.id).subscribe(()=>{for(const i in this.data)this.data[i].id==user.id&&this.data.splice(Number(i),1);this.adminService.setDataSource(\"admin_users\",this.data,this.sort,this.paginator,this.filterColumns),this.quota.userQuota&&\"OK\"===user.status?this.quota.actives--:this.quota.userQuota&&\"SPD\"===user.status&&this.quota.inactives--,this.notify.success(this.translate.instant(\"lang.userDeleted\")+\" « \"+user.user_id+\" »\")},err=>{this.notify.error(err.error.errors)}):\"suspend\"===user.actionMode&&this.http.put(\"../rest/users/\"+user.id+\"/suspend\",user).subscribe(()=>{user.status=\"SPD\",this.notify.success(this.translate.instant(\"lang.userSuspended\")),this.quota.userQuota&&(this.quota.inactives++,this.quota.actives--)},err=>{user.status=\"OK\",this.notify.error(err.error.errors)})))}))},err=>{this.notify.error(err.error.errors)})}toggleWebserviceAccount(){this.withWebserviceAccount=!this.withWebserviceAccount,this.data=this.withWebserviceAccount?this.webserviceAccounts:this.noWebserviceAccounts,this.adminService.setDataSource(\"admin_users\",this.data,this.sort,this.paginator,this.filterColumns)}openUsersImportModal(){this.dialog.open(users_import_component_UsersImportComponent,{disableClose:!0,width:\"99vw\",maxWidth:\"99vw\",panelClass:\"maarch-full-height-modal\"}).afterClosed().pipe(Object(filter.a)(data=>\"success\"===data),Object(operators_tap.tap)(()=>{this.getData()}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}openUsersExportModal(){this.dialog.open(users_export_component_UsersExportComponent,{panelClass:\"maarch-modal\",width:\"800px\",autoFocus:!1})}}return UsersAdministrationComponent.ɵfac=function(t){return new(t||UsersAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},UsersAdministrationComponent.ɵcmp=core.Nb({type:UsersAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(users_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/users/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fas\",\"fa-file-export\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fas\",\"fa-file-import\"],[4,\"ngIf\"],[\"mat-line\",\"\",2,\"margin-left\",\"20px\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[\"matSuffix\",\"\",1,\"webserviceAccount\",3,\"checked\",\"title\",\"click\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-user-shield fa-2x\",2,\"margin-left\",\"-2px\",\"margin-top\",\"-4px\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"id\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"user_id\"],[\"matColumnDef\",\"lastname\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"firstname\"],[\"matColumnDef\",\"status\"],[\"matColumnDef\",\"mail\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",\"admin\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[1,\"label\",3,\"ngClass\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"matTooltip\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"matTooltip\",\"disabled\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",\"data-toggle\",\"modal\",\"data-target\",\"#changeDiffListDest\",3,\"disabled\",\"matTooltip\",\"click\"],[1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-pause\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"matTooltip\",\"disabled\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-check\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,UsersAdministrationComponent_ng_template_1_Template,22,14,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,UsersAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,UsersAdministrationComponent_mat_card_14_Template,40,18,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,divider.a,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,button_toggle.a,form_field.j,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,common.q,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\"button[_ngcontent-%COMP%]:disabled{opacity:.3!important}.statusUserLabelWarn[_ngcontent-%COMP%]{color:#8e3e52}.statusUserLabelPrimary[_ngcontent-%COMP%]{color:#135f7f}.webserviceAccount[_ngcontent-%COMP%]{color:#666;width:37px;height:37px;font-size:x-small;border-radius:18px!important}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#f99830!important;color:#fff}.admin[_ngcontent-%COMP%]{font-weight:700}\"]}),UsersAdministrationComponent})(),users_administration_component_UsersAdministrationRedirectModalComponent=(()=>{class UsersAdministrationRedirectModalComponent{constructor(translate,http,data,dialogRef,notify){this.translate=translate,this.http=http,this.data=data,this.dialogRef=dialogRef,this.notify=notify,this.loadModel=!1,this.loadInstance=!1,this.modalTitle=this.translate.instant(\"lang.confirmAction\")}ngOnInit(){this.data.isDeletable?(this.data.redirectListModels.length>0&&(this.data.inDiffListDest=!0),this.data.redirectListInstances.length>0&&(this.data.isResDestUser=!0)):(this.modalTitle=this.translate.instant(\"delete\"===this.data.userDestRedirect.actionMode?\"lang.unableToDelete\":\"lang.unableToSuspend\"),this.data.listTemplateEntities.length>0&&(this.data.inTemplateList=!0),this.data.listInstanceEntities.length>0&&(this.data.inInstanceList=!0))}setRedirectUserListModels(index,user){this.data.userDestRedirect.user_id!=user.id?this.data.redirectListModels[index].redirectUserId=user.id:(this.data.redirectListModels[index].redirectUserId=null,this.notify.error(this.translate.instant(\"lang.userUnauthorized\")))}setRedirectUserRes(user){this.data.userDestRedirect.user_id!=user.id?this.data.redirectDestResUserId=user.id:(this.data.redirectDestResUserId=null,this.notify.error(this.translate.instant(\"lang.userUnauthorized\")))}sendFunction(){let valid=!0;return this.data.inDiffListDest&&this.data.redirectListModels.forEach(element=>{element.redirectUserId||(valid=!1)}),this.data.isResDestUser&&(this.data.redirectDestResUserId||(valid=!1)),valid}}return UsersAdministrationRedirectModalComponent.ɵfac=function(t){return new(t||UsersAdministrationRedirectModalComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h),core.Tb(notification_service.a))},UsersAdministrationRedirectModalComponent.ɵcmp=core.Nb({type:UsersAdministrationRedirectModalComponent,selectors:[[\"ng-component\"]],decls:11,vars:6,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",\"type\",\"submit\",\"class\",\"btn btn-danger\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"click\",4,\"ngIf\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\"],[3,\"innerHTML\"],[\"class\",\"form-group\",3,\"id\",4,\"ngFor\",\"ngForOf\"],[1,\"form-group\",3,\"id\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[\"role\",\"alert\",1,\"alert\"],[\"class\",\"modal-body\",\"class\",\"col-md-6\",4,\"ngIf\"],[1,\"col-md-6\"],[\"mat-line\",\"\"],[4,\"ngFor\",\"ngForOf\"],[\"mat-list-icon\",\"\"],[\"color\",\"primary\",1,\"fa\",\"fa-share-alt\"],[\"color\",\"primary\",1,\"fa\",\"fa-inbox\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",\"type\",\"submit\",1,\"btn\",\"btn-danger\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.Yb(),core.Zb(3,\"mat-dialog-content\"),core.Qc(4,UsersAdministrationRedirectModalComponent_ng_container_4_Template,4,3,\"ng-container\",2),core.Qc(5,UsersAdministrationRedirectModalComponent_ng_container_5_Template,11,6,\"ng-container\",2),core.Yb(),core.Ub(6,\"span\",3),core.Zb(7,\"mat-dialog-actions\"),core.Qc(8,UsersAdministrationRedirectModalComponent_button_8_Template,4,7,\"button\",4),core.Qc(9,UsersAdministrationRedirectModalComponent_button_9_Template,4,7,\"button\",5),core.Qc(10,UsersAdministrationRedirectModalComponent_button_10_Template,3,3,\"button\",6),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(ctx.modalTitle),core.Eb(2),core.sc(\"ngIf\",ctx.data.isDeletable),core.Eb(1),core.sc(\"ngIf\",!ctx.data.isDeletable),core.Eb(3),core.sc(\"ngIf\",\"delete\"==ctx.data.userDestRedirect.actionMode&&ctx.data.isDeletable),core.Eb(1),core.sc(\"ngIf\",\"suspend\"==ctx.data.userDestRedirect.actionMode&&ctx.data.isDeletable),core.Eb(1),core.sc(\"ngIf\",!ctx.data.isDeletable))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,common.t,fesm2015_dialog.c,common.s,autocomplete_component.a,list.a,fesm2015_core.k,list.d,icon.a,list.c,fesm2015_button.b],pipes:[ngx_translate_core.d],styles:[\"mat-icon[_ngcontent-%COMP%]{height:auto!important}.alert-message[_ngcontent-%COMP%]{max-width:100%}\"]}),UsersAdministrationRedirectModalComponent})();var collections=__webpack_require__(\"0EQZ\");function AccountLinkComponent_mat_list_6_Template(rf,ctx){if(1&rf){const _r4=core.ac();core.Zb(0,\"mat-list\"),core.Zb(1,\"mat-list-item\"),core.Ub(2,\"mat-icon\",8),core.Zb(3,\"h4\",9),core.Sc(4),core.Yb(),core.Zb(5,\"p\",10),core.Sc(6),core.Yb(),core.Zb(7,\"button\",11),core.hc(\"click\",(function(){return core.Hc(_r4),core.lc().unlinkMaarchParapheurAccount()})),core.Ub(8,\"mat-icon\",12),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r0=core.lc();core.Eb(2),core.Pc(\"background-image\",\"url(\"+ctx_r0.externalUser.picture+\")\",core.Mb),core.Eb(2),core.Vc(\"\",ctx_r0.externalUser.firstname,\" \",ctx_r0.externalUser.lastname,\"\"),core.Eb(2),core.Tc(ctx_r0.externalUser.email),core.Eb(1),core.sc(\"title\",ctx_r0.translate.instant(\"lang.unlinkAccount\"))}}function AccountLinkComponent_mat_form_field_7_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"input\",13),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().externalUser.login=$event})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(1),core.tc(\"placeholder\",core.nc(2,2,\"lang.newLoginInMaarchParapheur\")),core.sc(\"ngModel\",ctx_r1.externalUser.login)}}function AccountLinkComponent_div_8_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",14),2&rf){const ctx_r2=core.lc();core.sc(\"innerHTML\",ctx_r2.translate.instant(\"lang.maarchParapheurAccountMsg\")+\" <b>\"+ctx_r2.externalUser.login+\"</b> \"+ctx_r2.translate.instant(\"lang.maarchParapheurAccountMsg2\"),core.Ic)}}const account_link_component_c0=function(){return[\"/rest/autocomplete/maarchParapheurUsers?exludeAlreadyConnected=true\"]};let account_link_component_AccountLinkComponent=(()=>{class AccountLinkComponent{constructor(translate,http,data,dialogRef,notify){this.translate=translate,this.http=http,this.data=data,this.dialogRef=dialogRef,this.notify=notify,this.externalUser={inMaarchParapheur:!1,login:\"\",firstname:\"\",lastname:\"\",email:\"\",picture:\"\"}}ngOnInit(){this.http.get(\"../rest/autocomplete/maarchParapheurUsers\",{params:{search:this.data.user.mail,exludeAlreadyConnected:\"true\"}}).subscribe(dataUsers=>{dataUsers.length>0?(this.externalUser=dataUsers[0],this.externalUser.inMaarchParapheur=!0,this.http.get(\"../rest/maarchParapheur/user/\"+this.externalUser.id+\"/picture\").subscribe(data=>{this.externalUser.picture=data.picture},err=>{this.notify.handleErrors(err)})):(this.externalUser.inMaarchParapheur=!1,this.externalUser=this.data.user,this.externalUser.login=this.data.user.user_id,this.externalUser.email=this.data.user.mail)},err=>{this.notify.handleErrors(err)})}selectUser(user){this.externalUser=user,this.externalUser.inMaarchParapheur=!0,this.http.get(\"../rest/maarchParapheur/user/\"+this.externalUser.id+\"/picture\").subscribe(data=>{this.externalUser.picture=data.picture},err=>{this.notify.handleErrors(err)})}unlinkMaarchParapheurAccount(){this.externalUser.inMaarchParapheur=!1,this.externalUser=this.data.user,this.externalUser.login=this.data.user.user_id,this.externalUser.email=this.data.user.mail}}return AccountLinkComponent.ɵfac=function(t){return new(t||AccountLinkComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h),core.Tb(notification_service.a))},AccountLinkComponent.ɵcmp=core.Nb({type:AccountLinkComponent,selectors:[[\"ng-component\"]],decls:17,vars:18,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"appearance\",\"outline\",3,\"labelPlaceholder\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[4,\"ngIf\"],[\"class\",\"alert-message alert-message-danger\",\"role\",\"alert\",\"style\",\"margin-top: 30px;\",3,\"innerHTML\",4,\"ngIf\"],[1,\"divider-modal\"],[\"color\",\"primary\",\"mat-raised-button\",\"\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"avatarAccount\"],[\"mat-line\",\"\"],[\"mat-line\",\"\",2,\"color\",\"#666\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"title\",\"click\"],[1,\"fas\",\"fa-unlink\"],[\"type\",\"text\",\"matInput\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-danger\",2,\"margin-top\",\"30px\",3,\"innerHTML\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"plugin-autocomplete\",2),core.hc(\"triggerEvent\",(function($event){return ctx.selectUser($event)})),core.Yb(),core.Qc(6,AccountLinkComponent_mat_list_6_Template,9,6,\"mat-list\",3),core.Qc(7,AccountLinkComponent_mat_form_field_7_Template,3,4,\"mat-form-field\",3),core.Qc(8,AccountLinkComponent_div_8_Template,1,1,\"div\",4),core.Yb(),core.Ub(9,\"span\",5),core.Zb(10,\"mat-dialog-actions\"),core.Zb(11,\"button\",6),core.hc(\"click\",(function(){return ctx.dialogRef.close(ctx.externalUser)})),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Zb(14,\"button\",7),core.hc(\"click\",(function(){return ctx.dialogRef.close(\"\")})),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,11,\"lang.linkAccount\")),core.Eb(3),core.sc(\"labelPlaceholder\",ctx.translate.instant(\"lang.searchUserInMaarchParapheur\"))(\"routeDatas\",core.yc(17,account_link_component_c0))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"email\"),core.Eb(1),core.sc(\"ngIf\",ctx.externalUser.inMaarchParapheur),core.Eb(1),core.sc(\"ngIf\",!ctx.externalUser.inMaarchParapheur),core.Eb(1),core.sc(\"ngIf\",!ctx.externalUser.inMaarchParapheur),core.Eb(3),core.sc(\"disabled\",\"\"===ctx.externalUser.login),core.Eb(1),core.Tc(core.nc(13,13,\"lang.validate\")),core.Eb(3),core.Tc(core.nc(16,15,\"lang.cancel\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,autocomplete_component.a,common.t,fesm2015_dialog.c,fesm2015_button.b,list.a,list.d,icon.a,list.c,fesm2015_core.k,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.w],pipes:[ngx_translate_core.d],styles:[\".avatarAccount[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}\"]}),AccountLinkComponent})();var environment=__webpack_require__(\"MJ5r\"),tabs=__webpack_require__(\"wZkO\"),expansion=__webpack_require__(\"7EHt\"),maarch_flat_tree_component=__webpack_require__(\"/kMP\"),fesm2015_checkbox=__webpack_require__(\"bSwM\"),menu=__webpack_require__(\"STbY\"),ng2_dnd=__webpack_require__(\"lJEt\"),datepicker=__webpack_require__(\"iadO\"),secureUrl_pipe=__webpack_require__(\"wQTr\"),fesm2015_radio=__webpack_require__(\"QibW\");const user_administration_component_c0=[\"snav2\"],user_administration_component_c1=[\"adminMenuTemplate\"],user_administration_component_c2=[\"maarchTree\"];function UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_4_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"a\",18),core.hc(\"click\",(function(){return core.Hc(_r15),core.lc(3).activateAbsence()})),core.Ub(1,\"mat-icon\",19),core.Zb(2,\"p\",20),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.activateAbsence\"),\" \"))}function UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_5_Template(rf,ctx){if(1&rf){const _r17=core.ac();core.Zb(0,\"a\",18),core.hc(\"click\",(function(){return core.Hc(_r17),core.lc(3).desactivateAbsence()})),core.Ub(1,\"mat-icon\",21),core.Zb(2,\"p\",20),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.desactivateAbsence\"),\" \"))}function UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_6_Template(rf,ctx){if(1&rf){const _r19=core.ac();core.Zb(0,\"a\",18),core.hc(\"click\",(function(){return core.Hc(_r19),core.lc(3).resendActivationNotification()})),core.Ub(1,\"mat-icon\",22),core.Zb(2,\"p\",20),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.sendActivationNotification\"),\" \"))}function UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_7_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"a\",18),core.hc(\"click\",(function(){return core.Hc(_r21),core.lc(3).changePasswd()})),core.Ub(1,\"mat-icon\",23),core.Zb(2,\"p\",20),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.changePassword\"),\" \"))}function UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_8_p_6_Template(rf,ctx){1&rf&&(core.Zb(0,\"p\",27),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.maarchParapheurLinkbroken\"),\" \"))}function UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_8_Template(rf,ctx){if(1&rf){const _r24=core.ac();core.Zb(0,\"a\",24),core.hc(\"click\",(function(){return core.Hc(_r24),core.lc(3).linkMaarchParapheurAccount()})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",25),core.Zb(3,\"p\",20),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Qc(6,UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_8_p_6_Template,3,3,\"p\",26),core.Yb()}if(2&rf){const ctx_r13=core.lc(3);core.tc(\"title\",core.nc(1,3,\"lang.createUserInMaarchParapheur\")),core.Eb(4),core.Uc(\" \",core.nc(5,5,\"lang.linkAccount\"),\" \"),core.Eb(2),core.sc(\"ngIf\",!ctx_r13.maarchParapheurConnectionStatus)}}function UserAdministrationComponent_ng_template_1_mat_nav_list_0_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",13),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Qc(4,UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_4_Template,5,3,\"a\",16),core.Qc(5,UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_5_Template,5,3,\"a\",16),core.Qc(6,UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_6_Template,5,3,\"a\",16),core.Qc(7,UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_7_Template,5,3,\"a\",16),core.Qc(8,UserAdministrationComponent_ng_template_1_mat_nav_list_0_a_8_Template,7,7,\"a\",17),core.Yb()),2&rf){const ctx_r7=core.lc(2);core.Eb(2),core.Tc(core.nc(3,6,\"lang.actions\")),core.Eb(2),core.sc(\"ngIf\",\"ABS\"!=ctx_r7.user.status),core.Eb(1),core.sc(\"ngIf\",\"ABS\"==ctx_r7.user.status),core.Eb(1),core.sc(\"ngIf\",ctx_r7.user.canSendActivationNotification),core.Eb(1),core.sc(\"ngIf\",ctx_r7.user.canModifyPassword),core.Eb(1),core.sc(\"ngIf\",ctx_r7.user.canCreateMaarchParapheurUser||\"\"===ctx_r7.maarchParapheurLink.login)}}function UserAdministrationComponent_ng_template_1_mat_list_2_Template(rf,ctx){if(1&rf){const _r26=core.ac();core.Zb(0,\"mat-list\"),core.Zb(1,\"h3\",13),core.Sc(2,\"Compte Maarch Parapheur\"),core.Yb(),core.Zb(3,\"mat-list-item\"),core.Ub(4,\"mat-icon\",28),core.Zb(5,\"p\",29),core.Zb(6,\"span\"),core.Sc(7),core.Yb(),core.Zb(8,\"button\",30),core.hc(\"click\",(function(){return core.Hc(_r26),core.lc(2).unlinkMaarchParapheurAccount()})),core.mc(9,\"translate\"),core.Ub(10,\"mat-icon\",31),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r8=core.lc(2);core.Eb(4),core.Pc(\"background-image\",\"url(\"+ctx_r8.maarchParapheurLink.picture+\")\",core.Mb),core.Eb(3),core.Uc(\" \",ctx_r8.maarchParapheurLink.login,\" \"),core.Eb(1),core.tc(\"title\",core.nc(9,4,\"lang.unlinkAccount\"))}}function UserAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Qc(0,UserAdministrationComponent_ng_template_1_mat_nav_list_0_Template,9,8,\"mat-nav-list\",15),core.Ub(1,\"mat-divider\"),core.Qc(2,UserAdministrationComponent_ng_template_1_mat_list_2_Template,11,6,\"mat-list\",15)),2&rf){const ctx_r1=core.lc();core.sc(\"ngIf\",!ctx_r1.creationMode&&!ctx_r1.loading),core.Eb(2),core.sc(\"ngIf\",\"\"!==ctx_r1.maarchParapheurLink.login)}}function UserAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",32),core.Ub(1,\"mat-spinner\",33),core.Yb())}function UserAdministrationComponent_mat_card_14_div_4_mat_error_7_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-error\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.requiredField\"),\"\"))}function UserAdministrationComponent_mat_card_14_div_4_mat_hint_17_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-hint\"),core.Ub(1,\"i\",58),core.Zb(2,\"span\",59),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Tc(core.nc(4,1,\"lang.passwordValid\")))}function UserAdministrationComponent_mat_card_14_div_4_mat_hint_26_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-hint\"),core.Ub(1,\"i\",58),core.Zb(2,\"span\",59),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Tc(core.nc(4,1,\"lang.passwordMatch\")))}function UserAdministrationComponent_mat_card_14_div_4_div_30_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",44),core.Zb(1,\"div\",60),core.Ub(2,\"div\",61),core.Yb(),core.Yb()),2&rf){const ctx_r40=core.lc(3);core.Eb(2),core.sc(\"innerHTML\",ctx_r40.otherRuleText,core.Ic)}}const user_administration_component_c3=function(a0){return[a0]};function UserAdministrationComponent_mat_card_14_div_4_Template(rf,ctx){if(1&rf){const _r42=core.ac();core.Zb(0,\"div\",42),core.Zb(1,\"form\",43),core.Zb(2,\"div\",44),core.Zb(3,\"mat-form-field\",45),core.Ub(4,\"input\",46),core.mc(5,\"translate\"),core.Zb(6,\"mat-icon\",47),core.hc(\"click\",(function(){core.Hc(_r42);const ctx_r41=core.lc(2);return ctx_r41.hidePassword=!ctx_r41.hidePassword})),core.Yb(),core.Qc(7,UserAdministrationComponent_mat_card_14_div_4_mat_error_7_Template,3,3,\"mat-error\",15),core.Yb(),core.Yb(),core.Zb(8,\"div\",44),core.Zb(9,\"div\",48),core.Sc(10),core.Yb(),core.Zb(11,\"div\",49),core.Zb(12,\"mat-form-field\",45),core.Ub(13,\"input\",50,51),core.mc(15,\"translate\"),core.Zb(16,\"mat-icon\",47),core.hc(\"click\",(function(){core.Hc(_r42);const ctx_r43=core.lc(2);return ctx_r43.hidePassword=!ctx_r43.hidePassword})),core.Yb(),core.Qc(17,UserAdministrationComponent_mat_card_14_div_4_mat_hint_17_Template,5,3,\"mat-hint\",15),core.Zb(18,\"mat-error\"),core.Sc(19),core.Yb(),core.Yb(),core.Yb(),core.Zb(20,\"div\",49),core.Zb(21,\"mat-form-field\",45),core.Ub(22,\"input\",52,53),core.mc(24,\"translate\"),core.Zb(25,\"mat-icon\",47),core.hc(\"click\",(function(){core.Hc(_r42);const ctx_r44=core.lc(2);return ctx_r44.hidePassword=!ctx_r44.hidePassword})),core.Yb(),core.Qc(26,UserAdministrationComponent_mat_card_14_div_4_mat_hint_26_Template,5,3,\"mat-hint\",15),core.Zb(27,\"mat-error\"),core.Sc(28),core.mc(29,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(30,UserAdministrationComponent_mat_card_14_div_4_div_30_Template,3,1,\"div\",54),core.Zb(31,\"div\",44),core.Zb(32,\"div\",55),core.Zb(33,\"button\",56),core.hc(\"click\",(function(){return core.Hc(_r42),core.lc(2).updatePassword()})),core.Sc(34),core.mc(35,\"translate\"),core.Yb(),core.Zb(36,\"button\",57),core.hc(\"click\",(function(){return core.Hc(_r42),core.lc(2).showPassword=!1})),core.Sc(37),core.mc(38,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r27=core.lc(2);core.Eb(1),core.sc(\"formGroup\",ctx_r27.firstFormGroup),core.Eb(3),core.tc(\"placeholder\",core.nc(5,20,\"lang.typeCurrentPassword\")),core.sc(\"type\",ctx_r27.hidePassword?\"password\":\"text\"),core.Eb(2),core.sc(\"ngClass\",core.zc(32,user_administration_component_c3,ctx_r27.hidePassword?\"fa-eye-slash\":\"fa-eye\")),core.Eb(1),core.sc(\"ngIf\",ctx_r27.firstFormGroup.controls.currentPasswordCtrl.hasError(\"required\")),core.Eb(3),core.Uc(\" \",ctx_r27.ruleText,\"\"),core.Eb(3),core.tc(\"placeholder\",core.nc(15,22,\"lang.typeNewPassword\")),core.sc(\"type\",ctx_r27.hidePassword?\"password\":\"text\"),core.Eb(3),core.sc(\"ngClass\",core.zc(34,user_administration_component_c3,ctx_r27.hidePassword?\"fa-eye-slash\":\"fa-eye\")),core.Eb(1),core.sc(\"ngIf\",ctx_r27.validPassword),core.Eb(2),core.Tc(ctx_r27.getErrorMessage()),core.Eb(3),core.tc(\"placeholder\",core.nc(24,24,\"lang.retypeNewPassword\")),core.sc(\"type\",ctx_r27.hidePassword?\"password\":\"text\"),core.Eb(3),core.sc(\"ngClass\",core.zc(36,user_administration_component_c3,ctx_r27.hidePassword?\"fa-eye-slash\":\"fa-eye\")),core.Eb(1),core.sc(\"ngIf\",!ctx_r27.firstFormGroup.controls.retypePasswordCtrl.hasError(\"mismatch\")&&\"\"!=ctx_r27.firstFormGroup.controls.retypePasswordCtrl.value),core.Eb(2),core.Uc(\"\",core.nc(29,26,\"lang.passwordNotMatch\"),\" !\"),core.Eb(2),core.sc(\"ngIf\",ctx_r27.passwordRules.renewal.enabled||ctx_r27.passwordRules.historyLastUse.enabled),core.Eb(3),core.sc(\"disabled\",!ctx_r27.firstFormGroup.valid),core.Eb(1),core.Tc(core.nc(35,28,\"lang.update\")),core.Eb(3),core.Tc(core.nc(38,30,\"lang.cancel\"))}}function UserAdministrationComponent_mat_card_14_div_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",62),core.Sc(1),core.Yb()),2&rf){const ctx_r28=core.lc(2);core.Eb(1),core.Uc(\" \",ctx_r28.user.status,\"\")}}function UserAdministrationComponent_mat_card_14_form_6_input_9_Template(rf,ctx){if(1&rf){const _r55=core.ac();core.Zb(0,\"input\",84),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r55),core.lc(3).user.userId=$event}))(\"keyup\",(function(){return core.Hc(_r55),core.lc(3).setLowerUserId()})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r48=core.lc(3);core.tc(\"title\",core.nc(1,3,\"lang.id\")),core.tc(\"placeholder\",core.nc(2,5,\"lang.id\")),core.sc(\"ngModel\",ctx_r48.user.userId)}}function UserAdministrationComponent_mat_card_14_form_6_input_10_Template(rf,ctx){if(1&rf&&(core.Ub(0,\"input\",85),core.mc(1,\"translate\"),core.mc(2,\"translate\")),2&rf){const ctx_r49=core.lc(3);core.tc(\"title\",core.nc(1,3,\"lang.id\")),core.tc(\"value\",ctx_r49.user.user_id),core.tc(\"placeholder\",core.nc(2,5,\"lang.id\"))}}const user_administration_component_c4=function(){return[\"root_visible\",\"root_invisible\"]};function UserAdministrationComponent_mat_card_14_form_6_ng_container_51_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-option\",86),core.Sc(2),core.Yb(),core.Wb()),2&rf){const mode_r57=ctx.$implicit,ctx_r50=core.lc(3);core.Eb(1),core.sc(\"value\",mode_r57.id)(\"disabled\",\"standard\"===ctx_r50.headerService.user.mode&&core.yc(4,user_administration_component_c4).indexOf(mode_r57.id)>-1)(\"title\",\"standard\"===ctx_r50.headerService.user.mode&&core.yc(5,user_administration_component_c4).indexOf(mode_r57.id)>-1?ctx_r50.translate.instant(\"lang.mustSuperadmin\"):\"\"),core.Eb(1),core.Uc(\" \",mode_r57.label,\" \")}}function UserAdministrationComponent_mat_card_14_form_6_div_53_Template(rf,ctx){if(1&rf){const _r59=core.ac();core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\"),core.Zb(2,\"mat-label\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"textarea\",87),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r59),core.lc(3).user.authorizedApi=$event})),core.Yb(),core.Zb(6,\"mat-hint\"),core.Sc(7),core.mc(8,\"translate\"),core.Zb(9,\"a\",88),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r51=core.lc(3);core.Eb(3),core.Tc(core.nc(4,5,\"lang.authorizedRoutes\")),core.Eb(2),core.sc(\"ngModel\",ctx_r51.user.authorizedApi),core.Eb(2),core.Uc(\"\",core.nc(8,7,\"lang.authorizedRoutesInformations\"),\" \"),core.Eb(2),core.uc(\"href\",\"https://docs.maarch.org/gitbook/html/MaarchCourrier/\",ctx_r51.appVersion,\"/guat/guat_architecture/API_REST/home.html\",core.Kc),core.Eb(1),core.Tc(core.nc(11,9,\"lang.here\"))}}function UserAdministrationComponent_mat_card_14_form_6_button_56_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",89),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){core.lc();const _r47=core.Dc(1);core.sc(\"disabled\",!_r47.form.valid),core.Eb(1),core.Tc(core.nc(2,2,\"lang.save\"))}}function UserAdministrationComponent_mat_card_14_form_6_button_57_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",89),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){core.lc();const _r47=core.Dc(1);core.sc(\"disabled\",!_r47.form.valid),core.Eb(1),core.Tc(core.nc(2,2,\"lang.update\"))}}function UserAdministrationComponent_mat_card_14_form_6_Template(rf,ctx){if(1&rf){const _r61=core.ac();core.Zb(0,\"form\",63,64),core.hc(\"ngSubmit\",(function(){return core.Hc(_r61),core.lc(2).onSubmit()})),core.Zb(2,\"div\",44),core.Zb(3,\"div\",65),core.Zb(4,\"div\",66),core.Zb(5,\"div\",67),core.Ub(6,\"i\",68),core.Yb(),core.Yb(),core.Zb(7,\"div\",69),core.Zb(8,\"mat-form-field\"),core.Qc(9,UserAdministrationComponent_mat_card_14_form_6_input_9_Template,3,7,\"input\",70),core.Qc(10,UserAdministrationComponent_mat_card_14_form_6_input_10_Template,3,7,\"input\",71),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(11,\"div\",44),core.Zb(12,\"div\",72),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"input\",73),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).user.lastname=$event})),core.mc(15,\"translate\"),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(17,\"div\",72),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"input\",74),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).user.firstname=$event})),core.mc(20,\"translate\"),core.mc(21,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(22,\"div\",75),core.Zb(23,\"mat-form-field\"),core.Zb(24,\"input\",76),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).user.initials=$event})),core.mc(25,\"translate\"),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(27,\"div\",44),core.Zb(28,\"div\",65),core.Zb(29,\"mat-form-field\"),core.Zb(30,\"input\",77),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).user.phone=$event})),core.mc(31,\"translate\"),core.mc(32,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(33,\"div\",44),core.Zb(34,\"div\",65),core.Zb(35,\"mat-form-field\"),core.Zb(36,\"input\",78),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).user.mail=$event})),core.mc(37,\"translate\"),core.mc(38,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(39,\"mat-accordion\"),core.Zb(40,\"mat-expansion-panel\",79),core.Zb(41,\"mat-expansion-panel-header\"),core.Zb(42,\"mat-panel-title\",80),core.Sc(43),core.mc(44,\"translate\"),core.Yb(),core.Yb(),core.Zb(45,\"div\"),core.Zb(46,\"mat-form-field\"),core.Zb(47,\"mat-label\"),core.Sc(48),core.mc(49,\"translate\"),core.Yb(),core.Zb(50,\"mat-select\",81),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).user.mode=$event})),core.Qc(51,UserAdministrationComponent_mat_card_14_form_6_ng_container_51_Template,3,6,\"ng-container\",14),core.mc(52,\"sortBy\"),core.Yb(),core.Yb(),core.Yb(),core.Qc(53,UserAdministrationComponent_mat_card_14_form_6_div_53_Template,12,11,\"div\",15),core.Yb(),core.Yb(),core.Zb(54,\"div\",82),core.Zb(55,\"div\",55),core.Qc(56,UserAdministrationComponent_mat_card_14_form_6_button_56_Template,3,4,\"button\",83),core.Qc(57,UserAdministrationComponent_mat_card_14_form_6_button_57_Template,3,4,\"button\",83),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r29=core.lc(2);core.Eb(9),core.sc(\"ngIf\",ctx_r29.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r29.creationMode),core.Eb(4),core.tc(\"title\",core.nc(15,27,\"lang.lastname\")),core.tc(\"placeholder\",core.nc(16,29,\"lang.lastname\")),core.sc(\"ngModel\",ctx_r29.user.lastname),core.Eb(5),core.tc(\"title\",core.nc(20,31,\"lang.firstname\")),core.tc(\"placeholder\",core.nc(21,33,\"lang.firstname\")),core.sc(\"ngModel\",ctx_r29.user.firstname),core.Eb(5),core.tc(\"title\",core.nc(25,35,\"lang.initials\")),core.tc(\"placeholder\",core.nc(26,37,\"lang.initials\")),core.sc(\"ngModel\",ctx_r29.user.initials),core.Eb(6),core.tc(\"title\",core.nc(31,39,\"lang.phoneNumber\")),core.tc(\"placeholder\",core.nc(32,41,\"lang.phoneNumber\")),core.sc(\"ngModel\",ctx_r29.user.phone)(\"disabled\",ctx_r29.creationMode&&!ctx_r29.canManagePersonalDatas||!ctx_r29.creationMode&&(!ctx_r29.canManagePersonalDatas||!ctx_r29.canViewPersonalDatas)),core.Eb(6),core.tc(\"title\",core.nc(37,43,\"lang.email\")),core.tc(\"placeholder\",core.nc(38,45,\"lang.email\")),core.sc(\"ngModel\",ctx_r29.user.mail),core.Eb(4),core.sc(\"expanded\",ctx_r29.creationMode),core.Eb(3),core.Uc(\" \",core.nc(44,47,\"lang.otherInformations\"),\" \"),core.Eb(5),core.Tc(core.nc(49,49,\"lang.accountType\")),core.Eb(2),core.sc(\"ngModel\",ctx_r29.user.mode)(\"disabled\",\"standard\"===ctx_r29.headerService.user.mode&&core.yc(54,user_administration_component_c4).indexOf(ctx_r29.user.mode)>-1),core.Eb(1),core.sc(\"ngForOf\",core.oc(52,51,ctx_r29.adminModes,\"label\")),core.Eb(2),core.sc(\"ngIf\",\"rest\"===ctx_r29.user.mode),core.Eb(3),core.sc(\"ngIf\",ctx_r29.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r29.creationMode)}}function UserAdministrationComponent_mat_card_14_mat_tab_7_mat_list_item_3_Template(rf,ctx){if(1&rf){const _r71=core.ac();core.Zb(0,\"mat-list-item\",91),core.Zb(1,\"mat-slide-toggle\",92),core.hc(\"change\",(function(){core.Hc(_r71);const group_r69=ctx.$implicit;return core.lc(3).toggleGroup(group_r69)})),core.Sc(2),core.Yb(),core.Yb()}if(2&rf){const group_r69=ctx.$implicit;core.Eb(1),core.tc(\"id\",group_r69.group_id),core.sc(\"checked\",1==group_r69.checked)(\"disabled\",!group_r69.enabled),core.Eb(1),core.Uc(\" \",group_r69.group_desc,\"\")}}function UserAdministrationComponent_mat_card_14_mat_tab_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab\",36),core.mc(1,\"translate\"),core.Zb(2,\"mat-nav-list\"),core.Qc(3,UserAdministrationComponent_mat_card_14_mat_tab_7_mat_list_item_3_Template,3,4,\"mat-list-item\",90),core.Yb(),core.Yb()),2&rf){const ctx_r30=core.lc(2);core.tc(\"label\",core.nc(1,2,\"lang.groups\")),core.Eb(3),core.sc(\"ngForOf\",ctx_r30.user.allGroups)}}function UserAdministrationComponent_mat_card_14_mat_tab_8_Template(rf,ctx){if(1&rf){const _r74=core.ac();core.Zb(0,\"mat-tab\",36),core.mc(1,\"translate\"),core.Zb(2,\"app-maarch-flat-tree\",93,94),core.hc(\"afterSelectNode\",(function($event){return core.Hc(_r74),core.lc(2).addEntity($event)}))(\"afterDeselectNode\",(function($event){return core.Hc(_r74),core.lc(2).deleteEntity($event)})),core.Yb(),core.Yb()}2&rf&&(core.tc(\"label\",core.nc(1,3,\"lang.entities\")),core.Eb(2),core.sc(\"selectionPropagation\",!1)(\"openState\",\"all\"))}function UserAdministrationComponent_mat_card_14_mat_tab_9_p_8_Template(rf,ctx){1&rf&&(core.Zb(0,\"p\",100),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.selectAll\"),\" \"))}const _c5=function(){return[\"/rest/autocomplete/users\"]};function UserAdministrationComponent_mat_card_14_mat_tab_9_p_9_Template(rf,ctx){if(1&rf){const _r83=core.ac();core.Zb(0,\"p\",101),core.Zb(1,\"button\",102),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",103),core.Ub(4,\"mat-divider\",104),core.Yb(),core.Zb(5,\"button\",105),core.hc(\"click\",(function(){return core.Hc(_r83),core.lc(3).toggleBasket(!1)})),core.mc(6,\"translate\"),core.Ub(7,\"mat-icon\",106),core.Yb(),core.Zb(8,\"button\",107),core.hc(\"click\",(function(){return core.Hc(_r83),core.lc(3).toggleBasket(!0)})),core.mc(9,\"translate\"),core.Ub(10,\"mat-icon\",108),core.Yb(),core.Zb(11,\"mat-menu\",109,110),core.Zb(13,\"plugin-autocomplete\",111),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r83),core.lc(3).addBasketRedirection($event)})),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r81=core.Dc(12),ctx_r77=core.lc(3);core.Eb(1),core.tc(\"matTooltip\",core.nc(2,9,\"lang.redirectBaskets\")),core.sc(\"matMenuTriggerFor\",_r81),core.Eb(3),core.sc(\"vertical\",!0),core.Eb(1),core.tc(\"matTooltip\",core.nc(6,11,\"lang.disableBasket\")),core.Eb(3),core.tc(\"matTooltip\",core.nc(9,13,\"lang.enableBasket\")),core.Eb(5),core.sc(\"labelPlaceholder\",ctx_r77.translate.instant(\"lang.redirectBaskets\"))(\"routeDatas\",core.yc(15,_c5))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\")}}function UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_11_mat_list_item_1_mat_icon_1_Template(rf,ctx){if(1&rf){const _r91=core.ac();core.Zb(0,\"mat-icon\",96),core.Zb(1,\"mat-checkbox\",118),core.hc(\"click\",(function($event){return core.Hc(_r91),$event.stopPropagation()}))(\"change\",(function($event){core.Hc(_r91);const basket_r86=core.lc(2).$implicit,ctx_r92=core.lc(3);return $event?ctx_r92.selectionBaskets.toggle(basket_r86):null})),core.Yb(),core.Yb()}if(2&rf){const basket_r86=core.lc(2).$implicit,ctx_r89=core.lc(3);core.Eb(1),core.sc(\"checked\",ctx_r89.selectionBaskets.isSelected(basket_r86))}}const _c6=function(a0){return{opacity:a0}};function UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_11_mat_list_item_1_Template(rf,ctx){if(1&rf){const _r97=core.ac();core.Zb(0,\"mat-list-item\",113),core.Qc(1,UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_11_mat_list_item_1_mat_icon_1_Template,2,1,\"mat-icon\",114),core.Zb(2,\"h4\",115),core.Zb(3,\"span\",116),core.hc(\"click\",(function(){core.Hc(_r97);const basket_r86=core.lc().$implicit;return core.lc(3).selectionBaskets.toggle(basket_r86)})),core.Sc(4),core.Zb(5,\"span\",117),core.Sc(6),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const basket_r86=core.lc().$implicit;core.Eb(1),core.sc(\"ngIf\",basket_r86.enabled),core.Eb(2),core.vc(\"matTooltip\",\"\",basket_r86.basket_name,\" [\",basket_r86.group_desc,\"]\"),core.sc(\"ngStyle\",core.zc(6,_c6,basket_r86.allowed?\"1\":\"0.5\")),core.Eb(1),core.Uc(\" \",basket_r86.basket_name,\" \"),core.Eb(2),core.Tc(basket_r86.group_desc)}}function UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_11_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_11_mat_list_item_1_Template,7,8,\"mat-list-item\",112),core.Wb()),2&rf){const basket_r86=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",null==basket_r86.userToDisplay)}}function UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_17_Template(rf,ctx){if(1&rf){const _r102=core.ac();core.Xb(0),core.Zb(1,\"mat-list-item\"),core.Ub(2,\"mat-icon\",119),core.Zb(3,\"h4\",120),core.Sc(4),core.Zb(5,\"span\",117),core.Sc(6),core.Yb(),core.Yb(),core.Zb(7,\"p\",20),core.Zb(8,\"mat-form-field\"),core.Ub(9,\"input\",121),core.mc(10,\"translate\"),core.Zb(11,\"button\",122),core.hc(\"click\",(function(){core.Hc(_r102);const basket_r99=ctx.$implicit,i_r100=ctx.index;return core.lc(3).delBasketRedirection(basket_r99,i_r100)})),core.mc(12,\"translate\"),core.Ub(13,\"mat-icon\",123),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Wb()}if(2&rf){const basket_r99=ctx.$implicit;core.Eb(4),core.Uc(\"\",basket_r99.basket_name,\" \"),core.Eb(2),core.Tc(basket_r99.group_desc),core.Eb(3),core.vc(\"value\",\"\",core.nc(10,5,\"lang.redirectedTo\"),\" \",basket_r99.userToDisplay,\"\"),core.Eb(2),core.tc(\"matTooltip\",core.nc(12,7,\"lang.deleteRedirection\"))}}function UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_22_plugin_autocomplete_8_Template(rf,ctx){if(1&rf){const _r107=core.ac();core.Zb(0,\"plugin-autocomplete\",111),core.hc(\"triggerEvent\",(function($event){core.Hc(_r107);const ctx_r108=core.lc(),basket_r103=ctx_r108.$implicit,i_r104=ctx_r108.index;return core.lc(3).reassignBasketRedirection($event,basket_r103,i_r104)})),core.Yb()}if(2&rf){const ctx_r105=core.lc(4);core.sc(\"labelPlaceholder\",ctx_r105.translate.instant(\"lang.redirectBaskets\"))(\"routeDatas\",core.yc(4,_c5))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\")}}function UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_22_Template(rf,ctx){if(1&rf){const _r111=core.ac();core.Xb(0),core.Zb(1,\"mat-list-item\"),core.Ub(2,\"mat-icon\",124),core.Zb(3,\"h4\",120),core.Sc(4),core.Zb(5,\"span\",117),core.Sc(6),core.Yb(),core.Yb(),core.Zb(7,\"p\",20),core.Qc(8,UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_22_plugin_autocomplete_8_Template,1,5,\"plugin-autocomplete\",125),core.Zb(9,\"mat-form-field\"),core.Ub(10,\"input\",121),core.mc(11,\"translate\"),core.Zb(12,\"button\",122),core.hc(\"click\",(function(){return ctx.$implicit.userToDisplay=null})),core.mc(13,\"translate\"),core.Ub(14,\"mat-icon\",126),core.Yb(),core.Zb(15,\"button\",122),core.hc(\"click\",(function(){core.Hc(_r111);const basket_r103=ctx.$implicit,i_r104=ctx.index;return core.lc(3).delBasketAssignRedirection(basket_r103,i_r104)})),core.mc(16,\"translate\"),core.Ub(17,\"mat-icon\",123),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Wb()}if(2&rf){const basket_r103=ctx.$implicit;core.Eb(4),core.Uc(\"\",basket_r103.basket_name,\" \"),core.Eb(2),core.Tc(basket_r103.group_desc),core.Eb(2),core.sc(\"ngIf\",null==basket_r103.userToDisplay),core.Eb(2),core.vc(\"value\",\"\",core.nc(11,7,\"lang.assignBy\"),\" \",basket_r103.userToDisplay,\"\"),core.Eb(2),core.tc(\"matTooltip\",core.nc(13,9,\"lang.reassign\")),core.Eb(3),core.tc(\"matTooltip\",core.nc(16,11,\"lang.deleteAssignation\"))}}function UserAdministrationComponent_mat_card_14_mat_tab_9_Template(rf,ctx){if(1&rf){const _r113=core.ac();core.Zb(0,\"mat-tab\",36),core.mc(1,\"translate\"),core.Zb(2,\"div\",95),core.Zb(3,\"mat-list\"),core.Zb(4,\"mat-list-item\"),core.Zb(5,\"mat-icon\",96),core.Zb(6,\"mat-checkbox\",97),core.hc(\"change\",(function($event){core.Hc(_r113);const ctx_r112=core.lc(2);return $event?ctx_r112.masterToggleBaskets($event):null})),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Qc(8,UserAdministrationComponent_mat_card_14_mat_tab_9_p_8_Template,3,3,\"p\",98),core.Qc(9,UserAdministrationComponent_mat_card_14_mat_tab_9_p_9_Template,14,16,\"p\",99),core.Yb(),core.Ub(10,\"mat-divider\"),core.Qc(11,UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_11_Template,2,1,\"ng-container\",14),core.Yb(),core.Yb(),core.Zb(12,\"div\",95),core.Zb(13,\"mat-tab-group\"),core.Zb(14,\"mat-tab\",36),core.mc(15,\"translate\"),core.Zb(16,\"mat-list\"),core.Qc(17,UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_17_Template,14,9,\"ng-container\",14),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"mat-tab-group\"),core.Zb(19,\"mat-tab\",36),core.mc(20,\"translate\"),core.Zb(21,\"mat-list\"),core.Qc(22,UserAdministrationComponent_mat_card_14_mat_tab_9_ng_container_22_Template,18,13,\"ng-container\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r32=core.lc(2);core.tc(\"label\",core.nc(1,10,\"lang.baskets\")),core.Eb(6),core.tc(\"matTooltip\",core.nc(7,12,\"lang.selectAll\")),core.sc(\"checked\",ctx_r32.selectionBaskets.hasValue()),core.Eb(2),core.sc(\"ngIf\",!ctx_r32.selectionBaskets.hasValue()),core.Eb(1),core.sc(\"ngIf\",ctx_r32.selectionBaskets.hasValue()),core.Eb(2),core.sc(\"ngForOf\",ctx_r32.user.baskets),core.Eb(3),core.tc(\"label\",core.nc(15,14,\"lang.basketsRedirected\")),core.Eb(3),core.sc(\"ngForOf\",ctx_r32.user.redirectedBaskets),core.Eb(2),core.tc(\"label\",core.nc(20,16,\"lang.basketsAssigned\")),core.Eb(3),core.sc(\"ngForOf\",ctx_r32.user.assignedBaskets)}}function UserAdministrationComponent_mat_card_14_mat_tab_10_div_2_Template(rf,ctx){if(1&rf){const _r120=core.ac();core.Zb(0,\"div\",146),core.hc(\"click\",(function(){return core.Hc(_r120),core.lc(3).clickOnUploader(\"uploadSignFile\")}))(\"dragover\",(function(){return core.Hc(_r120),core.lc(3).highlightMe=!0}))(\"dragleave\",(function(){return core.Hc(_r120),core.lc(3).highlightMe=!1}))(\"onDropSuccess\",(function($event){core.Hc(_r120);const ctx_r123=core.lc(3);return ctx_r123.test($event),ctx_r123.highlightMe=!1})),core.mc(1,\"translate\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb()}if(2&rf){const ctx_r114=core.lc(3);core.Jb(\"dndFileHighlighted\",ctx_r114.highlightMe),core.tc(\"matTooltip\",core.nc(1,4,\"lang.uploadSignFileInfo\")),core.Eb(2),core.Uc(\" \",core.nc(3,6,\"lang.uploadSignFile\"),\" \")}}function UserAdministrationComponent_mat_card_14_mat_tab_10_div_5_Template(rf,ctx){if(1&rf){const _r127=core.ac();core.Zb(0,\"div\",147),core.Zb(1,\"mat-card\",148),core.Zb(2,\"mat-card-content\",55),core.Zb(3,\"mat-form-field\",149),core.Zb(4,\"input\",150),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r127),ctx.$implicit.signature_label=$event}))(\"change\",(function(){core.Hc(_r127);const i_r125=ctx.index;return core.lc(3).updateSignature(i_r125)})),core.mc(5,\"translate\"),core.Yb(),core.Zb(6,\"button\",151),core.hc(\"click\",(function(){core.Hc(_r127);const signature_r124=ctx.$implicit;return core.lc(3).deleteSignature(signature_r124)})),core.mc(7,\"translate\"),core.Ub(8,\"mat-icon\",152),core.Yb(),core.Yb(),core.Ub(9,\"img\",153),core.mc(10,\"async\"),core.mc(11,\"secureUrl\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const signature_r124=ctx.$implicit,ctx_r115=core.lc(3);core.Eb(4),core.tc(\"placeholder\",core.nc(5,6,\"lang.label\")),core.sc(\"ngModel\",signature_r124.signature_label)(\"disabled\",!ctx_r115.canManagePersonalDatas),core.Eb(2),core.tc(\"matTooltip\",core.nc(7,8,\"lang.delete\")),core.sc(\"disabled\",!ctx_r115.canManagePersonalDatas),core.Eb(3),core.sc(\"src\",core.nc(10,10,core.nc(11,12,\"../rest/users/\"+ctx_r115.user.id+\"/signatures/\"+signature_r124.id+\"/content\")),core.Kc)}}function UserAdministrationComponent_mat_card_14_mat_tab_10_button_7_Template(rf,ctx){if(1&rf){const _r131=core.ac();core.Zb(0,\"button\",154),core.hc(\"click\",(function(){return core.Hc(_r131),core.lc(3).syncMP()})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",155),core.Yb()}if(2&rf){const ctx_r116=core.lc(3);core.tc(\"matTooltip\",core.nc(1,4,\"lang.syncSignsToMaarchParapheur\")),core.sc(\"disabled\",!ctx_r116.user.external_id.maarchParapheur||ctx_r116.loadingSign),core.Eb(2),core.Jb(\"fa-spin\",ctx_r116.loadingSign)}}function UserAdministrationComponent_mat_card_14_mat_tab_10_div_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",156),core.Ub(1,\"img\",157),core.Yb()),2&rf){const ctx_r118=core.lc(3);core.Eb(1),core.tc(\"src\",ctx_r118.signatureModel.base64ForJs,core.Kc)}}function UserAdministrationComponent_mat_card_14_mat_tab_10_Template(rf,ctx){if(1&rf){const _r133=core.ac();core.Zb(0,\"mat-tab\",127),core.mc(1,\"translate\"),core.Qc(2,UserAdministrationComponent_mat_card_14_mat_tab_10_div_2_Template,4,8,\"div\",128),core.Zb(3,\"div\",129),core.Zb(4,\"div\",130),core.Qc(5,UserAdministrationComponent_mat_card_14_mat_tab_10_div_5_Template,12,14,\"div\",131),core.Yb(),core.Zb(6,\"div\"),core.Qc(7,UserAdministrationComponent_mat_card_14_mat_tab_10_button_7_Template,3,6,\"button\",132),core.Yb(),core.Yb(),core.Zb(8,\"form\",133,134),core.hc(\"ngSubmit\",(function(){return core.Hc(_r133),core.lc(2).submitSignature()})),core.Zb(10,\"div\",135),core.Zb(11,\"input\",136),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r133),core.lc(2).signatureModel.label=$event})),core.mc(12,\"translate\"),core.Yb(),core.Zb(13,\"div\",137),core.Zb(14,\"div\",44),core.Zb(15,\"input\",138),core.hc(\"change\",(function($event){return core.Hc(_r133),core.lc(2).uploadSignatureTrigger($event)})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(16,\"div\",139),core.Zb(17,\"button\",140),core.Ub(18,\"i\",141),core.Yb(),core.Yb(),core.Zb(19,\"div\",142),core.Zb(20,\"div\",143),core.hc(\"click\",(function(){return core.Hc(_r133),core.lc(2).clickOnUploader(\"uploadSignFile\")})),core.Sc(21),core.mc(22,\"translate\"),core.Ub(23,\"i\",144),core.Sc(24,\" ( < 2MB ) \"),core.Yb(),core.Yb(),core.Qc(25,UserAdministrationComponent_mat_card_14_mat_tab_10_div_25_Template,2,1,\"div\",145),core.Yb(),core.Yb()}if(2&rf){const _r117=core.Dc(9),ctx_r33=core.lc(2);core.tc(\"label\",core.nc(1,11,\"lang.signatures\")),core.sc(\"disabled\",!ctx_r33.canViewPersonalDatas),core.Eb(2),core.sc(\"ngIf\",ctx_r33.canManagePersonalDatas),core.Eb(3),core.sc(\"ngForOf\",ctx_r33.user.signatures),core.Eb(2),core.sc(\"ngIf\",ctx_r33.user.signatures.length>0&&ctx_r33.canManagePersonalDatas),core.Eb(4),core.tc(\"placeholder\",core.nc(12,13,\"lang.label\")),core.sc(\"ngModel\",ctx_r33.signatureModel.label),core.Eb(6),core.sc(\"disabled\",!_r117.form.valid||!ctx_r33.signatureModel.size),core.Eb(2),core.sc(\"ngClass\",core.zc(17,user_administration_component_c3,\"\"!=ctx_r33.signatureModel.size?\"col-md-10\":\"col-md-12\")),core.Eb(2),core.Uc(\" \",core.nc(22,15,\"lang.clickOn\"),\" \"),core.Eb(4),core.sc(\"ngIf\",ctx_r33.signatureModel.size)}}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",182),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.date\"),\" \"))}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",130),core.Sc(1),core.mc(2,\"date\"),core.Yb()),2&rf){const element_r150=ctx.$implicit;core.Eb(1),core.Uc(\" \",core.oc(2,1,element_r150.event_date,\"dd/MM/y HH:mm\"),\"\")}}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",130),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.technicalId\"),\" \"))}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",130),core.Sc(1),core.Yb()),2&rf){const element_r151=ctx.$implicit;core.Eb(1),core.Uc(\"\",element_r151.record_id,\" \")}}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",183),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.description\"),\"\"))}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",184),core.Sc(1),core.Yb()),2&rf){const element_r152=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r152.info,\" \")}}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_24_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",182),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.ip\"),\" \"))}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",130),core.Sc(1),core.Yb()),2&rf){const element_r153=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r153.remote_ip,\" \")}}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_row_26_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function UserAdministrationComponent_mat_card_14_mat_tab_11_mat_row_27_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}function UserAdministrationComponent_mat_card_14_mat_tab_11_Template(rf,ctx){if(1&rf){const _r156=core.ac();core.Zb(0,\"mat-tab\",36),core.mc(1,\"translate\"),core.Zb(2,\"div\",158),core.Zb(3,\"div\"),core.Zb(4,\"div\",159),core.Zb(5,\"div\",160),core.Zb(6,\"mat-form-field\"),core.Zb(7,\"input\",161),core.hc(\"keyup\",(function($event){return core.Hc(_r156),core.lc(2).applyFilter($event.target.value)})),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"div\",160),core.Ub(10,\"mat-paginator\",162,163),core.Yb(),core.Yb(),core.Zb(12,\"mat-table\",164,165),core.Xb(14,166),core.Qc(15,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_15_Template,3,3,\"mat-header-cell\",167),core.Qc(16,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_16_Template,3,4,\"mat-cell\",168),core.Wb(),core.Xb(17,169),core.Qc(18,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_18_Template,3,3,\"mat-header-cell\",170),core.Qc(19,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_19_Template,2,1,\"mat-cell\",168),core.Wb(),core.Xb(20,171),core.Qc(21,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_21_Template,3,3,\"mat-header-cell\",172),core.Qc(22,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_22_Template,2,1,\"mat-cell\",173),core.Wb(),core.Xb(23,174),core.Qc(24,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_cell_24_Template,3,3,\"mat-header-cell\",167),core.Qc(25,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_cell_25_Template,2,1,\"mat-cell\",168),core.Wb(),core.Qc(26,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_header_row_26_Template,1,0,\"mat-header-row\",175),core.Qc(27,UserAdministrationComponent_mat_card_14_mat_tab_11_mat_row_27_Template,1,0,\"mat-row\",176),core.Yb(),core.Zb(28,\"div\",159),core.Zb(29,\"div\",177),core.Zb(30,\"mat-form-field\"),core.Zb(31,\"input\",178),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r156),core.lc(2).minDate=$event})),core.mc(32,\"translate\"),core.Yb(),core.Ub(33,\"mat-datepicker-toggle\",179),core.Ub(34,\"mat-datepicker\",180,181),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r149=core.Dc(35),ctx_r34=core.lc(2);core.tc(\"label\",core.nc(1,13,\"lang.history\")),core.Eb(7),core.tc(\"placeholder\",core.nc(8,15,\"lang.filterBy\")),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r34.dataSource),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r34.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r34.displayedColumns),core.Eb(4),core.tc(\"placeholder\",core.nc(32,17,\"lang.since\")),core.sc(\"ngModel\",ctx_r34.minDate)(\"matDatepicker\",_r149),core.Eb(2),core.sc(\"for\",_r149),core.Eb(1),core.sc(\"startAt\",ctx_r34.minDate)}}function UserAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r159=core.ac();core.Zb(0,\"mat-card\",34),core.Zb(1,\"mat-tab-group\",35),core.hc(\"selectedIndexChange\",(function($event){return core.Hc(_r159),core.lc().selectedTabIndex=$event}))(\"selectedTabChange\",(function(){return core.Hc(_r159),core.lc().initService()})),core.Zb(2,\"mat-tab\",36),core.mc(3,\"translate\"),core.Qc(4,UserAdministrationComponent_mat_card_14_div_4_Template,39,38,\"div\",37),core.Qc(5,UserAdministrationComponent_mat_card_14_div_5_Template,2,1,\"div\",38),core.Qc(6,UserAdministrationComponent_mat_card_14_form_6_Template,58,55,\"form\",39),core.Yb(),core.Qc(7,UserAdministrationComponent_mat_card_14_mat_tab_7_Template,4,4,\"mat-tab\",40),core.Qc(8,UserAdministrationComponent_mat_card_14_mat_tab_8_Template,4,5,\"mat-tab\",40),core.Qc(9,UserAdministrationComponent_mat_card_14_mat_tab_9_Template,23,18,\"mat-tab\",40),core.Qc(10,UserAdministrationComponent_mat_card_14_mat_tab_10_Template,26,19,\"mat-tab\",41),core.Qc(11,UserAdministrationComponent_mat_card_14_mat_tab_11_Template,36,19,\"mat-tab\",40),core.Yb(),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.Eb(1),core.sc(\"selectedIndex\",ctx_r3.selectedTabIndex),core.Eb(1),core.tc(\"label\",core.nc(3,10,\"lang.informations\")),core.Eb(2),core.sc(\"ngIf\",ctx_r3.showPassword),core.Eb(1),core.sc(\"ngIf\",\"ABS\"==ctx_r3.user.status&&!ctx_r3.showPassword),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.showPassword),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.creationMode)}}function UserAdministrationComponent_mat_list_item_21_Template(rf,ctx){if(1&rf){const _r163=core.ac();core.Zb(0,\"mat-list-item\"),core.Ub(1,\"mat-icon\",185),core.Zb(2,\"h4\",20),core.Sc(3),core.Yb(),core.Zb(4,\"p\",20),core.Zb(5,\"mat-form-field\",186),core.Zb(6,\"input\",187),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r163),ctx.$implicit.role=$event}))(\"change\",(function(){core.Hc(_r163);const userGroup_r161=ctx.$implicit;return core.lc().updateGroup(userGroup_r161)})),core.mc(7,\"translate\"),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"mat-hint\",188),core.mc(10,\"translate\"),core.Sc(11),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const userGroup_r161=ctx.$implicit;core.Eb(3),core.Tc(userGroup_r161.group_desc),core.Eb(3),core.tc(\"title\",core.nc(7,6,\"lang.role\")),core.tc(\"placeholder\",core.nc(8,8,\"lang.role\")),core.sc(\"ngModel\",userGroup_r161.role),core.Eb(3),core.tc(\"matTooltip\",core.nc(10,10,\"lang.perimeter\")),core.Eb(2),core.Tc(userGroup_r161.maarch_comment)}}function UserAdministrationComponent_mat_list_item_26_mat_icon_1_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-icon\",193)}function UserAdministrationComponent_mat_list_item_26_mat_icon_2_Template(rf,ctx){if(1&rf){const _r171=core.ac();core.Zb(0,\"mat-icon\",194),core.Zb(1,\"button\",195),core.hc(\"click\",(function(){core.Hc(_r171);const userEntity_r165=core.lc().$implicit;return core.lc().updatePrimaryEntity(userEntity_r165)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",196),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.entityTooglePrimary\")))}function UserAdministrationComponent_mat_list_item_26_span_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\",117),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.primary\")))}const _c7=function(a0){return{\"font-weight\":a0}};function UserAdministrationComponent_mat_list_item_26_Template(rf,ctx){if(1&rf){const _r173=core.ac();core.Zb(0,\"mat-list-item\"),core.Qc(1,UserAdministrationComponent_mat_list_item_26_mat_icon_1_Template,1,0,\"mat-icon\",189),core.Qc(2,UserAdministrationComponent_mat_list_item_26_mat_icon_2_Template,4,3,\"mat-icon\",190),core.Zb(3,\"h4\",191),core.Sc(4),core.Qc(5,UserAdministrationComponent_mat_list_item_26_span_5_Template,3,3,\"span\",192),core.Yb(),core.Zb(6,\"p\",20),core.Zb(7,\"mat-form-field\",186),core.Zb(8,\"input\",187),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r173),ctx.$implicit.user_role=$event}))(\"change\",(function(){core.Hc(_r173);const userEntity_r165=ctx.$implicit;return core.lc().updateEntity(userEntity_r165)})),core.mc(9,\"translate\"),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const userEntity_r165=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"Y\"==userEntity_r165.primary_entity),core.Eb(1),core.sc(\"ngIf\",\"Y\"!=userEntity_r165.primary_entity),core.Eb(1),core.tc(\"matTooltip\",userEntity_r165.entity_label),core.sc(\"ngStyle\",core.zc(13,_c7,\"Y\"==userEntity_r165.primary_entity?\"bold\":\"normal\")),core.Eb(1),core.Uc(\" \",userEntity_r165.entity_label,\" \"),core.Eb(1),core.sc(\"ngIf\",\"Y\"==userEntity_r165.primary_entity),core.Eb(3),core.tc(\"title\",core.nc(9,9,\"lang.role\")),core.tc(\"placeholder\",core.nc(10,11,\"lang.role\")),core.sc(\"ngModel\",userEntity_r165.user_role)}}function UserAdministrationRedirectModalComponent_div_7_Template(rf,ctx){1&rf&&(core.Ub(0,\"div\",15),core.mc(1,\"translate\")),2&rf&&core.sc(\"innerHTML\",core.nc(1,1,\"lang.redirectConfidentialInfo\"),core.Ic)}function UserAdministrationRedirectModalComponent_div_8_Template(rf,ctx){1&rf&&(core.Ub(0,\"div\",15),core.mc(1,\"translate\")),2&rf&&core.sc(\"innerHTML\",core.nc(1,1,\"lang.redirectModelInfo\"),core.Ic)}function UserAdministrationRedirectModalComponent_plugin_autocomplete_20_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"plugin-autocomplete\",16),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r8),core.lc().setRedirectUser($event)})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}2&rf&&core.sc(\"labelPlaceholder\",core.nc(1,5,\"lang.userReplacement\"))(\"labelList\",core.nc(2,7,\"lang.availableUsers\"))(\"routeDatas\",core.yc(9,_c5))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\")}function UserAdministrationRedirectModalComponent_span_22_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"em\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,1,\"lang.doNothingRedirectInformations\")))}function UserAdministrationRedirectModalComponent_span_23_Template(rf,ctx){1&rf&&(core.Ub(0,\"span\",17),core.mc(1,\"translate\")),2&rf&&core.sc(\"innerHTML\",core.nc(1,1,\"lang.removeUserRedirectInformations\"),core.Ic)}function UserAdministrationRedirectModalComponent_span_24_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"em\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,1,\"lang.reaffectUserRedirectInformations\")))}let user_administration_component_UserAdministrationComponent=(()=>{class UserAdministrationComponent{constructor(translate,http,route,router,zone,notify,dialog,headerService,_formBuilder,appService,privilegeService,viewContainerRef){this.translate=translate,this.http=http,this.route=route,this.router=router,this.zone=zone,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this._formBuilder=_formBuilder,this.appService=appService,this.privilegeService=privilegeService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.highlightMe=!1,this.config={},this.mode=\"\",this.user={mode:\"standard\",authorizedApi:\"\"},this._search=\"\",this.signatureModel={base64:\"\",base64ForJs:\"\",name:\"\",type:\"\",size:0,label:\"\"},this.userAbsenceModel=[],this.userList=[],this.maarchParapheurLink={login:\"\",picture:\"\"},this.selectedSignature=-1,this.selectedSignatureLabel=\"\",this.loadingSign=!1,this.data=[],this.CurrentYear=(new Date).getFullYear(),this.currentMonth=(new Date).getMonth()+1,this.minDate=new Date,this.ruleText=\"\",this.validPassword=!1,this.showPassword=!1,this.hidePassword=!0,this.passwordModel={currentPassword:\"\",newPassword:\"\",reNewPassword:\"\"},this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.displayedColumns=[\"event_date\",\"record_id\",\"info\",\"remote_ip\"],this.dataSource=new table.o(this.data),this.selectedTabIndex=0,this.maarchParapheurConnectionStatus=!0,this.canViewPersonalDatas=!1,this.canManagePersonalDatas=!1,this.adminModes=[{id:\"standard\",label:this.translate.instant(\"lang.standard\")},{id:\"root_visible\",label:this.translate.instant(\"lang.root_visible\")},{id:\"root_invisible\",label:this.translate.instant(\"lang.root_invisible\")},{id:\"rest\",label:this.translate.instant(\"lang.rest\")}],this.appVersion=environment.a.VERSION.split(\".\")[0]+\".\"+environment.a.VERSION.split(\".\")[1],this.selectionBaskets=new collections.c(!0,[]),window.angularUserAdministrationComponent={componentAfterUpload:base64Content=>this.processAfterUpload(base64Content)}}applyFilter(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.dataSource.filter=filterValue}masterToggleBaskets(event){event.checked?this.user.baskets.forEach(basket=>{basket.userToDisplay||this.selectionBaskets.select(basket)}):this.selectionBaskets.clear()}ngOnInit(){this.loading=!0,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.userCreation\")),this.creationMode=!0,this.canViewPersonalDatas=!1,this.canManagePersonalDatas=this.privilegeService.hasCurrentUserPrivilege(\"manage_personal_data\"),this.loading=!1):(this.creationMode=!1,this.serialId=params.id,this.http.get(\"../rest/users/\"+this.serialId+\"/details\").subscribe(data=>{this.user=data,\"rest\"===this.user.mode&&(this.user.authorizedApi=this.user.authorizedApi.join(\"\\n\")),this.headerService.user.id===this.user.id?(this.canViewPersonalDatas=!0,this.canManagePersonalDatas=!0):(this.canViewPersonalDatas=this.privilegeService.hasCurrentUserPrivilege(\"view_personal_data\"),this.canManagePersonalDatas=this.privilegeService.hasCurrentUserPrivilege(\"manage_personal_data\")),this.canManagePersonalDatas&&(this.canViewPersonalDatas=!0),this.canViewPersonalDatas||(this.user.phone=\"****\"),this.data=data.history,this.userId=data.user_id,this.minDate=new Date(this.CurrentYear+\"-\"+this.currentMonth+\"-01\"),this.headerService.setHeader(this.translate.instant(\"lang.userModification\"),data.firstname+\" \"+data.lastname),void 0!==this.user.external_id.maarchParapheur&&this.checkInfoMaarchParapheurAccount(),this.loading=!1,setTimeout(()=>{this.dataSource=new table.o(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},0)},err=>{this.notify.handleErrors(err)}))})}checkInfoMaarchParapheurAccount(){this.http.get(\"../rest/users/\"+this.serialId+\"/statusInMaarchParapheur\").subscribe(data=>{this.maarchParapheurLink.login=data.link,this.loading=!1,\"\"!==this.maarchParapheurLink.login?this.loadAvatarMaarchParapheur(this.user.external_id.maarchParapheur):this.maarchParapheurConnectionStatus=!1})}linkMaarchParapheurAccount(){this.dialog.open(account_link_component_AccountLinkComponent,{panelClass:\"maarch-modal\",autoFocus:!1,data:{user:this.user}}).afterClosed().subscribe(result=>{result&&(result.inMaarchParapheur?this.linkAccountToMaarchParahpeur(result.id):this.createAccountToMaarchParahpeur(result.id,result.login))})}linkAccountToMaarchParahpeur(externalId){this.http.put(\"../rest/users/\"+this.serialId+\"/linkToMaarchParapheur\",{maarchParapheurUserId:externalId}).subscribe(()=>{this.user.canCreateMaarchParapheurUser=!1,this.user.external_id.maarchParapheur=externalId,this.checkInfoMaarchParapheurAccount(),this.notify.success(this.translate.instant(\"lang.accountLinked\"))},err=>{this.notify.error(err.error.errors)})}createAccountToMaarchParahpeur(id,login){this.http.put(\"../rest/users/\"+id+\"/createInMaarchParapheur\",{login:login}).subscribe(data=>{this.user.canCreateMaarchParapheurUser=!1,this.user.external_id.maarchParapheur=data.externalId,this.checkInfoMaarchParapheurAccount(),this.notify.success(this.translate.instant(\"lang.accountAdded\"))},err=>{\"Login already exists\"===err.error.errors&&(err.error.errors=this.translate.instant(\"lang.loginAlreadyExistsInMaarchParapheur\")),this.notify.error(err.error.errors)})}loadAvatarMaarchParapheur(externalId){this.http.get(\"../rest/maarchParapheur/user/\"+externalId+\"/picture\").subscribe(data=>{this.maarchParapheurLink.picture=data.picture},err=>{this.notify.handleErrors(err)})}unlinkMaarchParapheurAccount(){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.unlinkAccount\"))&&this.http.put(\"../rest/users/\"+this.serialId+\"/unlinkToMaarchParapheur\",{}).subscribe(()=>{this.user.canCreateMaarchParapheurUser=!0,this.maarchParapheurLink.login=\"\",this.maarchParapheurLink.picture=\"\",this.notify.success(this.translate.instant(\"lang.accountUnlinked\")),this.maarchParapheurConnectionStatus=!0},err=>{this.notify.error(err.error.errors)})}toogleRedirect(basket){$(\"#redirectUser_\"+basket.group_id+\"_\"+basket.basket_id).toggle(),this.http.get(\"../rest/users\").subscribe(data=>{},err=>{this.notify.handleErrors(err)})}initService(){0===this.maarchTree.rawData.length&&this.maarchTree.initData(this.user.allEntities.map(ent=>Object.assign(Object.assign({},ent),{parent_id:ent.parent})))}processAfterUpload(b64Content){this.zone.run(()=>this.resfreshUpload(b64Content))}resfreshUpload(b64Content){this.signatureModel.size<=2e6?(this.signatureModel.base64=b64Content.replace(/^data:.*?;base64,/,\"\"),this.signatureModel.base64ForJs=b64Content):(this.signatureModel.name=\"\",this.signatureModel.size=0,this.signatureModel.type=\"\",this.signatureModel.base64=\"\",this.signatureModel.base64ForJs=\"\",this.notify.error(\"Taille maximum de fichier dépassée (2 MB)\"))}clickOnUploader(id){$(\"#\"+id).click()}uploadSignatureTrigger(fileInput){if(fileInput.target.files&&fileInput.target.files[0]){const reader=new FileReader;this.signatureModel.name=fileInput.target.files[0].name,this.signatureModel.size=fileInput.target.files[0].size,this.signatureModel.type=fileInput.target.files[0].type,\"\"===this.signatureModel.label&&(this.signatureModel.label=this.signatureModel.name),reader.readAsDataURL(fileInput.target.files[0]),reader.onload=value=>{window.angularUserAdministrationComponent.componentAfterUpload(value.target.result),this.submitSignature()}}}displaySignatureEditionForm(index){this.selectedSignature=index,this.selectedSignatureLabel=this.user.signatures[index].signature_label}resendActivationNotification(){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.sendActivationNotification\"))&&this.http.put(\"../rest/users/\"+this.serialId+\"/accountActivationNotification\",{}).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.activationNotificationSend\"))},err=>{this.notify.error(err.error.errors)})}toggleGroup(group){!0===$(\"#\"+group.group_id+\"-input\").is(\":checked\")?this.http.post(\"../rest/users/\"+this.serialId+\"/groups\",{groupId:group.group_id,role:group.role}).subscribe(data=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.user.groups=data.groups,this.user.baskets=data.baskets,this.headerService.user.id==this.serialId&&(yield this.headerService.resfreshCurrentUser(),this.privilegeService.resfreshUserShortcuts()),this.notify.success(this.translate.instant(\"lang.groupAdded\"))})),err=>{this.notify.error(err.error.errors)}):this.http.delete(\"../rest/users/\"+this.serialId+\"/groups/\"+group.group_id).subscribe(data=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.user.groups=data.groups,this.user.baskets=data.baskets,this.user.redirectedBaskets=data.redirectedBaskets,this.headerService.user.id==this.serialId&&(yield this.headerService.resfreshCurrentUser(),this.privilegeService.resfreshUserShortcuts()),this.notify.success(this.translate.instant(\"lang.groupDeleted\"))})),err=>{this.notify.error(err.error.errors)})}updateGroup(group){this.http.put(\"../rest/users/\"+this.serialId+\"/groups/\"+group.group_id,group).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.groupUpdated\"))},err=>{this.notify.error(err.error.errors)})}addEntity(entities){entities.forEach(ent=>{this.http.post(\"../rest/users/\"+this.serialId+\"/entities\",{entityId:ent.entity_id,role:\"\"}).subscribe(data=>{this.user.entities=data.entities,this.user.allEntities=data.allEntities,this.headerService.user.id==this.serialId&&this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.entityAdded\"))},err=>{this.notify.error(err.error.errors)})})}updateEntity(entity){this.http.put(\"../rest/users/\"+this.serialId+\"/entities/\"+entity.entity_id,entity).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.entityUpdated\"))},err=>{this.notify.error(err.error.errors)})}updatePrimaryEntity(entity){this.http.put(\"../rest/users/\"+this.serialId+\"/entities/\"+entity.entity_id+\"/primaryEntity\",{}).subscribe(data=>{this.user.entities=data.entities,this.notify.success(this.translate.instant(\"lang.entityTooglePrimary\")+\" « \"+entity.entity_id+\" »\")},err=>{this.notify.error(err.error.errors)})}deleteEntity(entities){entities.forEach(ent=>{const entityId=ent.entity_id;this.http.get(\"../rest/users/\"+this.serialId+\"/entities/\"+entityId).subscribe(data=>{data.hasConfidentialityInstances||data.hasListTemplates?(this.config={panelClass:\"maarch-modal\",data:{hasConfidentialityInstances:data.hasConfidentialityInstances,hasListTemplates:data.hasListTemplates}},this.dialogRef=this.dialog.open(user_administration_component_UserAdministrationRedirectModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{this.mode=\"delete\",result?(this.mode=result.processMode,this.http.request(\"DELETE\",\"../rest/users/\"+this.serialId+\"/entities/\"+entityId,{body:{mode:this.mode,newUser:result.newUser}}).subscribe(dataEntities=>{this.user.entities=dataEntities.entities,this.user.allEntities=dataEntities.allEntities,this.headerService.user.id==this.serialId&&this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.entityDeleted\"))},err=>{this.notify.error(err.error.errors)})):(this.maarchTree.toggleNode(this.maarchTree.dataSource.data,{selected:!0,opened:!0},[ent.id]),this.mode=\"\"),this.dialogRef=null})):this.http.delete(\"../rest/users/\"+this.serialId+\"/entities/\"+entityId).subscribe(dataEntities=>{this.user.entities=dataEntities.entities,this.user.allEntities=dataEntities.allEntities,this.headerService.user.id==this.serialId&&this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.entityDeleted\"))},err=>{this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)})})}submitSignature(){this.http.post(\"../rest/users/\"+this.serialId+\"/signatures\",this.signatureModel).subscribe(data=>{this.user.signatures=data.signatures,this.notify.success(this.translate.instant(\"lang.signAdded\")),this.signatureModel={base64:\"\",base64ForJs:\"\",name:\"\",type:\"\",size:0,label:\"\"}},err=>{this.notify.error(err.error.errors)})}updateSignature(selectedSignature){this.http.put(\"../rest/users/\"+this.serialId+\"/signatures/\"+this.user.signatures[selectedSignature].id,{label:this.user.signatures[selectedSignature].signature_label}).subscribe(data=>{this.user.signatures[selectedSignature].signature_label=data.signature.signature_label,this.notify.success(this.translate.instant(\"lang.signUpdated\"))},err=>{this.notify.error(err.error.errors)})}deleteSignature(signature){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+signature.signature_label+\" »\")&&this.http.delete(\"../rest/users/\"+this.serialId+\"/signatures/\"+signature.id).subscribe(data=>{this.user.signatures=data.signatures,this.notify.success(this.translate.instant(\"lang.signDeleted\"))},err=>{this.notify.error(err.error.errors)})}test(event){if(event.mouseEvent.dataTransfer.files&&event.mouseEvent.dataTransfer.files[0]){const reader=new FileReader;this.signatureModel.name=event.mouseEvent.dataTransfer.files[0].name,this.signatureModel.size=event.mouseEvent.dataTransfer.files[0].size,this.signatureModel.type=event.mouseEvent.dataTransfer.files[0].type,\"\"===this.signatureModel.label&&(this.signatureModel.label=this.signatureModel.name),reader.readAsDataURL(event.mouseEvent.dataTransfer.files[0]),reader.onload=value=>{window.angularUserAdministrationComponent.componentAfterUpload(value.target.result),this.submitSignature()}}}addBasketRedirection(newUser){const basketsRedirect=[];this.selectionBaskets.selected.forEach(elem=>{basketsRedirect.push({actual_user_id:newUser.serialId,basket_id:elem.basket_id,group_id:elem.groupSerialId,originalOwner:null})}),confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.redirectBasket\"))&&this.http.post(\"../rest/users/\"+this.serialId+\"/redirectedBaskets\",basketsRedirect).subscribe(data=>{this.user.baskets=data.baskets,this.user.redirectedBaskets=data.redirectedBaskets,this.selectionBaskets.clear(),this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.notify.error(err.error.errors)})}reassignBasketRedirection(newUser,basket,i){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.redirectBasket\"))&&this.http.post(\"../rest/users/\"+this.serialId+\"/redirectedBaskets\",[{actual_user_id:newUser.serialId,basket_id:basket.basket_id,group_id:basket.group_id,originalOwner:basket.owner_user_id}]).subscribe(data=>{this.user.baskets=data.baskets,this.user.assignedBaskets.splice(i,1),this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.notify.error(err.error.errors)})}delBasketRedirection(basket,i){confirm(this.translate.instant(\"lang.confirmAction\"))&&this.http.delete(\"../rest/users/\"+this.serialId+\"/redirectedBaskets?redirectedBasketIds[]=\"+basket.id).subscribe(data=>{this.user.baskets=data.baskets,this.user.redirectedBaskets.splice(i,1),this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.notify.error(err.error.errors)})}delBasketAssignRedirection(basket,i){confirm(this.translate.instant(\"lang.confirmAction\"))&&this.http.delete(\"../rest/users/\"+this.serialId+\"/redirectedBaskets?redirectedBasketIds[]=\"+basket.id).subscribe(data=>{this.user.baskets=data.baskets,this.user.assignedBaskets.splice(i,1),this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.notify.error(err.error.errors)})}toggleBasket(state){const basketsDisable=[];this.user.baskets.forEach(elem=>{this.selectionBaskets.selected.forEach(selected=>{elem.basket_id===selected.basket_id&&elem.group_id===selected.group_id&&elem.allowed!==state&&(elem.allowed=state,basketsDisable.push({basketId:elem.basket_id,groupSerialId:elem.groupSerialId,allowed:state}))})}),basketsDisable.length>0&&this.http.put(\"../rest/users/\"+this.serialId+\"/baskets\",{baskets:basketsDisable}).subscribe(data=>{this.selectionBaskets.clear(),this.notify.success(this.translate.instant(\"lang.basketsUpdated\"))},err=>{this.notify.error(err.error.errors)})}activateAbsence(){this.http.put(\"../rest/users/\"+this.serialId+\"/status\",{status:\"ABS\"}).subscribe(data=>{this.user.status=data.user.status,this.userAbsenceModel=[],this.notify.success(this.translate.instant(\"lang.absOn\"))},err=>{this.notify.error(err.error.errors)})}desactivateAbsence(){this.http.put(\"../rest/users/\"+this.serialId+\"/status\",{status:\"OK\"}).subscribe(data=>{this.user.status=data.user.status,this.notify.success(this.translate.instant(\"lang.absOff\"))},err=>{this.notify.error(err.error.errors)})}getErrorMessage(){return this.firstFormGroup.controls.retypePasswordCtrl.setErrors(this.firstFormGroup.controls.newPasswordCtrl.value!==this.firstFormGroup.controls.retypePasswordCtrl.value?{mismatch:!0}:null),this.firstFormGroup.controls.newPasswordCtrl.hasError(\"required\")?this.translate.instant(\"lang.requiredField\")+\" !\":this.firstFormGroup.controls.newPasswordCtrl.hasError(\"minlength\")&&this.passwordRules.minLength.enabled?this.passwordRules.minLength.value+\" \"+this.translate.instant(\"lang.passwordminLength\")+\" !\":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityUpper&&this.passwordRules.complexityUpper.enabled?this.translate.instant(\"lang.passwordcomplexityUpper\")+\" !\":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityNumber&&this.passwordRules.complexityNumber.enabled?this.translate.instant(\"lang.passwordcomplexityNumber\")+\" !\":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexitySpecial&&this.passwordRules.complexitySpecial.enabled?this.translate.instant(\"lang.passwordcomplexitySpecial\")+\" !\":(this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.validPassword=!0,\"\")}matchValidator(group){return group.controls.newPasswordCtrl.value!==group.controls.retypePasswordCtrl.value&&(group.controls.retypePasswordCtrl.setErrors({mismatch:!0}),{mismatch:!0})}regexValidator(regex,error){return control=>control.value?regex.test(control.value)?null:error:null}changePasswd(){this.http.get(\"../rest/passwordRules\").subscribe(data=>{const valArr=[],ruleTextArr=[],otherRuleTextArr=[];valArr.push(fesm2015_forms.H.required),data.rules.forEach(rule=>{\"minLength\"===rule.label?(this.passwordRules.minLength.enabled=rule.enabled,this.passwordRules.minLength.value=rule.value,rule.enabled&&(valArr.push(fesm2015_forms.H.minLength(this.passwordRules.minLength.value)),ruleTextArr.push(rule.value+\" \"+this.translate.instant(\"lang.password\"+rule.label)))):\"complexityUpper\"===rule.label?(this.passwordRules.complexityUpper.enabled=rule.enabled,this.passwordRules.complexityUpper.value=rule.value,rule.enabled&&(valArr.push(this.regexValidator(new RegExp(\"[A-Z]\"),{complexityUpper:\"\"})),ruleTextArr.push(this.translate.instant(\"lang.password\"+rule.label)))):\"complexityNumber\"===rule.label?(this.passwordRules.complexityNumber.enabled=rule.enabled,this.passwordRules.complexityNumber.value=rule.value,rule.enabled&&(valArr.push(this.regexValidator(new RegExp(\"[0-9]\"),{complexityNumber:\"\"})),ruleTextArr.push(this.translate.instant(\"lang.password\"+rule.label)))):\"complexitySpecial\"===rule.label?(this.passwordRules.complexitySpecial.enabled=rule.enabled,this.passwordRules.complexitySpecial.value=rule.value,rule.enabled&&(valArr.push(this.regexValidator(new RegExp(\"[^A-Za-z0-9]\"),{complexitySpecial:\"\"})),ruleTextArr.push(this.translate.instant(\"lang.password\"+rule.label)))):\"renewal\"===rule.label?(this.passwordRules.renewal.enabled=rule.enabled,this.passwordRules.renewal.value=rule.value,rule.enabled&&otherRuleTextArr.push(this.translate.instant(\"lang.password\"+rule.label)+\" <b>\"+rule.value+\" \"+this.translate.instant(\"lang.days\")+\"</b>. \"+this.translate.instant(\"lang.password2\"+rule.label)+\".\")):\"historyLastUse\"===rule.label&&(this.passwordRules.historyLastUse.enabled=rule.enabled,this.passwordRules.historyLastUse.value=rule.value,rule.enabled&&otherRuleTextArr.push(this.translate.instant(\"lang.passwordhistoryLastUseDesc\")+\" <b>\"+rule.value+\"</b> \"+this.translate.instant(\"lang.passwordhistoryLastUseDesc2\")+\".\"))}),this.ruleText=ruleTextArr.join(\", \"),this.otherRuleText=otherRuleTextArr.join(\"<br/>\"),this.firstFormGroup.controls.newPasswordCtrl.setValidators(valArr)},err=>{this.notify.error(err.error.errors)}),this.firstFormGroup=this._formBuilder.group({newPasswordCtrl:[\"\"],retypePasswordCtrl:[\"\",fesm2015_forms.H.compose([fesm2015_forms.H.required])],currentPasswordCtrl:[\"\",fesm2015_forms.H.compose([fesm2015_forms.H.required])]},{validator:this.matchValidator}),this.validPassword=!1,this.firstFormGroup.controls.currentPasswordCtrl.setErrors(null),this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.firstFormGroup.controls.retypePasswordCtrl.setErrors(null),this.showPassword=!0,this.selectedTabIndex=0}updatePassword(){this.passwordModel.currentPassword=this.firstFormGroup.controls.currentPasswordCtrl.value,this.passwordModel.newPassword=this.firstFormGroup.controls.newPasswordCtrl.value,this.passwordModel.reNewPassword=this.firstFormGroup.controls.retypePasswordCtrl.value,this.http.put(\"../rest/users/\"+this.serialId+\"/password\",this.passwordModel).subscribe(()=>{this.showPassword=!1,this.passwordModel={currentPassword:\"\",newPassword:\"\",reNewPassword:\"\"},this.notify.success(this.translate.instant(\"lang.passwordUpdated\"))},err=>{this.notify.error(err.error.errors)})}onSubmit(){if(this.creationMode){let r=!0;this.http.get(\"../rest/users/\"+this.user.userId+\"/status\").subscribe(data=>{let deletedUser=!1;data.status&&\"DEL\"===data.status&&(r=confirm(this.translate.instant(\"lang.reactivateUserDeleted\")),deletedUser=!0),r&&this.http.post(\"../rest/users\",this.user).subscribe(result=>{this.notify.success(this.translate.instant(deletedUser?\"lang.userUpdated\":\"lang.userAdded\")),this.router.navigate([\"/administration/users/\"+result.id])},err=>{this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)})}else{const user=Object.assign({},this.user);\"rest\"===this.user.mode&&(user.authorizedApi=\"\"!==this.user.authorizedApi.split(\"\\n\")[0]?this.user.authorizedApi.split(\"\\n\"):[]),this.http.put(\"../rest/users/\"+this.serialId,user).subscribe(data=>{this.headerService.user.id==this.serialId&&this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.userUpdated\"))},err=>{this.notify.error(err.error.errors)})}}setUserModeLogin(event){this.user.mode=event.checked?\"rest\":\"standard\"}sendToMaarchParapheur(){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.createUserInMaarchParapheur\"))&&this.http.put(\"../rest/users/\"+this.serialId+\"/maarchParapheur\",\"\").subscribe(data=>{this.notify.success(this.translate.instant(\"lang.userCreatedInMaarchParapheur\")),this.user.external_id.maarchParapheur=data.externalId,this.user.canCreateMaarchParapheurUser=!1},err=>{this.notify.error(err.error.errors)})}setLowerUserId(){this.user.userId=this.user.userId.toLowerCase()}syncMP(){this.loadingSign=!0,this.http.put(\"../rest/users/\"+this.user.id+\"/externalSignatures\",{}).subscribe(data=>{this.loadingSign=!1,this.notify.success(this.translate.instant(\"lang.signsSynchronized\"))},err=>{this.loadingSign=!1,this.notify.error(err.error.errors)})}}return UserAdministrationComponent.ɵfac=function(t){return new(t||UserAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(core.B),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(fesm2015_forms.g),core.Tb(app_service.a),core.Tb(privileges_service.a),core.Tb(core.R))},UserAdministrationComponent.ɵcmp=core.Nb({type:UserAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(user_administration_component_c0,!0),core.Oc(user_administration_component_c1,!0),core.ad(user_administration_component_c2,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.maarchTree=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:27,vars:19,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"max-width\",\"500px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[4,\"ngFor\",\"ngForOf\"],[4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"click\",4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"title\",\"click\",4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"warn\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plane\"],[\"mat-line\",\"\"],[\"color\",\"accent\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-check\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-paper-plane\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-key\"],[\"mat-list-item\",\"\",3,\"title\",\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-link\"],[\"mat-line\",\"\",\"style\",\"font-size:11px;color:red\",4,\"ngIf\"],[\"mat-line\",\"\",2,\"font-size\",\"11px\",\"color\",\"red\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"avatarAccount\"],[\"mat-line\",\"\",1,\"accountInfo\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"title\",\"click\"],[1,\"fas\",\"fa-unlink\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"selectedIndex\",\"selectedIndexChange\",\"selectedTabChange\"],[3,\"label\"],[\"style\",\"margin-bottom: 5%\",4,\"ngIf\"],[\"class\",\"text-warning\",\"style\",\"position: absolute;opacity: 0.25;font-size: 120px;transform: rotate(324deg);-webkit-transform: rotate(324deg);margin-left: 35%;margin-top: 90px;\",4,\"ngIf\"],[\"class\",\"form-horizontal\",3,\"ngSubmit\",4,\"ngIf\"],[3,\"label\",4,\"ngIf\"],[3,\"label\",\"disabled\",4,\"ngIf\"],[2,\"margin-bottom\",\"5%\"],[3,\"formGroup\"],[1,\"form-group\"],[2,\"padding\",\"10px\"],[\"matInput\",\"\",\"formControlName\",\"currentPasswordCtrl\",\"required\",\"\",3,\"placeholder\",\"type\"],[\"matSuffix\",\"\",1,\"fa\",\"fa-2x\",3,\"ngClass\",\"click\"],[2,\"text-align\",\"center\",\"color\",\"rgba(0,0,0,0.54)\",\"font-size\",\"75%\"],[1,\"col-sm-6\",2,\"padding-left\",\"0px\",\"padding-right\",\"0px\"],[\"matInput\",\"\",\"formControlName\",\"newPasswordCtrl\",\"required\",\"\",3,\"placeholder\",\"type\"],[\"inputPasswd\",\"\"],[\"matInput\",\"\",\"required\",\"\",\"formControlName\",\"retypePasswordCtrl\",3,\"placeholder\",\"type\"],[\"inputPasswd2\",\"\"],[\"class\",\"form-group\",4,\"ngIf\"],[2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"button\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"default\",\"type\",\"button\",3,\"click\"],[\"color\",\"accent\",1,\"fa\",\"fa-check\"],[\"color\",\"accent\"],[1,\"col-sm-12\",2,\"padding-left\",\"0px\",\"padding-right\",\"0px\"],[\"role\",\"alert\",1,\"alert\",\"alert-warning\",2,\"text-align\",\"center\",3,\"innerHTML\"],[1,\"text-warning\",2,\"position\",\"absolute\",\"opacity\",\"0.25\",\"font-size\",\"120px\",\"transform\",\"rotate(324deg)\",\"-webkit-transform\",\"rotate(324deg)\",\"margin-left\",\"35%\",\"margin-top\",\"90px\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"profileForm\",\"ngForm\"],[1,\"col-sm-12\"],[1,\"pull-left\"],[1,\"avatar\",2,\"font-size\",\"90px\",\"text-align\",\"center\"],[1,\"fa\",\"fa-user\",2,\"font-size\",\"90px\",\"padding-top\",\"5px\"],[1,\"input-group\"],[\"matInput\",\"\",\"type\",\"text\",\"name\",\"user_id\",\"pattern\",\"^[\\\\w.@-]*$\",\"required\",\"\",3,\"title\",\"ngModel\",\"placeholder\",\"ngModelChange\",\"keyup\",4,\"ngIf\"],[\"matInput\",\"\",\"type\",\"text\",\"disabled\",\"\",3,\"title\",\"value\",\"placeholder\",4,\"ngIf\"],[1,\"col-sm-5\",2,\"font-weight\",\"bold\"],[\"matInput\",\"\",\"type\",\"text\",\"id\",\"lastname\",\"name\",\"lastname\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"type\",\"text\",\"id\",\"firstname\",\"name\",\"firstname\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-sm-2\",2,\"font-style\",\"italic\"],[\"matInput\",\"\",\"type\",\"text\",\"id\",\"initials\",\"name\",\"initials\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"type\",\"tel\",\"id\",\"phone\",\"name\",\"phone\",\"pattern\",\"\\\\+?((|\\\\ |\\\\.|\\\\(|\\\\)|\\\\-)?(\\\\d)*)*\\\\d$\",3,\"title\",\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"matInput\",\"\",\"type\",\"email\",\"id\",\"mail\",\"name\",\"mail\",\"pattern\",\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$)\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"expanded\"],[2,\"color\",\"rgba(0,0,0,0.54)\"],[\"id\",\"accountType\",\"name\",\"accountType\",\"required\",\"\",3,\"ngModel\",\"disabled\",\"ngModelChange\"],[1,\"form-group\",2,\"margin-top\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\",4,\"ngIf\"],[\"matInput\",\"\",\"type\",\"text\",\"name\",\"user_id\",\"pattern\",\"^[\\\\w.@-]*$\",\"required\",\"\",3,\"title\",\"ngModel\",\"placeholder\",\"ngModelChange\",\"keyup\"],[\"matInput\",\"\",\"type\",\"text\",\"disabled\",\"\",3,\"title\",\"value\",\"placeholder\"],[3,\"value\",\"disabled\",\"title\"],[\"matInput\",\"\",\"name\",\"authorizedApi\",\"placeholder\",\"Ex : PUT/attachments/{id}\",3,\"ngModel\",\"ngModelChange\"],[\"target\",\"_blank\",3,\"href\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"disableRipple\",\"true\",4,\"ngFor\",\"ngForOf\"],[\"disableRipple\",\"true\"],[\"color\",\"primary\",3,\"id\",\"checked\",\"disabled\",\"change\"],[3,\"selectionPropagation\",\"openState\",\"afterSelectNode\",\"afterDeselectNode\"],[\"maarchTree\",\"\"],[1,\"col-sm-6\",2,\"overflow\",\"hidden\"],[\"mat-list-icon\",\"\",\"color\",\"primary\"],[\"color\",\"primary\",3,\"checked\",\"matTooltip\",\"change\"],[\"mat-line\",\"\",\"style\",\"opacity: 0.5;font-style: italic;font-size: 80%;margin-top:10px;\",4,\"ngIf\"],[\"mat-line\",\"\",\"style\",\"margin-top:10px;\",4,\"ngIf\"],[\"mat-line\",\"\",2,\"opacity\",\"0.5\",\"font-style\",\"italic\",\"font-size\",\"80%\",\"margin-top\",\"10px\"],[\"mat-line\",\"\",2,\"margin-top\",\"10px\"],[\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\",\"matTooltip\"],[1,\"fa\",\"fa-reply\"],[1,\"vertical-divider\",3,\"vertical\"],[\"color\",\"warn\",\"mat-icon-button\",\"\",3,\"matTooltip\",\"click\"],[1,\"fa\",\"fa-ban\"],[\"color\",\"accent\",\"mat-icon-button\",\"\",3,\"matTooltip\",\"click\"],[1,\"fa\",\"fa-check\"],[2,\"width\",\"200px !important\"],[\"menu\",\"matMenu\"],[\"appearance\",\"outline\",3,\"labelPlaceholder\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[\"style\",\"cursor: pointer;\",4,\"ngIf\"],[2,\"cursor\",\"pointer\"],[\"mat-list-icon\",\"\",\"color\",\"primary\",4,\"ngIf\"],[\"mat-line\",\"\",\"color\",\"primary\",2,\"display\",\"flex\",\"align-items\",\"center\"],[2,\"flex\",\"2\",\"overflow\",\"hidden\",\"text-overflow\",\"ellipsis\",3,\"matTooltip\",\"ngStyle\",\"click\"],[1,\"label\",\"label-primary\",2,\"font-weight\",\"normal\"],[\"color\",\"primary\",3,\"checked\",\"click\",\"change\"],[\"mat-list-icon\",\"\",\"color\",\"primary\",1,\"fa\",\"fa-paper-plane\",2,\"margin-top\",\"-60px\"],[\"mat-line\",\"\",\"color\",\"primary\"],[\"type\",\"text\",\"color\",\"warn\",\"matInput\",\"\",\"disabled\",\"\",3,\"value\"],[\"mat-button\",\"\",\"color\",\"warn\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",\"aria-label\",\"Clear\",3,\"matTooltip\",\"click\"],[\"color\",\"warn\",1,\"fa\",\"fa-times\",\"text-danger\"],[\"mat-list-icon\",\"\",\"color\",\"primary\",1,\"fa\",\"fa-reply\",2,\"margin-top\",\"-60px\"],[\"appearance\",\"outline\",3,\"labelPlaceholder\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\",4,\"ngIf\"],[\"color\",\"primary\",1,\"fa\",\"fa-edit\"],[3,\"label\",\"disabled\"],[\"dnd-droppable\",\"\",\"class\",\"dndFile\",3,\"matTooltip\",\"dndFileHighlighted\",\"click\",\"dragover\",\"dragleave\",\"onDropSuccess\",4,\"ngIf\"],[2,\"display\",\"flex\",\"align-items\",\"flex-start\"],[2,\"flex\",\"1\"],[\"class\",\"col-md-3 col-sm-6 col-xm-12\",4,\"ngFor\",\"ngForOf\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"matTooltip\",\"disabled\",\"click\",4,\"ngIf\"],[2,\"display\",\"none\",3,\"ngSubmit\"],[\"signatureForm\",\"ngForm\"],[1,\"col-md-11\"],[\"type\",\"text\",\"id\",\"signLabel\",\"name\",\"label\",\"required\",\"\",1,\"form-control\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[1,\"form-inline\",\"hide\"],[\"type\",\"file\",\"name\",\"files[]\",\"id\",\"uploadSignFile\",\"accept\",\"image/*\",3,\"change\"],[1,\"col-md-1\",2,\"margin-bottom\",\"5px\"],[\"type\",\"submit\",1,\"form-control\",\"btn\",\"btn-sm\",\"btn-success\",3,\"disabled\"],[1,\"fa\",\"fa-plus\"],[3,\"ngClass\"],[1,\"upload-drop-zone\",2,\"cursor\",\"pointer\",3,\"click\"],[1,\"fa\",\"fa-upload\",\"fa-2x\"],[\"class\",\"col-md-2\",4,\"ngIf\"],[\"dnd-droppable\",\"\",1,\"dndFile\",3,\"matTooltip\",\"click\",\"dragover\",\"dragleave\",\"onDropSuccess\"],[1,\"col-md-3\",\"col-sm-6\",\"col-xm-12\"],[2,\"margin-bottom\",\"10px\",\"overflow\",\"hidden\"],[\"floatLabel\",\"never\"],[\"matInput\",\"\",\"type\",\"text\",\"name\",\"selectedSignatureLabel\",3,\"ngModel\",\"placeholder\",\"disabled\",\"ngModelChange\",\"change\"],[\"mat-button\",\"\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"disabled\",\"click\"],[1,\"fa\",\"fa-times\"],[\"alt\",\"Signature\",2,\"width\",\"auto\",\"height\",\"60px\",3,\"src\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"matTooltip\",\"disabled\",\"click\"],[1,\"fa\",\"fa-sync-alt\",\"fa-2x\"],[1,\"col-md-2\"],[\"id\",\"signaturePreview\",\"alt\",\"Invalid image\",2,\"width\",\"100%\",3,\"src\"],[1,\"col-md-12\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"placeholder\",\"keyup\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortActive\",\"event_date\",\"matSortDirection\",\"desc\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"event_date\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",4,\"matCellDef\"],[\"matColumnDef\",\"record_id\"],[\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"matColumnDef\",\"info\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"remote_ip\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[1,\"col-md-3\",\"pull-right\",2,\"padding-top\",\"10px\"],[\"matInput\",\"\",\"disabled\",\"\",3,\"ngModel\",\"matDatepicker\",\"placeholder\",\"ngModelChange\"],[\"matSuffix\",\"\",3,\"for\"],[\"startView\",\"month\",3,\"startAt\"],[\"picker\",\"\"],[\"mat-sort-header\",\"\",2,\"flex\",\"1\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-users\"],[2,\"font-size\",\"10px\"],[\"matInput\",\"\",\"type\",\"text\",\"id\",\"role\",\"name\",\"role\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\",\"change\"],[3,\"matTooltip\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",\"class\",\"fa fa-sitemap\",4,\"ngIf\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",\"class\",\"fa fa-sitemap\",\"style\",\"position:relative;\",4,\"ngIf\"],[\"mat-line\",\"\",3,\"ngStyle\",\"matTooltip\"],[\"class\",\"label label-primary\",\"style\",\"font-weight:normal\",4,\"ngIf\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-sitemap\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-sitemap\",2,\"position\",\"relative\"],[\"mat-icon-button\",\"\",2,\"cursor\",\"pointer\",\"position\",\"absolute\",\"right\",\"-20px\",\"top\",\"-20px\",\"font-size\",\"10px\",3,\"matTooltip\",\"click\"],[1,\"fa\",\"fa-arrow-up\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,UserAdministrationComponent_ng_template_1_Template,3,2,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,UserAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,UserAdministrationComponent_mat_card_14_Template,12,12,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"mat-list\"),core.Zb(18,\"h3\",13),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Qc(21,UserAdministrationComponent_mat_list_item_21_Template,12,12,\"mat-list-item\",14),core.Ub(22,\"mat-divider\"),core.Zb(23,\"h3\",13),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Qc(26,UserAdministrationComponent_mat_list_item_26_Template,11,15,\"mat-list-item\",14),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()&&!ctx.creationMode),core.Eb(4),core.Tc(core.nc(20,15,\"lang.groups\")),core.Eb(2),core.sc(\"ngForOf\",ctx.user.groups),core.Eb(3),core.Tc(core.nc(25,17,\"lang.entities\")),core.Eb(2),core.sc(\"ngForOf\",ctx.user.entities))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,list.g,common.s,divider.a,list.h,list.d,icon.a,list.c,fesm2015_core.k,fesm2015_button.b,progress_spinner.c,card.a,tabs.c,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.l,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.j,fesm2015_forms.E,form_field.j,common.q,form_field.b,form_field.f,fesm2015_forms.v,fesm2015_forms.w,fesm2015_forms.A,expansion.a,expansion.c,expansion.g,expansion.h,form_field.g,fesm2015_select.a,fesm2015_core.o,slide_toggle.a,maarch_flat_tree_component.a,fesm2015_checkbox.a,tooltip.b,menu.d,menu.e,autocomplete_component.a,common.w,ng2_dnd.d,card.d,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,datepicker.f,datepicker.h,datepicker.d,table.h,fesm2015_sort.b,table.a,table.j,table.l],pipes:[ngx_translate_core.d,sorting_pipe.a,common.b,secureUrl_pipe.a,common.f],styles:[\".avatar[_ngcontent-%COMP%]{text-decoration:none;background:#135f7f;color:#fff;width:100px;height:100px;border-radius:5px;display:block;overflow:hidden;margin:5px}.form-group[_ngcontent-%COMP%]{margin:0}.vertical-divider[_ngcontent-%COMP%]{height:80%}.avatarAccount[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}.accountInfo[_ngcontent-%COMP%]{margin-left:20px!important;display:flex!important}.accountInfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;align-items:center;display:flex}\"]}),UserAdministrationComponent})(),user_administration_component_UserAdministrationRedirectModalComponent=(()=>{class UserAdministrationRedirectModalComponent{constructor(http,data,dialogRef){this.http=http,this.data=data,this.dialogRef=dialogRef,this.redirectUser=\"\",this.processMode=\"\"}setRedirectUser(user){this.redirectUser=user}}return UserAdministrationRedirectModalComponent.ɵfac=function(t){return new(t||UserAdministrationRedirectModalComponent)(core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},UserAdministrationRedirectModalComponent.ɵcmp=core.Nb({type:UserAdministrationRedirectModalComponent,selectors:[[\"ng-component\"]],decls:30,vars:23,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"redirectConfForm\",\"ngForm\"],[\"class\",\"alert-message alert-message-info\",\"role\",\"alert\",3,\"innerHTML\",4,\"ngIf\"],[1,\"input-group\"],[\"id\",\"processMode\",\"name\",\"processMode\",\"color\",\"primary\",2,\"display\",\"inline-flex\",\"flex-direction\",\"column\",3,\"ngModel\",\"ngModelChange\"],[\"value\",\"\",\"checked\",\"true\",\"color\",\"primary\"],[\"value\",\"delete\",\"color\",\"primary\"],[\"value\",\"reaffect\",\"color\",\"primary\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\",4,\"ngIf\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\",2,\"max-width\",\"inherit\"],[4,\"ngIf\"],[3,\"innerHTML\",4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\",\"click\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\",3,\"innerHTML\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[3,\"innerHTML\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"form\",null,2),core.Qc(7,UserAdministrationRedirectModalComponent_div_7_Template,2,3,\"div\",3),core.Qc(8,UserAdministrationRedirectModalComponent_div_8_Template,2,3,\"div\",3),core.Zb(9,\"div\",4),core.Zb(10,\"mat-radio-group\",5),core.hc(\"ngModelChange\",(function($event){return ctx.processMode=$event})),core.Zb(11,\"mat-radio-button\",6),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Zb(14,\"mat-radio-button\",7),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Zb(17,\"mat-radio-button\",8),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Yb(),core.Qc(20,UserAdministrationRedirectModalComponent_plugin_autocomplete_20_Template,3,10,\"plugin-autocomplete\",9),core.Zb(21,\"div\",10),core.Qc(22,UserAdministrationRedirectModalComponent_span_22_Template,4,3,\"span\",11),core.Qc(23,UserAdministrationRedirectModalComponent_span_23_Template,2,3,\"span\",12),core.Qc(24,UserAdministrationRedirectModalComponent_span_24_Template,4,3,\"span\",11),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(25,\"span\",13),core.Zb(26,\"mat-dialog-actions\"),core.Zb(27,\"button\",14),core.hc(\"click\",(function(){return ctx.dialogRef.close({newUser:ctx.redirectUser,processMode:ctx.processMode})})),core.Sc(28),core.mc(29,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,13,\"lang.redirects\")),core.Eb(5),core.sc(\"ngIf\",ctx.data.hasConfidentialityInstances),core.Eb(1),core.sc(\"ngIf\",ctx.data.hasListTemplates),core.Eb(2),core.sc(\"ngModel\",ctx.processMode),core.Eb(2),core.Uc(\" \",core.nc(13,15,\"lang.doNothingRedirect\"),\" \"),core.Eb(3),core.Uc(\" \",core.nc(16,17,\"lang.removeUserRedirect\"),\" \"),core.Eb(3),core.Uc(\" \",core.nc(19,19,\"lang.reaffectUserRedirect\"),\" \"),core.Eb(2),core.sc(\"ngIf\",\"reaffect\"==ctx.processMode),core.Eb(2),core.sc(\"ngIf\",\"\"==ctx.processMode),core.Eb(1),core.sc(\"ngIf\",\"delete\"==ctx.processMode),core.Eb(1),core.sc(\"ngIf\",\"reaffect\"==ctx.processMode),core.Eb(3),core.sc(\"disabled\",!ctx.redirectUser&&\"reaffect\"==ctx.processMode),core.Eb(1),core.Tc(core.nc(29,21,\"lang.validate\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,common.t,fesm2015_radio.b,fesm2015_forms.t,fesm2015_forms.w,fesm2015_radio.a,fesm2015_dialog.c,fesm2015_button.b,autocomplete_component.a],pipes:[ngx_translate_core.d],styles:[\".mat-dialog-content[_ngcontent-%COMP%]{max-height: 65vh;width:600px;}\"]}),UserAdministrationRedirectModalComponent})();const groups_administration_component_c0=[\"snav2\"],groups_administration_component_c1=[\"adminMenuTemplate\"];function GroupsAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function GroupsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function GroupsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",37),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r6=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r6.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.id\"))}}function GroupsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r14=ctx.$implicit,ctx_r7=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r7.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r14.group_id,\" \")}}function GroupsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.description\"),\" \"))}function GroupsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",39),core.Sc(1),core.Yb()),2&rf){const element_r15=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r15.group_desc,\" \")}}function GroupsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\",40)}function GroupsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf){const _r18=core.ac();core.Zb(0,\"mat-cell\",41),core.Zb(1,\"button\",42),core.hc(\"click\",(function($event){core.Hc(_r18);const element_r16=ctx.$implicit,ctx_r17=core.lc(2);return $event.stopPropagation(),ctx_r17.preDelete(element_r16)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",43),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function GroupsAdministrationComponent_mat_card_14_mat_header_row_20_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function GroupsAdministrationComponent_mat_card_14_mat_row_21_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",44),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/groups/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function GroupsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,GroupsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,5,\"mat-header-cell\",26),core.Qc(13,GroupsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,3,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,GroupsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",29),core.Qc(16,GroupsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(17,31),core.Qc(18,GroupsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,1,0,\"mat-header-cell\",32),core.Qc(19,GroupsAdministrationComponent_mat_card_14_mat_cell_19_Template,4,3,\"mat-cell\",33),core.Wb(),core.Qc(20,GroupsAdministrationComponent_mat_card_14_mat_header_row_20_Template,1,0,\"mat-header-row\",34),core.Qc(21,GroupsAdministrationComponent_mat_card_14_mat_row_21_Template,2,4,\"mat-row\",35),core.Yb(),core.Zb(22,\"div\",36),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(11),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.groups.length,\" \",core.nc(24,12,\"lang.groups\"),\"\")}}function GroupsAdministrationRedirectModalComponent_mat_list_item_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\",11),core.Ub(1,\"mat-icon\",12),core.Ub(2,\"h4\",13),core.Zb(3,\"p\",13),core.Sc(4),core.Yb(),core.Yb()),2&rf){const user_r3=ctx.$implicit;core.Eb(4),core.Vc(\" \",user_r3.firstname,\" \",user_r3.lastname,\"\")}}function GroupsAdministrationRedirectModalComponent_mat_option_28_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",14),core.Sc(1),core.Yb()),2&rf){const group_r4=ctx.$implicit;core.sc(\"value\",group_r4.id),core.Eb(1),core.Uc(\" \",group_r4.group_desc,\" \")}}let groups_administration_component_GroupsAdministrationComponent=(()=>{class GroupsAdministrationComponent{constructor(translate,http,notify,dialog,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.config={},this.groups=[],this.groupsForAssign=[],this.displayedColumns=[\"group_id\",\"group_desc\",\"actions\"],this.filterColumns=[\"group_id\",\"group_desc\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.groups\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/groups\").subscribe(data=>{this.groups=data.groups,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_groups\",this.groups,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.handleErrors(err)})}preDelete(group){0===group.users.length?confirm(this.translate.instant(\"lang.reallyWantToDeleteThisGroup\"))&&this.deleteGroup(group):(this.groupsForAssign=[],this.groups.forEach(tmpGroup=>{group.group_id!==tmpGroup.group_id&&this.groupsForAssign.push(tmpGroup)}),this.config={panelClass:\"maarch-modal\",data:{id:group.id,group_desc:group.group_desc,groupsForAssign:this.groupsForAssign,users:group.users}},this.dialogRef=this.dialog.open(groups_administration_component_GroupsAdministrationRedirectModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{result&&(\"_NO_REPLACEMENT\"===result?this.deleteGroup(group):this.http.put(\"../rest/groups/\"+group.id+\"/reassign/\"+result,{}).subscribe(data=>{this.deleteGroup(group)},err=>{this.notify.error(err.error.errors)})),this.dialogRef=null}))}deleteGroup(group){this.http.delete(\"../rest/groups/\"+group.id).subscribe(data=>{setTimeout(()=>{this.groups=data.groups,this.adminService.setDataSource(\"admin_groups\",this.groups,this.sort,this.paginator,this.filterColumns)},0),this.notify.success(this.translate.instant(\"lang.groupDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return GroupsAdministrationComponent.ɵfac=function(t){return new(t||GroupsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},GroupsAdministrationComponent.ɵcmp=core.Nb({type:GroupsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(groups_administration_component_c0,!0),core.Oc(groups_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/groups/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSortDisableClear\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"group_id\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"group_desc\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"actions\"],[\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;flex:1;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[2,\"flex\",\"1\"],[2,\"justify-content\",\"flex-end\",\"flex\",\"1\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,GroupsAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,GroupsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,GroupsAdministrationComponent_mat_card_14_Template,25,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),GroupsAdministrationComponent})(),groups_administration_component_GroupsAdministrationRedirectModalComponent=(()=>{class GroupsAdministrationRedirectModalComponent{constructor(http,data,dialogRef){this.http=http,this.data=data,this.dialogRef=dialogRef}}return GroupsAdministrationRedirectModalComponent.ɵfac=function(t){return new(t||GroupsAdministrationRedirectModalComponent)(core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},GroupsAdministrationRedirectModalComponent.ɵcmp=core.Nb({type:GroupsAdministrationRedirectModalComponent,selectors:[[\"ng-component\"]],decls:34,vars:30,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"changeGroupUsersForm\",\"ngForm\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\"],[\"style\",\"height:25px;\",4,\"ngFor\",\"ngForOf\"],[\"id\",\"groups_redirect\",\"name\",\"groups_redirect\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"_NO_REPLACEMENT\"],[3,\"label\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"divider-modal\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\",\"click\"],[2,\"height\",\"25px\"],[\"mat-list-icon\",\"\",\"color\",\"primary\",1,\"fa\",\"fa-user\"],[\"mat-line\",\"\"],[3,\"value\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h2\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"form\",null,2),core.Zb(7,\"div\",3),core.Sc(8,\" Le groupe \"),core.Zb(9,\"b\"),core.Sc(10),core.Yb(),core.Sc(11),core.mc(12,\"translate\"),core.Zb(13,\"b\"),core.Sc(14),core.Yb(),core.Sc(15),core.mc(16,\"translate\"),core.Zb(17,\"mat-list\"),core.Qc(18,GroupsAdministrationRedirectModalComponent_mat_list_item_18_Template,5,2,\"mat-list-item\",4),core.Yb(),core.Yb(),core.Zb(19,\"mat-form-field\"),core.Zb(20,\"mat-select\",5),core.hc(\"ngModelChange\",(function($event){return ctx.data.group_redirect=$event})),core.mc(21,\"translate\"),core.mc(22,\"translate\"),core.Zb(23,\"mat-option\",6),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Zb(26,\"mat-optgroup\",7),core.mc(27,\"translate\"),core.Qc(28,GroupsAdministrationRedirectModalComponent_mat_option_28_Template,2,2,\"mat-option\",8),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(29,\"span\",9),core.Zb(30,\"mat-dialog-actions\"),core.Zb(31,\"button\",10),core.hc(\"click\",(function(){return ctx.dialogRef.close(ctx.data.group_redirect)})),core.Sc(32),core.mc(33,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r0=core.Dc(6);core.Eb(2),core.Tc(core.nc(3,14,\"lang.groupRedirect\")),core.Eb(8),core.Tc(ctx.data.group_desc),core.Eb(1),core.Uc(\" \",core.nc(12,16,\"lang.isAssociatedTo\"),\" \"),core.Eb(3),core.Tc(ctx.data.users.length),core.Eb(1),core.Uc(\" \",core.nc(16,18,\"lang.usersAlt\"),\": \"),core.Eb(3),core.sc(\"ngForOf\",ctx.data.users),core.Eb(2),core.tc(\"title\",core.nc(21,20,\"lang.chooseRedirectGroup\")),core.tc(\"placeholder\",core.nc(22,22,\"lang.chooseRedirectGroup\")),core.sc(\"ngModel\",ctx.data.group_redirect),core.Eb(4),core.Uc(\"-- \",core.nc(25,24,\"lang.noReplacement\"),\" --\"),core.Eb(2),core.tc(\"label\",core.nc(27,26,\"lang.groups\")),core.Eb(2),core.sc(\"ngForOf\",ctx.data.groupsForAssign),core.Eb(3),core.sc(\"disabled\",!_r0.form.valid),core.Eb(1),core.Tc(core.nc(33,28,\"lang.validate\"))}},directives:[fesm2015_dialog.i,fesm2015_dialog.f,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,list.a,common.s,form_field.c,fesm2015_select.a,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,fesm2015_core.o,fesm2015_core.n,fesm2015_dialog.c,fesm2015_button.b,list.d,icon.a,list.c,fesm2015_core.k],pipes:[ngx_translate_core.d],encapsulation:2}),GroupsAdministrationRedirectModalComponent})();var drag_drop=__webpack_require__(\"5+WD\");function IndexingAdministrationComponent_div_0_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",19),core.Ub(1,\"mat-spinner\",20),core.Yb())}function IndexingAdministrationComponent_div_3_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"div\",21),core.Sc(1),core.mc(2,\"translate\"),core.Zb(3,\"button\",22),core.hc(\"click\",(function(){core.Hc(_r6);const ctx_r5=core.lc();return ctx_r5.toggleIndex(!ctx_r5.indexingInfo.canIndex)})),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,2,\"lang.warnIndex\"),\" \"),core.Eb(3),core.Tc(core.nc(5,4,\"lang.enableIndex\")))}function IndexingAdministrationComponent_button_4_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"button\",23),core.hc(\"click\",(function(){core.Hc(_r8);const ctx_r7=core.lc();return ctx_r7.toggleIndex(!ctx_r7.indexingInfo.canIndex)})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.disableIndex\")))}function IndexingAdministrationComponent_mat_list_item_13_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"mat-list-item\",24),core.Zb(1,\"div\"),core.Ub(2,\"i\",25),core.Yb(),core.Zb(3,\"div\",26),core.Sc(4),core.Yb(),core.Zb(5,\"div\"),core.Zb(6,\"button\",27),core.hc(\"click\",(function(){core.Hc(_r12);const i_r10=ctx.index;return core.lc().removeAction(i_r10)})),core.Ub(7,\"mat-icon\",28),core.Yb(),core.Yb(),core.Ub(8,\"mat-divider\"),core.Yb()}if(2&rf){const action_r9=ctx.$implicit;core.sc(\"cdkDragData\",action_r9),core.Eb(4),core.Uc(\" \",action_r9.label_action,\"\")}}let indexing_administration_component_IndexingAdministrationComponent=(()=>{class IndexingAdministrationComponent{constructor(translate,http,notify,dialog){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.loading=!0,this.resfreshShortcut=new core.o,this.keywordEntities=[],this.actionList=[],this.indexingInfo={canIndex:!1,actions:[],keywords:[],entities:[]},this.keywordEntities=[{id:\"ALL_ENTITIES\",keyword:\"ALL_ENTITIES\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.allEntities\")},{id:\"ENTITIES_JUST_BELOW\",keyword:\"ENTITIES_JUST_BELOW\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.immediatelyBelowMyPrimaryEntity\")},{id:\"ENTITIES_BELOW\",keyword:\"ENTITIES_BELOW\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.belowAllMyEntities\")},{id:\"ALL_ENTITIES_BELOW\",keyword:\"ALL_ENTITIES_BELOW\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.belowMyPrimaryEntity\")},{id:\"MY_ENTITIES\",keyword:\"MY_ENTITIES\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.myEntities\")},{id:\"MY_PRIMARY_ENTITY\",keyword:\"MY_PRIMARY_ENTITY\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.myPrimaryEntity\")},{id:\"SAME_LEVEL_ENTITIES\",keyword:\"SAME_LEVEL_ENTITIES\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.sameLevelMyPrimaryEntity\")},{id:\"ENTITIES_JUST_UP\",keyword:\"ENTITIES_JUST_UP\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.immediatelySuperiorMyPrimaryEntity\")}]}ngOnInit(){this.getIndexingInformations().pipe(Object(operators_tap.tap)(data=>this.indexingInfo.canIndex=data.group.canIndex),Object(operators_tap.tap)(data=>this.getActions(data.actions)),Object(operators_tap.tap)(data=>this.getSelectedActions(data.group.indexationParameters.actions)),Object(map.a)(data=>this.getEntities(data)),Object(map.a)(data=>this.getSelectedEntities(data)),Object(operators_tap.tap)(data=>this.initEntitiesTree(data)),Object(finalize.a)(()=>this.loading=!1)).subscribe()}initEntitiesTree(entities){$(\"#jstree\").jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:\"proton\",responsive:!0},data:entities},plugins:[\"checkbox\",\"search\"]});let to=!1;$(\"#jstree_search\").keyup((function(){to&&clearTimeout(to),to=setTimeout((function(){const v=$(\"#jstree_search\").val();$(\"#jstree\").jstree(!0).search(v)}),250)})),$(\"#jstree\").on(\"select_node.jstree\",(e,data)=>{isNaN(data.node.id)?this.addKeyword(data.node.id):this.addEntity(data.node.id)}).on(\"deselect_node.jstree\",(e,data)=>{isNaN(data.node.id)?this.removeKeyword(data.node.id):this.removeEntity(data.node.id)}).jstree()}getEntities(data){return this.keywordEntities.forEach(entity=>{entity.state=data.group.indexationParameters.keywords.indexOf(entity.id)>-1?{opened:!0,selected:!0}:{opened:!0,selected:!1}}),data.entities=this.keywordEntities.concat(data.entities),data}getSelectedEntities(data){return this.indexingInfo.entities=[...data.group.indexationParameters.entities],this.indexingInfo.keywords=[...data.group.indexationParameters.keywords],data.entities}getActions(data){this.actionList=data}getIndexingInformations(){return this.http.get(\"../rest/groups/\"+this.groupId+\"/indexing\")}getSelectedActions(data){let index=-1;data.forEach(actionId=>{index=this.actionList.findIndex(action=>action.id==actionId),index>-1&&(this.indexingInfo.actions.push(this.actionList[index]),this.actionList.splice(index,1))})}addEntity(entityId){const newEntityList=this.indexingInfo.entities.concat([entityId]);this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{entities:newEntityList}).pipe(Object(operators_tap.tap)(()=>{this.indexingInfo.entities.push(entityId)}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.entityAdded\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}removeEntity(entityId){const index=this.indexingInfo.entities.indexOf(entityId),newEntityList=[...this.indexingInfo.entities];newEntityList.splice(index,1),this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{entities:newEntityList}).pipe(Object(operators_tap.tap)(()=>{this.indexingInfo.entities.splice(index,1)}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.entityDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addKeyword(keyword){const newKeywordList=this.indexingInfo.keywords.concat([keyword]);this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{keywords:newKeywordList}).pipe(Object(operators_tap.tap)(()=>{this.indexingInfo.keywords.push(keyword)}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.keywordAdded\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}removeKeyword(keyword){const index=this.indexingInfo.keywords.indexOf(keyword),newKeywordList=[...this.indexingInfo.keywords];newKeywordList.splice(index,1),this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{keywords:newKeywordList}).pipe(Object(operators_tap.tap)(()=>{this.indexingInfo.keywords.splice(index,1)}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.keywordDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addAction(actionOpt){const newActionListIds=this.indexingInfo.actions.map(action=>action.id).concat([actionOpt].map(action=>action.id));this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{actions:newActionListIds}).pipe(Object(operators_tap.tap)(()=>{const index=this.actionList.findIndex(action=>action.id===actionOpt.id),action=Object.assign({},this.actionList[index]);this.indexingInfo.actions.push(action),this.actionList.splice(index,1)}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.actionAdded\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}removeAction(index){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(map.a)(()=>{this.dialogRef=null;const newActionList=[...this.indexingInfo.actions];return newActionList.splice(index,1),newActionList.map(action=>action.id)}),Object(exhaustMap.a)(data=>this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{actions:data})),Object(operators_tap.tap)(()=>{this.actionList.push(this.indexingInfo.actions[index]),this.indexingInfo.actions.splice(index,1)}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.actionDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}toggleIndex(canIndex){this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{canIndex:canIndex}).pipe(Object(operators_tap.tap)(()=>{this.indexingInfo.canIndex=canIndex,this.resfreshShortcut.emit()}),Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(this.indexingInfo.canIndex?\"lang.indexEnabled\":\"lang.indexDisabled\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}drop(event){if(event.previousContainer===event.container){Object(drag_drop.h)(event.container.data,event.previousIndex,event.currentIndex);const newActionListIds=this.indexingInfo.actions.map(action=>action.id);this.http.put(\"../rest/groups/\"+this.groupId+\"/indexing\",{actions:newActionListIds}).pipe(Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.actionAdded\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}}}return IndexingAdministrationComponent.ɵfac=function(t){return new(t||IndexingAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b))},IndexingAdministrationComponent.ɵcmp=core.Nb({type:IndexingAdministrationComponent,selectors:[[\"app-indexing-administration\"]],inputs:{groupId:\"groupId\"},outputs:{resfreshShortcut:\"resfreshShortcut\"},decls:25,vars:18,consts:[[\"class\",\"loading\",4,\"ngIf\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-12\"],[\"class\",\"alert-message alert-message-danger\",\"role\",\"alert\",\"style\",\"margin-top: 30px;\",4,\"ngIf\"],[\"color\",\"warn\",\"mat-raised-button\",\"\",3,\"click\",4,\"ngIf\"],[1,\"col-md-8\",2,\"margin-top\",\"20px\"],[1,\"formType\"],[1,\"formType-title\"],[1,\"infoActions\",3,\"innerHTML\"],[\"appearance\",\"outline\",3,\"labelPlaceholder\",\"datas\",\"targetSearchKey\",\"triggerEvent\"],[\"cdkDropList\",\"\",\"role\",\"list\",1,\"selectedActionList\",3,\"cdkDropListData\",\"cdkDropListDropped\"],[\"class\",\"selectedAction\",\"role\",\"listitem\",\"cdkDrag\",\"\",\"cdkDragLockAxis\",\"y\",3,\"cdkDragData\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-4\",2,\"margin-top\",\"20px\"],[1,\"formType\",\"jstreeEntities\"],[\"appearance\",\"outline\"],[\"color\",\"primary\",\"matPrefix\",\"\",1,\"fa\",\"fa-search\"],[\"matInput\",\"\",\"id\",\"jstree_search\",\"name\",\"jstree_search\",\"type\",\"text\",3,\"placeholder\"],[\"id\",\"jstree\"],[\"jstree\",\"\"],[1,\"loading\"],[2,\"margin\",\"auto\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-danger\",2,\"margin-top\",\"30px\"],[\"mat-raised-button\",\"\",3,\"click\"],[\"color\",\"warn\",\"mat-raised-button\",\"\",3,\"click\"],[\"role\",\"listitem\",\"cdkDrag\",\"\",\"cdkDragLockAxis\",\"y\",1,\"selectedAction\",3,\"cdkDragData\"],[\"color\",\"primary\",\"cdkDragHandle\",\"\",1,\"fas\",\"fa-bars\",\"fa-2x\",2,\"cursor\",\"move\"],[1,\"actionLabel\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"click\"],[1,\"fa\",\"fa-trash\"]],template:function(rf,ctx){1&rf&&(core.Qc(0,IndexingAdministrationComponent_div_0_Template,2,0,\"div\",0),core.Zb(1,\"div\",1),core.Zb(2,\"div\",2),core.Qc(3,IndexingAdministrationComponent_div_3_Template,6,6,\"div\",3),core.Qc(4,IndexingAdministrationComponent_button_4_Template,3,3,\"button\",4),core.Yb(),core.Zb(5,\"div\",5),core.Zb(6,\"div\",6),core.Zb(7,\"div\",7),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Ub(10,\"mat-hint\",8),core.Zb(11,\"plugin-autocomplete\",9),core.hc(\"triggerEvent\",(function($event){return ctx.addAction($event)})),core.Yb(),core.Zb(12,\"mat-list\",10),core.hc(\"cdkDropListDropped\",(function($event){return ctx.drop($event)})),core.Qc(13,IndexingAdministrationComponent_mat_list_item_13_Template,9,2,\"mat-list-item\",11),core.Yb(),core.Yb(),core.Yb(),core.Zb(14,\"div\",12),core.Zb(15,\"div\",13),core.Zb(16,\"div\",7),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Zb(19,\"mat-form-field\",14),core.Ub(20,\"mat-icon\",15),core.Ub(21,\"input\",16),core.mc(22,\"translate\"),core.Yb(),core.Ub(23,\"div\",17,18),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.sc(\"ngIf\",ctx.loading),core.Eb(3),core.sc(\"ngIf\",!ctx.indexingInfo.canIndex),core.Eb(1),core.sc(\"ngIf\",ctx.indexingInfo.canIndex),core.Eb(4),core.Uc(\" \",core.nc(9,12,\"lang.availableIndexingActions\"),\" \"),core.Eb(2),core.sc(\"innerHTML\",ctx.translate.instant(\"lang.actionsInfo\"),core.Ic),core.Eb(1),core.sc(\"labelPlaceholder\",ctx.translate.instant(\"lang.linkNewAction\"))(\"datas\",ctx.actionList)(\"targetSearchKey\",\"label_action\"),core.Eb(1),core.sc(\"cdkDropListData\",ctx.indexingInfo.actions),core.Eb(1),core.sc(\"ngForOf\",ctx.indexingInfo.actions),core.Eb(4),core.Uc(\" \",core.nc(18,14,\"lang.authorizedEntities\"),\" \"),core.Eb(4),core.tc(\"placeholder\",core.nc(22,16,\"lang.searchEntities\")))},directives:[common.t,form_field.f,autocomplete_component.a,list.a,drag_drop.e,common.s,form_field.c,icon.a,form_field.i,input.b,progress_spinner.c,fesm2015_button.b,list.d,drag_drop.a,drag_drop.b,divider.a],pipes:[ngx_translate_core.d],styles:[\".loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;background:#fff;z-index:2}.loading[_ngcontent-%COMP%], .selectedActionList[_ngcontent-%COMP%]{width:100%}.infoActions[_ngcontent-%COMP%]{font-size:80%}.selectedAction[_ngcontent-%COMP%]{height:70px}.selectedAction[_ngcontent-%COMP%]   .actionLabel[_ngcontent-%COMP%]{padding-left:10px;flex:1}.formType[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;background:#fff;position:absolute;top:-18px;left:10px;padding:0;margin:0;color:#135f7f}.alert-message[_ngcontent-%COMP%]{max-width:100%}a[_ngcontent-%COMP%]{cursor:pointer}.jstreeEntities[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.selectedAction[_ngcontent-%COMP%]:last-child{border:none}.selectedAction.cdk-drop-list-dragging[_ngcontent-%COMP%]   .selectedAction[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\"]}),IndexingAdministrationComponent})();var filterList_pipe=__webpack_require__(\"8N1J\");const group_administration_component_c0=[\"snav2\"],group_administration_component_c1=[\"paginatorBaskets\"],group_administration_component_c2=[\"sortBaskets\"],group_administration_component_c3=[\"sortUsers\"];function GroupAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",13),core.Ub(1,\"mat-spinner\",14),core.Yb())}function GroupAdministrationComponent_mat_card_12_input_7_Template(rf,ctx){if(1&rf){const _r13=core.ac();core.Zb(0,\"input\",28),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r13),core.lc(2).group.group_id=$event})),core.mc(1,\"translate\"),core.Yb()}if(2&rf){const ctx_r6=core.lc(2);core.tc(\"placeholder\",core.nc(1,2,\"lang.id\")),core.sc(\"ngModel\",ctx_r6.group.group_id)}}function GroupAdministrationComponent_mat_card_12_input_8_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"input\",29),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r15),core.lc(2).group.group_id=$event})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r7=core.lc(2);core.tc(\"placeholder\",core.nc(1,3,\"lang.id\")),core.tc(\"title\",core.nc(2,5,\"lang.id\")),core.sc(\"ngModel\",ctx_r7.group.group_id)}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_list_item_4_Template(rf,ctx){if(1&rf){const _r24=core.ac();core.Zb(0,\"mat-list-item\"),core.Zb(1,\"mat-slide-toggle\",37),core.hc(\"change\",(function($event){core.Hc(_r24);const menu_r22=ctx.$implicit;return core.lc(4).toggleService($event,menu_r22)})),core.mc(2,\"translate\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const menu_r22=ctx.$implicit,ctx_r17=core.lc(4);core.Eb(1),core.tc(\"name\",menu_r22.label),core.tc(\"matTooltip\",core.nc(2,4,menu_r22.comment)),core.sc(\"checked\",ctx_r17.group.privileges.indexOf(menu_r22.id)>-1),core.Eb(2),core.Uc(\" \",core.nc(4,6,menu_r22.label),\"\")}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_div_12_button_5_Template(rf,ctx){if(1&rf){const _r28=core.ac();core.Zb(0,\"button\",41),core.hc(\"click\",(function($event){core.Hc(_r28);const administration_r25=core.lc().$implicit,ctx_r27=core.lc(4);return $event.stopPropagation(),ctx_r27.openUserParams(administration_r25.id)})),core.Ub(1,\"mat-icon\",42),core.Yb()}if(2&rf){const administration_r25=core.lc().$implicit,ctx_r26=core.lc(4);core.Jb(\"active\",ctx_r26.panelMode===administration_r25.id),core.sc(\"title\",ctx_r26.translate.instant(\"lang.goToAdminParams\"))(\"disabled\",-1===ctx_r26.group.privileges.indexOf(administration_r25.id))}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_div_12_Template(rf,ctx){if(1&rf){const _r32=core.ac();core.Zb(0,\"div\",38),core.Zb(1,\"mat-slide-toggle\",39),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r32),ctx.$implicit.checked=$event}))(\"change\",(function($event){core.Hc(_r32);const administration_r25=ctx.$implicit;return core.lc(4).toggleService($event,administration_r25)})),core.mc(2,\"translate\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Qc(5,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_div_12_button_5_Template,2,4,\"button\",40),core.Yb()}if(2&rf){const administration_r25=ctx.$implicit;core.Eb(1),core.tc(\"name\",administration_r25.label),core.tc(\"matTooltip\",core.nc(2,6,administration_r25.comment)),core.sc(\"ngModel\",administration_r25.checked)(\"checked\",administration_r25.checked),core.Eb(2),core.Uc(\"\",core.nc(4,8,administration_r25.label),\" \"),core.Eb(2),core.sc(\"ngIf\",administration_r25.hasParams)}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_5_mat_list_item_2_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"mat-list-item\"),core.Zb(1,\"mat-slide-toggle\",37),core.hc(\"change\",(function($event){core.Hc(_r41);const privilege_r39=ctx.$implicit;return core.lc(6).toggleService($event,privilege_r39)})),core.mc(2,\"translate\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const privilege_r39=ctx.$implicit,ctx_r38=core.lc(6);core.Eb(1),core.tc(\"name\",privilege_r39.label),core.tc(\"matTooltip\",core.nc(2,4,privilege_r39.comment)),core.sc(\"checked\",ctx_r38.group.privileges.indexOf(privilege_r39.id)>-1),core.Eb(2),core.Uc(\"\",core.nc(4,6,privilege_r39.label),\" \")}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_5_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-list\"),core.Qc(2,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_5_mat_list_item_2_Template,5,8,\"mat-list-item\",30),core.mc(3,\"filterList\"),core.mc(4,\"sortBy\"),core.Yb(),core.Wb()),2&rf){const unit_r34=core.lc().$implicit;core.lc();const _r20=core.Dc(19);core.Eb(2),core.sc(\"ngForOf\",core.pc(3,1,core.oc(4,5,unit_r34.services,\"label\"),_r20.value,\"label\"))}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_6_mat_list_item_1_mat_option_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",51),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const subservice_r46=ctx.$implicit;core.sc(\"value\",subservice_r46.id),core.Eb(1),core.Tc(core.nc(2,2,subservice_r46.label))}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_6_mat_list_item_1_Template(rf,ctx){if(1&rf){const _r48=core.ac();core.Zb(0,\"mat-list-item\",45),core.Ub(1,\"span\",46),core.Zb(2,\"mat-form-field\",47),core.Zb(3,\"mat-select\",48),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r48),ctx.$implicit.current=$event}))(\"selectionChange\",(function($event){core.Hc(_r48);const fakePrivilege_r44=ctx.$implicit;return core.lc(6).changeDifflistPrivilege($event,fakePrivilege_r44.id)})),core.Zb(4,\"mat-option\",49),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Qc(7,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_6_mat_list_item_1_mat_option_7_Template,3,4,\"mat-option\",50),core.Yb(),core.Yb(),core.Sc(8,\". \"),core.Yb()}if(2&rf){const fakePrivilege_r44=ctx.$implicit;core.Eb(1),core.sc(\"innerHTML\",fakePrivilege_r44.label,core.Ic),core.Eb(2),core.sc(\"ngModel\",fakePrivilege_r44.current),core.Eb(2),core.Tc(core.nc(6,4,\"lang.noRole\")),core.Eb(2),core.sc(\"ngForOf\",fakePrivilege_r44.services)}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_6_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_6_mat_list_item_1_Template,9,6,\"mat-list-item\",44),core.Wb()),2&rf){const unit_r34=core.lc().$implicit;core.Eb(1),core.sc(\"ngForOf\",unit_r34.services)}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_7_mat_list_item_1_mat_option_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",51),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const subservice_r54=ctx.$implicit;core.sc(\"value\",subservice_r54.id),core.Eb(1),core.Tc(core.nc(2,2,subservice_r54.label))}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_7_mat_list_item_1_Template(rf,ctx){if(1&rf){const _r56=core.ac();core.Zb(0,\"mat-list-item\",45),core.Ub(1,\"span\",46),core.Zb(2,\"mat-form-field\",52),core.Zb(3,\"mat-select\",48),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),ctx.$implicit.current=$event}))(\"selectionChange\",(function($event){return core.Hc(_r56),core.lc(6).changePersonalDataPrivilege($event)})),core.Zb(4,\"mat-option\",49),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Qc(7,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_7_mat_list_item_1_mat_option_7_Template,3,4,\"mat-option\",50),core.Yb(),core.Yb(),core.Sc(8,\". \"),core.Yb()}if(2&rf){const fakePrivilege_r52=ctx.$implicit;core.Eb(1),core.sc(\"innerHTML\",fakePrivilege_r52.label,core.Ic),core.Eb(2),core.sc(\"ngModel\",fakePrivilege_r52.current),core.Eb(2),core.Tc(core.nc(6,4,\"lang.notVisible\")),core.Eb(2),core.sc(\"ngForOf\",fakePrivilege_r52.services)}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_7_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_7_mat_list_item_1_Template,9,6,\"mat-list-item\",44),core.Wb()),2&rf){const unit_r34=core.lc().$implicit;core.Eb(1),core.sc(\"ngForOf\",unit_r34.services)}}const group_administration_component_c4=function(){return[\"diffusionList\",\"confidentialityAndSecurity\"]};function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-expansion-panel\",43),core.mc(1,\"filterList\"),core.Zb(2,\"mat-expansion-panel-header\"),core.Zb(3,\"mat-panel-title\"),core.Sc(4),core.Yb(),core.Yb(),core.Qc(5,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_5_Template,5,8,\"ng-container\",12),core.Qc(6,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_6_Template,2,1,\"ng-container\",12),core.Qc(7,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_ng_container_7_Template,2,1,\"ng-container\",12),core.Yb()),2&rf){const unit_r34=ctx.$implicit;core.lc();const _r20=core.Dc(19);core.Jb(\"emptyExpansionPanel\",0==core.pc(1,6,unit_r34.services,_r20.value,\"label\").length),core.Eb(4),core.Uc(\" \",unit_r34.label,\" \"),core.Eb(1),core.sc(\"ngIf\",-1===core.yc(10,group_administration_component_c4).indexOf(unit_r34.id)),core.Eb(1),core.sc(\"ngIf\",\"diffusionList\"===unit_r34.id),core.Eb(1),core.sc(\"ngIf\",\"confidentialityAndSecurity\"===unit_r34.id)}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab-group\"),core.Zb(1,\"mat-tab\",16),core.mc(2,\"translate\"),core.Zb(3,\"mat-list\"),core.Qc(4,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_list_item_4_Template,5,8,\"mat-list-item\",30),core.mc(5,\"sortBy\"),core.Yb(),core.Yb(),core.Zb(6,\"mat-tab\",16),core.mc(7,\"translate\"),core.Zb(8,\"mat-form-field\",31),core.Ub(9,\"input\",32,33),core.mc(11,\"translate\"),core.Yb(),core.Qc(12,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_div_12_Template,6,10,\"div\",34),core.mc(13,\"filterList\"),core.mc(14,\"sortBy\"),core.Yb(),core.Zb(15,\"mat-tab\",16),core.mc(16,\"translate\"),core.Zb(17,\"mat-form-field\",31),core.Ub(18,\"input\",32,35),core.mc(20,\"translate\"),core.Yb(),core.Qc(21,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_mat_expansion_panel_21_Template,8,11,\"mat-expansion-panel\",36),core.mc(22,\"sortBy\"),core.Yb(),core.Yb()),2&rf){const _r18=core.Dc(10),ctx_r16=core.lc(3);core.Eb(1),core.tc(\"label\",core.nc(2,8,\"lang.menus\")),core.Eb(3),core.sc(\"ngForOf\",core.oc(5,10,ctx_r16.privilegeService.getMenus(),\"label\")),core.Eb(2),core.tc(\"label\",core.nc(7,13,\"lang.administrationServices\")),core.Eb(3),core.tc(\"placeholder\",core.nc(11,15,\"lang.filterBy\")),core.Eb(3),core.sc(\"ngForOf\",core.pc(13,17,core.oc(14,21,ctx_r16.administrationPrivileges,\"label\"),_r18.value,\"label\")),core.Eb(3),core.tc(\"label\",core.nc(16,24,\"lang.functionnalities\")),core.Eb(3),core.tc(\"placeholder\",core.nc(20,26,\"lang.filterBy\")),core.Eb(3),core.sc(\"ngForOf\",core.oc(22,28,ctx_r16.unitPrivileges,\"label\"))}}function GroupAdministrationComponent_mat_card_12_mat_tab_27_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab\",16),core.mc(1,\"translate\"),core.Qc(2,GroupAdministrationComponent_mat_card_12_mat_tab_27_mat_tab_group_2_Template,23,31,\"mat-tab-group\",12),core.Yb()),2&rf){const ctx_r8=core.lc(2);core.tc(\"label\",core.nc(1,2,\"lang.privileges\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r8.creationMode)}}function GroupAdministrationComponent_mat_card_12_mat_tab_28_ng_template_2_Template(rf,ctx){if(1&rf){const _r61=core.ac();core.Zb(0,\"app-indexing-administration\",54),core.hc(\"resfreshShortcut\",(function(){return core.Hc(_r61),core.lc(3).resfreshShortcut()})),core.Yb()}if(2&rf){const ctx_r59=core.lc(3);core.sc(\"groupId\",ctx_r59.group.id)}}function GroupAdministrationComponent_mat_card_12_mat_tab_28_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-tab\",16),core.mc(1,\"translate\"),core.Qc(2,GroupAdministrationComponent_mat_card_12_mat_tab_28_ng_template_2_Template,1,1,\"ng-template\",53),core.Yb()),2&rf&&core.tc(\"label\",core.nc(1,1,\"lang.indexation\"))}const group_administration_component_c5=function(){return[\"/rest/autocomplete/users/administration\"]};function GroupAdministrationComponent_mat_card_12_mat_tab_29_div_3_Template(rf,ctx){if(1&rf){const _r72=core.ac();core.Zb(0,\"div\",69),core.Zb(1,\"plugin-autocomplete\",70),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r72),core.lc(3).linkUser($event)})),core.Yb(),core.Ub(2,\"hr\"),core.Yb()}if(2&rf){const ctx_r62=core.lc(3);core.Eb(1),core.sc(\"labelPlaceholder\",ctx_r62.translate.instant(\"lang.linkUser\"))(\"labelList\",ctx_r62.translate.instant(\"lang.availableUsers\"))(\"routeDatas\",core.yc(4,group_administration_component_c5))(\"targetSearchKey\",\"idToDisplay\")}}function GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_header_cell_14_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.firstname\")))}function GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_cell_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r73=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r73.firstname,\" \")}}function GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_header_cell_17_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.lastname\")))}function GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r74=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r74.lastname,\" \")}}function GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_header_row_19_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}const group_administration_component_c6=function(a0,a1){return{cursor:a0,opacity:a1}};function GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_row_20_Template(rf,ctx){if(1&rf){const _r77=core.ac();core.Zb(0,\"mat-row\",72),core.hc(\"click\",(function(){core.Hc(_r77);const row_r75=ctx.$implicit;return core.lc(3).goToUserAdmin(row_r75)})),core.mc(1,\"translate\"),core.Yb()}if(2&rf){const row_r75=ctx.$implicit;core.tc(\"matTooltip\",core.nc(1,3,\"lang.view\")),core.sc(\"matTooltipDisabled\",!row_r75.allowed)(\"ngStyle\",core.Ac(5,group_administration_component_c6,row_r75.allowed?\"pointer\":\"\",row_r75.allowed?\"1\":\"0.6\"))}}function GroupAdministrationComponent_mat_card_12_mat_tab_29_Template(rf,ctx){if(1&rf){const _r79=core.ac();core.Zb(0,\"mat-tab\",16),core.mc(1,\"translate\"),core.Zb(2,\"div\",55),core.Qc(3,GroupAdministrationComponent_mat_card_12_mat_tab_29_div_3_Template,3,5,\"div\",56),core.Zb(4,\"div\",57),core.Zb(5,\"mat-form-field\"),core.Zb(6,\"input\",58),core.hc(\"keyup\",(function($event){return core.Hc(_r79),core.lc(2).applyFilter($event.target.value)})),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(8,\"div\",57),core.Ub(9,\"mat-paginator\",59,60),core.Yb(),core.Yb(),core.Zb(11,\"mat-table\",61,62),core.Xb(13,63),core.Qc(14,GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_header_cell_14_Template,3,3,\"mat-header-cell\",64),core.Qc(15,GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_cell_15_Template,2,1,\"mat-cell\",65),core.Wb(),core.Xb(16,66),core.Qc(17,GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_header_cell_17_Template,3,3,\"mat-header-cell\",64),core.Qc(18,GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_cell_18_Template,2,1,\"mat-cell\",65),core.Wb(),core.Qc(19,GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_header_row_19_Template,1,0,\"mat-header-row\",67),core.Qc(20,GroupAdministrationComponent_mat_card_12_mat_tab_29_mat_row_20_Template,2,8,\"mat-row\",68),core.Yb(),core.Yb()}if(2&rf){const ctx_r10=core.lc(2);core.tc(\"label\",core.nc(1,9,\"lang.relatedUsers\")),core.Eb(3),core.sc(\"ngIf\",ctx_r10.group.canAdminUsers),core.Eb(3),core.tc(\"placeholder\",core.nc(7,11,\"lang.filterBy\")),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r10.usersDataSource),core.Eb(8),core.sc(\"matHeaderRowDef\",ctx_r10.usersDisplayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r10.usersDisplayedColumns)}}function GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_header_cell_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.label\")))}function GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_cell_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r88=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r88.basket_name,\" \")}}function GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_header_cell_16_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.description\"),\" \"))}function GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_cell_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r89=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r89.basket_desc,\" \")}}function GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_header_row_18_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_row_19_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",79),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/baskets/\",ctx.$implicit.basket_id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function GroupAdministrationComponent_mat_card_12_mat_tab_30_Template(rf,ctx){if(1&rf){const _r92=core.ac();core.Zb(0,\"mat-tab\",16),core.mc(1,\"translate\"),core.Zb(2,\"div\",55),core.Zb(3,\"div\",57),core.Zb(4,\"mat-form-field\"),core.Zb(5,\"input\",58),core.hc(\"keyup\",(function($event){return core.Hc(_r92),core.lc(2).applyBasketsFilter($event.target.value)})),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(7,\"div\",57),core.Ub(8,\"mat-paginator\",59,73),core.Yb(),core.Yb(),core.Zb(10,\"mat-table\",74,75),core.Xb(12,76),core.Qc(13,GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_header_cell_13_Template,3,3,\"mat-header-cell\",64),core.Qc(14,GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_cell_14_Template,2,1,\"mat-cell\",65),core.Wb(),core.Xb(15,77),core.Qc(16,GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_header_cell_16_Template,3,3,\"mat-header-cell\",64),core.Qc(17,GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_cell_17_Template,2,1,\"mat-cell\",65),core.Wb(),core.Qc(18,GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_header_row_18_Template,1,0,\"mat-header-row\",67),core.Qc(19,GroupAdministrationComponent_mat_card_12_mat_tab_30_mat_row_19_Template,2,4,\"mat-row\",78),core.Yb(),core.Yb()}if(2&rf){const ctx_r11=core.lc(2);core.tc(\"label\",core.nc(1,8,\"lang.relatedBaskets\")),core.Eb(5),core.tc(\"placeholder\",core.nc(6,10,\"lang.filterBy\")),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r11.basketsDataSource),core.Eb(8),core.sc(\"matHeaderRowDef\",ctx_r11.basketsDisplayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r11.basketsDisplayedColumns)}}function GroupAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r94=core.ac();core.Zb(0,\"mat-card\",15),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",16),core.mc(3,\"translate\"),core.Zb(4,\"form\",17,18),core.hc(\"ngSubmit\",(function(){return core.Hc(_r94),core.lc().onSubmit()})),core.Zb(6,\"mat-form-field\"),core.Qc(7,GroupAdministrationComponent_mat_card_12_input_7_Template,2,4,\"input\",19),core.Qc(8,GroupAdministrationComponent_mat_card_12_input_8_Template,3,7,\"input\",20),core.Yb(),core.Zb(9,\"mat-form-field\"),core.Zb(10,\"input\",21),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r94),core.lc().group.group_desc=$event})),core.mc(11,\"translate\"),core.mc(12,\"translate\"),core.Yb(),core.Yb(),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r94),core.lc().group.security.maarch_comment=$event})),core.mc(15,\"translate\"),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Zb(17,\"mat-form-field\"),core.Zb(18,\"textarea\",23),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r94),core.lc().group.security.where_clause=$event})),core.mc(19,\"translate\"),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"mat-icon\",24),core.hc(\"click\",(function(){core.Hc(_r94);const ctx_r98=core.lc(),_r2=core.Dc(14);return ctx_r98.panelMode=\"keywordInfos\",_r2.toggle()})),core.mc(22,\"translate\"),core.Yb(),core.Yb(),core.Zb(23,\"div\",25),core.Zb(24,\"button\",26),core.Sc(25),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(27,GroupAdministrationComponent_mat_card_12_mat_tab_27_Template,3,4,\"mat-tab\",27),core.Qc(28,GroupAdministrationComponent_mat_card_12_mat_tab_28_Template,3,3,\"mat-tab\",27),core.Qc(29,GroupAdministrationComponent_mat_card_12_mat_tab_29_Template,21,13,\"mat-tab\",27),core.Qc(30,GroupAdministrationComponent_mat_card_12_mat_tab_30_Template,20,12,\"mat-tab\",27),core.Yb(),core.Yb()}if(2&rf){const _r5=core.Dc(5),ctx_r1=core.lc();core.Eb(2),core.tc(\"label\",core.nc(3,19,\"lang.informations\")),core.Eb(5),core.sc(\"ngIf\",ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(2),core.tc(\"title\",core.nc(11,21,\"lang.label\")),core.tc(\"placeholder\",core.nc(12,23,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.group.group_desc),core.Eb(4),core.tc(\"title\",core.nc(15,25,\"lang.description\")),core.tc(\"placeholder\",core.nc(16,27,\"lang.description\")),core.sc(\"ngModel\",ctx_r1.group.security.maarch_comment),core.Eb(4),core.tc(\"title\",core.nc(19,29,\"lang.clauseGroup\")),core.tc(\"placeholder\",core.nc(20,31,\"lang.clauseGroup\")),core.sc(\"ngModel\",ctx_r1.group.security.where_clause),core.Eb(3),core.tc(\"matTooltip\",core.nc(22,33,\"lang.keywordHelper\")),core.Eb(3),core.sc(\"disabled\",!_r5.form.valid),core.Eb(1),core.Tc(core.nc(26,35,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode)}}function GroupAdministrationComponent_ng_container_15_Template(rf,ctx){1&rf&&(core.Xb(0),core.Zb(1,\"mat-nav-list\"),core.Zb(2,\"h3\",80),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"mat-list\",81),core.Zb(6,\"p\",82),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"div\",83),core.Zb(10,\"b\"),core.Sc(11,\"DESTINATION = @my_primary_entity or DESTINATION in (@subentities[@my_primary_entity])\"),core.Yb(),core.Yb(),core.Zb(12,\"h4\",84),core.Sc(13,\"@user :\"),core.Yb(),core.Zb(14,\"p\",85),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Zb(17,\"h4\",84),core.Sc(18,\"@user_id :\"),core.Yb(),core.Zb(19,\"p\",85),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Zb(22,\"h4\",84),core.Sc(23,\"@email :\"),core.Yb(),core.Zb(24,\"p\",85),core.Sc(25),core.mc(26,\"translate\"),core.Yb(),core.Zb(27,\"h4\",84),core.Sc(28,\"@my_entities :\"),core.Yb(),core.Zb(29,\"p\",85),core.Sc(30),core.mc(31,\"translate\"),core.Yb(),core.Zb(32,\"h4\",84),core.Sc(33,\"@my_entities_id :\"),core.Yb(),core.Zb(34,\"p\",85),core.Sc(35),core.mc(36,\"translate\"),core.Yb(),core.Zb(37,\"h4\",84),core.Sc(38,\"@my_primary_entity :\"),core.Yb(),core.Zb(39,\"p\",85),core.Sc(40),core.mc(41,\"translate\"),core.Yb(),core.Zb(42,\"h4\",84),core.Sc(43,\"@my_primary_entity_id :\"),core.Yb(),core.Zb(44,\"p\",85),core.Sc(45),core.mc(46,\"translate\"),core.Yb(),core.Zb(47,\"h4\",84),core.Sc(48,\"@subentities[('entity_1',...,'entity_n')] : \"),core.Yb(),core.Zb(49,\"p\",85),core.Sc(50),core.mc(51,\"translate\"),core.Yb(),core.Zb(52,\"h4\",84),core.Sc(53,\"@parent_entity['entity_id'] :\"),core.Yb(),core.Zb(54,\"p\",85),core.Sc(55),core.mc(56,\"translate\"),core.Yb(),core.Zb(57,\"h4\",84),core.Sc(58,\"@sisters_entities['entity_id'] :\"),core.Yb(),core.Zb(59,\"p\",85),core.Sc(60),core.mc(61,\"translate\"),core.Yb(),core.Zb(62,\"h4\",84),core.Sc(63,\"@entity_type['type'] :\"),core.Yb(),core.Zb(64,\"p\",85),core.Sc(65),core.mc(66,\"translate\"),core.Yb(),core.Zb(67,\"h4\",84),core.Sc(68,\"@all_entities :\"),core.Yb(),core.Zb(69,\"p\",85),core.Sc(70),core.mc(71,\"translate\"),core.Yb(),core.Zb(72,\"h4\",84),core.Sc(73,\"@immediate_children['entity_1',..., 'entity_id'] : \"),core.Yb(),core.Zb(74,\"p\",85),core.Sc(75),core.mc(76,\"translate\"),core.Yb(),core.Yb(),core.Wb()),2&rf&&(core.Eb(3),core.Tc(core.nc(4,15,\"lang.keywordHelp\")),core.Eb(4),core.Tc(core.nc(8,17,\"lang.keywordHelpDesc_11\")),core.Eb(8),core.Tc(core.nc(16,19,\"lang.keywordHelpDesc_1\")),core.Eb(5),core.Tc(core.nc(21,21,\"lang.keywordHelpDesc_12\")),core.Eb(5),core.Tc(core.nc(26,23,\"lang.keywordHelpDesc_2\")),core.Eb(5),core.Tc(core.nc(31,25,\"lang.keywordHelpDesc_3\")),core.Eb(5),core.Tc(core.nc(36,27,\"lang.keywordHelpDesc_13\")),core.Eb(5),core.Tc(core.nc(41,29,\"lang.keywordHelpDesc_4\")),core.Eb(5),core.Tc(core.nc(46,31,\"lang.keywordHelpDesc_14\")),core.Eb(5),core.Tc(core.nc(51,33,\"lang.keywordHelpDesc_5\")),core.Eb(5),core.Tc(core.nc(56,35,\"lang.keywordHelpDesc_6\")),core.Eb(5),core.Tc(core.nc(61,37,\"lang.keywordHelpDesc_7\")),core.Eb(5),core.Tc(core.nc(66,39,\"lang.keywordHelpDesc_8\")),core.Eb(5),core.Tc(core.nc(71,41,\"lang.keywordHelpDesc_9\")),core.Eb(5),core.Tc(core.nc(76,43,\"lang.keywordHelpDesc_10\")))}function GroupAdministrationComponent_ng_container_16_mat_list_option_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-option\",90),core.Sc(1),core.Yb()),2&rf){const authorizedGroup_r101=ctx.$implicit;core.sc(\"selected\",authorizedGroup_r101.checked)(\"value\",authorizedGroup_r101.id),core.Eb(1),core.Uc(\" \",authorizedGroup_r101.label,\" \")}}function GroupAdministrationComponent_ng_container_16_Template(rf,ctx){if(1&rf){const _r103=core.ac();core.Xb(0),core.Zb(1,\"mat-nav-list\"),core.Zb(2,\"h3\",80),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"mat-list\",81),core.Zb(6,\"p\",86),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"mat-selection-list\",87,88),core.hc(\"selectionChange\",(function(){core.Hc(_r103);const _r99=core.Dc(10);return core.lc().updatePrivilegeParams(_r99.selectedOptions.selected)})),core.Qc(11,GroupAdministrationComponent_ng_container_16_mat_list_option_11_Template,2,3,\"mat-list-option\",89),core.Yb(),core.Yb(),core.Wb()}if(2&rf){const ctx_r4=core.lc();core.Eb(3),core.Tc(core.nc(4,3,\"lang.adminParamsUsers\")),core.Eb(4),core.Uc(\" \",core.nc(8,5,\"lang.chooseAllowedGroups\"),\" : \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r4.authorizedGroupsUserParams)}}let group_administration_component_GroupAdministrationComponent=(()=>{class GroupAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService,privilegeService,dialog){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.privilegeService=privilegeService,this.dialog=dialog,this.loading=!1,this.paramsLoading=!1,this.group={security:{}},this.menus={},this.usersDisplayedColumns=[\"firstname\",\"lastname\"],this.basketsDisplayedColumns=[\"basket_name\",\"basket_desc\"],this.unitPrivileges=[],this.administrationPrivileges=[],this.authorizedGroupsUserParams=[],this.panelMode=\"keywordInfos\"}applyFilter(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.usersDataSource.filter=filterValue}applyBasketsFilter(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.basketsDataSource.filter=filterValue}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.groupCreation\")),this.creationMode=!0,this.loading=!1):(this.creationMode=!1,this.http.get(\"../rest/groups/\"+params.id+\"/details\").subscribe(data=>{this.group=data.group,this.administrationPrivileges=this.privilegeService.getAdministrations(),this.administrationPrivileges=this.administrationPrivileges.map(admin=>Object.assign(Object.assign({},admin),{checked:this.group.privileges.indexOf(admin.id)>-1})),this.privilegeService.getUnitsPrivileges().forEach(element=>{let services=this.privilegeService.getPrivilegesByUnit(element);if(\"diffusionList\"===element)services=[{id:\"indexing_diffList\",label:this.translate.instant(\"lang.diffListPrivilegeMsgIndexing\"),current:void 0!==this.group.privileges.filter(priv=>[\"update_diffusion_indexing\",\"update_diffusion_except_recipient_indexing\"].indexOf(priv)>-1)[0]?this.group.privileges.filter(priv=>[\"update_diffusion_indexing\",\"update_diffusion_except_recipient_indexing\"].indexOf(priv)>-1)[0]:\"\",services:this.privilegeService.getPrivileges([\"update_diffusion_indexing\",\"update_diffusion_except_recipient_indexing\"])},{id:\"process_diffList\",label:this.translate.instant(\"lang.diffListPrivilegeMsgProcess\"),current:void 0!==this.group.privileges.filter(priv=>[\"update_diffusion_process\",\"update_diffusion_except_recipient_process\"].indexOf(priv)>-1)[0]?this.group.privileges.filter(priv=>[\"update_diffusion_process\",\"update_diffusion_except_recipient_process\"].indexOf(priv)>-1)[0]:\"\",services:this.privilegeService.getPrivileges([\"update_diffusion_process\",\"update_diffusion_except_recipient_process\"])},{id:\"details_diffList\",label:this.translate.instant(\"lang.diffListPrivilegeMsgDetails\"),current:void 0!==this.group.privileges.filter(priv=>[\"update_diffusion_details\",\"update_diffusion_except_recipient_details\"].indexOf(priv)>-1)[0]?this.group.privileges.filter(priv=>[\"update_diffusion_details\",\"update_diffusion_except_recipient_details\"].indexOf(priv)>-1)[0]:\"\",services:this.privilegeService.getPrivileges([\"update_diffusion_details\",\"update_diffusion_except_recipient_details\"])}];else if(\"confidentialityAndSecurity\"===element){let priv=\"\";this.group.privileges.filter(privGroup=>\"manage_personal_data\"===privGroup)[0]?priv=\"manage_personal_data\":this.group.privileges.filter(privGroup=>\"view_personal_data\"===privGroup)[0]&&(priv=\"view_personal_data\"),services=[{id:\"confidentialityAndSecurity_personal_data\",label:this.translate.instant(\"lang.personalDataMsg\"),current:priv,services:this.privilegeService.getPrivileges([\"view_personal_data\",\"manage_personal_data\"])}]}this.unitPrivileges.push({id:element,label:this.translate.instant(\"lang.\"+element),services:services})}),this.headerService.setHeader(this.translate.instant(\"lang.groupModification\"),this.group.group_desc),this.loading=!1,setTimeout(()=>{this.usersDataSource=new table.o(this.group.users),this.usersDataSource.paginator=this.paginator,this.usersDataSource.sort=this.sortUsers,this.basketsDataSource=new table.o(this.group.baskets),this.basketsDataSource.paginator=this.paginatorBaskets,this.basketsDataSource.sort=this.sortBaskets},0)},err=>{this.notify.handleErrors(err)}))})}changeDifflistPrivilege(ev,mode){\"indexing_diffList\"===mode?\"update_diffusion_indexing\"===ev.value?this.manageServices([\"update_diffusion_indexing\",\"update_diffusion_except_recipient_indexing\"]):\"update_diffusion_except_recipient_indexing\"===ev.value?this.manageServices([\"update_diffusion_except_recipient_indexing\",\"update_diffusion_indexing\"]):this.manageServices([\"update_diffusion_indexing\",\"update_diffusion_except_recipient_indexing\"],\"deleteAll\"):\"process_diffList\"===mode?\"update_diffusion_process\"===ev.value?this.manageServices([\"update_diffusion_process\",\"update_diffusion_except_recipient_process\"]):\"update_diffusion_except_recipient_process\"===ev.value?this.manageServices([\"update_diffusion_except_recipient_process\",\"update_diffusion_process\"]):this.manageServices([\"update_diffusion_process\",\"update_diffusion_except_recipient_process\"],\"deleteAll\"):\"update_diffusion_details\"===ev.value?this.manageServices([\"update_diffusion_details\",\"update_diffusion_except_recipient_details\"]):\"update_diffusion_except_recipient_details\"===ev.value?this.manageServices([\"update_diffusion_except_recipient_details\",\"update_diffusion_details\"]):this.manageServices([\"update_diffusion_details\",\"update_diffusion_except_recipient_details\"],\"deleteAll\")}manageServices(servicesId,mode=null){\"deleteAll\"!==mode?this.http.post(`../rest/groups/${this.group.id}/privileges/${servicesId[0]}`,{}).pipe(Object(tap.a)(()=>{this.group.privileges.push(servicesId[0])}),Object(exhaustMap.a)(()=>this.http.delete(`../rest/groups/${this.group.id}/privileges/${servicesId[1]}`)),Object(tap.a)(()=>{this.group.privileges.splice(this.group.privileges.indexOf(servicesId[1]),1),this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.groupServicesUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.delete(`../rest/groups/${this.group.id}/privileges/${servicesId[0]}`).pipe(Object(tap.a)(()=>{this.group.privileges.splice(this.group.privileges.indexOf(servicesId[0]),1)}),Object(exhaustMap.a)(()=>this.http.delete(`../rest/groups/${this.group.id}/privileges/${servicesId[1]}`)),Object(tap.a)(()=>{this.group.privileges.splice(this.group.privileges.indexOf(servicesId[1]),1),this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.groupServicesUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}changePersonalDataPrivilege(ev){\"view_personal_data\"===ev.value?this.manageServices([\"view_personal_data\",\"manage_personal_data\"]):\"manage_personal_data\"===ev.value?this.http.post(`../rest/groups/${this.group.id}/privileges/view_personal_data`,{}).pipe(Object(tap.a)(()=>{this.group.privileges.push(\"view_personal_data\")}),Object(exhaustMap.a)(()=>this.http.post(`../rest/groups/${this.group.id}/privileges/manage_personal_data`,{})),Object(tap.a)(()=>{this.group.privileges.splice(this.group.privileges.indexOf(\"manage_personal_data\"),1),this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.groupServicesUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe():this.manageServices([\"view_personal_data\",\"manage_personal_data\"],\"deleteAll\")}resfreshShortcut(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){yield this.headerService.resfreshCurrentUser(),this.privilegeService.resfreshUserShortcuts()}))}getCurrentPrivListDiff(serviceId){return this.group.privileges.indexOf(serviceId)>-1}onSubmit(){this.creationMode?this.http.post(\"../rest/groups\",this.group).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.groupAdded\")),this.router.navigate([\"/administration/groups/\"+data.group])},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/groups/\"+this.group.id,{description:this.group.group_desc,security:this.group.security}).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.groupUpdated\"))},err=>{this.notify.error(err.error.errors)})}toggleService(ev,service){ev.checked?\"admin_groups\"===service.id?this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.confirmAction\"),msg:this.translate.instant(\"lang.enableGroupMsg\")}}).afterClosed().pipe(Object(tap.a)(data=>{\"ok\"!==data&&(service.checked=!1)}),Object(filter.a)(data=>\"ok\"===data),Object(tap.a)(()=>{this.addService(service)}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe():this.addService(service):(this.sidenavRight.close(),this.removeService(service))}addService(service){this.http.post(`../rest/groups/${this.group.id}/privileges/${service.id}`,{}).pipe(Object(tap.a)(()=>{this.group.privileges.push(service.id),this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.groupServicesUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}removeService(service){this.http.delete(`../rest/groups/${this.group.id}/privileges/${service.id}`).pipe(Object(tap.a)(()=>{this.group.privileges.splice(this.group.privileges.indexOf(service.id),1),this.headerService.resfreshCurrentUser(),this.notify.success(this.translate.instant(\"lang.groupServicesUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}linkUser(newUser){this.http.post(\"../rest/users/\"+newUser.id+\"/groups\",{groupId:this.group.group_id,role:this.group.role}).subscribe(()=>{const displayName=newUser.idToDisplay.split(\" \");this.group.users.push({id:newUser.id,user_id:newUser.otherInfo,firstname:displayName[0],lastname:displayName[1],allowed:!0}),this.usersDataSource=new table.o(this.group.users),this.usersDataSource.paginator=this.paginator,this.usersDataSource.sort=this.sortUsers,this.notify.success(this.translate.instant(\"lang.userAdded\"))},err=>{this.notify.error(err.error.errors)})}openUserParams(id){this.sidenavRight.toggle(),this.sidenavRight.opened?(this.panelMode=id,this.paramsLoading=!0,this.http.get(\"../rest/groups\").pipe(Object(map.a)(data=>(data.groups=data.groups.map(group=>({id:group.id,label:group.group_desc})),data)),Object(tap.a)(data=>{this.authorizedGroupsUserParams=data.groups}),Object(exhaustMap.a)(()=>this.http.get(`../rest/groups/${this.group.id}/privileges/${this.panelMode}/parameters?parameter=groups`)),Object(tap.a)(data=>{const allowedGroups=data;this.authorizedGroupsUserParams.forEach(group=>{group.checked=allowedGroups.indexOf(group.id)>-1})}),Object(finalize.a)(()=>this.paramsLoading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()):this.panelMode=\"\"}updatePrivilegeParams(paramList){let obj={};\"admin_users\"===this.panelMode&&(obj={groups:paramList.map(param=>param.value)}),this.http.put(`../rest/groups/${this.group.id}/privileges/${this.panelMode}/parameters`,{parameters:obj}).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.parameterUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}goToUserAdmin(user){user.allowed&&this.router.navigate([\"/administration/users/\"+user.id])}}return GroupAdministrationComponent.ɵfac=function(t){return new(t||GroupAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(privileges_service.a),core.Tb(fesm2015_dialog.b))},GroupAdministrationComponent.ɵcmp=core.Nb({type:GroupAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(group_administration_component_c0,!0),core.ad(group_administration_component_c1,!0),core.Oc(group_administration_component_c2,!0),core.ad(fesm2015_paginator.a,!0),core.Oc(group_administration_component_c3,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.paginatorBaskets=_t.first),core.Cc(_t=core.ic())&&(ctx.sortBaskets=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sortUsers=_t.first))},decls:17,vars:13,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"label\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"groupForm\",\"ngForm\"],[\"matInput\",\"\",\"name\",\"identifier\",\"pattern\",\"^[\\\\w.-]*$\",\"maxlength\",\"32\",\"required\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[\"matInput\",\"\",\"name\",\"identifier\",\"disabled\",\"\",3,\"placeholder\",\"title\",\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[\"matInput\",\"\",\"name\",\"description\",\"maxlength\",\"255\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"comment\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"clause\",\"required\",\"\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",\"matAutosizeMaxRows\",\"5\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"color\",\"primary\",\"matSuffix\",\"\",1,\"fa\",\"fa-info-circle\",2,\"cursor\",\"pointer\",3,\"matTooltip\",\"click\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\"],[3,\"label\",4,\"ngIf\"],[\"matInput\",\"\",\"name\",\"identifier\",\"pattern\",\"^[\\\\w.-]*$\",\"maxlength\",\"32\",\"required\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"identifier\",\"disabled\",\"\",3,\"placeholder\",\"title\",\"ngModel\",\"ngModelChange\"],[4,\"ngFor\",\"ngForOf\"],[\"floatLabel\",\"never\",\"appearance\",\"outline\",1,\"basketsFilter\",2,\"padding-left\",\"20px\",\"padding-right\",\"20px\",\"font-size\",\"11px\"],[\"matInput\",\"\",3,\"placeholder\"],[\"listFilterAdmin\",\"\"],[\"class\",\"col-md-3\",\"style\",\"padding:10px;\",4,\"ngFor\",\"ngForOf\"],[\"listFilter\",\"\"],[\"expanded\",\"\",3,\"emptyExpansionPanel\",4,\"ngFor\",\"ngForOf\"],[\"color\",\"primary\",3,\"name\",\"checked\",\"matTooltip\",\"change\"],[1,\"col-md-3\",2,\"padding\",\"10px\"],[\"color\",\"primary\",3,\"name\",\"ngModel\",\"checked\",\"matTooltip\",\"ngModelChange\",\"change\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"active\",\"title\",\"disabled\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"title\",\"disabled\",\"click\"],[1,\"fa\",\"fa-cogs\"],[\"expanded\",\"\"],[\"color\",\"primary\",\"style\",\"font-size: 16px;\",4,\"ngFor\",\"ngForOf\"],[\"color\",\"primary\",2,\"font-size\",\"16px\"],[3,\"innerHTML\"],[2,\"width\",\"250px !important\",\"padding-left\",\"10px\",\"padding-right\",\"10px\"],[3,\"ngModel\",\"ngModelChange\",\"selectionChange\"],[\"value\",\"\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[2,\"width\",\"300px !important\",\"padding-left\",\"10px\",\"padding-right\",\"10px\"],[\"matTabContent\",\"\"],[3,\"groupId\",\"resfreshShortcut\"],[1,\"row\",2,\"margin\",\"0px\"],[\"class\",\"col-md-12\",\"style\",\"padding:5px;\",4,\"ngIf\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"placeholder\",\"keyup\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortActive\",\"lastname\",\"matSortDirection\",\"asc\",3,\"dataSource\"],[\"sortUsers\",\"matSort\"],[\"matColumnDef\",\"firstname\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"lastname\"],[4,\"matHeaderRowDef\"],[3,\"matTooltip\",\"matTooltipDisabled\",\"ngStyle\",\"click\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"col-md-12\",2,\"padding\",\"5px\"],[3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"triggerEvent\"],[\"mat-sort-header\",\"\"],[3,\"matTooltip\",\"matTooltipDisabled\",\"ngStyle\",\"click\"],[\"paginatorBaskets\",\"\"],[\"matSort\",\"\",\"matSortActive\",\"basket_name\",\"matSortDirection\",\"asc\",3,\"dataSource\"],[\"sortBaskets\",\"matSort\"],[\"matColumnDef\",\"basket_name\"],[\"matColumnDef\",\"basket_desc\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"],[\"mat-subheader\",\"\"],[\"role\",\"list\",2,\"width\",\"400px\",\"padding\",\"5px\"],[2,\"font-size\",\"10px\"],[2,\"border\",\"1px black solid\",\"padding\",\"3px\",\"font-size\",\"10px\"],[\"mat-line\",\"\",2,\"font-weight\",\"bold\",\"font-size\",\"10px\"],[\"mat-line\",\"\",2,\"font-size\",\"10px\"],[\"color\",\"primary\"],[3,\"selectionChange\"],[\"paramsList\",\"\"],[\"color\",\"primary\",\"style\",\"font-size: 13px;\",\"checkboxPosition\",\"before\",3,\"selected\",\"value\",4,\"ngFor\",\"ngForOf\"],[\"color\",\"primary\",\"checkboxPosition\",\"before\",2,\"font-size\",\"13px\",3,\"selected\",\"value\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,GroupAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,GroupAdministrationComponent_mat_card_12_Template,31,37,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Qc(15,GroupAdministrationComponent_ng_container_15_Template,77,45,\"ng-container\",12),core.Qc(16,GroupAdministrationComponent_ng_container_16_Template,12,7,\"ng-container\",12),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1)),core.Eb(2),core.sc(\"ngIf\",\"keywordInfos\"===ctx.panelMode),core.Eb(1),core.sc(\"ngIf\",\"admin_users\"===ctx.panelMode))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,progress_spinner.c,card.a,tabs.c,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,input.d,icon.a,form_field.j,tooltip.b,fesm2015_button.b,fesm2015_forms.A,list.a,common.s,list.d,slide_toggle.a,expansion.c,expansion.g,expansion.h,fesm2015_select.a,fesm2015_core.o,tabs.b,indexing_administration_component_IndexingAdministrationComponent,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,autocomplete_component.a,table.h,fesm2015_sort.b,table.a,table.j,table.l,common.w,fesm2015_router.d,list.h,list.g,fesm2015_core.k,list.i,list.f],pipes:[ngx_translate_core.d,sorting_pipe.a,filterList_pipe.a],styles:[\"textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}.active[_ngcontent-%COMP%]{color:#f99830}.emptyExpansionPanel[_ngcontent-%COMP%]{height:0}\"]}),GroupAdministrationComponent})();const baskets_administration_component_c0=[\"snav2\"],baskets_administration_component_c1=[\"adminMenuTemplate\"];function BasketsAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",16),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",17),core.Ub(5,\"mat-icon\",18),core.Zb(6,\"p\",19),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Zb(9,\"a\",20),core.hc(\"click\",(function(){return core.Hc(_r7),core.lc(),core.Dc(16).toggle()})),core.Ub(10,\"mat-icon\",21),core.Zb(11,\"p\",19),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Eb(2),core.Tc(core.nc(3,3,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,5,\"lang.add\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(13,7,\"lang.basketsOrder\"),\" \"))}function BasketsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",22),core.Ub(1,\"mat-spinner\",23),core.Yb())}function BasketsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r10=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r10.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.id\"))}}function BasketsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r20=ctx.$implicit,ctx_r11=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r11.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r20.basket_id,\" \")}}function BasketsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.label\")))}function BasketsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r21=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r21.basket_name,\" \")}}function BasketsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r14=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r14.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.description\"),\" \")}}function BasketsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r22=ctx.$implicit,ctx_r15=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r15.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r22.basket_desc,\" \")}}function BasketsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function BasketsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r25=core.ac();core.Zb(0,\"mat-cell\",46),core.Zb(1,\"button\",47),core.hc(\"click\",(function($event){core.Hc(_r25);const element_r23=ctx.$implicit,ctx_r24=core.lc(2);return $event.stopPropagation(),ctx_r24.delete(element_r23)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",48),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function BasketsAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function BasketsAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",49),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/baskets/\",ctx.$implicit.basket_id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function BasketsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",24),core.Zb(1,\"div\",25),core.Zb(2,\"div\",26),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",27),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",26),core.Ub(7,\"mat-paginator\",28,29),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",30,31),core.Xb(11,32),core.Qc(12,BasketsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,5,\"mat-header-cell\",33),core.Qc(13,BasketsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,3,\"mat-cell\",34),core.Wb(),core.Xb(14,35),core.Qc(15,BasketsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",36),core.Qc(16,BasketsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",37),core.Wb(),core.Xb(17,38),core.Qc(18,BasketsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",33),core.Qc(19,BasketsAdministrationComponent_mat_card_14_mat_cell_19_Template,2,3,\"mat-cell\",34),core.Wb(),core.Xb(20,39),core.Qc(21,BasketsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",40),core.Qc(22,BasketsAdministrationComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",41),core.Wb(),core.Qc(23,BasketsAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",42),core.Qc(24,BasketsAdministrationComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",43),core.Yb(),core.Zb(25,\"div\",44),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.baskets.length,\" \",core.nc(27,12,\"lang.baskets\"),\"\")}}function BasketsAdministrationComponent_mat_list_item_22_Template(rf,ctx){if(1&rf){const _r30=core.ac();core.Zb(0,\"mat-list-item\",50),core.hc(\"onDropSuccess\",(function(){core.Hc(_r30);const basket_r27=ctx.$implicit;return core.lc().updateBasketOrder(basket_r27)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",51),core.Zb(3,\"p\",19),core.Sc(4),core.Yb(),core.Yb()}if(2&rf){const basket_r27=ctx.$implicit,i_r28=ctx.index;core.tc(\"title\",core.nc(1,4,\"lang.move\")),core.sc(\"sortableIndex\",i_r28),core.Eb(4),core.Vc(\"\",i_r28+1,\" - \",basket_r27.basket_name,\"\")}}const baskets_administration_component_c2=function(){return[\"boxers-zone\"]};let baskets_administration_component_BasketsAdministrationComponent=(()=>{class BasketsAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.baskets=[],this.basketsOrder=[],this.displayedColumns=[\"basket_id\",\"basket_name\",\"basket_desc\",\"actions\"],this.filterColumns=[\"basket_id\",\"basket_name\",\"basket_desc\"]}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.baskets\")),this.loading=!0,this.getSortedBasket(),this.http.get(\"../rest/baskets\").subscribe(data=>{this.baskets=data.baskets,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_baskets\",this.baskets,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.handleErrors(err)})}getSortedBasket(){this.http.get(\"../rest/sortedBaskets\").pipe(Object(tap.a)(dataSort=>{this.basketsOrder=dataSort.baskets}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}delete(basket){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+basket.basket_name+\" »\")&&this.http.delete(\"../rest/baskets/\"+basket.basket_id).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.basketDeleted\")),this.baskets=data.baskets,this.adminService.setDataSource(\"admin_baskets\",this.baskets,this.sort,this.paginator,this.filterColumns),this.getSortedBasket()},err=>{this.notify.error(err.error.errors)})}updateBasketOrder(currentBasket){this.http.put(\"../rest/sortedBaskets/\"+currentBasket.basket_id,this.basketsOrder).subscribe(data=>{this.baskets=data.baskets,this.notify.success(this.translate.instant(\"lang.modificationSaved\"))},err=>{this.notify.error(err.error.errors)})}}return BasketsAdministrationComponent.ɵfac=function(t){return new(t||BasketsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},BasketsAdministrationComponent.ɵcmp=core.Nb({type:BasketsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(baskets_administration_component_c0,!0),core.Oc(baskets_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:23,vars:18,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[2,\"font-size\",\"15px\",\"padding\",\"10px\"],[\"dnd-sortable-container\",\"\",3,\"dropZones\",\"sortableData\"],[\"disableRipple\",\"true\",\"dnd-sortable\",\"\",3,\"title\",\"sortableIndex\",\"onDropSuccess\",4,\"ngFor\",\"ngForOf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/baskets/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-list-ol\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSortDisableClear\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"basket_id\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"basket_name\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"basket_desc\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"],[\"disableRipple\",\"true\",\"dnd-sortable\",\"\",3,\"title\",\"sortableIndex\",\"onDropSuccess\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-inbox\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,BasketsAdministrationComponent_ng_template_1_Template,14,9,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,BasketsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,BasketsAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"p\",13),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Zb(20,\"mat-list\"),core.Zb(21,\"span\",14),core.Qc(22,BasketsAdministrationComponent_mat_list_item_22_Template,5,6,\"mat-list-item\",15),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1)),core.Eb(3),core.Uc(\" \",core.nc(19,15,\"lang.basketHelpDesc\"),\" \"),core.Eb(3),core.sc(\"dropZones\",core.yc(17,baskets_administration_component_c2))(\"sortableData\",ctx.basketsOrder),core.Eb(1),core.sc(\"ngForOf\",ctx.basketsOrder))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,ng2_dnd.f,common.s,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d,ng2_dnd.e],pipes:[ngx_translate_core.d],encapsulation:2}),BasketsAdministrationComponent})();var chips=__webpack_require__(\"A5z7\"),autocomplete=__webpack_require__(\"/1cH\"),badge=__webpack_require__(\"TU8p\");function ListAdministrationComponent_mat_option_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",31),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const event_r12=ctx.$implicit;core.sc(\"value\",event_r12.value),core.Eb(1),core.Uc(\" \",core.nc(2,2,\"lang.\"+event_r12.id),\" \")}}function ListAdministrationComponent_div_6_mat_option_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",31),core.Sc(1),core.Yb()),2&rf){const tool_r14=ctx.$implicit;core.sc(\"value\",tool_r14.id),core.Eb(1),core.Uc(\" \",tool_r14.label,\" \")}}function ListAdministrationComponent_div_6_Template(rf,ctx){if(1&rf){const _r16=core.ac();core.Zb(0,\"div\",32),core.Zb(1,\"div\",33),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-form-field\",0),core.Zb(5,\"mat-label\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Zb(8,\"mat-select\",34),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r16),core.lc().selectedProcessTool.defaultTab=$event})),core.Qc(9,ListAdministrationComponent_div_6_mat_option_9_Template,2,2,\"mat-option\",2),core.mc(10,\"sortBy\"),core.Yb(),core.Yb(),core.Zb(11,\"div\",35),core.Zb(12,\"mat-slide-toggle\",36),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r16),core.lc().selectedProcessTool.canUpdateData=$event}))(\"change\",(function($event){return core.Hc(_r16),core.lc().toggleCanUpdate($event.checked)})),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Zb(15,\"div\",35),core.Zb(16,\"mat-slide-toggle\",37),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r16),core.lc().selectedProcessTool.canUpdateModel=$event})),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.Uc(\" \",core.nc(3,9,\"lang.options\"),\" \"),core.Eb(4),core.Tc(core.nc(7,11,\"lang.tabProcessPosition\")),core.Eb(2),core.sc(\"ngModel\",ctx_r1.selectedProcessTool.defaultTab),core.Eb(1),core.sc(\"ngForOf\",core.oc(10,13,ctx_r1.processTool,\"label\")),core.Eb(3),core.sc(\"ngModel\",ctx_r1.selectedProcessTool.canUpdateData),core.Eb(1),core.Tc(core.nc(14,16,\"lang.canUpdateData\")),core.Eb(3),core.sc(\"ngModel\",ctx_r1.selectedProcessTool.canUpdateModel)(\"disabled\",!ctx_r1.selectedProcessTool.canUpdateData),core.Eb(1),core.Uc(\"\",core.nc(18,18,\"lang.canUpdateIndexingModel\"),\" \")}}function ListAdministrationComponent_div_7_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"div\",32),core.Zb(1,\"div\",33),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",35),core.Zb(5,\"mat-slide-toggle\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r21),core.lc().selectedProcessTool.canUpdateDocuments=$event})),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Eb(2),core.Uc(\" \",core.nc(3,3,\"lang.options\"),\" \"),core.Eb(3),core.sc(\"ngModel\",ctx_r2.selectedProcessTool.canUpdateDocuments),core.Eb(1),core.Uc(\" \",core.nc(7,5,\"lang.canUpdateResourcesInSignatureBook\"),\"\")}}function ListAdministrationComponent_button_11_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"button\",39),core.hc(\"click\",(function(){return core.Hc(_r23),core.lc().toggleData()})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",40),core.Yb()}2&rf&&core.tc(\"title\",core.nc(1,1,\"lang.preview\"))}function ListAdministrationComponent_button_12_Template(rf,ctx){if(1&rf){const _r25=core.ac();core.Zb(0,\"button\",39),core.hc(\"click\",(function(){return core.Hc(_r25),core.lc().toggleData()})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",41),core.Yb()}2&rf&&core.tc(\"title\",core.nc(1,1,\"lang.edition\"))}function ListAdministrationComponent_button_19_Template(rf,ctx){if(1&rf){const _r28=core.ac();core.Zb(0,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r28);const colNum_r26=ctx.$implicit;return core.lc().selectedTemplateDisplayedSecondaryData=colNum_r26})),core.Sc(1),core.Yb()}if(2&rf){const colNum_r26=ctx.$implicit;core.Eb(1),core.Uc(\"\",colNum_r26,\" colonne(s)\")}}function ListAdministrationComponent_mat_option_27_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",43),core.Zb(1,\"span\",44),core.Zb(2,\"span\",45),core.Ub(3,\"i\",46),core.Yb(),core.Zb(4,\"span\",47),core.Sc(5),core.Yb(),core.Yb(),core.Yb()),2&rf){const item_r29=ctx.$implicit;core.sc(\"value\",item_r29),core.Eb(3),core.Hb(\"fa \",item_r29.icon,\" fa-2x\"),core.Eb(2),core.Uc(\" \",item_r29.label,\" \")}}function ListAdministrationComponent_ng_container_34_ng_container_2_span_1_button_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",61),core.Ub(1,\"mat-icon\",62),core.Yb()),2&rf){core.lc();const _r35=core.Dc(3);core.sc(\"matMenuTriggerFor\",_r35)}}function ListAdministrationComponent_ng_container_34_ng_container_2_span_1_Template(rf,ctx){if(1&rf){const _r38=core.ac();core.Zb(0,\"span\",51),core.Qc(1,ListAdministrationComponent_ng_container_34_ng_container_2_span_1_button_1_Template,2,1,\"button\",52),core.Zb(2,\"mat-menu\",null,8),core.Zb(4,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r38);const ctx_r37=core.lc(),item_r31=ctx_r37.$implicit,itData_r32=ctx_r37.index;return core.lc(2).removeData(item_r31,itData_r32)})),core.Ub(5,\"mat-icon\",53),core.Zb(6,\"span\"),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Ub(9,\"mat-divider\"),core.Zb(10,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r38);const item_r31=core.lc().$implicit;return core.lc(2).setStyle(item_r31,\"boldFontData\")})),core.Ub(11,\"mat-icon\",54),core.Zb(12,\"span\"),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Zb(15,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r38);const item_r31=core.lc().$implicit;return core.lc(2).setStyle(item_r31,\"align_leftData\")})),core.Ub(16,\"mat-icon\",55),core.Zb(17,\"span\"),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Yb(),core.Zb(20,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r38);const item_r31=core.lc().$implicit;return core.lc(2).setStyle(item_r31,\"align_centerData\")})),core.Ub(21,\"mat-icon\",56),core.Zb(22,\"span\"),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Yb(),core.Zb(25,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r38);const item_r31=core.lc().$implicit;return core.lc(2).setStyle(item_r31,\"align_rightData\")})),core.Ub(26,\"mat-icon\",57),core.Zb(27,\"span\"),core.Sc(28),core.mc(29,\"translate\"),core.Yb(),core.Yb(),core.Zb(30,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r38);const item_r31=core.lc().$implicit;return core.lc(2).setStyle(item_r31,\"bigFontData\")})),core.Ub(31,\"mat-icon\",58),core.Zb(32,\"span\"),core.Sc(33),core.mc(34,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(35,\"span\",59),core.Ub(36,\"i\"),core.Sc(37,\"  \"),core.Ub(38,\"span\",60),core.Yb(),core.Yb()}if(2&rf){const item_r31=core.lc().$implicit,ctx_r33=core.lc(2);core.Eb(1),core.sc(\"ngIf\",\"label\"==ctx_r33.displayMode),core.Eb(6),core.Tc(core.nc(8,23,\"lang.delete\")),core.Eb(3),core.Jb(\"isSelectedMenu\",item_r31.cssClasses.indexOf(\"boldFontData\")>-1),core.Eb(3),core.Tc(core.nc(14,25,\"lang.fontBold\")),core.Eb(2),core.Jb(\"isSelectedMenu\",item_r31.cssClasses.indexOf(\"align_leftData\")>-1),core.Eb(3),core.Tc(core.nc(19,27,\"lang.alignLeft\")),core.Eb(2),core.Jb(\"isSelectedMenu\",item_r31.cssClasses.indexOf(\"align_centerData\")>-1),core.Eb(3),core.Tc(core.nc(24,29,\"lang.alignCenter\")),core.Eb(2),core.Jb(\"isSelectedMenu\",item_r31.cssClasses.indexOf(\"align_rightData\")>-1),core.Eb(3),core.Tc(core.nc(29,31,\"lang.alignRight\")),core.Eb(2),core.Jb(\"isSelectedMenu\",item_r31.cssClasses.indexOf(\"bigFontData\")>-1),core.Eb(3),core.Tc(core.nc(34,33,\"lang.fontBig\")),core.Eb(2),core.Gb(item_r31.cssClasses.join(\" \")),core.Eb(1),core.Hb(\"fa \",item_r31.icon,\"\"),core.Eb(2),core.sc(\"innerHTML\",item_r31[ctx_r33.displayMode],core.Ic)}}function ListAdministrationComponent_ng_container_34_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,ListAdministrationComponent_ng_container_34_ng_container_2_span_1_Template,39,35,\"span\",50),core.Wb()),2&rf){const item_r31=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"getFolders\"!=item_r31.value)}}function ListAdministrationComponent_ng_container_34_Template(rf,ctx){if(1&rf){const _r51=core.ac();core.Xb(0),core.Zb(1,\"mat-toolbar\",48),core.hc(\"cdkDropListDropped\",(function($event){return core.Hc(_r51),core.lc().drop($event)})),core.Qc(2,ListAdministrationComponent_ng_container_34_ng_container_2_Template,2,1,\"ng-container\",49),core.Yb(),core.Wb()}if(2&rf){const ctx_r9=core.lc();core.Eb(1),core.Hb(\"secondaryInformations example-list column-\",ctx_r9.selectedTemplateDisplayedSecondaryData,\"-list\"),core.sc(\"cdkDropListData\",ctx_r9.displayedSecondaryData),core.Eb(1),core.sc(\"ngForOf\",ctx_r9.displayedSecondaryData)}}function ListAdministrationComponent_span_36_span_1_mat_icon_1_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-icon\",67)}function ListAdministrationComponent_span_36_span_1_mat_icon_2_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-icon\",68)}function ListAdministrationComponent_span_36_span_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Qc(1,ListAdministrationComponent_span_36_span_1_mat_icon_1_Template,1,0,\"mat-icon\",64),core.Qc(2,ListAdministrationComponent_span_36_span_1_mat_icon_2_Template,1,0,\"mat-icon\",65),core.Ub(3,\"br\"),core.Zb(4,\"span\",66),core.Sc(5),core.Yb(),core.Yb()),2&rf){const item_r52=core.lc().$implicit,ctx_r54=core.lc();core.Eb(1),core.sc(\"ngIf\",\"label\"==ctx_r54.displayMode),core.Eb(1),core.sc(\"ngIf\",\"sample\"==ctx_r54.displayMode),core.Eb(3),core.Tc(item_r52[ctx_r54.displayMode])}}function ListAdministrationComponent_span_36_span_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.Yb()),2&rf){const item_r52=core.lc().$implicit,ctx_r55=core.lc();core.Eb(1),core.Uc(\" \",item_r52[ctx_r55.displayMode],\" \")}}function ListAdministrationComponent_span_36_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\",63),core.Qc(1,ListAdministrationComponent_span_36_span_1_Template,6,3,\"span\",17),core.Qc(2,ListAdministrationComponent_span_36_span_2_Template,2,1,\"span\",17),core.Yb()),2&rf){const i_r53=ctx.index;core.Gb(ctx.$implicit.cssClasses.join(\" \")),core.Eb(1),core.sc(\"ngIf\",0==i_r53),core.Eb(1),core.sc(\"ngIf\",1==i_r53)}}function ListAdministrationComponent_div_50_ng_container_1_button_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"button\",61),core.Ub(1,\"mat-icon\",62),core.Yb()),2&rf){core.lc();const _r64=core.Dc(3);core.sc(\"matMenuTriggerFor\",_r64)}}function ListAdministrationComponent_div_50_ng_container_1_Template(rf,ctx){if(1&rf){const _r67=core.ac();core.Xb(0),core.Qc(1,ListAdministrationComponent_div_50_ng_container_1_button_1_Template,2,1,\"button\",52),core.Zb(2,\"mat-menu\",null,8),core.Zb(4,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r67);const ctx_r66=core.lc(),item_r60=ctx_r66.$implicit,itData_r61=ctx_r66.index;return core.lc().removeData(item_r60,itData_r61)})),core.Ub(5,\"mat-icon\",53),core.Zb(6,\"span\"),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"span\",70),core.Ub(10,\"i\",71),core.Sc(11),core.Yb(),core.Wb()}if(2&rf){const item_r60=core.lc().$implicit,ctx_r62=core.lc();core.Eb(1),core.sc(\"ngIf\",\"label\"==ctx_r62.displayMode),core.Eb(6),core.Tc(core.nc(8,3,\"lang.delete\")),core.Eb(4),core.Uc(\" \",item_r60[ctx_r62.displayMode],\"\")}}function ListAdministrationComponent_div_50_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",69),core.Qc(1,ListAdministrationComponent_div_50_ng_container_1_Template,12,5,\"ng-container\",17),core.Yb()),2&rf){const item_r60=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"getFolders\"==item_r60.value)}}let list_administration_component_ListAdministrationComponent=(()=>{class ListAdministrationComponent{constructor(translate,http,notify){this.translate=translate,this.http=http,this.notify=notify,this.loading=!1,this.displayedMainData=[{value:\"chronoNumberShort\",label:this.translate.instant(\"lang.chronoNumberShort\"),sample:\"MAARCH/2019A/1\",cssClasses:[\"align_centerData\",\"normalData\"],icon:\"\"},{value:\"object\",label:this.translate.instant(\"lang.object\"),sample:this.translate.instant(\"lang.objectSample\"),cssClasses:[\"longData\"],icon:\"\"}],this.availableData=[{value:\"getPriority\",label:this.translate.instant(\"lang.getPriority\"),sample:this.translate.instant(\"lang.getPrioritySample\"),cssClasses:[\"align_leftData\"],icon:\"fa-traffic-light\"},{value:\"getCategory\",label:this.translate.instant(\"lang.getCategory\"),sample:this.translate.instant(\"lang.incoming\"),cssClasses:[\"align_leftData\"],icon:\"fa-exchange-alt\"},{value:\"getDoctype\",label:this.translate.instant(\"lang.getDoctype\"),sample:this.translate.instant(\"lang.getDoctypeSample\"),cssClasses:[\"align_leftData\"],icon:\"fa-suitcase\"},{value:\"getAssignee\",label:this.translate.instant(\"lang.getAssignee\"),sample:this.translate.instant(\"lang.getAssigneeSample\"),cssClasses:[\"align_leftData\"],icon:\"fa-sitemap\"},{value:\"getRecipients\",label:this.translate.instant(\"lang.getRecipients\"),sample:\"Patricia PETIT\",cssClasses:[\"align_leftData\"],icon:\"fa-user\"},{value:\"getSenders\",label:this.translate.instant(\"lang.getSenders\"),sample:\"Alain DUBOIS (MAARCH)\",cssClasses:[\"align_leftData\"],icon:\"fa-book\"},{value:\"getCreationAndProcessLimitDates\",label:this.translate.instant(\"lang.getCreationAndProcessLimitDates\"),sample:this.translate.instant(\"lang.getCreationAndProcessLimitDatesSample\"),cssClasses:[\"align_leftData\"],icon:\"fa-calendar\"},{value:\"getVisaWorkflow\",label:this.translate.instant(\"lang.getVisaWorkflow\"),sample:'<i color=\"accent\" class=\"fa fa-check\"></i> Barbara BAIN -> <i class=\"fa fa-hourglass-half\"></i> <b>Bruno BOULE</b> -> <i class=\"fa fa-hourglass-half\"></i> Patricia PETIT',cssClasses:[\"align_leftData\"],icon:\"fa-list-ol\"},{value:\"getSignatories\",label:this.translate.instant(\"lang.getSignatories\"),sample:\"Denis DAULL, Patricia PETIT\",cssClasses:[\"align_leftData\"],icon:\"fa-certificate\"},{value:\"getModificationDate\",label:this.translate.instant(\"lang.getModificationDate\"),sample:\"01-01-2019\",cssClasses:[\"align_leftData\"],icon:\"fa-calendar-check\"},{value:\"getOpinionLimitDate\",label:this.translate.instant(\"lang.getOpinionLimitDate\"),sample:\"01-01-2019\",cssClasses:[\"align_leftData\"],icon:\"fa-stopwatch\"},{value:\"getParallelOpinionsNumber\",label:this.translate.instant(\"lang.getParallelOpinionsNumber\"),sample:this.translate.instant(\"lang.getParallelOpinionsNumberSample\"),cssClasses:[\"align_leftData\"],icon:\"fa-comment-alt\"},{value:\"getFolders\",label:this.translate.instant(\"lang.getFolders\"),sample:this.translate.instant(\"lang.getFoldersSample\"),cssClasses:[\"align_leftData\"],icon:\"fa-folder\"}],this.availableDataClone=[],this.displayedSecondaryData=[],this.displayedSecondaryDataClone=[],this.displayMode=\"label\",this.dataControl=new fesm2015_forms.h,this.listEvent=[{id:\"detailDoc\",value:\"documentDetails\"},{id:\"eventVisaMail\",value:\"signatureBookAction\"},{id:\"eventProcessDoc\",value:\"processDocument\"},{id:\"eventViewDoc\",value:\"viewDoc\"}],this.templateDisplayedSecondaryData=[1,2,3,4,5,6,7],this.selectedTemplateDisplayedSecondaryData=7,this.selectedTemplateDisplayedSecondaryDataClone=7,this.selectedListEvent=null,this.selectedListEventClone=null,this.processTool=[{id:\"dashboard\",icon:\"fas fa-columns\",label:this.translate.instant(\"lang.newsFeed\")},{id:\"history\",icon:\"fas fa-history\",label:this.translate.instant(\"lang.history\")},{id:\"notes\",icon:\"fas fa-pen-square\",label:this.translate.instant(\"lang.notesAlt\")},{id:\"attachments\",icon:\"fas fa-paperclip\",label:this.translate.instant(\"lang.attachments\")},{id:\"linkedResources\",icon:\"fas fa-link\",label:this.translate.instant(\"lang.links\")},{id:\"diffusionList\",icon:\"fas fa-share-alt\",label:this.translate.instant(\"lang.diffusionList\")},{id:\"emails\",icon:\"fas fa-envelope\",label:this.translate.instant(\"lang.mailsSentAlt\")},{id:\"visaCircuit\",icon:\"fas fa-list-ol\",label:this.translate.instant(\"lang.visaWorkflow\")},{id:\"opinionCircuit\",icon:\"fas fa-comment-alt\",label:this.translate.instant(\"lang.avis\")},{id:\"info\",icon:\"fas fa-info-circle\",label:this.translate.instant(\"lang.informations\")}],this.selectedProcessTool={defaultTab:null,canUpdateData:!1,canUpdateModel:!1,canUpdateDocuments:!1},this.selectedProcessToolClone=null,this.refreshBasketGroup=new core.o}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){yield this.initCustomFields(),this.filteredDataOptions=this.dataControl.valueChanges.pipe(Object(startWith.a)(\"\"),Object(map.a)(value=>this._filterData(value))),this.availableDataClone=JSON.parse(JSON.stringify(this.availableData)),this.displayedSecondaryData=[];let indexData=0;this.selectedTemplateDisplayedSecondaryData=this.basketGroup.list_display.templateColumns,this.selectedTemplateDisplayedSecondaryDataClone=this.selectedTemplateDisplayedSecondaryData,this.basketGroup.list_display.subInfos.forEach(element=>{indexData=this.availableData.map(e=>e.value).indexOf(element.value),this.availableData[indexData].cssClasses=element.cssClasses,this.displayedSecondaryData.push(this.availableData[indexData]),this.availableData.splice(indexData,1)}),this.selectedListEvent=this.basketGroup.list_event,this.selectedListEventClone=this.selectedListEvent,\"processDocument\"===this.basketGroup.list_event?(this.selectedProcessTool.defaultTab=null===this.basketGroup.list_event_data?\"dashboard\":this.basketGroup.list_event_data.defaultTab,this.selectedProcessTool.canUpdateData=null!==this.basketGroup.list_event_data&&this.basketGroup.list_event_data.canUpdateData,this.selectedProcessTool.canUpdateModel=null!==this.basketGroup.list_event_data&&this.basketGroup.list_event_data.canUpdateModel):\"signatureBookAction\"===this.basketGroup.list_event&&(this.selectedProcessTool.canUpdateDocuments=null!==this.basketGroup.list_event_data&&this.basketGroup.list_event_data.canUpdateDocuments),this.selectedProcessToolClone=JSON.parse(JSON.stringify(this.selectedProcessTool)),this.displayedSecondaryDataClone=JSON.parse(JSON.stringify(this.displayedSecondaryData))}))}initCustomFields(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/customFields\").pipe(Object(map.a)(data=>(data.customFields=data.customFields.map(info=>({value:\"indexingCustomField_\"+info.id,label:info.label,sample:this.translate.instant(\"lang.customField\")+info.id,cssClasses:[\"align_leftData\"],icon:\"fa-hashtag\"})),data.customFields)),Object(tap.a)(customs=>{console.log(customs),this.availableData=this.availableData.concat(customs),resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()})}toggleData(){this.dataControl.disabled?this.dataControl.enable():this.dataControl.disable(),this.displayMode=\"label\"===this.displayMode?\"sample\":\"label\"}setStyle(item,value){const typeFont=value.split(\"_\");2===typeFont.length&&item.cssClasses.forEach((element,it)=>{element.includes(typeFont[0])&&element!==value&&item.cssClasses.splice(it,1)});const index=item.cssClasses.indexOf(value);-1===index?item.cssClasses.push(value):item.cssClasses.splice(index,1)}addData(event){const i=this.availableData.map(e=>e.value).indexOf(event.option.value.value);this.displayedSecondaryData.push(event.option.value),this.availableData.splice(i,1),$(\"#availableData\").blur(),this.dataControl.setValue(\"\")}removeData(data,i){this.availableData.push(data),this.displayedSecondaryData.splice(i,1),this.dataControl.setValue(\"\")}removeAllData(){this.availableData=this.availableData.concat(this.displayedSecondaryData),this.displayedSecondaryData=[],this.dataControl.setValue(\"\")}drop(event){event.previousContainer===event.container&&Object(drag_drop.h)(event.container.data,event.previousIndex,event.currentIndex)}saveTemplate(){let objToSend={};const template=[];this.displayedSecondaryData.forEach(element=>{template.push({value:element.value,cssClasses:element.cssClasses,icon:element.icon})}),objToSend={templateColumns:this.selectedTemplateDisplayedSecondaryData,subInfos:template},this.http.put(\"../rest/baskets/\"+this.basketGroup.basket_id+\"/groups/\"+this.basketGroup.group_id,{list_display:objToSend,list_event:this.selectedListEvent,list_event_data:this.selectedProcessTool}).subscribe(()=>{this.displayedSecondaryDataClone=JSON.parse(JSON.stringify(this.displayedSecondaryData)),this.basketGroup.list_display=template,this.basketGroup.list_event=this.selectedListEvent,this.selectedListEventClone=this.selectedListEvent,this.basketGroup.list_event_data=this.selectedProcessTool,this.selectedProcessToolClone=JSON.parse(JSON.stringify(this.selectedProcessTool)),this.selectedTemplateDisplayedSecondaryDataClone=JSON.parse(JSON.stringify(this.selectedTemplateDisplayedSecondaryData)),this.notify.success(this.translate.instant(\"lang.modificationsProcessed\")),this.refreshBasketGroup.emit(this.basketGroup)},err=>{this.notify.error(err.error.errors)})}_filterData(value){let filterValue=\"\";return\"string\"==typeof value?filterValue=value.toLowerCase():null!==value&&(filterValue=value.label.toLowerCase()),this.availableData.filter(option=>option.label.toLowerCase().includes(filterValue))}checkModif(){return JSON.stringify(this.displayedSecondaryData)===JSON.stringify(this.displayedSecondaryDataClone)&&this.selectedListEvent===this.selectedListEventClone&&JSON.stringify(this.selectedProcessTool)===JSON.stringify(this.selectedProcessToolClone)&&JSON.stringify(this.selectedTemplateDisplayedSecondaryData)===JSON.stringify(this.selectedTemplateDisplayedSecondaryDataClone)}cancelModification(){this.displayedSecondaryData=JSON.parse(JSON.stringify(this.displayedSecondaryDataClone)),this.selectedListEvent=this.selectedListEventClone,this.selectedProcessTool=JSON.parse(JSON.stringify(this.selectedProcessToolClone)),this.availableData=JSON.parse(JSON.stringify(this.availableDataClone)),this.selectedTemplateDisplayedSecondaryData=JSON.parse(JSON.stringify(this.selectedTemplateDisplayedSecondaryDataClone));let indexData=0;this.displayedSecondaryData.forEach(element=>{indexData=this.availableData.map(e=>e.value).indexOf(element.value),this.availableData.splice(indexData,1)}),this.dataControl.setValue(\"\")}hasFolder(){return this.displayedSecondaryData.map(data=>data.value).indexOf(\"getFolders\")>-1}changeEventList(ev){this.selectedProcessTool=\"processDocument\"===ev.value?{defaultTab:\"dashboard\"}:{}}toggleCanUpdate(state){state||(this.selectedProcessTool.canUpdateModel=state)}}return ListAdministrationComponent.ɵfac=function(t){return new(t||ListAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a))},ListAdministrationComponent.ɵcmp=core.Nb({type:ListAdministrationComponent,selectors:[[\"list-administration\"]],inputs:{basketGroup:[\"currentBasketGroup\",\"basketGroup\"]},outputs:{refreshBasketGroup:\"refreshBasketGroup\"},decls:59,vars:56,consts:[[\"appearance\",\"outline\",1,\"eventList\"],[3,\"ngModel\",\"ngModelChange\",\"selectionChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"formType ratio-2 col-sm-12\",4,\"ngIf\"],[1,\"editorTool\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",3,\"title\",\"click\",4,\"ngIf\"],[\"color\",\"primary\",\"mat-button\",\"\",3,\"title\",\"matMenuTriggerFor\"],[1,\"fas\",\"fa-columns\"],[\"menu\",\"matMenu\"],[\"mat-menu-item\",\"\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"area\"],[\"appearance\",\"outline\",\"floatLabel\",\"never\"],[\"id\",\"availableData\",\"name\",\"availableData\",\"type\",\"text\",\"matInput\",\"\",3,\"formControl\",\"placeholder\",\"matAutocomplete\"],[3,\"optionSelected\"],[\"auto\",\"matAutocomplete\"],[\"class\",\"dataList\",3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"color\",\"warn\",\"mat-button\",\"\",2,\"float\",\"right\",3,\"disabled\",\"click\"],[4,\"ngIf\"],[1,\"resultRow\",\"newRow\"],[\"class\",\"resultCol\",3,\"class\",4,\"ngFor\",\"ngForOf\"],[\"multiple\",\"\",1,\"actions\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",3,\"title\",\"disabled\"],[\"fontSet\",\"fas\",\"matBadge\",\"2\",\"fontIcon\",\"fa-comments fa-2x\",3,\"matBadgeHidden\"],[\"fontSet\",\"fas\",\"matBadge\",\"7\",\"fontIcon\",\"fa-paperclip fa-2x\",3,\"matBadgeHidden\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-sitemap fa-2x\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-info-circle fa-2x\"],[\"class\",\"folder-info\",4,\"ngFor\",\"ngForOf\"],[1,\"row\"],[1,\"col-md-12\",\"text-center\",2,\"margin-top\",\"30px\"],[\"color\",\"primary\",\"mat-raised-button\",\"\",3,\"disabled\",\"click\"],[\"color\",\"default\",\"mat-raised-button\",\"\",3,\"disabled\",\"click\"],[3,\"value\"],[1,\"formType\",\"ratio-2\",\"col-sm-12\"],[1,\"formType-title\"],[3,\"ngModel\",\"ngModelChange\"],[2,\"padding\",\"10px\"],[\"color\",\"primary\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"color\",\"primary\",3,\"ngModel\",\"disabled\",\"ngModelChange\"],[\"color\",\"primary\",3,\"ngModel\",\"ngModelChange\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",3,\"title\",\"click\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-eye\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-edit\"],[\"mat-menu-item\",\"\",3,\"click\"],[1,\"dataList\",3,\"value\"],[1,\"optionContent\"],[1,\"dataIcon\"],[\"color\",\"primary\"],[1,\"dataLabel\"],[\"cdkDropListOrientation\",\"horizontal\",\"cdkDropList\",\"\",3,\"cdkDropListData\",\"cdkDropListDropped\"],[4,\"ngFor\",\"ngForOf\"],[\"class\",\"example-box\",\"cdkDrag\",\"\",4,\"ngIf\"],[\"cdkDrag\",\"\",1,\"example-box\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\",4,\"ngIf\"],[\"color\",\"warn\",\"fontSet\",\"fas\",\"fontIcon\",\"fa-trash fa-2x\",1,\"secondaryInformations_icon\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-bold fa-2x\",1,\"secondaryInformations_icon\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-align-left fa-2x\",1,\"secondaryInformations_icon\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-align-center fa-2x\",1,\"secondaryInformations_icon\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-align-right fa-2x\",1,\"secondaryInformations_icon\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-text-height fa-2x\",1,\"secondaryInformations_icon\"],[2,\"width\",\"100%\"],[1,\"secondaryInformations_label\",3,\"innerHTML\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\"],[\"fontSet\",\"fas\",\"fontIcon\",\"fa-ellipsis-v fa-2x\"],[1,\"resultCol\"],[\"color\",\"primary\",\"class\",\"fm fm-letter fm-2x\",4,\"ngIf\"],[\"color\",\"warn\",\"class\",\"fm fm-letter-status-inprogress fm-2x\",4,\"ngIf\"],[1,\"resultCol_chrono\"],[\"color\",\"primary\",1,\"fm\",\"fm-letter\",\"fm-2x\"],[\"color\",\"warn\",1,\"fm\",\"fm-letter-status-inprogress\",\"fm-2x\"],[1,\"folder-info\"],[1,\"badge\",\"badge-folder\"],[1,\"fa\",\"fa-folder\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-form-field\",0),core.Zb(1,\"mat-label\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-select\",1),core.hc(\"ngModelChange\",(function($event){return ctx.selectedListEvent=$event}))(\"selectionChange\",(function($event){return ctx.changeEventList($event)})),core.Qc(5,ListAdministrationComponent_mat_option_5_Template,3,4,\"mat-option\",2),core.Yb(),core.Yb(),core.Qc(6,ListAdministrationComponent_div_6_Template,19,20,\"div\",3),core.Qc(7,ListAdministrationComponent_div_7_Template,8,7,\"div\",3),core.Ub(8,\"hr\"),core.Zb(9,\"mat-toolbar\",4),core.Zb(10,\"span\"),core.Qc(11,ListAdministrationComponent_button_11_Template,3,3,\"button\",5),core.Qc(12,ListAdministrationComponent_button_12_Template,3,3,\"button\",5),core.Zb(13,\"button\",6),core.mc(14,\"translate\"),core.Sc(15),core.Ub(16,\"i\",7),core.Yb(),core.Zb(17,\"mat-menu\",null,8),core.Qc(19,ListAdministrationComponent_button_19_Template,2,1,\"button\",9),core.Yb(),core.Yb(),core.Zb(20,\"span\",10),core.Zb(21,\"form\"),core.Zb(22,\"mat-form-field\",11),core.Ub(23,\"input\",12),core.mc(24,\"translate\"),core.Zb(25,\"mat-autocomplete\",13,14),core.hc(\"optionSelected\",(function($event){return ctx.addData($event)})),core.Qc(27,ListAdministrationComponent_mat_option_27_Template,6,5,\"mat-option\",15),core.mc(28,\"async\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(29,\"span\"),core.Zb(30,\"button\",16),core.hc(\"click\",(function(){return ctx.removeAllData()})),core.Sc(31),core.mc(32,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(33,\"mat-card\"),core.Qc(34,ListAdministrationComponent_ng_container_34_Template,3,5,\"ng-container\",17),core.Zb(35,\"div\",18),core.Qc(36,ListAdministrationComponent_span_36_Template,3,4,\"span\",19),core.Zb(37,\"mat-button-toggle-group\",20),core.Zb(38,\"button\",21),core.mc(39,\"translate\"),core.Ub(40,\"mat-icon\",22),core.Yb(),core.Zb(41,\"button\",21),core.mc(42,\"translate\"),core.Ub(43,\"mat-icon\",23),core.Yb(),core.Zb(44,\"button\",21),core.mc(45,\"translate\"),core.Ub(46,\"mat-icon\",24),core.Yb(),core.Zb(47,\"button\",21),core.mc(48,\"translate\"),core.Ub(49,\"mat-icon\",25),core.Yb(),core.Yb(),core.Yb(),core.Qc(50,ListAdministrationComponent_div_50_Template,2,1,\"div\",26),core.Yb(),core.Zb(51,\"div\",27),core.Zb(52,\"div\",28),core.Zb(53,\"button\",29),core.hc(\"click\",(function(){return ctx.saveTemplate()})),core.Sc(54),core.mc(55,\"translate\"),core.Yb(),core.Zb(56,\"button\",30),core.hc(\"click\",(function(){return ctx.cancelModification()})),core.Sc(57),core.mc(58,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r5=core.Dc(18),_r7=core.Dc(26);core.Eb(2),core.Tc(core.nc(3,34,\"lang.eventList\")),core.Eb(2),core.sc(\"ngModel\",ctx.selectedListEvent),core.Eb(1),core.sc(\"ngForOf\",ctx.listEvent),core.Eb(1),core.sc(\"ngIf\",\"processDocument\"===ctx.selectedListEvent),core.Eb(1),core.sc(\"ngIf\",\"signatureBookAction\"===ctx.selectedListEvent),core.Eb(4),core.sc(\"ngIf\",\"label\"==ctx.displayMode),core.Eb(1),core.sc(\"ngIf\",\"sample\"==ctx.displayMode),core.Eb(1),core.sc(\"title\",core.nc(14,36,\"lang.templateUsed\"))(\"matMenuTriggerFor\",_r5),core.Eb(2),core.Uc(\" \",ctx.selectedTemplateDisplayedSecondaryData,\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx.templateDisplayedSecondaryData),core.Eb(4),core.tc(\"placeholder\",core.nc(24,38,\"lang.availableDatas\")),core.sc(\"formControl\",ctx.dataControl)(\"matAutocomplete\",_r7),core.Eb(4),core.sc(\"ngForOf\",core.nc(28,40,ctx.filteredDataOptions)),core.Eb(3),core.sc(\"disabled\",\"sample\"==ctx.displayMode),core.Eb(1),core.Uc(\" \",core.nc(32,42,\"lang.eraseAll\"),\" \"),core.Eb(3),core.sc(\"ngIf\",ctx.displayedSecondaryData.length>0&&\"sample\"==ctx.displayMode||\"label\"==ctx.displayMode),core.Eb(2),core.sc(\"ngForOf\",ctx.displayedMainData),core.Eb(2),core.tc(\"title\",core.nc(39,44,\"lang.notes\")),core.sc(\"disabled\",\"label\"==ctx.displayMode),core.Eb(2),core.sc(\"matBadgeHidden\",\"label\"==ctx.displayMode),core.Eb(1),core.tc(\"title\",core.nc(42,46,\"lang.attachments\")),core.sc(\"disabled\",\"label\"==ctx.displayMode),core.Eb(2),core.sc(\"matBadgeHidden\",\"label\"==ctx.displayMode),core.Eb(1),core.tc(\"title\",core.nc(45,48,\"lang.diffusionList\")),core.sc(\"disabled\",\"label\"==ctx.displayMode),core.Eb(3),core.tc(\"title\",core.nc(48,50,\"lang.linkDetails\")),core.sc(\"disabled\",\"label\"==ctx.displayMode),core.Eb(3),core.sc(\"ngForOf\",ctx.displayedSecondaryData),core.Eb(3),core.sc(\"disabled\",ctx.checkModif()),core.Eb(1),core.Uc(\" \",core.nc(55,52,\"lang.validate\"),\" \"),core.Eb(2),core.sc(\"disabled\",ctx.checkModif()),core.Eb(1),core.Uc(\" \",core.nc(58,54,\"lang.cancel\"),\" \")}},directives:[form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,common.t,toolbar.a,fesm2015_button.b,menu.d,menu.e,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,input.b,fesm2015_forms.c,autocomplete.d,fesm2015_forms.i,autocomplete.a,card.a,button_toggle.b,icon.a,badge.a,fesm2015_core.o,slide_toggle.a,menu.b,drag_drop.e,drag_drop.a,divider.a],pipes:[ngx_translate_core.d,common.b,sorting_pipe.a],styles:[\".availableData[_ngcontent-%COMP%]{margin:10px;display:flex}.secondaryInformations[_ngcontent-%COMP%]{border:1px solid rgba(249,152,48,.4);font-size:10px;height:30px;color:#666}.secondaryInformations_icon[_ngcontent-%COMP%]{height:auto}.secondaryInformations_label[_ngcontent-%COMP%]{width:100%}.resultRow[_ngcontent-%COMP%]{align-items:center;display:flex;padding:5px}.resultRow-mobile[_ngcontent-%COMP%]{font-size:80%}.resultCol[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis}.resultCol-mobile[_ngcontent-%COMP%]{overflow:inherit;text-overflow:inherit;word-break:break-all}.resultCol_chrono[_ngcontent-%COMP%]{color:rgba(0,0,0,.4);font-size:90%}.actions[_ngcontent-%COMP%]{text-align:right;box-shadow:none;border:none;flex:1;justify-content:flex-end;overflow:inherit}.elemToDrag[_ngcontent-%COMP%]{flex:1;border:1px dashed;padding:10px;height:10px;line-height:0;cursor:move;margin-right:5px;margin-left:5px}.columns[_ngcontent-%COMP%]{width:100%;height:90px;padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;background:#fff;font-size:14px}.mat-badge-content[_ngcontent-%COMP%]{background:#f99830}.example-list[_ngcontent-%COMP%]{display:grid;gap:10px;height:auto;max-width:100%;border-radius:4px;border:1px solid rgba(249,152,48,.4);font-size:10px;background:#f5f5f5}.example-box[_ngcontent-%COMP%]{color:#666;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#f5f5f5;flex-grow:1;flex-basis:0;height:20px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.editorTool[_ngcontent-%COMP%]{display:flex;height:44px;font-size:10px;margin-bottom:30px}.editorTool[_ngcontent-%COMP%]   .area[_ngcontent-%COMP%]{flex:1}.editorTool[_ngcontent-%COMP%]   .area[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.editorTool[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{border-left:1px solid #666;height:70%;margin-left:10px;margin-right:10px}.editorTool[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{height:35px}.editorTool[_ngcontent-%COMP%]     .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{background:inherit}.editorTool[_ngcontent-%COMP%]     .mat-form-field-outline{background:#fff}.optionContent[_ngcontent-%COMP%]{display:flex!important}.optionContent[_ngcontent-%COMP%]   .dataIcon[_ngcontent-%COMP%]{width:30px}.optionContent[_ngcontent-%COMP%]   .dataIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.optionContent[_ngcontent-%COMP%]   .dataLabel[_ngcontent-%COMP%]{flex:1}.isSelectedMenu[_ngcontent-%COMP%]{background:rgba(249,152,48,.14)}.align_leftData[_ngcontent-%COMP%]{text-align:left}.align_centerData[_ngcontent-%COMP%]{text-align:center}.align_rightData[_ngcontent-%COMP%]{text-align:right}.boldFontData[_ngcontent-%COMP%]{font-weight:700}.bigFontData[_ngcontent-%COMP%]{font-size:14px}.smallFontData[_ngcontent-%COMP%]{font-size:10px}.normalData[_ngcontent-%COMP%]{flex:1}.longData[_ngcontent-%COMP%]{flex:3}.eventList[_ngcontent-%COMP%]{padding-top:10px}.badge-folder[_ngcontent-%COMP%]{cursor:default;background:#135f7f;margin:5px;font-size:8px;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.formType[_ngcontent-%COMP%]{align-items:center;margin-bottom:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}\"]}),ListAdministrationComponent})();const basket_administration_component_c0=[\"snav2\"],basket_administration_component_c1=[\"adminMenuTemplate\"],basket_administration_component_c2=function(a0){return{opacity:a0}};function BasketAdministrationComponent_ng_template_1_mat_nav_list_0_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",13),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",20),core.hc(\"click\",(function(){return core.Hc(_r7),core.lc(2).linkGroup()})),core.Ub(5,\"mat-icon\",21),core.Zb(6,\"p\",22),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Ub(9,\"mat-divider\"),core.Zb(10,\"a\",23),core.mc(11,\"translate\"),core.Zb(12,\"mat-icon\",24),core.Zb(13,\"mat-slide-toggle\",25),core.hc(\"change\",(function(){core.Hc(_r7);const ctx_r8=core.lc(2);return ctx_r8.toggleIsSearchBasket(ctx_r8.basket),!1})),core.Yb(),core.Yb(),core.Zb(14,\"p\",26),core.hc(\"click\",(function(){core.Hc(_r7);const ctx_r9=core.lc(2);return ctx_r9.toggleIsSearchBasket(ctx_r9.basket),!1})),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Zb(17,\"a\",23),core.mc(18,\"translate\"),core.Zb(19,\"mat-icon\",24),core.Zb(20,\"mat-slide-toggle\",25),core.hc(\"change\",(function(){core.Hc(_r7);const ctx_r10=core.lc(2);return ctx_r10.toggleFlagNotif(ctx_r10.basket),!1})),core.Yb(),core.Yb(),core.Zb(21,\"p\",26),core.hc(\"click\",(function(){core.Hc(_r7);const ctx_r11=core.lc(2);return ctx_r11.toggleFlagNotif(ctx_r11.basket),!1})),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r5=core.lc(2);core.Eb(2),core.Tc(core.nc(3,10,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,12,\"lang.linkGroup\"),\" \"),core.Eb(3),core.tc(\"matTooltip\",core.nc(11,14,\"lang.isSearchBasketInfo\")),core.Eb(3),core.sc(\"checked\",ctx_r5.basket.isSearchBasket),core.Eb(1),core.sc(\"ngStyle\",core.zc(22,basket_administration_component_c2,ctx_r5.basket.isSearchBasket?\"\":\"0.3\")),core.Eb(1),core.Uc(\" \",core.nc(16,16,\"lang.isSearchBasket\"),\" \"),core.Eb(2),core.tc(\"matTooltip\",core.nc(18,18,\"lang.basketNotification\")),core.Eb(3),core.sc(\"checked\",ctx_r5.basket.flagNotif),core.Eb(1),core.sc(\"ngStyle\",core.zc(24,basket_administration_component_c2,ctx_r5.basket.flagNotif?\"\":\"0.3\")),core.Eb(1),core.Uc(\" \",core.nc(23,20,\"lang.activateNotification\"),\" \")}}function BasketAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&core.Qc(0,BasketAdministrationComponent_ng_template_1_mat_nav_list_0_Template,24,26,\"mat-nav-list\",19),2&rf){const ctx_r1=core.lc();core.sc(\"ngIf\",!ctx_r1.creationMode)}}function BasketAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",27),core.Ub(1,\"mat-spinner\",28),core.Yb())}function BasketAdministrationComponent_mat_card_14_input_7_Template(rf,ctx){if(1&rf){const _r18=core.ac();core.Zb(0,\"input\",49),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc(2).basket.id=$event}))(\"blur\",(function(){return core.Hc(_r18),core.lc(2).isAvailable()})),core.mc(1,\"translate\"),core.Yb()}if(2&rf){const ctx_r13=core.lc(2);core.tc(\"placeholder\",core.nc(1,2,\"lang.id\")),core.sc(\"ngModel\",ctx_r13.basket.id)}}function BasketAdministrationComponent_mat_card_14_input_8_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"input\",50),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r21),core.lc(2).basket.id=$event})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r14=core.lc(2);core.tc(\"placeholder\",core.nc(1,3,\"lang.id\")),core.tc(\"title\",core.nc(2,5,\"lang.id\")),core.sc(\"ngModel\",ctx_r14.basket.id)}}function BasketAdministrationComponent_mat_card_14_div_30_mat_option_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",58),core.Sc(1),core.Yb()),2&rf){const column_r27=ctx.$implicit,ctx_r24=core.lc(3);core.sc(\"value\",column_r27),core.Eb(1),core.Uc(\" \",ctx_r24.langVarName[ctx_r24.orderColumns.indexOf(column_r27)],\"\")}}function BasketAdministrationComponent_mat_card_14_div_30_mat_option_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",58),core.Sc(1),core.Yb()),2&rf){const order_r28=ctx.$implicit,ctx_r25=core.lc(3);core.sc(\"value\",order_r28),core.Eb(1),core.Uc(\" \",ctx_r25.langOrderName[ctx_r25.orderByColumns.indexOf(order_r28)],\"\")}}function BasketAdministrationComponent_mat_card_14_div_30_button_14_Template(rf,ctx){if(1&rf){const _r30=core.ac();core.Zb(0,\"button\",59),core.hc(\"click\",(function(){return core.Hc(_r30),core.lc(3).addLine()})),core.Ub(1,\"mat-icon\",60),core.Yb()}if(2&rf){const ctx_r26=core.lc(3);core.sc(\"disabled\",2==ctx_r26.orderColumnsSelected.length)}}function BasketAdministrationComponent_mat_card_14_div_30_Template(rf,ctx){if(1&rf){const _r32=core.ac();core.Zb(0,\"div\",36),core.Zb(1,\"div\",51),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-select\",52),core.hc(\"ngModelChange\",(function($event){core.Hc(_r32);const i_r23=ctx.index;return core.lc(2).orderColumnsSelected[i_r23].column=$event})),core.mc(4,\"translate\"),core.Qc(5,BasketAdministrationComponent_mat_card_14_div_30_mat_option_5_Template,2,2,\"mat-option\",53),core.Yb(),core.Yb(),core.Yb(),core.Zb(6,\"div\",51),core.Zb(7,\"mat-form-field\"),core.Zb(8,\"mat-select\",52),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r32),ctx.$implicit.order=$event})),core.mc(9,\"translate\"),core.Qc(10,BasketAdministrationComponent_mat_card_14_div_30_mat_option_10_Template,2,2,\"mat-option\",53),core.Yb(),core.Yb(),core.Yb(),core.Zb(11,\"div\",54),core.Zb(12,\"button\",55),core.hc(\"click\",(function(){core.Hc(_r32);const i_r23=ctx.index;return core.lc(2).removeLine(i_r23)})),core.Ub(13,\"mat-icon\",56),core.Yb(),core.Qc(14,BasketAdministrationComponent_mat_card_14_div_30_button_14_Template,2,1,\"button\",57),core.Yb(),core.Yb()}if(2&rf){const columnOrder_r22=ctx.$implicit,i_r23=ctx.index,ctx_r15=core.lc(2);core.Eb(3),core.vc(\"placeholder\",\"\",core.nc(4,11,\"lang.defaultSort\"),\" \",i_r23+1,\"\"),core.uc(\"name\",\"basket_res_order\",i_r23,\"\"),core.sc(\"ngModel\",ctx_r15.orderColumnsSelected[i_r23].column),core.Eb(2),core.sc(\"ngForOf\",ctx_r15.orderColumns),core.Eb(3),core.tc(\"placeholder\",core.nc(9,13,\"lang.orderBy\")),core.uc(\"name\",\"order_by_select\",i_r23,\"\"),core.sc(\"ngModel\",columnOrder_r22.order),core.Eb(2),core.sc(\"ngForOf\",ctx_r15.orderByColumns),core.Eb(2),core.sc(\"disabled\",1==ctx_r15.orderColumnsSelected.length),core.Eb(2),core.sc(\"ngIf\",ctx_r15.orderColumnsSelected.length==i_r23+1)}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_ng_template_1_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"span\"),core.Sc(1),core.Yb(),core.Zb(2,\"mat-icon\",62),core.hc(\"click\",(function(){core.Hc(_r41);const i_r36=core.lc().index;return core.lc(2).unlinkGroup(i_r36)})),core.mc(3,\"translate\"),core.Yb()}if(2&rf){const group_r35=core.lc().$implicit;core.Eb(1),core.Tc(group_r35.group_desc),core.Eb(1),core.tc(\"matTooltip\",core.nc(3,2,\"lang.unlinkGroup\"))}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_mat_chip_1_small_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"small\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"(\",core.nc(2,1,\"lang.default\"),\")\"))}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_mat_chip_1_mat_icon_10_Template(rf,ctx){if(1&rf){const _r56=core.ac();core.Zb(0,\"mat-icon\",85),core.hc(\"click\",(function($event){return core.Hc(_r56),$event.stopPropagation()})),core.mc(1,\"translate\"),core.Yb()}2&rf&&core.tc(\"matTooltip\",core.nc(1,1,\"lang.delete\"))}const basket_administration_component_c3=function(a0){return{\"font-weight\":a0}};function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_mat_chip_1_Template(rf,ctx){if(1&rf){const _r59=core.ac();core.Zb(0,\"mat-chip\",81),core.hc(\"click\",(function(){core.Hc(_r59);const action_r51=core.lc().$implicit,group_r35=core.lc(2).$implicit;return core.lc(2).openSettings(group_r35,action_r51)}))(\"removed\",(function(){core.Hc(_r59);const action_r51=core.lc().$implicit,group_r35=core.lc(2).$implicit;return core.lc(2).unlinkAction(group_r35,action_r51)})),core.Sc(1,\"   \"),core.Zb(2,\"span\"),core.Sc(3),core.Yb(),core.Sc(4,\"  \"),core.Qc(5,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_mat_chip_1_small_5_Template,3,3,\"small\",19),core.Ub(6,\"span\",82),core.Zb(7,\"button\",83),core.hc(\"click\",(function($event){core.Hc(_r59);const action_r51=core.lc().$implicit,group_r35=core.lc(2).$implicit,ctx_r64=core.lc(2);return $event.stopPropagation(),ctx_r64.setDefaultAction(group_r35,action_r51)})),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Qc(10,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_mat_chip_1_mat_icon_10_Template,2,3,\"mat-icon\",84),core.Yb()}if(2&rf){const action_r51=core.lc().$implicit;core.uc(\"matTooltip\",\"id : \",action_r51.id,\"\"),core.sc(\"ngStyle\",core.zc(9,basket_administration_component_c3,1==action_r51.default_action_list?\"bold\":\"\")),core.Eb(3),core.Tc(action_r51.label_action),core.Eb(2),core.sc(\"ngIf\",1==action_r51.default_action_list),core.Eb(2),core.sc(\"disabled\",action_r51.default_action_list),core.Eb(1),core.Tc(core.nc(9,7,\"lang.setByDefault\")),core.Eb(2),core.sc(\"ngIf\",1!=action_r51.default_action_list)}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\",79),core.Qc(1,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_mat_chip_1_Template,11,11,\"mat-chip\",80),core.Yb()),2&rf){const action_r51=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",1==action_r51.checked)}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_header_cell_25_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_cell_26_Template(rf,ctx){if(1&rf){const _r71=core.ac();core.Zb(0,\"mat-cell\",86),core.Zb(1,\"mat-checkbox\",87),core.hc(\"change\",(function(){core.Hc(_r71);const group_r35=core.lc(2).$implicit;return core.lc(2).addAction(group_r35)}))(\"ngModelChange\",(function($event){return core.Hc(_r71),ctx.$implicit.checked=$event})),core.Zb(2,\"span\"),core.Sc(3),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const element_r68=ctx.$implicit;core.uc(\"matTooltip\",\"id : \",element_r68.id,\"\"),core.Eb(1),core.sc(\"disabled\",1==element_r68.default_action_list)(\"ngModel\",element_r68.checked),core.Eb(2),core.Tc(element_r68.label_action)}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_header_cell_28_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_cell_29_Template(rf,ctx){if(1&rf){const _r77=core.ac();core.Zb(0,\"mat-cell\",88),core.Zb(1,\"button\",89),core.Ub(2,\"mat-icon\",90),core.Yb(),core.Zb(3,\"mat-menu\",null,91),core.Zb(5,\"button\",92),core.hc(\"click\",(function(){core.Hc(_r77);const element_r73=ctx.$implicit,group_r35=core.lc(2).$implicit;return core.lc(2).setDefaultAction(group_r35,element_r73)})),core.Ub(6,\"mat-icon\",93),core.Zb(7,\"span\"),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Zb(10,\"button\",94),core.hc(\"click\",(function(){core.Hc(_r77);const element_r73=ctx.$implicit,group_r35=core.lc(2).$implicit;return core.lc(2).openSettings(group_r35,element_r73)})),core.Ub(11,\"mat-icon\",95),core.Zb(12,\"span\"),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const element_r73=ctx.$implicit,_r74=core.Dc(4);core.uc(\"matTooltip\",\"id : \",element_r73.id,\"\"),core.Eb(1),core.sc(\"matMenuTriggerFor\",_r74)(\"disabled\",!element_r73.checked),core.Eb(4),core.sc(\"disabled\",1==element_r73.default_action_list),core.Eb(3),core.Tc(core.nc(9,6,\"lang.defaultAction\")),core.Eb(5),core.Tc(core.nc(14,8,\"lang.moreOptions\"))}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_row_30_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}function BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_Template(rf,ctx){if(1&rf){const _r83=core.ac();core.Zb(0,\"mat-tab-group\"),core.Zb(1,\"mat-tab\",31),core.mc(2,\"translate\"),core.Zb(3,\"div\",63),core.Zb(4,\"h5\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Zb(7,\"mat-chip-list\",64,65),core.Qc(9,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_span_9_Template,2,1,\"span\",66),core.mc(10,\"sortBy\"),core.Yb(),core.Yb(),core.Zb(11,\"div\",63),core.Zb(12,\"mat-accordion\",67),core.Zb(13,\"mat-expansion-panel\",68),core.hc(\"opened\",(function(){core.Hc(_r83);const i_r36=core.lc().index;return core.lc(2).initAction(i_r36)})),core.Zb(14,\"mat-expansion-panel-header\"),core.Zb(15,\"mat-panel-title\"),core.Sc(16),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Zb(18,\"div\"),core.Zb(19,\"mat-form-field\"),core.Zb(20,\"input\",69),core.hc(\"keyup\",(function($event){return core.Hc(_r83),core.lc(3).applyFilter($event.target.value)})),core.mc(21,\"translate\"),core.Yb(),core.Yb(),core.Zb(22,\"mat-table\",70,71),core.Xb(24,72),core.Qc(25,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_header_cell_25_Template,1,0,\"mat-header-cell\",73),core.Qc(26,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_cell_26_Template,4,4,\"mat-cell\",74),core.Wb(),core.Xb(27,75),core.Qc(28,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_header_cell_28_Template,1,0,\"mat-header-cell\",73),core.Qc(29,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_cell_29_Template,15,10,\"mat-cell\",76),core.Wb(),core.Qc(30,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_mat_row_30_Template,1,0,\"mat-row\",77),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(31,\"mat-tab\",31),core.mc(32,\"translate\"),core.Zb(33,\"list-administration\",78),core.hc(\"refreshBasketGroup\",(function($event){core.Hc(_r83);const group_r35=core.lc().$implicit;return core.lc(2).updateGroupInfo(group_r35,$event)})),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const group_r35=core.lc().$implicit,ctx_r38=core.lc(2);core.Eb(1),core.tc(\"label\",core.nc(2,9,\"lang.actions\")),core.Eb(4),core.Tc(core.nc(6,11,\"lang.actionChosen\")),core.Eb(4),core.sc(\"ngForOf\",core.oc(10,13,group_r35.groupActions,\"label_action\")),core.Eb(7),core.Uc(\" \",core.nc(17,16,\"lang.actionAvailable\"),\" \"),core.Eb(4),core.tc(\"placeholder\",core.nc(21,18,\"lang.filterBy\")),core.Eb(2),core.sc(\"dataSource\",ctx_r38.dataSource),core.Eb(8),core.sc(\"matRowDefColumns\",ctx_r38.displayedColumns),core.Eb(1),core.tc(\"label\",core.nc(32,20,\"lang.resultPage\")),core.Eb(2),core.sc(\"currentBasketGroup\",group_r35)}}function BasketAdministrationComponent_mat_card_14_mat_tab_35_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab\",31),core.Qc(1,BasketAdministrationComponent_mat_card_14_mat_tab_35_ng_template_1_Template,4,4,\"ng-template\",61),core.Qc(2,BasketAdministrationComponent_mat_card_14_mat_tab_35_mat_tab_group_2_Template,34,22,\"mat-tab-group\",19),core.Yb()),2&rf){const group_r35=ctx.$implicit,ctx_r16=core.lc(2);core.tc(\"label\",group_r35.group_desc),core.Eb(2),core.sc(\"ngIf\",ctx_r16.selectedIndex>0)}}const basket_administration_component_c4=function(a0){return{color:a0}};function BasketAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r89=core.ac();core.Zb(0,\"mat-card\",29),core.Zb(1,\"mat-tab-group\",30),core.hc(\"selectedIndexChange\",(function($event){return core.Hc(_r89),core.lc().selectedIndex=$event})),core.Zb(2,\"mat-tab\",31),core.mc(3,\"translate\"),core.Zb(4,\"form\",32,33),core.hc(\"ngSubmit\",(function(){return core.Hc(_r89),core.lc().onSubmit()})),core.Zb(6,\"mat-form-field\"),core.Qc(7,BasketAdministrationComponent_mat_card_14_input_7_Template,2,4,\"input\",34),core.Qc(8,BasketAdministrationComponent_mat_card_14_input_8_Template,3,7,\"input\",35),core.Yb(),core.Zb(9,\"div\",36),core.Zb(10,\"div\",37),core.Zb(11,\"mat-form-field\"),core.Zb(12,\"input\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r89),core.lc().basket.basket_name=$event})),core.mc(13,\"translate\"),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"div\",39),core.Zb(16,\"mat-form-field\"),core.Zb(17,\"input\",40),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r89),core.lc().basket.color=$event})),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(19,\"mat-form-field\"),core.Zb(20,\"input\",41),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r89),core.lc().basket.basket_desc=$event})),core.mc(21,\"translate\"),core.mc(22,\"translate\"),core.Yb(),core.Yb(),core.Zb(23,\"mat-form-field\"),core.Zb(24,\"textarea\",42),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r89),core.lc().basket.clause=$event})),core.mc(25,\"translate\"),core.mc(26,\"translate\"),core.Yb(),core.Zb(27,\"mat-icon\",43),core.hc(\"click\",(function(){return core.Hc(_r89),core.lc(),core.Dc(16).toggle()})),core.mc(28,\"translate\"),core.Yb(),core.Yb(),core.Zb(29,\"div\",44),core.Qc(30,BasketAdministrationComponent_mat_card_14_div_30_Template,15,15,\"div\",45),core.Yb(),core.Zb(31,\"div\",46),core.Zb(32,\"button\",47),core.Sc(33),core.mc(34,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(35,BasketAdministrationComponent_mat_card_14_mat_tab_35_Template,3,2,\"mat-tab\",48),core.Yb(),core.Yb()}if(2&rf){const _r12=core.Dc(5),ctx_r3=core.lc();core.Eb(1),core.sc(\"selectedIndex\",ctx_r3.selectedIndex),core.Eb(1),core.tc(\"label\",core.nc(3,21,\"lang.informations\")),core.Eb(5),core.sc(\"ngIf\",ctx_r3.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(4),core.tc(\"title\",core.nc(13,23,\"lang.label\")),core.tc(\"placeholder\",core.nc(14,25,\"lang.label\")),core.sc(\"ngModel\",ctx_r3.basket.basket_name)(\"ngStyle\",core.zc(41,basket_administration_component_c4,ctx_r3.basket.color)),core.Eb(5),core.tc(\"matTooltip\",core.nc(18,27,\"lang.chooseColor\")),core.sc(\"ngModel\",ctx_r3.basket.color),core.Eb(3),core.tc(\"title\",core.nc(21,29,\"lang.description\")),core.tc(\"placeholder\",core.nc(22,31,\"lang.description\")),core.sc(\"ngModel\",ctx_r3.basket.basket_desc),core.Eb(4),core.tc(\"title\",core.nc(25,33,\"lang.clause\")),core.tc(\"placeholder\",core.nc(26,35,\"lang.clause\")),core.sc(\"ngModel\",ctx_r3.basket.clause),core.Eb(3),core.tc(\"matTooltip\",core.nc(28,37,\"lang.keywordHelper\")),core.Eb(3),core.sc(\"ngForOf\",ctx_r3.orderColumnsSelected),core.Eb(2),core.sc(\"disabled\",!_r12.form.valid||0==ctx_r3.orderColumnsSelected.length),core.Eb(1),core.Tc(core.nc(34,39,\"lang.save\")),core.Eb(2),core.sc(\"ngForOf\",ctx_r3.basketGroups)}}const basket_administration_component_c5=[\"statusInput\"];function BasketAdministrationSettingsModalComponent_mat_tab_19_1_ng_template_0_Template(rf,ctx){1&rf&&(core.Sc(0),core.mc(1,\"translate\")),2&rf&&core.Uc(\" \",core.nc(1,1,\"lang.redirects\"),\" \")}function BasketAdministrationSettingsModalComponent_mat_tab_19_1_Template(rf,ctx){1&rf&&core.Qc(0,BasketAdministrationSettingsModalComponent_mat_tab_19_1_ng_template_0_Template,2,3,\"ng-template\",21)}function BasketAdministrationSettingsModalComponent_mat_tab_19_mat_expansion_panel_12_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"mat-expansion-panel\",17),core.hc(\"opened\",(function(){return core.Hc(_r6),core.lc(2).initService2()})),core.Zb(1,\"mat-expansion-panel-header\"),core.Zb(2,\"mat-panel-title\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"mat-form-field\"),core.Ub(6,\"input\",22),core.mc(7,\"translate\"),core.Yb(),core.Ub(8,\"div\",23),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,2,\"lang.toUsersEntities\"),\" \"),core.Eb(3),core.tc(\"placeholder\",core.nc(7,4,\"lang.searchEntities\")))}function BasketAdministrationSettingsModalComponent_mat_tab_19_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"mat-tab\"),core.Qc(1,BasketAdministrationSettingsModalComponent_mat_tab_19_1_Template,1,0,void 0,7),core.Zb(2,\"mat-accordion\"),core.Zb(3,\"mat-expansion-panel\",17),core.hc(\"opened\",(function(){return core.Hc(_r8),core.lc().initService()})),core.Zb(4,\"mat-expansion-panel-header\"),core.Zb(5,\"mat-panel-title\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Zb(8,\"mat-form-field\"),core.Ub(9,\"input\",18),core.mc(10,\"translate\"),core.Yb(),core.Ub(11,\"div\",19),core.Yb(),core.Qc(12,BasketAdministrationSettingsModalComponent_mat_tab_19_mat_expansion_panel_12_Template,9,6,\"mat-expansion-panel\",20),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngIf\",\"redirect\"==ctx_r1.data.action.keyword),core.Eb(5),core.Uc(\" \",core.nc(7,4,\"lang.toEntities\"),\" \"),core.Eb(3),core.tc(\"placeholder\",core.nc(10,6,\"lang.searchEntities\")),core.Eb(3),core.sc(\"ngIf\",\"redirect\"==ctx_r1.data.action.keyword)}}function BasketAdministrationGroupListModalComponent_span_6_mat_list_item_1_Template(rf,ctx){if(1&rf){const _r5=core.ac();core.Zb(0,\"mat-list-item\",4),core.hc(\"click\",(function(){core.Hc(_r5);const group_r1=core.lc().$implicit;return core.lc().validateForm(group_r1)})),core.Sc(1),core.Yb()}if(2&rf){const group_r1=core.lc().$implicit;core.Eb(1),core.Uc(\" \",group_r1.group_desc,\" \")}}function BasketAdministrationGroupListModalComponent_span_6_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Qc(1,BasketAdministrationGroupListModalComponent_span_6_mat_list_item_1_Template,2,1,\"mat-list-item\",3),core.Yb()),2&rf){const group_r1=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",0==group_r1.isUsed)}}let basket_administration_component_BasketAdministrationComponent=(()=>{class BasketAdministrationComponent{constructor(translate,http,route,router,notify,dialog,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.selectedIndex=0,this.loading=!1,this.config={},this.basket={},this.basketClone={},this.basketGroups=[],this.allGroups=[],this.actionsList=[],this.list_display=[],this.displayedColumns=[\"label_action\",\"actions\"],this.orderColumns=[\"alt_identifier\",\"creation_date\",\"process_limit_date\",\"res_id\",\"priority\"],this.orderByColumns=[\"asc\",\"desc\"],this.langVarName=[this.translate.instant(\"lang.chrono\"),this.translate.instant(\"lang.creationDate\"),this.translate.instant(\"lang.processLimitDate\"),this.translate.instant(\"lang.id\"),this.translate.instant(\"lang.priority\")],this.langOrderName=[this.translate.instant(\"lang.ascending\"),this.translate.instant(\"lang.descending\")],this.orderColumnsSelected=[{column:\"res_id\",order:\"asc\"}]}applyFilter(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.dataSource.filter=filterValue}ngOnInit(){this.loading=!0,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.basketCreation\")),this.creationMode=!0,this.basketIdAvailable=!1,this.loading=!1):(this.orderColumnsSelected=[],this.creationMode=!1,this.basketIdAvailable=!0,this.id=params.id,this.http.get(\"../rest/baskets/\"+this.id).subscribe(data=>{if(this.headerService.setHeader(this.translate.instant(\"lang.basketModification\"),data.basket.basket_name),this.basket=data.basket,this.basket.id=data.basket.basket_id,this.basket.name=data.basket.basket_name,this.basket.description=data.basket.basket_desc,this.basket.clause=data.basket.basket_clause,this.basket.isSearchBasket=\"Y\"!==data.basket.is_visible,this.basket.flagNotif=\"Y\"===data.basket.flag_notif,\"\"===this.basket.basket_res_order||null==this.basket.basket_res_order)this.orderColumnsSelected=[];else{const tmpOrderByColumnsSelected=this.basket.basket_res_order.split(\", \");for(let i=0;i<tmpOrderByColumnsSelected.length;i++){const value=tmpOrderByColumnsSelected[i].split(\" \");value[1]||(value[1]=\"desc\"),this.orderColumnsSelected.push({column:value[0],order:value[1]})}}this.basketClone=JSON.parse(JSON.stringify(this.basket)),this.http.get(\"../rest/baskets/\"+this.id+\"/groups\").subscribe(dataGroups=>{this.allGroups=dataGroups.allGroups,this.allGroups.forEach(tmpAllGroup=>{tmpAllGroup.isUsed=!1,dataGroups.groups.forEach(tmpGroup=>{tmpAllGroup.group_id===tmpGroup.group_id&&(tmpAllGroup.isUsed=!0)})}),dataGroups.groups.forEach(tmpGroup=>{tmpGroup.groupActions.forEach(tmpAction=>{tmpAction.used_in_basketlist=\"Y\"===tmpAction.used_in_basketlist,tmpAction.used_in_action_page=\"Y\"===tmpAction.used_in_action_page,tmpAction.default_action_list=\"Y\"===tmpAction.default_action_list})}),this.basketGroups=dataGroups.groups,this.loading=!1},err=>{this.notify.handleErrors(err)})},err=>{this.notify.handleErrors(err)}))})}openSettings(group,action){this.config={panelClass:\"maarch-modal\",data:{group:group,action:action}},this.dialogRef=this.dialog.open(basket_administration_component_BasketAdministrationSettingsModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{result&&this.http.put(\"../rest/baskets/\"+this.id+\"/groups/\"+result.group.group_id+\"/actions\",{groupActions:result.group.groupActions}).subscribe(()=>{this.dialogRef=null,this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.dialogRef=null,this.openSettings(group,action),this.notify.error(err.error.errors)})})}isAvailable(){this.basket.id?this.http.get(\"../rest/baskets/\"+this.basket.id).subscribe(()=>{this.basketIdAvailable=!1},err=>{this.basketIdAvailable=!1,err.error.errors===this.translate.instant(\"lang.basketNotFound\")&&(this.basketIdAvailable=!0)}):this.basketIdAvailable=!1}onSubmit(){if(null!==this.orderColumnsSelected&&this.orderColumnsSelected.length>0){const tmpBasketResOrder=[];for(let i=0;i<this.orderColumnsSelected.length;i++)tmpBasketResOrder[i]=this.orderColumnsSelected[i].column+\" \"+this.orderColumnsSelected[i].order;this.basket.basket_res_order=tmpBasketResOrder.join(\", \")}else this.basket.basket_res_order=\"\";this.creationMode?this.http.post(\"../rest/baskets\",this.basket).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.basketAdded\")),this.router.navigate([\"/administration/baskets/\"+this.basket.id])},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/baskets/\"+this.id,this.basket).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.basketUpdated\")),this.router.navigate([\"/administration/baskets\"])},err=>{this.notify.error(err.error.errors)})}addLine(){this.orderColumnsSelected.push(JSON.parse(JSON.stringify(this.orderColumnsSelected[0])))}removeLine(index){this.orderColumnsSelected.splice(index,1)}initAction(groupIndex){this.dataSource=new table.o(this.basketGroups[groupIndex].groupActions),this.dataSource.sort=this.sort}setDefaultAction(group,action){group.groupActions.forEach(tmpAction=>{tmpAction.default_action_list=tmpAction.id===action.id}),this.addAction(group)}unlinkGroup(groupIndex){confirm(this.translate.instant(\"lang.unlinkGroup\")+\" ?\")&&this.http.delete(\"../rest/baskets/\"+this.id+\"/groups/\"+this.basketGroups[groupIndex].group_id).subscribe(()=>{this.allGroups.forEach(tmpGroup=>{tmpGroup.group_id===this.basketGroups[groupIndex].group_id&&(tmpGroup.isUsed=!1)}),this.basketGroups.splice(groupIndex,1),this.notify.success(this.translate.instant(\"lang.basketUpdated\")),this.selectedIndex=0},err=>{this.notify.error(err.error.errors)})}linkGroup(){this.config={panelClass:\"maarch-modal\",data:{basketId:this.basket.id,groups:this.allGroups,linkedGroups:this.basketGroups}},this.dialogRef=this.dialog.open(basket_administration_component_BasketAdministrationGroupListModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{result&&(result.list_display=this.basketGroups.length>0?this.basketGroups[this.basketGroups.length-1].list_display:{subInfos:[],templateColumns:0},this.http.post(\"../rest/baskets/\"+this.id+\"/groups\",result).subscribe(()=>{this.basketGroups.push(result),this.allGroups.forEach(tmpGroup=>{tmpGroup.group_id===result.group_id&&(tmpGroup.isUsed=!0)}),this.notify.success(this.translate.instant(\"lang.basketUpdated\")),this.selectedIndex=this.basketGroups.length},err=>{this.notify.error(err.error.errors)})),this.dialogRef=null})}addAction(group){this.http.put(\"../rest/baskets/\"+this.id+\"/groups/\"+group.group_id+\"/actions\",{groupActions:group.groupActions}).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.actionsGroupBasketUpdated\"))},err=>{this.notify.error(err.error.errors)})}toggleIsSearchBasket(basket){basket.isSearchBasket=!basket.isSearchBasket,this.basketClone.isSearchBasket=basket.isSearchBasket,this.http.put(\"../rest/baskets/\"+this.id,this.basketClone).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.notify.error(err.error.errors)})}toggleFlagNotif(basket){basket.flagNotif=!basket.flagNotif,this.basketClone.flagNotif=basket.flagNotif,this.http.put(\"../rest/baskets/\"+this.id,this.basketClone).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.basketUpdated\"))},err=>{this.notify.error(err.error.errors)})}unlinkAction(group,action){confirm(this.translate.instant(\"lang.unlinkAction\")+\" ?\")&&(action.checked=!1,this.http.put(\"../rest/baskets/\"+this.id+\"/groups/\"+group.group_id+\"/actions\",{groupActions:group.groupActions}).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.actionsGroupBasketUpdated\"))},err=>{this.notify.error(err.error.errors)}))}updateGroupInfo(group,ev){}}return BasketAdministrationComponent.ɵfac=function(t){return new(t||BasketAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},BasketAdministrationComponent.ɵcmp=core.Nb({type:BasketAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(basket_administration_component_c0,!0),core.Oc(basket_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:93,vars:56,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[\"role\",\"list\",2,\"width\",\"300px\",\"padding\",\"5px\"],[2,\"font-size\",\"10px\"],[2,\"border\",\"1px black solid\",\"padding\",\"3px\",\"font-size\",\"10px\"],[\"mat-line\",\"\",2,\"font-weight\",\"bold\",\"font-size\",\"10px\"],[\"mat-line\",\"\",2,\"font-size\",\"10px\"],[4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-link\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",\"disableRipple\",\"true\",3,\"matTooltip\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"color\",\"primary\",3,\"checked\",\"change\"],[\"mat-line\",\"\",3,\"ngStyle\",\"click\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"selectedIndex\",\"selectedIndexChange\"],[3,\"label\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"basketForm\",\"ngForm\"],[\"matInput\",\"\",\"name\",\"identifier\",\"maxlength\",\"32\",\"pattern\",\"^[\\\\w.-]*$\",\"required\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\",\"blur\",4,\"ngIf\"],[\"matInput\",\"\",\"name\",\"identifier\",\"required\",\"\",\"disabled\",\"\",3,\"placeholder\",\"title\",\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[1,\"row\"],[1,\"col-md-11\",\"col-xs-10\"],[\"matInput\",\"\",\"name\",\"label\",\"maxlength\",\"255\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngStyle\",\"ngModelChange\"],[1,\"col-md-1\",\"col-xs-2\"],[\"matInput\",\"\",\"type\",\"color\",\"name\",\"color\",3,\"matTooltip\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"description\",\"maxlength\",\"255\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"clause\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"color\",\"primary\",\"matSuffix\",\"\",1,\"fa\",\"fa-info-circle\",2,\"cursor\",\"pointer\",3,\"matTooltip\",\"click\"],[\"id\",\"listOrder\"],[\"class\",\"row\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\"],[3,\"label\",4,\"ngFor\",\"ngForOf\"],[\"matInput\",\"\",\"name\",\"identifier\",\"maxlength\",\"32\",\"pattern\",\"^[\\\\w.-]*$\",\"required\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\",\"blur\"],[\"matInput\",\"\",\"name\",\"identifier\",\"required\",\"\",\"disabled\",\"\",3,\"placeholder\",\"title\",\"ngModel\",\"ngModelChange\"],[1,\"col-md-5\",\"col-xs-5\",\"text-center\"],[\"required\",\"\",3,\"placeholder\",\"ngModel\",\"name\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-2\",\"col-xs-2\",\"text-left\"],[\"color\",\"warn\",\"mat-icon-button\",\"\",\"type\",\"button\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-minus-square\",\"fa-2x\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",\"type\",\"button\",3,\"disabled\",\"click\",4,\"ngIf\"],[3,\"value\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",\"type\",\"button\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-plus-square\",\"fa-2x\"],[\"mat-tab-label\",\"\"],[\"color\",\"warn\",1,\"fa\",\"fa-times\",3,\"matTooltip\",\"click\"],[1,\"col-md-6\"],[1,\"mat-chip-list-stacked\"],[\"chipList\",\"\"],[\"style\",\"width:100%;\",4,\"ngFor\",\"ngForOf\"],[1,\"basketActionsList\"],[3,\"opened\"],[\"matInput\",\"\",3,\"placeholder\",\"keyup\"],[3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"label_action\"],[4,\"matHeaderCellDef\"],[\"style\",\"flex:6;\",3,\"matTooltip\",4,\"matCellDef\"],[\"matColumnDef\",\"actions\"],[\"style\",\"text-align:right\",3,\"matTooltip\",4,\"matCellDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[3,\"currentBasketGroup\",\"refreshBasketGroup\"],[2,\"width\",\"100%\"],[\"color\",\"primary\",\"style\",\"cursor:pointer;margin:5px;border-radius:0px;display:flex;\",\"selectable\",\"true\",\"removable\",\"true\",3,\"matTooltip\",\"ngStyle\",\"click\",\"removed\",4,\"ngIf\"],[\"color\",\"primary\",\"selectable\",\"true\",\"removable\",\"true\",2,\"cursor\",\"pointer\",\"margin\",\"5px\",\"border-radius\",\"0px\",\"display\",\"flex\",3,\"matTooltip\",\"ngStyle\",\"click\",\"removed\"],[2,\"flex\",\"1 1 auto\"],[\"mat-raised-button\",\"\",3,\"disabled\",\"click\"],[\"matChipRemove\",\"\",\"color\",\"warn\",\"class\",\"fa fa-times\",3,\"matTooltip\",\"click\",4,\"ngIf\"],[\"matChipRemove\",\"\",\"color\",\"warn\",1,\"fa\",\"fa-times\",3,\"matTooltip\",\"click\"],[2,\"flex\",\"6\",3,\"matTooltip\"],[\"color\",\"primary\",3,\"disabled\",\"ngModel\",\"change\",\"ngModelChange\"],[2,\"text-align\",\"right\",3,\"matTooltip\"],[\"mat-icon-button\",\"\",3,\"matMenuTriggerFor\",\"disabled\"],[1,\"fa\",\"fa-bars\"],[\"menu\",\"matMenu\"],[\"mat-menu-item\",\"\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-check-circle\"],[\"mat-menu-item\",\"\",3,\"click\"],[1,\"fa\",\"fa-cogs\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,BasketAdministrationComponent_ng_template_1_Template,1,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,BasketAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,BasketAdministrationComponent_mat_card_14_Template,36,43,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"mat-nav-list\"),core.Zb(18,\"h3\",13),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Yb(),core.Zb(21,\"mat-list\",14),core.Zb(22,\"p\",15),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Zb(25,\"div\",16),core.Zb(26,\"b\"),core.Sc(27,\"DESTINATION = @my_primary_entity or DESTINATION in (@subentities[@my_primary_entity])\"),core.Yb(),core.Yb(),core.Zb(28,\"h4\",17),core.Sc(29,\"@user :\"),core.Yb(),core.Zb(30,\"p\",18),core.Sc(31),core.mc(32,\"translate\"),core.Yb(),core.Zb(33,\"h4\",17),core.Sc(34,\"@user_id :\"),core.Yb(),core.Zb(35,\"p\",18),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Zb(38,\"h4\",17),core.Sc(39,\"@email :\"),core.Yb(),core.Zb(40,\"p\",18),core.Sc(41),core.mc(42,\"translate\"),core.Yb(),core.Zb(43,\"h4\",17),core.Sc(44,\"@my_entities :\"),core.Yb(),core.Zb(45,\"p\",18),core.Sc(46),core.mc(47,\"translate\"),core.Yb(),core.Zb(48,\"h4\",17),core.Sc(49,\"@my_entities_id :\"),core.Yb(),core.Zb(50,\"p\",18),core.Sc(51),core.mc(52,\"translate\"),core.Yb(),core.Zb(53,\"h4\",17),core.Sc(54,\"@my_primary_entity :\"),core.Yb(),core.Zb(55,\"p\",18),core.Sc(56),core.mc(57,\"translate\"),core.Yb(),core.Zb(58,\"h4\",17),core.Sc(59,\"@my_primary_entity_id :\"),core.Yb(),core.Zb(60,\"p\",18),core.Sc(61),core.mc(62,\"translate\"),core.Yb(),core.Zb(63,\"h4\",17),core.Sc(64,\"@subentities[('entity_1',...,'entity_n')] :\"),core.Yb(),core.Zb(65,\"p\",18),core.Sc(66),core.mc(67,\"translate\"),core.Yb(),core.Zb(68,\"h4\",17),core.Sc(69,\"@parent_entity['entity_id'] :\"),core.Yb(),core.Zb(70,\"p\",18),core.Sc(71),core.mc(72,\"translate\"),core.Yb(),core.Zb(73,\"h4\",17),core.Sc(74,\"@sisters_entities['entity_id'] :\"),core.Yb(),core.Zb(75,\"p\",18),core.Sc(76),core.mc(77,\"translate\"),core.Yb(),core.Zb(78,\"h4\",17),core.Sc(79,\"@entity_type['type'] :\"),core.Yb(),core.Zb(80,\"p\",18),core.Sc(81),core.mc(82,\"translate\"),core.Yb(),core.Zb(83,\"h4\",17),core.Sc(84,\"@all_entities :\"),core.Yb(),core.Zb(85,\"p\",18),core.Sc(86),core.mc(87,\"translate\"),core.Yb(),core.Zb(88,\"h4\",17),core.Sc(89,\"@immediate_children['entity_1',..., 'entity_id'] :\"),core.Yb(),core.Zb(90,\"p\",18),core.Sc(91),core.mc(92,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1)),core.Eb(4),core.Tc(core.nc(20,26,\"lang.keywordHelp\")),core.Eb(4),core.Tc(core.nc(24,28,\"lang.keywordHelpDesc_11\")),core.Eb(8),core.Tc(core.nc(32,30,\"lang.keywordHelpDesc_1\")),core.Eb(5),core.Tc(core.nc(37,32,\"lang.keywordHelpDesc_12\")),core.Eb(5),core.Tc(core.nc(42,34,\"lang.keywordHelpDesc_2\")),core.Eb(5),core.Tc(core.nc(47,36,\"lang.keywordHelpDesc_3\")),core.Eb(5),core.Tc(core.nc(52,38,\"lang.keywordHelpDesc_13\")),core.Eb(5),core.Tc(core.nc(57,40,\"lang.keywordHelpDesc_4\")),core.Eb(5),core.Tc(core.nc(62,42,\"lang.keywordHelpDesc_14\")),core.Eb(5),core.Tc(core.nc(67,44,\"lang.keywordHelpDesc_5\")),core.Eb(5),core.Tc(core.nc(72,46,\"lang.keywordHelpDesc_6\")),core.Eb(5),core.Tc(core.nc(77,48,\"lang.keywordHelpDesc_7\")),core.Eb(5),core.Tc(core.nc(82,50,\"lang.keywordHelpDesc_8\")),core.Eb(5),core.Tc(core.nc(87,52,\"lang.keywordHelpDesc_9\")),core.Eb(5),core.Tc(core.nc(92,54,\"lang.keywordHelpDesc_10\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.h,list.g,list.a,fesm2015_core.k,list.d,icon.a,list.c,divider.a,tooltip.b,slide_toggle.a,common.w,progress_spinner.c,card.a,tabs.c,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,input.d,form_field.j,common.s,fesm2015_button.b,fesm2015_forms.A,fesm2015_select.a,fesm2015_core.o,tabs.d,chips.d,expansion.a,expansion.c,expansion.g,expansion.h,table.n,table.c,table.i,table.b,table.m,list_administration_component_ListAdministrationComponent,chips.a,chips.e,table.h,table.a,fesm2015_checkbox.a,menu.d,menu.e,menu.b,table.l],pipes:[ngx_translate_core.d,sorting_pipe.a],styles:[\".basketActionsList[_ngcontent-%COMP%]    .mat-expansion-panel-body{height:400px;overflow:auto}.mat-chip[_ngcontent-%COMP%]{padding:25px!important}textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}\"]}),BasketAdministrationComponent})(),basket_administration_component_BasketAdministrationSettingsModalComponent=(()=>{class BasketAdministrationSettingsModalComponent{constructor(translate,http,notify,data,dialogRef){this.translate=translate,this.http=http,this.notify=notify,this.data=data,this.dialogRef=dialogRef,this.allEntities=[]}ngOnInit(){this.http.get(\"../rest/entities\").subscribe(entities=>{[{id:\"ALL_ENTITIES\",keyword:\"ALL_ENTITIES\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.allEntities\")},{id:\"ENTITIES_JUST_BELOW\",keyword:\"ENTITIES_JUST_BELOW\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.immediatelyBelowMyPrimaryEntity\")},{id:\"ENTITIES_BELOW\",keyword:\"ENTITIES_BELOW\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.belowAllMyEntities\")},{id:\"ALL_ENTITIES_BELOW\",keyword:\"ALL_ENTITIES_BELOW\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.belowMyPrimaryEntity\")},{id:\"MY_ENTITIES\",keyword:\"MY_ENTITIES\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.myEntities\")},{id:\"MY_PRIMARY_ENTITY\",keyword:\"MY_PRIMARY_ENTITY\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.myPrimaryEntity\")},{id:\"SAME_LEVEL_ENTITIES\",keyword:\"SAME_LEVEL_ENTITIES\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.sameLevelMyPrimaryEntity\")},{id:\"ENTITIES_JUST_UP\",keyword:\"ENTITIES_JUST_UP\",parent:\"#\",icon:\"fa fa-hashtag\",allowed:!0,text:this.translate.instant(\"lang.immediatelySuperiorMyPrimaryEntity\")}].forEach(keyword=>{this.allEntities.push(keyword)}),entities.entities.forEach(entity=>{this.allEntities.push(entity)})},err=>{this.notify.handleErrors(err)})}initService(){this.allEntities.forEach(entity=>{entity.state={opened:!1,selected:!1},this.data.action.redirects.forEach(keyword=>{(entity.id===keyword.keyword&&\"ENTITY\"===keyword.redirect_mode||entity.id===keyword.entity_id&&\"ENTITY\"===keyword.redirect_mode)&&(entity.state={opened:!0,selected:!0})})}),$(\"#jstree\").jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:\"proton\",responsive:!0},data:this.allEntities},plugins:[\"checkbox\",\"search\"]}),$(\"#jstree\").on(\"select_node.jstree\",(e,data)=>{this.data.action.redirects.push(data.node.original.keyword?{action_id:this.data.action.id,entity_id:\"\",keyword:data.node.id,redirect_mode:\"ENTITY\"}:{action_id:this.data.action.id,entity_id:data.node.id,keyword:\"\",redirect_mode:\"ENTITY\"})}).on(\"deselect_node.jstree\",(e,data)=>{this.data.action.redirects.forEach(redirect=>{if(data.node.original.keyword){if(redirect.keyword===data.node.original.keyword){const index=this.data.action.redirects.indexOf(redirect);this.data.action.redirects.splice(index,1)}}else if(redirect.entity_id===data.node.id){const index=this.data.action.redirects.indexOf(redirect);this.data.action.redirects.splice(index,1)}})}).jstree();let to=!1;$(\"#jstree_search\").keyup((function(){to&&clearTimeout(to),to=setTimeout((function(){const v=$(\"#jstree_search\").val();$(\"#jstree\").jstree(!0).search(v)}),250)}))}initService2(){this.allEntities.forEach(entity=>{entity.state={opened:!1,selected:!1},this.data.action.redirects.forEach(keyword=>{(entity.id===keyword.keyword&&\"USERS\"===keyword.redirect_mode||entity.id===keyword.entity_id&&\"USERS\"===keyword.redirect_mode)&&(entity.state={opened:!0,selected:!0})})}),$(\"#jstree2\").jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:\"proton\",responsive:!0},data:this.allEntities},plugins:[\"checkbox\",\"search\"]}),$(\"#jstree2\").on(\"select_node.jstree\",(e,data)=>{this.data.action.redirects.push(data.node.original.keyword?{action_id:this.data.action.id,entity_id:\"\",keyword:data.node.id,redirect_mode:\"USERS\"}:{action_id:this.data.action.id,entity_id:data.node.id,keyword:\"\",redirect_mode:\"USERS\"})}).on(\"deselect_node.jstree\",(e,data)=>{this.data.action.redirects.forEach(redirect=>{if(data.node.original.keyword){if(redirect.keyword===data.node.original.keyword){const index=this.data.action.redirects.indexOf(redirect);this.data.action.redirects.splice(index,1)}}else if(redirect.entity_id===data.node.id){const index=this.data.action.redirects.indexOf(redirect);this.data.action.redirects.splice(index,1)}})}).jstree();let to=!1;$(\"#jstree_search2\").keyup((function(){to&&clearTimeout(to),to=setTimeout((function(){const v=$(\"#jstree_search2\").val();$(\"#jstree2\").jstree(!0).search(v)}),250)}))}saveSettings(){this.dialogRef.close(this.data)}}return BasketAdministrationSettingsModalComponent.ɵfac=function(t){return new(t||BasketAdministrationSettingsModalComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},BasketAdministrationSettingsModalComponent.ɵcmp=core.Nb({type:BasketAdministrationSettingsModalComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(basket_administration_component_c5,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.statusInput=_t.first)},decls:109,vars:72,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"settingGroupsBasket\",\"ngForm\"],[1,\"container-fluid\"],[1,\"col-md-6\"],[\"id\",\"usedInActionPage\",\"name\",\"usedInActionPage\",\"color\",\"primary\",3,\"ngModel\",\"ngModelChange\"],[\"id\",\"usedInBasketlist\",\"name\",\"usedInBasketlist\",\"color\",\"primary\",3,\"ngModel\",\"ngModelChange\"],[4,\"ngIf\"],[3,\"label\"],[\"matInput\",\"\",\"name\",\"clause\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"role\",\"list\",2,\"width\",\"400px\",\"padding\",\"5px\"],[2,\"font-size\",\"10px\"],[2,\"border\",\"1px black solid\",\"padding\",\"3px\",\"font-size\",\"10px\"],[\"mat-line\",\"\",2,\"font-weight\",\"bold\",\"font-size\",\"10px\"],[\"mat-line\",\"\",2,\"font-size\",\"10px\"],[1,\"divider-modal\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",\"color\",\"primary\",2,\"margin\",\"auto\",3,\"disabled\",\"click\"],[3,\"opened\"],[\"matInput\",\"\",\"id\",\"jstree_search\",\"name\",\"jstree_search\",\"type\",\"text\",3,\"placeholder\"],[\"id\",\"jstree\"],[3,\"opened\",4,\"ngIf\"],[\"mat-tab-label\",\"\"],[\"matInput\",\"\",\"id\",\"jstree_search2\",\"name\",\"jstree_search2\",\"type\",\"text\",3,\"placeholder\"],[\"id\",\"jstree2\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h2\",1),core.Sc(2),core.mc(3,\"translate\"),core.Zb(4,\"small\"),core.Sc(5),core.Yb(),core.Yb(),core.Zb(6,\"mat-dialog-content\"),core.Zb(7,\"form\",null,2),core.Zb(9,\"div\",3),core.Zb(10,\"div\",4),core.Zb(11,\"mat-checkbox\",5),core.hc(\"ngModelChange\",(function($event){return ctx.data.action.used_in_action_page=$event})),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Zb(14,\"div\",4),core.Zb(15,\"mat-checkbox\",6),core.hc(\"ngModelChange\",(function($event){return ctx.data.action.used_in_basketlist=$event})),core.Sc(16),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"mat-tab-group\"),core.Qc(19,BasketAdministrationSettingsModalComponent_mat_tab_19_Template,13,8,\"mat-tab\",7),core.Zb(20,\"mat-tab\",8),core.mc(21,\"translate\"),core.Zb(22,\"mat-form-field\"),core.Zb(23,\"textarea\",9),core.hc(\"ngModelChange\",(function($event){return ctx.data.action.where_clause=$event})),core.mc(24,\"translate\"),core.mc(25,\"translate\"),core.Yb(),core.Yb(),core.Zb(26,\"mat-accordion\"),core.Zb(27,\"mat-expansion-panel\"),core.Zb(28,\"mat-expansion-panel-header\"),core.Zb(29,\"mat-panel-title\"),core.Sc(30),core.mc(31,\"translate\"),core.Yb(),core.Yb(),core.Zb(32,\"mat-list\",10),core.Zb(33,\"p\",11),core.Sc(34),core.mc(35,\"translate\"),core.Yb(),core.Zb(36,\"div\",12),core.Zb(37,\"b\"),core.Sc(38,\"DESTINATION = @my_primary_entity or DESTINATION in (@subentities[@my_primary_entity])\"),core.Yb(),core.Yb(),core.Zb(39,\"h4\",13),core.Sc(40,\"@user :\"),core.Yb(),core.Zb(41,\"p\",14),core.Sc(42),core.mc(43,\"translate\"),core.Yb(),core.Zb(44,\"h4\",13),core.Sc(45,\"@user_id :\"),core.Yb(),core.Zb(46,\"p\",14),core.Sc(47),core.mc(48,\"translate\"),core.Yb(),core.Zb(49,\"h4\",13),core.Sc(50,\"@email :\"),core.Yb(),core.Zb(51,\"p\",14),core.Sc(52),core.mc(53,\"translate\"),core.Yb(),core.Zb(54,\"h4\",13),core.Sc(55,\"@my_entities :\"),core.Yb(),core.Zb(56,\"p\",14),core.Sc(57),core.mc(58,\"translate\"),core.Yb(),core.Zb(59,\"h4\",13),core.Sc(60,\"@my_entities_id :\"),core.Yb(),core.Zb(61,\"p\",14),core.Sc(62),core.mc(63,\"translate\"),core.Yb(),core.Zb(64,\"h4\",13),core.Sc(65,\"@my_primary_entity :\"),core.Yb(),core.Zb(66,\"p\",14),core.Sc(67),core.mc(68,\"translate\"),core.Yb(),core.Zb(69,\"h4\",13),core.Sc(70,\"@my_primary_entity_id :\"),core.Yb(),core.Zb(71,\"p\",14),core.Sc(72),core.mc(73,\"translate\"),core.Yb(),core.Zb(74,\"h4\",13),core.Sc(75,\" @subentities[('entity_1',...,'entity_n')] :\"),core.Yb(),core.Zb(76,\"p\",14),core.Sc(77),core.mc(78,\"translate\"),core.Yb(),core.Zb(79,\"h4\",13),core.Sc(80,\"@parent_entity['entity_id'] :\"),core.Yb(),core.Zb(81,\"p\",14),core.Sc(82),core.mc(83,\"translate\"),core.Yb(),core.Zb(84,\"h4\",13),core.Sc(85,\"@sisters_entities['entity_id'] : \"),core.Yb(),core.Zb(86,\"p\",14),core.Sc(87),core.mc(88,\"translate\"),core.Yb(),core.Zb(89,\"h4\",13),core.Sc(90,\"@entity_type['type'] :\"),core.Yb(),core.Zb(91,\"p\",14),core.Sc(92),core.mc(93,\"translate\"),core.Yb(),core.Zb(94,\"h4\",13),core.Sc(95,\"@all_entities :\"),core.Yb(),core.Zb(96,\"p\",14),core.Sc(97),core.mc(98,\"translate\"),core.Yb(),core.Zb(99,\"h4\",13),core.Sc(100,\" @immediate_children['entity_1',..., 'entity_id'] :\"),core.Yb(),core.Zb(101,\"p\",14),core.Sc(102),core.mc(103,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(104,\"span\",15),core.Zb(105,\"mat-dialog-actions\"),core.Zb(106,\"button\",16),core.hc(\"click\",(function(){return ctx.saveSettings()})),core.Sc(107),core.mc(108,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Uc(\"\",core.nc(3,28,\"lang.actionParameters\"),\" \"),core.Eb(3),core.Tc(ctx.data.action.label_action),core.Eb(6),core.sc(\"ngModel\",ctx.data.action.used_in_action_page),core.Eb(1),core.Uc(\" \",core.nc(13,30,\"lang.usedInActionPage\"),\"\"),core.Eb(3),core.sc(\"ngModel\",ctx.data.action.used_in_basketlist),core.Eb(1),core.Uc(\" \",core.nc(17,32,\"lang.usedInBasketlist\"),\"\"),core.Eb(3),core.sc(\"ngIf\",\"redirect\"==ctx.data.action.keyword),core.Eb(1),core.tc(\"label\",core.nc(21,34,\"lang.otherParameters\")),core.Eb(3),core.tc(\"title\",core.nc(24,36,\"lang.whereClauseAction\")),core.tc(\"placeholder\",core.nc(25,38,\"lang.whereClauseAction\")),core.sc(\"ngModel\",ctx.data.action.where_clause),core.Eb(7),core.Uc(\" \",core.nc(31,40,\"lang.keywordHelp\"),\" \"),core.Eb(4),core.Tc(core.nc(35,42,\"lang.keywordHelpDesc_11\")),core.Eb(8),core.Tc(core.nc(43,44,\"lang.keywordHelpDesc_1\")),core.Eb(5),core.Tc(core.nc(48,46,\"lang.keywordHelpDesc_12\")),core.Eb(5),core.Tc(core.nc(53,48,\"lang.keywordHelpDesc_2\")),core.Eb(5),core.Tc(core.nc(58,50,\"lang.keywordHelpDesc_3\")),core.Eb(5),core.Tc(core.nc(63,52,\"lang.keywordHelpDesc_13\")),core.Eb(5),core.Tc(core.nc(68,54,\"lang.keywordHelpDesc_4\")),core.Eb(5),core.Tc(core.nc(73,56,\"lang.keywordHelpDesc_14\")),core.Eb(5),core.Tc(core.nc(78,58,\"lang.keywordHelpDesc_5\")),core.Eb(5),core.Tc(core.nc(83,60,\"lang.keywordHelpDesc_6\")),core.Eb(5),core.Tc(core.nc(88,62,\"lang.keywordHelpDesc_7\")),core.Eb(5),core.Tc(core.nc(93,64,\"lang.keywordHelpDesc_8\")),core.Eb(5),core.Tc(core.nc(98,66,\"lang.keywordHelpDesc_9\")),core.Eb(5),core.Tc(core.nc(103,68,\"lang.keywordHelpDesc_10\")),core.Eb(4),core.sc(\"disabled\",!ctx.data.action.used_in_basketlist&&!ctx.data.action.used_in_action_page),core.Eb(1),core.Tc(core.nc(108,70,\"lang.validate\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,fesm2015_checkbox.a,fesm2015_forms.t,fesm2015_forms.w,tabs.c,common.t,tabs.a,form_field.c,input.b,input.d,fesm2015_forms.c,expansion.a,expansion.c,expansion.g,expansion.h,list.a,fesm2015_core.k,fesm2015_dialog.c,fesm2015_button.b,tabs.d],pipes:[ngx_translate_core.d],styles:[\".mat-dialog-content[_ngcontent-%COMP%]{height: 65vh;}\"]}),BasketAdministrationSettingsModalComponent})(),basket_administration_component_BasketAdministrationGroupListModalComponent=(()=>{class BasketAdministrationGroupListModalComponent{constructor(http,notify,data,dialogRef){this.http=http,this.notify=notify,this.data=data,this.dialogRef=dialogRef,this.actionAll=[],this.newBasketGroup={}}ngOnInit(){this.http.get(\"../rest/actions\").subscribe(data=>{data.actions.forEach(tmpAction=>{tmpAction.where_clause=\"\",tmpAction.used_in_basketlist=!1,tmpAction.default_action_list=!1,tmpAction.used_in_action_page=!0,tmpAction.statuses=[],tmpAction.redirects=[],tmpAction.checked=!1,this.actionAll.push(tmpAction)})},err=>{this.notify.handleErrors(err)}),this.data.groups.forEach(tmpGroup=>{this.data.linkedGroups.forEach(tmpLinkedGroup=>{if(tmpGroup.group_id===tmpLinkedGroup.group_id){const index=this.data.groups.indexOf(tmpGroup);this.data.groups.splice(index,1)}})})}validateForm(group){0===this.data.linkedGroups.length?(this.actionAll[0].used_in_action_page=!0,this.actionAll[0].default_action_list=!0,this.actionAll[0].used_in_basketlist=!0,this.actionAll[0].checked=!0,this.newBasketGroup.groupActions=this.actionAll):this.newBasketGroup=JSON.parse(JSON.stringify(this.data.linkedGroups[this.data.linkedGroups.length-1])),this.newBasketGroup.basket_id=this.data.basketId,this.newBasketGroup.group_id=group.group_id,this.newBasketGroup.group_desc=group.group_desc,this.dialogRef.close(this.newBasketGroup)}}return BasketAdministrationGroupListModalComponent.ɵfac=function(t){return new(t||BasketAdministrationGroupListModalComponent)(core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},BasketAdministrationGroupListModalComponent.ɵcmp=core.Nb({type:BasketAdministrationGroupListModalComponent,selectors:[[\"ng-component\"]],decls:7,vars:4,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\",\"color\",\"primary\"],[4,\"ngFor\",\"ngForOf\"],[3,\"click\",4,\"ngIf\"],[3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h2\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"mat-nav-list\"),core.Qc(6,BasketAdministrationGroupListModalComponent_span_6_Template,2,1,\"span\",2),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.linkGroup\")),core.Eb(4),core.sc(\"ngForOf\",ctx.data.groups))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,list.h,common.s,common.t,list.d],pipes:[ngx_translate_core.d],styles:[\".mat-dialog-content[_ngcontent-%COMP%]{height: 65vh;}\"]}),BasketAdministrationGroupListModalComponent})();const doctypes_administration_component_c0=[\"snav2\"],doctypes_administration_component_c1=[\"adminMenuTemplate\"];function DoctypesAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",14),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",15),core.hc(\"click\",(function(){return core.Hc(_r9),core.lc().prepareDoctypeAdd(\"firstLevel\")})),core.Zb(5,\"mat-icon\",16),core.Ub(6,\"i\",17),core.Ub(7,\"i\",18),core.Yb(),core.Zb(8,\"p\",19),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Zb(11,\"a\",15),core.hc(\"click\",(function(){return core.Hc(_r9),core.lc().prepareDoctypeAdd(\"secondLevel\")})),core.Zb(12,\"mat-icon\",16),core.Ub(13,\"i\",17),core.Ub(14,\"i\",18),core.Yb(),core.Zb(15,\"p\",19),core.Sc(16),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Zb(18,\"a\",15),core.hc(\"click\",(function(){return core.Hc(_r9),core.lc().prepareDoctypeAdd(\"doctype\")})),core.Zb(19,\"mat-icon\",16),core.Ub(20,\"i\",20),core.Ub(21,\"i\",18),core.Yb(),core.Zb(22,\"p\",19),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Eb(2),core.Tc(core.nc(3,4,\"lang.actions\")),core.Eb(7),core.Uc(\" \",core.nc(10,6,\"lang.addFirstLevel\"),\" \"),core.Eb(7),core.Uc(\" \",core.nc(17,8,\"lang.addSecondLevel\"),\" \"),core.Eb(7),core.Uc(\" \",core.nc(24,10,\"lang.addDoctype\"),\" \"))}function DoctypesAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",21),core.Ub(1,\"mat-spinner\",22),core.Yb())}function DoctypesAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",23),core.Zb(1,\"mat-form-field\"),core.Ub(2,\"input\",24),core.mc(3,\"translate\"),core.Yb(),core.Ub(4,\"div\",25),core.Zb(5,\"div\",26),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(2),core.tc(\"placeholder\",core.nc(3,3,\"lang.search\")),core.Eb(4),core.Vc(\" \",ctx_r3.doctypes.length,\" \",core.nc(7,5,\"lang.documentTypesAlt\"),\"\")}}function DoctypesAdministrationComponent_mat_tab_19_div_4_Template(rf,ctx){if(1&rf){const _r17=core.ac();core.Zb(0,\"div\",31),core.Zb(1,\"div\",32),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"input\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r17),core.lc(2).currentFirstLevel.doctypes_first_level_id=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r13=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,4,\"lang.id\")),core.tc(\"placeholder\",core.nc(5,6,\"lang.id\")),core.sc(\"ngModel\",ctx_r13.currentFirstLevel.doctypes_first_level_id)(\"disabled\",!ctx_r13.creationMode)}}function DoctypesAdministrationComponent_mat_tab_19_button_16_Template(rf,ctx){if(1&rf){const _r19=core.ac();core.Zb(0,\"button\",39),core.hc(\"click\",(function(){return core.Hc(_r19),core.lc(2).removeFirstLevel()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){core.lc();const _r12=core.Dc(3),ctx_r14=core.lc();core.sc(\"disabled\",!_r12.form.valid||ctx_r14.currentFirstLevel.hasChildren),core.Eb(1),core.Tc(core.nc(2,2,\"lang.delete\"))}}function DoctypesAdministrationComponent_mat_tab_19_button_17_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"button\",40),core.hc(\"click\",(function(){return core.Hc(_r21),core.lc(2).readMode()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.cancel\")))}function DoctypesAdministrationComponent_mat_tab_19_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-tab\",27),core.mc(1,\"translate\"),core.Zb(2,\"form\",28,29),core.Qc(4,DoctypesAdministrationComponent_mat_tab_19_div_4_Template,6,8,\"div\",30),core.Zb(5,\"div\",31),core.Zb(6,\"div\",32),core.Zb(7,\"mat-form-field\"),core.Zb(8,\"input\",33),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),core.lc().currentFirstLevel.doctypes_first_level_label=$event})),core.mc(9,\"translate\"),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(11,\"div\",31),core.Zb(12,\"div\",34),core.Zb(13,\"button\",35),core.hc(\"click\",(function(){return core.Hc(_r23),core.lc().saveFirstLevel()})),core.Sc(14),core.mc(15,\"translate\"),core.Yb(),core.Qc(16,DoctypesAdministrationComponent_mat_tab_19_button_16_Template,3,4,\"button\",36),core.Qc(17,DoctypesAdministrationComponent_mat_tab_19_button_17_Template,3,3,\"button\",37),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r12=core.Dc(3),ctx_r5=core.lc();core.tc(\"label\",core.nc(1,9,\"lang.firstLevelDoctype\")),core.Eb(4),core.sc(\"ngIf\",!ctx_r5.creationMode),core.Eb(4),core.tc(\"title\",core.nc(9,11,\"lang.label\")),core.tc(\"placeholder\",core.nc(10,13,\"lang.label\")),core.sc(\"ngModel\",ctx_r5.currentFirstLevel.doctypes_first_level_label),core.Eb(5),core.sc(\"disabled\",!_r12.form.valid),core.Eb(1),core.Tc(core.nc(15,15,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r5.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx_r5.creationMode)}}function DoctypesAdministrationComponent_mat_tab_20_div_4_Template(rf,ctx){if(1&rf){const _r31=core.ac();core.Zb(0,\"div\",31),core.Zb(1,\"div\",32),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"input\",47),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r31),core.lc(2).currentSecondLevel.doctypes_second_level_id=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r26=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,4,\"lang.id\")),core.tc(\"placeholder\",core.nc(5,6,\"lang.id\")),core.sc(\"ngModel\",ctx_r26.currentSecondLevel.doctypes_second_level_id)(\"disabled\",!ctx_r26.creationMode)}}function DoctypesAdministrationComponent_mat_tab_20_mat_option_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const firstLevel_r32=ctx.$implicit;core.sc(\"value\",firstLevel_r32.doctypes_first_level_id),core.Eb(1),core.Uc(\" \",firstLevel_r32.doctypes_first_level_label,\" \")}}function DoctypesAdministrationComponent_mat_tab_20_button_23_Template(rf,ctx){if(1&rf){const _r34=core.ac();core.Zb(0,\"button\",49),core.hc(\"click\",(function(){return core.Hc(_r34),core.lc(2).removeSecondLevel()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){core.lc();const _r25=core.Dc(3),ctx_r28=core.lc();core.sc(\"disabled\",!_r25.form.valid||ctx_r28.currentSecondLevel.hasChildren),core.Eb(1),core.Tc(core.nc(2,2,\"lang.delete\"))}}function DoctypesAdministrationComponent_mat_tab_20_button_24_Template(rf,ctx){if(1&rf){const _r36=core.ac();core.Zb(0,\"button\",50),core.hc(\"click\",(function(){return core.Hc(_r36),core.lc(2).readMode()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.cancel\")))}function DoctypesAdministrationComponent_mat_tab_20_Template(rf,ctx){if(1&rf){const _r38=core.ac();core.Zb(0,\"mat-tab\",27),core.mc(1,\"translate\"),core.Zb(2,\"form\",28,41),core.Qc(4,DoctypesAdministrationComponent_mat_tab_20_div_4_Template,6,8,\"div\",30),core.Zb(5,\"div\",31),core.Zb(6,\"div\",32),core.Zb(7,\"mat-form-field\"),core.Zb(8,\"input\",42),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r38),core.lc().currentSecondLevel.doctypes_second_level_label=$event})),core.mc(9,\"translate\"),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(11,\"div\",31),core.Zb(12,\"div\",32),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"mat-select\",43),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r38),core.lc().currentSecondLevel.doctypes_first_level_id=$event})),core.mc(15,\"translate\"),core.mc(16,\"translate\"),core.Qc(17,DoctypesAdministrationComponent_mat_tab_20_mat_option_17_Template,2,2,\"mat-option\",44),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"div\",31),core.Zb(19,\"div\",34),core.Zb(20,\"button\",35),core.hc(\"click\",(function(){return core.Hc(_r38),core.lc().saveSecondLevel()})),core.Sc(21),core.mc(22,\"translate\"),core.Yb(),core.Qc(23,DoctypesAdministrationComponent_mat_tab_20_button_23_Template,3,4,\"button\",45),core.Qc(24,DoctypesAdministrationComponent_mat_tab_20_button_24_Template,3,3,\"button\",46),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r25=core.Dc(3),ctx_r6=core.lc();core.tc(\"label\",core.nc(1,13,\"lang.secondLevelDoctype\")),core.Eb(4),core.sc(\"ngIf\",!ctx_r6.creationMode),core.Eb(4),core.tc(\"title\",core.nc(9,15,\"lang.label\")),core.tc(\"placeholder\",core.nc(10,17,\"lang.label\")),core.sc(\"ngModel\",ctx_r6.currentSecondLevel.doctypes_second_level_label),core.Eb(6),core.tc(\"title\",core.nc(15,19,\"lang.firstLevelAttached\")),core.tc(\"placeholder\",core.nc(16,21,\"lang.firstLevelAttached\")),core.sc(\"ngModel\",ctx_r6.currentSecondLevel.doctypes_first_level_id),core.Eb(3),core.sc(\"ngForOf\",ctx_r6.firstLevels),core.Eb(3),core.sc(\"disabled\",!_r25.form.valid),core.Eb(1),core.Tc(core.nc(22,23,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r6.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx_r6.creationMode)}}function DoctypesAdministrationComponent_mat_tab_21_div_4_Template(rf,ctx){if(1&rf){const _r48=core.ac();core.Zb(0,\"div\",31),core.Zb(1,\"div\",32),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"input\",66),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r48),core.lc(2).currentType.type_id=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r42=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,4,\"lang.id\")),core.tc(\"placeholder\",core.nc(5,6,\"lang.id\")),core.sc(\"ngModel\",ctx_r42.currentType.type_id)(\"disabled\",!ctx_r42.creationMode)}}function DoctypesAdministrationComponent_mat_tab_21_mat_option_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const secondLevel_r49=ctx.$implicit;core.sc(\"value\",secondLevel_r49.doctypes_second_level_id),core.Eb(1),core.Uc(\" \",secondLevel_r49.doctypes_second_level_label,\" \")}}function DoctypesAdministrationComponent_mat_tab_21_mat_option_42_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const process_r50=ctx.$implicit;core.sc(\"value\",process_r50),core.Eb(1),core.Uc(\" \",process_r50,\" \")}}function DoctypesAdministrationComponent_mat_tab_21_button_78_Template(rf,ctx){if(1&rf){const _r52=core.ac();core.Zb(0,\"button\",67),core.hc(\"click\",(function(){return core.Hc(_r52),core.lc(2).removeType()})),core.mc(1,\"translate\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb()}if(2&rf){core.lc();const _r41=core.Dc(3);core.tc(\"matTooltip\",core.nc(1,3,\"lang.toolTipDeleteDoctype\")),core.sc(\"disabled\",!_r41.form.valid),core.Eb(2),core.Tc(core.nc(3,5,\"lang.delete\"))}}function DoctypesAdministrationComponent_mat_tab_21_button_79_Template(rf,ctx){if(1&rf){const _r54=core.ac();core.Zb(0,\"button\",50),core.hc(\"click\",(function(){return core.Hc(_r54),core.lc(2).readMode()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.cancel\")))}function DoctypesAdministrationComponent_mat_tab_21_Template(rf,ctx){if(1&rf){const _r56=core.ac();core.Zb(0,\"mat-tab\",27),core.mc(1,\"translate\"),core.Zb(2,\"form\",28,51),core.Qc(4,DoctypesAdministrationComponent_mat_tab_21_div_4_Template,6,8,\"div\",30),core.Zb(5,\"div\",31),core.Zb(6,\"div\",32),core.Zb(7,\"mat-form-field\"),core.Zb(8,\"input\",52),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.description=$event})),core.mc(9,\"translate\"),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(11,\"div\",31),core.Zb(12,\"div\",32),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"mat-select\",53),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.doctypes_second_level_id=$event})),core.mc(15,\"translate\"),core.mc(16,\"translate\"),core.Qc(17,DoctypesAdministrationComponent_mat_tab_21_mat_option_17_Template,2,2,\"mat-option\",44),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"div\",31),core.Zb(19,\"div\",32),core.Zb(20,\"mat-form-field\"),core.Zb(21,\"input\",54),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.process_delay=$event})),core.mc(22,\"translate\"),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(24,\"div\",31),core.Zb(25,\"div\",32),core.Zb(26,\"mat-form-field\"),core.Zb(27,\"input\",55),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.delay1=$event})),core.mc(28,\"translate\"),core.mc(29,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(30,\"div\",31),core.Zb(31,\"div\",32),core.Zb(32,\"mat-form-field\"),core.Zb(33,\"input\",56),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.delay2=$event})),core.mc(34,\"translate\"),core.mc(35,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(36,\"div\",31),core.Zb(37,\"div\",32),core.Zb(38,\"mat-form-field\"),core.Zb(39,\"mat-select\",57),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.process_mode=$event})),core.mc(40,\"translate\"),core.mc(41,\"translate\"),core.Qc(42,DoctypesAdministrationComponent_mat_tab_21_mat_option_42_Template,2,2,\"mat-option\",44),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(43,\"mat-accordion\"),core.Zb(44,\"mat-expansion-panel\"),core.Zb(45,\"mat-expansion-panel-header\"),core.Zb(46,\"mat-panel-title\"),core.Sc(47),core.mc(48,\"translate\"),core.Yb(),core.Yb(),core.Zb(49,\"div\",31),core.Zb(50,\"div\",32),core.Zb(51,\"mat-form-field\"),core.Zb(52,\"mat-select\",58),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.retention_final_disposition=$event})),core.mc(53,\"translate\"),core.mc(54,\"translate\"),core.Ub(55,\"mat-option\",59),core.Zb(56,\"mat-option\",60),core.Sc(57),core.mc(58,\"translate\"),core.Yb(),core.Zb(59,\"mat-option\",61),core.Sc(60),core.mc(61,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(62,\"div\",31),core.Zb(63,\"div\",62),core.Zb(64,\"mat-form-field\"),core.Zb(65,\"input\",63),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.retention_rule=$event})),core.mc(66,\"translate\"),core.mc(67,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(68,\"div\",62),core.Zb(69,\"mat-form-field\"),core.Zb(70,\"input\",64),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r56),core.lc().currentType.duration_current_use=$event})),core.mc(71,\"translate\"),core.mc(72,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(73,\"div\",31),core.Zb(74,\"div\",34),core.Zb(75,\"button\",35),core.hc(\"click\",(function(){return core.Hc(_r56),core.lc().saveType()})),core.Sc(76),core.mc(77,\"translate\"),core.Yb(),core.Qc(78,DoctypesAdministrationComponent_mat_tab_21_button_78_Template,4,7,\"button\",65),core.Qc(79,DoctypesAdministrationComponent_mat_tab_21_button_79_Template,3,3,\"button\",46),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r41=core.Dc(3),ctx_r7=core.lc();core.tc(\"label\",core.nc(1,38,\"lang.doctype\")),core.Eb(4),core.sc(\"ngIf\",!ctx_r7.creationMode),core.Eb(4),core.tc(\"title\",core.nc(9,40,\"lang.label\")),core.tc(\"placeholder\",core.nc(10,42,\"lang.label\")),core.sc(\"ngModel\",ctx_r7.currentType.description),core.Eb(6),core.tc(\"title\",core.nc(15,44,\"lang.secondLevelAttached\")),core.tc(\"placeholder\",core.nc(16,46,\"lang.secondLevelAttached\")),core.sc(\"ngModel\",ctx_r7.currentType.doctypes_second_level_id),core.Eb(3),core.sc(\"ngForOf\",ctx_r7.secondLevels),core.Eb(4),core.tc(\"title\",core.nc(22,48,\"lang.processDelayDay\")),core.tc(\"placeholder\",core.nc(23,50,\"lang.processDelayDay\")),core.sc(\"ngModel\",ctx_r7.currentType.process_delay),core.Eb(6),core.tc(\"title\",core.nc(28,52,\"lang.delay1\")),core.tc(\"placeholder\",core.nc(29,54,\"lang.delay1\")),core.sc(\"ngModel\",ctx_r7.currentType.delay1),core.Eb(6),core.tc(\"title\",core.nc(34,56,\"lang.delay2\")),core.tc(\"placeholder\",core.nc(35,58,\"lang.delay2\")),core.sc(\"ngModel\",ctx_r7.currentType.delay2),core.Eb(6),core.tc(\"title\",core.nc(40,60,\"lang.processMode\")),core.tc(\"placeholder\",core.nc(41,62,\"lang.processMode\")),core.sc(\"ngModel\",ctx_r7.currentType.process_mode),core.Eb(3),core.sc(\"ngForOf\",ctx_r7.processModes),core.Eb(5),core.Uc(\" \",core.nc(48,64,\"lang.archival\"),\" \"),core.Eb(5),core.tc(\"title\",core.nc(53,66,\"lang.retentionFinalDisposition\")),core.tc(\"placeholder\",core.nc(54,68,\"lang.retentionFinalDisposition\")),core.sc(\"ngModel\",ctx_r7.currentType.retention_final_disposition),core.Eb(5),core.Tc(core.nc(58,70,\"lang.destruction\")),core.Eb(3),core.Tc(core.nc(61,72,\"lang.conservation\")),core.Eb(5),core.tc(\"title\",core.nc(66,74,\"lang.retentionRule\")),core.tc(\"placeholder\",core.nc(67,76,\"lang.retentionRule\")),core.sc(\"ngModel\",ctx_r7.currentType.retention_rule),core.Eb(5),core.tc(\"title\",core.nc(71,78,\"lang.durationCurrentUse\")),core.tc(\"placeholder\",core.nc(72,80,\"lang.durationCurrentUse\")),core.sc(\"ngModel\",ctx_r7.currentType.duration_current_use),core.Eb(5),core.sc(\"disabled\",!_r41.form.valid),core.Eb(1),core.Tc(core.nc(77,82,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r7.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx_r7.creationMode)}}function DoctypesAdministrationRedirectModalComponent_mat_option_20_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",9),core.Sc(1),core.Yb()),2&rf){const type_r2=ctx.$implicit;core.sc(\"disabled\",type_r2.disabled)(\"value\",type_r2.type_id),core.Eb(1),core.Uc(\" \",type_r2.description,\" \")}}let doctypes_administration_component_DoctypesAdministrationComponent=(()=>{class DoctypesAdministrationComponent{constructor(translate,http,notify,dialog,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.config={},this.doctypes=[],this.currentType=!1,this.currentSecondLevel=!1,this.currentFirstLevel=!1,this.firstLevels=!1,this.types=!1,this.secondLevels=!1,this.processModes=!1,this.loading=!1,this.creationMode=!1,this.newSecondLevel=!1,this.newFirstLevel=!1,this.displayedColumns=[\"label\",\"use\",\"mandatory\",\"column\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.documentTypes\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/doctypes\").subscribe(data=>{this.doctypes=data.structure,setTimeout(()=>{$(\"#jstree\").jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:\"proton\",responsive:!0},multiple:!1,data:this.doctypes,check_callback:function(operation,node,node_parent,node_position,more){if(\"move_node\"===operation)return void 0===more.ref||(!isNaN(parseFloat(node.id))&&isFinite(node.id)&&0===more.ref.id.indexOf(\"secondlevel_\")||0===node.id.indexOf(\"secondlevel_\")&&0===more.ref.id.indexOf(\"firstlevel_\"))&&!(more.ref.children.indexOf(node.id)>-1)}},dnd:{is_draggable:function(nodes){return this.secondLevelSelected=nodes[0].id.replace(\"secondlevel_\",\"\"),!!(!isNaN(parseFloat(this.secondLevelSelected))&&isFinite(this.secondLevelSelected)||!isNaN(parseFloat(nodes[0].id))&&isFinite(nodes[0].id))}},plugins:[\"search\",\"dnd\",\"contextmenu\"]});let to=!1;$(\"#jstree_search\").keyup((function(){to&&clearTimeout(to),to=setTimeout((function(){const v=$(\"#jstree_search\").val();$(\"#jstree\").jstree(!0).search(v)}),250)})),$(\"#jstree\").on(\"select_node.jstree\",(e,item)=>{!1===this.sidenavRight.opened&&this.sidenavRight.open(),this.loadDoctype(item,!1)}).on(\"move_node.jstree\",(e,item)=>{this.loadDoctype(item,!0)}).jstree()},0),$(\"#jstree\").jstree(\"select_node\",this.doctypes[0]),this.loading=!1},err=>{this.notify.handleErrors(err)})}loadDoctype(data,move){this.creationMode=!1,data.node.original.type_id?(this.currentFirstLevel=!1,this.currentSecondLevel=!1,this.http.get(\"../rest/doctypes/types/\"+data.node.original.type_id).subscribe(dataValue=>{this.currentType=dataValue.doctype,this.secondLevels=dataValue.secondLevel,this.processModes=[\"NORMAL\",\"SVA\",\"SVR\"],move&&(this.currentType?(this.newSecondLevel=data.parent.replace(\"secondlevel_\",\"\"),!isNaN(parseFloat(this.newSecondLevel))&&isFinite(this.newSecondLevel)?this.currentType.doctypes_second_level_id!==this.newSecondLevel&&(this.currentType.doctypes_second_level_id=this.newSecondLevel,this.saveType()):alert(this.translate.instant(\"lang.cantMoveDoctype\"))):alert(this.translate.instant(\"lang.noDoctypeSelected\")))},err=>{this.notify.error(err.error.errors)})):data.node.original.doctypes_second_level_id?(this.currentFirstLevel=!1,this.currentType=!1,this.http.get(\"../rest/doctypes/secondLevel/\"+data.node.original.doctypes_second_level_id).subscribe(dataValue=>{this.currentSecondLevel=dataValue.secondLevel,this.firstLevels=dataValue.firstLevel,move&&(this.currentSecondLevel?(this.newFirstLevel=data.parent.replace(\"firstlevel_\",\"\"),!isNaN(parseFloat(this.newFirstLevel))&&isFinite(this.newFirstLevel)?this.currentSecondLevel.doctypes_first_level_id!==this.newFirstLevel&&(this.currentSecondLevel.doctypes_first_level_id=this.newFirstLevel,this.saveSecondLevel()):alert(this.translate.instant(\"lang.cantMoveFirstLevel\"))):alert(this.translate.instant(\"lang.noFirstLevelSelected\")))},err=>{this.notify.error(err.error.errors)})):(this.currentSecondLevel=!1,this.currentType=!1,this.http.get(\"../rest/doctypes/firstLevel/\"+data.node.original.doctypes_first_level_id).subscribe(dataDoctypes=>{this.currentFirstLevel=dataDoctypes.firstLevel},err=>{this.notify.error(err.error.errors)}))}resetDatas(){this.currentFirstLevel=!1,this.currentSecondLevel=!1,this.currentType=!1}refreshTree(){$(\"#jstree\").jstree(!0).settings.core.data=this.doctypes,$(\"#jstree\").jstree(\"refresh\")}saveFirstLevel(){this.creationMode?this.http.post(\"../rest/doctypes/firstLevel\",this.currentFirstLevel).subscribe(data=>{this.resetDatas(),this.readMode(),this.doctypes=data.doctypeTree,this.refreshTree(),this.notify.success(this.translate.instant(\"lang.firstLevelAdded\"))},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/doctypes/firstLevel/\"+this.currentFirstLevel.doctypes_first_level_id,this.currentFirstLevel).subscribe(data=>{this.doctypes=data.doctypeTree,this.refreshTree(),this.notify.success(this.translate.instant(\"lang.firstLevelUpdated\"))},err=>{this.notify.error(err.error.errors)})}saveSecondLevel(){this.creationMode?this.http.post(\"../rest/doctypes/secondLevel\",this.currentSecondLevel).subscribe(data=>{this.resetDatas(),this.readMode(),this.doctypes=data.doctypeTree,this.refreshTree(),this.notify.success(this.translate.instant(\"lang.secondLevelAdded\"))},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/doctypes/secondLevel/\"+this.currentSecondLevel.doctypes_second_level_id,this.currentSecondLevel).subscribe(data=>{this.doctypes=data.doctypeTree,this.refreshTree(),this.notify.success(this.translate.instant(\"lang.secondLevelUpdated\"))},err=>{this.notify.error(err.error.errors)})}saveType(){this.creationMode?this.http.post(\"../rest/doctypes/types\",this.currentType).subscribe(data=>{this.resetDatas(),this.readMode(),this.doctypes=data.doctypeTree,this.refreshTree(),this.notify.success(this.translate.instant(\"lang.documentTypeAdded\"))},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/doctypes/types/\"+this.currentType.type_id,this.currentType).subscribe(data=>{this.doctypes=data.doctypeTree,this.refreshTree(),this.notify.success(this.translate.instant(\"lang.documentTypeUpdated\"))},err=>{this.notify.error(err.error.errors)})}readMode(){this.creationMode=!1,$(\"#jstree\").jstree(\"deselect_all\"),$(\"#jstree\").jstree(\"select_node\",this.doctypes[0])}removeFirstLevel(){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+this.currentFirstLevel.doctypes_first_level_label+\" »\")&&this.http.delete(\"../rest/doctypes/firstLevel/\"+this.currentFirstLevel.doctypes_first_level_id).subscribe(data=>{this.resetDatas(),this.readMode(),this.doctypes=data.doctypeTree,this.refreshTree(),this.doctypes[0]?$(\"#jstree\").jstree(\"select_node\",this.doctypes[0]):!0===this.sidenavRight.opened&&this.sidenavRight.close(),this.notify.success(this.translate.instant(\"lang.firstLevelDeleted\"))},err=>{this.notify.error(err.error.errors)})}removeSecondLevel(){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+this.currentSecondLevel.doctypes_second_level_label+\" »\")&&this.http.delete(\"../rest/doctypes/secondLevel/\"+this.currentSecondLevel.doctypes_second_level_id).subscribe(data=>{this.resetDatas(),this.readMode(),this.doctypes=data.doctypeTree,this.refreshTree(),$(\"#jstree\").jstree(\"select_node\",this.doctypes[0]),this.notify.success(this.translate.instant(\"lang.secondLevelDeleted\"))},err=>{this.notify.error(err.error.errors)})}removeType(){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+this.currentType.description+\" »\")&&this.http.delete(\"../rest/doctypes/types/\"+this.currentType.type_id).subscribe(data=>{0===data.deleted?(this.resetDatas(),this.readMode(),this.doctypes=data.doctypeTree,this.refreshTree(),$(\"#jstree\").jstree(\"select_node\",this.doctypes[0]),this.notify.success(this.translate.instant(\"lang.documentTypeDeleted\"))):(this.config={panelClass:\"maarch-modal\",data:{count:data.deleted,types:data.doctypes}},this.dialogRef=this.dialog.open(doctypes_administration_component_DoctypesAdministrationRedirectModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{result&&this.http.put(\"../rest/doctypes/types/\"+this.currentType.type_id+\"/redirect\",result).subscribe(dataDoctypes=>{this.resetDatas(),this.readMode(),this.doctypes=dataDoctypes.doctypeTree,this.refreshTree(),$(\"#jstree\").jstree(\"select_node\",this.doctypes[0]),this.notify.success(this.translate.instant(\"lang.documentTypeDeleted\"))},err=>{this.notify.error(err.error.errors)}),this.dialogRef=null}))},err=>{this.notify.error(err.error.errors)})}prepareDoctypeAdd(mode){this.currentFirstLevel=!1,this.currentSecondLevel=!1,this.currentType=!1,\"firstLevel\"===mode&&(this.currentFirstLevel={}),\"secondLevel\"===mode&&(this.currentSecondLevel={}),\"doctype\"===mode&&(this.currentType={}),!1===this.sidenavRight.opened&&this.sidenavRight.open(),$(\"#jstree\").jstree(\"deselect_all\"),this.http.get(\"../rest/administration/doctypes/new\").subscribe(data=>{this.firstLevels=data.firstLevel,this.secondLevels=data.secondLevel,this.processModes=[\"NORMAL\",\"SVA\",\"SVR\"]},err=>{this.notify.error(err.error.errors)}),this.creationMode=mode}}return DoctypesAdministrationComponent.ɵfac=function(t){return new(t||DoctypesAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},DoctypesAdministrationComponent.ɵcmp=core.Nb({type:DoctypesAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(doctypes_administration_component_c0,!0),core.Oc(doctypes_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:22,vars:14,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",1,\"col-md-4\",\"col-sm-12\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[3,\"label\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa-stack\",\"fa-fw\",2,\"margin-left\",\"-3px\",\"font-size\",\"18px\"],[1,\"fa\",\"fa-folder\"],[1,\"fa\",\"fa-plus\",2,\"position\",\"absolute\"],[\"mat-line\",\"\"],[1,\"fa\",\"fa-file\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"matInput\",\"\",\"id\",\"jstree_search\",\"name\",\"jstree_search\",\"type\",\"text\",3,\"placeholder\"],[\"id\",\"jstree\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[3,\"label\"],[1,\"form-horizontal\",2,\"overflow\",\"hidden\"],[\"firstLevelForm\",\"ngForm\"],[\"class\",\"form-group\",4,\"ngIf\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"doctypes_first_level_label\",\"id\",\"doctypes_first_level_label\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"type\",\"button\",\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"type\",\"button\",\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\",4,\"ngIf\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"doctypes_first_level_id\",\"id\",\"doctypes_first_level_id\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"disabled\",\"ngModelChange\"],[\"type\",\"button\",\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\"],[\"type\",\"button\",\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\"],[\"secondLevelForm\",\"ngForm\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"doctypes_second_level_label\",\"id\",\"doctypes_second_level_label\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"id\",\"doctypes_first_level_id\",\"name\",\"doctypes_first_level_id\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\",4,\"ngIf\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"doctypes_second_level_id\",\"id\",\"doctypes_second_level_id\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"disabled\",\"ngModelChange\"],[3,\"value\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\"],[\"typeForm\",\"ngForm\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"description\",\"id\",\"description\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"id\",\"doctypes_second_level_id\",\"name\",\"doctypes_second_level_id\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"process_delay\",\"id\",\"process_delay\",\"type\",\"number\",\"pattern\",\"^[0-9]*$\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"delay1\",\"id\",\"delay1\",\"type\",\"number\",\"pattern\",\"^[0-9]*$\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"delay2\",\"id\",\"delay2\",\"type\",\"number\",\"maxlength\",\"255\",\"pattern\",\"^[0-9]*$\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"id\",\"process_mode\",\"name\",\"process_mode\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"id\",\"retention_final_disposition\",\"name\",\"retention_final_disposition\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"\"],[\"value\",\"destruction\"],[\"value\",\"conservation\"],[1,\"col-sm-6\"],[\"matInput\",\"\",\"name\",\"retention_rule\",\"id\",\"retention_rule\",\"type\",\"text\",\"maxlength\",\"15\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"duration_current_use\",\"id\",\"duration_current_use\",\"type\",\"text\",\"pattern\",\"^[0-9]*$\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"matTooltip\",\"click\",4,\"ngIf\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"type_id\",\"id\",\"type_id\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"disabled\",\"ngModelChange\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"matTooltip\",\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,DoctypesAdministrationComponent_ng_template_1_Template,25,12,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,DoctypesAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,DoctypesAdministrationComponent_mat_card_14_Template,8,7,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"mat-nav-list\"),core.Zb(18,\"mat-tab-group\"),core.Qc(19,DoctypesAdministrationComponent_mat_tab_19_Template,18,17,\"mat-tab\",13),core.Qc(20,DoctypesAdministrationComponent_mat_tab_20_Template,25,25,\"mat-tab\",13),core.Qc(21,DoctypesAdministrationComponent_mat_tab_21_Template,80,84,\"mat-tab\",13),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!1),core.Eb(4),core.sc(\"ngIf\",ctx.currentFirstLevel||\"firstLevel\"==ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx.currentSecondLevel||\"secondeLevel\"==ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx.currentType||\"doctype\"==ctx.creationMode))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.h,tabs.c,list.g,list.d,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,fesm2015_button.b,fesm2015_select.a,common.s,fesm2015_core.o,fesm2015_forms.z,fesm2015_forms.A,expansion.a,expansion.c,expansion.g,expansion.h,tooltip.b],pipes:[ngx_translate_core.d],encapsulation:2}),DoctypesAdministrationComponent})(),doctypes_administration_component_DoctypesAdministrationRedirectModalComponent=(()=>{class DoctypesAdministrationRedirectModalComponent{constructor(http,data,dialogRef){this.http=http,this.data=data,this.dialogRef=dialogRef}}return DoctypesAdministrationRedirectModalComponent.ɵfac=function(t){return new(t||DoctypesAdministrationRedirectModalComponent)(core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},DoctypesAdministrationRedirectModalComponent.ɵcmp=core.Nb({type:DoctypesAdministrationRedirectModalComponent,selectors:[[\"ng-component\"]],decls:25,vars:19,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"changeDoctypeForm\",\"ngForm\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-file\",\"fa-2x\"],[\"mat-line\",\"\"],[\"id\",\"new_type_id\",\"name\",\"new_type_id\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"disabled\",\"value\",4,\"ngFor\",\"ngForOf\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",\"type\",\"submit\",3,\"disabled\",\"click\"],[3,\"disabled\",\"value\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h2\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"form\",null,2),core.Zb(7,\"div\",3),core.Zb(8,\"mat-list\"),core.Zb(9,\"mat-list-item\"),core.Ub(10,\"mat-icon\",4),core.Zb(11,\"p\",5),core.Zb(12,\"b\"),core.Sc(13),core.Yb(),core.Sc(14),core.mc(15,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(16,\"mat-form-field\"),core.Zb(17,\"mat-select\",6),core.hc(\"ngModelChange\",(function($event){return ctx.data.new_type_id=$event})),core.mc(18,\"translate\"),core.mc(19,\"translate\"),core.Qc(20,DoctypesAdministrationRedirectModalComponent_mat_option_20_Template,2,3,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(21,\"mat-dialog-actions\"),core.Zb(22,\"button\",8),core.hc(\"click\",(function(){return ctx.dialogRef.close(ctx.data)})),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r0=core.Dc(6);core.Eb(2),core.Tc(core.nc(3,9,\"lang.documentTypeReplacement\")),core.Eb(11),core.Tc(ctx.data.count),core.Eb(1),core.Uc(\" \",core.nc(15,11,\"lang.documents\"),\" \"),core.Eb(3),core.tc(\"title\",core.nc(18,13,\"lang.transferToDoctype\")),core.tc(\"placeholder\",core.nc(19,15,\"lang.transferToDoctype\")),core.sc(\"ngModel\",ctx.data.new_type_id),core.Eb(3),core.sc(\"ngForOf\",ctx.data.types),core.Eb(2),core.sc(\"disabled\",!_r0.form.valid),core.Eb(1),core.Tc(core.nc(24,17,\"lang.delete\"))}},directives:[fesm2015_dialog.i,fesm2015_dialog.f,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,list.a,list.d,icon.a,list.c,fesm2015_core.k,form_field.c,fesm2015_select.a,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_dialog.c,fesm2015_button.b,fesm2015_core.o],pipes:[ngx_translate_core.d],encapsulation:2}),DoctypesAdministrationRedirectModalComponent})();const diffusionModels_administration_component_c0=[\"adminMenuTemplate\"];function DiffusionModelsAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function DiffusionModelsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.label\")))}function DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",39),core.Sc(1),core.Yb()),2&rf){const element_r16=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r16.title,\" \")}}function DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r8=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r8.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.description\"))}}function DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",39),core.Sc(1),core.Yb()),2&rf){const element_r17=ctx.$implicit,ctx_r9=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r9.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r17.description,\" \")}}function DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.type\")))}function DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",39),core.Sc(1),core.Yb()),2&rf){const element_r18=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r18.typeLabel,\" \")}}function DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\",40)}function DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"mat-cell\",41),core.Zb(1,\"button\",42),core.hc(\"click\",(function($event){core.Hc(_r21);const element_r19=ctx.$implicit,ctx_r20=core.lc(2);return $event.stopPropagation(),ctx_r20.delete(element_r19)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",43),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function DiffusionModelsAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function DiffusionModelsAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",44),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/diffusionModels/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function DiffusionModelsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",26),core.Qc(13,DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,1,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,5,\"mat-header-cell\",29),core.Qc(16,DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,3,\"mat-cell\",30),core.Wb(),core.Xb(17,31),core.Qc(18,DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",26),core.Qc(19,DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_19_Template,2,1,\"mat-cell\",27),core.Wb(),core.Xb(20,32),core.Qc(21,DiffusionModelsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",33),core.Qc(22,DiffusionModelsAdministrationComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",34),core.Wb(),core.Qc(23,DiffusionModelsAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",35),core.Qc(24,DiffusionModelsAdministrationComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",36),core.Yb(),core.Zb(25,\"div\",37),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\"\",ctx_r3.listTemplates.length,\" \",core.nc(27,12,\"lang.workflowModels\"),\"\")}}let diffusionModels_administration_component_DiffusionModelsAdministrationComponent=(()=>{class DiffusionModelsAdministrationComponent{constructor(translate,http,notify,dialog,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.listTemplates=[],this.listTemplatesForAssign=[],this.displayedColumns=[\"title\",\"description\",\"typeLabel\",\"actions\"],this.filterColumns=[\"title\",\"description\",\"typeLabel\"]}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.workflowModels\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,yield this.getListemplates(),this.loadList(),this.loading=!1}))}getListemplates(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/listTemplates\").pipe(Object(map.a)(data=>(data.listTemplates=data.listTemplates.filter(template=>null===template.entityId&&[\"visaCircuit\",\"opinionCircuit\"].indexOf(template.type)>-1).map(template=>Object.assign(Object.assign({},template),{typeLabel:this.translate.instant(\"lang.\"+template.type)})),data.listTemplates)),Object(operators_tap.tap)(listTemplates=>{this.listTemplates=listTemplates,resolve(!0)}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()})}loadList(){setTimeout(()=>{this.adminService.setDataSource(\"admin_listmodels\",this.listTemplates,this.sort,this.paginator,this.filterColumns)},0)}delete(listTemplate){this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/listTemplates/\"+listTemplate.id)),Object(operators_tap.tap)(()=>{this.listTemplates=this.listTemplates.filter(template=>template.id!==listTemplate.id),this.notify.success(this.translate.instant(\"lang.diffusionModelDeleted\")),this.loadList()}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return DiffusionModelsAdministrationComponent.ɵfac=function(t){return new(t||DiffusionModelsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},DiffusionModelsAdministrationComponent.ɵcmp=core.Nb({type:DiffusionModelsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(diffusionModels_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/diffusionModels/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSortDisableClear\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"title\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"description\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"typeLabel\"],[\"matColumnDef\",\"actions\"],[\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;flex:1;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[2,\"flex\",\"1\"],[2,\"justify-content\",\"flex-end\",\"flex\",\"1\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,DiffusionModelsAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,DiffusionModelsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,DiffusionModelsAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),DiffusionModelsAdministrationComponent})();var visa_workflow_component=__webpack_require__(\"jbvq\"),avis_workflow_component=__webpack_require__(\"XkWp\");const diffusionModel_administration_component_c0=[\"snav2\"],diffusionModel_administration_component_c1=[\"appVisaWorkflow\"],diffusionModel_administration_component_c2=[\"appAvisWorkflow\"];function DiffusionModelAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function DiffusionModelAdministrationComponent_mat_card_12_mat_option_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",27),core.Sc(1),core.Yb()),2&rf){const itemType_r8=ctx.$implicit;core.sc(\"value\",itemType_r8.id),core.Eb(1),core.Uc(\" \",itemType_r8.label,\" \")}}function DiffusionModelAdministrationComponent_mat_card_12_button_22_Template(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"button\",28),core.hc(\"click\",(function(){return core.Hc(_r10),core.lc(2).cancelModification()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.cancel\")))}function DiffusionModelAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"mat-card\",17),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",12),core.mc(3,\"translate\"),core.Zb(4,\"form\",18,19),core.hc(\"ngSubmit\",(function(){return core.Hc(_r12),core.lc().onSubmit()})),core.Zb(6,\"mat-form-field\"),core.Zb(7,\"mat-select\",20),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r12),core.lc().diffusionModel.type=$event})),core.mc(8,\"translate\"),core.Qc(9,DiffusionModelAdministrationComponent_mat_card_12_mat_option_9_Template,2,2,\"mat-option\",21),core.Yb(),core.Yb(),core.Zb(10,\"mat-form-field\"),core.Zb(11,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r12),core.lc().diffusionModel.title=$event})),core.mc(12,\"translate\"),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Zb(14,\"mat-form-field\"),core.Zb(15,\"textarea\",23),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r12),core.lc().diffusionModel.description=$event})),core.mc(16,\"translate\"),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Zb(18,\"div\",24),core.Zb(19,\"button\",25),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Qc(22,DiffusionModelAdministrationComponent_mat_card_12_button_22_Template,3,3,\"button\",26),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.tc(\"label\",core.nc(3,14,\"lang.informations\")),core.Eb(5),core.tc(\"placeholder\",core.nc(8,16,\"lang.diffusionType\")),core.sc(\"ngModel\",ctx_r1.diffusionModel.type)(\"disabled\",!ctx_r1.creationMode),core.Eb(2),core.sc(\"ngForOf\",ctx_r1.itemTypeList),core.Eb(2),core.tc(\"title\",core.nc(12,18,\"lang.label\")),core.tc(\"placeholder\",core.nc(13,20,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.diffusionModel.title),core.Eb(4),core.tc(\"title\",core.nc(16,22,\"lang.description\")),core.tc(\"placeholder\",core.nc(17,24,\"lang.description\")),core.sc(\"ngModel\",ctx_r1.diffusionModel.description),core.Eb(4),core.sc(\"disabled\",!ctx_r1.isValidForm()),core.Eb(1),core.Tc(core.nc(21,26,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r1.creationMode)}}function DiffusionModelAdministrationComponent_app_visa_workflow_19_Template(rf,ctx){1&rf&&core.Ub(0,\"app-visa-workflow\",29,30),2&rf&&core.sc(\"showListModels\",!1)(\"showComment\",!1)(\"adminMode\",!0)}function DiffusionModelAdministrationComponent_app_avis_workflow_20_Template(rf,ctx){1&rf&&core.Ub(0,\"app-avis-workflow\",31,32),2&rf&&core.sc(\"showListModels\",!1)(\"adminMode\",!0)}let diffusionModel_administration_component_DiffusionModelAdministrationComponent=(()=>{class DiffusionModelAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!0,this.diffusionModel={title:\"\",description:\"\",type:\"opinionCircuit\",items:[]},this.diffusionModelClone={},this.itemTypeList=[{id:\"visaCircuit\",label:this.translate.instant(\"lang.visaCircuit\")},{id:\"opinionCircuit\",label:this.translate.instant(\"lang.opinionCircuit\")}],this.listDiffModified=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.diffusionModelCreation\")),this.creationMode=!0,this.loading=!1):(this.creationMode=!1,yield this.getTemplate(params.id),\"visaCircuit\"===this.diffusionModel.type?this.loadVisaCircuit():this.loadOpinionCircuit())})))}getTemplate(id){return new Promise((resolve,reject)=>{this.http.get(\"../rest/listTemplates/\"+id).pipe(Object(tap.a)(data=>{this.diffusionModel=data.listTemplate,this.diffusionModel.id=id,resolve(!0)}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(of.a)(!1)))).subscribe()})}loadVisaCircuit(){const item={id:this.diffusionModel.id,type:\"entity\"};setTimeout(()=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.appVisaWorkflow.resetWorkflow(),yield this.appVisaWorkflow.addItemToWorkflow(item,!1),this.diffusionModel.items=this.appVisaWorkflow.getWorkflow(),this.diffusionModelClone=JSON.parse(JSON.stringify(this.diffusionModel))})),0)}loadOpinionCircuit(){const item={id:this.diffusionModel.id,type:\"entity\"};setTimeout(()=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.appAvisWorkflow.resetWorkflow(),yield this.appAvisWorkflow.addItemToWorkflow(item),this.diffusionModel.items=this.appAvisWorkflow.getWorkflow(),this.diffusionModelClone=JSON.parse(JSON.stringify(this.diffusionModel))})),0)}onSubmit(){this.creationMode?this.createTemplate():this.updateTemplate()}createTemplate(){this.http.post(\"../rest/listTemplates?admin=true\",this.formatCircuit()).pipe(Object(tap.a)(()=>{this.router.navigate([\"/administration/diffusionModels\"]),this.notify.success(this.translate.instant(\"lang.diffusionModelAdded\"))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}updateTemplate(){this.http.put(\"../rest/listTemplates/\"+this.diffusionModel.id,this.formatCircuit()).pipe(Object(tap.a)(()=>{this.router.navigate([\"/administration/diffusionModels\"]),this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}formatCircuit(){return\"visaCircuit\"===this.diffusionModel.type?(this.diffusionModel.items=this.appVisaWorkflow.getWorkflow().map((item,index)=>({id:item.item_id,type:\"user\",mode:item.requested_signature?\"sign\":\"visa\",sequence:index})),this.diffusionModel):(this.diffusionModel.items=this.appAvisWorkflow.getWorkflow().map((item,index)=>({id:item.item_id,type:\"user\",mode:\"avis\",sequence:index})),this.diffusionModel)}checkPrivileges(items){var isValid=!0;return items.forEach(item=>{item.hasPrivilege||(isValid=!1)}),isValid}isValidForm(){return\"visaCircuit\"===this.diffusionModel.type?void 0!==this.appVisaWorkflow&&this.appVisaWorkflow.getWorkflow().length>0&&\"\"!==this.diffusionModel.title&&this.checkPrivileges(this.appVisaWorkflow.getWorkflow()):void 0!==this.appAvisWorkflow&&this.appAvisWorkflow.getWorkflow().length>0&&\"\"!==this.diffusionModel.title&&this.checkPrivileges(this.appAvisWorkflow.getWorkflow())}cancelModification(){this.diffusionModel=JSON.parse(JSON.stringify(this.diffusionModelClone)),\"visaCircuit\"===this.diffusionModel.type?this.loadVisaCircuit():this.loadOpinionCircuit()}}return DiffusionModelAdministrationComponent.ɵfac=function(t){return new(t||DiffusionModelAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},DiffusionModelAdministrationComponent.ɵcmp=core.Nb({type:DiffusionModelAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(diffusionModel_administration_component_c0,!0),core.ad(diffusionModel_administration_component_c1,!0),core.ad(diffusionModel_administration_component_c2,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.appVisaWorkflow=_t.first),core.Cc(_t=core.ic())&&(ctx.appAvisWorkflow=_t.first))},decls:21,vars:16,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",1,\"col-md-4\",\"col-xs-11\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[3,\"label\"],[3,\"showListModels\",\"showComment\",\"adminMode\",4,\"ngIf\"],[3,\"showListModels\",\"adminMode\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"ngSubmit\"],[\"diffusionModelForm\",\"ngForm\"],[\"id\",\"type\",\"name\",\"type\",3,\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"matInput\",\"\",\"name\",\"title\",\"maxlength\",\"255\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"description\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",\"matAutosizeMaxRows\",\"5\",\"maxlength\",\"255\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"default\",3,\"click\",4,\"ngIf\"],[3,\"value\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"default\",3,\"click\"],[3,\"showListModels\",\"showComment\",\"adminMode\"],[\"appVisaWorkflow\",\"\"],[3,\"showListModels\",\"adminMode\"],[\"appAvisWorkflow\",\"\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,DiffusionModelAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,DiffusionModelAdministrationComponent_mat_card_12_Template,23,28,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Zb(15,\"mat-nav-list\"),core.Zb(16,\"mat-tab-group\"),core.Zb(17,\"mat-tab\",12),core.mc(18,\"translate\"),core.Qc(19,DiffusionModelAdministrationComponent_app_visa_workflow_19_Template,2,3,\"app-visa-workflow\",13),core.Qc(20,DiffusionModelAdministrationComponent_app_avis_workflow_20_Template,2,2,\"app-avis-workflow\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()),core.Eb(4),core.tc(\"label\",core.nc(18,14,\"lang.\"+ctx.diffusionModel.type)),core.Eb(2),core.sc(\"ngIf\",\"visaCircuit\"===ctx.diffusionModel.type),core.Eb(1),core.sc(\"ngIf\",\"opinionCircuit\"===ctx.diffusionModel.type))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.h,tabs.c,tabs.a,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.E,input.d,fesm2015_button.b,fesm2015_core.o,visa_workflow_component.a,avis_workflow_component.a],pipes:[ngx_translate_core.d],styles:[\".mat-list-item[draggable=false][_ngcontent-%COMP%]:hover{background:inherit}.mat-list-item[draggable=false][_ngcontent-%COMP%]{cursor:not-allowed!important}.mat-list-item[draggable=true][_ngcontent-%COMP%]{cursor:pointer}.mat-list-item[draggable=true][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:move}.primaryColor[_ngcontent-%COMP%]{color:#135f7f}.redColor[_ngcontent-%COMP%]{color:#e4342b}\"]}),DiffusionModelAdministrationComponent})();const entities_export_component_c0=[\"listFilter\"];function EntitiesExportComponent_div_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",13),core.Ub(1,\"mat-spinner\"),core.Yb())}function EntitiesExportComponent_mat_option_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",14),core.Sc(1),core.Yb()),2&rf){const format_r3=ctx.$implicit;core.sc(\"value\",format_r3),core.Eb(1),core.Uc(\" \",format_r3,\" \")}}function EntitiesExportComponent_div_15_mat_option_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",14),core.Sc(1),core.Yb()),2&rf){const delimiter_r5=ctx.$implicit;core.sc(\"value\",delimiter_r5),core.Eb(1),core.Uc(\" \",delimiter_r5,\" \")}}function EntitiesExportComponent_div_15_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"div\",15),core.Zb(1,\"mat-form-field\",5),core.Zb(2,\"mat-label\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"mat-select\",16),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r7),core.lc().exportModel.delimiter=$event})),core.mc(6,\"translate\"),core.Qc(7,EntitiesExportComponent_div_15_mat_option_7_Template,2,2,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Eb(3),core.Tc(core.nc(4,5,\"lang.delimiter\")),core.Eb(2),core.tc(\"placeholder\",core.nc(6,7,\"lang.delimiter\")),core.sc(\"ngModel\",ctx_r2.exportModel.delimiter)(\"disabled\",\"csv\"!=ctx_r2.exportModel.format),core.Eb(2),core.sc(\"ngForOf\",ctx_r2.delimiters)}}let entities_export_component_EntitiesExportComponent=(()=>{class EntitiesExportComponent{constructor(translate,http,notify,data,localStorage,headerService){this.translate=translate,this.http=http,this.notify=notify,this.data=data,this.localStorage=localStorage,this.headerService=headerService,this.loading=!1,this.loadingExport=!1,this.delimiters=[\";\",\",\",\"TAB\"],this.formats=[\"csv\"],this.exportModel={delimiter:\";\",format:\"csv\"}}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.setConfiguration()}))}exportData(){this.localStorage.save(\"exportEntities_\"+this.headerService.user.id,JSON.stringify(this.exportModel)),this.loadingExport=!0,this.http.put(\"../rest/entities/export\",this.exportModel,{responseType:\"blob\"}).pipe(Object(tap.a)(data=>{if(\"text/html\"!==data.type){const downloadLink=document.createElement(\"a\");let today,dd,mm,yyyy;downloadLink.href=window.URL.createObjectURL(data),today=new Date,dd=today.getDate(),mm=today.getMonth()+1,yyyy=today.getFullYear(),dd<10&&(dd=\"0\"+dd),mm<10&&(mm=\"0\"+mm),today=dd+\"-\"+mm+\"-\"+yyyy,downloadLink.setAttribute(\"download\",\"export_entities_maarch_\"+today+\".\"+this.exportModel.format.toLowerCase()),document.body.appendChild(downloadLink),downloadLink.click()}else alert(this.translate.instant(\"lang.tooMuchDatas\"))}),Object(finalize.a)(()=>this.loadingExport=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}setConfiguration(){null!==this.localStorage.get(\"exportEntitiesFields_\"+this.headerService.user.id)&&(this.exportModel.delimiter=JSON.parse(this.localStorage.get(\"exportEntitiesFields_\"+this.headerService.user.id)).delimiter)}}return EntitiesExportComponent.ɵfac=function(t){return new(t||EntitiesExportComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.a),core.Tb(local_storage_service.a),core.Tb(header_service.a))},EntitiesExportComponent.ɵcmp=core.Nb({type:EntitiesExportComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(entities_export_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.listFilter=_t.first)},decls:24,vars:23,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\"],[\"class\",\"loader\",4,\"ngIf\"],[1,\"row\"],[\"appearance\",\"outline\"],[3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"col-md-9\",4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"click\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"mat-dialog-close\"],[1,\"loader\"],[3,\"value\"],[1,\"col-md-9\"],[3,\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",2),core.Qc(5,EntitiesExportComponent_div_5_Template,2,0,\"div\",3),core.Zb(6,\"div\",4),core.Zb(7,\"div\"),core.Zb(8,\"mat-form-field\",5),core.Zb(9,\"mat-label\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Zb(12,\"mat-select\",6),core.hc(\"ngModelChange\",(function($event){return ctx.exportModel.format=$event})),core.mc(13,\"translate\"),core.Qc(14,EntitiesExportComponent_mat_option_14_Template,2,2,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb(),core.Qc(15,EntitiesExportComponent_div_15_Template,8,9,\"div\",8),core.Yb(),core.Yb(),core.Ub(16,\"span\",9),core.Zb(17,\"div\",10),core.Zb(18,\"button\",11),core.hc(\"click\",(function(){return ctx.exportData()})),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"button\",12),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,13,\"lang.exportDatas\")),core.Eb(3),core.sc(\"ngIf\",ctx.loadingExport),core.Eb(2),core.Jb(\"col-md-12\",\"csv\"!=ctx.exportModel.format)(\"col-md-3\",\"csv\"==ctx.exportModel.format),core.Eb(3),core.Tc(core.nc(11,15,\"lang.format\")),core.Eb(2),core.tc(\"placeholder\",core.nc(13,17,\"lang.format\")),core.sc(\"ngModel\",ctx.exportModel.format),core.Eb(2),core.sc(\"ngForOf\",ctx.formats),core.Eb(1),core.sc(\"ngIf\",\"csv\"==ctx.exportModel.format),core.Eb(4),core.Tc(core.nc(20,19,\"lang.toExport\")),core.Eb(3),core.Tc(core.nc(23,21,\"lang.cancel\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,common.t,form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,progress_spinner.c,fesm2015_core.o],pipes:[ngx_translate_core.d],styles:[\".mat-dialog-container{position:relative}.mat-dialog-content[_ngcontent-%COMP%]{min-height:150px;padding-bottom:10px;overflow-x:hidden}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}\"]}),EntitiesExportComponent})();var diffusions_list_component=__webpack_require__(\"y9tK\");const entities_administration_component_c0=[\"snav2\"],entities_administration_component_c1=[\"adminMenuTemplate\"],entities_administration_component_c2=[\"paginatorUsers\"],entities_administration_component_c3=[\"paginatorTemplates\"],entities_administration_component_c4=[\"tableUsers\"],entities_administration_component_c5=[\"tableTemplates\"],entities_administration_component_c6=[\"appDiffusionsList\"],entities_administration_component_c7=[\"appVisaWorkflow\"],_c8=[\"appAvisWorkflow\"];function EntitiesAdministrationComponent_ng_template_1_a_4_Template(rf,ctx){if(1&rf){const _r20=core.ac();core.Zb(0,\"a\",47),core.hc(\"click\",(function(){core.Hc(_r20);const ctx_r19=core.lc(2);return core.Dc(16).open(),ctx_r19.prepareEntityAdd()})),core.Ub(1,\"mat-icon\",50),core.Zb(2,\"p\",49),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.add\"),\" \"))}const _c9=function(a0){return{opacity:a0}};function EntitiesAdministrationComponent_ng_template_1_ng_container_15_a_1_Template(rf,ctx){if(1&rf){const _r25=core.ac();core.Zb(0,\"a\",52),core.Zb(1,\"mat-icon\",53),core.Zb(2,\"mat-slide-toggle\",54),core.hc(\"click\",(function(){core.Hc(_r25);const role_r21=core.lc().$implicit;return core.lc(2).toggleRole(role_r21),!1})),core.Yb(),core.Yb(),core.Zb(3,\"p\",55),core.hc(\"click\",(function(){core.Hc(_r25);const role_r21=core.lc().$implicit;return core.lc(2).toggleRole(role_r21),!1})),core.Sc(4),core.Yb(),core.Yb()}if(2&rf){const role_r21=core.lc().$implicit;core.Eb(2),core.sc(\"checked\",role_r21.available),core.Eb(1),core.sc(\"ngStyle\",core.zc(3,_c9,role_r21.available?\"\":\"0.5\")),core.Eb(1),core.Uc(\" \",role_r21.label,\" \")}}function EntitiesAdministrationComponent_ng_template_1_ng_container_15_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,EntitiesAdministrationComponent_ng_template_1_ng_container_15_a_1_Template,5,5,\"a\",51),core.Wb()),2&rf){const role_r21=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"dest\"!=role_r21.id&&\"cc\"!=role_r21.id)}}function EntitiesAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r30=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",45),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Qc(4,EntitiesAdministrationComponent_ng_template_1_a_4_Template,5,3,\"a\",46),core.Zb(5,\"a\",47),core.hc(\"click\",(function(){return core.Hc(_r30),core.lc().openExportModal()})),core.Ub(6,\"mat-icon\",48),core.Zb(7,\"p\",49),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(10,\"mat-divider\"),core.Zb(11,\"mat-nav-list\"),core.Zb(12,\"h3\",45),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Qc(15,EntitiesAdministrationComponent_ng_template_1_ng_container_15_Template,2,1,\"ng-container\",21),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,5,\"lang.actions\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(4),core.Uc(\" \",core.nc(9,7,\"lang.toExport\"),\" \"),core.Eb(5),core.Tc(core.nc(14,9,\"lang.additionalRoles\")),core.Eb(2),core.sc(\"ngForOf\",ctx_r1.listTemplateRoles)}}function EntitiesAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",56),core.Ub(1,\"mat-spinner\",57),core.Yb())}function EntitiesAdministrationComponent_mat_card_14_mat_hint_4_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-hint\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.entityTreeInfo\")))}function EntitiesAdministrationComponent_mat_card_14_mat_hint_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-hint\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.entityTreeInfoCreation\")))}function EntitiesAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",58),core.Zb(1,\"mat-form-field\"),core.Ub(2,\"input\",59),core.mc(3,\"translate\"),core.Qc(4,EntitiesAdministrationComponent_mat_card_14_mat_hint_4_Template,3,3,\"mat-hint\",60),core.Qc(5,EntitiesAdministrationComponent_mat_card_14_mat_hint_5_Template,3,3,\"mat-hint\",60),core.Yb(),core.Ub(6,\"div\",61),core.Zb(7,\"div\",62),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(2),core.tc(\"placeholder\",core.nc(3,5,\"lang.searchEntities\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx_r3.creationMode),core.Eb(3),core.Vc(\" \",ctx_r3.entities.length,\" \",core.nc(9,7,\"lang.entities\"),\"\")}}function EntitiesAdministrationComponent_ng_container_32_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",64),core.Sc(1),core.Yb()),2&rf){const entity_r33=core.lc().$implicit;core.sc(\"value\",entity_r33.entity_id),core.Eb(1),core.Uc(\" \",entity_r33.entity_label,\" \")}}function EntitiesAdministrationComponent_ng_container_32_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,EntitiesAdministrationComponent_ng_container_32_mat_option_1_Template,2,2,\"mat-option\",63),core.Wb()),2&rf){const entity_r33=ctx.$implicit,ctx_r6=core.lc();core.Eb(1),core.sc(\"ngIf\",!entity_r33.state.disabled&&entity_r33.entity_id!=ctx_r6.currentEntity.entity_id||ctx_r6.currentEntity.parent_entity_id==entity_r33.entity_id)}}function EntitiesAdministrationComponent_mat_option_38_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",64),core.Sc(1),core.Yb()),2&rf){const entity_type_r36=ctx.$implicit;core.sc(\"value\",entity_type_r36.id),core.Eb(1),core.Uc(\" \",entity_type_r36.label,\" \")}}function EntitiesAdministrationComponent_div_39_Template(rf,ctx){if(1&rf){const _r38=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",17),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"input\",65),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r38),core.lc().currentEntity.id=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r8=core.lc();core.Eb(3),core.tc(\"title\",core.nc(4,3,\"lang.technicalId\")),core.tc(\"placeholder\",core.nc(5,5,\"lang.technicalId\")),core.sc(\"ngModel\",ctx_r8.currentEntity.id)}}function EntitiesAdministrationComponent_div_108_input_3_Template(rf,ctx){1&rf&&(core.Ub(0,\"input\",69),core.mc(1,\"translate\"),core.mc(2,\"translate\")),2&rf&&(core.tc(\"title\",core.nc(1,2,\"lang.siretCode\")),core.tc(\"placeholder\",core.nc(2,4,\"lang.siretCode\")))}function EntitiesAdministrationComponent_div_108_input_4_Template(rf,ctx){if(1&rf){const _r43=core.ac();core.Zb(0,\"input\",70),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r43),core.lc(2).currentEntity.business_id=$event})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r40=core.lc(2);core.tc(\"title\",core.nc(1,3,\"lang.siretCode\")),core.tc(\"placeholder\",core.nc(2,5,\"lang.siretCode\")),core.sc(\"ngModel\",ctx_r40.currentEntity.business_id)}}function EntitiesAdministrationComponent_div_108_button_5_Template(rf,ctx){if(1&rf){const _r45=core.ac();core.Zb(0,\"button\",71),core.hc(\"click\",(function(){return core.Hc(_r45),core.lc(2).addEntityToAnnuary()})),core.Ub(1,\"mat-icon\",72),core.Yb()}}function EntitiesAdministrationComponent_div_108_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",16),core.Zb(1,\"div\",17),core.Zb(2,\"mat-form-field\"),core.Qc(3,EntitiesAdministrationComponent_div_108_input_3_Template,3,6,\"input\",66),core.Qc(4,EntitiesAdministrationComponent_div_108_input_4_Template,3,7,\"input\",67),core.Qc(5,EntitiesAdministrationComponent_div_108_button_5_Template,2,0,\"button\",68),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r9=core.lc();core.Eb(3),core.sc(\"ngIf\",!ctx_r9.currentEntity.canSynchronizeSiret),core.Eb(1),core.sc(\"ngIf\",ctx_r9.currentEntity.canSynchronizeSiret),core.Eb(1),core.sc(\"ngIf\",ctx_r9.currentEntity.canSynchronizeSiret)}}function EntitiesAdministrationComponent_button_125_Template(rf,ctx){if(1&rf){const _r47=core.ac();core.Zb(0,\"button\",73),core.hc(\"click\",(function(){return core.Hc(_r47),core.lc().removeEntity()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r10=core.lc(),_r5=core.Dc(21);core.sc(\"disabled\",!_r5.form.valid||ctx_r10.currentEntity.hasChildren),core.Eb(1),core.Tc(core.nc(2,2,\"lang.delete\"))}}function EntitiesAdministrationComponent_button_126_Template(rf,ctx){if(1&rf){const _r49=core.ac();core.Zb(0,\"button\",74),core.hc(\"click\",(function(){return core.Hc(_r49),core.lc().readMode()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.cancel\")))}function EntitiesAdministrationComponent_mat_tab_127_div_6_button_8_Template(rf,ctx){if(1&rf){const _r54=core.ac();core.Zb(0,\"button\",81),core.hc(\"click\",(function(){return core.Hc(_r54),core.lc(3).deleteDiffList()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.delete\")))}function EntitiesAdministrationComponent_mat_tab_127_div_6_Template(rf,ctx){if(1&rf){const _r56=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",40),core.Zb(2,\"button\",41),core.hc(\"click\",(function(){return core.Hc(_r56),core.lc(2).saveDiffList()})),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"button\",79),core.hc(\"click\",(function(){core.Hc(_r56),core.lc();const _r50=core.Dc(5),ctx_r57=core.lc();return _r50.loadListModel(ctx_r57.currentEntity.id)})),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Qc(8,EntitiesAdministrationComponent_mat_tab_127_div_6_button_8_Template,3,3,\"button\",80),core.Yb(),core.Yb()}if(2&rf){core.lc();const _r50=core.Dc(5),ctx_r51=core.lc();core.Eb(2),core.sc(\"disabled\",_r50.hasEmptyDest()||!_r50.isModified()),core.Eb(1),core.Tc(core.nc(4,5,\"lang.save\")),core.Eb(2),core.sc(\"disabled\",!_r50.isModified()),core.Eb(1),core.Tc(core.nc(7,7,\"lang.cancel\")),core.Eb(2),core.sc(\"ngIf\",!_r50.isEmptyList()&&ctx_r51.currentEntity.listTemplate.id)}}function EntitiesAdministrationComponent_mat_tab_127_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab\",13),core.mc(1,\"translate\"),core.Zb(2,\"div\",75),core.Zb(3,\"div\",76),core.Ub(4,\"app-diffusions-list\",77,78),core.Yb(),core.Qc(6,EntitiesAdministrationComponent_mat_tab_127_div_6_Template,9,9,\"div\",24),core.Yb(),core.Yb()),2&rf){const ctx_r12=core.lc();core.tc(\"label\",core.nc(1,4,\"lang.diffusionList\")),core.Eb(4),core.sc(\"adminMode\",!0)(\"target\",\"redirect\"),core.Eb(2),core.sc(\"ngIf\",ctx_r12.currentEntity.entity_id)}}function EntitiesAdministrationComponent_mat_tab_128_div_6_Template(rf,ctx){if(1&rf){const _r61=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",40),core.Zb(2,\"button\",41),core.hc(\"click\",(function(){return core.Hc(_r61),core.lc(2).saveDiffListVisa()})),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"button\",79),core.hc(\"click\",(function(){core.Hc(_r61),core.lc();const _r58=core.Dc(5),ctx_r62=core.lc();return _r58.loadListModel(ctx_r62.currentEntity.id)})),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){core.lc();const _r58=core.Dc(5);core.Eb(2),core.sc(\"disabled\",!_r58.isModified()),core.Eb(1),core.Tc(core.nc(4,4,\"lang.save\")),core.Eb(2),core.sc(\"disabled\",!_r58.isModified()),core.Eb(1),core.Tc(core.nc(7,6,\"lang.cancel\"))}}function EntitiesAdministrationComponent_mat_tab_128_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab\",13),core.mc(1,\"translate\"),core.Zb(2,\"div\",82),core.Zb(3,\"div\",76),core.Ub(4,\"app-visa-workflow\",83,84),core.Yb(),core.Qc(6,EntitiesAdministrationComponent_mat_tab_128_div_6_Template,8,8,\"div\",24),core.Yb(),core.Yb()),2&rf){const ctx_r13=core.lc();core.tc(\"label\",core.nc(1,5,\"lang.visaWorkflow\")),core.Eb(4),core.sc(\"adminMode\",!0)(\"showListModels\",!1)(\"showComment\",!1),core.Eb(2),core.sc(\"ngIf\",ctx_r13.currentEntity.entity_id)}}function EntitiesAdministrationComponent_mat_tab_129_div_6_Template(rf,ctx){if(1&rf){const _r66=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",40),core.Zb(2,\"button\",41),core.hc(\"click\",(function(){return core.Hc(_r66),core.lc(2).saveDiffListOpinion()})),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"button\",79),core.hc(\"click\",(function(){core.Hc(_r66),core.lc();const _r63=core.Dc(5),ctx_r67=core.lc();return _r63.loadListModel(ctx_r67.currentEntity.id)})),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){core.lc();const _r63=core.Dc(5);core.Eb(2),core.sc(\"disabled\",!_r63.isModified()),core.Eb(1),core.Tc(core.nc(4,4,\"lang.save\")),core.Eb(2),core.sc(\"disabled\",!_r63.isModified()),core.Eb(1),core.Tc(core.nc(7,6,\"lang.cancel\"))}}function EntitiesAdministrationComponent_mat_tab_129_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-tab\",13),core.mc(1,\"translate\"),core.Zb(2,\"div\",85),core.Zb(3,\"div\",76),core.Ub(4,\"app-avis-workflow\",86,87),core.Yb(),core.Qc(6,EntitiesAdministrationComponent_mat_tab_129_div_6_Template,8,8,\"div\",24),core.Yb(),core.Yb()),2&rf){const ctx_r14=core.lc();core.tc(\"label\",core.nc(1,4,\"lang.avis\")),core.Eb(4),core.sc(\"adminMode\",!0)(\"showListModels\",!1),core.Eb(2),core.sc(\"ngIf\",ctx_r14.currentEntity.entity_id)}}const _c10=function(){return[\"/rest/autocomplete/users/administration\"]};function EntitiesAdministrationComponent_mat_tab_130_div_3_Template(rf,ctx){if(1&rf){const _r78=core.ac();core.Zb(0,\"div\",101),core.Zb(1,\"plugin-autocomplete\",102),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r78),core.lc(2).linkUser($event)})),core.Yb(),core.Ub(2,\"hr\"),core.Yb()}if(2&rf){const ctx_r68=core.lc(2);core.Eb(1),core.sc(\"labelPlaceholder\",ctx_r68.translate.instant(\"lang.linkUser\"))(\"labelList\",ctx_r68.translate.instant(\"lang.availableUsers\"))(\"routeDatas\",core.yc(5,_c10))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\")}}function EntitiesAdministrationComponent_mat_tab_130_mat_header_cell_14_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",103),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.firstname\")))}function EntitiesAdministrationComponent_mat_tab_130_mat_cell_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r79=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r79.firstname,\" \")}}function EntitiesAdministrationComponent_mat_tab_130_mat_header_cell_17_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",103),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.lastname\")))}function EntitiesAdministrationComponent_mat_tab_130_mat_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r80=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r80.lastname,\" \")}}function EntitiesAdministrationComponent_mat_tab_130_mat_header_row_19_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function EntitiesAdministrationComponent_mat_tab_130_mat_row_20_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",104),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/users/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function EntitiesAdministrationComponent_mat_tab_130_Template(rf,ctx){if(1&rf){const _r83=core.ac();core.Zb(0,\"mat-tab\",13),core.mc(1,\"translate\"),core.Zb(2,\"div\",75),core.Qc(3,EntitiesAdministrationComponent_mat_tab_130_div_3_Template,3,6,\"div\",88),core.Zb(4,\"div\",89),core.Zb(5,\"mat-form-field\"),core.Zb(6,\"input\",90),core.hc(\"keyup\",(function($event){return core.Hc(_r83),core.lc().applyFilterUsers($event.target.value)})),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(8,\"div\",89),core.Ub(9,\"mat-paginator\",91,92),core.Yb(),core.Yb(),core.Zb(11,\"mat-table\",93,94),core.Xb(13,95),core.Qc(14,EntitiesAdministrationComponent_mat_tab_130_mat_header_cell_14_Template,3,3,\"mat-header-cell\",96),core.Qc(15,EntitiesAdministrationComponent_mat_tab_130_mat_cell_15_Template,2,1,\"mat-cell\",97),core.Wb(),core.Xb(16,98),core.Qc(17,EntitiesAdministrationComponent_mat_tab_130_mat_header_cell_17_Template,3,3,\"mat-header-cell\",96),core.Qc(18,EntitiesAdministrationComponent_mat_tab_130_mat_cell_18_Template,2,1,\"mat-cell\",97),core.Wb(),core.Qc(19,EntitiesAdministrationComponent_mat_tab_130_mat_header_row_19_Template,1,0,\"mat-header-row\",99),core.Qc(20,EntitiesAdministrationComponent_mat_tab_130_mat_row_20_Template,2,4,\"mat-row\",100),core.Yb(),core.Yb()}if(2&rf){const ctx_r15=core.lc();core.tc(\"label\",core.nc(1,9,\"lang.users\")),core.Eb(3),core.sc(\"ngIf\",ctx_r15.currentEntity.canAdminUsers),core.Eb(3),core.tc(\"placeholder\",core.nc(7,11,\"lang.filterBy\")),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r15.dataSourceUsers),core.Eb(8),core.sc(\"matHeaderRowDef\",ctx_r15.displayedColumnsUsers),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r15.displayedColumnsUsers)}}function EntitiesAdministrationComponent_mat_tab_131_mat_header_cell_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",115),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.templateName\"),\" \"))}function EntitiesAdministrationComponent_mat_tab_131_mat_cell_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",116),core.Sc(1),core.Yb()),2&rf){const element_r92=ctx.$implicit;core.tc(\"matTooltip\",element_r92.template_comment),core.Eb(1),core.Uc(\" \",element_r92.template_label,\" \")}}function EntitiesAdministrationComponent_mat_tab_131_mat_header_cell_16_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",117),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.templateTarget\"),\" \"))}function EntitiesAdministrationComponent_mat_tab_131_mat_cell_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",118),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const element_r93=ctx.$implicit;core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.\"+element_r93.template_target),\" \")}}function EntitiesAdministrationComponent_mat_tab_131_mat_header_row_18_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}const _c11=function(a0){return{cursor:a0}};function EntitiesAdministrationComponent_mat_tab_131_mat_row_19_Template(rf,ctx){if(1&rf){const _r96=core.ac();core.Zb(0,\"mat-row\",119),core.hc(\"click\",(function(){core.Hc(_r96);const row_r94=ctx.$implicit;return core.lc(2).showTemplate(row_r94.template_id)})),core.Yb()}if(2&rf){const ctx_r91=core.lc(2);core.sc(\"ngStyle\",core.zc(1,_c11,ctx_r91.currentEntity.canAdminTemplates?\"pointer\":\"position\"))}}function EntitiesAdministrationComponent_mat_tab_131_Template(rf,ctx){if(1&rf){const _r98=core.ac();core.Zb(0,\"mat-tab\",13),core.mc(1,\"translate\"),core.Zb(2,\"div\",75),core.Zb(3,\"div\",89),core.Zb(4,\"mat-form-field\"),core.Zb(5,\"input\",90),core.hc(\"keyup\",(function($event){return core.Hc(_r98),core.lc().applyFilterTemplates($event.target.value)})),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(7,\"div\",89),core.Ub(8,\"mat-paginator\",91,105),core.Yb(),core.Yb(),core.Zb(10,\"mat-table\",106,107),core.Xb(12,108),core.Qc(13,EntitiesAdministrationComponent_mat_tab_131_mat_header_cell_13_Template,3,3,\"mat-header-cell\",109),core.Qc(14,EntitiesAdministrationComponent_mat_tab_131_mat_cell_14_Template,2,2,\"mat-cell\",110),core.Wb(),core.Xb(15,111),core.Qc(16,EntitiesAdministrationComponent_mat_tab_131_mat_header_cell_16_Template,3,3,\"mat-header-cell\",112),core.Qc(17,EntitiesAdministrationComponent_mat_tab_131_mat_cell_17_Template,3,3,\"mat-cell\",113),core.Wb(),core.Qc(18,EntitiesAdministrationComponent_mat_tab_131_mat_header_row_18_Template,1,0,\"mat-header-row\",99),core.Qc(19,EntitiesAdministrationComponent_mat_tab_131_mat_row_19_Template,1,3,\"mat-row\",114),core.Yb(),core.Yb()}if(2&rf){const ctx_r16=core.lc();core.tc(\"label\",core.nc(1,8,\"lang.templates\")),core.Eb(5),core.tc(\"placeholder\",core.nc(6,10,\"lang.filterBy\")),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r16.dataSourceTemplates),core.Eb(8),core.sc(\"matHeaderRowDef\",ctx_r16.displayedColumnsTemplates),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r16.displayedColumnsTemplates)}}function EntitiesAdministrationRedirectModalComponent_mat_list_item_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Ub(1,\"mat-icon\",7),core.Zb(2,\"p\",8),core.Zb(3,\"b\"),core.Sc(4),core.Yb(),core.Sc(5),core.mc(6,\"translate\"),core.Zb(7,\"b\"),core.Sc(8),core.Yb(),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r0=core.lc();core.Eb(4),core.Tc(ctx_r0.data.entity.entity_label),core.Eb(1),core.Uc(\" \",core.nc(6,4,\"lang.isDestTo\"),\" \"),core.Eb(3),core.Tc(ctx_r0.data.entity.documents),core.Eb(1),core.Uc(\" \",core.nc(10,6,\"lang.documents\"),\"\")}}function EntitiesAdministrationRedirectModalComponent_mat_list_item_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Ub(1,\"mat-icon\",9),core.Zb(2,\"p\",8),core.Zb(3,\"b\"),core.Sc(4),core.Yb(),core.Sc(5),core.mc(6,\"translate\"),core.Zb(7,\"b\"),core.Sc(8),core.Yb(),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(4),core.Tc(ctx_r1.data.entity.entity_label),core.Eb(1),core.Uc(\" \",core.nc(6,4,\"lang.isCopyTo\"),\" \"),core.Eb(3),core.Tc(ctx_r1.data.entity.instances),core.Eb(1),core.Uc(\" \",core.nc(10,6,\"lang.documents\"),\"\")}}function EntitiesAdministrationRedirectModalComponent_mat_list_item_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Ub(1,\"mat-icon\",10),core.Zb(2,\"p\",8),core.Zb(3,\"b\"),core.Sc(4),core.Yb(),core.Sc(5),core.mc(6,\"lowercase\"),core.mc(7,\"translate\"),core.Zb(8,\"b\"),core.Sc(9),core.Yb(),core.Sc(10),core.mc(11,\"lowercase\"),core.mc(12,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r2=core.lc();core.Eb(4),core.Tc(ctx_r2.data.entity.entity_label),core.Eb(1),core.Uc(\" \",core.nc(6,4,core.nc(7,6,\"lang.isLinkedTo\")),\" \"),core.Eb(4),core.Tc(ctx_r2.data.entity.users.length),core.Eb(1),core.Uc(\" \",core.nc(11,8,core.nc(12,10,\"lang.usersAlt\")),\"\")}}function EntitiesAdministrationRedirectModalComponent_mat_list_item_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Ub(1,\"mat-icon\",11),core.Zb(2,\"p\",8),core.Zb(3,\"b\"),core.Sc(4),core.Yb(),core.Sc(5),core.mc(6,\"lowercase\"),core.mc(7,\"translate\"),core.Zb(8,\"b\"),core.Sc(9),core.Yb(),core.Sc(10),core.mc(11,\"lowercase\"),core.mc(12,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.Tc(ctx_r3.data.entity.entity_label),core.Eb(1),core.Uc(\" \",core.nc(6,4,core.nc(7,6,\"lang.isLinkedTo\")),\" \"),core.Eb(4),core.Tc(ctx_r3.data.entity.templates.length),core.Eb(1),core.Uc(\" \",core.nc(11,8,core.nc(12,10,\"lang.templates\")),\"\")}}const _c12=function(){return[\"/rest/autocomplete/entities\"]};let entities_administration_component_EntitiesAdministrationComponent=(()=>{class EntitiesAdministrationComponent{constructor(translate,http,notify,dialog,headerService,router,appService,functions,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.router=router,this.appService=appService,this.functions=functions,this.viewContainerRef=viewContainerRef,this.loading=!1,this.entities=[],this.listTemplateRoles=[],this.entityTypeList=[],this.currentEntity={},this.isDraggable=!0,this.newEntity=!1,this.creationMode=!1,this.visaCircuitModified=!1,this.opinionCircuitModified=!1,this.config={},this.dataSourceUsers=new table.o(this.currentEntity.users),this.dataSourceTemplates=new table.o(this.currentEntity.templates),this.displayedColumnsUsers=[\"firstname\",\"lastname\"],this.displayedColumnsTemplates=[\"template_label\",\"template_target\"]}applyFilterUsers(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.dataSourceUsers.filter=filterValue}applyFilterTemplates(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.dataSourceTemplates.filter=filterValue}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.entities\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,yield this.getEntityTypes(),yield this.getRoles(),yield this.getEntities(),this.loading=!1,this.initEntitiesTree()}))}initEntitiesTree(){setTimeout(()=>{$(\"#jstree\").jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:\"proton\",responsive:!0},multiple:!1,data:this.entities,check_callback:function(operation,node,node_parent,node_position,more){if(\"move_node\"===operation)return\"#\"!==node_parent.id&&!!node_parent.original.allowed}},dnd:{is_draggable:function(nodes){let i=0;const j=nodes.length;for(;i<j;i++)if(!nodes[i].original.allowed)return!1;return!0}},plugins:[\"checkbox\",\"search\",\"dnd\",\"sort\"]}),$(\"#jstree\").jstree(\"select_node\",this.entities[0]);let to=!1;$(\"#jstree_search\").keyup((function(){to&&clearTimeout(to),to=setTimeout((function(){const v=$(\"#jstree_search\").val();$(\"#jstree\").jstree(!0).search(v)}),250)})),$(\"#jstree\").on(\"select_node.jstree\",(e,data)=>{!1===this.sidenavRight.opened&&this.sidenavRight.open(),!0===this.creationMode?this.currentEntity.parent_entity_id=data.node.id:!0===this.newEntity?(this.loadEntity(this.currentEntity.entity_id),this.newEntity=!1):this.loadEntity(data.node.id)}).on(\"deselect_node.jstree\",(e,data)=>{this.sidenavRight.close()}).on(\"move_node.jstree\",(e,data)=>{this.currentEntity.parent_entity_id!==this.currentEntity.entity_id&&(this.currentEntity.parent_entity_id=data.parent),this.moveEntity()}).jstree(),$(document).on(\"dnd_start.vakata\",(e,data)=>{$(\"#jstree\").jstree(\"deselect_all\"),$(\"#jstree\").jstree(\"select_node\",data.data.nodes[0])})},0)}getEntityTypes(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/entityTypes\").pipe(Object(tap.a)(data=>{this.entityTypeList=data.types,resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}getRoles(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/listTemplates/types/entity_id/roles\").pipe(Object(tap.a)(data=>{this.listTemplateRoles=data.roles,resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}getEntities(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/entities\").pipe(Object(tap.a)(data=>{this.entities=data.entities,resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}loadEntity(entity_id){this.visaCircuitModified=!1,this.opinionCircuitModified=!1,this.http.get(\"../rest/entities/\"+entity_id+\"/details\").subscribe(data=>{this.currentEntity=data.entity,this.appDiffusionsList.loadListModel(this.currentEntity.id),this.appVisaWorkflow.loadListModel(this.currentEntity.id),this.appAvisWorkflow.loadListModel(this.currentEntity.id),this.idVisaCircuit=this.currentEntity.visaCircuit?this.currentEntity.visaCircuit.id:null,this.idOpinionCircuit=this.currentEntity.opinionCircuit?this.currentEntity.opinionCircuit.id:null,this.dataSourceUsers=new table.o(this.currentEntity.users),this.dataSourceUsers.paginator=this.paginatorUsers,this.dataSourceUsers.sort=this.sortUsers,this.dataSourceTemplates=new table.o(this.currentEntity.templates),this.dataSourceTemplates.paginator=this.paginatorTemplates,this.dataSourceTemplates.sort=this.sortTemplates,this.currentEntity.listTemplate.items||(this.currentEntity.listTemplate.items=[]),this.listTemplateRoles.forEach(role=>{role.available&&!this.currentEntity.listTemplate.items[role.id]&&(this.currentEntity.listTemplate.items[role.id]=[])})},err=>{this.notify.error(err.error.errors)})}addElemListModelVisa(element){this.visaCircuitModified=!0;const newElemListModel={id:element.id,type:\"user\",mode:\"sign\",idToDisplay:element.idToDisplay,descriptionToDisplay:element.otherInfo};this.currentEntity.visaCircuit.items||(this.currentEntity.visaCircuit.items=[]),this.currentEntity.visaCircuit.items.push(newElemListModel),this.currentEntity.visaCircuit.items.length>1&&(this.currentEntity.visaCircuit.items[this.currentEntity.visaCircuit.items.length-2].mode=\"visa\")}addElemListModelOpinion(element){this.opinionCircuitModified=!0;const newElemListModel={id:element.id,type:\"user\",mode:\"avis\",idToDisplay:element.idToDisplay,descriptionToDisplay:element.otherInfo};this.currentEntity.opinionCircuit.items||(this.currentEntity.opinionCircuit.items=[]),this.currentEntity.opinionCircuit.items.push(newElemListModel)}saveEntity(){\"#\"===this.currentEntity.parent_entity_id&&(this.currentEntity.parent_entity_id=\"\");let r=!0;\"\"===this.currentEntity.parent_entity_id&&(r=confirm(this.translate.instant(\"lang.entityWithoutParentMessage\"))),r&&(this.creationMode?this.http.post(\"../rest/entities\",this.currentEntity).subscribe(data=>{this.currentEntity.listTemplate=[],this.entities=data.entities,this.creationMode=!1,this.newEntity=!0,$(\"#jstree\").jstree(!0).settings.core.data=this.entities,$(\"#jstree\").jstree(!0).refresh(),$(\"#jstree\").on(\"refresh.jstree\",e=>{$(\"#jstree\").jstree(\"deselect_all\"),$(\"#jstree\").jstree(\"select_node\",this.currentEntity.entity_id)}),this.notify.success(this.translate.instant(\"lang.entityAdded\"))},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/entities/\"+this.currentEntity.entity_id,this.currentEntity).subscribe(data=>{this.entities=data.entities,$(\"#jstree\").jstree(!0).settings.core.data=this.entities,$(\"#jstree\").jstree(\"refresh\"),this.notify.success(this.translate.instant(\"lang.entityUpdated\"))},err=>{this.notify.error(err.error.errors)}))}moveEntity(){this.http.put(\"../rest/entities/\"+this.currentEntity.entity_id,this.currentEntity).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.entityUpdated\"))},err=>{this.notify.error(err.error.errors)})}readMode(){if(this.creationMode=!1,this.isDraggable=!0,$(\"#jstree\").jstree(\"deselect_all\"),this.currentEntity.parent_entity_id){for(let i=0;i<this.entities.length;i++)if(this.entities[i].entity_id===this.currentEntity.parent_entity_id){$(\"#jstree\").jstree(\"select_node\",this.entities[i]);break}}else this.sidenavRight.close()}selectParentEntity(entity_id){this.creationMode&&($(\"#jstree\").jstree(\"deselect_all\"),$(\"#jstree\").jstree(\"select_node\",entity_id))}removeEntity(){this.currentEntity.documents>0||this.currentEntity.redirects>0||this.currentEntity.instances>0||this.currentEntity.users.length>0||this.currentEntity.templates.length>0?(this.config={panelClass:\"maarch-modal\",data:{entity:this.currentEntity}},this.dialogRef=this.dialog.open(entities_administration_component_EntitiesAdministrationRedirectModalComponent,this.config),this.dialogRef.afterClosed().subscribe(result=>{result&&(this.currentEntity.listTemplate.id&&this.http.delete(\"../rest/listTemplates/\"+this.currentEntity.listTemplate.id).subscribe(data=>{this.currentEntity.listTemplate.id=data.id,this.http.get(\"../rest/listTemplates/types/entity_id/roles\").subscribe(dataTemplates=>{this.listTemplateRoles=dataTemplates.roles},err=>{this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)}),this.idVisaCircuit&&this.http.delete(\"../rest/listTemplates/\"+this.idVisaCircuit).subscribe(()=>{this.idVisaCircuit=null},err=>{this.notify.error(err.error.errors)}),this.http.put(\"../rest/entities/\"+result.entity_id+\"/reassign/\"+result.redirectEntity,{}).subscribe(data=>{this.entities=data.entities,$(\"#jstree\").jstree(!0).settings.core.data=this.entities,$(\"#jstree\").jstree(\"refresh\"),this.sidenavRight.close(),this.notify.success(this.translate.instant(void 0===data.deleted||data.deleted?\"lang.entityDeleted\":\"lang.entityDeletedButAnnuaryUnreachable\"))},err=>{this.notify.error(err.error.errors)})),this.dialogRef=null})):confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+this.currentEntity.entity_label+\" »\")&&(this.currentEntity.listTemplate.id&&this.http.delete(\"../rest/listTemplates/\"+this.currentEntity.listTemplate.id).subscribe(data=>{this.currentEntity.listTemplate.id=data.id,this.http.get(\"../rest/listTemplates/types/entity_id/roles\").subscribe(dataTemplates=>{this.listTemplateRoles=dataTemplates.roles},err=>{this.notify.error(err.error.errors)})},err=>{this.notify.error(err.error.errors)}),this.idVisaCircuit&&this.http.delete(\"../rest/listTemplates/\"+this.idVisaCircuit).subscribe(()=>{this.idVisaCircuit=null},err=>{this.notify.error(err.error.errors)}),this.http.delete(\"../rest/entities/\"+this.currentEntity.entity_id).subscribe(data=>{this.entities=data.entities,$(\"#jstree\").jstree(!0).settings.core.data=this.entities,$(\"#jstree\").jstree(\"refresh\"),this.sidenavRight.close(),this.notify.success(this.translate.instant(void 0===data.deleted||data.deleted?\"lang.entityDeleted\":\"lang.entityDeletedButAnnuaryUnreachable\"))},err=>{this.notify.error(err.error.errors)}))}prepareEntityAdd(){if(this.creationMode=!0,this.isDraggable=!1,this.currentEntity.entity_id){for(let i=0;i<this.entities.length;i++)if(this.entities[i].entity_id===this.currentEntity.entity_id){this.currentEntity={entity_type:this.entityTypeList[0].id},this.currentEntity.parent_entity_id=this.entities[i].entity_id;break}}else this.currentEntity={entity_type:this.entityTypeList[0].id},$(\"#jstree\").jstree(\"deselect_all\"),this.sidenavRight.open()}updateStatus(entity,method){this.http.put(\"../rest/entities/\"+entity.entity_id+\"/status\",{method:method}).subscribe(data=>{this.notify.success(\"\")},err=>{this.notify.error(err.error.errors)})}saveDiffList(){const newDiffList={title:this.currentEntity.entity_id,description:this.currentEntity.entity_id,type:\"diffusionList\",entityId:this.currentEntity.id,items:this.appDiffusionsList.getCurrentListinstance().map(item=>({id:item.item_id,type:item.item_type,mode:item.item_mode}))};this.functions.empty(this.currentEntity.listTemplate.id)?this.http.post(\"../rest/listTemplates?admin=true\",newDiffList).pipe(Object(tap.a)(data=>{this.currentEntity.listTemplate.id=data.id,this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\")),this.appDiffusionsList.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.put(\"../rest/listTemplates/\"+this.currentEntity.listTemplate.id,newDiffList).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\")),this.appDiffusionsList.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}deleteDiffList(){this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/listTemplates/\"+this.currentEntity.listTemplate.id)),Object(tap.a)(()=>{this.currentEntity.listTemplate.id=null,this.notify.success(this.translate.instant(\"lang.diffusionModelDeleted\")),this.appDiffusionsList.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}saveDiffListVisa(){const newDiffList={title:this.currentEntity.entity_id,description:this.currentEntity.entity_id,type:\"visaCircuit\",entityId:this.currentEntity.id,items:this.appVisaWorkflow.getWorkflow().map((item,index)=>({id:item.item_id,type:item.item_type,mode:item.requested_signature?\"sign\":\"visa\",sequence:index}))};this.appVisaWorkflow.isValidWorkflow()||this.functions.empty(newDiffList.items)?this.functions.empty(newDiffList.items)?this.http.delete(\"../rest/listTemplates/\"+this.idVisaCircuit).pipe(Object(tap.a)(()=>{this.idVisaCircuit=null,this.notify.success(this.translate.instant(\"lang.diffusionModelDeleted\")),this.appVisaWorkflow.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.functions.empty(this.idVisaCircuit)?this.http.post(\"../rest/listTemplates?admin=true\",newDiffList).pipe(Object(tap.a)(data=>{this.idVisaCircuit=data.id,this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\")),this.appVisaWorkflow.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.put(\"../rest/listTemplates/\"+this.idVisaCircuit,newDiffList).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\")),this.appVisaWorkflow.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.notify.error(this.appVisaWorkflow.getError())}saveDiffListOpinion(){const newDiffList={title:this.currentEntity.entity_id,description:this.currentEntity.entity_id,type:\"opinionCircuit\",entityId:this.currentEntity.id,items:this.appAvisWorkflow.getWorkflow().map((item,index)=>({id:item.item_id,type:item.item_type,mode:\"avis\",sequence:index}))};this.functions.empty(newDiffList.items)?this.http.delete(\"../rest/listTemplates/\"+this.idOpinionCircuit).pipe(Object(tap.a)(()=>{this.idOpinionCircuit=null,this.notify.success(this.translate.instant(\"lang.diffusionModelDeleted\")),this.appAvisWorkflow.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.functions.empty(this.idOpinionCircuit)?this.http.post(\"../rest/listTemplates?admin=true\",newDiffList).pipe(Object(tap.a)(data=>{this.idOpinionCircuit=data.id,this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\")),this.appAvisWorkflow.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.put(\"../rest/listTemplates/\"+this.idOpinionCircuit,newDiffList).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.diffusionModelUpdated\")),this.appAvisWorkflow.loadListModel(this.currentEntity.id)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}removeDiffListOpinion(template,i){this.opinionCircuitModified=!0,this.currentEntity.opinionCircuit.items.splice(i,1)}toggleRole(role){role.usedIn.length>0?this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,data:{title:this.translate.instant(\"lang.confirmAction\"),msg:this.translate.instant(\"lang.roleUsedInTemplateInfo\")+\" : <b>\"+role.usedIn.join(\", \")+\"</b><br/>\"+this.translate.instant(\"lang.roleUsedInTemplateInfo2\")}}).afterClosed().subscribe(result=>{\"ok\"===result&&(role.available=!role.available,this.http.put(\"../rest/listTemplates/types/entity_id/roles\",{roles:this.listTemplateRoles}).subscribe(()=>{role.usedIn=[],this.currentEntity.listTemplate&&(this.currentEntity.listTemplate.items[role.id]=[]),this.notify.success(this.translate.instant(\"lang.listTemplatesRolesUpdated\"))},err=>{this.notify.error(err.error.errors)}))}):(role.available=!role.available,this.http.put(\"../rest/listTemplates/types/entity_id/roles\",{roles:this.listTemplateRoles}).subscribe(()=>{this.currentEntity.listTemplate&&(this.currentEntity.listTemplate.items[role.id]=[],this.http.get(\"../rest/listTemplates/types/entity_id/roles\").subscribe(data=>{this.listTemplateRoles=data.roles},err=>{this.notify.error(err.error.errors)})),this.notify.success(this.translate.instant(\"lang.listTemplatesRolesUpdated\"))},err=>{this.notify.error(err.error.errors)}))}linkUser(newUser){this.http.post(\"../rest/users/\"+newUser.id+\"/entities\",{entityId:this.currentEntity.entity_id,role:\"\"}).subscribe(data=>{const displayName=newUser.idToDisplay.split(\" \");this.currentEntity.users.push({id:newUser.id,user_id:newUser.otherInfo,firstname:displayName[0],lastname:displayName[1]}),this.dataSourceUsers=new table.o(this.currentEntity.users),this.dataSourceUsers.paginator=this.paginatorUsers,this.dataSourceUsers.sort=this.sortUsers,this.notify.success(this.translate.instant(\"lang.userAdded\"))},err=>{this.notify.error(err.error.errors)})}showTemplate(templateId){this.currentEntity.canAdminTemplates&&this.router.navigate([\"/administration/templates/\"+templateId])}addEntityToAnnuary(){this.http.put(\"../rest/entities/\"+this.currentEntity.id+\"/annuaries\",this.currentEntity).subscribe(data=>{this.currentEntity.business_id=data.entitySiret,this.notify.success(this.translate.instant(void 0===data.synchronized?\"lang.siretGenerated\":data.synchronized?\"lang.siretGeneratedAndSynchronizationDone\":\"lang.siretGeneratedButAnnuaryUnreachable\"))},err=>{this.notify.handleErrors(err)})}openExportModal(){this.dialog.open(entities_export_component_EntitiesExportComponent,{panelClass:\"maarch-modal\",width:\"800px\",autoFocus:!1})}}return EntitiesAdministrationComponent.ɵfac=function(t){return new(t||EntitiesAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(fesm2015_router.c),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(core.R))},EntitiesAdministrationComponent.ɵcmp=core.Nb({type:EntitiesAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(entities_administration_component_c0,!0),core.Oc(entities_administration_component_c1,!0),core.ad(entities_administration_component_c2,!0),core.ad(entities_administration_component_c3,!0),core.ad(entities_administration_component_c4,!0),core.ad(entities_administration_component_c5,!0),core.ad(entities_administration_component_c6,!0),core.ad(entities_administration_component_c7,!0),core.ad(_c8,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginatorUsers=_t.first),core.Cc(_t=core.ic())&&(ctx.paginatorTemplates=_t.first),core.Cc(_t=core.ic())&&(ctx.sortUsers=_t.first),core.Cc(_t=core.ic())&&(ctx.sortTemplates=_t.first),core.Cc(_t=core.ic())&&(ctx.appDiffusionsList=_t.first),core.Cc(_t=core.ic())&&(ctx.appVisaWorkflow=_t.first),core.Cc(_t=core.ic())&&(ctx.appAvisWorkflow=_t.first))},decls:132,vars:142,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",1,\"col-md-5\",\"col-xs-11\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[3,\"label\"],[1,\"form-horizontal\",2,\"overflow\",\"hidden\"],[\"entityForm\",\"ngForm\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"id\",\"parent_entity_id\",\"name\",\"parent_entity_id\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\",\"selectionChange\"],[\"value\",\"\"],[2,\"opacity\",\"0.5\",\"text-align\",\"center\"],[4,\"ngFor\",\"ngForOf\"],[\"id\",\"entity_type\",\"name\",\"entity_type\",\"maxlength\",\"32\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"form-group\",4,\"ngIf\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"entity_id\",\"id\",\"entity_id\",\"type\",\"text\",\"maxlength\",\"32\",\"pattern\",\"^[\\\\w-]*$\",3,\"ngModel\",\"title\",\"placeholder\",\"disabled\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"entity_label\",\"id\",\"entity_label\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"short_label\",\"id\",\"short_label\",\"type\",\"text\",\"maxlength\",\"50\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"email\",\"id\",\"email\",\"type\",\"text\",\"maxlength\",\"255\",\"pattern\",\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$)\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"col-sm-4\"],[\"matInput\",\"\",\"name\",\"adrs_1\",\"id\",\"adrs_1\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"adrs_2\",\"id\",\"adrs_2\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"adrs_3\",\"id\",\"adrs_3\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"zipcode\",\"id\",\"zipcode\",\"type\",\"text\",\"maxlength\",\"32\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"city\",\"id\",\"city\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"country\",\"id\",\"country\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"entity_full_name\",\"id\",\"entity_full_name\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",\"matAutosizeMaxRows\",\"5\",3,\"ngModel\",\"placeholder\",\"title\",\"ngModelChange\"],[1,\"col-sm-6\"],[\"matInput\",\"\",\"name\",\"archival_agency\",\"id\",\"archival_agency\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"archival_agreement\",\"id\",\"archival_agreement\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\",4,\"ngIf\"],[3,\"label\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",3,\"click\",4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fas\",\"fa-file-export\"],[\"mat-line\",\"\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-list-item\",\"\",\"disableRipple\",\"true\",4,\"ngIf\"],[\"mat-list-item\",\"\",\"disableRipple\",\"true\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"color\",\"primary\",3,\"checked\",\"click\"],[\"mat-line\",\"\",3,\"ngStyle\",\"click\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"matInput\",\"\",\"id\",\"jstree_search\",\"name\",\"jstree_search\",\"type\",\"text\",3,\"placeholder\"],[4,\"ngIf\"],[\"id\",\"jstree\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[3,\"value\",4,\"ngIf\"],[3,\"value\"],[\"matInput\",\"\",\"name\",\"id\",\"id\",\"id\",\"type\",\"text\",\"disabled\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"value\",\"Paramètre SIRET manquant\",\"type\",\"text\",\"maxlength\",\"255\",\"disabled\",\"\",3,\"title\",\"placeholder\",4,\"ngIf\"],[\"matInput\",\"\",\"name\",\"business_id\",\"id\",\"business_id\",\"type\",\"text\",\"maxlength\",\"255\",\"disabled\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\",4,\"ngIf\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",\"matSuffix\",\"\",\"title\",\"Générer un numéro SIRET\",3,\"click\",4,\"ngIf\"],[\"matInput\",\"\",\"value\",\"Paramètre SIRET manquant\",\"type\",\"text\",\"maxlength\",\"255\",\"disabled\",\"\",3,\"title\",\"placeholder\"],[\"matInput\",\"\",\"name\",\"business_id\",\"id\",\"business_id\",\"type\",\"text\",\"maxlength\",\"255\",\"disabled\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"color\",\"primary\",\"mat-icon-button\",\"\",\"matSuffix\",\"\",\"title\",\"Générer un numéro SIRET\",3,\"click\"],[1,\"fas\",\"fa-compress-arrows-alt\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-12\"],[3,\"adminMode\",\"target\"],[\"appDiffusionsList\",\"\"],[\"mat-raised-button\",\"\",\"color\",\"default\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"click\"],[\"id\",\"visaCircuitContent\",1,\"row\",2,\"margin\",\"0px\"],[3,\"adminMode\",\"showListModels\",\"showComment\"],[\"appVisaWorkflow\",\"\"],[\"id\",\"opinionCircuitContent\",1,\"row\",2,\"margin\",\"0px\"],[3,\"adminMode\",\"showListModels\"],[\"appAvisWorkflow\",\"\"],[\"class\",\"col-md-12\",\"style\",\"padding:5px;\",4,\"ngIf\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"placeholder\",\"keyup\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginatorUsers\",\"\"],[\"matSort\",\"\",\"matSortActive\",\"lastname\",\"matSortDirection\",\"asc\",3,\"dataSource\"],[\"tableUsers\",\"matSort\"],[\"matColumnDef\",\"firstname\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"lastname\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"col-md-12\",2,\"padding\",\"5px\"],[3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[\"mat-sort-header\",\"\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"],[\"paginatorTemplates\",\"\"],[\"matSort\",\"\",\"matSortActive\",\"template_label\",\"matSortDirection\",\"asc\",3,\"dataSource\"],[\"tableTemplates\",\"matSort\"],[\"matColumnDef\",\"template_label\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",3,\"matTooltip\",4,\"matCellDef\"],[\"matColumnDef\",\"template_target\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",4,\"matCellDef\"],[3,\"ngStyle\",\"click\",4,\"matRowDef\",\"matRowDefColumns\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\",3,\"matTooltip\"],[\"mat-sort-header\",\"\",2,\"flex\",\"1\"],[2,\"flex\",\"1\"],[3,\"ngStyle\",\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,EntitiesAdministrationComponent_ng_template_1_Template,16,11,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,EntitiesAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,EntitiesAdministrationComponent_mat_card_14_Template,10,9,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"mat-nav-list\"),core.Zb(18,\"mat-tab-group\"),core.Zb(19,\"mat-tab\",13),core.Zb(20,\"form\",14,15),core.Zb(22,\"div\",16),core.Zb(23,\"div\",17),core.Zb(24,\"mat-form-field\"),core.Zb(25,\"mat-select\",18),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.parent_entity_id=$event}))(\"selectionChange\",(function(){return ctx.selectParentEntity(ctx.currentEntity.parent_entity_id)})),core.mc(26,\"translate\"),core.mc(27,\"translate\"),core.Zb(28,\"mat-option\",19),core.Zb(29,\"i\",20),core.Sc(30),core.mc(31,\"translate\"),core.Yb(),core.Yb(),core.Qc(32,EntitiesAdministrationComponent_ng_container_32_Template,2,1,\"ng-container\",21),core.mc(33,\"sortBy\"),core.Yb(),core.Yb(),core.Zb(34,\"mat-form-field\"),core.Zb(35,\"mat-select\",22),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.entity_type=$event})),core.mc(36,\"translate\"),core.mc(37,\"translate\"),core.Qc(38,EntitiesAdministrationComponent_mat_option_38_Template,2,2,\"mat-option\",23),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(39,EntitiesAdministrationComponent_div_39_Template,6,7,\"div\",24),core.Zb(40,\"div\",16),core.Zb(41,\"div\",17),core.Zb(42,\"mat-form-field\"),core.Zb(43,\"input\",25),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.entity_id=$event})),core.mc(44,\"translate\"),core.mc(45,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(46,\"div\",16),core.Zb(47,\"div\",17),core.Zb(48,\"mat-form-field\"),core.Zb(49,\"input\",26),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.entity_label=$event})),core.mc(50,\"translate\"),core.mc(51,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(52,\"div\",16),core.Zb(53,\"div\",17),core.Zb(54,\"mat-form-field\"),core.Zb(55,\"input\",27),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.short_label=$event})),core.mc(56,\"translate\"),core.mc(57,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(58,\"div\",16),core.Zb(59,\"div\",17),core.Zb(60,\"mat-form-field\"),core.Zb(61,\"input\",28),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.email=$event})),core.mc(62,\"translate\"),core.mc(63,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(64,\"mat-accordion\"),core.Zb(65,\"mat-expansion-panel\"),core.Zb(66,\"mat-expansion-panel-header\"),core.Zb(67,\"mat-panel-title\"),core.Sc(68),core.mc(69,\"translate\"),core.Yb(),core.Yb(),core.Zb(70,\"div\",16),core.Zb(71,\"div\",29),core.Zb(72,\"mat-form-field\"),core.Zb(73,\"input\",30),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.adrs_1=$event})),core.mc(74,\"translate\"),core.mc(75,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(76,\"div\",29),core.Zb(77,\"mat-form-field\"),core.Zb(78,\"input\",31),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.adrs_2=$event})),core.mc(79,\"translate\"),core.mc(80,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(81,\"div\",29),core.Zb(82,\"mat-form-field\"),core.Zb(83,\"input\",32),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.adrs_3=$event})),core.mc(84,\"translate\"),core.mc(85,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(86,\"div\",16),core.Zb(87,\"div\",29),core.Zb(88,\"mat-form-field\"),core.Zb(89,\"input\",33),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.zipcode=$event})),core.mc(90,\"translate\"),core.mc(91,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(92,\"div\",29),core.Zb(93,\"mat-form-field\"),core.Zb(94,\"input\",34),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.city=$event})),core.mc(95,\"translate\"),core.mc(96,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(97,\"div\",29),core.Zb(98,\"mat-form-field\"),core.Zb(99,\"input\",35),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.country=$event})),core.mc(100,\"translate\"),core.mc(101,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(102,\"div\",16),core.Zb(103,\"div\",17),core.Zb(104,\"mat-form-field\"),core.Zb(105,\"textarea\",36),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.entity_full_name=$event})),core.mc(106,\"translate\"),core.mc(107,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(108,EntitiesAdministrationComponent_div_108_Template,6,3,\"div\",24),core.Zb(109,\"div\",16),core.Zb(110,\"div\",37),core.Zb(111,\"mat-form-field\"),core.Zb(112,\"input\",38),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.archival_agency=$event})),core.mc(113,\"translate\"),core.mc(114,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(115,\"div\",37),core.Zb(116,\"mat-form-field\"),core.Zb(117,\"input\",39),core.hc(\"ngModelChange\",(function($event){return ctx.currentEntity.archival_agreement=$event})),core.mc(118,\"translate\"),core.mc(119,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(120,\"div\",16),core.Zb(121,\"div\",40),core.Zb(122,\"button\",41),core.hc(\"click\",(function(){return ctx.saveEntity()})),core.Sc(123),core.mc(124,\"translate\"),core.Yb(),core.Qc(125,EntitiesAdministrationComponent_button_125_Template,3,4,\"button\",42),core.Qc(126,EntitiesAdministrationComponent_button_126_Template,3,3,\"button\",43),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(127,EntitiesAdministrationComponent_mat_tab_127_Template,7,6,\"mat-tab\",44),core.Qc(128,EntitiesAdministrationComponent_mat_tab_128_Template,7,7,\"mat-tab\",44),core.Qc(129,EntitiesAdministrationComponent_mat_tab_129_Template,7,6,\"mat-tab\",44),core.Qc(130,EntitiesAdministrationComponent_mat_tab_130_Template,21,13,\"mat-tab\",44),core.Qc(131,EntitiesAdministrationComponent_mat_tab_131_Template,20,12,\"mat-tab\",44),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r5=core.Dc(21);core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!1),core.Eb(4),core.sc(\"label\",ctx.translate.instant(ctx.creationMode?\"lang.createNewEntity\":\"lang.informations\")),core.Eb(6),core.tc(\"title\",core.nc(26,73,\"lang.isLinkedTo\")),core.tc(\"placeholder\",core.nc(27,75,\"lang.isLinkedTo\")),core.sc(\"ngModel\",ctx.currentEntity.parent_entity_id),core.Eb(5),core.Uc(\"- \",core.nc(31,77,\"lang.noEntity\"),\" -\"),core.Eb(2),core.sc(\"ngForOf\",core.oc(33,79,ctx.entities,\"entity_label\")),core.Eb(3),core.tc(\"title\",core.nc(36,82,\"lang.entityType\")),core.tc(\"placeholder\",core.nc(37,84,\"lang.entityType\")),core.sc(\"ngModel\",ctx.currentEntity.entity_type),core.Eb(3),core.sc(\"ngForOf\",ctx.entityTypeList),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(4),core.tc(\"title\",core.nc(44,86,\"lang.id\")),core.tc(\"placeholder\",core.nc(45,88,\"lang.id\")),core.sc(\"ngModel\",ctx.currentEntity.entity_id)(\"disabled\",!ctx.creationMode),core.Eb(6),core.tc(\"title\",core.nc(50,90,\"lang.label\")),core.tc(\"placeholder\",core.nc(51,92,\"lang.label\")),core.sc(\"ngModel\",ctx.currentEntity.entity_label),core.Eb(6),core.tc(\"title\",core.nc(56,94,\"lang.shortLabel\")),core.tc(\"placeholder\",core.nc(57,96,\"lang.shortLabel\")),core.sc(\"ngModel\",ctx.currentEntity.short_label),core.Eb(6),core.tc(\"title\",core.nc(62,98,\"lang.email\")),core.tc(\"placeholder\",core.nc(63,100,\"lang.email\")),core.sc(\"ngModel\",ctx.currentEntity.email),core.Eb(7),core.Uc(\" \",core.nc(69,102,\"lang.otherInformations\"),\" \"),core.Eb(5),core.uc(\"title\",\"\",core.nc(74,104,\"lang.address\"),\"1\"),core.uc(\"placeholder\",\"\",core.nc(75,106,\"lang.address\"),\"1\"),core.sc(\"ngModel\",ctx.currentEntity.adrs_1),core.Eb(5),core.uc(\"title\",\"\",core.nc(79,108,\"lang.address\"),\"2\"),core.uc(\"placeholder\",\"\",core.nc(80,110,\"lang.address\"),\"2\"),core.sc(\"ngModel\",ctx.currentEntity.adrs_2),core.Eb(5),core.uc(\"title\",\"\",core.nc(84,112,\"lang.address\"),\"3\"),core.uc(\"placeholder\",\"\",core.nc(85,114,\"lang.address\"),\"3\"),core.sc(\"ngModel\",ctx.currentEntity.adrs_3),core.Eb(6),core.tc(\"title\",core.nc(90,116,\"lang.zipcode\")),core.tc(\"placeholder\",core.nc(91,118,\"lang.zipcode\")),core.sc(\"ngModel\",ctx.currentEntity.zipcode),core.Eb(5),core.tc(\"title\",core.nc(95,120,\"lang.city\")),core.tc(\"placeholder\",core.nc(96,122,\"lang.city\")),core.sc(\"ngModel\",ctx.currentEntity.city),core.Eb(5),core.tc(\"title\",core.nc(100,124,\"lang.country\")),core.tc(\"placeholder\",core.nc(101,126,\"lang.country\")),core.sc(\"ngModel\",ctx.currentEntity.country),core.Eb(6),core.tc(\"placeholder\",core.nc(106,128,\"lang.entityFullName\")),core.tc(\"title\",core.nc(107,130,\"lang.entityFullName\")),core.sc(\"ngModel\",ctx.currentEntity.entity_full_name),core.Eb(3),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(4),core.tc(\"title\",core.nc(113,132,\"lang.archivalAgency\")),core.tc(\"placeholder\",core.nc(114,134,\"lang.archivalAgency\")),core.sc(\"ngModel\",ctx.currentEntity.archival_agency),core.Eb(5),core.tc(\"title\",core.nc(118,136,\"lang.archivalAgreement\")),core.tc(\"placeholder\",core.nc(119,138,\"lang.archivalAgreement\")),core.sc(\"ngModel\",ctx.currentEntity.archival_agreement),core.Eb(5),core.sc(\"disabled\",!_r5.form.valid),core.Eb(1),core.Tc(core.nc(124,140,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode)}},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.h,tabs.c,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,fesm2015_core.o,common.s,fesm2015_forms.o,fesm2015_forms.E,input.b,fesm2015_forms.c,fesm2015_forms.A,expansion.a,expansion.c,expansion.g,expansion.h,input.d,fesm2015_button.b,list.g,list.d,icon.a,list.c,fesm2015_core.k,divider.a,slide_toggle.a,common.w,progress_spinner.c,card.a,form_field.f,form_field.j,diffusions_list_component.a,visa_workflow_component.a,avis_workflow_component.a,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,autocomplete_component.a,table.h,fesm2015_sort.b,table.a,table.j,table.l,fesm2015_router.d,tooltip.b],pipes:[ngx_translate_core.d,sorting_pipe.a],styles:[\".mat-list-item[draggable=false][_ngcontent-%COMP%]:hover{background:inherit}.mat-list-item[draggable=false][_ngcontent-%COMP%]{cursor:not-allowed!important}.mat-list-item[draggable=true][_ngcontent-%COMP%]{cursor:pointer}.mat-list-item[draggable=true][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:move}\"]}),EntitiesAdministrationComponent})(),entities_administration_component_EntitiesAdministrationRedirectModalComponent=(()=>{class EntitiesAdministrationRedirectModalComponent{constructor(translate,http,data,dialogRef){this.translate=translate,this.http=http,this.data=data,this.dialogRef=dialogRef,console.log(this.data.entity.redirectEntity)}setRedirectEntity(entity){this.data.entity.redirectEntity=entity.id}}return EntitiesAdministrationRedirectModalComponent.ɵfac=function(t){return new(t||EntitiesAdministrationRedirectModalComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},EntitiesAdministrationRedirectModalComponent.ɵcmp=core.Nb({type:EntitiesAdministrationRedirectModalComponent,selectors:[[\"ng-component\"]],decls:17,vars:17,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\"],[4,\"ngIf\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[1,\"divider-modal\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",\"type\",\"submit\",1,\"btn\",\"btn-danger\",3,\"disabled\",\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-file\",\"fa-2x\"],[\"mat-line\",\"\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-sitemap\",\"fa-2x\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-user\",\"fa-2x\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-file-alt\",\"fa-2x\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h2\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"div\",2),core.Zb(6,\"mat-list\"),core.Qc(7,EntitiesAdministrationRedirectModalComponent_mat_list_item_7_Template,11,8,\"mat-list-item\",3),core.Qc(8,EntitiesAdministrationRedirectModalComponent_mat_list_item_8_Template,11,8,\"mat-list-item\",3),core.Qc(9,EntitiesAdministrationRedirectModalComponent_mat_list_item_9_Template,13,12,\"mat-list-item\",3),core.Qc(10,EntitiesAdministrationRedirectModalComponent_mat_list_item_10_Template,13,12,\"mat-list-item\",3),core.Yb(),core.Yb(),core.Zb(11,\"plugin-autocomplete\",4),core.hc(\"triggerEvent\",(function($event){return ctx.setRedirectEntity($event)})),core.Yb(),core.Yb(),core.Ub(12,\"span\",5),core.Zb(13,\"mat-dialog-actions\"),core.Zb(14,\"button\",6),core.hc(\"click\",(function(){return ctx.dialogRef.close(ctx.data.entity)})),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,12,\"lang.entityReplacement\")),core.Eb(5),core.sc(\"ngIf\",ctx.data.entity.documents>0),core.Eb(1),core.sc(\"ngIf\",ctx.data.entity.instances>0),core.Eb(1),core.sc(\"ngIf\",ctx.data.entity.users.length>0),core.Eb(1),core.sc(\"ngIf\",ctx.data.entity.templates.length>0),core.Eb(1),core.sc(\"labelPlaceholder\",ctx.translate.instant(\"lang.chooseEntity\"))(\"labelList\",ctx.translate.instant(\"lang.availableEntities\"))(\"routeDatas\",core.yc(16,_c12))(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"descriptionToDisplay\"),core.Eb(3),core.sc(\"disabled\",void 0===ctx.data.entity.redirectEntity||ctx.data.entity.redirectEntity==ctx.data.entity.entity_id),core.Eb(1),core.Tc(core.nc(16,14,\"lang.delete\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,list.a,common.t,autocomplete_component.a,fesm2015_dialog.c,fesm2015_button.b,list.d,icon.a,list.c,fesm2015_core.k],pipes:[ngx_translate_core.d,common.p],styles:[\".alert-message[_ngcontent-%COMP%] { max-width: inherit; }\"]}),EntitiesAdministrationRedirectModalComponent})();const statuses_administration_component_c0=[\"adminMenuTemplate\"];function StatusesAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function StatusesAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function StatusesAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.imgRelated\")))}function StatusesAdministrationComponent_mat_card_14_mat_cell_13_mat_icon_1_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-icon\",41),2&rf){const element_r16=core.lc().$implicit;core.Hb(\"fm \",element_r16.img_filename,\" fm-2x\")}}function StatusesAdministrationComponent_mat_card_14_mat_cell_13_mat_icon_2_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-icon\",41),2&rf){const element_r16=core.lc().$implicit;core.Hb(\"fa \",element_r16.img_filename,\" fa-2x\")}}function StatusesAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",39),core.Qc(1,StatusesAdministrationComponent_mat_card_14_mat_cell_13_mat_icon_1_Template,1,3,\"mat-icon\",40),core.Qc(2,StatusesAdministrationComponent_mat_card_14_mat_cell_13_mat_icon_2_Template,1,3,\"mat-icon\",40),core.Yb()),2&rf){const element_r16=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",0==element_r16.img_filename.indexOf(\"fm\")),core.Eb(1),core.sc(\"ngIf\",0==element_r16.img_filename.indexOf(\"fa\"))}}function StatusesAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r8=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r8.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.id\"))}}function StatusesAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r21=ctx.$implicit,ctx_r9=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r9.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r21.id,\" \")}}function StatusesAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.statusName\")))}function StatusesAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r22=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r22.label_status,\" \")}}function StatusesAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function StatusesAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r25=core.ac();core.Zb(0,\"mat-cell\",43),core.Zb(1,\"button\",44),core.hc(\"click\",(function($event){core.Hc(_r25);const element_r23=ctx.$implicit,ctx_r24=core.lc(2);return $event.stopPropagation(),ctx_r24.deleteStatus(element_r23)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",45),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function StatusesAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function StatusesAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",46),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/statuses/\",ctx.$implicit.identifier,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function StatusesAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,StatusesAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",26),core.Qc(13,StatusesAdministrationComponent_mat_card_14_mat_cell_13_Template,3,2,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,StatusesAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,5,\"mat-header-cell\",29),core.Qc(16,StatusesAdministrationComponent_mat_card_14_mat_cell_16_Template,2,3,\"mat-cell\",30),core.Wb(),core.Xb(17,31),core.Qc(18,StatusesAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",32),core.Qc(19,StatusesAdministrationComponent_mat_card_14_mat_cell_19_Template,2,1,\"mat-cell\",33),core.Wb(),core.Xb(20,34),core.Qc(21,StatusesAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",26),core.Qc(22,StatusesAdministrationComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",35),core.Wb(),core.Qc(23,StatusesAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",36),core.Qc(24,StatusesAdministrationComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",37),core.Yb(),core.Zb(25,\"div\",38),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.statuses.length,\" \",core.nc(27,12,\"lang.statuses\"),\"\")}}let statuses_administration_component_StatusesAdministrationComponent=(()=>{class StatusesAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.statuses=[],this.displayedColumns=[\"img_filename\",\"id\",\"label_status\",\"identifier\"],this.filterColumns=[\"id\",\"label_status\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.statuses\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/statuses\").subscribe(data=>{this.statuses=data.statuses,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_status\",this.statuses,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.error(err.error.errors)})}deleteStatus(status){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+status.id+\" »\")&&this.http.delete(\"../rest/statuses/\"+status.identifier).subscribe(data=>{this.statuses=data.statuses,this.adminService.setDataSource(\"admin_status\",this.statuses,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.statusDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return StatusesAdministrationComponent.ɵfac=function(t){return new(t||StatusesAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},StatusesAdministrationComponent.ɵcmp=core.Nb({type:StatusesAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(statuses_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/statuses/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"img_filename\"],[4,\"matHeaderCellDef\"],[\"color\",\"primary\",4,\"matCellDef\"],[\"matColumnDef\",\"id\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"label_status\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"identifier\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"color\",\"primary\"],[\"aria-hidden\",\"true\",3,\"class\",4,\"ngIf\"],[\"aria-hidden\",\"true\"],[\"mat-sort-header\",\"\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,StatusesAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,StatusesAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,StatusesAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,table.a,fesm2015_sort.b,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),StatusesAdministrationComponent})();function StatusAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function StatusAdministrationComponent_mat_card_12_input_6_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"input\",31),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r8),core.lc(2).status.id=$event}))(\"blur\",(function(){return core.Hc(_r8),core.lc(2).isAvailable()})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r3=core.lc(2);core.tc(\"title\",core.nc(1,4,\"lang.id\")),core.tc(\"placeholder\",core.nc(2,6,\"lang.id\")),core.sc(\"formControl\",ctx_r3.statusId)(\"ngModel\",ctx_r3.status.id)}}function StatusAdministrationComponent_mat_card_12_input_7_Template(rf,ctx){if(1&rf){const _r11=core.ac();core.Zb(0,\"input\",32),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r11),core.lc(2).status.id=$event})),core.mc(1,\"translate\"),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r4=core.lc(2);core.tc(\"title\",core.nc(1,3,\"lang.id\")),core.tc(\"placeholder\",core.nc(2,5,\"lang.id\")),core.sc(\"ngModel\",ctx_r4.status.id)}}function StatusAdministrationComponent_mat_card_12_mat_error_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-error\"),core.Sc(1),core.Yb()),2&rf){const ctx_r5=core.lc(2);core.Eb(1),core.Tc(ctx_r5.getErrorMessage())}}const status_administration_component_c0=function(a0){return[a0]};function StatusAdministrationComponent_mat_card_12_mat_option_33_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",33),core.Ub(1,\"i\",34),core.Sc(2),core.Yb()),2&rf){const image_r12=ctx.$implicit;core.sc(\"value\",image_r12.image_name),core.Eb(1),core.Gb(image_r12.image_name),core.sc(\"ngClass\",core.zc(6,status_administration_component_c0,0==image_r12.image_name.indexOf(\"fm\")?\"fm\":\"fa\")),core.Eb(1),core.Uc(\" \",image_r12.image_name,\" \")}}function StatusAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"mat-card\",12),core.Zb(1,\"form\",13,14),core.hc(\"ngSubmit\",(function(){return core.Hc(_r14),core.lc().submitStatus()})),core.Zb(3,\"div\",15),core.Zb(4,\"div\",16),core.Zb(5,\"mat-form-field\"),core.Qc(6,StatusAdministrationComponent_mat_card_12_input_6_Template,3,8,\"input\",17),core.Qc(7,StatusAdministrationComponent_mat_card_12_input_7_Template,3,7,\"input\",18),core.Qc(8,StatusAdministrationComponent_mat_card_12_mat_error_8_Template,2,1,\"mat-error\",19),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"div\",15),core.Zb(10,\"div\",16),core.Zb(11,\"mat-form-field\"),core.Zb(12,\"input\",20),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().status.label_status=$event})),core.mc(13,\"translate\"),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"div\",15),core.Zb(16,\"div\",21),core.Zb(17,\"mat-slide-toggle\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().status.can_be_searched=$event})),core.mc(18,\"translate\"),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Yb(),core.Zb(21,\"div\",21),core.Zb(22,\"mat-slide-toggle\",23),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().status.can_be_modified=$event})),core.mc(23,\"translate\"),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(26,\"div\",15),core.Zb(27,\"div\",24),core.Ub(28,\"mat-icon\",25),core.Yb(),core.Zb(29,\"div\",26),core.Zb(30,\"mat-form-field\"),core.Zb(31,\"mat-select\",27),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().status.img_filename=$event})),core.mc(32,\"translate\"),core.Qc(33,StatusAdministrationComponent_mat_card_12_mat_option_33_Template,3,8,\"mat-option\",28),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(34,\"div\",15),core.Zb(35,\"div\",29),core.Zb(36,\"button\",30),core.Sc(37),core.mc(38,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r2=core.Dc(2),ctx_r1=core.lc();core.Eb(6),core.sc(\"ngIf\",ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx_r1.statusId.invalid),core.Eb(4),core.tc(\"title\",core.nc(13,23,\"lang.label\")),core.tc(\"placeholder\",core.nc(14,25,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.status.label_status),core.Eb(5),core.tc(\"matTooltip\",core.nc(18,27,\"lang.tooltipSearchStatus\")),core.sc(\"ngModel\",ctx_r1.status.can_be_searched)(\"checked\",1==ctx_r1.status.can_be_searched),core.Eb(2),core.Uc(\" \",core.nc(20,29,\"lang.canBeSearched\"),\" \"),core.Eb(3),core.tc(\"matTooltip\",core.nc(23,31,\"lang.tooltipIndexStatus\")),core.sc(\"ngModel\",ctx_r1.status.can_be_modified)(\"checked\",1==ctx_r1.status.can_be_modified),core.Eb(2),core.Uc(\" \",core.nc(25,33,\"lang.canBeModified\"),\" \"),core.Eb(4),core.Gb(ctx_r1.status.img_filename),core.sc(\"ngClass\",core.zc(39,status_administration_component_c0,0==ctx_r1.status.img_filename.indexOf(\"fm\")?\"fm fm-2x\":\"fa fa-2x\")),core.Eb(3),core.tc(\"placeholder\",core.nc(32,35,\"lang.imgRelated\")),core.sc(\"ngModel\",ctx_r1.status.img_filename),core.Eb(2),core.sc(\"ngForOf\",ctx_r1.statusImages),core.Eb(3),core.sc(\"disabled\",!_r2.form.valid),core.Eb(1),core.Tc(core.nc(38,37,\"lang.save\"))}}let status_administration_component_StatusAdministrationComponent=(()=>{class StatusAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.status={id:null,label_status:null,can_be_searched:null,can_be_modified:null,img_filename:\"fm-letter\"},this.statusImages=\"\",this.loading=!1,this.statusId=new fesm2015_forms.h(\"\",[fesm2015_forms.H.required,fesm2015_forms.H.pattern(/^[\\w.-]*$/)])}getErrorMessage(){return this.statusId.hasError(\"required\")?this.translate.instant(\"lang.enterValue\"):this.statusId.hasError(\"pattern\")?this.translate.instant(\"lang.patternId\"):\"\"}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>{void 0===params.identifier?(this.headerService.setHeader(this.translate.instant(\"lang.statusCreation\")),this.http.get(\"../rest/administration/statuses/new\").subscribe(data=>{this.status.img_filename=\"fm-letter\",this.status.can_be_searched=!0,this.status.can_be_modified=!0,this.statusImages=data.statusImages,this.creationMode=!0,this.loading=!1}),this.statusIdAvailable=!1):(this.creationMode=!1,this.statusIdentifier=params.identifier,this.http.get(\"../rest/statuses/\"+params.identifier).subscribe(data=>{this.status=data.status[0],this.headerService.setHeader(this.translate.instant(\"lang.statusModification\"),this.status.label_status),this.status.can_be_searched=\"Y\"===this.status.can_be_searched,this.status.can_be_modified=\"Y\"===this.status.can_be_modified,this.statusImages=data.statusImages,this.statusIdAvailable=!0,this.loading=!1},err=>{this.notify.error(err.error.errors)}))})}isAvailable(){this.status.id?this.http.get(\"../rest/status/\"+this.status.id).subscribe(()=>{this.statusIdAvailable=!1},err=>{this.statusIdAvailable=!1,\"id not found\"===err.error.errors&&(this.statusIdAvailable=!0)}):this.statusIdAvailable=!1}submitStatus(){!0===this.creationMode?this.http.post(\"../rest/statuses\",this.status).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.statusAdded\")),this.router.navigate([\"administration/statuses\"])},err=>{this.notify.error(err.error.errors)}):!1===this.creationMode&&this.http.put(\"../rest/statuses/\"+this.statusIdentifier,this.status).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.statusUpdated\")),this.router.navigate([\"administration/statuses\"])},err=>{this.notify.error(err.error.errors)})}}return StatusAdministrationComponent.ɵfac=function(t){return new(t||StatusAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},StatusAdministrationComponent.ɵcmp=core.Nb({type:StatusAdministrationComponent,selectors:[[\"ng-component\"]],decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"statusFormUp\",\"ngForm\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"matInput\",\"\",\"maxlength\",\"10\",\"name\",\"id\",\"id\",\"id\",\"type\",\"text\",\"pattern\",\"^[\\\\w.-]*$\",\"required\",\"\",3,\"formControl\",\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\",\"blur\",4,\"ngIf\"],[\"matInput\",\"\",\"maxlength\",\"10\",\"name\",\"id\",\"id\",\"id\",\"required\",\"\",\"disabled\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\",4,\"ngIf\"],[4,\"ngIf\"],[\"matInput\",\"\",\"name\",\"label_status\",\"id\",\"label_status\",\"maxlength\",\"50\",\"type\",\"text\",\"required\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"col-sm-6\",2,\"white-space\",\"nowrap\",\"text-align\",\"center\"],[\"id\",\"can_be_search\",\"name\",\"can_be_search\",\"color\",\"primary\",3,\"matTooltip\",\"ngModel\",\"checked\",\"ngModelChange\"],[\"id\",\"can_be_modified\",\"name\",\"can_be_modified\",\"color\",\"primary\",3,\"matTooltip\",\"ngModel\",\"checked\",\"ngModelChange\"],[1,\"col-sm-1\",2,\"text-align\",\"right\"],[\"aria-hidden\",\"true\",\"color\",\"primary\",3,\"ngClass\"],[1,\"col-sm-11\"],[\"id\",\"status\",\"name\",\"status\",\"required\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-sm-12\",2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"matInput\",\"\",\"maxlength\",\"10\",\"name\",\"id\",\"id\",\"id\",\"type\",\"text\",\"pattern\",\"^[\\\\w.-]*$\",\"required\",\"\",3,\"formControl\",\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\",\"blur\"],[\"matInput\",\"\",\"maxlength\",\"10\",\"name\",\"id\",\"id\",\"id\",\"required\",\"\",\"disabled\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[3,\"value\"],[\"color\",\"primary\",3,\"ngClass\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,StatusAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,StatusAdministrationComponent_mat_card_12_Template,39,41,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,slide_toggle.a,tooltip.b,icon.a,common.q,fesm2015_select.a,common.s,fesm2015_button.b,fesm2015_forms.A,fesm2015_forms.i,form_field.b,fesm2015_core.o],pipes:[ngx_translate_core.d],encapsulation:2}),StatusAdministrationComponent})();const actions_administration_component_c0=[\"snav2\"],actions_administration_component_c1=[\"adminMenuTemplate\"];function ActionsAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function ActionsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function ActionsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r6=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r6.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.id\"))}}function ActionsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r16=ctx.$implicit,ctx_r7=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r7.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r16.id,\" \")}}function ActionsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.actionName\")))}function ActionsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r17=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r17.label_action,\" \")}}function ActionsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r10=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r10.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.actionHistory\"),\" \")}}function ActionsAdministrationComponent_mat_card_14_mat_cell_19_span_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.no\"),\" \"))}function ActionsAdministrationComponent_mat_card_14_mat_cell_19_span_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.yes\"),\" \"))}function ActionsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,ActionsAdministrationComponent_mat_card_14_mat_cell_19_span_1_Template,3,3,\"span\",39),core.Qc(2,ActionsAdministrationComponent_mat_card_14_mat_cell_19_span_2_Template,3,3,\"span\",39),core.Yb()),2&rf){const element_r18=ctx.$implicit,ctx_r11=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r11.appService.getViewMode()),core.Eb(1),core.sc(\"ngIf\",\"N\"==element_r18.history),core.Eb(1),core.sc(\"ngIf\",\"Y\"==element_r18.history)}}function ActionsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function ActionsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-cell\",40),core.Zb(1,\"button\",41),core.hc(\"click\",(function($event){core.Hc(_r23);const element_r21=ctx.$implicit,ctx_r22=core.lc(2);return $event.stopPropagation(),ctx_r22.deleteAction(element_r21)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",42),core.Yb(),core.Yb()}if(2&rf){const element_r21=ctx.$implicit;core.Eb(1),core.tc(\"matTooltip\",core.nc(2,2,\"lang.delete\")),core.sc(\"disabled\",\"Y\"==element_r21.is_system)}}function ActionsAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ActionsAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",43),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/actions/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function ActionsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,ActionsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,5,\"mat-header-cell\",26),core.Qc(13,ActionsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,3,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,ActionsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",29),core.Qc(16,ActionsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(17,31),core.Qc(18,ActionsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",26),core.Qc(19,ActionsAdministrationComponent_mat_card_14_mat_cell_19_Template,3,4,\"mat-cell\",27),core.Wb(),core.Xb(20,32),core.Qc(21,ActionsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",33),core.Qc(22,ActionsAdministrationComponent_mat_card_14_mat_cell_22_Template,4,4,\"mat-cell\",34),core.Wb(),core.Qc(23,ActionsAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",35),core.Qc(24,ActionsAdministrationComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",36),core.Yb(),core.Zb(25,\"div\",37),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.actions.length,\" \",core.nc(27,12,\"lang.actions\"),\"\")}}let actions_administration_component_ActionsAdministrationComponent=(()=>{class ActionsAdministrationComponent{constructor(translate,http,notify,headerService,appService,adminService,functions,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.adminService=adminService,this.functions=functions,this.viewContainerRef=viewContainerRef,this.search=null,this.actions=[],this.titles=[],this.loading=!1,this.displayedColumns=[\"id\",\"label_action\",\"history\",\"actions\"],this.filterColumns=[\"id\",\"label_action\"]}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/actions\").subscribe(data=>{this.actions=data.actions,this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.actions\")),this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_actions\",this.actions,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.handleErrors(err)})}deleteAction(action){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+action.label_action+\" »\")&&this.http.delete(\"../rest/actions/\"+action.id).subscribe(data=>{this.actions=data.actions,this.adminService.setDataSource(\"admin_actions\",this.actions,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.actionDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return ActionsAdministrationComponent.ɵfac=function(t){return new(t||ActionsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(administration_service_AdministrationService),core.Tb(functions_service.a),core.Tb(core.R))},ActionsAdministrationComponent.ɵcmp=core.Nb({type:ActionsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(actions_administration_component_c0,!0),core.Oc(actions_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/actions/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"placeholder\",\"formControl\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"id\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"label_action\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"history\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[4,\"ngIf\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ActionsAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ActionsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,ActionsAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),ActionsAdministrationComponent})();var select_search_component=__webpack_require__(\"fBaO\");const action_administration_component_c0=[\"snav2\"];function ActionAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function ActionAdministrationComponent_mat_card_12_div_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",28),core.Zb(1,\"b\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Sc(4),core.mc(5,\"translate\"),core.Yb()),2&rf&&(core.Eb(2),core.Uc(\"\",core.nc(3,2,\"lang.isSytemAction\"),\" !\"),core.Eb(2),core.Uc(\" \",core.nc(5,4,\"lang.doNotModifyUnlessExpert\"),\" \"))}function ActionAdministrationComponent_mat_card_12_div_13_mat_chip_4_Template(rf,ctx){if(1&rf){const _r13=core.ac();core.Zb(0,\"mat-chip\",32),core.hc(\"removed\",(function(){core.Hc(_r13);const i_r11=ctx.index;return core.lc(3).removeSelectedFields(i_r11)})),core.Sc(1),core.Ub(2,\"mat-icon\",33),core.Yb()}if(2&rf){const fieldValue_r10=ctx.$implicit;core.sc(\"removable\",!0),core.Eb(1),core.Uc(\" \",fieldValue_r10,\" \")}}function ActionAdministrationComponent_mat_card_12_div_13_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",17),core.Zb(2,\"plugin-select-search\",29),core.hc(\"afterSelected\",(function(){return core.Hc(_r15),core.lc(2).getSelectedFields()})),core.Yb(),core.Zb(3,\"mat-chip-list\",30),core.Qc(4,ActionAdministrationComponent_mat_card_12_div_13_mat_chip_4_Template,3,2,\"mat-chip\",31),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r4=core.lc(2);core.Eb(2),core.Gb(\"\"),core.sc(\"showLabel\",!0)(\"label\",ctx_r4.translate.instant(\"lang.checkEmptyFields\"))(\"placeholderLabel\",ctx_r4.translate.instant(\"lang.checkEmptyFields\"))(\"formControlSelect\",ctx_r4.customFieldsFormControl)(\"datas\",ctx_r4.availableCustomFields),core.Eb(2),core.sc(\"ngForOf\",ctx_r4.selectedFieldsValue)}}function ActionAdministrationComponent_mat_card_12_div_14_Template(rf,ctx){if(1&rf){const _r17=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",17),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-select\",34),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r17),core.lc(2).arMode=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Zb(6,\"mat-option\",35),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"mat-option\",36),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Zb(12,\"mat-option\",37),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r5=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,7,\"lang.generateARMode\")),core.tc(\"placeholder\",core.nc(5,9,\"lang.generateARMode\")),core.sc(\"required\",\"create_acknowledgement_receipt\"==ctx_r5.action.actionPageId)(\"ngModel\",ctx_r5.arMode),core.Eb(4),core.Tc(core.nc(8,11,\"lang.autoAR\")),core.Eb(3),core.Tc(core.nc(11,13,\"lang.manualAR\")),core.Eb(3),core.Tc(core.nc(14,15,\"lang.bothAR\"))}}function ActionAdministrationComponent_mat_card_12_div_15_Template(rf,ctx){if(1&rf){const _r19=core.ac();core.Zb(0,\"div\",16),core.Zb(1,\"div\",17),core.Zb(2,\"plugin-select-search\",29),core.hc(\"afterSelected\",(function(){core.Hc(_r19);const ctx_r18=core.lc(2);return ctx_r18.action.id_status=ctx_r18.selectStatusId.value})),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r6=core.lc(2);core.Eb(2),core.Gb(\"\"),core.sc(\"showLabel\",!0)(\"label\",ctx_r6.translate.instant(\"lang.associatedStatus\"))(\"placeholderLabel\",ctx_r6.translate.instant(\"lang.associatedStatus\"))(\"formControlSelect\",ctx_r6.selectStatusId)(\"datas\",ctx_r6.statuses)}}function ActionAdministrationComponent_mat_card_12_mat_option_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",38),core.Sc(1),core.Yb()),2&rf){const keyword_r20=ctx.$implicit;core.sc(\"value\",keyword_r20.value),core.Eb(1),core.Uc(\" \",keyword_r20.label,\" \")}}function ActionAdministrationComponent_mat_card_12_mat_option_35_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",39),core.Sc(1),core.Yb()),2&rf){const category_r21=ctx.$implicit,ctx_r8=core.lc(2);core.sc(\"value\",category_r21.id)(\"disabled\",\"registeredMail\"!==category_r21.id&&\"registeredMail\"===ctx_r8.action.actionPageGroup),core.Eb(1),core.Uc(\" \",category_r21.label,\" \")}}function ActionAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-card\",12),core.Qc(1,ActionAdministrationComponent_mat_card_12_div_1_Template,6,6,\"div\",13),core.Zb(2,\"form\",14,15),core.hc(\"ngSubmit\",(function(){return core.Hc(_r23),core.lc().onSubmit()})),core.Zb(4,\"div\",16),core.Zb(5,\"div\",17),core.Zb(6,\"mat-form-field\"),core.Zb(7,\"input\",18),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),core.lc().action.label_action=$event})),core.mc(8,\"translate\"),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(10,\"div\",16),core.Zb(11,\"div\",17),core.Zb(12,\"plugin-select-search\",19),core.hc(\"afterSelected\",(function(){return core.Hc(_r23),core.lc().getCustomFields()})),core.Yb(),core.Yb(),core.Yb(),core.Qc(13,ActionAdministrationComponent_mat_card_12_div_13_Template,5,8,\"div\",20),core.Qc(14,ActionAdministrationComponent_mat_card_12_div_14_Template,15,17,\"div\",20),core.Qc(15,ActionAdministrationComponent_mat_card_12_div_15_Template,3,7,\"div\",20),core.Zb(16,\"div\",16),core.Zb(17,\"div\",17),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"mat-select\",21),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),core.lc().action.keyword=$event})),core.mc(20,\"translate\"),core.mc(21,\"translate\"),core.Qc(22,ActionAdministrationComponent_mat_card_12_mat_option_22_Template,2,2,\"mat-option\",22),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(23,\"div\",16),core.Zb(24,\"div\",23),core.Zb(25,\"mat-slide-toggle\",24),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),core.lc().action.history=$event})),core.mc(26,\"translate\"),core.Sc(27),core.mc(28,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(29,\"div\",16),core.Zb(30,\"div\",17),core.Zb(31,\"mat-form-field\"),core.Zb(32,\"mat-select\",25),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),core.lc().action.actionCategories=$event})),core.mc(33,\"translate\"),core.mc(34,\"translate\"),core.Qc(35,ActionAdministrationComponent_mat_card_12_mat_option_35_Template,2,3,\"mat-option\",26),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(36,\"div\",16),core.Zb(37,\"div\",23),core.Zb(38,\"button\",27),core.Sc(39),core.mc(40,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r3=core.Dc(3),ctx_r1=core.lc();core.Eb(1),core.sc(\"ngIf\",1==ctx_r1.action.is_system),core.Eb(6),core.tc(\"title\",core.nc(8,30,\"lang.label\")),core.tc(\"placeholder\",core.nc(9,32,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.action.label_action),core.Eb(5),core.Gb(\"\"),core.sc(\"showLabel\",!0)(\"label\",ctx_r1.translate.instant(\"lang.actionCarriedOut\"))(\"placeholderLabel\",ctx_r1.translate.instant(\"lang.actionCarriedOut\"))(\"formControlSelect\",ctx_r1.selectActionPageId)(\"datas\",ctx_r1.actionPages)(\"optGroupList\",ctx_r1.group)(\"optGroupTarget\",\"category\"),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.functions.empty(ctx_r1.availableCustomFields)&&\"close_mail\"==ctx_r1.action.actionPageId),core.Eb(1),core.sc(\"ngIf\",\"create_acknowledgement_receipt\"==ctx_r1.action.actionPageId),core.Eb(1),core.sc(\"ngIf\",\"reconcile\"!=ctx_r1.action.actionPageId),core.Eb(4),core.tc(\"title\",core.nc(20,34,\"lang.keyword\")),core.tc(\"placeholder\",core.nc(21,36,\"lang.keyword\")),core.sc(\"ngModel\",ctx_r1.action.keyword),core.Eb(3),core.sc(\"ngForOf\",ctx_r1.keywordsList),core.Eb(3),core.tc(\"title\",core.nc(26,38,\"lang.actionHistoryDesc\")),core.sc(\"ngModel\",ctx_r1.action.history)(\"checked\",\"Y\"==ctx_r1.action.history),core.Eb(2),core.Uc(\" \",core.nc(28,40,\"lang.actionHistory\"),\"\"),core.Eb(5),core.tc(\"title\",core.nc(33,42,\"lang.chooseCategoryAssociation\")),core.tc(\"placeholder\",core.nc(34,44,\"lang.chooseCategoryAssociation\")),core.sc(\"ngModel\",ctx_r1.action.actionCategories),core.Eb(3),core.sc(\"ngForOf\",ctx_r1.categoriesList),core.Eb(3),core.sc(\"disabled\",!_r3.form.valid),core.Eb(1),core.Tc(core.nc(40,46,\"lang.save\"))}}let action_administration_component_ActionAdministrationComponent=(()=>{class ActionAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService,functions){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.action={},this.statuses=[],this.actionPages=[],this.categoriesList=[],this.keywordsList=[],this.group=[],this.loading=!1,this.availableCustomFields=[],this.customFieldsFormControl=new fesm2015_forms.h({value:\"\",disabled:!1}),this.selectedFieldsValue=[],this.selectedFieldsId=[],this.selectActionPageId=new fesm2015_forms.h,this.selectStatusId=new fesm2015_forms.h}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>{void 0===params.id?(this.creationMode=!0,this.http.get(\"../rest/initAction\").subscribe(data=>{this.action=data.action,this.selectActionPageId.setValue(this.action.actionPageId),this.selectStatusId.setValue(this.action.id_status),this.categoriesList=data.categoriesList,this.statuses=data.statuses.map(status=>({id:status.id,label:status.label_status})),this.actionPages=data.actionPages,this.actionPages.map(action=>action.category).filter((cat,index,self)=>self.indexOf(cat)===index).forEach(element=>{this.group.push({id:element,label:this.translate.instant(\"lang.\"+element)})}),this.keywordsList=data.keywordsList,this.headerService.setHeader(this.translate.instant(\"lang.actionCreation\")),this.loading=!1})):(this.creationMode=!1,this.http.get(\"../rest/actions/\"+params.id).subscribe(data=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.action=data.action,this.selectActionPageId.setValue(this.action.actionPageId),this.selectStatusId.setValue(this.action.id_status),this.categoriesList=data.categoriesList,this.statuses=data.statuses.map(status=>({id:status.id,label:status.label_status})),this.actionPages=data.actionPages,this.actionPages.map(action=>action.category).filter((cat,index,self)=>self.indexOf(cat)===index).forEach(element=>{this.group.push({id:element,label:this.translate.instant(\"lang.\"+element)})}),this.keywordsList=data.keywordsList,this.headerService.setHeader(this.translate.instant(\"lang.actionCreation\"),data.action.label_action),yield this.getCustomFields(),this.loading=!1,\"close_mail\"===this.action.actionPageId?(this.customFieldsFormControl=new fesm2015_forms.h({value:this.action.parameters.requiredFields,disabled:!1}),this.selectedFieldsId=[],this.action.parameters.requiredFields&&(this.selectedFieldsId=this.action.parameters.requiredFields),this.selectedFieldsId.forEach(element=>{this.availableCustomFields.forEach(availableElement=>{availableElement.id===element&&this.selectedFieldsValue.push(availableElement.label)})})):\"create_acknowledgement_receipt\"===this.action.actionPageId&&(this.arMode=this.action.parameters.mode)}))))})}getCustomFields(){return this.action.actionPageId=this.selectActionPageId.value,this.action.actionPageGroup=this.actionPages.filter(action=>action.id===this.action.actionPageId)[0].category,\"registeredMail\"===this.action.actionPageGroup&&(this.action.actionCategories=[\"registeredMail\"]),new Promise((resolve,reject)=>{\"close_mail\"===this.action.actionPageId&&this.functions.empty(this.availableCustomFields)?this.http.get(\"../rest/customFields\").pipe(Object(tap.a)(data=>(this.availableCustomFields=data.customFields.map(info=>(info.id=\"indexingCustomField_\"+info.id,info)),resolve(!0))),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():resolve(!0)})}getSelectedFields(){this.availableCustomFields.forEach(element=>{element.id===this.customFieldsFormControl.value&&(this.selectedValue=element)}),this.selectedFieldsId.indexOf(this.customFieldsFormControl.value)<0&&(this.selectedFieldsValue.push(this.selectedValue.label),this.selectedFieldsId.push(this.customFieldsFormControl.value)),this.customFieldsFormControl.reset()}removeSelectedFields(index){this.selectedFieldsValue.splice(index,1),this.selectedFieldsId.splice(index,1)}onSubmit(){\"close_mail\"===this.action.actionPageId?this.action.parameters={requiredFields:this.selectedFieldsId}:\"create_acknowledgement_receipt\"===this.action.actionPageId&&(this.action.parameters={mode:this.arMode}),this.creationMode?this.http.post(\"../rest/actions\",this.action).subscribe(()=>{this.router.navigate([\"/administration/actions\"]),this.notify.success(this.translate.instant(\"lang.actionAdded\"))},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/actions/\"+this.action.id,this.action).subscribe(()=>{this.router.navigate([\"/administration/actions\"]),this.notify.success(this.translate.instant(\"lang.actionUpdated\"))},err=>{this.notify.error(err.error.errors)})}}return ActionAdministrationComponent.ɵfac=function(t){return new(t||ActionAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a))},ActionAdministrationComponent.ɵcmp=core.Nb({type:ActionAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(action_administration_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first)},decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"class\",\"alert alert-danger\",\"role\",\"alert\",4,\"ngIf\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"actionsFormUp\",\"ngForm\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"action_name\",\"id\",\"action_name\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[2,\"width\",\"100%\",3,\"showLabel\",\"label\",\"placeholderLabel\",\"formControlSelect\",\"datas\",\"optGroupList\",\"optGroupTarget\",\"afterSelected\"],[\"class\",\"form-group\",4,\"ngIf\"],[\"id\",\"keyword\",\"name\",\"keyword\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-sm-12\",2,\"text-align\",\"center\"],[\"name\",\"history\",\"id\",\"history\",\"color\",\"primary\",3,\"title\",\"ngModel\",\"checked\",\"ngModelChange\"],[\"id\",\"categorieslist\",\"name\",\"categorieslist\",\"multiple\",\"\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",\"disabled\",4,\"ngFor\",\"ngForOf\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"role\",\"alert\",1,\"alert\",\"alert-danger\"],[2,\"width\",\"100%\",3,\"showLabel\",\"label\",\"placeholderLabel\",\"formControlSelect\",\"datas\",\"afterSelected\"],[1,\"checkbox-selected-list\"],[\"selected\",\"\",3,\"removable\",\"removed\",4,\"ngFor\",\"ngForOf\"],[\"selected\",\"\",3,\"removable\",\"removed\"],[\"matChipRemove\",\"\",1,\"fa\",\"fa-times-circle\"],[\"id\",\"generateARmode\",\"name\",\"generateARmode\",3,\"required\",\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"auto\"],[\"value\",\"manual\"],[\"value\",\"both\"],[3,\"value\"],[3,\"value\",\"disabled\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,ActionAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,ActionAdministrationComponent_mat_card_12_Template,41,48,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,select_search_component.a,fesm2015_select.a,common.s,slide_toggle.a,fesm2015_button.b,chips.d,chips.a,icon.a,chips.e,fesm2015_core.o],pipes:[ngx_translate_core.d],encapsulation:2}),ActionAdministrationComponent})();function ParameterAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function ParameterAdministrationComponent_mat_card_12_mat_form_field_30_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"input\",27),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r7),core.lc(2).parameter.param_value_string=$event})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r3=core.lc(2);core.Eb(1),core.tc(\"placeholder\",core.nc(2,2,\"lang.value\")),core.sc(\"ngModel\",ctx_r3.parameter.param_value_string)}}function ParameterAdministrationComponent_mat_card_12_mat_form_field_31_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"input\",28),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r9),core.lc(2).parameter.param_value_int=$event})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r4=core.lc(2);core.Eb(1),core.tc(\"placeholder\",core.nc(2,2,\"lang.value\")),core.sc(\"ngModel\",ctx_r4.parameter.param_value_int)}}function ParameterAdministrationComponent_mat_card_12_mat_form_field_32_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"input\",29),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r12),core.lc(2).parameter.param_value_date=$event})),core.mc(2,\"translate\"),core.Yb(),core.Ub(3,\"mat-datepicker-toggle\",30),core.Ub(4,\"mat-datepicker\",31,32),core.Yb()}if(2&rf){const _r10=core.Dc(5),ctx_r5=core.lc(2);core.Eb(1),core.tc(\"placeholder\",core.nc(2,4,\"lang.date\")),core.sc(\"ngModel\",ctx_r5.parameter.param_value_date)(\"matDatepicker\",_r10),core.Eb(2),core.sc(\"for\",_r10)}}function ParameterAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"mat-card\",12),core.Zb(1,\"form\",13,14),core.hc(\"ngSubmit\",(function(){return core.Hc(_r14),core.lc().onSubmit()})),core.Zb(3,\"div\",15),core.Zb(4,\"div\",16),core.Zb(5,\"mat-form-field\"),core.Zb(6,\"input\",17),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().parameter.id=$event})),core.mc(7,\"translate\"),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"div\",15),core.Zb(10,\"div\",16),core.Zb(11,\"mat-form-field\"),core.Zb(12,\"input\",18),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().parameter.description=$event})),core.mc(13,\"translate\"),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"div\",15),core.Zb(16,\"div\",19),core.Zb(17,\"mat-form-field\"),core.Zb(18,\"mat-select\",20),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().type=$event})),core.mc(19,\"translate\"),core.Zb(20,\"mat-option\",21),core.Sc(21),core.mc(22,\"translate\"),core.Yb(),core.Zb(23,\"mat-option\",22),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Zb(26,\"mat-option\",23),core.Sc(27),core.mc(28,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(29,\"div\",19),core.Qc(30,ParameterAdministrationComponent_mat_card_12_mat_form_field_30_Template,3,4,\"mat-form-field\",24),core.Qc(31,ParameterAdministrationComponent_mat_card_12_mat_form_field_31_Template,3,4,\"mat-form-field\",24),core.Qc(32,ParameterAdministrationComponent_mat_card_12_mat_form_field_32_Template,6,6,\"mat-form-field\",24),core.Yb(),core.Yb(),core.Zb(33,\"div\",15),core.Zb(34,\"div\",25),core.Zb(35,\"button\",26),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r2=core.Dc(2),ctx_r1=core.lc();core.Eb(6),core.tc(\"title\",core.nc(7,18,\"lang.id\")),core.tc(\"placeholder\",core.nc(8,20,\"lang.id\")),core.sc(\"ngModel\",ctx_r1.parameter.id)(\"disabled\",!ctx_r1.creationMode),core.Eb(6),core.tc(\"title\",core.nc(13,22,\"lang.description\")),core.tc(\"placeholder\",core.nc(14,24,\"lang.description\")),core.sc(\"ngModel\",ctx_r1.parameter.description),core.Eb(6),core.tc(\"placeholder\",core.nc(19,26,\"lang.type\")),core.sc(\"ngModel\",ctx_r1.type)(\"disabled\",!ctx_r1.creationMode),core.Eb(3),core.Uc(\" \",core.nc(22,28,\"lang.stringInput\"),\" \"),core.Eb(3),core.Uc(\" \",core.nc(25,30,\"lang.integer\"),\" \"),core.Eb(3),core.Uc(\" \",core.nc(28,32,\"lang.date\"),\" \"),core.Eb(3),core.sc(\"ngIf\",\"string\"==ctx_r1.type),core.Eb(1),core.sc(\"ngIf\",\"int\"==ctx_r1.type),core.Eb(1),core.sc(\"ngIf\",\"date\"==ctx_r1.type),core.Eb(3),core.sc(\"disabled\",!_r2.form.valid),core.Eb(1),core.Tc(core.nc(37,34,\"lang.save\"))}}let parameter_administration_component_ParameterAdministrationComponent=(()=>{class ParameterAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!1,this.parameter={}}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.parameterCreation\")),this.creationMode=!0,this.loading=!1):(this.creationMode=!1,this.http.get(\"../rest/parameters/\"+params.id).subscribe(data=>{this.parameter=data.parameter,this.headerService.setHeader(this.translate.instant(\"lang.parameterModification\"),this.parameter.id),this.type=\"number\"==typeof this.parameter.param_value_int?\"int\":this.parameter.param_value_date?\"date\":\"string\",this.loading=!1},err=>{this.notify.handleErrors(err)}))})}onSubmit(){\"date\"===this.type?(this.parameter.param_value_int=null,this.parameter.param_value_string=null):\"int\"===this.type?(this.parameter.param_value_date=null,this.parameter.param_value_string=null):\"string\"===this.type&&(this.parameter.param_value_date=null,this.parameter.param_value_int=null),!0===this.creationMode?this.http.post(\"../rest/parameters\",this.parameter).subscribe(()=>{this.router.navigate([\"administration/parameters\"]),this.notify.success(this.translate.instant(\"lang.parameterAdded\"))},err=>{this.notify.error(err.error.errors)}):!1===this.creationMode&&this.http.put(\"../rest/parameters/\"+this.parameter.id,this.parameter).subscribe(()=>{this.router.navigate([\"administration/parameters\"]),this.notify.success(this.translate.instant(\"lang.parameterUpdated\"))},err=>{this.notify.error(err.error.errors)})}}return ParameterAdministrationComponent.ɵfac=function(t){return new(t||ParameterAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},ParameterAdministrationComponent.ɵcmp=core.Nb({type:ParameterAdministrationComponent,selectors:[[\"ng-component\"]],decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"parameterForm\",\"ngForm\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"matInput\",\"\",\"name\",\"id\",\"type\",\"text\",\"pattern\",\"^[\\\\w-]*$\",\"required\",\"\",3,\"ngModel\",\"disabled\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"description\",\"id\",\"description\",\"type\",\"text\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"col-sm-6\"],[\"name\",\"type\",\"required\",\"\",3,\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"value\",\"string\"],[\"value\",\"int\"],[\"value\",\"date\"],[4,\"ngIf\"],[1,\"col-sm-12\",2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"matInput\",\"\",\"name\",\"paramValueString\",\"type\",\"text\",\"required\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"paramValueInt\",\"type\",\"number\",\"pattern\",\"^[0-9]*$\",\"required\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"paramValueDate\",\"required\",\"\",3,\"ngModel\",\"matDatepicker\",\"placeholder\",\"ngModelChange\"],[\"matSuffix\",\"\",3,\"for\"],[\"startView\",\"month\"],[\"picker\",\"\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,ParameterAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,ParameterAdministrationComponent_mat_card_12_Template,38,36,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.A,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,fesm2015_select.a,fesm2015_core.o,fesm2015_button.b,fesm2015_forms.z,datepicker.f,datepicker.h,form_field.j,datepicker.d],pipes:[ngx_translate_core.d],encapsulation:2}),ParameterAdministrationComponent})();var debounceTime=__webpack_require__(\"Kj3r\"),platform_browser=__webpack_require__(\"jhN1\");function ParametersCustomizationComponent_mat_card_35_Template(rf,ctx){if(1&rf){const _r5=core.ac();core.Zb(0,\"mat-card\",17),core.hc(\"click\",(function(){core.Hc(_r5);const background_r3=ctx.$implicit;return core.lc().selectBg(background_r3.url)})),core.Yb()}if(2&rf){const background_r3=ctx.$implicit,ctx_r1=core.lc();core.Pc(\"background\",\"url(\"+background_r3.url+\")\",core.Mb),core.Jb(\"selected\",background_r3.url===ctx_r1.stepFormGroup.controls.bodyImage.value)(\"disabled\",ctx_r1.stepFormGroup.controls.bodyImage.disabled)}}function ParametersCustomizationComponent_mat_card_36_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"mat-card\",18),core.hc(\"click\",(function(){return core.Hc(_r8),core.Dc(2).click()})),core.Zb(1,\"input\",19,20),core.hc(\"change\",(function($event){return core.Hc(_r8),core.lc().uploadTrigger($event,\"bg\")})),core.Yb(),core.Ub(3,\"i\",21),core.Yb()}}let parameters_customization_component_ParametersCustomizationComponent=(()=>{class ParametersCustomizationComponent{constructor(translate,_formBuilder,notify,sanitizer,scanPipe,http){this.translate=translate,this._formBuilder=_formBuilder,this.notify=notify,this.sanitizer=sanitizer,this.scanPipe=scanPipe,this.http=http,this.readonlyState=!1,this.backgroundList=[],fesm2015_forms.H.pattern(/^[a-zA-Z0-9_\\-]*$/),this.stepFormGroup=this._formBuilder.group({applicationName:[\"\",fesm2015_forms.H.required],loginpage_message:[\"\"],homepage_message:[\"\"],traffic_record_summary_sheet:[\"\"],bodyImage:[\"../rest/images?image=loginPage\"],logo:[\"../rest/images?image=logo\"]}),this.backgroundList=Array.from({length:16}).map((_,i)=>({filename:i+1+\".jpg\",url:`assets/${i+1}.jpg`}))}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){yield this.getParameters()}))}getParameters(){return new Promise(resolve=>{this.http.get(\"../rest/parameters\").pipe(Object(tap.a)(data=>{this.stepFormGroup.controls.homepage_message.setValue(data.parameters.filter(item=>\"homepage_message\"===item.id)[0].value),this.stepFormGroup.controls.loginpage_message.setValue(data.parameters.filter(item=>\"loginpage_message\"===item.id)[0].value),this.stepFormGroup.controls.traffic_record_summary_sheet.setValue(data.parameters.filter(item=>\"traffic_record_summary_sheet\"===item.id)[0].value)}),Object(exhaustMap.a)(()=>this.http.get(\"../rest/authenticationInformations\")),Object(tap.a)(data=>{this.stepFormGroup.controls.applicationName.setValue(data.applicationName),setTimeout(()=>{this.stepFormGroup.controls.applicationName.valueChanges.pipe(Object(debounceTime.a)(1e3),Object(tap.a)(()=>this.saveParameter(\"applicationName\"))).subscribe(),this.stepFormGroup.controls.homepage_message.valueChanges.pipe(Object(debounceTime.a)(100),Object(tap.a)(()=>this.saveParameter(\"homepage_message\"))).subscribe(),this.stepFormGroup.controls.loginpage_message.valueChanges.pipe(Object(debounceTime.a)(100),Object(tap.a)(()=>this.saveParameter(\"loginpage_message\"))).subscribe(),this.stepFormGroup.controls.traffic_record_summary_sheet.valueChanges.pipe(Object(debounceTime.a)(100),Object(tap.a)(()=>this.saveParameter(\"traffic_record_summary_sheet\"))).subscribe(),this.initMce()},100)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}isValidStep(){return void 0!==this.stepFormGroup&&this.stepFormGroup.valid}initMce(readonly=!1){let param={selector:\"#loginpage_message\",setup:editor=>{editor.on(\"Blur\",e=>{this.stepFormGroup.controls[e.target.id].setValue(tinymce.get(e.target.id).getContent())})},base_url:\"../node_modules/tinymce/\",height:\"200\",suffix:\".min\",language:this.translate.instant(\"lang.langISO\").replace(\"-\",\"_\"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant(\"lang.langISO\").replace(\"-\",\"_\")}.js`,menubar:!1,statusbar:!1,readonly:readonly,plugins:[\"autolink\",\"table\",\"code\"],external_plugins:{maarch_b64image:\"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js\"},table_toolbar:\"\",table_sizing_mode:\"relative\",table_resize_bars:!1,toolbar_sticky:!0,toolbar_drawer:\"floating\",table_style_by_css:!0,content_style:\"table td { padding: 1px; vertical-align: top; }\",forced_root_block:!1,toolbar:readonly?\"\":\"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | table maarch_b64image |         alignleft aligncenter alignright alignjustify         bullist numlist outdent indent | removeformat code\"};tinymce.init(param),param.selector=\"#homepage_message\",tinymce.init(param),param.selector=\"#traffic_record_summary_sheet\",param.height=\"500\",tinymce.init(param)}uploadTrigger(fileInput,mode){if(fileInput.target.files&&fileInput.target.files[0]){const res=this.canUploadFile(fileInput.target.files[0],mode);if(!0===res){const reader=new FileReader;reader.readAsDataURL(fileInput.target.files[0]),reader.onload=value=>{if(\"logo\"===mode)this.stepFormGroup.controls.logo.setValue(value.target.result),this.saveParameter(\"logo\");else{const img=new Image;img.onload=imgDim=>{imgDim.target.width<1920||imgDim.target.height<1080?this.notify.error(this.translate.instant(\"lang.badImageResolution\",{value1:\"1920x1080\"})):(this.backgroundList.push({filename:value.target.result,url:value.target.result}),this.stepFormGroup.controls.bodyImage.setValue(value.target.result),this.saveParameter(\"bodyImage\"))},img.src=value.target.result}}}else this.notify.error(res)}}canUploadFile(file,mode){const allowedExtension=\"logo\"!==mode?[\"image/jpg\",\"image/jpeg\"]:[\"image/svg+xml\"];if(\"logo\"===mode){if(file.size>5e6)return this.translate.instant(\"lang.maxFileSizeExceeded\",{value1:\"5mo\"});if(-1===allowedExtension.indexOf(file.type))return this.translate.instant(\"lang.onlyExtensionsAllowed\",{value1:allowedExtension.join(\", \")})}else{if(file.size>1e7)return this.translate.instant(\"lang.maxFileSizeExceeded\",{value1:\"10mo\"});if(-1===allowedExtension.indexOf(file.type))return this.translate.instant(\"lang.onlyExtensionsAllowed\",{value1:allowedExtension.join(\", \")})}return!0}logoURL(){return this.sanitizer.bypassSecurityTrustUrl(this.stepFormGroup.controls.logo.value)}selectBg(content){this.stepFormGroup.controls.bodyImage.disabled||(this.stepFormGroup.controls.bodyImage.setValue(content),this.saveParameter(\"bodyImage\"))}clickLogoButton(uploadLogo){this.stepFormGroup.controls.logo.disabled||uploadLogo.click()}saveParameter(parameterId){let param={};\"logo\"===parameterId||\"bodyImage\"===parameterId?param.image=this.stepFormGroup.controls[parameterId].value:\"applicationName\"===parameterId?param.applicationName=this.stepFormGroup.controls[parameterId].value:param={param_value_string:this.stepFormGroup.controls[parameterId].value},this.http.put(\"../rest/parameters/\"+parameterId,param).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.parameterUpdated\")),\"logo\"===parameterId&&setTimeout(()=>{window.location.reload()},500)},err=>{this.notify.error(err.error.errors)})}ngOnDestroy(){tinymce.remove()}}return ParametersCustomizationComponent.ɵfac=function(t){return new(t||ParametersCustomizationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_forms.g),core.Tb(notification_service.a),core.Tb(platform_browser.b),core.Tb(ngx_pipes.o),core.Tb(fesm2015_http.b))},ParametersCustomizationComponent.ɵcmp=core.Nb({type:ParametersCustomizationComponent,selectors:[[\"app-parameters-customization\"]],features:[core.Db([ngx_pipes.o])],decls:44,vars:30,consts:[[2,\"display\",\"contents\",3,\"formGroup\"],[1,\"col-md-6\"],[\"appearance\",\"outline\"],[\"matInput\",\"\",\"formControlName\",\"applicationName\"],[\"name\",\"loginpage_message\",\"id\",\"loginpage_message\",\"formControlName\",\"loginpage_message\",2,\"padding-top\",\"10px\"],[\"name\",\"homepage_message\",\"id\",\"homepage_message\",\"formControlName\",\"homepage_message\",2,\"padding-top\",\"10px\"],[\"matRipple\",\"\",2,\"width\",\"350px\",\"background-size\",\"100%\",\"cursor\",\"pointer\"],[2,\"width\",\"100%\",3,\"src\",\"click\"],[\"type\",\"file\",\"name\",\"files[]\",\"accept\",\"image/svg+xml\",2,\"display\",\"none\",3,\"change\"],[\"uploadLogo\",\"\"],[1,\"backgroundList\"],[1,\"backgroundItem\",2,\"background\",\"url(../rest/images?image=loginPage)\",\"background-size\",\"cover\"],[1,\"backgroundItem\",2,\"background\",\"url(assets/bodylogin.jpg)\",\"background-size\",\"cover\",3,\"click\"],[\"style\",\"opacity: 0.3;\",\"class\",\"backgroundItem\",3,\"selected\",\"disabled\",\"background\",\"click\",4,\"ngFor\",\"ngForOf\"],[\"style\",\"opacity: 0.3;display: flex;align-items: center;justify-content: center;\",\"class\",\"backgroundItem\",3,\"click\",4,\"ngIf\"],[1,\"col-md-10\",2,\"margin-top\",\"20px\"],[\"name\",\"traffic_record_summary_sheet\",\"id\",\"traffic_record_summary_sheet\",\"formControlName\",\"traffic_record_summary_sheet\",2,\"padding-top\",\"10px\"],[1,\"backgroundItem\",2,\"opacity\",\"0.3\",3,\"click\"],[1,\"backgroundItem\",2,\"opacity\",\"0.3\",\"display\",\"flex\",\"align-items\",\"center\",\"justify-content\",\"center\",3,\"click\"],[\"type\",\"file\",\"name\",\"files[]\",\"accept\",\"image/jpeg\",2,\"display\",\"none\",3,\"change\"],[\"uploadFile\",\"\"],[1,\"fa\",\"fa-plus\",2,\"font-size\",\"30px\",\"color\",\"#666\"]],template:function(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"form\",0),core.Zb(1,\"div\",1),core.Zb(2,\"mat-form-field\",2),core.Zb(3,\"mat-label\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Ub(6,\"input\",3),core.Yb(),core.Zb(7,\"div\"),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Ub(10,\"textarea\",4),core.Ub(11,\"br\"),core.Ub(12,\"br\"),core.Zb(13,\"div\"),core.Sc(14),core.mc(15,\"translate\"),core.Yb(),core.Ub(16,\"textarea\",5),core.Ub(17,\"br\"),core.Ub(18,\"br\"),core.Yb(),core.Zb(19,\"div\",1),core.Zb(20,\"div\"),core.Sc(21),core.mc(22,\"translate\"),core.Yb(),core.Zb(23,\"div\"),core.Zb(24,\"mat-card\",6),core.Zb(25,\"img\",7),core.hc(\"click\",(function(){core.Hc(_r10);const _r0=core.Dc(27);return ctx.clickLogoButton(_r0)})),core.Yb(),core.Zb(26,\"input\",8,9),core.hc(\"change\",(function($event){return ctx.uploadTrigger($event,\"logo\")})),core.Yb(),core.Yb(),core.Yb(),core.Ub(28,\"br\"),core.Zb(29,\"div\"),core.Sc(30),core.mc(31,\"translate\"),core.Yb(),core.Zb(32,\"div\",10),core.Ub(33,\"mat-card\",11),core.Zb(34,\"mat-card\",12),core.hc(\"click\",(function(){return ctx.selectBg(\"assets/bodylogin.jpg\")})),core.Yb(),core.Qc(35,ParametersCustomizationComponent_mat_card_35_Template,1,6,\"mat-card\",13),core.Qc(36,ParametersCustomizationComponent_mat_card_36_Template,4,0,\"mat-card\",14),core.Yb(),core.Yb(),core.Zb(37,\"div\",15),core.Zb(38,\"div\"),core.Sc(39),core.mc(40,\"translate\"),core.Yb(),core.Ub(41,\"textarea\",16),core.Ub(42,\"br\"),core.Ub(43,\"br\"),core.Yb(),core.Yb()}2&rf&&(core.sc(\"formGroup\",ctx.stepFormGroup),core.Eb(4),core.Tc(core.nc(5,18,\"lang.applicationName\")),core.Eb(4),core.Uc(\"\",core.nc(9,20,\"lang.loginMsg\"),\" : \"),core.Eb(6),core.Uc(\"\",core.nc(15,22,\"lang.homeMsg\"),\" : \"),core.Eb(7),core.Uc(\"\",core.nc(22,24,\"lang.chooseLogo\"),\" : \"),core.Eb(4),core.sc(\"src\",ctx.logoURL(),core.Kc),core.Eb(5),core.Uc(\"\",core.nc(31,26,\"lang.chooseLoginBg\"),\" : \"),core.Eb(3),core.Jb(\"disabled\",ctx.stepFormGroup.controls.bodyImage.disabled)(\"selected\",\"../rest/images?image=loginPage\"===ctx.stepFormGroup.controls.bodyImage.value),core.Eb(1),core.Jb(\"disabled\",ctx.stepFormGroup.controls.bodyImage.disabled)(\"selected\",\"assets/bodylogin.jpg\"===ctx.stepFormGroup.controls.bodyImage.value),core.Eb(1),core.sc(\"ngForOf\",ctx.backgroundList),core.Eb(1),core.sc(\"ngIf\",!ctx.stepFormGroup.controls.bodyImage.disabled),core.Eb(3),core.Uc(\"\",core.nc(40,28,\"lang.trafficRecordSummarySheetParameters\"),\" : \"))},directives:[fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.l,form_field.c,form_field.g,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.j,card.a,fesm2015_core.t,common.s,common.t],pipes:[ngx_translate_core.d],styles:[\".backgroundList[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:10px}.selected[_ngcontent-%COMP%]{transition:all .3s;opacity:1!important;border:10px solid #f99830!important}.backgroundItem[_ngcontent-%COMP%]{border:0 solid #f99830;opacity:.5;transition:all .3s;cursor:pointer;height:120px;background-size:cover!important}.disabled[_ngcontent-%COMP%]{cursor:default!important}.backgroundItem[_ngcontent-%COMP%]:not(.disabled):hover{transition:all .3s;opacity:1!important}\"]}),ParametersCustomizationComponent})();const parameters_administration_component_c0=[\"adminMenuTemplate\"];function ParametersAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function ParametersAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function ParametersAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",40),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.id\"),\" \"))}function ParametersAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r17=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r17.id,\" \")}}function ParametersAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",40),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r8=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r8.appService.getViewMode()),core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.description\"),\" \")}}function ParametersAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r18=ctx.$implicit,ctx_r9=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r9.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r18.description,\" \")}}function ParametersAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",40),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.value\"),\" \"))}function ParametersAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r19=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r19.value,\" \")}}function ParametersAdministrationComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function ParametersAdministrationComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf){const _r22=core.ac();core.Zb(0,\"mat-cell\",41),core.Zb(1,\"button\",42),core.hc(\"click\",(function($event){core.Hc(_r22);const element_r20=ctx.$implicit,ctx_r21=core.lc(2);return $event.stopPropagation(),ctx_r21.deleteParameter(element_r20.id)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",43),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function ParametersAdministrationComponent_mat_card_14_mat_header_row_26_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ParametersAdministrationComponent_mat_card_14_mat_row_27_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",44),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/parameters/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function ParametersAdministrationComponent_mat_card_14_ng_template_33_Template(rf,ctx){1&rf&&core.Ub(0,\"app-parameters-customization\")}function ParametersAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",18),core.mc(3,\"translate\"),core.Zb(4,\"div\",19),core.Zb(5,\"div\",20),core.Zb(6,\"mat-form-field\"),core.Ub(7,\"input\",21),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Zb(9,\"div\",20),core.Ub(10,\"mat-paginator\",22,23),core.Yb(),core.Yb(),core.Zb(12,\"mat-table\",24,25),core.Xb(14,26),core.Qc(15,ParametersAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",27),core.Qc(16,ParametersAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",28),core.Wb(),core.Xb(17,29),core.Qc(18,ParametersAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",30),core.Qc(19,ParametersAdministrationComponent_mat_card_14_mat_cell_19_Template,2,3,\"mat-cell\",31),core.Wb(),core.Xb(20,32),core.Qc(21,ParametersAdministrationComponent_mat_card_14_mat_header_cell_21_Template,3,3,\"mat-header-cell\",27),core.Qc(22,ParametersAdministrationComponent_mat_card_14_mat_cell_22_Template,2,1,\"mat-cell\",28),core.Wb(),core.Xb(23,33),core.Qc(24,ParametersAdministrationComponent_mat_card_14_mat_header_cell_24_Template,1,0,\"mat-header-cell\",34),core.Qc(25,ParametersAdministrationComponent_mat_card_14_mat_cell_25_Template,4,3,\"mat-cell\",35),core.Wb(),core.Qc(26,ParametersAdministrationComponent_mat_card_14_mat_header_row_26_Template,1,0,\"mat-header-row\",36),core.Qc(27,ParametersAdministrationComponent_mat_card_14_mat_row_27_Template,2,4,\"mat-row\",37),core.Yb(),core.Zb(28,\"div\",38),core.Sc(29),core.mc(30,\"translate\"),core.Yb(),core.Yb(),core.Zb(31,\"mat-tab\",18),core.mc(32,\"translate\"),core.Qc(33,ParametersAdministrationComponent_mat_card_14_ng_template_33_Template,1,0,\"ng-template\",39),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(2),core.sc(\"label\",core.nc(3,12,\"lang.technicalParameters\")),core.Eb(5),core.tc(\"placeholder\",core.nc(8,14,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.parameters.length,\" \",core.nc(30,16,\"lang.parameters\"),\"\"),core.Eb(2),core.sc(\"label\",core.nc(32,18,\"lang.customization\"))}}let parameters_administration_component_ParametersAdministrationComponent=(()=>{class ParametersAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.parameters={},this.loading=!1,this.displayedColumns=[\"id\",\"description\",\"value\",\"actions\"],this.filterColumns=[\"id\",\"description\",\"value\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.parameters\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/parameters\").subscribe(data=>{this.parameters=data.parameters.filter(item=>-1===[\"homepage_message\",\"loginpage_message\",\"traffic_record_summary_sheet\"].indexOf(item.id)),this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_parameters\",this.parameters,this.sort,this.paginator,this.filterColumns)},0)})}deleteParameter(paramId){confirm(this.translate.instant(\"lang.deleteMsg\"))&&this.http.delete(\"../rest/parameters/\"+paramId).subscribe(data=>{this.parameters=data.parameters.filter(item=>-1===[\"homepage_message\",\"loginpage_message\",\"traffic_record_summary_sheet\"].indexOf(item.id)),this.adminService.setDataSource(\"admin_parameters\",this.parameters,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.parameterDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return ParametersAdministrationComponent.ɵfac=function(t){return new(t||ParametersAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},ParametersAdministrationComponent.ɵcmp=core.Nb({type:ParametersAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(parameters_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/parameters/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"label\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"id\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"description\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"value\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"matTabContent\",\"\"],[\"mat-sort-header\",\"\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ParametersAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ParametersAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,ParametersAdministrationComponent_mat_card_14_Template,34,20,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,tabs.c,tabs.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,tabs.b,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d,parameters_customization_component_ParametersCustomizationComponent],pipes:[ngx_translate_core.d],encapsulation:2}),ParametersAdministrationComponent})();const priorities_administration_component_c0=[\"snav2\"],priorities_administration_component_c1=[\"adminMenuTemplate\"];function PrioritiesAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r7=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",16),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",17),core.Ub(5,\"mat-icon\",18),core.Zb(6,\"p\",19),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Zb(9,\"a\",20),core.hc(\"click\",(function(){return core.Hc(_r7),core.lc(),core.Dc(16).toggle()})),core.Ub(10,\"mat-icon\",21),core.Zb(11,\"p\",19),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Eb(2),core.Tc(core.nc(3,3,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,5,\"lang.add\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(13,7,\"lang.prioritiesOrder\"),\" \"))}function PrioritiesAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",22),core.Ub(1,\"mat-spinner\",23),core.Yb())}function PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.technicalId\"),\" \"))}function PrioritiesAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf){const _r22=core.ac();core.Zb(0,\"mat-cell\",46),core.Zb(1,\"span\",47),core.hc(\"click\",(function($event){return core.Hc(_r22),$event.stopPropagation()})),core.Sc(2),core.Yb(),core.Yb()}if(2&rf){const element_r20=ctx.$implicit;core.Eb(2),core.Uc(\" \",element_r20.id,\" \")}}function PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.label\"),\" \"))}function PrioritiesAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",46),core.Ub(1,\"input\",48),core.Sc(2),core.Yb()),2&rf){const element_r23=ctx.$implicit;core.Eb(1),core.tc(\"value\",element_r23.color),core.Eb(1),core.Uc(\" \",element_r23.label,\" \")}}function PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r14=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r14.appService.getViewMode()),core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.processDelayDay\"),\"\")}}function PrioritiesAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",46),core.Zb(1,\"span\"),core.Sc(2),core.Yb(),core.Yb()),2&rf){const element_r24=ctx.$implicit,ctx_r15=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r15.appService.getViewMode()),core.Eb(2),core.Uc(\" \",element_r24.delays,\" \")}}function PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function PrioritiesAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Zb(0,\"mat-cell\",49),core.Zb(1,\"button\",50),core.hc(\"click\",(function($event){core.Hc(_r27);const element_r25=ctx.$implicit,ctx_r26=core.lc(2);return $event.stopPropagation(),ctx_r26.deletePriority(element_r25.id)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",51),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function PrioritiesAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function PrioritiesAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",52),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/priorities/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function PrioritiesAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",24),core.Zb(1,\"div\",25),core.Zb(2,\"div\",26),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",27),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",26),core.Ub(7,\"mat-paginator\",28,29),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",30,31),core.Xb(11,32),core.Qc(12,PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",33),core.Qc(13,PrioritiesAdministrationComponent_mat_card_14_mat_cell_13_Template,3,1,\"mat-cell\",34),core.Wb(),core.Xb(14,35),core.Qc(15,PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",33),core.Qc(16,PrioritiesAdministrationComponent_mat_card_14_mat_cell_16_Template,3,2,\"mat-cell\",34),core.Wb(),core.Xb(17,36),core.Qc(18,PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",37),core.Qc(19,PrioritiesAdministrationComponent_mat_card_14_mat_cell_19_Template,3,3,\"mat-cell\",38),core.Wb(),core.Xb(20,39),core.Qc(21,PrioritiesAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",40),core.Qc(22,PrioritiesAdministrationComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",41),core.Wb(),core.Qc(23,PrioritiesAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",42),core.Qc(24,PrioritiesAdministrationComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",43),core.Yb(),core.Zb(25,\"div\",44),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.priorities.length,\" \",core.nc(27,12,\"lang.priorities\"),\"\")}}function PrioritiesAdministrationComponent_mat_list_item_22_Template(rf,ctx){if(1&rf){const _r32=core.ac();core.Zb(0,\"mat-list-item\",53),core.hc(\"onDropSuccess\",(function(){return core.Hc(_r32),core.lc().updatePrioritiesOrder()})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",54),core.Zb(3,\"p\",19),core.Sc(4),core.Yb(),core.Yb()}if(2&rf){const priority_r29=ctx.$implicit,i_r30=ctx.index;core.tc(\"title\",core.nc(1,4,\"lang.move\")),core.sc(\"sortableIndex\",i_r30),core.Eb(4),core.Vc(\"\",i_r30+1,\" - \",priority_r29.label,\"\")}}const priorities_administration_component_c2=function(){return[\"boxers-zone\"]};let priorities_administration_component_PrioritiesAdministrationComponent=(()=>{class PrioritiesAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.priorities=[],this.prioritiesOrder=[],this.displayedColumns=[\"id\",\"label\",\"delays\",\"actions\"],this.filterColumns=[\"id\",\"label\",\"delays\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.prioritiesAlt\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/priorities\").subscribe(data=>{this.priorities=data.priorities,this.loading=!1,this.http.get(\"../rest/sortedPriorities\").subscribe(dataPriorities=>{this.prioritiesOrder=dataPriorities.priorities},err=>{this.notify.handleErrors(err)}),setTimeout(()=>{this.adminService.setDataSource(\"admin_priorities\",this.priorities,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.handleErrors(err)})}deletePriority(id){confirm(this.translate.instant(\"lang.deleteMsg\"))&&this.http.delete(\"../rest/priorities/\"+id).subscribe(data=>{this.priorities=data.priorities,this.adminService.setDataSource(\"admin_priorities\",this.priorities,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.priorityDeleted\"))},err=>{this.notify.error(err.error.errors)})}updatePrioritiesOrder(){this.http.put(\"../rest/sortedPriorities\",this.prioritiesOrder).subscribe(data=>{this.prioritiesOrder=data.priorities,this.notify.success(this.translate.instant(\"lang.modificationSaved\"))},err=>{this.notify.error(err.error.errors)})}}return PrioritiesAdministrationComponent.ɵfac=function(t){return new(t||PrioritiesAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},PrioritiesAdministrationComponent.ɵcmp=core.Nb({type:PrioritiesAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(priorities_administration_component_c0,!0),core.Oc(priorities_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:23,vars:18,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[2,\"font-size\",\"15px\",\"padding\",\"5px\"],[\"dnd-sortable-container\",\"\",3,\"dropZones\",\"sortableData\"],[\"disableRipple\",\"true\",\"dnd-sortable\",\"\",3,\"title\",\"sortableIndex\",\"onDropSuccess\",4,\"ngFor\",\"ngForOf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/priorities/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-list-ol\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"id\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"label\"],[\"matColumnDef\",\"delays\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[3,\"click\"],[\"type\",\"color\",\"disabled\",\"\",2,\"background\",\"none\",\"border\",\"none\",\"width\",\"45px\",3,\"value\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"],[\"disableRipple\",\"true\",\"dnd-sortable\",\"\",3,\"title\",\"sortableIndex\",\"onDropSuccess\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-inbox\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,PrioritiesAdministrationComponent_ng_template_1_Template,14,9,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,PrioritiesAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,PrioritiesAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"p\",13),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Zb(20,\"mat-list\"),core.Zb(21,\"span\",14),core.Qc(22,PrioritiesAdministrationComponent_mat_list_item_22_Template,5,6,\"mat-list-item\",15),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1)),core.Eb(3),core.Uc(\" \",core.nc(19,15,\"lang.prioritiesHelpDesc\"),\" \"),core.Eb(3),core.sc(\"dropZones\",core.yc(17,priorities_administration_component_c2))(\"sortableData\",ctx.prioritiesOrder),core.Eb(1),core.sc(\"ngForOf\",ctx.prioritiesOrder))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,ng2_dnd.f,common.s,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d,ng2_dnd.e],pipes:[ngx_translate_core.d],encapsulation:2}),PrioritiesAdministrationComponent})();function PriorityAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function PriorityAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r4=core.ac();core.Zb(0,\"mat-card\",12),core.Zb(1,\"form\",13,14),core.hc(\"ngSubmit\",(function(){return core.Hc(_r4),core.lc().onSubmit()})),core.Zb(3,\"div\",15),core.Zb(4,\"div\",16),core.Zb(5,\"div\",17),core.Zb(6,\"mat-form-field\"),core.Zb(7,\"input\",18),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().priority.color=$event})),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(9,\"div\",19),core.Zb(10,\"mat-form-field\"),core.Zb(11,\"input\",20),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().priority.label=$event})),core.mc(12,\"translate\"),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(14,\"div\",15),core.Zb(15,\"div\",21),core.Zb(16,\"mat-form-field\"),core.Zb(17,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().priority.delays=$event})),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(19,\"div\",15),core.Zb(20,\"div\",23),core.Zb(21,\"button\",24),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r2=core.Dc(2),ctx_r1=core.lc();core.Eb(7),core.tc(\"matTooltip\",core.nc(8,9,\"lang.chooseColor\")),core.sc(\"ngModel\",ctx_r1.priority.color),core.Eb(4),core.tc(\"title\",core.nc(12,11,\"lang.label\")),core.tc(\"placeholder\",core.nc(13,13,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.priority.label),core.Eb(6),core.tc(\"placeholder\",core.nc(18,15,\"lang.processDelayDay\")),core.sc(\"ngModel\",ctx_r1.priority.delays),core.Eb(4),core.sc(\"disabled\",!_r2.form.valid),core.Eb(1),core.Tc(core.nc(23,17,\"lang.save\"))}}let priority_administration_component_PriorityAdministrationComponent=(()=>{class PriorityAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!1,this.priority={color:\"#135f7f\",delays:\"0\"}}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.priorityCreation\")),this.creationMode=!0,this.loading=!1):(this.creationMode=!1,this.id=params.id,this.http.get(\"../rest/priorities/\"+this.id).subscribe(data=>{this.priority=data.priority,this.headerService.setHeader(this.translate.instant(\"lang.priorityModification\"),this.priority.label),this.loading=!1},err=>{this.notify.handleErrors(err)}))})}onSubmit(){this.creationMode?this.http.post(\"../rest/priorities\",this.priority).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.priorityAdded\")),this.router.navigate([\"/administration/priorities\"])},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/priorities/\"+this.id,this.priority).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.priorityUpdated\")),this.router.navigate([\"/administration/priorities\"])},err=>{this.notify.error(err.error.errors)})}}return PriorityAdministrationComponent.ɵfac=function(t){return new(t||PriorityAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},PriorityAdministrationComponent.ɵcmp=core.Nb({type:PriorityAdministrationComponent,selectors:[[\"ng-component\"]],decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"priorityForm\",\"ngForm\"],[1,\"form-group\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-1\",\"col-xs-2\"],[\"matInput\",\"\",\"type\",\"color\",\"name\",\"color\",\"required\",\"\",3,\"matTooltip\",\"ngModel\",\"ngModelChange\"],[1,\"col-md-11\",\"col-xs-10\"],[\"matInput\",\"\",\"type\",\"text\",\"name\",\"label\",\"maxlength\",\"128\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-md-4\"],[\"matInput\",\"\",\"type\",\"number\",\"name\",\"delays\",\"required\",\"\",\"pattern\",\"^\\\\d+$\",3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,PriorityAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,PriorityAdministrationComponent_mat_card_12_Template,24,19,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.E,tooltip.b,fesm2015_forms.t,fesm2015_forms.w,fesm2015_forms.o,fesm2015_forms.z,fesm2015_forms.A,fesm2015_button.b],pipes:[ngx_translate_core.d],encapsulation:2}),PriorityAdministrationComponent})();const notifications_administration_component_c0=[\"snav2\"],notifications_administration_component_c1=[\"adminMenuTemplate\"];function NotificationsAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",14),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",35),core.Ub(5,\"mat-icon\",36),core.Zb(6,\"p\",37),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Zb(9,\"a\",38),core.hc(\"click\",(function(){core.Hc(_r15);const ctx_r14=core.lc(),_r4=core.Dc(16);return ctx_r14.loadCron(),_r4.toggle()}))(\"next\",(function(){core.Hc(_r15);const ctx_r16=core.lc();return core.Dc(16).open(),ctx_r16.paramCron()})),core.Ub(10,\"mat-icon\",39),core.Zb(11,\"p\",37),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Eb(2),core.Tc(core.nc(3,3,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,5,\"lang.add\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(13,7,\"lang.toSchedule\"),\" \"))}function NotificationsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",40),core.Ub(1,\"mat-spinner\",41),core.Yb())}function NotificationsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",64),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r19=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r19.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.id\"))}}function NotificationsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",65),core.Sc(1),core.Yb()),2&rf){const element_r29=ctx.$implicit,ctx_r20=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r20.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r29.notification_id,\" \")}}function NotificationsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",66),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.description\"),\" \"))}function NotificationsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",67),core.Sc(1),core.Yb()),2&rf){const element_r30=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r30.description,\" \")}}function NotificationsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",64),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r23=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r23.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.status\"))}}function NotificationsAdministrationComponent_mat_card_14_mat_cell_19_span_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.active\")))}function NotificationsAdministrationComponent_mat_card_14_mat_cell_19_span_3_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\",72),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.suspended\")))}function NotificationsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",68),core.mc(1,\"translate\"),core.Qc(2,NotificationsAdministrationComponent_mat_card_14_mat_cell_19_span_2_Template,3,3,\"span\",69),core.Qc(3,NotificationsAdministrationComponent_mat_card_14_mat_cell_19_span_3_Template,3,3,\"span\",70),core.Yb()),2&rf){const element_r31=ctx.$implicit,ctx_r24=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r24.appService.getViewMode()),core.tc(\"matTooltip\",core.nc(1,5,\"lang.view\")),core.Eb(2),core.sc(\"ngIf\",\"Y\"==element_r31.is_enabled),core.Eb(1),core.sc(\"ngIf\",\"N\"==element_r31.is_enabled)}}function NotificationsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\",65)}function NotificationsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r36=core.ac();core.Zb(0,\"mat-cell\",73),core.Zb(1,\"button\",74),core.hc(\"click\",(function($event){core.Hc(_r36);const element_r34=ctx.$implicit,ctx_r35=core.lc(2);return $event.stopPropagation(),ctx_r35.deleteNotification(element_r34)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",75),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function NotificationsAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function NotificationsAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){if(1&rf&&(core.Ub(0,\"mat-row\",76),core.mc(1,\"translate\")),2&rf){const row_r37=ctx.$implicit;core.uc(\"routerLink\",\"/administration/notifications/\",row_r37.notification_sid,\"\"),core.tc(\"matTooltip\",core.nc(1,3,\"lang.view\")),core.sc(\"joyrideStep\",row_r37.notification_id+\"_Tour\")}}function NotificationsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",42),core.Zb(1,\"div\",43),core.Zb(2,\"div\",44),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",45),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",44),core.Ub(7,\"mat-paginator\",46,47),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",48,49),core.Xb(11,50),core.Qc(12,NotificationsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,5,\"mat-header-cell\",51),core.Qc(13,NotificationsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,3,\"mat-cell\",52),core.Wb(),core.Xb(14,53),core.Qc(15,NotificationsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",54),core.Qc(16,NotificationsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",55),core.Wb(),core.Xb(17,56),core.Qc(18,NotificationsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",51),core.Qc(19,NotificationsAdministrationComponent_mat_card_14_mat_cell_19_Template,4,7,\"mat-cell\",57),core.Wb(),core.Xb(20,58),core.Qc(21,NotificationsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",59),core.Qc(22,NotificationsAdministrationComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",60),core.Wb(),core.Qc(23,NotificationsAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",61),core.Qc(24,NotificationsAdministrationComponent_mat_card_14_mat_row_24_Template,2,5,\"mat-row\",62),core.Yb(),core.Zb(25,\"div\",63),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.notifications.length,\" \",core.nc(27,12,\"lang.notifications\"),\"\")}}function NotificationsAdministrationComponent_mat_option_29_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",77),core.Sc(1),core.Yb()),2&rf){const hour_r38=ctx.$implicit;core.sc(\"value\",hour_r38.value),core.Eb(1),core.Uc(\" \",hour_r38.label,\" \")}}function NotificationsAdministrationComponent_mat_option_35_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",77),core.Sc(1),core.Yb()),2&rf){const minute_r39=ctx.$implicit;core.sc(\"value\",minute_r39.value),core.Eb(1),core.Uc(\" \",minute_r39.label,\" \")}}function NotificationsAdministrationComponent_mat_option_41_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",77),core.Sc(1),core.Yb()),2&rf){const day_r40=ctx.$implicit;core.sc(\"value\",day_r40.value),core.Eb(1),core.Uc(\" \",day_r40.label,\" \")}}function NotificationsAdministrationComponent_mat_option_48_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",77),core.Sc(1),core.Yb()),2&rf){const month_r41=ctx.$implicit;core.sc(\"value\",month_r41.value),core.Eb(1),core.Uc(\" \",month_r41.label,\" \")}}function NotificationsAdministrationComponent_mat_option_54_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",77),core.Sc(1),core.Yb()),2&rf){const dayM_r42=ctx.$implicit;core.sc(\"value\",dayM_r42.value),core.Eb(1),core.Uc(\" \",dayM_r42.label,\" \")}}function NotificationsAdministrationComponent_mat_option_60_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",77),core.Sc(1),core.Yb()),2&rf){const notif_r43=ctx.$implicit;core.sc(\"value\",notif_r43.path),core.Eb(1),core.Uc(\" \",notif_r43.description,\" \")}}function NotificationsAdministrationComponent_span_75_mat_chip_1_Template(rf,ctx){if(1&rf){const _r49=core.ac();core.Zb(0,\"mat-chip\",79),core.hc(\"removed\",(function(){core.Hc(_r49);const i_r45=core.lc().index;return core.lc().deleteCron(i_r45)})),core.Sc(1),core.Ub(2,\"span\",80),core.Zb(3,\"b\"),core.Sc(4),core.Yb(),core.Ub(5,\"mat-icon\",81),core.mc(6,\"translate\"),core.Yb()}if(2&rf){const notif_r44=core.lc().$implicit;core.Eb(1),core.Uc(\" \",notif_r44.description,\" \"),core.Eb(3),core.Yc(\"\",notif_r44.m,\"  \",notif_r44.h,\"  \",notif_r44.dom,\"  \",notif_r44.mon,\"  \",notif_r44.dow,\"\"),core.Eb(1),core.tc(\"matTooltip\",core.nc(6,7,\"lang.delete\"))}}function NotificationsAdministrationComponent_span_75_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Qc(1,NotificationsAdministrationComponent_span_75_mat_chip_1_Template,7,9,\"mat-chip\",78),core.Yb()),2&rf){const notif_r44=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"normal\"==notif_r44.state)}}let notifications_administration_component_NotificationsAdministrationComponent=(()=>{class NotificationsAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.notifications=[],this.loading=!1,this.months=[],this.dom=[],this.dow=[],this.newCron={m:\"\",h:\"\",dom:\"\",mon:\"\",cmd:\"\",state:\"normal\"},this.displayedColumns=[\"notification_id\",\"description\",\"is_enabled\",\"notifications\"],this.filterColumns=[\"notification_id\",\"description\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.notifications\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/notifications\").subscribe(data=>{this.notifications=data.notifications,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_notif\",this.notifications,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.error(err.error.errors)})}deleteNotification(notification){confirm(this.translate.instant(\"lang.deleteMsg\"))&&this.http.delete(\"../rest/notifications/\"+notification.notification_sid).subscribe(data=>{this.notifications=data.notifications,setTimeout(()=>{this.adminService.setDataSource(\"admin_notif\",this.notifications,this.sort,this.paginator,this.filterColumns)},0),this.sidenavRight.close(),this.notify.success(this.translate.instant(\"lang.notificationDeleted\"))},err=>{this.notify.error(err.error.errors)})}loadCron(){return new Promise(resolve=>{this.hours=[{label:this.translate.instant(\"lang.eachHour\"),value:\"*\"}],this.minutes=[{label:this.translate.instant(\"lang.eachMinute\"),value:\"*\"}],this.months=[{label:this.translate.instant(\"lang.eachMonth\"),value:\"*\"},{label:this.translate.instant(\"lang.january\"),value:\"1\"},{label:this.translate.instant(\"lang.february\"),value:\"2\"},{label:this.translate.instant(\"lang.march\"),value:\"3\"},{label:this.translate.instant(\"lang.april\"),value:\"4\"},{label:this.translate.instant(\"lang.may\"),value:\"5\"},{label:this.translate.instant(\"lang.june\"),value:\"6\"},{label:this.translate.instant(\"lang.july\"),value:\"7\"},{label:this.translate.instant(\"lang.august\"),value:\"8\"},{label:this.translate.instant(\"lang.september\"),value:\"9\"},{label:this.translate.instant(\"lang.october\"),value:\"10\"},{label:this.translate.instant(\"lang.november\"),value:\"11\"},{label:this.translate.instant(\"lang.december\"),value:\"12\"}],this.dom=[{label:this.translate.instant(\"lang.notUsed\"),value:\"*\"}],this.dow=[{label:this.translate.instant(\"lang.eachDay\"),value:\"*\"},{label:this.translate.instant(\"lang.monday\"),value:\"1\"},{label:this.translate.instant(\"lang.tuesday\"),value:\"2\"},{label:this.translate.instant(\"lang.wednesday\"),value:\"3\"},{label:this.translate.instant(\"lang.thursday\"),value:\"4\"},{label:this.translate.instant(\"lang.friday\"),value:\"5\"},{label:this.translate.instant(\"lang.saturday\"),value:\"6\"},{label:this.translate.instant(\"lang.sunday\"),value:\"7\"}],this.newCron={m:\"\",h:\"\",dom:\"\",mon:\"\",cmd:\"\",state:\"normal\"};for(let it=0;it<=23;it++)this.hours.push({label:it,value:String(it)});for(let it=0;it<=59;it++)this.minutes.push({label:it,value:String(it)});for(let it=1;it<=31;it++)this.dom.push({label:it,value:String(it)});this.http.get(\"../rest/notifications/schedule\").pipe(Object(operators_tap.tap)(data=>{this.crontab=data.crontab,this.authorizedNotification=data.authorizedNotification}),Object(finalize.a)(()=>resolve(!0)),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}saveCron(){const description=this.newCron.cmd.split(\"/\");this.newCron.description=description[description.length-1],this.crontab.push(this.newCron),this.http.post(\"../rest/notifications/schedule\",this.crontab).subscribe(data=>{this.newCron={m:\"\",h:\"\",dom:\"\",mon:\"\",cmd:\"\",description:\"\",state:\"normal\"},this.notify.success(this.translate.instant(\"lang.notificationScheduleUpdated\"))},err=>{this.crontab.pop(),this.notify.error(err.error.errors)})}deleteCron(i){this.crontab[i].state=\"deleted\",this.http.post(\"../rest/notifications/schedule\",this.crontab).subscribe(data=>{this.crontab.splice(i,1),this.notify.success(this.translate.instant(\"lang.notificationScheduleUpdated\"))},err=>{this.notify.error(err.error.errors)})}onNext(){return console.log(\"next\"),this.sidenavRight.open(),!1}paramCron(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){yield this.loadCron();const notifBasket=this.authorizedNotification.filter(notif=>notif.path.indexOf(\"_BASKETS.sh\")>-1)[0];this.newCron={m:\"0\",h:\"8\",dom:\"*\",dow:\"*\",mon:\"*\",cmd:notifBasket.path,description:notifBasket.description,state:\"normal\"}}))}}return NotificationsAdministrationComponent.ɵfac=function(t){return new(t||NotificationsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},NotificationsAdministrationComponent.ɵcmp=core.Nb({type:NotificationsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(notifications_administration_component_c0,!0),core.Oc(notifications_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:76,vars:73,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",3,\"mode\",\"fixedInViewport\",\"opened\",\"next\"],[\"snav2\",\"\"],[\"joyrideStep\",\"notifTour3\",3,\"next\"],[\"mat-subheader\",\"\"],[1,\"form-horizontal\",2,\"overflow\",\"hidden\"],[\"notifForm\",\"ngForm\"],[1,\"form-group\",2,\"padding-left\",\"15px\",\"padding-right\",\"15px\"],[1,\"col-sm-4\"],[\"name\",\"hour\",\"id\",\"hour\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"name\",\"minute\",\"id\",\"minute\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"name\",\"day\",\"id\",\"day\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-sm-6\"],[\"name\",\"month\",\"id\",\"month\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"name\",\"dayM\",\"id\",\"dayM\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-sm-12\"],[\"name\",\"script\",\"id\",\"script\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"col-sm-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"role\",\"alert\",1,\"alert\",\"alert-info\",2,\"margin\",\"15px\"],[\"joyrideStep\",\"notifTour4\"],[1,\"mat-chip-list-stacked\"],[\"chipList\",\"\"],[4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/notifications/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",\"joyrideStep\",\"notifTour\",3,\"click\",\"next\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-clock\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"notification_id\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"description\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"is_enabled\"],[\"style\",\"flex:1;\",3,\"matTooltip\",\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"notifications\"],[\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;flex:1;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",\"joyrideStep\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\",2,\"flex\",\"1\"],[2,\"flex\",\"1\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[2,\"flex\",\"1\",3,\"matTooltip\"],[\"color\",\"primary\",\"class\",\"label\",4,\"ngIf\"],[\"color\",\"warn\",\"class\",\"label\",4,\"ngIf\"],[\"color\",\"primary\",1,\"label\"],[\"color\",\"warn\",1,\"label\"],[2,\"justify-content\",\"flex-end\",\"flex\",\"1\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\",\"joyrideStep\"],[3,\"value\"],[\"color\",\"primary\",\"style\",\"margin:5px;border-radius:0px;display:flex;\",\"selectable\",\"false\",\"removable\",\"true\",3,\"removed\",4,\"ngIf\"],[\"color\",\"primary\",\"selectable\",\"false\",\"removable\",\"true\",2,\"margin\",\"5px\",\"border-radius\",\"0px\",\"display\",\"flex\",3,\"removed\"],[2,\"flex\",\"1 1 auto\"],[\"matChipRemove\",\"\",\"color\",\"warn\",1,\"fa\",\"fa-times\",3,\"matTooltip\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,NotificationsAdministrationComponent_ng_template_1_Template,14,9,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,NotificationsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,NotificationsAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.hc(\"next\",(function(){return ctx.paramCron()})),core.Zb(17,\"mat-list\",13),core.hc(\"next\",(function(){return ctx.saveCron()})),core.Zb(18,\"h3\",14),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"form\",15,16),core.Zb(23,\"div\",17),core.Zb(24,\"div\",18),core.Zb(25,\"mat-form-field\"),core.Zb(26,\"mat-select\",19),core.hc(\"ngModelChange\",(function($event){return ctx.newCron.h=$event})),core.mc(27,\"translate\"),core.mc(28,\"translate\"),core.Qc(29,NotificationsAdministrationComponent_mat_option_29_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Zb(30,\"div\",18),core.Zb(31,\"mat-form-field\"),core.Zb(32,\"mat-select\",21),core.hc(\"ngModelChange\",(function($event){return ctx.newCron.m=$event})),core.mc(33,\"translate\"),core.mc(34,\"translate\"),core.Qc(35,NotificationsAdministrationComponent_mat_option_35_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Zb(36,\"div\",18),core.Zb(37,\"mat-form-field\"),core.Zb(38,\"mat-select\",22),core.hc(\"ngModelChange\",(function($event){return ctx.newCron.dow=$event})),core.mc(39,\"translate\"),core.mc(40,\"translate\"),core.Qc(41,NotificationsAdministrationComponent_mat_option_41_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(42,\"div\",17),core.Zb(43,\"div\",23),core.Zb(44,\"mat-form-field\"),core.Zb(45,\"mat-select\",24),core.hc(\"ngModelChange\",(function($event){return ctx.newCron.mon=$event})),core.mc(46,\"translate\"),core.mc(47,\"translate\"),core.Qc(48,NotificationsAdministrationComponent_mat_option_48_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Zb(49,\"div\",23),core.Zb(50,\"mat-form-field\"),core.Zb(51,\"mat-select\",25),core.hc(\"ngModelChange\",(function($event){return ctx.newCron.dom=$event})),core.mc(52,\"translate\"),core.mc(53,\"translate\"),core.Qc(54,NotificationsAdministrationComponent_mat_option_54_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Zb(55,\"div\",26),core.Zb(56,\"mat-form-field\"),core.Zb(57,\"mat-select\",27),core.hc(\"ngModelChange\",(function($event){return ctx.newCron.cmd=$event})),core.mc(58,\"translate\"),core.mc(59,\"translate\"),core.Qc(60,NotificationsAdministrationComponent_mat_option_60_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Zb(61,\"div\",28),core.Zb(62,\"button\",29),core.hc(\"click\",(function(){return ctx.saveCron()})),core.Sc(63),core.mc(64,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(65,\"mat-divider\"),core.Zb(66,\"div\",30),core.Sc(67),core.mc(68,\"translate\"),core.Yb(),core.Zb(69,\"mat-list\",31),core.Zb(70,\"h3\",14),core.Sc(71),core.mc(72,\"translate\"),core.Yb(),core.Zb(73,\"mat-chip-list\",32,33),core.Qc(75,NotificationsAdministrationComponent_span_75_Template,2,1,\"span\",34),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r5=core.Dc(22);core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1)),core.Eb(4),core.Tc(core.nc(20,41,\"lang.notificationSchedule\")),core.Eb(7),core.tc(\"title\",core.nc(27,43,\"lang.hour\")),core.tc(\"placeholder\",core.nc(28,45,\"lang.hour\")),core.sc(\"ngModel\",ctx.newCron.h),core.Eb(3),core.sc(\"ngForOf\",ctx.hours),core.Eb(3),core.tc(\"title\",core.nc(33,47,\"lang.minute\")),core.tc(\"placeholder\",core.nc(34,49,\"lang.minute\")),core.sc(\"ngModel\",ctx.newCron.m),core.Eb(3),core.sc(\"ngForOf\",ctx.minutes),core.Eb(3),core.tc(\"title\",core.nc(39,51,\"lang.day\")),core.tc(\"placeholder\",core.nc(40,53,\"lang.day\")),core.sc(\"ngModel\",ctx.newCron.dow),core.Eb(3),core.sc(\"ngForOf\",ctx.dow),core.Eb(4),core.tc(\"title\",core.nc(46,55,\"lang.month\")),core.tc(\"placeholder\",core.nc(47,57,\"lang.month\")),core.sc(\"ngModel\",ctx.newCron.mon),core.Eb(3),core.sc(\"ngForOf\",ctx.months),core.Eb(3),core.tc(\"title\",core.nc(52,59,\"lang.dayOfMonth\")),core.tc(\"placeholder\",core.nc(53,61,\"lang.dayOfMonth\")),core.sc(\"ngModel\",ctx.newCron.dom),core.Eb(3),core.sc(\"ngForOf\",ctx.dom),core.Eb(3),core.tc(\"title\",core.nc(58,63,\"lang.script\")),core.tc(\"placeholder\",core.nc(59,65,\"lang.script\")),core.sc(\"ngModel\",ctx.newCron.cmd),core.Eb(3),core.sc(\"ngForOf\",ctx.authorizedNotification),core.Eb(2),core.sc(\"disabled\",!_r5.form.valid),core.Eb(1),core.Tc(core.nc(64,67,\"lang.save\")),core.Eb(4),core.Uc(\" \",core.nc(68,69,\"lang.NotificationScheduleInfo\"),\" \"),core.Eb(4),core.Tc(core.nc(72,71,\"lang.activeCron\")),core.Eb(4),core.sc(\"ngForOf\",ctx.crontab)}},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,ngx_joyride.a,list.g,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,fesm2015_select.a,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_button.b,divider.a,chips.d,list.h,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,tooltip.b,table.j,table.l,fesm2015_router.d,fesm2015_core.o,chips.a,chips.e],pipes:[ngx_translate_core.d],encapsulation:2}),NotificationsAdministrationComponent})();const notification_administration_component_c0=[\"adminMenuTemplate\"];function NotificationAdministrationComponent_ng_template_1_h3_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"h3\",14),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.actions\")))}function NotificationAdministrationComponent_ng_template_1_a_2_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"a\",15),core.hc(\"click\",(function(){return core.Hc(_r9),core.lc(2).createScript()}))(\"next\",(function(){return core.Hc(_r9),core.lc(2).createScript()})),core.Ub(1,\"mat-icon\",16),core.Zb(2,\"p\",17),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.createScriptNotification\"),\" \"))}function NotificationAdministrationComponent_ng_template_1_a_3_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"a\",18),core.hc(\"click\",(function(){return core.Hc(_r12),core.lc(2).toggleNotif()})),core.Ub(1,\"mat-icon\",19),core.Zb(2,\"p\",17),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.activateNotification\"),\" \"))}function NotificationAdministrationComponent_ng_template_1_a_4_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"a\",18),core.hc(\"click\",(function(){return core.Hc(_r14),core.lc(2).toggleNotif()})),core.Ub(1,\"mat-icon\",20),core.Zb(2,\"p\",17),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb()}2&rf&&(core.Eb(3),core.Uc(\" \",core.nc(4,1,\"lang.suspendNotification\"),\" \"))}function NotificationAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,NotificationAdministrationComponent_ng_template_1_h3_1_Template,3,3,\"h3\",11),core.Qc(2,NotificationAdministrationComponent_ng_template_1_a_2_Template,5,3,\"a\",12),core.Qc(3,NotificationAdministrationComponent_ng_template_1_a_3_Template,5,3,\"a\",13),core.Qc(4,NotificationAdministrationComponent_ng_template_1_a_4_Template,5,3,\"a\",13),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode&&!ctx_r1.loading&&!ctx_r1.notification.scriptcreated),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode&&!ctx_r1.loading&&\"N\"==ctx_r1.notification.is_enabled),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.creationMode&&!ctx_r1.loading&&\"Y\"==ctx_r1.notification.is_enabled)}}function NotificationAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",21),core.Ub(1,\"mat-spinner\",22),core.Yb())}function NotificationAdministrationComponent_mat_card_14_div_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",46),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.suspended\"),\"\"))}function NotificationAdministrationComponent_mat_card_14_ng_container_24_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Ub(1,\"mat-icon\",49),core.Sc(2),core.Yb()),2&rf){const event_r28=core.lc().$implicit;core.sc(\"value\",event_r28.id),core.Eb(2),core.Uc(\" \",event_r28.label_action,\" \")}}function NotificationAdministrationComponent_mat_card_14_ng_container_24_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,NotificationAdministrationComponent_mat_card_14_ng_container_24_mat_option_1_Template,3,2,\"mat-option\",47),core.Wb()),2&rf){const event_r28=ctx.$implicit,ctx_r17=core.lc(2);core.Eb(1),core.sc(\"ngIf\",!ctx_r17.isNumber(event_r28.id))}}function NotificationAdministrationComponent_mat_card_14_ng_container_27_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Ub(1,\"mat-icon\",50),core.Sc(2),core.Yb()),2&rf){const event_r31=core.lc().$implicit;core.sc(\"value\",event_r31.id),core.Eb(2),core.Uc(\" \",event_r31.label_action,\" \")}}function NotificationAdministrationComponent_mat_card_14_ng_container_27_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,NotificationAdministrationComponent_mat_card_14_ng_container_27_mat_option_1_Template,3,2,\"mat-option\",47),core.Wb()),2&rf){const event_r31=ctx.$implicit,ctx_r18=core.lc(2);core.Eb(1),core.sc(\"ngIf\",ctx_r18.isNumber(event_r31.id))}}function NotificationAdministrationComponent_mat_card_14_mat_option_34_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const template_r34=ctx.$implicit;core.sc(\"value\",template_r34.template_id),core.Eb(1),core.Uc(\" \",template_r34.template_label,\" \")}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_52_ng_container_2_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const diffusionType_r36=core.lc().$implicit;core.sc(\"value\",diffusionType_r36.id),core.Eb(1),core.Tc(diffusionType_r36.label)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_52_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,NotificationAdministrationComponent_mat_card_14_mat_optgroup_52_ng_container_2_mat_option_1_Template,2,2,\"mat-option\",47),core.Wb()),2&rf){const diffusionType_r36=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"dest_user\"==diffusionType_r36.id)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_52_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-optgroup\",32),core.mc(1,\"translate\"),core.Qc(2,NotificationAdministrationComponent_mat_card_14_mat_optgroup_52_ng_container_2_Template,2,1,\"ng-container\",33),core.Yb()),2&rf){const ctx_r20=core.lc(2);core.uc(\"label\",\"\",core.nc(1,2,\"lang.memberUserDest\"),\" :\"),core.Eb(2),core.sc(\"ngForOf\",ctx_r20.notification.data.diffusionType)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_53_ng_container_2_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const diffusionType_r40=core.lc().$implicit;core.sc(\"value\",diffusionType_r40.id),core.Eb(1),core.Tc(diffusionType_r40.label)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_53_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,NotificationAdministrationComponent_mat_card_14_mat_optgroup_53_ng_container_2_mat_option_1_Template,2,2,\"mat-option\",47),core.Wb()),2&rf){const diffusionType_r40=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"copy_list\"==diffusionType_r40.id)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_53_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-optgroup\",32),core.mc(1,\"translate\"),core.Qc(2,NotificationAdministrationComponent_mat_card_14_mat_optgroup_53_ng_container_2_Template,2,1,\"ng-container\",33),core.Yb()),2&rf){const ctx_r21=core.lc(2);core.uc(\"label\",\"\",core.nc(1,2,\"lang.memberUsersCopy\"),\" :\"),core.Eb(2),core.sc(\"ngForOf\",ctx_r21.notification.data.diffusionType)}}function NotificationAdministrationComponent_mat_card_14_ng_container_56_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const diffusionType_r43=core.lc().$implicit;core.sc(\"value\",diffusionType_r43.id),core.Eb(1),core.Tc(diffusionType_r43.label)}}function NotificationAdministrationComponent_mat_card_14_ng_container_56_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,NotificationAdministrationComponent_mat_card_14_ng_container_56_mat_option_1_Template,2,2,\"mat-option\",47),core.Wb()),2&rf){const diffusionType_r43=ctx.$implicit,ctx_r22=core.lc(2);core.Eb(1),core.sc(\"ngIf\",\"group\"==diffusionType_r43.id||\"entity\"==diffusionType_r43.id&&\"baskets\"!=ctx_r22.notification.event_id||\"user\"==diffusionType_r43.id&&\"baskets\"!=ctx_r22.notification.event_id)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_57_ng_container_2_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const diffusionType_r47=core.lc().$implicit;core.sc(\"value\",diffusionType_r47.id),core.Eb(1),core.Tc(diffusionType_r47.label)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_57_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,NotificationAdministrationComponent_mat_card_14_mat_optgroup_57_ng_container_2_mat_option_1_Template,2,2,\"mat-option\",47),core.Wb()),2&rf){const diffusionType_r47=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"group\"!=diffusionType_r47.id&&\"entity\"!=diffusionType_r47.id&&\"user\"!=diffusionType_r47.id&&\"copy_list\"!=diffusionType_r47.id&&\"group\"!=diffusionType_r47.id&&\"dest_user\"!=diffusionType_r47.id)}}function NotificationAdministrationComponent_mat_card_14_mat_optgroup_57_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-optgroup\",32),core.mc(1,\"translate\"),core.Qc(2,NotificationAdministrationComponent_mat_card_14_mat_optgroup_57_ng_container_2_Template,2,1,\"ng-container\",33),core.Yb()),2&rf){const ctx_r23=core.lc(2);core.uc(\"label\",\"\",core.nc(1,2,\"lang.others\"),\" :\"),core.Eb(2),core.sc(\"ngForOf\",ctx_r23.notification.data.diffusionType)}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_59_mat_option_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const group_r51=ctx.$implicit;core.sc(\"value\",group_r51.group_id),core.Eb(1),core.Uc(\" \",group_r51.group_desc,\" \")}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_59_Template(rf,ctx){if(1&rf){const _r53=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-select\",51),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r53),core.lc(2).notification.diffusion_properties=$event})),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.Qc(4,NotificationAdministrationComponent_mat_card_14_mat_form_field_59_mat_option_4_Template,2,2,\"mat-option\",36),core.Yb(),core.Yb()}if(2&rf){const ctx_r24=core.lc(2);core.Eb(1),core.tc(\"title\",core.nc(2,4,\"lang.memberDiffTypeUsers\")),core.tc(\"placeholder\",core.nc(3,6,\"lang.memberDiffTypeUsers\")),core.sc(\"ngModel\",ctx_r24.notification.diffusion_properties),core.Eb(3),core.sc(\"ngForOf\",ctx_r24.notification.data.groups)}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_60_mat_option_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const user_r55=ctx.$implicit;core.sc(\"value\",user_r55.id),core.Eb(1),core.Uc(\" \",user_r55.label,\" \")}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_60_Template(rf,ctx){if(1&rf){const _r57=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-select\",51),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r57),core.lc(2).notification.diffusion_properties=$event})),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.Qc(4,NotificationAdministrationComponent_mat_card_14_mat_form_field_60_mat_option_4_Template,2,2,\"mat-option\",36),core.Yb(),core.Yb()}if(2&rf){const ctx_r25=core.lc(2);core.Eb(1),core.tc(\"title\",core.nc(2,4,\"lang.memberDiffTypeUsers\")),core.tc(\"placeholder\",core.nc(3,6,\"lang.memberDiffTypeUsers\")),core.sc(\"ngModel\",ctx_r25.notification.diffusion_properties),core.Eb(3),core.sc(\"ngForOf\",ctx_r25.notification.data.users)}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_61_mat_option_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const entity_r59=ctx.$implicit;core.sc(\"value\",entity_r59.entity_id),core.Eb(1),core.Uc(\" \",entity_r59.entity_label,\" \")}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_61_Template(rf,ctx){if(1&rf){const _r61=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-select\",51),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).notification.diffusion_properties=$event})),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.Qc(4,NotificationAdministrationComponent_mat_card_14_mat_form_field_61_mat_option_4_Template,2,2,\"mat-option\",36),core.Yb(),core.Yb()}if(2&rf){const ctx_r26=core.lc(2);core.Eb(1),core.tc(\"title\",core.nc(2,4,\"lang.memberDiffTypeUsers\")),core.tc(\"placeholder\",core.nc(3,6,\"lang.memberDiffTypeUsers\")),core.sc(\"ngModel\",ctx_r26.notification.diffusion_properties),core.Eb(3),core.sc(\"ngForOf\",ctx_r26.notification.data.entities)}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_62_mat_option_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",48),core.Sc(1),core.Yb()),2&rf){const status_r63=ctx.$implicit;core.sc(\"value\",status_r63.id),core.Eb(1),core.Uc(\" \",status_r63.label_status,\" \")}}function NotificationAdministrationComponent_mat_card_14_mat_form_field_62_Template(rf,ctx){if(1&rf){const _r65=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-select\",52),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r65),core.lc(2).notification.diffusion_properties=$event})),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.mc(4,\"translate\"),core.Qc(5,NotificationAdministrationComponent_mat_card_14_mat_form_field_62_mat_option_5_Template,2,2,\"mat-option\",36),core.Yb(),core.Yb()}if(2&rf){const ctx_r27=core.lc(2);core.Eb(1),core.uc(\"title\",\"\",core.nc(2,5,\"lang.selectedDocumentStatus\"),\" (optionnel)\"),core.vc(\"placeholder\",\"\",core.nc(3,7,\"lang.selectedDocumentStatus\"),\" (\",core.nc(4,9,\"lang.optional\"),\")\"),core.sc(\"ngModel\",ctx_r27.notification.diffusion_properties),core.Eb(4),core.sc(\"ngForOf\",ctx_r27.notification.data.status)}}function NotificationAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r67=core.ac();core.Zb(0,\"mat-card\",23),core.Qc(1,NotificationAdministrationComponent_mat_card_14_div_1_Template,3,3,\"div\",24),core.Zb(2,\"form\",25,26),core.hc(\"ngSubmit\",(function(){return core.Hc(_r67),core.lc().onSubmit()})),core.Zb(4,\"div\",27),core.Zb(5,\"div\",28),core.Zb(6,\"mat-form-field\"),core.Zb(7,\"input\",29),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r67),core.lc().notification.notification_id=$event})),core.mc(8,\"translate\"),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(10,\"div\",27),core.Zb(11,\"div\",28),core.Zb(12,\"mat-form-field\"),core.Zb(13,\"input\",30),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r67),core.lc().notification.description=$event})),core.mc(14,\"translate\"),core.mc(15,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(16,\"div\",27),core.Zb(17,\"div\",28),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"mat-select\",31),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r67),core.lc().notification.event_id=$event})),core.mc(20,\"translate\"),core.mc(21,\"translate\"),core.Zb(22,\"mat-optgroup\",32),core.mc(23,\"translate\"),core.Qc(24,NotificationAdministrationComponent_mat_card_14_ng_container_24_Template,2,1,\"ng-container\",33),core.Yb(),core.Zb(25,\"mat-optgroup\",32),core.mc(26,\"translate\"),core.Qc(27,NotificationAdministrationComponent_mat_card_14_ng_container_27_Template,2,1,\"ng-container\",33),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(28,\"div\",27),core.Zb(29,\"div\",34),core.Zb(30,\"mat-form-field\"),core.Zb(31,\"mat-select\",35),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r67),core.lc().notification.template_id=$event})),core.mc(32,\"translate\"),core.mc(33,\"translate\"),core.Qc(34,NotificationAdministrationComponent_mat_card_14_mat_option_34_Template,2,2,\"mat-option\",36),core.Yb(),core.Yb(),core.Yb(),core.Zb(35,\"div\",37),core.Zb(36,\"mat-form-field\"),core.Zb(37,\"mat-select\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r67),core.lc().notification.attachfor_type=$event})),core.mc(38,\"translate\"),core.mc(39,\"translate\"),core.Zb(40,\"mat-option\",39),core.Sc(41),core.mc(42,\"translate\"),core.Yb(),core.Zb(43,\"mat-option\",40),core.Sc(44),core.mc(45,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(46,\"div\",27),core.Zb(47,\"div\",37),core.Zb(48,\"mat-form-field\"),core.Zb(49,\"mat-select\",41),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r67),core.lc().notification.diffusion_type=$event})),core.mc(50,\"translate\"),core.mc(51,\"translate\"),core.Qc(52,NotificationAdministrationComponent_mat_card_14_mat_optgroup_52_Template,3,4,\"mat-optgroup\",42),core.Qc(53,NotificationAdministrationComponent_mat_card_14_mat_optgroup_53_Template,3,4,\"mat-optgroup\",42),core.Zb(54,\"mat-optgroup\",32),core.mc(55,\"translate\"),core.Qc(56,NotificationAdministrationComponent_mat_card_14_ng_container_56_Template,2,1,\"ng-container\",33),core.Yb(),core.Qc(57,NotificationAdministrationComponent_mat_card_14_mat_optgroup_57_Template,3,4,\"mat-optgroup\",42),core.Yb(),core.Yb(),core.Yb(),core.Zb(58,\"div\",34),core.Qc(59,NotificationAdministrationComponent_mat_card_14_mat_form_field_59_Template,5,8,\"mat-form-field\",43),core.Qc(60,NotificationAdministrationComponent_mat_card_14_mat_form_field_60_Template,5,8,\"mat-form-field\",43),core.Qc(61,NotificationAdministrationComponent_mat_card_14_mat_form_field_61_Template,5,8,\"mat-form-field\",43),core.Qc(62,NotificationAdministrationComponent_mat_card_14_mat_form_field_62_Template,6,11,\"mat-form-field\",43),core.Yb(),core.Yb(),core.Zb(63,\"div\",27),core.Zb(64,\"div\",44),core.Zb(65,\"button\",45),core.Sc(66),core.mc(67,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r16=core.Dc(3),ctx_r3=core.lc();core.Eb(1),core.sc(\"ngIf\",\"N\"==ctx_r3.notification.is_enabled),core.Eb(6),core.tc(\"title\",core.nc(8,38,\"lang.id\")),core.tc(\"placeholder\",core.nc(9,40,\"lang.id\")),core.sc(\"ngModel\",ctx_r3.notification.notification_id)(\"disabled\",!ctx_r3.creationMode),core.Eb(6),core.tc(\"title\",core.nc(14,42,\"lang.description\")),core.tc(\"placeholder\",core.nc(15,44,\"lang.description\")),core.sc(\"ngModel\",ctx_r3.notification.description),core.Eb(6),core.tc(\"title\",core.nc(20,46,\"lang.NotificationEvent\")),core.tc(\"placeholder\",core.nc(21,48,\"lang.NotificationEvent\")),core.sc(\"ngModel\",ctx_r3.notification.event_id),core.Eb(3),core.uc(\"label\",\"\",core.nc(23,50,\"lang.triggerSystem\"),\" :\"),core.Eb(2),core.sc(\"ngForOf\",ctx_r3.notification.data.event),core.Eb(1),core.uc(\"label\",\"\",core.nc(26,52,\"lang.triggerAction\"),\" :\"),core.Eb(2),core.sc(\"ngForOf\",ctx_r3.notification.data.event),core.Eb(4),core.tc(\"title\",core.nc(32,54,\"lang.notificationModel\")),core.tc(\"placeholder\",core.nc(33,56,\"lang.notificationModel\")),core.sc(\"ngModel\",ctx_r3.notification.template_id),core.Eb(3),core.sc(\"ngForOf\",ctx_r3.notification.data.template),core.Eb(3),core.tc(\"title\",core.nc(38,58,\"lang.attachment\")),core.tc(\"placeholder\",core.nc(39,60,\"lang.attachment\")),core.sc(\"ngModel\",ctx_r3.notification.attachfor_type),core.Eb(4),core.Uc(\" \",core.nc(42,62,\"lang.noAttachment\"),\" \"),core.Eb(3),core.Uc(\" \",core.nc(45,64,\"lang.notificationJoinDocument\"),\" \"),core.Eb(5),core.tc(\"title\",core.nc(50,66,\"lang.sendTo\")),core.tc(\"placeholder\",core.nc(51,68,\"lang.sendTo\")),core.sc(\"ngModel\",ctx_r3.notification.diffusion_type),core.Eb(3),core.sc(\"ngIf\",\"baskets\"!=ctx_r3.notification.event_id),core.Eb(1),core.sc(\"ngIf\",\"baskets\"!=ctx_r3.notification.event_id),core.Eb(1),core.uc(\"label\",\"\",core.nc(55,70,\"lang.memberAllUsers\"),\" :\"),core.Eb(2),core.sc(\"ngForOf\",ctx_r3.notification.data.diffusionType),core.Eb(1),core.sc(\"ngIf\",\"baskets\"!=ctx_r3.notification.event_id),core.Eb(2),core.sc(\"ngIf\",\"group\"==ctx_r3.notification.diffusion_type),core.Eb(1),core.sc(\"ngIf\",\"user\"==ctx_r3.notification.diffusion_type),core.Eb(1),core.sc(\"ngIf\",\"entity\"==ctx_r3.notification.diffusion_type),core.Eb(1),core.sc(\"ngIf\",\"dest_user\"==ctx_r3.notification.diffusion_type||\"copy_list\"==ctx_r3.notification.diffusion_type||\"dest_entity\"==ctx_r3.notification.diffusion_type||\"dest_user_visa\"==ctx_r3.notification.diffusion_type||\"dest_user_sign\"==ctx_r3.notification.diffusion_type),core.Eb(3),core.sc(\"disabled\",!_r16.form.valid),core.Eb(1),core.Tc(core.nc(67,72,\"lang.save\"))}}let notification_administration_component_NotificationAdministrationComponent=(()=>{class NotificationAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.notification={diffusionType_label:null},this.loading=!1}ngOnInit(){this.loading=!0,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.route.params.subscribe(params=>{void 0===params.identifier?(this.headerService.setHeader(this.translate.instant(\"lang.notificationCreation\")),this.creationMode=!0,this.http.get(\"../rest/administration/notifications/new\").subscribe(data=>{this.notification=data.notification,this.notification.attachfor_properties=[],this.loading=!1},err=>{this.notify.error(err.error.errors)})):(this.creationMode=!1,this.http.get(\"../rest/notifications/\"+params.identifier).subscribe(data=>{this.headerService.setHeader(this.translate.instant(\"lang.notificationModification\"),data.notification.description),this.notification=data.notification,this.notification.attachfor_properties=[],this.loading=!1},err=>{this.notify.error(err.error.errors)}))})}createScript(){this.http.post(\"../rest/scriptNotification\",this.notification).subscribe(data=>{this.notification.scriptcreated=data,this.notify.success(this.translate.instant(\"lang.scriptCreated\"))},err=>{this.notify.error(err.error.errors)})}onSubmit(){this.creationMode?(this.notification.is_enabled=\"Y\",this.http.post(\"../rest/notifications\",this.notification).subscribe(data=>{this.router.navigate([\"/administration/notifications\"]),this.notify.success(this.translate.instant(\"lang.notificationAdded\"))},err=>{this.notify.error(err.error.errors)})):this.http.put(\"../rest/notifications/\"+this.notification.notification_sid,this.notification).subscribe(data=>{this.router.navigate([\"/administration/notifications\"]),this.notify.success(this.translate.instant(\"lang.notificationUpdated\"))},err=>{this.notify.error(err.error.errors)})}toggleNotif(){this.notification.is_enabled=\"Y\"===this.notification.is_enabled?\"N\":\"Y\",this.http.put(\"../rest/notifications/\"+this.notification.notification_sid,this.notification).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.notificationUpdated\"))},err=>{this.notify.error(err.error.errors)})}isNumber(val){return $.isNumeric(val)}}return NotificationAdministrationComponent.ɵfac=function(t){return new(t||NotificationAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},NotificationAdministrationComponent.ɵcmp=core.Nb({type:NotificationAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(notification_administration_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first)},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\",4,\"ngIf\"],[\"mat-list-item\",\"\",\"joyrideStep\",\"createScriptTour\",3,\"click\",\"next\",4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"click\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"joyrideStep\",\"createScriptTour\",3,\"click\",\"next\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-terminal\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"accent\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-play\"],[\"color\",\"warn\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-pause\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"class\",\"text-warning\",\"style\",\"position: absolute;opacity: 0.1;font-size: 120px;transform: rotate(324deg);-webkit-transform: rotate(324deg);margin-left: 25%;margin-top: 90px;\",4,\"ngIf\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"notificationsFormUp\",\"ngForm\"],[1,\"form-group\"],[1,\"col-md-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"notification_id\",\"id\",\"notification_id\",\"type\",\"text\",\"pattern\",\"^[\\\\w.-]*$\",\"maxlength\",\"50\",3,\"ngModel\",\"title\",\"placeholder\",\"disabled\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"description\",\"id\",\"description\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"id\",\"event_id\",\"name\",\"event_id\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"label\"],[4,\"ngFor\",\"ngForOf\"],[1,\"col-md-8\"],[\"id\",\"template_id\",\"name\",\"template_id\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-4\"],[\"id\",\"attachfor_type\",\"name\",\"attachfor_type\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"\"],[\"value\",\"main_document\"],[\"id\",\"diffusion_type\",\"name\",\"diffusion_type\",\"required\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"label\",4,\"ngIf\"],[4,\"ngIf\"],[1,\"col-sm-12\",2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[1,\"text-warning\",2,\"position\",\"absolute\",\"opacity\",\"0.1\",\"font-size\",\"120px\",\"transform\",\"rotate(324deg)\",\"-webkit-transform\",\"rotate(324deg)\",\"margin-left\",\"25%\",\"margin-top\",\"90px\"],[3,\"value\",4,\"ngIf\"],[3,\"value\"],[\"color\",\"primary\",1,\"fa\",\"fa-cog\",2,\"height\",\"auto\"],[\"color\",\"primary\",1,\"fa\",\"fa-exchange-alt\",2,\"height\",\"auto\"],[\"id\",\"diffusion_properties\",\"name\",\"diffusion_properties\",\"required\",\"\",\"multiple\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"id\",\"diffusion_properties\",\"name\",\"diffusion_properties\",\"multiple\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,NotificationAdministrationComponent_ng_template_1_Template,5,4,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,NotificationAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,NotificationAdministrationComponent_mat_card_14_Template,68,74,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,ngx_joyride.a,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.A,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,fesm2015_select.a,fesm2015_core.n,common.s,fesm2015_core.o,fesm2015_button.b],pipes:[ngx_translate_core.d],encapsulation:2}),NotificationAdministrationComponent})();var history_component=__webpack_require__(\"VdM8\");const history_administration_component_c0=[\"adminMenuTemplate\"],history_administration_component_c1=[\"appHistoryList\"];function HistoryAdministrationComponent_ng_template_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",21),core.Ub(1,\"mat-icon\",22),core.Zb(2,\"p\",23),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r10=ctx.$implicit;core.Jb(\"active\",menu_r10.current),core.sc(\"routerLink\",menu_r10.route),core.Eb(1),core.Gb(menu_r10.icon),core.Eb(2),core.Uc(\" \",menu_r10.label,\" \")}}function HistoryAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,HistoryAdministrationComponent_ng_template_1_a_1_Template,4,6,\"a\",20),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function HistoryAdministrationComponent_mat_datepicker_toggle_17_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-datepicker-toggle\",24),2&rf){core.lc();const _r3=core.Dc(19);core.sc(\"for\",_r3)}}function HistoryAdministrationComponent_button_20_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"button\",25),core.hc(\"click\",(function($event){core.Hc(_r12),core.lc();const _r8=core.Dc(33);return $event.stopPropagation(),_r8.startDateFilter=\"\",_r8.filterStartDate()})),core.Ub(1,\"mat-icon\",26),core.Yb()}if(2&rf){const ctx_r4=core.lc();core.sc(\"title\",ctx_r4.translate.instant(\"lang.eraseValue\"))}}function HistoryAdministrationComponent_mat_datepicker_toggle_26_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-datepicker-toggle\",24),2&rf){core.lc();const _r6=core.Dc(28);core.sc(\"for\",_r6)}}function HistoryAdministrationComponent_button_29_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"button\",25),core.hc(\"click\",(function($event){core.Hc(_r14),core.lc();const _r8=core.Dc(33);return $event.stopPropagation(),_r8.endDateFilter=\"\",_r8.filterEndDate()})),core.Ub(1,\"mat-icon\",26),core.Yb()}if(2&rf){const ctx_r7=core.lc();core.sc(\"title\",ctx_r7.translate.instant(\"lang.eraseValue\"))}}let history_administration_component_HistoryAdministrationComponent=(()=>{class HistoryAdministrationComponent{constructor(translate,http,appService,functions,privilegeService,headerService,viewContainerRef){this.translate=translate,this.http=http,this.appService=appService,this.functions=functions,this.privilegeService=privilegeService,this.headerService=headerService,this.viewContainerRef=viewContainerRef,this.startDateFilter=\"\",this.endDateFilter=\"\",this.subMenus=[{icon:\"fa fa-history\",route:\"/administration/history\",label:this.translate.instant(\"lang.history\"),current:!0},{icon:\"fa fa-history\",route:\"/administration/history-batch\",label:this.translate.instant(\"lang.historyBatch\"),current:!1}]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.history\").toLowerCase(),\"\",\"\"),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.subMenus=this.privilegeService.hasCurrentUserPrivilege(\"view_history_batch\")?[{icon:\"fa fa-history\",route:\"/administration/history\",label:this.translate.instant(\"lang.history\"),current:!0},{icon:\"fa fa-history\",route:\"/administration/history-batch\",label:this.translate.instant(\"lang.historyBatch\"),current:!1}]:[{icon:\"fa fa-history\",route:\"/administration/history\",label:this.translate.instant(\"lang.history\"),current:!0}]}}return HistoryAdministrationComponent.ɵfac=function(t){return new(t||HistoryAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(privileges_service.a),core.Tb(header_service.a),core.Tb(core.R))},HistoryAdministrationComponent.ɵcmp=core.Nb({type:HistoryAdministrationComponent,selectors:[[\"admin-history\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(history_administration_component_c0,!0),core.ad(history_administration_component_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.appHistoryList=_t.first))},decls:34,vars:26,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[2,\"display\",\"grid\",\"grid-template-columns\",\"repeat(2, 1fr)\",\"grid-gap\",\"10px\",\"width\",\"100%\"],[1,\"dateFilter\",2,\"cursor\",\"pointer\",3,\"click\"],[2,\"color\",\"white\"],[\"matInput\",\"\",\"readonly\",\"\",2,\"cursor\",\"pointer\",3,\"ngModel\",\"matDatepicker\",\"placeholder\",\"max\",\"ngModelChange\",\"dateChange\"],[\"matSuffix\",\"\",3,\"for\",4,\"ngIf\"],[3,\"touchUi\"],[\"startPicker\",\"\"],[\"mat-button\",\"\",\"color\",\"warn\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",3,\"title\",\"click\",4,\"ngIf\"],[\"matInput\",\"\",\"readonly\",\"\",2,\"cursor\",\"pointer\",3,\"ngModel\",\"matDatepicker\",\"placeholder\",\"min\",\"ngModelChange\",\"dateChange\"],[\"endPicker\",\"\"],[1,\"container\"],[1,\"container-content\"],[\"appHistoryList\",\"\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"mat-line\",\"\"],[\"matSuffix\",\"\",3,\"for\"],[\"mat-button\",\"\",\"color\",\"warn\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",3,\"title\",\"click\"],[\"color\",\"warn\",1,\"fa\",\"fa-calendar-times\"]],template:function(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,HistoryAdministrationComponent_ng_template_1_Template,2,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Zb(10,\"div\",6),core.Zb(11,\"div\",7),core.Zb(12,\"mat-form-field\",8),core.hc(\"click\",(function(){return core.Hc(_r15),core.Dc(19).open()})),core.Zb(13,\"mat-label\",9),core.Sc(14),core.mc(15,\"translate\"),core.Yb(),core.Zb(16,\"input\",10),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r15),core.Dc(33).startDateFilter=$event}))(\"dateChange\",(function(){return core.Hc(_r15),core.Dc(33).filterStartDate()})),core.Yb(),core.Qc(17,HistoryAdministrationComponent_mat_datepicker_toggle_17_Template,1,1,\"mat-datepicker-toggle\",11),core.Ub(18,\"mat-datepicker\",12,13),core.Qc(20,HistoryAdministrationComponent_button_20_Template,2,1,\"button\",14),core.Yb(),core.Zb(21,\"mat-form-field\",8),core.hc(\"click\",(function(){return core.Hc(_r15),core.Dc(28).open()})),core.Zb(22,\"mat-label\",9),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Zb(25,\"input\",15),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r15),core.Dc(33).endDateFilter=$event}))(\"dateChange\",(function(){return core.Hc(_r15),core.Dc(33).filterEndDate()})),core.Yb(),core.Qc(26,HistoryAdministrationComponent_mat_datepicker_toggle_26_Template,1,1,\"mat-datepicker-toggle\",11),core.Ub(27,\"mat-datepicker\",12,16),core.Qc(29,HistoryAdministrationComponent_button_29_Template,2,1,\"button\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(30,\"div\",17),core.Zb(31,\"div\",18),core.Ub(32,\"app-history-list\",null,19),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r3=core.Dc(19),_r6=core.Dc(28),_r8=core.Dc(33);core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(4),core.Uc(\"\",core.nc(15,22,\"lang.since\"),\" \"),core.Eb(2),core.sc(\"ngModel\",_r8.startDateFilter)(\"matDatepicker\",_r3)(\"placeholder\",ctx.translate.instant(\"lang.since\"))(\"max\",_r8.endDateFilter),core.Eb(1),core.sc(\"ngIf\",!_r8.startDateFilter),core.Eb(1),core.sc(\"touchUi\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",_r8.startDateFilter),core.Eb(3),core.Uc(\"\",core.nc(24,24,\"lang.until\"),\" \"),core.Eb(2),core.sc(\"ngModel\",_r8.endDateFilter)(\"matDatepicker\",_r6)(\"placeholder\",ctx.translate.instant(\"lang.until\"))(\"min\",_r8.startDateFilter),core.Eb(1),core.sc(\"ngIf\",!_r8.endDateFilter),core.Eb(1),core.sc(\"touchUi\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",_r8.endDateFilter),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode())}},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,form_field.c,form_field.g,input.b,fesm2015_forms.c,datepicker.f,fesm2015_forms.t,fesm2015_forms.w,common.t,datepicker.d,history_component.a,list.h,common.s,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,datepicker.h,form_field.j,fesm2015_button.b],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.paginatorResultList[_ngcontent-%COMP%]    .mat-paginator-range-label{justify-content:flex-end;display:flex}.filterList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.label[_ngcontent-%COMP%]{cursor:pointer;margin:5px}.bg-head-content[_ngcontent-%COMP%]     .mat-focused .mat-form-field-label{color:#fff!important}.bg-head-content[_ngcontent-%COMP%]    .mat-form-field-ripple, .bg-head-content[_ngcontent-%COMP%]    .mat-form-field-underline{background-color:#fff!important}.bg-head-content[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%], .bg-head-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}\"]}),HistoryAdministrationComponent})();var Subject=__webpack_require__(\"XNiG\"),observable_merge=__webpack_require__(\"VRyK\"),takeUntil=__webpack_require__(\"1G5W\"),switchMap=__webpack_require__(\"eIep\"),fullDate_pipe=__webpack_require__(\"8IW6\"),timeAgo_pipe=__webpack_require__(\"ZI/H\");const history_batch_administration_component_c0=[\"adminMenuTemplate\"],history_batch_administration_component_c1=[\"tableHistoryListSort\"],history_batch_administration_component_c2=[\"autoCompleteInput\"];function HistoryBatchAdministrationComponent_ng_template_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",53),core.Ub(1,\"mat-icon\",54),core.Zb(2,\"p\",55),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r29=ctx.$implicit;core.Jb(\"active\",menu_r29.current),core.sc(\"routerLink\",menu_r29.route),core.Eb(1),core.Gb(menu_r29.icon),core.Eb(2),core.Uc(\" \",menu_r29.label,\" \")}}function HistoryBatchAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,HistoryBatchAdministrationComponent_ng_template_1_a_1_Template,4,6,\"a\",52),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function HistoryBatchAdministrationComponent_mat_datepicker_toggle_17_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-datepicker-toggle\",56),2&rf){core.lc();const _r3=core.Dc(19);core.sc(\"for\",_r3)}}function HistoryBatchAdministrationComponent_button_20_Template(rf,ctx){if(1&rf){const _r31=core.ac();core.Zb(0,\"button\",57),core.hc(\"click\",(function($event){core.Hc(_r31);const ctx_r30=core.lc();return $event.stopPropagation(),ctx_r30.startDateFilter=\"\",ctx_r30.filterStartDate()})),core.Ub(1,\"mat-icon\",58),core.Yb()}if(2&rf){const ctx_r4=core.lc();core.sc(\"title\",ctx_r4.translate.instant(\"lang.eraseValue\"))}}function HistoryBatchAdministrationComponent_mat_datepicker_toggle_26_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-datepicker-toggle\",56),2&rf){core.lc();const _r6=core.Dc(28);core.sc(\"for\",_r6)}}function HistoryBatchAdministrationComponent_button_29_Template(rf,ctx){if(1&rf){const _r33=core.ac();core.Zb(0,\"button\",57),core.hc(\"click\",(function($event){core.Hc(_r33);const ctx_r32=core.lc();return $event.stopPropagation(),ctx_r32.endDateFilter=\"\",ctx_r32.filterEndDate()})),core.Ub(1,\"mat-icon\",58),core.Yb()}if(2&rf){const ctx_r7=core.lc();core.sc(\"title\",ctx_r7.translate.instant(\"lang.eraseValue\"))}}function HistoryBatchAdministrationComponent_div_32_mat_spinner_1_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-spinner\")}function HistoryBatchAdministrationComponent_div_32_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",59),core.Qc(1,HistoryBatchAdministrationComponent_div_32_mat_spinner_1_Template,1,0,\"mat-spinner\",28),core.Yb()),2&rf){const ctx_r8=core.lc();core.Eb(1),core.sc(\"ngIf\",ctx_r8.isLoadingResults)}}function HistoryBatchAdministrationComponent_mat_option_40_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-option\",60),core.Zb(1,\"div\",61),core.Ub(2,\"mat-spinner\",62),core.Yb(),core.Yb())}function HistoryBatchAdministrationComponent_ng_container_41_ng_container_1_mat_optgroup_1_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",66),core.Sc(1),core.Yb()),2&rf){const filter_r39=ctx.$implicit,keyVal_r36=core.lc(2).$implicit,ctx_r38=core.lc(2);core.Pc(\"color\",filter_r39.used?\"\":ctx_r38.filterColor[keyVal_r36.key]),core.sc(\"id\",keyVal_r36.key)(\"value\",filter_r39)(\"disabled\",filter_r39.used),core.Eb(1),core.Uc(\" \",filter_r39.label,\" \")}}function HistoryBatchAdministrationComponent_ng_container_41_ng_container_1_mat_optgroup_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-optgroup\",64),core.Qc(1,HistoryBatchAdministrationComponent_ng_container_41_ng_container_1_mat_optgroup_1_mat_option_1_Template,2,6,\"mat-option\",65),core.mc(2,\"sortBy\"),core.mc(3,\"async\"),core.Yb()),2&rf){const keyVal_r36=core.lc().$implicit,ctx_r37=core.lc(2);core.sc(\"label\",ctx_r37.translate.instant(\"lang.\"+keyVal_r36.key)),core.Eb(1),core.sc(\"ngForOf\",core.oc(2,2,core.nc(3,5,ctx_r37.filteredList[keyVal_r36.key]),\"label\"))}}function HistoryBatchAdministrationComponent_ng_container_41_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,HistoryBatchAdministrationComponent_ng_container_41_ng_container_1_mat_optgroup_1_Template,4,7,\"mat-optgroup\",63),core.mc(2,\"async\"),core.Wb()),2&rf){const keyVal_r36=ctx.$implicit,ctx_r35=core.lc(2);var tmp_0_0;const currVal_0=(null==(tmp_0_0=core.nc(2,1,ctx_r35.filteredList[keyVal_r36.key]))?null:tmp_0_0.length)>0;core.Eb(1),core.sc(\"ngIf\",currVal_0)}}function HistoryBatchAdministrationComponent_ng_container_41_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,HistoryBatchAdministrationComponent_ng_container_41_ng_container_1_Template,3,3,\"ng-container\",34),core.mc(2,\"keyvalue\"),core.Wb()),2&rf){const ctx_r12=core.lc();core.Eb(1),core.sc(\"ngForOf\",core.nc(2,1,ctx_r12.filterList))}}function HistoryBatchAdministrationComponent_ng_container_47_ng_container_1_span_1_Template(rf,ctx){if(1&rf){const _r49=core.ac();core.Zb(0,\"span\",68),core.hc(\"click\",(function(){core.Hc(_r49);const filter_r45=ctx.$implicit,i_r46=ctx.index,keyVal_r42=core.lc(2).$implicit;return core.lc().removeItemFilter(filter_r45,keyVal_r42.key,i_r46)})),core.Sc(1),core.Ub(2,\"i\",69),core.Yb()}if(2&rf){const filter_r45=ctx.$implicit,keyVal_r42=core.lc(2).$implicit,ctx_r44=core.lc();core.Pc(\"background\",ctx_r44.filterColor[keyVal_r42.key],core.Mb),core.sc(\"title\",ctx_r44.translate.instant(\"lang.\"+keyVal_r42.key)),core.Eb(1),core.Uc(\"\",filter_r45.label,\" \")}}function HistoryBatchAdministrationComponent_ng_container_47_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,HistoryBatchAdministrationComponent_ng_container_47_ng_container_1_span_1_Template,3,4,\"span\",67),core.Wb()),2&rf){const keyVal_r42=core.lc().$implicit,ctx_r43=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r43.filterUsed[keyVal_r42.key])}}const history_batch_administration_component_c3=function(){return[\"startDate\",\"endDate\"]};function HistoryBatchAdministrationComponent_ng_container_47_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,HistoryBatchAdministrationComponent_ng_container_47_ng_container_1_Template,2,1,\"ng-container\",28),core.Wb()),2&rf){const keyVal_r42=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",-1===core.yc(1,history_batch_administration_component_c3).indexOf(keyVal_r42.key))}}function HistoryBatchAdministrationComponent_mat_header_cell_52_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",70),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.event\")))}function HistoryBatchAdministrationComponent_mat_cell_53_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",71),core.mc(1,\"fullDate\"),core.Sc(2),core.mc(3,\"ucfirst\"),core.mc(4,\"timeAgo\"),core.Yb()),2&rf){const element_r52=ctx.$implicit;core.sc(\"title\",core.nc(1,2,element_r52.event_date)),core.Eb(2),core.Uc(\" \",core.nc(3,4,core.oc(4,6,element_r52.event_date,\"full\")),\" \")}}function HistoryBatchAdministrationComponent_mat_header_cell_55_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",70),core.Sc(1),core.mc(2,\"ucfirst\"),core.mc(3,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,core.nc(3,3,\"lang.totalProcessed\")),\" \"))}function HistoryBatchAdministrationComponent_mat_cell_56_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r53=ctx.$implicit;core.Jb(\"empty\",0===element_r53.total_processed),core.Eb(1),core.Uc(\" \",element_r53.total_processed,\" \")}}function HistoryBatchAdministrationComponent_mat_header_cell_58_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",70),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.totalErrors\"),\" \"))}function HistoryBatchAdministrationComponent_mat_cell_59_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r54=ctx.$implicit;core.Jb(\"empty\",0===element_r54.total_errors)(\"error\",element_r54.total_errors>0),core.Eb(1),core.Uc(\" \",element_r54.total_errors,\" \")}}function HistoryBatchAdministrationComponent_mat_header_cell_61_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",72),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.information\"),\" \"))}function HistoryBatchAdministrationComponent_mat_cell_62_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",73),core.Sc(1),core.Yb()),2&rf){const element_r55=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r55.info,\" \")}}function HistoryBatchAdministrationComponent_mat_header_cell_64_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",70),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.module\"),\" \"))}function HistoryBatchAdministrationComponent_mat_cell_65_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r56=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r56.module_name,\" \")}}function HistoryBatchAdministrationComponent_mat_header_row_66_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function HistoryBatchAdministrationComponent_mat_row_67_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}let history_batch_administration_component_HistoryBatchAdministrationComponent=(()=>{class HistoryBatchAdministrationComponent{constructor(translate,http,notify,headerService,appService,dialog,functions,latinisePipe,privilegeService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.functions=functions,this.latinisePipe=latinisePipe,this.privilegeService=privilegeService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.filtersChange=new core.o,this.displayedColumnsHistory=[\"event_date\",\"total_processed\",\"total_errors\",\"info\",\"module_name\"],this.isLoadingResults=!0,this.routeUrl=\"../rest/batchHistory\",this.resultsLength=0,this.searchHistory=new fesm2015_forms.h,this.startDateFilter=\"\",this.endDateFilter=\"\",this.filterUrl=\"\",this.filterList=null,this.filteredList={},this.filterUsed={},this.filterColor={startDate:\"#b5cfd8\",endDate:\"#7393a7\",totalErrors:\"#fc6471\",modules:\"#009dc5\"},this.loadingFilters=!0,this.destroy$=new Subject.a,this.subMenus=[]}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.subMenus=this.privilegeService.hasCurrentUserPrivilege(\"view_history\")?[{icon:\"fa fa-history\",route:\"/administration/history\",label:this.translate.instant(\"lang.history\"),current:!1},{icon:\"fa fa-history\",route:\"/administration/history-batch\",label:this.translate.instant(\"lang.historyBatch\"),current:!0}]:[{icon:\"fa fa-history\",route:\"/administration/history-batch\",label:this.translate.instant(\"lang.historyBatch\"),current:!0}],this.loading=!0,this.initHistoryList()}initHistoryList(){this.resultListDatabase=new HistoryListHttpDao(this.http),this.paginator.pageIndex=0,this.sort.active=\"event_date\",this.sort.direction=\"desc\",this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(observable_merge.a)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(takeUntil.a)(this.destroy$),Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.routeUrl,this.filterUrl))),Object(map.a)(data=>(this.isLoadingResults=!1,data=this.processPostData(data),this.resultsLength=data.count,this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.historyBatch\").toLowerCase(),\"\",\"\"),data.history)),Object(catchError.a)(err=>(this.notify.handleErrors(err),this.isLoadingResults=!1,Object(of.a)([])))).subscribe(data=>this.data=data)}processPostData(data){return data.history=data.history.map(item=>Object.assign(Object.assign({},item),{total_errors:null===item.total_errors?0:item.total_errors})),data}refreshDao(){this.paginator.pageIndex=0,this.filtersChange.emit()}initFilterListHistory(){null===this.filterList&&(this.filterList={},this.loadingFilters=!0,this.http.get(\"../rest/batchHistory/availableFilters\").pipe(Object(map.a)(data=>{let returnData={modules:[{}],totalErrors:[{}]};return returnData.modules=data.modules,returnData.totalErrors=[{id:\"errorElement\",label:this.translate.instant(\"lang.totalErrors\")}],returnData}),Object(tap.a)(data=>{Object.keys(data).forEach(filterType=>{this.functions.empty(this.filterList[filterType])&&(this.filterList[filterType]=[],this.filteredList[filterType]=[]),data[filterType].forEach(element=>{this.filterList[filterType].push(element)}),this.filteredList[filterType]=this.searchHistory.valueChanges.pipe(Object(startWith.a)(\"\"),Object(map.a)(element=>element?this.filter(element,filterType):this.filterList[filterType].slice()))})}),Object(finalize.a)(()=>this.loadingFilters=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe())}filterStartDate(){this.functions.empty(this.filterUsed.startDate)&&(this.filterUsed.startDate=[]),this.filterUsed.startDate[0]={id:this.functions.empty(this.startDateFilter)?\"\":this.functions.formatDateObjectToDateString(this.startDateFilter),label:this.functions.empty(this.startDateFilter)?\"\":this.functions.formatDateObjectToDateString(this.startDateFilter)},this.generateUrlFilter(),this.refreshDao()}filterEndDate(){this.functions.empty(this.filterUsed.endDate)&&(this.filterUsed.endDate=[]),this.filterUsed.endDate[0]={id:this.functions.empty(this.endDateFilter)?\"\":this.functions.formatDateObjectToDateString(this.endDateFilter,!0),label:this.functions.empty(this.endDateFilter)?\"\":this.functions.formatDateObjectToDateString(this.endDateFilter)},this.generateUrlFilter(),this.refreshDao()}addItemFilter(elem){elem.value.used=!0,this.functions.empty(this.filterUsed[elem.id])&&(this.filterUsed[elem.id]=[]),this.filterUsed[elem.id].push(elem.value),this.generateUrlFilter(),this.searchHistory.reset(),this.autoCompleteInput.nativeElement.blur(),this.refreshDao()}removeItemFilter(elem,type,index){elem.used=!1,this.filterUsed[type].splice(index,1),this.generateUrlFilter(),this.refreshDao()}generateUrlFilter(){this.filterUrl=\"\";let arrTmpUrl=[];Object.keys(this.filterUsed).forEach(type=>{this.filterUsed[type].forEach(filter=>{this.functions.empty(filter.id)||([\"startDate\",\"endDate\"].indexOf(type)>-1?arrTmpUrl.push(`${type}=${filter.id}`):arrTmpUrl.push(`${type}[]=${filter.id}`))})}),arrTmpUrl.length>0&&(this.filterUrl=\"&\"+arrTmpUrl.join(\"&\"))}filter(value,type){if(\"string\"==typeof value){const filterValue=this.latinisePipe.transform(value.toLowerCase());return this.filterList[type].filter(elem=>this.latinisePipe.transform(elem.label.toLowerCase()).includes(filterValue))}return this.filterList[type]}}return HistoryBatchAdministrationComponent.ɵfac=function(t){return new(t||HistoryBatchAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(functions_service.a),core.Tb(ngx_pipes.c),core.Tb(privileges_service.a),core.Tb(core.R))},HistoryBatchAdministrationComponent.ɵcmp=core.Nb({type:HistoryBatchAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(history_batch_administration_component_c0,!0),core.Oc(fesm2015_paginator.a,!0),core.Oc(history_batch_administration_component_c1,!0),core.Oc(history_batch_administration_component_c2,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first),core.Cc(_t=core.ic())&&(ctx.autoCompleteInput=_t.first))},decls:72,vars:45,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[2,\"display\",\"grid\",\"grid-template-columns\",\"repeat(2, 1fr)\",\"grid-gap\",\"10px\",\"width\",\"100%\"],[1,\"dateFilter\",2,\"cursor\",\"pointer\",3,\"click\"],[2,\"color\",\"white\"],[\"matInput\",\"\",\"readonly\",\"\",2,\"cursor\",\"pointer\",3,\"ngModel\",\"matDatepicker\",\"placeholder\",\"max\",\"ngModelChange\",\"dateChange\"],[\"matSuffix\",\"\",3,\"for\",4,\"ngIf\"],[3,\"touchUi\"],[\"startPicker\",\"\"],[\"mat-button\",\"\",\"color\",\"warn\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",3,\"title\",\"click\",4,\"ngIf\"],[\"matInput\",\"\",\"readonly\",\"\",2,\"cursor\",\"pointer\",3,\"ngModel\",\"matDatepicker\",\"placeholder\",\"min\",\"ngModelChange\",\"dateChange\"],[\"endPicker\",\"\"],[1,\"container\"],[1,\"container-content\"],[\"class\",\"example-loading-shade\",4,\"ngIf\"],[1,\"table-head\"],[1,\"table-head-result\"],[\"floatLabel\",\"never\",2,\"font-size\",\"13px\"],[\"type\",\"text\",\"matInput\",\"\",\"maxlength\",\"128\",3,\"matAutocomplete\",\"placeholder\",\"formControl\",\"click\"],[\"autoCompleteInput\",\"\"],[3,\"optionSelected\",\"opened\"],[\"auto\",\"matAutocomplete\"],[\"disabled\",\"\",4,\"ngIf\"],[4,\"ngIf\"],[1,\"table-head-tool\"],[1,\"paginatorResultList\",3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginatorHistoryList\",\"\"],[2,\"height\",\"90%\",\"overflow\",\"auto\",\"position\",\"absolute\",\"width\",\"100%\"],[1,\"filterBadges\"],[4,\"ngFor\",\"ngForOf\"],[\"id\",\"history-list\",\"matSort\",\"\",\"matSortActive\",\"event_date\",\"matSortDirection\",\"desc\",2,\"width\",\"100%\",3,\"dataSource\"],[\"tableHistoryListSort\",\"matSort\"],[\"matColumnDef\",\"event_date\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[\"mat-cell\",\"\",3,\"title\",4,\"matCellDef\"],[\"matColumnDef\",\"total_processed\"],[3,\"empty\",4,\"matCellDef\"],[\"matColumnDef\",\"total_errors\"],[3,\"empty\",\"error\",4,\"matCellDef\"],[\"matColumnDef\",\"info\"],[\"mat-sort-header\",\"\",\"style\",\"flex: 2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex: 2;\",4,\"matCellDef\"],[\"matColumnDef\",\"module_name\"],[4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"mat-line\",\"\"],[\"matSuffix\",\"\",3,\"for\"],[\"mat-button\",\"\",\"color\",\"warn\",\"matSuffix\",\"\",\"mat-icon-button\",\"\",3,\"title\",\"click\"],[\"color\",\"warn\",1,\"fa\",\"fa-calendar-times\"],[1,\"example-loading-shade\"],[\"disabled\",\"\"],[2,\"display\",\"flex\",\"justify-content\",\"center\"],[\"diameter\",\"35\"],[\"class\",\"filterList\",3,\"label\",4,\"ngIf\"],[1,\"filterList\",3,\"label\"],[3,\"id\",\"color\",\"value\",\"disabled\",4,\"ngFor\",\"ngForOf\"],[3,\"id\",\"value\",\"disabled\"],[\"class\",\"label\",3,\"background\",\"title\",\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"label\",3,\"title\",\"click\"],[1,\"fa\",\"fa-times-circle\"],[\"mat-sort-header\",\"\"],[\"mat-cell\",\"\",3,\"title\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"]],template:function(rf,ctx){if(1&rf){const _r58=core.ac();core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,HistoryBatchAdministrationComponent_ng_template_1_Template,2,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Zb(10,\"div\",6),core.Zb(11,\"div\",7),core.Zb(12,\"mat-form-field\",8),core.hc(\"click\",(function(){return core.Hc(_r58),core.Dc(19).open()})),core.Zb(13,\"mat-label\",9),core.Sc(14),core.mc(15,\"translate\"),core.Yb(),core.Zb(16,\"input\",10),core.hc(\"ngModelChange\",(function($event){return ctx.startDateFilter=$event}))(\"dateChange\",(function(){return ctx.filterStartDate()})),core.Yb(),core.Qc(17,HistoryBatchAdministrationComponent_mat_datepicker_toggle_17_Template,1,1,\"mat-datepicker-toggle\",11),core.Ub(18,\"mat-datepicker\",12,13),core.Qc(20,HistoryBatchAdministrationComponent_button_20_Template,2,1,\"button\",14),core.Yb(),core.Zb(21,\"mat-form-field\",8),core.hc(\"click\",(function(){return core.Hc(_r58),core.Dc(28).open()})),core.Zb(22,\"mat-label\",9),core.Sc(23),core.mc(24,\"translate\"),core.Yb(),core.Zb(25,\"input\",15),core.hc(\"ngModelChange\",(function($event){return ctx.endDateFilter=$event}))(\"dateChange\",(function(){return ctx.filterEndDate()})),core.Yb(),core.Qc(26,HistoryBatchAdministrationComponent_mat_datepicker_toggle_26_Template,1,1,\"mat-datepicker-toggle\",11),core.Ub(27,\"mat-datepicker\",12,16),core.Qc(29,HistoryBatchAdministrationComponent_button_29_Template,2,1,\"button\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(30,\"div\",17),core.Zb(31,\"div\",18),core.Qc(32,HistoryBatchAdministrationComponent_div_32_Template,2,1,\"div\",19),core.Zb(33,\"div\",20),core.Zb(34,\"div\",21),core.Zb(35,\"mat-form-field\",22),core.Zb(36,\"input\",23,24),core.hc(\"click\",(function($event){return $event.stopPropagation()})),core.Yb(),core.Zb(38,\"mat-autocomplete\",25,26),core.hc(\"optionSelected\",(function($event){return ctx.addItemFilter($event.option)}))(\"opened\",(function(){return ctx.initFilterListHistory()})),core.Qc(40,HistoryBatchAdministrationComponent_mat_option_40_Template,3,0,\"mat-option\",27),core.Qc(41,HistoryBatchAdministrationComponent_ng_container_41_Template,3,3,\"ng-container\",28),core.Yb(),core.Yb(),core.Yb(),core.Zb(42,\"div\",29),core.Ub(43,\"mat-paginator\",30,31),core.Yb(),core.Yb(),core.Zb(45,\"div\",32),core.Zb(46,\"div\",33),core.Qc(47,HistoryBatchAdministrationComponent_ng_container_47_Template,2,2,\"ng-container\",34),core.mc(48,\"keyvalue\"),core.Yb(),core.Zb(49,\"mat-table\",35,36),core.Xb(51,37),core.Qc(52,HistoryBatchAdministrationComponent_mat_header_cell_52_Template,3,3,\"mat-header-cell\",38),core.Qc(53,HistoryBatchAdministrationComponent_mat_cell_53_Template,5,9,\"mat-cell\",39),core.Wb(),core.Xb(54,40),core.Qc(55,HistoryBatchAdministrationComponent_mat_header_cell_55_Template,4,5,\"mat-header-cell\",38),core.Qc(56,HistoryBatchAdministrationComponent_mat_cell_56_Template,2,3,\"mat-cell\",41),core.Wb(),core.Xb(57,42),core.Qc(58,HistoryBatchAdministrationComponent_mat_header_cell_58_Template,3,3,\"mat-header-cell\",38),core.Qc(59,HistoryBatchAdministrationComponent_mat_cell_59_Template,2,5,\"mat-cell\",43),core.Wb(),core.Xb(60,44),core.Qc(61,HistoryBatchAdministrationComponent_mat_header_cell_61_Template,3,3,\"mat-header-cell\",45),core.Qc(62,HistoryBatchAdministrationComponent_mat_cell_62_Template,2,1,\"mat-cell\",46),core.Wb(),core.Xb(63,47),core.Qc(64,HistoryBatchAdministrationComponent_mat_header_cell_64_Template,3,3,\"mat-header-cell\",38),core.Qc(65,HistoryBatchAdministrationComponent_mat_cell_65_Template,2,1,\"mat-cell\",48),core.Wb(),core.Qc(66,HistoryBatchAdministrationComponent_mat_header_row_66_Template,1,0,\"mat-header-row\",49),core.Qc(67,HistoryBatchAdministrationComponent_mat_row_67_Template,1,0,\"mat-row\",50),core.Yb(),core.Zb(68,\"div\",51),core.Sc(69),core.mc(70,\"translate\"),core.Yb(),core.Yb(),core.Ub(71,\"div\",20),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r3=core.Dc(19),_r6=core.Dc(28),_r10=core.Dc(39);core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(4),core.Uc(\"\",core.nc(15,37,\"lang.since\"),\" \"),core.Eb(2),core.sc(\"ngModel\",ctx.startDateFilter)(\"matDatepicker\",_r3)(\"placeholder\",ctx.translate.instant(\"lang.since\"))(\"max\",ctx.endDateFilter),core.Eb(1),core.sc(\"ngIf\",!ctx.startDateFilter),core.Eb(1),core.sc(\"touchUi\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.startDateFilter),core.Eb(3),core.Uc(\"\",core.nc(24,39,\"lang.until\"),\" \"),core.Eb(2),core.sc(\"ngModel\",ctx.endDateFilter)(\"matDatepicker\",_r6)(\"placeholder\",ctx.translate.instant(\"lang.until\"))(\"min\",ctx.startDateFilter),core.Eb(1),core.sc(\"ngIf\",!ctx.endDateFilter),core.Eb(1),core.sc(\"touchUi\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.endDateFilter),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.isLoadingResults),core.Eb(4),core.sc(\"matAutocomplete\",_r10)(\"placeholder\",ctx.translate.instant(\"lang.filterBy\"))(\"formControl\",ctx.searchHistory),core.Eb(4),core.sc(\"ngIf\",ctx.loadingFilters),core.Eb(1),core.sc(\"ngIf\",null!==ctx.filterList&&!ctx.loadingFilters),core.Eb(2),core.sc(\"length\",ctx.resultsLength)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(4),core.sc(\"ngForOf\",core.nc(48,41,ctx.filterUsed)),core.Eb(2),core.sc(\"dataSource\",ctx.data),core.Eb(17),core.sc(\"matHeaderRowDef\",ctx.displayedColumnsHistory),core.Eb(1),core.sc(\"matRowDefColumns\",ctx.displayedColumnsHistory),core.Eb(2),core.Vc(\" \",ctx.resultsLength,\" \",core.nc(70,43,\"lang.elements\"),\"\")}},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,form_field.c,form_field.g,input.b,fesm2015_forms.c,datepicker.f,fesm2015_forms.t,fesm2015_forms.w,common.t,datepicker.d,autocomplete.d,fesm2015_forms.o,fesm2015_forms.i,autocomplete.a,fesm2015_paginator.a,common.s,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,list.h,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,datepicker.h,form_field.j,fesm2015_button.b,progress_spinner.c,fesm2015_core.o,fesm2015_core.n,table.h,fesm2015_sort.b,table.a,table.j,table.l],pipes:[ngx_translate_core.d,common.l,common.b,sorting_pipe.a,fullDate_pipe.a,ngx_pipes.u,timeAgo_pipe.a],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.paginatorResultList[_ngcontent-%COMP%]    .mat-paginator-range-label{justify-content:flex-end;display:flex}.filterList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.label[_ngcontent-%COMP%]{cursor:pointer;margin:5px}.bg-head-content[_ngcontent-%COMP%]     .mat-focused .mat-form-field-label{color:#fff!important}.bg-head-content[_ngcontent-%COMP%]    .mat-form-field-ripple, .bg-head-content[_ngcontent-%COMP%]    .mat-form-field-underline{background-color:#fff!important}.bg-head-content[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%], .bg-head-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.empty[_ngcontent-%COMP%]{opacity:.5}.error[_ngcontent-%COMP%]{color:#8e3e52;font-weight:700}\"]}),HistoryBatchAdministrationComponent})();class HistoryListHttpDao{constructor(http){this.http=http}getRepoIssues(sort,order,page,href,search){return this.http.get(`${href}?limit=10&offset=${10*page}&order=${order}&orderBy=${sort}${search}`)}}function UpdateStatusAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function UpdateStatusAdministrationComponent_mat_card_12_mat_chip_21_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"mat-chip\",32),core.hc(\"removed\",(function(){core.Hc(_r9);const chrono_r7=ctx.$implicit;return core.lc(2).removeChrono(chrono_r7)})),core.Zb(1,\"span\",33),core.Sc(2),core.Yb(),core.Sc(3),core.Ub(4,\"mat-icon\",34),core.Yb()}if(2&rf){const chrono_r7=ctx.$implicit,ctx_r4=core.lc(2);core.sc(\"removable\",!0),core.Eb(2),core.Tc(ctx_r4.chronoList.indexOf(chrono_r7)+1),core.Eb(1),core.Uc(\"  \",chrono_r7,\" \")}}function UpdateStatusAdministrationComponent_mat_card_12_mat_chip_40_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"mat-chip\",32),core.hc(\"removed\",(function(){core.Hc(_r12);const resId_r10=ctx.$implicit;return core.lc(2).removeResId(resId_r10)})),core.Zb(1,\"span\",33),core.Sc(2),core.Yb(),core.Sc(3),core.Ub(4,\"mat-icon\",34),core.Yb()}if(2&rf){const resId_r10=ctx.$implicit,ctx_r6=core.lc(2);core.sc(\"removable\",!0),core.Eb(2),core.Tc(ctx_r6.resIdList.indexOf(resId_r10)+1),core.Eb(1),core.Uc(\"  \",resId_r10,\" \")}}function UpdateStatusAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"mat-card\",12),core.Zb(1,\"form\",13,14),core.hc(\"ngSubmit\",(function(){return core.Hc(_r14),core.lc().onSubmit()})),core.Zb(3,\"mat-tab-group\",15),core.hc(\"selectedTabChange\",(function($event){return core.Hc(_r14),core.lc().resetInput($event)})),core.Zb(4,\"mat-tab\",16),core.mc(5,\"translate\"),core.Zb(6,\"div\",17),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"mat-form-field\"),core.Zb(10,\"input\",18),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().chrono=$event})),core.mc(11,\"translate\"),core.mc(12,\"translate\"),core.Yb(),core.Yb(),core.Zb(13,\"div\",19),core.Zb(14,\"div\",20),core.Zb(15,\"div\",21),core.Zb(16,\"button\",22),core.hc(\"click\",(function(){return core.Hc(_r14),core.lc().addChrono()})),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(19,\"mat-chip-list\",23,24),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().chronoList=$event})),core.Qc(21,UpdateStatusAdministrationComponent_mat_card_12_mat_chip_21_Template,5,3,\"mat-chip\",25),core.Yb(),core.Yb(),core.Ub(22,\"mat-divider\"),core.Yb(),core.Zb(23,\"mat-tab\",16),core.mc(24,\"translate\"),core.Zb(25,\"div\",17),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Zb(28,\"mat-form-field\"),core.Zb(29,\"input\",26),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().resId=$event})),core.mc(30,\"translate\"),core.mc(31,\"translate\"),core.Yb(),core.Yb(),core.Zb(32,\"div\",19),core.Zb(33,\"div\",20),core.Zb(34,\"div\",21),core.Zb(35,\"button\",27),core.hc(\"click\",(function(){return core.Hc(_r14),core.lc().addResId()})),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(38,\"mat-chip-list\",28,24),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().resIdList=$event})),core.Qc(40,UpdateStatusAdministrationComponent_mat_card_12_mat_chip_40_Template,5,3,\"mat-chip\",25),core.Yb(),core.Yb(),core.Ub(41,\"mat-divider\"),core.Yb(),core.Yb(),core.Zb(42,\"plugin-autocomplete\",29),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r14),core.lc().setStatus($event)})),core.Yb(),core.Zb(43,\"div\",20),core.Zb(44,\"div\",30),core.Zb(45,\"button\",31),core.Sc(46),core.mc(47,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(4),core.tc(\"label\",core.nc(5,25,\"lang.chronoNumber\")),core.Eb(3),core.Uc(\" \",core.nc(8,27,\"lang.updateStatusInformationsChrono\"),\" \"),core.Eb(3),core.tc(\"title\",core.nc(11,29,\"lang.chronoNumber\")),core.tc(\"placeholder\",core.nc(12,31,\"lang.chronoNumber\")),core.sc(\"ngModel\",ctx_r1.chrono),core.Eb(6),core.sc(\"disabled\",!ctx_r1.chrono),core.Eb(1),core.Tc(core.nc(18,33,\"lang.add\")),core.Eb(2),core.sc(\"ngModel\",ctx_r1.chronoList),core.Eb(2),core.sc(\"ngForOf\",ctx_r1.chronoList),core.Eb(2),core.tc(\"label\",core.nc(24,35,\"lang.resId\")),core.Eb(3),core.Uc(\" \",core.nc(27,37,\"lang.updateStatusInformationsGed\"),\" \"),core.Eb(3),core.tc(\"title\",core.nc(30,39,\"lang.resId\")),core.tc(\"placeholder\",core.nc(31,41,\"lang.resId\")),core.sc(\"ngModel\",ctx_r1.resId),core.Eb(6),core.sc(\"disabled\",!ctx_r1.resId),core.Eb(1),core.Tc(core.nc(37,43,\"lang.add\")),core.Eb(2),core.sc(\"ngModel\",ctx_r1.resIdList),core.Eb(2),core.sc(\"ngForOf\",ctx_r1.resIdList),core.Eb(2),core.sc(\"labelPlaceholder\",ctx_r1.translate.instant(\"lang.availableStatuses\"))(\"labelList\",ctx_r1.translate.instant(\"lang.availableStatuses\"))(\"datas\",ctx_r1.statuses)(\"targetSearchKey\",\"idToDisplay\")(\"subInfoKey\",\"id\"),core.Eb(3),core.sc(\"disabled\",0==ctx_r1.resIdList.length&&0==ctx_r1.chronoList.length||ctx_r1.resIdList.length>0&&ctx_r1.chronoList.length>0||!ctx_r1.statusId),core.Eb(1),core.Tc(core.nc(47,45,\"lang.save\"))}}let update_status_administration_component_UpdateStatusAdministrationComponent=(()=>{class UpdateStatusAdministrationComponent{constructor(translate,http,notify,headerService,appService){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!1,this.statuses=[],this.statusId=\"\",this.resId=\"\",this.chrono=\"\",this.resIdList=[],this.chronoList=[]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.updateStatus\")),this.loading=!0,this.http.get(\"../rest/autocomplete/statuses\").pipe(Object(operators_tap.tap)(data=>this.statuses=data),Object(operators_tap.tap)(()=>this.loading=!1)).subscribe()}onSubmit(){const body={status:this.statusId};this.resIdList.length>0?body.resId=this.resIdList:this.chronoList.length>0&&(body.chrono=this.chronoList),this.http.put(\"../rest/res/resource/status\",body).subscribe(()=>{this.resId=\"\",this.chrono=\"\",this.statusId=\"\",this.resIdList=[],this.chronoList=[],this.notify.success(this.translate.instant(\"lang.modificationSaved\"))},err=>{this.notify.error(err.error.errors)})}addResId(){-1===this.resIdList.indexOf(this.resId)&&this.resIdList.push(this.resId),this.resId=\"\"}addChrono(){-1===this.chronoList.indexOf(this.chrono)&&this.chronoList.push(this.chrono),this.chrono=\"\"}setStatus(status){this.statusId=status.id}removeResId(resId){const resIdIndex=this.resIdList.indexOf(resId);this.resIdList.splice(resIdIndex,1)}removeChrono(chrono){const chronoIndex=this.chronoList.indexOf(chrono);this.chronoList.splice(chronoIndex,1)}resetInput(e){0===e.index?this.resId=\"\":this.chrono=\"\"}}return UpdateStatusAdministrationComponent.ɵfac=function(t){return new(t||UpdateStatusAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},UpdateStatusAdministrationComponent.ɵcmp=core.Nb({type:UpdateStatusAdministrationComponent,selectors:[[\"ng-component\"]],decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"updateStatusForm\",\"ngForm\"],[3,\"selectedTabChange\"],[3,\"label\"],[\"role\",\"alert\",1,\"alert\",\"alert-info\"],[\"matInput\",\"\",\"name\",\"chrono\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[1,\"row\"],[1,\"form-group\"],[1,\"col-md-12\",\"text-left\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"name\",\"chronoChips\",3,\"ngModel\",\"ngModelChange\"],[\"chipList\",\"\"],[\"color\",\"primary\",3,\"removable\",\"removed\",4,\"ngFor\",\"ngForOf\"],[\"type\",\"number\",\"id\",\"\",\"matInput\",\"\",\"name\",\"resId\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"button\",3,\"disabled\",\"click\"],[\"name\",\"resIdChips\",3,\"ngModel\",\"ngModelChange\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"datas\",\"targetSearchKey\",\"subInfoKey\",\"triggerEvent\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\"],[\"color\",\"primary\",3,\"removable\",\"removed\"],[1,\"badge\",\"badge-pill\",\"badge-dark\"],[\"matChipRemove\",\"\",1,\"fa\",\"fa-times-circle\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,UpdateStatusAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,UpdateStatusAdministrationComponent_mat_card_12_Template,48,47,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,tabs.c,tabs.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.w,fesm2015_button.b,chips.d,common.s,divider.a,fesm2015_forms.z,autocomplete_component.a,chips.a,icon.a,chips.e],pipes:[ngx_translate_core.d],styles:[\".mat-tab-body{overflow-y:hidden!important}.row[_ngcontent-%COMP%]{margin-left:0}\"]}),UpdateStatusAdministrationComponent})();const contacts_groups_administration_component_c0=[\"snav2\"],contacts_groups_administration_component_c1=[\"adminMenuTemplate\"];function ContactsGroupsAdministrationComponent_ng_template_1_a_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",18),core.Ub(1,\"mat-icon\",19),core.Zb(2,\"p\",16),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r6=ctx.$implicit;core.Jb(\"active\",menu_r6.current),core.sc(\"routerLink\",menu_r6.route),core.Eb(1),core.Gb(menu_r6.icon),core.Eb(2),core.Uc(\" \",menu_r6.label,\" \")}}function ContactsGroupsAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",13),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",14),core.Ub(5,\"mat-icon\",15),core.Zb(6,\"p\",16),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(9,\"mat-divider\"),core.Zb(10,\"mat-nav-list\"),core.Qc(11,ContactsGroupsAdministrationComponent_ng_template_1_a_11_Template,4,6,\"a\",17),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,3,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,5,\"lang.add\"),\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactsGroupsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",20),core.Ub(1,\"mat-spinner\",21),core.Yb())}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",49),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r9=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r9.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.label\"),\" \")}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",50),core.Sc(1),core.Yb()),2&rf){const element_r23=ctx.$implicit,ctx_r10=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r10.appService.getViewMode()),core.Eb(1),core.Tc(element_r23.label)}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",49),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.description\"),\" \"))}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",50),core.Sc(1),core.Yb()),2&rf){const element_r24=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r24.description,\" \")}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",51),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.relatedContactNumber\"),\" \"))}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_19_span_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.Yb()),2&rf){const element_r25=core.lc().$implicit;core.Eb(1),core.Tc(element_r25.nbContacts)}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_19_span_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\",55),core.Sc(1),core.Yb()),2&rf){const element_r25=core.lc().$implicit;core.Eb(1),core.Tc(element_r25.nbContacts)}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",52),core.Qc(1,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_19_span_1_Template,2,1,\"span\",53),core.Qc(2,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_19_span_2_Template,2,1,\"span\",54),core.Yb()),2&rf){const element_r25=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",0==element_r25.nbContacts),core.Eb(1),core.sc(\"ngIf\",element_r25.nbContacts>0)}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",51),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r15=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r15.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.public\"),\" \")}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_22_span_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.no\"),\" \"))}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_22_span_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.yes\"),\" \"))}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",52),core.Qc(1,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_22_span_1_Template,3,3,\"span\",53),core.Qc(2,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_22_span_2_Template,3,3,\"span\",53),core.Yb()),2&rf){const element_r30=ctx.$implicit,ctx_r16=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r16.appService.getViewMode()),core.Eb(1),core.sc(\"ngIf\",!element_r30.public),core.Eb(1),core.sc(\"ngIf\",element_r30.public)}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",51),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.createdBy\"),\" \"))}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",52),core.Sc(1),core.Yb()),2&rf){const element_r33=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r33.labelledOwner,\" \")}}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_27_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_28_Template(rf,ctx){if(1&rf){const _r36=core.ac();core.Zb(0,\"mat-cell\",56),core.Zb(1,\"button\",57),core.hc(\"click\",(function($event){core.Hc(_r36);const element_r34=ctx.$implicit,ctx_r35=core.lc(2);return $event.stopPropagation(),ctx_r35.deleteContactsGroup(element_r34.position)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",58),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function ContactsGroupsAdministrationComponent_mat_card_14_mat_header_row_29_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ContactsGroupsAdministrationComponent_mat_card_14_mat_row_30_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",59),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/contacts/contacts-groups/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function ContactsGroupsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",22),core.Zb(1,\"div\",23),core.Zb(2,\"div\",24),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",25),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",24),core.Ub(7,\"mat-paginator\",26,27),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",28,29),core.Xb(11,30),core.Qc(12,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,5,\"mat-header-cell\",31),core.Qc(13,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,3,\"mat-cell\",32),core.Wb(),core.Xb(14,33),core.Qc(15,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",34),core.Qc(16,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",35),core.Wb(),core.Xb(17,36),core.Qc(18,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",37),core.Qc(19,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_19_Template,3,2,\"mat-cell\",38),core.Wb(),core.Xb(20,39),core.Qc(21,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,3,5,\"mat-header-cell\",40),core.Qc(22,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_22_Template,3,4,\"mat-cell\",41),core.Wb(),core.Xb(23,42),core.Qc(24,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_24_Template,3,3,\"mat-header-cell\",37),core.Qc(25,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_25_Template,2,1,\"mat-cell\",38),core.Wb(),core.Xb(26,43),core.Qc(27,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_cell_27_Template,1,0,\"mat-header-cell\",44),core.Qc(28,ContactsGroupsAdministrationComponent_mat_card_14_mat_cell_28_Template,4,3,\"mat-cell\",45),core.Wb(),core.Qc(29,ContactsGroupsAdministrationComponent_mat_card_14_mat_header_row_29_Template,1,0,\"mat-header-row\",46),core.Qc(30,ContactsGroupsAdministrationComponent_mat_card_14_mat_row_30_Template,2,4,\"mat-row\",47),core.Yb(),core.Zb(31,\"div\",48),core.Sc(32),core.mc(33,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(20),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.contactsGroups.length,\" \",core.nc(33,12,\"lang.contactsGroupsAlt\"),\"\")}}let contacts_groups_administration_component_ContactsGroupsAdministrationComponent=(()=>{class ContactsGroupsAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.search=null,this.contactsGroups=[],this.titles=[],this.loading=!1,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!1},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!1},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!1},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!0},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!1}],this.displayedColumns=[\"label\",\"description\",\"nbContacts\",\"public\",\"owner\",\"actions\"],this.filterColumns=[\"label\",\"description\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.contactsGroups\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/contactsGroups\").subscribe(data=>{this.contactsGroups=data.contactsGroups,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_contacts_groups\",this.contactsGroups,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.handleErrors(err)})}deleteContactsGroup(row){const contactsGroup=this.contactsGroups[row];confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+contactsGroup.label+\" »\")&&this.http.delete(\"../rest/contactsGroups/\"+contactsGroup.id).subscribe(()=>{const lastElement=this.contactsGroups.length-1;this.contactsGroups[row]=this.contactsGroups[lastElement],this.contactsGroups[row].position=row,this.contactsGroups.splice(lastElement,1),this.adminService.setDataSource(\"admin_contacts_groups\",this.contactsGroups,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.contactsGroupDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return ContactsGroupsAdministrationComponent.ɵfac=function(t){return new(t||ContactsGroupsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},ContactsGroupsAdministrationComponent.ɵcmp=core.Nb({type:ContactsGroupsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(contacts_groups_administration_component_c0,!0),core.Oc(contacts_groups_administration_component_c1,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:17,vars:10,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"position\",\"end\",3,\"mode\",\"fixedInViewport\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/contacts/contacts-groups/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSortDisableClear\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"label\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"description\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"nbContacts\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",4,\"matCellDef\"],[\"matColumnDef\",\"public\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"owner\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[\"mat-sort-header\",\"\",2,\"flex\",\"1\"],[2,\"flex\",\"1\"],[4,\"ngIf\"],[\"color\",\"primary\",\"style\",\"font-weight:bold;\",4,\"ngIf\"],[\"color\",\"primary\",2,\"font-weight\",\"bold\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactsGroupsAdministrationComponent_ng_template_1_Template,12,7,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ContactsGroupsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,ContactsGroupsAdministrationComponent_mat_card_14_Template,34,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Ub(15,\"mat-sidenav\",11,12),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode()))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,divider.a,common.s,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}\"]}),ContactsGroupsAdministrationComponent})();var distinctUntilChanged=__webpack_require__(\"/uUt\"),progress_bar=__webpack_require__(\"bv9b\");const contacts_group_administration_component_c0=[\"snav2\"],contacts_group_administration_component_c1=[\"adminMenuTemplate\"],contacts_group_administration_component_c2=[\"paginatorContactList\"],contacts_group_administration_component_c3=[\"paginatorAdded\"],contacts_group_administration_component_c4=[\"tableAdded\"];function ContactsGroupAdministrationComponent_ng_template_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",31),core.Ub(1,\"mat-icon\",32),core.Zb(2,\"p\",33),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r16=ctx.$implicit;core.Jb(\"active\",menu_r16.current),core.sc(\"routerLink\",menu_r16.route),core.Eb(1),core.Gb(menu_r16.icon),core.Eb(2),core.Uc(\" \",menu_r16.label,\" \")}}function ContactsGroupAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,ContactsGroupAdministrationComponent_ng_template_1_a_1_Template,4,6,\"a\",30),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactsGroupAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",34),core.Ub(1,\"mat-spinner\",35),core.Yb())}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_div_11_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",60),2&rf){const ctx_r19=core.lc(3);core.sc(\"innerHTML\",ctx_r19.translate.instant(\"lang.limitDataReached_1000\"),core.Ic)}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_progress_bar_15_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-progress-bar\",61)}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_cell_3_Template(rf,ctx){if(1&rf){const _r33=core.ac();core.Zb(0,\"mat-header-cell\",68),core.Zb(1,\"mat-checkbox\",69),core.hc(\"change\",(function($event){core.Hc(_r33);const ctx_r32=core.lc(4);return $event?ctx_r32.masterToggle($event):null})),core.Yb(),core.Yb()}if(2&rf){const ctx_r24=core.lc(4);core.Eb(1),core.sc(\"checked\",ctx_r24.selection.hasValue())}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_cell_4_Template(rf,ctx){if(1&rf){const _r36=core.ac();core.Zb(0,\"mat-cell\",68),core.Zb(1,\"mat-checkbox\",70),core.hc(\"click\",(function($event){return core.Hc(_r36),$event.stopPropagation()}))(\"change\",(function($event){core.Hc(_r36);const element_r34=ctx.$implicit,ctx_r37=core.lc(4);return $event?ctx_r37.selection.toggle(element_r34.id):null})),core.Yb(),core.Yb()}if(2&rf){const element_r34=ctx.$implicit,ctx_r25=core.lc(4);core.Eb(1),core.uc(\"id\",\"check_\",element_r34.id,\"\"),core.sc(\"disabled\",ctx_r25.isInGrp(element_r34))(\"checked\",ctx_r25.selection.isSelected(element_r34.id))}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_cell_6_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.contact\"),\" \"))}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_cell_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",71),core.Sc(1),core.Yb()),2&rf){const element_r38=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r38.contact,\" \")}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_cell_9_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",71),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.address\"),\" \"))}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_cell_10_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",71),core.Sc(1),core.Yb()),2&rf){const element_r39=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r39.address,\" \")}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_row_11_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}const contacts_group_administration_component_c5=function(a0){return{opacity:a0}};function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_row_12_Template(rf,ctx){if(1&rf){const _r42=core.ac();core.Zb(0,\"mat-row\",72),core.hc(\"click\",(function(){core.Hc(_r42);const element_r40=ctx.$implicit;return core.lc(4).selectContact(element_r40.id)})),core.Yb()}if(2&rf){const element_r40=ctx.$implicit,ctx_r31=core.lc(4);core.sc(\"ngStyle\",core.zc(1,contacts_group_administration_component_c5,ctx_r31.isInGrp(element_r40)?\"0.5\":\"\"))}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-table\",62,63),core.Xb(2,64),core.Qc(3,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_cell_3_Template,2,1,\"mat-header-cell\",26),core.Qc(4,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_cell_4_Template,2,3,\"mat-cell\",65),core.Wb(),core.Xb(5,21),core.Qc(6,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_cell_6_Template,3,3,\"mat-header-cell\",66),core.Qc(7,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_cell_7_Template,2,1,\"mat-cell\",23),core.Wb(),core.Xb(8,24),core.Qc(9,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_cell_9_Template,3,3,\"mat-header-cell\",66),core.Qc(10,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_cell_10_Template,2,1,\"mat-cell\",23),core.Wb(),core.Qc(11,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_header_row_11_Template,1,0,\"mat-header-row\",28),core.Qc(12,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_mat_row_12_Template,1,3,\"mat-row\",67),core.Yb()),2&rf){const ctx_r22=core.lc(3);core.sc(\"dataSource\",ctx_r22.dataSource),core.Eb(11),core.sc(\"matHeaderRowDef\",ctx_r22.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r22.displayedColumns)}}function ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_Template(rf,ctx){if(1&rf){const _r44=core.ac();core.Zb(0,\"mat-tab\",37),core.mc(1,\"translate\"),core.Zb(2,\"div\",14),core.Zb(3,\"div\",49),core.Zb(4,\"mat-form-field\",50),core.Zb(5,\"span\",51),core.Ub(6,\"mat-icon\",52),core.Sc(7,\"   \"),core.Yb(),core.Zb(8,\"input\",53),core.hc(\"keyup\",(function(){return core.Hc(_r44),core.lc(2).launchLoading()})),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(10,\"div\",15),core.Qc(11,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_div_11_Template,1,1,\"div\",54),core.Yb(),core.Zb(12,\"div\",15),core.Ub(13,\"mat-paginator\",17,55),core.Yb(),core.Yb(),core.Qc(15,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_progress_bar_15_Template,1,0,\"mat-progress-bar\",56),core.Qc(16,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_mat_table_16_Template,13,3,\"mat-table\",57),core.Zb(17,\"div\",40),core.Zb(18,\"div\",58),core.Zb(19,\"button\",59),core.hc(\"click\",(function($event){return core.Hc(_r44),core.lc(2).saveContactsList($event.target)})),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r18=core.lc(2);core.tc(\"label\",core.nc(1,11,\"lang.addContacts\")),core.Eb(8),core.tc(\"placeholder\",core.nc(9,13,\"lang.linkContact\")),core.sc(\"formControl\",ctx_r18.searchTerm),core.Eb(3),core.sc(\"ngIf\",ctx_r18.dataSource&&1e3==ctx_r18.dataSource.data.length),core.Eb(2),core.sc(\"length\",0)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"ngIf\",!ctx_r18.dataSource&&!ctx_r18.initAutoCompleteContact),core.Eb(1),core.sc(\"ngIf\",ctx_r18.dataSource),core.Eb(3),core.sc(\"disabled\",0==ctx_r18.selection.selected.length),core.Eb(1),core.Tc(core.nc(21,15,\"lang.add\"))}}function ContactsGroupAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r47=core.ac();core.Zb(0,\"mat-card\",36),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",37),core.mc(3,\"translate\"),core.Zb(4,\"form\",38,39),core.hc(\"ngSubmit\",(function(){return core.Hc(_r47),core.lc().onSubmit()})),core.Zb(6,\"div\",40),core.Zb(7,\"div\",41),core.Zb(8,\"mat-form-field\"),core.Zb(9,\"input\",42),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r47),core.lc().contactsGroup.label=$event})),core.mc(10,\"translate\"),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(12,\"div\",40),core.Zb(13,\"div\",41),core.Zb(14,\"mat-form-field\"),core.Zb(15,\"input\",43),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r47),core.lc().contactsGroup.description=$event})),core.mc(16,\"translate\"),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"div\",40),core.Zb(19,\"div\",44),core.Zb(20,\"mat-slide-toggle\",45),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r47),core.lc().contactsGroup.public=$event})),core.mc(21,\"translate\"),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(24,\"div\",40),core.Zb(25,\"div\",46),core.Zb(26,\"button\",47),core.Sc(27),core.mc(28,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(29,ContactsGroupAdministrationComponent_mat_card_14_mat_tab_29_Template,22,17,\"mat-tab\",48),core.Yb(),core.Yb()}if(2&rf){const _r17=core.Dc(5),ctx_r3=core.lc();core.Eb(2),core.tc(\"label\",core.nc(3,14,\"lang.informations\")),core.Eb(7),core.tc(\"title\",core.nc(10,16,\"lang.label\")),core.tc(\"placeholder\",core.nc(11,18,\"lang.label\")),core.sc(\"ngModel\",ctx_r3.contactsGroup.label),core.Eb(6),core.tc(\"title\",core.nc(16,20,\"lang.description\")),core.tc(\"placeholder\",core.nc(17,22,\"lang.description\")),core.sc(\"ngModel\",ctx_r3.contactsGroup.description),core.Eb(5),core.tc(\"title\",core.nc(21,24,\"lang.contactsGroupDesc\")),core.sc(\"ngModel\",ctx_r3.contactsGroup.public)(\"checked\",ctx_r3.contactsGroup.public),core.Eb(2),core.Tc(core.nc(23,26,\"lang.public\")),core.Eb(4),core.sc(\"disabled\",!_r17.form.valid),core.Eb(1),core.Tc(core.nc(28,28,\"lang.save\")),core.Eb(2),core.sc(\"ngIf\",!ctx_r3.creationMode)}}function ContactsGroupAdministrationComponent_mat_header_cell_32_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",73),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.contact\"),\" \"))}function ContactsGroupAdministrationComponent_mat_cell_33_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",71),core.Sc(1),core.Yb()),2&rf){const element_r51=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r51.contact,\" \")}}function ContactsGroupAdministrationComponent_mat_header_cell_35_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",73),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.address\"),\" \"))}function ContactsGroupAdministrationComponent_mat_cell_36_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",71),core.Sc(1),core.Yb()),2&rf){const element_r52=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r52.address,\" \")}}function ContactsGroupAdministrationComponent_mat_header_cell_38_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\",68)}function ContactsGroupAdministrationComponent_mat_cell_39_Template(rf,ctx){if(1&rf){const _r55=core.ac();core.Zb(0,\"mat-cell\",74),core.Zb(1,\"button\",75),core.hc(\"click\",(function($event){core.Hc(_r55);const element_r53=ctx.$implicit,ctx_r54=core.lc();return $event.stopPropagation(),ctx_r54.preDelete(element_r53.position)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",76),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function ContactsGroupAdministrationComponent_mat_header_row_40_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ContactsGroupAdministrationComponent_mat_row_41_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}let contacts_group_administration_component_ContactsGroupAdministrationComponent=(()=>{class ContactsGroupAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!1},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!1},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!1},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!1},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!1}],this.contactsGroup={},this.loading=!1,this.initAutoCompleteContact=!0,this.searchTerm=new fesm2015_forms.h,this.searchResult=[],this.displayedColumns=[\"select\",\"contact\",\"address\"],this.displayedColumnsAdded=[\"contact\",\"address\",\"actions\"],this.selection=new collections.c(!0,[]),this.searchTerm.valueChanges.pipe(Object(debounceTime.a)(500),Object(filter.a)(value=>value.length>2),Object(distinctUntilChanged.a)(),Object(switchMap.a)(data=>this.http.get(\"../rest/autocomplete/contacts\",{params:{search:data}}))).subscribe(response=>{this.searchResult=response,this.dataSource=new table.o(this.searchResult),this.dataSource.paginator=this.paginator})}masterToggle(event){event.checked?this.dataSource.data.forEach(row=>{$(\"#check_\"+row.id+\"-input\").is(\":disabled\")||this.selection.select(row.id)}):this.selection.clear()}applyFilter(filterValue){filterValue=(filterValue=filterValue.trim()).toLowerCase(),this.dataSourceAdded.filter=filterValue}ngOnInit(){this.loading=!0,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.contactGroupCreation\")),this.creationMode=!0,this.contactsGroup.public=!1,this.loading=!1):(this.creationMode=!1,this.http.get(\"../rest/contactsGroups/\"+params.id).subscribe(data=>{this.contactsGroup=data.contactsGroup,this.headerService.setHeader(this.translate.instant(\"lang.contactsGroupModification\"),this.contactsGroup.label),this.nbContact=this.contactsGroup.nbContacts,setTimeout(()=>{this.dataSourceAdded=new table.o(this.contactsGroup.contacts),this.dataSourceAdded.paginator=this.paginatorAdded,this.dataSourceAdded.sort=this.sortAdded},0),this.loading=!1}))})}saveContactsList(elem){elem.textContent=this.translate.instant(\"lang.loading\")+\"...\",elem.disabled=!0,this.http.post(\"../rest/contactsGroups/\"+this.contactsGroup.id+\"/contacts\",{contacts:this.selection.selected}).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.contactAdded\")),this.nbContact=this.nbContact+this.selection.selected.length,this.selection.clear(),elem.textContent=this.translate.instant(\"lang.add\"),this.contactsGroup=data.contactsGroup,setTimeout(()=>{this.dataSourceAdded=new table.o(this.contactsGroup.contacts),this.dataSourceAdded.paginator=this.paginatorAdded,this.dataSourceAdded.sort=this.sortAdded},0)},err=>{this.notify.error(err.error.errors)})}onSubmit(){this.creationMode?this.http.post(\"../rest/contactsGroups\",this.contactsGroup).subscribe(data=>{this.router.navigate([\"/administration/contacts/contacts-groups/\"+data.contactsGroup]),this.notify.success(this.translate.instant(\"lang.contactsGroupAdded\"))},err=>{this.notify.error(err.error.errors)}):this.http.put(\"../rest/contactsGroups/\"+this.contactsGroup.id,this.contactsGroup).subscribe(()=>{this.router.navigate([\"/administration/contacts-groups\"]),this.notify.success(this.translate.instant(\"lang.contactsGroupUpdated\"))},err=>{this.notify.error(err.error.errors)})}preDelete(row){confirm(this.translate.instant(\"lang.reallyWantToDeleteContactFromGroup\"))&&this.removeContact(this.contactsGroup.contacts[row],row)}removeContact(contact,row){this.http.delete(\"../rest/contactsGroups/\"+this.contactsGroup.id+\"/contacts/\"+contact.id).subscribe(()=>{const lastElement=this.contactsGroup.contacts.length-1;this.contactsGroup.contacts[row]=this.contactsGroup.contacts[lastElement],this.contactsGroup.contacts[row].position=row,this.contactsGroup.contacts.splice(lastElement,1),this.nbContact=this.nbContact-1,this.dataSourceAdded=new table.o(this.contactsGroup.contacts),this.dataSourceAdded.paginator=this.paginatorAdded,this.dataSourceAdded.sort=this.sortAdded,this.notify.success(this.translate.instant(\"lang.contactDeletedFromGroup\"))},err=>{this.notify.error(err.error.errors)})}launchLoading(){this.searchTerm.value.length>2&&(this.dataSource=null,this.initAutoCompleteContact=!1)}isInGrp(contact){let isInGrp=!1;return this.contactsGroup.contacts.forEach(row=>{row.id==contact.id&&(isInGrp=!0)}),isInGrp}selectContact(id){$(\"#check_\"+id+\"-input\").is(\":disabled\")||this.selection.toggle(id)}}return ContactsGroupAdministrationComponent.ɵfac=function(t){return new(t||ContactsGroupAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},ContactsGroupAdministrationComponent.ɵcmp=core.Nb({type:ContactsGroupAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(contacts_group_administration_component_c0,!0),core.Oc(contacts_group_administration_component_c1,!0),core.Oc(contacts_group_administration_component_c2,!0),core.Oc(contacts_group_administration_component_c3,!0),core.Oc(contacts_group_administration_component_c4,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.paginatorAdded=_t.first),core.Cc(_t=core.ic())&&(ctx.sortAdded=_t.first))},decls:42,vars:24,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"40%\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"placeholder\",\"keyup\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginatorAdded\",\"\"],[\"matSort\",\"\",\"matSortActive\",\"contact\",\"matSortDirection\",\"asc\",3,\"dataSource\"],[\"tableAdded\",\"matSort\"],[\"matColumnDef\",\"contact\"],[\"mat-sort-header\",\"\",\"style\",\"flex:3;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:3;\",4,\"matCellDef\"],[\"matColumnDef\",\"address\"],[\"matColumnDef\",\"actions\"],[\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;flex:1;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"label\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"contactsGroupFormUp\",\"ngForm\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"label\",\"id\",\"label\",\"type\",\"text\",\"maxlength\",\"32\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"description\",\"id\",\"description\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"col-sm-6\",2,\"text-align\",\"center\"],[\"name\",\"public\",\"id\",\"public\",\"color\",\"primary\",3,\"title\",\"ngModel\",\"checked\",\"ngModelChange\"],[1,\"col-sm-12\",2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[3,\"label\",4,\"ngIf\"],[1,\"col-md-8\",2,\"padding\",\"5px\"],[\"hintLabel\",\"3 caractères minium\"],[\"matPrefix\",\"\"],[\"color\",\"primary\",1,\"fa\",\"fa-user-plus\"],[\"type\",\"text\",\"matInput\",\"\",\"autocomplete\",\"off\",\"minlength\",\"3\",1,\"autocompleteSearch\",3,\"placeholder\",\"formControl\",\"keyup\"],[\"class\",\"alert alert-danger\",3,\"innerHTML\",4,\"ngIf\"],[\"paginatorContactList\",\"\"],[\"mode\",\"indeterminate\",4,\"ngIf\"],[3,\"dataSource\",4,\"ngIf\"],[1,\"col-sm-12\",2,\"text-align\",\"center\",\"margin-top\",\"30px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"button\",3,\"disabled\",\"click\"],[1,\"alert\",\"alert-danger\",3,\"innerHTML\"],[\"mode\",\"indeterminate\"],[3,\"dataSource\"],[\"tableContactList\",\"\"],[\"matColumnDef\",\"select\"],[\"style\",\"flex:1;\",4,\"matCellDef\"],[\"style\",\"flex:3;\",4,\"matHeaderCellDef\"],[\"style\",\"cursor: pointer;\",3,\"ngStyle\",\"click\",4,\"matRowDef\",\"matRowDefColumns\"],[2,\"flex\",\"1\"],[\"color\",\"primary\",3,\"checked\",\"change\"],[\"color\",\"primary\",3,\"id\",\"disabled\",\"checked\",\"click\",\"change\"],[2,\"flex\",\"3\"],[2,\"cursor\",\"pointer\",3,\"ngStyle\",\"click\"],[\"mat-sort-header\",\"\",2,\"flex\",\"3\"],[2,\"justify-content\",\"flex-end\",\"flex\",\"1\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactsGroupAdministrationComponent_ng_template_1_Template,2,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ContactsGroupAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,ContactsGroupAdministrationComponent_mat_card_14_Template,30,30,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"mat-list\"),core.Zb(18,\"h3\",13),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Yb(),core.Zb(21,\"div\",14),core.Zb(22,\"div\",15),core.Zb(23,\"mat-form-field\"),core.Zb(24,\"input\",16),core.hc(\"keyup\",(function($event){return ctx.applyFilter($event.target.value)})),core.mc(25,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(26,\"div\",15),core.Ub(27,\"mat-paginator\",17,18),core.Yb(),core.Yb(),core.Zb(29,\"mat-table\",19,20),core.Xb(31,21),core.Qc(32,ContactsGroupAdministrationComponent_mat_header_cell_32_Template,3,3,\"mat-header-cell\",22),core.Qc(33,ContactsGroupAdministrationComponent_mat_cell_33_Template,2,1,\"mat-cell\",23),core.Wb(),core.Xb(34,24),core.Qc(35,ContactsGroupAdministrationComponent_mat_header_cell_35_Template,3,3,\"mat-header-cell\",22),core.Qc(36,ContactsGroupAdministrationComponent_mat_cell_36_Template,2,1,\"mat-cell\",23),core.Wb(),core.Xb(37,25),core.Qc(38,ContactsGroupAdministrationComponent_mat_header_cell_38_Template,1,0,\"mat-header-cell\",26),core.Qc(39,ContactsGroupAdministrationComponent_mat_cell_39_Template,4,3,\"mat-cell\",27),core.Wb(),core.Qc(40,ContactsGroupAdministrationComponent_mat_header_row_40_Template,1,0,\"mat-header-row\",28),core.Qc(41,ContactsGroupAdministrationComponent_mat_row_41_Template,1,0,\"mat-row\",29),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()&&!ctx.creationMode),core.Eb(4),core.Vc(\"\",ctx.nbContact,\" \",core.nc(20,20,\"lang.relatedContacts\"),\" : \"),core.Eb(5),core.tc(\"placeholder\",core.nc(25,22,\"lang.filterBy\")),core.Eb(3),core.sc(\"length\",0)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx.dataSourceAdded),core.Eb(11),core.sc(\"matHeaderRowDef\",ctx.displayedColumnsAdded),core.Eb(1),core.sc(\"matRowDefColumns\",ctx.displayedColumnsAdded))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,list.g,form_field.c,input.b,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,list.h,common.s,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,tabs.c,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,slide_toggle.a,fesm2015_button.b,form_field.i,fesm2015_forms.p,fesm2015_forms.i,progress_bar.a,table.h,fesm2015_checkbox.a,table.a,table.j,table.l,common.w,fesm2015_sort.b,tooltip.b],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}\"]}),ContactsGroupAdministrationComponent})();var slider=__webpack_require__(\"5RNC\");const contacts_parameters_administration_component_c0=[\"adminMenuTemplate\"];function ContactsParametersAdministrationComponent_ng_template_1_span_8_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.disabledContactsFilling\")))}function ContactsParametersAdministrationComponent_ng_template_1_span_9_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.enabledContactsFilling\")))}function ContactsParametersAdministrationComponent_ng_template_1_a_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",18),core.Ub(1,\"mat-icon\",13),core.Zb(2,\"p\",19),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r7=ctx.$implicit;core.Jb(\"active\",menu_r7.current),core.sc(\"routerLink\",menu_r7.route),core.Eb(1),core.Gb(menu_r7.icon),core.Eb(2),core.Uc(\" \",menu_r7.label,\" \")}}const contacts_parameters_administration_component_c1=function(a0){return{opacity:a0}};function ContactsParametersAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Zb(5,\"mat-icon\",13),core.Zb(6,\"mat-slide-toggle\",14),core.hc(\"change\",(function(){return core.Hc(_r9),core.lc().toggleFillingContact()})),core.Yb(),core.Yb(),core.Zb(7,\"p\",15),core.hc(\"click\",(function(){return core.Hc(_r9),core.lc().toggleFillingContact()})),core.Qc(8,ContactsParametersAdministrationComponent_ng_template_1_span_8_Template,3,3,\"span\",16),core.Qc(9,ContactsParametersAdministrationComponent_ng_template_1_span_9_Template,3,3,\"span\",16),core.Yb(),core.Yb(),core.Yb(),core.Ub(10,\"mat-divider\"),core.Zb(11,\"mat-nav-list\"),core.Qc(12,ContactsParametersAdministrationComponent_ng_template_1_a_12_Template,4,6,\"a\",17),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,6,\"lang.actions\")),core.Eb(4),core.sc(\"checked\",ctx_r1.contactsFilling.enable),core.Eb(1),core.sc(\"ngStyle\",core.zc(8,contacts_parameters_administration_component_c1,ctx_r1.contactsFilling.enable?\"\":\"0.5\")),core.Eb(1),core.sc(\"ngIf\",ctx_r1.contactsFilling.enable),core.Eb(1),core.sc(\"ngIf\",!ctx_r1.contactsFilling.enable),core.Eb(3),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactsParametersAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",20),core.Ub(1,\"mat-spinner\",21),core.Yb())}function ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_62_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.label\")))}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_63_div_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const element_r24=core.lc().$implicit;core.Eb(1),core.Tc(core.nc(2,1,\"lang.contactsParameters_\"+element_r24.identifier))}}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_63_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\"),core.Sc(1),core.Yb()),2&rf){const element_r24=core.lc().$implicit;core.Eb(1),core.Tc(element_r24.label)}}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_63_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_63_div_1_Template,3,3,\"div\",16),core.Qc(2,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_63_div_2_Template,2,1,\"div\",16),core.Yb()),2&rf){const element_r24=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",!element_r24.label),core.Eb(1),core.sc(\"ngIf\",element_r24.label)}}function ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_65_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.mandatory\")))}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_66_Template(rf,ctx){if(1&rf){const _r31=core.ac();core.Zb(0,\"mat-cell\"),core.Zb(1,\"mat-slide-toggle\",43),core.hc(\"change\",(function($event){core.Hc(_r31);const element_r29=ctx.$implicit;return core.lc(2).addCriteria($event,element_r29,\"mandatory\")})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const element_r29=ctx.$implicit;core.Eb(1),core.tc(\"title\",core.nc(2,3,\"lang.mandatory\")),core.sc(\"disabled\",\"lastname\"==element_r29.identifier||\"company\"==element_r29.identifier)(\"checked\",element_r29.mandatory)}}function ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_68_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.contactsFillingCriteria\"),\" \"))}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_69_Template(rf,ctx){if(1&rf){const _r34=core.ac();core.Zb(0,\"mat-cell\"),core.Zb(1,\"mat-slide-toggle\",44),core.hc(\"change\",(function($event){core.Hc(_r34);const element_r32=ctx.$implicit;return core.lc(2).addCriteria($event,element_r32,\"filling\")})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const element_r32=ctx.$implicit;core.Eb(1),core.tc(\"title\",core.nc(2,2,\"lang.contactsFillingCriteria\")),core.sc(\"checked\",element_r32.filling)}}function ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_71_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.autocompletionSearchable\"),\" \"))}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_72_Template(rf,ctx){if(1&rf){const _r37=core.ac();core.Zb(0,\"mat-cell\"),core.Zb(1,\"mat-slide-toggle\",43),core.hc(\"change\",(function($event){core.Hc(_r37);const element_r35=ctx.$implicit;return core.lc(2).addCriteria($event,element_r35,\"searchable\")})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const element_r35=ctx.$implicit;core.Eb(1),core.tc(\"title\",core.nc(2,3,\"lang.autocompletionSearchable\")),core.sc(\"disabled\",\"lastname\"==element_r35.identifier||\"company\"==element_r35.identifier||\"civility\"==element_r35.identifier)(\"checked\",element_r35.searchable)}}function ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_74_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.autocompletionDisplayable\"),\" \"))}function ContactsParametersAdministrationComponent_mat_card_14_mat_cell_75_Template(rf,ctx){if(1&rf){const _r40=core.ac();core.Zb(0,\"mat-cell\"),core.Zb(1,\"mat-slide-toggle\",43),core.hc(\"change\",(function($event){core.Hc(_r40);const element_r38=ctx.$implicit;return core.lc(2).addCriteria($event,element_r38,\"displayable\")})),core.mc(2,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const element_r38=ctx.$implicit;core.Eb(1),core.tc(\"title\",core.nc(2,3,\"lang.autocompletionDisplayable\")),core.sc(\"disabled\",\"lastname\"==element_r38.identifier||\"company\"==element_r38.identifier)(\"checked\",element_r38.displayable)}}function ContactsParametersAdministrationComponent_mat_card_14_mat_header_row_76_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ContactsParametersAdministrationComponent_mat_card_14_mat_row_77_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}const contacts_parameters_administration_component_c2=function(a0){return{color:a0}};function ContactsParametersAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r43=core.ac();core.Zb(0,\"mat-card\",22),core.Zb(1,\"div\",23),core.Zb(2,\"div\",24),core.Zb(3,\"mat-card\",25),core.Zb(4,\"mat-card-header\"),core.Zb(5,\"mat-card-title\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Yb(),core.Zb(8,\"p\"),core.Sc(9),core.mc(10,\"translate\"),core.Zb(11,\"b\",26),core.Sc(12,\"0%\"),core.Yb(),core.Sc(13),core.mc(14,\"translate\"),core.Zb(15,\"b\",26),core.Sc(16),core.Yb(),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Zb(19,\"mat-slider\",27),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r43),core.lc().contactsFilling.first_threshold=$event}))(\"change\",(function(){return core.Hc(_r43),core.lc().onSubmit()})),core.Yb(),core.Ub(20,\"input\",28),core.Yb(),core.Yb(),core.Zb(21,\"div\",24),core.Zb(22,\"mat-card\",25),core.Zb(23,\"mat-card-header\"),core.Zb(24,\"mat-card-title\"),core.Sc(25),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Zb(27,\"p\"),core.Sc(28),core.mc(29,\"translate\"),core.Zb(30,\"b\",26),core.Sc(31),core.Yb(),core.Sc(32),core.mc(33,\"translate\"),core.Zb(34,\"b\",26),core.Sc(35),core.Yb(),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Zb(38,\"mat-slider\",29),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r43),core.lc().contactsFilling.second_threshold=$event}))(\"change\",(function(){return core.Hc(_r43),core.lc().onSubmit()})),core.Yb(),core.Ub(39,\"input\",28),core.Yb(),core.Yb(),core.Zb(40,\"div\",24),core.Zb(41,\"mat-card\",25),core.Zb(42,\"mat-card-header\"),core.Zb(43,\"mat-card-title\"),core.Sc(44),core.mc(45,\"translate\"),core.Yb(),core.Yb(),core.Zb(46,\"p\"),core.Sc(47),core.mc(48,\"translate\"),core.Zb(49,\"b\",26),core.Sc(50),core.Yb(),core.Sc(51),core.mc(52,\"translate\"),core.Zb(53,\"b\",26),core.Sc(54,\"100%\"),core.Yb(),core.Sc(55),core.mc(56,\"translate\"),core.Yb(),core.Ub(57,\"mat-slider\",30),core.Ub(58,\"input\",28),core.Yb(),core.Yb(),core.Yb(),core.Zb(59,\"mat-table\",31,32),core.Xb(61,33),core.Qc(62,ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_62_Template,3,3,\"mat-header-cell\",34),core.Qc(63,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_63_Template,3,2,\"mat-cell\",35),core.Wb(),core.Xb(64,36),core.Qc(65,ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_65_Template,3,3,\"mat-header-cell\",34),core.Qc(66,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_66_Template,3,5,\"mat-cell\",35),core.Wb(),core.Xb(67,37),core.Qc(68,ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_68_Template,3,3,\"mat-header-cell\",34),core.Qc(69,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_69_Template,3,4,\"mat-cell\",35),core.Wb(),core.Xb(70,38),core.Qc(71,ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_71_Template,3,3,\"mat-header-cell\",34),core.Qc(72,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_72_Template,3,5,\"mat-cell\",35),core.Wb(),core.Xb(73,39),core.Qc(74,ContactsParametersAdministrationComponent_mat_card_14_mat_header_cell_74_Template,3,3,\"mat-header-cell\",34),core.Qc(75,ContactsParametersAdministrationComponent_mat_card_14_mat_cell_75_Template,3,5,\"mat-cell\",35),core.Wb(),core.Qc(76,ContactsParametersAdministrationComponent_mat_card_14_mat_header_row_76_Template,1,0,\"mat-header-row\",40),core.Qc(77,ContactsParametersAdministrationComponent_mat_card_14_mat_row_77_Template,1,0,\"mat-row\",41),core.Yb(),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.Eb(6),core.Tc(core.nc(7,31,\"lang.contactsFillingStep1\")),core.Eb(3),core.Uc(\"\",core.nc(10,33,\"lang.fromRange\"),\" \"),core.Eb(2),core.sc(\"ngStyle\",core.zc(55,contacts_parameters_administration_component_c2,ctx_r3.fillingColor.first_threshold)),core.Eb(2),core.Uc(\" \",core.nc(14,35,\"lang.toRange\"),\" \"),core.Eb(2),core.sc(\"ngStyle\",core.zc(57,contacts_parameters_administration_component_c2,ctx_r3.fillingColor.first_threshold)),core.Eb(1),core.Uc(\"\",ctx_r3.contactsFilling.first_threshold,\"%\"),core.Eb(1),core.Uc(\" \",core.nc(18,37,\"lang.contactsFillingStr\"),\"\"),core.Eb(2),core.sc(\"ngModel\",ctx_r3.contactsFilling.first_threshold),core.Eb(1),core.tc(\"value\",ctx_r3.fillingColor.first_threshold),core.Eb(5),core.Tc(core.nc(26,39,\"lang.contactsFillingStep2\")),core.Eb(3),core.Uc(\"\",core.nc(29,41,\"lang.fromRange\"),\" \"),core.Eb(2),core.sc(\"ngStyle\",core.zc(59,contacts_parameters_administration_component_c2,ctx_r3.fillingColor.second_threshold)),core.Eb(1),core.Uc(\"\",ctx_r3.contactsFilling.first_threshold+1,\"%\"),core.Eb(1),core.Uc(\" \",core.nc(33,43,\"lang.toRange\"),\" \"),core.Eb(2),core.sc(\"ngStyle\",core.zc(61,contacts_parameters_administration_component_c2,ctx_r3.fillingColor.second_threshold)),core.Eb(1),core.Uc(\"\",ctx_r3.contactsFilling.second_threshold,\"%\"),core.Eb(1),core.Uc(\" \",core.nc(37,45,\"lang.contactsFillingStr\"),\"\"),core.Eb(2),core.sc(\"ngModel\",ctx_r3.contactsFilling.second_threshold)(\"min\",ctx_r3.contactsFilling.first_threshold+1),core.Eb(1),core.tc(\"value\",ctx_r3.fillingColor.second_threshold),core.Eb(5),core.Tc(core.nc(45,47,\"lang.contactsFillingStep3\")),core.Eb(3),core.Uc(\"\",core.nc(48,49,\"lang.fromRange\"),\" \"),core.Eb(2),core.sc(\"ngStyle\",core.zc(63,contacts_parameters_administration_component_c2,ctx_r3.fillingColor.third_threshold)),core.Eb(1),core.Uc(\"\",ctx_r3.contactsFilling.second_threshold+1,\"%\"),core.Eb(1),core.Uc(\" \",core.nc(52,51,\"lang.toRange\"),\" \"),core.Eb(2),core.sc(\"ngStyle\",core.zc(65,contacts_parameters_administration_component_c2,ctx_r3.fillingColor.third_threshold)),core.Eb(2),core.Uc(\" \",core.nc(56,53,\"lang.contactsFillingStr\"),\"\"),core.Eb(3),core.tc(\"value\",ctx_r3.fillingColor.third_threshold),core.Eb(1),core.sc(\"dataSource\",ctx_r3.dataSource),core.Eb(17),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns)}}let contacts_parameters_administration_component_ContactsParametersAdministrationComponent=(()=>{class ContactsParametersAdministrationComponent{constructor(translate,http,notify,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!1},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!1},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!0},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!1},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!1}],this.contactsFilling={enable:!1,first_threshold:\"33\",second_threshold:\"66\"},this.contactsParameters=[],this.arrRatingColumns=[],this.fillingColor={first_threshold:\"#E81C2B\",second_threshold:\"#F4891E\",third_threshold:\"#0AA34F\"},this.loading=!1,this.dataSource=new table.o(this.contactsParameters),this.displayedColumns=[\"identifier\",\"mandatory\",\"filling\",\"searchable\",\"displayable\"]}ngOnInit(){this.loading=!0,this.headerService.setHeader(this.translate.instant(\"lang.contactsParameters\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.http.get(\"../rest/contactsParameters\").subscribe(data=>{this.contactsFilling=data.contactsFilling,this.contactsParameters=data.contactsParameters,this.loading=!1,setTimeout(()=>{this.dataSource=new table.o(this.contactsParameters),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},0)})}addCriteria(event,criteria,type){this.contactsParameters.forEach((col,i)=>{col.id==criteria.id&&(this.contactsParameters[i][type]=event.checked)}),this.onSubmit()}onSubmit(){this.contactsFilling.first_threshold>=this.contactsFilling.second_threshold&&(this.contactsFilling.second_threshold=this.contactsFilling.first_threshold+1),this.http.put(\"../rest/contactsParameters\",{contactsFilling:this.contactsFilling,contactsParameters:this.contactsParameters}).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.parameterUpdated\"))},err=>{this.notify.error(err.error.errors)})}toggleFillingContact(){this.contactsFilling.enable=!0!==this.contactsFilling.enable,this.onSubmit()}}return ContactsParametersAdministrationComponent.ɵfac=function(t){return new(t||ContactsParametersAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},ContactsParametersAdministrationComponent.ɵcmp=core.Nb({type:ContactsParametersAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(contacts_parameters_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"disableRipple\",\"true\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"color\",\"primary\",3,\"checked\",\"change\"],[\"mat-line\",\"\",3,\"ngStyle\",\"click\"],[4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-4\",\"col-xs-12\"],[2,\"margin-bottom\",\"5px\"],[3,\"ngStyle\"],[\"color\",\"primary\",\"max\",\"98\",\"min\",\"1\",\"step\",\"1\",\"thumbLabel\",\"true\",2,\"width\",\"100%\",3,\"ngModel\",\"ngModelChange\",\"change\"],[\"disabled\",\"\",\"matInput\",\"\",\"type\",\"color\",\"name\",\"color\",3,\"value\"],[\"color\",\"primary\",\"max\",\"99\",\"step\",\"1\",\"thumbLabel\",\"true\",2,\"width\",\"100%\",3,\"ngModel\",\"min\",\"ngModelChange\",\"change\"],[\"color\",\"primary\",\"max\",\"100\",\"min\",\"100\",\"step\",\"1\",\"thumbLabel\",\"true\",\"disabled\",\"\",2,\"width\",\"100%\"],[\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"identifier\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"mandatory\"],[\"matColumnDef\",\"filling\"],[\"matColumnDef\",\"searchable\"],[\"matColumnDef\",\"displayable\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[\"mat-sort-header\",\"\"],[\"color\",\"primary\",2,\"margin-left\",\"11px\",3,\"disabled\",\"title\",\"checked\",\"change\"],[\"color\",\"primary\",2,\"margin-left\",\"11px\",3,\"title\",\"checked\",\"change\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactsParametersAdministrationComponent_ng_template_1_Template,13,10,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ContactsParametersAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,ContactsParametersAdministrationComponent_mat_card_14_Template,78,67,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,icon.a,list.c,slide_toggle.a,fesm2015_core.k,common.w,divider.a,common.s,fesm2015_router.f,progress_spinner.c,card.a,card.f,card.m,slider.a,fesm2015_forms.t,fesm2015_forms.w,input.b,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,table.j,table.l],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}\"]}),ContactsParametersAdministrationComponent})();const versions_update_administration_component_c0=[\"snav2\"];function VersionsUpdateAdministrationComponent_div_0_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Sc(2,\"  \"),core.Zb(3,\"div\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(4),core.Uc(\" \",core.nc(5,1,\"lang.updateInProgress\"),\" \"))}function VersionsUpdateAdministrationComponent_div_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",17),core.Ub(1,\"mat-spinner\",18),core.Yb())}function VersionsUpdateAdministrationComponent_mat_card_13_div_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",24),core.Ub(1,\"mat-icon\",25),core.Zb(2,\"span\",26),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Ub(5,\"mat-icon\",27),core.Yb()),2&rf&&(core.Eb(3),core.Uc(\"\",core.nc(4,1,\"lang.appUpToDate\"),\" !\"))}function VersionsUpdateAdministrationComponent_mat_card_13_div_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",28),core.Ub(1,\"mat-icon\",29),core.Zb(2,\"span\",26),core.Sc(3),core.mc(4,\"translate\"),core.Zb(5,\"a\",30),core.Sc(6),core.Yb(),core.Yb(),core.Ub(7,\"mat-icon\",31),core.Yb()),2&rf){const ctx_r6=core.lc(2);core.Eb(3),core.Uc(\" \",core.nc(4,3,\"lang.newVersionAvailable\"),\" ! \"),core.Eb(2),core.uc(\"href\",\"https://labs.maarch.org/maarch/MaarchCourrier/tags/\",ctx_r6.versions.lastAvailableMinorVersion,\"\",core.Kc),core.Eb(1),core.Tc(ctx_r6.versions.lastAvailableMinorVersion)}}function VersionsUpdateAdministrationComponent_mat_card_13_div_3_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",32),2&rf){const ctx_r7=core.lc(2);core.sc(\"innerHTML\",ctx_r7.translate.instant(\"lang.updateWarn\")+ctx_r7.versions.diffOutput.join(\"<br/>\"),core.Ic)}}function VersionsUpdateAdministrationComponent_mat_card_13_div_4_Template(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"div\",33),core.Zb(1,\"button\",34),core.hc(\"click\",(function(){return core.Hc(_r10),core.lc(2).updateVersionAccess()})),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r8=core.lc(2);core.Eb(1),core.sc(\"disabled\",!ctx_r8.versions.canUpdate),core.Eb(1),core.Tc(core.nc(3,2,\"lang.makeUpdate\"))}}function VersionsUpdateAdministrationComponent_mat_card_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",19),core.Qc(1,VersionsUpdateAdministrationComponent_mat_card_13_div_1_Template,6,3,\"div\",20),core.Qc(2,VersionsUpdateAdministrationComponent_mat_card_13_div_2_Template,8,5,\"div\",21),core.Qc(3,VersionsUpdateAdministrationComponent_mat_card_13_div_3_Template,1,1,\"div\",22),core.Qc(4,VersionsUpdateAdministrationComponent_mat_card_13_div_4_Template,4,4,\"div\",23),core.Yb()),2&rf){const ctx_r2=core.lc();core.Eb(1),core.sc(\"ngIf\",null==ctx_r2.versions.lastAvailableMinorVersion),core.Eb(1),core.sc(\"ngIf\",null!=ctx_r2.versions.lastAvailableMinorVersion),core.Eb(1),core.sc(\"ngIf\",!ctx_r2.versions.canUpdate&&null!=ctx_r2.versions.lastAvailableMinorVersion),core.Eb(1),core.sc(\"ngIf\",null!=ctx_r2.versions.lastAvailableMinorVersion)}}function VersionsUpdateAdministrationComponent_div_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",35),core.Sc(1,\" Maarch Courrier \"),core.Zb(2,\"a\",30),core.Sc(3),core.Yb(),core.Sc(4),core.mc(5,\"translate\"),core.Yb()),2&rf){const ctx_r4=core.lc();core.Eb(2),core.uc(\"href\",\"https://labs.maarch.org/maarch/MaarchCourrier/tags/\",ctx_r4.versions.lastAvailableMajorVersion,\"\",core.Kc),core.Eb(1),core.Tc(ctx_r4.versions.lastAvailableMajorVersion),core.Eb(1),core.Uc(\" \",core.nc(5,3,\"lang.isAvailable\"),\" ! \")}}let versions_update_administration_component_VersionsUpdateAdministrationComponent=(()=>{class VersionsUpdateAdministrationComponent{constructor(translate,http,headerService,notify,dialog,appService){this.translate=translate,this.http=http,this.headerService=headerService,this.notify=notify,this.dialog=dialog,this.appService=appService,this.loading=!1,this.updateInprogress=!1,this.versions={}}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.updateVersionControl\")),this.loading=!0,this.http.get(\"../rest/versionsUpdate\").pipe(Object(tap.a)(data=>{this.versions=data}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1))),Object(tap.a)(()=>{this.loading=!1})).subscribe()}updateVersionAccess(){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",data:{title:this.translate.instant(\"lang.confirm\")+\" ?\",msg:this.translate.instant(\"lang.updateInfo\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>(this.dialogRef=null,\"ok\"===data?(this.updateInprogress=!0,!0):(this.updateInprogress=!1,!1))),Object(exhaustMap.a)(()=>this.http.put(\"../rest/versionsUpdate\",{})),Object(tap.a)(()=>{this.dialogRef=this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.updateOk\"),msg:this.translate.instant(\"lang.saveInDocserversInfo\")}})}),Object(exhaustMap.a)(()=>this.dialogRef.afterClosed()),Object(tap.a)(()=>{this.dialogRef=null,window.location.reload(!0)}),Object(catchError.a)(err=>(this.dialogRef=this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.updateKO\"),msg:this.translate.instant(\"lang.saveInDocserversInfo\")}}),this.notify.handleErrors(err),Object(observable_of.of)(!1))),Object(tap.a)(()=>{this.updateInprogress=!1})).subscribe()}}return VersionsUpdateAdministrationComponent.ɵfac=function(t){return new(t||VersionsUpdateAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(header_service.a),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(app_service.a))},VersionsUpdateAdministrationComponent.ɵcmp=core.Nb({type:VersionsUpdateAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(versions_update_administration_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first)},decls:24,vars:17,consts:[[\"class\",\"updateInProgress\",4,\"ngIf\"],[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"class\",\"alert-message alert-message-info\",\"style\",\"display: flex;\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[1,\"updateInProgress\"],[\"diameter\",\"30\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"class\",\"alert alert-info\",\"style\",\"display: flex;\",4,\"ngIf\"],[\"class\",\"alert alert-success\",\"style\",\"display: flex;\",4,\"ngIf\"],[\"class\",\"alert-message alert-message-danger\",3,\"innerHTML\",4,\"ngIf\"],[\"class\",\"col-sm-12\",\"style\",\"text-align:center;\",4,\"ngIf\"],[1,\"alert\",\"alert-info\",2,\"display\",\"flex\"],[1,\"fa\",\"fa-check\",\"fa-2x\",2,\"flex\",\"1\",\"text-align\",\"left\"],[2,\"flex\",\"1\",\"text-align\",\"center\"],[1,\"fa\",\"fa-check\",\"fa-2x\",2,\"flex\",\"1\",\"text-align\",\"right\"],[1,\"alert\",\"alert-success\",2,\"display\",\"flex\"],[1,\"fa\",\"fa-info-circle\",\"fa-2x\",2,\"flex\",\"1\",\"text-align\",\"left\"],[\"target\",\"_blank\",2,\"font-weight\",\"bold\",3,\"href\"],[1,\"fa\",\"fa-info-circle\",\"fa-2x\",2,\"flex\",\"1\",\"text-align\",\"right\"],[1,\"alert-message\",\"alert-message-danger\",3,\"innerHTML\"],[1,\"col-sm-12\",2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[1,\"alert-message\",\"alert-message-info\",2,\"display\",\"flex\"]],template:function(rf,ctx){1&rf&&(core.Qc(0,VersionsUpdateAdministrationComponent_div_0_Template,6,3,\"div\",0),core.Zb(1,\"mat-sidenav-container\",1),core.Zb(2,\"mat-sidenav-content\"),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Zb(5,\"div\",4),core.Ub(6,\"header-left\"),core.Yb(),core.Zb(7,\"div\",5),core.Ub(8,\"header-right\"),core.Yb(),core.Yb(),core.Ub(9,\"div\",6),core.Yb(),core.Zb(10,\"div\",7),core.Zb(11,\"div\",8),core.Qc(12,VersionsUpdateAdministrationComponent_div_12_Template,2,0,\"div\",9),core.Qc(13,VersionsUpdateAdministrationComponent_mat_card_13_Template,5,4,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(14,\"mat-sidenav\",11,12),core.Qc(16,VersionsUpdateAdministrationComponent_div_16_Template,6,5,\"div\",13),core.Zb(17,\"mat-list\"),core.Zb(18,\"h3\",14),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"mat-list-item\"),core.Zb(22,\"b\"),core.Sc(23),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.sc(\"ngIf\",ctx.updateInprogress),core.Eb(4),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",null!=ctx.versions.lastAvailableMajorVersion),core.Eb(3),core.Tc(core.nc(20,15,\"lang.currentVersion\")),core.Eb(4),core.Tc(ctx.versions.currentVersion))},directives:[common.t,sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,sidenav.d,list.a,list.g,list.d,progress_spinner.c,card.a,icon.a,fesm2015_button.b],pipes:[ngx_translate_core.d],styles:[\".updateInProgress[_ngcontent-%COMP%]{z-index:2;display:flex;position:fixed;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.93);justify-content:center;align-items:center}.alert-message-danger[_ngcontent-%COMP%]{width:100%;max-width:100%}\"]}),VersionsUpdateAdministrationComponent})();const docservers_administration_component_c0=[\"adminMenuTemplate\"];function DocserversAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function DocserversAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_button_4_Template(rf,ctx){if(1&rf){const _r16=core.ac();core.Zb(0,\"button\",42),core.hc(\"click\",(function(){core.Hc(_r16);const docserver_r7=core.lc().$implicit;return core.lc(3).toggleDocserver(docserver_r7)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",43),core.Yb()}2&rf&&core.tc(\"matTooltip\",core.nc(1,1,\"lang.lockDocserver\"))}function DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_button_5_Template(rf,ctx){if(1&rf){const _r19=core.ac();core.Zb(0,\"button\",44),core.hc(\"click\",(function(){core.Hc(_r19);const docserver_r7=core.lc().$implicit;return core.lc(3).toggleDocserver(docserver_r7)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",45),core.Yb()}2&rf&&core.tc(\"matTooltip\",core.nc(1,1,\"lang.unlockDocserver\"))}function DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_mat_progress_spinner_13_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-progress-spinner\",46),2&rf){const docserver_r7=core.lc().$implicit;core.sc(\"value\",docserver_r7.percentage)}}function DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_mat_progress_spinner_14_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-progress-spinner\",47),2&rf){const docserver_r7=core.lc().$implicit;core.sc(\"value\",docserver_r7.percentage)}}function DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"div\",21),core.Zb(1,\"mat-card\"),core.Zb(2,\"form\",22,23),core.hc(\"ngSubmit\",(function(){core.Hc(_r23);const docserver_r7=ctx.$implicit,i_r8=ctx.index;return core.lc(3).onSubmit(docserver_r7,i_r8)})),core.Qc(4,DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_button_4_Template,3,3,\"button\",24),core.Qc(5,DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_button_5_Template,3,3,\"button\",25),core.Zb(6,\"div\",26),core.Zb(7,\"div\",27),core.Zb(8,\"mat-form-field\"),core.Zb(9,\"input\",28),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),ctx.$implicit.device_label=$event})),core.mc(10,\"translate\"),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(12,\"div\",21),core.Qc(13,DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_mat_progress_spinner_13_Template,1,1,\"mat-progress-spinner\",29),core.Qc(14,DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_mat_progress_spinner_14_Template,1,1,\"mat-progress-spinner\",30),core.Zb(15,\"span\",31),core.Sc(16),core.Yb(),core.Yb(),core.Zb(17,\"div\",32),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"input\",33),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),ctx.$implicit.coll_id=$event})),core.mc(20,\"translate\"),core.mc(21,\"translate\"),core.Yb(),core.Yb(),core.Zb(22,\"mat-form-field\"),core.Zb(23,\"input\",34),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),ctx.$implicit.docserver_id=$event})),core.mc(24,\"translate\"),core.mc(25,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(26,\"div\",21),core.Zb(27,\"mat-form-field\"),core.Zb(28,\"input\",35),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),ctx.$implicit.limitSizeFormatted=$event})),core.mc(29,\"translate\"),core.mc(30,\"translate\"),core.Yb(),core.Zb(31,\"span\",36),core.Sc(32,\" Go\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(33,\"div\",32),core.Zb(34,\"div\",27),core.Zb(35,\"mat-form-field\"),core.Zb(36,\"input\",37),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),ctx.$implicit.path_template=$event})),core.mc(37,\"translate\"),core.mc(38,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(39,\"div\",38),core.Zb(40,\"button\",39),core.Sc(41),core.mc(42,\"translate\"),core.Yb(),core.Zb(43,\"button\",40),core.hc(\"click\",(function(){core.Hc(_r23);const i_r8=ctx.index,docserverType_r5=core.lc().$implicit;return core.lc(2).cancelModification(docserverType_r5.docserver_type_id,i_r8)})),core.Sc(44),core.mc(45,\"translate\"),core.Yb(),core.Zb(46,\"button\",41),core.hc(\"click\",(function(){core.Hc(_r23);const docserver_r7=ctx.$implicit,i_r8=ctx.index;return core.lc(3).delete(docserver_r7,i_r8)})),core.Sc(47),core.mc(48,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const docserver_r7=ctx.$implicit,i_r8=ctx.index,docserverType_r5=core.lc().$implicit,ctx_r6=core.lc(2);core.Eb(4),core.sc(\"ngIf\",!docserver_r7.is_readonly),core.Eb(1),core.sc(\"ngIf\",docserver_r7.is_readonly),core.Eb(4),core.tc(\"title\",core.nc(10,29,\"lang.label\")),core.tc(\"placeholder\",core.nc(11,31,\"lang.label\")),core.sc(\"ngModel\",docserver_r7.device_label)(\"disabled\",docserver_r7.is_readonly),core.Eb(4),core.sc(\"ngIf\",docserver_r7.percentage<60),core.Eb(1),core.sc(\"ngIf\",docserver_r7.percentage>=60),core.Eb(1),core.tc(\"title\",docserver_r7.actualSizeFormatted),core.Eb(1),core.Uc(\"\",docserver_r7.percentage,\"%\"),core.Eb(3),core.tc(\"title\",core.nc(20,33,\"lang.collection\")),core.tc(\"placeholder\",core.nc(21,35,\"lang.collection\")),core.sc(\"ngModel\",docserver_r7.coll_id),core.Eb(4),core.tc(\"title\",core.nc(24,37,\"lang.id\")),core.tc(\"placeholder\",core.nc(25,39,\"lang.id\")),core.sc(\"ngModel\",docserver_r7.docserver_id),core.Eb(5),core.tc(\"title\",core.nc(29,41,\"lang.maxSize\")),core.tc(\"placeholder\",core.nc(30,43,\"lang.maxSize\")),core.sc(\"ngModel\",docserver_r7.limitSizeFormatted)(\"disabled\",docserver_r7.is_readonly),core.Eb(8),core.tc(\"title\",core.nc(37,45,\"lang.path\")),core.tc(\"placeholder\",core.nc(38,47,\"lang.path\")),core.sc(\"ngModel\",docserver_r7.path_template)(\"disabled\",docserver_r7.is_readonly),core.Eb(4),core.sc(\"disabled\",ctx_r6.checkModif(docserver_r7,ctx_r6.docserversClone[docserverType_r5.docserver_type_id][i_r8])),core.Eb(1),core.Tc(core.nc(42,49,\"lang.update\")),core.Eb(2),core.sc(\"disabled\",ctx_r6.checkModif(docserver_r7,ctx_r6.docserversClone[docserverType_r5.docserver_type_id][i_r8])),core.Eb(1),core.Tc(core.nc(45,51,\"lang.cancel\")),core.Eb(3),core.Tc(core.nc(48,53,\"lang.delete\"))}}function DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-expansion-panel\"),core.Zb(1,\"mat-expansion-panel-header\"),core.Zb(2,\"mat-panel-title\"),core.Sc(3),core.Yb(),core.Zb(4,\"mat-panel-description\"),core.Sc(5),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Qc(7,DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_div_7_Template,49,55,\"div\",20),core.Yb(),core.Yb()),2&rf){const docserverType_r5=ctx.$implicit,ctx_r4=core.lc(2);core.Eb(3),core.Uc(\" \",docserverType_r5.docserver_type_label,\" \"),core.Eb(2),core.Uc(\" \",docserverType_r5.docserver_type_id,\" \"),core.Eb(2),core.sc(\"ngForOf\",ctx_r4.docservers[docserverType_r5.docserver_type_id])}}function DocserversAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"mat-accordion\"),core.Qc(2,DocserversAdministrationComponent_mat_card_14_mat_expansion_panel_2_Template,8,3,\"mat-expansion-panel\",18),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(2),core.sc(\"ngForOf\",ctx_r3.docserversTypes)}}let docservers_administration_component_DocserversAdministrationComponent=(()=>{class DocserversAdministrationComponent{constructor(translate,http,notify,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.docservers=[],this.docserversClone=[],this.docserversTypes={}}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.docservers\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/docservers\").subscribe(data=>{this.docservers=data.docservers,this.docserversClone=JSON.parse(JSON.stringify(this.docservers)),this.docserversTypes=data.types,this.loading=!1})}toggleDocserver(docserver){docserver.is_readonly=!docserver.is_readonly}cancelModification(docserverType,index){this.docservers[docserverType][index]=JSON.parse(JSON.stringify(this.docserversClone[docserverType][index]))}checkModif(docserver,docserversClone){return docserver.size_limit_number=1e9*docserver.limitSizeFormatted,JSON.stringify(docserver)===JSON.stringify(docserversClone)||!(docserver.size_limit_number>=docserver.actual_size_number&&docserver.limitSizeFormatted>0&&/^[\\d]*$/.test(docserver.limitSizeFormatted))}onSubmit(docserver,i){docserver.size_limit_number=1e9*docserver.limitSizeFormatted,this.http.put(\"../rest/docservers/\"+docserver.id,docserver).subscribe(data=>{this.docservers[docserver.docserver_type_id][i]=data.docserver,this.docserversClone[docserver.docserver_type_id][i]=JSON.parse(JSON.stringify(this.docservers[docserver.docserver_type_id][i])),this.notify.success(this.translate.instant(\"lang.docserverUpdated\"))},err=>{this.notify.error(err.error.errors)})}delete(docserver,i){let r=null;r=0===docserver.actual_size_number?confirm(this.translate.instant(\"lang.delete\")+\" ?\"):confirm(this.translate.instant(\"lang.docserverdeleteWarning\")),r&&this.http.delete(\"../rest/docservers/\"+docserver.id).subscribe(()=>{this.docservers[docserver.docserver_type_id].splice(i,1),this.notify.success(this.translate.instant(\"lang.docserverDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return DocserversAdministrationComponent.ɵfac=function(t){return new(t||DocserversAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},DocserversAdministrationComponent.ɵcmp=core.Nb({type:DocserversAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(docservers_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/docservers/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[4,\"ngFor\",\"ngForOf\"],[1,\"row\"],[\"class\",\"col-md-4\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-4\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"docserverFormUp\",\"ngForm\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",\"style\",\"position: absolute;top: 5px;right:10px;\",3,\"matTooltip\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",\"style\",\"position: absolute;top: 5px;right:10px;\",3,\"matTooltip\",\"click\",4,\"ngIf\"],[1,\"row\",2,\"margin-top\",\"10px\"],[1,\"col-md-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"label\",\"id\",\"label\",\"type\",\"text\",\"maxlength\",\"255\",3,\"title\",\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"name\",\"percent_val\",\"id\",\"percent_val\",\"color\",\"primary\",\"mode\",\"determinate\",\"style\",\"margin:auto;\",3,\"value\",4,\"ngIf\"],[\"name\",\"percent_val\",\"id\",\"percent_val\",\"color\",\"warn\",\"mode\",\"determinate\",\"style\",\"margin:auto;\",3,\"value\",4,\"ngIf\"],[2,\"position\",\"absolute\",\"font-weight\",\"bold\",\"left\",\"50%\",\"transform\",\"translateX(-50%)\",\"top\",\"40%\",\"font-weight\",\"bold\",3,\"title\"],[1,\"col-md-8\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"collection\",\"id\",\"collection\",\"type\",\"text\",\"disabled\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"identifier\",\"id\",\"identifier\",\"type\",\"text\",\"disabled\",\"\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"max_size\",\"id\",\"max_size\",\"type\",\"number\",3,\"title\",\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"matSuffix\",\"\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"path\",\"id\",\"path\",\"type\",\"text\",3,\"title\",\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"mat-raised-button\",\"\",\"color\",\"default\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"warn\",3,\"click\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",2,\"position\",\"absolute\",\"top\",\"5px\",\"right\",\"10px\",3,\"matTooltip\",\"click\"],[1,\"fa\",\"fa-lock-open\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",2,\"position\",\"absolute\",\"top\",\"5px\",\"right\",\"10px\",3,\"matTooltip\",\"click\"],[1,\"fa\",\"fa-lock\"],[\"name\",\"percent_val\",\"id\",\"percent_val\",\"color\",\"primary\",\"mode\",\"determinate\",2,\"margin\",\"auto\",3,\"value\"],[\"name\",\"percent_val\",\"id\",\"percent_val\",\"color\",\"warn\",\"mode\",\"determinate\",2,\"margin\",\"auto\",3,\"value\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,DocserversAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,DocserversAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,DocserversAdministrationComponent_mat_card_14_Template,3,1,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,expansion.a,common.s,expansion.c,expansion.g,expansion.h,expansion.f,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,fesm2015_forms.z,form_field.j,fesm2015_button.b,tooltip.b,progress_spinner.a],pipes:[ngx_translate_core.d],encapsulation:2}),DocserversAdministrationComponent})();function DocserverAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function DocserverAdministrationComponent_mat_card_12_mat_option_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",30),core.Sc(1),core.Yb()),2&rf){const docserverType_r4=ctx.$implicit;core.sc(\"value\",docserverType_r4.docserver_type_id),core.Eb(1),core.Uc(\" \",docserverType_r4.docserver_type_label,\" \")}}function DocserverAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"mat-card\",12),core.Zb(1,\"form\",13,14),core.hc(\"ngSubmit\",(function(){core.Hc(_r6);const ctx_r5=core.lc();return ctx_r5.onSubmit(ctx_r5.docserver)})),core.Zb(3,\"div\",15),core.Zb(4,\"div\",16),core.Zb(5,\"mat-form-field\"),core.Zb(6,\"mat-select\",17),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().docserver.docserver_type_id=$event})),core.mc(7,\"translate\"),core.mc(8,\"translate\"),core.Qc(9,DocserverAdministrationComponent_mat_card_12_mat_option_9_Template,2,2,\"mat-option\",18),core.Yb(),core.Yb(),core.Zb(10,\"mat-form-field\"),core.Zb(11,\"input\",19),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().docserver.docserver_id=$event})),core.mc(12,\"translate\"),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Zb(14,\"mat-form-field\"),core.Zb(15,\"input\",20),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().docserver.device_label=$event})),core.mc(16,\"translate\"),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"mat-select\",21),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().docserver.coll_id=$event})),core.mc(20,\"translate\"),core.mc(21,\"translate\"),core.Zb(22,\"mat-option\",22),core.Sc(23,\" letterbox_coll \"),core.Yb(),core.Zb(24,\"mat-option\",23),core.Sc(25,\" attachments_coll \"),core.Yb(),core.Zb(26,\"mat-option\",24),core.Sc(27,\" archive_transfer_coll \"),core.Yb(),core.Yb(),core.Yb(),core.Zb(28,\"mat-form-field\"),core.Zb(29,\"input\",25),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().docserver.limitSizeFormatted=$event})),core.mc(30,\"translate\"),core.mc(31,\"translate\"),core.Yb(),core.Zb(32,\"span\",26),core.Sc(33,\" Go\"),core.Yb(),core.Yb(),core.Zb(34,\"mat-form-field\"),core.Zb(35,\"input\",27),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().docserver.path_template=$event})),core.mc(36,\"translate\"),core.mc(37,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(38,\"div\",28),core.Zb(39,\"button\",29),core.Sc(40),core.mc(41,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r2=core.Dc(2),ctx_r1=core.lc();core.Eb(6),core.tc(\"title\",core.nc(7,23,\"lang.docserverType\")),core.tc(\"placeholder\",core.nc(8,25,\"lang.docserverType\")),core.sc(\"ngModel\",ctx_r1.docserver.docserver_type_id),core.Eb(3),core.sc(\"ngForOf\",ctx_r1.docserversTypes),core.Eb(2),core.tc(\"title\",core.nc(12,27,\"lang.id\")),core.tc(\"placeholder\",core.nc(13,29,\"lang.id\")),core.sc(\"ngModel\",ctx_r1.docserver.docserver_id),core.Eb(4),core.tc(\"title\",core.nc(16,31,\"lang.label\")),core.tc(\"placeholder\",core.nc(17,33,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.docserver.device_label),core.Eb(4),core.tc(\"title\",core.nc(20,35,\"lang.collection\")),core.tc(\"placeholder\",core.nc(21,37,\"lang.collection\")),core.sc(\"ngModel\",ctx_r1.docserver.coll_id),core.Eb(10),core.tc(\"title\",core.nc(30,39,\"lang.maxSize\")),core.tc(\"placeholder\",core.nc(31,41,\"lang.maxSize\")),core.sc(\"ngModel\",ctx_r1.docserver.limitSizeFormatted)(\"disabled\",ctx_r1.docserver.is_readonly),core.Eb(6),core.tc(\"title\",core.nc(36,43,\"lang.path\")),core.tc(\"placeholder\",core.nc(37,45,\"lang.path\")),core.sc(\"ngModel\",ctx_r1.docserver.path_template)(\"disabled\",ctx_r1.docserver.is_readonly),core.Eb(4),core.sc(\"disabled\",!_r2.form.valid),core.Eb(1),core.Tc(core.nc(41,47,\"lang.add\"))}}let docserver_administration_component_DocserverAdministrationComponent=(()=>{class DocserverAdministrationComponent{constructor(translate,http,router,notify,headerService,appService){this.translate=translate,this.http=http,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!1,this.docserver={coll_id:\"letterbox_coll\",docserver_type_id:\"DOC\",limitSizeFormatted:\"50\"},this.docserversTypes=[]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.docserverCreation\")),this.loading=!0,this.http.get(\"../rest/docserverTypes\").subscribe(data=>{this.docserversTypes=data.docserverTypes,this.loading=!1})}onSubmit(docserver){docserver.size_limit_number=1e9*docserver.limitSizeFormatted,this.http.post(\"../rest/docservers\",docserver).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.docserverAdded\")),this.router.navigate([\"/administration/docservers/\"])},err=>{this.notify.error(err.error.errors)})}}return DocserverAdministrationComponent.ɵfac=function(t){return new(t||DocserverAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},DocserverAdministrationComponent.ɵcmp=core.Nb({type:DocserverAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"docserverForm\",\"ngForm\"],[1,\"row\",2,\"margin-top\",\"10px\"],[1,\"col-md-12\"],[\"required\",\"\",\"name\",\"docserver_type\",\"id\",\"docserver_type\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"identifier\",\"id\",\"identifier\",\"type\",\"text\",\"maxlength\",\"32\",\"pattern\",\"^[\\\\w.-]*$\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"label\",\"id\",\"label\",\"type\",\"text\",\"maxlength\",\"255\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"required\",\"\",\"name\",\"collection\",\"id\",\"collection\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"letterbox_coll\",\"selected\",\"\"],[\"value\",\"attachments_coll\"],[\"value\",\"archive_transfer_coll\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"max_size\",\"id\",\"max_size\",\"type\",\"number\",\"pattern\",\"^\\\\d+$\",3,\"title\",\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"matSuffix\",\"\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"path\",\"id\",\"path\",\"type\",\"text\",3,\"title\",\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[3,\"value\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,DocserverAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,DocserverAdministrationComponent_mat_card_12_Template,42,49,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,fesm2015_select.a,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,common.s,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.A,fesm2015_core.o,fesm2015_forms.z,form_field.j,fesm2015_button.b],pipes:[ngx_translate_core.d],encapsulation:2}),DocserverAdministrationComponent})();const templates_administration_component_c0=[\"adminMenuTemplate\"];function TemplatesAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function TemplatesAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function TemplatesAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",44),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.technicalId\"),\" \"))}function TemplatesAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",45),core.Sc(1),core.Yb()),2&rf){const element_r20=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r20.template_id,\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",46),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.templateName\"),\" \"))}function TemplatesAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",47),core.Sc(1),core.Yb()),2&rf){const element_r21=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r21.template_label,\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",46),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r10=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r10.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.description\"),\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",47),core.Sc(1),core.Yb()),2&rf){const element_r22=ctx.$implicit,ctx_r11=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r11.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r22.template_comment,\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",44),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r12=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r12.appService.getViewMode()),core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.templateTarget\"),\"\")}}function TemplatesAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const element_r23=ctx.$implicit,ctx_r13=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r13.appService.getViewMode()),core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.\"+element_r23.template_target),\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",44),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r14=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r14.appService.getViewMode()),core.Eb(1),core.Uc(\"\",core.nc(2,3,\"lang.templateType\"),\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",45),core.Sc(1),core.Yb()),2&rf){const element_r24=ctx.$implicit,ctx_r15=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r15.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r24.template_type,\" \")}}function TemplatesAdministrationComponent_mat_card_14_mat_header_cell_27_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function TemplatesAdministrationComponent_mat_card_14_mat_cell_28_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Zb(0,\"mat-cell\",48),core.Zb(1,\"button\",49),core.hc(\"click\",(function($event){core.Hc(_r27);const element_r25=ctx.$implicit,ctx_r26=core.lc(2);return $event.stopPropagation(),ctx_r26.deleteTemplate(element_r25)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",50),core.Yb(),core.Yb()}if(2&rf){const element_r25=ctx.$implicit;core.Eb(1),core.tc(\"matTooltip\",core.nc(2,2,\"lang.delete\")),core.sc(\"disabled\",\"Y\"==element_r25.is_system)}}function TemplatesAdministrationComponent_mat_card_14_mat_header_row_29_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function TemplatesAdministrationComponent_mat_card_14_mat_row_30_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",51),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/templates/\",ctx.$implicit.template_id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function TemplatesAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,TemplatesAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",26),core.Qc(13,TemplatesAdministrationComponent_mat_card_14_mat_cell_13_Template,2,1,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,TemplatesAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",29),core.Qc(16,TemplatesAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(17,31),core.Qc(18,TemplatesAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",32),core.Qc(19,TemplatesAdministrationComponent_mat_card_14_mat_cell_19_Template,2,3,\"mat-cell\",33),core.Wb(),core.Xb(20,34),core.Qc(21,TemplatesAdministrationComponent_mat_card_14_mat_header_cell_21_Template,3,5,\"mat-header-cell\",35),core.Qc(22,TemplatesAdministrationComponent_mat_card_14_mat_cell_22_Template,3,5,\"mat-cell\",36),core.Wb(),core.Xb(23,37),core.Qc(24,TemplatesAdministrationComponent_mat_card_14_mat_header_cell_24_Template,3,5,\"mat-header-cell\",35),core.Qc(25,TemplatesAdministrationComponent_mat_card_14_mat_cell_25_Template,2,3,\"mat-cell\",36),core.Wb(),core.Xb(26,38),core.Qc(27,TemplatesAdministrationComponent_mat_card_14_mat_header_cell_27_Template,1,0,\"mat-header-cell\",39),core.Qc(28,TemplatesAdministrationComponent_mat_card_14_mat_cell_28_Template,4,4,\"mat-cell\",40),core.Wb(),core.Qc(29,TemplatesAdministrationComponent_mat_card_14_mat_header_row_29_Template,1,0,\"mat-header-row\",41),core.Qc(30,TemplatesAdministrationComponent_mat_card_14_mat_row_30_Template,2,4,\"mat-row\",42),core.Yb(),core.Zb(31,\"div\",43),core.Sc(32),core.mc(33,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(20),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.templates.length,\" \",core.nc(33,12,\"lang.templates\"),\"\")}}let templates_administration_component_TemplatesAdministrationComponent=(()=>{class TemplatesAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.search=null,this.templates=[],this.titles=[],this.loading=!1,this.displayedColumns=[\"template_id\",\"template_label\",\"template_comment\",\"template_type\",\"template_target\",\"actions\"],this.filterColumns=[\"template_label\",\"template_comment\",\"template_type\",\"template_target\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.templates\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/templates\").subscribe(data=>{this.templates=data.templates,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_templates\",this.templates,this.sort,this.paginator,this.filterColumns)},0)},err=>{this.notify.handleErrors(err)})}deleteTemplate(template){confirm(this.translate.instant(\"lang.confirmAction\")+\" \"+this.translate.instant(\"lang.delete\")+\" « \"+template.template_label+\" »\")&&this.http.delete(\"../rest/templates/\"+template.template_id).subscribe(()=>{for(const i in this.templates)this.templates[i].template_id===template.template_id&&this.templates.splice(Number(i),1);this.adminService.setDataSource(\"admin_templates\",this.templates,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.templateDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return TemplatesAdministrationComponent.ɵfac=function(t){return new(t||TemplatesAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},TemplatesAdministrationComponent.ɵcmp=core.Nb({type:TemplatesAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(templates_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/templates/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"template_id\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",4,\"matCellDef\"],[\"matColumnDef\",\"template_label\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",4,\"matCellDef\"],[\"matColumnDef\",\"template_comment\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"template_target\"],[\"mat-sort-header\",\"\",\"style\",\"flex:1;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex:1;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"template_type\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\",2,\"flex\",\"1\"],[2,\"flex\",\"1\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"disabled\",\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,TemplatesAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,TemplatesAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,TemplatesAdministrationComponent_mat_card_14_Template,34,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),TemplatesAdministrationComponent})();var take=__webpack_require__(\"Dxa7\"),onlyoffice_viewer_component=__webpack_require__(\"+AL4\"),collabora_online_viewer_component=__webpack_require__(\"IOqN\");const template_file_editor_modal_component_c0=[\"onlyofficeViewer\"],template_file_editor_modal_component_c1=[\"collaboraOnlineViewer\"];function TemplateFileEditorModalComponent_onlyoffice_viewer_2_Template(rf,ctx){if(1&rf){const _r4=core.ac();core.Zb(0,\"onlyoffice-viewer\",8,9),core.hc(\"triggerAfterUpdatedDoc\",(function(){return core.Hc(_r4),core.lc().close()}))(\"triggerCloseEditor\",(function(){return core.Hc(_r4),core.lc().dialogRef.close(\"\")}))(\"triggerModifiedDocument\",(function(){return core.Hc(_r4),core.lc().documentIsModified=!0})),core.Yb()}if(2&rf){const ctx_r0=core.lc();core.sc(\"hideCloseEditor\",!0)(\"params\",ctx_r0.editorOptions)(\"file\",ctx_r0.file)(\"editMode\",!0)}}function TemplateFileEditorModalComponent_app_collabora_online_viewer_3_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"app-collabora-online-viewer\",10,11),core.hc(\"triggerAfterUpdatedDoc\",(function(){return core.Hc(_r9),core.lc().close()}))(\"triggerCloseEditor\",(function(){return core.Hc(_r9),core.lc().dialogRef.close(\"\")}))(\"triggerModifiedDocument\",(function(){return core.Hc(_r9),core.lc().documentIsModified=!0})),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.sc(\"params\",ctx_r1.editorOptions)(\"file\",ctx_r1.file)(\"editMode\",!0)}}let template_file_editor_modal_component_TemplateFileEditorModalComponent=(()=>{class TemplateFileEditorModalComponent{constructor(translate,dialogRef,data){this.translate=translate,this.dialogRef=dialogRef,this.data=data,this.loading=!1,this.editorOptions=null,this.file=null,this.editorType=null,this.documentIsModified=!1}ngOnInit(){this.editorOptions=this.data.editorOptions,this.file=this.data.file,this.editorType=this.data.editorType}close(){\"onlyoffice\"===this.editorType?this.onlyofficeViewer.getFile().pipe(Object(take.take)(1),Object(operators_tap.tap)(data=>{this.dialogRef.close(data)})).subscribe():\"collaboraonline\"===this.editorType?this.collaboraOnlineViewer.getFile().pipe(Object(take.take)(1),Object(operators_tap.tap)(data=>{this.dialogRef.close(data)})).subscribe():this.dialogRef.close()}}return TemplateFileEditorModalComponent.ɵfac=function(t){return new(t||TemplateFileEditorModalComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_dialog.h),core.Tb(fesm2015_dialog.a))},TemplateFileEditorModalComponent.ɵcmp=core.Nb({type:TemplateFileEditorModalComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.ad(template_file_editor_modal_component_c0,!0),core.ad(template_file_editor_modal_component_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.onlyofficeViewer=_t.first),core.Cc(_t=core.ic())&&(ctx.collaboraOnlineViewer=_t.first))},decls:12,vars:10,consts:[[1,\"mat-dialog-content-container\"],[2,\"padding\",\"0px\"],[\"style\",\"height:100%;width:100%;\",3,\"hideCloseEditor\",\"params\",\"file\",\"editMode\",\"triggerAfterUpdatedDoc\",\"triggerCloseEditor\",\"triggerModifiedDocument\",4,\"ngIf\"],[\"style\",\"height:100%;width:100%;\",3,\"params\",\"file\",\"editMode\",\"triggerAfterUpdatedDoc\",\"triggerCloseEditor\",\"triggerModifiedDocument\",4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"disabled\",\"mat-dialog-close\"],[2,\"height\",\"100%\",\"width\",\"100%\",3,\"hideCloseEditor\",\"params\",\"file\",\"editMode\",\"triggerAfterUpdatedDoc\",\"triggerCloseEditor\",\"triggerModifiedDocument\"],[\"onlyofficeViewer\",\"\"],[2,\"height\",\"100%\",\"width\",\"100%\",3,\"params\",\"file\",\"editMode\",\"triggerAfterUpdatedDoc\",\"triggerCloseEditor\",\"triggerModifiedDocument\"],[\"collaboraOnlineViewer\",\"\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"mat-dialog-content\",1),core.Qc(2,TemplateFileEditorModalComponent_onlyoffice_viewer_2_Template,2,4,\"onlyoffice-viewer\",2),core.Qc(3,TemplateFileEditorModalComponent_app_collabora_online_viewer_3_Template,2,3,\"app-collabora-online-viewer\",3),core.Yb(),core.Ub(4,\"span\",4),core.Zb(5,\"div\",5),core.Zb(6,\"button\",6),core.hc(\"click\",(function(){return ctx.close()})),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"button\",7),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.sc(\"ngIf\",\"onlyoffice\"===ctx.editorType),core.Eb(1),core.sc(\"ngIf\",\"collaboraonline\"===ctx.editorType),core.Eb(3),core.sc(\"disabled\",!ctx.documentIsModified),core.Eb(1),core.Tc(core.nc(8,6,\"lang.validate\")),core.Eb(2),core.sc(\"disabled\",ctx.loading),core.Eb(1),core.Tc(core.nc(11,8,\"lang.cancel\")))},directives:[fesm2015_dialog.f,common.t,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,onlyoffice_viewer_component.a,collabora_online_viewer_component.a],pipes:[ngx_translate_core.d],styles:[\"\"]}),TemplateFileEditorModalComponent})();const template_administration_component_c0=[\"snav2\"],template_administration_component_c1=[\"adminMenuTemplate\"],template_administration_component_c2=[\"maarchTree\"];function TemplateAdministrationComponent_ng_template_1_mat_nav_list_0_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",13),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",17),core.hc(\"click\",(function(){return core.Hc(_r8),core.lc(2).duplicateTemplate()})),core.Ub(5,\"mat-icon\",18),core.Zb(6,\"p\",19),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r6=core.lc(2);core.Eb(2),core.Tc(core.nc(3,5,\"lang.actions\")),core.Eb(2),core.Jb(\"disabled\",ctx_r6.lockFound||\"acknowledgementReceipt\"==ctx_r6.template.target),core.sc(\"disableRipple\",ctx_r6.lockFound||\"acknowledgementReceipt\"==ctx_r6.template.target),core.Eb(3),core.Uc(\" \",core.nc(8,7,\"lang.duplicate\"),\" \")}}function TemplateAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&core.Qc(0,TemplateAdministrationComponent_ng_template_1_mat_nav_list_0_Template,9,9,\"mat-nav-list\",16),2&rf){const ctx_r1=core.lc();core.sc(\"ngIf\",!ctx_r1.creationMode&&!ctx_r1.loading)}}function TemplateAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",20),core.Ub(1,\"mat-spinner\",21),core.Yb())}function TemplateAdministrationComponent_mat_card_14_div_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-form-field\"),core.Ub(3,\"input\",34),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r10=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,3,\"lang.technicalId\")),core.tc(\"value\",ctx_r10.template.id),core.tc(\"placeholder\",core.nc(5,5,\"lang.technicalId\"))}}function TemplateAdministrationComponent_mat_card_14_mat_option_24_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",35),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const target_r21=ctx.$implicit;core.sc(\"value\",target_r21),core.Eb(1),core.Uc(\" \",core.nc(2,2,\"lang.\"+target_r21),\"\")}}function TemplateAdministrationComponent_mat_card_14_div_25_mat_option_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",35),core.Sc(1),core.Yb()),2&rf){const value_r23=ctx.$implicit;core.sc(\"value\",value_r23.id),core.Eb(1),core.Uc(\" \",value_r23.label,\" \")}}function TemplateAdministrationComponent_mat_card_14_div_25_Template(rf,ctx){if(1&rf){const _r25=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-select\",36),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r25),core.lc(2).template.template_attachment_type=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Zb(6,\"mat-option\",37),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Qc(9,TemplateAdministrationComponent_mat_card_14_div_25_mat_option_9_Template,2,2,\"mat-option\",31),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r12=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,5,\"lang.attachmentType\")),core.tc(\"placeholder\",core.nc(5,7,\"lang.attachmentType\")),core.sc(\"ngModel\",ctx_r12.template.template_attachment_type),core.Eb(4),core.Tc(core.nc(8,9,\"lang.allAttachments\")),core.Eb(2),core.sc(\"ngForOf\",ctx_r12.attachmentTypesList)}}function TemplateAdministrationComponent_mat_card_14_div_26_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-select\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r27),core.lc(2).template.template_attachment_type=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Zb(6,\"mat-option\",39),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"mat-option\",40),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Zb(12,\"mat-option\",41),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r13=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,7,\"lang.acknowledgementReceiptType\")),core.tc(\"placeholder\",core.nc(5,9,\"lang.acknowledgementReceiptType\")),core.sc(\"disabled\",!ctx_r13.creationMode)(\"ngModel\",ctx_r13.template.template_attachment_type),core.Eb(4),core.Tc(core.nc(8,11,\"lang.ARsimple\")),core.Eb(3),core.Tc(core.nc(11,13,\"lang.ARsva\")),core.Eb(3),core.Tc(core.nc(14,15,\"lang.ARsvr\"))}}function TemplateAdministrationComponent_mat_card_14_div_27_Template(rf,ctx){if(1&rf){const _r29=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"input\",42),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r29),core.lc(2).template.subject=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r14=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,3,\"lang.emailSubject\")),core.tc(\"placeholder\",core.nc(5,5,\"lang.emailSubject\")),core.sc(\"ngModel\",ctx_r14.template.subject)}}function TemplateAdministrationComponent_mat_card_14_div_28_mat_radio_button_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-radio-button\",45),core.Sc(1),core.Yb()),2&rf){const type_r31=ctx.$implicit,ctx_r30=core.lc(3);core.sc(\"value\",type_r31)(\"checked\",ctx_r30.template.type===type_r31),core.Eb(1),core.Uc(\" \",type_r31,\"\")}}function TemplateAdministrationComponent_mat_card_14_div_28_Template(rf,ctx){if(1&rf){const _r33=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-radio-group\",43),core.hc(\"change\",(function($event){return core.Hc(_r33),core.lc(2).changeType($event)})),core.Qc(3,TemplateAdministrationComponent_mat_card_14_div_28_mat_radio_button_3_Template,2,3,\"mat-radio-button\",44),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r15=core.lc(2);core.Eb(2),core.sc(\"disabled\",!ctx_r15.creationMode),core.Eb(1),core.sc(\"ngForOf\",ctx_r15.availableTypes)}}function TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_ng_container_9_ng_container_2_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",35),core.Sc(1),core.Yb()),2&rf){const default_r42=core.lc().$implicit;core.vc(\"value\",\"\",default_r42.fileExt,\": \",default_r42.fileName,\"\"),core.Eb(1),core.Vc(\" \",default_r42.fileExt,\": \",default_r42.fileName,\" \")}}function TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_ng_container_9_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_ng_container_9_ng_container_2_mat_option_1_Template,2,4,\"mat-option\",57),core.Wb()),2&rf){const default_r42=ctx.$implicit,extension_r40=core.lc().$implicit;core.Eb(1),core.sc(\"ngIf\",extension_r40==default_r42.fileExt)}}function TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_ng_container_9_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-optgroup\",53),core.Qc(2,TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_ng_container_9_ng_container_2_Template,2,1,\"ng-container\",56),core.Yb(),core.Wb()),2&rf){const extension_r40=ctx.$implicit,ctx_r39=core.lc(4);core.Eb(1),core.uc(\"label\",\"\",extension_r40,\" :\"),core.Eb(1),core.sc(\"ngForOf\",ctx_r39.defaultTemplatesList)}}function TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_Template(rf,ctx){if(1&rf){const _r47=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-select\",52),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r47),core.lc(3).selectedModelFile=$event}))(\"selectionChange\",(function(){return core.Hc(_r47),core.lc(3).changeModel()})),core.mc(2,\"translate\"),core.mc(3,\"translate\"),core.Zb(4,\"mat-optgroup\",53),core.mc(5,\"translate\"),core.Zb(6,\"mat-option\",54),core.hc(\"click\",(function(){return core.Hc(_r47),core.lc(),core.Dc(5).click()})),core.Ub(7,\"mat-icon\",55),core.Sc(8),core.Yb(),core.Yb(),core.Qc(9,TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_ng_container_9_Template,3,2,\"ng-container\",56),core.Yb(),core.Yb()}if(2&rf){const ctx_r35=core.lc(3);core.Eb(1),core.tc(\"title\",core.nc(2,9,\"lang.defaultTemplate\")),core.tc(\"placeholder\",core.nc(3,11,\"lang.chosenModel\")),core.sc(\"disabled\",!ctx_r35.creationMode)(\"ngModel\",ctx_r35.selectedModelFile)(\"required\",\"acknowledgementReceipt\"!=ctx_r35.template.target),core.Eb(3),core.uc(\"label\",\"\",core.nc(5,13,\"lang.loadedFile\"),\" :\"),core.Eb(2),core.sc(\"value\",ctx_r35.template.file.name),core.Eb(2),core.Uc(\" \",ctx_r35.functionsService.empty(ctx_r35.template.file)||ctx_r35.functionsService.empty(ctx_r35.template.file.name)?ctx_r35.translate.instant(\"lang.importFile\"):ctx_r35.template.file.name,\" \"),core.Eb(1),core.sc(\"ngForOf\",ctx_r35.extensionModels)}}function TemplateAdministrationComponent_mat_card_14_div_29_button_8_Template(rf,ctx){if(1&rf){const _r51=core.ac();core.Zb(0,\"button\",58),core.hc(\"click\",(function($event){core.Hc(_r51);const ctx_r50=core.lc(3);return $event.stopPropagation(),ctx_r50.editFile()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r36=core.lc(3);core.sc(\"disabled\",ctx_r36.lockFound),core.Eb(1),core.Tc(core.nc(2,2,\"lang.templateEdition\"))}}function TemplateAdministrationComponent_mat_card_14_div_29_button_9_Template(rf,ctx){if(1&rf){const _r53=core.ac();core.Zb(0,\"button\",58),core.hc(\"click\",(function($event){core.Hc(_r53),core.lc();const _r34=core.Dc(5);return $event.stopPropagation(),_r34.click()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r37=core.lc(3);core.sc(\"disabled\",ctx_r37.lockFound),core.Eb(1),core.Tc(core.nc(2,2,\"lang.importFile\"))}}function TemplateAdministrationComponent_mat_card_14_div_29_iframe_10_Template(rf,ctx){if(1&rf&&core.Ub(0,\"iframe\",59),2&rf){const ctx_r38=core.lc(3);core.sc(\"src\",ctx_r38.templateDocView,core.Jc)}}function TemplateAdministrationComponent_mat_card_14_div_29_Template(rf,ctx){if(1&rf){const _r55=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",46),core.Zb(2,\"div\",47),core.Zb(3,\"div\",27),core.Zb(4,\"input\",48,49),core.hc(\"change\",(function($event){return core.Hc(_r55),core.lc(2).uploadFileTrigger($event)})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(6,\"div\",25),core.Qc(7,TemplateAdministrationComponent_mat_card_14_div_29_mat_form_field_7_Template,10,15,\"mat-form-field\",16),core.Qc(8,TemplateAdministrationComponent_mat_card_14_div_29_button_8_Template,3,4,\"button\",50),core.Qc(9,TemplateAdministrationComponent_mat_card_14_div_29_button_9_Template,3,4,\"button\",50),core.Yb(),core.Qc(10,TemplateAdministrationComponent_mat_card_14_div_29_iframe_10_Template,1,1,\"iframe\",51),core.Yb()}if(2&rf){const ctx_r16=core.lc(2);core.Eb(7),core.sc(\"ngIf\",ctx_r16.creationMode||ctx_r16.template.file.name),core.Eb(1),core.sc(\"ngIf\",ctx_r16.creationMode&&ctx_r16.selectedModelFile||!ctx_r16.creationMode),core.Eb(1),core.sc(\"ngIf\",ctx_r16.creationMode&&!ctx_r16.selectedModelFile||!ctx_r16.creationMode&&!ctx_r16.functionsService.empty(ctx_r16.template.file.name)&&\"java\"!==ctx_r16.headerService.user.preferences.documentEdition),core.Eb(1),core.sc(\"ngIf\",null!==ctx_r16.templateDocView)}}function TemplateAdministrationComponent_mat_card_14_div_30_Template(rf,ctx){if(1&rf){const _r57=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"textarea\",60),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r57),core.lc(2).template.file.content=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Sc(6,\"                                    \"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r17=core.lc(2);core.Eb(3),core.tc(\"placeholder\",core.nc(4,4,\"lang.contentTxtTemplate\")),core.tc(\"title\",core.nc(5,6,\"lang.contentTxtTemplate\")),core.sc(\"ngModel\",ctx_r17.template.file.content)(\"required\",\"acknowledgementReceipt\"!=ctx_r17.template.target)}}function TemplateAdministrationComponent_mat_card_14_div_31_Template(rf,ctx){if(1&rf){const _r59=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"div\",61),core.Zb(3,\"textarea\",62),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r59),core.lc(2).template.file.content=$event})),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r18=core.lc(2);core.Eb(3),core.sc(\"ngModel\",ctx_r18.template.file.content)(\"required\",\"acknowledgementReceipt\"!=ctx_r18.template.target)}}function TemplateAdministrationComponent_mat_card_14_div_32_ng_container_9_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",35),core.Sc(1),core.Yb()),2&rf){const datasource_r61=core.lc().$implicit;core.sc(\"value\",datasource_r61.id),core.Eb(1),core.Tc(datasource_r61.label)}}function TemplateAdministrationComponent_mat_card_14_div_32_ng_container_9_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,TemplateAdministrationComponent_mat_card_14_div_32_ng_container_9_mat_option_1_Template,2,2,\"mat-option\",57),core.Wb()),2&rf){const datasource_r61=ctx.$implicit,ctx_r60=core.lc(3);core.Eb(1),core.sc(\"ngIf\",ctx_r60.displayDatasources(datasource_r61))}}function TemplateAdministrationComponent_mat_card_14_div_32_Template(rf,ctx){if(1&rf){const _r65=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"div\",25),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-select\",63),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r65),core.lc(2).template.datasource=$event})),core.mc(4,\"translate\"),core.mc(5,\"translate\"),core.Zb(6,\"mat-option\",64),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Qc(9,TemplateAdministrationComponent_mat_card_14_div_32_ng_container_9_Template,2,1,\"ng-container\",56),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r19=core.lc(2);core.Eb(3),core.tc(\"title\",core.nc(4,5,\"lang.templateDatasource\")),core.tc(\"placeholder\",core.nc(5,7,\"lang.templateDatasource\")),core.sc(\"ngModel\",ctx_r19.template.datasource),core.Eb(4),core.Tc(core.nc(8,9,\"lang.noDatasource\")),core.Eb(2),core.sc(\"ngForOf\",ctx_r19.datasourcesList)}}function TemplateAdministrationComponent_mat_card_14_div_33_ng_container_24_ng_container_2_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",35),core.Sc(1),core.Yb()),2&rf){const default_r73=core.lc().$implicit;core.vc(\"value\",\"\",default_r73.fileExt,\": \",default_r73.fileName,\"\"),core.Eb(1),core.Vc(\" \",default_r73.fileExt,\": \",default_r73.fileName,\" \")}}function TemplateAdministrationComponent_mat_card_14_div_33_ng_container_24_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,TemplateAdministrationComponent_mat_card_14_div_33_ng_container_24_ng_container_2_mat_option_1_Template,2,4,\"mat-option\",57),core.Wb()),2&rf){const default_r73=ctx.$implicit,extension_r71=core.lc().$implicit;core.Eb(1),core.sc(\"ngIf\",extension_r71==default_r73.fileExt)}}function TemplateAdministrationComponent_mat_card_14_div_33_ng_container_24_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-optgroup\",53),core.Qc(2,TemplateAdministrationComponent_mat_card_14_div_33_ng_container_24_ng_container_2_Template,2,1,\"ng-container\",56),core.Yb(),core.Wb()),2&rf){const extension_r71=ctx.$implicit,ctx_r67=core.lc(3);core.Eb(1),core.uc(\"label\",\"\",extension_r71,\" :\"),core.Eb(1),core.sc(\"ngForOf\",ctx_r67.defaultTemplatesList)}}function TemplateAdministrationComponent_mat_card_14_div_33_button_25_Template(rf,ctx){if(1&rf){const _r78=core.ac();core.Zb(0,\"button\",58),core.hc(\"click\",(function($event){core.Hc(_r78);const ctx_r77=core.lc(3);return $event.stopPropagation(),ctx_r77.editFile()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r68=core.lc(3);core.sc(\"disabled\",ctx_r68.lockFound),core.Eb(1),core.Tc(core.nc(2,2,\"lang.templateEdition\"))}}function TemplateAdministrationComponent_mat_card_14_div_33_button_26_Template(rf,ctx){if(1&rf){const _r80=core.ac();core.Zb(0,\"button\",58),core.hc(\"click\",(function($event){core.Hc(_r80),core.lc();const _r66=core.Dc(13);return $event.stopPropagation(),_r66.click()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r69=core.lc(3);core.sc(\"disabled\",ctx_r69.lockFound),core.Eb(1),core.Tc(core.nc(2,2,\"lang.importFile\"))}}function TemplateAdministrationComponent_mat_card_14_div_33_iframe_27_Template(rf,ctx){if(1&rf&&core.Ub(0,\"iframe\",59),2&rf){const ctx_r70=core.lc(3);core.sc(\"src\",ctx_r70.templateDocView,core.Jc)}}function TemplateAdministrationComponent_mat_card_14_div_33_Template(rf,ctx){if(1&rf){const _r82=core.ac();core.Zb(0,\"div\",27),core.Zb(1,\"mat-tab-group\",65),core.hc(\"selectedTabChange\",(function($event){return core.Hc(_r82),core.lc(2).loadTab($event)})),core.Zb(2,\"mat-tab\",53),core.mc(3,\"translate\"),core.Zb(4,\"div\",25),core.Zb(5,\"div\",61),core.Zb(6,\"textarea\",66),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r82),core.lc(2).template.file.electronic.content=$event})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(7,\"mat-tab\",53),core.mc(8,\"translate\"),core.Zb(9,\"div\",46),core.Zb(10,\"div\",47),core.Zb(11,\"div\",27),core.Zb(12,\"input\",48,67),core.hc(\"change\",(function($event){return core.Hc(_r82),core.lc(2).uploadFileTrigger($event)})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(14,\"div\",25),core.Zb(15,\"mat-form-field\"),core.Zb(16,\"mat-select\",68),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r82),core.lc(2).selectedModelFile=$event})),core.mc(17,\"translate\"),core.mc(18,\"translate\"),core.Zb(19,\"mat-optgroup\",53),core.mc(20,\"translate\"),core.Zb(21,\"mat-option\",69),core.hc(\"click\",(function(){return core.Hc(_r82),core.Dc(13).click()})),core.Ub(22,\"mat-icon\",55),core.Sc(23),core.Yb(),core.Yb(),core.Qc(24,TemplateAdministrationComponent_mat_card_14_div_33_ng_container_24_Template,3,2,\"ng-container\",56),core.Yb(),core.Yb(),core.Qc(25,TemplateAdministrationComponent_mat_card_14_div_33_button_25_Template,3,4,\"button\",50),core.Qc(26,TemplateAdministrationComponent_mat_card_14_div_33_button_26_Template,3,4,\"button\",50),core.Yb(),core.Qc(27,TemplateAdministrationComponent_mat_card_14_div_33_iframe_27_Template,1,1,\"iframe\",51),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r20=core.lc(2);core.Eb(2),core.tc(\"label\",core.nc(3,16,\"lang.electronicTemplate\")),core.Eb(4),core.sc(\"ngModel\",ctx_r20.template.file.electronic.content)(\"required\",\"acknowledgementReceipt\"!=ctx_r20.template.target),core.Eb(1),core.tc(\"label\",core.nc(8,18,\"lang.paperTemplate\")),core.Eb(9),core.tc(\"title\",core.nc(17,20,\"lang.defaultTemplate\")),core.tc(\"placeholder\",core.nc(18,22,\"lang.chosenModel\")),core.sc(\"disabled\",!ctx_r20.creationMode&&null!==ctx_r20.template.file.paper.name)(\"ngModel\",ctx_r20.selectedModelFile)(\"required\",\"acknowledgementReceipt\"!=ctx_r20.template.target),core.Eb(3),core.uc(\"label\",\"\",core.nc(20,24,\"lang.loadedFile\"),\" :\"),core.Eb(2),core.sc(\"value\",ctx_r20.template.file.paper.name),core.Eb(2),core.Uc(\" \",ctx_r20.functionsService.empty(ctx_r20.template.file.paper)||ctx_r20.functionsService.empty(ctx_r20.template.file.paper.name)?ctx_r20.translate.instant(\"lang.importFile\"):ctx_r20.template.file.paper.name,\" \"),core.Eb(1),core.sc(\"ngForOf\",ctx_r20.extensionModels),core.Eb(1),core.sc(\"ngIf\",ctx_r20.creationMode&&ctx_r20.selectedModelFile||!ctx_r20.creationMode&&!ctx_r20.functionsService.empty(ctx_r20.template.file.paper.name)),core.Eb(1),core.sc(\"ngIf\",!ctx_r20.selectedModelFile||!ctx_r20.creationMode&&\"java\"!==ctx_r20.headerService.user.preferences.documentEdition),core.Eb(1),core.sc(\"ngIf\",null!==ctx_r20.templateDocView)}}function TemplateAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r88=core.ac();core.Zb(0,\"mat-card\",22),core.Zb(1,\"form\",23,24),core.hc(\"ngSubmit\",(function(){return core.Hc(_r88),core.lc().onSubmit()})),core.Zb(3,\"div\",25),core.Qc(4,TemplateAdministrationComponent_mat_card_14_div_4_Template,6,7,\"div\",26),core.Zb(5,\"div\",27),core.Zb(6,\"div\",25),core.Zb(7,\"mat-form-field\"),core.Zb(8,\"input\",28),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r88),core.lc().template.label=$event})),core.mc(9,\"translate\"),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(11,\"div\",27),core.Zb(12,\"div\",25),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"textarea\",29),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r88),core.lc().template.description=$event})),core.mc(15,\"translate\"),core.mc(16,\"translate\"),core.Sc(17,\"                                    \"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"div\",27),core.Zb(19,\"div\",25),core.Zb(20,\"mat-form-field\"),core.Zb(21,\"mat-select\",30),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r88),core.lc().template.target=$event}))(\"selectionChange\",(function(){return core.Hc(_r88),core.lc().updateTemplateType()})),core.mc(22,\"translate\"),core.mc(23,\"translate\"),core.Qc(24,TemplateAdministrationComponent_mat_card_14_mat_option_24_Template,3,4,\"mat-option\",31),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(25,TemplateAdministrationComponent_mat_card_14_div_25_Template,10,11,\"div\",26),core.Qc(26,TemplateAdministrationComponent_mat_card_14_div_26_Template,15,17,\"div\",26),core.Qc(27,TemplateAdministrationComponent_mat_card_14_div_27_Template,6,7,\"div\",26),core.Qc(28,TemplateAdministrationComponent_mat_card_14_div_28_Template,4,2,\"div\",26),core.Qc(29,TemplateAdministrationComponent_mat_card_14_div_29_Template,11,4,\"div\",26),core.Qc(30,TemplateAdministrationComponent_mat_card_14_div_30_Template,7,8,\"div\",26),core.Qc(31,TemplateAdministrationComponent_mat_card_14_div_31_Template,4,2,\"div\",26),core.Qc(32,TemplateAdministrationComponent_mat_card_14_div_32_Template,10,11,\"div\",26),core.Qc(33,TemplateAdministrationComponent_mat_card_14_div_33_Template,28,26,\"div\",26),core.Yb(),core.Zb(34,\"div\",32),core.Zb(35,\"button\",33),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r9=core.Dc(2),ctx_r3=core.lc();core.Eb(4),core.sc(\"ngIf\",!ctx_r3.creationMode),core.Eb(4),core.tc(\"title\",core.nc(9,23,\"lang.templateName\")),core.tc(\"placeholder\",core.nc(10,25,\"lang.templateName\")),core.sc(\"ngModel\",ctx_r3.template.label),core.Eb(6),core.tc(\"placeholder\",core.nc(15,27,\"lang.description\")),core.tc(\"title\",core.nc(16,29,\"lang.description\")),core.sc(\"ngModel\",ctx_r3.template.description),core.Eb(7),core.tc(\"title\",core.nc(22,31,\"lang.templateTarget\")),core.tc(\"placeholder\",core.nc(23,33,\"lang.templateTarget\")),core.sc(\"disabled\",!ctx_r3.creationMode)(\"ngModel\",ctx_r3.template.target),core.Eb(3),core.sc(\"ngForOf\",ctx_r3.targetTypes),core.Eb(1),core.sc(\"ngIf\",\"attachments\"==ctx_r3.template.target),core.Eb(1),core.sc(\"ngIf\",\"acknowledgementReceipt\"==ctx_r3.template.target),core.Eb(1),core.sc(\"ngIf\",\"sendmail\"==ctx_r3.template.target),core.Eb(1),core.sc(\"ngIf\",ctx_r3.availableTypes.length>1),core.Eb(1),core.sc(\"ngIf\",\"OFFICE\"==ctx_r3.template.type),core.Eb(1),core.sc(\"ngIf\",\"TXT\"==ctx_r3.template.type),core.Eb(1),core.sc(\"ngIf\",\"HTML\"==ctx_r3.template.type),core.Eb(1),core.sc(\"ngIf\",\"notifications\"==ctx_r3.template.target),core.Eb(1),core.sc(\"ngIf\",\"OFFICE_HTML\"==ctx_r3.template.type),core.Eb(2),core.sc(\"disabled\",!_r9.form.valid||ctx_r3.lockFound),core.Eb(1),core.Tc(core.nc(37,35,\"lang.save\"))}}function TemplateAdministrationCheckEntitiesModalComponent_mat_list_item_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Zb(1,\"mat-icon\",5),core.Ub(2,\"i\",6),core.Yb(),core.Zb(3,\"span\",7),core.Sc(4),core.Yb(),core.Yb()),2&rf){const entity_r1=ctx.$implicit;core.Eb(4),core.Uc(\" \",entity_r1.entity_label,\" \")}}let template_administration_component_TemplateAdministrationComponent=(()=>{class TemplateAdministrationComponent{constructor(http,sanitizer,route,router,notify,headerService,dialog,appService,viewContainerRef,functionsService,translate){this.http=http,this.sanitizer=sanitizer,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.dialog=dialog,this.appService=appService,this.viewContainerRef=viewContainerRef,this.functionsService=functionsService,this.translate=translate,this.loading=!1,this.template={id:0,label:\"\",description:\"\",datasource:\"letterbox_attachment\",target:\"\",type:\"\",file:null},this.targetTypes=[\"acknowledgementReceipt\",\"notes\",\"sendmail\",\"indexingFile\",\"notifications\",\"attachments\"],this.allowedExtensions=[\"doc\",\"docx\",\"dotx\",\"odt\",\"ott\",\"html\",\"xlsl\",\"xlsx\",\"xltx\",\"ods\",\"ots\",\"csv\"],this.selectedModelFile=null,this.availableTypes=[],this.statuses=[],this.categoriesList=[],this.keywordsList=[],this.jnlpValue={},this.extensionModels=[],this.buttonFileName=this.translate.instant(\"lang.importFile\"),this.lockFound=!1,this.templateDocView=null,this.data=[],this.config={}}ngOnInit(){this.loading=!0,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.templateCreation\")),this.creationMode=!0,this.http.get(\"../rest/administration/templates/new\").subscribe(data=>{this.setInitialValue(data),this.loading=!1})):(this.creationMode=!1,this.http.get(\"../rest/templates/\"+params.id+\"/details\").subscribe(data=>{this.setInitialValue(data),this.template={id:data.template.template_id,label:data.template.template_label,description:data.template.template_comment,datasource:data.template.template_datasource,target:data.template.template_target,type:data.template.template_type,subject:data.template.subject,file:{}},this.updateTemplateType(),this.selectedModelFile=data.template.template_file_name,this.template.template_attachment_type=data.template.template_attachment_type,\"HTML\"===this.template.type||\"TXT\"===this.template.type?this.template.file.content=data.template.template_content:\"OFFICE\"===this.template.type?(this.template.file.format=data.template.template_file_name.split(\".\").pop(),this.template.file.name=data.template.template_file_name,this.getViewTemplateContent()):\"acknowledgementReceipt\"===this.template.target&&(this.functionsService.empty(data.template.template_file_name)||(this.template.file.paper.format=data.template.template_file_name.split(\".\").pop()),this.template.file.paper.name=data.template.template_file_name,this.template.file.electronic.content=data.template.template_content,this.getViewTemplateContent()),this.headerService.setHeader(this.translate.instant(\"lang.templateModification\"),this.template.template_label),this.loading=!1})),this.template.template_attachment_type||(this.template.template_attachment_type=\"all\")})}getViewTemplateContent(){this.http.get(`../rest/templates/${this.template.id}/content`).pipe(Object(tap.a)(data=>{this.templateDocView=this.sanitizer.bypassSecurityTrustResourceUrl(\"data:application/pdf;base64,\"+data.encodedDocument)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}initMce(selectorId){setTimeout(()=>{tinymce.remove(\"textarea\"),tinymce.baseURL=\"../node_modules/tinymce\",tinymce.suffix=\".min\",tinymce.init({selector:selectorId,statusbar:!1,language:this.translate.instant(\"lang.langISO\").replace(\"-\",\"_\"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant(\"lang.langISO\").replace(\"-\",\"_\")}.js`,height:\"200\",plugins:[\"autoresize\",\"code\"],external_plugins:{maarch_b64image:\"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js\"},menubar:!1,toolbar:\"undo | bold italic underline | alignleft aligncenter alignright | maarch_b64image | forecolor | code\",theme_buttons1_add:\"fontselect,fontsizeselect\",theme_buttons2_add_before:\"cut,copy,paste,pastetext,pasteword,separator,search,replace,separator\",theme_buttons2_add:\"separator,insertdate,inserttime,preview,separator,forecolor,backcolor\",theme_buttons3_add_before:\"tablecontrols,separator\",theme_buttons3_add:\"separator,print,separator,ltr,rtl,separator,fullscreen,separator,insertlayer,moveforward,movebackward,absolut\",theme_toolbar_align:\"left\",theme_advanced_toolbar_location:\"top\",theme_styles:\"Header 1=header1;Header 2=header2;Header 3=header3;Table Row=tableRow1\",setup:ed=>{ed.on(\"keyup\",e=>{\"HTML\"===this.template.type&&null!=tinymce.get(\"templateHtml\")&&(this.template.file.content=tinymce.get(\"templateHtml\").getContent()),\"OFFICE_HTML\"===this.template.type&&null!=tinymce.get(\"templateOfficeHtml\")&&(this.template.file.electronic.content=tinymce.get(\"templateOfficeHtml\").getContent())})}})},20)}setInitialValue(data){this.extensionModels=[],data.templatesModels.forEach(model=>{-1===this.extensionModels.indexOf(model.fileExt)&&this.extensionModels.push(model.fileExt)}),this.defaultTemplatesList=data.templatesModels,this.attachmentTypesList=data.attachmentTypes,this.datasourcesList=data.datasources,this.maarchTree.initData(data.entities.map(ent=>Object.assign(Object.assign({},ent),{id:ent.serialId})))}getBase64Document(buffer){const STRING_CHAR=new Uint8Array(buffer).reduce((data,byte)=>data+String.fromCharCode(byte),\"\");return btoa(STRING_CHAR)}uploadFileTrigger(fileInput){if(fileInput.target.files&&fileInput.target.files[0]&&this.isExtensionAllowed(fileInput.target.files[0])){const reader=new FileReader;\"acknowledgementReceipt\"===this.template.target?(this.template.file.paper={name:\"\",type:\"\",content:\"\"},this.template.file.paper.name=fileInput.target.files[0].name,this.selectedModelFile=this.template.file.paper.name,this.template.file.paper.type=fileInput.target.files[0].type,this.template.file.paper.format=this.template.file.paper.name.split(\".\").pop()):(this.template.file={name:\"\",type:\"\",content:\"\"},this.template.file.name=fileInput.target.files[0].name,this.selectedModelFile=this.template.file.name,this.template.file.type=fileInput.target.files[0].type,this.template.file.format=this.template.file.name.split(\".\").pop()),reader.readAsArrayBuffer(fileInput.target.files[0]),reader.onload=value=>{\"acknowledgementReceipt\"===this.template.target?this.template.file.paper.content=this.getBase64Document(value.target.result):this.template.file.content=this.getBase64Document(value.target.result),this.getViewTemplateFile()}}}isExtensionAllowed(file){const fileExtension=file.name.toLowerCase().split(\".\").pop();return 0!==this.allowedExtensions.filter(ext=>ext.toLowerCase()===fileExtension.toLowerCase()).length||(this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.notAllowedExtension\")+\" !\",msg:this.translate.instant(\"lang.file\")+\" : <b>\"+file.name+\"</b>, \"+this.translate.instant(\"lang.type\")+\" : <b>\"+file.type+\"</b><br/><br/><u>\"+this.translate.instant(\"lang.allowedExtensions\")+\"</u> : <br/>\"+this.allowedExtensions.filter((elem,index,self)=>index===self.indexOf(elem)).join(\", \")}}),!1)}editFile(){const editorOptions={docUrl:\"rest/onlyOffice/mergedFile\"};if(this.creationMode){if(\"acknowledgementReceipt\"!==this.template.target)if(this.functionsService.empty(this.template.file.content)){editorOptions.objectType=\"templateCreation\";for(const element of this.defaultTemplatesList)this.selectedModelFile===element.fileExt+\": \"+element.fileName&&(editorOptions.objectId=element.filePath);editorOptions.extension=editorOptions.objectId.toLowerCase().split(\".\").pop()}else editorOptions.objectType=\"encodedResource\",editorOptions.objectId=this.template.file.content,editorOptions.extension=this.template.file.format;else if(\"acknowledgementReceipt\"===this.template.target)if(this.functionsService.empty(this.template.file.paper.content)){editorOptions.objectType=\"templateCreation\";for(const element of this.defaultTemplatesList)this.selectedModelFile===element.fileExt+\": \"+element.fileName&&(editorOptions.objectId=element.filePath);editorOptions.extension=editorOptions.objectId.toLowerCase().split(\".\").pop()}else editorOptions.objectType=\"encodedResource\",editorOptions.objectId=this.template.file.paper.content,editorOptions.extension=this.template.file.paper.format}else\"acknowledgementReceipt\"!==this.template.target?this.functionsService.empty(this.template.file.content)?(editorOptions.objectType=\"templateModification\",editorOptions.objectId=this.template.id,editorOptions.extension=this.template.file.name.toLowerCase().split(\".\").pop()):(editorOptions.objectType=\"encodedResource\",editorOptions.objectId=this.template.file.content,editorOptions.extension=this.template.file.format):\"acknowledgementReceipt\"===this.template.target&&(this.functionsService.empty(this.template.file.paper.content)?(editorOptions.objectType=\"templateModification\",editorOptions.objectId=this.template.id,editorOptions.extension=this.template.file.paper.name.toLowerCase().split(\".\").pop()):(editorOptions.objectType=\"encodedResource\",editorOptions.objectId=this.template.file.paper.content,editorOptions.extension=this.template.file.paper.format));if(\"java\"===this.headerService.user.preferences.documentEdition){if(this.creationMode){editorOptions.objectId=\"\",editorOptions.objectType=\"templateCreation\";for(const element of this.defaultTemplatesList)this.selectedModelFile===element.fileExt+\": \"+element.fileName&&(editorOptions.objectId=element.filePath);if(this.functionsService.empty(editorOptions.objectId))return alert(this.translate.instant(\"lang.canNotEditImportedDocumentWhenJava\")),!1}else editorOptions.objectType=\"templateModification\",editorOptions.objectId=this.template.id;this.launchJavaEditor(editorOptions)}else\"java\"!==this.headerService.user.preferences.documentEdition&&this.launchIntegratedEditor(editorOptions,this.headerService.user.preferences.documentEdition)}launchJavaEditor(params){this.http.post(\"../rest/jnlp\",params).pipe(Object(tap.a)(data=>{window.location.href=\"../rest/jnlp/\"+data.generatedJnlp,this.checkLockFile(data.jnlpUniqueId,params.extension)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}launchIntegratedEditor(params,editor){this.dialogRef=this.dialog.open(template_file_editor_modal_component_TemplateFileEditorModalComponent,{autoFocus:!1,panelClass:\"maarch-full-height-modal\",minWidth:\"80%\",disableClose:!0,data:{title:this.template.template_style,editorOptions:params,file:{format:params.extension},editorType:editor}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>!this.functionsService.empty(data)),Object(tap.a)(data=>{\"acknowledgementReceipt\"===this.template.target?(this.template.file.paper.name=this.selectedModelFile,this.template.file.paper.format=params.extension,this.template.file.paper.content=data.content):(this.template.file.name=this.selectedModelFile,this.template.file.format=params.extension,this.template.file.content=data.content),this.getViewTemplateFile()}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}getViewTemplateFile(){this.http.post(\"../rest/convertedFile/encodedFile\",{encodedFile:\"acknowledgementReceipt\"===this.template.target?this.template.file.paper.content:this.template.file.content,format:\"acknowledgementReceipt\"===this.template.target?this.template.file.paper.format:this.template.file.format}).pipe(Object(tap.a)(data=>{this.templateDocView=this.sanitizer.bypassSecurityTrustResourceUrl(\"data:application/pdf;base64,\"+data.encodedResource)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}checkLockFile(id,extension){this.intervalLockFile=setInterval(()=>{this.http.get(\"../rest/jnlp/lock/\"+id).pipe(Object(tap.a)(data=>{this.lockFound=data.lockFileFound,this.lockFound||(clearInterval(this.intervalLockFile),this.loadTmpFile(`${data.fileTrunk}.${extension}`))})).subscribe()},1e3)}loadTmpFile(filenameOnTmp){this.http.get(`../rest/convertedFile/${filenameOnTmp}?convert=true`).pipe(Object(tap.a)(data=>{\"acknowledgementReceipt\"===this.template.target?(this.template.file.paper.name=this.selectedModelFile,this.template.file.paper.format=filenameOnTmp.toLowerCase().split(\".\").pop(),this.template.file.paper.content=data.encodedResource):(this.template.file.name=this.selectedModelFile,this.template.file.format=filenameOnTmp.toLowerCase().split(\".\").pop(),this.template.file.content=data.encodedResource),this.templateDocView=this.sanitizer.bypassSecurityTrustResourceUrl(\"data:application/pdf;base64,\"+data.encodedConvertedResource)})).subscribe()}duplicateTemplate(){this.lockFound||\"acknowledgementReceipt\"===this.template.target||confirm(this.translate.instant(\"lang.confirmDuplicate\"))&&this.http.post(\"../rest/templates/\"+this.template.id+\"/duplicate\",{id:this.template.id}).subscribe(data=>{this.notify.success(this.translate.instant(\"lang.templateDuplicated\")),this.router.navigate([\"/administration/templates/\"+data.id])},err=>{this.notify.error(err.error.errors)})}onSubmit(){this.isValidTemplate()&&(this.creationMode?this.http.post(\"../rest/templates\",this.formatTemplate()).pipe(Object(tap.a)(data=>{data.checkEntities?(this.config={panelClass:\"maarch-modal\",data:{entitiesList:data.checkEntities,template_attachment_type:this.template.template_attachment_type}},this.dialog.open(template_administration_component_TemplateAdministrationCheckEntitiesModalComponent,this.config)):(this.router.navigate([\"/administration/templates\"]),this.notify.success(this.translate.instant(\"lang.templateAdded\")))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.put(\"../rest/templates/\"+this.template.id,this.formatTemplate()).pipe(Object(tap.a)(data=>{!this.functionsService.empty(data)&&data.checkEntities?(this.config={panelClass:\"maarch-modal\",data:{entitiesList:data.checkEntities,template_attachment_type:this.template.template_attachment_type}},this.dialogRef=this.dialog.open(template_administration_component_TemplateAdministrationCheckEntitiesModalComponent,this.config)):(this.router.navigate([\"/administration/templates\"]),this.notify.success(this.translate.instant(\"lang.templateUpdated\")))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe())}formatTemplate(){const template=Object.assign({},this.template);return template.entities=this.maarchTree.getSelectedNodes().map(ent=>ent.entity_id),template}isValidTemplate(){return\"acknowledgementReceipt\"===this.template.target&&this.functionsService.empty(this.template.file.paper.name)&&this.functionsService.empty(this.template.file.electronic.content)?(alert(this.translate.instant(\"lang.mustCompleteAR\")),!1):\"acknowledgementReceipt\"===this.template.target||\"OFFICE\"!==this.template.type||!this.functionsService.empty(this.template.file.name)||(alert(this.translate.instant(\"lang.editModelFirst\")),!1)}displayDatasources(datasource){return\"notification\"===datasource.target&&\"notifications\"===this.template.target||\"document\"===datasource.target&&\"notifications\"!==this.template.target}updateTemplateType(){this.template.file={name:\"\",type:\"\",content:\"\"},this.templateDocView=null,[\"attachments\",\"indexingFile\"].indexOf(this.template.target)>-1?(this.template.type=\"OFFICE\",this.availableTypes=[\"OFFICE\"]):[\"notifications\",\"sendmail\"].indexOf(this.template.target)>-1?(this.template.type=\"HTML\",this.availableTypes=[\"HTML\",\"TXT\"],this.initMce(\"textarea#templateHtml\")):\"notes\"===this.template.target?(this.template.type=\"TXT\",this.availableTypes=[\"TXT\"]):\"acknowledgementReceipt\"===this.template.target&&(this.template.file={electronic:{name:\"\",type:\"\",content:\"\"},paper:{name:\"\",type:\"\",content:\"\"}},this.template.type=\"OFFICE_HTML\",this.availableTypes=[],this.template.template_attachment_type=\"\",this.initMce(\"textarea#templateOfficeHtml\"))}changeType(ev){\"HTML\"===ev.value?this.initMce(\"textarea#templateHtml\"):tinymce.remove(\"textarea\"),this.template.type=ev.value}changeModel(){this.template.file={name:\"\",type:\"\",content:\"\"},this.template.file={electronic:{name:\"\",type:\"\",content:\"\"}}}loadTab(event){0===event.index?this.initMce(\"textarea#templateOfficeHtml\"):(tinymce.remove(\"textarea\"),null==this.template.template_file_name&&null==this.template.template_style&&(this.buttonFileName=this.translate.instant(\"lang.importFile\")))}ngOnDestroy(){tinymce.remove(\"textarea\"),this.intervalLockFile&&clearInterval(this.intervalLockFile)}}return TemplateAdministrationComponent.ɵfac=function(t){return new(t||TemplateAdministrationComponent)(core.Tb(fesm2015_http.b),core.Tb(platform_browser.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(fesm2015_dialog.b),core.Tb(app_service.a),core.Tb(core.R),core.Tb(functions_service.a),core.Tb(ngx_translate_core.e))},TemplateAdministrationComponent.ɵcmp=core.Nb({type:TemplateAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(template_administration_component_c0,!0),core.Oc(template_administration_component_c1,!0),core.Oc(template_administration_component_c2,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.maarchTree=_t.first))},decls:24,vars:14,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\",2,\"padding\",\"10px 10px 0px 10px\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",\"style\",\"display: contents;\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"400px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[2,\"padding\",\"10px\"],[\"maarchTree\",\"\"],[4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"disableRipple\",\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-copy\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\",2,\"display\",\"contents\"],[1,\"form-horizontal\",2,\"display\",\"contents\",3,\"ngSubmit\"],[\"templatesFormUp\",\"ngForm\"],[1,\"col-sm-12\"],[\"class\",\"form-group\",4,\"ngIf\"],[1,\"form-group\"],[\"matInput\",\"\",\"name\",\"label\",\"type\",\"text\",\"maxlength\",\"255\",\"required\",\"\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"description\",\"name\",\"template_comment\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"2\",\"matAutosizeMaxRows\",\"5\",\"required\",\"\",3,\"ngModel\",\"placeholder\",\"title\",\"ngModelChange\"],[\"name\",\"target\",\"required\",\"\",3,\"disabled\",\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\",\"selectionChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-sm-12\",2,\"background\",\"white\",\"position\",\"sticky\",\"bottom\",\"0px\",\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"matInput\",\"\",\"type\",\"number\",\"disabled\",\"\",3,\"title\",\"value\",\"placeholder\"],[3,\"value\"],[\"id\",\"template_attachment_type\",\"name\",\"template_attachment_type\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"all\"],[\"id\",\"template_attachment_type\",\"name\",\"template_attachment_type\",\"required\",\"\",3,\"disabled\",\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"simple\"],[\"value\",\"sva\"],[\"value\",\"svr\"],[\"matInput\",\"\",\"name\",\"subject\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"required\",\"\",\"name\",\"type\",3,\"disabled\",\"change\"],[\"style\",\"margin-left:10px\",\"color\",\"primary\",\"name\",\"type\",3,\"value\",\"checked\",4,\"ngFor\",\"ngForOf\"],[\"color\",\"primary\",\"name\",\"type\",2,\"margin-left\",\"10px\",3,\"value\",\"checked\"],[1,\"col-md-12\",2,\"display\",\"none\"],[1,\"form-inline\",\"hide\"],[\"type\",\"file\",\"name\",\"files[]\",\"accept\",\"application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml‌.slideshow,application/vnd.oasis.opendocument.text,application/vnd.oasis.opendocument.presentation,application/vnd.oasis.opendocument.spreadsheet\",3,\"change\"],[\"uploadSignFileOffice\",\"\"],[\"mat-raised-button\",\"\",\"color\",\"default\",\"type\",\"button\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"style\",\"width:100%;height:800px;\",3,\"src\",4,\"ngIf\"],[\"id\",\"template_style\",\"name\",\"template_style\",3,\"disabled\",\"title\",\"placeholder\",\"ngModel\",\"required\",\"ngModelChange\",\"selectionChange\"],[3,\"label\"],[1,\"selectFile\",3,\"value\",\"click\"],[\"color\",\"primary\",1,\"fa\",\"fa-paperclip\",2,\"height\",\"auto\"],[4,\"ngFor\",\"ngForOf\"],[3,\"value\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"color\",\"default\",\"type\",\"button\",3,\"disabled\",\"click\"],[2,\"width\",\"100%\",\"height\",\"800px\",3,\"src\"],[\"matInput\",\"\",\"name\",\"templateTxt\",\"id\",\"templateTxt\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"5\",\"matAutosizeMaxRows\",\"5\",3,\"ngModel\",\"placeholder\",\"title\",\"required\",\"ngModelChange\"],[\"id\",\"html_mode\",2,\"display\",\"block\",\"width\",\"100%\"],[\"name\",\"templateHtml\",\"id\",\"templateHtml\",\"rows\",\"15\",\"cols\",\"60\",2,\"width\",\"100%\",3,\"ngModel\",\"required\",\"ngModelChange\"],[\"id\",\"datasource\",\"name\",\"datasource\",3,\"title\",\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"value\",\"\"],[3,\"selectedTabChange\"],[\"name\",\"templateOfficeHtml\",\"id\",\"templateOfficeHtml\",\"rows\",\"15\",\"cols\",\"60\",2,\"width\",\"100%\",3,\"ngModel\",\"required\",\"ngModelChange\"],[\"uploadSignFileOfficeHtml\",\"\"],[\"id\",\"template_style\",\"name\",\"template_style\",3,\"disabled\",\"title\",\"placeholder\",\"ngModel\",\"required\",\"ngModelChange\"],[2,\"text-align\",\"center\",3,\"value\",\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,TemplateAdministrationComponent_ng_template_1_Template,1,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,TemplateAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,TemplateAdministrationComponent_mat_card_14_Template,38,37,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.Zb(17,\"mat-list\"),core.Zb(18,\"h3\",13),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"div\",14),core.Ub(22,\"app-maarch-flat-tree\",null,15),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()),core.Eb(4),core.Tc(core.nc(20,12,\"lang.chooseEntityAssociationModel\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,list.g,maarch_flat_tree_component.a,list.h,list.d,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,input.d,fesm2015_select.a,common.s,fesm2015_button.b,fesm2015_core.o,fesm2015_radio.b,fesm2015_radio.a,fesm2015_core.n,tabs.c,tabs.a],pipes:[ngx_translate_core.d],styles:[\".mat-list-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.mat-list-item.disabled[_ngcontent-%COMP%]:active, .mat-list-item.disabled[_ngcontent-%COMP%]:focus, .mat-list-item.disabled[_ngcontent-%COMP%]:hover{background:initial}.selectFile[_ngcontent-%COMP%]{text-align:center}.selectFile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex!important;align-items:center;justify-content:center}\"]}),TemplateAdministrationComponent})(),template_administration_component_TemplateAdministrationCheckEntitiesModalComponent=(()=>{class TemplateAdministrationCheckEntitiesModalComponent{constructor(http,data,dialogRef){this.http=http,this.data=data,this.dialogRef=dialogRef}}return TemplateAdministrationCheckEntitiesModalComponent.ɵfac=function(t){return new(t||TemplateAdministrationCheckEntitiesModalComponent)(core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h))},TemplateAdministrationCheckEntitiesModalComponent.ɵcmp=core.Nb({type:TemplateAdministrationCheckEntitiesModalComponent,selectors:[[\"ng-component\"]],decls:18,vars:13,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\"],[4,\"ngFor\",\"ngForOf\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"click\"],[\"mat-list-icon\",\"\"],[\"color\",\"primary\",1,\"fa\",\"fa-share-alt\"],[\"mat-line\",\"\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"div\",2),core.Zb(6,\"p\"),core.Sc(7),core.mc(8,\"translate\"),core.Zb(9,\"b\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(12,\"mat-list\"),core.Qc(13,TemplateAdministrationCheckEntitiesModalComponent_mat_list_item_13_Template,5,1,\"mat-list-item\",3),core.Yb(),core.Yb(),core.Zb(14,\"mat-dialog-actions\"),core.Zb(15,\"button\",4),core.hc(\"click\",(function(){return ctx.dialogRef.close()})),core.Sc(16),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,5,\"lang.templateAssociateEntities\")),core.Eb(5),core.Tc(core.nc(8,7,\"lang.templateCheckEntities\")),core.Eb(3),core.Tc(core.nc(11,9,\"lang.AR\"+ctx.data.template_attachment_type)),core.Eb(3),core.sc(\"ngForOf\",ctx.data.entitiesList),core.Eb(3),core.Tc(core.nc(17,11,\"lang.close\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,list.a,common.s,fesm2015_dialog.c,fesm2015_button.b,list.d,icon.a,list.c,fesm2015_core.k],pipes:[ngx_translate_core.d],styles:[\".alert-message[_ngcontent-%COMP%]{max-width:inherit}\"]}),TemplateAdministrationCheckEntitiesModalComponent})();function SecuritiesAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function SecuritiesAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r4=core.ac();core.Zb(0,\"mat-card\",12),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",13),core.mc(3,\"translate\"),core.Zb(4,\"form\",14,15),core.hc(\"ngSubmit\",(function(){return core.Hc(_r4),core.lc().onSubmit()})),core.Zb(6,\"mat-list\"),core.Zb(7,\"p\",16),core.Zb(8,\"mat-slide-toggle\",17),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r5=core.lc();return ctx_r5.toggleRule(ctx_r5.passwordRules.complexityUpper)})),core.Sc(9),core.Yb(),core.Zb(10,\"mat-slide-toggle\",17),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r6=core.lc();return ctx_r6.toggleRule(ctx_r6.passwordRules.complexityNumber)})),core.Sc(11),core.Yb(),core.Zb(12,\"mat-slide-toggle\",17),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r7=core.lc();return ctx_r7.toggleRule(ctx_r7.passwordRules.complexitySpecial)})),core.Sc(13),core.Yb(),core.Yb(),core.Zb(14,\"mat-list-item\",18),core.Zb(15,\"mat-icon\",19),core.Zb(16,\"mat-slide-toggle\",20),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r8=core.lc();return ctx_r8.toggleRule(ctx_r8.passwordRules.minLength)})),core.Yb(),core.Yb(),core.Zb(17,\"p\",21),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().passwordRules.minLength.value=$event})),core.Yb(),core.Zb(20,\"span\",23),core.Sc(21),core.mc(22,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(23,\"mat-list-item\",18),core.Zb(24,\"mat-icon\",19),core.Zb(25,\"mat-slide-toggle\",20),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r10=core.lc();return ctx_r10.toggleRule(ctx_r10.passwordRules.lockAttempts)})),core.Yb(),core.Yb(),core.Zb(26,\"p\",24),core.Zb(27,\"mat-form-field\",25),core.Zb(28,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().passwordRules.lockAttempts.value=$event})),core.Yb(),core.Yb(),core.Zb(29,\"mat-form-field\",26),core.Zb(30,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().passwordRules.lockTime.value=$event})),core.Yb(),core.Zb(31,\"span\",23),core.Sc(32),core.mc(33,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(34,\"mat-list-item\",18),core.Zb(35,\"mat-icon\",19),core.Zb(36,\"mat-slide-toggle\",20),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r13=core.lc();return ctx_r13.toggleRule(ctx_r13.passwordRules.renewal)})),core.Yb(),core.Yb(),core.Zb(37,\"p\",21),core.Zb(38,\"mat-form-field\"),core.Zb(39,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().passwordRules.renewal.value=$event})),core.Yb(),core.Zb(40,\"span\",23),core.Sc(41),core.mc(42,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(43,\"mat-list-item\",18),core.Zb(44,\"mat-icon\",19),core.Zb(45,\"mat-slide-toggle\",20),core.hc(\"change\",(function(){core.Hc(_r4);const ctx_r15=core.lc();return ctx_r15.toggleRule(ctx_r15.passwordRules.historyLastUse)})),core.Yb(),core.Yb(),core.Zb(46,\"p\",21),core.Zb(47,\"mat-form-field\"),core.Zb(48,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r4),core.lc().passwordRules.historyLastUse.value=$event})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(49,\"div\",27),core.Zb(50,\"button\",28),core.Sc(51),core.mc(52,\"translate\"),core.Yb(),core.Zb(53,\"button\",29),core.hc(\"click\",(function(){return core.Hc(_r4),core.lc().cancelModification()})),core.Sc(54),core.mc(55,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r2=core.Dc(5),ctx_r1=core.lc();core.Eb(2),core.tc(\"label\",core.nc(3,41,\"lang.password\")),core.Eb(6),core.sc(\"name\",ctx_r1.passwordRules.complexityUpper.label)(\"checked\",ctx_r1.passwordRules.complexityUpper.enabled),core.Eb(1),core.Uc(\" \",ctx_r1.passwordRules.complexityUpper.label,\"\"),core.Eb(1),core.sc(\"name\",ctx_r1.passwordRules.complexityNumber.label)(\"checked\",ctx_r1.passwordRules.complexityNumber.enabled),core.Eb(1),core.Uc(\" \",ctx_r1.passwordRules.complexityNumber.label,\"\"),core.Eb(1),core.sc(\"name\",ctx_r1.passwordRules.complexitySpecial.label)(\"checked\",ctx_r1.passwordRules.complexitySpecial.enabled),core.Eb(1),core.Uc(\" \",ctx_r1.passwordRules.complexitySpecial.label,\"\"),core.Eb(3),core.sc(\"checked\",ctx_r1.passwordRules.minLength.enabled),core.Eb(3),core.tc(\"placeholder\",ctx_r1.passwordRules.minLength.label),core.sc(\"disabled\",!ctx_r1.passwordRules.minLength.enabled)(\"name\",ctx_r1.passwordRules.minLength.label)(\"ngModel\",ctx_r1.passwordRules.minLength.value),core.Eb(2),core.Uc(\" \",core.nc(22,43,\"lang.chars\"),\"\"),core.Eb(4),core.sc(\"checked\",ctx_r1.passwordRules.lockAttempts.enabled),core.Eb(3),core.tc(\"placeholder\",ctx_r1.passwordRules.lockAttempts.label),core.sc(\"disabled\",!ctx_r1.passwordRules.lockAttempts.enabled)(\"name\",ctx_r1.passwordRules.lockAttempts.label)(\"ngModel\",ctx_r1.passwordRules.lockAttempts.value),core.Eb(2),core.tc(\"placeholder\",ctx_r1.passwordRules.lockTime.label),core.sc(\"disabled\",!ctx_r1.passwordRules.lockTime.enabled)(\"name\",ctx_r1.passwordRules.lockTime.label)(\"ngModel\",ctx_r1.passwordRules.lockTime.value),core.Eb(2),core.Uc(\" \",core.nc(33,45,\"lang.minutes\"),\"\"),core.Eb(4),core.sc(\"checked\",ctx_r1.passwordRules.renewal.enabled),core.Eb(3),core.tc(\"placeholder\",ctx_r1.passwordRules.renewal.label),core.sc(\"disabled\",!ctx_r1.passwordRules.renewal.enabled)(\"name\",ctx_r1.passwordRules.renewal.label)(\"ngModel\",ctx_r1.passwordRules.renewal.value),core.Eb(2),core.Uc(\" \",core.nc(42,47,\"lang.days\"),\"\"),core.Eb(4),core.sc(\"checked\",ctx_r1.passwordRules.historyLastUse.enabled),core.Eb(3),core.tc(\"placeholder\",ctx_r1.passwordRules.historyLastUse.label),core.sc(\"disabled\",!ctx_r1.passwordRules.historyLastUse.enabled)(\"name\",ctx_r1.passwordRules.historyLastUse.label)(\"ngModel\",ctx_r1.passwordRules.historyLastUse.value),core.Eb(2),core.sc(\"disabled\",!_r2.valid&&!ctx_r1.disabledForm()||ctx_r1.checkModif()),core.Eb(1),core.Tc(core.nc(52,49,\"lang.validate\")),core.Eb(2),core.sc(\"disabled\",ctx_r1.checkModif()),core.Eb(1),core.Tc(core.nc(55,51,\"lang.cancel\"))}}let securities_administration_component_SecuritiesAdministrationComponent=(()=>{class SecuritiesAdministrationComponent{constructor(translate,http,notify,headerService,appService){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!1,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0},lockTime:{enabled:!1,value:0},lockAttempts:{enabled:!1,value:0}},this.passwordRulesClone={},this.passwordRulesList=[]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.securitiesAdministration\")),this.loading=!0,this.http.get(\"../rest/passwordRules\").subscribe(data=>{this.passwordRulesList=data.rules,data.rules.forEach(rule=>{this.passwordRules[rule.label].enabled=rule.enabled,this.passwordRules[rule.label].value=rule.value,this.passwordRules[rule.label].label=this.translate.instant(\"lang.password\"+rule.label+\"Required\"),this.passwordRules[rule.label].id=rule.label,this.loading=!1}),this.passwordRulesClone=JSON.parse(JSON.stringify(this.passwordRules))},err=>{this.notify.error(err.error.errors)})}cancelModification(){this.passwordRules=JSON.parse(JSON.stringify(this.passwordRulesClone)),this.passwordRulesList.forEach(rule=>{rule.enabled=this.passwordRules[rule.label].enabled,rule.value=this.passwordRules[rule.label].value})}checkModif(){return JSON.stringify(this.passwordRules)===JSON.stringify(this.passwordRulesClone)}disabledForm(){return!(this.passwordRules.lockTime.enabled||this.passwordRules.minLength.enabled||this.passwordRules.lockAttempts.enabled||this.passwordRules.renewal.enabled||this.passwordRules.historyLastUse.enabled)}toggleRule(rule){rule.enabled=!rule.enabled,this.passwordRulesList.forEach(rule2=>{\"lockAttempts\"!==rule.id||\"lockTime\"!==rule2.label&&\"lockAttempts\"!==rule2.label?rule.id===rule2.label&&(rule2.enabled=rule.enabled):(rule2.enabled=rule.enabled,this.passwordRules.lockTime.enabled=rule.enabled)})}onSubmit(){this.passwordRulesList.forEach(rule=>{rule.enabled=this.passwordRules[rule.label].enabled,rule.value=this.passwordRules[rule.label].value}),this.http.put(\"../rest/passwordRules\",{rules:this.passwordRulesList}).subscribe(data=>{this.passwordRulesClone=JSON.parse(JSON.stringify(this.passwordRules)),this.notify.success(this.translate.instant(\"lang.passwordRulesUpdated\"))},err=>{this.notify.error(err.error.errors)})}}return SecuritiesAdministrationComponent.ɵfac=function(t){return new(t||SecuritiesAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},SecuritiesAdministrationComponent.ɵcmp=core.Nb({type:SecuritiesAdministrationComponent,selectors:[[\"ng-component\"]],decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"label\"],[3,\"ngSubmit\"],[\"passwordForm\",\"ngForm\"],[2,\"margin-bottom\",\"40px\",\"text-align\",\"center\"],[\"color\",\"primary\",2,\"padding-left\",\"10px\",\"padding-right\",\"10px\",3,\"name\",\"checked\",\"change\"],[2,\"margin-top\",\"15px\",\"margin-bottom\",\"15px\"],[\"mat-list-icon\",\"\"],[\"color\",\"primary\",2,\"position\",\"relative\",\"top\",\"-10px\",3,\"checked\",\"change\"],[\"mat-line\",\"\"],[\"type\",\"number\",\"min\",\"1\",\"pattern\",\"^[1-9][0-9]*\",\"matInput\",\"\",\"required\",\"\",3,\"disabled\",\"name\",\"ngModel\",\"placeholder\",\"ngModelChange\"],[\"matSuffix\",\"\"],[\"mat-line\",\"\",2,\"display\",\"flex\"],[2,\"flex\",\"1\",\"padding-right\",\"10px\"],[2,\"flex\",\"1\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",\"color\",\"primary\",3,\"disabled\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"default\",3,\"disabled\",\"click\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,SecuritiesAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,SecuritiesAdministrationComponent_mat_card_12_Template,56,53,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,tabs.c,tabs.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,list.a,slide_toggle.a,list.d,icon.a,list.c,fesm2015_core.k,form_field.c,fesm2015_forms.z,input.b,fesm2015_forms.c,fesm2015_forms.A,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,form_field.j,fesm2015_button.b],pipes:[ngx_translate_core.d],encapsulation:2}),SecuritiesAdministrationComponent})();const sendmail_administration_component_c0=[\"snav2\"],sendmail_administration_component_c1=[\"adminMenuTemplate\"],sendmail_administration_component_c2=[\"sendmailForm\"];function SendmailAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",14),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",22),core.hc(\"click\",(function(){return core.Hc(_r10),core.lc(),core.Dc(16).toggle()})),core.Ub(5,\"mat-icon\",23),core.Zb(6,\"p\",24),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()}2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.checkSendmail\"),\" \"))}function SendmailAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",25),core.Ub(1,\"mat-spinner\",26),core.Yb())}function SendmailAdministrationComponent_mat_card_14_mat_option_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",49),core.Sc(1),core.Yb()),2&rf){const type_r15=ctx.$implicit;core.sc(\"value\",type_r15.id),core.Eb(1),core.Uc(\" \",type_r15.label,\" \")}}function SendmailAdministrationComponent_mat_card_14_mat_option_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",49),core.Sc(1),core.Yb()),2&rf){const security_r16=ctx.$implicit;core.sc(\"value\",security_r16.id),core.Eb(1),core.Uc(\" \",security_r16.label,\" \")}}const sendmail_administration_component_c3=function(){return[\"smtp\",\"mail\"]},sendmail_administration_component_c4=function(a0){return[a0]};function SendmailAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r18=core.ac();core.Zb(0,\"mat-card\",27),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",28),core.mc(3,\"translate\"),core.Zb(4,\"form\",29,30),core.hc(\"ngSubmit\",(function(){return core.Hc(_r18),core.lc().onSubmit()})),core.Zb(6,\"div\",15),core.Zb(7,\"div\",31),core.Zb(8,\"mat-form-field\"),core.Zb(9,\"mat-select\",32,33),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.type=$event})),core.mc(11,\"translate\"),core.Qc(12,SendmailAdministrationComponent_mat_card_14_mat_option_12_Template,2,2,\"mat-option\",34),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"div\",15),core.Zb(14,\"div\",35),core.Zb(15,\"mat-form-field\"),core.Zb(16,\"mat-select\",36),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.secure=$event})),core.mc(17,\"translate\"),core.Qc(18,SendmailAdministrationComponent_mat_card_14_mat_option_18_Template,2,2,\"mat-option\",34),core.Yb(),core.Yb(),core.Yb(),core.Zb(19,\"div\",37),core.Zb(20,\"mat-form-field\"),core.Zb(21,\"input\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.host=$event})),core.mc(22,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(23,\"div\",39),core.Zb(24,\"mat-form-field\"),core.Zb(25,\"input\",40),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.port=$event})),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(27,\"div\",15),core.Zb(28,\"div\",16),core.Zb(29,\"mat-slide-toggle\",41),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.auth=$event}))(\"change\",(function($event){return core.Hc(_r18),core.lc().cleanAuthInfo($event)})),core.Sc(30),core.mc(31,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(32,\"div\",15),core.Zb(33,\"div\",16),core.Zb(34,\"mat-form-field\"),core.Zb(35,\"input\",42),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.user=$event})),core.mc(36,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(37,\"div\",16),core.Zb(38,\"mat-form-field\"),core.Zb(39,\"input\",43),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.password=$event})),core.Yb(),core.Zb(40,\"mat-icon\",44),core.hc(\"click\",(function(){core.Hc(_r18);const ctx_r27=core.lc();return ctx_r27.hidePassword=!ctx_r27.hidePassword})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(41,\"div\",15),core.Zb(42,\"div\",16),core.Zb(43,\"mat-form-field\"),core.Zb(44,\"input\",45),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r18),core.lc().sendmail.from=$event})),core.mc(45,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(46,\"div\",46),core.Zb(47,\"button\",47),core.Sc(48),core.mc(49,\"translate\"),core.Yb(),core.Zb(50,\"button\",48),core.hc(\"click\",(function(){return core.Hc(_r18),core.lc().cancelModification()})),core.Sc(51),core.mc(52,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r11=core.Dc(5),ctx_r3=core.lc();core.Eb(2),core.tc(\"label\",core.nc(3,38,\"lang.informations\")),core.Eb(7),core.tc(\"placeholder\",core.nc(11,40,\"lang.configurationType\")),core.sc(\"ngModel\",ctx_r3.sendmail.type),core.Eb(3),core.sc(\"ngForOf\",ctx_r3.smtpTypeList),core.Eb(1),core.Pc(\"opacity\",core.yc(58,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type)>-1?\"1\":\"0.5\"),core.Eb(3),core.tc(\"placeholder\",core.nc(17,42,\"lang.smtpAuth\")),core.sc(\"disabled\",-1==core.yc(59,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type))(\"ngModel\",ctx_r3.sendmail.secure),core.Eb(2),core.sc(\"ngForOf\",ctx_r3.smtpSecList),core.Eb(3),core.tc(\"placeholder\",core.nc(22,44,\"lang.host\")),core.sc(\"disabled\",-1==core.yc(60,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type))(\"ngModel\",ctx_r3.sendmail.host),core.Eb(4),core.tc(\"placeholder\",core.nc(26,46,\"lang.port\")),core.sc(\"ngModel\",ctx_r3.sendmail.port)(\"disabled\",-1==core.yc(61,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type)),core.Eb(2),core.Pc(\"opacity\",core.yc(62,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type)>-1?\"1\":\"0.5\"),core.Eb(2),core.sc(\"ngModel\",ctx_r3.sendmail.auth)(\"disabled\",-1==core.yc(63,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type)),core.Eb(1),core.Tc(core.nc(31,48,\"lang.enableAuth\")),core.Eb(2),core.Pc(\"opacity\",core.yc(64,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type)>-1?\"1\":\"0.5\"),core.Eb(3),core.tc(\"placeholder\",core.nc(36,50,\"lang.id\")),core.sc(\"ngModel\",ctx_r3.sendmail.user)(\"disabled\",!ctx_r3.sendmail.auth||-1==core.yc(65,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type)),core.Eb(4),core.sc(\"type\",ctx_r3.hidePassword?\"password\":\"text\")(\"ngModel\",ctx_r3.sendmail.password)(\"disabled\",!ctx_r3.sendmail.auth||-1==core.yc(66,sendmail_administration_component_c3).indexOf(ctx_r3.sendmail.type))(\"placeholder\",ctx_r3.translate.instant(!0===ctx_r3.sendmail.passwordAlreadyExists?\"lang.passwordModification\":\"lang.password\"))(\"required\",!ctx_r3.sendmail.passwordAlreadyExists),core.Eb(1),core.sc(\"ngClass\",core.zc(67,sendmail_administration_component_c4,ctx_r3.hidePassword?\"fa-eye-slash\":\"fa-eye\")),core.Eb(4),core.tc(\"placeholder\",core.nc(45,52,\"lang.mailFrom\")),core.sc(\"ngModel\",ctx_r3.sendmail.from),core.Eb(3),core.sc(\"disabled\",ctx_r3.checkModif()||!_r11.valid),core.Eb(1),core.Tc(core.nc(49,54,\"lang.validate\")),core.Eb(2),core.sc(\"disabled\",ctx_r3.checkModif()),core.Eb(1),core.Tc(core.nc(52,56,\"lang.cancel\"))}}function SendmailAdministrationComponent_mat_icon_28_Template(rf,ctx){if(1&rf){const _r31=core.ac();core.Zb(0,\"mat-icon\",50),core.hc(\"click\",(function(){return core.Hc(_r31),core.lc().testEmailSend()})),core.mc(1,\"translate\"),core.Yb()}2&rf&&core.tc(\"title\",core.nc(1,1,\"lang.beginSendTest\"))}function SendmailAdministrationComponent_mat_list_item_29_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-item\"),core.Ub(1,\"mat-icon\",51),core.Zb(2,\"p\",24),core.Sc(3),core.Yb(),core.Yb()),2&rf){const ctx_r7=core.lc();core.Eb(1),core.Hb(\"fas \",ctx_r7.emailSendResult.icon,\" fa-2x\"),core.Eb(2),core.Uc(\" \",ctx_r7.emailSendResult.msg,\" \")}}function SendmailAdministrationComponent_div_30_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",52),core.Sc(1),core.Yb()),2&rf){const ctx_r8=core.lc();core.Eb(1),core.Uc(\" \",ctx_r8.emailSendResult.debug,\" \")}}let sendmail_administration_component_SendmailAdministrationComponent=(()=>{class SendmailAdministrationComponent{constructor(translate,http,notify,headerService,appService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.sendmail={type:\"smtp\",host:\"\",auth:!0,user:\"\",password:\"\",secure:\"ssl\",port:\"465\",charset:\"utf-8\",from:\"\"},this.smtpTypeList=[{id:\"smtp\",label:this.translate.instant(\"lang.smtpclient\")},{id:\"sendmail\",label:this.translate.instant(\"lang.smtprelay\")},{id:\"qmail\",label:this.translate.instant(\"lang.qmail\")},{id:\"mail\",label:this.translate.instant(\"lang.phpmail\")}],this.smtpSecList=[{id:\"\",label:this.translate.instant(\"lang.none\")},{id:\"ssl\",label:\"ssl\"},{id:\"tls\",label:\"tls\"}],this.sendmailClone={},this.hidePassword=!0,this.serverConnectionLoading=!1,this.emailSendLoading=!1,this.emailSendResult={icon:\"\",msg:\"\",debug:\"\"},this.currentUser={},this.recipientTest=\"\",this.passwordLabel=\"\"}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.sendmailShort\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/configurations/admin_email_server\").subscribe(data=>{this.sendmail=data.configuration.value,this.sendmailClone=JSON.parse(JSON.stringify(this.sendmail)),this.loading=!1},err=>{this.notify.handleErrors(err)})}cancelModification(){this.sendmail=JSON.parse(JSON.stringify(this.sendmailClone))}onSubmit(){this.sendmailFormCpt.invalid?this.notify.handleErrors({error:{errors:this.translate.instant(\"lang.notSavedBecauseInvalid\")}}):this.http.put(\"../rest/configurations/admin_email_server\",this.sendmail).subscribe(data=>{this.sendmailClone=JSON.parse(JSON.stringify(this.sendmail)),this.notify.success(this.translate.instant(\"lang.configurationUpdated\"))},err=>{this.notify.handleErrors(err)})}checkModif(){return JSON.stringify(this.sendmailClone)===JSON.stringify(this.sendmail)}initEmailSend(){this.emailSendResult={icon:\"\",msg:\"\",debug:\"\"},void 0===this.currentUser.mail&&this.http.get(\"../rest/currentUser/profile\").subscribe(data=>{this.currentUser=data,this.recipientTest=data.mail})}testEmailSend(){JSON.stringify(this.sendmailClone)!==JSON.stringify(this.sendmail)&&this.onSubmit(),this.emailSendResult={icon:\"fa-paper-plane primary\",msg:this.translate.instant(\"lang.emailSendInProgress\"),debug:\"\"};const email={sender:{email:this.currentUser.mail},recipients:[this.recipientTest],object:\"[\"+this.translate.instant(\"lang.doNotReply\")+\"] \"+this.translate.instant(\"lang.emailSendTest\"),status:\"EXPRESS\",body:this.translate.instant(\"lang.emailSendTest\"),isHtml:!1};this.emailSendLoading=!0,this.http.post(\"../rest/emails\",email).subscribe(data=>{this.emailSendLoading=!1,this.emailSendResult={icon:\"fa-check green\",msg:this.translate.instant(\"lang.emailSendSuccess\"),debug:\"\"}},err=>{this.emailSendLoading=!1,this.emailSendResult={icon:\"fa-times red\",msg:this.translate.instant(\"lang.emailSendFailed\"),debug:err.error.errors}})}cleanAuthInfo(event){this.sendmail.passwordAlreadyExists=!1,this.sendmail.user=\"\",this.sendmail.password=\"\"}}return SendmailAdministrationComponent.ɵfac=function(t){return new(t||SendmailAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(core.R))},SendmailAdministrationComponent.ɵcmp=core.Nb({type:SendmailAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(sendmail_administration_component_c0,!0),core.Oc(sendmail_administration_component_c1,!0),core.ad(sendmail_administration_component_c2,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.sendmailFormCpt=_t.first))},decls:31,vars:22,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[\"joyrideStep\",\"emailTour\",1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"500px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"disableRipple\",\"true\",2,\"display\",\"flex\",\"flex-direction\",\"column\"],[\"mat-subheader\",\"\"],[1,\"form-group\"],[1,\"col-md-12\"],[\"testSendmailForm\",\"ngForm\"],[\"name\",\"recipientTest\",\"matInput\",\"\",\"pattern\",\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$)\",3,\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"color\",\"primary\",\"style\",\"cursor: pointer;\",\"matSuffix\",\"\",\"class\",\"fa fa-paper-plane fa-2x\",3,\"title\",\"click\",4,\"ngIf\"],[4,\"ngIf\"],[\"class\",\"bash\",4,\"ngIf\"],[\"mat-list-item\",\"\",\"joyrideStep\",\"emailTour2\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fas\",\"fa-signal\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"label\"],[3,\"ngSubmit\"],[\"sendmailForm\",\"ngForm\"],[1,\"col-md-12\",2,\"margin-bottom\",\"20px\"],[\"name\",\"smtpType\",\"required\",\"\",3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[\"smtpType\",\"\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-2\"],[\"name\",\"SMTPSecure\",3,\"placeholder\",\"disabled\",\"ngModel\",\"ngModelChange\"],[1,\"col-md-9\"],[\"matInput\",\"\",\"name\",\"host\",\"required\",\"\",3,\"disabled\",\"ngModel\",\"placeholder\",\"ngModelChange\"],[1,\"col-md-1\"],[\"name\",\"port\",\"type\",\"number\",\"matInput\",\"\",\"required\",\"\",3,\"ngModel\",\"disabled\",\"placeholder\",\"ngModelChange\"],[\"color\",\"primary\",\"name\",\"SMTPAuth\",3,\"ngModel\",\"disabled\",\"ngModelChange\",\"change\"],[\"name\",\"user\",\"matInput\",\"\",\"required\",\"\",3,\"ngModel\",\"disabled\",\"placeholder\",\"ngModelChange\"],[\"name\",\"password\",\"matInput\",\"\",3,\"type\",\"ngModel\",\"disabled\",\"placeholder\",\"required\",\"ngModelChange\"],[\"color\",\"primary\",\"matSuffix\",\"\",1,\"fa\",\"fa-2x\",2,\"cursor\",\"pointer\",3,\"ngClass\",\"click\"],[\"name\",\"mailFrom\",\"required\",\"\",\"matInput\",\"\",\"pattern\",\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$)\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[1,\"col-md-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",\"color\",\"primary\",3,\"disabled\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"default\",3,\"disabled\",\"click\"],[3,\"value\"],[\"color\",\"primary\",\"matSuffix\",\"\",1,\"fa\",\"fa-paper-plane\",\"fa-2x\",2,\"cursor\",\"pointer\",3,\"title\",\"click\"],[\"mat-list-icon\",\"\"],[1,\"bash\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,SendmailAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,SendmailAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,SendmailAdministrationComponent_mat_card_14_Template,53,69,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"mat-sidenav\",11,12),core.hc(\"opened\",(function(){return ctx.onSubmit(),ctx.initEmailSend()})),core.Zb(17,\"mat-nav-list\",13),core.Zb(18,\"h3\",14),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"div\",15),core.Zb(22,\"div\",16),core.Zb(23,\"form\",null,17),core.Zb(25,\"mat-form-field\"),core.Zb(26,\"input\",18),core.hc(\"ngModelChange\",(function($event){return ctx.recipientTest=$event})),core.mc(27,\"translate\"),core.Yb(),core.Qc(28,SendmailAdministrationComponent_mat_icon_28_Template,2,3,\"mat-icon\",19),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Qc(29,SendmailAdministrationComponent_mat_list_item_29_Template,4,4,\"mat-list-item\",20),core.Yb(),core.Qc(30,SendmailAdministrationComponent_div_30_Template,2,1,\"div\",21),core.Yb(),core.Yb()),2&rf){const _r5=core.Dc(24);core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",(ctx.appService.getViewMode(),!1)),core.Eb(4),core.Tc(core.nc(20,18,\"lang.emailSendTest\")),core.Eb(7),core.tc(\"placeholder\",core.nc(27,20,\"lang.mailTo\")),core.sc(\"ngModel\",ctx.recipientTest)(\"disabled\",ctx.emailSendLoading),core.Eb(2),core.sc(\"ngIf\",!ctx.emailSendLoading&&_r5.valid),core.Eb(1),core.sc(\"ngIf\",\"\"!=ctx.emailSendResult.msg),core.Eb(1),core.sc(\"ngIf\",ctx.emailSendResult.msg===ctx.translate.instant(\"lang.emailSendFailed\"))}},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,ngx_joyride.a,common.t,sidenav.d,list.h,list.g,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.A,fesm2015_forms.t,fesm2015_forms.w,list.d,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,tabs.c,tabs.a,fesm2015_select.a,fesm2015_forms.E,common.s,fesm2015_forms.z,slide_toggle.a,form_field.j,common.q,fesm2015_button.b,fesm2015_core.o],pipes:[ngx_translate_core.d],styles:[\".mat-list-item[_ngcontent-%COMP%]:hover{background:inherit}.green[_ngcontent-%COMP%]{color:green}.primary[_ngcontent-%COMP%]{color:#135f7f}.red[_ngcontent-%COMP%]{color:red}.bash[_ngcontent-%COMP%]{background:#34495e;height:310px;border-radius:5px;top:40px;display:absolute;color:#fff;padding:10px;margin:10px}\"]}),SendmailAdministrationComponent})();const shippings_administration_component_c0=[\"adminMenuTemplate\"];function ShippingsAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function ShippingsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function ShippingsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r6=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r6.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.label\"))}}function ShippingsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r16=ctx.$implicit,ctx_r7=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r7.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r16.label,\" \")}}function ShippingsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.description\")))}function ShippingsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r17=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r17.description,\" \")}}function ShippingsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.mailevaAccount\")))}function ShippingsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r18=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r18.accountid,\" \")}}function ShippingsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function ShippingsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"mat-cell\",39),core.Zb(1,\"button\",40),core.hc(\"click\",(function($event){core.Hc(_r21);const element_r19=ctx.$implicit,ctx_r20=core.lc(2);return $event.stopPropagation(),ctx_r20.deleteShipping(element_r19.id)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",41),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function ShippingsAdministrationComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ShippingsAdministrationComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",42),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/shippings/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function ShippingsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,ShippingsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,5,\"mat-header-cell\",26),core.Qc(13,ShippingsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,3,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,ShippingsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",29),core.Qc(16,ShippingsAdministrationComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(17,31),core.Qc(18,ShippingsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",29),core.Qc(19,ShippingsAdministrationComponent_mat_card_14_mat_cell_19_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(20,32),core.Qc(21,ShippingsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",33),core.Qc(22,ShippingsAdministrationComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",34),core.Wb(),core.Qc(23,ShippingsAdministrationComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",35),core.Qc(24,ShippingsAdministrationComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",36),core.Yb(),core.Zb(25,\"div\",37),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.shippings.length,\" \",core.nc(27,12,\"lang.shippings\"),\"\")}}let shippings_administration_component_ShippingsAdministrationComponent=(()=>{class ShippingsAdministrationComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.shippings=[],this.loading=!1,this.displayedColumns=[\"label\",\"description\",\"accountid\",\"actions\"],this.filterColumns=[\"label\",\"description\",\"accountid\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.shippings\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/administration/shippings\").subscribe(data=>{this.shippings=data.shippings,setTimeout(()=>{this.adminService.setDataSource(\"admin_shippings\",this.shippings,this.sort,this.paginator,this.filterColumns)},0),this.loading=!1})}deleteShipping(id){confirm(this.translate.instant(\"lang.deleteMsg\"))&&this.http.delete(\"../rest/administration/shippings/\"+id).subscribe(data=>{this.shippings=data.shippings,this.adminService.setDataSource(\"admin_shippings\",this.shippings,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.shippingDeleted\"))},err=>{this.notify.error(err.error.errors)})}}return ShippingsAdministrationComponent.ɵfac=function(t){return new(t||ShippingsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},ShippingsAdministrationComponent.ɵcmp=core.Nb({type:ShippingsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(shippings_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/shippings/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"label\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"description\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"accountid\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ShippingsAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ShippingsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,ShippingsAdministrationComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),ShippingsAdministrationComponent})();const shipping_administration_component_c0=[\"snav2\"],shipping_administration_component_c1=[\"maarchTree\"];function ShippingAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",16),core.Ub(1,\"mat-spinner\",17),core.Yb())}function ShippingAdministrationComponent_mat_card_12_div_1_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",54),2&rf){const ctx_r4=core.lc(2);core.sc(\"innerHTML\",ctx_r4.translate.instant(\"lang.shippingUnavailable\"),core.Ic)}}function ShippingAdministrationComponent_mat_card_12_mat_list_item_22_Template(rf,ctx){if(1&rf){const _r11=core.ac();core.Zb(0,\"mat-list-item\",55),core.Zb(1,\"mat-slide-toggle\",56),core.hc(\"change\",(function(){core.Hc(_r11);const option_r9=ctx.$implicit;return core.lc(2).toggleShapingOption(option_r9)})),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const option_r9=ctx.$implicit,ctx_r6=core.lc(2);core.Eb(1),core.tc(\"name\",option_r9),core.sc(\"checked\",ctx_r6.shipping.options.shapingOptions.indexOf(option_r9)>-1),core.Eb(1),core.Tc(core.nc(3,3,\"lang.maileva_\"+option_r9))}}function ShippingAdministrationComponent_mat_card_12_div_23_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",57),2&rf){const ctx_r7=core.lc(2);core.sc(\"innerHTML\",ctx_r7.translate.instant(\"lang.warnShapingOption\"),core.Ic)}}function ShippingAdministrationComponent_mat_card_12_mat_radio_button_29_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-radio-button\",58),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const mode_r12=ctx.$implicit;core.tc(\"name\",mode_r12),core.sc(\"value\",mode_r12),core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.maileva_\"+mode_r12),\" \")}}const shipping_administration_component_c2=function(a0){return[a0]};function ShippingAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"mat-card\",18),core.Qc(1,ShippingAdministrationComponent_mat_card_12_div_1_Template,1,1,\"div\",19),core.Zb(2,\"form\",20,21),core.hc(\"ngSubmit\",(function(){return core.Hc(_r14),core.lc().onSubmit()})),core.Zb(4,\"div\",22),core.Zb(5,\"div\",23),core.Zb(6,\"mat-form-field\"),core.Zb(7,\"input\",24),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.label=$event})),core.mc(8,\"translate\"),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(10,\"div\",22),core.Zb(11,\"div\",23),core.Zb(12,\"mat-form-field\"),core.Zb(13,\"input\",25),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.description=$event})),core.mc(14,\"translate\"),core.mc(15,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(16,\"div\",26),core.Zb(17,\"div\",27),core.Zb(18,\"div\",28),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"mat-list\",29),core.Qc(22,ShippingAdministrationComponent_mat_card_12_mat_list_item_22_Template,4,5,\"mat-list-item\",30),core.Qc(23,ShippingAdministrationComponent_mat_card_12_div_23_Template,1,1,\"div\",31),core.Yb(),core.Yb(),core.Zb(24,\"div\",32),core.Zb(25,\"div\",28),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Zb(28,\"mat-radio-group\",33),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.options.sendMode=$event})),core.Qc(29,ShippingAdministrationComponent_mat_card_12_mat_radio_button_29_Template,3,5,\"mat-radio-button\",34),core.Yb(),core.Yb(),core.Yb(),core.Zb(30,\"div\",26),core.Zb(31,\"div\",35),core.Zb(32,\"div\",28),core.Sc(33),core.mc(34,\"translate\"),core.Yb(),core.Zb(35,\"div\",36),core.Zb(36,\"label\",37),core.Sc(37),core.mc(38,\"translate\"),core.Yb(),core.Zb(39,\"mat-form-field\",38),core.Zb(40,\"input\",39),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.fee.firstPagePrice=$event})),core.mc(41,\"translate\"),core.Yb(),core.Zb(42,\"span\",40),core.Sc(43,\" €\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(44,\"div\",36),core.Zb(45,\"label\",41),core.Sc(46),core.mc(47,\"translate\"),core.Yb(),core.Zb(48,\"mat-form-field\",38),core.Zb(49,\"input\",42),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.fee.nextPagePrice=$event})),core.mc(50,\"translate\"),core.Yb(),core.Zb(51,\"span\",40),core.Sc(52,\" €\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(53,\"div\",36),core.Zb(54,\"label\",43),core.Sc(55),core.mc(56,\"translate\"),core.Yb(),core.Zb(57,\"mat-form-field\",38),core.Zb(58,\"input\",44),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.fee.postagePrice=$event})),core.mc(59,\"translate\"),core.Yb(),core.Zb(60,\"span\",40),core.Sc(61,\" €\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(62,\"div\",45),core.Zb(63,\"div\",28),core.Sc(64),core.mc(65,\"translate\"),core.Yb(),core.Zb(66,\"div\",46),core.Sc(67),core.mc(68,\"translate\"),core.Yb(),core.Zb(69,\"div\",23),core.Zb(70,\"mat-form-field\"),core.Zb(71,\"input\",47),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.account.id=$event})),core.mc(72,\"translate\"),core.mc(73,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(74,\"div\",23),core.Zb(75,\"mat-form-field\"),core.Zb(76,\"input\",48),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().shipping.account.password=$event})),core.Yb(),core.Zb(77,\"mat-icon\",49),core.hc(\"click\",(function(){core.Hc(_r14);const ctx_r23=core.lc();return ctx_r23.hidePassword=!ctx_r23.hidePassword})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(78,\"div\",50),core.Zb(79,\"div\",51),core.Zb(80,\"button\",52),core.Sc(81),core.mc(82,\"translate\"),core.Yb(),core.Zb(83,\"button\",53),core.hc(\"click\",(function(){return core.Hc(_r14),core.lc().cancelModification()})),core.Sc(84),core.mc(85,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r5=core.Dc(3),ctx_r1=core.lc();core.Eb(1),core.sc(\"ngIf\",!ctx_r1.shippingAvailable),core.Eb(6),core.tc(\"title\",core.nc(8,37,\"lang.label\")),core.tc(\"placeholder\",core.nc(9,39,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.shipping.label),core.Eb(6),core.tc(\"title\",core.nc(14,41,\"lang.description\")),core.tc(\"placeholder\",core.nc(15,43,\"lang.description\")),core.sc(\"ngModel\",ctx_r1.shipping.description),core.Eb(6),core.Uc(\" \",core.nc(20,45,\"lang.shapingOptions\"),\" \"),core.Eb(3),core.sc(\"ngForOf\",ctx_r1.shapingOptions),core.Eb(1),core.sc(\"ngIf\",-1==ctx_r1.shipping.options.shapingOptions.indexOf(\"addressPage\")),core.Eb(3),core.Uc(\" \",core.nc(27,47,\"lang.sendModes\"),\" \"),core.Eb(2),core.sc(\"ngModel\",ctx_r1.shipping.options.sendMode),core.Eb(1),core.sc(\"ngForOf\",ctx_r1.sendModes),core.Eb(4),core.Uc(\" \",core.nc(34,49,\"lang.pricesInformations\"),\" \"),core.Eb(4),core.Uc(\" \",core.nc(38,51,\"lang.maileva_firstPagePrice\"),\" \"),core.Eb(3),core.tc(\"title\",core.nc(41,53,\"lang.maileva_firstPagePrice\")),core.sc(\"ngModel\",ctx_r1.shipping.fee.firstPagePrice),core.Eb(6),core.Uc(\" \",core.nc(47,55,\"lang.maileva_nextPagePrice\"),\" \"),core.Eb(3),core.tc(\"title\",core.nc(50,57,\"lang.maileva_nextPagePrice\")),core.sc(\"ngModel\",ctx_r1.shipping.fee.nextPagePrice),core.Eb(6),core.Uc(\" \",core.nc(56,59,\"lang.maileva_postagePrice\"),\" \"),core.Eb(3),core.tc(\"title\",core.nc(59,61,\"lang.maileva_postagePrice\")),core.sc(\"ngModel\",ctx_r1.shipping.fee.postagePrice),core.Eb(6),core.Uc(\" \",core.nc(65,63,\"lang.mailevaAccount\"),\" \"),core.Eb(3),core.Tc(core.nc(68,65,\"lang.infoMailevaAccount\")),core.Eb(4),core.tc(\"title\",core.nc(72,67,\"lang.login\")),core.tc(\"placeholder\",core.nc(73,69,\"lang.id\")),core.sc(\"ngModel\",ctx_r1.shipping.account.id),core.Eb(5),core.sc(\"type\",ctx_r1.hidePassword?\"password\":\"text\")(\"ngModel\",ctx_r1.shipping.account.password)(\"placeholder\",ctx_r1.translate.instant(!1===ctx_r1.creationMode?\"lang.passwordModification\":\"lang.password\"))(\"required\",ctx_r1.creationMode),core.Eb(1),core.sc(\"ngClass\",core.zc(75,shipping_administration_component_c2,ctx_r1.hidePassword?\"fa-eye-slash\":\"fa-eye\")),core.Eb(3),core.sc(\"disabled\",ctx_r1.checkModif()||!_r5.valid),core.Eb(1),core.Tc(core.nc(82,71,\"lang.validate\")),core.Eb(2),core.sc(\"disabled\",ctx_r1.checkModif()),core.Eb(1),core.Tc(core.nc(85,73,\"lang.cancel\"))}}let shipping_administration_component_ShippingAdministrationComponent=(()=>{class ShippingAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.loading=!1,this.creationMode=!0,this.shipping={label:\"\",description:\"\",options:{shapingOptions:[\"addressPage\"],sendMode:\"fast\"},fee:{firstPagePrice:0,nextPagePrice:0,postagePrice:0},account:{id:\"\",password:\"\"},entities:[]},this.entities=[],this.entitiesClone=null,this.shippingClone=null,this.shapingOptions=[\"color\",\"duplexPrinting\",\"addressPage\"],this.sendModes=[\"fast\",\"economic\"],this.hidePassword=!0,this.shippingAvailable=!1}ngOnInit(){this.http.get(\"../rest/externalConnectionsEnabled\").pipe(Object(tap.a)(data=>{this.shippingAvailable=!0===data.connection.maileva}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe(),this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.shippingCreation\")),this.creationMode=!0,this.http.get(\"../rest/administration/shippings/new\").subscribe(data=>{this.entities=data.entities.map(item=>Object.assign(Object.assign({},item),{id:parseInt(item.id)})),this.entitiesClone=JSON.parse(JSON.stringify(this.entities)),this.initEntitiesTree(this.entities),this.shippingClone=JSON.parse(JSON.stringify(this.shipping)),this.loading=!1},err=>{this.notify.handleErrors(err)}),this.loading=!1):(this.headerService.setHeader(this.translate.instant(\"lang.shippingModification\")),this.creationMode=!1,this.http.get(\"../rest/administration/shippings/\"+params.id).subscribe(data=>{this.shipping=data.shipping,this.entities=data.entities,this.entitiesClone=JSON.parse(JSON.stringify(this.entities)),this.initEntitiesTree(this.entities),this.shippingClone=JSON.parse(JSON.stringify(this.shipping)),this.loading=!1},err=>{this.notify.handleErrors(err)}))})}initEntitiesTree(entities){this.maarchTree.initData(entities)}updateSelectedEntities(){this.shipping.entities=this.maarchTree.getSelectedNodes().map(ent=>ent.id)}onSubmit(){this.creationMode?this.http.post(\"../rest/administration/shippings\",this.shipping).subscribe(data=>{this.shippingClone=JSON.parse(JSON.stringify(this.shipping)),this.notify.success(this.translate.instant(\"lang.shippingAdded\")),this.router.navigate([\"/administration/shippings\"])},err=>{this.notify.handleErrors(err)}):this.http.put(\"../rest/administration/shippings/\"+this.shipping.id,this.shipping).subscribe(data=>{this.shippingClone=JSON.parse(JSON.stringify(this.shipping)),this.notify.success(this.translate.instant(\"lang.shippingUpdated\")),this.router.navigate([\"/administration/shippings\"])},err=>{this.notify.handleErrors(err)})}checkModif(){return JSON.stringify(this.shippingClone)===JSON.stringify(this.shipping)}toggleShapingOption(option){const index=this.shipping.options.shapingOptions.indexOf(option);index>-1?this.shipping.options.shapingOptions.splice(index,1):this.shipping.options.shapingOptions.push(option)}cancelModification(){this.shipping=JSON.parse(JSON.stringify(this.shippingClone)),this.entities=JSON.parse(JSON.stringify(this.entitiesClone)),this.initEntitiesTree(this.entities)}}return ShippingAdministrationComponent.ɵfac=function(t){return new(t||ShippingAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a))},ShippingAdministrationComponent.ɵcmp=core.Nb({type:ShippingAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(shipping_administration_component_c0,!0),core.Oc(shipping_administration_component_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.maarchTree=_t.first))},decls:22,vars:14,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"400px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[2,\"padding\",\"10px\"],[3,\"afterSelectNode\",\"afterDeselectNode\"],[\"maarchTree\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"class\",\"alert-message alert-message-danger\",\"role\",\"alert\",\"style\",\"max-width: 100%\",3,\"innerHTML\",4,\"ngIf\"],[1,\"form-horizontal\",3,\"ngSubmit\"],[\"shippingForm\",\"ngForm\"],[1,\"form-group\"],[1,\"col-sm-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"label\",\"id\",\"label\",\"type\",\"text\",\"maxlength\",\"64\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"description\",\"id\",\"description\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"form-group\",2,\"flex-direction\",\"row\",\"flex-wrap\",\"wrap\"],[1,\"formType\",\"ratio-2\",\"col-sm-12\"],[1,\"formType-title\"],[\"role\",\"list\"],[\"role\",\"listitem\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"alert-message alert-message-danger\",\"role\",\"alert\",\"style\",\"margin-top: 30px;max-width: none;\",3,\"innerHTML\",4,\"ngIf\"],[1,\"formType\",\"ratio-1\",\"col-sm-12\"],[\"name\",\"sendMode\",1,\"radio-group\",3,\"ngModel\",\"ngModelChange\"],[\"color\",\"primary\",3,\"name\",\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"formType\",\"ratio-2\",2,\"flex-direction\",\"column\"],[1,\"priceContent\"],[\"for\",\"firstPagePrice\",1,\"priceContent-label\"],[\"appearance\",\"outline\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"firstPagePrice\",\"id\",\"firstPagePrice\",\"type\",\"number\",\"maxlength\",\"255\",\"min\",\"0\",\"step\",\"0.1\",\"pattern\",\"^(?=.+)(?:[1-9]\\\\d*|0)?(?:\\\\.\\\\d+)?$\",3,\"ngModel\",\"title\",\"ngModelChange\"],[\"matSuffix\",\"\"],[\"for\",\"nextPagePrice\",1,\"priceContent-label\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"nextPagePrice\",\"id\",\"nextPagePrice\",\"type\",\"number\",\"maxlength\",\"255\",\"min\",\"0\",\"step\",\"0.1\",\"pattern\",\"^(?=.+)(?:[1-9]\\\\d*|0)?(?:\\\\.\\\\d+)?$\",3,\"ngModel\",\"title\",\"ngModelChange\"],[\"for\",\"postagePrice\",1,\"priceContent-label\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"postagePrice\",\"id\",\"postagePrice\",\"type\",\"number\",\"maxlength\",\"255\",\"min\",\"0\",\"step\",\"0.1\",\"pattern\",\"^(?=.+)(?:[1-9]\\\\d*|0)?(?:\\\\.\\\\d+)?$\",3,\"ngModel\",\"title\",\"ngModelChange\"],[1,\"formType\",\"ratio-1\",2,\"flex-direction\",\"column\",\"justify-content\",\"center\"],[1,\"alert-message\",\"alert-message-info\",2,\"max-width\",\"none\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"login\",\"id\",\"login\",\"type\",\"text\",\"maxlength\",\"255\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"name\",\"password\",\"matInput\",\"\",3,\"type\",\"ngModel\",\"placeholder\",\"required\",\"ngModelChange\"],[\"color\",\"primary\",\"matSuffix\",\"\",\"maxlength\",\"255\",1,\"fa\",\"fa-2x\",2,\"cursor\",\"pointer\",3,\"ngClass\",\"click\"],[1,\"form-group\",2,\"flex-direction\",\"row\",\"align-items\",\"center\"],[1,\"col-sm-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",\"color\",\"primary\",3,\"disabled\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"default\",3,\"disabled\",\"click\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-danger\",2,\"max-width\",\"100%\",3,\"innerHTML\"],[\"role\",\"listitem\"],[\"color\",\"primary\",3,\"name\",\"checked\",\"change\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-danger\",2,\"margin-top\",\"30px\",\"max-width\",\"none\",3,\"innerHTML\"],[\"color\",\"primary\",3,\"name\",\"value\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,ShippingAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,ShippingAdministrationComponent_mat_card_12_Template,86,77,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Zb(15,\"mat-list\"),core.Zb(16,\"h3\",12),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Zb(19,\"div\",13),core.Zb(20,\"app-maarch-flat-tree\",14,15),core.hc(\"afterSelectNode\",(function(){return ctx.updateSelectedEntities()}))(\"afterDeselectNode\",(function(){return ctx.updateSelectedEntities()})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()),core.Eb(4),core.Tc(core.nc(18,12,\"lang.chooseEntityAssociationModel\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,list.g,maarch_flat_tree_component.a,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_radio.b,fesm2015_forms.z,fesm2015_forms.A,form_field.j,icon.a,common.q,fesm2015_button.b,list.d,slide_toggle.a,fesm2015_radio.a],pipes:[ngx_translate_core.d],styles:[\".radio-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.radio-group[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{padding:10px}.form-group[_ngcontent-%COMP%], .formType[_ngcontent-%COMP%]{display:flex}.formType[_ngcontent-%COMP%]{align-items:center;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-slide-toggle-label{color:#666;font-weight:700}.formType[_ngcontent-%COMP%]    .mat-radio-button, .formType[_ngcontent-%COMP%]    .mat-slide-toggle{opacity:.5;color:#666;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.formType[_ngcontent-%COMP%]    .mat-checked, .formType[_ngcontent-%COMP%]    .mat-radio-checked{opacity:1;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-checked .mat-slide-toggle-label{color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.ratio-1[_ngcontent-%COMP%], .ratio-2[_ngcontent-%COMP%]{flex:1}.priceContent[_ngcontent-%COMP%]{display:flex;align-items:first baseline;width:100%}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;justify-content:flex-end;display:flex;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{font-size:10px;font-weight:700;opacity:.5}label[_ngcontent-%COMP%]{cursor:pointer}\"]}),ShippingAdministrationComponent})();const custom_fields_administration_component_c0=[\"snav2\"];function CustomFieldsAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",14),core.Ub(1,\"mat-spinner\",15),core.Yb())}function CustomFieldsAdministrationComponent_mat_card_12_div_3_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",19),2&rf){const ctx_r4=core.lc(2);core.sc(\"innerHTML\",ctx_r4.translate.instant(\"lang.noCustomFieldInfo\"),core.Ic)}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_button_14_Template(rf,ctx){if(1&rf){const _r13=core.ac();core.Zb(0,\"button\",31),core.hc(\"click\",(function(){core.Hc(_r13);const custom_r6=core.lc().$implicit;return core.lc(2).switchSQLMode(custom_r6)})),core.Ub(1,\"mat-icon\",32),core.Yb()}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_mat_expansion_panel_1_button_11_Template(rf,ctx){if(1&rf){const _r19=core.ac();core.Zb(0,\"button\",41),core.hc(\"click\",(function(){core.Hc(_r19);const custom_r6=core.lc(3).$implicit;return core.lc(2).sortValues(custom_r6)})),core.Ub(1,\"mat-icon\",42),core.Yb()}if(2&rf){const ctx_r15=core.lc(5);core.sc(\"title\",ctx_r15.translate.instant(\"lang.orderValues\"))}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_mat_expansion_panel_1_mat_form_field_13_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-form-field\",43),core.Zb(1,\"input\",44),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),ctx.$implicit.label=$event})),core.Yb(),core.Zb(2,\"button\",45),core.hc(\"click\",(function(){core.Hc(_r23);const i_r21=ctx.index,custom_r6=core.lc(3).$implicit;return core.lc(2).removeValue(custom_r6,i_r21)})),core.Ub(3,\"mat-icon\",46),core.Yb(),core.Yb()}if(2&rf){const value_r20=ctx.$implicit,ctx_r16=core.lc(5);core.Eb(1),core.sc(\"ngModel\",value_r20.label)(\"placeholder\",ctx_r16.translate.instant(\"lang.newValue\")),core.Eb(1),core.sc(\"title\",ctx_r16.translate.instant(\"lang.delete\"))}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_mat_expansion_panel_1_Template(rf,ctx){if(1&rf){const _r28=core.ac();core.Zb(0,\"mat-expansion-panel\",35),core.Zb(1,\"mat-expansion-panel-header\"),core.Zb(2,\"mat-panel-title\",36),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"div\",37),core.Zb(6,\"div\",33),core.Zb(7,\"button\",38),core.hc(\"click\",(function(){core.Hc(_r28);const indexCustom_r7=core.lc(2).index;return core.lc(2).addValue(indexCustom_r7)})),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Zb(10,\"div\"),core.Qc(11,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_mat_expansion_panel_1_button_11_Template,2,1,\"button\",39),core.Yb(),core.Yb(),core.Zb(12,\"div\",21),core.Qc(13,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_mat_expansion_panel_1_mat_form_field_13_Template,4,3,\"mat-form-field\",40),core.Yb(),core.Yb()}if(2&rf){const custom_r6=core.lc(2).$implicit;core.Eb(2),core.sc(\"matBadge\",custom_r6.values.length),core.Eb(1),core.Uc(\" \",core.nc(4,5,\"lang.valuesList\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(9,7,\"lang.addValue\"),\"\"),core.Eb(3),core.sc(\"ngIf\",custom_r6.values.length>0),core.Eb(2),core.sc(\"ngForOf\",custom_r6.values)}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",33),core.Qc(1,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_mat_expansion_panel_1_Template,14,9,\"mat-expansion-panel\",34),core.Yb()),2&rf){const custom_r6=core.lc().$implicit;core.Eb(1),core.sc(\"ngIf\",!custom_r6.SQLMode)}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_option_12_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Sc(1),core.mc(2,\"translate\"),core.Wb()),2&rf){const table_r35=core.lc().$implicit;core.Eb(1),core.Uc(\" (\",core.nc(2,1,\"lang.\"+table_r35.key),\") \")}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_option_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",54),core.Sc(1),core.Qc(2,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_option_12_ng_container_2_Template,3,3,\"ng-container\",52),core.Yb()),2&rf){const table_r35=ctx.$implicit,ctx_r32=core.lc(5);core.sc(\"value\",table_r35.key),core.Eb(1),core.Uc(\" \",table_r35.key,\" \"),core.Eb(1),core.sc(\"ngIf\",!ctx_r32.functionsService.empty(ctx_r32.translate.instant(\"lang.\"+table_r35.key)))}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_div_14_span_4_Template(rf,ctx){if(1&rf){const _r44=core.ac();core.Zb(0,\"span\"),core.Zb(1,\"input\",61),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r44),ctx.$implicit.delimiterStart=$event})),core.Yb(),core.Zb(2,\"mat-chip\",62),core.hc(\"removed\",(function(){core.Hc(_r44);const i_r42=ctx.index,custom_r6=core.lc(4).$implicit;return core.lc(2).removeColumnLabel(custom_r6.values.label,i_r42)})),core.Sc(3),core.Ub(4,\"mat-icon\",63),core.Yb(),core.Zb(5,\"input\",61),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r44),ctx.$implicit.delimiterEnd=$event})),core.Yb(),core.Yb()}if(2&rf){const item_r41=ctx.$implicit;core.Eb(1),core.Pc(\"width\",8*(item_r41.delimiterStart.length+1),\"px\"),core.sc(\"ngModel\",item_r41.delimiterStart),core.Eb(2),core.Uc(\" \",item_r41.column,\" \"),core.Eb(2),core.Pc(\"width\",8*(item_r41.delimiterEnd.length+1),\"px\"),core.sc(\"ngModel\",item_r41.delimiterEnd)}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_div_14_button_11_Template(rf,ctx){if(1&rf){const _r51=core.ac();core.Zb(0,\"button\",64),core.hc(\"click\",(function(){core.Hc(_r51);const column_r48=ctx.$implicit,custom_r6=core.lc(4).$implicit;return core.lc(2).addColumnLabel(custom_r6.values.label,column_r48)})),core.Sc(1),core.Yb()}if(2&rf){const column_r48=ctx.$implicit;core.Eb(1),core.Tc(column_r48)}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_div_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",55),core.Zb(1,\"mat-label\",56),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Qc(4,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_div_14_span_4_Template,6,7,\"span\",18),core.Zb(5,\"button\",57),core.Ub(6,\"i\",58),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Zb(9,\"mat-menu\",null,59),core.Qc(11,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_div_14_button_11_Template,2,1,\"button\",60),core.Yb(),core.Yb()),2&rf){const _r39=core.Dc(10),custom_r6=core.lc(3).$implicit,ctx_r33=core.lc(2);core.Eb(2),core.Uc(\" \",core.nc(3,5,\"lang.targetLabel\"),\" *\"),core.Eb(2),core.sc(\"ngForOf\",custom_r6.values.label),core.Eb(1),core.sc(\"matMenuTriggerFor\",_r39),core.Eb(2),core.Uc(\" \",core.nc(8,7,\"lang.addColumn\"),\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r33.availaibleTables[custom_r6.values.table])}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_form_field_15_mat_option_5_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",54),core.Sc(1),core.Yb()),2&rf){const column_r54=ctx.$implicit;core.sc(\"value\",column_r54),core.Eb(1),core.Uc(\" \",column_r54,\" \")}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_form_field_15_Template(rf,ctx){if(1&rf){const _r57=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-label\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-select\",49),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r57),core.lc(3).$implicit.values.key=$event})),core.Qc(5,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_form_field_15_mat_option_5_Template,2,2,\"mat-option\",50),core.Yb(),core.Yb()}if(2&rf){const custom_r6=core.lc(3).$implicit,ctx_r34=core.lc(2);core.Eb(2),core.Tc(core.nc(3,3,\"lang.targetIdentifier\")),core.Eb(2),core.sc(\"ngModel\",custom_r6.values.key),core.Eb(1),core.sc(\"ngForOf\",ctx_r34.availaibleTables[custom_r6.values.table])}}const custom_fields_administration_component_c1=function(){return[\"string\",\"integer\",\"date\"]};function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_Template(rf,ctx){if(1&rf){const _r61=core.ac();core.Zb(0,\"mat-expansion-panel\",35),core.Zb(1,\"mat-expansion-panel-header\"),core.Zb(2,\"mat-panel-title\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Yb(),core.Zb(5,\"div\",21),core.Zb(6,\"div\",48),core.Zb(7,\"mat-form-field\"),core.Zb(8,\"mat-label\"),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Zb(11,\"mat-select\",49),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).$implicit.values.table=$event})),core.Qc(12,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_option_12_Template,3,3,\"mat-option\",50),core.mc(13,\"keyvalue\"),core.Yb(),core.Yb(),core.Qc(14,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_div_14_Template,12,9,\"div\",51),core.Qc(15,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_mat_form_field_15_Template,6,5,\"mat-form-field\",52),core.Yb(),core.Zb(16,\"mat-form-field\"),core.Zb(17,\"mat-label\"),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Zb(20,\"textarea\",53),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r61),core.lc(2).$implicit.values.clause=$event})),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const custom_r6=core.lc(2).$implicit,ctx_r31=core.lc(2);core.Eb(3),core.Uc(\" \",core.nc(4,8,\"lang.database\"),\" \"),core.Eb(6),core.Tc(core.nc(10,10,\"lang.targetTable\")),core.Eb(2),core.sc(\"ngModel\",custom_r6.values.table),core.Eb(1),core.sc(\"ngForOf\",core.nc(13,12,ctx_r31.availaibleTables)),core.Eb(2),core.sc(\"ngIf\",-1===core.yc(16,custom_fields_administration_component_c1).indexOf(custom_r6.type)&&custom_r6.values.table),core.Eb(1),core.sc(\"ngIf\",custom_r6.values.table),core.Eb(3),core.Tc(core.nc(19,14,\"lang.clause\")),core.Eb(2),core.sc(\"ngModel\",custom_r6.values.clause)}}function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_Template(rf,ctx){if(1&rf){const _r67=core.ac();core.Zb(0,\"div\",24),core.Zb(1,\"div\"),core.Zb(2,\"button\",31),core.hc(\"click\",(function(){core.Hc(_r67);const custom_r6=core.lc().$implicit;return core.lc(2).switchSQLMode(custom_r6)})),core.Ub(3,\"mat-icon\",47),core.Yb(),core.Yb(),core.Zb(4,\"div\",33),core.Qc(5,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_mat_expansion_panel_5_Template,21,17,\"mat-expansion-panel\",34),core.Yb(),core.Yb()}if(2&rf){const custom_r6=core.lc().$implicit;core.Eb(5),core.sc(\"ngIf\",custom_r6.SQLMode)}}const custom_fields_administration_component_c2=function(){return[\"select\",\"radio\",\"checkbox\"]};function CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_Template(rf,ctx){if(1&rf){const _r70=core.ac();core.Zb(0,\"mat-expansion-panel\"),core.Zb(1,\"mat-expansion-panel-header\"),core.Zb(2,\"mat-panel-title\",20),core.Sc(3),core.Yb(),core.Zb(4,\"mat-panel-description\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Zb(7,\"div\",21),core.Zb(8,\"mat-form-field\"),core.Zb(9,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r70),ctx.$implicit.id=$event})),core.Yb(),core.Yb(),core.Zb(10,\"mat-form-field\"),core.Zb(11,\"input\",23),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r70),ctx.$implicit.label=$event})),core.Yb(),core.Yb(),core.Yb(),core.Zb(12,\"div\",24),core.Zb(13,\"div\"),core.Qc(14,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_button_14_Template,2,0,\"button\",25),core.Yb(),core.Qc(15,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_15_Template,2,1,\"div\",26),core.Yb(),core.Qc(16,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_div_16_Template,6,1,\"div\",27),core.Zb(17,\"div\",28),core.Zb(18,\"button\",29),core.hc(\"click\",(function(){core.Hc(_r70);const custom_r6=ctx.$implicit,indexCustom_r7=ctx.index;return core.lc(2).updateCustomField(custom_r6,indexCustom_r7)})),core.Sc(19),core.mc(20,\"translate\"),core.Yb(),core.Zb(21,\"button\",30),core.hc(\"click\",(function(){core.Hc(_r70);const indexCustom_r7=ctx.index;return core.lc(2).removeCustomField(indexCustom_r7)})),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const custom_r6=ctx.$implicit,indexCustom_r7=ctx.index,ctx_r5=core.lc(2);core.Eb(3),core.Uc(\" \",custom_r6.label,\" \"),core.Eb(2),core.Uc(\" \",core.nc(6,14,\"lang.\"+custom_r6.type+\"Input\"),\" \"),core.Eb(4),core.sc(\"ngModel\",custom_r6.id)(\"placeholder\",ctx_r5.translate.instant(\"lang.technicalId\"))(\"value\",custom_r6.id),core.Eb(2),core.sc(\"ngModel\",custom_r6.label)(\"placeholder\",ctx_r5.translate.instant(\"lang.label\"))(\"value\",custom_r6.label),core.Eb(3),core.sc(\"ngIf\",!custom_r6.SQLMode&&\"banAutocomplete\"!==custom_r6.type),core.Eb(1),core.sc(\"ngIf\",core.yc(20,custom_fields_administration_component_c2).indexOf(custom_r6.type)>-1),core.Eb(1),core.sc(\"ngIf\",custom_r6.SQLMode),core.Eb(2),core.sc(\"disabled\",ctx_r5.isModified(custom_r6,indexCustom_r7)||!ctx_r5.isValidField(custom_r6)),core.Eb(1),core.Tc(core.nc(20,16,\"lang.update\")),core.Eb(3),core.Tc(core.nc(23,18,\"lang.delete\"))}}function CustomFieldsAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",16),core.Zb(1,\"mat-tab-group\"),core.Zb(2,\"mat-tab\",12),core.Qc(3,CustomFieldsAdministrationComponent_mat_card_12_div_3_Template,1,1,\"div\",17),core.Zb(4,\"mat-accordion\"),core.Qc(5,CustomFieldsAdministrationComponent_mat_card_12_mat_expansion_panel_5_Template,24,21,\"mat-expansion-panel\",18),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(2),core.sc(\"label\",ctx_r1.translate.instant(\"lang.usableFields\")),core.Eb(1),core.sc(\"ngIf\",0===ctx_r1.customFields.length),core.Eb(2),core.sc(\"ngForOf\",ctx_r1.customFields)}}function CustomFieldsAdministrationComponent_div_17_ng_container_7_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-form-field\",70),core.Ub(2,\"textarea\",71),core.Yb(),core.Wb()),2&rf){const customField_r74=core.lc().$implicit,ctx_r75=core.lc();core.Eb(2),core.sc(\"placeholder\",ctx_r75.translate.instant(\"lang.\"+customField_r74.type+\"Input\"))}}function CustomFieldsAdministrationComponent_div_17_ng_container_8_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-form-field\",70),core.Ub(2,\"input\",72),core.Yb(),core.Wb()),2&rf){const customField_r74=core.lc().$implicit,ctx_r76=core.lc();core.Eb(2),core.sc(\"placeholder\",ctx_r76.translate.instant(\"lang.\"+customField_r74.type+\"Input\"))}}function CustomFieldsAdministrationComponent_div_17_ng_container_9_mat_option_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",54),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const sample_r84=ctx.$implicit;core.sc(\"value\",sample_r84),core.Eb(1),core.Vc(\" \",core.nc(2,3,\"lang.choice\"),\" \",sample_r84,\" \")}}function CustomFieldsAdministrationComponent_div_17_ng_container_9_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-form-field\",70),core.Zb(2,\"mat-select\",73),core.Qc(3,CustomFieldsAdministrationComponent_div_17_ng_container_9_mat_option_3_Template,3,5,\"mat-option\",50),core.Yb(),core.Yb(),core.Wb()),2&rf){const customField_r74=core.lc().$implicit,ctx_r77=core.lc();core.Eb(2),core.sc(\"placeholder\",ctx_r77.translate.instant(\"lang.\"+customField_r74.type+\"Input\")),core.Eb(1),core.sc(\"ngForOf\",ctx_r77.sampleIncrement)}}function CustomFieldsAdministrationComponent_div_17_ng_container_10_Template(rf,ctx){if(1&rf){const _r88=core.ac();core.Xb(0),core.Zb(1,\"mat-form-field\",70),core.Zb(2,\"input\",74),core.hc(\"click\",(function(){return core.Hc(_r88),core.Dc(5).open()})),core.Yb(),core.Ub(3,\"mat-datepicker-toggle\",75),core.Ub(4,\"mat-datepicker\",null,76),core.Yb(),core.Wb()}if(2&rf){const _r86=core.Dc(5),customField_r74=core.lc().$implicit,ctx_r78=core.lc();core.Eb(2),core.sc(\"matDatepicker\",_r86)(\"placeholder\",ctx_r78.translate.instant(\"lang.\"+customField_r74.type+\"Input\")),core.Eb(1),core.sc(\"for\",_r86)}}function CustomFieldsAdministrationComponent_div_17_ng_container_11_mat_radio_button_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-radio-button\",54),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const sample_r91=ctx.$implicit;core.sc(\"value\",sample_r91),core.Eb(1),core.Vc(\" \",core.nc(2,3,\"lang.choice\"),\" \",sample_r91,\" \")}}function CustomFieldsAdministrationComponent_div_17_ng_container_11_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-radio-group\",77),core.Qc(2,CustomFieldsAdministrationComponent_div_17_ng_container_11_mat_radio_button_2_Template,3,5,\"mat-radio-button\",50),core.Yb(),core.Wb()),2&rf){const ctx_r79=core.lc(2);core.Eb(2),core.sc(\"ngForOf\",ctx_r79.sampleIncrement)}}function CustomFieldsAdministrationComponent_div_17_ng_container_12_mat_list_option_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-option\",83),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const sample_r95=ctx.$implicit;core.sc(\"value\",sample_r95),core.Eb(1),core.Vc(\" \",core.nc(2,3,\"lang.choice\"),\" \",sample_r95,\" \")}}function CustomFieldsAdministrationComponent_div_17_ng_container_12_mat_chip_6_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-chip\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.selectedValue\"),\" \"))}function CustomFieldsAdministrationComponent_div_17_ng_container_12_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"div\",78),core.Zb(2,\"mat-selection-list\",79,80),core.Qc(4,CustomFieldsAdministrationComponent_div_17_ng_container_12_mat_list_option_4_Template,3,5,\"mat-list-option\",81),core.Yb(),core.Yb(),core.Zb(5,\"mat-chip-list\",82),core.Qc(6,CustomFieldsAdministrationComponent_div_17_ng_container_12_mat_chip_6_Template,3,3,\"mat-chip\",18),core.Yb(),core.Wb()),2&rf){const _r92=core.Dc(3),ctx_r80=core.lc(2);core.Eb(4),core.sc(\"ngForOf\",ctx_r80.sampleIncrement),core.Eb(2),core.sc(\"ngForOf\",_r92.selectedOptions.selected)}}function CustomFieldsAdministrationComponent_div_17_Template(rf,ctx){if(1&rf){const _r98=core.ac();core.Zb(0,\"div\",65),core.Zb(1,\"div\",66),core.Zb(2,\"button\",67),core.hc(\"click\",(function(){core.Hc(_r98);const customField_r74=ctx.$implicit;return core.lc().addCustomField(customField_r74)})),core.Ub(3,\"mat-icon\",68),core.Yb(),core.Yb(),core.Zb(4,\"div\",33),core.Zb(5,\"div\",69),core.Sc(6),core.Yb(),core.Qc(7,CustomFieldsAdministrationComponent_div_17_ng_container_7_Template,3,1,\"ng-container\",52),core.Qc(8,CustomFieldsAdministrationComponent_div_17_ng_container_8_Template,3,1,\"ng-container\",52),core.Qc(9,CustomFieldsAdministrationComponent_div_17_ng_container_9_Template,4,2,\"ng-container\",52),core.Qc(10,CustomFieldsAdministrationComponent_div_17_ng_container_10_Template,6,3,\"ng-container\",52),core.Qc(11,CustomFieldsAdministrationComponent_div_17_ng_container_11_Template,3,1,\"ng-container\",52),core.Qc(12,CustomFieldsAdministrationComponent_div_17_ng_container_12_Template,7,2,\"ng-container\",52),core.Yb(),core.Yb()}if(2&rf){const customField_r74=ctx.$implicit,ctx_r3=core.lc();core.Eb(2),core.sc(\"title\",ctx_r3.translate.instant(\"lang.add\")),core.Eb(4),core.Uc(\"\",customField_r74.label,\" :\"),core.Eb(1),core.sc(\"ngIf\",\"string\"===customField_r74.type||\"banAutocomplete\"===customField_r74.type),core.Eb(1),core.sc(\"ngIf\",\"integer\"===customField_r74.type),core.Eb(1),core.sc(\"ngIf\",\"select\"===customField_r74.type),core.Eb(1),core.sc(\"ngIf\",\"date\"===customField_r74.type),core.Eb(1),core.sc(\"ngIf\",\"radio\"===customField_r74.type),core.Eb(1),core.sc(\"ngIf\",\"checkbox\"===customField_r74.type)}}let custom_fields_administration_component_CustomFieldsAdministrationComponent=(()=>{class CustomFieldsAdministrationComponent{constructor(translate,http,notify,dialog,headerService,appService,sortPipe,functionsService){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.sortPipe=sortPipe,this.functionsService=functionsService,this.loading=!0,this.customFieldsTypes=[{label:this.translate.instant(\"lang.stringInput\"),type:\"string\"},{label:this.translate.instant(\"lang.integerInput\"),type:\"integer\"},{label:this.translate.instant(\"lang.selectInput\"),type:\"select\"},{label:this.translate.instant(\"lang.dateInput\"),type:\"date\"},{label:this.translate.instant(\"lang.radioInput\"),type:\"radio\"},{label:this.translate.instant(\"lang.checkboxInput\"),type:\"checkbox\"},{label:this.translate.instant(\"lang.banAutocompleteInput\"),type:\"banAutocomplete\"}],this.customFields=[],this.customFieldsClone=[],this.incrementCreation=1,this.sampleIncrement=[1,2,3,4],this.SQLMode=!1,this.availaibleTables={}}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.customFieldsAdmin\")),this.getTables(),this.http.get(\"../rest/customFields?admin=true\").pipe(Object(map.a)(data=>(data.customFields.forEach(element=>{this.functionsService.empty(element.values.key)?(element.SQLMode=!1,element.values=Object.values(element.values).map(info=>({label:info}))):element.SQLMode=!0}),data)),Object(tap.a)(data=>{this.customFields=data.customFields,this.customFieldsClone=JSON.parse(JSON.stringify(this.customFields))}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addCustomField(customFieldType){let newCustomField={};this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.add\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(tap.a)(()=>{newCustomField={label:this.translate.instant(\"lang.newField\")+\" \"+this.incrementCreation,type:customFieldType.type,values:[]}}),Object(exhaustMap.a)(data=>this.http.post(\"../rest/customFields\",newCustomField)),Object(tap.a)(data=>{newCustomField.id=data.customFieldId,this.customFields.push(newCustomField),this.notify.success(this.translate.instant(\"lang.customFieldAdded\")),this.incrementCreation++}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addValue(indexCustom){this.customFields[indexCustom].values.push({label:\"\"})}removeValue(customField,indexValue){customField.values.splice(indexValue,1)}removeCustomField(indexCustom){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\")+' \"'+this.customFields[indexCustom].label+'\"',msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/customFields/\"+this.customFields[indexCustom].id)),Object(tap.a)(()=>{this.customFields.splice(indexCustom,1),this.notify.success(this.translate.instant(\"lang.customFieldDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}updateCustomField(customField,indexCustom){const customFieldToUpdate=Object.assign({},customField);if(customField.SQLMode)[\"string\",\"integer\",\"date\"].indexOf(customField.type)>-1&&(customField.values.label=[{column:customField.values.key,delimiterEnd:\"\",delimiterStart:\"\"}]);else if(customField.values=customField.values.filter((x,i,a)=>a.map(info=>info.label).indexOf(x.label)===i),customFieldToUpdate.values=customField.values.map(data=>data.label),this.customFields.filter(customFieldItem=>customFieldItem.label===customFieldToUpdate.label).length>1)return this.notify.handleErrors(this.translate.instant(\"lang.customFieldAlreadyExists\")),Object(observable_of.of)(!1);this.http.put(\"../rest/customFields/\"+customField.id,customFieldToUpdate).pipe(Object(tap.a)(()=>{this.customFieldsClone[indexCustom]=JSON.parse(JSON.stringify(customField)),this.notify.success(this.translate.instant(\"lang.customFieldUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}sortValues(customField){customField.values=this.sortPipe.transform(customField.values,\"label\")}isModified(customField,indexCustomField){return!(JSON.stringify(customField)!==JSON.stringify(this.customFieldsClone[indexCustomField])&&\"\"!==customField.label&&!this.SQLMode)}switchSQLMode(custom){custom.SQLMode=!custom.SQLMode,custom.values=custom.SQLMode?{key:\"id\",label:[{column:\"id\",delimiterEnd:\"\",delimiterStart:\"\"}],table:\"users\",clause:\"1=1\"}:[]}getTables(){this.http.get(\"../rest/customFieldsWhiteList\").pipe(Object(tap.a)(data=>{data.allowedTables.forEach(table=>{this.availaibleTables[table.name]=table.columns})}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addColumnLabel(field,column){field.push({delimiterStart:\"\",delimiterEnd:\"\",column:column})}removeColumnLabel(field,index){field.splice(index,1)}isValidField(field){return!field.SQLMode||!(this.functionsService.empty(field.values.key)||this.functionsService.empty(field.values.label)||this.functionsService.empty(field.values.table)||this.functionsService.empty(field.values.clause))}}return CustomFieldsAdministrationComponent.ɵfac=function(t){return new(t||CustomFieldsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(sorting_pipe.a),core.Tb(functions_service.a))},CustomFieldsAdministrationComponent.ɵcmp=core.Nb({type:CustomFieldsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(custom_fields_administration_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first)},features:[core.Db([sorting_pipe.a])],decls:18,vars:12,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",\"opened\",\"\",1,\"col-md-4\",\"col-sm-12\",\"customFielsdPanel\",3,\"mode\",\"fixedInViewport\"],[\"snav2\",\"\"],[3,\"label\"],[\"class\",\"customFieldsTypesItem\",4,\"ngFor\",\"ngForOf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"class\",\"alert-message alert-message-info\",\"role\",\"alert\",3,\"innerHTML\",4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\",3,\"innerHTML\"],[\"color\",\"primary\"],[1,\"col-md-12\"],[\"matInput\",\"\",\"name\",\"id\",\"disabled\",\"\",3,\"ngModel\",\"placeholder\",\"value\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"label\",3,\"ngModel\",\"placeholder\",\"value\",\"ngModelChange\"],[1,\"col-md-12\",2,\"display\",\"flex\",\"align-items\",\"center\"],[\"mat-mini-fab\",\"\",\"color\",\"primary\",3,\"click\",4,\"ngIf\"],[\"style\",\"flex:1;\",4,\"ngIf\"],[\"class\",\"col-md-12\",\"style\",\"display: flex;align-items: center;\",4,\"ngIf\"],[1,\"col-md-12\",\"text-center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"click\"],[\"mat-mini-fab\",\"\",\"color\",\"primary\",3,\"click\"],[1,\"fas\",\"fa-database\",2,\"height\",\"auto\"],[2,\"flex\",\"1\"],[\"class\",\"customFieldValues\",\"opened\",\"\",4,\"ngIf\"],[\"opened\",\"\",1,\"customFieldValues\"],[\"matBadgeSize\",\"small\",3,\"matBadge\"],[1,\"actionValuesCustom\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"click\"],[\"mat-mini-fab\",\"\",\"color\",\"default\",3,\"title\",\"click\",4,\"ngIf\"],[\"floatLabel\",\"never\",4,\"ngFor\",\"ngForOf\"],[\"mat-mini-fab\",\"\",\"color\",\"default\",3,\"title\",\"click\"],[\"color\",\"primary\",1,\"fas\",\"fa-sort-alpha-down\",2,\"height\",\"auto\"],[\"floatLabel\",\"never\"],[\"matInput\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[\"color\",\"warn\",\"mat-icon-button\",\"\",\"matSuffix\",\"\",3,\"title\",\"click\"],[1,\"fa\",\"fa-trash\"],[1,\"fas\",\"fa-list-ol\",2,\"height\",\"auto\"],[2,\"display\",\"flex\",\"flex-direction\",\"column\"],[\"required\",\"\",3,\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"style\",\"width:100%;padding-bottom: 20px;\",4,\"ngIf\"],[4,\"ngIf\"],[\"matInput\",\"\",\"placeholder\",\"Ex. status='OK'\",\"required\",\"\",3,\"ngModel\",\"ngModelChange\"],[3,\"value\"],[2,\"width\",\"100%\",\"padding-bottom\",\"20px\"],[2,\"font-size\",\"75%\",\"color\",\"rgba(0,0,0,0.54)\",\"width\",\"100%\",\"display\",\"block\"],[\"mat-button\",\"\",\"color\",\"primary\",3,\"matMenuTriggerFor\"],[1,\"fa\",\"fa-plus-circle\"],[\"menu\",\"matMenu\"],[\"mat-menu-item\",\"\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[2,\"min-width\",\"8px\",3,\"ngModel\",\"ngModelChange\"],[3,\"removed\"],[\"matChipRemove\",\"\",1,\"fa\",\"fa-times-circle\"],[\"mat-menu-item\",\"\",3,\"click\"],[1,\"customFieldsTypesItem\"],[1,\"addCustomFieldTypeContainer\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"title\",\"click\"],[1,\"fas\",\"fa-plus-circle\",\"fa-2x\"],[2,\"color\",\"rgba(0,0,0,0.54)\"],[\"floatLabel\",\"never\",1,\"input-form\"],[\"matInput\",\"\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",\"cdkAutosizeMaxRows\",\"6\",\"disabled\",\"\",3,\"placeholder\"],[\"type\",\"number\",\"matInput\",\"\",\"disabled\",\"\",3,\"placeholder\"],[\"disabled\",\"\",3,\"placeholder\"],[\"matInput\",\"\",\"disabled\",\"\",3,\"matDatepicker\",\"placeholder\",\"click\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker\",\"\"],[\"color\",\"primary\",\"disabled\",\"\",1,\"radio-form\"],[1,\"input-form\",\"checkbox-form\"],[\"disabled\",\"\",1,\"div-list\"],[\"sampleList\",\"\"],[\"checkboxPosition\",\"before\",3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"checkbox-selected-list\"],[\"checkboxPosition\",\"before\",3,\"value\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,CustomFieldsAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,CustomFieldsAdministrationComponent_mat_card_12_Template,6,3,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Zb(15,\"mat-tab-group\"),core.Zb(16,\"mat-tab\",12),core.Qc(17,CustomFieldsAdministrationComponent_div_17_Template,13,8,\"div\",13),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode()),core.Eb(3),core.sc(\"label\",ctx.translate.instant(\"lang.customFieldsTypesAvailable\")),core.Eb(1),core.sc(\"ngForOf\",ctx.customFieldsTypes))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,tabs.c,tabs.a,common.s,progress_spinner.c,card.a,expansion.a,expansion.c,expansion.g,expansion.h,expansion.f,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.w,fesm2015_button.b,icon.a,badge.a,form_field.j,form_field.g,fesm2015_select.a,fesm2015_forms.E,fesm2015_core.o,menu.d,menu.e,chips.a,chips.e,menu.b,input.d,datepicker.f,datepicker.h,datepicker.d,fesm2015_radio.b,fesm2015_radio.a,list.i,chips.d,list.f],pipes:[ngx_translate_core.d,common.l],styles:[\".mat-divider[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.customFielsdPanel[_ngcontent-%COMP%], .customFielsdPanel[_ngcontent-%COMP%]    .mat-tab-body-wrapper{padding-left:0}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-direction:row-reverse}.customFieldValues[_ngcontent-%COMP%]{box-shadow:none;border:1px solid rgba(0,0,0,.12)}.mat-expansion-panel[_ngcontent-%COMP%]{margin:5px}.mat-accordion[_ngcontent-%COMP%]{padding:5px}.mat-tab-body-content[_ngcontent-%COMP%], .mat-tab-body-wrapper[_ngcontent-%COMP%], .mat-tab-group[_ngcontent-%COMP%]{height:100%}.actionsCustomFields[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.actionValuesCustom[_ngcontent-%COMP%]{display:flex}.alert-message-info[_ngcontent-%COMP%]{margin-top:30px;max-width:100%}.addCustomFieldTypeContainer[_ngcontent-%COMP%]{justify-content:center;display:flex;align-items:center;width:60px}.customFieldsTypesItem[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.mat-badge-content[_ngcontent-%COMP%]{top:2px!important}\",\".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}\"]}),CustomFieldsAdministrationComponent})();var app_guard=__webpack_require__(\"87bG\"),indexing_form_component=__webpack_require__(\"enVo\"),field_list_component=__webpack_require__(\"sTim\");const indexing_model_administration_component_c0=[\"snav2\"],indexing_model_administration_component_c1=[\"indexingForm\"];function IndexingModelAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function IndexingModelAdministrationComponent_mat_card_12_mat_option_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",30),core.Sc(1),core.Yb()),2&rf){const category_r7=ctx.$implicit;core.sc(\"value\",category_r7.id),core.Eb(1),core.Uc(\" \",category_r7.label,\" \")}}function IndexingModelAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r10=core.ac();core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"mat-form-field\"),core.Zb(3,\"mat-label\"),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Zb(6,\"mat-select\",19),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r10),core.lc().indexingModel.category=$event}))(\"selectionChange\",(function($event){return core.Hc(_r10),core.lc().changeCategory($event)})),core.Qc(7,IndexingModelAdministrationComponent_mat_card_12_mat_option_7_Template,2,2,\"mat-option\",20),core.Yb(),core.Yb(),core.Yb(),core.Zb(8,\"div\",18),core.Zb(9,\"div\",21),core.Zb(10,\"mat-form-field\",22),core.Zb(11,\"mat-label\"),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Zb(14,\"input\",23),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r10),core.lc().indexingModel.label=$event})),core.Yb(),core.Yb(),core.Yb(),core.Zb(15,\"div\",24),core.Zb(16,\"mat-slide-toggle\",25),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r10),core.lc().indexingModel.default=$event})),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(19,\"mat-tab-group\"),core.Zb(20,\"mat-tab\",12),core.Ub(21,\"app-indexing-form\",26,27),core.Zb(23,\"div\",28),core.Zb(24,\"button\",29),core.hc(\"click\",(function(){return core.Hc(_r10),core.lc().onSubmit()})),core.Sc(25),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r6=core.Dc(22),ctx_r1=core.lc();core.Eb(4),core.Tc(core.nc(5,13,\"lang.category_id\")),core.Eb(2),core.sc(\"ngModel\",ctx_r1.indexingModel.category)(\"placeholder\",ctx_r1.translate.instant(\"lang.category_id\")),core.Eb(1),core.sc(\"ngForOf\",ctx_r1.categoriesList),core.Eb(5),core.Tc(core.nc(13,15,\"lang.modelName\")),core.Eb(2),core.sc(\"ngModel\",ctx_r1.indexingModel.label),core.Eb(2),core.sc(\"ngModel\",ctx_r1.indexingModel.default),core.Eb(1),core.Uc(\" \",core.nc(18,17,\"lang.defaultModel\"),\" \"),core.Eb(3),core.sc(\"label\",ctx_r1.translate.instant(\"lang.indexingForm\")),core.Eb(1),core.sc(\"indexingFormId\",ctx_r1.indexingModel.id)(\"admin\",!0),core.Eb(3),core.sc(\"disabled\",!_r6.isModified()&&!ctx_r1.isModified()||\"\"===ctx_r1.indexingModel.label),core.Eb(1),core.Tc(ctx_r1.translate.instant(ctx_r1.creationMode?\"lang.save\":\"lang.update\"))}}function IndexingModelAdministrationComponent_app_field_list_17_Template(rf,ctx){if(1&rf&&core.Ub(0,\"app-field-list\",31),2&rf){const ctx_r3=core.lc();core.sc(\"dataFields\",ctx_r3.indexingForm.getAvailableFields())}}function IndexingModelAdministrationComponent_app_field_list_19_Template(rf,ctx){if(1&rf&&core.Ub(0,\"app-field-list\",32),2&rf){const ctx_r4=core.lc();core.sc(\"dataCustomFields\",ctx_r4.indexingForm.getAvailableCustomFields())}}let indexing_model_administration_component_IndexingModelAdministrationComponent=(()=>{class IndexingModelAdministrationComponent{constructor(translate,http,route,router,notify,dialog,headerService,appService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.loading=!0,this.indexingModel={id:0,label:\"\",category:\"incoming\",default:!1,owner:0,private:!1},this.indexingModelsCustomFields=[],this.creationMode=!0}ngOnInit(){this.route.params.subscribe(params=>{void 0===params.id?(this.creationMode=!0,this.headerService.setHeader(this.translate.instant(\"lang.indexingModelCreation\")),this.http.get(\"../rest/categories\").pipe(Object(tap.a)(data=>{this.categoriesList=data.categories}),Object(tap.a)(data=>{this.loading=!1,setTimeout(()=>{this.indexingForm.changeCategory(this.indexingModel.category)},0)}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe(),this.indexingModelClone=JSON.parse(JSON.stringify(this.indexingModel))):(this.creationMode=!1,this.http.get(\"../rest/indexingModels/\"+params.id).pipe(Object(tap.a)(data=>{this.indexingModel=data.indexingModel,this.headerService.setHeader(this.translate.instant(\"lang.indexingModelModification\"),this.indexingModel.label),this.indexingModelClone=JSON.parse(JSON.stringify(this.indexingModel))}),Object(exhaustMap.a)(()=>this.http.get(\"../rest/categories\")),Object(tap.a)(data=>{this.categoriesList=data.categories}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe())})}onSubmit(){const fields=this.indexingForm.getDatas();fields.forEach((element,key)=>{fields[key].default_value=[\"string\",\"integer\",\"date\"].indexOf(fields[key].type)>-1&&fields[key].SQLMode?null:fields[key].default_value,delete fields[key].event,delete fields[key].label,delete fields[key].system,delete fields[key].type,delete fields[key].values}),this.indexingModel.fields=fields,this.creationMode?this.http.post(\"../rest/indexingModels\",this.indexingModel).pipe(Object(tap.a)(data=>{this.indexingForm.setModification(),this.setModification(),this.router.navigate([\"/administration/indexingModels\"]),this.notify.success(this.translate.instant(\"lang.indexingModelAdded\"))}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.put(\"../rest/indexingModels/\"+this.indexingModel.id,this.indexingModel).pipe(Object(tap.a)(data=>{this.indexingForm.setModification(),this.setModification(),this.router.navigate([\"/administration/indexingModels\"]),this.notify.success(this.translate.instant(\"lang.indexingModelUpdated\"))}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}isModified(){let compare=\"\",compareClone=\"\";return compare=JSON.stringify(this.indexingModel),compareClone=JSON.stringify(this.indexingModelClone),compare!==compareClone}setModification(){this.indexingModelClone=JSON.parse(JSON.stringify(this.indexingModel))}changeCategory(ev){this.indexingForm.changeCategory(ev.value)}}return IndexingModelAdministrationComponent.ɵfac=function(t){return new(t||IndexingModelAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a))},IndexingModelAdministrationComponent.ɵcmp=core.Nb({type:IndexingModelAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(indexing_model_administration_component_c0,!0),core.ad(indexing_model_administration_component_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.indexingForm=_t.first))},features:[core.Db([app_service.a,sorting_pipe.a])],decls:20,vars:14,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",\"opened\",\"\",1,\"col-md-4\",\"col-sm-12\",3,\"mode\",\"fixedInViewport\"],[\"snav2\",\"\"],[3,\"label\"],[3,\"dataFields\",4,\"ngIf\"],[3,\"dataCustomFields\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[2,\"display\",\"flex\"],[\"name\",\"category\",\"required\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\",\"selectionChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[2,\"flex\",\"1\"],[\"appearance\",\"outline\",1,\"indexingModelLabel\"],[\"matInput\",\"\",\"name\",\"label\",3,\"ngModel\",\"ngModelChange\"],[1,\"defaultModel\"],[\"color\",\"primary\",\"name\",\"default\",3,\"ngModel\",\"ngModelChange\"],[3,\"indexingFormId\",\"admin\"],[\"indexingForm\",\"\"],[1,\"col-md-12\",\"text-center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[3,\"value\"],[3,\"dataFields\"],[3,\"dataCustomFields\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,IndexingModelAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,IndexingModelAdministrationComponent_mat_card_12_Template,26,19,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Zb(15,\"mat-tab-group\"),core.Zb(16,\"mat-tab\",12),core.Qc(17,IndexingModelAdministrationComponent_app_field_list_17_Template,1,1,\"app-field-list\",13),core.Yb(),core.Zb(18,\"mat-tab\",12),core.Qc(19,IndexingModelAdministrationComponent_app_field_list_19_Template,1,1,\"app-field-list\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode()),core.Eb(3),core.sc(\"label\",ctx.translate.instant(\"lang.availableFields\")),core.Eb(1),core.sc(\"ngIf\",void 0!==ctx.indexingForm),core.Eb(1),core.sc(\"label\",ctx.translate.instant(\"lang.availableCustomFields\")),core.Eb(1),core.sc(\"ngIf\",void 0!==ctx.indexingForm))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,tabs.c,tabs.a,progress_spinner.c,card.a,form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,common.s,input.b,fesm2015_forms.c,slide_toggle.a,indexing_form_component.a,fesm2015_button.b,fesm2015_core.o,field_list_component.a],pipes:[ngx_translate_core.d],styles:[\".indexingModelLabel[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.defaultModel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-left:10px}\",\".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}\"]}),IndexingModelAdministrationComponent})();function RedirectIndexingModelComponent_li_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"li\"),core.Zb(1,\"b\"),core.Sc(2),core.Yb(),core.Sc(3),core.mc(4,\"translate\"),core.Zb(5,\"b\"),core.Sc(6),core.Yb(),core.Yb()),2&rf){const usage_r3=ctx.$implicit;core.Eb(2),core.Tc(usage_r3.count),core.Eb(1),core.Uc(\" \",core.nc(4,3,\"lang.mailsWithStatus\"),\" \"),core.Eb(3),core.Tc(usage_r3.status)}}function RedirectIndexingModelComponent_div_12_mat_option_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",14),core.Sc(1),core.Yb()),2&rf){const model_r5=ctx.$implicit,ctx_r4=core.lc(2);core.sc(\"value\",model_r5.id)(\"disabled\",model_r5.id===ctx_r4.mainIndexingModel.id),core.Eb(1),core.Uc(\" \",model_r5.label,\" \")}}function RedirectIndexingModelComponent_div_12_Template(rf,ctx){if(1&rf){const _r8=core.ac();core.Zb(0,\"div\"),core.Zb(1,\"mat-form-field\",11),core.Zb(2,\"mat-select\",12),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r8),core.lc().modelIds=$event}))(\"selectionChange\",(function($event){return core.Hc(_r8),core.lc().changeModel($event)})),core.Qc(3,RedirectIndexingModelComponent_div_12_mat_option_3_Template,2,3,\"mat-option\",13),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.sc(\"ngModel\",ctx_r1.modelIds)(\"placeholder\",ctx_r1.translate.instant(\"lang.indexingModel\")),core.Eb(1),core.sc(\"ngForOf\",ctx_r1.indexingModels)}}function RedirectIndexingModelComponent_div_13_li_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"li\"),core.Sc(1),core.Yb()),2&rf){const field_r11=ctx.$implicit;core.Eb(1),core.Uc(\" \",field_r11.label,\" \")}}function RedirectIndexingModelComponent_div_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",15),core.Sc(1),core.mc(2,\"translate\"),core.Zb(3,\"ul\"),core.Qc(4,RedirectIndexingModelComponent_div_13_li_4_Template,2,1,\"li\",4),core.Yb(),core.Sc(5),core.mc(6,\"translate\"),core.Yb()),2&rf){const ctx_r2=core.lc();core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.indexingModelFieldsReset\"),\" \"),core.Eb(3),core.sc(\"ngForOf\",ctx_r2.resetFields),core.Eb(1),core.Uc(\" \",core.nc(6,5,\"lang.confirmAction\"),\" \")}}let redirect_indexing_model_component_RedirectIndexingModelComponent=(()=>{class RedirectIndexingModelComponent{constructor(translate,data,dialogRef,http,notify,sortPipe){this.translate=translate,this.data=data,this.dialogRef=dialogRef,this.http=http,this.notify=notify,this.sortPipe=sortPipe,this.indexingModels=[],this.modelIds=[],this.resetFields=[],this.statuses=[],this.customFields=[],this.availableFields=[{identifier:\"doctype\",label:this.translate.instant(\"lang.doctype\")},{identifier:\"subject\",label:this.translate.instant(\"lang.subject\")},{identifier:\"recipients\",label:this.translate.instant(\"lang.getRecipients\")},{identifier:\"priority\",label:this.translate.instant(\"lang.priority\")},{identifier:\"confidentiality\",label:this.translate.instant(\"lang.confidential\")},{identifier:\"initiator\",label:this.translate.instant(\"lang.initiatorEntityAlt\")},{identifier:\"departureDate\",label:this.translate.instant(\"lang.departureDate\")},{identifier:\"processLimitDate\",label:this.translate.instant(\"lang.processLimitDate\")},{identifier:\"tags\",label:this.translate.instant(\"lang.tags\")},{identifier:\"senders\",label:this.translate.instant(\"lang.getSenders\")},{identifier:\"destination\",label:this.translate.instant(\"lang.destination\")},{identifier:\"folders\",label:this.translate.instant(\"lang.folders\")},{identifier:\"documentDate\",label:this.translate.instant(\"lang.docDate\")},{identifier:\"arrivalDate\",label:this.translate.instant(\"lang.arrivalDate\")}],this.loading=!1,this.mainIndexingModel=data.indexingModel}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.loadIndexingModels(),this.loadStatuses(),this.loadCustomFields(),this.loadIndexingModelFields()}))}loadIndexingModels(){this.http.get(\"../rest/indexingModels\").pipe(Object(map.a)(data=>data.indexingModels.filter(info=>!1===info.private)),Object(tap.a)(data=>{this.indexingModels=data,this.sortPipe.transform(this.indexingModels,\"label\"),this.modelIds=this.indexingModels.map(model=>model.id)}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}loadIndexingModelFields(){this.http.get(\"../rest/indexingModels/\"+this.mainIndexingModel.id).pipe(Object(tap.a)(data=>{this.mainIndexingModelFields=data.indexingModel.fields,this.mainIndexingModelFields=this.mainIndexingModelFields.map(field=>{const availableField=this.availableFields.find(elem=>elem.identifier===field.identifier);return field.label=void 0===availableField?this.translate.instant(\"lang.undefined\"):availableField.label,field})}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}loadStatuses(){this.http.get(\"../rest/statuses\").pipe(Object(tap.a)(data=>{this.statuses=data.statuses,this.mainIndexingModel.used.forEach(element=>{const elementStatus=this.statuses.find(status=>status.id===element.status);void 0!==elementStatus&&(element.status=elementStatus.label_status)})}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}loadCustomFields(){this.http.get(\"../rest/customFields\").pipe(Object(tap.a)(data=>{data.customFields=data.customFields.map(custom=>({identifier:\"indexingCustomField_\"+custom.id,label:custom.label})),data.customFields.forEach(custom=>{this.availableFields.push(custom)}),this.sortPipe.transform(this.availableFields,\"label\"),this.loadIndexingModelFields()}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}changeModel(event){this.selectedModelId=event.value,this.http.get(\"../rest/indexingModels/\"+this.selectedModelId).pipe(Object(tap.a)(data=>{this.selectedModelFields=data.indexingModel.fields,this.resetFields=this.mainIndexingModelFields.filter(field=>void 0===this.selectedModelFields.find(selectedField=>selectedField.identifier===field.identifier)),this.sortPipe.transform(this.resetFields,\"label\")}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}onSubmit(){this.http.request(\"DELETE\",\"../rest/indexingModels/\"+this.mainIndexingModel.id,{body:{targetId:this.selectedModelId}}).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.indexingModelDeleted\")),this.dialogRef.close(\"ok\")}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return RedirectIndexingModelComponent.ɵfac=function(t){return new(t||RedirectIndexingModelComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(sorting_pipe.a))},RedirectIndexingModelComponent.ɵcmp=core.Nb({type:RedirectIndexingModelComponent,selectors:[[\"ng-component\"]],features:[core.Db([sorting_pipe.a])],decls:22,vars:19,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\"],[1,\"alert-message\",\"alert-message-info\"],[4,\"ngFor\",\"ngForOf\"],[4,\"ngIf\"],[\"class\",\"alert-message alert-message-danger\",4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\"],[\"color\",\"primary\",\"mat-raised-button\",\"\",1,\"actions\",3,\"disabled\",\"click\"],[\"color\",\"\",\"mat-raised-button\",\"\",1,\"actions\",3,\"click\"],[2,\"padding\",\"10px\",\"margin-top\",\"15px\"],[\"name\",\"model\",\"required\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\",\"selectionChange\"],[3,\"value\",\"disabled\",4,\"ngFor\",\"ngForOf\"],[3,\"value\",\"disabled\"],[1,\"alert-message\",\"alert-message-danger\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Sc(6),core.mc(7,\"translate\"),core.Zb(8,\"ul\"),core.Qc(9,RedirectIndexingModelComponent_li_9_Template,7,5,\"li\",4),core.Yb(),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Qc(12,RedirectIndexingModelComponent_div_12_Template,4,3,\"div\",5),core.Qc(13,RedirectIndexingModelComponent_div_13_Template,7,7,\"div\",6),core.Ub(14,\"span\",7),core.Zb(15,\"div\",8),core.Zb(16,\"button\",9),core.hc(\"click\",(function(){return ctx.onSubmit()})),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Zb(19,\"button\",10),core.hc(\"click\",(function(){return ctx.dialogRef.close(\"\")})),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,9,\"lang.indexingModelReassign\")),core.Eb(4),core.Uc(\" \",core.nc(7,11,\"lang.indexingModelUsedBy\"),\" \"),core.Eb(3),core.sc(\"ngForOf\",ctx.mainIndexingModel.used),core.Eb(1),core.Uc(\" \",core.nc(11,13,\"lang.indexingModelReplaceToDelete\"),\" \"),core.Eb(2),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"ngIf\",0!==ctx.resetFields.length),core.Eb(3),core.sc(\"disabled\",void 0===ctx.selectedModelId),core.Eb(1),core.Tc(core.nc(18,15,\"lang.validate\")),core.Eb(3),core.Tc(core.nc(21,17,\"lang.cancel\")))},directives:[fesm2015_dialog.i,fesm2015_dialog.f,common.s,common.t,fesm2015_dialog.c,fesm2015_button.b,form_field.c,fesm2015_select.a,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,fesm2015_core.o],pipes:[ngx_translate_core.d],styles:[\".alert-message-info[_ngcontent-%COMP%]{margin:0;font-size:16px}\"]}),RedirectIndexingModelComponent})();const indexing_models_administration_component_c0=[\"adminMenuTemplate\"];function IndexingModelsAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function IndexingModelsAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",41),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.technicalId\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r22=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r22.id,\" \")}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",41),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.category_id\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const element_r23=ctx.$implicit;core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.\"+element_r23.category),\" \")}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",42),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.label\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",43),core.Sc(1),core.Yb()),2&rf){const element_r24=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r24.label,\" \")}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",41),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.perimeter\")))}const indexing_models_administration_component_c1=function(a0,a1){return{dataLabelWarn:a0,dataLabelPrimary:a1}};function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Zb(1,\"span\",44),core.Sc(2),core.Yb(),core.Yb()),2&rf){const element_r25=ctx.$implicit,ctx_r13=core.lc(2);core.Eb(1),core.sc(\"ngClass\",core.Ac(2,indexing_models_administration_component_c1,element_r25.private,!element_r25.private)),core.Eb(1),core.Tc(ctx_r13.translate.instant(element_r25.private?\"lang.private\":\"lang.public\"))}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",41),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.default\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Zb(1,\"span\",44),core.Sc(2),core.Yb(),core.Yb()),2&rf){const element_r26=ctx.$implicit,ctx_r15=core.lc(2);core.Eb(1),core.sc(\"ngClass\",core.Ac(2,indexing_models_administration_component_c1,!element_r26.default,element_r26.default)),core.Eb(1),core.Tc(ctx_r15.translate.instant(element_r26.default?\"lang.yes\":\"lang.no\"))}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_27_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",41),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.status\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_28_span_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\",47),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.active\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_28_span_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\",48),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.inactive\")))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_28_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Qc(1,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_28_span_1_Template,3,3,\"span\",45),core.Qc(2,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_28_span_2_Template,3,3,\"span\",46),core.Yb()),2&rf){const element_r27=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",element_r27.enabled),core.Eb(1),core.sc(\"ngIf\",!element_r27.enabled)}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_30_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_31_button_1_Template(rf,ctx){if(1&rf){const _r34=core.ac();core.Zb(0,\"button\",54),core.hc(\"click\",(function($event){core.Hc(_r34);const element_r30=core.lc().$implicit,ctx_r33=core.lc(2);return $event.stopPropagation(),ctx_r33.disableIndexingModel(element_r30)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",55),core.Yb()}if(2&rf){const element_r30=core.lc().$implicit;core.tc(\"matTooltip\",core.nc(1,2,\"lang.suspend\")),core.sc(\"disabled\",element_r30.default)}}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_31_button_2_Template(rf,ctx){if(1&rf){const _r38=core.ac();core.Zb(0,\"button\",56),core.hc(\"click\",(function($event){core.Hc(_r38);const element_r30=core.lc().$implicit,ctx_r37=core.lc(2);return $event.stopPropagation(),ctx_r37.enableIndexingModel(element_r30)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",57),core.Yb()}2&rf&&core.tc(\"matTooltip\",core.nc(1,1,\"lang.authorize\"))}function IndexingModelsAdministrationComponent_mat_card_14_mat_cell_31_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"mat-cell\",49),core.Qc(1,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_31_button_1_Template,3,4,\"button\",50),core.Qc(2,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_31_button_2_Template,3,3,\"button\",51),core.Zb(3,\"button\",52),core.hc(\"click\",(function($event){core.Hc(_r41);const element_r30=ctx.$implicit,ctx_r40=core.lc(2);return $event.stopPropagation(),ctx_r40.delete(element_r30)})),core.mc(4,\"translate\"),core.Ub(5,\"mat-icon\",53),core.Yb(),core.Yb()}if(2&rf){const element_r30=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",element_r30.enabled),core.Eb(1),core.sc(\"ngIf\",!element_r30.enabled),core.Eb(1),core.tc(\"matTooltip\",core.nc(4,4,\"lang.delete\")),core.sc(\"disabled\",element_r30.default)}}function IndexingModelsAdministrationComponent_mat_card_14_mat_header_row_32_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function IndexingModelsAdministrationComponent_mat_card_14_mat_row_33_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",58),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/indexingModels/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function IndexingModelsAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",20),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",19),core.Ub(7,\"mat-paginator\",21,22),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",23,24),core.Xb(11,25),core.Qc(12,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",26),core.Qc(13,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_13_Template,2,1,\"mat-cell\",27),core.Wb(),core.Xb(14,28),core.Qc(15,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",26),core.Qc(16,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_16_Template,3,3,\"mat-cell\",27),core.Wb(),core.Xb(17,29),core.Qc(18,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",30),core.Qc(19,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_19_Template,2,1,\"mat-cell\",31),core.Wb(),core.Xb(20,32),core.Qc(21,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_21_Template,3,3,\"mat-header-cell\",26),core.Qc(22,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_22_Template,3,5,\"mat-cell\",27),core.Wb(),core.Xb(23,33),core.Qc(24,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_24_Template,3,3,\"mat-header-cell\",26),core.Qc(25,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_25_Template,3,5,\"mat-cell\",27),core.Wb(),core.Xb(26,34),core.Qc(27,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_27_Template,3,3,\"mat-header-cell\",26),core.Qc(28,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_28_Template,3,2,\"mat-cell\",27),core.Wb(),core.Xb(29,35),core.Qc(30,IndexingModelsAdministrationComponent_mat_card_14_mat_header_cell_30_Template,1,0,\"mat-header-cell\",36),core.Qc(31,IndexingModelsAdministrationComponent_mat_card_14_mat_cell_31_Template,6,6,\"mat-cell\",37),core.Wb(),core.Qc(32,IndexingModelsAdministrationComponent_mat_card_14_mat_header_row_32_Template,1,0,\"mat-header-row\",38),core.Qc(33,IndexingModelsAdministrationComponent_mat_card_14_mat_row_33_Template,2,4,\"mat-row\",39),core.Yb(),core.Zb(34,\"div\",40),core.Sc(35),core.mc(36,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(23),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.indexingModels.length,\" \",core.nc(36,12,\"lang.indexingModels\"),\"\")}}let indexing_models_administration_component_IndexingModelsAdministrationComponent=(()=>{class IndexingModelsAdministrationComponent{constructor(translate,http,notify,headerService,appService,dialog,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.search=null,this.indexingModels=[],this.loading=!1,this.displayedColumns=[\"id\",\"category\",\"label\",\"private\",\"default\",\"enabled\",\"actions\"],this.filterColumns=[\"id\",\"label\"]}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/indexingModels?showDisabled=true\").pipe(Object(map.a)(data=>data.indexingModels.filter(info=>!1===info.private)),Object(tap.a)(data=>{this.indexingModels=data,this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.indexingModels\")),setTimeout(()=>{this.adminService.setDataSource(\"admin_indexing_models\",this.indexingModels,this.sort,this.paginator,this.filterColumns)},0)}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}delete(indexingModel){0===indexingModel.used.length?(this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/indexingModels/\"+indexingModel.id)),Object(tap.a)(()=>{for(const i in this.indexingModels)this.indexingModels[i].id===indexingModel.id&&this.indexingModels.splice(Number(i),1);this.adminService.setDataSource(\"admin_indexing_models\",this.indexingModels,this.sort,this.paginator,this.filterColumns),this.notify.success(this.translate.instant(\"lang.indexingModelDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()):(this.dialogRef=this.dialog.open(redirect_indexing_model_component_RedirectIndexingModelComponent,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\"),indexingModel:indexingModel}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(tap.a)(()=>{for(const i in this.indexingModels)this.indexingModels[i].id===indexingModel.id&&this.indexingModels.splice(Number(i),1);this.adminService.setDataSource(\"admin_indexing_models\",this.indexingModels,this.sort,this.paginator,this.filterColumns)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe())}disableIndexingModel(indexingModel){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.disable\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.request(\"PUT\",\"../rest/indexingModels/\"+indexingModel.id+\"/disable\")),Object(tap.a)(data=>{for(const i in this.indexingModels)this.indexingModels[i].id===indexingModel.id&&(this.indexingModels[i].enabled=!1);this.notify.success(this.translate.instant(\"lang.indexingModelDisabled\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}enableIndexingModel(indexingModel){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.enable\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.request(\"PUT\",\"../rest/indexingModels/\"+indexingModel.id+\"/enable\")),Object(tap.a)(data=>{for(let i in this.indexingModels)this.indexingModels[i].id===indexingModel.id&&(this.indexingModels[i].enabled=!0);this.notify.success(this.translate.instant(\"lang.indexingModelEnabled\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return IndexingModelsAdministrationComponent.ɵfac=function(t){return new(t||IndexingModelsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},IndexingModelsAdministrationComponent.ɵcmp=core.Nb({type:IndexingModelsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(indexing_models_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/indexingModels/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSortDisableClear\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"id\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"category\"],[\"matColumnDef\",\"label\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2\",4,\"matCellDef\"],[\"matColumnDef\",\"private\"],[\"matColumnDef\",\"default\"],[\"matColumnDef\",\"enabled\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[1,\"label\",3,\"ngClass\"],[\"class\",\"label dataLabelPrimary\",4,\"ngIf\"],[\"class\",\"label dataLabelWarn\",4,\"ngIf\"],[1,\"label\",\"dataLabelPrimary\"],[1,\"label\",\"dataLabelWarn\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"matTooltip\",\"disabled\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"matTooltip\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"disabled\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"matTooltip\",\"disabled\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-pause\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-check\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,IndexingModelsAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,IndexingModelsAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,IndexingModelsAdministrationComponent_mat_card_14_Template,37,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,common.q,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\".dataLabelWarn[_ngcontent-%COMP%]{color:#8e3e52}.dataLabelPrimary[_ngcontent-%COMP%]{color:#135f7f}.label[_ngcontent-%COMP%]{font-size:75%;font-weight:700}\"]}),IndexingModelsAdministrationComponent})();const contact_export_component_c0=[\"listFilter\"];function ContactExportComponent_div_5_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",32),core.Ub(1,\"mat-spinner\"),core.Yb())}function ContactExportComponent_mat_option_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",33),core.Sc(1),core.Yb()),2&rf){const format_r10=ctx.$implicit;core.sc(\"value\",format_r10),core.Eb(1),core.Uc(\" \",format_r10,\" \")}}function ContactExportComponent_div_15_mat_option_7_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",33),core.Sc(1),core.Yb()),2&rf){const delimiter_r12=ctx.$implicit;core.sc(\"value\",delimiter_r12),core.Eb(1),core.Uc(\" \",delimiter_r12,\" \")}}function ContactExportComponent_div_15_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"div\",34),core.Zb(1,\"mat-form-field\",5),core.Zb(2,\"mat-label\"),core.Sc(3),core.mc(4,\"translate\"),core.Yb(),core.Zb(5,\"mat-select\",35),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r14),core.lc().exportModel.delimiter=$event})),core.mc(6,\"translate\"),core.Qc(7,ContactExportComponent_div_15_mat_option_7_Template,2,2,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Eb(3),core.Tc(core.nc(4,5,\"lang.delimiter\")),core.Eb(2),core.tc(\"placeholder\",core.nc(6,7,\"lang.delimiter\")),core.sc(\"ngModel\",ctx_r2.exportModel.delimiter)(\"disabled\",\"csv\"!=ctx_r2.exportModel.format),core.Eb(2),core.sc(\"ngForOf\",ctx_r2.delimiters)}}function ContactExportComponent_div_38_Template(rf,ctx){if(1&rf){const _r17=core.ac();core.Zb(0,\"div\",36),core.Sc(1),core.Zb(2,\"i\",37),core.hc(\"click\",(function(){core.Hc(_r17);const item_r15=ctx.$implicit;return core.lc().addData(item_r15)})),core.Yb(),core.Yb()}if(2&rf){const item_r15=ctx.$implicit;core.tc(\"id\",item_r15.value),core.Eb(1),core.Uc(\"\",item_r15.label,\" \")}}function ContactExportComponent_div_41_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.noDataAvailable\")))}function ContactExportComponent_div_53_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"div\",36),core.Sc(1),core.Zb(2,\"i\",39),core.hc(\"click\",(function(){core.Hc(_r21);const i_r19=ctx.index;return core.lc().removeData(i_r19)})),core.Yb(),core.Yb()}if(2&rf){const item_r18=ctx.$implicit;core.tc(\"id\",item_r18.value),core.Eb(1),core.Uc(\"\",item_r18.label,\" \")}}function ContactExportComponent_div_54_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",38),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.noDataAvailable\")))}const contact_export_component_c1=function(a0){return[a0]};let contact_export_component_ContactExportComponent=(()=>{class ContactExportComponent{constructor(translate,http,notify,data,sortPipe,localStorage,headerService){this.translate=translate,this.http=http,this.notify=notify,this.data=data,this.sortPipe=sortPipe,this.localStorage=localStorage,this.headerService=headerService,this.loading=!1,this.loadingExport=!1,this.delimiters=[\";\",\",\",\"TAB\"],this.formats=[\"csv\"],this.exportModel={delimiter:\";\",format:\"csv\",data:[]},this.dataAvailable=[{value:\"id\",label:this.translate.instant(\"lang.id\")},{value:\"externalId\",label:\"External Id\"},{value:\"enabled\",label:this.translate.instant(\"lang.status\")},{value:\"communicationMeans\",label:this.translate.instant(\"lang.communicationMean\")}]}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){yield this.getContactFields(),this.setConfiguration()}))}getContactFields(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/contactsParameters\").pipe(Object(map.a)(data=>{const regex=/contactCustomField_[.]*/g;return data.contactsParameters=data.contactsParameters.filter(field=>null===field.identifier.match(regex)).map(field=>({value:field.identifier,label:this.translate.instant(\"lang.contactsParameters_\"+field.identifier)})),data.contactsParameters}),Object(tap.a)(fields=>{this.dataAvailable=this.dataAvailable.concat(fields)}),Object(exhaustMap.a)(()=>this.http.get(\"../rest/contactsCustomFields\")),Object(map.a)(data=>(data.customFields=data.customFields.map(field=>({value:\"contactCustomField_\"+field.id,label:field.label})),data.customFields)),Object(tap.a)(fields=>{this.dataAvailable=this.dataAvailable.concat(fields),this.dataAvailable=this.sortPipe.transform(this.dataAvailable,\"label\"),resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}drop(event){if(event.previousContainer===event.container)Object(drag_drop.h)(event.container.data,event.previousIndex,event.currentIndex);else{let realIndex=event.previousIndex;if(\"selectedElements\"===event.container.id&&(realIndex=0,void 0!==$(\".available-data .columns\")[event.previousIndex])){const fakeIndex=$(\".available-data .columns\")[event.previousIndex].id;realIndex=this.dataAvailable.map(dataAv=>dataAv.value).indexOf(fakeIndex)}Object(drag_drop.i)(event.previousContainer.data,event.container.data,realIndex,event.currentIndex);const curFilter=this.listFilter.nativeElement.value;this.listFilter.nativeElement.value=\"\",setTimeout(()=>{this.listFilter.nativeElement.value=curFilter},10)}}exportData(){this.localStorage.save(\"exportContactFields_\"+this.headerService.user.id,JSON.stringify(this.exportModel)),this.loadingExport=!0,this.http.put(\"../rest/contacts/export\",this.exportModel,{responseType:\"blob\"}).pipe(Object(tap.a)(data=>{if(\"text/html\"!==data.type){const downloadLink=document.createElement(\"a\");let today,dd,mm,yyyy;downloadLink.href=window.URL.createObjectURL(data),today=new Date,dd=today.getDate(),mm=today.getMonth()+1,yyyy=today.getFullYear(),dd<10&&(dd=\"0\"+dd),mm<10&&(mm=\"0\"+mm),today=dd+\"-\"+mm+\"-\"+yyyy,downloadLink.setAttribute(\"download\",\"export_contact_maarch_\"+today+\".\"+this.exportModel.format.toLowerCase()),document.body.appendChild(downloadLink),downloadLink.click()}else alert(this.translate.instant(\"lang.tooMuchDatas\"))}),Object(finalize.a)(()=>this.loadingExport=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}addData(item){let realIndex=0;this.dataAvailable.forEach((value,index)=>{value.value===item.value&&(realIndex=index)}),Object(drag_drop.i)(this.dataAvailable,this.exportModel.data,realIndex,this.exportModel.data.length);const curFilter=this.listFilter.nativeElement.value;this.listFilter.nativeElement.value=\"\",setTimeout(()=>{this.listFilter.nativeElement.value=curFilter},10)}removeData(i){Object(drag_drop.i)(this.exportModel.data,this.dataAvailable,i,this.dataAvailable.length),this.sortPipe.transform(this.dataAvailable,\"label\")}removeAllData(){this.dataAvailable=this.dataAvailable.concat(this.exportModel.data),this.exportModel.data=[]}addAllData(){for(this.exportModel.data=this.exportModel.data.concat(this.dataAvailable);this.dataAvailable.length>0;)this.dataAvailable.pop();this.listFilter.nativeElement.value=\"\"}setConfiguration(){null!==this.localStorage.get(\"exportContactFields_\"+this.headerService.user.id)&&(JSON.parse(this.localStorage.get(\"exportContactFields_\"+this.headerService.user.id)).data.forEach(element=>{this.addData(element)}),this.exportModel.delimiter=JSON.parse(this.localStorage.get(\"exportContactFields_\"+this.headerService.user.id)).delimiter)}}return ContactExportComponent.ɵfac=function(t){return new(t||ContactExportComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.a),core.Tb(sorting_pipe.a),core.Tb(local_storage_service.a),core.Tb(header_service.a))},ContactExportComponent.ɵcmp=core.Nb({type:ContactExportComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(contact_export_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.listFilter=_t.first)},features:[core.Db([sorting_pipe.a])],decls:63,vars:62,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\"],[\"class\",\"loader\",4,\"ngIf\"],[1,\"row\"],[\"appearance\",\"outline\"],[3,\"placeholder\",\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"col-md-9\",4,\"ngIf\"],[3,\"expanded\"],[1,\"col-md-12\"],[\"appearance\",\"outline\",1,\"listFilter\"],[\"matInput\",\"\",\"cdkFocusInitial\",\"\",3,\"placeholder\"],[\"listFilter\",\"\"],[1,\"row\",\"exportList\"],[1,\"col-md-6\",\"available-data\"],[1,\"title\"],[\"color\",\"primary\",1,\"fa\",\"fa-plus-circle\",\"removeAllDatas\",3,\"title\",\"click\"],[\"id\",\"availableElements\",\"cdkDropList\",\"\",1,\"cdk-list\",3,\"cdkDropListData\",\"cdkDropListConnectedTo\",\"cdkDropListDropped\"],[\"dataAvailableList\",\"cdkDropList\"],[\"class\",\"columns\",\"cdkDrag\",\"\",3,\"id\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"noData\",4,\"ngIf\"],[2,\"display\",\"flex\",\"align-items\",\"center\"],[1,\"fas\",\"fa-arrow-right\"],[1,\"col-md-6\",\"active-data\"],[\"color\",\"warn\",1,\"fa\",\"fa-minus-circle\",\"removeAllDatas\",3,\"title\",\"click\"],[\"id\",\"selectedElements\",\"cdkDropList\",\"\",1,\"cdk-list\",3,\"cdkDropListData\",\"cdkDropListConnectedTo\",\"cdkDropListDropped\"],[\"dataExportList\",\"cdkDropList\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"mat-dialog-close\"],[1,\"loader\"],[3,\"value\"],[1,\"col-md-9\"],[3,\"placeholder\",\"ngModel\",\"disabled\",\"ngModelChange\"],[\"cdkDrag\",\"\",1,\"columns\",3,\"id\"],[\"color\",\"primary\",1,\"fa\",\"fa-plus\",2,\"cursor\",\"pointer\",3,\"click\"],[1,\"noData\"],[\"color\",\"warn\",1,\"fa\",\"fa-minus\",2,\"cursor\",\"pointer\",3,\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",2),core.Qc(5,ContactExportComponent_div_5_Template,2,0,\"div\",3),core.Zb(6,\"div\",4),core.Zb(7,\"div\"),core.Zb(8,\"mat-form-field\",5),core.Zb(9,\"mat-label\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Zb(12,\"mat-select\",6),core.hc(\"ngModelChange\",(function($event){return ctx.exportModel.format=$event})),core.mc(13,\"translate\"),core.Qc(14,ContactExportComponent_mat_option_14_Template,2,2,\"mat-option\",7),core.Yb(),core.Yb(),core.Yb(),core.Qc(15,ContactExportComponent_div_15_Template,8,9,\"div\",8),core.Yb(),core.Zb(16,\"mat-accordion\"),core.Zb(17,\"mat-expansion-panel\",9),core.Zb(18,\"mat-expansion-panel-header\"),core.Zb(19,\"mat-panel-title\"),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Yb(),core.Zb(22,\"div\",4),core.Zb(23,\"div\",10),core.Zb(24,\"mat-form-field\",11),core.Ub(25,\"input\",12,13),core.mc(27,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Zb(28,\"div\",14),core.Zb(29,\"div\",15),core.Zb(30,\"h2\"),core.Zb(31,\"span\",16),core.Sc(32),core.mc(33,\"translate\"),core.Yb(),core.Zb(34,\"i\",17),core.hc(\"click\",(function(){return ctx.addAllData()})),core.mc(35,\"translate\"),core.Yb(),core.Yb(),core.Zb(36,\"div\",18,19),core.hc(\"cdkDropListDropped\",(function($event){return ctx.drop($event)})),core.Qc(38,ContactExportComponent_div_38_Template,3,2,\"div\",20),core.mc(39,\"filterList\"),core.mc(40,\"sortBy\"),core.Qc(41,ContactExportComponent_div_41_Template,3,3,\"div\",21),core.Yb(),core.Yb(),core.Zb(42,\"div\",22),core.Ub(43,\"i\",23),core.Yb(),core.Zb(44,\"div\",24),core.Zb(45,\"h2\"),core.Zb(46,\"span\",16),core.Sc(47),core.mc(48,\"translate\"),core.Yb(),core.Zb(49,\"i\",25),core.hc(\"click\",(function(){return ctx.removeAllData()})),core.mc(50,\"translate\"),core.Yb(),core.Yb(),core.Zb(51,\"div\",26,27),core.hc(\"cdkDropListDropped\",(function($event){return ctx.drop($event)})),core.Qc(53,ContactExportComponent_div_53_Template,3,2,\"div\",20),core.Qc(54,ContactExportComponent_div_54_Template,3,3,\"div\",21),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(55,\"span\",28),core.Zb(56,\"div\",29),core.Zb(57,\"button\",30),core.hc(\"click\",(function(){return ctx.exportData()})),core.Sc(58),core.mc(59,\"translate\"),core.Yb(),core.Zb(60,\"button\",31),core.Sc(61),core.mc(62,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r3=core.Dc(26),_r4=core.Dc(37),_r7=core.Dc(52);core.Eb(2),core.Tc(core.nc(3,29,\"lang.exportDatas\")),core.Eb(3),core.sc(\"ngIf\",ctx.loadingExport),core.Eb(2),core.Jb(\"col-md-12\",\"csv\"!=ctx.exportModel.format)(\"col-md-3\",\"csv\"==ctx.exportModel.format),core.Eb(3),core.Tc(core.nc(11,31,\"lang.format\")),core.Eb(2),core.tc(\"placeholder\",core.nc(13,33,\"lang.format\")),core.sc(\"ngModel\",ctx.exportModel.format),core.Eb(2),core.sc(\"ngForOf\",ctx.formats),core.Eb(1),core.sc(\"ngIf\",\"csv\"==ctx.exportModel.format),core.Eb(2),core.sc(\"expanded\",!0),core.Eb(3),core.Uc(\" \",core.nc(21,35,\"lang.datasToExport\"),\" \"),core.Eb(5),core.tc(\"placeholder\",core.nc(27,37,\"lang.searchDatas\")),core.Eb(7),core.Tc(core.nc(33,39,\"lang.availableDatas\")),core.Eb(2),core.tc(\"title\",core.nc(35,41,\"lang.addAllData\")),core.Eb(2),core.sc(\"cdkDropListData\",ctx.dataAvailable)(\"cdkDropListConnectedTo\",core.zc(58,contact_export_component_c1,_r7)),core.Eb(2),core.sc(\"ngForOf\",core.pc(39,43,core.oc(40,47,ctx.dataAvailable,\"label\"),_r3.value,\"label\")),core.Eb(3),core.sc(\"ngIf\",0==ctx.dataAvailable.length),core.Eb(6),core.Tc(core.nc(48,50,\"lang.chosenDatas\")),core.Eb(2),core.tc(\"title\",core.nc(50,52,\"lang.removeAllDatas\")),core.Eb(2),core.sc(\"cdkDropListData\",ctx.exportModel.data)(\"cdkDropListConnectedTo\",core.zc(60,contact_export_component_c1,_r4)),core.Eb(2),core.sc(\"ngForOf\",ctx.exportModel.data),core.Eb(1),core.sc(\"ngIf\",0==ctx.exportModel.data.length),core.Eb(3),core.sc(\"disabled\",0==ctx.exportModel.data.length),core.Eb(1),core.Tc(core.nc(59,54,\"lang.toExport\")),core.Eb(3),core.Tc(core.nc(62,56,\"lang.cancel\"))}},directives:[fesm2015_dialog.i,fesm2015_dialog.f,common.t,form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,expansion.a,expansion.c,expansion.g,expansion.h,input.b,drag_drop.e,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,progress_spinner.c,fesm2015_core.o,drag_drop.a],pipes:[ngx_translate_core.d,filterList_pipe.a,sorting_pipe.a],styles:[\".mat-dialog-container{position:relative}.mat-dialog-content[_ngcontent-%COMP%]{padding-bottom:10px;overflow-x:hidden} .mat-expansion-panel-body{padding-bottom:50px}.mat-expansion-panel-header[_ngcontent-%COMP%], .noData[_ngcontent-%COMP%]{opacity:.5}.noData[_ngcontent-%COMP%]{text-align:center}.removeAllDatas[_ngcontent-%COMP%]{float:right;font-size:14px;opacity:1;cursor:pointer;margin-right:10px}.listFilter[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-20px}.exportList[_ngcontent-%COMP%]{display:flex}.exportList[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{float:left;height:20px;font-size:10px;font-weight:700;opacity:.5}.exportList[_ngcontent-%COMP%]   .cdk-list[_ngcontent-%COMP%]{height:100%}.cdk-list[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;display:block;border-radius:4px;max-height:310px;min-height:310px;overflow:auto}.cdk-list[_ngcontent-%COMP%], .columns[_ngcontent-%COMP%]{width:100%;background:#fff}.columns[_ngcontent-%COMP%]{height:50px;padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}\"]}),ContactExportComponent})();var papaparse_min=__webpack_require__(\"NpuA\");let ngx_papaparse_Papa=(()=>{let Papa=class{constructor(){this._papa=papaparse_min}parse(csv,config){return this._papa.parse(csv,config)}unparse(data,config){return this._papa.unparse(data,config)}setLocalChunkSize(value){this._papa.LocalChunkSize=value}setRemoteChunkSize(value){this._papa.RemoteChunkSize=value}setDefaultDelimiter(value){this._papa.DefaultDelimiter=value}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};return Papa.ɵfac=function(t){return new(t||Papa)},Papa.ɵprov=Object(core.Pb)({factory:function(){return new Papa},token:Papa,providedIn:\"root\"}),Papa})();function ContactImportComponent_ng_container_28_Template(rf,ctx){1&rf&&(core.Xb(0),core.Zb(1,\"div\",18),core.Ub(2,\"mat-spinner\"),core.Yb(),core.Wb())}function ContactImportComponent_ng_template_29_div_2_mat_option_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",34),core.Sc(1),core.Yb()),2&rf){const delimiter_r9=ctx.$implicit;core.sc(\"value\",delimiter_r9),core.Eb(1),core.Uc(\" \",\"\\t\"===delimiter_r9?\"TAB\":delimiter_r9,\" \")}}function ContactImportComponent_ng_template_29_div_2_Template(rf,ctx){if(1&rf){const _r11=core.ac();core.Zb(0,\"div\",30),core.hc(\"click\",(function(){return core.Hc(_r11),core.lc(),core.Dc(1).click()}))(\"onFileDropped\",(function($event){return core.Hc(_r11),core.lc(2).dndUploadFile($event)})),core.Zb(1,\"div\"),core.Sc(2),core.mc(3,\"translate\"),core.Zb(4,\"mat-form-field\",31),core.hc(\"click\",(function($event){return core.Hc(_r11),$event.stopPropagation()})),core.Zb(5,\"mat-label\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Zb(8,\"mat-select\",32),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r11),core.lc(2).currentDelimiter=$event}))(\"click\",(function($event){return core.Hc(_r11),$event.stopPropagation()})),core.Qc(9,ContactImportComponent_ng_template_29_div_2_mat_option_9_Template,2,2,\"mat-option\",33),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r5=core.lc(2);core.Eb(2),core.Uc(\" \",core.nc(3,4,\"lang.dndFileCsvDesc\"),\" \"),core.Eb(4),core.Tc(core.nc(7,6,\"lang.delimiter\")),core.Eb(2),core.sc(\"ngModel\",ctx_r5.currentDelimiter),core.Eb(1),core.sc(\"ngForOf\",ctx_r5.delimiters)}}function ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_header_cell_2_mat_option_17_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",34),core.Sc(1),core.Yb()),2&rf){const col_r25=ctx.$implicit;core.sc(\"value\",col_r25),core.Eb(1),core.Uc(\" \",col_r25,\" \")}}function ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_header_cell_2_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Zb(0,\"mat-header-cell\",43),core.Ub(1,\"i\",44),core.mc(2,\"translate\"),core.Sc(3,\" \"),core.Zb(4,\"b\",45),core.mc(5,\"translate\"),core.Sc(6),core.Yb(),core.Sc(7,\"  \"),core.Ub(8,\"i\",46),core.Sc(9,\"  \"),core.Ub(10,\"i\",47),core.mc(11,\"translate\"),core.Sc(12,\"  \"),core.Zb(13,\"mat-form-field\",48),core.hc(\"click\",(function($event){return core.Hc(_r27),$event.stopPropagation()})),core.mc(14,\"translate\"),core.Zb(15,\"mat-select\",49),core.hc(\"ngModelChange\",(function($event){core.Hc(_r27);const column_r20=core.lc().$implicit;return core.lc(3).associatedColmuns[column_r20.id]=$event}))(\"selectionChange\",(function($event){core.Hc(_r27);const column_r20=core.lc().$implicit;return core.lc(3).changeColumn(column_r20,$event.value)})),core.Ub(16,\"mat-option\",50),core.Qc(17,ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_header_cell_2_mat_option_17_Template,2,2,\"mat-option\",33),core.Yb(),core.Yb(),core.Zb(18,\"mat-checkbox\",51),core.hc(\"change\",(function($event){core.Hc(_r27);const column_r20=core.lc().$implicit;return core.lc(3).toggleEmptyMode(column_r20.id,$event.checked)})),core.mc(19,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const column_r20=core.lc().$implicit,ctx_r22=core.lc(3);core.Eb(1),core.sc(\"title\",core.nc(2,8,\"lang.dbColumn\")),core.Eb(3),core.sc(\"title\",core.nc(5,10,\"lang.dbColumn\")),core.Eb(2),core.Tc(column_r20.label),core.Eb(4),core.sc(\"title\",core.nc(11,12,\"lang.csvColumn\")),core.Eb(3),core.sc(\"title\",core.nc(14,14,\"lang.csvColumn\")),core.Eb(2),core.sc(\"ngModel\",ctx_r22.associatedColmuns[column_r20.id]),core.Eb(2),core.sc(\"ngForOf\",ctx_r22.csvColumns),core.Eb(1),core.sc(\"title\",core.nc(19,16,\"lang.toggleEmptyValues\"))}}function ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_cell_3_ng_container_1_Template(rf,ctx){1&rf&&(core.Xb(0),core.Zb(1,\"i\",52),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Wb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,1,\"lang.emptyValue\")))}function ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_cell_3_ng_template_2_Template(rf,ctx){if(1&rf&&core.Sc(0),2&rf){const element_r35=core.lc().$implicit,column_r20=core.lc().$implicit;core.Uc(\" \",element_r35[column_r20.id],\" \")}}function ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_cell_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",43),core.Qc(1,ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_cell_3_ng_container_1_Template,4,3,\"ng-container\",12),core.Qc(2,ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_cell_3_ng_template_2_Template,1,1,\"ng-template\",null,13,core.Rc),core.Yb()),2&rf){const element_r35=ctx.$implicit,_r37=core.Dc(3),column_r20=core.lc().$implicit,ctx_r23=core.lc(3);core.Eb(1),core.sc(\"ngIf\",column_r20.emptyValueMode&&ctx_r23.functionsService.empty(element_r35[column_r20.id]))(\"ngIfElse\",_r37)}}function ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Xb(1,40),core.Qc(2,ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_header_cell_2_Template,20,18,\"mat-header-cell\",41),core.Qc(3,ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_mat_cell_3_Template,4,2,\"mat-cell\",42),core.Wb(),core.Wb()),2&rf){const column_r20=ctx.$implicit;core.Eb(1),core.sc(\"matColumnDef\",column_r20.id)}}function ContactImportComponent_ng_template_29_mat_table_9_mat_header_row_3_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ContactImportComponent_ng_template_29_mat_table_9_mat_row_4_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\")}function ContactImportComponent_ng_template_29_mat_table_9_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-table\",35,36),core.Qc(2,ContactImportComponent_ng_template_29_mat_table_9_ng_container_2_Template,4,1,\"ng-container\",37),core.Qc(3,ContactImportComponent_ng_template_29_mat_table_9_mat_header_row_3_Template,1,0,\"mat-header-row\",38),core.Qc(4,ContactImportComponent_ng_template_29_mat_table_9_mat_row_4_Template,1,0,\"mat-row\",39),core.Yb()),2&rf){const ctx_r7=core.lc(2);core.Pc(\"width\",300*ctx_r7.contactColumns.length,\"px\"),core.sc(\"dataSource\",ctx_r7.dataSource),core.Eb(2),core.sc(\"ngForOf\",ctx_r7.contactColumns),core.Eb(1),core.sc(\"matHeaderRowDef\",ctx_r7.getcontactColumnsIds()),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r7.getcontactColumnsIds())}}function ContactImportComponent_ng_template_29_Template(rf,ctx){if(1&rf){const _r44=core.ac();core.Zb(0,\"input\",19,20),core.hc(\"change\",(function($event){return core.Hc(_r44),core.lc().uploadCsv($event)})),core.Yb(),core.Qc(2,ContactImportComponent_ng_template_29_div_2_Template,10,8,\"div\",21),core.Zb(3,\"div\",22),core.Zb(4,\"div\",23),core.Ub(5,\"mat-paginator\",24,25),core.Yb(),core.Yb(),core.Zb(7,\"div\",26),core.Zb(8,\"div\",27),core.Qc(9,ContactImportComponent_ng_template_29_mat_table_9_Template,5,6,\"mat-table\",28),core.Yb(),core.Yb(),core.Ub(10,\"div\",29),core.mc(11,\"translate\"),core.Ub(12,\"div\",29),core.mc(13,\"translate\")}if(2&rf){const ctx_r2=core.lc();core.Eb(2),core.sc(\"ngIf\",0===ctx_r2.csvData.length),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(4),core.sc(\"ngIf\",ctx_r2.csvData.length>0),core.Eb(1),core.sc(\"innerHTML\",core.nc(11,7,\"lang.infoImportcontacts\"),core.Ic),core.Eb(2),core.sc(\"innerHTML\",core.nc(13,9,\"lang.infoImportcontacts2\"),core.Ic)}}function ContactImportComponent_button_33_Template(rf,ctx){if(1&rf){const _r46=core.ac();core.Zb(0,\"button\",53),core.hc(\"click\",(function(){return core.Hc(_r46),core.lc().onSubmit()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.sc(\"disabled\",ctx_r3.loading),core.Eb(1),core.Tc(core.nc(2,2,\"lang.validate\"))}}let contact_import_component_ContactImportComponent=(()=>{class ContactImportComponent{constructor(translate,http,notify,functionsService,localStorage,headerService,dialog,dialogRef,papa,data){this.translate=translate,this.http=http,this.notify=notify,this.functionsService=functionsService,this.localStorage=localStorage,this.headerService=headerService,this.dialog=dialog,this.dialogRef=dialogRef,this.papa=papa,this.data=data,this.loading=!1,this.contactColumns=[{id:\"id\",label:this.translate.instant(\"lang.id\"),emptyValueMode:!1},{id:\"company\",label:this.translate.instant(\"lang.contactsParameters_company\"),emptyValueMode:!1},{id:\"civility\",label:this.translate.instant(\"lang.contactsParameters_civility\"),emptyValueMode:!1},{id:\"firstname\",label:this.translate.instant(\"lang.contactsParameters_firstname\"),emptyValueMode:!1},{id:\"lastname\",label:this.translate.instant(\"lang.contactsParameters_lastname\"),emptyValueMode:!1},{id:\"function\",label:this.translate.instant(\"lang.contactsParameters_function\"),emptyValueMode:!1},{id:\"department\",label:this.translate.instant(\"lang.contactsParameters_department\"),emptyValueMode:!1},{id:\"email\",label:this.translate.instant(\"lang.contactsParameters_email\"),emptyValueMode:!1},{id:\"phone\",label:this.translate.instant(\"lang.contactsParameters_phone\"),emptyValueMode:!1},{id:\"addressAdditional1\",label:this.translate.instant(\"lang.contactsParameters_addressAdditional1\"),emptyValueMode:!1},{id:\"addressNumber\",label:this.translate.instant(\"lang.contactsParameters_addressNumber\"),emptyValueMode:!1},{id:\"addressStreet\",label:this.translate.instant(\"lang.contactsParameters_addressStreet\"),emptyValueMode:!1},{id:\"addressAdditional2\",label:this.translate.instant(\"lang.contactsParameters_addressAdditional2\"),emptyValueMode:!1},{id:\"addressPostcode\",label:this.translate.instant(\"lang.contactsParameters_addressPostcode\"),emptyValueMode:!1},{id:\"addressTown\",label:this.translate.instant(\"lang.contactsParameters_addressTown\"),emptyValueMode:!1},{id:\"addressCountry\",label:this.translate.instant(\"lang.contactsParameters_addressCountry\"),emptyValueMode:!1}],this.csvColumns=[],this.delimiters=[\";\",\",\",\"\\t\"],this.currentDelimiter=\";\",this.associatedColmuns={},this.dataSource=new table.o(null),this.hasHeader=!0,this.csvData=[],this.contactData=[],this.countAll=0,this.countAdd=0,this.countUp=0}ngOnInit(){this.setConfiguration(),this.initCustomFields()}getcontactColumnsIds(){return this.contactColumns.map(col=>col.id)}initCustomFields(){this.http.get(\"../rest/contactsCustomFields\").pipe(Object(map.a)(data=>data.customFields.map(custom=>({id:\"contactCustomField_\"+custom.id,label:custom.label,type:custom.type}))),Object(tap.a)(customFields=>{this.contactColumns=this.contactColumns.concat(customFields)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}toggleEmptyMode(id,state){this.contactColumns.filter(col=>col.id===id)[0].emptyValueMode=state}changeColumn(coldb,colCsv){this.contactData=[];for(let index=this.hasHeader?1:0;index<this.csvData.length;index++){const data=this.csvData[index],objContact={};this.contactColumns.forEach(key=>{objContact[key.id]=coldb===key.id?data[this.csvColumns.filter(col=>col===colCsv)[0]]:data[this.associatedColmuns[key.id]]}),this.contactData.push(objContact)}this.countAdd=this.csvData.filter((data,index)=>index>0&&this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>index>0&&!this.functionsService.empty(data[this.associatedColmuns.id])).length,setTimeout(()=>{this.dataSource=new table.o(this.contactData),this.dataSource.paginator=this.paginator},0)}uploadCsv(fileInput){if(fileInput.target.files&&fileInput.target.files[0]&&(\"text/csv\"===fileInput.target.files[0].type||\"application/vnd.ms-excel\"===fileInput.target.files[0].type)){this.loading=!0;let rawCsv=[];const reader=new FileReader;reader.readAsText(fileInput.target.files[0]),reader.onload=value=>{this.papa.parse(value.target.result,{complete:result=>{rawCsv=result.data,rawCsv=rawCsv.filter(data=>data.length===rawCsv[0].length);let dataCol=[],objData={};this.setCsvColumns(rawCsv[0]),this.countAll=this.hasHeader?rawCsv.length-1:rawCsv.length;for(let index=0;index<rawCsv.length;index++)objData={},dataCol=rawCsv[index],dataCol.forEach((element,index2)=>{objData[this.csvColumns[index2]]=element}),this.csvData.push(objData);this.initData(),this.countAdd=this.csvData.filter((data,index)=>index>0&&this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>index>0&&!this.functionsService.empty(data[this.associatedColmuns.id])).length,this.localStorage.save(\"importContactFields_\"+this.headerService.user.id,this.currentDelimiter),this.loading=!1}})}}else this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.notAllowedExtension\")+\" !\",msg:this.translate.instant(\"lang.file\")+\" : <b>\"+fileInput.target.files[0].name+\"</b>, \"+this.translate.instant(\"lang.type\")+\" : <b>\"+fileInput.target.files[0].type+\"</b><br/><br/><u>\"+this.translate.instant(\"lang.allowedExtensions\")+\"</u> : <br/>text/csv\"}})}setCsvColumns(headerData=null){this.csvColumns=headerData.filter(col=>this.functionsService.empty(col)).length>0?Object.keys(headerData).map((val,index)=>\"\"+index):headerData}toggleHeader(){this.hasHeader=!this.hasHeader,this.countAll=this.hasHeader?this.csvData.length-1:this.csvData.length,this.hasHeader?(this.countAdd=this.csvData.filter((data,index)=>index>0&&this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>index>0&&!this.functionsService.empty(data[this.associatedColmuns.id])).length):(this.countAdd=this.csvData.filter((data,index)=>this.functionsService.empty(data[this.associatedColmuns.id])).length,this.countUp=this.csvData.filter((data,index)=>!this.functionsService.empty(data[this.associatedColmuns.id])).length),this.initData()}initData(){this.contactData=[];for(let index=this.hasHeader?1:0;index<this.csvData.length;index++){const data=this.csvData[index],objContact={};this.contactColumns.forEach((key,indexCol)=>{const indexCsvCol=this.csvColumns.indexOf(key.label);this.associatedColmuns[key.id]=indexCsvCol>-1?this.csvColumns[indexCsvCol]:\"\",objContact[key.id]=indexCsvCol>-1?data[this.csvColumns[indexCsvCol]]:\"\"}),this.contactData.push(objContact)}setTimeout(()=>{this.dataSource=new table.o(this.contactData),this.dataSource.paginator=this.paginator},0)}dndUploadFile(event){this.uploadCsv({target:{files:[event[0]]}})}onSubmit(){const dataToSend=[];let confirmText=\"\";this.translate.get(\"lang.confirmImportContacts\",{0:this.countAll}).subscribe(res=>{confirmText=res+\" ?<br/><br/>\",confirmText+=`<ul><li><b>${this.countAdd}</b> ${this.translate.instant(\"lang.additions\")}</li><li><b>${this.countUp}</b> ${this.translate.instant(\"lang.modifications\")}</li></ul>`});let dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.import\"),msg:confirmText}});dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(tap.a)(()=>{this.loading=!0,this.csvData.forEach((element,index)=>{if(this.hasHeader&&index>0||!this.hasHeader){const objContact={};this.contactColumns.forEach(key=>{objContact[key.id]=(!key.emptyValueMode||void 0!==element[this.associatedColmuns[key.id]]&&!this.functionsService.empty(element[this.associatedColmuns[key.id]]))&&(void 0===element[this.associatedColmuns[key.id]]?\"\":\"checkbox\"===key.type?this.functionsService.empty(element[this.associatedColmuns[key.id]])?[]:element[this.associatedColmuns[key.id]].split(\"\\n\"):element[this.associatedColmuns[key.id]])}),dataToSend.push(objContact)}})}),Object(exhaustMap.a)(()=>this.http.put(\"../rest/contacts/import\",{contacts:dataToSend})),Object(tap.a)(data=>{let textModal=\"\";data.errors.count>0&&(textModal+=`<br/>${data.errors.count} ${this.translate.instant(\"lang.withErrors\")}  : <ul>`,data.errors.details.forEach(element=>{textModal+=`<li> ${this.translate.instant(\"lang.\"+element.lang,{0:element.langParam})} (${this.translate.instant(\"lang.line\")} : ${this.hasHeader?element.index+2:element.index+1})</li>`}),textModal+=\"</ul>\"),dialogRef=this.dialog.open(alert_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.import\"),msg:\"<b>\"+data.success+\"</b> / <b>\"+this.countAll+\"</b> \"+this.translate.instant(\"lang.importedContacts\")+\".\"+textModal}})}),Object(exhaustMap.a)(()=>dialogRef.afterClosed()),Object(tap.a)(()=>{this.dialogRef.close(\"success\")}),Object(catchError.a)(err=>(this.loading=!1,this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}setConfiguration(){null!==this.localStorage.get(\"importContactFields_\"+this.headerService.user.id)&&(this.currentDelimiter=this.localStorage.get(\"importContactFields_\"+this.headerService.user.id))}}return ContactImportComponent.ɵfac=function(t){return new(t||ContactImportComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(functions_service.a),core.Tb(local_storage_service.a),core.Tb(header_service.a),core.Tb(fesm2015_dialog.b),core.Tb(fesm2015_dialog.h),core.Tb(ngx_papaparse_Papa),core.Tb(fesm2015_dialog.a))},ContactImportComponent.ɵcmp=core.Nb({type:ContactImportComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.ad(fesm2015_paginator.a,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.paginator=_t.first)},decls:37,vars:28,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"mat-dialog-content\",\"\"],[1,\"import-tool\"],[2,\"flex\",\"1\"],[\"color\",\"primary\",3,\"checked\",\"change\"],[2,\"flex\",\"1\",\"text-align\",\"center\"],[\"color\",\"primary\",1,\"fa\",\"fa-users\"],[\"color\",\"primary\"],[\"color\",\"primary\",1,\"fa\",\"fa-user-plus\"],[2,\"flex\",\"1\",\"text-align\",\"right\"],[\"color\",\"primary\",1,\"fa\",\"fa-user-edit\"],[4,\"ngIf\",\"ngIfElse\"],[\"elseTemplate\",\"\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"disabled\",\"mat-dialog-close\"],[1,\"loader\"],[\"type\",\"file\",\"name\",\"files[]\",\"id\",\"uploadFile\",\"accept\",\".csv\",2,\"display\",\"none\",3,\"change\"],[\"uploadFile\",\"\"],[\"appUploadFileDragDrop\",\"\",\"class\",\"dndFile\",3,\"click\",\"onFileDropped\",4,\"ngIf\"],[1,\"row\",2,\"margin\",\"0px\"],[1,\"col-md-12\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[2,\"width\",\"100%\",\"box-shadow\",\"inset 0px 0px 5px 0px rgba(0,0,0,0.75)\",\"padding\",\"10px\"],[2,\"overflow\",\"auto\"],[3,\"dataSource\",\"width\",4,\"ngIf\"],[1,\"alert-message\",\"alert-message-info\",2,\"min-width\",\"100%\",3,\"innerHTML\"],[\"appUploadFileDragDrop\",\"\",1,\"dndFile\",3,\"click\",\"onFileDropped\"],[\"appearance\",\"outline\",2,\"font-size\",\"14px\",3,\"click\"],[3,\"ngModel\",\"ngModelChange\",\"click\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[3,\"dataSource\"],[\"table\",\"\"],[4,\"ngFor\",\"ngForOf\"],[4,\"matHeaderRowDef\"],[4,\"matRowDef\",\"matRowDefColumns\"],[3,\"matColumnDef\"],[\"style\",\"padding-left: 5px;padding-right: 5px;\",4,\"matHeaderCellDef\"],[\"style\",\"padding-left: 5px;padding-right: 5px;\",4,\"matCellDef\"],[2,\"padding-left\",\"5px\",\"padding-right\",\"5px\"],[\"color\",\"primary\",1,\"fas\",\"fa-database\",3,\"title\"],[\"color\",\"primary\",3,\"title\"],[1,\"fas\",\"fa-arrows-alt-h\"],[1,\"fas\",\"fa-file-csv\",3,\"title\"],[2,\"width\",\"80px !important\",3,\"title\",\"click\"],[3,\"ngModel\",\"ngModelChange\",\"selectionChange\"],[\"value\",\"\"],[\"color\",\"primary\",3,\"title\",\"change\"],[2,\"opacity\",\"0.5\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"div\",2),core.Zb(5,\"mat-toolbar\",3),core.Zb(6,\"span\",4),core.Zb(7,\"mat-slide-toggle\",5),core.hc(\"change\",(function(){return ctx.toggleHeader()})),core.Sc(8),core.mc(9,\"translate\"),core.Yb(),core.Yb(),core.Zb(10,\"span\",6),core.Ub(11,\"i\",7),core.Sc(12),core.mc(13,\"translate\"),core.Zb(14,\"b\",8),core.Sc(15),core.Yb(),core.Yb(),core.Zb(16,\"span\",6),core.Ub(17,\"i\",9),core.Sc(18),core.mc(19,\"translate\"),core.Zb(20,\"b\",8),core.Sc(21),core.Yb(),core.Yb(),core.Zb(22,\"span\",10),core.Ub(23,\"i\",11),core.Sc(24),core.mc(25,\"translate\"),core.Zb(26,\"b\",8),core.Sc(27),core.Yb(),core.Yb(),core.Yb(),core.Qc(28,ContactImportComponent_ng_container_28_Template,3,0,\"ng-container\",12),core.Qc(29,ContactImportComponent_ng_template_29_Template,14,11,\"ng-template\",null,13,core.Rc),core.Yb(),core.Ub(31,\"span\",14),core.Zb(32,\"div\",15),core.Qc(33,ContactImportComponent_button_33_Template,3,4,\"button\",16),core.Zb(34,\"button\",17),core.Sc(35),core.mc(36,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r1=core.Dc(30);core.Eb(2),core.Tc(core.nc(3,16,\"lang.importContacts\")),core.Eb(3),core.Jb(\"hide\",0===ctx.csvData.length||ctx.loading),core.Eb(2),core.sc(\"checked\",ctx.hasHeader),core.Eb(1),core.Uc(\" \",core.nc(9,18,\"lang.csvHeader\"),\" \"),core.Eb(4),core.Uc(\" \",core.nc(13,20,\"lang.contactsOfFile\"),\" : \"),core.Eb(3),core.Tc(ctx.countAll),core.Eb(3),core.Uc(\" \",core.nc(19,22,\"lang.additions\"),\" : \"),core.Eb(3),core.Tc(ctx.countAdd),core.Eb(3),core.Uc(\" \",core.nc(25,24,\"lang.modifications\"),\" : \"),core.Eb(3),core.Tc(ctx.countUp),core.Eb(1),core.sc(\"ngIf\",ctx.loading)(\"ngIfElse\",_r1),core.Eb(5),core.sc(\"ngIf\",ctx.csvData.length>0),core.Eb(1),core.sc(\"disabled\",ctx.loading),core.Eb(1),core.Tc(core.nc(36,26,\"lang.cancel\"))}},directives:[fesm2015_dialog.i,fesm2015_dialog.f,toolbar.a,slide_toggle.a,common.t,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,progress_spinner.c,fesm2015_paginator.a,upload_file_dnd_directive.a,form_field.c,form_field.g,fesm2015_select.a,fesm2015_forms.t,fesm2015_forms.w,common.s,fesm2015_core.o,table.n,table.k,table.m,table.c,table.i,table.b,table.h,fesm2015_checkbox.a,table.a,table.j,table.l],pipes:[ngx_translate_core.d],styles:[\".loader[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.hide[_ngcontent-%COMP%]{display:none}.import-tool[_ngcontent-%COMP%]{font-size:14px}.dndFile[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;margin:0;justify-content:center;font-size:30px;opacity:.5!important;cursor:pointer}\"]}),ContactImportComponent})();const contacts_list_administration_component_c0=[\"snav2\"],contacts_list_administration_component_c1=[\"adminMenuTemplate\"],contacts_list_administration_component_c2=[\"tableContactListSort\"];function ContactsListAdministrationComponent_ng_template_1_a_21_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",47),core.Ub(1,\"mat-icon\",48),core.Zb(2,\"p\",42),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r21=ctx.$implicit;core.Jb(\"active\",menu_r21.current),core.sc(\"routerLink\",menu_r21.route),core.Eb(1),core.Gb(menu_r21.icon),core.Eb(2),core.Uc(\" \",menu_r21.label,\" \")}}function ContactsListAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",39),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",40),core.Ub(5,\"mat-icon\",41),core.Zb(6,\"p\",42),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Zb(9,\"a\",43),core.hc(\"click\",(function(){return core.Hc(_r23),core.lc().openContactExport()})),core.Ub(10,\"mat-icon\",44),core.Zb(11,\"p\",42),core.Sc(12),core.mc(13,\"translate\"),core.Yb(),core.Yb(),core.Zb(14,\"a\",43),core.hc(\"click\",(function(){return core.Hc(_r23),core.lc().openContactImportModal()})),core.Ub(15,\"mat-icon\",45),core.Zb(16,\"p\",42),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(19,\"mat-divider\"),core.Zb(20,\"mat-nav-list\"),core.Qc(21,ContactsListAdministrationComponent_ng_template_1_a_21_Template,4,6,\"a\",46),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,5,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,7,\"lang.add\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(13,9,\"lang.exportContacts\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(18,11,\"lang.importContacts\"),\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactsListAdministrationComponent_div_13_mat_spinner_1_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-spinner\")}function ContactsListAdministrationComponent_div_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",49),core.Qc(1,ContactsListAdministrationComponent_div_13_mat_spinner_1_Template,1,0,\"mat-spinner\",50),core.Yb()),2&rf){const ctx_r2=core.lc();core.Eb(1),core.sc(\"ngIf\",ctx_r2.isLoadingResults)}}function ContactsListAdministrationComponent_mat_header_cell_26_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-header-cell\",51),2&rf){const ctx_r6=core.lc();core.Jb(\"hide-for-mobile\",ctx_r6.appService.getViewMode())}}function ContactsListAdministrationComponent_mat_cell_27_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",52),core.Ub(1,\"i\",53),core.Yb()),2&rf){const element_r26=ctx.$implicit,ctx_r7=core.lc();core.Jb(\"hide-for-mobile\",ctx_r7.appService.getViewMode()),core.Eb(1),core.Hb(\"fas fa-circle threshold_\",element_r26.filling.thresholdLevel,\"\"),core.sc(\"title\",ctx_r7.translate.instant(\"lang.contactFilledTo\")+\" \"+element_r26.filling.rate+\"%\")}}function ContactsListAdministrationComponent_mat_header_cell_29_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",54),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.firstname\")))}function ContactsListAdministrationComponent_mat_cell_30_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",55),core.Sc(1),core.Yb()),2&rf){const element_r27=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r27.firstname,\" \")}}function ContactsListAdministrationComponent_mat_header_cell_32_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",54),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.lastname\")))}function ContactsListAdministrationComponent_mat_cell_33_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r28=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r28.lastname,\" \")}}function ContactsListAdministrationComponent_mat_header_cell_35_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",54),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.contactsParameters_company\"),\" \"))}function ContactsListAdministrationComponent_mat_cell_36_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r29=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r29.company,\" \")}}function ContactsListAdministrationComponent_mat_header_cell_38_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",56),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r14=core.lc();core.Jb(\"hide-for-mobile\",ctx_r14.appService.getViewMode()),core.Eb(1),core.Uc(\" \",core.nc(2,3,\"lang.address\"),\"\")}}function ContactsListAdministrationComponent_mat_cell_39_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",56),core.Sc(1),core.Yb()),2&rf){const element_r30=ctx.$implicit,ctx_r15=core.lc();core.Jb(\"hide-for-mobile\",ctx_r15.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r30.formatedAddress,\" \")}}function ContactsListAdministrationComponent_mat_header_cell_41_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function ContactsListAdministrationComponent_mat_cell_42_button_1_Template(rf,ctx){if(1&rf){const _r35=core.ac();core.Zb(0,\"button\",62),core.hc(\"click\",(function($event){core.Hc(_r35);const element_r31=core.lc().$implicit,ctx_r34=core.lc();return $event.stopPropagation(),ctx_r34.toggleContact(element_r31)})),core.Ub(1,\"mat-icon\",63),core.Yb()}if(2&rf){const ctx_r32=core.lc(2);core.sc(\"title\",ctx_r32.translate.instant(\"lang.suspend\"))}}function ContactsListAdministrationComponent_mat_cell_42_button_2_Template(rf,ctx){if(1&rf){const _r38=core.ac();core.Zb(0,\"button\",64),core.hc(\"click\",(function($event){core.Hc(_r38);const element_r31=core.lc().$implicit,ctx_r37=core.lc();return $event.stopPropagation(),ctx_r37.toggleContact(element_r31)})),core.Ub(1,\"mat-icon\",65),core.Yb()}if(2&rf){const ctx_r33=core.lc(2);core.sc(\"title\",ctx_r33.translate.instant(\"lang.authorize\"))}}function ContactsListAdministrationComponent_mat_cell_42_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"mat-cell\",57),core.Qc(1,ContactsListAdministrationComponent_mat_cell_42_button_1_Template,2,1,\"button\",58),core.Qc(2,ContactsListAdministrationComponent_mat_cell_42_button_2_Template,2,1,\"button\",59),core.Zb(3,\"button\",60),core.hc(\"click\",(function($event){core.Hc(_r41);const element_r31=ctx.$implicit,ctx_r40=core.lc();return $event.stopPropagation(),ctx_r40.deleteContact(element_r31)})),core.Ub(4,\"mat-icon\",61),core.Yb(),core.Yb()}if(2&rf){const element_r31=ctx.$implicit,ctx_r17=core.lc();core.Eb(1),core.sc(\"ngIf\",element_r31.enabled),core.Eb(1),core.sc(\"ngIf\",!element_r31.enabled),core.Eb(1),core.sc(\"title\",ctx_r17.translate.instant(\"lang.delete\"))}}function ContactsListAdministrationComponent_mat_header_row_43_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function ContactsListAdministrationComponent_mat_row_44_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\",66),2&rf&&core.uc(\"routerLink\",\"/administration/contacts/list/\",ctx.$implicit.id,\"\")}const contacts_list_administration_component_c3=function(){return[\"/rest/autocomplete/contacts\"]};function ContactsListAdministrationRedirectModalComponent_plugin_autocomplete_19_Template(rf,ctx){if(1&rf){const _r4=core.ac();core.Zb(0,\"plugin-autocomplete\",14),core.hc(\"triggerEvent\",(function($event){return core.Hc(_r4),core.lc().setRedirectUser($event)})),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.sc(\"labelPlaceholder\",ctx_r1.translate.instant(\"lang.contactReplacement\"))(\"labelList\",ctx_r1.translate.instant(\"lang.availableContacts\"))(\"routeDatas\",core.yc(4,contacts_list_administration_component_c3))(\"targetSearchKey\",\"contact\")}}function ContactsListAdministrationRedirectModalComponent_div_20_span_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"em\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,1,\"lang.deleteContactInformations\")))}function ContactsListAdministrationRedirectModalComponent_div_20_span_2_Template(rf,ctx){1&rf&&(core.Zb(0,\"span\"),core.Zb(1,\"em\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,1,\"lang.reaffectContactInformations\")))}function ContactsListAdministrationRedirectModalComponent_div_20_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",15),core.Qc(1,ContactsListAdministrationRedirectModalComponent_div_20_span_1_Template,4,3,\"span\",16),core.Qc(2,ContactsListAdministrationRedirectModalComponent_div_20_span_2_Template,4,3,\"span\",16),core.Yb()),2&rf){const ctx_r2=core.lc();core.Eb(1),core.sc(\"ngIf\",\"delete\"==ctx_r2.processMode),core.Eb(1),core.sc(\"ngIf\",\"reaffect\"==ctx_r2.processMode)}}let contacts_list_administration_component_ContactsListAdministrationComponent=(()=>{class ContactsListAdministrationComponent{constructor(translate,http,notify,headerService,appService,dialog,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!1,this.filtersChange=new core.o,this.displayedColumnsContact=[\"filling\",\"firstname\",\"lastname\",\"company\",\"formatedAddress\",\"actions\"],this.isLoadingResults=!0,this.routeUrl=\"../rest/contacts\",this.resultsLength=0,this.searchContact=new fesm2015_forms.h,this.search=\"\",this.destroy$=new Subject.a,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!0},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!1},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!1},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!1},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!1}]}ngOnInit(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.adminService.setAdminId(\"admin_contacts_list\"),this.functions.empty(this.adminService.getFilter())&&this.adminService.saveDefaultFilter(),this.initContactList(),this.initAutocompleteContacts()}initContactList(){this.resultListDatabase=new ContactListHttpDao(this.http),this.paginator.pageIndex=this.adminService.getFilter(\"page\"),this.sort.active=this.adminService.getFilter(\"sort\"),this.sort.direction=this.adminService.getFilter(\"sortDirection\"),this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(observable_merge.a)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(takeUntil.a)(this.destroy$),Object(startWith.a)({}),Object(switchMap.a)(()=>(this.adminService.saveFilter({sort:this.sort.active,sortDirection:this.sort.direction,page:this.paginator.pageIndex,field:this.adminService.getFilter(\"field\")}),this.search=this.adminService.getFilter(\"field\"),this.isLoadingResults=!0,this.resultListDatabase.getRepoIssues(this.sort.active,this.sort.direction,this.paginator.pageIndex,this.routeUrl,this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,data=this.processPostData(data),this.resultsLength=data.count,this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.contacts\").toLowerCase(),\"\",\"\"),data.contacts)),Object(catchError.a)(err=>(this.notify.handleErrors(err),this.isLoadingResults=!1,Object(of.a)([])))).subscribe(data=>this.data=data)}processPostData(data){return data.contacts.forEach(element=>{let tmpFormatedAddress=[];tmpFormatedAddress.push(element.addressNumber),tmpFormatedAddress.push(element.addressStreet),tmpFormatedAddress.push(element.addressPostcode),tmpFormatedAddress.push(element.addressTown),tmpFormatedAddress.push(element.addressCountry),element.formatedAddress=tmpFormatedAddress.filter(address=>!this.isEmptyValue(address)).join(\" \")}),this.displayedColumnsContact=this.functions.empty(data.contacts[0])||this.functions.empty(data.contacts[0].filling)?[\"firstname\",\"lastname\",\"company\",\"formatedAddress\",\"actions\"]:[\"filling\",\"firstname\",\"lastname\",\"company\",\"formatedAddress\",\"actions\"],data}deleteContact(contact){contact.isUsed?(this.dialogRef=this.dialog.open(contacts_list_administration_component_ContactsListAdministrationRedirectModalComponent,{panelClass:\"maarch-modal\",autoFocus:!1}),this.dialogRef.afterClosed().subscribe(result=>{if(void 0!==result&&\"\"!=result){var queryparams=\"\";\"reaffect\"==result.processMode&&(queryparams=\"?redirect=\"+result.contactId),this.http.request(\"DELETE\",`../rest/contacts/${contact.id}${queryparams}`).subscribe(()=>{this.refreshDao(),this.notify.success(this.translate.instant(\"lang.contactDeleted\"))},err=>{this.notify.error(err.error.errors)})}this.dialogRef=null})):this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/contacts/\"+contact.id)),Object(tap.a)(data=>{this.refreshDao(),this.notify.success(this.translate.instant(\"lang.contactDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(of.a)(!1)))).subscribe()}toggleContact(contact){this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.suspend\"),msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.put(`../rest/contacts/${contact.id}/activation`,{enabled:!contact.enabled})),Object(tap.a)(data=>{this.refreshDao(),this.notify.success(this.translate.instant(1==!contact.enabled?\"lang.contactEnabled\":\"lang.contactDisabled\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(of.a)(!1)))).subscribe()}openContactExport(){this.dialog.open(contact_export_component_ContactExportComponent,{panelClass:\"maarch-modal\",width:\"800px\",autoFocus:!1})}openContactImportModal(){this.dialog.open(contact_import_component_ContactImportComponent,{disableClose:!0,width:\"99vw\",maxWidth:\"99vw\",panelClass:\"maarch-full-height-modal\"}).afterClosed().pipe(Object(filter.a)(data=>\"success\"===data),Object(tap.a)(()=>{this.refreshDao()}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}refreshDao(){this.filtersChange.emit()}initAutocompleteContacts(){this.searchContact=new fesm2015_forms.h(this.adminService.getFilter(\"field\")),this.searchContact.valueChanges.pipe(Object(tap.a)(value=>{this.adminService.setFilter(\"field\",value),this.adminService.saveFilter(this.adminService.getFilter()),0===value.length&&(this.search=\"\",this.paginator.pageIndex=0,this.refreshDao())}),Object(debounceTime.a)(300),Object(filter.a)(value=>value.length>2),Object(distinctUntilChanged.a)(),Object(tap.a)(data=>{this.search=data,this.paginator.pageIndex=0,this.refreshDao()})).subscribe()}isEmptyValue(value){return null===value||(Array.isArray(value)?!(value.length>0):\"\"===String(value))}}return ContactsListAdministrationComponent.ɵfac=function(t){return new(t||ContactsListAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},ContactsListAdministrationComponent.ɵcmp=core.Nb({type:ContactsListAdministrationComponent,selectors:[[\"contact-list\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(contacts_list_administration_component_c0,!0),core.Oc(contacts_list_administration_component_c1,!0),core.Oc(fesm2015_paginator.a,!0),core.Oc(contacts_list_administration_component_c2,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:49,vars:19,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"class\",\"example-loading-shade\",4,\"ngIf\"],[1,\"table-head\"],[1,\"table-head-result\"],[\"floatLabel\",\"never\",2,\"font-size\",\"13px\"],[\"type\",\"text\",\"matInput\",\"\",\"maxlength\",\"128\",3,\"placeholder\",\"formControl\",\"click\"],[\"autoCompleteInput\",\"\"],[1,\"table-head-tool\"],[1,\"paginatorResultList\",3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginatorContactList\",\"\"],[2,\"height\",\"90%\",\"overflow\",\"auto\",\"position\",\"absolute\",\"width\",\"100%\"],[\"id\",\"contact-list\",\"matSort\",\"\",\"matSortDisableClear\",\"\",2,\"width\",\"100%\",3,\"dataSource\"],[\"tableContactListSort\",\"matSort\"],[\"matColumnDef\",\"filling\"],[\"style\",\"flex: initial;width: 60px;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"mat-cell\",\"\",\"style\",\"flex: initial;width: 60px;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"firstname\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[\"mat-cell\",\"\",4,\"matCellDef\"],[\"matColumnDef\",\"lastname\"],[4,\"matCellDef\"],[\"matColumnDef\",\"company\"],[\"matColumnDef\",\"formatedAddress\"],[\"style\",\"flex: 2;\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[\"style\",\"flex: 2;\",3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor: pointer;\",3,\"routerLink\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/contacts/list/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"click\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-file-export\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fas\",\"fa-file-import\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[1,\"example-loading-shade\"],[4,\"ngIf\"],[2,\"flex\",\"initial\",\"width\",\"60px\"],[\"mat-cell\",\"\",2,\"flex\",\"initial\",\"width\",\"60px\"],[3,\"title\"],[\"mat-sort-header\",\"\"],[\"mat-cell\",\"\"],[2,\"flex\",\"2\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"title\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"title\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",\"data-toggle\",\"modal\",\"data-target\",\"#changeDiffListDest\",3,\"title\",\"click\"],[1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"title\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-pause\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"title\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-check\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactsListAdministrationComponent_ng_template_1_Template,22,13,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ContactsListAdministrationComponent_div_13_Template,2,1,\"div\",9),core.Zb(14,\"div\",10),core.Zb(15,\"div\",11),core.Zb(16,\"mat-form-field\",12),core.Zb(17,\"input\",13,14),core.hc(\"click\",(function($event){return $event.stopPropagation()})),core.Yb(),core.Yb(),core.Yb(),core.Zb(19,\"div\",15),core.Ub(20,\"mat-paginator\",16,17),core.Yb(),core.Yb(),core.Zb(22,\"div\",18),core.Zb(23,\"mat-table\",19,20),core.Xb(25,21),core.Qc(26,ContactsListAdministrationComponent_mat_header_cell_26_Template,1,2,\"mat-header-cell\",22),core.Qc(27,ContactsListAdministrationComponent_mat_cell_27_Template,2,6,\"mat-cell\",23),core.Wb(),core.Xb(28,24),core.Qc(29,ContactsListAdministrationComponent_mat_header_cell_29_Template,3,3,\"mat-header-cell\",25),core.Qc(30,ContactsListAdministrationComponent_mat_cell_30_Template,2,1,\"mat-cell\",26),core.Wb(),core.Xb(31,27),core.Qc(32,ContactsListAdministrationComponent_mat_header_cell_32_Template,3,3,\"mat-header-cell\",25),core.Qc(33,ContactsListAdministrationComponent_mat_cell_33_Template,2,1,\"mat-cell\",28),core.Wb(),core.Xb(34,29),core.Qc(35,ContactsListAdministrationComponent_mat_header_cell_35_Template,3,3,\"mat-header-cell\",25),core.Qc(36,ContactsListAdministrationComponent_mat_cell_36_Template,2,1,\"mat-cell\",28),core.Wb(),core.Xb(37,30),core.Qc(38,ContactsListAdministrationComponent_mat_header_cell_38_Template,3,5,\"mat-header-cell\",31),core.Qc(39,ContactsListAdministrationComponent_mat_cell_39_Template,2,3,\"mat-cell\",32),core.Wb(),core.Xb(40,33),core.Qc(41,ContactsListAdministrationComponent_mat_header_cell_41_Template,1,0,\"mat-header-cell\",34),core.Qc(42,ContactsListAdministrationComponent_mat_cell_42_Template,5,3,\"mat-cell\",35),core.Wb(),core.Qc(43,ContactsListAdministrationComponent_mat_header_row_43_Template,1,0,\"mat-header-row\",36),core.Qc(44,ContactsListAdministrationComponent_mat_row_44_Template,1,1,\"mat-row\",37),core.Yb(),core.Zb(45,\"div\",38),core.Sc(46),core.mc(47,\"translate\"),core.Yb(),core.Yb(),core.Ub(48,\"div\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.isLoadingResults),core.Eb(4),core.sc(\"placeholder\",ctx.translate.instant(\"lang.filterBy\"))(\"formControl\",ctx.searchContact),core.Eb(3),core.sc(\"length\",ctx.resultsLength)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(3),core.sc(\"dataSource\",ctx.data),core.Eb(20),core.sc(\"matHeaderRowDef\",ctx.displayedColumnsContact),core.Eb(1),core.sc(\"matRowDefColumns\",ctx.displayedColumnsContact),core.Eb(2),core.Vc(\" \",ctx.resultsLength,\" \",core.nc(47,17,\"lang.contactsAlt\"),\"\"))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,divider.a,common.s,progress_spinner.c,table.h,table.a,fesm2015_sort.b,fesm2015_button.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.paginatorResultList[_ngcontent-%COMP%]    .mat-paginator-range-label{justify-content:flex-end;display:flex}.threshold_first[_ngcontent-%COMP%]{color:#e81c2b}.threshold_second[_ngcontent-%COMP%]{color:#f4891e}.threshold_third[_ngcontent-%COMP%]{color:#0aa34f}\"]}),ContactsListAdministrationComponent})();class ContactListHttpDao{constructor(http){this.http=http}getRepoIssues(sort,order,page,href,search){return this.http.get(`${href}?limit=10&offset=${10*page}&order=${order}&orderBy=${sort}&search=${search}`)}}let contacts_list_administration_component_ContactsListAdministrationRedirectModalComponent=(()=>{class ContactsListAdministrationRedirectModalComponent{constructor(translate,http,data,dialogRef,notify){this.translate=translate,this.http=http,this.data=data,this.dialogRef=dialogRef,this.notify=notify,this.modalTitle=this.translate.instant(\"lang.confirmAction\"),this.processMode=\"delete\"}ngOnInit(){}setRedirectUser(contact){this.redirectContact=contact.id}}return ContactsListAdministrationRedirectModalComponent.ɵfac=function(t){return new(t||ContactsListAdministrationRedirectModalComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h),core.Tb(notification_service.a))},ContactsListAdministrationRedirectModalComponent.ɵcmp=core.Nb({type:ContactsListAdministrationRedirectModalComponent,selectors:[[\"ng-component\"]],decls:29,vars:22,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-title\",\"\"],[\"redirectConfForm\",\"ngForm\"],[1,\"modal-body\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-danger\"],[1,\"input-group\"],[\"id\",\"processMode\",\"name\",\"processMode\",\"color\",\"primary\",\"required\",\"\",2,\"display\",\"inline-flex\",\"flex-direction\",\"column\",3,\"ngModel\",\"ngModelChange\"],[\"value\",\"delete\",\"color\",\"primary\"],[\"value\",\"reaffect\",\"color\",\"primary\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"triggerEvent\",4,\"ngIf\"],[\"class\",\"alert-message alert-message-info\",\"role\",\"alert\",4,\"ngIf\"],[1,\"divider-modal\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\",\"click\"],[\"color\",\"\",\"mat-raised-button\",\"\",1,\"actions\",3,\"click\"],[\"singleMode\",\"\",\"required\",\"\",3,\"labelPlaceholder\",\"labelList\",\"routeDatas\",\"targetSearchKey\",\"triggerEvent\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\"],[4,\"ngIf\"]],template:function(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"h1\",1),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"mat-dialog-content\"),core.Zb(5,\"form\",null,2),core.Zb(7,\"div\",3),core.Zb(8,\"div\",4),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Zb(11,\"div\",5),core.Zb(12,\"mat-radio-group\",6),core.hc(\"ngModelChange\",(function($event){return ctx.processMode=$event})),core.Zb(13,\"mat-radio-button\",7),core.Sc(14),core.mc(15,\"translate\"),core.Yb(),core.Zb(16,\"mat-radio-button\",8),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Yb(),core.Qc(19,ContactsListAdministrationRedirectModalComponent_plugin_autocomplete_19_Template,1,5,\"plugin-autocomplete\",9),core.Qc(20,ContactsListAdministrationRedirectModalComponent_div_20_Template,3,2,\"div\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Ub(21,\"span\",11),core.Zb(22,\"mat-dialog-actions\"),core.Zb(23,\"button\",12),core.hc(\"click\",(function(){return ctx.dialogRef.close({contactId:ctx.redirectContact,processMode:ctx.processMode})})),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Zb(26,\"button\",13),core.hc(\"click\",(function(){return ctx.dialogRef.close(\"\")})),core.Sc(27),core.mc(28,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf){const _r0=core.Dc(6);core.Eb(2),core.Tc(core.nc(3,10,\"lang.contactsReassign\")),core.Eb(7),core.Uc(\" \",core.nc(10,12,\"lang.contactLinkedToMails\"),\" \"),core.Eb(3),core.sc(\"ngModel\",ctx.processMode),core.Eb(2),core.Uc(\" \",core.nc(15,14,\"lang.deleteContactwithtoutReassign\"),\" \"),core.Eb(3),core.Uc(\" \",core.nc(18,16,\"lang.reaffectContactRedirect\"),\" \"),core.Eb(2),core.sc(\"ngIf\",\"reaffect\"==ctx.processMode),core.Eb(1),core.sc(\"ngIf\",ctx.processMode),core.Eb(3),core.sc(\"disabled\",!_r0.form.valid||!ctx.redirectContact&&\"reaffect\"==ctx.processMode),core.Eb(1),core.Tc(core.nc(25,18,\"lang.delete\")),core.Eb(3),core.Tc(core.nc(28,20,\"lang.cancel\"))}},directives:[fesm2015_dialog.i,fesm2015_dialog.f,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,fesm2015_radio.b,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,fesm2015_radio.a,common.t,fesm2015_dialog.c,fesm2015_button.b,autocomplete_component.a],pipes:[ngx_translate_core.d],encapsulation:2}),ContactsListAdministrationRedirectModalComponent})();const contacts_custom_fields_administration_component_c0=[\"snav2\"],contacts_custom_fields_administration_component_c1=[\"adminMenuTemplate\"];function ContactsCustomFieldsAdministrationComponent_ng_template_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",16),core.Ub(1,\"mat-icon\",17),core.Zb(2,\"p\",18),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r7=ctx.$implicit;core.Jb(\"active\",menu_r7.current),core.sc(\"routerLink\",menu_r7.route),core.Eb(1),core.Gb(menu_r7.icon),core.Eb(2),core.Uc(\" \",menu_r7.label,\" \")}}function ContactsCustomFieldsAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,ContactsCustomFieldsAdministrationComponent_ng_template_1_a_1_Template,4,6,\"a\",15),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactsCustomFieldsAdministrationComponent_div_15_Template(rf,ctx){if(1&rf&&core.Ub(0,\"div\",19),2&rf){const ctx_r2=core.lc();core.sc(\"innerHTML\",ctx_r2.translate.instant(\"lang.noCustomFieldInfo\"),core.Ic)}}function ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_div_12_button_12_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"button\",35),core.hc(\"click\",(function(){core.Hc(_r15);const custom_r8=core.lc(2).$implicit;return core.lc().sortValues(custom_r8)})),core.Ub(1,\"mat-icon\",36),core.Yb()}if(2&rf){const ctx_r11=core.lc(3);core.sc(\"title\",ctx_r11.translate.instant(\"lang.orderValues\"))}}function ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_div_12_mat_form_field_14_Template(rf,ctx){if(1&rf){const _r19=core.ac();core.Zb(0,\"mat-form-field\",37),core.Zb(1,\"input\",38),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r19),ctx.$implicit.label=$event})),core.Yb(),core.Zb(2,\"button\",39),core.hc(\"click\",(function(){core.Hc(_r19);const i_r17=ctx.index,custom_r8=core.lc(2).$implicit;return core.lc().removeValue(custom_r8,i_r17)})),core.Ub(3,\"mat-icon\",40),core.Yb(),core.Yb()}if(2&rf){const value_r16=ctx.$implicit,ctx_r12=core.lc(3);core.Eb(1),core.sc(\"ngModel\",value_r16.label)(\"placeholder\",ctx_r12.translate.instant(\"lang.newValue\")),core.Eb(1),core.sc(\"title\",ctx_r12.translate.instant(\"lang.delete\"))}}function ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_div_12_Template(rf,ctx){if(1&rf){const _r24=core.ac();core.Zb(0,\"div\",21),core.Zb(1,\"mat-expansion-panel\",28),core.Zb(2,\"mat-expansion-panel-header\"),core.Zb(3,\"mat-panel-title\",29),core.Sc(4),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",30),core.Zb(7,\"div\",31),core.Zb(8,\"button\",32),core.hc(\"click\",(function(){core.Hc(_r24);const indexCustom_r9=core.lc().index;return core.lc().addValue(indexCustom_r9)})),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Zb(11,\"div\"),core.Qc(12,ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_div_12_button_12_Template,2,1,\"button\",33),core.Yb(),core.Yb(),core.Zb(13,\"div\",21),core.Qc(14,ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_div_12_mat_form_field_14_Template,4,3,\"mat-form-field\",34),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const custom_r8=core.lc().$implicit;core.Eb(3),core.sc(\"matBadge\",custom_r8.values.length),core.Eb(1),core.Uc(\" \",core.nc(5,5,\"lang.valuesList\"),\" \"),core.Eb(5),core.Uc(\" \",core.nc(10,7,\"lang.addValue\"),\"\"),core.Eb(3),core.sc(\"ngIf\",custom_r8.values.length>0),core.Eb(2),core.sc(\"ngForOf\",custom_r8.values)}}const contacts_custom_fields_administration_component_c2=function(){return[\"select\",\"radio\",\"checkbox\"]};function ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Zb(0,\"mat-expansion-panel\"),core.Zb(1,\"mat-expansion-panel-header\"),core.Zb(2,\"mat-panel-title\",20),core.Sc(3),core.Yb(),core.Zb(4,\"mat-panel-description\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Zb(7,\"div\",21),core.Zb(8,\"mat-form-field\"),core.Zb(9,\"input\",22),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r27),ctx.$implicit.id=$event})),core.Yb(),core.Yb(),core.Zb(10,\"mat-form-field\"),core.Zb(11,\"input\",23),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r27),ctx.$implicit.label=$event})),core.Yb(),core.Yb(),core.Yb(),core.Qc(12,ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_div_12_Template,15,9,\"div\",24),core.Zb(13,\"div\",25),core.Zb(14,\"button\",26),core.hc(\"click\",(function(){core.Hc(_r27);const custom_r8=ctx.$implicit,indexCustom_r9=ctx.index;return core.lc().updateCustomField(custom_r8,indexCustom_r9)})),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Zb(17,\"button\",27),core.hc(\"click\",(function(){core.Hc(_r27);const indexCustom_r9=ctx.index;return core.lc().removeCustomField(indexCustom_r9)})),core.Sc(18),core.mc(19,\"translate\"),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const custom_r8=ctx.$implicit,indexCustom_r9=ctx.index,ctx_r3=core.lc();core.Eb(3),core.Uc(\" \",custom_r8.label,\" \"),core.Eb(2),core.Uc(\" \",core.nc(6,12,\"lang.\"+custom_r8.type+\"Input\"),\" \"),core.Eb(4),core.sc(\"ngModel\",custom_r8.id)(\"placeholder\",ctx_r3.translate.instant(\"lang.technicalId\"))(\"value\",custom_r8.id),core.Eb(2),core.sc(\"ngModel\",custom_r8.label)(\"placeholder\",ctx_r3.translate.instant(\"lang.label\"))(\"value\",custom_r8.label),core.Eb(1),core.sc(\"ngIf\",core.yc(18,contacts_custom_fields_administration_component_c2).indexOf(custom_r8.type)>-1),core.Eb(2),core.sc(\"disabled\",ctx_r3.isModified(custom_r8,indexCustom_r9)),core.Eb(1),core.Tc(core.nc(16,14,\"lang.update\")),core.Eb(3),core.Tc(core.nc(19,16,\"lang.delete\"))}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_7_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-form-field\",47),core.Ub(2,\"textarea\",48),core.Yb(),core.Wb()),2&rf){const customField_r31=core.lc().$implicit,ctx_r32=core.lc();core.Eb(2),core.sc(\"placeholder\",ctx_r32.translate.instant(\"lang.\"+customField_r31.type+\"Input\"))}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_8_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-form-field\",47),core.Ub(2,\"input\",49),core.Yb(),core.Wb()),2&rf){const customField_r31=core.lc().$implicit,ctx_r33=core.lc();core.Eb(2),core.sc(\"placeholder\",ctx_r33.translate.instant(\"lang.\"+customField_r31.type+\"Input\"))}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_9_mat_option_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",52),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const sample_r41=ctx.$implicit;core.sc(\"value\",sample_r41),core.Eb(1),core.Vc(\" \",core.nc(2,3,\"lang.choice\"),\" \",sample_r41,\" \")}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_9_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-form-field\",47),core.Zb(2,\"mat-select\",50),core.Qc(3,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_9_mat_option_3_Template,3,5,\"mat-option\",51),core.Yb(),core.Yb(),core.Wb()),2&rf){const customField_r31=core.lc().$implicit,ctx_r34=core.lc();core.Eb(2),core.sc(\"placeholder\",ctx_r34.translate.instant(\"lang.\"+customField_r31.type+\"Input\")),core.Eb(1),core.sc(\"ngForOf\",ctx_r34.sampleIncrement)}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_10_Template(rf,ctx){if(1&rf){const _r45=core.ac();core.Xb(0),core.Zb(1,\"mat-form-field\",47),core.Zb(2,\"input\",53),core.hc(\"click\",(function(){return core.Hc(_r45),core.Dc(5).open()})),core.Yb(),core.Ub(3,\"mat-datepicker-toggle\",54),core.Ub(4,\"mat-datepicker\",null,55),core.Yb(),core.Wb()}if(2&rf){const _r43=core.Dc(5),customField_r31=core.lc().$implicit,ctx_r35=core.lc();core.Eb(2),core.sc(\"matDatepicker\",_r43)(\"placeholder\",ctx_r35.translate.instant(\"lang.\"+customField_r31.type+\"Input\")),core.Eb(1),core.sc(\"for\",_r43)}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_11_mat_radio_button_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-radio-button\",52),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const sample_r48=ctx.$implicit;core.sc(\"value\",sample_r48),core.Eb(1),core.Vc(\" \",core.nc(2,3,\"lang.choice\"),\" \",sample_r48,\" \")}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_11_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"mat-radio-group\",56),core.Qc(2,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_11_mat_radio_button_2_Template,3,5,\"mat-radio-button\",51),core.Yb(),core.Wb()),2&rf){const ctx_r36=core.lc(2);core.Eb(2),core.sc(\"ngForOf\",ctx_r36.sampleIncrement)}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_12_mat_list_option_4_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list-option\",62),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const sample_r52=ctx.$implicit;core.sc(\"value\",sample_r52),core.Eb(1),core.Vc(\" \",core.nc(2,3,\"lang.choice\"),\" \",sample_r52,\" \")}}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_12_mat_chip_6_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-chip\"),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.selectedValue\"),\" \"))}function ContactsCustomFieldsAdministrationComponent_div_22_ng_container_12_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Zb(1,\"div\",57),core.Zb(2,\"mat-selection-list\",58,59),core.Qc(4,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_12_mat_list_option_4_Template,3,5,\"mat-list-option\",60),core.Yb(),core.Yb(),core.Zb(5,\"mat-chip-list\",61),core.Qc(6,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_12_mat_chip_6_Template,3,3,\"mat-chip\",11),core.Yb(),core.Wb()),2&rf){const _r49=core.Dc(3),ctx_r37=core.lc(2);core.Eb(4),core.sc(\"ngForOf\",ctx_r37.sampleIncrement),core.Eb(2),core.sc(\"ngForOf\",_r49.selectedOptions.selected)}}function ContactsCustomFieldsAdministrationComponent_div_22_Template(rf,ctx){if(1&rf){const _r55=core.ac();core.Zb(0,\"div\",41),core.Zb(1,\"div\",42),core.Zb(2,\"button\",43),core.hc(\"click\",(function(){core.Hc(_r55);const customField_r31=ctx.$implicit;return core.lc().addCustomField(customField_r31)})),core.Ub(3,\"mat-icon\",44),core.Yb(),core.Yb(),core.Zb(4,\"div\",31),core.Zb(5,\"div\",45),core.Sc(6),core.Yb(),core.Qc(7,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_7_Template,3,1,\"ng-container\",46),core.Qc(8,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_8_Template,3,1,\"ng-container\",46),core.Qc(9,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_9_Template,4,2,\"ng-container\",46),core.Qc(10,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_10_Template,6,3,\"ng-container\",46),core.Qc(11,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_11_Template,3,1,\"ng-container\",46),core.Qc(12,ContactsCustomFieldsAdministrationComponent_div_22_ng_container_12_Template,7,2,\"ng-container\",46),core.Yb(),core.Yb()}if(2&rf){const customField_r31=ctx.$implicit,ctx_r5=core.lc();core.Eb(2),core.sc(\"title\",ctx_r5.translate.instant(\"lang.add\")),core.Eb(4),core.Uc(\"\",customField_r31.label,\" :\"),core.Eb(1),core.sc(\"ngIf\",\"string\"===customField_r31.type),core.Eb(1),core.sc(\"ngIf\",\"integer\"===customField_r31.type),core.Eb(1),core.sc(\"ngIf\",\"select\"===customField_r31.type),core.Eb(1),core.sc(\"ngIf\",\"date\"===customField_r31.type),core.Eb(1),core.sc(\"ngIf\",\"radio\"===customField_r31.type),core.Eb(1),core.sc(\"ngIf\",\"checkbox\"===customField_r31.type)}}let contacts_custom_fields_administration_component_ContactsCustomFieldsAdministrationComponent=(()=>{class ContactsCustomFieldsAdministrationComponent{constructor(translate,http,notify,dialog,headerService,appService,sortPipe,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.dialog=dialog,this.headerService=headerService,this.appService=appService,this.sortPipe=sortPipe,this.viewContainerRef=viewContainerRef,this.loading=!0,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!1},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!0},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!1},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!1},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!1}],this.customFieldsTypes=[{label:this.translate.instant(\"lang.stringInput\"),type:\"string\"},{label:this.translate.instant(\"lang.integerInput\"),type:\"integer\"},{label:this.translate.instant(\"lang.selectInput\"),type:\"select\"},{label:this.translate.instant(\"lang.dateInput\"),type:\"date\"},{label:this.translate.instant(\"lang.radioInput\"),type:\"radio\"},{label:this.translate.instant(\"lang.checkboxInput\"),type:\"checkbox\"}],this.customFields=[],this.customFieldsClone=[],this.incrementCreation=1,this.sampleIncrement=[1,2,3,4]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.customFields\")+\" \"+this.translate.instant(\"lang.contacts\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.http.get(\"../rest/contactsCustomFields\").pipe(Object(map.a)(data=>(data.customFields.forEach(element=>{element.values=element.values.map(info=>({label:info}))}),data)),Object(tap.a)(data=>{this.customFields=data.customFields,this.customFieldsClone=JSON.parse(JSON.stringify(this.customFields))}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addCustomField(customFieldType){let newCustomField={};this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.add\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(tap.a)(()=>{newCustomField={label:this.translate.instant(\"lang.newField\")+\" \"+this.incrementCreation,type:customFieldType.type,values:[]}}),Object(exhaustMap.a)(data=>this.http.post(\"../rest/contactsCustomFields\",newCustomField)),Object(tap.a)(data=>{newCustomField.id=data.id,this.customFields.push(newCustomField),this.notify.success(this.translate.instant(\"lang.customFieldAdded\")),this.incrementCreation++}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}addValue(indexCustom){this.customFields[indexCustom].values.push({label:\"\"})}removeValue(customField,indexValue){customField.values.splice(indexValue,1)}removeCustomField(indexCustom){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\")+' \"'+this.customFields[indexCustom].label+'\"',msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/contactsCustomFields/\"+this.customFields[indexCustom].id)),Object(tap.a)(()=>{this.customFields.splice(indexCustom,1),this.notify.success(this.translate.instant(\"lang.customFieldDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}updateCustomField(customField,indexCustom){customField.values=customField.values.filter((x,i,a)=>a.map(info=>info.label).indexOf(x.label)===i);const customFieldToUpdate=Object.assign({},customField);if(customFieldToUpdate.values=customField.values.map(data=>data.label),this.customFields.filter(customFieldItem=>customFieldItem.label===customFieldToUpdate.label).length>1)return this.notify.handleErrors(this.translate.instant(\"lang.customFieldAlreadyExists\")),Object(observable_of.of)(!1);this.http.put(\"../rest/contactsCustomFields/\"+customField.id,customFieldToUpdate).pipe(Object(tap.a)(()=>{this.customFieldsClone[indexCustom]=JSON.parse(JSON.stringify(customField)),this.notify.success(this.translate.instant(\"lang.customFieldUpdated\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}sortValues(customField){customField.values=this.sortPipe.transform(customField.values,\"label\")}isModified(customField,indexCustomField){return JSON.stringify(customField)===JSON.stringify(this.customFieldsClone[indexCustomField])||\"\"===customField.label}}return ContactsCustomFieldsAdministrationComponent.ɵfac=function(t){return new(t||ContactsCustomFieldsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.b),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(sorting_pipe.a),core.Tb(core.R))},ContactsCustomFieldsAdministrationComponent.ɵcmp=core.Nb({type:ContactsCustomFieldsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(contacts_custom_fields_administration_component_c0,!0),core.Oc(contacts_custom_fields_administration_component_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first))},features:[core.Db([sorting_pipe.a])],decls:23,vars:13,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[3,\"label\"],[\"class\",\"alert-message alert-message-info\",\"role\",\"alert\",3,\"innerHTML\",4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[\"position\",\"end\",\"opened\",\"\",1,\"col-md-4\",\"col-sm-12\",\"customFielsdPanel\",3,\"mode\",\"fixedInViewport\"],[\"snav2\",\"\"],[\"class\",\"customFieldsTypesItem\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"mat-line\",\"\"],[\"role\",\"alert\",1,\"alert-message\",\"alert-message-info\",3,\"innerHTML\"],[\"color\",\"primary\"],[1,\"col-md-12\"],[\"matInput\",\"\",\"name\",\"id\",\"disabled\",\"\",3,\"ngModel\",\"placeholder\",\"value\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"label\",3,\"ngModel\",\"placeholder\",\"value\",\"ngModelChange\"],[\"class\",\"col-md-12\",4,\"ngIf\"],[1,\"col-md-12\",\"text-center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"click\"],[\"opened\",\"\",1,\"customFieldValues\"],[\"matBadgeSize\",\"small\",3,\"matBadge\"],[1,\"actionValuesCustom\"],[2,\"flex\",\"1\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"click\"],[\"mat-mini-fab\",\"\",\"color\",\"default\",3,\"title\",\"click\",4,\"ngIf\"],[\"floatLabel\",\"never\",4,\"ngFor\",\"ngForOf\"],[\"mat-mini-fab\",\"\",\"color\",\"default\",3,\"title\",\"click\"],[\"color\",\"primary\",1,\"fas\",\"fa-sort-alpha-down\",2,\"height\",\"auto\"],[\"floatLabel\",\"never\"],[\"matInput\",\"\",3,\"ngModel\",\"placeholder\",\"ngModelChange\"],[\"color\",\"warn\",\"mat-icon-button\",\"\",\"matSuffix\",\"\",3,\"title\",\"click\"],[1,\"fa\",\"fa-trash\"],[1,\"customFieldsTypesItem\"],[1,\"addCustomFieldTypeContainer\"],[\"mat-icon-button\",\"\",\"color\",\"primary\",3,\"title\",\"click\"],[1,\"fas\",\"fa-plus-circle\",\"fa-2x\"],[2,\"color\",\"rgba(0,0,0,0.54)\"],[4,\"ngIf\"],[\"floatLabel\",\"never\",1,\"input-form\"],[\"matInput\",\"\",\"matTextareaAutosize\",\"\",\"matAutosizeMinRows\",\"1\",\"cdkAutosizeMaxRows\",\"6\",\"disabled\",\"\",3,\"placeholder\"],[\"type\",\"number\",\"matInput\",\"\",\"disabled\",\"\",3,\"placeholder\"],[\"disabled\",\"\",3,\"placeholder\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[\"matInput\",\"\",\"disabled\",\"\",3,\"matDatepicker\",\"placeholder\",\"click\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker\",\"\"],[\"color\",\"primary\",\"disabled\",\"\",1,\"radio-form\"],[1,\"input-form\",\"checkbox-form\"],[\"disabled\",\"\",1,\"div-list\"],[\"sampleList\",\"\"],[\"checkboxPosition\",\"before\",3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"checkbox-selected-list\"],[\"checkboxPosition\",\"before\",3,\"value\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactsCustomFieldsAdministrationComponent_ng_template_1_Template,2,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Zb(13,\"mat-tab-group\"),core.Zb(14,\"mat-tab\",9),core.Qc(15,ContactsCustomFieldsAdministrationComponent_div_15_Template,1,1,\"div\",10),core.Zb(16,\"mat-accordion\"),core.Qc(17,ContactsCustomFieldsAdministrationComponent_mat_expansion_panel_17_Template,20,19,\"mat-expansion-panel\",11),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(18,\"mat-sidenav\",12,13),core.Zb(20,\"mat-tab-group\"),core.Zb(21,\"mat-tab\",9),core.Qc(22,ContactsCustomFieldsAdministrationComponent_div_22_Template,13,8,\"div\",14),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(3),core.sc(\"label\",ctx.translate.instant(\"lang.usableFields\")),core.Eb(1),core.sc(\"ngIf\",0===ctx.customFields.length),core.Eb(2),core.sc(\"ngForOf\",ctx.customFields),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode()),core.Eb(3),core.sc(\"label\",ctx.translate.instant(\"lang.customFieldsTypesAvailable\")),core.Eb(1),core.sc(\"ngForOf\",ctx.customFieldsTypes))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,tabs.c,tabs.a,common.t,expansion.a,common.s,sidenav.d,list.h,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,expansion.c,expansion.g,expansion.h,expansion.f,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.w,fesm2015_button.b,badge.a,form_field.j,input.d,fesm2015_select.a,fesm2015_core.o,datepicker.f,datepicker.h,datepicker.d,fesm2015_radio.b,fesm2015_radio.a,list.i,chips.d,list.f,chips.a],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.mat-divider[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.customFielsdPanel[_ngcontent-%COMP%], .customFielsdPanel[_ngcontent-%COMP%]    .mat-tab-body-wrapper{padding-left:0}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-direction:row-reverse}.customFieldValues[_ngcontent-%COMP%]{box-shadow:none;border:1px solid rgba(0,0,0,.12)}.mat-expansion-panel[_ngcontent-%COMP%]{margin:5px}.mat-accordion[_ngcontent-%COMP%]{padding:5px}.mat-tab-body-content[_ngcontent-%COMP%], .mat-tab-body-wrapper[_ngcontent-%COMP%], .mat-tab-group[_ngcontent-%COMP%]{height:100%}.actionsCustomFields[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.actionValuesCustom[_ngcontent-%COMP%]{display:flex}.alert-message-info[_ngcontent-%COMP%]{margin-top:30px;max-width:100%}.addCustomFieldTypeContainer[_ngcontent-%COMP%]{justify-content:center;display:flex;align-items:center;width:60px}.customFieldsTypesItem[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.mat-badge-content[_ngcontent-%COMP%]{top:2px!important}\",\".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}\"]}),ContactsCustomFieldsAdministrationComponent})();var contacts_form_component=__webpack_require__(\"Gon0\");const contacts_page_administration_component_c0=[\"adminMenuTemplate\"];function ContactsPageAdministrationComponent_ng_template_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",11),core.Ub(1,\"mat-icon\",12),core.Zb(2,\"p\",13),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r4=ctx.$implicit;core.Jb(\"active\",menu_r4.current),core.sc(\"routerLink\",menu_r4.route),core.Eb(1),core.Gb(menu_r4.icon),core.Eb(2),core.Uc(\" \",menu_r4.label,\" \")}}function ContactsPageAdministrationComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,ContactsPageAdministrationComponent_ng_template_1_a_1_Template,4,6,\"a\",10),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactsPageAdministrationComponent_app_contact_form_13_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"app-contact-form\",14),core.hc(\"onSubmitEvent\",(function(){return core.Hc(_r6),core.lc().goToList()})),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.sc(\"creationMode\",ctx_r2.creationMode)(\"contactId\",ctx_r2.contactId)}}let contacts_page_administration_component_ContactsPageAdministrationComponent=(()=>{class ContactsPageAdministrationComponent{constructor(translate,http,route,router,headerService,appService,dialog,viewContainerRef){this.translate=translate,this.http=http,this.route=route,this.router=router,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.viewContainerRef=viewContainerRef,this.loading=!1,this.creationMode=!0,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!1},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!1},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!1},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!1},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!1}],this.contactId=null}ngOnInit(){this.loading=!0,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.route.params.subscribe(params=>{void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.contactCreation\")),this.creationMode=!0,this.loading=!1):(this.headerService.setHeader(this.translate.instant(\"lang.contactModification\")),this.creationMode=!1,this.contactId=params.id,this.loading=!1)})}goToList(){this.router.navigate([\"/administration/contacts/list\"])}}return ContactsPageAdministrationComponent.ɵfac=function(t){return new(t||ContactsPageAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(core.R))},ContactsPageAdministrationComponent.ɵcmp=core.Nb({type:ContactsPageAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(contacts_page_administration_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first)},decls:14,vars:7,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[3,\"creationMode\",\"contactId\",\"onSubmitEvent\",4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"mat-line\",\"\"],[3,\"creationMode\",\"contactId\",\"onSubmitEvent\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactsPageAdministrationComponent_ng_template_1_Template,2,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ContactsPageAdministrationComponent_app_contact_form_13_Template,1,2,\"app-contact-form\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,common.s,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,contacts_form_component.a],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}\"]}),ContactsPageAdministrationComponent})();const tags_administration_component_c0=[\"adminMenuTemplate\"];function TagsAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",29),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",30),core.Ub(5,\"mat-icon\",31),core.Zb(6,\"p\",32),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function TagsAdministrationComponent_mat_header_cell_25_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",33),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.label\")))}function TagsAdministrationComponent_mat_cell_26_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",34),core.Sc(1),core.Yb()),2&rf){const element_r12=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r12.label,\" \")}}function TagsAdministrationComponent_mat_header_cell_28_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",33),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.description\")))}function TagsAdministrationComponent_mat_cell_29_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",34),core.Sc(1),core.Yb()),2&rf){const element_r13=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r13.description,\" \")}}function TagsAdministrationComponent_mat_header_cell_31_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function TagsAdministrationComponent_mat_cell_32_Template(rf,ctx){if(1&rf){const _r16=core.ac();core.Zb(0,\"mat-cell\",35),core.Zb(1,\"button\",36),core.hc(\"click\",(function($event){core.Hc(_r16);const element_r14=ctx.$implicit,ctx_r15=core.lc();return $event.stopPropagation(),ctx_r15.deleteTag(element_r14)})),core.Ub(2,\"mat-icon\",37),core.Yb(),core.Yb()}if(2&rf){const ctx_r9=core.lc();core.Eb(1),core.sc(\"title\",ctx_r9.translate.instant(\"lang.delete\"))}}function TagsAdministrationComponent_mat_header_row_33_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function TagsAdministrationComponent_mat_row_34_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-row\",38),2&rf&&core.uc(\"routerLink\",\"/administration/tags/\",ctx.$implicit.id,\"\")}let tags_administration_component_TagsAdministrationComponent=(()=>{class TagsAdministrationComponent{constructor(translate,http,notify,headerService,appService,dialog,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.loading=!0,this.resultsLength=0,this.displayedColumns=[\"label\",\"description\",\"actions\"],this.filterColumns=[\"label\",\"description\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.tags\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loadList()}loadList(){this.loading=!0,this.http.get(\"../rest/tags\").pipe(Object(tap.a)(data=>{this.resultsLength=data.tags.length,setTimeout(()=>{this.adminService.setDataSource(\"admin_tag\",data.tags,this.sort,this.paginator,this.filterColumns)},0)}),Object(finalize.a)(()=>this.loading=!1)).subscribe()}deleteTag(item){this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:`${this.translate.instant(\"lang.delete\")} \"${item.label}\"`,msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/tags/\"+item.id)),Object(tap.a)(()=>{this.loadList(),this.notify.success(this.translate.instant(\"lang.tagDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return TagsAdministrationComponent.ɵfac=function(t){return new(t||TagsAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},TagsAdministrationComponent.ɵcmp=core.Nb({type:TagsAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(tags_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:38,vars:20,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[1,\"table-head\"],[1,\"table-head-result\"],[2,\"font-size\",\"13px\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[1,\"table-head-tool\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[2,\"height\",\"90%\",\"overflow\",\"auto\",\"position\",\"absolute\",\"width\",\"100%\"],[\"id\",\"contact-list\",\"matSort\",\"\",\"matSortDisableClear\",\"\",2,\"width\",\"100%\",3,\"dataSource\"],[\"tableContactListSort\",\"matSort\"],[\"matColumnDef\",\"label\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[\"mat-cell\",\"\",4,\"matCellDef\"],[\"matColumnDef\",\"description\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor: pointer;\",3,\"routerLink\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-left\",\"20px\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/tags/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-sort-header\",\"\"],[\"mat-cell\",\"\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"title\",\"click\"],[1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,TagsAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Zb(13,\"div\",9),core.Zb(14,\"div\",10),core.Zb(15,\"mat-form-field\",11),core.Ub(16,\"input\",12),core.mc(17,\"translate\"),core.Yb(),core.Yb(),core.Zb(18,\"div\",13),core.Ub(19,\"mat-paginator\",14,15),core.Yb(),core.Yb(),core.Zb(21,\"div\",16),core.Zb(22,\"mat-table\",17,18),core.Xb(24,19),core.Qc(25,TagsAdministrationComponent_mat_header_cell_25_Template,3,3,\"mat-header-cell\",20),core.Qc(26,TagsAdministrationComponent_mat_cell_26_Template,2,1,\"mat-cell\",21),core.Wb(),core.Xb(27,22),core.Qc(28,TagsAdministrationComponent_mat_header_cell_28_Template,3,3,\"mat-header-cell\",20),core.Qc(29,TagsAdministrationComponent_mat_cell_29_Template,2,1,\"mat-cell\",21),core.Wb(),core.Xb(30,23),core.Qc(31,TagsAdministrationComponent_mat_header_cell_31_Template,1,0,\"mat-header-cell\",24),core.Qc(32,TagsAdministrationComponent_mat_cell_32_Template,3,1,\"mat-cell\",25),core.Wb(),core.Qc(33,TagsAdministrationComponent_mat_header_row_33_Template,1,0,\"mat-header-row\",26),core.Qc(34,TagsAdministrationComponent_mat_row_34_Template,1,1,\"mat-row\",27),core.Yb(),core.Zb(35,\"div\",28),core.Sc(36),core.mc(37,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(5),core.tc(\"placeholder\",core.nc(17,16,\"lang.filterBy\")),core.sc(\"formControl\",ctx.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(3),core.sc(\"dataSource\",ctx.adminService.getDataSource()),core.Eb(11),core.sc(\"matHeaderRowDef\",ctx.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx.displayedColumns),core.Eb(2),core.Vc(\" \",ctx.resultsLength,\" \",core.nc(37,18,\"lang.tags\"),\"\"))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],encapsulation:2}),TagsAdministrationComponent})();const tag_administration_component_c0=[\"linkedTagInput\"];function TagAdministrationComponent_mat_form_field_19_mat_chip_3_Template(rf,ctx){if(1&rf){const _r11=core.ac();core.Zb(0,\"mat-chip\",31),core.hc(\"click\",(function(){core.Hc(_r11);const linkedTag_r9=ctx.$implicit;return core.lc(2).remove(linkedTag_r9)}))(\"removed\",(function(){core.Hc(_r11);const linkedTag_r9=ctx.$implicit;return core.lc(2).remove(linkedTag_r9)})),core.Sc(1),core.Ub(2,\"mat-icon\",32),core.Yb()}if(2&rf){const linkedTag_r9=ctx.$implicit,ctx_r5=core.lc(2);core.Eb(1),core.Uc(\" \",ctx_r5.getTagLabel(linkedTag_r9),\" \")}}function TagAdministrationComponent_mat_form_field_19_mat_option_8_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",33),core.Sc(1),core.Yb()),2&rf){const tag_r13=ctx.$implicit,ctx_r8=core.lc(2);core.sc(\"value\",tag_r13)(\"disabled\",ctx_r8.isSelected(tag_r13)||tag_r13.id==ctx_r8.id),core.Eb(1),core.Uc(\" \",tag_r13.label,\" \")}}function TagAdministrationComponent_mat_form_field_19_Template(rf,ctx){if(1&rf){const _r15=core.ac();core.Zb(0,\"mat-form-field\"),core.Zb(1,\"mat-chip-list\",null,24),core.Qc(3,TagAdministrationComponent_mat_form_field_19_mat_chip_3_Template,3,1,\"mat-chip\",25),core.Ub(4,\"input\",26,27),core.Yb(),core.Zb(6,\"mat-autocomplete\",28,29),core.hc(\"optionSelected\",(function($event){return core.Hc(_r15),core.lc().selected($event)})),core.Qc(8,TagAdministrationComponent_mat_form_field_19_mat_option_8_Template,2,3,\"mat-option\",30),core.mc(9,\"async\"),core.Yb(),core.Yb()}if(2&rf){const _r4=core.Dc(2),_r7=core.Dc(7),ctx_r0=core.lc();core.Eb(3),core.sc(\"ngForOf\",ctx_r0.tag.links.value),core.Eb(1),core.sc(\"placeholder\",ctx_r0.translate.instant(\"lang.linkedTags\"))(\"formControl\",ctx_r0.myControl)(\"matAutocomplete\",_r7)(\"matChipInputFor\",_r4),core.Eb(4),core.sc(\"ngForOf\",core.nc(9,6,ctx_r0.filteredOptions))}}function TagAdministrationComponent_div_20_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",34),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.cannotMergeTags\"),\" \"))}function TagAdministrationComponent_plugin_select_search_21_Template(rf,ctx){if(1&rf){const _r17=core.ac();core.Zb(0,\"plugin-select-search\",35),core.hc(\"afterOpened\",(function(){return core.Hc(_r17),core.lc().getTags()}))(\"afterSelected\",(function($event){return core.Hc(_r17),core.lc().mergeTag($event)})),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.sc(\"label\",ctx_r2.translate.instant(\"lang.mergeTagWith\"))(\"placeholderLabel\",ctx_r2.translate.instant(\"lang.mergeTagWith\"))(\"formControlSelect\",ctx_r2.selectMergeTag)(\"datas\",ctx_r2.tags)}}let tag_administration_component_TagAdministrationComponent=(()=>{class TagAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService,functions,dialog){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.dialog=dialog,this.loading=!1,this.loadingTags=!0,this.advancedMode=!1,this.tags=[],this.tag={label:new fesm2015_forms.h({value:\"\",disabled:!1},[fesm2015_forms.H.required]),description:new fesm2015_forms.h({value:\"\",disabled:!1}),parentId:new fesm2015_forms.h({value:\"\",disabled:!1}),links:new fesm2015_forms.h({value:[],disabled:!1}),usage:new fesm2015_forms.h({value:\"\",disabled:!1}),canMerge:new fesm2015_forms.h({value:!0,disabled:!1}),countResources:new fesm2015_forms.h({value:0,disabled:!1})},this.myControl=new fesm2015_forms.h,this.selectMergeTag=new fesm2015_forms.h({value:\"\",disabled:!1}),this.tagFormGroup=new fesm2015_forms.k(this.tag),this.currTagChildren=[]}ngOnInit(){this.loading=!0,this.route.params.subscribe(params=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.id=params.id,yield this.getTags(),void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.tagCreation\")),this.creationMode=!0,this.loading=!1):(this.creationMode=!1,this.http.get(\"../rest/tags/\"+this.id).pipe(Object(tap.a)(data=>{Object.keys(this.tag).forEach(element=>{this.functions.empty(data[element])||this.tag[element].setValue(data[element])}),this.functions.empty(this.tag.parentId.value)||this.toggleAdvancedTag(),this.headerService.setHeader(this.translate.instant(\"lang.tagModification\"),this.tag.label.value)}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(of.a)(!1)))).subscribe())})))}onSubmit(){this.creationMode?this.createTag():this.updateTag()}formatTag(){const formattedTag={};return Object.keys(this.tag).forEach(element=>{formattedTag[element]=this.tag[element].value}),formattedTag}createTag(){this.http.post(\"../rest/tags\",this.formatTag()).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.tagAdded\")),this.router.navigate([\"/administration/tags\"])}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}updateTag(){this.http.put(\"../rest/tags/\"+this.id,this.formatTag()).pipe(Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.tagUpdated\")),this.router.navigate([\"/administration/tags\"])}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}getTags(){return new Promise(resolve=>{this.http.get(\"../rest/tags\").pipe(Object(tap.a)(data=>{this.tags=data.tags.map(tag=>({id:tag.id,label:tag.label,parentId:tag.parentId,countResources:tag.countResources,disabled:tag.id==this.id})),resolve(!0)}),Object(finalize.a)(()=>this.loadingTags=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()})}mergeTag(tagId){this.selectMergeTag.reset();const selectedTag=this.tags.filter(tag=>tag.id===tagId)[0],dialogMessage=`${this.translate.instant(\"lang.confirmAction\")}<br/><br/>${this.translate.instant(\"lang.theTag\")}<b> \"${this.tag.label.value}\" </b>${this.translate.instant(\"lang.willBeDeletedAndMerged\")}<b> \"${selectedTag.label}\"</b><br/><br/>${this.translate.instant(\"lang.willBeTransferredToNewTag\")}<b> \"${selectedTag.label}\"</b> : <b>${this.tag.countResources.value}</b>`;this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:`${this.translate.instant(\"lang.mergeWith\")}  \"${selectedTag.label}\"`,msg:dialogMessage}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.put(\"../rest/mergeTags\",{idMaster:selectedTag.id,idMerge:this.id})),Object(tap.a)(()=>{this.notify.success(this.translate.instant(\"lang.tagMerged\")),this.router.navigate([\"/administration/tags/\"+selectedTag.id])}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(of.a)(!1)))).subscribe()}toggleAdvancedTag(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.advancedMode=!this.advancedMode,this.getTagsTree(),this.filteredOptions=this.myControl.valueChanges.pipe(Object(startWith.a)(null),Object(map.a)(fruit=>fruit?this._filter(fruit):this.tags.slice()))}))}_filter(value){let filterValue=value;return\"string\"==typeof value&&(filterValue=value.toLowerCase()),this.tags.filter(tag=>tag.label.toLowerCase().indexOf(filterValue)>-1)}isSelected(tag){return this.tag.links.value.filter(tagItem=>tagItem==tag.id).length>0}remove(tag){const index=this.tag.links.value.indexOf(tag);index>=0&&this.tag.links.value.splice(index,1)}selected(event){const tmpArr=this.tag.links.value;tmpArr.push(event.option.value.id),this.tag.links.setValue(tmpArr),this.linkedTagInput.nativeElement.value=\"\",this.myControl.setValue(null)}getTagsTree(){this.functions.empty(this.id)||this.getChildrens(this.id);const tagsTree=this.tags.map(tag=>({id:tag.id,text:tag.label,parent:this.functions.empty(tag.parentId)?\"#\":tag.parentId,state:{opened:this.tag.parentId.value==tag.id,selected:this.tag.parentId.value==tag.id,disabled:this.currTagChildren.indexOf(tag.id.toString())>-1}}));setTimeout(()=>{$(\"#jstree\").on(\"select_node.jstree\",(e,item)=>{this.tag.parentId.setValue(parseInt(item.node.id))}).on(\"deselect_node.jstree\",(e,item)=>{this.tag.parentId.setValue(null)}).jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:\"proton\",responsive:!0},multiple:!1,data:tagsTree},plugins:[\"checkbox\",\"search\",\"sort\"]});let to=!1;$(\"#jstree_search\").keyup((function(){to&&clearTimeout(to),to=setTimeout((function(){const v=$(\"#jstree_search\").val();$(\"#jstree\").jstree(!0).search(v)}),250)}))},0)}getChildrens(id){this.currTagChildren.push(id.toString()),this.tags.filter(tag=>tag.parentId==id).forEach(element=>{this.getChildrens(element.id)})}getTagLabel(id){return this.tags.filter(tag=>tag.id==id)[0].label}}return TagAdministrationComponent.ɵfac=function(t){return new(t||TagAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(fesm2015_dialog.b))},TagAdministrationComponent.ɵcmp=core.Nb({type:TagAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.ad(tag_administration_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.linkedTagInput=_t.first)},decls:39,vars:29,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[2,\"height\",\"90%\",\"overflow\",\"auto\",\"position\",\"absolute\",\"width\",\"100%\"],[2,\"padding\",\"20px\",3,\"ngSubmit\"],[\"matInput\",\"\",\"type\",\"text\",\"maxlength\",\"128\",\"required\",\"\",3,\"formControl\",\"placeholder\"],[\"matInput\",\"\",\"type\",\"text\",3,\"formControl\",\"placeholder\"],[4,\"ngIf\"],[\"class\",\"alert-message alert-message-danger\",\"style\",\"min-width: 100%;\",4,\"ngIf\"],[\"style\",\"width:100%;\",3,\"label\",\"placeholderLabel\",\"formControlSelect\",\"datas\",\"afterOpened\",\"afterSelected\",4,\"ngIf\"],[1,\"text-center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",3,\"disabled\"],[\"type\",\"button\",\"mat-raised-button\",\"\",\"color\",\"default\",3,\"click\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"450px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[2,\"padding\",\"10px\"],[\"matInput\",\"\",\"id\",\"jstree_search\",\"name\",\"jstree_search\",\"type\",\"text\",3,\"placeholder\"],[\"id\",\"jstree\"],[\"chipList\",\"\"],[\"style\",\"cursor: pointer;\",3,\"click\",\"removed\",4,\"ngFor\",\"ngForOf\"],[3,\"placeholder\",\"formControl\",\"matAutocomplete\",\"matChipInputFor\"],[\"linkedTagInput\",\"\"],[3,\"optionSelected\"],[\"auto\",\"matAutocomplete\"],[3,\"value\",\"disabled\",4,\"ngFor\",\"ngForOf\"],[2,\"cursor\",\"pointer\",3,\"click\",\"removed\"],[\"matChipRemove\",\"\",1,\"fa\",\"fa-times-circle\"],[3,\"value\",\"disabled\"],[1,\"alert-message\",\"alert-message-danger\",2,\"min-width\",\"100%\"],[2,\"width\",\"100%\",3,\"label\",\"placeholderLabel\",\"formControlSelect\",\"datas\",\"afterOpened\",\"afterSelected\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Zb(11,\"div\",8),core.Zb(12,\"form\",9),core.hc(\"ngSubmit\",(function(){return ctx.onSubmit()})),core.Zb(13,\"mat-form-field\"),core.Ub(14,\"input\",10),core.Yb(),core.Zb(15,\"mat-form-field\"),core.Ub(16,\"textarea\",11),core.Yb(),core.Zb(17,\"mat-form-field\"),core.Ub(18,\"input\",11),core.Yb(),core.Qc(19,TagAdministrationComponent_mat_form_field_19_Template,10,8,\"mat-form-field\",12),core.Qc(20,TagAdministrationComponent_div_20_Template,3,3,\"div\",13),core.Qc(21,TagAdministrationComponent_plugin_select_search_21_Template,1,4,\"plugin-select-search\",14),core.Zb(22,\"div\",15),core.Zb(23,\"button\",16),core.Sc(24),core.mc(25,\"translate\"),core.Yb(),core.Zb(26,\"button\",17),core.hc(\"click\",(function(){return ctx.toggleAdvancedTag()})),core.Sc(27),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(28,\"mat-sidenav\",18,19),core.Zb(30,\"mat-list\"),core.Zb(31,\"h3\",20),core.Sc(32),core.mc(33,\"translate\"),core.Yb(),core.Zb(34,\"div\",21),core.Zb(35,\"mat-form-field\"),core.Ub(36,\"input\",22),core.mc(37,\"translate\"),core.Yb(),core.Ub(38,\"div\",23),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(5),core.sc(\"formControl\",ctx.tag.label)(\"placeholder\",ctx.translate.instant(\"lang.label\")),core.Eb(2),core.sc(\"formControl\",ctx.tag.description)(\"placeholder\",ctx.translate.instant(\"lang.description\")),core.Eb(2),core.sc(\"formControl\",ctx.tag.usage)(\"placeholder\",ctx.translate.instant(\"lang.usage\")),core.Eb(1),core.sc(\"ngIf\",ctx.advancedMode),core.Eb(1),core.sc(\"ngIf\",!ctx.creationMode&&!ctx.tag.canMerge.value),core.Eb(1),core.sc(\"ngIf\",!ctx.loadingTags&&ctx.tag.canMerge.value),core.Eb(2),core.sc(\"disabled\",!ctx.tagFormGroup.valid),core.Eb(1),core.Tc(core.nc(25,23,\"lang.validate\")),core.Eb(3),core.Uc(\" \",ctx.translate.instant(ctx.advancedMode?\"lang.defaultMode\":\"lang.advancedMode\"),\" \"),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",ctx.advancedMode),core.Eb(4),core.Uc(\"\",core.nc(33,25,\"lang.selectParentTag\"),\" :\"),core.Eb(4),core.tc(\"placeholder\",core.nc(37,27,\"lang.searchTag\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.o,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.i,common.t,fesm2015_button.b,sidenav.d,list.a,list.g,chips.d,common.s,autocomplete.d,chips.c,autocomplete.a,chips.a,icon.a,chips.e,fesm2015_core.o,select_search_component.a],pipes:[ngx_translate_core.d,common.b],encapsulation:2}),TagAdministrationComponent})();var operators_map=__webpack_require__(\"q3Kh\");const alfresco_administration_component_c0=[\"snav2\"],alfresco_administration_component_c1=[\"maarchTree\"];function AlfrescoAdministrationComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}const alfresco_administration_component_c2=function(a0){return[a0]};function AlfrescoAdministrationComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"mat-card\",17),core.Zb(1,\"form\",18,19),core.hc(\"ngSubmit\",(function(){return core.Hc(_r6),core.lc().onSubmit()})),core.Zb(3,\"mat-form-field\"),core.Zb(4,\"input\",20),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().alfresco.label=$event})),core.mc(5,\"translate\"),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Zb(7,\"div\",21),core.Zb(8,\"div\",22),core.Zb(9,\"div\",23),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Zb(12,\"div\",24),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"input\",25),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().alfresco.account.id=$event})),core.mc(15,\"translate\"),core.mc(16,\"translate\"),core.Yb(),core.Yb(),core.Zb(17,\"mat-form-field\"),core.Zb(18,\"input\",26),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().alfresco.account.password=$event})),core.Yb(),core.Zb(19,\"mat-icon\",27),core.hc(\"click\",(function(){core.Hc(_r6);const ctx_r10=core.lc();return ctx_r10.hidePassword=!ctx_r10.hidePassword})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(20,\"div\",28),core.Zb(21,\"div\",23),core.Sc(22),core.mc(23,\"translate\"),core.Yb(),core.Zb(24,\"mat-form-field\"),core.Zb(25,\"input\",29),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r6),core.lc().alfresco.rootFolder=$event})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(26,\"div\",30),core.Zb(27,\"button\",31),core.hc(\"click\",(function(){return core.Hc(_r6),core.lc().checkAccount()})),core.Sc(28),core.mc(29,\"translate\"),core.Yb(),core.Zb(30,\"button\",32),core.Sc(31),core.mc(32,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r4=core.Dc(2),ctx_r1=core.lc();core.Eb(4),core.tc(\"title\",core.nc(5,20,\"lang.label\")),core.tc(\"placeholder\",core.nc(6,22,\"lang.label\")),core.sc(\"ngModel\",ctx_r1.alfresco.label),core.Eb(6),core.Uc(\" \",core.nc(11,24,\"lang.alfrescoAccount\"),\" \"),core.Eb(4),core.tc(\"title\",core.nc(15,26,\"lang.id\")),core.tc(\"placeholder\",core.nc(16,28,\"lang.id\")),core.sc(\"ngModel\",ctx_r1.alfresco.account.id),core.Eb(4),core.sc(\"ngModel\",ctx_r1.alfresco.account.password)(\"required\",ctx_r1.creationMode)(\"title\",ctx_r1.translate.instant(ctx_r1.creationMode?\"lang.password\":\"lang.changePassword\"))(\"type\",ctx_r1.hidePassword?\"password\":\"text\")(\"placeholder\",ctx_r1.translate.instant(ctx_r1.creationMode?\"lang.password\":\"lang.changePassword\")),core.Eb(1),core.sc(\"ngClass\",core.zc(36,alfresco_administration_component_c2,ctx_r1.hidePassword?\"fa-eye-slash\":\"fa-eye\")),core.Eb(3),core.Uc(\" \",core.nc(23,30,\"lang.rootFolder\"),\" \"),core.Eb(3),core.sc(\"ngModel\",ctx_r1.alfresco.rootFolder)(\"title\",ctx_r1.translate.instant(\"lang.id\")),core.Eb(2),core.sc(\"disabled\",ctx_r1.functionsService.empty(ctx_r1.alfresco.account.id)||ctx_r1.functionsService.empty(ctx_r1.alfresco.account.password)&&ctx_r1.creationMode),core.Eb(1),core.Tc(core.nc(29,32,\"lang.test\")),core.Eb(2),core.sc(\"disabled\",!_r4.valid||!ctx_r1.validAccount()),core.Eb(1),core.Tc(core.nc(32,34,\"lang.validate\"))}}let alfresco_administration_component_AlfrescoAdministrationComponent=(()=>{class AlfrescoAdministrationComponent{constructor(translate,http,route,router,notify,headerService,appService,functionsService){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functionsService=functionsService,this.loading=!1,this.creationMode=!0,this.entities=[],this.availableEntities=[],this.alfresco={id:0,label:\"\",account:{id:\"\",password:\"\"},rootFolder:null,linkedEntities:[]},this.hidePassword=!0,this.alfrescoTreeLoaded=!1}ngOnInit(){this.loading=!1,this.route.params.subscribe(params=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){void 0===params.id?(this.headerService.setHeader(this.translate.instant(\"lang.alfrescoCreation\")),this.creationMode=!0):(this.headerService.setHeader(this.translate.instant(\"lang.alfrescoModification\")),this.alfresco.id=params.id,this.creationMode=!1),yield this.getEntities(),yield this.getAvailableEntities(),yield this.initAccount(),this.loading=!1})))}onSubmit(){this.creationMode?this.createAccount():this.updateAccount()}createAccount(){this.http.post(\"../rest/alfresco/accounts\",this.formatData()).pipe(Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.accountAdded\")),this.router.navigate([\"/administration/alfresco\"])}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}updateAccount(){this.http.put(\"../rest/alfresco/accounts/\"+this.alfresco.id,this.formatData()).pipe(Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.accountUpdated\")),this.router.navigate([\"/administration/alfresco\"])}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}formatData(){const alfresco={label:this.alfresco.label,login:this.alfresco.account.id,nodeId:this.alfresco.rootFolder,entities:this.maarchTree.getSelectedNodes().map(ent=>ent.id)};return this.functionsService.empty(this.alfresco.account.password)||(alfresco.password=this.alfresco.account.password),alfresco}getAvailableEntities(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/alfresco/availableEntities\").pipe(Object(operators_tap.tap)(data=>{this.availableEntities=data.availableEntities,resolve(!0)}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}getEntities(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/entities\").pipe(Object(operators_map.map)(data=>(data.entities=data.entities.map(entity=>({text:entity.entity_label,icon:entity.icon,parent_id:entity.parentSerialId,id:entity.serialId,state:{opened:!0}})),data.entities)),Object(operators_tap.tap)(entities=>{this.entities=entities,resolve(!0)}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}initAccount(){return new Promise((resolve,reject)=>{this.creationMode?this.http.get(\"../rest/entities\").pipe(Object(operators_map.map)(data=>(data.entities=data.entities.map(entity=>({text:entity.entity_label,icon:entity.icon,parent_id:entity.parentSerialId,id:entity.serialId,state:{opened:!0}})),data.entities)),Object(operators_tap.tap)(entities=>{this.entities=entities,this.entities.forEach(element=>{element.state.disabled=!(this.availableEntities.indexOf(+element.id)>-1)}),setTimeout(()=>{this.initEntitiesTree(this.entities)},0),resolve(!0)}),Object(operators_catchError.catchError)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe():this.http.get(\"../rest/alfresco/accounts/\"+this.alfresco.id).pipe(Object(operators_tap.tap)(data=>{this.alfresco={id:data.id,label:data.label,account:{id:data.login},rootFolder:data.nodeId,linkedEntities:data.entities},this.entities.forEach(element=>{element.state.disabled=!(this.availableEntities.indexOf(+element.id)>-1),this.alfresco.linkedEntities.indexOf(+element.id)>-1&&(element.state.disabled=!1,element.state.selected=!0)}),setTimeout(()=>{this.initEntitiesTree(this.entities)},0),resolve(!0)}),Object(operators_catchError.catchError)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()})}initEntitiesTree(entities){this.maarchTree.initData(entities)}validAccount(){return!this.functionsService.empty(this.alfresco.rootFolder)&&0!==this.maarchTree.getSelectedNodes().length}checkAccount(){let alfresco={};alfresco=this.creationMode?{login:this.alfresco.account.id,password:this.alfresco.account.password,nodeId:this.alfresco.rootFolder}:{accountId:this.alfresco.id,login:this.alfresco.account.id,password:this.alfresco.account.password,nodeId:this.alfresco.rootFolder},this.http.post(\"../rest/alfresco/checkAccounts\",alfresco).pipe(Object(operators_tap.tap)(()=>{this.notify.success(this.translate.instant(\"lang.testSucceeded\"))}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return AlfrescoAdministrationComponent.ɵfac=function(t){return new(t||AlfrescoAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a))},AlfrescoAdministrationComponent.ɵcmp=core.Nb({type:AlfrescoAdministrationComponent,selectors:[[\"app-alfresco\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(alfresco_administration_component_c0,!0),core.Oc(alfresco_administration_component_c1,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.sidenavRight=_t.first),core.Cc(_t=core.ic())&&(ctx.maarchTree=_t.first))},decls:22,vars:14,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"400px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[2,\"padding\",\"10px\"],[\"maarchTree\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[3,\"ngSubmit\"],[\"alfrescoForm\",\"ngForm\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"label\",\"id\",\"label\",\"type\",\"text\",\"maxlength\",\"64\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[1,\"form-group\",2,\"flex-direction\",\"row\",\"flex-wrap\",\"wrap\"],[1,\"formType\",\"ratio-2\",\"col-sm-12\"],[1,\"formType-title\"],[2,\"width\",\"100%\",\"text-align\",\"center\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"accountId\",\"id\",\"accountId\",\"type\",\"text\",3,\"ngModel\",\"title\",\"placeholder\",\"ngModelChange\"],[\"matInput\",\"\",\"name\",\"password\",\"id\",\"password\",3,\"ngModel\",\"required\",\"title\",\"type\",\"placeholder\",\"ngModelChange\"],[\"color\",\"primary\",\"matSuffix\",\"\",1,\"fa\",\"fa-2x\",2,\"cursor\",\"pointer\",3,\"ngClass\",\"click\"],[1,\"formType\",\"ratio-1\",\"col-sm-12\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"rootFolder\",\"id\",\"rootFolder\",\"type\",\"text\",\"placeholder\",\"Dépôt racine\",3,\"ngModel\",\"title\",\"ngModelChange\"],[1,\"col-sm-12\",\"text-center\",2,\"padding\",\"10px\"],[\"mat-raised-button\",\"\",\"type\",\"button\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",\"color\",\"primary\",3,\"disabled\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,AlfrescoAdministrationComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,AlfrescoAdministrationComponent_mat_card_12_Template,33,38,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Zb(15,\"mat-list\"),core.Zb(16,\"h3\",12),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Zb(19,\"div\",13),core.Ub(20,\"app-maarch-flat-tree\",null,14),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()),core.Eb(4),core.Tc(core.nc(18,12,\"lang.chooseEntityAssociationAccount\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,list.g,maarch_flat_tree_component.a,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.v,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.o,fesm2015_forms.t,fesm2015_forms.w,icon.a,form_field.j,common.q,fesm2015_button.b],pipes:[ngx_translate_core.d],styles:[\".form-group[_ngcontent-%COMP%], .formType[_ngcontent-%COMP%]{display:flex}.formType[_ngcontent-%COMP%]{align-items:center;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-slide-toggle-label{color:#666;font-weight:700}.formType[_ngcontent-%COMP%]    .mat-radio-button, .formType[_ngcontent-%COMP%]    .mat-slide-toggle{opacity:.5;color:#666;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.formType[_ngcontent-%COMP%]    .mat-checked, .formType[_ngcontent-%COMP%]    .mat-radio-checked{opacity:1;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-checked .mat-slide-toggle-label{color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.ratio-1[_ngcontent-%COMP%]{flex:1}.ratio-2[_ngcontent-%COMP%]{flex:1;align-items:baseline}\"]}),AlfrescoAdministrationComponent})();var operators_filter=__webpack_require__(\"4ik+\"),operators_exhaustMap=__webpack_require__(\"/JYr\");const alfresco_list_administration_component_c0=[\"adminMenuTemplate\"];function AlfrescoListAdministrationComponent_ng_template_1_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,2,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,4,\"lang.add\"),\" \"))}function AlfrescoListAdministrationComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function AlfrescoListAdministrationComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-header-cell\",40),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r6=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r6.appService.getViewMode()),core.Eb(1),core.Tc(core.nc(2,3,\"lang.label\"))}}function AlfrescoListAdministrationComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r14=ctx.$implicit,ctx_r7=core.lc(2);core.Jb(\"hide-for-mobile\",ctx_r7.appService.getViewMode()),core.Eb(1),core.Uc(\" \",element_r14.label,\" \")}}function AlfrescoListAdministrationComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",41),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.linkedEntities\")))}function AlfrescoListAdministrationComponent_mat_card_14_mat_cell_22_span_2_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\",44),core.Sc(1),core.Yb()),2&rf){const entity_r17=ctx.$implicit;core.Eb(1),core.Tc(entity_r17)}}function AlfrescoListAdministrationComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",42),core.Zb(1,\"div\"),core.Qc(2,AlfrescoListAdministrationComponent_mat_card_14_mat_cell_22_span_2_Template,2,1,\"span\",43),core.Yb(),core.Yb()),2&rf){const element_r15=ctx.$implicit;core.Eb(2),core.sc(\"ngForOf\",element_r15.entitiesLabel)}}function AlfrescoListAdministrationComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\",45)}function AlfrescoListAdministrationComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf){const _r20=core.ac();core.Zb(0,\"mat-cell\",46),core.Zb(1,\"button\",47),core.hc(\"click\",(function($event){core.Hc(_r20);const element_r18=ctx.$implicit,ctx_r19=core.lc(2);return $event.stopPropagation(),ctx_r19.deleteAccount(element_r18.id)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",48),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function AlfrescoListAdministrationComponent_mat_card_14_mat_header_row_26_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function AlfrescoListAdministrationComponent_mat_card_14_mat_row_27_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",49),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/alfresco/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function AlfrescoListAdministrationComponent_mat_card_14_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-card\",17),core.Zb(1,\"div\",18),core.Zb(2,\"div\",19),core.Zb(3,\"mat-form-field\",20),core.Zb(4,\"mat-label\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Zb(7,\"input\",21),core.hc(\"ngModelChange\",(function($event){return core.Hc(_r23),core.lc().alfrescoUrl=$event}))(\"blur\",(function(){return core.Hc(_r23),core.lc().saveUrl()})),core.Yb(),core.Yb(),core.Yb(),core.Zb(8,\"div\",22),core.Zb(9,\"mat-form-field\"),core.Ub(10,\"input\",23),core.mc(11,\"translate\"),core.Yb(),core.Yb(),core.Zb(12,\"div\",22),core.Ub(13,\"mat-paginator\",24,25),core.Yb(),core.Yb(),core.Zb(15,\"mat-table\",26,27),core.Xb(17,28),core.Qc(18,AlfrescoListAdministrationComponent_mat_card_14_mat_header_cell_18_Template,3,5,\"mat-header-cell\",29),core.Qc(19,AlfrescoListAdministrationComponent_mat_card_14_mat_cell_19_Template,2,3,\"mat-cell\",30),core.Wb(),core.Xb(20,31),core.Qc(21,AlfrescoListAdministrationComponent_mat_card_14_mat_header_cell_21_Template,3,3,\"mat-header-cell\",32),core.Qc(22,AlfrescoListAdministrationComponent_mat_card_14_mat_cell_22_Template,3,1,\"mat-cell\",33),core.Wb(),core.Xb(23,34),core.Qc(24,AlfrescoListAdministrationComponent_mat_card_14_mat_header_cell_24_Template,1,0,\"mat-header-cell\",35),core.Qc(25,AlfrescoListAdministrationComponent_mat_card_14_mat_cell_25_Template,4,3,\"mat-cell\",36),core.Wb(),core.Qc(26,AlfrescoListAdministrationComponent_mat_card_14_mat_header_row_26_Template,1,0,\"mat-header-row\",37),core.Qc(27,AlfrescoListAdministrationComponent_mat_card_14_mat_row_27_Template,2,4,\"mat-row\",38),core.Yb(),core.Zb(28,\"div\",39),core.Sc(29),core.mc(30,\"translate\"),core.Yb(),core.Yb()}if(2&rf){const ctx_r3=core.lc();core.Eb(5),core.Tc(core.nc(6,13,\"lang.alfrescoAPI\")),core.Eb(2),core.sc(\"ngModel\",ctx_r3.alfrescoUrl)(\"title\",ctx_r3.alfrescoUrl),core.Eb(3),core.tc(\"placeholder\",core.nc(11,15,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(11),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.accounts.length,\" \",core.nc(30,17,\"lang.accounts\"),\"\")}}let alfresco_list_administration_component_AlfrescoListAdministrationComponent=(()=>{class AlfrescoListAdministrationComponent{constructor(translate,http,notify,headerService,appService,dialog,functions,adminService,viewContainerRef){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.alfrescoUrl=\"\",this.accounts=[],this.loading=!1,this.displayedColumns=[\"label\",\"entitiesLabel\",\"actions\"],this.filterColumns=[\"label\",\"entitiesLabel\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.alfresco\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!0,this.http.get(\"../rest/alfresco/configuration\").pipe(Object(operators_filter.filter)(data=>!this.functions.empty(data.configuration)),Object(operators_tap.tap)(data=>{this.alfrescoUrl=data.configuration.uri})).subscribe(),this.http.get(\"../rest/alfresco/accounts\").subscribe(data=>{this.accounts=data.accounts,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_alfresco\",this.accounts,this.sort,this.paginator,this.filterColumns)},0)})}deleteAccount(id){this.dialogRef=this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}),this.dialogRef.afterClosed().pipe(Object(operators_filter.filter)(data=>\"ok\"===data),Object(operators_exhaustMap.exhaustMap)(()=>this.http.delete(\"../rest/alfresco/accounts/\"+id)),Object(operators_tap.tap)(()=>{this.accounts=this.accounts.filter(account=>account.id!==id),setTimeout(()=>{this.adminService.setDataSource(\"admin_alfresco\",this.accounts,this.sort,this.paginator,this.filterColumns)},0),this.notify.success(this.translate.instant(\"lang.accountDeleted\"))}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}saveUrl(){this.http.put(\"../rest/alfresco/configuration\",{uri:this.alfrescoUrl}).pipe(Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return AlfrescoListAdministrationComponent.ɵfac=function(t){return new(t||AlfrescoListAdministrationComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R))},AlfrescoListAdministrationComponent.ɵcmp=core.Nb({type:AlfrescoListAdministrationComponent,selectors:[[\"ng-component\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(alfresco_list_administration_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/alfresco/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-12\"],[\"appearance\",\"outline\"],[\"matInput\",\"\",\"required\",\"\",\"name\",\"accountId\",\"id\",\"accountId\",\"type\",\"text\",\"placeholder\",\"https://alfresco/api/\",3,\"ngModel\",\"title\",\"ngModelChange\",\"blur\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSortDisableClear\",\"\",\"matSort\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"label\"],[\"mat-sort-header\",\"\",3,\"hide-for-mobile\",4,\"matHeaderCellDef\"],[3,\"hide-for-mobile\",4,\"matCellDef\"],[\"matColumnDef\",\"entitiesLabel\"],[\"mat-sort-header\",\"\",\"style\",\"flex: 2\",4,\"matHeaderCellDef\"],[\"style\",\"flex: 2\",4,\"matCellDef\"],[\"matColumnDef\",\"actions\"],[\"style\",\"flex:none\",4,\"matHeaderCellDef\"],[\"style\",\"flex:none;justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[\"class\",\"label\",4,\"ngFor\",\"ngForOf\"],[1,\"label\"],[2,\"flex\",\"none\"],[2,\"flex\",\"none\",\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,AlfrescoListAdministrationComponent_ng_template_1_Template,9,6,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,AlfrescoListAdministrationComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,AlfrescoListAdministrationComponent_mat_card_14_Template,31,19,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,progress_spinner.c,card.a,form_field.c,form_field.g,input.b,fesm2015_forms.c,fesm2015_forms.E,fesm2015_forms.t,fesm2015_forms.w,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,common.s,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\".label[_ngcontent-%COMP%]{white-space:break-spaces;background:#135f7f;margin:5px}\"]}),AlfrescoListAdministrationComponent})();var contact_detail_component=__webpack_require__(\"OigG\");const manage_duplicate_component_c0=[\"appContactDetail\"];function ManageDuplicateComponent_div_2_button_3_Template(rf,ctx){if(1&rf){const _r9=core.ac();core.Zb(0,\"button\",13),core.hc(\"click\",(function(){core.Hc(_r9);const contact_r1=core.lc().$implicit,ctx_r7=core.lc();return ctx_r7.toggleExcludeContact(contact_r1),ctx_r7.mergeContact()})),core.Sc(1),core.mc(2,\"translate\"),core.Yb()}2&rf&&(core.Eb(1),core.Tc(core.nc(2,1,\"lang.exludeContact\")))}function ManageDuplicateComponent_div_2_i_4_Template(rf,ctx){1&rf&&core.Ub(0,\"i\",14)}function ManageDuplicateComponent_div_2_button_5_Template(rf,ctx){if(1&rf){const _r12=core.ac();core.Zb(0,\"button\",15),core.hc(\"click\",(function(){core.Hc(_r12);const contact_r1=core.lc().$implicit,ctx_r10=core.lc();return ctx_r10.toggleExcludeContact(contact_r1),ctx_r10.mergeContact()})),core.Ub(1,\"i\",16),core.Sc(2),core.mc(3,\"translate\"),core.Yb()}2&rf&&(core.Eb(2),core.Uc(\" \",core.nc(3,1,\"lang.contactExcluded\"),\"\"))}function ManageDuplicateComponent_div_2_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"div\",7),core.Zb(1,\"app-contact-detail\",8,9),core.hc(\"afterSelectedEvent\",(function(){core.Hc(_r14);const i_r2=ctx.index;return core.lc().mergeContact(i_r2)}))(\"afterDeselectedEvent\",(function($event){core.Hc(_r14);const i_r2=ctx.index;return core.lc().resetContact($event,i_r2)})),core.Yb(),core.Qc(3,ManageDuplicateComponent_div_2_button_3_Template,3,3,\"button\",10),core.Qc(4,ManageDuplicateComponent_div_2_i_4_Template,1,0,\"i\",11),core.Qc(5,ManageDuplicateComponent_div_2_button_5_Template,4,3,\"button\",12),core.Yb()}if(2&rf){const contact_r1=ctx.$implicit,i_r2=ctx.index,ctx_r0=core.lc();core.Eb(1),core.Jb(\"merged\",ctx_r0.contactSelected!==i_r2&&null!==ctx_r0.contactSelected&&-1===ctx_r0.contactsExcluded.indexOf(contact_r1.id)),core.sc(\"contact\",contact_r1)(\"selectable\",ctx_r0.contactSelected===i_r2||null===ctx_r0.contactSelected),core.Eb(2),core.sc(\"ngIf\",ctx_r0.contactSelected!==i_r2&&null!==ctx_r0.contactSelected&&-1===ctx_r0.contactsExcluded.indexOf(contact_r1.id)),core.Eb(1),core.sc(\"ngIf\",ctx_r0.contactSelected!==i_r2&&null!==ctx_r0.contactSelected&&ctx_r0.contactsExcluded.indexOf(contact_r1.id)>-1),core.Eb(1),core.sc(\"ngIf\",ctx_r0.contactSelected!==i_r2&&null!==ctx_r0.contactSelected&&ctx_r0.contactsExcluded.indexOf(contact_r1.id)>-1)}}let manage_duplicate_component_ManageDuplicateComponent=(()=>{class ManageDuplicateComponent{constructor(translate,http,notify,data,dialogRef,headerService,functionsService){this.translate=translate,this.http=http,this.notify=notify,this.data=data,this.dialogRef=dialogRef,this.headerService=headerService,this.functionsService=functionsService,this.loading=!1,this.contactSelected=null,this.contactsExcluded=[]}ngOnInit(){}mergeContact(index=this.contactSelected){this.appContactDetail.toArray()[index].resetContact(),this.appContactDetail.toArray()[index].contact.selected=!0,this.functionsService.empty(index)||(this.contactSelected=index),this.data.duplicate.forEach((contactItem,indexContact)=>{-1===this.contactsExcluded.indexOf(this.appContactDetail.toArray()[indexContact].getContactInfo().id)&&Object.keys(this.appContactDetail.toArray()[indexContact].getContactInfo()).forEach(element=>{\"customFields\"!==element||this.functionsService.empty(this.appContactDetail.toArray()[indexContact].getContactInfo()[element])?\"civility\"!==element||this.functionsService.empty(this.appContactDetail.toArray()[indexContact].getContactInfo()[element].id)?this.functionsService.empty(this.appContactDetail.toArray()[index].getContactInfo()[element])&&this.appContactDetail.toArray()[index].getContactInfo()[element]!==this.appContactDetail.toArray()[indexContact].getContactInfo()[element]&&this.appContactDetail.toArray()[index].setContactInfo(element,this.appContactDetail.toArray()[indexContact].getContactInfo()[element]):this.appContactDetail.toArray()[index].setContactInfo(element,this.appContactDetail.toArray()[indexContact].getContactInfo()[element]):this.appContactDetail.toArray()[indexContact].getContactInfo()[element].forEach(custom=>{0===this.appContactDetail.toArray()[index].getContactInfo()[element].filter(custom2=>custom2.label===custom.label).length&&this.appContactDetail.toArray()[index].setContactInfo(element,custom)})})})}toggleExcludeContact(contact){const index=this.contactsExcluded.indexOf(contact.id);-1===index?this.contactsExcluded.push(contact.id):this.contactsExcluded.splice(index,1)}resetContact(contact,index){this.contactSelected=null,this.appContactDetail.toArray()[index].resetContact()}onSubmit(){this.loading=!0;const masterContact=this.data.duplicate.filter((contact,index)=>index===this.contactSelected).map(contact=>contact.id)[0],slaveContacts=this.data.duplicate.filter((contact,index)=>index!==this.contactSelected).filter((contact,index)=>-1===this.contactsExcluded.indexOf(contact.id)).map(contact=>contact.id);this.http.put(`../rest/contacts/${masterContact}/merge`,{duplicates:slaveContacts}).pipe(Object(tap.a)(()=>{this.dialogRef.close(slaveContacts.length===this.data.duplicate.length-1?\"removeAll\":slaveContacts)}),Object(finalize.a)(()=>this.loading=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return ManageDuplicateComponent.ɵfac=function(t){return new(t||ManageDuplicateComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(fesm2015_dialog.a),core.Tb(fesm2015_dialog.h),core.Tb(header_service.a),core.Tb(functions_service.a))},ManageDuplicateComponent.ɵcmp=core.Nb({type:ManageDuplicateComponent,selectors:[[\"app-manage-duplicate\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.ad(manage_duplicate_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.appContactDetail=_t)},decls:11,vars:12,consts:[[1,\"mat-dialog-content-container\"],[\"mat-dialog-content\",\"\",1,\"contact-list-container\"],[\"style\",\"position: relative;\",4,\"ngFor\",\"ngForOf\"],[1,\"divider-modal\"],[\"mat-dialog-actions\",\"\",1,\"actions\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",3,\"disabled\",\"click\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",3,\"mat-dialog-close\"],[2,\"position\",\"relative\"],[2,\"height\",\"100%\",3,\"contact\",\"selectable\",\"afterSelectedEvent\",\"afterDeselectedEvent\"],[\"appContactDetail\",\"\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"style\",\"position: absolute;bottom: 0px;left: 50%;transform: translateX(-50%);\",3,\"click\",4,\"ngIf\"],[\"class\",\"fas fa-ban excludeLogo\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",\"style\",\"position: absolute;bottom: 0px;left: 50%;transform: translateX(-50%);\",3,\"click\",4,\"ngIf\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",2,\"position\",\"absolute\",\"bottom\",\"0px\",\"left\",\"50%\",\"transform\",\"translateX(-50%)\",3,\"click\"],[1,\"fas\",\"fa-ban\",\"excludeLogo\"],[\"mat-raised-button\",\"\",\"mat-button\",\"\",\"color\",\"primary\",2,\"position\",\"absolute\",\"bottom\",\"0px\",\"left\",\"50%\",\"transform\",\"translateX(-50%)\",3,\"click\"],[1,\"fas\",\"fa-ban\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"div\",0),core.Zb(1,\"div\",1),core.Qc(2,ManageDuplicateComponent_div_2_Template,6,7,\"div\",2),core.Yb(),core.Ub(3,\"span\",3),core.Zb(4,\"div\",4),core.Zb(5,\"button\",5),core.hc(\"click\",(function(){return ctx.onSubmit()})),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Zb(8,\"button\",6),core.Sc(9),core.mc(10,\"translate\"),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(1),core.Jb(\"contact-list-container-1\",1==ctx.data.duplicate.length)(\"contact-list-container-2\",2==ctx.data.duplicate.length),core.Eb(1),core.sc(\"ngForOf\",ctx.data.duplicate),core.Eb(3),core.sc(\"disabled\",null===ctx.contactSelected||ctx.loading||ctx.contactsExcluded.length===ctx.data.duplicate.length-1),core.Eb(1),core.Tc(core.nc(7,8,\"lang.merge\")),core.Eb(3),core.Tc(core.nc(10,10,\"lang.cancel\")))},directives:[fesm2015_dialog.f,common.s,fesm2015_dialog.c,fesm2015_button.b,fesm2015_dialog.d,contact_detail_component.a,common.t],pipes:[ngx_translate_core.d],styles:[\".merged[_ngcontent-%COMP%]{opacity:.5}.contact-list-container[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:repeat(3,33%);grid-gap:10px}.contact-list-container-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.contact-list-container-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.excludeLogo[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:80px;color:#8e3e52}\"]}),ManageDuplicateComponent})();var scrolling=__webpack_require__(\"vxfF\");const contact_duplicate_component_c0=[\"adminMenuTemplate\"];function ContactDuplicateComponent_ng_template_1_a_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",19),core.Ub(1,\"mat-icon\",20),core.Zb(2,\"p\",21),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r9=ctx.$implicit;core.Jb(\"active\",menu_r9.current),core.sc(\"routerLink\",menu_r9.route),core.Eb(1),core.Gb(menu_r9.icon),core.Eb(2),core.Uc(\" \",menu_r9.label,\" \")}}function ContactDuplicateComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Qc(1,ContactDuplicateComponent_ng_template_1_a_1_Template,4,6,\"a\",18),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function ContactDuplicateComponent_div_13_mat_chip_10_Template(rf,ctx){if(1&rf){const _r14=core.ac();core.Zb(0,\"mat-chip\",31),core.hc(\"removed\",(function(){core.Hc(_r14);const field_r11=ctx.$implicit;return core.lc(2).removeCriteria(field_r11)}))(\"click\",(function(){core.Hc(_r14);const field_r11=ctx.$implicit;return core.lc(2).removeCriteria(field_r11)})),core.Sc(1),core.Ub(2,\"mat-icon\",32),core.Yb()}if(2&rf){const field_r11=ctx.$implicit;core.sc(\"removable\",!0),core.Eb(1),core.Uc(\" \",field_r11.label,\" \")}}function ContactDuplicateComponent_div_13_Template(rf,ctx){if(1&rf){const _r17=core.ac();core.Zb(0,\"div\",22),core.Zb(1,\"mat-accordion\",23),core.Zb(2,\"mat-expansion-panel\",24),core.Zb(3,\"mat-expansion-panel-header\"),core.Zb(4,\"mat-panel-title\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Yb(),core.Zb(7,\"plugin-select-search\",25),core.hc(\"afterSelected\",(function($event){return core.Hc(_r17),core.lc().addCriteria($event)})),core.Yb(),core.Ub(8,\"mat-divider\",26),core.Zb(9,\"mat-chip-list\",27),core.Qc(10,ContactDuplicateComponent_div_13_mat_chip_10_Template,3,2,\"mat-chip\",28),core.Yb(),core.Zb(11,\"div\",29),core.Zb(12,\"button\",30),core.hc(\"click\",(function(){return core.Hc(_r17),core.lc().searchDuplicates()})),core.Sc(13),core.mc(14,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r2=core.lc();core.Eb(2),core.sc(\"expanded\",ctx_r2.openedSearchTool),core.Eb(3),core.Uc(\" \",core.nc(6,9,\"lang.criteriaSearch\"),\" \"),core.Eb(2),core.sc(\"label\",ctx_r2.translate.instant(\"lang.addCriteria\"))(\"formControlSelect\",ctx_r2.addCriteriaSelect)(\"placeholderLabel\",ctx_r2.translate.instant(\"lang.addCriteria\"))(\"datas\",ctx_r2.contactFields),core.Eb(3),core.sc(\"ngForOf\",ctx_r2.currentFieldsSearch),core.Eb(2),core.sc(\"disabled\",0===ctx_r2.currentFieldsSearch.length||ctx_r2.isLoadingResults),core.Eb(1),core.Tc(core.nc(14,11,\"lang.launchSearch\"))}}function ContactDuplicateComponent_div_14_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",33),core.Zb(1,\"em\"),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Yb()),2&rf&&(core.Eb(2),core.Tc(core.nc(3,1,\"lang.noDuplicatesFound\")))}const contact_duplicate_component_c1=function(a0,a1){return{value1:a0,value2:a1}};function ContactDuplicateComponent_div_15_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"div\",34),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf){const ctx_r4=core.lc();core.Eb(1),core.Uc(\" \",core.oc(2,1,\"lang.duplicatesContactDisplayed\",core.Ac(4,contact_duplicate_component_c1,ctx_r4.duplicatesContactsRealCount,ctx_r4.duplicatesContactsCount)),\" \")}}function ContactDuplicateComponent_mat_list_16_span_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\",38),core.Sc(1),core.Yb()),2&rf){const item_r20=ctx.$implicit,ctx_r19=core.lc(2);core.Eb(1),core.Uc(\" \",ctx_r19.getLabel(item_r20),\" \")}}function ContactDuplicateComponent_mat_list_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-list\",15),core.Zb(1,\"mat-list-item\",35),core.Zb(2,\"p\",36),core.Qc(3,ContactDuplicateComponent_mat_list_16_span_3_Template,2,1,\"span\",37),core.Yb(),core.Yb(),core.Yb()),2&rf){const ctx_r5=core.lc();core.Eb(2),core.Hb(\"contact-list-container-\",ctx_r5.displayedColumns.length,\"\"),core.Eb(1),core.sc(\"ngForOf\",ctx_r5.displayedColumns)}}function ContactDuplicateComponent_ng_container_20_span_3_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"span\",42),core.Sc(1),core.Yb()),2&rf){const item_r24=ctx.$implicit,element_r21=core.lc().$implicit;core.Eb(1),core.Uc(\" \",element_r21[item_r24],\" \")}}function ContactDuplicateComponent_ng_container_20_Template(rf,ctx){if(1&rf){const _r27=core.ac();core.Xb(0),core.Zb(1,\"mat-list-item\",39),core.hc(\"mouseover\",(function(){core.Hc(_r27);const element_r21=ctx.$implicit;return core.lc().selectDuplicates(element_r21.duplicateId)}))(\"click\",(function(){core.Hc(_r27);const element_r21=ctx.$implicit;return core.lc().manageDuplicate(element_r21.duplicateId)})),core.Zb(2,\"p\",40),core.Qc(3,ContactDuplicateComponent_ng_container_20_span_3_Template,2,1,\"span\",41),core.Yb(),core.Yb(),core.Wb()}if(2&rf){const element_r21=ctx.$implicit,i_r22=ctx.index,ctx_r6=core.lc();core.Eb(1),core.Jb(\"odd\",void 0!==ctx_r6.duplicatesContacts[i_r22+1]&&element_r21.odd!==ctx_r6.duplicatesContacts[i_r22+1].odd)(\"hovered\",element_r21.duplicateId===ctx_r6.currentDuplicateId),core.Eb(1),core.Hb(\"contact-list-container-\",ctx_r6.displayedColumns.length,\"\"),core.Eb(1),core.sc(\"ngForOf\",ctx_r6.displayedColumns)}}function ContactDuplicateComponent_div_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",43),core.Ub(1,\"mat-spinner\"),core.Yb())}let contact_duplicate_component_ContactDuplicateComponent=(()=>{class ContactDuplicateComponent{constructor(translate,http,notify,headerService,appService,dialog,functions,sortPipe,viewContainerRef,functionsService){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.dialog=dialog,this.functions=functions,this.sortPipe=sortPipe,this.viewContainerRef=viewContainerRef,this.functionsService=functionsService,this.loading=!0,this.subMenus=[{icon:\"fa fa-book\",route:\"/administration/contacts/list\",label:this.translate.instant(\"lang.contactsList\"),current:!1},{icon:\"fa fa-code\",route:\"/administration/contacts/contactsCustomFields\",label:this.translate.instant(\"lang.customFieldsAdmin\"),current:!1},{icon:\"fa fa-cog\",route:\"/administration/contacts/contacts-parameters\",label:this.translate.instant(\"lang.contactsParameters\"),current:!1},{icon:\"fa fa-users\",route:\"/administration/contacts/contacts-groups\",label:this.translate.instant(\"lang.contactsGroups\"),current:!1},{icon:\"fas fa-magic\",route:\"/administration/contacts/duplicates\",label:this.translate.instant(\"lang.duplicatesContactsAdmin\"),current:!0}],this.contactFields=[],this.addCriteriaSelect=new fesm2015_forms.h,this.currentFieldsSearch=[],this.currentDuplicateId=null,this.duplicatesContacts=[],this.duplicatesContactsCount=-1,this.duplicatesContactsRealCount=0,this.displayedColumns=[\"companyLastname\",\"lastname\",\"company\"],this.isLoadingResults=!1,this.openedSearchTool=!0}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.headerService.setHeader(this.translate.instant(\"lang.contactsDuplicates\"),\"\",\"\"),yield this.getContactFields(),this.setDefaultSearchCriteria(),this.loading=!1}))}getContactFields(){return new Promise((resolve,reject)=>{this.http.get(\"../rest/contactsParameters\").pipe(Object(map.a)(data=>{const regex=/contactCustomField_[.]*/g;return data.contactsParameters=data.contactsParameters.filter(field=>null===field.identifier.match(regex)).map(field=>Object.assign(Object.assign({},field),{label:this.translate.instant(\"lang.contactsParameters_\"+field.identifier)})),data.contactsParameters}),Object(tap.a)(fields=>{this.contactFields=fields}),Object(exhaustMap.a)(()=>this.http.get(\"../rest/contactsCustomFields\")),Object(map.a)(data=>(data.customFields=data.customFields.map(field=>Object.assign(Object.assign({},field),{id:\"contactCustomField_\"+field.id,identifier:\"contactCustomField_\"+field.id})),data.customFields)),Object(tap.a)(fields=>{this.contactFields=this.contactFields.concat(fields),this.contactFields=this.sortPipe.transform(this.contactFields,\"label\"),resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}setDefaultSearchCriteria(target=[\"lastname\",\"company\"]){this.contactFields.filter(contact=>target.indexOf(contact.identifier)>-1).forEach(field=>{field.disabled=!0,this.currentFieldsSearch.push(field)})}addCriteria(id){this.contactFields.filter(contact=>contact.id===id).forEach(field=>{field.disabled=!0,this.currentFieldsSearch.push(field)}),this.addCriteriaSelect.reset()}removeCriteria(field){this.contactFields.forEach((contact,index)=>{contact.id===field.id&&(this.currentFieldsSearch=this.currentFieldsSearch.filter(currField=>currField.id!==field.id),contact.disabled=!1)})}searchDuplicates(){this.duplicatesContacts=[],this.isLoadingResults=!0;const queryParam=\"?criteria[]=\"+this.currentFieldsSearch.map(field=>field.identifier).join(\"&criteria[]=\");this.http.get(\"../rest/duplicatedContacts\"+queryParam).pipe(Object(map.a)(data=>(this.duplicatesContactsRealCount=data.realCount,this.duplicatesContactsCount=data.returnedCount,data.contacts.forEach((element,index)=>{element.odd=0===index||(void 0!==data.contacts[index-1]&&data.contacts[index-1].duplicateId===element.duplicateId?data.contacts[index-1].odd:!data.contacts[index-1].odd);const tmpFormated=[];tmpFormated.push(element.company),tmpFormated.push(element.lastname),element.companyLastname=tmpFormated.filter(item=>!this.functions.empty(item)).join(\" / \"),this.functionsService.empty(element.customFields)||Object.keys(element.customFields).forEach(customIndex=>{element[customIndex]=element.customFields[customIndex]})}),data.contacts)),Object(tap.a)(contacts=>{this.duplicatesContacts=contacts,setTimeout(()=>{const regex=/contactCustomField_[.]*/g;this.displayedColumns=this.currentFieldsSearch.filter(field=>null===field.identifier.match(regex)).map(field=>field.identifier).concat(this.currentFieldsSearch.filter(field=>null!==field.identifier.match(regex)).map(field=>field.identifier.replace(\"contactCustomField_\",\"\"))),this.displayedColumns.unshift(\"companyLastname\"),this.openedSearchTool=!1},0)}),Object(finalize.a)(()=>this.isLoadingResults=!1),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}selectDuplicates(duplicateId){this.currentDuplicateId=duplicateId}manageDuplicate(duplicateId){this.dialog.open(manage_duplicate_component_ManageDuplicateComponent,{panelClass:\"maarch-modal\",data:{duplicate:this.duplicatesContacts.filter(contact=>contact.duplicateId===duplicateId).map(contact=>({id:contact.id,type:\"contact\"}))}}).afterClosed().pipe(Object(filter.a)(data=>!this.functionsService.empty(data)),Object(tap.a)(data=>{this.notify.success(this.translate.instant(\"lang.contactsMerged\")),this.duplicatesContactsCount--,this.duplicatesContactsRealCount--,this.duplicatesContacts=this.duplicatesContacts.filter(\"removeAll\"!==data?contact=>-1===data.indexOf(contact.id):contact=>contact.duplicateId!==duplicateId)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}getLabel(item){return void 0!==this.translate.instant(\"lang.contactsParameters_\"+item)?this.translate.instant(\"lang.contactsParameters_\"+item):void 0!==this.translate.instant(\"lang.\"+item)?this.translate.instant(\"lang.\"+item):this.contactFields.filter(field=>field.id===\"contactCustomField_\"+item)[0].label}}return ContactDuplicateComponent.ɵfac=function(t){return new(t||ContactDuplicateComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_dialog.b),core.Tb(functions_service.a),core.Tb(sorting_pipe.a),core.Tb(core.R),core.Tb(functions_service.a))},ContactDuplicateComponent.ɵcmp=core.Nb({type:ContactDuplicateComponent,selectors:[[\"app-contact-duplicate\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(contact_duplicate_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first)},features:[core.Db([sorting_pipe.a])],decls:22,vars:12,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\",2,\"display\",\"flex\",\"flex-direction\",\"column\",\"overflow\",\"hidden\"],[\"class\",\"criteria-container\",4,\"ngIf\"],[\"style\",\"padding: 10px;text-align: center;color: rgba(0,0,0,0.54);\",4,\"ngIf\"],[\"style\",\"padding: 10px;text-align: right;color: rgba(0,0,0,0.54);\",4,\"ngIf\"],[\"role\",\"list\",4,\"ngIf\"],[2,\"position\",\"relative\",\"height\",\"100%\",\"overflow\",\"auto\"],[\"itemSize\",\"48\",1,\"example-viewport\"],[\"role\",\"list\"],[4,\"cdkVirtualFor\",\"cdkVirtualForOf\"],[\"class\",\"example-loading-shade\",4,\"ngIf\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[\"mat-line\",\"\"],[1,\"criteria-container\"],[2,\"margin-bottom\",\"10px\"],[3,\"expanded\"],[3,\"label\",\"formControlSelect\",\"placeholderLabel\",\"datas\",\"afterSelected\"],[2,\"margin-top\",\"20px\",\"margin-bottom\",\"20px\"],[1,\"checkbox-selected-list\"],[\"selected\",\"\",3,\"removable\",\"removed\",\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-12\",\"text-center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"button\",3,\"disabled\",\"click\"],[\"selected\",\"\",3,\"removable\",\"removed\",\"click\"],[\"matChipRemove\",\"\",1,\"fa\",\"fa-times-circle\"],[2,\"padding\",\"10px\",\"text-align\",\"center\",\"color\",\"rgba(0,0,0,0.54)\"],[2,\"padding\",\"10px\",\"text-align\",\"right\",\"color\",\"rgba(0,0,0,0.54)\"],[\"role\",\"listitem\"],[\"mat-line\",\"\",2,\"font-size\",\"80%\",\"display\",\"grid\",\"grid-gap\",\"10px\"],[\"class\",\"primary\",\"style\",\"overflow: hidden;text-overflow: ellipsis;\",4,\"ngFor\",\"ngForOf\"],[1,\"primary\",2,\"overflow\",\"hidden\",\"text-overflow\",\"ellipsis\"],[\"role\",\"listitem\",2,\"cursor\",\"pointer\",\"font-size\",\"14px\",3,\"mouseover\",\"click\"],[\"mat-line\",\"\",2,\"display\",\"grid\",\"grid-gap\",\"10px\",\"align-items\",\"center\"],[\"style\",\"overflow: hidden;text-overflow: ellipsis;\",4,\"ngFor\",\"ngForOf\"],[2,\"overflow\",\"hidden\",\"text-overflow\",\"ellipsis\"],[1,\"example-loading-shade\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,ContactDuplicateComponent_ng_template_1_Template,2,1,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,ContactDuplicateComponent_div_13_Template,15,13,\"div\",9),core.Qc(14,ContactDuplicateComponent_div_14_Template,4,3,\"div\",10),core.Qc(15,ContactDuplicateComponent_div_15_Template,3,7,\"div\",11),core.Qc(16,ContactDuplicateComponent_mat_list_16_Template,4,4,\"mat-list\",12),core.Zb(17,\"div\",13),core.Zb(18,\"cdk-virtual-scroll-viewport\",14),core.Zb(19,\"mat-list\",15),core.Qc(20,ContactDuplicateComponent_ng_container_20_Template,4,8,\"ng-container\",16),core.Yb(),core.Yb(),core.Qc(21,ContactDuplicateComponent_div_21_Template,2,0,\"div\",17),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"ngIf\",0===ctx.duplicatesContactsCount),core.Eb(1),core.sc(\"ngIf\",ctx.duplicatesContacts.length>0),core.Eb(1),core.sc(\"ngIf\",ctx.duplicatesContacts.length>0),core.Eb(4),core.sc(\"cdkVirtualForOf\",ctx.duplicatesContacts),core.Eb(1),core.sc(\"ngIf\",ctx.isLoadingResults))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,scrolling.e,scrolling.a,list.a,scrolling.d,list.h,common.s,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,expansion.a,expansion.c,expansion.g,expansion.h,select_search_component.a,divider.a,chips.d,fesm2015_button.b,chips.a,chips.e,progress_spinner.c],pipes:[ngx_translate_core.d],styles:[\".example-viewport[_ngcontent-%COMP%]{flex:1;width:100%;background:#fff;height:100%}.example-viewport[_ngcontent-%COMP%]    .cdk-virtual-scroll-content-wrapper{overflow:hidden;text-overflow:ellipsis;width:100%}.active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.criteria-container[_ngcontent-%COMP%]{margin:20px}.hovered[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)!important;transition:all .3s}.odd[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.contact-list-container-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.contact-list-container-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.contact-list-container-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.contact-list-container-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.contact-list-container-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}\"]}),ContactDuplicateComponent})();const issuing_site_list_component_c0=[\"adminMenuTemplate\"];function IssuingSiteListComponent_ng_template_1_a_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",16),core.Ub(1,\"mat-icon\",17),core.Zb(2,\"p\",14),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r5=ctx.$implicit;core.Jb(\"active\",menu_r5.current),core.sc(\"routerLink\",menu_r5.route),core.Eb(1),core.Gb(menu_r5.icon),core.Eb(2),core.Uc(\" \",menu_r5.label,\" \")}}function IssuingSiteListComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(9,\"mat-divider\"),core.Zb(10,\"mat-nav-list\"),core.Qc(11,IssuingSiteListComponent_ng_template_1_a_11_Template,4,6,\"a\",15),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,3,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,5,\"lang.add\"),\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function IssuingSiteListComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",18),core.Ub(1,\"mat-spinner\",19),core.Yb())}function IssuingSiteListComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",39),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\"\",core.nc(2,1,\"lang.coclicoNumber\"),\" \"))}function IssuingSiteListComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r18=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r18.accountNumber,\" \")}}function IssuingSiteListComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",39),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.label\"),\" \"))}function IssuingSiteListComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r19=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r19.label,\" \")}}function IssuingSiteListComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",39),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.postOffice\"),\" \"))}function IssuingSiteListComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r20=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r20.postOfficeLabel,\" \")}}function IssuingSiteListComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function IssuingSiteListComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf){const _r23=core.ac();core.Zb(0,\"mat-cell\",40),core.Zb(1,\"button\",41),core.hc(\"click\",(function($event){core.Hc(_r23);const element_r21=ctx.$implicit,ctx_r22=core.lc(2);return $event.stopPropagation(),ctx_r22.delete(element_r21)})),core.mc(2,\"translate\"),core.Ub(3,\"mat-icon\",42),core.Yb(),core.Yb()}2&rf&&(core.Eb(1),core.tc(\"matTooltip\",core.nc(2,1,\"lang.delete\")))}function IssuingSiteListComponent_mat_card_14_mat_header_row_23_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function IssuingSiteListComponent_mat_card_14_mat_row_24_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",43),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/issuingSites/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function IssuingSiteListComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",20),core.Zb(1,\"div\",21),core.Zb(2,\"div\",22),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",23),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",22),core.Ub(7,\"mat-paginator\",24,25),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",26,27),core.Xb(11,28),core.Qc(12,IssuingSiteListComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",29),core.Qc(13,IssuingSiteListComponent_mat_card_14_mat_cell_13_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(14,31),core.Qc(15,IssuingSiteListComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",29),core.Qc(16,IssuingSiteListComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(17,32),core.Qc(18,IssuingSiteListComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",29),core.Qc(19,IssuingSiteListComponent_mat_card_14_mat_cell_19_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(20,33),core.Qc(21,IssuingSiteListComponent_mat_card_14_mat_header_cell_21_Template,1,0,\"mat-header-cell\",34),core.Qc(22,IssuingSiteListComponent_mat_card_14_mat_cell_22_Template,4,3,\"mat-cell\",35),core.Wb(),core.Qc(23,IssuingSiteListComponent_mat_card_14_mat_header_row_23_Template,1,0,\"mat-header-row\",36),core.Qc(24,IssuingSiteListComponent_mat_card_14_mat_row_24_Template,2,4,\"mat-row\",37),core.Yb(),core.Zb(25,\"div\",38),core.Sc(26),core.mc(27,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(14),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.data.length,\" \",core.nc(27,12,\"lang.issuingSites\"),\"\")}}let issuing_site_list_component_IssuingSiteListComponent=(()=>{class IssuingSiteListComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef,dialog){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.dialog=dialog,this.subMenus=[{icon:\"fas fa-dolly-flatbed\",route:\"/administration/registeredMails\",label:this.translate.instant(\"lang.registeredMailNumberRanges\"),current:!1},{icon:\"fas fa-warehouse\",route:\"/administration/issuingSites\",label:this.translate.instant(\"lang.issuingSites\"),current:!0}],this.parameters={},this.loading=!0,this.data=[],this.displayedColumns=[\"accountNumber\",\"label\",\"postOfficeLabel\",\"actions\"],this.filterColumns=[\"accountNumber\",\"label\",\"postOfficeLabel\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.issuingSites\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!1,this.getData()}getData(){this.data=[],this.http.get(\"../rest/registeredMail/sites\").pipe(Object(operators_tap.tap)(data=>{this.data=data.sites,this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_regitered_mail_issuing_site\",this.data,this.sort,this.paginator,this.filterColumns)},0)}),Object(operators_catchError.catchError)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}delete(row){this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/registeredMail/sites/\"+row.id)),Object(operators_tap.tap)(()=>{this.data=this.data.filter(item=>item.id!==row.id),setTimeout(()=>{this.adminService.setDataSource(\"admin_regitered_mail_issuing_site\",this.data,this.sort,this.paginator,this.filterColumns)},0),this.notify.success(this.translate.instant(\"lang.issuingSiteDeleted\"))}),Object(operators_catchError.catchError)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return IssuingSiteListComponent.ɵfac=function(t){return new(t||IssuingSiteListComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R),core.Tb(fesm2015_dialog.b))},IssuingSiteListComponent.ɵcmp=core.Nb({type:IssuingSiteListComponent,selectors:[[\"app-issuing-site-list\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(issuing_site_list_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/issuingSites/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"accountNumber\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"label\"],[\"matColumnDef\",\"postOfficeLabel\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,IssuingSiteListComponent_ng_template_1_Template,12,7,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,IssuingSiteListComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,IssuingSiteListComponent_mat_card_14_Template,28,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,divider.a,common.s,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}\"]}),IssuingSiteListComponent})();const issuing_site_component_c0=[\"maarchTree\"];function IssuingSiteComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",15),core.Ub(1,\"mat-spinner\",16),core.Yb())}function IssuingSiteComponent_mat_card_12_button_28_Template(rf,ctx){if(1&rf){const _r16=core.ac();core.Zb(0,\"button\",49),core.hc(\"click\",(function(){core.Hc(_r16);const dep_r14=ctx.$implicit;return core.lc(2).addressBANCurrentDepartment=dep_r14})),core.Sc(1),core.Yb()}if(2&rf){const dep_r14=ctx.$implicit;core.Eb(1),core.Tc(dep_r14)}}function IssuingSiteComponent_mat_card_12_ng_container_34_mat_option_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",50),core.Sc(1),core.Yb()),2&rf){const addressBANResult_r18=ctx.$implicit;core.sc(\"value\",addressBANResult_r18),core.Eb(1),core.Uc(\" \",addressBANResult_r18.address,\" \")}}function IssuingSiteComponent_mat_card_12_ng_container_34_Template(rf,ctx){if(1&rf&&(core.Xb(0),core.Qc(1,IssuingSiteComponent_mat_card_12_ng_container_34_mat_option_1_Template,2,2,\"mat-option\",46),core.mc(2,\"async\"),core.Wb()),2&rf){const ctx_r8=core.lc(2);core.Eb(1),core.sc(\"ngForOf\",core.nc(2,1,ctx_r8.addressBANFilteredResult))}}function IssuingSiteComponent_mat_card_12_mat_option_35_Template(rf,ctx){if(1&rf&&core.Ub(0,\"mat-option\",51),2&rf){const ctx_r9=core.lc(2);core.sc(\"innerHTML\",ctx_r9.addressBANInfo,core.Ic)}}function IssuingSiteComponent_mat_card_12_mat_option_36_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-option\",52),core.Ub(1,\"mat-spinner\",53),core.Yb())}function IssuingSiteComponent_mat_card_12_mat_option_75_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-option\",50),core.Sc(1),core.Yb()),2&rf){const country_r19=ctx.$implicit;core.sc(\"value\",country_r19),core.Eb(1),core.Uc(\" \",country_r19,\" \")}}function IssuingSiteComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r21=core.ac();core.Zb(0,\"mat-card\",17),core.Zb(1,\"form\",18),core.hc(\"ngSubmit\",(function(){return core.Hc(_r21),core.lc().onSubmit()})),core.Zb(2,\"div\"),core.Zb(3,\"mat-form-field\"),core.Zb(4,\"mat-label\"),core.Sc(5),core.mc(6,\"translate\"),core.Yb(),core.Ub(7,\"input\",19),core.Yb(),core.Zb(8,\"mat-form-field\"),core.Zb(9,\"mat-label\"),core.Sc(10),core.mc(11,\"translate\"),core.Yb(),core.Ub(12,\"input\",20),core.Yb(),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"mat-label\"),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Ub(17,\"input\",21),core.Yb(),core.Zb(18,\"div\",22),core.Zb(19,\"div\",23),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Zb(22,\"mat-form-field\",24),core.Zb(23,\"button\",25),core.hc(\"click\",(function($event){return core.Hc(_r21),$event.stopPropagation()})),core.Sc(24),core.Ub(25,\"i\",26),core.Yb(),core.Zb(26,\"mat-menu\",null,27),core.Qc(28,IssuingSiteComponent_mat_card_12_button_28_Template,2,1,\"button\",28),core.Yb(),core.Ub(29,\"mat-icon\",29),core.Zb(30,\"input\",30,31),core.hc(\"click\",(function($event){return core.Hc(_r21),$event.stopPropagation()}))(\"focus\",(function(){return core.Hc(_r21),core.lc().resetAutocompleteAddressBan()})),core.Yb(),core.Zb(32,\"mat-autocomplete\",32,33),core.hc(\"optionSelected\",(function($event){return core.Hc(_r21),core.lc().selectAddressBan($event)})),core.Qc(34,IssuingSiteComponent_mat_card_12_ng_container_34_Template,3,3,\"ng-container\",34),core.Qc(35,IssuingSiteComponent_mat_card_12_mat_option_35_Template,1,1,\"mat-option\",35),core.Qc(36,IssuingSiteComponent_mat_card_12_mat_option_36_Template,2,0,\"mat-option\",36),core.Yb(),core.Yb(),core.Zb(37,\"mat-form-field\"),core.Zb(38,\"mat-label\"),core.Sc(39),core.mc(40,\"translate\"),core.Yb(),core.Ub(41,\"input\",37),core.Yb(),core.Zb(42,\"mat-form-field\"),core.Zb(43,\"mat-label\"),core.Sc(44),core.mc(45,\"translate\"),core.Yb(),core.Ub(46,\"input\",38),core.Yb(),core.Zb(47,\"mat-form-field\"),core.Zb(48,\"mat-label\"),core.Sc(49),core.mc(50,\"translate\"),core.Yb(),core.Ub(51,\"input\",39),core.Yb(),core.Zb(52,\"mat-form-field\"),core.Zb(53,\"mat-label\"),core.Sc(54),core.mc(55,\"translate\"),core.Yb(),core.Ub(56,\"input\",40),core.Yb(),core.Zb(57,\"mat-form-field\"),core.Zb(58,\"mat-label\"),core.Sc(59),core.mc(60,\"translate\"),core.Yb(),core.Ub(61,\"input\",41),core.Yb(),core.Zb(62,\"mat-form-field\"),core.Zb(63,\"mat-label\"),core.Sc(64),core.mc(65,\"translate\"),core.Yb(),core.Ub(66,\"input\",42),core.Yb(),core.Zb(67,\"mat-form-field\"),core.Zb(68,\"mat-label\"),core.Sc(69),core.mc(70,\"translate\"),core.Yb(),core.Ub(71,\"input\",43,31),core.Zb(73,\"mat-autocomplete\",44,45),core.hc(\"optionSelected\",(function($event){return core.Hc(_r21),core.lc().adminFormGroup.controls.addressCountry.setValue($event.option.value)})),core.Qc(75,IssuingSiteComponent_mat_card_12_mat_option_75_Template,2,2,\"mat-option\",46),core.mc(76,\"async\"),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(77,\"div\",47),core.Zb(78,\"button\",48),core.Sc(79),core.mc(80,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const _r4=core.Dc(27),_r7=core.Dc(33),_r12=core.Dc(74),ctx_r1=core.lc();core.Eb(1),core.sc(\"formGroup\",ctx_r1.adminFormGroup),core.Eb(4),core.Tc(core.nc(6,26,\"lang.siteName\")),core.Eb(5),core.Tc(core.nc(11,28,\"lang.coclicoNumber\")),core.Eb(5),core.Tc(core.nc(16,30,\"lang.postOffice\")),core.Eb(5),core.Uc(\" \",core.nc(21,32,\"lang.address\"),\" \"),core.Eb(3),core.sc(\"matMenuTriggerFor\",_r4)(\"title\",ctx_r1.translate.instant(\"lang.targetDepartment\")),core.Eb(1),core.Uc(\" \",ctx_r1.addressBANCurrentDepartment,\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r1.departmentList),core.Eb(2),core.sc(\"placeholder\",ctx_r1.translate.instant(\"lang.searchAddressBan\"))(\"formControl\",ctx_r1.addressBANControl)(\"matAutocomplete\",_r7),core.Eb(4),core.sc(\"ngIf\",ctx_r1.addressBANResult.length>0&&!ctx_r1.addressBANLoading),core.Eb(1),core.sc(\"ngIf\",0===ctx_r1.addressBANResult.length&&!ctx_r1.addressBANLoading),core.Eb(1),core.sc(\"ngIf\",ctx_r1.addressBANLoading),core.Eb(3),core.Tc(core.nc(40,34,\"lang.contactsParameters_addressAdditional1\")),core.Eb(5),core.Tc(core.nc(45,36,\"lang.contactsParameters_addressNumber\")),core.Eb(5),core.Tc(core.nc(50,38,\"lang.contactsParameters_addressStreet\")),core.Eb(5),core.Tc(core.nc(55,40,\"lang.contactsParameters_addressAdditional2\")),core.Eb(5),core.Tc(core.nc(60,42,\"lang.contactsParameters_addressPostcode\")),core.Eb(5),core.Tc(core.nc(65,44,\"lang.contactsParameters_addressTown\")),core.Eb(5),core.Tc(core.nc(70,46,\"lang.contactsParameters_addressCountry\")),core.Eb(2),core.sc(\"matAutocomplete\",_r12),core.Eb(4),core.sc(\"ngForOf\",core.nc(76,48,ctx_r1.countriesFilteredResult)),core.Eb(3),core.sc(\"disabled\",!ctx_r1.adminFormGroup.valid),core.Eb(1),core.Tc(core.nc(80,50,\"lang.save\"))}}let issuing_site_component_IssuingSiteComponent=(()=>{class IssuingSiteComponent{constructor(translate,http,route,router,notify,headerService,appService,_formBuilder,latinisePipe){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this._formBuilder=_formBuilder,this.latinisePipe=latinisePipe,this.loading=!0,this.entities=[],this.countries=[],this.id=null,this.addressBANInfo=\"\",this.addressBANMode=!0,this.addressBANControl=new fesm2015_forms.h,this.addressBANLoading=!1,this.addressBANResult=[],this.addressBANCurrentDepartment=\"75\",this.departmentList=[]}ngOnInit(){this.route.params.subscribe(params=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){void 0===params.id?(this.creationMode=!0,this.headerService.setHeader(this.translate.instant(\"lang.issuingSiteCreation\")),this.initBanSearch(),this.initAutocompleteAddressBan(),this.adminFormGroup=this._formBuilder.group({id:[null],label:[\"\",fesm2015_forms.H.required],postOfficeLabel:[\"\",fesm2015_forms.H.required],accountNumber:[\"\",fesm2015_forms.H.required],addressNumber:[\"\",fesm2015_forms.H.required],addressStreet:[\"\",fesm2015_forms.H.required],addressAdditional1:[\"\"],addressAdditional2:[\"\"],addressPostcode:[\"\",fesm2015_forms.H.required],addressTown:[\"\",fesm2015_forms.H.required],addressCountry:[\"\"]}),this.getCountries(),this.initAutocompleteCountries(),this.loading=!1,yield this.getEntities(),this.maarchTree.initData(this.entities)):(this.id=params.id,this.creationMode=!1,this.headerService.setHeader(this.translate.instant(\"lang.issuingSiteModification\")),this.initBanSearch(),this.initAutocompleteAddressBan(),yield this.getEntities(),yield this.getData(),this.getCountries(),this.initAutocompleteCountries(),this.maarchTree.initData(this.entities))})))}getData(){return new Promise(resolve=>{this.http.get(\"../rest/registeredMail/sites/\"+this.id).pipe(Object(tap.a)(data=>{this.adminFormGroup=this._formBuilder.group({id:[this.id],label:[data.site.label,fesm2015_forms.H.required],postOfficeLabel:[data.site.postOfficeLabel,fesm2015_forms.H.required],accountNumber:[data.site.accountNumber,fesm2015_forms.H.required],addressNumber:[data.site.addressNumber,fesm2015_forms.H.required],addressStreet:[data.site.addressStreet,fesm2015_forms.H.required],addressAdditional1:[data.site.addressAdditional1],addressAdditional2:[data.site.addressAdditional2],addressPostcode:[data.site.addressPostcode,fesm2015_forms.H.required],addressTown:[data.site.addressTown,fesm2015_forms.H.required],addressCountry:[data.site.addressCountry],entities:[data.site.entities]}),this.entities=this.entities.map(entity=>Object.assign(Object.assign({},entity),{state:{opened:!0,selected:data.site.entities.indexOf(entity.id)>-1}})),resolve(!0),this.loading=!1}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}initBanSearch(){this.http.get(\"../rest/ban/availableDepartments\").pipe(Object(tap.a)(data=>{null!==data.default&&-1!==data.departments.indexOf(data.default.toString())&&(this.addressBANCurrentDepartment=data.default),this.departmentList=data.departments}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}initAutocompleteCountries(){this.countriesFilteredResult=this.adminFormGroup.controls.addressCountry.valueChanges.pipe(Object(startWith.a)(\"\"),Object(map.a)(value=>this._filter(value)))}_filter(value){const filterValue=value.toLowerCase();return this.countries.filter(option=>option.toLowerCase().includes(filterValue))}initAutocompleteAddressBan(){this.addressBANInfo=this.translate.instant(\"lang.autocompleteInfo\"),this.addressBANResult=[],this.addressBANControl.valueChanges.pipe(Object(debounceTime.a)(300),Object(filter.a)(value=>value.length>2),Object(distinctUntilChanged.a)(),Object(tap.a)(()=>this.addressBANLoading=!0),Object(switchMap.a)(data=>this.http.get(\"../rest/autocomplete/banAddresses\",{params:{address:data,department:this.addressBANCurrentDepartment}})),Object(tap.a)(data=>{this.addressBANInfo=0===data.length?this.translate.instant(\"lang.noAvailableValue\"):\"\",this.addressBANResult=data,this.addressBANFilteredResult=Object(observable_of.of)(this.addressBANResult),this.addressBANLoading=!1})).subscribe()}resetAutocompleteAddressBan(){this.addressBANResult=[],this.addressBANInfo=this.translate.instant(\"lang.autocompleteInfo\")}selectAddressBan(ev){this.adminFormGroup.controls.addressNumber.setValue(ev.option.value.number),this.adminFormGroup.controls.addressStreet.setValue(ev.option.value.afnorName),this.adminFormGroup.controls.addressPostcode.setValue(ev.option.value.postalCode),this.adminFormGroup.controls.addressTown.setValue(ev.option.value.city),this.adminFormGroup.controls.addressCountry.setValue(\"FRANCE\"),this.addressBANControl.setValue(\"\")}getEntities(){return new Promise(resolve=>{this.http.get(\"../rest/entities\").pipe(Object(map.a)(data=>(data.entities=data.entities.map(entity=>({text:entity.entity_label,icon:entity.icon,parent_id:entity.parentSerialId,id:entity.serialId,state:{opened:!0}})),data.entities)),Object(tap.a)(entities=>{this.entities=entities,resolve(!0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}getCountries(){this.http.get(\"../rest/registeredMail/countries\").pipe(Object(tap.a)(data=>{this.countries=data.countries.map(item=>this.latinisePipe.transform(item.toUpperCase()))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}onSubmit(){const objToSubmit={};Object.keys(this.adminFormGroup.controls).forEach(key=>{objToSubmit[key]=this.adminFormGroup.controls[key].value}),objToSubmit.entities=this.maarchTree.getSelectedNodes().map(ent=>ent.id),this.creationMode?this.http.post(\"../rest/registeredMail/sites\",objToSubmit).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.issuingSiteAdded\")),this.router.navigate([\"/administration/issuingSites\"])},err=>{this.notify.handleSoftErrors(err)}):this.http.put(\"../rest/registeredMail/sites/\"+this.id,objToSubmit).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.issuingSiteUpdated\")),this.router.navigate([\"/administration/issuingSites\"])},err=>{this.notify.handleSoftErrors(err)})}}return IssuingSiteComponent.ɵfac=function(t){return new(t||IssuingSiteComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_forms.g),core.Tb(ngx_pipes.c))},IssuingSiteComponent.ɵcmp=core.Nb({type:IssuingSiteComponent,selectors:[[\"app-issuing-site\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.Oc(issuing_site_component_c0,!0),2&rf&&core.Cc(_t=core.ic())&&(ctx.maarchTree=_t.first)},decls:22,vars:14,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"fixedTopGap\",\"56\",\"position\",\"end\",2,\"overflow-x\",\"hidden\",\"width\",\"400px\",3,\"mode\",\"fixedInViewport\",\"opened\"],[\"snav2\",\"\"],[\"mat-subheader\",\"\"],[2,\"padding\",\"10px\"],[\"maarchTree\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[2,\"display\",\"contents\",3,\"formGroup\",\"ngSubmit\"],[\"matInput\",\"\",\"formControlName\",\"label\"],[\"type\",\"text\",\"pattern\",\"[0-9]+\",\"maxlength\",\"10\",\"matInput\",\"\",\"formControlName\",\"accountNumber\"],[\"matInput\",\"\",\"formControlName\",\"postOfficeLabel\"],[1,\"formType\",\"ratio-1\",\"col-sm-12\"],[1,\"formType-title\"],[\"appearance\",\"outline\",1,\"smallInput\"],[\"mat-button\",\"\",\"matSuffix\",\"\",3,\"matMenuTriggerFor\",\"title\",\"click\"],[1,\"fa\",\"fa-chevron-down\"],[\"menuDep\",\"matMenu\"],[\"mat-menu-item\",\"\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"color\",\"primary\",\"matPrefix\",\"\",1,\"fa\",\"fa-search\",2,\"font-size\",\"15px\"],[\"type\",\"text\",\"matInput\",\"\",\"maxlength\",\"128\",3,\"placeholder\",\"formControl\",\"matAutocomplete\",\"click\",\"focus\"],[\"autoCompleteInput\",\"\"],[3,\"optionSelected\"],[\"auto\",\"matAutocomplete\"],[4,\"ngIf\"],[\"class\",\"autoCompleteInfoResult smallInputInfo\",\"disabled\",\"\",3,\"innerHTML\",4,\"ngIf\"],[\"disabled\",\"\",4,\"ngIf\"],[\"matInput\",\"\",\"formControlName\",\"addressAdditional1\"],[\"matInput\",\"\",\"formControlName\",\"addressNumber\"],[\"matInput\",\"\",\"formControlName\",\"addressStreet\"],[\"matInput\",\"\",\"formControlName\",\"addressAdditional2\"],[\"matInput\",\"\",\"formControlName\",\"addressPostcode\"],[\"matInput\",\"\",\"formControlName\",\"addressTown\"],[\"matInput\",\"\",\"formControlName\",\"addressCountry\",3,\"matAutocomplete\"],[\"isOpen\",\"true\",3,\"optionSelected\"],[\"matAutocompleteCountries\",\"matAutocomplete\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[\"mat-menu-item\",\"\",3,\"click\"],[3,\"value\"],[\"disabled\",\"\",1,\"autoCompleteInfoResult\",\"smallInputInfo\",3,\"innerHTML\"],[\"disabled\",\"\"],[\"diameter\",\"20\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,IssuingSiteComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,IssuingSiteComponent_mat_card_12_Template,81,52,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Zb(13,\"mat-sidenav\",10,11),core.Zb(15,\"mat-list\"),core.Zb(16,\"h3\",12),core.Sc(17),core.mc(18,\"translate\"),core.Yb(),core.Zb(19,\"div\",13),core.Ub(20,\"app-maarch-flat-tree\",null,14),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading),core.Eb(1),core.sc(\"mode\",ctx.appService.getViewMode()?\"over\":\"side\")(\"fixedInViewport\",ctx.appService.getViewMode())(\"opened\",!ctx.appService.getViewMode()),core.Eb(4),core.Tc(core.nc(18,12,\"lang.chooseEntityAssociationModel\")))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,sidenav.d,list.a,list.g,maarch_flat_tree_component.a,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.l,form_field.c,form_field.g,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.j,fesm2015_forms.A,fesm2015_forms.o,fesm2015_button.b,form_field.j,menu.d,menu.e,common.s,icon.a,form_field.i,autocomplete.d,fesm2015_forms.i,autocomplete.a,menu.b,fesm2015_core.o],pipes:[ngx_translate_core.d,common.b],styles:[\".formType[_ngcontent-%COMP%]{align-items:center;display:flex;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px 20px;flex-direction:column}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-slide-toggle-label{color:#666;font-weight:700}.formType[_ngcontent-%COMP%]    .mat-radio-button, .formType[_ngcontent-%COMP%]    .mat-slide-toggle{opacity:.5;color:#666;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.formType[_ngcontent-%COMP%]    .mat-checked, .formType[_ngcontent-%COMP%]    .mat-radio-checked{opacity:1;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-checked .mat-slide-toggle-label{color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.ratio-1[_ngcontent-%COMP%], .ratio-2[_ngcontent-%COMP%]{flex:1}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{width:30px;height:25px;color:#135f7f}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;line-height:normal;align-items:center}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}\"]}),IssuingSiteComponent})();const registered_mail_list_component_c0=[\"adminMenuTemplate\"];function RegisteredMailListComponent_ng_template_1_a_11_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"a\",16),core.Ub(1,\"mat-icon\",17),core.Zb(2,\"p\",14),core.Sc(3),core.Yb(),core.Yb()),2&rf){const menu_r5=ctx.$implicit;core.Jb(\"active\",menu_r5.current),core.sc(\"routerLink\",menu_r5.route),core.Eb(1),core.Gb(menu_r5.icon),core.Eb(2),core.Uc(\" \",menu_r5.label,\" \")}}function RegisteredMailListComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-nav-list\"),core.Zb(1,\"h3\",11),core.Sc(2),core.mc(3,\"translate\"),core.Yb(),core.Zb(4,\"a\",12),core.Ub(5,\"mat-icon\",13),core.Zb(6,\"p\",14),core.Sc(7),core.mc(8,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Ub(9,\"mat-divider\"),core.Zb(10,\"mat-nav-list\"),core.Qc(11,RegisteredMailListComponent_ng_template_1_a_11_Template,4,6,\"a\",15),core.Yb()),2&rf){const ctx_r1=core.lc();core.Eb(2),core.Tc(core.nc(3,3,\"lang.actions\")),core.Eb(5),core.Uc(\" \",core.nc(8,5,\"lang.add\"),\" \"),core.Eb(4),core.sc(\"ngForOf\",ctx_r1.subMenus)}}function RegisteredMailListComponent_div_13_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",18),core.Ub(1,\"mat-spinner\",19),core.Yb())}function RegisteredMailListComponent_mat_card_14_mat_header_cell_12_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.issuingSite\"),\" \"))}function RegisteredMailListComponent_mat_card_14_mat_cell_13_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",46),core.Sc(1),core.Yb()),2&rf){const element_r26=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r26.label,\" \")}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_15_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.trackerNumber\"),\" \"))}function RegisteredMailListComponent_mat_card_14_mat_cell_16_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",46),core.Sc(1),core.Yb()),2&rf){const element_r27=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r27.trackerNumber,\" \")}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_18_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",45),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.type\"),\" \"))}function RegisteredMailListComponent_mat_card_14_mat_cell_19_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\",46),core.Sc(1),core.Yb()),2&rf){const element_r28=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r28.typeLabel,\" \")}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_21_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",47),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.rangeNumber\"),\" \"))}function RegisteredMailListComponent_mat_card_14_mat_cell_22_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r29=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r29.rangeNumber,\" \")}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_24_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",47),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.currentNumber\"),\" \"))}function RegisteredMailListComponent_mat_card_14_mat_cell_25_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Sc(1),core.Yb()),2&rf){const element_r30=ctx.$implicit;core.Eb(1),core.Uc(\" \",element_r30.currentNumber,\" \")}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_27_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",47),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.status\"),\" \"))}const registered_mail_list_component_c1=function(){return[\"OK\"]},registered_mail_list_component_c2=function(){return[\"SPD\"]},registered_mail_list_component_c3=function(){return[\"END\"]},registered_mail_list_component_c4=function(a0,a1,a2){return{statusLabelPrimary:a0,statusLabelWarn:a1,statusLabelDanger:a2}};function RegisteredMailListComponent_mat_card_14_mat_cell_28_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Zb(1,\"span\",48),core.Sc(2),core.Yb(),core.Yb()),2&rf){const element_r31=ctx.$implicit;core.Eb(1),core.sc(\"ngClass\",core.Bc(5,registered_mail_list_component_c4,core.yc(2,registered_mail_list_component_c1).indexOf(element_r31.status)>-1,core.yc(3,registered_mail_list_component_c2).indexOf(element_r31.status)>-1,core.yc(4,registered_mail_list_component_c3).indexOf(element_r31.status)>-1)),core.Eb(1),core.Tc(element_r31.statusLabel)}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_30_Template(rf,ctx){1&rf&&(core.Zb(0,\"mat-header-cell\",47),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.fullness\"),\" \"))}function RegisteredMailListComponent_mat_card_14_mat_cell_31_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-cell\"),core.Zb(1,\"div\",49),core.Ub(2,\"mat-progress-spinner\",50),core.Zb(3,\"div\",51),core.Sc(4),core.Yb(),core.Yb(),core.Yb()),2&rf){const element_r32=ctx.$implicit;core.Eb(1),core.Jb(\"fullness-ok\",element_r32.fullness<50)(\"fullness-warning\",element_r32.fullness>=50&&element_r32.fullness<80)(\"fullness-danger\",element_r32.fullness>=80),core.Eb(1),core.sc(\"value\",element_r32.fullness),core.Eb(2),core.Uc(\"\",element_r32.fullness,\"%\")}}function RegisteredMailListComponent_mat_card_14_mat_header_cell_33_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-cell\")}function RegisteredMailListComponent_mat_card_14_mat_cell_34_button_1_Template(rf,ctx){if(1&rf){const _r37=core.ac();core.Zb(0,\"button\",57),core.hc(\"click\",(function($event){core.Hc(_r37);const element_r33=core.lc().$implicit,ctx_r36=core.lc(2);return $event.stopPropagation(),ctx_r36.activate(element_r33)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",58),core.Yb()}if(2&rf){const element_r33=core.lc().$implicit;core.tc(\"matTooltip\",core.nc(1,2,\"Activer la plage\")),core.sc(\"disabled\",100===element_r33.fullness)}}function RegisteredMailListComponent_mat_card_14_mat_cell_34_button_2_Template(rf,ctx){if(1&rf){const _r41=core.ac();core.Zb(0,\"button\",59),core.hc(\"click\",(function($event){core.Hc(_r41);const element_r33=core.lc().$implicit,ctx_r40=core.lc(2);return $event.stopPropagation(),ctx_r40.stop(element_r33)})),core.mc(1,\"translate\"),core.Ub(2,\"mat-icon\",60),core.Yb()}2&rf&&core.tc(\"matTooltip\",core.nc(1,1,\"Clôturer la plage\"))}function RegisteredMailListComponent_mat_card_14_mat_cell_34_Template(rf,ctx){if(1&rf){const _r44=core.ac();core.Zb(0,\"mat-cell\",52),core.Qc(1,RegisteredMailListComponent_mat_card_14_mat_cell_34_button_1_Template,3,4,\"button\",53),core.Qc(2,RegisteredMailListComponent_mat_card_14_mat_cell_34_button_2_Template,3,3,\"button\",54),core.Zb(3,\"button\",55),core.hc(\"click\",(function($event){core.Hc(_r44);const element_r33=ctx.$implicit,ctx_r43=core.lc(2);return $event.stopPropagation(),ctx_r43.delete(element_r33)})),core.mc(4,\"translate\"),core.Ub(5,\"mat-icon\",56),core.Yb(),core.Yb()}if(2&rf){const element_r33=ctx.$implicit;core.Eb(1),core.sc(\"ngIf\",\"SPD\"===element_r33.status),core.Eb(1),core.sc(\"ngIf\",\"OK\"===element_r33.status),core.Eb(1),core.tc(\"matTooltip\",core.nc(4,4,\"lang.delete\")),core.sc(\"disabled\",\"OK\"===element_r33.status)}}function RegisteredMailListComponent_mat_card_14_mat_header_row_35_Template(rf,ctx){1&rf&&core.Ub(0,\"mat-header-row\")}function RegisteredMailListComponent_mat_card_14_mat_row_36_Template(rf,ctx){1&rf&&(core.Ub(0,\"mat-row\",61),core.mc(1,\"translate\")),2&rf&&(core.uc(\"routerLink\",\"/administration/registeredMails/\",ctx.$implicit.id,\"\"),core.tc(\"matTooltip\",core.nc(1,2,\"lang.view\")))}function RegisteredMailListComponent_mat_card_14_Template(rf,ctx){if(1&rf&&(core.Zb(0,\"mat-card\",20),core.Zb(1,\"div\",21),core.Zb(2,\"div\",22),core.Zb(3,\"mat-form-field\"),core.Ub(4,\"input\",23),core.mc(5,\"translate\"),core.Yb(),core.Yb(),core.Zb(6,\"div\",22),core.Ub(7,\"mat-paginator\",24,25),core.Yb(),core.Yb(),core.Zb(9,\"mat-table\",26,27),core.Xb(11,28),core.Qc(12,RegisteredMailListComponent_mat_card_14_mat_header_cell_12_Template,3,3,\"mat-header-cell\",29),core.Qc(13,RegisteredMailListComponent_mat_card_14_mat_cell_13_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(14,31),core.Qc(15,RegisteredMailListComponent_mat_card_14_mat_header_cell_15_Template,3,3,\"mat-header-cell\",29),core.Qc(16,RegisteredMailListComponent_mat_card_14_mat_cell_16_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(17,32),core.Qc(18,RegisteredMailListComponent_mat_card_14_mat_header_cell_18_Template,3,3,\"mat-header-cell\",29),core.Qc(19,RegisteredMailListComponent_mat_card_14_mat_cell_19_Template,2,1,\"mat-cell\",30),core.Wb(),core.Xb(20,33),core.Qc(21,RegisteredMailListComponent_mat_card_14_mat_header_cell_21_Template,3,3,\"mat-header-cell\",34),core.Qc(22,RegisteredMailListComponent_mat_card_14_mat_cell_22_Template,2,1,\"mat-cell\",35),core.Wb(),core.Xb(23,36),core.Qc(24,RegisteredMailListComponent_mat_card_14_mat_header_cell_24_Template,3,3,\"mat-header-cell\",34),core.Qc(25,RegisteredMailListComponent_mat_card_14_mat_cell_25_Template,2,1,\"mat-cell\",35),core.Wb(),core.Xb(26,37),core.Qc(27,RegisteredMailListComponent_mat_card_14_mat_header_cell_27_Template,3,3,\"mat-header-cell\",34),core.Qc(28,RegisteredMailListComponent_mat_card_14_mat_cell_28_Template,3,9,\"mat-cell\",35),core.Wb(),core.Xb(29,38),core.Qc(30,RegisteredMailListComponent_mat_card_14_mat_header_cell_30_Template,3,3,\"mat-header-cell\",34),core.Qc(31,RegisteredMailListComponent_mat_card_14_mat_cell_31_Template,5,8,\"mat-cell\",35),core.Wb(),core.Xb(32,39),core.Qc(33,RegisteredMailListComponent_mat_card_14_mat_header_cell_33_Template,1,0,\"mat-header-cell\",40),core.Qc(34,RegisteredMailListComponent_mat_card_14_mat_cell_34_Template,6,6,\"mat-cell\",41),core.Wb(),core.Qc(35,RegisteredMailListComponent_mat_card_14_mat_header_row_35_Template,1,0,\"mat-header-row\",42),core.Qc(36,RegisteredMailListComponent_mat_card_14_mat_row_36_Template,2,4,\"mat-row\",43),core.Yb(),core.Zb(37,\"div\",44),core.Sc(38),core.mc(39,\"translate\"),core.Yb(),core.Yb()),2&rf){const ctx_r3=core.lc();core.Eb(4),core.tc(\"placeholder\",core.nc(5,10,\"lang.filterBy\")),core.sc(\"formControl\",ctx_r3.adminService.getFilterField()),core.Eb(3),core.sc(\"length\",100)(\"hidePageSize\",!0)(\"pageSize\",10),core.Eb(2),core.sc(\"dataSource\",ctx_r3.adminService.getDataSource()),core.Eb(26),core.sc(\"matHeaderRowDef\",ctx_r3.displayedColumns),core.Eb(1),core.sc(\"matRowDefColumns\",ctx_r3.displayedColumns),core.Eb(2),core.Vc(\" \",ctx_r3.data.length,\" \",core.nc(39,12,\"lang.registeredMailNumberRanges\"),\"\")}}let registered_mail_list_component_RegisteredMailListComponent=(()=>{class RegisteredMailListComponent{constructor(translate,http,notify,headerService,appService,functions,adminService,viewContainerRef,dialog){this.translate=translate,this.http=http,this.notify=notify,this.headerService=headerService,this.appService=appService,this.functions=functions,this.adminService=adminService,this.viewContainerRef=viewContainerRef,this.dialog=dialog,this.subMenus=[{icon:\"fas fa-dolly-flatbed\",route:\"/administration/registeredMails\",label:this.translate.instant(\"lang.registeredMailNumberRanges\"),current:!0},{icon:\"fas fa-warehouse\",route:\"/administration/issuingSites\",label:this.translate.instant(\"lang.issuingSites\"),current:!1}],this.parameters={},this.loading=!0,this.data=[],this.displayedColumns=[\"trackerNumber\",\"label\",\"typeLabel\",\"rangeNumber\",\"currentNumber\",\"status\",\"fullness\",\"actions\"],this.filterColumns=[\"label\",\"trackerNumber\",\"typeLabel\",\"rangeNumber\",\"currentNumber\",\"fullness\",\"statusLabel\"]}ngOnInit(){this.headerService.setHeader(this.translate.instant(\"lang.administration\")+\" \"+this.translate.instant(\"lang.registeredMailNumberRanges\")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,\"adminMenu\"),this.loading=!1,this.getData()}getData(){this.data=[],this.http.get(\"../rest/registeredMail/ranges\").pipe(Object(tap.a)(data=>{this.data=data.ranges.map(item=>Object.assign(Object.assign({},item),{statusLabel:this.translate.instant(\"lang.registeredMail_\"+item.status),typeLabel:this.translate.instant(\"lang.registeredMail_\"+item.registeredMailType),rangeNumber:`${item.rangeStart} - ${item.rangeEnd}`})),this.loading=!1,setTimeout(()=>{this.adminService.setDataSource(\"admin_regitered_mail\",this.data,this.sort,this.paginator,this.filterColumns)},0)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}activate(row){const dataTosend=JSON.parse(JSON.stringify(row));dataTosend.status=\"OK\",this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.activate\"),msg:\"En activant cette plage, cela clôturera la plage actuelle utilisée pour ce type de recommandé.\"}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.put(\"../rest/registeredMail/ranges/\"+row.id,dataTosend)),Object(tap.a)(()=>{this.data.forEach(item=>{\"OK\"===item.status&&item.registeredMailType===row.registeredMailType&&item.siteId===row.siteId?(item.status=\"END\",item.currentNumber=null,item.statusLabel=this.translate.instant(\"lang.registeredMail_\"+item.status)):item.id===row.id&&(item.status=\"OK\",item.currentNumber=item.rangeStart,item.statusLabel=this.translate.instant(\"lang.registeredMail_\"+item.status))}),setTimeout(()=>{this.adminService.setDataSource(\"admin_regitered_mail\",this.data,this.sort,this.paginator,this.filterColumns)},0),this.notify.success(this.translate.instant(\"Plage activée\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}stop(row){const dataTosend=JSON.parse(JSON.stringify(row));dataTosend.status=\"END\",this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.suspend\"),msg:\"En clôturant la plage, vous ne pourrez plus utiliser de recommandé de ce type tant que vous n'en n'aurez pas activé une autre.\"}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.put(\"../rest/registeredMail/ranges/\"+row.id,dataTosend)),Object(tap.a)(()=>{row.status=\"END\",row.statusLabel=this.translate.instant(\"lang.registeredMail_\"+row.status),setTimeout(()=>{this.adminService.setDataSource(\"admin_regitered_mail\",this.data,this.sort,this.paginator,this.filterColumns)},0),this.notify.success(this.translate.instant(\"Plage cloturée\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}delete(row){this.dialog.open(confirm_component.a,{panelClass:\"maarch-modal\",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant(\"lang.delete\"),msg:this.translate.instant(\"lang.confirmAction\")}}).afterClosed().pipe(Object(filter.a)(data=>\"ok\"===data),Object(exhaustMap.a)(()=>this.http.delete(\"../rest/registeredMail/ranges/\"+row.id)),Object(tap.a)(()=>{this.data=this.data.filter(item=>item.id!==row.id),setTimeout(()=>{this.adminService.setDataSource(\"admin_regitered_mail\",this.data,this.sort,this.paginator,this.filterColumns)},0),this.notify.success(this.translate.instant(\"lang.issuingSiteDeleted\"))}),Object(catchError.a)(err=>(this.notify.handleErrors(err),Object(observable_of.of)(!1)))).subscribe()}}return RegisteredMailListComponent.ɵfac=function(t){return new(t||RegisteredMailListComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(functions_service.a),core.Tb(administration_service_AdministrationService),core.Tb(core.R),core.Tb(fesm2015_dialog.b))},RegisteredMailListComponent.ɵcmp=core.Nb({type:RegisteredMailListComponent,selectors:[[\"app-registered-mail-list\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(core.Oc(registered_mail_list_component_c0,!0),core.ad(fesm2015_paginator.a,!0),core.ad(fesm2015_sort.a,!0)),2&rf&&(core.Cc(_t=core.ic())&&(ctx.adminMenuTemplate=_t.first),core.Cc(_t=core.ic())&&(ctx.paginator=_t.first),core.Cc(_t=core.ic())&&(ctx.sort=_t.first))},decls:15,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[\"adminMenuTemplate\",\"\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[\"mat-subheader\",\"\"],[\"mat-list-item\",\"\",\"routerLink\",\"/administration/registeredMails/new\"],[\"color\",\"primary\",\"mat-list-icon\",\"\",1,\"fa\",\"fa-plus\"],[\"mat-line\",\"\"],[\"mat-list-item\",\"\",3,\"active\",\"routerLink\",4,\"ngFor\",\"ngForOf\"],[\"mat-list-item\",\"\",3,\"routerLink\"],[\"color\",\"primary\",\"mat-list-icon\",\"\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[1,\"row\"],[1,\"col-md-6\",\"col-xs-6\"],[\"matInput\",\"\",3,\"formControl\",\"placeholder\"],[3,\"length\",\"hidePageSize\",\"pageSize\"],[\"paginator\",\"\"],[\"matSort\",\"\",\"matSortDisableClear\",\"\",3,\"dataSource\"],[\"table\",\"\"],[\"matColumnDef\",\"label\"],[\"mat-sort-header\",\"\",\"style\",\"flex:2\",4,\"matHeaderCellDef\"],[\"style\",\"flex:2\",4,\"matCellDef\"],[\"matColumnDef\",\"trackerNumber\"],[\"matColumnDef\",\"typeLabel\"],[\"matColumnDef\",\"rangeNumber\"],[\"mat-sort-header\",\"\",4,\"matHeaderCellDef\"],[4,\"matCellDef\"],[\"matColumnDef\",\"currentNumber\"],[\"matColumnDef\",\"status\"],[\"matColumnDef\",\"fullness\"],[\"matColumnDef\",\"actions\"],[4,\"matHeaderCellDef\"],[\"style\",\"justify-content: flex-end;\",4,\"matCellDef\"],[4,\"matHeaderRowDef\"],[\"style\",\"cursor:pointer;\",3,\"routerLink\",\"matTooltip\",4,\"matRowDef\",\"matRowDefColumns\"],[1,\"mat-paginator\",2,\"min-height\",\"48px\",\"min-height\",\"48px\",\"display\",\"flex\",\"justify-content\",\"end\",\"align-items\",\"center\",\"padding-right\",\"20px\"],[\"mat-sort-header\",\"\",2,\"flex\",\"2\"],[2,\"flex\",\"2\"],[\"mat-sort-header\",\"\"],[1,\"label\",3,\"ngClass\"],[1,\"fullness\",\"full\"],[\"color\",\"primay\",\"mode\",\"determinate\",\"diameter\",\"54\",3,\"value\"],[1,\"percent\"],[2,\"justify-content\",\"flex-end\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"matTooltip\",\"disabled\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\",4,\"ngIf\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"disabled\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fa-trash-alt\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"accent\",3,\"matTooltip\",\"disabled\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fas\",\"fa-play\",\"fa-2x\"],[\"mat-icon-button\",\"\",\"color\",\"warn\",3,\"matTooltip\",\"click\"],[\"aria-hidden\",\"true\",1,\"fa\",\"fas\",\"fa-stop-circle\",\"fa-2x\"],[2,\"cursor\",\"pointer\",3,\"routerLink\",\"matTooltip\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Qc(1,RegisteredMailListComponent_ng_template_1_Template,12,7,\"ng-template\",null,1,core.Rc),core.Zb(3,\"mat-sidenav-content\"),core.Zb(4,\"div\",2),core.Zb(5,\"div\",3),core.Zb(6,\"div\",4),core.Ub(7,\"header-left\"),core.Yb(),core.Zb(8,\"div\",5),core.Ub(9,\"header-right\"),core.Yb(),core.Yb(),core.Ub(10,\"div\",6),core.Yb(),core.Zb(11,\"div\",7),core.Zb(12,\"div\",8),core.Qc(13,RegisteredMailListComponent_div_13_Template,2,0,\"div\",9),core.Qc(14,RegisteredMailListComponent_mat_card_14_Template,40,14,\"mat-card\",10),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(5),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,list.h,list.g,list.d,fesm2015_router.f,icon.a,list.c,fesm2015_core.k,divider.a,common.s,progress_spinner.c,card.a,form_field.c,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.i,fesm2015_paginator.a,table.n,fesm2015_sort.a,table.c,table.i,table.b,table.k,table.m,table.h,fesm2015_sort.b,table.a,common.q,progress_spinner.a,fesm2015_button.b,tooltip.b,table.j,table.l,fesm2015_router.d],pipes:[ngx_translate_core.d],styles:[\".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.fullness[_ngcontent-%COMP%]{position:relative}.percent[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translate(-50%,-50%);left:50%;font-size:10px;font-weight:700;color:#888}.fullness-ok[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:green}.fullness-warning[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:orange}.fullness-danger[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:red}.statusLabelDanger[_ngcontent-%COMP%]{color:#8e3e52}.statusLabelWarn[_ngcontent-%COMP%]{color:#f99830}.statusLabelPrimary[_ngcontent-%COMP%]{color:#135f7f}\"]}),RegisteredMailListComponent})();function RegisteredMailComponent_div_11_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",10),core.Ub(1,\"mat-spinner\",11),core.Yb())}function RegisteredMailComponent_mat_card_12_div_1_Template(rf,ctx){1&rf&&(core.Ub(0,\"div\",24),core.mc(1,\"translate\")),2&rf&&core.sc(\"innerHTML\",core.nc(1,1,\"lang.registeredMailNumberRangeModificationMsg\"),core.Ic)}function RegisteredMailComponent_mat_card_12_plugin_select_search_9_Template(rf,ctx){if(1&rf&&core.Ub(0,\"plugin-select-search\",18),2&rf){const ctx_r3=core.lc(2);core.Gb(\"\"),core.sc(\"showLabel\",!0)(\"label\",ctx_r3.translate.instant(\"lang.issuingSite\"))(\"placeholderLabel\",ctx_r3.translate.instant(\"lang.issuingSite\"))(\"datas\",ctx_r3.customerAccountNumberList)(\"formControlSelect\",ctx_r3.adminFormGroup.controls.siteId)}}function RegisteredMailComponent_mat_card_12_div_10_Template(rf,ctx){1&rf&&(core.Zb(0,\"div\",25),core.Sc(1),core.mc(2,\"translate\"),core.Yb()),2&rf&&(core.Eb(1),core.Uc(\" \",core.nc(2,1,\"lang.registeredMailNoIssuingSites\"),\" \"))}function RegisteredMailComponent_mat_card_12_Template(rf,ctx){if(1&rf){const _r6=core.ac();core.Zb(0,\"mat-card\",12),core.Qc(1,RegisteredMailComponent_mat_card_12_div_1_Template,2,3,\"div\",13),core.Zb(2,\"form\",14),core.hc(\"ngSubmit\",(function(){return core.Hc(_r6),core.lc().onSubmit()})),core.Zb(3,\"div\"),core.Zb(4,\"mat-form-field\"),core.Zb(5,\"mat-label\"),core.Sc(6),core.mc(7,\"translate\"),core.Yb(),core.Ub(8,\"input\",15),core.Yb(),core.Qc(9,RegisteredMailComponent_mat_card_12_plugin_select_search_9_Template,1,7,\"plugin-select-search\",16),core.Qc(10,RegisteredMailComponent_mat_card_12_div_10_Template,3,3,\"div\",17),core.Ub(11,\"plugin-select-search\",18),core.Zb(12,\"div\",19),core.Zb(13,\"mat-form-field\"),core.Zb(14,\"mat-label\"),core.Sc(15),core.mc(16,\"translate\"),core.Yb(),core.Zb(17,\"input\",20),core.hc(\"keypress\",(function($event){return core.Hc(_r6),core.lc().onlyNumbers($event)})),core.Yb(),core.Yb(),core.Zb(18,\"mat-form-field\"),core.Zb(19,\"mat-label\"),core.Sc(20),core.mc(21,\"translate\"),core.Yb(),core.Zb(22,\"input\",21),core.hc(\"keypress\",(function($event){return core.Hc(_r6),core.lc().onlyNumbers($event)})),core.Yb(),core.Yb(),core.Yb(),core.Yb(),core.Zb(23,\"div\",22),core.Zb(24,\"button\",23),core.Sc(25),core.mc(26,\"translate\"),core.Yb(),core.Yb(),core.Yb(),core.Yb()}if(2&rf){const ctx_r1=core.lc();core.Eb(1),core.sc(\"ngIf\",\"OK\"===ctx_r1.adminFormGroup.controls.status.value||\"END\"===ctx_r1.adminFormGroup.controls.status.value),core.Eb(1),core.sc(\"formGroup\",ctx_r1.adminFormGroup),core.Eb(4),core.Tc(core.nc(7,18,\"lang.trackerNumber\")),core.Eb(3),core.sc(\"ngIf\",ctx_r1.customerAccountNumberList.length>0),core.Eb(1),core.sc(\"ngIf\",0===ctx_r1.customerAccountNumberList.length),core.Eb(1),core.Gb(\"\"),core.sc(\"showLabel\",!0)(\"label\",ctx_r1.translate.instant(\"lang.registeredMailType\"))(\"placeholderLabel\",ctx_r1.translate.instant(\"lang.registeredMailType\"))(\"datas\",ctx_r1.registeredMailType)(\"formControlSelect\",ctx_r1.adminFormGroup.controls.registeredMailType),core.Eb(4),core.Tc(core.nc(16,20,\"lang.registeredMailStart\")),core.Eb(2),core.sc(\"min\",ctx_r1.minRange),core.Eb(3),core.Tc(core.nc(21,22,\"lang.registeredMailEnd\")),core.Eb(2),core.sc(\"min\",ctx_r1.adminFormGroup.controls.rangeStart.value),core.Eb(2),core.sc(\"disabled\",!ctx_r1.adminFormGroup.valid),core.Eb(1),core.Tc(core.nc(26,24,\"lang.save\"))}}let registered_mail_component_RegisteredMailComponent=(()=>{class RegisteredMailComponent{constructor(translate,http,route,router,notify,headerService,appService,_formBuilder){this.translate=translate,this.http=http,this.route=route,this.router=router,this.notify=notify,this.headerService=headerService,this.appService=appService,this._formBuilder=_formBuilder,this.loading=!0,this.id=null,this.minRange=1,this.customerAccountNumberList=[],this.registeredMailType=[{id:\"2D\",label:this.translate.instant(\"lang.registeredMail_2D\")},{id:\"2C\",label:this.translate.instant(\"lang.registeredMail_2C\")},{id:\"RW\",label:this.translate.instant(\"lang.registeredMail_RW\")}]}ngOnInit(){this.route.params.subscribe(params=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.getIssuingSites(),void 0===params.id?(this.creationMode=!0,this.headerService.setHeader(this.translate.instant(\"lang.registeredMailNumberRangeCreation\")),this.adminFormGroup=this._formBuilder.group({id:[null],siteId:[null,fesm2015_forms.H.required],trackerNumber:[null,fesm2015_forms.H.required],registeredMailType:[null,fesm2015_forms.H.required],rangeStart:[1,fesm2015_forms.H.required],rangeEnd:[2,fesm2015_forms.H.required],status:[\"SPD\"]}),this.loading=!1):(this.headerService.setHeader(this.translate.instant(\"lang.registeredMailNumberRangeModification\")),this.id=params.id,this.creationMode=!1,yield this.getData()),this.adminFormGroup.controls.registeredMailType.valueChanges.pipe(Object(tap.a)(()=>{this.creationMode&&this.getMinRange()})).subscribe(),this.adminFormGroup.controls.rangeStart.valueChanges.pipe(Object(tap.a)(value=>{value>this.adminFormGroup.controls.rangeEnd.value?this.adminFormGroup.controls.rangeStart.setErrors({rangeError:!0}):(this.adminFormGroup.controls.rangeStart.setErrors(null),this.adminFormGroup.controls.rangeEnd.setErrors(null))})).subscribe(),this.adminFormGroup.controls.rangeEnd.valueChanges.pipe(Object(tap.a)(value=>{value<this.adminFormGroup.controls.rangeStart.value?this.adminFormGroup.controls.rangeEnd.setErrors({rangeError:!0}):(this.adminFormGroup.controls.rangeStart.setErrors(null),this.adminFormGroup.controls.rangeEnd.setErrors(null))})).subscribe()})))}getIssuingSites(){this.http.get(\"../rest/registeredMail/sites\").pipe(Object(tap.a)(data=>{this.customerAccountNumberList=data.sites.map(item=>({id:item.id,label:`${item.label} (${item.accountNumber})`}))}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}getData(){return new Promise(resolve=>{this.http.get(\"../rest/registeredMail/ranges/\"+this.id).pipe(Object(tap.a)(data=>{this.adminFormGroup=this._formBuilder.group({id:[this.id],siteId:[data.range.siteId],trackerNumber:[data.range.trackerNumber],registeredMailType:[data.range.registeredMailType],rangeStart:[data.range.rangeStart],rangeEnd:[data.range.rangeEnd],status:[data.range.status]}),\"OK\"!==data.range.status&&\"END\"!==data.range.status||this.adminFormGroup.disable(),resolve(!0),this.loading=!1}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()})}onlyNumbers(event){let k;return k=event.charCode,(null!==this.adminFormGroup.controls.rangeStart.value||48!==k)&&k>=48&&k<=57}getMinRange(){this.http.get(`../rest/registeredMail/ranges/type/${this.adminFormGroup.controls.registeredMailType.value}/last`).pipe(Object(tap.a)(data=>{this.minRange=1===data.lastNumber?data.lastNumber:data.lastNumber+1,this.adminFormGroup.controls.rangeStart.setValue(this.minRange),this.adminFormGroup.controls.rangeEnd.value<this.adminFormGroup.controls.rangeStart.value&&this.adminFormGroup.controls.rangeEnd.setValue(this.adminFormGroup.controls.rangeStart.value+1)}),Object(catchError.a)(err=>(this.notify.handleSoftErrors(err),Object(observable_of.of)(!1)))).subscribe()}onSubmit(){const objToSubmit={};Object.keys(this.adminFormGroup.controls).forEach(key=>{objToSubmit[key]=this.adminFormGroup.controls[key].value}),this.creationMode?this.http.post(\"../rest/registeredMail/ranges\",objToSubmit).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.registeredMailNumberRangesAdded\")),this.router.navigate([\"/administration/registeredMails\"])},err=>{this.notify.handleSoftErrors(err)}):this.http.put(\"../rest/registeredMail/ranges/\"+this.id,objToSubmit).subscribe(()=>{this.notify.success(this.translate.instant(\"lang.registeredMailNumberRangesUpdated\")),this.router.navigate([\"/administration/registeredMails\"])},err=>{this.notify.handleSoftErrors(err)})}}return RegisteredMailComponent.ɵfac=function(t){return new(t||RegisteredMailComponent)(core.Tb(ngx_translate_core.e),core.Tb(fesm2015_http.b),core.Tb(fesm2015_router.a),core.Tb(fesm2015_router.c),core.Tb(notification_service.a),core.Tb(header_service.a),core.Tb(app_service.a),core.Tb(fesm2015_forms.g))},RegisteredMailComponent.ɵcmp=core.Nb({type:RegisteredMailComponent,selectors:[[\"app-registered-mail\"]],decls:13,vars:8,consts:[[\"autosize\",\"\",1,\"maarch-container\"],[1,\"bg-head\"],[1,\"bg-head-title\"],[1,\"bg-head-title-label\"],[1,\"bg-head-title-tool\"],[1,\"bg-head-content\"],[1,\"container\"],[1,\"container-content\"],[\"style\",\"display:flex;height:100%;\",4,\"ngIf\"],[\"class\",\"card-app-content\",4,\"ngIf\"],[2,\"display\",\"flex\",\"height\",\"100%\"],[2,\"margin\",\"auto\"],[1,\"card-app-content\"],[\"class\",\"alert-message alert-message-danger\",\"style\",\"min-width: 100%;\",3,\"innerHTML\",4,\"ngIf\"],[2,\"display\",\"contents\",3,\"formGroup\",\"ngSubmit\"],[\"matInput\",\"\",\"formControlName\",\"trackerNumber\"],[3,\"showLabel\",\"label\",\"placeholderLabel\",\"datas\",\"class\",\"formControlSelect\",4,\"ngIf\"],[\"class\",\"alert-message alert-message-danger\",4,\"ngIf\"],[3,\"showLabel\",\"label\",\"placeholderLabel\",\"datas\",\"formControlSelect\"],[2,\"display\",\"grid\",\"grid-template-columns\",\"1fr 1fr\",\"grid-gap\",\"20px\"],[\"matInput\",\"\",\"type\",\"number\",\"formControlName\",\"rangeStart\",3,\"min\",\"keypress\"],[\"matInput\",\"\",\"type\",\"number\",\"formControlName\",\"rangeEnd\",3,\"min\",\"keypress\"],[2,\"text-align\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[1,\"alert-message\",\"alert-message-danger\",2,\"min-width\",\"100%\",3,\"innerHTML\"],[1,\"alert-message\",\"alert-message-danger\"]],template:function(rf,ctx){1&rf&&(core.Zb(0,\"mat-sidenav-container\",0),core.Zb(1,\"mat-sidenav-content\"),core.Zb(2,\"div\",1),core.Zb(3,\"div\",2),core.Zb(4,\"div\",3),core.Ub(5,\"header-left\"),core.Yb(),core.Zb(6,\"div\",4),core.Ub(7,\"header-right\"),core.Yb(),core.Yb(),core.Ub(8,\"div\",5),core.Yb(),core.Zb(9,\"div\",6),core.Zb(10,\"div\",7),core.Qc(11,RegisteredMailComponent_div_11_Template,2,0,\"div\",8),core.Qc(12,RegisteredMailComponent_mat_card_12_Template,27,26,\"mat-card\",9),core.Yb(),core.Yb(),core.Yb(),core.Yb()),2&rf&&(core.Eb(3),core.Jb(\"customContainerRight\",ctx.appService.getViewMode()),core.Eb(5),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(1),core.Jb(\"fullContainer\",ctx.appService.getViewMode()),core.Eb(2),core.sc(\"ngIf\",ctx.loading),core.Eb(1),core.sc(\"ngIf\",!ctx.loading))},directives:[sidenav.e,sidenav.f,header_left_component.a,header_right_component.a,common.t,progress_spinner.c,card.a,fesm2015_forms.J,fesm2015_forms.u,fesm2015_forms.l,form_field.c,form_field.g,input.b,fesm2015_forms.c,fesm2015_forms.t,fesm2015_forms.j,select_search_component.a,fesm2015_forms.z,fesm2015_button.b],pipes:[ngx_translate_core.d],styles:[\"\"]}),RegisteredMailComponent})(),administration_routing_module_AdministrationRoutingModule=(()=>{class AdministrationRoutingModule{}return AdministrationRoutingModule.ɵmod=core.Rb({type:AdministrationRoutingModule}),AdministrationRoutingModule.ɵinj=core.Qb({factory:function(t){return new(t||AdministrationRoutingModule)},imports:[[fesm2015_router.g.forChild([{path:\"\",canActivate:[app_guard.b],component:administration_component_AdministrationComponent},{path:\"users\",canActivate:[app_guard.b],component:users_administration_component_UsersAdministrationComponent},{path:\"users/new\",canActivate:[app_guard.b],component:user_administration_component_UserAdministrationComponent},{path:\"users/:id\",canActivate:[app_guard.b],component:user_administration_component_UserAdministrationComponent},{path:\"groups\",canActivate:[app_guard.b],component:groups_administration_component_GroupsAdministrationComponent},{path:\"groups/new\",canActivate:[app_guard.b],component:group_administration_component_GroupAdministrationComponent},{path:\"groups/:id\",canActivate:[app_guard.b],component:group_administration_component_GroupAdministrationComponent},{path:\"baskets\",canActivate:[app_guard.b],component:baskets_administration_component_BasketsAdministrationComponent},{path:\"baskets/new\",canActivate:[app_guard.b],component:basket_administration_component_BasketAdministrationComponent},{path:\"baskets/:id\",canActivate:[app_guard.b],component:basket_administration_component_BasketAdministrationComponent},{path:\"doctypes\",canActivate:[app_guard.b],component:doctypes_administration_component_DoctypesAdministrationComponent},{path:\"diffusionModels\",canActivate:[app_guard.b],component:diffusionModels_administration_component_DiffusionModelsAdministrationComponent},{path:\"diffusionModels/new\",canActivate:[app_guard.b],component:diffusionModel_administration_component_DiffusionModelAdministrationComponent},{path:\"diffusionModels/:id\",canActivate:[app_guard.b],component:diffusionModel_administration_component_DiffusionModelAdministrationComponent},{path:\"entities\",canActivate:[app_guard.b],component:entities_administration_component_EntitiesAdministrationComponent},{path:\"statuses\",canActivate:[app_guard.b],component:statuses_administration_component_StatusesAdministrationComponent},{path:\"statuses/new\",canActivate:[app_guard.b],component:status_administration_component_StatusAdministrationComponent},{path:\"statuses/:identifier\",canActivate:[app_guard.b],component:status_administration_component_StatusAdministrationComponent},{path:\"parameters\",canActivate:[app_guard.b],component:parameters_administration_component_ParametersAdministrationComponent},{path:\"parameters/new\",canActivate:[app_guard.b],component:parameter_administration_component_ParameterAdministrationComponent},{path:\"parameters/:id\",canActivate:[app_guard.b],component:parameter_administration_component_ParameterAdministrationComponent},{path:\"priorities\",canActivate:[app_guard.b],component:priorities_administration_component_PrioritiesAdministrationComponent},{path:\"priorities/new\",canActivate:[app_guard.b],component:priority_administration_component_PriorityAdministrationComponent},{path:\"priorities/:id\",canActivate:[app_guard.b],component:priority_administration_component_PriorityAdministrationComponent},{path:\"actions\",canActivate:[app_guard.b],component:actions_administration_component_ActionsAdministrationComponent},{path:\"actions/new\",canActivate:[app_guard.b],component:action_administration_component_ActionAdministrationComponent},{path:\"actions/:id\",canActivate:[app_guard.b],component:action_administration_component_ActionAdministrationComponent},{path:\"notifications\",canActivate:[app_guard.b],component:notifications_administration_component_NotificationsAdministrationComponent},{path:\"notifications/new\",canActivate:[app_guard.b],component:notification_administration_component_NotificationAdministrationComponent},{path:\"notifications/:identifier\",canActivate:[app_guard.b],component:notification_administration_component_NotificationAdministrationComponent},{path:\"history\",canActivate:[app_guard.b],component:history_administration_component_HistoryAdministrationComponent},{path:\"history-batch\",canActivate:[app_guard.b],component:history_batch_administration_component_HistoryBatchAdministrationComponent},{path:\"update-status\",canActivate:[app_guard.b],component:update_status_administration_component_UpdateStatusAdministrationComponent},{path:\"contacts\",canActivate:[app_guard.b],component:contacts_list_administration_component_ContactsListAdministrationComponent},{path:\"contacts/duplicates\",canActivate:[app_guard.b],component:contact_duplicate_component_ContactDuplicateComponent},{path:\"contacts/list\",redirectTo:\"contacts\",pathMatch:\"full\"},{path:\"contacts/list/new\",canActivate:[app_guard.b],component:contacts_page_administration_component_ContactsPageAdministrationComponent},{path:\"contacts/list/:id\",canActivate:[app_guard.b],component:contacts_page_administration_component_ContactsPageAdministrationComponent},{path:\"contacts/contactsCustomFields\",canActivate:[app_guard.b],component:contacts_custom_fields_administration_component_ContactsCustomFieldsAdministrationComponent},{path:\"contacts/contacts-groups\",canActivate:[app_guard.b],component:contacts_groups_administration_component_ContactsGroupsAdministrationComponent},{path:\"contacts/contacts-groups/new\",canActivate:[app_guard.b],component:contacts_group_administration_component_ContactsGroupAdministrationComponent},{path:\"contacts/contacts-groups/:id\",canActivate:[app_guard.b],component:contacts_group_administration_component_ContactsGroupAdministrationComponent},{path:\"contacts/contacts-parameters\",canActivate:[app_guard.b],component:contacts_parameters_administration_component_ContactsParametersAdministrationComponent},{path:\"versions-update\",canActivate:[app_guard.b],component:versions_update_administration_component_VersionsUpdateAdministrationComponent},{path:\"docservers\",canActivate:[app_guard.b],component:docservers_administration_component_DocserversAdministrationComponent},{path:\"docservers/new\",canActivate:[app_guard.b],component:docserver_administration_component_DocserverAdministrationComponent},{path:\"templates\",canActivate:[app_guard.b],component:templates_administration_component_TemplatesAdministrationComponent},{path:\"templates/new\",canActivate:[app_guard.b],component:template_administration_component_TemplateAdministrationComponent},{path:\"templates/:id\",canActivate:[app_guard.b],component:template_administration_component_TemplateAdministrationComponent},{path:\"securities\",canActivate:[app_guard.b],component:securities_administration_component_SecuritiesAdministrationComponent},{path:\"sendmail\",canActivate:[app_guard.b],component:sendmail_administration_component_SendmailAdministrationComponent},{path:\"shippings\",canActivate:[app_guard.b],component:shippings_administration_component_ShippingsAdministrationComponent},{path:\"shippings/new\",canActivate:[app_guard.b],component:shipping_administration_component_ShippingAdministrationComponent},{path:\"shippings/:id\",canActivate:[app_guard.b],component:shipping_administration_component_ShippingAdministrationComponent},{path:\"customFields\",canActivate:[app_guard.b],component:custom_fields_administration_component_CustomFieldsAdministrationComponent},{path:\"indexingModels\",canActivate:[app_guard.b],component:indexing_models_administration_component_IndexingModelsAdministrationComponent},{path:\"indexingModels/new\",canActivate:[app_guard.b],component:indexing_model_administration_component_IndexingModelAdministrationComponent},{path:\"indexingModels/:id\",canActivate:[app_guard.b],component:indexing_model_administration_component_IndexingModelAdministrationComponent},{path:\"tags\",canActivate:[app_guard.b],component:tags_administration_component_TagsAdministrationComponent},{path:\"tags/new\",canActivate:[app_guard.b],component:tag_administration_component_TagAdministrationComponent},{path:\"tags/:id\",canActivate:[app_guard.b],component:tag_administration_component_TagAdministrationComponent},{path:\"alfresco\",canActivate:[app_guard.b],component:alfresco_list_administration_component_AlfrescoListAdministrationComponent},{path:\"alfresco/new\",canActivate:[app_guard.b],component:alfresco_administration_component_AlfrescoAdministrationComponent},{path:\"alfresco/:id\",canActivate:[app_guard.b],component:alfresco_administration_component_AlfrescoAdministrationComponent},{path:\"registeredMails\",canActivate:[app_guard.b],component:registered_mail_list_component_RegisteredMailListComponent},{path:\"registeredMails/new\",canActivate:[app_guard.b],component:registered_mail_component_RegisteredMailComponent},{path:\"registeredMails/:id\",canActivate:[app_guard.b],component:registered_mail_component_RegisteredMailComponent},{path:\"issuingSites\",canActivate:[app_guard.b],component:issuing_site_list_component_IssuingSiteListComponent},{path:\"issuingSites/new\",canActivate:[app_guard.b],component:issuing_site_component_IssuingSiteComponent},{path:\"issuingSites/:id\",canActivate:[app_guard.b],component:issuing_site_component_IssuingSiteComponent}])],fesm2015_router.g]}),AdministrationRoutingModule})();var document_viewer_module=__webpack_require__(\"U+qY\"),document_form_module=__webpack_require__(\"L6pT\");let administration_module_AdministrationModule=(()=>{class AdministrationModule{constructor(translate){translate.setDefaultLang(\"fr\")}}return AdministrationModule.ɵmod=core.Rb({type:AdministrationModule}),AdministrationModule.ɵinj=core.Qb({factory:function(t){return new(t||AdministrationModule)(core.dc(ngx_translate_core.e))},providers:[administration_service_AdministrationService],imports:[[app_common_module.a,internationalization_module.a,ngx_joyride.b.forChild(),document_form_module.a,administration_routing_module_AdministrationRoutingModule,document_viewer_module.a]]}),AdministrationModule})()}}]);","extractedComments":[]}