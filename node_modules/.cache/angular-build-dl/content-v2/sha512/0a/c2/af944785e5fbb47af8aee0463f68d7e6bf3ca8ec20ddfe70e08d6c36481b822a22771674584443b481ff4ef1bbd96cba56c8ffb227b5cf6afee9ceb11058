function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function asyncGeneratorStep(t,e,n,i,a,r,o){try{var s=t[r](o),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(i,a)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){asyncGeneratorStep(r,i,a,o,s,"next",t)}function s(t){asyncGeneratorStep(r,i,a,o,s,"throw",t)}o(void 0)}))}}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var a=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(a,n.prototype),a}).apply(null,arguments)}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){a=!0,r=c}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+0xr":function(t,e,n){"use strict";n.d(e,"a",(function(){return te})),n.d(e,"b",(function(){return Vt})),n.d(e,"c",(function(){return Xt})),n.d(e,"d",(function(){return Kt})),n.d(e,"e",(function(){return Gt})),n.d(e,"f",(function(){return le})),n.d(e,"g",(function(){return ie})),n.d(e,"h",(function(){return Jt})),n.d(e,"i",(function(){return Qt})),n.d(e,"j",(function(){return se})),n.d(e,"k",(function(){return ee})),n.d(e,"l",(function(){return de})),n.d(e,"m",(function(){return re})),n.d(e,"n",(function(){return Bt})),n.d(e,"o",(function(){return ge})),n.d(e,"p",(function(){return me})),n.d(e,"q",(function(){return he}));var i=n("8LU1"),a=n("0EQZ"),r=n("fXoL"),o=n("cH1L"),s=n("nLfN"),c=n("ofXK"),l=n("XNiG"),u=n("2Vo4"),d=n("7+OI"),f=n("LRne"),h=n("1G5W"),p=[[["caption"]]],m=["caption"];function g(t,e){if(1&t&&(r.Zb(0,"th",3),r.Sc(1),r.Yb()),2&t){var n=r.lc();r.Pc("text-align",n.justify),r.Eb(1),r.Uc(" ",n.headerText," ")}}function b(t,e){if(1&t&&(r.Zb(0,"td",4),r.Sc(1),r.Yb()),2&t){var n=e.$implicit,i=r.lc();r.Pc("text-align",i.justify),r.Eb(1),r.Uc(" ",i.dataAccessor(n,i.name)," ")}}function v(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a)))._sticky=!1,t._hasStickyChanged=!1,t}return _createClass(n,[{key:"hasStickyChanged",value:function(){var t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}},{key:"sticky",get:function(){return this._sticky},set:function(t){var e=this._sticky;this._sticky=Object(i.c)(t),this._hasStickyChanged=e!==this._sticky}}]),n}(t)}var y,_,k,C,x,w,O,S,E,M,I,P,T,A,D,R=new r.r("CDK_TABLE"),L=new r.r("text-column-options"),F=((k=function t(e){_classCallCheck(this,t),this.template=e}).\u0275fac=function(t){return new(t||k)(r.Tb(r.O))},k.\u0275dir=r.Ob({type:k,selectors:[["","cdkCellDef",""]]}),k),j=((_=function t(e){_classCallCheck(this,t),this.template=e}).\u0275fac=function(t){return new(t||_)(r.Tb(r.O))},_.\u0275dir=r.Ob({type:_,selectors:[["","cdkHeaderCellDef",""]]}),_),Y=((y=function t(e){_classCallCheck(this,t),this.template=e}).\u0275fac=function(t){return new(t||y)(r.Tb(r.O))},y.\u0275dir=r.Ob({type:y,selectors:[["","cdkFooterCellDef",""]]}),y),Z=v((function t(){_classCallCheck(this,t)})),N=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._table=t,i._stickyEnd=!1,i}return _createClass(n,[{key:"name",get:function(){return this._name},set:function(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(t){var e=this._stickyEnd;this._stickyEnd=Object(i.c)(t),this._hasStickyChanged=e!==this._stickyEnd}}]),n}(Z)).\u0275fac=function(t){return new(t||C)(r.Tb(R,8))},C.\u0275dir=r.Ob({type:C,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,F,!0),r.Lb(n,j,!0),r.Lb(n,Y,!0)),2&t&&(r.Cc(i=r.ic())&&(e.cell=i.first),r.Cc(i=r.ic())&&(e.headerCell=i.first),r.Cc(i=r.ic())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Db([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:C}]),r.Bb]}),C),U=function t(e,n){_classCallCheck(this,t),n.nativeElement.classList.add("cdk-column-"+e.cssClassFriendlyName)},B=((S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return n}(U)).\u0275fac=function(t){return new(t||S)(r.Tb(N),r.Tb(r.l))},S.\u0275dir=r.Ob({type:S,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.Bb]}),S),z=((O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return n}(U)).\u0275fac=function(t){return new(t||O)(r.Tb(N),r.Tb(r.l))},O.\u0275dir=r.Ob({type:O,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:["role","gridcell",1,"cdk-footer-cell"],features:[r.Bb]}),O),V=((w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return n}(U)).\u0275fac=function(t){return new(t||w)(r.Tb(N),r.Tb(r.l))},w.\u0275dir=r.Ob({type:w,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.Bb]}),w),H=((x=function(){function t(e,n){_classCallCheck(this,t),this.template=e,this._differs=n}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(!this._columnsDiffer){var e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(t){return this instanceof W?t.headerCell.template:this instanceof q?t.footerCell.template:t.cell.template}}]),t}()).\u0275fac=function(t){return new(t||x)(r.Tb(r.O),r.Tb(r.u))},x.\u0275dir=r.Ob({type:x,features:[r.Cb]}),x),Q=v(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(H)),W=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i))._table=a,r}return _createClass(n,[{key:"ngOnChanges",value:function(t){_get(_getPrototypeOf(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(Q)).\u0275fac=function(t){return new(t||E)(r.Tb(r.O),r.Tb(r.u),r.Tb(R,8))},E.\u0275dir=r.Ob({type:E,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.Bb,r.Cb]}),E),G=v(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(H)),q=((D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i))._table=a,r}return _createClass(n,[{key:"ngOnChanges",value:function(t){_get(_getPrototypeOf(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(G)).\u0275fac=function(t){return new(t||D)(r.Tb(r.O),r.Tb(r.u),r.Tb(R,8))},D.\u0275dir=r.Ob({type:D,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.Bb,r.Cb]}),D),X=((A=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i))._table=a,r}return n}(H)).\u0275fac=function(t){return new(t||A)(r.Tb(r.O),r.Tb(r.u),r.Tb(R,8))},A.\u0275dir=r.Ob({type:A,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.Bb]}),A),$=((T=function(){function t(e){_classCallCheck(this,t),this._viewContainer=e,t.mostRecentCellOutlet=this}return _createClass(t,[{key:"ngOnDestroy",value:function(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}]),t}()).\u0275fac=function(t){return new(t||T)(r.Tb(r.R))},T.\u0275dir=r.Ob({type:T,selectors:[["","cdkCellOutlet",""]]}),T.mostRecentCellOutlet=null,T),J=((P=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||P)},P.\u0275cmp=r.Nb({type:P,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Vb(0,0)},directives:[$],encapsulation:2}),P),K=((I=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||I)},I.\u0275cmp=r.Nb({type:I,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Vb(0,0)},directives:[$],encapsulation:2}),I),tt=((M=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||M)},M.\u0275cmp=r.Nb({type:M,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Vb(0,0)},directives:[$],encapsulation:2}),M),et=["top","bottom","left","right"],nt=function(){function t(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_classCallCheck(this,t),this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=i,this._isBrowser=a}return _createClass(t,[{key:"clearStickyPositioning",value:function(t,e){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.nodeType===a.ELEMENT_NODE){this._removeStickyStyle(a,e);for(var r=0;r<a.children.length;r++)this._removeStickyStyle(a.children[r],e)}}}catch(o){i.e(o)}finally{i.f()}}},{key:"updateStickyColumns",value:function(t,e,n){var i=e.some((function(t){return t}))||n.some((function(t){return t}));if(t.length&&i&&this._isBrowser){var a,r=t[0],o=r.children.length,s=this._getCellWidths(r),c=this._getStickyStartColumnPositions(s,e),l=this._getStickyEndColumnPositions(s,n),u="rtl"===this.direction,d=_createForOfIteratorHelper(t);try{for(d.s();!(a=d.n()).done;)for(var f=a.value,h=0;h<o;h++){var p=f.children[h];e[h]&&this._addStickyStyle(p,u?"right":"left",c[h]),n[h]&&this._addStickyStyle(p,u?"left":"right",l[h])}}catch(m){d.e(m)}finally{d.f()}}}},{key:"stickRows",value:function(t,e,n){if(this._isBrowser)for(var i="bottom"===n?t.reverse():t,a=0,r=0;r<i.length;r++)if(e[r]){var o=i[r];if(this._isNativeHtmlTable)for(var s=0;s<o.children.length;s++)this._addStickyStyle(o.children[s],n,a);else this._addStickyStyle(o,n,a);if(r===i.length-1)return;a+=o.getBoundingClientRect().height}}},{key:"updateStickyFooterContainer",value:function(t,e){if(this._isNativeHtmlTable){var n=t.querySelector("tfoot");e.some((function(t){return!t}))?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}}},{key:"_removeStickyStyle",value:function(t,e){var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.style[a]=""}}catch(r){i.e(r)}finally{i.f()}t.style.zIndex=this._getCalculatedZIndex(t),et.some((function(e){return!!t.style[e]}))||(t.style.position="",t.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}},{key:"_getCalculatedZIndex",value:function(t){var e,n={top:100,bottom:10,left:1,right:1},i=0,a=_createForOfIteratorHelper(et);try{for(a.s();!(e=a.n()).done;){var r=e.value;t.style[r]&&(i+=n[r])}}catch(o){a.e(o)}finally{a.f()}return i?""+i:""}},{key:"_getCellWidths",value:function(t){for(var e=[],n=t.children,i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}},{key:"_getStickyStartColumnPositions",value:function(t,e){for(var n=[],i=0,a=0;a<t.length;a++)e[a]&&(n[a]=i,i+=t[a]);return n}},{key:"_getStickyEndColumnPositions",value:function(t,e){for(var n=[],i=0,a=t.length;a>0;a--)e[a]&&(n[a]=i,i+=t[a]);return n}}]),t}();function it(t){return Error('Could not find column with id "'.concat(t,'".'))}var at,rt,ot,st,ct=((st=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this.elementRef=n}).\u0275fac=function(t){return new(t||st)(r.Tb(r.R),r.Tb(r.l))},st.\u0275dir=r.Ob({type:st,selectors:[["","rowOutlet",""]]}),st),lt=((ot=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this.elementRef=n}).\u0275fac=function(t){return new(t||ot)(r.Tb(r.R),r.Tb(r.l))},ot.\u0275dir=r.Ob({type:ot,selectors:[["","headerRowOutlet",""]]}),ot),ut=((rt=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this.elementRef=n}).\u0275fac=function(t){return new(t||rt)(r.Tb(r.R),r.Tb(r.l))},rt.\u0275dir=r.Ob({type:rt,selectors:[["","footerRowOutlet",""]]}),rt),dt=((at=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this._differs=e,this._changeDetectorRef=n,this._elementRef=i,this._dir=r,this._platform=s,this._onDestroy=new l.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new u.a({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((function(e,n){return t.trackBy?t.trackBy(n.dataIndex,n.data):n}))}},{key:"ngAfterContentChecked",value:function(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Object(a.e)(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var t=this;this._renderRows=this._getAllRenderRows();var e=this._dataDiffer.diff(this._renderRows);if(e){var n=this._rowOutlet.viewContainer;e.forEachOperation((function(e,i,a){if(null==e.previousIndex)t._insertRow(e.item,a);else if(null==a)n.remove(i);else{var r=n.get(i);n.move(r,a)}})),this._updateRowIndexContext(),e.forEachIdentityChange((function(t){n.get(t.currentIndex).context.$implicit=t.item.data})),this.updateStickyColumnStyles()}}},{key:"setHeaderRowDef",value:function(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}},{key:"setFooterRowDef",value:function(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}},{key:"addColumnDef",value:function(t){this._customColumnDefs.add(t)}},{key:"removeColumnDef",value:function(t){this._customColumnDefs.delete(t)}},{key:"addRowDef",value:function(t){this._customRowDefs.add(t)}},{key:"removeRowDef",value:function(t){this._customRowDefs.delete(t)}},{key:"addHeaderRowDef",value:function(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}},{key:"updateStickyHeaderRowStyles",value:function(){var t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");var n=this._headerRowDefs.map((function(t){return t.sticky}));this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach((function(t){return t.resetStickyChanged()}))}},{key:"updateStickyFooterRowStyles",value:function(){var t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");var n=this._footerRowDefs.map((function(t){return t.sticky}));this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach((function(t){return t.resetStickyChanged()}))}},{key:"updateStickyColumnStyles",value:function(){var t=this,e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([].concat(_toConsumableArray(e),_toConsumableArray(n),_toConsumableArray(i)),["left","right"]),e.forEach((function(e,n){t._addStickyColumnStyles([e],t._headerRowDefs[n])})),this._rowDefs.forEach((function(e){for(var i=[],a=0;a<n.length;a++)t._renderRows[a].rowDef===e&&i.push(n[a]);t._addStickyColumnStyles(i,e)})),i.forEach((function(e,n){t._addStickyColumnStyles([e],t._footerRowDefs[n])})),Array.from(this._columnDefsByName.values()).forEach((function(t){return t.resetStickyChanged()}))}},{key:"_getAllRenderRows",value:function(){var t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var i=this._data[n],a=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(var r=0;r<a.length;r++){var o=a[r],s=this._cachedRenderRowsMap.get(o.data);s.has(o.rowDef)?s.get(o.rowDef).push(o):s.set(o.rowDef,[o]),t.push(o)}}return t}},{key:"_getRenderRowsForData",value:function(t,e,n){return this._getRowDefs(t,e).map((function(i){var a=n&&n.has(i)?n.get(i):[];if(a.length){var r=a.shift();return r.dataIndex=e,r}return{data:t,rowDef:i,dataIndex:e}}))}},{key:"_cacheColumnDefs",value:function(){var t=this;this._columnDefsByName.clear(),ft(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach((function(e){if(t._columnDefsByName.has(e.name))throw Error('Duplicate column definition name provided: "'.concat(e.name,'".'));t._columnDefsByName.set(e.name,e)}))}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=ft(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ft(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ft(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);var t=this._rowDefs.filter((function(t){return!t.when}));if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}},{key:"_renderUpdatedColumns",value:function(){var t=function(t,e){return t||!!e.getColumnsDiff()};this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}},{key:"_switchDataSource",value:function(t){this._data=[],Object(a.e)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}},{key:"_observeRenderChanges",value:function(){var t=this;if(this.dataSource){var e;if(Object(a.e)(this.dataSource)?e=this.dataSource.connect(this):Object(d.a)(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Object(f.a)(this.dataSource)),void 0===e)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=e.pipe(Object(h.a)(this._onDestroy)).subscribe((function(e){t._data=e||[],t.renderRows()}))}}},{key:"_forceRenderHeaderRows",value:function(){var t=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((function(e,n){return t._renderRow(t._headerRowOutlet,e,n)})),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}},{key:"_forceRenderFooterRows",value:function(){var t=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((function(e,n){return t._renderRow(t._footerRowOutlet,e,n)})),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}},{key:"_addStickyColumnStyles",value:function(t,e){var n=this,i=Array.from(e.columns||[]).map((function(t){var e=n._columnDefsByName.get(t);if(!e)throw it(t);return e})),a=i.map((function(t){return t.sticky})),r=i.map((function(t){return t.stickyEnd}));this._stickyStyler.updateStickyColumns(t,a,r)}},{key:"_getRenderedRows",value:function(t){for(var e=[],n=0;n<t.viewContainer.length;n++){var i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}},{key:"_getRowDefs",value:function(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter((function(n){return!n.when||n.when(e,t)}));else{var i=this._rowDefs.find((function(n){return n.when&&n.when(e,t)}))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for theprovided row data: "+JSON.stringify(t))}(t);return n}},{key:"_insertRow",value:function(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}},{key:"_renderRow",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.viewContainer.createEmbeddedView(e.template,i,n);var a,r=_createForOfIteratorHelper(this._getCellTemplates(e));try{for(r.s();!(a=r.n()).done;){var o=a.value;$.mostRecentCellOutlet&&$.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i)}}catch(s){r.e(s)}finally{r.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var t=this._rowOutlet.viewContainer,e=0,n=t.length;e<n;e++){var i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}},{key:"_getCellTemplates",value:function(t){var e=this;return t&&t.columns?Array.from(t.columns,(function(n){var i=e._columnDefsByName.get(n);if(!i)throw it(n);return t.extractCellTemplate(i)})):[]}},{key:"_applyNativeTableSections",value:function(){for(var t=this._document.createDocumentFragment(),e=0,n=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];e<n.length;e++){var i=n[e],a=this._document.createElement(i.tag);a.setAttribute("role","rowgroup"),a.appendChild(i.outlet.elementRef.nativeElement),t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}},{key:"_checkStickyStates",value:function(){var t=function(t,e){return t||e.hasStickyChanged()};this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}},{key:"_setupStickyStyler",value:function(){var t=this;this._stickyStyler=new nt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:Object(f.a)()).pipe(Object(h.a)(this._onDestroy)).subscribe((function(e){t._stickyStyler.direction=e,t.updateStickyColumnStyles()}))}},{key:"_getOwnDefs",value:function(t){var e=this;return t.filter((function(t){return!t._table||t._table===e}))}},{key:"trackBy",get:function(){return this._trackByFn},set:function(t){Object(r.Y)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),".")),this._trackByFn=t}},{key:"dataSource",get:function(){return this._dataSource},set:function(t){this._dataSource!==t&&this._switchDataSource(t)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(t){this._multiTemplateDataRows=Object(i.c)(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}}]),t}()).\u0275fac=function(t){return new(t||at)(r.Tb(r.u),r.Tb(r.h),r.Tb(r.l),r.ec("role"),r.Tb(o.c,8),r.Tb(c.e),r.Tb(s.a))},at.\u0275cmp=r.Nb({type:at,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,N,!0),r.Lb(n,X,!0),r.Lb(n,W,!0),r.Lb(n,q,!0)),2&t&&(r.Cc(i=r.ic())&&(e._contentColumnDefs=i),r.Cc(i=r.ic())&&(e._contentRowDefs=i),r.Cc(i=r.ic())&&(e._contentHeaderRowDefs=i),r.Cc(i=r.ic())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(r.Oc(ct,!0),r.Oc(lt,!0),r.Oc(ut,!0)),2&t&&(r.Cc(n=r.ic())&&(e._rowOutlet=n.first),r.Cc(n=r.ic())&&(e._headerRowOutlet=n.first),r.Cc(n=r.ic())&&(e._footerRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[r.Db([{provide:R,useExisting:at}])],ngContentSelectors:m,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.rc(p),r.qc(0),r.Vb(1,0),r.Vb(2,1),r.Vb(3,2))},directives:[lt,ct,ut],encapsulation:2}),at);function ft(t,e){return t.concat(Array.from(e))}var ht,pt,mt=((pt=function(){function t(e,n){_classCallCheck(this,t),this._table=e,this._options=n,this.justify="start",this._options=n||{}}return _createClass(t,[{key:"ngOnInit",value:function(){if(this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||function(t,e){return t[e]}),!this._table)throw Error("Text column could not find a parent table for registration.");this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef)}},{key:"ngOnDestroy",value:function(){this._table&&this._table.removeColumnDef(this.columnDef)}},{key:"_createDefaultHeaderText",value:function(){var t=this.name;if(Object(r.Y)()&&!t)throw Error("Table text column must have a name.");return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(t):t[0].toUpperCase()+t.slice(1)}},{key:"_syncColumnDefName",value:function(){this.columnDef&&(this.columnDef.name=this.name)}},{key:"name",get:function(){return this._name},set:function(t){this._name=t,this._syncColumnDefName()}}]),t}()).\u0275fac=function(t){return new(t||pt)(r.Tb(dt,8),r.Tb(L,8))},pt.\u0275cmp=r.Nb({type:pt,selectors:[["cdk-text-column"]],viewQuery:function(t,e){var n;1&t&&(r.Oc(N,!0),r.Oc(F,!0),r.Oc(j,!0)),2&t&&(r.Cc(n=r.ic())&&(e.columnDef=n.first),r.Cc(n=r.ic())&&(e.cell=n.first),r.Cc(n=r.ic())&&(e.headerCell=n.first))},inputs:{justify:"justify",name:"name",headerText:"headerText",dataAccessor:"dataAccessor"},decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(t,e){1&t&&(r.Xb(0,0),r.Qc(1,g,2,3,"th",1),r.Qc(2,b,2,3,"td",2),r.Wb())},directives:[N,j,F,B,V],encapsulation:2}),pt),gt=((ht=function t(){_classCallCheck(this,t)}).\u0275mod=r.Rb({type:ht}),ht.\u0275inj=r.Qb({factory:function(t){return new(t||ht)}}),ht),bt=n("FKr1"),vt=n("quSY"),yt=n("VRyK"),_t=n("itXk"),kt=n("lJxs"),Ct=[[["caption"]]],xt=["caption"];function wt(t,e){if(1&t&&(r.Zb(0,"th",3),r.Sc(1),r.Yb()),2&t){var n=r.lc();r.Pc("text-align",n.justify),r.Eb(1),r.Uc(" ",n.headerText," ")}}function Ot(t,e){if(1&t&&(r.Zb(0,"td",4),r.Sc(1),r.Yb()),2&t){var n=e.$implicit,i=r.lc();r.Pc("text-align",i.justify),r.Eb(1),r.Uc(" ",i.dataAccessor(n,i.name)," ")}}var St,Et,Mt,It,Pt,Tt,At,Dt,Rt,Lt,Ft,jt,Yt,Zt,Nt,Ut,Bt=((St=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).stickyCssClass="mat-table-sticky",t}return n}(dt)).\u0275fac=function(t){return zt(t||St)},St.\u0275cmp=r.Nb({type:St,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[r.Db([{provide:dt,useExisting:St},{provide:R,useExisting:St}]),r.Bb],ngContentSelectors:xt,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.rc(Ct),r.qc(0),r.Vb(1,0),r.Vb(2,1),r.Vb(3,2))},directives:[lt,ct,ut],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],encapsulation:2}),St),zt=r.bc(Bt),Vt=((Et=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(F)).\u0275fac=function(t){return Ht(t||Et)},Et.\u0275dir=r.Ob({type:Et,selectors:[["","matCellDef",""]],features:[r.Db([{provide:F,useExisting:Et}]),r.Bb]}),Et),Ht=r.bc(Vt),Qt=((Mt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(j)).\u0275fac=function(t){return Wt(t||Mt)},Mt.\u0275dir=r.Ob({type:Mt,selectors:[["","matHeaderCellDef",""]],features:[r.Db([{provide:j,useExisting:Mt}]),r.Bb]}),Mt),Wt=r.bc(Qt),Gt=((It=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Y)).\u0275fac=function(t){return qt(t||It)},It.\u0275dir=r.Ob({type:It,selectors:[["","matFooterCellDef",""]],features:[r.Db([{provide:Y,useExisting:It}]),r.Bb]}),It),qt=r.bc(Gt),Xt=((Pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(N)).\u0275fac=function(t){return $t(t||Pt)},Pt.\u0275dir=r.Ob({type:Pt,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Db([{provide:N,useExisting:Pt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Pt}]),r.Bb]}),Pt),$t=r.bc(Xt),Jt=((Rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),a=e.call(this,t,i),i.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName),a}return n}(B)).\u0275fac=function(t){return new(t||Rt)(r.Tb(N),r.Tb(r.l))},Rt.\u0275dir=r.Ob({type:Rt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.Bb]}),Rt),Kt=((Dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),a=e.call(this,t,i),i.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName),a}return n}(z)).\u0275fac=function(t){return new(t||Dt)(r.Tb(N),r.Tb(r.l))},Dt.\u0275dir=r.Ob({type:Dt,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[r.Bb]}),Dt),te=((At=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),a=e.call(this,t,i),i.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName),a}return n}(V)).\u0275fac=function(t){return new(t||At)(r.Tb(N),r.Tb(r.l))},At.\u0275dir=r.Ob({type:At,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.Bb]}),At),ee=((Tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(W)).\u0275fac=function(t){return ne(t||Tt)},Tt.\u0275dir=r.Ob({type:Tt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Db([{provide:W,useExisting:Tt}]),r.Bb]}),Tt),ne=r.bc(ee),ie=((Lt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(q)).\u0275fac=function(t){return ae(t||Lt)},Lt.\u0275dir=r.Ob({type:Lt,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[r.Db([{provide:q,useExisting:Lt}]),r.Bb]}),Lt),ae=r.bc(ie),re=((Ft=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(X)).\u0275fac=function(t){return oe(t||Ft)},Ft.\u0275dir=r.Ob({type:Ft,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Db([{provide:X,useExisting:Ft}]),r.Bb]}),Ft),oe=r.bc(re),se=((jt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(J)).\u0275fac=function(t){return ce(t||jt)},jt.\u0275cmp=r.Nb({type:jt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Db([{provide:J,useExisting:jt}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Vb(0,0)},directives:[$],encapsulation:2}),jt),ce=r.bc(se),le=((Yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(K)).\u0275fac=function(t){return ue(t||Yt)},Yt.\u0275cmp=r.Nb({type:Yt,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[r.Db([{provide:K,useExisting:Yt}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Vb(0,0)},directives:[$],encapsulation:2}),Yt),ue=r.bc(le),de=((Zt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(tt)).\u0275fac=function(t){return fe(t||Zt)},Zt.\u0275cmp=r.Nb({type:Zt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Db([{provide:tt,useExisting:Zt}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Vb(0,0)},directives:[$],encapsulation:2}),Zt),fe=r.bc(de),he=((Nt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(mt)).\u0275fac=function(t){return pe(t||Nt)},Nt.\u0275cmp=r.Nb({type:Nt,selectors:[["mat-text-column"]],features:[r.Bb],decls:3,vars:0,consts:[["matColumnDef",""],["mat-header-cell","",3,"text-align",4,"matHeaderCellDef"],["mat-cell","",3,"text-align",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""]],template:function(t,e){1&t&&(r.Xb(0,0),r.Qc(1,wt,2,3,"th",1),r.Qc(2,Ot,2,3,"td",2),r.Wb())},directives:[Xt,Qt,Vt,Jt,te],encapsulation:2}),Nt),pe=r.bc(he),me=((Ut=function t(){_classCallCheck(this,t)}).\u0275mod=r.Rb({type:Ut}),Ut.\u0275inj=r.Qb({factory:function(t){return new(t||Ut)},imports:[[gt,bt.j],bt.j]}),Ut),ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(t=e.call(this))._renderData=new u.a([]),t._filter=new u.a(""),t._internalPageChanges=new l.a,t._renderChangesSubscription=vt.a.EMPTY,t.sortingDataAccessor=function(t,e){var n=t[e];if(Object(i.a)(n)){var a=Number(n);return a<9007199254740991?a:n}return n},t.sortData=function(e,n){var i=n.active,a=n.direction;return i&&""!=a?e.sort((function(e,n){var r=t.sortingDataAccessor(e,i),o=t.sortingDataAccessor(n,i),s=0;return null!=r&&null!=o?r>o?s=1:r<o&&(s=-1):null!=r?s=1:null!=o&&(s=-1),s*("asc"==a?1:-1)})):e},t.filterPredicate=function(t,e){var n=Object.keys(t).reduce((function(e,n){return e+t[n]+"\u25ec"}),"").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)},t._data=new u.a(a),t._updateChangeSubscription(),t}return _createClass(n,[{key:"_updateChangeSubscription",value:function(){var t=this,e=this._sort?Object(yt.a)(this._sort.sortChange,this._sort.initialized):Object(f.a)(null),n=this._paginator?Object(yt.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(f.a)(null),i=this._data,a=Object(_t.a)([i,this._filter]).pipe(Object(kt.a)((function(e){var n=_slicedToArray(e,1)[0];return t._filterData(n)}))),r=Object(_t.a)([a,e]).pipe(Object(kt.a)((function(e){var n=_slicedToArray(e,1)[0];return t._orderData(n)}))),o=Object(_t.a)([r,n]).pipe(Object(kt.a)((function(e){var n=_slicedToArray(e,1)[0];return t._pageData(n)})));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=o.subscribe((function(e){return t._renderData.next(e)}))}},{key:"_filterData",value:function(t){var e=this;return this.filteredData=this.filter?t.filter((function(t){return e.filterPredicate(t,e.filter)})):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}},{key:"_orderData",value:function(t){return this.sort?this.sortData(t.slice(),this.sort):t}},{key:"_pageData",value:function(t){if(!this.paginator)return t;var e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}},{key:"_updatePaginator",value:function(t){var e=this;Promise.resolve().then((function(){var n=e.paginator;if(n&&(n.length=t,n.pageIndex>0)){var i=Math.ceil(n.length/n.pageSize)-1||0,a=Math.min(n.pageIndex,i);a!==n.pageIndex&&(n.pageIndex=a,e._internalPageChanges.next())}}))}},{key:"connect",value:function(){return this._renderData}},{key:"disconnect",value:function(){}},{key:"data",get:function(){return this._data.value},set:function(t){this._data.next(t)}},{key:"filter",get:function(){return this._filter.value},set:function(t){this._filter.next(t)}},{key:"sort",get:function(){return this._sort},set:function(t){this._sort=t,this._updateChangeSubscription()}},{key:"paginator",get:function(){return this._paginator},set:function(t){this._paginator=t,this._updateChangeSubscription()}}]),n}(a.b)},"+AL4":function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var i=n("mrSG"),a=n("fXoL"),r=(n("XxY3"),n("pLZG")),o=n("vkgz"),s=n("JIr8"),c=n("2c88"),l=n("ds6q"),u=n("I65S"),d=n("sYmb"),f=n("tk/3"),h=n("0IaG"),p=n("AXEc"),m=n("4zkx"),g=n("ofXK"),b=n("bTqV"),v=n("NFeN");function y(t,e){1&t&&(a.Zb(0,"div",7),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc("",a.nc(2,1,"lang.checkOnlyofficeServer"),"..."))}function _(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",8),a.hc("click",(function(){return a.Hc(n),a.lc().quit()})),a.Ub(1,"mat-icon",9),a.Yb()}if(2&t){var i=a.lc();a.Jb("buttonsHide",i.hideButtons)("fullScreen",i.fullscreenMode),a.sc("title",i.translate.instant("lang.closeEditor"))}}var k=function(){var t=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=i,this.notify=r,this.headerService=o,this.loading=!0,this.editMode=!1,this.file={},this.params={},this.hideCloseEditor=!1,this.triggerAfterUpdatedDoc=new a.o,this.triggerCloseEditor=new a.o,this.triggerModifiedDocument=new a.o,this.key="",this.documentLoaded=!1,this.canUpdateDocument=!1,this.isSaving=!1,this.fullscreenMode=!1,this.tmpFilename="",this.appUrl="",this.onlyOfficeUrl="",this.hideButtons=!1,this.allowedExtension=["doc","docx","dotx","odt","ott","rtf","txt","html","xlsl","xlsx","xltx","ods","ots","csv"],this.eventAction=new l.Subject}return _createClass(t,[{key:"onMessage",value:function(t){var e=JSON.parse(t.data);"onDownloadAs"===e.event?this.getEncodedDocument(e.data):"onDocumentReady"===e.event&&this.triggerModifiedDocument.emit()}},{key:"quit",value:function(){var t=this;this.dialogRef=this.dialog.open(c.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.close"),msg:this.translate.instant("lang.confirmCloseEditor")}}),this.dialogRef.afterClosed().pipe(Object(r.a)((function(t){return"ok"===t})),Object(o.a)((function(){t.docEditor.destroyEditor(),t.closeEditor()}))).subscribe()}},{key:"closeEditor",value:function(){null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),$("iframe[name='frameEditor']").css("position","initial"),this.fullscreenMode=!1,this.triggerAfterUpdatedDoc.emit(),this.triggerCloseEditor.emit()}},{key:"getDocument",value:function(){this.isSaving=!0,this.docEditor.downloadAs(this.file.format)}},{key:"getEncodedDocument",value:function(t){var e=this;this.http.get("../rest/onlyOffice/encodedFile",{params:{url:t}}).pipe(Object(o.a)((function(t){e.file.content=t.encodedFile,e.isSaving=!1,e.triggerAfterUpdatedDoc.emit(),e.eventAction.next(e.file)}))).subscribe()}},{key:"getEditorMode",value:function(t){return["csv","fods","ods","ots","xls","xlsm","xlsx","xlt","xltm","xltx"].indexOf(t)>-1?"spreadsheet":["fodp","odp","otp","pot","potm","potx","pps","ppsm","ppsx","ppt","pptm","pptx"].indexOf(t)>-1?"presentation":"text"}},{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.key=this.generateUniqueId(),t.t0=this.canLaunchOnlyOffice(),!t.t0){t.next=14;break}return t.next=5,this.getServerConfiguration();case 5:return t.next=7,this.checkServerStatus();case 7:return t.next=9,this.getMergedFileTemplate();case 9:return this.setEditorConfig(),t.next=12,this.getTokenOOServer();case 12:this.initOfficeEditor(),this.loading=!1;case 14:case"end":return t.stop()}}),t,this)})))}},{key:"canLaunchOnlyOffice",value:function(){return!!this.isAllowedEditExtension(this.file.format)||(this.notify.error(this.translate.instant("lang.onlyofficeEditDenied")+" <b>"+this.file.format+"</b> "+this.translate.instant("lang.onlyofficeEditDenied2")),this.triggerCloseEditor.emit(),!1)}},{key:"getServerConfiguration",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/onlyOffice/configuration").pipe(Object(o.a)((function(n){if(n.enabled){var i=n.serverUri.split("/"),a=n.serverSsl?"https://":"http://",r=n.serverUri.split("/")[0],o=i.slice(1).join("/"),s=[r+(n.serverPort?":"+n.serverPort:":80"),o].join("/");t.onlyOfficeUrl="".concat(a).concat(s),t.appUrl=n.coreUrl,e(!0)}else t.triggerCloseEditor.emit()})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"checkServerStatus",value:function(){var t=this;return new Promise((function(e,n){null!==t.appUrl.match(/127\.0\.0\.1/g)||null!==t.appUrl.match(/localhost/g)?(t.notify.error(""+t.translate.instant("lang.errorOnlyoffice1")),t.triggerCloseEditor.emit()):t.http.get("../rest/onlyOffice/available").pipe(Object(o.a)((function(n){n.isAvailable?e(!0):(t.notify.error("".concat(t.translate.instant("lang.errorOnlyoffice2")," ").concat(t.onlyOfficeUrl)),t.triggerCloseEditor.emit())})),Object(s.a)((function(e){return t.notify.error(t.translate.instant("lang."+e.error.lang)),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"getMergedFileTemplate",value:function(){var t=this;return new Promise((function(e,n){t.http.post("../"+t.params.docUrl,{objectId:t.params.objectId,objectType:t.params.objectType,format:t.file.format,onlyOfficeKey:t.key,data:t.params.dataToMerge}).pipe(Object(o.a)((function(n){t.tmpFilename=n.filename,t.file={name:t.key,format:n.filename.split(".").pop(),type:null,contentMode:"base64",content:null,src:null},e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"generateUniqueId",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*i));return e}},{key:"ngAfterViewInit",value:function(){}},{key:"initOfficeEditor",value:function(){this.docEditor=new DocsAPI.DocEditor("placeholder",this.editorConfig,this.onlyOfficeUrl)}},{key:"getTokenOOServer",value:function(){var t=this;return new Promise((function(e,n){t.http.post("../rest/onlyOffice/token",{config:t.editorConfig}).pipe(Object(o.a)((function(n){null!==n&&(t.editorConfig.token=n),e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"setEditorConfig",value:function(){this.editorConfig={documentType:this.getEditorMode(this.file.format),document:{fileType:this.file.format,key:this.key,title:"Edition",url:"".concat(this.appUrl).concat(this.params.docUrl,"?filename=").concat(this.tmpFilename),permissions:{comment:!1,download:!0,edit:this.editMode,print:!0,review:!1}},editorConfig:{callbackUrl:this.appUrl+"rest/onlyOfficeCallback",lang:this.translate.instant("lang.language"),region:this.translate.instant("lang.langISO"),mode:"edit",customization:{chat:!1,comments:!1,compactToolbar:!1,feedback:!1,forcesave:!1,goback:!1,hideRightMenu:!0,showReviewChanges:!1,zoom:-2},user:{id:"1",name:" "}}}}},{key:"isLocked",value:function(){return!!this.isSaving}},{key:"getFile",value:function(){return this.getDocument(),this.eventAction.asObservable()}},{key:"ngOnDestroy",value:function(){this.eventAction.complete()}},{key:"openFullscreen",value:function(){$("iframe[name='frameEditor']").css("top","0px"),$("iframe[name='frameEditor']").css("left","0px"),this.fullscreenMode?(null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),$("iframe[name='frameEditor']").css("position","initial"),$("iframe[name='frameEditor']").css("z-index","1")):(null!==this.headerService.sideNavLeft&&this.headerService.sideNavLeft.close(),$("iframe[name='frameEditor']").css("position","fixed"),$("iframe[name='frameEditor']").css("z-index","2")),this.fullscreenMode=!this.fullscreenMode}},{key:"isAllowedEditExtension",value:function(t){return this.allowedExtension.filter((function(e){return e.toLowerCase()===t.toLowerCase()})).length>0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(d.e),a.Tb(f.b),a.Tb(h.b),a.Tb(p.a),a.Tb(m.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["onlyoffice-viewer"]],hostBindings:function(t,e){1&t&&a.hc("message",(function(t){return e.onMessage(t)}),!1,a.Gc)},inputs:{editMode:"editMode",file:"file",params:"params",hideCloseEditor:"hideCloseEditor"},outputs:{triggerAfterUpdatedDoc:"triggerAfterUpdatedDoc",triggerCloseEditor:"triggerCloseEditor",triggerModifiedDocument:"triggerModifiedDocument"},decls:7,vars:16,consts:[["style","display:block;padding: 10px;",4,"ngIf"],["class","onlyofficeButton_fullscreen","mat-mini-fab","","color","warn",3,"buttonsHide","fullScreen","title","click",4,"ngIf"],["mat-mini-fab","","color","default",1,"onlyofficeButton_close",3,"title","click"],[1,"fas",2,"height","auto"],["mat-mini-fab","","color","default",1,"onlyofficeButton_hide",3,"title","click"],[1,"fa","fa-arrow-right",2,"height","auto"],["id","placeholder"],[2,"display","block","padding","10px"],["mat-mini-fab","","color","warn",1,"onlyofficeButton_fullscreen",3,"title","click"],[1,"fa","fa-times",2,"height","auto"]],template:function(t,e){1&t&&(a.Qc(0,y,3,3,"div",0),a.Qc(1,_,2,5,"button",1),a.Zb(2,"button",2),a.hc("click",(function(){return e.openFullscreen()})),a.Ub(3,"mat-icon",3),a.Yb(),a.Zb(4,"button",4),a.hc("click",(function(){return e.hideButtons=!e.hideButtons})),a.Ub(5,"mat-icon",5),a.Yb(),a.Ub(6,"div",6)),2&t&&(a.sc("ngIf",e.loading),a.Eb(1),a.sc("ngIf",!e.hideCloseEditor),a.Eb(1),a.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),a.sc("title",e.translate.instant(e.fullscreenMode?"lang.closeFullscreen":"lang.openFullscreen")),a.Eb(1),a.Jb("fa-expand",!e.fullscreenMode)("fa-compress",e.fullscreenMode),a.Eb(1),a.Jb("fullScreen",e.fullscreenMode)("buttonsHide",e.hideButtons),a.sc("title",e.translate.instant(e.hideButtons?"lang.showTool":"lang.hideTool")))},directives:[g.t,b.b,v.a],pipes:[d.d],styles:[".onlyofficeButton_close[_ngcontent-%COMP%], .onlyofficeButton_fullscreen[_ngcontent-%COMP%], .onlyofficeButton_hide[_ngcontent-%COMP%], .onlyofficeButton_show[_ngcontent-%COMP%]{position:absolute;top:12px;z-index:3;transition:all .5s}.onlyofficeButton_fullscreen[_ngcontent-%COMP%]{right:6px}.onlyofficeButton_close[_ngcontent-%COMP%]{right:56px}.onlyofficeButton_hide[_ngcontent-%COMP%]{right:106px}.onlyofficeButton_show[_ngcontent-%COMP%]{right:-15px}.fullScreen[_ngcontent-%COMP%]{position:fixed}.fullScreenEditor[_ngcontent-%COMP%]{top:0;left:0}.buttonsHide[_ngcontent-%COMP%]{top:-15px;right:-15px;transform:rotate(125deg);transition:all .5s}"]}),t}()},"+rOU":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return c}));var i=n("fXoL"),a=n("ofXK");function r(){throw Error("Host already has a portal attached")}var o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&r(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this)).component=t,o.viewContainerRef=i,o.injector=a,o.componentFactoryResolver=r,o}return n}(o),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this)).templateRef=t,r.viewContainerRef=i,r.context=a,r}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(o),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;return _classCallCheck(this,n),(a=e.call(this)).element=t instanceof i.l?t.nativeElement:t,a}return n}(o),u=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&r(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof s?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof c?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof l?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s,c;return _classCallCheck(this,n),(c=e.call(this)).outletElement=t,c._componentFactoryResolver=i,c._appRef=a,c._defaultInjector=r,c.attachDomPortal=function(t){if(!c._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=c._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),c.outletElement.appendChild(e),_get((s=_assertThisInitialized(c),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,(function(){i.parentNode&&i.parentNode.replaceChild(e,i)}))},c._document=o,c}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(i);-1!==t&&n.remove(t)})),i}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(u),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(d),h=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return n}(c);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.O),i.Tb(i.R))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[i.Bb]}),t}(),p=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r){var o,s;return _classCallCheck(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=a,s._isInitialized=!1,s.attached=new i.o,s.attachDomPortal=function(t){if(!s._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=s._document.createComment("dom-portal");t.setAttachedHost(_assertThisInitialized(s)),e.parentNode.insertBefore(i,e),s._getRootNode().appendChild(e),_get((o=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setDisposeFn",o).call(o,(function(){i.parentNode&&i.parentNode.replaceChild(e,i)}))},s._document=r,s}return _createClass(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return a.destroy()})),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(u);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.j),i.Tb(i.R),i.Tb(a.e))},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.Bb]}),t}(),m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(p);return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[i.Db([{provide:p,useExisting:t}]),i.Bb]}),t}(),g=i.bc(m),b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t}(),v=function(){function t(e,n){_classCallCheck(this,t),this._parentInjector=e,this._customTokens=n}return _createClass(t,[{key:"get",value:function(t,e){var n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}]),t}()},"/1cH":function(t,e,n){"use strict";n.d(e,"a",(function(){return L})),n.d(e,"b",(function(){return U})),n.d(e,"c",(function(){return F})),n.d(e,"d",(function(){return N}));var i=n("u47x"),a=n("8LU1"),r=n("fXoL"),o=n("FKr1"),s=n("quSY"),c=n("XNiG"),l=n("NXyV"),u=n("VRyK"),d=n("LRne"),f=n("xgIS"),h=n("ofXK"),p=n("rDax"),m=n("vxfF"),g=n("FtGj"),b=n("nLfN"),v=n("+rOU"),y=n("3Pt+"),_=n("kmnG"),k=n("IzEk"),C=n("eIep"),x=n("pLZG"),w=n("lJxs"),O=n("vkgz"),S=n("3E0/"),E=n("cH1L"),M=["panel"];function I(t,e){if(1&t&&(r.Zb(0,"div",0,1),r.qc(2),r.Yb()),2&t){var n=r.lc();r.sc("id",n.id)("ngClass",n._classList)}}var P=["*"],T=0,A=function t(e,n){_classCallCheck(this,t),this.source=e,this.option=n},D=Object(o.A)((function t(){_classCallCheck(this,t)})),R=new r.r("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),L=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var o;return _classCallCheck(this,n),(o=e.call(this))._changeDetectorRef=t,o._elementRef=i,o._activeOptionChanges=s.a.EMPTY,o.showPanel=!1,o._isOpen=!1,o.displayWith=null,o.optionSelected=new r.o,o.opened=new r.o,o.closed=new r.o,o.optionActivated=new r.o,o._classList={},o.id="mat-autocomplete-"+T++,o._autoActiveFirstOption=!!a.autoActiveFirstOption,o}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new i.b(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe((function(e){t.optionActivated.emit({source:t,option:t.options.toArray()[e]||null})})),this._setVisibility()}},{key:"ngOnDestroy",value:function(){this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(t){var e=new A(this,t);this.optionSelected.emit(e)}},{key:"_setVisibilityClasses",value:function(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}},{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(t){this._autoActiveFirstOption=Object(a.c)(t)}},{key:"classList",set:function(t){this._classList=t&&t.length?t.split(" ").reduce((function(t,e){return t[e.trim()]=!0,t}),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}}]),n}(D);return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.h),r.Tb(r.l),r.Tb(R))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,o.o,!0),r.Lb(n,o.n,!0)),2&t&&(r.Cc(i=r.ic())&&(e.options=i),r.Cc(i=r.ic())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(r.Oc(r.O,!0),r.ad(M,!0)),2&t&&(r.Cc(n=r.ic())&&(e.template=n.first),r.Cc(n=r.ic())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[r.Db([{provide:o.h,useExisting:t}]),r.Bb],ngContentSelectors:P,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(r.rc(),r.Qc(0,I,3,2,"ng-template"))},directives:[h.q],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t}(),F=function(){var t=function t(e){_classCallCheck(this,t),this.elementRef=e};return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l))},t.\u0275dir=r.Ob({type:t,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]}),t}(),j=new r.r("mat-autocomplete-scroll-strategy"),Y={provide:j,deps:[p.c],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Z={provide:y.r,useExisting:Object(r.W)((function(){return N})),multi:!0},N=function(){var t=function(){function t(e,n,i,a,r,o,d,f,h,p){var m=this;_classCallCheck(this,t),this._element=e,this._overlay=n,this._viewContainerRef=i,this._zone=a,this._changeDetectorRef=r,this._dir=d,this._formField=f,this._document=h,this._viewportRuler=p,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=s.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new c.a,this._windowBlurHandler=function(){m._canOpenOnNextFocus=m._document.activeElement!==m._element.nativeElement||m.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(l.a)((function(){return m.autocomplete&&m.autocomplete.options?Object(u.a).apply(void 0,_toConsumableArray(m.autocomplete.options.map((function(t){return t.onSelectionChange})))):m._zone.onStable.asObservable().pipe(Object(k.a)(1),Object(C.a)((function(){return m.optionSelections})))})),this._scrollStrategy=o}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular((function(){return e.addEventListener("blur",t._windowBlurHandler)}))}},{key:"ngOnChanges",value:function(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"_getOutsideClickStream",value:function(){var t=this;return Object(u.a)(Object(f.a)(this._document,"click"),Object(f.a)(this._document,"touchend")).pipe(Object(x.a)((function(e){var n=t._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,i=t._formField?t._formField._elementRef.nativeElement:null;return t._overlayAttached&&n!==t._element.nativeElement&&(!i||!i.contains(n))&&!!t._overlayRef&&!t._overlayRef.overlayElement.contains(n)})))}},{key:"writeValue",value:function(t){var e=this;Promise.resolve(null).then((function(){return e._setTriggerValue(t)}))}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this._element.nativeElement.disabled=t}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;if(e===g.h&&t.preventDefault(),this.activeOption&&e===g.g&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){var n=this.autocomplete._keyManager.activeItem,i=e===g.s||e===g.e;this.panelOpen||e===g.r?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}},{key:"_handleInput",value:function(t){var e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_scrollToOption",value:function(){var t=this.autocomplete._keyManager.activeItemIndex||0,e=Object(o.x)(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{var n=Object(o.y)(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}},{key:"_subscribeToClosingActions",value:function(){var t=this,e=this._zone.onStable.asObservable().pipe(Object(k.a)(1)),n=this.autocomplete.options.changes.pipe(Object(O.a)((function(){return t._positionStrategy.reapplyLastPosition()})),Object(S.a)(0));return Object(u.a)(e,n).pipe(Object(C.a)((function(){var e=t.panelOpen;return t._resetActiveItem(),t.autocomplete._setVisibility(),t.panelOpen&&(t._overlayRef.updatePosition(),e!==t.panelOpen&&t.autocomplete.opened.emit()),t.panelClosingActions})),Object(k.a)(1)).subscribe((function(e){return t._setValueAndClose(e)}))}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(t){var e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}},{key:"_setValueAndClose",value:function(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(t){this.autocomplete.options.forEach((function(e){e!=t&&e.selected&&e.deselect()}))}},{key:"_attachOverlay",value:function(){var t=this;if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Object(b.c)(this._element.nativeElement));var e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new v.j(this.autocomplete.template,this._viewContainerRef),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe((function(e){(e.keyCode===g.h||e.keyCode===g.s&&e.altKey)&&(t._resetActiveItem(),t._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())})),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe((function(){t.panelOpen&&e&&e.updateSize({width:t._getPanelWidth()})})))),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){return new p.d({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}},{key:"_getOverlayPosition",value:function(){var t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}},{key:"_setStrategyPositions",value:function(t){var e,n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"}];e="above"===this.position?i:"below"===this.position?n:[].concat(n,i),t.withPositions(e)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}},{key:"_canOpen",value:function(){var t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}},{key:"_getWindow",value:function(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}},{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(t){this._autocompleteDisabled=Object(a.c)(t)}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"panelClosingActions",get:function(){var t=this;return Object(u.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(x.a)((function(){return t._overlayAttached}))),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(x.a)((function(){return t._overlayAttached}))):Object(d.a)()).pipe(Object(w.a)((function(t){return t instanceof o.q?t:null})))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(p.c),r.Tb(r.R),r.Tb(r.B),r.Tb(r.h),r.Tb(j),r.Tb(E.c,8),r.Tb(_.a,9),r.Tb(h.e,8),r.Tb(m.h))},t.\u0275dir=r.Ob({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&r.hc("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&r.Fb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[r.Db([Z]),r.Cb]}),t}(),U=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},providers:[Y],imports:[[o.p,p.f,o.j,h.c],m.c,o.p,o.j]}),t}()},"/de/":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("0IaG"),a=n("fXoL"),r=n("sYmb"),o=n("tk/3"),s=n("jbvq"),c=["appVisaWorkflow"],l=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialogRef=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.appVisaWorkflow.loadWorkflowMaarchParapheur(this.data.id,this.data.type)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(o.b),a.Tb(i.a),a.Tb(i.h))},t.\u0275cmp=a.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&a.Oc(c,!0),2&t&&a.Cc(n=a.ic())&&(e.appVisaWorkflow=n.first)},decls:7,vars:4,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[3,"adminMode"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"h1",1),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Zb(4,"mat-dialog-content"),a.Ub(5,"app-visa-workflow",2,3),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.Tc(a.nc(3,2,"lang.externalVisaWorkflow")),a.Eb(3),a.sc("adminMode",!1))},directives:[i.i,i.f,s.a],pipes:[r.d],styles:[".avatarAccount[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}"]}),t}()},"/kMP":function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("FvrZ"),a=n("fXoL"),r=n("8yBR"),o=n("1YbM"),s=n("3Pt+"),c=n("Kj3r"),l=n("vkgz"),u=n("aEDk"),d=n("kmnG"),f=n("qFsG"),h=n("ofXK"),p=n("bTqV"),m=n("NFeN"),g=n("sYmb");function b(t,e){1&t&&(a.Ub(0,"mat-hint",7),a.mc(1,"translate")),2&t&&a.sc("innerHTML",a.nc(1,1,"lang.hotkeyInfo"),a.Ic)}function v(t,e){1&t&&(a.Zb(0,"div",8),a.mc(1,"translate"),a.Ub(2,"i",9),a.Sc(3,"\xa0"),a.Ub(4,"span",10),a.mc(5,"translate"),a.Yb()),2&t&&(a.sc("title",a.nc(1,2,"lang.hotkeyTitle")),a.Eb(4),a.sc("innerHTML",a.nc(5,4,"lang.hotkeyMsg"),a.Ic))}function y(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-nested-tree-node"),a.Zb(1,"li"),a.Zb(2,"div",11),a.Ub(3,"button",12),a.Zb(4,"div",13),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc().selectNode(t)})),a.Ub(5,"i",14),a.Sc(6),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc();a.Eb(4),a.Jb("node-selected",i.state.selected)("node-disabled",i.state.disabled)("node-hide",r.searchMode&&!i.state.search)("node-highlight",r.searchMode&&i.state.search),a.Eb(1),a.Gb(i.icon),a.Eb(1),a.Uc("\xa0",i.text," ")}}function _(t,e){1&t&&(a.Zb(0,"div"),a.Vb(1,19),a.Yb())}function k(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-nested-tree-node"),a.Zb(1,"li",15),a.Zb(2,"div",11),a.Zb(3,"button",16),a.hc("click",(function(){a.Hc(n);var t=e.$implicit,i=a.lc();return i.toggleNode(i.dataSource.data,{opened:!t.state.opened},[t.id])})),a.Ub(4,"mat-icon"),a.Yb(),a.Zb(5,"div",13),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc().selectNode(t)})),a.Ub(6,"i",14),a.Sc(7),a.Yb(),a.Yb(),a.Zb(8,"ul",17),a.Qc(9,_,2,0,"div",18),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc();a.Eb(1),a.Jb("fixHeight",!i.state.opened),a.Eb(2),a.uc("id","button-",i.id,""),a.Fb("aria-label","toggle "+i.filename),a.Eb(1),a.Hb("tree-exp far ",i.state.opened?"fa-minus-square":"fa-plus-square",""),a.Eb(1),a.Jb("node-selected",i.state.selected)("node-disabled",i.state.disabled)("node-hide",r.searchMode&&!i.state.search)("node-highlight",r.searchMode&&i.state.search),a.Eb(1),a.Gb(i.icon),a.Eb(1),a.Uc("\xa0",i.text," "),a.Eb(1),a.Jb("lastNode",i.last),a.Eb(1),a.sc("ngIf",i.state.opened)}}var C=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.sortPipe=e,this.latinisePipe=n,this.rawData=[],this.selectionPropagation=!0,this.openState="",this.afterSelectNode=new a.o,this.afterDeselectNode=new a.o,this.holdShift=!1,this.defaultOpenedNodes=[],this.treeControl=new i.k((function(t){return t.children})),this.dataSource=new r.f,this.searchMode=!1,this.searchTerm=new s.h(""),this.lastSelectedNodeIds=[],this.pendingChildOf={},this.temp={},this.hasChild=function(t,e){return!!e.children&&e.children.length>0}}return _createClass(t,[{key:"onKeydownHandler",value:function(t){this.selectionPropagation&&(this.holdShift=!0)}},{key:"onKeyupHandler",value:function(t){this.holdShift=!1}},{key:"ngOnInit",value:function(){this.rawData.length>0&&this.initData()}},{key:"initData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rawData;this.rawData=e,"all"!==this.openState&&this.setDefaultOpened(),this.rawData=e.map((function(e){return Object.assign(Object.assign({},e),{parent_id:"#"===e.parent_id||""===e.parent_id?null:e.parent_id,state:void 0!==e.state?{selected:e.state.selected,opened:e.state.opened||t.defaultOpenedNodes.indexOf(e.id)>-1||"all"===t.openState,disabled:e.state.disabled}:{selected:!1,opened:t.defaultOpenedNodes.indexOf(e.id)>-1||"all"===t.openState,disabled:!1}})})),this.rawData=this.sortPipe.transform(this.rawData,"text");var i=new(n("g9mw"))({id:"id",parent:"parent_id",children:"children",options:{deleteParent:!1}}).convert(this.rawData);i=i.children,this.initLastNodes(i),this.dataSource.data=i,this.treeControl.dataNodes=i,this.searchTerm.valueChanges.pipe(Object(c.a)(300),Object(l.a)((function(e){e=(e=e.trim()).toLowerCase(),t.searchNode(t.dataSource.data,e)}))).subscribe()}},{key:"setDefaultOpened",value:function(){var t=this;this.rawData.filter((function(t){return void 0!==t.state&&t.state.opened})).forEach((function(e){t.defaultOpenedNodes=t.defaultOpenedNodes.concat(t.getParents([e]))})),this.defaultOpenedNodes=this.defaultOpenedNodes.map((function(t){return t.id}))}},{key:"getData",value:function(t){return this.rawData.filter((function(e){return e.id===t}))[0]}},{key:"getIteration",value:function(t){return Array(t).fill(0).map((function(t,e){return e}))}},{key:"selectNode",value:function(t){t.state.disabled||(this.searchMode&&(this.searchMode=!1,this.searchTerm.setValue("")),this.lastSelectedNodeIds=[],this.holdShift?this.toggleNode(this.dataSource.data,{selected:!t.state.selected,opened:!0},[t.id]):(t.state.selected=!t.state.selected,this.lastSelectedNodeIds=[t]),t.state.selected?this.afterSelectNode.emit(this.lastSelectedNodeIds):this.afterDeselectNode.emit(this.lastSelectedNodeIds))}},{key:"toggleNode",value:function(t,e,n){var i=this;Array.isArray(t)?t.forEach((function(t){(n.indexOf(t.id)>-1||i.holdShift&&n.indexOf(t.parent_id)>-1)&&Object.keys(e).forEach((function(n){t.state.disabled&&"opened"===n?t.state[n]=e[n]:t.state.disabled||(t.state[n]=e[n],"selected"===n&&i.lastSelectedNodeIds.push(t))})),i.holdShift&&n.indexOf(t.parent_id)>-1&&n.push(t.id),i.toggleNode(t,e,n)})):t instanceof Object&&(t.children||[]).forEach((function(t){(n.indexOf(t.id)>-1||i.holdShift&&n.indexOf(t.parent_id)>-1)&&Object.keys(e).forEach((function(n){t.state.disabled&&"opened"===n?t.state[n]=e[n]:t.state.disabled||(t.state[n]=e[n],"selected"===n&&i.lastSelectedNodeIds.push(t))})),i.holdShift&&n.indexOf(t.parent_id)>-1&&n.push(t.id),i.toggleNode(t,e,n)}))}},{key:"getParents",value:function(t){var e=this.rawData.filter((function(e){return e.id===t[t.length-1].parent_id}));return e.length>0?(t.push(e[0]),this.getParents(t)):t}},{key:"searchNode",value:function(t,e){var n=this;this.searchMode=""!==e,Array.isArray(t)?t.forEach((function(t){t.state.opened=!0,n.latinisePipe.transform(t.text.toLowerCase()).indexOf(n.latinisePipe.transform(e))>-1?t.state.search=!0:""===e?delete t.state.search:t.state.search=!1,n.searchNode(t,e)})):t instanceof Object&&(t.children||[]).forEach((function(t){t.state.opened=!0,n.latinisePipe.transform(t.text.toLowerCase()).indexOf(n.latinisePipe.transform(e))>-1?t.state.search=!0:""===e?delete t.state.search:t.state.search=!1,n.searchNode(t,e)}))}},{key:"initLastNodes",value:function(t){var e=this;Array.isArray(t)?t.forEach((function(n,i){i===t.length-1&&(n.last=!0),e.initLastNodes(n)})):t instanceof Object&&(t.children||[]).forEach((function(n,i){i===t.children.length-1&&(n.last=!0),e.initLastNodes(n)}))}},{key:"getSelectedNodes",value:function(){return this.rawData.filter((function(t){return t.state.selected}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(o.a),a.Tb(u.c))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-maarch-flat-tree"]],hostBindings:function(t,e){1&t&&a.hc("keydown.Shift",(function(t){return e.onKeydownHandler(t)}),!1,a.Fc)("keyup.Shift",(function(t){return e.onKeyupHandler(t)}),!1,a.Fc)},inputs:{rawData:"rawData",selectionPropagation:"selectionPropagation",openState:"openState"},outputs:{afterSelectNode:"afterSelectNode",afterDeselectNode:"afterDeselectNode"},features:[a.Db([o.a])],decls:9,vars:9,consts:[["matInput","","type","text",3,"formControl","placeholder"],["align","end",3,"innerHTML",4,"ngIf"],[2,"position","relative","padding-top","20px"],["class","msgHotkey",3,"title",4,"ngIf"],[3,"dataSource","treeControl"],[4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["align","end",3,"innerHTML"],[1,"msgHotkey",3,"title"],[1,"fas","fa-keyboard"],[3,"innerHTML"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle","","disabled","",2,"position","absolute","left","-35px"],[1,"node-content",3,"click"],[2,"width","24px","text-align","center"],[1,"example-tree-container"],["mat-icon-button","",2,"position","absolute","left","-35px",3,"id","click"],[1,"example-tree-nested-node"],[4,"ngIf"],["matTreeNodeOutlet",""]],template:function(t,e){1&t&&(a.Zb(0,"mat-form-field"),a.Ub(1,"input",0),a.mc(2,"translate"),a.Qc(3,b,2,3,"mat-hint",1),a.Yb(),a.Zb(4,"div",2),a.Qc(5,v,6,6,"div",3),a.Zb(6,"mat-tree",4),a.Qc(7,y,7,11,"mat-nested-tree-node",5),a.Qc(8,k,10,21,"mat-nested-tree-node",6),a.Yb(),a.Yb()),2&t&&(a.Eb(1),a.tc("placeholder",a.nc(2,7,"lang.searchEntities")),a.sc("formControl",e.searchTerm),a.Eb(2),a.sc("ngIf",e.selectionPropagation),a.Eb(2),a.sc("ngIf",e.holdShift),a.Eb(1),a.sc("dataSource",e.dataSource)("treeControl",e.treeControl),a.Eb(2),a.sc("matTreeNodeDefWhen",e.hasChild))},directives:[d.c,f.b,s.c,s.t,s.i,h.t,r.b,r.h,d.f,r.a,p.b,r.k,m.a,r.i],pipes:[g.d],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}.example-tree-nested-node[_ngcontent-%COMP%]{padding-left:30px}mat-tree[_ngcontent-%COMP%]{margin-left:10px}.mat-tree-node[_ngcontent-%COMP%]{font-family:Titillium Web,sans-serif,Arial;min-height:32px;line-height:32px;min-width:32px;height:32px;padding:0;background-color:#fff;white-space:pre}.mat-nested-tree-node[_ngcontent-%COMP%]{top:-24px}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}li.example-tree-container[_ngcontent-%COMP%]{border-bottom:0}ul[_ngcontent-%COMP%]{padding-left:40px}li[_ngcontent-%COMP%]{padding-left:15px;border:1px dotted grey;border-width:0 0 1px 1px;position:relative;top:-24px}li.mat-tree-node[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0;position:relative;top:17px}li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-top:15px;border-top:1px dotted grey;margin-left:-15px;padding-left:27px}.lastNode[_ngcontent-%COMP%]{border-left:1px solid #fff;margin-left:-16px!important}.mat-icon-button[_ngcontent-%COMP%]{z-index:100}.fixHeight[_ngcontent-%COMP%]{height:33px}.node-content[_ngcontent-%COMP%]{height:24px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;border-radius:5px;display:flex;align-items:center;margin-top:-35px!important;z-index:2}.node-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#666;color:#135f7f}.node-content[_ngcontent-%COMP%]:not(.node-selected):not(.node-disabled):hover{background-color:hsla(0,0%,40%,.11)!important;transition:all .3s}.node-selected[_ngcontent-%COMP%]{background-color:#1a80ab;color:#fff;transition:all .3s}.node-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.node-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.node-hide[_ngcontent-%COMP%]{opacity:.5}.node-highlight[_ngcontent-%COMP%]{font-weight:700;color:#135f7f}.tree-exp[_ngcontent-%COMP%]:before{background:#fff}.msgHotkey[_ngcontent-%COMP%]{position:absolute;background:rgba(0,0,0,.59);color:#fff;z-index:3;padding:5px;border-radius:5px;font-size:10px;top:0;right:0}"]}),t}()},"/t3+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return u}));var i=n("fXoL"),a=n("FKr1"),r=n("ofXK"),o=n("nLfN"),s=["*",[["mat-toolbar-row"]]],c=["*","mat-toolbar-row"],l=Object(a.z)((function t(e){_classCallCheck(this,t),this._elementRef=e})),u=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t}(),d=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t))._platform=i,r._document=a,r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var t=this;Object(i.Y)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return t._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var t=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(t){return!(t.classList&&t.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(t._document?t._document.COMMENT_NODE:8)})).some((function(t){return!(!t.textContent||!t.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),n}(l);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(o.a),i.Tb(r.e))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var a;1&t&&i.Lb(n,u,!0),2&t&&i.Cc(a=i.ic())&&(e._toolbarRows=a)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&i.Jb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.Bb],ngContentSelectors:c,decls:2,vars:0,template:function(t,e){1&t&&(i.rc(s),i.qc(0),i.qc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),t}(),f=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.j],a.j]}),t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("7o/Q");function a(t,e){return function(n){return n.lift(new r(t,e))}}var r=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t)).keySelector=a,r.hasKey=!1,"function"==typeof i&&(r.compare=i),r}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(a){return this.destination.error(a)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(i.a)},0:function(t,e,n){t.exports=n("jj9e")},"0EQZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return c}));var i=n("7+OI"),a=n("LRne"),r=n("XNiG"),o=n("fXoL"),s=function t(){_classCallCheck(this,t)};function c(t){return t&&"function"==typeof t.connect}var l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._data=t,i}return _createClass(n,[{key:"connect",value:function(){return Object(i.a)(this._data)?this._data:Object(a.a)(this._data)}},{key:"disconnect",value:function(){}}]),n}(s),u=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,t),this._multiple=n,this._emitChanges=a,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new r.a,i&&i.length&&(n?i.forEach((function(t){return e._markSelected(t)})):this._markSelected(i[0]),this._selectedToEmit.length=0)}return _createClass(t,[{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach((function(e){return t._markSelected(e)})),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach((function(e){return t._unmarkSelected(e)})),this._emitChangeEvent()}},{key:"toggle",value:function(t){this.isSelected(t)?this.deselect(t):this.select(t)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(t){return this._selection.has(t)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(t){this._multiple&&this.selected&&this._selected.sort(t)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}},{key:"_unmarkSelected",value:function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}},{key:"_unmarkAll",value:function(){var t=this;this.isEmpty()||this._selection.forEach((function(e){return t._unmarkSelected(e)}))}},{key:"_verifyValueAssignment",value:function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}},{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}}]),t}(),d=function(){var t=function(){function t(){_classCallCheck(this,t),this._listeners=[]}return _createClass(t,[{key:"notify",value:function(t,e){var n,i=_createForOfIteratorHelper(this._listeners);try{for(i.s();!(n=i.n()).done;){(0,n.value)(t,e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(o.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t}()},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("bHdf");function a(){return Object(i.a)(1)}},"0IaG":function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return F})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return A}));var i=n("rDax"),a=n("+rOU"),r=n("fXoL"),o=n("FKr1"),s=n("cH1L"),c=n("ofXK"),l=n("XNiG"),u=n("NXyV"),d=n("LRne"),f=n("pLZG"),h=n("IzEk"),p=n("JX91"),m=n("R0Ic"),g=n("FtGj"),b=n("u47x");function v(t,e){}var y=function t(){_classCallCheck(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},_={dialogContainer:Object(m.n)("dialogContainer",[Object(m.k)("void, exit",Object(m.l)({opacity:0,transform:"scale(0.7)"})),Object(m.k)("enter",Object(m.l)({transform:"none"})),Object(m.m)("* => enter",Object(m.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(m.l)({transform:"none",opacity:1}))),Object(m.m)("* => void, * => exit",Object(m.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(m.l)({opacity:0})))])};function k(){throw Error("Attempting to attach dialog content after content is already attached")}var C=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,o,s){var c;return _classCallCheck(this,n),(c=e.call(this))._elementRef=t,c._focusTrapFactory=i,c._changeDetectorRef=a,c._config=s,c._elementFocusedBeforeDialogWasOpened=null,c._state="enter",c._animationStateChanged=new r.o,c.attachDomPortal=function(t){return c._portalOutlet.hasAttached()&&k(),c._setupFocusTrap(),c._portalOutlet.attachDomPortal(t)},c._ariaLabelledBy=s.ariaLabelledBy||null,c._document=o,c}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached()&&k(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached()&&k(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){var t=this;this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()})))}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}},{key:"_onAnimationDone",value:function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(b.i),r.Tb(r.h),r.Tb(c.e,8),r.Tb(y))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.Oc(a.c,!0),2&t&&r.Cc(n=r.ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Kb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Fb("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Zc("@dialogContainer",e._state))},features:[r.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Qc(0,v,0,0,"ng-template",0)},directives:[a.c],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[_.dialogContainer]}}),t}(),x=0,w=function(){function t(e,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+x++;_classCallCheck(this,t),this._overlayRef=e,this._containerInstance=n,this.id=a,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new l.a,this._afterClosed=new l.a,this._beforeClosed=new l.a,this._state=0,n._id=a,n._animationStateChanged.pipe(Object(f.a)((function(t){return"done"===t.phaseName&&"enter"===t.toState})),Object(h.a)(1)).subscribe((function(){i._afterOpened.next(),i._afterOpened.complete()})),n._animationStateChanged.pipe(Object(f.a)((function(t){return"done"===t.phaseName&&"exit"===t.toState})),Object(h.a)(1)).subscribe((function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()})),e.detachments().subscribe((function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()})),e.keydownEvents().pipe(Object(f.a)((function(t){return t.keyCode===g.h&&!i.disableClose&&!Object(g.v)(t)}))).subscribe((function(t){t.preventDefault(),i.close()})),e.backdropClick().subscribe((function(){i.disableClose?i._containerInstance._recaptureFocus():i.close()}))}return _createClass(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Object(f.a)((function(t){return"start"===t.phaseName})),Object(h.a)(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){return e._finishDialogClose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}(),O=new r.r("MatDialogData"),S=new r.r("mat-dialog-default-options"),E=new r.r("mat-dialog-scroll-strategy"),M={provide:E,deps:[i.c],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},I=function(){var t=function(){function t(e,n,i,a,r,o,s){var c=this;_classCallCheck(this,t),this._overlay=e,this._injector=n,this._defaultOptions=a,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new l.a,this._afterOpenedAtThisLevel=new l.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(u.a)((function(){return c.openDialogs.length?c._afterAllClosed:c._afterAllClosed.pipe(Object(p.a)(void 0))})),this._scrollStrategy=r}return _createClass(t,[{key:"open",value:function(t,e){var n=this;if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new y)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'.concat(e.id,'" exists already. The dialog id must be unique.'));var i=this._createOverlay(e),a=this._attachDialogContainer(i,e),r=this._attachDialogContent(t,a,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe((function(){return n._removeOpenDialog(r)})),this.afterOpened.next(r),r}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new i.d({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:y,useValue:e}]}),i=new a.d(C,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var o=new w(n,e,i.id);if(t instanceof r.O)e.attachTemplatePortal(new a.j(t,null,{$implicit:i.data,dialogRef:o}));else{var s=this._createInjector(i,o,e),c=e.attachComponentPortal(new a.d(t,i.viewContainerRef,s));o.componentInstance=c.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,a=[{provide:C,useValue:n},{provide:O,useValue:t.data},{provide:w,useValue:e}];return!t.direction||i&&i.get(s.c,null)||a.push({provide:s.c,useValue:{value:t.direction,change:Object(d.a)()}}),r.s.create({parent:i||this._injector,providers:a})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.dc(i.c),r.dc(r.s),r.dc(c.n,8),r.dc(S,8),r.dc(E),r.dc(t,12),r.dc(i.e))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),P=0,T=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.dialogRef=e,this._elementRef=n,this._dialog=i,this.type="button"}return _createClass(t,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=L(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(w,8),r.Tb(r.l),r.Tb(I))},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.hc("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&r.Fb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.Cb]}),t}(),A=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._dialogRef=e,this._elementRef=n,this._dialog=i,this.id="mat-dialog-title-"+P++}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=L(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(w,8),r.Tb(r.l),r.Tb(I))},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.cc("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t}(),D=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t}(),R=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t}();function L(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find((function(t){return t.id===n.id})):null}var F=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},providers:[I,M],imports:[[i.f,a.i,o.j],o.j]}),t}()},"0MNC":function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return S}));var i,a,r=n("fXoL"),o=n("nLfN"),s=n("XNiG"),c=n("itXk"),l=n("GyhO"),u=n("HDdC"),d=n("IzEk"),f=n("7o/Q"),h=function(){function t(e){_classCallCheck(this,t),this.total=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.total))}}]),t}(),p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).total=i,a.count=0,a}return _createClass(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(f.a),m=n("Kj3r"),g=n("lJxs"),b=n("JX91"),v=n("1G5W"),y=n("8LU1"),_=new Set,k=((a=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!_.has(t))try{i||((i=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(i)),i.sheet&&(i.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),_.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||a)(r.dc(o.a))},a.\u0275prov=Object(r.Pb)({factory:function(){return new a(Object(r.dc)(o.a))},token:a,providedIn:"root"}),a);function C(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var x,w=((x=function(){function t(e,n){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new s.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return O(Object(y.b)(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=O(Object(y.b)(t)).map((function(t){return e._registerQuery(t).observable})),i=Object(c.a)(n);return(i=Object(l.a)(i.pipe(Object(d.a)(1)),i.pipe((function(t){return t.lift(new h(1))}),Object(m.a)(0)))).pipe(Object(g.a)((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new u.a((function(t){var i=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(i),function(){n.removeListener(i)}})).pipe(Object(b.a)(n),Object(g.a)((function(e){return{query:t,matches:e.matches}})),Object(v.a)(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}()).\u0275fac=function(t){return new(t||x)(r.dc(k),r.dc(r.B))},x.\u0275prov=Object(r.Pb)({factory:function(){return new x(Object(r.dc)(k),Object(r.dc)(r.B))},token:x,providedIn:"root"}),x);function O(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var S={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},"0ST6":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),a=n("sYmb"),r=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.changeDetectorRef=n,this.ngZone=i}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.removeTimer();var i=new Date(t),a=("0"+i.getDate()).slice(-2),r=("0"+(i.getMonth()+1)).slice(-2),o=(("0"+i.getHours()).slice(-2),("0"+i.getMinutes()).slice(-2),new Date),s=[];s[0]=this.translate.instant("lang.januaryShort"),s[1]=this.translate.instant("lang.februaryShort"),s[2]=this.translate.instant("lang.marchShort"),s[3]=this.translate.instant("lang.aprilShort"),s[4]=this.translate.instant("lang.mayShort"),s[5]=this.translate.instant("lang.juneShort"),s[6]=this.translate.instant("lang.julyShort"),s[7]=this.translate.instant("lang.augustShort"),s[8]=this.translate.instant("lang.septemberShort"),s[9]=this.translate.instant("lang.octoberShort"),s[10]=this.translate.instant("lang.novemberShort"),s[11]=this.translate.instant("lang.decemberShort");var c=Math.round(Math.abs((o.getTime()-i.getTime())/1e3)),l=("0"+o.getDate()).slice(-2),u=Number.isNaN(c)?1e3:1e3*this.getSecondsUntilUpdate(c);this.timer=this.ngZone.runOutsideAngular((function(){return"undefined"!=typeof window?window.setTimeout((function(){e.ngZone.run((function(){return e.changeDetectorRef.markForCheck()}))}),u):null}));var d=Math.round(Math.abs(c/60)),f=Math.round(Math.abs(d/60)),h=Math.round(Math.abs(f/24));return Math.round(Math.abs(h/30.416)),Math.round(Math.abs(h/365)),null==t?"<span>"+this.translate.instant("lang.undefined")+"</span>":o>i?this.getFormatedDate("","badge"===n?f<=24&&a===l||f<=24?"<b>"+this.translate.instant("lang.outdated")+" "+this.translate.instant("lang.fromRange").toLowerCase()+" "+f+" "+this.translate.instant("lang.hours")+" !</b>":"<b>"+this.translate.instant("lang.outdated")+" "+this.translate.instant("lang.fromRange").toLowerCase()+" "+h+" "+this.translate.instant("lang.dayS")+" !</b>":"<b>"+this.translate.instant("lang.outdated")+" !</b>","warn",n):Number.isNaN(c)?"":d<=59?this.getFormatedDate(this.translate.instant("lang.in")[0].toUpperCase()+this.translate.instant("lang.in").substr(1).toLowerCase(),d+" "+this.translate.instant("lang.minutes"),"warn",n):f<=23?this.getFormatedDate(this.translate.instant("lang.in")[0].toUpperCase()+this.translate.instant("lang.in").substr(1).toLowerCase(),f+" "+this.translate.instant("lang.hours"),"warn",n):h<=5?this.getFormatedDate(this.translate.instant("lang.in")[0].toUpperCase()+this.translate.instant("lang.in").substr(1).toLowerCase(),h+" "+this.translate.instant("lang.dayS"),"secondary",n):h<=345?this.getFormatedDate(this.translate.instant("lang.onRange")[0].toUpperCase()+this.translate.instant("lang.onRange").substr(1).toLowerCase(),i.getDate()+" "+s[i.getMonth()],"accent",n):a+"/"+r+"/"+i.getFullYear()}},{key:"ngOnDestroy",value:function(){this.removeTimer()}},{key:"removeTimer",value:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}},{key:"getSecondsUntilUpdate",value:function(t){return t<60?2:t<3600?30:t<86400?300:3600}},{key:"getFormatedDate",value:function(t,e,n,i){return"badge"===i?"".concat(t," ").concat(e,'&nbsp;<i class="fas fa-circle badgePipe_').concat(n,'"></i>'):'<span color="'.concat(n,'">').concat(e,"</span>")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.e),i.fc(),i.Tb(i.B))},t.\u0275pipe=i.Sb({name:"timeLimit",type:t,pure:!1}),t}()},"0alx":function(t,e,n){"use strict";var i=n("VKeD");e.isIterable=function(t){return t&&"function"==typeof t[i.iterator]}},"0vfS":function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return h}));var i=n("fXoL"),a=n("bTqV"),r=[[["","md-fab",""],["","mat-fab",""]]],o=["[md-fab], [mat-fab]"],s=[[["","md-mini-fab",""],["","mat-mini-fab",""]]],c=["[md-mini-fab], [mat-mini-fab]"],l=[[["smd-fab-trigger"]],[["smd-fab-actions"]]],u=["smd-fab-trigger","smd-fab-actions"],d=function(){var t=function(){function t(e){_classCallCheck(this,t),this._parent=e,this.spin=!1}return _createClass(t,[{key:"_onClick",value:function(t){this._parent.fixed||(this._parent.toggle(),t.stopPropagation())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(Object(i.W)((function(){return h}))))},t.\u0275cmp=i.Nb({type:t,selectors:[["smd-fab-trigger"]],hostVars:2,hostBindings:function(t,e){1&t&&i.hc("click",(function(t){return e._onClick(t)})),2&t&&i.Jb("smd-spin",e.spin)},inputs:{spin:"spin"},ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(i.rc(r),i.qc(0))},encapsulation:2}),t}(),f=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._parent=e,this.renderer=n}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._buttons.changes.subscribe((function(){t.initButtonStates(),t._parent.setActionsVisibility()})),this.initButtonStates()}},{key:"initButtonStates",value:function(){var t=this;this._buttons.toArray().forEach((function(e,n){t.renderer.addClass(e._getHostElement(),"smd-fab-action-item"),t.changeElementStyle(e._getHostElement(),"z-index",""+(23-n))}))}},{key:"show",value:function(){var t=this;this._buttons&&this._buttons.toArray().forEach((function(e,n){var i,a=0;"scale"==t._parent.animationMode?(a=3+65*n,i="scale(1)"):i=t.getTranslateFunction("0"),t.changeElementStyle(e._getHostElement(),"transition-delay",a+"ms"),t.changeElementStyle(e._getHostElement(),"opacity","1"),t.changeElementStyle(e._getHostElement(),"transform",i)}))}},{key:"hide",value:function(){var t=this;this._buttons&&this._buttons.toArray().forEach((function(e,n){var i,a="1",r=0;"scale"==t._parent.animationMode?(r=3-65*n,i="scale(0)",a="0"):i=t.getTranslateFunction(55*(n+1)-5*n+"px"),t.changeElementStyle(e._getHostElement(),"transition-delay",r+"ms"),t.changeElementStyle(e._getHostElement(),"opacity",a),t.changeElementStyle(e._getHostElement(),"transform",i)}))}},{key:"getTranslateFunction",value:function(t){var e=this._parent.direction;return("up"==e||"down"==e?"translateY":"translateX")+"("+("down"==e||"right"==e?"-":"")+t+")"}},{key:"changeElementStyle",value:function(t,e,n){this.renderer.setStyle(t,e,n)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(Object(i.W)((function(){return h}))),i.Tb(i.H))},t.\u0275cmp=i.Nb({type:t,selectors:[["smd-fab-actions"]],contentQueries:function(t,e,n){var r;1&t&&i.Lb(n,a.b,!1),2&t&&i.Cc(r=i.ic())&&(e._buttons=r)},ngContentSelectors:c,decls:1,vars:0,template:function(t,e){1&t&&(i.rc(s),i.qc(0))},encapsulation:2}),t}(),h=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.elementRef=e,this.renderer=n,this.isInitialized=!1,this._direction="up",this._open=!1,this._animationMode="fling",this.fixed=!1,this.openChange=new i.o}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this.isInitialized=!0,this.setActionsVisibility(),this._setElementClass(this.direction,!0),this._setElementClass(this.animationMode,!0)}},{key:"toggle",value:function(){this.open=!this.open}},{key:"_onClick",value:function(){!this.fixed&&this.open&&(this.open=!1)}},{key:"setActionsVisibility",value:function(){this.open?this._childActions.show():this._childActions.hide()}},{key:"_setElementClass",value:function(t,e){e?this.renderer.addClass(this.elementRef.nativeElement,"smd-"+t):this.renderer.removeClass(this.elementRef.nativeElement,"smd-"+t)}},{key:"open",get:function(){return this._open},set:function(t){var e=this._open;this._open=t,e!=this._open&&(this.openChange.emit(this._open),this.isInitialized&&this.setActionsVisibility())}},{key:"direction",get:function(){return this._direction},set:function(t){var e=this._direction;this._direction=t,e!=this.direction&&(this._setElementClass(e,!1),this._setElementClass(this.direction,!0),this.isInitialized&&this.setActionsVisibility())}},{key:"animationMode",get:function(){return this._animationMode},set:function(t){var e=this,n=this._animationMode;this._animationMode=t,n!=this._animationMode&&(this._setElementClass(n,!1),this._setElementClass(this.animationMode,!0),this.isInitialized&&Promise.resolve(null).then((function(){return e.open=!1})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.H))},t.\u0275cmp=i.Nb({type:t,selectors:[["smd-fab-speed-dial"]],contentQueries:function(t,e,n){var a;1&t&&i.Nc(n,f,!0),2&t&&i.Cc(a=i.ic())&&(e._childActions=a.first)},hostVars:2,hostBindings:function(t,e){1&t&&i.hc("click",(function(){return e._onClick()})),2&t&&i.Jb("smd-opened",e.open)},inputs:{fixed:"fixed",open:"open",direction:"direction",animationMode:"animationMode"},outputs:{openChange:"openChange"},ngContentSelectors:u,decls:3,vars:0,consts:[[1,"smd-fab-speed-dial-container"]],template:function(t,e){1&t&&(i.rc(l),i.Zb(0,"div",0),i.qc(1),i.qc(2,1),i.Yb())},styles:["smd-fab-speed-dial{position:absolute;display:inline-block}smd-fab-speed-dial.smd-opened .smd-fab-speed-dial-container{height:auto}smd-fab-speed-dial.smd-opened .smd-fab-speed-dial-container smd-fab-trigger.smd-spin{transform:rotate(1turn)}smd-fab-speed-dial.smd-opened .smd-fab-speed-dial-container smd-fab-actions{height:auto}smd-fab-speed-dial .smd-fab-speed-dial-container{height:0;position:relative;display:flex;align-items:center;z-index:20}smd-fab-speed-dial .smd-fab-speed-dial-container smd-fab-trigger{pointer-events:auto;z-index:24}smd-fab-speed-dial .smd-fab-speed-dial-container smd-fab-trigger.smd-spin{transition:all .6s cubic-bezier(.4,0,.2,1)}smd-fab-speed-dial .smd-fab-speed-dial-container smd-fab-actions{height:0;display:flex}smd-fab-speed-dial.smd-fling .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{display:block;opacity:1;transition:all .3s cubic-bezier(.55,0,.55,.2)}smd-fab-speed-dial.smd-scale .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{transform:scale(0);transition:all .3s cubic-bezier(.55,0,.55,.2);transition-duration:.14286s}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container{flex-direction:column}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container smd-fab-trigger{order:1}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container smd-fab-actions{flex-direction:column;order:2}smd-fab-speed-dial.smd-down .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-top:10px}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container{flex-direction:column}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container smd-fab-trigger{order:2}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container smd-fab-actions{flex-direction:column-reverse;order:1}smd-fab-speed-dial.smd-up .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-bottom:10px}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container{flex-direction:row}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container smd-fab-trigger{order:2}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container smd-fab-actions{flex-direction:row-reverse;order:1}smd-fab-speed-dial.smd-left .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-right:10px}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container{flex-direction:row}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container smd-fab-trigger{order:1}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container smd-fab-actions{flex-direction:row;order:2}smd-fab-speed-dial.smd-right .smd-fab-speed-dial-container smd-fab-actions .smd-fab-action-item{margin-left:10px}"],encapsulation:2}),t}()},1:function(t,e){},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("zx2A");function a(t){return function(e){return e.lift(new r(t))}}var r=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new o(t),a=Object(i.c)(this.notifier,new i.a(n));return a&&!n.seenValue?(n.add(a),e.subscribe(n)):n}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(i.b)},"1YbM":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL"),a=n("aEDk"),r=n("rH+9"),o=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.latinisePipe=e,this.functions=n}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="",a="";return this.functions.empty(t)?[]:(t.sort((function(t,r){return void 0===n?(i=e.latinisePipe.transform(t).toLocaleLowerCase(),a=e.latinisePipe.transform(r).toLocaleLowerCase()):(t[n]=null!==t[n]?t[n]:"",r[n]=null!==r[n]?r[n]:"",i="number"!=typeof t[n]?e.latinisePipe.transform(t[n]).toLocaleLowerCase():t[n],a="number"!=typeof r[n]?e.latinisePipe.transform(r[n]).toLocaleLowerCase():r[n]),i<a?-1:i>a?1:0})),t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.c),i.Tb(r.a))},t.\u0275pipe=i.Sb({name:"sortBy",type:t,pure:!0}),t}()},"1jcm":function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return x}));var i=n("GU7r"),a=n("fXoL"),r=n("FKr1"),o=n("8LU1"),s=n("3Pt+"),c=n("R1ws"),l=n("u47x"),u=n("cH1L"),d=["thumbContainer"],f=["toggleBar"],h=["input"],p=function(){return{enterDuration:150}},m=["*"],g=new a.r("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),b=0,v={provide:s.r,useExisting:Object(a.W)((function(){return k})),multi:!0},y=function t(e,n){_classCallCheck(this,t),this.source=e,this.checked=n},_=Object(r.E)(Object(r.z)(Object(r.A)(Object(r.B)((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"accent")),k=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,s,c,l,u){var d;return _classCallCheck(this,n),(d=e.call(this,t))._focusMonitor=i,d._changeDetectorRef=r,d.defaults=c,d._animationMode=l,d._onChange=function(t){},d._onTouched=function(){},d._uniqueId="mat-slide-toggle-"+ ++b,d._required=!1,d._checked=!1,d.name=null,d.id=d._uniqueId,d.labelPosition="after",d.ariaLabel=null,d.ariaLabelledby=null,d.change=new a.o,d.toggleChange=new a.o,d.dragChange=new a.o,d.tabIndex=parseInt(o)||0,d}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){"keyboard"===e||"program"===e?t._inputElement.nativeElement.focus():e||Promise.resolve().then((function(){return t._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"writeValue",value:function(t){this.checked=!!t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new y(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(o.c)(t)}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=Object(o.c)(t),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),n}(_);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(l.h),a.Tb(a.h),a.ec("tabindex"),a.Tb(a.B),a.Tb(g),a.Tb(c.a,8),a.Tb(u.c,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(a.ad(d,!0),a.ad(f,!0),a.ad(h,!0)),2&t&&(a.Cc(n=a.ic())&&(e._thumbEl=n.first),a.Cc(n=a.ic())&&(e._thumbBarEl=n.first),a.Cc(n=a.ic())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(a.cc("id",e.id),a.Fb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),a.Jb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[a.Db([v]),a.Bb],ngContentSelectors:m,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(a.rc(),a.Zb(0,"label",0,1),a.Zb(2,"div",2,3),a.Zb(4,"input",4,5),a.hc("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),a.Yb(),a.Zb(6,"div",6,7),a.Ub(8,"div",8),a.Zb(9,"div",9),a.Ub(10,"div",10),a.Yb(),a.Yb(),a.Yb(),a.Zb(11,"span",11,12),a.hc("cdkObserveContent",(function(){return e._onLabelTextChange()})),a.Zb(13,"span",13),a.Sc(14,"\xa0"),a.Yb(),a.qc(15),a.Yb(),a.Yb()),2&t){var n=a.Dc(1),i=a.Dc(12);a.Fb("for",e.inputId),a.Eb(2),a.Jb("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),a.Eb(2),a.sc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),a.Fb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),a.Eb(5),a.sc("matRippleTrigger",n)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.yc(17,p))}},directives:[r.t,i.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t}(),C={provide:s.q,useExisting:Object(a.W)((function(){return x})),multi:!0},x=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(s.b);return t.\u0275fac=function(e){return w(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-slide-toggle","required","","formControlName",""],["mat-slide-toggle","required","","formControl",""],["mat-slide-toggle","required","","ngModel",""]],features:[a.Db([C]),a.Bb]}),t}(),w=a.bc(x),O=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)}}),t}(),S=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[O,r.u,r.j,i.c],O,r.j]}),t}()},2:function(t,e){},"2ChS":function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return m}));var i=n("rDax"),a=n("+rOU"),r=n("fXoL"),o=n("FKr1"),s=n("0MNC"),c=n("R0Ic"),l=n("ofXK"),u=(n("cH1L"),n("XNiG"),n("VRyK"),n("LRne"),n("FtGj"),n("pLZG"),n("IzEk"),n("u47x"));function d(t,e){}var f=function t(){_classCallCheck(this,t),this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0},h={bottomSheetState:Object(c.n)("state",[Object(c.k)("void, hidden",Object(c.l)({transform:"translateY(100%)"})),Object(c.k)("visible",Object(c.l)({transform:"translateY(0%)"})),Object(c.m)("visible => void, visible => hidden",Object(c.e)("".concat(o.b.COMPLEX," ").concat(o.a.ACCELERATION_CURVE))),Object(c.m)("void => visible",Object(c.e)("".concat(o.b.EXITING," ").concat(o.a.DECELERATION_CURVE)))])},p=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,o,c,l){var u;return _classCallCheck(this,n),(u=e.call(this))._elementRef=t,u._changeDetectorRef=i,u._focusTrapFactory=a,u.bottomSheetConfig=l,u._animationState="void",u._animationStateChanged=new r.o,u._elementFocusedBeforeOpened=null,u.attachDomPortal=function(t){return u._validatePortalAttached(),u._setPanelClass(),u._savePreviouslyFocusedElement(),u._portalOutlet.attachDomPortal(t)},u._document=c,u._breakpointSubscription=o.observe([s.b.Medium,s.b.Large,s.b.XLarge]).subscribe((function(){u._toggleClass("mat-bottom-sheet-container-medium",o.isMatched(s.b.Medium)),u._toggleClass("mat-bottom-sheet-container-large",o.isMatched(s.b.Large)),u._toggleClass("mat-bottom-sheet-container-xlarge",o.isMatched(s.b.XLarge))})),u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}},{key:"exit",value:function(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}},{key:"_onAnimationDone",value:function(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_toggleClass",value:function(t,e){var n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}},{key:"_validatePortalAttached",value:function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}},{key:"_setPanelClass",value:function(){var t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach((function(e){return t.classList.add(e)})):e&&t.classList.add(e)}},{key:"_trapFocus",value:function(){var t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{var e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_savePreviouslyFocusedElement",value:function(){var t=this;this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()}))}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(u.i),r.Tb(s.a),r.Tb(l.e,8),r.Tb(f))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var n;1&t&&r.Oc(a.c,!0),2&t&&r.Cc(n=r.ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.Kb("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Fb("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),r.Zc("@state",e._animationState))},features:[r.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Qc(0,d,0,0,"ng-template",0)},directives:[a.c],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[h.bottomSheetState]},changeDetection:0}),t}(),m=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[i.f,o.j,a.i],o.j]}),t}()},"2KeD":function(t,e,n){"use strict";var i=n("Q1FS"),a=n("zB/H"),r=n("zfKp");e.scheduleObservable=function(t,e){return new i.Observable((function(n){var i=new a.Subscription;return i.add(e.schedule((function(){var a=t[r.observable]();i.add(a.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("XNiG"),a=n("9ppp"),r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._value=t,i}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(i.a)},"2c88":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("0IaG"),a=n("fXoL"),r=n("sYmb"),o=n("ofXK"),s=n("bTqV");function c(t,e){if(1&t&&(a.Zb(0,"div",7),a.Ub(1,"div",8),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.sc("innerHTML",n.data.msg,a.Ic)}}var l=function(){var t=function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.data=n,this.dialogRef=i,null===this.data.msg&&(this.data.msg=""),void 0===this.data.buttonCancel&&(this.data.buttonCancel=this.translate.instant("lang.cancel")),void 0===this.data.buttonValidate&&(this.data.buttonValidate=this.translate.instant("lang.ok"))};return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(i.a),a.Tb(i.h))},t.\u0275cmp=a.Nb({type:t,selectors:[["ng-component"]],decls:10,vars:4,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions",""],["color","primary","mat-raised-button","",1,"actions",3,"click"],["color","","mat-raised-button","","cdkFocusInitial","",1,"actions",3,"click"],["mat-dialog-content",""],[1,"alert-message","alert-message-info",3,"innerHTML"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"h1",1),a.Sc(2),a.Yb(),a.Qc(3,c,2,1,"div",2),a.Ub(4,"span",3),a.Zb(5,"div",4),a.Zb(6,"button",5),a.hc("click",(function(){return e.dialogRef.close("ok")})),a.Sc(7),a.Yb(),a.Zb(8,"button",6),a.hc("click",(function(){return e.dialogRef.close("")})),a.Sc(9),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.Tc(e.data.title),a.Eb(1),a.sc("ngIf",""!==e.data.msg),a.Eb(4),a.Tc(e.data.buttonValidate),a.Eb(2),a.Tc(e.data.buttonCancel))},directives:[i.i,o.t,i.c,s.b,i.f],styles:[".alert-message-info[_ngcontent-%COMP%]{margin:0;font-size:16px}"]}),t}()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"2qMH":function(t,e,n){"use strict";var i=n("Q1FS"),a=n("zB/H");e.scheduleArray=function(t,e){return new i.Observable((function(n){var i=new a.Subscription,r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},3:function(t,e){},"3E0/":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("D0XW"),a=n("7o/Q"),r=n("WMd4");function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a,a=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new s(a,n))}}var s=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t)).delay=i,r.scheduler=a,r.queue=[],r.active=!1,r.errored=!1,r}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(r.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(r.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,a=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(a);if(n.length>0){var r=Math.max(0,n[0].time-i.now());this.schedule(t,r)}else this.unsubscribe(),e.active=!1}}]),n}(a.a),l=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).scheduler=t,a.work=i,a.pending=!1,a}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(a){n=!0,i=!!a&&a||new Error(a)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return Ht})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return Gt})),n.d(e,"e",(function(){return bt})),n.d(e,"f",(function(){return Yt})),n.d(e,"g",(function(){return ne})),n.d(e,"h",(function(){return mt})),n.d(e,"i",(function(){return At})),n.d(e,"j",(function(){return Ut})),n.d(e,"k",(function(){return gt})),n.d(e,"l",(function(){return Rt})),n.d(e,"m",(function(){return Ft})),n.d(e,"n",(function(){return ie})),n.d(e,"o",(function(){return Jt})),n.d(e,"p",(function(){return Xt})),n.d(e,"q",(function(){return x})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return v})),n.d(e,"t",(function(){return _})),n.d(e,"u",(function(){return k})),n.d(e,"v",(function(){return _t})),n.d(e,"w",(function(){return Mt})),n.d(e,"x",(function(){return Ot})),n.d(e,"y",(function(){return Q})),n.d(e,"z",(function(){return D})),n.d(e,"A",(function(){return te})),n.d(e,"B",(function(){return F})),n.d(e,"C",(function(){return Y})),n.d(e,"D",(function(){return ae})),n.d(e,"E",(function(){return Vt})),n.d(e,"F",(function(){return H})),n.d(e,"G",(function(){return q})),n.d(e,"H",(function(){return S})),n.d(e,"I",(function(){return X})),n.d(e,"J",(function(){return It}));var i=n("fXoL"),a=n("ofXK"),r=n("cp0P"),o=n("Cfvw"),s=n("lJxs"),c=new i.r("NgValueAccessor"),l={provide:c,useExisting:Object(i.W)((function(){return u})),multi:!0},u=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[i.Db([l])]}),t}(),d={provide:c,useExisting:Object(i.W)((function(){return h})),multi:!0},f=new i.r("CompositionEventMode"),h=function(){var t=function(){function t(e,n,i){var r;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(a.L)()?Object(a.L)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l),i.Tb(f,8))},t.\u0275dir=i.Ob({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.hc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[i.Db([d])]}),t}(),p=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t}),t}(),m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(p);return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=i.Ob({type:t,features:[i.Bb]}),t}(),g=i.bc(m);function b(){throw new Error("unimplemented")}var v=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return b()}},{key:"asyncValidator",get:function(){return b()}}]),n}(p),y=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),_=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(y);return t.\u0275fac=function(e){return new(e||t)(i.Tb(v,2))},t.\u0275dir=i.Ob({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.Bb]}),t}(),k=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(y);return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,2))},t.\u0275dir=i.Ob({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.Bb]}),t}();function C(t){return null==t||0===t.length}var x=new i.r("NgValidators"),w=new i.r("NgAsyncValidators"),O=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,S=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(C(e.value)||C(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(C(e.value)||C(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return C(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return C(t.value)||O.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(C(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(C(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(E);return 0==e.length?null:function(t){return I(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(E);return 0==e.length?null:function(t){var n=function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(M);return Object(r.a)(n).pipe(Object(s.a)(I))}}}]),t}();function E(t){return null!=t}function M(t){var e=Object(i.vb)(t)?Object(o.a)(t):t;if(!Object(i.ub)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function I(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function P(t){return t.validate?function(e){return t.validate(e)}:t}function T(t){return t.validate?function(e){return t.validate(e)}:t}var A={provide:c,useExisting:Object(i.W)((function(){return D})),multi:!0},D=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.Db([A])]}),t}(),R={provide:c,useExisting:Object(i.W)((function(){return F})),multi:!0},L=function(){var t=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),F=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=a,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(v),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l),i.Tb(L),i.Tb(i.s))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Db([R])]}),t}(),j={provide:c,useExisting:Object(i.W)((function(){return Y})),multi:!0},Y=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.Db([j])]}),t}(),Z='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',N='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',U='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',B=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Z)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(N,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(U))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Z)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+N)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),z={provide:c,useExisting:Object(i.W)((function(){return H})),multi:!0};function V(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var H=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.wb}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=V(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Db([z])]}),t}(),Q=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(V(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.H),i.Tb(H,9))},t.\u0275dir=i.Ob({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t}(),W={provide:c,useExisting:Object(i.W)((function(){return q})),multi:!0};function G(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var q=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.wb}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var a=n.selectedOptions,r=0;r<a.length;r++){var o=a.item(r),s=e._getOptionValue(o.value);i.push(s)}else for(var c=n.options,l=0;l<c.length;l++){var u=c.item(l);if(u.selected){var d=e._getOptionValue(u.value);i.push(d)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.H),i.Tb(i.l))},t.\u0275dir=i.Ob({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.hc("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Db([W])]}),t}(),X=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(G(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(G(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.H),i.Tb(q,9))},t.\u0275dir=i.Ob({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t}();function $(t,e){return[].concat(_toConsumableArray(e.path),[t])}function J(t,e){t||nt(e,"Cannot find control with"),e.valueAccessor||nt(e,"No value accessor for form control with"),t.validator=S.compose([t.validator,e.validator]),t.asyncValidator=S.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&K(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&K(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function K(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tt(t,e){null==t&&nt(e,"Cannot find control with"),t.validator=S.compose([t.validator,e.validator]),t.asyncValidator=S.composeAsync([t.asyncValidator,e.asyncValidator])}function et(t){return nt(t,"There is no FormControl instance attached to form control element with")}function nt(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function it(t){return null!=t?S.compose(t.map(P)):null}function at(t){return null!=t?S.composeAsync(t.map(T)):null}function rt(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i.wb)(e,n.currentValue)}var ot=[u,Y,D,H,q,F];function st(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function ct(t,e){if(!e)return null;Array.isArray(e)||nt(t,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,a=void 0;return e.forEach((function(e){var r;e.constructor===h?n=e:(r=e,ot.some((function(t){return r.constructor===t}))?(i&&nt(t,"More than one built-in value accessor matches form control with"),i=e):(a&&nt(t,"More than one custom value accessor matches form control with"),a=e))})),a||i||n||(nt(t,"No valid value accessor for form control with"),null)}function lt(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ut(t,e,n,a){Object(i.Y)()&&"never"!==a&&((null!==a&&"once"!==a||e._ngModelWarningSentOnce)&&("always"!==a||n._ngModelWarningSent)||(B.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function dt(t){var e=ht(t)?t.validators:t;return Array.isArray(e)?it(e):e||null}function ft(t,e){var n=ht(e)?e.asyncValidators:t;return Array.isArray(n)?at(n):n||null}function ht(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var pt=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=dt(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=ft(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=M(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach((function(t){i=i instanceof gt?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof bt&&i.at(t)||null})),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new i.o,this.statusChanges=new i.o}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ht(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),mt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,dt(a),ft(r,a)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(a),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(pt),gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,dt(i),ft(a,i))).controls=t,r._initObservables(),r._setUpdateStrategy(i),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof mt?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(i,a){n=n||e.contains(a)&&t(i)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(pt),bt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,dt(i),ft(a,i))).controls=t,r._initObservables(),r._setUpdateStrategy(i),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof mt?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(pt),vt={provide:m,useExisting:Object(i.W)((function(){return _t}))},yt=Promise.resolve(null),_t=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a){var r;return _classCallCheck(this,n),(r=e.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new i.o,r.form=new gt({},it(t),at(a)),r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;yt.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),J(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;yt.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),lt(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;yt.then((function(){var n=e._findContainer(t.path),i=new gt({});tt(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;yt.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;yt.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,st(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(m);return t.\u0275fac=function(e){return new(e||t)(i.Tb(x,10),i.Tb(w,10))},t.\u0275dir=i.Ob({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.hc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Db([vt]),i.Bb]}),t}(),kt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return $(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return it(this._validators)}},{key:"asyncValidator",get:function(){return at(this._asyncValidators)}}]),n}(m);return t.\u0275fac=function(e){return Ct(e||t)},t.\u0275dir=i.Ob({type:t,features:[i.Bb]}),t}(),Ct=i.bc(kt),xt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Z,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(N,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(U))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(N,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(U))}}]),t}(),wt={provide:m,useExisting:Object(i.W)((function(){return Ot}))},Ot=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this))._parent=t,r._validators=i,r._asyncValidators=a,r}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof _t||xt.modelGroupParentException()}}]),n}(kt);return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,5),i.Tb(x,10),i.Tb(w,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Db([wt]),i.Bb]}),t}(),St={provide:v,useExisting:Object(i.W)((function(){return Mt}))},Et=Promise.resolve(null),Mt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new mt,s._registered=!1,s.update=new i.o,s._parent=t,s._rawValidators=a||[],s._rawAsyncValidators=r||[],s.valueAccessor=ct(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),rt(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){J(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ot)&&this._parent instanceof kt?xt.formGroupNameException():this._parent instanceof Ot||this._parent instanceof _t||xt.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||xt.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;Et.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;Et.then((function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?$(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return it(this._rawValidators)}},{key:"asyncValidator",get:function(){return at(this._rawAsyncValidators)}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,9),i.Tb(x,10),i.Tb(w,10),i.Tb(c,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Db([St]),i.Bb,i.Cb]}),t}(),It=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t}(),Pt=new i.r("NgModelWithFormControlWarning"),Tt={provide:v,useExisting:Object(i.W)((function(){return At}))},At=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this))._ngModelWarningConfig=o,s.update=new i.o,s._ngModelWarningSent=!1,s._rawValidators=t||[],s._rawAsyncValidators=a||[],s.valueAccessor=ct(_assertThisInitialized(s),r),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._isControlChanged(t)&&(J(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),rt(t,this.viewModel)&&(ut("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}},{key:"isDisabled",set:function(t){B.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return it(this._rawValidators)}},{key:"asyncValidator",get:function(){return at(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.Tb(x,10),i.Tb(w,10),i.Tb(c,10),i.Tb(Pt,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Db([Tt]),i.Bb,i.Cb]}),t._ngModelWarningSentOnce=!1,t}(),Dt={provide:m,useExisting:Object(i.W)((function(){return Rt}))},Rt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a){var r;return _classCallCheck(this,n),(r=e.call(this))._validators=t,r._asyncValidators=a,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new i.o,r}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return J(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){lt(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,st(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return et(e)})),e.valueAccessor.registerOnTouched((function(){return et(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&J(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=it(this._validators);this.form.validator=S.compose([this.form.validator,t]);var e=at(this._asyncValidators);this.form.asyncValidator=S.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||B.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(m);return t.\u0275fac=function(e){return new(e||t)(i.Tb(x,10),i.Tb(w,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.hc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Db([Dt]),i.Bb,i.Cb]}),t}(),Lt={provide:m,useExisting:Object(i.W)((function(){return Ft}))},Ft=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this))._parent=t,r._validators=i,r._asyncValidators=a,r}return _createClass(n,[{key:"_checkParentType",value:function(){Zt(this._parent)&&B.groupParentException()}}]),n}(kt);return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,13),i.Tb(x,10),i.Tb(w,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Db([Lt]),i.Bb]}),t}(),jt={provide:m,useExisting:Object(i.W)((function(){return Yt}))},Yt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this))._parent=t,r._validators=i,r._asyncValidators=a,r}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Zt(this._parent)&&B.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return $(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return it(this._validators)}},{key:"asyncValidator",get:function(){return at(this._asyncValidators)}}]),n}(m);return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,13),i.Tb(x,10),i.Tb(w,10))},t.\u0275dir=i.Ob({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Db([jt]),i.Bb]}),t}();function Zt(t){return!(t instanceof Ft||t instanceof Rt||t instanceof Yt)}var Nt={provide:v,useExisting:Object(i.W)((function(){return Ut}))},Ut=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o,s){var c;return _classCallCheck(this,n),(c=e.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new i.o,c._ngModelWarningSent=!1,c._parent=t,c._rawValidators=a||[],c._rawAsyncValidators=r||[],c.valueAccessor=ct(_assertThisInitialized(c),o),c}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),rt(t,this.viewModel)&&(ut("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ft)&&this._parent instanceof kt?B.ngModelGroupException():this._parent instanceof Ft||this._parent instanceof Rt||this._parent instanceof Yt||B.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){B.disabledAttrWarning()}},{key:"path",get:function(){return $(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return it(this._rawValidators)}},{key:"asyncValidator",get:function(){return at(this._rawAsyncValidators)}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.Tb(m,13),i.Tb(x,10),i.Tb(w,10),i.Tb(c,10),i.Tb(Pt,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Db([Nt]),i.Bb,i.Cb]}),t._ngModelWarningSentOnce=!1,t}(),Bt={provide:x,useExisting:Object(i.W)((function(){return Vt})),multi:!0},zt={provide:x,useExisting:Object(i.W)((function(){return Ht})),multi:!0},Vt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.required?S.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("required",e.required?"":null)},inputs:{required:"required"},features:[i.Db([Bt])]}),t}(),Ht=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"validate",value:function(t){return this.required?S.requiredTrue(t):null}}]),n}(Vt);return t.\u0275fac=function(e){return Qt(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("required",e.required?"":null)},features:[i.Db([zt]),i.Bb]}),t}(),Qt=i.bc(Ht),Wt={provide:x,useExisting:Object(i.W)((function(){return Gt})),multi:!0},Gt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this._enabled?S.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i.Db([Wt])]}),t}(),qt={provide:x,useExisting:Object(i.W)((function(){return Xt})),multi:!0},Xt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=S.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[i.Db([qt]),i.Cb]}),t}(),$t={provide:x,useExisting:Object(i.W)((function(){return Jt})),multi:!0},Jt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null!=this.maxlength?this._validator(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=S.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Db([$t]),i.Cb]}),t}(),Kt={provide:x,useExisting:Object(i.W)((function(){return te})),multi:!0},te=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=S.pattern(this.pattern)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[i.Db([Kt]),i.Cb]}),t}(),ee=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t}(),ne=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,a=null,r=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,a=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,a=null!=e.asyncValidator?e.asyncValidator:null)),new gt(n,{asyncValidators:a,updateOn:r,validators:i})}},{key:"control",value:function(t,e,n){return new mt(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,a=t.map((function(t){return i._createControl(t)}));return new bt(a,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e._createControl(t[i])})),n}},{key:"_createControl",value:function(t){return t instanceof mt||t instanceof gt||t instanceof bt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),ie=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[L],imports:[ee]}),t}(),ae=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Pt,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[ne,L],imports:[ee]}),t}()},"3UWI":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("D0XW"),a=n("zx2A"),r=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.durationSelector))}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).durationSelector=i,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(a.c)(e,new a.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(a.b),s=n("PqYM");function c(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return e=function(){return Object(s.a)(t,n)},function(t){return t.lift(new r(e))}}},"3nLB":function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var i,a=n("mrSG"),r=n("fXoL"),o=n("3Pt+"),s=n("JX91"),c=n("lJxs"),l=n("sYmb"),u=n("tk/3"),d=n("A6w4"),f=n("rH+9"),h=n("rNzc"),p=n("pWCv"),m=n("I65S"),g=n("nYR2"),b=n("AXEc"),v=((i=function(){function t(e,n,i,a){_classCallCheck(this,t),this.http=e,this.translate=n,this.notify=i,this.functions=a,this.coreFields=[{identifier:"doctype",label:this.translate.instant("lang.doctype"),unit:"mail",type:"select",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]},{identifier:"subject",label:this.translate.instant("lang.subject"),unit:"mail",type:"string",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]}],this.fields=[{identifier:"recipients",label:this.translate.instant("lang.getRecipients"),type:"autocomplete",default_value:[],values:[],enabled:!0},{identifier:"priority",label:this.translate.instant("lang.priority"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"confidentiality",label:this.translate.instant("lang.confidential"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"initiator",label:this.translate.instant("lang.initiatorEntityAlt"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"departureDate",label:this.translate.instant("lang.departureDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"processLimitDate",label:this.translate.instant("lang.processLimitDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"tags",label:this.translate.instant("lang.tags"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/tags","/rest/tags"],enabled:!0},{identifier:"senders",label:this.translate.instant("lang.getSenders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/correspondents"],enabled:!0},{identifier:"destination",label:this.translate.instant("lang.destination"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"folders",label:this.translate.instant("lang.folders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/folders","/rest/folders"],enabled:!0},{identifier:"documentDate",label:this.translate.instant("lang.docDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"arrivalDate",label:this.translate.instant("lang.arrivalDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_type",label:this.translate.instant("lang.registeredMailType"),type:"select",default_value:null,values:[{id:"2D",label:this.translate.instant("lang.registeredMail_2D")},{id:"2C",label:this.translate.instant("lang.registeredMail_2C")},{id:"RW",label:this.translate.instant("lang.registeredMail_RW")}],enabled:!0},{identifier:"registeredMail_issuingSite",label:this.translate.instant("lang.issuingSite"),type:"issuingSite",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_number",label:this.translate.instant("lang.registeredMailNumber"),type:"string",default_value:null,values:[],enabled:!1},{identifier:"registeredMail_warranty",label:this.translate.instant("lang.warrantyLevel"),type:"radio",default_value:null,values:[{id:"R1",label:"R1"},{id:"R2",label:"R2"},{id:"R3",label:"R3"}],enabled:!0},{identifier:"registeredMail_letter",label:this.translate.instant("lang.letter"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"registeredMail_recipient",label:this.translate.instant("lang.registeredMailRecipient"),type:"registeredMailRecipient",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_reference",label:this.translate.instant("lang.registeredMailReference"),type:"string",default_value:null,values:[],enabled:!0}],this.customFields=[]}return _createClass(t,[{key:"getCoreFields",value:function(){return this.coreFields}},{key:"getFields",value:function(){return this.fields}},{key:"getCustomFields",value:function(){var t=this;return new Promise((function(e,n){t.customFields.length>0?e(t.customFields):t.http.get("../rest/customFields").pipe(Object(p.tap)((function(e){t.customFields=e.customFields.map((function(e){return e.identifier="indexingCustomField_"+e.id,e.system=!1,e.enabled=!0,e.SQLMode=e.SQLMode,e.default_value=["integer","string","date"].indexOf(e.type)>-1&&!t.functions.empty(e.values)?e.values[0].key:"banAutocomplete"===e.type?[]:null,e.values=e.values.length>0?e.values.map((function(t){return{id:t.key,label:t.label}})):e.values,e}))})),Object(g.a)((function(){return e(t.customFields)})),Object(h.catchError)((function(e){return t.notify.handleSoftErrors(e),Object(m.of)(!1)}))).subscribe()}))}},{key:"getAllFields",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCustomFields();case 2:return e=t.sent,n=this.getCoreFields().concat(this.getFields()),t.abrupt("return",n=n.concat(e));case 5:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||i)(r.dc(u.b),r.dc(l.e),r.dc(b.a),r.dc(f.a))},i.\u0275prov=r.Pb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),y=n("aEDk"),_=n("kmnG"),k=n("qFsG"),C=n("/1cH"),x=n("bTqV"),w=n("NFeN"),O=n("FKr1"),S=n("ofXK"),E=n("7EHt"),M=n("1YbM"),I=["criteriaTool"],P=["searchCriteriaInput"];function T(t,e){1&t&&(r.Zb(0,"mat-option",17),r.Sc(1,"Aucun r\xe9sultat"),r.Yb())}function A(t,e){if(1&t&&(r.Zb(0,"mat-option",18),r.Sc(1),r.Yb()),2&t){var n=e.$implicit,i=r.lc();r.sc("value",n)("disabled",i.isCurrentCriteria(n.identifier)),r.Eb(1),r.Uc(" ",n.label," ")}}function D(t,e){1&t&&r.Ub(0,"div",19)}var R,L=((R=function(){function t(e,n,i,a,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.appService=i,this.functions=a,this.indexingFields=s,this.latinisePipe=c,this.criteria=[],this.currentCriteria=[],this.searchTermControl=new o.h,this.searchCriteria=new o.h,this.searchTerm="Foo",this.defaultCriteria=[],this.searchUrlGenerated=new r.o}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.searchTermControl.setValue(this.searchTerm),t.next=3,this.indexingFields.getAllFields();case 3:this.criteria=t.sent,this.criteria.forEach((function(t){e.defaultCriteria.indexOf(t.identifier)>-1&&(t.control=new o.h(""),e.currentCriteria.push(t))})),this.filteredCriteria=this.searchCriteria.valueChanges.pipe(Object(s.a)(""),Object(c.a)((function(t){return e._filter(t)}))),this.searchTermControl.valueChanges.pipe(Object(s.a)(""),Object(c.a)((function(t){"string"==typeof t&&(e.searchTerm=t)}))).subscribe();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.criteria.filter((function(t){return e.latinisePipe.transform(t.label.toLowerCase()).includes(n)}))}return this.criteria}},{key:"isCurrentCriteria",value:function(t){return this.currentCriteria.filter((function(e){return e.identifier===t})).length>0}},{key:"addCriteria",value:function(t){t.control=new o.h(""),this.currentCriteria.push(t),this.searchTermControl.setValue(this.searchTerm)}},{key:"removeCriteria",value:function(t){this.currentCriteria.splice(t,1)}},{key:"getSearchUrl",value:function(){var t=this,e=[];this.currentCriteria.forEach((function(n){t.functions.empty(n.control.value)||e.push("".concat(n.id,"=").concat(n.control.value))})),this.criteriaTool.close(),this.searchUrlGenerated.emit("&"+e.join("&"))}},{key:"getFilterControl",value:function(){return this.searchCriteria}},{key:"getCriterias",value:function(){return this.criteria}},{key:"getFilteredCriterias",value:function(){return this.filteredCriteria}}]),t}()).\u0275fac=function(t){return new(t||R)(r.Tb(l.e),r.Tb(u.b),r.Tb(d.a),r.Tb(f.a),r.Tb(v),r.Tb(y.c))},R.\u0275cmp=r.Nb({type:R,selectors:[["app-criteria-tool"]],viewQuery:function(t,e){var n;1&t&&(r.ad(I,!0),r.ad(P,!0)),2&t&&(r.Cc(n=r.ic())&&(e.criteriaTool=n.first),r.Cc(n=r.ic())&&(e.searchCriteriaInput=n.first))},inputs:{searchTerm:"searchTerm",defaultCriteria:"defaultCriteria"},outputs:{searchUrlGenerated:"searchUrlGenerated"},decls:28,vars:23,consts:[["floatLabel","never",1,"basket-search"],["type","text","matInput","",1,"metaSearch",3,"matAutocomplete","formControl"],["mat-icon-button","","matPrefix",""],[1,"fa","fa-search"],[3,"optionSelected"],["autoCriteria","matAutocomplete"],[1,"toto",3,"label"],["matInput","","type","text",2,"margin-left","5px","width","150px !important","height","20px","border","1px solid #6666663d","padding","10px","border-radius","5px",3,"formControl","placeholder"],["disabled","",4,"ngIf"],[3,"value","disabled",4,"ngFor","ngForOf"],["expanded",""],["criteriaTool",""],[3,"ngSubmit"],["criteriaFormUp","ngForm"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-raised-button","","matSuffix","","color","primary","type","submit"],["disabled",""],[3,"value","disabled"],[1,"col-md-6"]],template:function(t,e){if(1&t&&(r.Zb(0,"mat-form-field",0),r.Ub(1,"input",1),r.Zb(2,"button",2),r.Ub(3,"mat-icon",3),r.Yb(),r.Zb(4,"mat-autocomplete",4,5),r.hc("optionSelected",(function(t){return e.addCriteria(t.option.value)})),r.Zb(6,"mat-optgroup",6),r.Ub(7,"input",7),r.mc(8,"translate"),r.Qc(9,T,2,0,"mat-option",8),r.mc(10,"async"),r.Qc(11,A,2,3,"mat-option",9),r.mc(12,"sortBy"),r.mc(13,"async"),r.Yb(),r.Yb(),r.Yb(),r.Zb(14,"mat-accordion"),r.Zb(15,"mat-expansion-panel",10,11),r.Zb(17,"mat-expansion-panel-header"),r.Zb(18,"mat-panel-title"),r.Sc(19),r.mc(20,"translate"),r.Yb(),r.Yb(),r.Zb(21,"form",12,13),r.hc("ngSubmit",(function(){return e.getSearchUrl()})),r.Qc(23,D,1,0,"div",14),r.Zb(24,"div",15),r.Zb(25,"button",16),r.Sc(26),r.mc(27,"translate"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t){var n,i=r.Dc(5),a=0===(null==(n=r.nc(10,12,e.getFilteredCriterias()))?null:n.length);r.Eb(1),r.sc("matAutocomplete",i)("formControl",e.searchTermControl),r.Eb(5),r.sc("label","Ajouter un crit\xe8re de recherche"),r.Eb(1),r.tc("placeholder",r.nc(8,10,"lang.filterBy")),r.sc("formControl",e.getFilterControl()),r.Eb(2),r.sc("ngIf",a),r.Eb(2),r.sc("ngForOf",r.oc(12,14,r.nc(13,17,e.getFilteredCriterias()),"label")),r.Eb(8),r.Uc(" ",r.nc(20,19,"lang.criteriaSearch")," "),r.Eb(4),r.sc("ngForOf",e.currentCriteria),r.Eb(3),r.Uc(" ",r.nc(27,21,"lang.searchMails")," ")}},directives:[_.c,k.b,C.d,o.c,o.t,o.i,x.b,_.i,w.a,C.a,O.n,S.t,S.s,E.a,E.c,E.g,E.h,o.J,o.u,o.v,_.j,O.o],pipes:[l.d,S.b,M.a],styles:[".addCriteriaField[_ngcontent-%COMP%]{font-size:10px}.criteriaField[_ngcontent-%COMP%]{font-size:13px}.basket-search[_ngcontent-%COMP%]{color:#666;width:500px;padding-right:10px;height:55px}.basket-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;border-radius:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{font-style:italic}.basket-search[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.basket-search[_ngcontent-%COMP%]   .processLimitButton[_ngcontent-%COMP%]{color:#666;position:absolute;top:-32px;left:-47px;border-radius:30px}.basket-search[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#f99830!important;color:#fff}.toto[_ngcontent-%COMP%]     .mat-optgroup-label{z-index:1;position:-webkit-sticky;position:sticky;top:0;background:#fff;display:flex;align-items:center}"]}),R)},4:function(t,e){},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},"4ik+":function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("FWf1");e.filter=function(t,e){return function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,i){var a=t.call(this,e)||this;return a.predicate=n,a.thisArg=i,a.count=0,a}return a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(r.Subscriber)},"4zkx":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("vkgz"),a=n("JIr8"),r=n("lJxs"),o=n("LRne"),s=n("+rOU"),c=n("fXoL"),l=n("sYmb"),u=n("tk/3"),d=n("6Psc"),f=function(){var t=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.foldersService=i,this.componentFactoryResolver=a,this.injector=r,this.appRef=o,this.sideBarForm=!1,this.sideBarAdmin=!1,this.hideSideBar=!1,this.showhHeaderPanel=!0,this.showMenuShortcut=!0,this.showMenuNav=!0,this.sideNavLeft=null,this.sideBarButton=null,this.currentBasketInfo={ownerId:0,groupId:0,basketId:""},this.folderId=0,this.headerMessageIcon="",this.headerMessage="",this.subHeaderMessage="",this.user={firstname:"",lastname:"",groups:[],privileges:[],preferences:[]},this.nbResourcesFollowed=0,this.base64=null}return _createClass(t,[{key:"loadHeader",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/header").pipe(Object(i.a)((function(n){t.setUser(n.user),e(!0)})),Object(a.a)((function(t){return console.log(t),e(!1),Object(o.a)(!1)}))).subscribe()}))}},{key:"resfreshCurrentUser",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/currentUser/profile").pipe(Object(r.a)((function(n){t.user={mode:n.mode,id:n.id,userId:n.user_id,firstname:n.firstname,lastname:n.lastname,entities:n.entities,groups:n.groups,preferences:n.preferences,privileges:"ALL_PRIVILEGES"===n.privileges[0]?t.user.privileges:n.privileges},t.nbResourcesFollowed=n.nbFollowedResources,e(!0)}))).subscribe()}))}},{key:"setUser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{firstname:"",lastname:"",groups:[],privileges:[]};this.user=t}},{key:"getLastLoadedFile",value:function(){return this.base64}},{key:"setLoadedFile",value:function(t){this.base64=t}},{key:"setHeader",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.headerMessage=t,this.subHeaderMessage=e,this.headerMessageIcon=n}},{key:"resetSideNavSelection",value:function(){this.currentBasketInfo={ownerId:0,groupId:0,basketId:""},this.foldersService.setFolder({id:0}),this.sideBarForm=!1,this.showhHeaderPanel=!0,this.showMenuShortcut=!0,this.showMenuNav=!0,this.sideBarAdmin=!1,this.sideBarButton=null,this.hideSideBar=!0}},{key:"injectInSideBarLeft",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"adminMenu",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";"form"===i?(this.sideBarForm=!0,this.showhHeaderPanel=!0,this.showMenuShortcut=!1,this.showMenuNav=!1,this.sideBarAdmin=!0):(this.showhHeaderPanel=!0,this.showMenuShortcut=!0,this.showMenuNav=!0),this.portalHost=new s.e(document.querySelector("#"+n),this.componentFactoryResolver,this.appRef,this.injector);var a=new s.j(t,e);this.portalHost.attach(a)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.dc(l.e),c.dc(u.b),c.dc(d.a),c.dc(c.j),c.dc(c.s),c.dc(c.g))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},5:function(t,e){},"5+WD":function(t,e,n){"use strict";n.d(e,"a",(function(){return ht})),n.d(e,"b",(function(){return ct})),n.d(e,"c",(function(){return lt})),n.d(e,"d",(function(){return ut})),n.d(e,"e",(function(){return _t})),n.d(e,"f",(function(){return vt})),n.d(e,"g",(function(){return kt})),n.d(e,"h",(function(){return B})),n.d(e,"i",(function(){return z}));var i=n("fXoL"),a=n("ofXK"),r=n("vxfF"),o=n("nLfN"),s=n("8LU1"),c=n("XNiG"),l=n("quSY"),u=n("HDdC"),d=n("D0XW"),f=n("Y7HM");function h(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var p=n("eNwd"),m=n("VRyK"),g=n("1G5W"),b=n("lJxs"),v=n("IzEk"),y=n("JX91"),_=n("vkgz"),k=n("eIep"),C=n("cH1L");function x(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function w(t,e){var n=e?"":"none";x(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function O(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function S(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function E(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function M(t,e,n){var i=t.top,a=t.bottom,r=t.left,o=t.right;return n>=i&&n<=a&&e>=r&&e<=o}function I(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function P(t,e,n,i){var a=t.top,r=t.right,o=t.bottom,s=t.left,c=t.width*e,l=t.height*e;return i>a-l&&i<o+l&&n>s-c&&n<r+c}var T=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:E(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var i,a,r=e===this._document?e.documentElement:e,o=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,a=s.left}else i=e.scrollTop,a=e.scrollLeft;var c=o.top-i,l=o.left-a;return this.positions.forEach((function(t,n){t.clientRect&&e!==n&&r.contains(n)&&I(t.clientRect,c,l)})),o.top=i,o.left=a,{top:c,left:l}}}]),t}(),A=Object(o.f)({passive:!0}),D=Object(o.f)({passive:!1}),R=function(){function t(e,n,i,a,r,o){var s=this;_classCallCheck(this,t),this._config=n,this._document=i,this._ngZone=a,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new c.a,this._pointerMoveSubscription=l.a.EMPTY,this._pointerUpSubscription=l.a.EMPTY,this._scrollSubscription=l.a.EMPTY,this._resizeSubscription=l.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new c.a,this.started=new c.a,this.released=new c.a,this.ended=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n);else{var i=s._activeTransform;i.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})}))}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new T(i,r),o.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return Object(s.e)(t)})),this._handles.forEach((function(t){return w(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=Object(s.e)(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){n.addEventListener("mousedown",e._pointerDown,D),n.addEventListener("touchstart",e._pointerDown,A)})),this._initialTransform=void 0,this._rootElement=n),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Object(s.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Y(this._rootElement),Y(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&Y(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&Y(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){this.started.next({source:this}),Z(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,n=this._dropContainer;if(n){var i=this._rootElement,a=i.parentNode,r=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(s,i),i.style.display="none",this._document.body.appendChild(a.replaceChild(o,i)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(r),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;e.stopPropagation();var i=this.isDragging(),a=Z(e),r=!a&&0!==e.button,o=this._rootElement,s=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(i||r||s)){this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){n._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=E(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,i=n.getItemIndex(e),a=e._getPointerPositionOnPage(t),r=e._getDragDistance(e._getPointerPositionOnPage(t)),o=n._isOverContainer(a.x,a.y);e.ended.next({source:e,distance:r}),e.dropped.next({item:e,currentIndex:i,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:o,distance:r}),n.drop(e,i,e._initialContainer,o,r,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,n=t.x,i=t.y,a=this._initialContainer._getSiblingContainerFromPosition(this,n,i);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,i)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=a,e._dropContainer.enter(e,n,i,a===e._initialContainer&&a.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:a,currentIndex:a.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,n,i,this._pointerDirectionDelta),this._preview.style.transform=L(n-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,i=e?e.template:null;if(i&&e){var a=e.matchSize?this._rootElement.getBoundingClientRect():null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),t=N(r,this._document),this._previewRef=r,e.matchSize?U(t,a):t.style.transform=L(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var o=this._rootElement;U(t=F(o),o.getBoundingClientRect())}return x(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),w(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=L(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=S(e,"transition-property"),i=n.find((function(t){return"transform"===t||"all"===t}));if(!i)return 0;var a=n.indexOf(i),r=S(e,"transition-duration"),o=S(e,"transition-delay");return O(r[a])+O(o[a])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var i=function n(i){(!i||i.target===t._preview&&"transform"===i.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(a))},a=setTimeout(i,1.5*n);t._preview.addEventListener("transitionend",i)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=N(this._placeholderRef,this._document)):t=F(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,a=i?i.getBoundingClientRect():n,r=Z(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:a.left-n.left+(r.pageX-a.left-o.left),y:a.top-n.top+(r.pageY-a.top-o.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=Z(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var i=this._pickupPositionInElement,a=i.x,r=i.y,o=this._boundaryRect,s=this._previewRect,c=o.top+r,l=o.bottom-(s.height-r);e.x=j(e.x,o.left+a,o.right-(s.width-a)),e.y=j(e.y,c,l)}return e}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,i=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-a.x),o=Math.abs(n-a.y);return r>this._config.pointerDirectionChangeThreshold&&(i.x=e>a.x?1:-1,a.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>a.y?1:-1,a.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,w(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,D),t.removeEventListener("touchstart",this._pointerDown,A)}},{key:"_applyRootElementTransform",value:function(t,e){var n=L(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===a.width&&0===a.height)){var r=i.left-a.left,o=a.right-i.right,s=i.top-a.top,c=a.bottom-i.bottom;i.width>a.width?(r>0&&(e+=r),o>0&&(e-=o)):e=0,i.height>a.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:Z(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&I(this._boundaryRect,e.top,e.left)}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Object(s.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function L(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function F(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(var a=0;a<n.length;a++)n[a].removeAttribute("id");if(i.length)for(var r=e.querySelectorAll("canvas"),o=0;o<i.length;o++){var s=r[o].getContext("2d");s&&s.drawImage(i[o],0,0)}return e}function j(t,e,n){return Math.max(e,Math.min(n,t))}function Y(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Z(t){return"t"===t.type[0]}function N(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var i=e.createElement("div");return n.forEach((function(t){return i.appendChild(t)})),i}function U(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=L(e.left,e.top)}function B(t,e,n){var i=V(e,t.length-1),a=V(n,t.length-1);if(i!==a){for(var r=t[i],o=a<i?-1:1,s=i;s!==a;s+=o)t[s]=t[s+o];t[a]=r}}function z(t,e,n,i){var a=V(n,t.length-1),r=V(i,e.length);t.length&&e.splice(r,0,t.splice(a,1)[0])}function V(t,e){return Math.max(0,Math.min(e,t))}var H=function(){function t(e,n,i,a,r){var o=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=a,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.sorted=new c.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=l.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new c.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){o._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a;return(!Object(f.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new u.a((function(n){return n.add(e.schedule(h,t,{subscriber:n,counter:0,period:t})),n}))}(0,p.a).pipe(Object(g.a)(o._stopScrollTimers)).subscribe((function(){var t=o._scrollNode;1===o._verticalScrollDirection?W(t,-2):2===o._verticalScrollDirection&&W(t,2),1===o._horizontalScrollDirection?G(t,-2):2===o._horizontalScrollDirection&&G(t,2)}))},this.element=Object(s.e)(e),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new T(i,r)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Object(s.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,n,i){var a;this.start(),null==i?-1===(a=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(a=this._getItemIndexFromPointerPosition(t,e,n)):a=i;var r=this._activeDraggables,o=r.indexOf(t),c=t.getPlaceholderElement(),l=r[a];if(l===t&&(l=r[a+1]),o>-1&&r.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){var u=l.getRootElement();u.parentElement.insertBefore(c,u),r.splice(a,0,t)}else{var d=Object(s.e)(this.element);this._shouldEnterAsFirstChild(e,n)?(d.insertBefore(c,r[0].getRootElement()),r.unshift(t)):(d.appendChild(c),r.push(t))}c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,i,a,r){this._reset(),null==r&&(r=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:r,container:this,previousContainer:n,isPointerOverContainer:i,distance:a})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(n.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=Object(s.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?Q("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,i){if(!this.sortingDisabled&&P(this._clientRect,.05,e,n)){var a=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,n,i);if(!(-1===r&&a.length>0)){var o="horizontal"===this._orientation,s=Q(a,(function(e){return e.drag===t})),c=a[r],l=a[s].clientRect,u=c.clientRect,d=s>r?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=o?i.x:i.y;var f=this._getItemOffsetPx(l,u,d),h=this._getSiblingOffsetPx(s,a,d),p=a.slice();B(a,s,r),this.sorted.next({previousIndex:s,currentIndex:r,container:this,item:t}),a.forEach((function(e,n){if(p[n]!==e){var i=e.drag===t,a=i?f:h,r=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=a,o?(r.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),I(e.clientRect,0,a)):(r.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),I(e.clientRect,a,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var i,a=0,r=0;if(this._parentPositions.positions.forEach((function(o,s){var c;s!==n._document&&o.clientRect&&!i&&P(o.clientRect,.05,t,e)&&(c=_slicedToArray(function(t,e,n,i){var a=q(e,i),r=X(e,n),o=0,s=0;if(a){var c=t.scrollTop;1===a?c>0&&(o=1):t.scrollHeight-c>t.clientHeight&&(o=2)}if(r){var l=t.scrollLeft;1===r?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[o,s]}(s,o.clientRect,t,e),2),a=c[0],r=c[1],(a||r)&&(i=s))})),!a&&!r){var o=this._viewportRuler.getViewportSize(),s=o.width,c=o.height,l={width:s,height:c,top:0,right:s,bottom:c,left:0};a=q(l,e),r=X(l,t),i=window}!i||a===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=a,this._horizontalScrollDirection=r,this._scrollNode=i,(a||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=Object(s.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:E(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Object(s.e)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,a=e[t].clientRect,r=e[t+-1*n],o=a[i?"width":"height"]*n;if(r){var s=i?"left":"top",c=i?"right":"bottom";-1===n?o-=r.clientRect[s]-a[c]:o+=a[s]-r.clientRect[c]}return o}},{key:"_getItemOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,a=i?e.left-t.left:e.top-t.top;return-1===n&&(a+=i?e.width-t.width:e.height-t.height),a}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var a=n[n.length-1].clientRect;return i?t>=a.right:e>=a.bottom}var r=n[0].clientRect;return i?t<=r.left:e<=r.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,i){var a=this,r="horizontal"===this._orientation;return Q(this._itemPositions,(function(o,s,c){var l=o.drag,u=o.clientRect;if(l===t)return c.length<2;if(i){var d=r?i.x:i.y;if(l===a._previousSwap.drag&&d===a._previousSwap.delta)return!1}return r?e>=Math.floor(u.left)&&e<Math.floor(u.right):n>=Math.floor(u.top)&&n<Math.floor(u.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return M(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find((function(i){return i._canReceive(t,e,n)}))}},{key:"_canReceive",value:function(t,e,n){if(!M(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;var a=Object(s.e)(this.element);return i===a||a.contains(i)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach((function(t){I(t.clientRect,n.top,n.left)})),t._itemPositions.forEach((function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=Object(o.c)(Object(s.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),t}();function Q(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function W(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function G(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function q(t,e){var n=t.top,i=t.bottom,a=.05*t.height;return e>=n-a&&e<=n+a?1:e>=i-a&&e<=i+a?2:0}function X(t,e){var n=t.left,i=t.right,a=.05*t.width;return e>=n-a&&e<=n+a?1:e>=i-a&&e<=i+a?2:0}var $,J,K,tt,et,nt,it=Object(o.f)({passive:!1,capture:!0}),at=(($=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new c.a,this.pointerUp=new c.a,this.scroll=new c.a,this._preventDefaultWhileDragging=function(t){i._activeDragInstances.size&&t.preventDefault()},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,it)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,it)}},{key:"startDragging",value:function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var i=e.type.startsWith("touch"),a=i?"touchend":"mouseup";this._globalListeners.set(i?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:it}).set(a,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:it}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||$)(i.dc(i.B),i.dc(a.e))},$.\u0275prov=Object(i.Pb)({factory:function(){return new $(Object(i.dc)(i.B),Object(i.dc)(a.e))},token:$,providedIn:"root"}),$),rt={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ot=((J=function(){function t(e,n,i,a){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=a}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;return new R(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new H(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||J)(i.dc(a.e),i.dc(i.B),i.dc(r.h),i.dc(at))},J.\u0275prov=Object(i.Pb)({factory:function(){return new J(Object(i.dc)(a.e),Object(i.dc)(i.B),Object(i.dc)(r.h),Object(i.dc)(at))},token:J,providedIn:"root"}),J),st=new i.r("CDK_DRAG_PARENT"),ct=((et=function(){function t(e,n){_classCallCheck(this,t),this.element=e,this._stateChanges=new c.a,this._disabled=!1,this._parentDrag=n,w(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(s.c)(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||et)(i.Tb(i.l),i.Tb(st,8))},et.\u0275dir=i.Ob({type:et,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),et),lt=((tt=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||tt)(i.Tb(i.O))},tt.\u0275dir=i.Ob({type:tt,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),tt),ut=((K=function(){function t(e){_classCallCheck(this,t),this.templateRef=e,this._matchSize=!1}return _createClass(t,[{key:"matchSize",get:function(){return this._matchSize},set:function(t){this._matchSize=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||K)(i.Tb(i.O))},K.\u0275dir=i.Ob({type:K,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),K),dt=new i.r("CDK_DRAG_CONFIG"),ft=new i.r("CDK_DROP_LIST"),ht=((nt=function(){function t(e,n,a,r,o,s,l,d,f){var h=this;_classCallCheck(this,t),this.element=e,this.dropContainer=n,this._document=a,this._ngZone=r,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=f,this._destroyed=new c.a,this.started=new i.o,this.released=new i.o,this.ended=new i.o,this.entered=new i.o,this.exited=new i.o,this.dropped=new i.o,this.moved=new u.a((function(t){var e=h._dragRef.moved.pipe(Object(b.a)((function(t){return{source:h,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=d.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(v.a)(1),Object(g.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object(y.a)(t._handles),Object(_.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),Object(k.a)((function(t){return Object(m.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Object(y.a)(t))}))))})),Object(g.a)(t._destroyed)).subscribe((function(e){var n=t._dragRef,i=e.element.nativeElement;e.disabled?n.disableHandle(i):n.enableHandle(i)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?pt(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return pt(this.element.nativeElement,t);var e=Object(s.e)(t);if(Object(i.Y)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,i=e.dragStartDelay,a=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,r=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:Object(s.f)(i),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(r),n&&t.withDirection(n.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,i=t.constrainPosition,a=t.previewClass,r=t.boundaryElement,o=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),a&&(this.previewClass=a),r&&(this.boundaryElement=r),s&&(this.rootElementSelector=s)}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Object(s.c)(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||nt)(i.Tb(i.l),i.Tb(ft,12),i.Tb(a.e),i.Tb(i.B),i.Tb(i.R),i.Tb(dt,8),i.Tb(C.c,8),i.Tb(ot),i.Tb(i.h))},nt.\u0275dir=i.Ob({type:nt,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var a;1&t&&(i.Lb(n,ut,!0),i.Lb(n,lt,!0),i.Lb(n,ct,!0)),2&t&&(i.Cc(a=i.ic())&&(e._previewTemplate=a.first),i.Cc(a=i.ic())&&(e._placeholderTemplate=a.first),i.Cc(a=i.ic())&&(e._handles=a))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&i.Jb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.Db([{provide:st,useExisting:nt}]),i.Cb]}),nt);function pt(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var mt,gt,bt,vt=((bt=function(){function t(){_classCallCheck(this,t),this._items=new Set,this._disabled=!1}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._items.clear()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||bt)},bt.\u0275dir=i.Ob({type:bt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),bt),yt=0,_t=((gt=function(){function t(e,n,a,r,o,s,l){var u=this;_classCallCheck(this,t),this.element=e,this._changeDetectorRef=a,this._dir=r,this._group=o,this._scrollDispatcher=s,this._destroyed=new c.a,this.connectedTo=[],this.id="cdk-drop-list-"+yt++,this.enterPredicate=function(){return!0},this.dropped=new i.o,this.entered=new i.o,this.exited=new i.o,this.sorted=new i.o,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=function(t,e){return u.enterPredicate(t.data,e.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}return _createClass(t,[{key:"addItem",value:function(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort((function(t,e){return t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}))}},{key:"ngOnDestroy",value:function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"start",value:function(){this._dropListRef.start()}},{key:"drop",value:function(t,e,n,i){this._dropListRef.drop(t._dragRef,e,n._dropListRef,i,{x:0,y:0})}},{key:"enter",value:function(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}},{key:"exit",value:function(t){this._dropListRef.exit(t._dragRef)}},{key:"getItemIndex",value:function(t){return this._dropListRef.getItemIndex(t._dragRef)}},{key:"_setupInputSyncSubscription",value:function(e){var n=this;this._dir&&this._dir.change.pipe(Object(y.a)(this._dir.value),Object(g.a)(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var i=Object(s.b)(n.connectedTo).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));if(n._group&&n._group._items.forEach((function(t){-1===i.indexOf(t)&&i.push(t)})),!n._scrollableParentsResolved&&n._scrollDispatcher){var a=n._scrollDispatcher.getAncestorScrollContainers(n.element).map((function(t){return t.getElementRef().nativeElement}));n._dropListRef.withScrollableParents(a),n._scrollableParentsResolved=!0}e.disabled=n.disabled,e.lockAxis=n.lockAxis,e.sortingDisabled=Object(s.c)(n.sortingDisabled),e.autoScrollDisabled=Object(s.c)(n.autoScrollDisabled),e.connectedTo(i.filter((function(t){return t&&t!==n})).map((function(t){return t._dropListRef}))).withOrientation(n.orientation)}))}},{key:"_handleEvents",value:function(t){var e=this;t.beforeStarted.subscribe((function(){e._syncItemsWithRef(),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.draggingDisabled,i=t.sortingDisabled,a=t.listAutoScrollDisabled,r=t.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=a&&a,this.orientation=r||"vertical",e&&(this.lockAxis=e)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map((function(t){return t._dragRef})))}},{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||gt)(i.Tb(i.l),i.Tb(ot),i.Tb(i.h),i.Tb(C.c,8),i.Tb(vt,12),i.Tb(r.f),i.Tb(dt,8))},gt.\u0275dir=i.Ob({type:gt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(i.cc("id",e.id),i.Jb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.Db([{provide:vt,useValue:void 0},{provide:ft,useExisting:gt}])]}),gt._dropLists=[],gt),kt=((mt=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:mt}),mt.\u0275inj=i.Qb({factory:function(t){return new(t||mt)},providers:[ot],imports:[r.c]}),mt)},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),a=n("Cfvw"),r=n("zx2A");function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(o((function(n,r){return Object(a.a)(t(n,r)).pipe(Object(i.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(a=e.call(this,t)).project=i,a.concurrent=r,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new r.a(this),n=this.destination;n.add(e);var i=Object(r.c)(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(r.b)},"5RNC":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return C}));var i=n("ofXK"),a=n("fXoL"),r=n("FKr1"),o=n("8LU1"),s=n("FtGj"),c=n("3Pt+"),l=n("R1ws"),u=n("nLfN"),d=n("quSY"),f=n("u47x"),h=n("cH1L"),p=["sliderWrapper"],m=Object(u.f)({passive:!1}),g={provide:c.r,useExisting:Object(a.W)((function(){return y})),multi:!0},b=function t(){_classCallCheck(this,t)},v=Object(r.E)(Object(r.z)(Object(r.B)((function t(e){_classCallCheck(this,t),this._elementRef=e})),"accent")),y=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,s,c,l,u){var f;return _classCallCheck(this,n),(f=e.call(this,t))._focusMonitor=i,f._changeDetectorRef=r,f._dir=o,f._animationMode=c,f._ngZone=l,f._invert=!1,f._max=100,f._min=0,f._step=1,f._thumbLabel=!1,f._tickInterval=0,f._value=null,f._vertical=!1,f.change=new a.o,f.input=new a.o,f.valueChange=new a.o,f.onTouched=function(){},f._percent=0,f._isSliding=!1,f._isActive=!1,f._tickIntervalPercent=0,f._sliderDimensions=null,f._controlValueAccessorChangeFn=function(){},f._dirChangeSubscription=d.a.EMPTY,f._pointerDown=function(t){f.disabled||f._isSliding||!_(t)&&0!==t.button||f._runInsideZone((function(){var e=f.value,n=k(t);f._isSliding=!0,f._lastPointerEvent=t,t.preventDefault(),f._focusHostElement(),f._onMouseenter(),f._bindGlobalEvents(t),f._focusHostElement(),f._updateValueFromPosition(n),f._valueOnSlideStart=f.value,f._pointerPositionOnStart=n,e!=f.value&&(f._emitInputEvent(),f._emitChangeEvent())}))},f._pointerMove=function(t){if(f._isSliding){t.preventDefault();var e=f.value;f._lastPointerEvent=t,f._updateValueFromPosition(k(t)),e!=f.value&&f._emitInputEvent()}},f._pointerUp=function(t){if(f._isSliding){var e=f._pointerPositionOnStart,n=k(t);t.preventDefault(),f._removeGlobalEvents(),f._valueOnSlideStart=f._pointerPositionOnStart=f._lastPointerEvent=null,f._isSliding=!1,f._valueOnSlideStart==f.value||f.disabled||!e||e.x===n.x&&e.y===n.y||f._emitChangeEvent()}},f._windowBlur=function(){f._lastPointerEvent&&f._pointerUp(f._lastPointerEvent)},f._document=u,f.tabIndex=parseInt(s)||0,f._runOutsizeZone((function(){var e=t.nativeElement;e.addEventListener("mousedown",f._pointerDown,m),e.addEventListener("touchstart",f._pointerDown,m)})),f}return _createClass(n,[{key:"focus",value:function(t){this._focusHostElement(t)}},{key:"blur",value:function(){this._blurHostElement()}},{key:"_shouldInvertMouseCoords",value:function(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}},{key:"_getDirection",value:function(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}},{key:"ngOnInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){t._isActive=!!e&&"keyboard"!==e,t._changeDetectorRef.detectChanges()})),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe((function(){t._changeDetectorRef.markForCheck()})))}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,m),t.removeEventListener("touchstart",this._pointerDown,m),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}},{key:"_onMouseenter",value:function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}},{key:"_onFocus",value:function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}},{key:"_onBlur",value:function(){this.onTouched()}},{key:"_onKeydown",value:function(t){if(!this.disabled&&!Object(s.v)(t)){var e=this.value;switch(t.keyCode){case s.n:this._increment(10);break;case s.m:this._increment(-10);break;case s.f:this.value=this.max;break;case s.j:this.value=this.min;break;case s.k:this._increment("rtl"==this._getDirection()?1:-1);break;case s.s:this._increment(1);break;case s.o:this._increment("rtl"==this._getDirection()?-1:1);break;case s.e:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}}},{key:"_onKeyup",value:function(){this._isSliding=!1}},{key:"_getWindow",value:function(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}},{key:"_bindGlobalEvents",value:function(t){var e=this._document;if(void 0!==e&&e){var n=_(t),i=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,m),e.addEventListener(i,this._pointerUp,m),n&&e.addEventListener("touchcancel",this._pointerUp,m)}var a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}},{key:"_removeGlobalEvents",value:function(){var t=this._document;void 0!==t&&t&&(t.removeEventListener("mousemove",this._pointerMove,m),t.removeEventListener("mouseup",this._pointerUp,m),t.removeEventListener("touchmove",this._pointerMove,m),t.removeEventListener("touchend",this._pointerUp,m),t.removeEventListener("touchcancel",this._pointerUp,m));var e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}},{key:"_increment",value:function(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}},{key:"_updateValueFromPosition",value:function(t){if(this._sliderDimensions){var e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{var n=this._calculateValue(e),i=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}}},{key:"_emitChangeEvent",value:function(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}},{key:"_emitInputEvent",value:function(){this.input.emit(this._createChangeEvent())}},{key:"_updateTickIntervalPercent",value:function(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){var t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}},{key:"_createChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,e=new b;return e.source=this,e.value=t,e}},{key:"_calculatePercentage",value:function(t){return((t||0)-this.min)/(this.max-this.min)}},{key:"_calculateValue",value:function(t){return this.min+t*(this.max-this.min)}},{key:"_clamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(t,n))}},{key:"_getSliderDimensions",value:function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}},{key:"_focusHostElement",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_blurHostElement",value:function(){this._elementRef.nativeElement.blur()}},{key:"_runInsideZone",value:function(t){this._ngZone?this._ngZone.run(t):t()}},{key:"_runOutsizeZone",value:function(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"invert",get:function(){return this._invert},set:function(t){this._invert=Object(o.c)(t)}},{key:"max",get:function(){return this._max},set:function(t){this._max=Object(o.f)(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"min",get:function(){return this._min},set:function(t){this._min=Object(o.f)(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"step",get:function(){return this._step},set:function(t){this._step=Object(o.f)(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}},{key:"thumbLabel",get:function(){return this._thumbLabel},set:function(t){this._thumbLabel=Object(o.c)(t)}},{key:"tickInterval",get:function(){return this._tickInterval},set:function(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Object(o.f)(t,this._tickInterval):0}},{key:"value",get:function(){return null===this._value&&(this.value=this._min),this._value},set:function(t){if(t!==this._value){var e=Object(o.f)(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}},{key:"vertical",get:function(){return this._vertical},set:function(t){this._vertical=Object(o.c)(t)}},{key:"displayValue",get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}},{key:"percent",get:function(){return this._clamp(this._percent)}},{key:"_invertAxis",get:function(){return this.vertical?!this.invert:this.invert}},{key:"_isMinValue",get:function(){return 0===this.percent}},{key:"_thumbGap",get:function(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}},{key:"_trackBackgroundStyles",get:function(){var t=this.vertical?"1, ".concat(1-this.percent,", 1"):1-this.percent+", 1, 1";return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"-":"").concat(this._thumbGap,"px) scale3d(").concat(t,")")}}},{key:"_trackFillStyles",get:function(){var t=this.percent,e=this.vertical?"1, ".concat(t,", 1"):t+", 1, 1";return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"":"-").concat(this._thumbGap,"px) scale3d(").concat(e,")"),display:0===t?"none":""}}},{key:"_ticksContainerStyles",get:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"-":"").concat(this._tickIntervalPercent/2*100,"%)")}}},{key:"_ticksStyles",get:function(){var t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?"2px ".concat(t,"%"):t+"% 2px",transform:"translateZ(0) translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"":"-").concat(t/2,"%)").concat(this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)")};this._isMinValue&&this._thumbGap&&(e["padding"+(this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left")]=this._thumbGap+"px");return e}},{key:"_thumbContainerStyles",get:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(-").concat(100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent),"%)")}}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(f.h),a.Tb(a.h),a.Tb(h.c,8),a.ec("tabindex"),a.Tb(l.a,8),a.Tb(a.B),a.Tb(i.e,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var n;1&t&&a.ad(p,!0),2&t&&a.Cc(n=a.ic())&&(e._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(t,e){1&t&&a.hc("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(){return e._onKeyup()}))("mouseenter",(function(){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),2&t&&(a.cc("tabIndex",e.tabIndex),a.Fb("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),a.Jb("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[a.Db([g]),a.Bb],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(a.Zb(0,"div",0,1),a.Zb(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Yb(),a.Zb(5,"div",5),a.Ub(6,"div",6),a.Yb(),a.Zb(7,"div",7),a.Ub(8,"div",8),a.Ub(9,"div",9),a.Zb(10,"div",10),a.Zb(11,"span",11),a.Sc(12),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Eb(3),a.sc("ngStyle",e._trackBackgroundStyles),a.Eb(1),a.sc("ngStyle",e._trackFillStyles),a.Eb(1),a.sc("ngStyle",e._ticksContainerStyles),a.Eb(1),a.sc("ngStyle",e._ticksStyles),a.Eb(1),a.sc("ngStyle",e._thumbContainerStyles),a.Eb(5),a.Tc(e.displayValue))},directives:[i.w],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t}();function _(t){return"t"===t.type[0]}function k(t){var e=_(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}var C=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.c,r.j],r.j]}),t}()},"5cI5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"setAppSession",value:function(t){this.appSession=t}},{key:"getAppSession",value:function(){return this.appSession}},{key:"save",value:function(t,e){localStorage.setItem(t+"_"+this.getAppSession(),e)}},{key:"get",value:function(t){return localStorage.getItem(t+"_"+this.getAppSession())}},{key:"remove",value:function(t){localStorage.removeItem(t+"_"+this.getAppSession())}},{key:"resetLocal",value:function(){for(var t=[],e=0;e<localStorage.length;e++)"filtersAdmin_"===localStorage.key(e).substring(0,13)&&t.push(localStorage.key(e));for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"63qU":function(t,e,n){"use strict";n.d(e,"a",(function(){return V}));var i=n("3Pt+"),a=n("fXoL"),r=n("LRne"),o=n("cp0P"),s=n("JX91"),c=n("lJxs"),l=n("Kj3r"),u=n("pLZG"),d=n("vkgz"),f=n("eIep"),h=n("XqQ8"),p=n("JIr8"),m=n("2c88"),g=n("sYmb"),b=n("tk/3"),v=n("AXEc"),y=n("0IaG"),_=n("aEDk"),k=n("ofXK"),C=n("kmnG"),x=n("qFsG"),w=n("/1cH"),O=n("NFeN"),S=n("bTqV"),E=n("FKr1"),M=n("Xa2L"),I=n("A5z7"),P=n("1YbM"),T=["autoCompleteInput"];function A(t,e){if(1&t&&a.Ub(0,"input",11),2&t){var n=a.lc();a.sc("formControl",n.controlAutocomplete)}}function D(t,e){if(1&t&&(a.Zb(0,"mat-label"),a.Sc(1),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.Tc(n.placeholder)}}function R(t,e){1&t&&a.Ub(0,"mat-icon",12)}function L(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",13),a.hc("click",(function(){return a.Hc(n),a.lc().unsetValue()})),a.Ub(1,"mat-icon",14),a.Yb()}if(2&t){var i=a.lc();a.Eb(1),a.sc("title",i.translate.instant("lang.delete"))}}function F(t,e){if(1&t&&a.Ub(0,"mat-icon",18),2&t){var n=a.lc().$implicit,i=a.lc(2);a.Hb("autcompleteIcon fas ",i.type[n.type],"")}}function j(t,e){if(1&t&&(a.Zb(0,"mat-option",16),a.Qc(1,F,1,3,"mat-icon",17),a.Sc(2,"\xa0"),a.Zb(3,"span",18),a.Sc(4),a.Yb(),a.Sc(5,"\xa0"),a.Zb(6,"small"),a.Sc(7),a.Yb(),a.Yb()),2&t){var n=e.$implicit,i=a.lc(2);a.sc("value",n),a.Eb(1),a.sc("ngIf",i.type[n.type]),a.Eb(3),a.Tc(n[i.key]),a.Eb(3),a.Tc(n[i.subInfoKey])}}function Y(t,e){if(1&t&&(a.Xb(0),a.Qc(1,j,8,4,"mat-option",15),a.mc(2,"sortBy"),a.mc(3,"async"),a.Wb()),2&t){var n=a.lc();a.Eb(1),a.sc("ngForOf",a.oc(2,1,a.nc(3,4,n.filteredOptions),n.key))}}function Z(t,e){if(1&t&&a.Ub(0,"mat-option",19),2&t){var n=a.lc();a.sc("innerHTML",n.listInfo,a.Ic)}}function N(t,e){1&t&&(a.Zb(0,"mat-option",20),a.Ub(1,"mat-spinner",21),a.Yb())}function U(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-chip",25),a.hc("removed",(function(){a.Hc(n);var t=e.index;return a.lc(2).removeItem(t)})),a.Ub(1,"span",26),a.Ub(2,"mat-icon",27),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc(2);a.sc("removable",!0),a.Eb(1),a.sc("innerHTML",r.valuesToDisplay[i],a.Ic)}}function B(t,e){1&t&&(a.Zb(0,"div",28),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.noSelectedValue")," "))}function z(t,e){if(1&t&&(a.Xb(0),a.Zb(1,"mat-chip-list",22),a.Qc(2,U,3,2,"mat-chip",23),a.Yb(),a.Qc(3,B,3,3,"div",24),a.Wb()),2&t){var n=a.lc();a.Eb(2),a.sc("ngForOf",n.controlAutocomplete.value),a.Eb(1),a.sc("ngIf",0===n.controlAutocomplete.value.length)}}var V=function(){var t=function(){function t(e,n,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=r,this.dialog=o,this.latinisePipe=s,this.myControl=new i.h,this.loading=!1,this.type={user:"fa-user",entity:"fa-sitemap"},this.selectedOpt=new a.o,this.valuesToDisplay={}}return _createClass(t,[{key:"ngOnInit",value:function(){this.appearance=void 0===this.appearance?"legacy":"outline",this.singleMode=void 0!==this.singleMode,this.optGroupLabel=void 0===this.optGroupLabel?this.translate.instant("lang.availableValues"):this.optGroupLabel,this.placeholder=void 0===this.placeholder?this.translate.instant("lang.chooseValue"):this.placeholder,void 0!==this.controlAutocomplete&&(this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.initFormValue()),this.size=void 0===this.size?"default":this.size,void 0!==this.routeDatas?this.initAutocompleteRoute():this.initAutocompleteData()}},{key:"initAutocompleteData",value:function(){var t=this;this.listInfo=this.translate.instant("lang.noAvailableValue"),this.filteredOptions=this.myControl.valueChanges.pipe(Object(s.a)(""),Object(c.a)((function(e){return t._filter(e)})))}},{key:"initAutocompleteRoute",value:function(){var t=this;this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(l.a)(300),Object(u.a)((function(t){return t.length>2})),Object(d.a)((function(){return t.loading=!0})),Object(f.a)((function(e){return t.getDatas(e)})),Object(d.a)((function(e){t.listInfo=0===e.length?void 0!==t.manageDatas?t.translate.instant("lang.noAvailableValue")+" <div>"+t.translate.instant("lang.typeEnterToCreate")+"</div>":t.translate.instant("lang.noAvailableValue"):"",t.options=e,t.filteredOptions=Object(r.a)(t.options),t.loading=!1}))).subscribe()}},{key:"getDatas",value:function(t){var e=this,n=[],i=[];return this.routeDatas.forEach((function(i){n.push(e.http.get(".."+i,{params:{search:t}}))})),Object(o.a)(n).pipe(Object(c.a)((function(t){return t.forEach((function(t){t.forEach((function(t){i.push(t)}))})),i})))}},{key:"selectOpt",value:function(t){this.singleMode?this.myControl.setValue(t.option.value[this.key]):void 0!==this.controlAutocomplete&&this.setFormValue(t.option.value),void 0!==this.selectedOpt&&(this.resetAutocomplete(),this.autoCompleteInput.nativeElement.blur(),this.selectedOpt.emit(t.option.value))}},{key:"initFormValue",value:function(){var t=this;this.controlAutocomplete.value.forEach((function(e){t.http.get(".."+t.manageDatas+"/"+e).pipe(Object(d.a)((function(e){for(var n in e)t.valuesToDisplay[e[n].id]=e[n].label}))).subscribe()}))}},{key:"setFormValue",value:function(t){if(-1===this.controlAutocomplete.value.indexOf(t.id)){var e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push(t.id),this.valuesToDisplay[t.id]=t[this.key],this.controlAutocomplete.setValue(e)}}},{key:"resetAutocomplete",value:function(){!1===this.singleMode&&this.myControl.setValue(""),void 0!==this.routeDatas&&(this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo"))}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.options.filter((function(t){return e.latinisePipe.transform(t[e.key].toLowerCase()).includes(n)}))}return this.options}},{key:"unsetValue",value:function(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}},{key:"removeItem",value:function(t){var e=this.controlAutocomplete.value;e.splice(t,1),this.controlAutocomplete.setValue(e)}},{key:"addItem",value:function(){var t=this;if(void 0!==this.manageDatas){var e={};e[this.key]=this.myControl.value,this.dialogRef=this.dialog.open(m.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:"Voulez-vous cr\xe9er cet \xe9l\xe9ment <b>"+e[this.key]+"</b>&nbsp;?"}}),this.dialogRef.afterClosed().pipe(Object(u.a)((function(t){return"ok"===t})),Object(h.a)((function(){return t.http.post(".."+t.manageDatas,{label:e[t.key]})})),Object(d.a)((function(n){for(var i in n)e.id=n[i];t.setFormValue(e),t.notify.success(t.translate.instant("lang.elementAdded"))})),Object(p.a)((function(e){return t.notify.handleErrors(e),Object(r.a)(!1)}))).subscribe()}}},{key:"getValue",value:function(){return this.myControl.value}},{key:"resetValue",value:function(){return this.myControl.setValue("")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(g.e),a.Tb(b.b),a.Tb(v.a),a.Tb(y.b),a.Tb(_.c))},t.\u0275cmp=a.Nb({type:t,selectors:[["plugin-autocomplete"]],viewQuery:function(t,e){var n;1&t&&a.Oc(T,!0),2&t&&a.Cc(n=a.ic())&&(e.autoCompleteInput=n.first)},inputs:{size:"size",singleMode:"singleMode",appearance:"appearance",required:"required",options:["datas","options"],routeDatas:"routeDatas",placeholder:["labelPlaceholder","placeholder"],optGroupLabel:["labelList","optGroupLabel"],key:["targetSearchKey","key"],subInfoKey:"subInfoKey",controlAutocomplete:["control","controlAutocomplete"],manageDatas:"manageDatas"},outputs:{selectedOpt:"triggerEvent"},decls:14,vars:15,consts:[["type","hidden",3,"formControl",4,"ngIf"],["floatLabel","never",3,"appearance"],[4,"ngIf"],["color","primary","class","fa fa-search","matPrefix","",4,"ngIf"],["type","text","id","autoCompleteInput","aria-label","Number","matInput","",3,"placeholder","formControl","matAutocomplete","required","click","focus","keyup.enter"],["autoCompleteInput",""],["type","button","matSuffix","","mat-icon-button","","color","warn",3,"click",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["type","hidden",3,"formControl"],["color","primary","matPrefix","",1,"fa","fa-search"],["type","button","matSuffix","","mat-icon-button","","color","warn",3,"click"],["color","warn",1,"fa","fa-times",3,"title"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","primary",3,"class",4,"ngIf"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked"],["class","activeListAutocomplete","color","default",3,"removable","removed",4,"ngFor","ngForOf"],["class","noResult",4,"ngIf"],["color","default",1,"activeListAutocomplete",3,"removable","removed"],[2,"display","flex","flex","1",3,"innerHTML"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){if(1&t&&(a.Zb(0,"form"),a.Qc(1,A,1,1,"input",0),a.Zb(2,"mat-form-field",1),a.Qc(3,D,2,1,"mat-label",2),a.Qc(4,R,1,0,"mat-icon",3),a.Zb(5,"input",4,5),a.hc("click",(function(t){return t.stopPropagation()}))("focus",(function(){return e.resetAutocomplete()}))("keyup.enter",(function(){return e.addItem()})),a.Yb(),a.Qc(7,L,2,1,"button",6),a.Zb(8,"mat-autocomplete",7,8),a.hc("optionSelected",(function(t){return e.selectOpt(t)})),a.Qc(10,Y,4,6,"ng-container",2),a.Qc(11,Z,1,1,"mat-option",9),a.Qc(12,N,2,0,"mat-option",10),a.Yb(),a.Yb(),a.Qc(13,z,4,2,"ng-container",2),a.Yb()),2&t){var n=a.Dc(9);a.Eb(1),a.sc("ngIf",void 0!==e.controlAutocomplete),a.Eb(1),a.Jb("smallInput","small"===e.size),a.sc("appearance",e.appearance),a.Eb(1),a.sc("ngIf",e.singleMode),a.Eb(1),a.sc("ngIf","small"!==e.size&&e.myControl.enabled&&!e.singleMode),a.Eb(1),a.sc("placeholder",e.singleMode?"":e.placeholder)("formControl",e.myControl)("matAutocomplete",n)("required",e.required),a.Eb(2),a.sc("ngIf",e.myControl.disabled),a.Eb(3),a.sc("ngIf",e.options.length>0&&!e.loading),a.Eb(1),a.sc("ngIf",0===e.options.length&&!e.loading),a.Eb(1),a.sc("ngIf",e.loading),a.Eb(1),a.sc("ngIf",void 0!==e.controlAutocomplete)}},directives:[i.J,i.u,i.v,k.t,C.c,x.b,i.c,w.d,i.t,i.i,i.E,w.a,C.g,O.a,C.i,S.b,C.j,k.s,E.o,M.c,I.d,I.a,I.e],pipes:[P.a,k.b,g.d],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px} .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#135f7f} .mat-form-field-prefix{top:0!important}.mat-option[_ngcontent-%COMP%]    .mat-option-text{align-items:center;display:flex}.mat-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:110%;font-weight:700}.autcompleteIcon[_ngcontent-%COMP%]{width:20px;display:flex;align-items:center}.smallInput[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle}.input-form[_ngcontent-%COMP%]    .mat-form-field-prefix{left:15px}.activeListAutocomplete[_ngcontent-%COMP%]{font-size:13px;height:auto}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.autoCompleteInfoResult[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},"6Psc":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("XNiG"),a=n("LRne"),r=n("vkgz"),o=n("nYR2"),s=n("JIr8"),c=n("fXoL"),l=n("sYmb"),u=n("tk/3"),d=n("0IaG"),f=n("AXEc"),h=n("tyNb"),p=function(){var t=function(){function t(e,n,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=a,this.notify=r,this.router=o,this.loading=!0,this.pinnedFolders=[],this.folders=[],this.currentFolder={id:0},this.eventAction=new i.a}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"initFolder",value:function(){this.currentFolder={id:0}}},{key:"catchEvent",value:function(){return this.eventAction.asObservable()}},{key:"setEvent",value:function(t){return this.eventAction.next(t)}},{key:"goToFolder",value:function(t){this.setFolder(t),this.router.navigate(["/folders/"+t.id])}},{key:"setFolder",value:function(t){this.currentFolder=t,this.eventAction.next(t)}},{key:"getCurrentFolder",value:function(){return this.currentFolder}},{key:"getFolders",value:function(){var t=this;this.http.get("../rest/folders").pipe(Object(r.a)((function(e){t.folders=e.folders,t.eventAction.next({type:"initTree",content:""})})),Object(o.a)((function(){return t.loading=!1})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(a.a)(!1)}))).subscribe()}},{key:"getList",value:function(){return this.folders}},{key:"getPinnedFolders",value:function(){var t=this;this.loading=!0,this.http.get("../rest/pinnedFolders").pipe(Object(r.a)((function(e){t.pinnedFolders=e.folders})),Object(o.a)((function(){return t.loading=!1})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(a.a)(!1)}))).subscribe()}},{key:"setFolders",value:function(t){this.folders=t}},{key:"getPinnedList",value:function(){return this.pinnedFolders}},{key:"pinFolder",value:function(t){var e=this;this.http.post("../rest/folders/".concat(t.id,"/pin"),{}).pipe(Object(r.a)((function(){e.getPinnedFolders(),e.eventAction.next({type:"refreshFolderPinned",content:{id:t.id,pinned:!0}}),e.notify.success(e.translate.instant("lang.folderPinned"))})),Object(s.a)((function(t){return e.notify.handleErrors(t),Object(a.a)(!1)}))).subscribe()}},{key:"unpinFolder",value:function(t){var e=this;this.http.delete("../rest/folders/".concat(t.id,"/unpin")).pipe(Object(r.a)((function(){e.getPinnedFolders(),e.eventAction.next({type:"refreshFolderPinned",content:{id:t.id,pinned:!1}}),e.notify.success(e.translate.instant("lang.folderUnpinned"))})),Object(s.a)((function(t){return e.notify.handleErrors(t),Object(a.a)(!1)}))).subscribe()}},{key:"getDragIds",value:function(){var t=this.folders.map((function(t){return"treefolder-list-"+t.id}));return this.pinnedFolders.map((function(t){return"folder-list-"+t.id})).concat(t)}},{key:"classifyDocument",value:function(t,e){var n=this;this.http.post("../rest/folders/".concat(e.id,"/resources"),{resources:[t.item.data.resId]}).pipe(Object(r.a)((function(t){void 0!==n.pinnedFolders.filter((function(t){return t.id===e.id}))[0]&&(n.pinnedFolders.filter((function(t){return t.id===e.id}))[0].countResources=t.countResources),n.eventAction.next({type:"refreshFolderCount",content:{id:e.id,countResources:t.countResources}})})),Object(r.a)((function(){n.notify.success(n.translate.instant("lang.mailClassified")),n.eventAction.next({type:"function",content:"refreshDao"})})),Object(o.a)((function(){return e.drag=!1})),Object(s.a)((function(t){return n.notify.handleErrors(t),Object(a.a)(!1)}))).subscribe()}},{key:"getLoader",value:function(){return this.loading}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.dc(l.e),c.dc(u.b),c.dc(d.b),c.dc(f.a),c.dc(h.c))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac}),t}()},"6eB1":function(t,e,n){"use strict";var i=n("Q1FS"),a=n("nzqU"),r=n("QtHX"),o=n("zzsZ");e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,c=t[t.length-1];return a.isScheduler(c)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof i.Observable?t[0]:r.mergeAll(n)(o.fromArray(t,s))}},"6qA3":function(t,e,n){"use strict";var i=n("OAkW"),a=n("Z5tI"),r=n("poJ0"),o=n("ozli"),s=n("yRPT"),c=n("90cg"),l=n("GMZp"),u=n("VKeD"),d=n("zfKp");e.subscribeTo=function(t){if(t&&"function"==typeof t[d.observable])return o.subscribeToObservable(t);if(s.isArrayLike(t))return i.subscribeToArray(t);if(c.isPromise(t))return a.subscribeToPromise(t);if(t&&"function"==typeof t[u.iterator])return r.subscribeToIterable(t);var e=l.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"7+OI":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC");function a(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},"7EHt":function(t,e,n){"use strict";n.d(e,"a",(function(){return et})),n.d(e,"b",(function(){return it})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return $})),n.d(e,"e",(function(){return W})),n.d(e,"f",(function(){return K})),n.d(e,"g",(function(){return J})),n.d(e,"h",(function(){return tt}));var i,a,r,o=n("fXoL"),s=n("8LU1"),c=n("XNiG"),l=n("quSY"),u=n("0EQZ"),d=0,f=((r=function(){function t(){_classCallCheck(this,t),this._stateChanges=new c.a,this._openCloseAllActions=new c.a,this.id="cdk-accordion-"+d++,this._multi=!1}return _createClass(t,[{key:"openAll",value:function(){this._openCloseAll(!0)}},{key:"closeAll",value:function(){this._openCloseAll(!1)}},{key:"ngOnChanges",value:function(t){this._stateChanges.next(t)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_openCloseAll",value:function(t){this.multi&&this._openCloseAllActions.next(t)}},{key:"multi",get:function(){return this._multi},set:function(t){this._multi=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275dir=o.Ob({type:r,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o.Cb]}),r),h=0,p=((a=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=l.a.EMPTY,this.closed=new o.o,this.opened=new o.o,this.destroyed=new o.o,this.expandedChange=new o.o,this.id="cdk-accordion-child-"+h++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen((function(t,e){a.accordion&&!a.accordion.multi&&a.accordion.id===e&&a.id!==t&&(a.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe((function(e){t.disabled||(t.expanded=e)}))}},{key:"expanded",get:function(){return this._expanded},set:function(t){t=Object(s.c)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||a)(o.Tb(f,12),o.Tb(o.h),o.Tb(u.d))},a.\u0275dir=o.Ob({type:a,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o.Db([{provide:f,useValue:void 0}])]}),a),m=((i=function t(){_classCallCheck(this,t)}).\u0275mod=o.Rb({type:i}),i.\u0275inj=o.Qb({factory:function(t){return new(t||i)}}),i),g=n("+rOU"),b=n("ofXK"),v=n("u47x"),y=n("FtGj"),_=n("/uUt"),k=n("JX91"),C=n("pLZG"),x=n("IzEk"),w=n("EY2u"),O=n("VRyK"),S=n("R0Ic"),E=n("R1ws"),M=["body"];function I(t,e){}var P=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],T=["mat-expansion-panel-header","*","mat-action-row"],A=function(t,e){return{collapsedHeight:t,expandedHeight:e}},D=function(t,e){return{value:t,params:e}};function R(t,e){if(1&t&&o.Ub(0,"span",2),2&t){var n=o.lc();o.sc("@indicatorRotate",n._getExpandedState())}}var L,F,j,Y,Z,N,U,B,z=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],V=["mat-panel-title","mat-panel-description","*"],H=new o.r("MAT_ACCORDION"),Q={indicatorRotate:Object(S.n)("indicatorRotate",[Object(S.k)("collapsed, void",Object(S.l)({transform:"rotate(0deg)"})),Object(S.k)("expanded",Object(S.l)({transform:"rotate(180deg)"})),Object(S.m)("expanded <=> collapsed, void => collapsed",Object(S.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(S.n)("expansionHeight",[Object(S.k)("collapsed, void",Object(S.l)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(S.k)("expanded",Object(S.l)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(S.m)("expanded <=> collapsed, void => collapsed",Object(S.g)([Object(S.i)("@indicatorRotate",Object(S.f)(),{optional:!0}),Object(S.e)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(S.n)("bodyExpansion",[Object(S.k)("collapsed, void",Object(S.l)({height:"0px",visibility:"hidden"})),Object(S.k)("expanded",Object(S.l)({height:"*",visibility:"visible"})),Object(S.m)("expanded <=> collapsed, void => collapsed",Object(S.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},W=((L=function t(e){_classCallCheck(this,t),this._template=e}).\u0275fac=function(t){return new(t||L)(o.Tb(o.O))},L.\u0275dir=o.Ob({type:L,selectors:[["ng-template","matExpansionPanelContent",""]]}),L),G=0,q=new o.r("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),X=((U=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,s,l,u){var d;return _classCallCheck(this,n),(d=e.call(this,t,i,a))._viewContainerRef=r,d._animationMode=l,d._hideToggle=!1,d.afterExpand=new o.o,d.afterCollapse=new o.o,d._inputChanges=new c.a,d._headerId="mat-expansion-panel-header-"+G++,d._bodyAnimationDone=new c.a,d.accordion=t,d._document=s,d._bodyAnimationDone.pipe(Object(_.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){"void"!==t.fromState&&("expanded"===t.toState?d.afterExpand.emit():"collapsed"===t.toState&&d.afterCollapse.emit())})),u&&(d.hideToggle=u.hideToggle),d}return _createClass(n,[{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Object(k.a)(null),Object(C.a)((function(){return t.expanded&&!t._portal})),Object(x.a)(1)).subscribe((function(){t._portal=new g.j(t._lazyContent._template,t._viewContainerRef)}))}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}},{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=Object(s.c)(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}}]),n}(p)).\u0275fac=function(t){return new(t||U)(o.Tb(H,12),o.Tb(o.h),o.Tb(u.d),o.Tb(o.R),o.Tb(b.e),o.Tb(E.a,8),o.Tb(q,8))},U.\u0275cmp=o.Nb({type:U,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&o.Lb(n,W,!0),2&t&&o.Cc(i=o.ic())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&o.ad(M,!0),2&t&&o.Cc(n=o.ic())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&o.Jb("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o.Db([{provide:H,useValue:void 0}]),o.Bb,o.Cb],ngContentSelectors:T,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(o.rc(P),o.qc(0),o.Zb(1,"div",0,1),o.hc("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),o.Zb(3,"div",2),o.qc(4,1),o.Qc(5,I,0,0,"ng-template",3),o.Yb(),o.qc(6,2),o.Yb()),2&t&&(o.Eb(1),o.sc("@bodyExpansion",e._getExpandedState())("id",e.id),o.Fb("aria-labelledby",e._headerId),o.Eb(4),o.sc("cdkPortalOutlet",e._portal))},directives:[g.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Q.bodyExpansion]},changeDetection:0}),U),$=((N=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||N)},N.\u0275dir=o.Ob({type:N,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),N),J=((Z=function(){function t(e,n,i,a,r){var o=this;_classCallCheck(this,t),this.panel=e,this._element=n,this._focusMonitor=i,this._changeDetectorRef=a,this._parentChangeSubscription=l.a.EMPTY,this._animationsDisabled=!0;var s=e.accordion?e.accordion._stateChanges.pipe(Object(C.a)((function(t){return!(!t.hideToggle&&!t.togglePosition)}))):w.a;this._parentChangeSubscription=Object(O.a)(e.opened,e.closed,s,e._inputChanges.pipe(Object(C.a)((function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)})))).subscribe((function(){return o._changeDetectorRef.markForCheck()})),e.closed.pipe(Object(C.a)((function(){return e._containsFocus()}))).subscribe((function(){return i.focusVia(n,"program")})),i.monitor(n).subscribe((function(t){t&&e.accordion&&e.accordion._handleHeaderFocus(o)})),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}return _createClass(t,[{key:"_animationStarted",value:function(){this._animationsDisabled=!1}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_keydown",value:function(t){switch(t.keyCode){case y.q:case y.g:Object(y.v)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,t,e)}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}},{key:"disabled",get:function(){return this.panel.disabled}}]),t}()).\u0275fac=function(t){return new(t||Z)(o.Tb(X,1),o.Tb(o.l),o.Tb(v.h),o.Tb(o.h),o.Tb(q,8))},Z.\u0275cmp=o.Nb({type:Z,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(o.Kb("@expansionHeight.start",(function(){return e._animationStarted()})),o.hc("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(o.Fb("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),o.Zc("@.disabled",e._animationsDisabled)("@expansionHeight",o.Ac(16,D,e._getExpandedState(),o.Ac(13,A,e.collapsedHeight,e.expandedHeight))),o.Jb("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:V,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(o.rc(z),o.Zb(0,"span",0),o.qc(1),o.qc(2,1),o.qc(3,2),o.Yb(),o.Qc(4,R,1,1,"span",1)),2&t&&(o.Eb(4),o.sc("ngIf",e._showToggle()))},directives:[b.t],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[Q.indicatorRotate,Q.expansionHeaderHeight]},changeDetection:0}),Z),K=((Y=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Y)},Y.\u0275dir=o.Ob({type:Y,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),Y),tt=((j=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||j)},j.\u0275dir=o.Ob({type:j,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),j),et=((F=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._ownHeaders=new o.G,t._hideToggle=!1,t.displayMode="default",t.togglePosition="after",t}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._headers.changes.pipe(Object(k.a)(this._headers)).subscribe((function(e){t._ownHeaders.reset(e.filter((function(e){return e.panel.accordion===t}))),t._ownHeaders.notifyOnChanges()})),this._keyManager=new v.g(this._ownHeaders).withWrap()}},{key:"_handleHeaderKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;e===y.j?Object(y.v)(t)||(n.setFirstItemActive(),t.preventDefault()):e===y.f?Object(y.v)(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}},{key:"_handleHeaderFocus",value:function(t){this._keyManager.updateActiveItem(t)}},{key:"hideToggle",get:function(){return this._hideToggle},set:function(t){this._hideToggle=Object(s.c)(t)}}]),n}(f)).\u0275fac=function(t){return nt(t||F)},F.\u0275dir=o.Ob({type:F,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&o.Lb(n,J,!0),2&t&&o.Cc(i=o.ic())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&o.Jb("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[o.Db([{provide:H,useExisting:F}]),o.Bb]}),F),nt=o.bc(et),it=((B=function t(){_classCallCheck(this,t)}).\u0275mod=o.Rb({type:B}),B.\u0275inj=o.Qb({factory:function(t){return new(t||B)},imports:[[b.c,m,g.i]]}),B)},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=1,a=Promise.resolve(),r={};function o(t){return t in r&&(delete r[t],!0)}var s=function(t){var e=i++;return r[e]=!0,a.then((function(){return o(e)&&t()})),e},c=function(t){o(t)},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).scheduler=t,a.work=i,a}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),u=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,a=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<a&&(t=n.shift()));if(this.active=!1,e){for(;++i<a&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l)},"7RJT":function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("ds6q"),o=n("Mxlh");e.BehaviorSubject=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject)},"7gPu":function(t,e,n){"use strict";n.d(e,"a",(function(){return Y}));var i=n("3Pt+"),a=n("LRne"),r=n("vkgz"),o=n("JIr8"),s=n("Kj3r"),c=n("pLZG"),l=n("/uUt"),u=n("eIep"),d=n("fXoL"),f=n("sYmb"),h=n("tk/3"),p=n("AXEc"),m=n("0IaG"),g=n("ofXK"),b=n("kmnG"),v=n("bTqV"),y=n("STbY"),_=n("qFsG"),k=n("/1cH"),C=n("FKr1"),x=n("Xa2L"),w=n("A5z7"),O=n("NFeN"),S=n("1YbM"),E=["autoCompleteInput"];function M(t,e){if(1&t){var n=d.ac();d.Zb(0,"button",17),d.hc("click",(function(){d.Hc(n);var t=e.$implicit;return d.lc(2).addressBANCurrentDepartment=t})),d.Zb(1,"span"),d.Sc(2),d.Yb(),d.Yb()}if(2&t){var i=e.$implicit;d.Eb(2),d.Tc(i)}}function I(t,e){if(1&t&&(d.Zb(0,"mat-option",19),d.Zb(1,"span",20),d.Sc(2),d.Yb(),d.Yb()),2&t){var n=e.$implicit,i=d.lc(3);d.sc("value",n)("title",n[i.key]),d.Eb(2),d.Tc(n[i.key])}}function P(t,e){if(1&t&&(d.Xb(0),d.Qc(1,I,3,3,"mat-option",18),d.mc(2,"sortBy"),d.mc(3,"async"),d.Wb()),2&t){var n=d.lc(2);d.Eb(1),d.sc("ngForOf",d.oc(2,1,d.nc(3,4,n.filteredOptions),n.key))}}function T(t,e){if(1&t&&d.Ub(0,"mat-option",21),2&t){var n=d.lc(2);d.sc("innerHTML",n.listInfo,d.Ic)}}function A(t,e){1&t&&(d.Zb(0,"mat-option",22),d.Ub(1,"mat-spinner",23),d.Yb())}function D(t,e){if(1&t){var n=d.ac();d.Zb(0,"mat-form-field",5),d.Zb(1,"button",6),d.hc("click",(function(t){return d.Hc(n),t.stopPropagation()})),d.Sc(2),d.Ub(3,"i",7),d.Yb(),d.Zb(4,"mat-menu",null,8),d.Qc(6,M,3,1,"button",9),d.Yb(),d.Zb(7,"input",10,11),d.hc("click",(function(t){return d.Hc(n),t.stopPropagation()}))("focus",(function(){return d.Hc(n),d.lc().resetAutocomplete()})),d.Yb(),d.Zb(9,"mat-autocomplete",12,13),d.hc("optionSelected",(function(t){return d.Hc(n),d.lc().selectOpt(t)})),d.Qc(11,P,4,6,"ng-container",14),d.Qc(12,T,1,1,"mat-option",15),d.Qc(13,A,2,0,"mat-option",16),d.Yb(),d.Yb()}if(2&t){var i=d.Dc(5),a=d.Dc(10),r=d.lc();d.Eb(1),d.sc("matMenuTriggerFor",i)("disabled",r.adminMode),d.Eb(1),d.Uc(" ",r.addressBANCurrentDepartment," "),d.Eb(4),d.sc("ngForOf",r.departmentList),d.Eb(1),d.sc("placeholder",r.translate.instant("lang.searchAddressBan"))("formControl",r.myControl)("matAutocomplete",a),d.Eb(4),d.sc("ngIf",r.options.length>0&&!r.loading),d.Eb(1),d.sc("ngIf",0===r.options.length&&!r.loading),d.Eb(1),d.sc("ngIf",r.loading)}}function R(t,e){1&t&&d.Ub(0,"mat-icon",29)}function L(t,e){if(1&t){var n=d.ac();d.Zb(0,"mat-chip",26),d.hc("removed",(function(){d.Hc(n);var t=e.index;return d.lc(2).removeItem(t)})),d.Zb(1,"span",27),d.hc("click",(function(){d.Hc(n);var t=e.$implicit;return d.lc(2).goTo(t)})),d.Sc(2),d.Yb(),d.Qc(3,R,1,0,"mat-icon",28),d.Yb()}if(2&t){var i=e.$implicit,a=d.lc(2);d.sc("removable",!a.controlAutocomplete.disabled),d.Eb(1),d.sc("title",a.valuesToDisplay[i.id]),d.Eb(1),d.Uc(" ",a.valuesToDisplay[i.id]," "),d.Eb(1),d.sc("ngIf",!a.controlAutocomplete.disabled)}}function F(t,e){if(1&t&&(d.Zb(0,"mat-chip-list",24),d.Qc(1,L,4,4,"mat-chip",25),d.Yb()),2&t){var n=d.lc();d.Eb(1),d.sc("ngForOf",n.controlAutocomplete.value)}}function j(t,e){1&t&&(d.Zb(0,"div",30),d.Sc(1),d.mc(2,"translate"),d.Yb()),2&t&&(d.Eb(1),d.Uc(" ",d.nc(2,1,"lang.noSelectedAddress")," "))}var Y=function(){var t=function(){function t(e,n,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.loading=!1,this.key="address",this.canAdd=!0,this.myControl=new i.h,this.valuesToDisplay={},this.addressBANCurrentDepartment="75",this.departmentList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.initFormValue(),this.adminMode||this.initBanSearch(),this.initAutocompleteRoute()}},{key:"initBanSearch",value:function(){var t=this;this.http.get("../rest/ban/availableDepartments").pipe(Object(r.a)((function(e){null!==e.default&&-1!==e.departments.indexOf(e.default.toString())&&(t.addressBANCurrentDepartment=e.default),t.departmentList=e.departments})),Object(o.a)((function(e){return t.notify.handleSoftErrors(e),Object(a.a)(!1)}))).subscribe()}},{key:"initAutocompleteRoute",value:function(){var t=this;this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(s.a)(300),Object(c.a)((function(t){return t.length>2})),Object(l.a)(),Object(r.a)((function(){return t.loading=!0})),Object(u.a)((function(e){return t.getDatas(e)})),Object(r.a)((function(e){t.listInfo=0===e.length?t.translate.instant("lang.noAvailableValue"):"",t.options=e,t.filteredOptions=Object(a.a)(t.options),t.loading=!1}))).subscribe()}},{key:"getDatas",value:function(t){return this.http.get("../rest/autocomplete/banAddresses",{params:{address:t,department:this.addressBANCurrentDepartment}})}},{key:"selectOpt",value:function(t){this.setFormValue({id:t.option.value.banId,addressNumber:t.option.value.number,addressStreet:t.option.value.afnorName,addressPostcode:t.option.value.postalCode,addressTown:t.option.value.city,longitude:t.option.value.lon,latitude:t.option.value.lat}),this.myControl.setValue("")}},{key:"initFormValue",value:function(){var t=this;this.controlAutocomplete.value.forEach((function(e){t.valuesToDisplay[e.id]="".concat(e.addressNumber," ").concat(e.addressStreet,", ").concat(e.addressTown," (").concat(e.addressPostcode,")")}))}},{key:"setFormValue",value:function(t){this.valuesToDisplay[t.id]="".concat(t.addressNumber," ").concat(t.addressStreet,", ").concat(t.addressTown," (").concat(t.addressPostcode,")"),this.controlAutocomplete.setValue([t])}},{key:"resetAutocomplete",value:function(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}},{key:"unsetValue",value:function(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}},{key:"removeItem",value:function(t){var e=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(e)}},{key:"goTo",value:function(t){window.open("https://www.google.com/maps/search/".concat(t.latitude,",").concat(t.longitude),"_blank")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Tb(f.e),d.Tb(h.b),d.Tb(p.a),d.Tb(m.b))},t.\u0275cmp=d.Nb({type:t,selectors:[["app-address-ban-input"]],viewQuery:function(t,e){var n;1&t&&d.Oc(E,!0),2&t&&d.Cc(n=d.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"],adminMode:["admin","adminMode"]},decls:6,vars:4,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form depList",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form","depList"],["mat-button","","matPrefix","",3,"matMenuTriggerFor","disabled","click"],[1,"fas","fa-angle-down"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked","itemChip"],["class","activeListAutocomplete","style","height:auto;","color","default",3,"removable","removed",4,"ngFor","ngForOf"],["color","default",1,"activeListAutocomplete",2,"height","auto",3,"removable","removed"],[2,"display","flex","flex","1","align-items","center","cursor","pointer",3,"title","click"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(d.Zb(0,"form"),d.Ub(1,"input",0),d.Qc(2,D,14,10,"mat-form-field",1),d.Zb(3,"div",2),d.Qc(4,F,2,1,"mat-chip-list",3),d.Qc(5,j,3,3,"div",4),d.Yb(),d.Yb()),2&t&&(d.Eb(1),d.sc("formControl",e.controlAutocomplete),d.Eb(1),d.sc("ngIf",!e.controlAutocomplete.disabled),d.Eb(2),d.sc("ngIf",e.controlAutocomplete.value.length>0),d.Eb(1),d.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[i.J,i.u,i.v,i.c,i.t,i.i,g.t,b.c,v.b,b.i,y.d,y.e,g.s,_.b,k.d,k.a,y.b,C.o,x.c,w.d,w.a,O.a,w.e],pipes:[S.a,g.b,f.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#fff;background-color:#1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}.depList[_ngcontent-%COMP%]    .mat-form-field-infix{margin-left:-20px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("n6bG"),a=n("gRHU"),r=n("quSY"),o=n("2QA8"),s=n("2fFW"),c=n("NJ4a"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.a;break;case 1:if(!t){o.destination=a.a;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new u(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new u(_assertThisInitialized(o),t,i,r)}return o}return _createClass(n,[{key:o.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var a=new n(t,e,i);return a.syncErrorThrowable=!1,a}}]),n}(r.a),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o,s){var c,l;_classCallCheck(this,n),(c=e.call(this))._parentSubscriber=t;var u=_assertThisInitialized(c);return Object(i.a)(r)?l=r:r&&(l=r.next,o=r.error,s=r.complete,r!==a.a&&(u=Object.create(r),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(_assertThisInitialized(c)))),c._context=u,c._next=l,c._error=o,c._complete=s,c}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(l)},"87bG":function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return k}));var i=n("mrSG"),a=n("LRne"),r=n("lJxs"),o=n("JIr8"),s=n("pLZG"),c=n("vkgz"),l=n("XqQ8"),u=n("fXoL"),d=n("sYmb"),f=n("tk/3"),h=n("tyNb"),p=n("uqn4"),m=n("5cI5"),g=n("rH+9"),b=n("4zkx"),v=n("eiH7"),y=n("0IaG"),_=function(){var t=function(){function t(e,n,i,a,r,o,s,c,l){_classCallCheck(this,t),this.translate=e,this.http=n,this.router=i,this.authService=a,this.localStorage=r,this.functionService=o,this.headerService=s,this.privilegeService=c,this.dialog=l}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this,i=e.url.replace(/^\/+|\/+$/g,"").split("/");console.log("== ROUTE GUARD =="),this.headerService.resetSideNavSelection();var u=this.authService.getToken();return null!==u?(this.functionService.debug("Token trouv\xe9 !",t.url.join("/")),this.authService.setUrl(t.url.join("/")),void 0===this.headerService.user.id?(console.log("R\xe9cup\xe9ration donn\xe9es user..."),this.http.get("../rest/currentUser/profile").pipe(Object(r.a)((function(e){return n.headerService.user={mode:e.mode,id:e.id,status:e.status,userId:e.user_id,firstname:e.firstname,lastname:e.lastname,entities:e.entities,groups:e.groups,preferences:e.preferences,privileges:"ALL_PRIVILEGES"===e.privileges[0]?n.privilegeService.getAllPrivileges():e.privileges},n.functionService.debug("",t.url.join("/")),n.headerService.nbResourcesFollowed=e.nbFollowedResources,n.privilegeService.resfreshUserShortcuts(),"ABS"===n.headerService.user.status?n.router.navigate(["/activate-user"]):(n.headerService.hideSideBar=i.filter((function(t){return["signatureBook","content"].indexOf(t)>-1})).length>0,n.headerService.sideBarAdmin=i.filter((function(t){return"administration"===t})).length>0||i.filter((function(t){return"profile"===t})).length>0,!0)})),Object(o.a)((function(t){return console.log(t),"User must change his password"===t.error.errors?n.router.navigate(["/password-modification"]):Object(a.a)(!1)})))):(console.log("Donn\xe9es user trouv\xe9es !"),"ABS"===this.headerService.user.status?(this.router.navigate(["/activate-user"]),Object(a.a)(!1)):(this.headerService.hideSideBar=i.filter((function(t){return["signatureBook","content"].indexOf(t)>-1})).length>0,this.headerService.sideBarAdmin=i.filter((function(t){return"administration"===t})).length>0||i.filter((function(t){return"profile"===t})).length>0,Object(a.a)(!0)))):(console.log("Aucun token trouv\xe9 ! Recup\xe9ration du token ..."),this.http.get("../rest/authenticationInformations").pipe(Object(r.a)((function(i){return n.authService.setAppSession(i.instanceId),n.authService.changeKey=i.changeKey,n.localStorage.setAppSession(i.instanceId),null!==(u=n.authService.getToken())?(n.authService.setUrl(t.url.join("/")),n.functionService.debug("",t.url.join("/")),n.authService.setEvent("authenticationInformations"),u):(n.authService.setCachedUrl(e.url.replace(/^\//g,"")),console.log("Aucun token trouv\xe9 ! Redirection sur login ..."),n.authService.logout(!1),!1)})),Object(s.a)((function(t){return null!==t})),Object(c.a)((function(){return console.log("R\xe9cup\xe9ration donn\xe9es user...")})),Object(l.a)((function(){return n.http.get("../rest/currentUser/profile")})),Object(r.a)((function(e){return n.headerService.user={mode:e.mode,id:e.id,status:e.status,userId:e.user_id,firstname:e.firstname,lastname:e.lastname,entities:e.entities,groups:e.groups,preferences:e.preferences,privileges:"ALL_PRIVILEGES"===e.privileges[0]?n.privilegeService.getAllPrivileges():e.privileges},n.functionService.debug("",t.url.join("/")),n.headerService.nbResourcesFollowed=e.nbFollowedResources,n.privilegeService.resfreshUserShortcuts(),"ABS"===n.headerService.user.status?n.router.navigate(["/activate-user"]):(n.headerService.hideSideBar=i.filter((function(t){return["signatureBook","content"].indexOf(t)>-1})).length>0,n.headerService.sideBarAdmin=i.filter((function(t){return"administration"===t})).length>0||i.filter((function(t){return"profile"===t})).length>0,!0)})),Object(o.a)((function(t){return console.log(t),"User must change his password"===t.error.errors?n.router.navigate(["/password-modification"]):(n.authService.logout(),Object(a.a)(!1))}))))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.dc(d.e),u.dc(f.b),u.dc(h.c),u.dc(p.a),u.dc(m.a),u.dc(g.a),u.dc(b.a),u.dc(v.a),u.dc(y.b))},t.\u0275prov=u.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),k=function(){var t=function(){function t(e){_classCallCheck(this,t),this.translate=e}return _createClass(t,[{key:"canDeactivate",value:function(t,e,n,a){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=(t.isToolModified()&&!t.isModalOpen()||void 0!==t.appDocumentViewer&&t.appDocumentViewer.isEditingTemplate())&&confirm(this.translate.instant("lang.saveModifiedData")),!e.t0){e.next=4;break}return e.next=4,t.saveModificationBeforeClose();case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.dc(d.e))},t.\u0275prov=u.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8IW6":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL"),a=n("sYmb"),r=n("rH+9"),o=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.functions=n}return _createClass(t,[{key:"transform",value:function(t){if(this.functions.empty(t))return"";var e=new Date(t);return this.translate.instant("lang.onRange")[0].toUpperCase()+this.translate.instant("lang.onRange").substr(1).toLowerCase()+" "+e.toLocaleDateString(this.translate.instant("lang.langISO"),{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.e),i.Tb(r.a))},t.\u0275pipe=i.Sb({name:"fullDate",type:t,pure:!1}),t}()},"8LU1":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return r}));var i=n("fXoL");function a(t){return null!=t&&""+t!="false"}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(t)?Number(t):e}function o(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function s(t){return Array.isArray(t)?t:[t]}function c(t){return null==t?"":"string"==typeof t?t:t+"px"}function l(t){return t instanceof i.l?t.nativeElement:t}},"8N1J":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),a=n("aEDk"),r=function(){var t=function(){function t(e){_classCallCheck(this,t),this.latinisePipe=e}return _createClass(t,[{key:"transform",value:function(t,e,n){var i=this;if(void 0!==n){var a=e.toLocaleLowerCase();return a?t.filter((function(t){return-1!=i.latinisePipe.transform(t[n].toLocaleLowerCase()).indexOf(i.latinisePipe.transform(a))})):t}console.log("Init filter failed for values : "),console.log(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.c))},t.\u0275pipe=i.Sb({name:"filterList",type:t,pure:!0}),t}()},"8yBR":function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return C}));var i=n("FvrZ"),a=n("FKr1"),r=n("8LU1"),o=n("0EQZ"),s=n("2Vo4"),c=n("VRyK"),l=n("IzEk"),u=n("lJxs"),d=n("fXoL"),f=Object(a.E)(Object(a.B)(i.e)),h=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i))._elementRef=t,r._tree=i,r.role="treeitem",r.tabIndex=Number(a)||0,r}return n}(f);return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.l),d.Tb(i.c),d.ec("tabindex"))},t.\u0275dir=d.Ob({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(t,e){2&t&&d.Fb("aria-expanded",e.isExpanded)("aria-level","treeitem"===e.role?e.level:null)("role",e.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[d.Db([{provide:i.e,useExisting:t}]),d.Bb]}),t}(),p=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(i.f);return t.\u0275fac=function(e){return m(e||t)},t.\u0275dir=d.Ob({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[d.Db([{provide:i.f,useExisting:t}]),d.Bb]}),t}(),m=d.bc(p),g=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i,a))._elementRef=t,o._tree=i,o._differs=a,o._disabled=!1,o.tabIndex=Number(r)||0,o}return _createClass(n,[{key:"ngAfterContentInit",value:function(){_get(_getPrototypeOf(n.prototype),"ngAfterContentInit",this).call(this)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(r.c)(t)}},{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:0}}]),n}(i.b);return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.l),d.Tb(i.c),d.Tb(d.u),d.ec("tabindex"))},t.\u0275dir=d.Ob({type:t,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],hostVars:2,hostBindings:function(t,e){2&t&&d.Fb("aria-expanded",e.isExpanded)("role",e.role)},inputs:{tabIndex:"tabIndex",disabled:"disabled",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[d.Db([{provide:i.b,useExisting:t},{provide:i.e,useExisting:t},{provide:i.a,useExisting:t}]),d.Bb]}),t}(),b=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(i.h);return t.\u0275fac=function(e){return v(e||t)},t.\u0275dir=d.Ob({type:t,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[d.Db([{provide:i.h,useExisting:t}]),d.Bb]}),t}(),v=d.bc(b),y=function(){var t=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this._node=n};return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.R),d.Tb(i.a,8))},t.\u0275dir=d.Ob({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[d.Db([{provide:i.g,useExisting:t}])]}),t}(),_=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(i.c);return t.\u0275fac=function(e){return k(e||t)},t.\u0275cmp=d.Nb({type:t,selectors:[["mat-tree"]],viewQuery:function(t,e){var n;1&t&&d.Oc(y,!0),2&t&&d.Cc(n=d.ic())&&(e._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[d.Db([{provide:i.c,useExisting:t}]),d.Bb],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,e){1&t&&d.Vb(0,0)},directives:[y],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;min-height:48px;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),t}(),k=d.bc(_),C=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).recursive=!1,t}return n}(i.i);return t.\u0275fac=function(e){return x(e||t)},t.\u0275dir=d.Ob({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[d.Db([{provide:i.i,useExisting:t}]),d.Bb]}),t}(),x=d.bc(C),w=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=d.Rb({type:t}),t.\u0275inj=d.Qb({factory:function(e){return new(e||t)},imports:[[i.d,a.j],a.j]}),t}(),O=function(){function t(e,n,i,a){_classCallCheck(this,t),this.transformFunction=e,this.getLevel=n,this.isExpandable=i,this.getChildren=a}return _createClass(t,[{key:"_flattenNode",value:function(t,e,n,i){var a=this,r=this.transformFunction(t,e);if(n.push(r),this.isExpandable(r)){var o=this.getChildren(t);o&&(Array.isArray(o)?this._flattenChildren(o,e,n,i):o.pipe(Object(l.a)(1)).subscribe((function(t){a._flattenChildren(t,e,n,i)})))}return n}},{key:"_flattenChildren",value:function(t,e,n,i){var a=this;t.forEach((function(r,o){var s=i.slice();s.push(o!=t.length-1),a._flattenNode(r,e+1,n,s)}))}},{key:"flattenNodes",value:function(t){var e=this,n=[];return t.forEach((function(t){return e._flattenNode(t,0,n,[])})),n}},{key:"expandFlattenedNodes",value:function(t,e){var n=this,i=[],a=[];return a[0]=!0,t.forEach((function(t){for(var r=!0,o=0;o<=n.getLevel(t);o++)r=r&&a[o];r&&i.push(t),n.isExpandable(t)&&(a[n.getLevel(t)+1]=e.isExpanded(t))})),i}}]),t}(),S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return _classCallCheck(this,n),(a=e.call(this))._treeControl=t,a._treeFlattener=i,a._flattenedData=new s.a([]),a._expandedData=new s.a([]),a._data=new s.a(r),a}return _createClass(n,[{key:"connect",value:function(t){var e=this,n=[t.viewChange,this._treeControl.expansionModel.changed,this._flattenedData];return Object(c.a).apply(void 0,n).pipe(Object(u.a)((function(){return e._expandedData.next(e._treeFlattener.expandFlattenedNodes(e._flattenedData.value,e._treeControl)),e._expandedData.value})))}},{key:"disconnect",value:function(){}},{key:"data",get:function(){return this._data.value},set:function(t){this._data.next(t),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}}]),n}(o.b),E=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._data=new s.a([]),t}return _createClass(n,[{key:"connect",value:function(t){var e=this;return Object(c.a)(t.viewChange,this._data).pipe(Object(u.a)((function(){return e.data})))}},{key:"disconnect",value:function(){}},{key:"data",get:function(){return this._data.value},set:function(t){this._data.next(t)}}]),n}(o.b)},"90cg":function(t,e,n){"use strict";e.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},"9AGB":function(t,e,n){"use strict";var i=n("yoF8");function a(t){return 0===t.length?i.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)},e.pipeFromArray=a},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},A5z7:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return A})),n.d(e,"d",(function(){return P})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return R}));var i=n("FtGj"),a=n("fXoL"),r=n("FKr1"),o=n("ofXK"),s=n("8LU1"),c=n("XNiG"),l=n("VRyK"),u=n("IzEk"),d=n("1G5W"),f=n("JX91"),h=n("R1ws"),p=n("u47x"),m=n("0EQZ"),g=n("kmnG"),b=n("nLfN"),v=n("cH1L"),y=n("3Pt+"),_=["*"],k=Object(r.E)(Object(r.z)(Object(r.A)((function t(e){_classCallCheck(this,t),this._elementRef=e})),"primary"),-1),C=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),t}(),x=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),t}(),w=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s,l,u,d,f){var h;return _classCallCheck(this,n),(h=e.call(this,t))._elementRef=t,h._ngZone=i,h._changeDetectorRef=u,h._hasFocus=!1,h.chipListSelectable=!0,h._chipListMultiple=!1,h._chipListDisabled=!1,h._selected=!1,h._selectable=!0,h._disabled=!1,h._removable=!0,h._onFocus=new c.a,h._onBlur=new c.a,h.selectionChange=new a.o,h.destroyed=new a.o,h.removed=new a.o,h._addHostClassName(),h._chipRippleTarget=(f||document).createElement("div"),h._chipRippleTarget.classList.add("mat-chip-ripple"),h._elementRef.nativeElement.appendChild(h._chipRippleTarget),h._chipRipple=new r.w(_assertThisInitialized(h),i,h._chipRippleTarget,o),h._chipRipple.setupTriggerEvents(t),h.rippleConfig=s||{},h._animationsDisabled="NoopAnimations"===l,h.tabIndex=null!=d&&parseInt(d)||-1,h}return _createClass(n,[{key:"_addHostClassName",value:function(){var t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}},{key:"toggleSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(t){this.disabled?t.preventDefault():t.stopPropagation()}},{key:"_handleKeydown",value:function(t){if(!this.disabled)switch(t.keyCode){case i.d:case i.b:this.remove(),t.preventDefault();break;case i.q:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}},{key:"_blur",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(u.a)(1)).subscribe((function(){t._ngZone.run((function(){t._hasFocus=!1,t._onBlur.next({chip:t})}))}))}},{key:"_dispatchSelectionChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}},{key:"_markForCheck",value:function(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(t){var e=Object(s.c)(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(t){this._value=t}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(t){this._selectable=Object(s.c)(t)}},{key:"disabled",get:function(){return this._chipListDisabled||this._disabled},set:function(t){this._disabled=Object(s.c)(t)}},{key:"removable",get:function(){return this._removable},set:function(t){this._removable=Object(s.c)(t)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}}]),n}(k);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.B),a.Tb(b.a),a.Tb(r.i,8),a.Tb(h.a,8),a.Tb(a.h),a.ec("tabindex"),a.Tb(o.e,8))},t.\u0275dir=a.Ob({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,C,!0),a.Lb(n,x,!0),a.Lb(n,O,!0)),2&t&&(a.Cc(i=a.ic())&&(e.avatar=i.first),a.Cc(i=a.ic())&&(e.trailingIcon=i.first),a.Cc(i=a.ic())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&a.hc("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(a.Fb("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),a.Jb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[a.Bb]}),t}(),O=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._parentChip=e,n&&"BUTTON"===n.nativeElement.nodeName&&n.nativeElement.setAttribute("type","button")}return _createClass(t,[{key:"_handleClick",value:function(t){var e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(w),a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&a.hc("click",(function(t){return e._handleClick(t)}))}}),t}(),S=new a.r("mat-chips-default-options"),E=Object(r.C)((function t(e,n,i,a){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=a})),M=0,I=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},P=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,s,l,u){var d;return _classCallCheck(this,n),(d=e.call(this,l,o,s,u))._elementRef=t,d._changeDetectorRef=i,d._dir=r,d.ngControl=u,d.controlType="mat-chip-list",d._lastDestroyedChipIndex=null,d._destroyed=new c.a,d._uid="mat-chip-list-"+M++,d._tabIndex=0,d._userTabIndex=null,d._onTouched=function(){},d._onChange=function(){},d._multiple=!1,d._compareWith=function(t,e){return t===e},d._required=!1,d._disabled=!1,d.ariaOrientation="horizontal",d._selectable=!0,d.change=new a.o,d.valueChange=new a.o,d.ngControl&&(d.ngControl.valueAccessor=_assertThisInitialized(d)),d}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new p.g(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(d.a)(this._destroyed)).subscribe((function(e){return t._keyManager.withHorizontalOrientation(e)})),this._keyManager.tabOut.pipe(Object(d.a)(this._destroyed)).subscribe((function(){t._allowFocusEscape()})),this.chips.changes.pipe(Object(f.a)(null),Object(d.a)(this._destroyed)).subscribe((function(){t.disabled&&Promise.resolve().then((function(){t._syncChipsState()})),t._resetChips(),t._initializeSelection(),t._updateTabIndex(),t._updateFocusForDestroyedChips(),t.stateChanges.next()}))}},{key:"ngOnInit",value:function(){this._selectionModel=new m.c(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(t){this._chipInput=t}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"writeValue",value:function(t){this.chips&&this._setSelectionByValue(t,!1)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.stateChanges.next()}},{key:"onContainerClick",value:function(t){this._originatesFromChip(t)||this.focus()}},{key:"focus",value:function(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}},{key:"_focusInput",value:function(t){this._chipInput&&this._chipInput.focus(t)}},{key:"_keydown",value:function(t){var e=t.target;t.keyCode===i.b&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(t.keyCode===i.j?(this._keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===i.f?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(t){return t>=0&&t<this.chips.length}},{key:"_isInputEmpty",value:function(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}},{key:"_setSelectionByValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach((function(t){return t.deselect()})),Array.isArray(t))t.forEach((function(t){return e._selectValue(t,n)})),this._sortValues();else{var i=this._selectValue(t,n);i&&n&&this._keyManager.setActiveItem(i)}}},{key:"_selectValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.chips.find((function(n){return null!=n.value&&e._compareWith(n.value,t)}));return i&&(n?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then((function(){(t.ngControl||t._value)&&(t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value,!1),t.stateChanges.next())}))}},{key:"_clearSelection",value:function(t){this._selectionModel.clear(),this.chips.forEach((function(e){e!==t&&e.deselect()})),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach((function(e){e.selected&&t._selectionModel.select(e)})),this.stateChanges.next())}},{key:"_propagateChanges",value:function(t){var e;e=Array.isArray(this.selected)?this.selected.map((function(t){return t.value})):this.selected?this.selected.value:t,this._value=e,this.change.emit(new I(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var t=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout((function(){t.focused||t._markAsTouched()})):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var t=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout((function(){t._tabIndex=t._userTabIndex||0,t._changeDetectorRef.markForCheck()})))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var t=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe((function(e){e.source.selected?t._selectionModel.select(e.source):t._selectionModel.deselect(e.source),t.multiple||t.chips.forEach((function(e){!t._selectionModel.isSelected(e)&&e.selected&&e.deselect()})),e.isUserInput&&t._propagateChanges()}))}},{key:"_listenToChipsFocus",value:function(){var t=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe((function(e){var n=t.chips.toArray().indexOf(e.chip);t._isValidIndex(n)&&t._keyManager.updateActiveItem(n),t.stateChanges.next()})),this._chipBlurSubscription=this.chipBlurChanges.subscribe((function(){t._blur(),t.stateChanges.next()}))}},{key:"_listenToChipsRemoved",value:function(){var t=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe((function(e){var n=e.chip,i=t.chips.toArray().indexOf(e.chip);t._isValidIndex(i)&&n._hasFocus&&(t._lastDestroyedChipIndex=i)}))}},{key:"_originatesFromChip",value:function(t){for(var e=t.target;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips.some((function(t){return t._hasFocus}))}},{key:"_syncChipsState",value:function(){var t=this;this.chips&&this.chips.forEach((function(e){e._chipListDisabled=t._disabled,e._chipListMultiple=t.multiple}))}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Object(s.c)(t),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){this.writeValue(t),this._value=t}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(s.c)(t),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Object(s.c)(t),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(t){var e=this;this._selectable=Object(s.c)(t),this.chips&&this.chips.forEach((function(t){return t.chipListSelectable=e._selectable}))}},{key:"tabIndex",set:function(t){this._userTabIndex=t,this._tabIndex=t}},{key:"chipSelectionChanges",get:function(){return Object(l.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.selectionChange}))))}},{key:"chipFocusChanges",get:function(){return Object(l.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onFocus}))))}},{key:"chipBlurChanges",get:function(){return Object(l.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onBlur}))))}},{key:"chipRemoveChanges",get:function(){return Object(l.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.destroyed}))))}}]),n}(E);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.h),a.Tb(v.c,8),a.Tb(y.v,8),a.Tb(y.l,8),a.Tb(r.d),a.Tb(y.s,10))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;1&t&&a.Lb(n,w,!0),2&t&&a.Cc(i=a.ic())&&(e.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&a.hc("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(a.cc("id",e._uid),a.Fb("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),a.Jb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[a.Db([{provide:g.d,useExisting:t}]),a.Bb],ngContentSelectors:_,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(a.rc(),a.Zb(0,"div",0),a.qc(1),a.Yb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t}(),T=0,A=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._elementRef=e,this._defaultOptions=n,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new a.o,this.placeholder="",this.id="mat-chip-list-input-"+T++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}return _createClass(t,[{key:"ngOnChanges",value:function(){this._chipList.stateChanges.next()}},{key:"_keydown",value:function(t){t&&t.keyCode===i.r&&!Object(i.v)(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}},{key:"_blur",value:function(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}},{key:"_focus",value:function(){this.focused=!0,this._chipList.stateChanges.next()}},{key:"_emitChipEnd",value:function(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}},{key:"_onInput",value:function(){this._chipList.stateChanges.next()}},{key:"focus",value:function(t){this._inputElement.focus(t)}},{key:"_isSeparatorKey",value:function(t){if(Object(i.v)(t))return!1;var e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}},{key:"chipList",set:function(t){t&&(this._chipList=t,this._chipList.registerInput(this))}},{key:"addOnBlur",get:function(){return this._addOnBlur},set:function(t){this._addOnBlur=Object(s.c)(t)}},{key:"disabled",get:function(){return this._disabled||this._chipList&&this._chipList.disabled},set:function(t){this._disabled=Object(s.c)(t)}},{key:"empty",get:function(){return!this._inputElement.value}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(S))},t.\u0275dir=a.Ob({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&a.hc("keydown",(function(t){return e._keydown(t)}))("blur",(function(){return e._blur()}))("focus",(function(){return e._focus()}))("input",(function(){return e._onInput()})),2&t&&(a.cc("id",e.id),a.Fb("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[a.Cb]}),t}(),D={separatorKeyCodes:[i.g]},R=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[r.d,{provide:S,useValue:D}]}),t}()},A6w4:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("pWCv"),a=n("nYR2"),r=n("JIr8"),o=n("I65S"),s=n("SIQe"),c=n("fXoL"),l=n("sYmb"),u=n("tk/3"),d=n("AXEc"),f=n("uqn4"),h=n("0IaG"),p=function(){var t=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.authService=a,this.dialog=r,this.screenWidth=1920}return _createClass(t,[{key:"getViewMode",value:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.screenWidth<=768}},{key:"setScreenWidth",value:function(t){this.screenWidth=t}},{key:"applyMinorUpdate",value:function(){var t=this;return $("body").append('<div id="updateLoading" style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width: 200px;text-align: center;"><img src="assets/spinner.gif"></div>'),new Promise((function(e){t.http.put("../rest/versionsUpdateSQL",{}).pipe(Object(i.tap)((function(t){e(!0),$("#updateLoading").remove()})),Object(a.a)((function(){return $("#updateLoading").remove()})),Object(r.a)((function(n){return t.notify.handleSoftErrors(n),e(!0),Object(o.of)(!1)}))).subscribe()}))}},{key:"checkAppSecurity",value:function(){var t=this;this.authService.catchEvent().subscribe((function(e){"authenticationInformations"===e&&t.authService.changeKey&&setTimeout((function(){t.dialog.open(s.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{mode:"danger",title:t.translate.instant("lang.warnPrivateKeyTitle"),msg:t.translate.instant("lang.warnPrivateKey")}})}),1e3)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.dc(l.e),c.dc(u.b),c.dc(d.a),c.dc(f.a),c.dc(h.b))},t.\u0275prov=c.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},AXEc:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("dNgK"),a=n("fXoL"),r=n("sYmb"),o=n("tyNb"),s=function(){var t=function(){function t(e){_classCallCheck(this,t),this.data=e}return _createClass(t,[{key:"dismiss",value:function(){this.data.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(i.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["custom-snackbar"]],decls:7,vars:5,consts:[[1,"notif-container",3,"click"],[1,"notif-container-icon"],[1,"notif-container-content"],[1,"notif-container-content-msg"],[3,"innerHTML"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.hc("click",(function(){return e.dismiss()})),a.Zb(1,"div",1),a.Ub(2,"i"),a.Yb(),a.Zb(3,"div",2),a.Zb(4,"div",3),a.Ub(5,"div",4),a.Ub(6,"div",4),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.Hb("fa fa-",e.data.icon," fa-2x"),a.Eb(3),a.sc("innerHTML",e.data.url,a.Ic),a.Eb(1),a.sc("innerHTML",e.data.message,a.Ic))},styles:[".notif-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:25px;padding-bottom:25px;cursor:pointer}.notif-container-icon[_ngcontent-%COMP%]{display:flex;width:50px;justify-content:center}.notif-container-content[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}.notif-container-content-msg[_ngcontent-%COMP%]{display:flex;flex-direction:column} .mat-snack-bar-container.error-snackbar{color:#8e3e52;background:#fff;border:1px solid #8e3e52} .mat-snack-bar-container.success-snackbar{color:#135f7f;background:#fff;border:1px solid #135f7f}"]}),t}(),c=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.router=n,this.snackBar=i}return _createClass(t,[{key:"success",value:function(t){var e=this.getMessageDuration(t,2e3),n=this.snackBar.openFromComponent(s,{duration:e,panelClass:"success-snackbar",verticalPosition:"top",data:{message:t,icon:"info-circle",close:function(){n.dismiss()}}})}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getMessageDuration(t,4e3),i=this.snackBar.openFromComponent(s,{duration:n,panelClass:"error-snackbar",verticalPosition:"top",data:{url:e,message:t,icon:"exclamation-triangle",close:function(){i.dismiss()}}})}},{key:"handleErrors",value:function(t){console.log(t),0===t.status&&"Unknown Error"===t.statusText?this.error(this.translate.instant("lang.connectionFailed")):void 0!==t.error?void 0!==t.error.errors?(void 0!==t.error.lang?this.error(this.translate.instant("lang."+t.error.lang)):"Document out of perimeter"===t.error.errors||"Resource out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentOutOfPerimeter")):"Resources out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentsOutOfPerimeter")):this.error(t.error.errors,t.url),403!==t.status&&404!==t.status||this.router.navigate(["/home"])):this.error(void 0!==t.error.exception?t.error.exception[0].message:void 0!==t.error.error?t.error.error.message:"".concat(t.status," : ").concat(t.statusText),t.url):this.error(t)}},{key:"handleSoftErrors",value:function(t){console.log(t),void 0!==t.error?void 0!==t.error.errors?void 0!==t.error.lang?this.error(this.translate.instant("lang."+t.error.lang)):"Document out of perimeter"===t.error.errors||"Resource out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentOutOfPerimeter")):"Resources out of perimeter"===t.error.errors?this.error(this.translate.instant("lang.documentsOutOfPerimeter")):this.error(t.error.errors,t.url):this.error(void 0!==t.error.exception?t.error.exception[0].message:void 0!==t.error.error?t.error.error.message:"".concat(t.status," : ").concat(t.statusText),t.url):this.error(t)}},{key:"getMessageDuration",value:function(t,e){var n=t.length/25*1e3;return n<e?e:n>1e4?1e4:n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(r.e),a.dc(o.c),a.dc(i.b))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac}),t}()},"B/XX":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return C})),n.d(e,"h",(function(){return v}));var i=n("u47x"),a=n("cH1L"),r=n("8LU1"),o=n("FtGj"),s=n("ofXK"),c=n("fXoL"),l=n("XNiG"),u=n("LRne"),d=n("JX91"),f=n("1G5W");function h(t,e){1&t&&c.qc(0)}var p=["*"],m=function(){var t=function(){function t(e){_classCallCheck(this,t),this._elementRef=e}return _createClass(t,[{key:"focus",value:function(){this._elementRef.nativeElement.focus()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Tb(c.l))},t.\u0275dir=c.Ob({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t}(),g=function(){var t=function t(e){_classCallCheck(this,t),this.template=e};return t.\u0275fac=function(e){return new(e||t)(c.Tb(c.O))},t.\u0275dir=c.Ob({type:t,selectors:[["","cdkStepLabel",""]]}),t}(),b=0,v=new c.r("STEPPER_GLOBAL_OPTIONS"),y=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._stepper=e,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}return _createClass(t,[{key:"_getDefaultCompleted",value:function(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}},{key:"_getDefaultError",value:function(){return this.stepControl&&this.stepControl.invalid&&this.interacted}},{key:"select",value:function(){this._stepper.selected=this}},{key:"reset",value:function(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}},{key:"ngOnChanges",value:function(){this._stepper._stateChanged()}},{key:"editable",get:function(){return this._editable},set:function(t){this._editable=Object(r.c)(t)}},{key:"optional",get:function(){return this._optional},set:function(t){this._optional=Object(r.c)(t)}},{key:"completed",get:function(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride},set:function(t){this._completedOverride=Object(r.c)(t)}},{key:"hasError",get:function(){return null==this._customError?this._getDefaultError():this._customError},set:function(t){this._customError=Object(r.c)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Tb(Object(c.W)((function(){return _}))),c.Tb(v,8))},t.\u0275cmp=c.Nb({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,n){var i;1&t&&c.Lb(n,g,!0),2&t&&c.Cc(i=c.ic())&&(e.stepLabel=i.first)},viewQuery:function(t,e){var n;1&t&&c.Oc(c.O,!0),2&t&&c.Cc(n=c.ic())&&(e.content=n.first)},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[c.Cb],ngContentSelectors:p,decls:1,vars:0,template:function(t,e){1&t&&(c.rc(),c.Qc(0,h,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t}(),_=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._dir=e,this._changeDetectorRef=n,this._elementRef=i,this._destroyed=new l.a,this._linear=!1,this._selectedIndex=0,this.selectionChange=new c.o,this._orientation="horizontal",this._groupId=b++,this._document=a}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;this._keyManager=new i.g(this._stepHeader).withWrap().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(u.a)()).pipe(Object(d.a)(this._layoutDirection()),Object(f.a)(this._destroyed)).subscribe((function(e){return t._keyManager.withHorizontalOrientation(e)})),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.pipe(Object(f.a)(this._destroyed)).subscribe((function(){t.selected||(t._selectedIndex=Math.max(t._selectedIndex-1,0))}))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"next",value:function(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}},{key:"previous",value:function(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}},{key:"reset",value:function(){this._updateSelectedItemIndex(0),this.steps.forEach((function(t){return t.reset()})),this._stateChanged()}},{key:"_getStepLabelId",value:function(t){return"cdk-step-label-".concat(this._groupId,"-").concat(t)}},{key:"_getStepContentId",value:function(t){return"cdk-step-content-".concat(this._groupId,"-").concat(t)}},{key:"_stateChanged",value:function(){this._changeDetectorRef.markForCheck()}},{key:"_getAnimationDirection",value:function(t){var e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}},{key:"_getIndicatorType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",n=this.steps.toArray()[t],i=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,i):this._getGuidelineLogic(n,i,e)}},{key:"_getDefaultIndicatorLogic",value:function(t,e){return t._showError&&t.hasError&&!e?"error":!t.completed||e?"number":t.editable?"edit":"done"}},{key:"_getGuidelineLogic",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"number";return t._showError&&t.hasError&&!e?"error":t.completed&&!e?"done":t.completed&&e?n:t.editable&&e?"edit":n}},{key:"_isCurrentStep",value:function(t){return this._selectedIndex===t}},{key:"_getFocusIndex",value:function(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}},{key:"_updateSelectedItemIndex",value:function(t){var e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}},{key:"_onKeydown",value:function(t){var e=Object(o.v)(t),n=t.keyCode,i=this._keyManager;null==i.activeItemIndex||e||n!==o.q&&n!==o.g?n===o.j?(i.setFirstItemActive(),t.preventDefault()):n===o.f?(i.setLastItemActive(),t.preventDefault()):i.onKeydown(t):(this.selectedIndex=i.activeItemIndex,t.preventDefault())}},{key:"_anyControlsInvalidOrPending",value:function(t){var e=this.steps.toArray();return e[this._selectedIndex].interacted=!0,!!(this._linear&&t>=0)&&e.slice(0,t).some((function(t){var e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride}))}},{key:"_layoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_containsFocus",value:function(){if(!this._document||!this._elementRef)return!1;var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}},{key:"steps",get:function(){return this._steps}},{key:"linear",get:function(){return this._linear},set:function(t){this._linear=Object(r.c)(t)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){var e=Object(r.f)(t);if(this.steps){if(e<0||e>this.steps.length-1)throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this._selectedIndex!=e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=e}},{key:"selected",get:function(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0},set:function(t){this.selectedIndex=this.steps?this.steps.toArray().indexOf(t):-1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Tb(a.c,8),c.Tb(c.h),c.Tb(c.l),c.Tb(s.e))},t.\u0275dir=c.Ob({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,n){var i;1&t&&(c.Lb(n,y,!0),c.Lb(n,m,!0)),2&t&&(c.Cc(i=c.ic())&&(e._steps=i),c.Cc(i=c.ic())&&(e._stepHeader=i))},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t}(),k=function(){var t=function(){function t(e){_classCallCheck(this,t),this._stepper=e,this.type="submit"}return _createClass(t,[{key:"_handleClick",value:function(){this._stepper.next()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Tb(_))},t.\u0275dir=c.Ob({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&c.hc("click",(function(){return e._handleClick()})),2&t&&c.cc("type",e.type)},inputs:{type:"type"}}),t}(),C=function(){var t=function(){function t(e){_classCallCheck(this,t),this._stepper=e,this.type="button"}return _createClass(t,[{key:"_handleClick",value:function(){this._stepper.previous()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Tb(_))},t.\u0275dir=c.Ob({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&c.hc("click",(function(){return e._handleClick()})),2&t&&c.cc("type",e.type)},inputs:{type:"type"}}),t}(),x=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({factory:function(e){return new(e||t)},imports:[[a.a]]}),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("HDdC"),a=n("SeVD"),r=n("quSY"),o=n("kJWO"),s=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function d(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a((function(n){var i=new r.a;return i.add(e.schedule((function(){var a=t[o.a]();i.add(a.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}))}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a((function(n){var i=new r.a;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}))}(t,e);if(Object(u.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a((function(n){var i,a=new r.a;return a.add((function(){i&&"function"==typeof i.return&&i.return()})),a.add(e.schedule((function(){i=t[c.a](),a.add(e.schedule((function(){if(!n.closed){var t,e;try{var a=i.next();t=a.value,e=a.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}})))}))),a}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(a.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("3N8a"),a=new(n("IjjT").a)(i.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},Dh3D:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return x}));var i=n("fXoL"),a=n("8LU1"),r=n("FKr1"),o=n("XNiG"),s=n("VRyK"),c=n("R0Ic"),l=n("ofXK"),u=n("u47x"),d=["mat-sort-header",""];function f(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",3),i.hc("@arrowPosition.start",(function(){return i.Hc(n),i.lc()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return i.Hc(n),i.lc()._disableViewStateAnimation=!1})),i.Ub(1,"div",4),i.Zb(2,"div",5),i.Ub(3,"div",6),i.Ub(4,"div",7),i.Ub(5,"div",8),i.Yb(),i.Yb()}if(2&t){var a=i.lc();i.sc("@arrowOpacity",a._getArrowViewState())("@arrowPosition",a._getArrowViewState())("@allowChildren",a._getArrowDirectionState()),i.Eb(2),i.sc("@indicator",a._getArrowDirectionState()),i.Eb(1),i.sc("@leftPointer",a._getArrowDirectionState()),i.Eb(1),i.sc("@rightPointer",a._getArrowDirectionState())}}var h=["*"],p=Object(r.D)(Object(r.B)((function t(){_classCallCheck(this,t)}))),m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).sortables=new Map,t._stateChanges=new o.a,t.start="asc",t._direction="",t.sortChange=new i.o,t}return _createClass(n,[{key:"register",value:function(t){if(!t.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(t.id))throw Error("Cannot have two MatSortables with the same id (".concat(t.id,")."));this.sortables.set(t.id,t)}},{key:"deregister",value:function(t){this.sortables.delete(t.id)}},{key:"sort",value:function(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}},{key:"getNextSortDirection",value:function(t){if(!t)return"";var e,n,i,a=(e=t.start||this.start,n=null!=t.disableClear?t.disableClear:this.disableClear,i=["asc","desc"],"desc"==e&&i.reverse(),n||i.push(""),i),r=a.indexOf(this.direction)+1;return r>=a.length&&(r=0),a[r]}},{key:"ngOnInit",value:function(){this._markInitialized()}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"direction",get:function(){return this._direction},set:function(t){if(Object(i.Y)()&&t&&"asc"!==t&&"desc"!==t)throw function(t){return Error(t+" is not a valid sort direction ('asc' or 'desc').")}(t);this._direction=t}},{key:"disableClear",get:function(){return this._disableClear},set:function(t){this._disableClear=Object(a.c)(t)}}]),n}(p);return t.\u0275fac=function(e){return g(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[i.Bb,i.Cb]}),t}(),g=i.bc(m),b=r.b.ENTERING+" "+r.a.STANDARD_CURVE,v={indicator:Object(c.n)("indicator",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"translateY(0px)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"translateY(10px)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(b))]),leftPointer:Object(c.n)("leftPointer",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"rotate(-45deg)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"rotate(45deg)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(b))]),rightPointer:Object(c.n)("rightPointer",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"rotate(45deg)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"rotate(-45deg)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(b))]),arrowOpacity:Object(c.n)("arrowOpacity",[Object(c.k)("desc-to-active, asc-to-active, active",Object(c.l)({opacity:1})),Object(c.k)("desc-to-hint, asc-to-hint, hint",Object(c.l)({opacity:.54})),Object(c.k)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Object(c.l)({opacity:0})),Object(c.m)("* => asc, * => desc, * => active, * => hint, * => void",Object(c.e)("0ms")),Object(c.m)("* <=> *",Object(c.e)(b))]),arrowPosition:Object(c.n)("arrowPosition",[Object(c.m)("* => desc-to-hint, * => desc-to-active",Object(c.e)(b,Object(c.h)([Object(c.l)({transform:"translateY(-25%)"}),Object(c.l)({transform:"translateY(0)"})]))),Object(c.m)("* => hint-to-desc, * => active-to-desc",Object(c.e)(b,Object(c.h)([Object(c.l)({transform:"translateY(0)"}),Object(c.l)({transform:"translateY(25%)"})]))),Object(c.m)("* => asc-to-hint, * => asc-to-active",Object(c.e)(b,Object(c.h)([Object(c.l)({transform:"translateY(25%)"}),Object(c.l)({transform:"translateY(0)"})]))),Object(c.m)("* => hint-to-asc, * => active-to-asc",Object(c.e)(b,Object(c.h)([Object(c.l)({transform:"translateY(0)"}),Object(c.l)({transform:"translateY(-25%)"})]))),Object(c.k)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Object(c.l)({transform:"translateY(0)"})),Object(c.k)("hint-to-desc, active-to-desc, desc",Object(c.l)({transform:"translateY(-25%)"})),Object(c.k)("hint-to-asc, active-to-asc, asc",Object(c.l)({transform:"translateY(25%)"}))]),allowChildren:Object(c.n)("allowChildren",[Object(c.m)("* <=> *",[Object(c.i)("@*",Object(c.f)(),{optional:!0})])])},y=function(){var t=function t(){_classCallCheck(this,t),this.changes=new o.a,this.sortButtonLabel=function(t){return"Change sorting for "+t}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),_={provide:y,deps:[[new i.C,new i.M,y]],useFactory:function(t){return t||new y}},k=Object(r.B)((function t(){_classCallCheck(this,t)})),C=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,c){var l;if(_classCallCheck(this,n),(l=e.call(this))._intl=t,l._sort=a,l._columnDef=r,l._focusMonitor=o,l._elementRef=c,l._showIndicatorHint=!1,l._arrowDirection="",l._disableViewStateAnimation=!1,l.arrowPosition="after",!a)throw Error("MatSortHeader must be placed within a parent element with the MatSort directive.");return l._rerenderSubscription=Object(s.a)(a.sortChange,a._stateChanges,t.changes).subscribe((function(){l._isSorted()&&l._updateArrowDirection(),!l._isSorted()&&l._viewState&&"active"===l._viewState.toState&&(l._disableViewStateAnimation=!1,l._setAnimationTransitionState({fromState:"active",toState:l._arrowDirection})),i.markForCheck()})),o&&c&&o.monitor(c,!0).subscribe((function(t){return l._setIndicatorHintVisible(!!t)})),_possibleConstructorReturn(l)}return _createClass(n,[{key:"ngOnInit",value:function(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._elementRef&&this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}},{key:"_setIndicatorHintVisible",value:function(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}},{key:"_setAnimationTransitionState",value:function(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}},{key:"_handleClick",value:function(){if(!this._isDisabled()){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);var t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}}},{key:"_isSorted",value:function(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}},{key:"_getArrowDirectionState",value:function(){return"".concat(this._isSorted()?"active-":"").concat(this._arrowDirection)}},{key:"_getArrowViewState",value:function(){var t=this._viewState.fromState;return(t?t+"-to-":"")+this._viewState.toState}},{key:"_updateArrowDirection",value:function(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}},{key:"_isDisabled",value:function(){return this._sort.disabled||this.disabled}},{key:"_getAriaSortAttribute",value:function(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":null}},{key:"_renderArrow",value:function(){return!this._isDisabled()||this._isSorted()}},{key:"disableClear",get:function(){return this._disableClear},set:function(t){this._disableClear=Object(a.c)(t)}}]),n}(k);return t.\u0275fac=function(e){return new(e||t)(i.Tb(y),i.Tb(i.h),i.Tb(m,8),i.Tb("MAT_SORT_HEADER_COLUMN_DEF",8),i.Tb(u.h),i.Tb(i.l))},t.\u0275cmp=i.Nb({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&i.hc("click",(function(){return e._handleClick()}))("mouseenter",(function(){return e._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return e._setIndicatorHintVisible(!1)})),2&t&&(i.Fb("aria-sort",e._getAriaSortAttribute()),i.Jb("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[i.Bb],attrs:d,ngContentSelectors:h,decls:4,vars:7,consts:[[1,"mat-sort-header-container"],["type","button",1,"mat-sort-header-button","mat-focus-indicator"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(i.rc(),i.Zb(0,"div",0),i.Zb(1,"button",1),i.qc(2),i.Yb(),i.Qc(3,f,6,6,"div",2),i.Yb()),2&t&&(i.Jb("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),i.Eb(1),i.Fb("disabled",e._isDisabled()||null)("aria-label",e._intl.sortButtonLabel(e.id)),i.Eb(2),i.sc("ngIf",e._renderArrow()))},directives:[l.t],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor;position:relative}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-button,[mat-sort-header].cdk-program-focused .mat-sort-header-button{border-bottom:solid 1px currentColor}.mat-sort-header-button::-moz-focus-inner{border:0}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[v.indicator,v.leftPointer,v.rightPointer,v.arrowOpacity,v.arrowPosition,v.allowChildren]},changeDetection:0}),t}(),x=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[_],imports:[[l.c]]}),t}()},EBtg:function(t,e,n){"use strict";var i=n("2KeD"),a=n("n73p"),r=n("2qMH"),o=n("LJ/p"),s=n("HZF8"),c=n("90cg"),l=n("yRPT"),u=n("0alx");e.scheduled=function(t,e){if(null!=t){if(s.isInteropObservable(t))return i.scheduleObservable(t,e);if(c.isPromise(t))return a.schedulePromise(t,e);if(l.isArrayLike(t))return r.scheduleArray(t,e);if(u.isIterable(t)||"string"==typeof t)return o.scheduleIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=n("HDdC"),a=new i.a((function(t){return t.complete()}));function r(t){return t?function(t){return new i.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):a}},F8Z3:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n("mLrj"),a=n("fXoL"),r=n("sYmb"),o=n("tk/3"),s=n("tyNb"),c=n("0IaG"),l=n("uqn4"),u=n("A6w4"),d=n("4zkx"),f=n("rH+9"),h=n("eiH7"),p=n("ofXK"),m=n("STbY"),g=n("MutI"),b=n("f0Cb"),v=n("kmnG"),y=n("qFsG"),_=n("bTqV"),k=n("NFeN"),C=n("Qu3c"),x=n("FKr1"),w=n("1YbM"),O=["searchInput"];function S(t,e){1&t&&(a.Zb(0,"button",34),a.Ub(1,"mat-icon",35),a.Yb())}function E(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-form-field",30),a.Zb(1,"input",31,32),a.hc("blur",(function(){a.Hc(n);var t=a.lc(2);return t.hideSearch=!t.hideSearch})),a.mc(3,"translate"),a.mc(4,"translate"),a.Yb(),a.Qc(5,S,2,0,"button",33),a.Yb()}if(2&t){var i=a.lc(2);a.Eb(1),a.tc("title",a.nc(3,3,"lang.searchMails")),a.tc("placeholder",a.nc(4,5,"lang.searchMails")),a.Eb(4),a.sc("ngIf",!i.appService.getViewMode())}}function M(t,e){if(1&t&&(a.Zb(0,"form",23),a.Ub(1,"input",24),a.Ub(2,"input",25),a.Ub(3,"input",26),a.Qc(4,E,6,7,"mat-form-field",27),a.Ub(5,"input",28,29),a.Yb()),2&t){var n=a.lc();a.Eb(4),a.sc("ngIf",n.privilegeService.hasCurrentUserPrivilege("adv_search_mlb"))}}function I(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",36),a.hc("click",(function(){return a.Hc(n),a.lc().showSearchInput()})),a.mc(1,"translate"),a.mc(2,"translate"),a.Ub(3,"mat-icon",35),a.Yb()}2&t&&a.vc("title","",a.nc(1,2,"lang.quickSearchInfo")," : ",a.nc(2,4,"lang.quickSearchTarget"),"")}function P(t,e){if(1&t&&(a.Zb(0,"button",37),a.mc(1,"translate"),a.Ub(2,"mat-icon",38),a.Yb()),2&t){a.lc();var n=a.Dc(5);a.tc("matTooltip",a.nc(1,2,"lang.menu")),a.sc("matMenuTriggerFor",n)}}function T(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"button",39),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc().gotToMenu(t)})),a.mc(2,"translate"),a.Ub(3,"i"),a.Ub(4,"br"),a.Sc(5),a.mc(6,"translate"),a.Yb(),a.Wb()}if(2&t){var i=e.$implicit;a.Eb(1),a.tc("matTooltip",a.nc(2,5,i.comment)),a.Eb(2),a.Hb("",i.style," fa-2x"),a.Eb(2),a.Uc("",a.nc(6,7,i.label)," ")}}function A(t,e){1&t&&(a.Zb(0,"div",40),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.noAvailableMenu")," "))}function D(t,e){if(1&t&&(a.Zb(0,"button",41),a.Ub(1,"mat-icon",42),a.Zb(2,"span"),a.Sc(3),a.mc(4,"titlecase"),a.Yb(),a.Sc(5,"\xa0"),a.Zb(6,"b"),a.Sc(7),a.mc(8,"uppercase"),a.Yb(),a.Yb()),2&t){var n=a.lc(),i=a.Dc(12);a.sc("matMenuTriggerFor",i),a.Eb(3),a.Tc(a.nc(4,3,n.headerService.user.firstname)),a.Eb(4),a.Tc(a.nc(8,5,n.headerService.user.lastname))}}function R(t,e){if(1&t&&(a.Zb(0,"button",43),a.Ub(1,"mat-icon",44),a.Yb()),2&t){a.lc();var n=a.Dc(12);a.sc("matMenuTriggerFor",n)}}function L(t,e){if(1&t&&(a.Zb(0,"mat-list-item"),a.Zb(1,"p",45),a.Sc(2),a.Yb(),a.Yb()),2&t){var n=e.$implicit;a.Eb(2),a.Uc(" ",n.group_desc," ")}}function F(t,e){if(1&t&&(a.Zb(0,"mat-list-item"),a.Zb(1,"p",45),a.Sc(2),a.Yb(),a.Yb()),2&t){var n=e.$implicit;a.Eb(2),a.Uc(" ",n.entity_label," ")}}var j=function(){var t=function(){function t(e,n,i,a,r,o,s,c,l){_classCallCheck(this,t),this.translate=e,this.http=n,this.router=i,this.dialog=a,this.authService=r,this.appService=o,this.headerService=s,this.functions=c,this.privilegeService=l,this.config={},this.menus=[],this.hideSearch=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.menus=this.privilegeService.getCurrentUserMenus()}},{key:"gotToMenu",value:function(t){"indexing"===t.id&&t.groups.length>1?(this.config={panelClass:"maarch-modal",data:{indexingGroups:t.groups,link:t.route}},this.dialogRef=this.dialog.open(i.a,this.config)):!0===t.angular?this.router.navigate([t.route]):location.href=t.route}},{key:"showSearchInput",value:function(){var t=this;this.hideSearch=!this.hideSearch,setTimeout((function(){t.searchInput.focus()}),200)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(o.b),a.Tb(s.c),a.Tb(c.b),a.Tb(l.a),a.Tb(u.a),a.Tb(d.a),a.Tb(f.a),a.Tb(h.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["header-right"]],viewQuery:function(t,e){var n;1&t&&a.ad(O,!0),2&t&&a.Cc(n=a.ic())&&(e.searchInput=n.first)},decls:42,vars:35,consts:[[1,"bg-head-title-tool"],["ngNoForm","","style","height: 40px;","name","choose_query","id","choose_query","method","post","action","index.php?display=true&dir=indexing_searching&page=search_adv_result",4,"ngIf"],["mat-icon-button","","style","opacity:0.5;",3,"title","click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip",4,"ngIf"],[1,"headerMaarchShortcut"],["applications","matMenu"],[4,"ngFor","ngForOf"],["class","noAvailableMenu",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[1,"headerMaarch"],["menu","matMenu"],["width","250","height","70",1,"header-bg",2,"margin-top","-8px","background-size","cover","border-bottom","solid 1px white"],["routerLink","/profile",2,"cursor","pointer","z-index","1","color","white","position","absolute","left","85px","top","17px","width","70px","height","70px","background-size","cover","background-position","top center","border-radius","50%","border","solid white","background-color","white",3,"title"],[1,"content",2,"padding-top","20px","color","white","max-height","250px","overflow-y","auto","overflow-x","hidden"],["routerLink","/profile",1,"text-center",2,"cursor","pointer"],["mat-subheader","",2,"color","white"],[2,"display","flex","padding","5px"],[2,"text-align","left","flex","1"],["routerLink","/profile",2,"color","white","padding-left","10px"],["color","primary",1,"badge",2,"background","white"],[2,"text-align","right","flex","2"],[2,"cursor","pointer","color","white","padding-right","10px",3,"click"],["ngNoForm","","name","choose_query","id","choose_query","method","post","action","index.php?display=true&dir=indexing_searching&page=search_adv_result",2,"height","40px"],["type","hidden","name","meta[]","value","baskets_clause#baskets_clause#select_simple"],["type","hidden","name","meta[]","value","welcome#welcome#welcome"],["type","hidden","name","baskets_clause","value","true"],["floatLabel","never","style","width:100%;margin-top: -3px;margin-left:-13px;font-size: 12px;",4,"ngIf"],["type","submit","name","submit","value","",2,"display","none"],["searchHome",""],["floatLabel","never",2,"width","100%","margin-top","-3px","margin-left","-13px","font-size","12px"],["matInput","","type","text","name","welcome",3,"title","placeholder","blur"],["searchInput","matInput"],["mat-icon-button","","matSuffix","","style","opacity:0.5;",4,"ngIf"],["mat-icon-button","","matSuffix","",2,"opacity","0.5"],[1,"fa","fa-search",2,"font-size","22px"],["mat-icon-button","",2,"opacity","0.5",3,"title","click"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip"],[1,"fa","fa-th",2,"font-size","22px"],["mat-button","","color","primary",1,"col-md-4","col-xs-6",2,"white-space","inherit","height","100px","line-height","20px",3,"matTooltip","click"],[1,"noAvailableMenu"],["mat-button","",3,"matMenuTriggerFor"],["mat-list-icon","",1,"fa","fa-user","fa-2x",2,"color","white","margin","0px 12px 8px 0px"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-list-icon","",1,"fa","fa-user","fa-2x",2,"color","white","height","auto"],["mat-line","",2,"color","white","opacity","0.5"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Qc(1,M,7,1,"form",1),a.Qc(2,I,4,6,"button",2),a.Qc(3,P,3,4,"button",3),a.Zb(4,"mat-menu",4,5),a.Qc(6,T,7,9,"ng-container",6),a.mc(7,"sortBy"),a.Qc(8,A,3,3,"div",7),a.Yb(),a.Qc(9,D,9,7,"button",8),a.Qc(10,R,2,1,"button",9),a.Zb(11,"mat-menu",10,11),a.Ub(13,"canvas",12),a.Ub(14,"i",13),a.mc(15,"translate"),a.Zb(16,"div",14),a.Zb(17,"p",15),a.Sc(18),a.mc(19,"uppercase"),a.Yb(),a.Zb(20,"mat-list"),a.Zb(21,"h3",16),a.Sc(22),a.mc(23,"translate"),a.Yb(),a.Ub(24,"mat-divider"),a.Qc(25,L,3,1,"mat-list-item",6),a.Zb(26,"h3",16),a.Sc(27),a.mc(28,"translate"),a.Yb(),a.Ub(29,"mat-divider"),a.Qc(30,F,3,1,"mat-list-item",6),a.Yb(),a.Yb(),a.Zb(31,"div",17),a.Zb(32,"div",18),a.Zb(33,"a",19),a.Zb(34,"span",20),a.Sc(35),a.mc(36,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Zb(37,"div",21),a.Zb(38,"a",22),a.hc("click",(function(){return e.authService.logout()})),a.Zb(39,"span",20),a.Sc(40),a.mc(41,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Eb(1),a.sc("ngIf",!e.hideSearch),a.Eb(1),a.sc("ngIf",e.hideSearch&&e.privilegeService.hasCurrentUserPrivilege("adv_search_mlb")),a.Eb(1),a.sc("ngIf",!e.appService.getViewMode()),a.Eb(3),a.sc("ngForOf",a.oc(7,20,e.menus,"label")),a.Eb(2),a.sc("ngIf",e.functions.empty(e.menus)),a.Eb(1),a.sc("ngIf",!e.appService.getViewMode()),a.Eb(1),a.sc("ngIf",e.appService.getViewMode()),a.Eb(3),a.Pc("background-image","url(../rest/images?image=loginPage)",a.Mb),a.Eb(1),a.Pc("background-image","url(../rest/images?image=onlyLogo)",a.Mb),a.tc("title",a.nc(15,23,"lang.myProfileAccess")),a.Eb(4),a.Vc("",e.headerService.user.firstname," ",a.nc(19,25,e.headerService.user.lastname),""),a.Eb(4),a.Tc(a.nc(23,27,"lang.groups")),a.Eb(3),a.sc("ngForOf",e.headerService.user.groups),a.Eb(2),a.Tc(a.nc(28,29,"lang.entities")),a.Eb(3),a.sc("ngForOf",e.headerService.user.entities),a.Eb(5),a.Tc(a.nc(36,31,"lang.myProfile")),a.Eb(5),a.Tc(a.nc(41,33,"lang.logout")))},directives:[p.t,m.e,p.s,s.d,g.a,g.g,b.a,s.f,v.c,y.b,_.b,v.j,k.a,m.d,C.b,g.c,g.d,x.k],pipes:[w.a,r.d,p.G,p.F],styles:[".bg-head-title-tool[_ngcontent-%COMP%]{display:flex}.bg-head-title-tool[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{font-style:italic}.bg-head-title-tool[_ngcontent-%COMP%]     .mat-form-field-label{color:#fff;font-size:12px;opacity:.5}.noAvailableMenu[_ngcontent-%COMP%]{text-align:center;font-size:14px;opacity:.5;font-style:italic;padding:22px}"]}),t}()},FKr1:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return D})),n.d(e,"d",(function(){return q})),n.d(e,"e",(function(){return R})),n.d(e,"f",(function(){return A})),n.d(e,"g",(function(){return Pt})),n.d(e,"h",(function(){return wt})),n.d(e,"i",(function(){return ht})),n.d(e,"j",(function(){return w})),n.d(e,"k",(function(){return X})),n.d(e,"l",(function(){return ot})),n.d(e,"m",(function(){return G})),n.d(e,"n",(function(){return _t})),n.d(e,"o",(function(){return Ot})),n.d(e,"p",(function(){return It})),n.d(e,"q",(function(){return xt})),n.d(e,"r",(function(){return gt})),n.d(e,"s",(function(){return bt})),n.d(e,"t",(function(){return pt})),n.d(e,"u",(function(){return mt})),n.d(e,"v",(function(){return H})),n.d(e,"w",(function(){return ft})),n.d(e,"x",(function(){return St})),n.d(e,"y",(function(){return Et})),n.d(e,"z",(function(){return S})),n.d(e,"A",(function(){return E})),n.d(e,"B",(function(){return O})),n.d(e,"C",(function(){return I})),n.d(e,"D",(function(){return P})),n.d(e,"E",(function(){return M})),n.d(e,"F",(function(){return $}));var i=n("fXoL"),a=n("u47x"),r=n("cH1L"),o=new i.Q("9.2.4"),s=n("ofXK"),c=n("8LU1"),l=n("XNiG"),u=n("HDdC"),d=n("nLfN"),f=(n("jhN1"),n("JX91")),h=n("R1ws"),p=n("FtGj"),m=["*",[["mat-option"],["ng-container"]]],g=["*","mat-option, ng-container"];function b(t,e){if(1&t&&i.Ub(0,"mat-pseudo-checkbox",3),2&t){var n=i.lc();i.sc("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}var v,y=["*"],_=function(){var t=function t(){_classCallCheck(this,t)};return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t}(),k=function(){var t=function t(){_classCallCheck(this,t)};return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t}(),C=new i.Q("9.2.4"),x=new i.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),w=((v=function(){function t(e,n,i){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(i.Y)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&C.full!==o.full&&console.warn("The Angular Material version ("+C.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=i.Rb({type:v}),v.\u0275inj=i.Qb({factory:function(t){return new(t||v)(i.dc(a.j),i.dc(x,8),i.dc(s.e,8))},imports:[[r.a],r.a]}),v);function O(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(c.c)(t)}}]),n}(t)}function S(t,e){return function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;_classCallCheck(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).color=e,t}return _createClass(i,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}]),i}(t)}function E(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Object(c.c)(t)}}]),n}(t)}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;_classCallCheck(this,i);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r)))._tabIndex=e,t}return _createClass(i,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e}}]),i}(t)}function I(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).errorState=!1,t.stateChanges=new l.a,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}function P(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a)))._isInitialized=!1,t._pendingSubscribers=[],t.initialized=new u.a((function(e){t._isInitialized?t._notifySubscriber(e):t._pendingSubscribers.push(e)})),t}return _createClass(n,[{key:"_markInitialized",value:function(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}},{key:"_notifySubscriber",value:function(t){t.next(),t.complete()}}]),n}(t)}var T,A=new i.r("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(i.X)(i.w)}}),D=function(){function t(){_classCallCheck(this,t),this._localeChanges=new l.a}return _createClass(t,[{key:"deserialize",value:function(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}},{key:"setLocale",value:function(t){this.locale=t,this._localeChanges.next()}},{key:"compareDate",value:function(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}},{key:"sameDate",value:function(t,e){if(t&&e){var n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}},{key:"clampDate",value:function(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}},{key:"localeChanges",get:function(){return this._localeChanges}}]),t}(),R=new i.r("mat-date-formats");try{T="undefined"!=typeof Intl}catch(Tt){T=!1}var L={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},F=Z(31,(function(t){return String(t+1)})),j={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Y=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Z(t,e){for(var n=Array(t),i=0;i<t;i++)n[i]=e(i);return n}var N,U,B,z,V,H=((U=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a,r;return _classCallCheck(this,n),(r=e.call(this)).useUtcForDisplay=!0,_get((a=_assertThisInitialized(r),_getPrototypeOf(n.prototype)),"setLocale",a).call(a,t),r.useUtcForDisplay=!i.TRIDENT,r._clampDate=i.TRIDENT||i.EDGE,r}return _createClass(n,[{key:"getYear",value:function(t){return t.getFullYear()}},{key:"getMonth",value:function(t){return t.getMonth()}},{key:"getDate",value:function(t){return t.getDate()}},{key:"getDayOfWeek",value:function(t){return t.getDay()}},{key:"getMonthNames",value:function(t){var e=this;if(T){var n=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Z(12,(function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,t,1)))}))}return L[t]}},{key:"getDateNames",value:function(){var t=this;if(T){var e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Z(31,(function(n){return t._stripDirectionalityCharacters(t._format(e,new Date(2017,0,n+1)))}))}return F}},{key:"getDayOfWeekNames",value:function(t){var e=this;if(T){var n=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Z(7,(function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,0,t+1)))}))}return j[t]}},{key:"getYearName",value:function(t){if(T){var e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}},{key:"clone",value:function(t){return new Date(t.getTime())}},{key:"createDate",value:function(t,e,n){if(e<0||e>11)throw Error('Invalid month index "'.concat(e,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var i=this._createDateWithOverflow(t,e,n);if(i.getMonth()!=e)throw Error('Invalid date "'.concat(n,'" for month with index "').concat(e,'".'));return i}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}},{key:"format",value:function(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(T){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}},{key:"addCalendarYears",value:function(t,e){return this.addCalendarMonths(t,12*e)}},{key:"addCalendarMonths",value:function(t,e){var n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}},{key:"toIso8601",value:function(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}},{key:"deserialize",value:function(t){if("string"==typeof t){if(!t)return null;if(Y.test(t)){var e=new Date(t);if(this.isValid(e))return e}}return _get(_getPrototypeOf(n.prototype),"deserialize",this).call(this,t)}},{key:"isDateInstance",value:function(t){return t instanceof Date}},{key:"isValid",value:function(t){return!isNaN(t.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(t,e,n){var i=new Date(t,e,n);return t>=0&&t<100&&i.setFullYear(this.getYear(i)-1900),i}},{key:"_2digit",value:function(t){return("00"+t).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(t){return t.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(t,e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}]),n}(D)).\u0275fac=function(t){return new(t||U)(i.dc(A,8),i.dc(d.a))},U.\u0275prov=i.Pb({token:U,factory:U.\u0275fac}),U),Q=((N=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:N}),N.\u0275inj=i.Qb({factory:function(t){return new(t||N)},providers:[{provide:D,useClass:H}],imports:[[d.b]]}),N),W={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},G=((V=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:V}),V.\u0275inj=i.Qb({factory:function(t){return new(t||V)},providers:[{provide:R,useValue:W}],imports:[[Q]]}),V),q=((z=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||z)},z.\u0275prov=Object(i.Pb)({factory:function(){return new z},token:z,providedIn:"root"}),z),X=((B=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||B)},B.\u0275dir=i.Ob({type:B,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),B);function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat";t.changes.pipe(Object(f.a)(t)).subscribe((function(t){var i=t.length;J(e,n+"-2-line",!1),J(e,n+"-3-line",!1),J(e,n+"-multi-line",!1),2===i||3===i?J(e,"".concat(n,"-").concat(i,"-line"),!0):i>3&&J(e,n+"-multi-line",!0)}))}function J(t,e,n){var i=t.nativeElement.classList;n?i.add(e):i.remove(e)}var K,tt,et,nt,it,at,rt,ot=((K=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:K}),K.\u0275inj=i.Qb({factory:function(t){return new(t||K)},imports:[[w],w]}),K),st=function(){function t(e,n,i){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),ct={enterDuration:450,exitDuration:400},lt=Object(d.f)({passive:!0}),ut=["mousedown","touchstart"],dt=["mouseup","mouseleave","touchend","touchcancel"],ft=function(){function t(e,n,i,a){_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Object(c.e)(i))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},ct),i.animation);i.centered&&(t=a.left+a.width/2,e=a.top+a.height/2);var o=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),a=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+a*a)}(t,e,a),s=t-a.left,c=e-a.top,l=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=l+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";var d=new st(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone((function(){var t=d===n._mostRecentTransientRipple;d.state=1,i.persistent||t&&n._isPointerDown||d.fadeOut()}),l),d}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},ct),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=Object(c.e)(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ut))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dt),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=Object(a.l)(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){t.forEach((function(t){e._triggerElement.addEventListener(t,e,lt)}))}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(ut.forEach((function(e){t._triggerElement.removeEventListener(e,t,lt)})),this._pointerUpEventsRegistered&&dt.forEach((function(e){t._triggerElement.removeEventListener(e,t,lt)})))}}]),t}(),ht=new i.r("mat-ripple-global-options"),pt=((it=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new ft(this,n,e,i)}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||it)(i.Tb(i.l),i.Tb(i.B),i.Tb(d.a),i.Tb(ht,8),i.Tb(h.a,8))},it.\u0275dir=i.Ob({type:it,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Jb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),it),mt=((nt=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:nt}),nt.\u0275inj=i.Qb({factory:function(t){return new(t||nt)},imports:[[w,d.b],w]}),nt),gt=((et=function t(e){_classCallCheck(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1}).\u0275fac=function(t){return new(t||et)(i.Tb(h.a,8))},et.\u0275cmp=i.Nb({type:et,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Jb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),et),bt=((tt=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:tt}),tt.\u0275inj=i.Qb({factory:function(t){return new(t||tt)}}),tt),vt=O((function t(){_classCallCheck(this,t)})),yt=0,_t=((at=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._labelId="mat-optgroup-label-"+yt++,t}return n}(vt)).\u0275fac=function(t){return kt(t||at)},at.\u0275cmp=i.Nb({type:at,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Fb("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),i.Jb("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[i.Bb],ngContentSelectors:g,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(i.rc(m),i.Zb(0,"label",0),i.Sc(1),i.qc(2),i.Yb(),i.qc(3,1)),2&t&&(i.sc("id",e._labelId),i.Eb(1),i.Uc("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),at),kt=i.bc(_t),Ct=0,xt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),this.source=e,this.isUserInput=n},wt=new i.r("MAT_OPTION_PARENT_COMPONENT"),Ot=((rt=function(){function t(e,n,a,r){_classCallCheck(this,t),this._element=e,this._changeDetectorRef=n,this._parent=a,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ct++,this.onSelectionChange=new i.o,this._stateChanges=new l.a}return _createClass(t,[{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){t.keyCode!==p.g&&t.keyCode!==p.q||Object(p.v)(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new xt(this,t))}},{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=Object(c.c)(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}}]),t}()).\u0275fac=function(t){return new(t||rt)(i.Tb(i.l),i.Tb(i.h),i.Tb(wt,8),i.Tb(_t,8))},rt.\u0275cmp=i.Nb({type:rt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.hc("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(i.cc("id",e.id),i.Fb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Jb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:y,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(i.rc(),i.Qc(0,b,1,2,"mat-pseudo-checkbox",0),i.Zb(1,"span",1),i.qc(2),i.Yb(),i.Ub(3,"div",2)),2&t&&(i.sc("ngIf",e.multiple),i.Eb(3),i.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[s.t,pt,gt],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),rt);function St(t,e,n){if(n.length){for(var i=e.toArray(),a=n.toArray(),r=0,o=0;o<t+1;o++)i[o].group&&i[o].group===a[r]&&r++;return r}return 0}function Et(t,e,n,i){var a=t*e;return a<n?a:a+e>n+i?Math.max(0,a-i+e):n}var Mt,It=((Mt=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:Mt}),Mt.\u0275inj=i.Qb({factory:function(t){return new(t||Mt)},imports:[[mt,s.c,bt]]}),Mt),Pt=new i.r("mat-label-global-options")},FWf1:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("pshJ"),o=n("GiSu"),s=n("zB/H"),c=n("p//D"),l=n("n3uD"),u=n("MkmW"),d=function(t){function e(n,i,a){var r=t.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=o.empty;break;case 1:if(!n){r.destination=o.empty;break}if("object"==typeof n){n instanceof e?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new f(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new f(r,n,i,a)}return r}return a(e,t),e.prototype[c.rxSubscriber]=function(){return this},e.create=function(t,n,i){var a=new e(t,n,i);return a.syncErrorThrowable=!1,a},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.Subscription);e.Subscriber=d;var f=function(t){function e(e,n,i,a){var s,c=t.call(this)||this;c._parentSubscriber=e;var l=c;return r.isFunction(n)?s=n:n&&(s=n.next,i=n.error,a=n.complete,n!==o.empty&&(l=Object.create(n),r.isFunction(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=i,c._complete=a,c}return a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;l.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};l.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return l.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(u.hostReportError(i),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(d);e.SafeSubscriber=f},FiyT:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.SubjectSubscription=function(t){function e(e,n){var i=t.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("zB/H").Subscription)},FtGj:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return v})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return p})),n.d(e,"p",(function(){return C})),n.d(e,"q",(function(){return s})),n.d(e,"r",(function(){return a})),n.d(e,"s",(function(){return h})),n.d(e,"t",(function(){return k})),n.d(e,"u",(function(){return b})),n.d(e,"v",(function(){return w}));var i=8,a=9,r=13,o=27,s=32,c=33,l=34,u=35,d=36,f=37,h=38,p=39,m=40,g=46,b=48,v=57,y=59,_=65,k=90,C=186,x=188;function w(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}},FvrZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return I})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return M})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return b}));var i=n("0EQZ"),a=n("7+OI"),r=n("XNiG"),o=n("2Vo4"),s=n("LRne"),c=n("IzEk"),l=n("pLZG"),u=n("1G5W"),d=n("fXoL"),f=n("8LU1"),h=n("u47x"),p=n("cH1L"),m=function(){function t(){_classCallCheck(this,t),this.expansionModel=new i.c(!0)}return _createClass(t,[{key:"toggle",value:function(t){this.expansionModel.toggle(t)}},{key:"expand",value:function(t){this.expansionModel.select(t)}},{key:"collapse",value:function(t){this.expansionModel.deselect(t)}},{key:"isExpanded",value:function(t){return this.expansionModel.isSelected(t)}},{key:"toggleDescendants",value:function(t){this.expansionModel.isSelected(t)?this.collapseDescendants(t):this.expandDescendants(t)}},{key:"collapseAll",value:function(){this.expansionModel.clear()}},{key:"expandDescendants",value:function(t){var e,n=[t];n.push.apply(n,_toConsumableArray(this.getDescendants(t))),(e=this.expansionModel).select.apply(e,n)}},{key:"collapseDescendants",value:function(t){var e,n=[t];n.push.apply(n,_toConsumableArray(this.getDescendants(t))),(e=this.expansionModel).deselect.apply(e,n)}}]),t}(),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this)).getLevel=t,a.isExpandable=i,a}return _createClass(n,[{key:"getDescendants",value:function(t){for(var e=[],n=this.dataNodes.indexOf(t)+1;n<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[n]);n++)e.push(this.dataNodes[n]);return e}},{key:"expandAll",value:function(){var t;(t=this.expansionModel).select.apply(t,_toConsumableArray(this.dataNodes))}}]),n}(m),b=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).getChildren=t,i}return _createClass(n,[{key:"expandAll",value:function(){var t,e=this;this.expansionModel.clear();var n=this.dataNodes.reduce((function(t,n){return[].concat(_toConsumableArray(t),_toConsumableArray(e.getDescendants(n)),[n])}),[]);(t=this.expansionModel).select.apply(t,_toConsumableArray(n))}},{key:"getDescendants",value:function(t){var e=[];return this._getDescendants(e,t),e.splice(1)}},{key:"_getDescendants",value:function(t,e){var n=this;t.push(e);var i=this.getChildren(e);Array.isArray(i)?i.forEach((function(e){return n._getDescendants(t,e)})):Object(a.a)(i)&&i.pipe(Object(c.a)(1),Object(l.a)(Boolean)).subscribe((function(e){var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;n._getDescendants(t,r)}}catch(o){a.e(o)}finally{a.f()}}))}}]),n}(m),v=new d.r("CDK_TREE_NODE_OUTLET_NODE"),y=function(){var t=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this._node=n};return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.R),d.Tb(v,8))},t.\u0275dir=d.Ob({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t}(),_=function t(e){_classCallCheck(this,t),this.$implicit=e},k=function(){var t=function t(e){_classCallCheck(this,t),this.template=e};return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.O))},t.\u0275dir=d.Ob({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t}();function C(){return Error("Could not find functions for nested/flat tree in tree control.")}var x=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._differs=e,this._changeDetectorRef=n,this._onDestroy=new r.a,this._levels=new Map,this.viewChange=new o.a({start:0,end:Number.MAX_VALUE})}return _createClass(t,[{key:"ngOnInit",value:function(){if(this._dataDiffer=this._differs.find([]).create(this.trackBy),!this.treeControl)throw Error("Could not find a tree control for the tree.")}},{key:"ngOnDestroy",value:function(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}},{key:"ngAfterContentChecked",value:function(){var t=this._nodeDefs.filter((function(t){return!t.when}));if(t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}},{key:"_switchDataSource",value:function(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}},{key:"_observeRenderChanges",value:function(){var t,e=this;if(Object(i.e)(this._dataSource)?t=this._dataSource.connect(this):Object(a.a)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=Object(s.a)(this._dataSource)),!t)throw Error("A valid data source must be provided.");this._dataSubscription=t.pipe(Object(u.a)(this._onDestroy)).subscribe((function(t){return e.renderNodeChanges(t)}))}},{key:"renderNodeChanges",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._dataDiffer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._nodeOutlet.viewContainer,a=arguments.length>3?arguments[3]:void 0,r=n.diff(t);r&&(r.forEachOperation((function(n,r,o){if(null==n.previousIndex)e.insertNode(t[o],o,i,a);else if(null==o)i.remove(r),e._levels.delete(n.item);else{var s=i.get(r);i.move(s,o)}})),this._changeDetectorRef.detectChanges())}},{key:"_getNodeDef",value:function(t,e){if(1===this._nodeDefs.length)return this._nodeDefs.first;var n=this._nodeDefs.find((function(n){return n.when&&n.when(e,t)}))||this._defaultNodeDef;if(!n)throw Error("Could not find a matching node definition for the provided node data.");return n}},{key:"insertNode",value:function(t,e,n,i){var a=this._getNodeDef(t,e),r=new _(t);r.level=this.treeControl.getLevel?this.treeControl.getLevel(t):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(t,r.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,r,e),w.mostRecentTreeNode&&(w.mostRecentTreeNode.data=t)}},{key:"dataSource",get:function(){return this._dataSource},set:function(t){this._dataSource!==t&&this._switchDataSource(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.u),d.Tb(d.h))},t.\u0275cmp=d.Nb({type:t,selectors:[["cdk-tree"]],contentQueries:function(t,e,n){var i;1&t&&d.Lb(n,k,!0),2&t&&d.Cc(i=d.ic())&&(e._nodeDefs=i)},viewQuery:function(t,e){var n;1&t&&d.Oc(y,!0),2&t&&d.Cc(n=d.ic())&&(e._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,e){1&t&&d.Vb(0,0)},directives:[y],encapsulation:2}),t}(),w=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._elementRef=e,this._tree=n,this._destroyed=new r.a,this._dataChanges=new r.a,this.role="treeitem",t.mostRecentTreeNode=this}return _createClass(t,[{key:"ngOnDestroy",value:function(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"focus",value:function(){this._elementRef.nativeElement.focus()}},{key:"_setRoleFromData",value:function(){var t=this;if(this._tree.treeControl.isExpandable)this.role=this._tree.treeControl.isExpandable(this._data)?"group":"treeitem";else{if(!this._tree.treeControl.getChildren)throw C();var e=this._tree.treeControl.getChildren(this._data);Array.isArray(e)?this._setRoleFromChildren(e):Object(a.a)(e)&&e.pipe(Object(u.a)(this._destroyed)).subscribe((function(e){return t._setRoleFromChildren(e)}))}}},{key:"_setRoleFromChildren",value:function(t){this.role=t&&t.length?"group":"treeitem"}},{key:"data",get:function(){return this._data},set:function(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}},{key:"isExpanded",get:function(){return this._tree.treeControl.isExpanded(this._data)}},{key:"level",get:function(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.l),d.Tb(x))},t.\u0275dir=d.Ob({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(t,e){2&t&&d.Fb("aria-expanded",e.isExpanded)("aria-level","treeitem"===e.role?e.level:null)("role",e.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t.mostRecentTreeNode=null,t}(),O=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i))._elementRef=t,r._tree=i,r._differs=a,r}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;if(this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),!this._tree.treeControl.getChildren)throw C();var e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Object(a.a)(e)&&e.pipe(Object(u.a)(this._destroyed)).subscribe((function(e){return t.updateChildrenNodes(e)})),this.nodeOutlet.changes.pipe(Object(u.a)(this._destroyed)).subscribe((function(){return t.updateChildrenNodes()}))}},{key:"ngOnDestroy",value:function(){this._clear(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"updateChildrenNodes",value:function(t){var e=this._getNodeOutlet();t&&(this._children=t),e&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,e.viewContainer,this._data):this._dataDiffer.diff([])}},{key:"_clear",value:function(){var t=this._getNodeOutlet();t&&(t.viewContainer.clear(),this._dataDiffer.diff([]))}},{key:"_getNodeOutlet",value:function(){var t=this,e=this.nodeOutlet;return e&&e.find((function(e){return!e._node||e._node===t}))}}]),n}(w);return t.\u0275fac=function(e){return new(e||t)(d.Tb(d.l),d.Tb(x),d.Tb(d.u))},t.\u0275dir=d.Ob({type:t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(t,e,n){var i;1&t&&d.Lb(n,y,!0),2&t&&d.Cc(i=d.ic())&&(e.nodeOutlet=i)},hostAttrs:[1,"cdk-tree-node","cdk-nested-tree-node"],hostVars:2,hostBindings:function(t,e){2&t&&d.Fb("aria-expanded",e.isExpanded)("role",e.role)},exportAs:["cdkNestedTreeNode"],features:[d.Db([{provide:w,useExisting:t},{provide:v,useExisting:t}]),d.Bb]}),t}(),S=/([A-Za-z%]+)$/,E=function(){var t=function(){function t(e,n,i,a,o){var s=this;_classCallCheck(this,t),this._treeNode=e,this._tree=n,this._element=a,this._dir=o,this._destroyed=new r.a,this.indentUnits="px",this._indent=40,this._setPadding(),o&&o.change.pipe(Object(u.a)(this._destroyed)).subscribe((function(){return s._setPadding(!0)})),e._dataChanges.subscribe((function(){return s._setPadding()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_paddingIndent",value:function(){var t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,e=null==this._level?t:this._level;return"number"==typeof e?"".concat(e*this._indent).concat(this.indentUnits):null}},{key:"_setPadding",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._paddingIndent();if(e!==this._currentPadding||t){var n=this._element.nativeElement,i=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",a="paddingLeft"===i?"paddingRight":"paddingLeft";n.style[i]=e||"",n.style[a]="",this._currentPadding=e}}},{key:"level",get:function(){return this._level},set:function(t){this._level=Object(f.f)(t,null),this._setPadding()}},{key:"indent",get:function(){return this._indent},set:function(t){var e=t,n="px";if("string"==typeof t){var i=t.split(S);e=i[0],n=i[1]||n}this.indentUnits=n,this._indent=Object(f.f)(e),this._setPadding()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Tb(w),d.Tb(x),d.Tb(d.H),d.Tb(d.l),d.Tb(p.c,8))},t.\u0275dir=d.Ob({type:t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),t}(),M=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._tree=e,this._treeNode=n,this._recursive=!1}return _createClass(t,[{key:"_toggle",value:function(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}},{key:"recursive",get:function(){return this._recursive},set:function(t){this._recursive=Object(f.c)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Tb(x),d.Tb(w))},t.\u0275dir=d.Ob({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,e){1&t&&d.hc("click",(function(t){return e._toggle(t)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t}(),I=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=d.Rb({type:t}),t.\u0275inj=d.Qb({factory:function(e){return new(e||t)},providers:[h.h,k]}),t}()},GMZp:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},GU7r:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d}));var i=n("8LU1"),a=n("fXoL"),r=n("HDdC"),o=n("XNiG"),s=n("Kj3r"),c=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(a.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),l=function(){var t=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=Object(i.e)(t);return new r.a((function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new o.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(c))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(c))},token:t,providedIn:"root"}),t}(),u=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new a.o,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(Object(s.a)(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(i.c)(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Object(i.f)(t),this._subscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(l),a.Tb(a.l),a.Tb(a.B))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t}(),d=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[c]}),t}()},GUHb:function(t,e,n){"use strict";n.d(e,"a",(function(){return pt}));var i=n("mrSG"),a=n("fXoL"),r=n("tk/3"),o=n("vkgz"),s=n("JIr8"),c=n("lJxs"),l=n("pLZG"),u=n("IzEk"),d=n("XqQ8"),f=n("nYR2"),h=n("2c88"),p=n("SIQe"),m=n("1YbM"),g=n("3Pt+"),b=n("mCt4"),v=n("/de/"),y=n("I65S"),_=n("sYmb"),k=n("AXEc"),C=n("4zkx"),x=n("A6w4"),w=n("0IaG"),O=n("rH+9"),S=n("eiH7"),E=n("ofXK"),M=n("bTqV"),I=n("w9N8"),P=n("Xa2L"),T=n("fBaO"),A=n("Qu3c"),D=n("NFeN"),R=n("STbY"),L=n("TU8p"),F=n("IkSl"),j=n("+AL4"),Y=n("IOqN"),Z=["templateList"],N=["onlyofficeViewer"],U=["collaboraOnlineViewer"];function B(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"div",3),a.Ub(2,"i",4),a.Zb(3,"div"),a.Sc(4),a.mc(5,"translate"),a.Yb(),a.Zb(6,"div"),a.Zb(7,"button",5),a.hc("click",(function(){return a.Hc(n),a.lc().cancelTemplateEdition()})),a.Sc(8),a.mc(9,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Wb()}2&t&&(a.Eb(4),a.Uc(" ",a.nc(5,2,"lang.editInProgress")," "),a.Eb(4),a.Tc(a.nc(9,4,"lang.cancel")))}function z(t,e){1&t&&(a.Xb(0),a.Zb(1,"div",8),a.Ub(2,"i",9),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Wb()),2&t&&(a.Eb(3),a.Uc(" ",a.nc(4,1,"lang.noFile")," "))}function V(t,e){if(1&t&&(a.Zb(0,"div",18),a.Ub(1,"mat-progress-spinner",19),a.Zb(2,"div",20),a.Sc(3),a.Yb(),a.Zb(4,"div",21),a.Sc(5),a.Yb(),a.Yb()),2&t){var n=a.lc(3);a.Eb(1),a.sc("mode",n.loadingInfo.mode)("value",n.loadingInfo.percent),a.Eb(2),a.Uc("",n.loadingInfo.percent," %"),a.Eb(2),a.Tc(n.loadingInfo.message)}}function H(t,e){if(1&t){var n=a.ac();a.Zb(0,"plugin-select-search",28,29),a.hc("afterSelected",(function(t){return a.Hc(n),a.lc(4).editTemplate(t)})),a.Yb()}if(2&t){var i=a.lc(4);a.Gb("input-form-filled"),a.sc("label",i.translate.instant("lang.chooseModel"))("placeholderLabel",i.translate.instant("lang.chooseModel"))("datas",i.listTemplates)("formControlSelect",i.templateListForm)}}function Q(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",22),a.hc("onFileDropped",(function(t){return a.Hc(n),a.lc(3).dndUploadFile(t)})),a.Ub(1,"i",23),a.Ub(2,"br"),a.Sc(3),a.mc(4,"translate"),a.Ub(5,"br"),a.Sc(6),a.mc(7,"translate"),a.Zb(8,"div",24),a.Zb(9,"div",25),a.Qc(10,H,2,6,"plugin-select-search",26),a.Yb(),a.Zb(11,"button",27),a.hc("click",(function(){return a.Hc(n),a.lc(),a.Dc(3).click()})),a.Sc(12),a.mc(13,"translate"),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=a.lc(3);a.sc("disabled",!i.editMode),a.Eb(3),a.Uc(" ",a.nc(4,5,"lang.dragAndDrop"),""),a.Eb(3),a.Uc("",a.nc(7,7,"lang.or")," "),a.Eb(4),a.sc("ngIf",i.listTemplates.length>0),a.Eb(2),a.Tc(a.nc(13,9,"lang.chooseFile"))}}function W(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",38),a.hc("click",(function(){return a.Hc(n),a.lc(4).editResource()})),a.Ub(1,"mat-icon",39),a.Yb()}if(2&t){var i=a.lc(4);a.Jb("disabledButton",!i.functions.empty(i.file.subinfos)&&i.file.subinfos.signedDocVersions),a.sc("disabled",!i.functions.empty(i.file.subinfos)&&i.file.subinfos.signedDocVersions)("matTooltip",i.functions.empty(i.file.subinfos)||!i.functions.empty(i.file.subinfos)&&!i.file.subinfos.signedDocVersions?i.translate.instant("lang.editDocument"):i.translate.instant("lang.documentSignedMsg"))}}function G(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",40),a.hc("click",(function(){return a.Hc(n),a.lc(4).openPdfInTab()})),a.Ub(1,"mat-icon",41),a.Zb(2,"span"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(3),a.Tc(a.nc(4,1,"lang.openInExternalModal")))}function q(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",40),a.hc("click",(function(){return a.Hc(n),a.lc(4).openMaarchParapheurWorkflow()})),a.Ub(1,"mat-icon",42),a.Zb(2,"span"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(3),a.Tc(a.nc(4,1,"lang.externalVisaWorkflow")))}function X(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",40),a.hc("click",(function(){return a.Hc(n),a.lc(2),a.Dc(3).click()})),a.Ub(1,"mat-icon",43),a.Zb(2,"span"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(3),a.Tc(a.nc(4,1,"lang.uploadAnOtherFile")))}function $(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",40),a.hc("click",(function(){return a.Hc(n),a.lc(4).cleanFile()})),a.Ub(1,"mat-icon",44),a.Zb(2,"span"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(3),a.Tc(a.nc(4,1,"lang.removeFile")))}function J(t,e){if(1&t&&(a.Zb(0,"button",49),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t){a.lc();var n=a.Dc(3),i=a.lc(4);a.sc("matBadge",i.file.subinfos.mainDocVersions.length)("matMenuTriggerFor",n),a.Eb(1),a.Uc(" ",a.nc(2,3,"lang.versions")," ")}}function K(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",40),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc(5).openResourceVersion(t,"PDF")})),a.Zb(1,"span"),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit;a.Eb(2),a.Vc("",a.nc(3,2,"lang.version")," ",i,"")}}function tt(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",5),a.hc("click",(function(){a.Hc(n);var t=a.lc(5);return t.openResourceVersion(t.file.subinfos.mainDocVersions[t.file.subinfos.mainDocVersions.length-1],"SIGN")})),a.Sc(1),a.mc(2,"translate"),a.Yb()}2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.SIGN_version")," "))}function et(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",5),a.hc("click",(function(){a.Hc(n);var t=a.lc(5);return t.openResourceVersion(t.file.subinfos.mainDocVersions[t.file.subinfos.mainDocVersions.length-1],"NOTE")})),a.Sc(1),a.mc(2,"translate"),a.Yb()}2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.NOTE_version")," "))}function nt(t,e){if(1&t&&(a.Xb(0),a.Qc(1,J,3,5,"button",45),a.Zb(2,"mat-menu",null,46),a.Qc(4,K,4,4,"button",47),a.Yb(),a.Qc(5,tt,3,3,"button",48),a.Qc(6,et,3,3,"button",48),a.Wb()),2&t){var n=a.lc(4);a.Eb(1),a.sc("ngIf",n.file.subinfos.mainDocVersions.length>1&&!n.file.subinfos.signedDocVersions),a.Eb(3),a.sc("ngForOf",n.file.subinfos.mainDocVersions),a.Eb(1),a.sc("ngIf",n.file.subinfos.signedDocVersions),a.Eb(1),a.sc("ngIf",n.file.subinfos.commentedDocVersions>0)}}function it(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",30),a.Zb(1,"button",31),a.hc("click",(function(){return a.Hc(n),a.lc(3).downloadOriginalFile()})),a.Ub(2,"mat-icon",32),a.Yb(),a.Qc(3,W,2,4,"button",33),a.Zb(4,"button",34),a.Ub(5,"mat-icon",35),a.Yb(),a.Zb(6,"mat-menu",null,36),a.Qc(8,G,5,3,"button",37),a.Qc(9,q,5,3,"button",37),a.Qc(10,X,5,3,"button",37),a.Qc(11,$,5,3,"button",37),a.Yb(),a.Qc(12,nt,7,4,"ng-container",0),a.Yb()}if(2&t){var i=a.Dc(7),r=a.lc(3);a.Eb(1),a.sc("matTooltip",r.translate.instant("lang.downloadOriginalFile")),a.Eb(2),a.sc("ngIf",r.editMode&&null!==r.resId&&!r.noConvertedFound),a.Eb(1),a.sc("matMenuTriggerFor",i),a.Eb(2),a.Gb("optionsListMenu"),a.Eb(2),a.sc("ngIf",void 0!==r.file.contentView||null!==r.base64),a.Eb(1),a.sc("ngIf",(void 0!==r.file.contentView||null!==r.base64)&&null!=r.resId&&"attachment"!==r.mode&&r.externalId.signatureBookId),a.Eb(1),a.sc("ngIf",r.editMode&&null===r.resId),a.Eb(1),a.sc("ngIf",r.editMode&&null===r.resId),a.Eb(1),a.sc("ngIf","mainDocument"===r.mode&&!r.functions.empty(r.file.subinfos))}}function at(t,e){if(1&t){var n=a.ac();a.Zb(0,"pdf-viewer",50),a.hc("error",(function(t){return a.Hc(n),a.lc(3).onError(t)})),a.Yb()}if(2&t){var i=a.lc(3);a.sc("src",i.file.src)("render-text",!0)("autoresize",!0)("original-size",!1)("show-all",!0)}}function rt(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",51),a.hc("onFileDropped",(function(t){return a.Hc(n),a.lc(3).dndUploadFile(t)})),a.Zb(1,"div",52),a.Ub(2,"i",53),a.Sc(3,"\xa0"),a.Zb(4,"a",54),a.hc("click",(function(){return a.Hc(n),a.lc(3).downloadOriginalFile()})),a.Sc(5),a.Yb(),a.Sc(6,"\xa0"),a.Zb(7,"b"),a.Sc(8),a.mc(9,"translate"),a.Yb(),a.Yb(),a.Zb(10,"div",55),a.Ub(11,"i",56),a.Ub(12,"br"),a.Sc(13),a.mc(14,"translate"),a.Yb(),a.Yb()}if(2&t){var i=a.lc(3);a.sc("disabled",!i.editMode),a.Eb(5),a.Tc(i.file.name),a.Eb(3),a.Tc(a.nc(9,4,"lang.loaded")),a.Eb(5),a.Tc(a.nc(14,6,"lang.noAvailablePreview"))}}function ot(t,e){if(1&t){var n=a.ac();a.Qc(0,V,6,4,"div",10),a.Qc(1,Q,14,11,"div",11),a.Zb(2,"input",12,13),a.hc("change",(function(t){return a.Hc(n),a.lc(2).uploadTrigger(t)})),a.Yb(),a.Zb(4,"div",14),a.hc("onFileDropped",(function(t){return a.Hc(n),a.lc(2).dndUploadFile(t)})),a.Qc(5,it,13,10,"div",15),a.Zb(6,"div"),a.Qc(7,at,1,5,"pdf-viewer",16),a.Yb(),a.Yb(),a.Qc(8,rt,15,8,"div",17)}if(2&t){var i=a.lc(2);a.sc("ngIf",i.loading),a.Eb(1),a.sc("ngIf",null===i.file.content&&!i.loading),a.Eb(1),a.sc("ngModel",i.docToUploadValue),a.Eb(2),a.sc("disabled",!i.editMode),a.Eb(1),a.sc("ngIf",!i.loading&&null!==i.file.content&&!i.hideTools),a.Eb(2),a.sc("ngIf",null!==i.file.src),a.Eb(1),a.sc("ngIf",null!==i.file.content&&i.noConvertedFound)}}function st(t,e){if(1&t&&(a.Xb(0),a.Qc(1,z,5,3,"ng-container",6),a.Qc(2,ot,9,7,"ng-template",null,7,a.Rc),a.Wb()),2&t){var n=a.Dc(3),i=a.lc();a.Eb(1),a.sc("ngIf",i.noFile)("ngIfElse",n)}}function ct(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"onlyoffice-viewer",57,58),a.hc("triggerAfterUpdatedDoc",(function(){return a.Hc(n),a.lc().triggerEvent.emit()}))("triggerCloseEditor",(function(){return a.Hc(n),a.lc().closeEditor()}))("triggerModifiedDocument",(function(){return a.Hc(n),a.lc().isDocModified=!0})),a.Yb(),a.Wb()}if(2&t){var i=a.lc();a.Eb(1),a.sc("params",i.editor.options)("file",i.file)("editMode",!0)}}function lt(t,e){1&t&&(a.Zb(0,"div",18),a.Ub(1,"mat-spinner",60),a.Yb())}function ut(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"app-collabora-online-viewer",57,59),a.hc("triggerAfterUpdatedDoc",(function(){return a.Hc(n),a.lc().triggerEvent.emit()}))("triggerCloseEditor",(function(){return a.Hc(n),a.lc().closeEditor()}))("triggerModifiedDocument",(function(){return a.Hc(n),a.lc().isDocModified=!0})),a.Yb(),a.Qc(3,lt,2,0,"div",10),a.Wb()}if(2&t){var i=a.Dc(2),r=a.lc();a.Eb(1),a.sc("params",r.editor.options)("file",r.file)("editMode",!0),a.Eb(2),a.sc("ngIf",i.isSaving)}}function dt(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",61),a.hc("click",(function(){return a.Hc(n),a.lc().saveMainDocument()})),a.Ub(1,"mat-icon",62),a.Yb()}if(2&t){var i=a.lc();a.sc("title",i.translate.instant("lang.saveModifications"))}}function ft(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",61),a.hc("click",(function(){return a.Hc(n),a.lc().saveTmpDocument()})),a.Ub(1,"mat-icon",62),a.Yb()}if(2&t){var i=a.lc();a.sc("title",i.translate.instant("lang.saveModifications"))}}function ht(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",63),a.hc("click",(function(){return a.Hc(n),a.lc().unsignMainDocument()})),a.Sc(1),a.mc(2,"translate"),a.Yb()}if(2&t){var i=a.lc();a.sc("title",i.translate.instant("lang.unsign")),a.Eb(1),a.Uc(" ",a.nc(2,2,"lang.removeSignature"),"\n")}}var pt=function(){var t=function(){function t(e,n,i,r,o,s,c,l,u){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.headerService=r,this.appService=o,this.dialog=s,this.sortPipe=c,this.functions=l,this.privilegeService=u,this.base64=null,this.format=null,this.mode="mainDocument",this.resId=null,this.resIdMaster=null,this.editMode=!1,this.hideTools=!1,this.title="",this.attachType=null,this.triggerEvent=new a.o,this.loading=!0,this.noConvertedFound=!1,this.noFile=!1,this.file={name:"",type:"",contentMode:"base64",content:null,src:null},this.allowedExtensions=[],this.maxFileSize=0,this.maxFileSizeLabel="",this.percentInProgress=0,this.editInProgress=!1,this.listTemplates=[],this.externalId={},this.templateListForm=new g.h,this.loadingInfo={mode:"indeterminate",percent:0,message:""},this.editor={mode:"",async:!0,options:{docUrl:null,dataToMerge:null}},this.isDocModified=!1,window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.setEditor(),this.http.get("../rest/indexing/fileInformations").pipe(Object(o.a)((function(e){t.allowedExtensions=e.informations.allowedFiles.map((function(t){return{extension:"."+t.extension.toLowerCase(),mimeType:t.mimeType,canConvert:t.canConvert}})),t.allowedExtensions=t.sortPipe.transform(t.allowedExtensions,"extension"),t.maxFileSize=e.informations.maximumSize,t.maxFileSizeLabel=e.informations.maximumSizeLabel,null!==t.resId?(t.loadRessource(t.resId,t.mode),t.editMode&&(null!==t.attachType&&"attachment"===t.mode?t.loadTemplatesByResId(t.resIdMaster,t.attachType):t.loadTemplates())):(t.loadTemplates(),t.loading=!1)})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(y.of)(!1)}))).subscribe(),this.functions.empty(this.base64)?""!==this.tmpFilename&&void 0!==this.tmpFilename&&this.http.get("../rest/convertedFile/"+this.tmpFilename).pipe(Object(o.a)((function(e){t.file={name:t.tmpFilename,format:"pdf",type:"application/pdf",contentMode:"base64",content:t.getBase64Document(t.base64ToArrayBuffer(e.encodedResource)),src:t.base64ToArrayBuffer(e.encodedResource)},t.noConvertedFound=!1,t.loading=!1})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(y.of)(!1)}))).subscribe():this.loadFileFromBase64()}},{key:"ngOnDestroy",value:function(){this.intervalLockFile&&this.cancelTemplateEdition()}},{key:"loadFileFromBase64",value:function(){this.loading=!0,this.file={name:"maarch",format:"pdf",type:"application/pdf",contentMode:"base64",content:this.base64,src:this.base64ToArrayBuffer(this.base64)},this.loading=!1}},{key:"loadTmpFile",value:function(t){var e=this;return new Promise((function(n,i){e.loading=!0,e.loadingInfo.mode="determinate",e.requestWithLoader("../rest/convertedFile/".concat(t,"?convert=true")).subscribe((function(i){i.encodedResource&&(e.file={name:t,format:i.extension,type:i.type,contentMode:"base64",content:i.encodedResource,src:void 0!==i.encodedConvertedResource?e.base64ToArrayBuffer(i.encodedConvertedResource):null},e.editMode=!0,e.triggerEvent.emit(),void 0!==i.encodedConvertedResource?e.noConvertedFound=!1:(e.noConvertedFound=!0,e.notify.error(i.convertedResourceErrors)),e.loading=!1,n(!0))}),(function(t){return e.noConvertedFound=!0,e.notify.handleErrors(t),e.loading=!1,n(!0),Object(y.of)(!1)}))}))}},{key:"uploadTrigger",value:function(t){var e=this;if(t.target.files&&t.target.files[0]&&this.isExtensionAllowed(t.target.files[0])){this.initUpload();var n=new FileReader;this.file.name=t.target.files[0].name,this.file.type=t.target.files[0].type,this.file.format=this.file.name.split(".").pop(),n.readAsArrayBuffer(t.target.files[0]),n.onload=function(t){e.file.content=e.getBase64Document(t.target.result),e.triggerEvent.emit(),"application/pdf"!==e.file.type?e.convertDocument(e.file):(e.file.src=t.target.result,e.loading=!1)}}else this.loading=!1}},{key:"initUpload",value:function(){this.loading=!0,this.file={name:"",type:"",contentMode:"base64",content:null,src:null},this.noConvertedFound=!1,this.loadingInfo.message=this.translate.instant("lang.loadingFile")+"...",this.loadingInfo.mode="indeterminate"}},{key:"getBase64Document",value:function(t){var e=new Uint8Array(t).reduce((function(t,e){return t+String.fromCharCode(e)}),"");return btoa(e)}},{key:"base64ToArrayBuffer",value:function(t){for(var e=window.atob(t),n=e.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=e.charCodeAt(a);return i.buffer}},{key:"b64toBlob",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,i=atob(t),a=[],r=0;r<i.length;r+=n){for(var o=i.slice(r,r+n),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o.charCodeAt(c);var l=new Uint8Array(s);a.push(l)}return new Blob(a,{type:e})}},{key:"convertDocument",value:function(t){var e=this;this.canBeConverted(t)?this.upload({name:t.name,base64:t.content}).subscribe((function(t){t.encodedResource&&(e.file.base64src=t.encodedResource,e.file.src=e.base64ToArrayBuffer(t.encodedResource),e.loading=!1)}),(function(t){return e.noConvertedFound=!0,e.notify.handleErrors(t),e.loading=!1,Object(y.of)(!1)})):(this.noConvertedFound=!0,this.loading=!1)}},{key:"upload",value:function(t){var e=this;return this.http.post("../rest/convertedFile",t,{reportProgress:!0,observe:"events"}).pipe(Object(c.a)((function(t){switch(t.type){case r.e.DownloadProgress:var n=Math.round(100*t.loaded/t.total);return e.loadingInfo.percent=n,e.loadingInfo.mode="determinate",e.loadingInfo.message="3/3 ".concat(e.translate.instant("lang.downloadConvertedFile"),"..."),{status:"progress",message:n};case r.e.UploadProgress:var i=Math.round(100*t.loaded/t.total);return e.loadingInfo.percent=i,100===i?(e.loadingInfo.mode="indeterminate",e.loadingInfo.message="2/3 ".concat(e.translate.instant("lang.convertingFile"),"...")):(e.loadingInfo.mode="determinate",e.loadingInfo.message="1/3 ".concat(e.translate.instant("lang.loadingFile"),"...")),{status:"progress",message:i};case r.e.Response:return t.body;default:return"Unhandled event: "+t.type}})))}},{key:"requestWithLoader",value:function(t){var e=this;return this.loadingInfo.percent=0,this.http.get(t,{reportProgress:!0,observe:"events"}).pipe(Object(c.a)((function(t){switch(t.type){case r.e.DownloadProgress:var n=Math.round(100*t.loaded/t.total);return e.loadingInfo.percent=n,e.loadingInfo.mode="determinate",e.loadingInfo.message="",{status:"progressDownload",message:n};case r.e.Response:return t.body;default:return"Unhandled event: "+t.type}})))}},{key:"onError",value:function(t){console.log(t)}},{key:"cleanFile",value:function(){var t=this;this.dialogRef=this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(l.a)((function(t){return"ok"===t})),Object(o.a)((function(){t.templateListForm.reset(),t.file={name:"",type:"",content:null,src:null},t.docToUploadValue="",t.triggerEvent.emit("cleanFile")})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(y.of)(!1)}))).subscribe()}},{key:"saveDocService",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getFilePdf();case 2:e=t.sent,this.headerService.setLoadedFile(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getFile",value:function(){if("onlyoffice"===this.editor.mode&&void 0!==this.onlyofficeViewer)return this.onlyofficeViewer.getFile();if("collaboraOnline"===this.editor.mode&&void 0!==this.collaboraOnlineViewer)return this.collaboraOnlineViewer.getFile();var t=JSON.parse(JSON.stringify(this.file));return t.content="route"===t.contentMode?null:t.content,Object(y.of)(t)}},{key:"getFilePdf",value:function(){var t=this;return new Promise((function(e,n){t.functions.empty(t.file.src)?t.getFile().pipe(Object(u.a)(1),Object(o.a)((function(e){return"collaboraOnline"===t.editor.mode&&void 0!==t.collaboraOnlineViewer&&(t.collaboraOnlineViewer.isSaving=!1),e})),Object(d.a)((function(e){return t.http.post("../rest/convertedFile",{name:"".concat(e.name,".").concat(e.format),base64:""+e.content})})),Object(o.a)((function(t){e(t.encodedResource)}))).subscribe():e(t.getBase64Document(t.file.src))}))}},{key:"dndUploadFile",value:function(t){this.uploadTrigger({target:{files:[t[0]]}})}},{key:"canBeConverted",value:function(t){var e="."+t.name.toLowerCase().split(".").pop();return this.allowedExtensions.filter((function(n){return!0===n.canConvert&&n.mimeType===t.type&&n.extension===e})).length>0}},{key:"isExtensionAllowed",value:function(t){var e="."+t.name.toLowerCase().split(".").pop();return 0===this.allowedExtensions.filter((function(n){return n.mimeType===t.type&&n.extension===e})).length?(this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.notAllowedExtension")+" !",msg:this.translate.instant("lang.file")+" : <b>"+t.name+"</b>, "+this.translate.instant("lang.type")+" : <b>"+t.type+"</b><br/><br/><u>"+this.translate.instant("lang.allowedExtensions")+"</u> : <br/>"+this.allowedExtensions.map((function(t){return t.extension})).filter((function(t,e,n){return e===n.indexOf(t)})).join(", ")}}),!1):!(t.size>this.maxFileSize&&this.maxFileSize>0&&(this.dialog.open(p.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.maxFileSizeReached")+" ! ",msg:this.translate.instant("lang.maxFileSize")+" : "+this.maxFileSizeLabel}}),1))}},{key:"downloadOriginalFile",value:function(){var t=this,e=document.createElement("a");"base64"===this.file.contentMode?(e.href="data:".concat(this.file.type,";base64,").concat(this.file.content),e.setAttribute("download",this.file.name),document.body.appendChild(e),e.click()):this.http.get(this.file.content).pipe(Object(o.a)((function(n){e.href="data:".concat(n.mimeType,";base64,").concat(n.encodedDocument),e.setAttribute("download",t.file.name),document.body.appendChild(e),e.click()})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(y.of)(!1)}))).subscribe()}},{key:"openPdfInTab",value:function(){var t=this,e="";if("base64"===this.file.contentMode){e="data:".concat(this.file.type,";base64,").concat(this.file.content);var n=window.open();n.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(e,'" frameborder="0" allowfullscreen></iframe>')),n.document.title=this.title}else this.http.get(this.file.contentView).pipe(Object(o.a)((function(n){e="data:".concat(n.mimeType,";base64,").concat(n.encodedDocument);var i=window.open();i.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(e,'" frameborder="0" allowfullscreen></iframe>')),i.document.title=t.title})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(y.of)(!1)}))).subscribe()}},{key:"loadRessource",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mainDocument";return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.resId=t,this.mode=e,this.loading=!0,"attachment"!==e){n.next=7;break}this.requestWithLoader("../rest/attachments/".concat(t,"/content?mode=base64")).subscribe((function(e){e.encodedDocument&&(i.file.contentMode="route",i.file.name="".concat(t,".").concat(e.originalFormat),i.file.format=e.originalFormat,i.file.creatorId=e.originalCreatorId,i.file.content="../rest/attachments/".concat(t,"/originalContent?mode=base64"),i.file.contentView="../rest/attachments/".concat(t,"/content?mode=base64"),i.file.src=i.base64ToArrayBuffer(e.encodedDocument),i.loading=!1,i.noFile=!1)}),(function(e){return"Document has no file"===e.error.errors?i.noFile=!0:"Converted Document not found"===e.error.errors?(i.file.contentMode="route",i.file.content="../rest/attachments/".concat(t,"/originalContent?mode=base64"),i.noConvertedFound=!0):(i.notify.error(e.error.errors),i.noFile=!0),i.loading=!1,Object(y.of)(!1)})),n.next=10;break;case 7:return n.next=9,this.loadMainDocumentSubInformations();case 9:0===this.file.subinfos.mainDocVersions.length?(this.noFile=!0,this.loading=!1):this.file.subinfos.canConvert?(this.requestWithLoader("../rest/resources/".concat(t,"/content?mode=base64")).subscribe((function(e){e.encodedDocument&&(i.file.contentMode="route",i.file.name="".concat(t,".").concat(e.originalFormat),i.file.format=e.originalFormat,i.file.content="../rest/resources/".concat(t,"/originalContent?mode=base64"),i.file.contentView="../rest/resources/".concat(t,"/content?mode=base64"),i.file.src=i.base64ToArrayBuffer(e.encodedDocument),i.loading=!1,i.noFile=!1)}),(function(t){return i.notify.error(t.error.errors),i.noFile=!0,i.loading=!1,Object(y.of)(!1)})),this.http.get("../rest/resources/".concat(this.resId,"/fields/externalId")).pipe(Object(o.a)((function(t){i.externalId=t.field})),Object(s.a)((function(t){return i.notify.handleSoftErrors(t),Object(y.of)(!1)}))).subscribe()):(this.file.contentMode="route",this.file.content="../rest/resources/".concat(t,"/originalContent?mode=base64"),this.noConvertedFound=!0,this.loading=!1);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"loadMainDocumentSubInformations",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/resources/".concat(t.resId,"/versionsInformations")).pipe(Object(o.a)((function(e){var n=e.DOC,i=!1,a=!1,r=!1;void 0!==e.DOC[e.DOC.length-1]&&(a=e.SIGN.indexOf(e.DOC[e.DOC.length-1])>-1,r=e.NOTE.indexOf(e.DOC[e.DOC.length-1])>-1,i=e.PDF.indexOf(e.DOC[e.DOC.length-1])>-1),t.file.subinfos={mainDocVersions:n,signedDocVersions:a,commentedDocVersions:r,mainDocPDFVersions:i}})),Object(d.a)((function(){return t.http.get("../rest/resources/".concat(t.resId,"/fileInformation"))})),Object(o.a)((function(n){t.file.subinfos.canConvert=n.information.canConvert,e(!0)})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(y.of)(!1)}))).subscribe()}))}},{key:"editTemplate",value:function(t){var e,n=this;e="attachment"===this.mode?this.translate.instant("lang.editionAttachmentConfirmFirst")+"<br><br>"+this.translate.instant("lang.editionAttachmentConfirmThird"):this.translate.instant("lang.editionAttachmentConfirmFirst")+"<br><br>"+this.translate.instant("lang.editionAttachmentConfirmSecond"),this.dialogRef=this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.templateEdition"),msg:e}}),this.dialogRef.afterClosed().pipe(Object(o.a)((function(t){"ok"!==t&&n.templateListForm.reset()})),Object(l.a)((function(t){return"ok"===t})),Object(o.a)((function(){n.triggerEvent.emit();var e=n.listTemplates.filter((function(e){return e.id===t}))[0];n.file.format=e.extension,"onlyoffice"===n.editor.mode?(n.editor.async=!1,n.editor.options={objectType:"attachmentCreation",objectId:e.id,docUrl:"rest/onlyOffice/mergedFile",dataToMerge:n.resourceDatas},n.editInProgress=!0):"collaboraOnline"===n.editor.mode?(n.editor.async=!1,n.editInProgress=!0,n.editor.options={objectType:"attachment"===n.mode?"attachmentCreation":"resourceCreation",objectId:e.id,dataToMerge:n.resourceDatas}):(n.editor.async=!0,n.editor.options={objectType:"attachmentCreation",objectId:e.id,cookie:document.cookie,data:n.resourceDatas},n.editInProgress=!0,n.http.post("../rest/jnlp",n.editor.options).pipe(Object(o.a)((function(t){window.location.href="../rest/jnlp/"+t.generatedJnlp,n.checkLockFile(t.jnlpUniqueId,e.extension)}))).subscribe())})),Object(s.a)((function(t){return n.notify.handleErrors(t),Object(y.of)(!1)}))).subscribe()}},{key:"editResource",value:function(){"attachment"===this.mode?this.editAttachment():this.editMainDocument()}},{key:"editAttachment",value:function(){var t=this;this.triggerEvent.emit("setData"),"onlyoffice"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"attachmentModification",objectId:this.resId,docUrl:"rest/onlyOffice/mergedFile",dataToMerge:this.resourceDatas},this.editInProgress=!0):"collaboraOnline"===this.editor.mode?(this.editor.async=!1,this.editInProgress=!0,this.editor.options={objectType:"attachmentModification",objectId:this.resId,dataToMerge:this.resourceDatas}):(this.editor.async=!0,this.editor.options={objectType:"attachmentModification",objectId:this.resId,cookie:document.cookie,data:this.resourceDatas},this.editInProgress=!0,this.http.post("../rest/jnlp",this.editor.options).pipe(Object(o.a)((function(e){window.location.href="../rest/jnlp/"+e.generatedJnlp,t.checkLockFile(e.jnlpUniqueId,t.file.format)}))).subscribe())}},{key:"editMainDocument",value:function(){var t=this;"onlyoffice"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"resourceModification",objectId:this.resId,docUrl:"rest/onlyOffice/mergedFile"},this.editInProgress=!0):"collaboraOnline"===this.editor.mode?(this.editor.async=!1,this.editor.options={objectType:"resourceModification",objectId:this.resId,dataToMerge:this.resourceDatas},this.editInProgress=!0):(this.editor.async=!0,this.editor.options={objectType:"resourceModification",objectId:this.resId,cookie:document.cookie},this.editInProgress=!0,this.http.post("../rest/jnlp",this.editor.options).pipe(Object(o.a)((function(e){window.location.href="../rest/jnlp/"+e.generatedJnlp,t.checkLockFile(e.jnlpUniqueId,t.file.format)}))).subscribe())}},{key:"setDatas",value:function(t){this.resourceDatas=t}},{key:"checkLockFile",value:function(t,e){var n=this;this.intervalLockFile=setInterval((function(){n.http.get("../rest/jnlp/lock/"+t).subscribe((function(t){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.lockFileFound,n.t0){n.next=7;break}return this.editInProgress=!1,clearInterval(this.intervalLockFile),n.next=6,this.loadTmpFile("".concat(t.fileTrunk,".").concat(e));case 6:"mainDocument"===this.mode&&this.saveMainDocument();case 7:case"end":return n.stop()}}),n,this)})))}))}),1e3)}},{key:"cancelTemplateEdition",value:function(){clearInterval(this.intervalLockFile),this.editInProgress=!1}},{key:"isEditingTemplate",value:function(){return"onlyoffice"===this.editor.mode?void 0!==this.onlyofficeViewer:"collaboraOnline"===this.editor.mode?void 0!==this.collaboraOnlineViewer:this.editInProgress}},{key:"loadTemplatesByResId",value:function(t,e){var n=this,i=[],a=[];this.listTemplates=[],this.http.get("../rest/attachmentsTypes").pipe(Object(o.a)((function(t){Object.keys(t.attachmentsTypes).forEach((function(e){a.push({id:e,label:t.attachmentsTypes[e].label})})),(a=n.sortPipe.transform(a,"label")).push({id:"all",label:n.translate.instant("lang.others")})})),Object(d.a)((function(){return n.http.get("../rest/resources/".concat(t,"/templates?attachmentType=").concat(e,",all"))})),Object(o.a)((function(t){n.listTemplates=t.templates,(a=a.filter((function(e){return t.templates.map((function(t){return t.attachmentType})).indexOf(e.id)>-1}))).forEach((function(e){i.push({id:e.id,label:e.label,title:e.label,disabled:!0,isTitle:!0,color:"#135f7f"}),t.templates.filter((function(t){return t.attachmentType===e.id})).forEach((function(t){i.push({id:t.id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+t.label,title:t.exists?t.label:n.translate.instant("lang.fileDoesNotExists"),extension:t.extension,disabled:!t.exists})}))})),n.listTemplates=i}))).subscribe()}},{key:"loadTemplates",value:function(){var t=this;if(0===this.listTemplates.length){var e=[];if("mainDocument"===this.mode)this.http.get("../rest/currentUser/templates?target=indexingFile").pipe(Object(o.a)((function(n){t.listTemplates=n.templates,e.push({id:"all",label:t.translate.instant("lang.indexation"),title:t.translate.instant("lang.indexation"),disabled:!0,isTitle:!0,color:"#135f7f"}),n.templates.forEach((function(n){e.push({id:n.id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+n.label,title:n.exists?n.label:t.translate.instant("lang.fileDoesNotExists"),extension:n.extension,disabled:!n.exists})})),t.listTemplates=e}))).subscribe();else{var n=[];this.http.get("../rest/attachmentsTypes").pipe(Object(o.a)((function(e){n.push({id:"all",label:t.translate.instant("lang.others")}),Object.keys(e.attachmentsTypes).forEach((function(i){n.push({id:i,label:e.attachmentsTypes[i].label}),n=t.sortPipe.transform(n,"label")}))})),Object(d.a)((function(){return t.http.get("../rest/currentUser/templates?target=attachments&type=office")})),Object(o.a)((function(i){t.listTemplates=i.templates,(n=n.filter((function(t){return i.templates.map((function(t){return t.attachmentType})).indexOf(t.id)>-1}))).forEach((function(n){e.push({id:n.id,label:n.label,title:n.label,disabled:!0,isTitle:!0,color:"#135f7f"}),i.templates.filter((function(t){return t.attachmentType===n.id})).forEach((function(n){e.push({id:n.id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+n.label,title:n.exists?n.label:t.translate.instant("lang.fileDoesNotExists"),extension:n.extension,disabled:!n.exists})}))})),t.listTemplates=e}))).subscribe()}}}},{key:"closeEditor",value:function(){this.templateListForm.reset(),this.editInProgress=!1,this.isDocModified=!1}},{key:"setEditor",value:function(){"java"===this.headerService.user.preferences.documentEdition?(this.editor.mode="java",this.editor.async=!0):"onlyoffice"===this.headerService.user.preferences.documentEdition?(this.editor.mode="onlyoffice",this.editor.async=!1):"collaboraonline"===this.headerService.user.preferences.documentEdition&&(this.editor.mode="collaboraOnline",this.editor.async=!1)}},{key:"saveMainDocument",value:function(){var t=this;return this.loading=!0,new Promise((function(e){t.getFile().pipe(Object(c.a)((function(e){return{encodedFile:e.content,format:e.format,resId:t.resId}})),Object(d.a)((function(e){return t.http.put("../rest/resources/".concat(t.resId,"?onlyDocument=true"),e)})),Object(o.a)((function(){t.closeEditor(),t.loadRessource(t.resId),e(!0)})),Object(f.a)((function(){return t.loading=!1})),Object(s.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(y.of)(!1)}))).subscribe()}))}},{key:"loadTmpDocument",value:function(t,e){var n=this;return new Promise((function(i,a){n.http.post("../rest/convertedFile/encodedFile",{format:e,encodedFile:t}).pipe(Object(o.a)((function(i){console.log(i),n.file={name:"maarch",format:e,type:"application/pdf",contentMode:"base64",content:t,src:n.base64ToArrayBuffer(i.encodedResource)}})),Object(s.a)((function(t){return n.notify.handleSoftErrors(t),i(!1),Object(y.of)(!1)}))).subscribe()}))}},{key:"saveTmpDocument",value:function(){var t=this;return new Promise((function(e,n){t.getFile().pipe(Object(o.a)((function(e){t.file={name:"maarch",format:e.format,type:"application/pdf",contentMode:"base64",content:e.content,src:null}})),Object(d.a)((function(e){return t.http.post("../rest/convertedFile/encodedFile",{format:e.format,encodedFile:e.content})})),Object(o.a)((function(n){t.file.src=t.base64ToArrayBuffer(n.encodedResource),t.closeEditor(),e(!0)})),Object(s.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(y.of)(!1)}))).subscribe()}))}},{key:"openResourceVersion",value:function(t,e){var n=this,i="PDF"!==e?this.translate.instant("lang."+e+"_version"):"".concat(this.translate.instant("lang.version")," ").concat(t);this.http.get("../rest/resources/".concat(this.resId,"/content/").concat(t,"?type=").concat(e="SIGN"===e?"PDF":e)).pipe(Object(o.a)((function(t){n.dialog.open(b.a,{autoFocus:!1,panelClass:"maarch-full-height-modal",data:{title:""+i,base64:t.encodedDocument}})})),Object(s.a)((function(t){return n.notify.handleSoftErrors(t),Object(y.of)(!1)}))).subscribe()}},{key:"unsignMainDocument",value:function(){var t=this;this.dialogRef=this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.UNSIGN"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(l.a)((function(t){return"ok"===t})),Object(d.a)((function(){return t.http.put("../rest/resources/".concat(t.resId,"/unsign"),{})})),Object(o.a)((function(){t.notify.success(t.translate.instant("lang.documentUnsigned")),t.loadRessource(t.resId)})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(y.of)(!1)}))).subscribe()}},{key:"isEditorLoaded",value:function(){return!this.isEditingTemplate()||this.isEditingTemplate()&&this.isDocModified}},{key:"openMaarchParapheurWorkflow",value:function(){this.dialog.open(v.a,{panelClass:"maarch-modal",data:{id:this.resId,type:"resource"}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(_.e),a.Tb(r.b),a.Tb(k.a),a.Tb(C.a),a.Tb(x.a),a.Tb(w.b),a.Tb(m.a),a.Tb(O.a),a.Tb(S.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-document-viewer"]],viewQuery:function(t,e){var n;1&t&&(a.Oc(Z,!0),a.ad(N,!0),a.ad(U,!0)),2&t&&(a.Cc(n=a.ic())&&(e.templateList=n.first),a.Cc(n=a.ic())&&(e.onlyofficeViewer=n.first),a.Cc(n=a.ic())&&(e.collaboraOnlineViewer=n.first))},inputs:{tmpFilename:"tmpFilename",base64:"base64",format:"format",mode:"mode",resId:"resId",resIdMaster:"resIdMaster",editMode:"editMode",hideTools:"hideTools",title:"title",attachType:"attachType"},outputs:{triggerEvent:"triggerEvent"},features:[a.Db([m.a])],decls:7,vars:7,consts:[[4,"ngIf"],["mat-fab","","color","accent","style","position: absolute;z-index: 3;bottom: 40px;right: 60px;",3,"title","click",4,"ngIf"],["mat-raised-button","","color","warn","style","position: fixed;z-index: 1;bottom: 100px;right: 150px;",3,"title","click",4,"ngIf"],[1,"editInProgress"],[1,"fas","fa-file-word","bounce"],["mat-button","",3,"click"],[4,"ngIf","ngIfElse"],["elseHaveFile",""],[1,"noFile"],[1,"far","fa-times-circle"],["class","example-loading-shade",4,"ngIf"],["class","view-doc-container","appUploadFileDragDrop","",3,"disabled","onFileDropped",4,"ngIf"],["type","file","name","files[]",2,"display","none",3,"ngModel","change"],["docToUpload",""],["appUploadFileDragDrop","",2,"display","block","width","100%",3,"disabled","onFileDropped"],["class","viewer-tools",4,"ngIf"],["style","width:100%;",3,"src","render-text","autoresize","original-size","show-all","error",4,"ngIf"],["class","no-doc-container","appUploadFileDragDrop","",3,"disabled","onFileDropped",4,"ngIf"],[1,"example-loading-shade"],[3,"mode","value"],[1,"percent"],[2,"padding-top","10px"],["appUploadFileDragDrop","",1,"view-doc-container",3,"disabled","onFileDropped"],[1,"fa","fa-file-upload","upload-icon"],[2,"display","flex"],[2,"margin-right","20px","align-items","center","justify-content","center","text-align","center","display","flex"],["style","width: 240px;text-align: left;font-weight:normal;font-size: 13px;",3,"label","placeholderLabel","datas","class","formControlSelect","afterSelected",4,"ngIf"],["mat-button","",1,"button-form-primary-alt",2,"align-items","center","justify-content","center","text-align","center","display","flex",3,"click"],[2,"width","240px","text-align","left","font-weight","normal","font-size","13px",3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],[1,"viewer-tools"],["mat-icon-button","",3,"matTooltip","click"],[1,"fa","fa-download"],["mat-icon-button","",3,"disabled","disabledButton","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"fas","fa-chevron-down"],["menuOptions","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-icon-button","",3,"disabled","matTooltip","click"],[1,"fa","fa-edit"],["mat-menu-item","",3,"click"],["color","primary",1,"fas","fa-external-link-alt"],["color","primary",1,"fas","fa-list-ol"],["color","primary",1,"fa","fa-file-upload"],["color","warn",1,"fa","fa-trash"],["mat-button","",3,"matBadge","matMenuTriggerFor",4,"ngIf"],["menuVersionsDoc","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"matBadge","matMenuTriggerFor"],[2,"width","100%",3,"src","render-text","autoresize","original-size","show-all","error"],["appUploadFileDragDrop","",1,"no-doc-container",3,"disabled","onFileDropped"],[1,"loaded-file"],[1,"fa","fa-file"],[3,"click"],[1,"no-view"],[1,"far","fa-eye-slash","no-view-icon"],[2,"height","100%","width","100%",3,"params","file","editMode","triggerAfterUpdatedDoc","triggerCloseEditor","triggerModifiedDocument"],["onlyofficeViewer",""],["collaboraOnlineViewer",""],[2,"margin","auto"],["mat-fab","","color","accent",2,"position","absolute","z-index","3","bottom","40px","right","60px",3,"title","click"],[1,"fas","fa-check",2,"height","auto","font-size","20px"],["mat-raised-button","","color","warn",2,"position","fixed","z-index","1","bottom","100px","right","150px",3,"title","click"]],template:function(t,e){1&t&&(a.Qc(0,B,10,6,"ng-container",0),a.Qc(1,st,4,2,"ng-container",0),a.Qc(2,ct,3,3,"ng-container",0),a.Qc(3,ut,4,4,"ng-container",0),a.Qc(4,dt,2,1,"button",1),a.Qc(5,ft,2,1,"button",1),a.Qc(6,ht,3,4,"button",2)),2&t&&(a.sc("ngIf",e.editInProgress&&"onlyoffice"!==e.editor.mode&&"collaboraOnline"!==e.editor.mode),a.Eb(1),a.sc("ngIf",!e.editInProgress),a.Eb(1),a.sc("ngIf",e.editInProgress&&"onlyoffice"===e.editor.mode),a.Eb(1),a.sc("ngIf",e.editInProgress&&"collaboraOnline"===e.editor.mode),a.Eb(1),a.sc("ngIf",e.isDocModified&&"mainDocument"===e.mode&&null!==e.resId),a.Eb(1),a.sc("ngIf",e.isDocModified&&"attachment"===e.mode),a.Eb(1),a.sc("ngIf",!e.isDocModified&&"mainDocument"===e.mode&&null!==e.resId&&!e.functions.empty(e.file.subinfos)&&e.file.subinfos.signedDocVersions&&(e.privilegeService.hasCurrentUserPrivilege("sign_document")||e.headerService.user.id==e.file.creatorId)&&!e.hideTools))},directives:[E.t,M.b,g.c,g.t,g.w,I.a,P.a,T.a,A.b,D.a,R.d,R.e,R.b,E.s,L.a,F.a,j.a,Y.a,P.c],pipes:[_.d],styles:[".upload-icon[_ngcontent-%COMP%]{font-size:180px;opacity:.4;margin-bottom:30px}.view-doc-container[_ngcontent-%COMP%]{width:100%;height:100%;align-items:center;display:flex;flex-direction:column;justify-content:center}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.7);display:flex;flex-direction:column}.example-loading-shade[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;margin-top:-5px;color:#135f7f}.viewer-tools[_ngcontent-%COMP%]{position:fixed;margin-top:5px;z-index:1;background:#135f7f;margin-left:5px;border-radius:10px;color:#fff;display:flex;align-items:left;transition:all .5s}.viewer-tools[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:10px} .optionsListMenu{min-height:auto} .optionsListMenu .mat-menu-content{font-size:13px;padding-top:0;padding-bottom:0} .optionsListMenu .mat-icon{height:auto}.viewer-tools[_ngcontent-%COMP%]:hover   .mat-icon-button[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{transition:all .5s;border-radius:5px;background:hsla(0,0%,100%,.2)}.no-doc-container[_ngcontent-%COMP%]{width:100%;height:100%;align-items:center;display:flex;flex-direction:column;justify-content:center;font-weight:400}.no-doc-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:underline}.no-view[_ngcontent-%COMP%]{font-size:30px;opacity:.2}.no-view[_ngcontent-%COMP%]   .no-view-icon[_ngcontent-%COMP%]{font-size:100px}.noFile[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;font-size:30px;opacity:.2}.noFile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px}.loaded-file[_ngcontent-%COMP%]{position:absolute;top:105px;padding:10px;border-radius:10px;background:hsla(0,0%,100%,.28)}.extensionsList[_ngcontent-%COMP%]{height:200px;overflow:auto}.editInProgress[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:center;opacity:.5}.editInProgress[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:20px;padding-top:20px}.editInProgress[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:150px}@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-30px,0)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}.bounce[_ngcontent-%COMP%]{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-name:bounce;animation-name:bounce;transform-origin:center bottom;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.disabledButton[_ngcontent-%COMP%]{cursor:not-allowed}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.77);z-index:2}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},GiSu:function(t,e,n){"use strict";var i=n("n3uD"),a=n("MkmW");e.empty={closed:!0,next:function(t){},error:function(t){if(i.config.useDeprecatedSynchronousErrorHandling)throw t;a.hostReportError(t)},complete:function(){}}},Gon0:function(t,e,n){"use strict";n.d(e,"a",(function(){return de}));var i=n("fXoL"),a=n("vkgz"),r=n("XqQ8"),o=n("nYR2"),s=n("JIr8"),c=n("lJxs"),l=n("pLZG"),u=n("Kj3r"),d=n("/uUt"),f=n("eIep"),h=n("3Pt+"),p=n("Nqwj"),m=n("R0Ic"),g=n("I65S"),b=n("MJ5r"),v=n("sYmb"),y=n("tk/3"),_=n("tyNb"),k=n("AXEc"),C=n("4zkx"),x=n("A6w4"),w=n("0IaG"),O=n("rH+9"),S=n("ofXK"),E=n("Xa2L"),M=n("STbY"),I=n("f0Cb"),P=n("bTqV"),T=n("NFeN"),A=n("bv9b"),D=n("MutI"),R=n("FKr1"),L=n("kmnG"),F=n("qFsG"),j=n("fBaO"),Y=n("iadO"),Z=n("QibW"),N=n("/1cH"),U=n("Wp6s"),B=["snav2"];function z(t,e){1&t&&(i.Zb(0,"div",2),i.Ub(1,"mat-spinner",3),i.Yb())}function V(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){var n=i.lc(4);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function H(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return t.display=!t.display})),i.Qc(1,V,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",a.filling),i.Eb(2),i.Tc(a.label)}}function Q(t,e){if(1&t&&(i.Xb(0),i.Qc(1,H,4,2,"button",18),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",!n.display&&"mainInfo"===n.unit)}}function W(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){var n=i.lc(4);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function G(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return t.display=!t.display})),i.Qc(1,W,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",a.filling),i.Eb(2),i.Tc(a.label)}}function q(t,e){if(1&t&&(i.Xb(0),i.Qc(1,G,4,2,"button",18),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",!n.display&&"address"===n.unit)}}function X(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){var n=i.lc(4);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function $(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return t.display=!t.display})),i.Qc(1,X,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",a.filling),i.Eb(2),i.Tc(a.label)}}function J(t,e){if(1&t&&(i.Xb(0),i.Qc(1,$,4,2,"button",18),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",!n.display&&"complement"===n.unit)}}function K(t,e){if(1&t&&i.Ub(0,"mat-icon",21),2&t){var n=i.lc(4);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function tt(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return t.display=!t.display})),i.Qc(1,K,1,3,"mat-icon",20),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",a.filling),i.Eb(2),i.Tc(a.label)}}function et(t,e){if(1&t&&(i.Xb(0),i.Qc(1,tt,4,2,"button",18),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",!n.display&&"maarch2maarch"===n.unit)}}function nt(t,e){if(1&t&&(i.Zb(0,"div",22),i.Zb(1,"div",23),i.Sc(2),i.mc(3,"translate"),i.Zb(4,"b"),i.Sc(5),i.Yb(),i.Yb(),i.Ub(6,"mat-progress-bar",24),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.Pc("color",n.fillingRate.color),i.Eb(1),i.Uc("",i.nc(3,6,"lang.contactFilledTo")," "),i.Eb(3),i.Uc("",n.fillingRate.value," %"),i.Eb(1),i.sc("color",n.fillingRate.class)("value",n.fillingRate.value)}}function it(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",25),i.Zb(1,"div",22),i.Sc(2),i.mc(3,"translate"),i.Zb(4,"b"),i.Sc(5),i.Yb(),i.Sc(6),i.mc(7,"translate"),i.Zb(8,"a",26),i.hc("click",(function(){i.Hc(n);var t=i.lc(2);return t.setAddress(t.companyFound)})),i.Sc(9),i.mc(10,"translate"),i.mc(11,"translate"),i.Yb(),i.Sc(12),i.mc(13,"translate"),i.Ub(14,"br"),i.Zb(15,"q",27),i.Sc(16),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.sc("@hideShow",void 0),i.Eb(2),i.Uc(" ",i.nc(3,12,"lang.contactsParameters_company")," "),i.Eb(3),i.Tc(a.companyFound.company),i.Eb(1),i.Uc(" ",i.nc(7,14,"lang.found")," ! "),i.Eb(3),i.Vc("",i.nc(10,16,"lang.click")," ",i.nc(11,18,"lang.here"),""),i.Eb(3),i.Uc(" ",i.nc(13,20,"lang.toCopyAddress")," :"),i.Eb(4),i.Yc("",a.companyFound.addressNumber," ",a.companyFound.addressStreet,", ",a.companyFound.addressPostcode," ",a.companyFound.addressTown,", ",a.companyFound.addressCountry,"")}}function at(t,e){if(1&t){var n=i.ac();i.Zb(0,"a",32),i.hc("click",(function(){i.Hc(n);var t=i.lc(4);return t.addressBANMode=!t.addressBANMode})),i.Sc(1),i.Yb()}if(2&t){var a=i.lc(4);i.Eb(1),i.Tc(a.translate.instant(a.addressBANMode?"lang.switchManualAddress":"lang.searchAddressDb"))}}function rt(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){var n=i.lc(4).$implicit;i.sc("innerHTML",n.desc,i.Ic)}}function ot(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){var n=i.lc(4).$implicit,a=i.lc(4);i.Eb(1),i.Uc(" ",a.getErrorMsg(n.control.errors),"")}}function st(t,e){if(1&t&&i.Ub(0,"mat-icon",43),2&t){var n=i.lc(8);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function ct(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"mat-form-field"),i.Zb(2,"input",39),i.hc("blur",(function(){i.Hc(n);var t=i.lc(3).$implicit,e=i.lc(4);return e.checkCompany(t),e.checkFilling()}))("ngModelChange",(function(t){i.Hc(n);var e=i.lc(3).$implicit;return i.lc(4).toUpperCase(e,t)})),i.Yb(),i.Qc(3,rt,1,1,"mat-hint",40),i.Qc(4,ot,2,1,"mat-error",34),i.Qc(5,st,1,3,"mat-icon",41),i.Yb(),i.Wb()}if(2&t){var a=i.lc(3).$implicit,r=i.lc(4);i.Eb(2),i.sc("formControl",a.control)("placeholder",a.label)("required",a.required),i.Eb(1),i.sc("ngIf",!r.isEmptyValue(a.desc)),i.Eb(1),i.sc("ngIf","VALID"!==a.control.status&&a.control.touched),i.Eb(1),i.sc("ngIf",a.filling)}}function lt(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){var n=i.lc(4).$implicit,a=i.lc(4);i.Eb(1),i.Uc(" ",a.getErrorMsg(n.control.errors),"")}}function ut(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-form-field"),i.Ub(2,"input",44),i.Qc(3,lt,2,1,"mat-error",34),i.Yb(),i.Wb()),2&t){var n=i.lc(3).$implicit;i.Eb(2),i.sc("formControl",n.control)("placeholder",n.label)("required",n.required),i.Eb(1),i.sc("ngIf","VALID"!==n.control.status&&n.control.touched)}}var dt=function(t,e){return{class:"fa-circle",color:t,title:e}};function ft(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"plugin-select-search",45),i.Wb()),2&t){var n=i.lc(3).$implicit,a=i.lc(4);i.Eb(1),i.Gb(""),i.sc("label",n.label)("required",n.required)("showLabel",!0)("formControlSelect",n.control)("placeholderLabel",n.label)("hideErrorDesc",!1)("datas",n.values)("suffixIcon",n.filling?i.Ac(10,dt,a.fillingRate.color,a.translate.instant("lang.targetFillingField")):null)}}function ht(t,e){if(1&t&&i.Ub(0,"mat-datepicker-toggle",51),2&t){i.lc();var n=i.Dc(7);i.sc("for",n)}}function pt(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",52),i.hc("click",(function(t){i.Hc(n);var e=i.lc(4).$implicit;return t.stopPropagation(),e.control.reset()})),i.Ub(1,"mat-icon",53),i.Yb()}if(2&t){var a=i.lc(8);i.sc("title",a.translate.instant("lang.eraseValue"))}}function mt(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"mat-form-field",32),i.hc("click",(function(){return i.Hc(n),i.Dc(7).open()})),i.Zb(2,"mat-label"),i.Sc(3),i.Yb(),i.Ub(4,"input",46),i.Qc(5,ht,1,1,"mat-datepicker-toggle",47),i.Ub(6,"mat-datepicker",48,49),i.Qc(8,pt,2,1,"button",50),i.Yb(),i.Wb()}if(2&t){var a=i.Dc(7),r=i.lc(3).$implicit,o=i.lc(4);i.Eb(3),i.Uc("",r.label," "),i.Eb(1),i.sc("formControl",r.control)("matDatepicker",a)("placeholder",r.label),i.Eb(1),i.sc("ngIf",!r.control.value),i.Eb(1),i.sc("touchUi",o.appService.getViewMode()),i.Eb(2),i.sc("ngIf",r.control.value&&!r.control.disabled)}}function gt(t,e){1&t&&(i.Xb(0),i.Sc(1,"* "),i.Wb())}function bt(t,e){if(1&t&&(i.Zb(0,"mat-radio-button",58),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n.id),i.Eb(1),i.Uc(" ",n.label," ")}}function vt(t,e){if(1&t&&i.Ub(0,"i",59),2&t){var n=i.lc(8);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function yt(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){var n=i.lc(4).$implicit,a=i.lc(4);i.Eb(1),i.Uc(" ",a.getErrorMsg(n.control.errors),"")}}function _t(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"label",54),i.Sc(2),i.Qc(3,gt,2,0,"ng-container",34),i.Yb(),i.Zb(4,"mat-radio-group",55),i.Qc(5,bt,2,2,"mat-radio-button",56),i.Yb(),i.Qc(6,vt,1,3,"i",57),i.Qc(7,yt,2,1,"mat-error",34),i.Wb()),2&t){var n=i.lc(3).$implicit;i.Eb(2),i.Uc("",n.label," "),i.Eb(1),i.sc("ngIf",n.required),i.Eb(1),i.sc("formControl",n.control),i.Eb(1),i.sc("ngForOf",n.values),i.Eb(1),i.sc("ngIf",n.filling),i.Eb(1),i.sc("ngIf","VALID"!==n.control.status&&n.control.touched)}}function kt(t,e){1&t&&(i.Xb(0),i.Sc(1,"* "),i.Wb())}function Ct(t,e){if(1&t&&(i.Zb(0,"mat-list-option",63),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n.id),i.Eb(1),i.Uc(" ",n.label," ")}}function xt(t,e){if(1&t&&i.Ub(0,"i",59),2&t){var n=i.lc(8);i.Pc("color",n.fillingRate.color),i.sc("title",n.translate.instant("lang.targetFillingField"))}}function wt(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){var n=i.lc(4).$implicit,a=i.lc(4);i.Eb(1),i.Uc(" ",a.getErrorMsg(n.control.errors),"")}}function Ot(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"label",54),i.Sc(2),i.Qc(3,kt,2,0,"ng-container",34),i.Yb(),i.Zb(4,"mat-selection-list",60,61),i.Qc(6,Ct,2,2,"mat-list-option",62),i.Yb(),i.Qc(7,xt,1,3,"i",57),i.Qc(8,wt,2,1,"mat-error",34),i.Wb()),2&t){var n=i.lc(3).$implicit;i.Eb(2),i.Uc("",n.label," "),i.Eb(1),i.sc("ngIf",n.required),i.Eb(1),i.sc("formControl",n.control),i.Eb(2),i.sc("ngForOf",n.values),i.Eb(1),i.sc("ngIf",n.filling),i.Eb(1),i.sc("ngIf","VALID"!==n.control.status&&n.control.touched)}}function St(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){var n=i.lc(5).$implicit;i.sc("innerHTML",n.desc,i.Ic)}}function Et(t,e){if(1&t&&(i.Zb(0,"mat-option",58),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n.unitOrganization," ")}}function Mt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Et,2,2,"mat-option",56),i.mc(2,"async"),i.Wb()),2&t){var n=i.lc(9);i.Eb(1),i.sc("ngForOf",i.nc(2,1,n.communicationMeanFilteredResult))}}function It(t,e){if(1&t&&i.Ub(0,"mat-option",70),2&t){var n=i.lc(9);i.sc("innerHTML",n.communicationMeanInfo,i.Ic)}}function Pt(t,e){1&t&&(i.Zb(0,"mat-option",71),i.Ub(1,"mat-spinner",72),i.Yb())}function Tt(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"input",64,65),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("keyup",(function(){return i.Hc(n),i.lc(8).resetM2MFields()})),i.Yb(),i.Qc(3,St,1,1,"mat-hint",40),i.Zb(4,"mat-autocomplete",66,67),i.hc("optionSelected",(function(t){return i.Hc(n),i.lc(8).selectCommunicationMean(t)})),i.Qc(6,Mt,3,3,"ng-container",34),i.Qc(7,It,1,1,"mat-option",68),i.Qc(8,Pt,2,0,"mat-option",69),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(5),r=i.lc(4).$implicit,o=i.lc(4);i.Eb(1),i.sc("placeholder",o.translate.instant("lang.searchCommunicationMean"))("formControl",r.control)("matAutocomplete",a),i.Eb(2),i.sc("ngIf",!o.isEmptyValue(r.desc)),i.Eb(3),i.sc("ngIf",o.communicationMeanResult.length>0&&!o.communicationMeanLoading),i.Eb(1),i.sc("ngIf",0===o.communicationMeanResult.length&&!o.communicationMeanLoading),i.Eb(1),i.sc("ngIf",o.communicationMeanLoading)}}function At(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){var n=i.lc(5).$implicit;i.sc("innerHTML",n.desc,i.Ic)}}function Dt(t,e){if(1&t&&(i.Zb(0,"mat-form-field"),i.Ub(1,"input",73,65),i.Qc(3,At,1,1,"mat-hint",40),i.Yb()),2&t){var n=i.lc(4).$implicit,a=i.lc(4);i.Eb(1),i.sc("placeholder",a.translate.instant("lang.communicationMean"))("formControl",n.control),i.Eb(2),i.sc("ngIf",!a.isEmptyValue(n.desc))}}function Rt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Tt,9,7,"mat-form-field",34),i.Qc(2,Dt,4,3,"mat-form-field",34),i.Wb()),2&t){var n=i.lc(7);i.Eb(1),i.sc("ngIf",n.annuaryEnabled),i.Eb(1),i.sc("ngIf",!n.annuaryEnabled)}}function Lt(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){var n=i.lc(5).$implicit;i.sc("innerHTML",n.desc,i.Ic)}}function Ft(t,e){if(1&t&&(i.Zb(0,"mat-option",58),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n.unitOrganization," ")}}function jt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Ft,2,2,"mat-option",56),i.mc(2,"async"),i.Wb()),2&t){var n=i.lc(9);i.Eb(1),i.sc("ngForOf",i.nc(2,1,n.externalId_m2mFilteredResult))}}function Yt(t,e){if(1&t&&i.Ub(0,"mat-option",70),2&t){var n=i.lc(9);i.sc("innerHTML",n.externalId_m2mInfo,i.Ic)}}function Zt(t,e){1&t&&(i.Zb(0,"mat-option",71),i.Ub(1,"mat-spinner",72),i.Yb())}function Nt(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"input",64,74),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("keyup",(function(){return i.Hc(n),i.lc(8).resetAutocompleteExternalIdM2M()})),i.Yb(),i.Qc(3,Lt,1,1,"mat-hint",40),i.Zb(4,"mat-autocomplete",66,67),i.hc("optionSelected",(function(t){return i.Hc(n),i.lc(8).selectExternalIdM2M(t)})),i.Qc(6,jt,3,3,"ng-container",34),i.Qc(7,Yt,1,1,"mat-option",68),i.Qc(8,Zt,2,0,"mat-option",69),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(5),r=i.lc(4).$implicit,o=i.lc(4);i.Eb(1),i.sc("placeholder",o.translate.instant("lang.searchExternalIdM2M"))("formControl",r.control)("matAutocomplete",a),i.Eb(2),i.sc("ngIf",!o.isEmptyValue(r.desc)),i.Eb(3),i.sc("ngIf",o.externalId_m2mResult.length>0&&!o.externalId_m2mLoading),i.Eb(1),i.sc("ngIf",0===o.externalId_m2mResult.length&&!o.externalId_m2mLoading),i.Eb(1),i.sc("ngIf",o.externalId_m2mLoading)}}function Ut(t,e){if(1&t&&i.Ub(0,"mat-hint",42),2&t){var n=i.lc(5).$implicit;i.sc("innerHTML",n.desc,i.Ic)}}function Bt(t,e){if(1&t&&(i.Zb(0,"mat-form-field"),i.Ub(1,"input",73,74),i.Qc(3,Ut,1,1,"mat-hint",40),i.Yb()),2&t){var n=i.lc(4).$implicit,a=i.lc(4);i.Eb(1),i.sc("placeholder",a.translate.instant("lang.IdMaarch2Maarch"))("formControl",n.control),i.Eb(2),i.sc("ngIf",!a.isEmptyValue(n.desc))}}function zt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Nt,9,7,"mat-form-field",34),i.Qc(2,Bt,4,3,"mat-form-field",34),i.Wb()),2&t){var n=i.lc(7);i.Eb(1),i.sc("ngIf",n.annuaryEnabled),i.Eb(1),i.sc("ngIf",!n.annuaryEnabled)}}function Vt(t,e){if(1&t&&(i.Zb(0,"p",38),i.Qc(1,ct,6,6,"ng-container",34),i.Qc(2,ut,4,4,"ng-container",34),i.Qc(3,ft,2,13,"ng-container",34),i.Qc(4,mt,9,7,"ng-container",34),i.Qc(5,_t,8,6,"ng-container",34),i.Qc(6,Ot,9,6,"ng-container",34),i.Qc(7,Rt,3,2,"ng-container",34),i.Qc(8,zt,3,2,"ng-container",34),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.sc("ngIf","string"===n.type&&"communicationMeans"!==n.id&&"externalId_m2m"!==n.id),i.Eb(1),i.sc("ngIf","integer"===n.type),i.Eb(1),i.sc("ngIf","select"===n.type),i.Eb(1),i.sc("ngIf","date"===n.type),i.Eb(1),i.sc("ngIf","radio"===n.type),i.Eb(1),i.sc("ngIf","checkbox"===n.type),i.Eb(1),i.sc("ngIf","communicationMeans"===n.id),i.Eb(1),i.sc("ngIf","externalId_m2m"===n.id)}}function Ht(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",75),i.hc("click",(function(){i.Hc(n);var t=i.lc(2).$implicit;return i.lc(4).removeField(t)})),i.Ub(1,"mat-icon",76),i.Yb()}if(2&t){var a=i.lc(2).$implicit,r=i.lc(4);i.sc("disabled",!r.canDelete(a))}}function Qt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",35),i.Qc(1,Vt,9,8,"p",36),i.Qc(2,Ht,2,1,"button",37),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",n.display),i.Eb(1),i.sc("ngIf",n.display)}}function Wt(t,e){1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.requiredField"),""))}function Gt(t,e){if(1&t&&(i.Zb(0,"p",38),i.Zb(1,"mat-form-field"),i.Ub(2,"input",77),i.Qc(3,Wt,3,3,"mat-error",34),i.Yb(),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(2),i.sc("formControl",n.control)("placeholder",n.label)("required",n.required),i.Eb(1),i.sc("ngIf",n.control.hasError("required"))}}function qt(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",75),i.hc("click",(function(){i.Hc(n);var t=i.lc(2).$implicit;return i.lc(4).removeField(t)})),i.Ub(1,"mat-icon",76),i.Yb()}if(2&t){var a=i.lc(2).$implicit,r=i.lc(4);i.sc("disabled",!r.canDelete(a))}}function Xt(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-list-item",35),i.Qc(2,Gt,4,4,"p",36),i.Qc(3,qt,2,1,"button",37),i.Yb(),i.Wb()),2&t){var n=i.lc().$implicit;i.Eb(2),i.sc("ngIf",n.display),i.Eb(1),i.sc("ngIf",n.display)}}function $t(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(6).addressBANCurrentDepartment=t})),i.Sc(1),i.Yb()}if(2&t){var a=e.$implicit;i.Eb(1),i.Tc(a)}}function Jt(t,e){if(1&t&&(i.Zb(0,"mat-option",58),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n.address," ")}}function Kt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Jt,2,2,"mat-option",56),i.mc(2,"async"),i.Wb()),2&t){var n=i.lc(6);i.Eb(1),i.sc("ngForOf",i.nc(2,1,n.addressBANFilteredResult))}}function te(t,e){if(1&t&&i.Ub(0,"mat-option",70),2&t){var n=i.lc(6);i.sc("innerHTML",n.addressBANInfo,i.Ic)}}function ee(t,e){1&t&&(i.Zb(0,"mat-option",71),i.Ub(1,"mat-spinner",72),i.Yb())}function ne(t,e){if(1&t&&(i.Zb(0,"p",38),i.Sc(1),i.Yb()),2&t){var n=i.lc(7);i.Eb(1),i.Uc(" ",n.getValue("addressAdditional1")," ")}}function ie(t,e){if(1&t&&(i.Zb(0,"p",38),i.Sc(1),i.Yb()),2&t){var n=i.lc(7);i.Eb(1),i.Uc(" ",n.getValue("addressAdditional2")," ")}}function ae(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-card",87),i.Zb(1,"mat-list-item",88),i.hc("click",(function(){return i.Hc(n),i.lc(6).goTo()})),i.Ub(2,"mat-icon",89),i.Qc(3,ne,2,1,"p",36),i.Zb(4,"p",38),i.Sc(5),i.Yb(),i.Qc(6,ie,2,1,"p",36),i.Zb(7,"p",38),i.Sc(8),i.Yb(),i.Zb(9,"p",38),i.Sc(10),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(6);i.Eb(1),i.sc("title",a.translate.instant("lang.address")),i.Eb(2),i.sc("ngIf",!a.isEmptyValue(a.getValue("addressAdditional1"))),i.Eb(2),i.Vc(" ",a.getValue("addressNumber")," ",a.getValue("addressStreet")," "),i.Eb(1),i.sc("ngIf",!a.isEmptyValue(a.getValue("addressAdditional2"))),i.Eb(2),i.Vc(" ",a.getValue("addressPostcode")," ",a.getValue("addressTown")," "),i.Eb(2),i.Uc(" ",a.getValue("addressCountry")," ")}}function re(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"mat-list-item"),i.Zb(2,"p",38),i.Zb(3,"mat-form-field",78),i.Zb(4,"button",79),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Sc(5),i.Ub(6,"i",80),i.Yb(),i.Zb(7,"mat-menu",null,81),i.Qc(9,$t,2,1,"button",82),i.Yb(),i.Ub(10,"mat-icon",83),i.Zb(11,"input",84,85),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("focus",(function(){return i.Hc(n),i.lc(5).resetAutocompleteAddressBan()})),i.Yb(),i.Zb(13,"mat-autocomplete",66,67),i.hc("optionSelected",(function(t){return i.Hc(n),i.lc(5).selectAddressBan(t)})),i.Qc(15,Kt,3,3,"ng-container",34),i.Qc(16,te,1,1,"mat-option",68),i.Qc(17,ee,2,0,"mat-option",69),i.Yb(),i.Yb(),i.Qc(18,ae,11,8,"mat-card",86),i.Yb(),i.Yb(),i.Wb()}if(2&t){var a=i.Dc(8),r=i.Dc(14),o=i.lc(5);i.Eb(4),i.sc("matMenuTriggerFor",a)("title",o.translate.instant("lang.targetDepartment")),i.Eb(1),i.Uc(" ",o.addressBANCurrentDepartment,"\xa0"),i.Eb(4),i.sc("ngForOf",o.departmentList),i.Eb(2),i.sc("placeholder",o.translate.instant("lang.searchAddressBan"))("formControl",o.addressBANControl)("matAutocomplete",r),i.Eb(4),i.sc("ngIf",o.addressBANResult.length>0&&!o.addressBANLoading),i.Eb(1),i.sc("ngIf",0===o.addressBANResult.length&&!o.addressBANLoading),i.Eb(1),i.sc("ngIf",o.addressBANLoading),i.Eb(1),i.sc("ngIf",!o.emptyAddress())}}var oe=function(){return["addressAdditional1","addressAdditional2"]};function se(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Qt,3,2,"mat-list-item",33),i.Qc(2,Xt,4,2,"ng-container",34),i.Qc(3,re,19,11,"ng-container",34),i.Wb()),2&t){var n=e.$implicit,a=e.index,r=i.lc(2).$implicit,o=i.lc(2);i.Eb(1),i.sc("ngIf",n.unit===r.id&&"address"!==r.id||n.unit===r.id&&"address"===r.id&&!o.addressBANMode),i.Eb(1),i.sc("ngIf","address"===r.id&&o.addressBANMode&&i.yc(3,oe).indexOf(n.id)>-1),i.Eb(1),i.sc("ngIf","address"===r.id&&o.addressBANMode&&0===a)}}function ce(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"mat-list"),i.Zb(2,"h3",29),i.Zb(3,"span",30),i.Sc(4),i.Yb(),i.Qc(5,at,2,1,"a",31),i.Yb(),i.Qc(6,se,4,4,"ng-container",8),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(2);i.Jb("col-sm-12","maarch2maarch"!==n.id&&"complement"!==n.id&&!a.isEmptyUnit("mainInfo")&&!a.isEmptyUnit("address"))("col-md-6","maarch2maarch"!==n.id&&"complement"!==n.id&&!a.isEmptyUnit("mainInfo")&&!a.isEmptyUnit("address"))("col-md-12","complement"===n.id||"maarch2maarch"===n.id),i.Eb(4),i.Tc(n.label),i.Eb(1),i.sc("ngIf","address"===n.id),i.Eb(1),i.sc("ngForOf",a.contactForm)}}function le(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ce,7,9,"div",28),i.Wb()),2&t){var n=e.$implicit,a=i.lc(2);i.Eb(1),i.sc("ngIf",!a.isEmptyUnit(n.id))}}function ue(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-menu",null,4),i.Zb(2,"button",5),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"button",5),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"button",5),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Zb(11,"button",5),i.Sc(12,"Maarch2Maarch"),i.Yb(),i.Yb(),i.Zb(13,"mat-menu",null,6),i.Zb(15,"button",7),i.hc("click",(function(){return i.Hc(n),i.lc().toogleAllFieldsUnit("mainInfo")})),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Ub(18,"mat-divider"),i.Qc(19,Q,2,1,"ng-container",8),i.Yb(),i.Zb(20,"mat-menu",null,9),i.Zb(22,"button",7),i.hc("click",(function(){return i.Hc(n),i.lc().toogleAllFieldsUnit("address")})),i.Sc(23),i.mc(24,"translate"),i.Yb(),i.Ub(25,"mat-divider"),i.Qc(26,q,2,1,"ng-container",8),i.Yb(),i.Zb(27,"mat-menu",null,10),i.Zb(29,"button",7),i.hc("click",(function(){return i.Hc(n),i.lc().toogleAllFieldsUnit("complement")})),i.Sc(30),i.mc(31,"translate"),i.Yb(),i.Ub(32,"mat-divider"),i.Qc(33,J,2,1,"ng-container",8),i.Yb(),i.Zb(34,"mat-menu",null,11),i.Zb(36,"button",7),i.hc("click",(function(){return i.Hc(n),i.lc().toogleAllFieldsUnit("maarch2maarch")})),i.Sc(37),i.mc(38,"translate"),i.Yb(),i.Ub(39,"mat-divider"),i.Qc(40,et,2,1,"ng-container",8),i.Yb(),i.Qc(41,nt,7,8,"div",12),i.Qc(42,it,17,22,"div",13),i.Zb(43,"div",14),i.Qc(44,le,2,1,"ng-container",8),i.Yb(),i.Zb(45,"div",15),i.Zb(46,"button",16),i.Sc(47),i.mc(48,"translate"),i.Yb(),i.Zb(49,"button",17),i.hc("click",(function(){return i.Hc(n),i.lc().onSubmit()})),i.Sc(50),i.mc(51,"translate"),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(1),r=i.Dc(14),o=i.Dc(21),s=i.Dc(28),c=i.Dc(35),l=i.lc();i.Eb(2),i.sc("matMenuTriggerFor",r)("disabled",l.noField("mainInfo")),i.Eb(1),i.Tc(i.nc(4,25,"lang.denomination")),i.Eb(2),i.sc("matMenuTriggerFor",o)("disabled",l.noField("address")),i.Eb(1),i.Tc(i.nc(7,27,"lang.address")),i.Eb(2),i.sc("matMenuTriggerFor",s)("disabled",l.noField("complement")),i.Eb(1),i.Tc(i.nc(10,29,"lang.additionals")),i.Eb(2),i.sc("matMenuTriggerFor",c)("disabled",l.noField("maarch2maarch")),i.Eb(5),i.Tc(i.nc(17,31,"lang.addAll")),i.Eb(3),i.sc("ngForOf",l.contactForm),i.Eb(4),i.Tc(i.nc(24,33,"lang.addAll")),i.Eb(3),i.sc("ngForOf",l.contactForm),i.Eb(4),i.Tc(i.nc(31,35,"lang.addAll")),i.Eb(3),i.sc("ngForOf",l.contactForm),i.Eb(4),i.Tc(i.nc(38,37,"lang.addAll")),i.Eb(3),i.sc("ngForOf",l.contactForm),i.Eb(1),i.sc("ngIf",l.fillingParameters.enable),i.Eb(1),i.sc("ngIf",null!==l.companyFound),i.Eb(2),i.sc("ngForOf",l.contactUnit),i.Eb(2),i.sc("matMenuTriggerFor",a),i.Eb(1),i.Uc("",i.nc(48,39,"lang.moreInfos"),"..."),i.Eb(3),i.Tc(i.nc(51,41,"lang.validate"))}}var de=function(){var t=function(){function t(e,n,a,r,o,s,c,l,u,d){_classCallCheck(this,t),this.translate=e,this.http=n,this.route=a,this.router=r,this.notify=o,this.headerService=s,this.appService=c,this.dialog=l,this.contactService=u,this.functions=d,this.loading=!1,this.creationMode=!0,this.contactId=null,this.onSubmitEvent=new i.o,this.maarch2maarchUrl="https://docs.maarch.org/gitbook/html/MaarchCourrier/".concat(b.a.VERSION.split(".")[0]+"."+b.a.VERSION.split(".")[1],"/guat/guat_exploitation/maarch2maarch.html"),this.contactUnit=[{id:"mainInfo",label:this.translate.instant("lang.denomination")},{id:"address",label:this.translate.instant("lang.address")},{id:"complement",label:this.translate.instant("lang.additionals")},{id:"maarch2maarch",label:"Maarch2Maarch"}],this.contactForm=[{id:"company",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_company"),type:"string",control:new h.h,required:!1,display:!0,filling:!1,values:[]},{id:"civility",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_civility"),type:"select",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"firstname",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_firstname"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"lastname",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_lastname"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"function",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_function"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"department",unit:"mainInfo",label:this.translate.instant("lang.contactsParameters_department"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"email",unit:"mainInfo",label:this.translate.instant("lang.email"),type:"string",control:new h.h,required:!1,display:!0,filling:!1,values:[]},{id:"phone",unit:"mainInfo",label:this.translate.instant("lang.phoneNumber"),type:"string",control:new h.h,required:!1,display:!0,filling:!1,values:[]},{id:"addressAdditional1",unit:"address",label:this.translate.instant("lang.contactsParameters_addressAdditional1"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressNumber",unit:"address",label:this.translate.instant("lang.contactsParameters_addressNumber"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressStreet",unit:"address",label:this.translate.instant("lang.contactsParameters_addressStreet"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressAdditional2",unit:"address",label:this.translate.instant("lang.contactsParameters_addressAdditional2"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressPostcode",unit:"address",label:this.translate.instant("lang.contactsParameters_addressPostcode"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressTown",unit:"address",label:this.translate.instant("lang.contactsParameters_addressTown"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"addressCountry",unit:"address",label:this.translate.instant("lang.contactsParameters_addressCountry"),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"communicationMeans",unit:"maarch2maarch",label:this.translate.instant("lang.communicationMean"),desc:"".concat(this.translate.instant("lang.communicationMeanDesc")," (").concat(this.translate.instant("lang.see"),' <a href="').concat(this.maarch2maarchUrl,'" target="_blank">MAARCH2MAARCH</a>)'),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]},{id:"externalId_m2m",unit:"maarch2maarch",label:this.translate.instant("lang.IdMaarch2Maarch"),desc:"".concat(this.translate.instant("lang.m2mContactInfo")," (").concat(this.translate.instant("lang.see"),' <a href="').concat(this.maarch2maarchUrl,'" target="_blank">MAARCH2MAARCH</a>)'),type:"string",control:new h.h,required:!1,display:!1,filling:!1,values:[]}],this.addressBANInfo="",this.addressBANMode=!0,this.addressBANControl=new h.h,this.addressBANLoading=!1,this.addressBANResult=[],this.addressBANCurrentDepartment="75",this.departmentList=[],this.fillingParameters=null,this.fillingRate={class:"warn",color:this.contactService.getFillingColor("first"),value:0},this.companyFound=null,this.communicationMeanInfo="",this.communicationMeanResult=[],this.communicationMeanLoading=!1,this.externalId_m2mInfo="",this.externalId_m2mResult=[],this.externalId_m2mLoading=!1,this.annuaryM2MId=null,this.annuaryEnabled=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.initBanSearch(),null===this.contactId?(this.creationMode=!0,this.http.get("../rest/contactsParameters").pipe(Object(a.a)((function(e){t.fillingParameters=e.contactsFilling,t.initElemForm(e),t.annuaryEnabled=e.annuaryEnabled})),Object(r.a)((function(){return t.http.get("../rest/civilities")})),Object(a.a)((function(e){t.initCivilities(e.civilities)})),Object(r.a)((function(){return t.http.get("../rest/contactsCustomFields")})),Object(a.a)((function(e){t.initCustomElementForm(e),t.initAutocompleteAddressBan(),t.initAutocompleteCommunicationMeans(),t.initAutocompleteExternalIdM2M()})),Object(o.a)((function(){return t.loading=!1})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(g.of)(!1)}))).subscribe()):(this.creationMode=!1,this.contactForm.forEach((function(t){t.display=!1})),this.http.get("../rest/contactsParameters").pipe(Object(a.a)((function(e){t.fillingParameters=e.contactsFilling,t.initElemForm(e),t.annuaryEnabled=e.annuaryEnabled})),Object(r.a)((function(){return t.http.get("../rest/civilities")})),Object(a.a)((function(e){t.initCivilities(e.civilities)})),Object(r.a)((function(){return t.http.get("../rest/contactsCustomFields")})),Object(a.a)((function(e){t.initCustomElementForm(e),t.initAutocompleteAddressBan(),t.initAutocompleteCommunicationMeans(),t.initAutocompleteExternalIdM2M()})),Object(r.a)((function(){return t.http.get("../rest/contacts/"+t.contactId)})),Object(c.a)((function(e){return e.fillingRate=t.contactService.formatFillingObject(e.fillingRate),e})),Object(a.a)((function(e){t.setContactData(e),t.setContactDataExternal(e)})),Object(l.a)((function(t){return null!==t.customFields})),Object(a.a)((function(e){t.setContactCustomData(e)})),Object(o.a)((function(){return t.loading=!1})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(g.of)(!1)}))).subscribe())}},{key:"initElemForm",value:function(t){var e=this,n=[];t.contactsParameters.forEach((function(t){var i=e.contactForm.filter((function(e){return e.id===t.identifier}))[0];if(n=[],void 0===i&&void 0!==t.identifier.split("_")[1]){var a;a={id:"customField_"+t.identifier.split("_")[1],unit:"complement",label:null,type:null,control:new h.h,required:!1,display:!1,values:[]},e.contactForm.push(a),i=e.contactForm.filter((function(t){return t.id===a.id}))[0]}void 0!==i&&((t.filling&&e.fillingParameters.enable&&e.creationMode||t.mandatory)&&(i.display=!0),t.filling&&e.fillingParameters.enable&&(i.filling=!0),"email"===t.identifier?n.push(h.H.email):"phone"===t.identifier&&n.push(h.H.pattern(/^\+?((|\ |\.|\(|\)|\-)?(\d)*)*\d$/)),t.mandatory&&(i.required=!0,n.push(h.H.required)),i.control.setValidators(n))}))}},{key:"initCivilities",value:function(t){var e=[];Object.keys(t).forEach((function(n){e.push({id:n,label:t[n].label})})),this.contactForm.filter((function(t){return"civility"===t.id}))[0].values=e}},{key:"initCustomElementForm",value:function(t){var e=this,n=[],i={};t.customFields.forEach((function(t){n=[],void 0!==(i=e.contactForm.filter((function(e){return e.id==="customField_"+t.id}))[0])&&(i.label=t.label,i.type=t.type,i.values=t.values.map((function(t){return{id:t,label:t}})),"integer"===t.type&&(n.push(h.H.pattern(/^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/)),i.control.setValidators(n)))}))}},{key:"setContactData",value:function(t){var e=this,n=-1;Object.keys(t).forEach((function(i){n=e.contactForm.map((function(t){return t.id})).indexOf(i),!e.isEmptyValue(t[i])&&n>-1&&(e.contactForm[n].control.setValue("civility"===i?t[i].id:t[i]),"company"===i&&e.isEmptyValue(e.contactForm.filter((function(t){return"lastname"===t.id}))[0].control.value)?e.contactForm.filter((function(t){return"lastname"===t.id}))[0].display=!1:"lastname"===i&&e.isEmptyValue(e.contactForm.filter((function(t){return"company"===t.id}))[0].control.value)&&(e.contactForm.filter((function(t){return"company"===t.id}))[0].display=!1),e.contactForm[n].display=!0)})),this.isEmptyValue(this.contactForm.filter((function(t){return"company"===t.id}))[0].control.value)&&!this.isEmptyValue(this.contactForm.filter((function(t){return"lastname"===t.id}))[0].control.value)&&(this.contactForm.filter((function(t){return"company"===t.id}))[0].display=!1),this.checkFilling()}},{key:"setContactDataExternal",value:function(t){var e=this;void 0!==t.externalId&&Object.keys(t.externalId).forEach((function(n){e.isEmptyValue(t.externalId[n])||("m2m"===n?(e.contactForm.filter((function(t){return"externalId_m2m"===t.id}))[0].control.setValue(t.externalId[n]),e.contactForm.filter((function(t){return"externalId_m2m"===t.id}))[0].display=!0):e.contactForm.push("m2m_annuary_id"===n?{id:"externalId_"+n,unit:"maarch2maarch",label:n,type:"string",control:new h.h({value:t.externalId[n],disabled:!0}),required:!1,display:!0,filling:!1,values:[]}:{id:"externalId_"+n,unit:"complement",label:n,type:"string",control:new h.h({value:t.externalId[n],disabled:!0}),required:!1,display:!0,filling:!1,values:[]}))}))}},{key:"setContactCustomData",value:function(t){var e=this,n=-1;Object.keys(t.customFields).forEach((function(i){if(n=e.contactForm.map((function(t){return t.id})).indexOf("customField_"+i),!e.isEmptyValue(t.customFields[i])&&n>-1){if("date"===e.contactForm[n].type){var a=new Date(e.functions.formatFrenchDateToTechnicalDate(t.customFields[i]));t.customFields[i]=a}e.contactForm[n].control.setValue(t.customFields[i]),e.contactForm[n].display=!0}})),this.checkFilling()}},{key:"initBanSearch",value:function(){var t=this;this.http.get("../rest/ban/availableDepartments").pipe(Object(a.a)((function(e){null!==e.default&&-1!==e.departments.indexOf(e.default.toString())&&(t.addressBANCurrentDepartment=e.default),t.departmentList=e.departments})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(g.of)(!1)}))).subscribe()}},{key:"isValidForm",value:function(){var t=!0;return this.contactForm.filter((function(t){return t.display})).forEach((function(e){"DISABLED"!==e.control.status&&"VALID"!==e.control.status&&(t=!1),e.control.markAsTouched()})),t}},{key:"onSubmit",value:function(){this.checkFilling(),this.addressBANMode&&this.emptyAddress()&&!this.noAddressRequired()?this.notify.error(this.translate.instant("lang.chooseBAN")):this.isValidForm()?null!==this.contactId?this.updateContact():this.createContact():this.notify.error(this.translate.instant("lang.mustFixErrors"))}},{key:"createContact",value:function(){var t=this;this.http.post("../rest/contacts",this.formatContact()).pipe(Object(a.a)((function(e){t.onSubmitEvent.emit(e.id),t.notify.success(t.translate.instant("lang.contactAdded")),t.functions.empty(e.warning)||t.notify.error(e.warning)})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(g.of)(!1)}))).subscribe()}},{key:"updateContact",value:function(){var t=this;this.http.put("../rest/contacts/"+this.contactId,this.formatContact()).pipe(Object(a.a)((function(e){t.onSubmitEvent.emit(t.contactId),t.notify.success(t.translate.instant("lang.contactUpdated")),t.functions.empty(e)||t.functions.empty(e.warning)||t.notify.error(e.warning)})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(g.of)(!1)}))).subscribe()}},{key:"formatContact",value:function(){var t=this,e={customFields:{},externalId:{}},n=/customField_[.]*/g,i=/externalId_[.]*/g;return this.contactForm.filter((function(t){return t.display})).forEach((function(a){if("date"===a.type&&!t.functions.empty(a.control.value)){var r=new Date(a.control.value);a.control.value=t.functions.formatDateObjectToDateString(r)}null!==a.id.match(n)?e.customFields[a.id.split(/_(.+)/)[1]]=a.control.value:null!==a.id.match(i)?e.externalId[a.id.split(/_(.+)/)[1]]=a.control.value:e[a.id]=a.control.value})),e}},{key:"isEmptyUnit",value:function(t){return 0===this.contactForm.filter((function(e){return e.display&&e.unit===t})).length}},{key:"initForm",value:function(){this.contactForm.forEach((function(t){t.control=new h.h({value:"",disabled:!1})}))}},{key:"toogleAllFieldsUnit",value:function(t){this.contactForm.filter((function(e){return e.unit===t})).forEach((function(t){t.display=!0}))}},{key:"noField",value:function(t){return 0===this.contactForm.filter((function(e){return!e.display&&e.unit===t})).length}},{key:"isEmptyValue",value:function(t){return null==t||(Array.isArray(t)?!(t.length>0):""===String(t))}},{key:"checkCompany",value:function(t){var e=this;"company"!==t.id||""===t.control.value||null!==this.companyFound&&this.companyFound.company===t.control.value?"company"===t.id&&""===t.control.value&&(this.companyFound=null):this.http.get("../rest/autocomplete/contacts/company?search="+t.control.value).pipe(Object(a.a)((function(){return e.companyFound=null})),Object(l.a)((function(t){return t.length>0})),Object(a.a)((function(t){e.functions.empty(t[0].addressNumber)&&e.functions.empty(t[0].addressStreet)&&e.functions.empty(t[0].addressPostcode)&&e.functions.empty(t[0].addressTown)&&e.functions.empty(t[0].addressCountry)||(e.companyFound=t[0])})),Object(s.a)((function(t){return e.notify.handleErrors(t),Object(g.of)(!1)}))).subscribe()}},{key:"setAddress",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.companyFound=null;var i=-1;Object.keys(t).forEach((function(n){i=e.contactForm.map((function(t){return t.id})).indexOf(n),!e.isEmptyValue(t[n])&&i>-1&&["company","addressNumber","addressStreet","addressAdditional2","addressPostcode","addressTown","addressCountry"].indexOf(n)>-1&&(e.contactForm[i].control.setValue(t[n]),e.contactForm[i].display=!0)})),this.checkFilling(),this.addressBANMode=!n}},{key:"canDelete",value:function(t){if("company"===t.id){var e=this.contactForm.filter((function(t){return"lastname"===t.id}))[0];if(e.display&&!this.isEmptyValue(e.control.value))return t.control.setValidators([]),t.required=!1,!0;var n=[];return n.push(h.H.required),t.control.setValidators(n),t.required=!0,!1}if("lastname"===t.id){var i=this.contactForm.filter((function(t){return"company"===t.id}))[0];if(i.display&&!this.isEmptyValue(i.control.value))return t.control.setValidators([]),t.required=!1,!0;var a=[];return a.push(h.H.required),t.control.setValidators(a),t.required=!0,!1}return!t.required&&!t.control.disabled}},{key:"removeField",value:function(t){if(t.display=!t.display,t.control.reset(),("externalId_m2m"===t.id||"communicationMeans"===t.id)&&!t.display){var e=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m_annuary_id");e>-1&&this.contactForm.splice(e,1)}this.checkFilling()}},{key:"initAutocompleteCommunicationMeans",value:function(){var t=this;this.communicationMeanInfo=this.translate.instant("lang.autocompleteInfo"),this.communicationMeanResult=[];var e=this.contactForm.map((function(t){return t.id})).indexOf("communicationMeans");this.contactForm[e].control.valueChanges.pipe(Object(u.a)(300),Object(l.a)((function(t){return t.length>2})),Object(d.a)(),Object(a.a)((function(){return t.communicationMeanLoading=!0})),Object(f.a)((function(e){return t.http.get("../rest/autocomplete/ouM2MAnnuary",{params:{company:e}})})),Object(a.a)((function(e){t.communicationMeanInfo=t.isEmptyValue(e)?t.translate.instant("lang.noAvailableValue"):"",t.communicationMeanResult=e,t.communicationMeanFilteredResult=Object(g.of)(t.communicationMeanResult),t.communicationMeanLoading=!1})),Object(s.a)((function(e){return t.communicationMeanInfo=e.error.errors,t.communicationMeanLoading=!1,Object(g.of)(!1)}))).subscribe()}},{key:"selectCommunicationMean",value:function(t){var e=this.contactForm.map((function(t){return t.id})).indexOf("communicationMeans");this.contactForm[e].control.setValue(t.option.value.communicationValue);var n=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m");this.contactForm[n].control.setValue(t.option.value.businessIdValue+"/"),this.contactForm[n].display=!0;var i=this.contactForm.map((function(t){return t.id})).indexOf("department");this.contactForm[i].display=!0}},{key:"initAutocompleteExternalIdM2M",value:function(){var t=this;this.externalId_m2mInfo=this.translate.instant("lang.autocompleteInfo"),this.externalId_m2mResult=[];var e=this.contactForm.map((function(t){return t.id})).indexOf("communicationMeans"),n=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m");this.contactForm[n].control.valueChanges.pipe(Object(u.a)(300),Object(d.a)(),Object(a.a)((function(){return t.externalId_m2mLoading=!0})),Object(f.a)((function(n){return t.http.get("../rest/autocomplete/businessIdM2MAnnuary",{params:{query:n,communicationValue:t.contactForm[e].control.value}})})),Object(a.a)((function(e){t.externalId_m2mInfo=t.isEmptyValue(e)?t.translate.instant("lang.noAvailableValue"):"",t.externalId_m2mResult=e,t.externalId_m2mFilteredResult=Object(g.of)(t.externalId_m2mResult),t.externalId_m2mLoading=!1})),Object(s.a)((function(e){return t.externalId_m2mInfo=e.error.errors,t.externalId_m2mLoading=!1,Object(g.of)(!1)}))).subscribe()}},{key:"selectExternalIdM2M",value:function(t){var e=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m");this.contactForm[e].control.setValue(t.option.value.businessIdValue);var n=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m_annuary_id");this.contactForm[n].control.setValue(t.option.value.entryuuid)}},{key:"resetAutocompleteExternalIdM2M",value:function(){var t;(t=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m_annuary_id"))>-1?this.contactForm[t].control.setValue(""):this.contactForm.push({id:"externalId_m2m_annuary_id",unit:"maarch2maarch",label:"m2m_annuary_id",type:"string",control:new h.h({value:"",disabled:!0}),required:!1,display:!0,filling:!1,values:[]})}},{key:"resetM2MFields",value:function(){var t;t=this.contactForm.map((function(t){return t.id})).indexOf("externalId_m2m"),this.contactForm[t].control.setValue(""),this.resetAutocompleteExternalIdM2M()}},{key:"initAutocompleteAddressBan",value:function(){var t=this;this.addressBANInfo=this.translate.instant("lang.autocompleteInfo"),this.addressBANResult=[],this.addressBANControl.valueChanges.pipe(Object(u.a)(300),Object(l.a)((function(t){return t.length>2})),Object(d.a)(),Object(a.a)((function(){return t.addressBANLoading=!0})),Object(f.a)((function(e){return t.http.get("../rest/autocomplete/banAddresses",{params:{address:e,department:t.addressBANCurrentDepartment}})})),Object(a.a)((function(e){t.addressBANInfo=0===e.length?t.translate.instant("lang.noAvailableValue"):"",t.addressBANResult=e,t.addressBANFilteredResult=Object(g.of)(t.addressBANResult),t.addressBANLoading=!1}))).subscribe()}},{key:"resetAutocompleteAddressBan",value:function(){this.addressBANResult=[],this.addressBANInfo=this.translate.instant("lang.autocompleteInfo")}},{key:"selectAddressBan",value:function(t){this.setAddress({addressNumber:t.option.value.number,addressStreet:t.option.value.afnorName,addressPostcode:t.option.value.postalCode,addressTown:t.option.value.city,addressCountry:"FRANCE"},!1),this.addressBANControl.setValue("")}},{key:"getValue",value:function(t){return this.contactForm.filter((function(e){return e.id===t}))[0].control.value}},{key:"emptyAddress",value:function(){var t=this;return 5===this.contactForm.filter((function(e){return t.isEmptyValue(e.control.value)&&["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(e.id)>-1})).length}},{key:"noAddressRequired",value:function(){return 5===this.contactForm.filter((function(t){return!t.required&&["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1})).length}},{key:"goTo",value:function(){var t=this.contactForm.filter((function(t){return"addressNumber"===t.id}))[0].control.value,e=this.contactForm.filter((function(t){return"addressStreet"===t.id}))[0].control.value,n=this.contactForm.filter((function(t){return"addressPostcode"===t.id}))[0].control.value,i=this.contactForm.filter((function(t){return"addressTown"===t.id}))[0].control.value,a=this.contactForm.filter((function(t){return"addressCountry"===t.id}))[0].control.value;window.open("https://www.google.com/maps/search/".concat(t,"+").concat(e,",+").concat(n,"+").concat(i,",+").concat(a),"_blank")}},{key:"switchAddressMode",value:function(){var t=[];this.addressBANMode?(t.push(h.H.required),this.contactForm.filter((function(t){return["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1})).forEach((function(e){e.mandatory&&e.control.setValidators(t)})),this.addressBANMode=!this.addressBANMode):(this.contactForm.filter((function(t){return["addressNumber","addressStreet","addressPostcode","addressTown","addressCountry"].indexOf(t.id)>-1})).forEach((function(e){e.mandatory&&e.control.setValidators(t)})),this.addressBANMode=!this.addressBANMode)}},{key:"getErrorMsg",value:function(t){if(!this.isEmptyValue(t))return void 0!==t.required?this.translate.instant("lang.requiredField"):void 0!==t.pattern||void 0!==t.email?this.translate.instant("lang.badFormat"):"unknow validator"}},{key:"checkFilling",value:function(){var t=this,e=this.contactForm.filter((function(t){return t.filling})).length,n=this.contactForm.filter((function(e){return!t.isEmptyValue(e.control.value)&&e.filling})).length;this.fillingRate.value=Math.round(100*n/e),this.fillingRate.value<=this.fillingParameters.first_threshold?(this.fillingRate.color=this.contactService.getFillingColor("first"),this.fillingRate.class="warn"):this.fillingRate.value<=this.fillingParameters.second_threshold?(this.fillingRate.color=this.contactService.getFillingColor("second"),this.fillingRate.class="primary"):(this.fillingRate.color=this.contactService.getFillingColor("third"),this.fillingRate.class="accent")}},{key:"toUpperCase",value:function(t,e){setTimeout((function(){var e=t.control.value;if(["lastname"].indexOf(t.id)>-1)t.control.setValue(e.toUpperCase());else if(["firstname","company"].indexOf(t.id)>-1){for(var n=e.toLowerCase().split(" "),i=0;i<n.length;i++)n[i]=n[i].charAt(0).toUpperCase()+n[i].substring(1);n=(n=n.join(" ")).split("-");for(var a=0;a<n.length;a++)n[a]=n[a].charAt(0).toUpperCase()+n[a].substring(1);t.control.setValue(n.join("-"))}}),100)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(v.e),i.Tb(y.b),i.Tb(_.a),i.Tb(_.c),i.Tb(k.a),i.Tb(C.a),i.Tb(x.a),i.Tb(w.b),i.Tb(p.a),i.Tb(O.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-contact-form"]],viewQuery:function(t,e){var n;1&t&&i.Oc(B,!0),2&t&&i.Cc(n=i.ic())&&(e.sidenavRight=n.first)},inputs:{creationMode:"creationMode",contactId:"contactId"},outputs:{onSubmitEvent:"onSubmitEvent"},features:[i.Db([p.a])],decls:3,vars:2,consts:[["class","loading",4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],[2,"margin","auto"],["menu","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor","disabled"],["mainInfo","matMenu"],["mat-menu-item","",2,"text-align","center",3,"click"],[4,"ngFor","ngForOf"],["address","matMenu"],["complement","matMenu"],["maarch2maarch","matMenu"],["style","padding: 10px;",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[1,"row",2,"margin","0px"],[2,"text-align","center","padding-top","10px"],["mat-raised-button","","color","default","type","button",3,"matMenuTriggerFor"],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["style","height: auto;padding-right: 10px;","class","fas fa-circle rate",3,"title","color",4,"ngIf"],[1,"fas","fa-circle","rate",2,"height","auto","padding-right","10px",3,"title"],[2,"padding","10px"],[1,"rate"],["mode","determinate",1,"fillingBar",3,"color","value"],["role","alert",1,"alert-message","alert-message-info"],[2,"cursor","pointer","font-weight","bold","font-style","italic",3,"click"],[2,"font-weight","bold","width","100%","display","block","text-align","center"],[3,"col-sm-12","col-md-6","col-md-12",4,"ngIf"],["mat-subheader","",1,"unitTitle"],[2,"flex","1"],["style","cursor: pointer;",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","contact-item",4,"ngIf"],[4,"ngIf"],[1,"contact-item"],["mat-line","","class","contact-content",4,"ngIf"],["mat-icon-button","","matSuffix","","color","warn",3,"disabled","click",4,"ngIf"],["mat-line","",1,"contact-content"],["matInput","",3,"formControl","placeholder","required","blur","ngModelChange"],["align","end",3,"innerHTML",4,"ngIf"],["style","height: auto;","matSuffix","","class","fas fa-circle rate",3,"title","color",4,"ngIf"],["align","end",3,"innerHTML"],["matSuffix","",1,"fas","fa-circle","rate",2,"height","auto",3,"title"],["type","text","matInput","","min","0","step","0.1",3,"formControl","placeholder","required"],[3,"label","required","showLabel","formControlSelect","placeholderLabel","hideErrorDesc","datas","suffixIcon"],["matInput","","readonly","",2,"cursor","pointer",3,"formControl","matDatepicker","placeholder"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[1,"labelCustom"],["color","primary",1,"radio-form",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["style","position:absolute;height: auto;padding-right: 10px;right: 0px;z-index: 1;top: 50%;transform: translateY(-50%);","class","fas fa-circle rate",3,"title","color",4,"ngIf"],[3,"value"],[1,"fas","fa-circle","rate",2,"position","absolute","height","auto","padding-right","10px","right","0px","z-index","1","top","50%","transform","translateY(-50%)",3,"title"],[1,"checkbox-form",3,"formControl"],["shoes",""],["color","primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],["color","primary","checkboxPosition","before",3,"value"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","click","keyup"],["autoCompleteInputCommunicationMean",""],[3,"optionSelected"],["auto","matAutocomplete"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["type","text","matInput","",3,"placeholder","formControl"],["autoCompleteInputExternalIdM2M",""],["mat-icon-button","","matSuffix","","color","warn",3,"disabled","click"],[1,"fa","fa-trash"],["matInput","",3,"formControl","placeholder","required"],["appearance","outline",1,"smallInput"],["mat-button","","matSuffix","",3,"matMenuTriggerFor","title","click"],[1,"fa","fa-chevron-down"],["menuDep","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","primary","matPrefix","",1,"fa","fa-search",2,"font-size","15px"],["type","text","matInput","","maxlength","128",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],["style","margin:10px;",4,"ngIf"],[2,"margin","10px"],[1,"contact-address",3,"title","click"],["mat-list-icon","","color","primary",1,"contact-group","fas","fa-map-marker-alt"]],template:function(t,e){if(1&t&&(i.Qc(0,z,2,0,"div",0),i.Qc(1,ue,52,43,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[S.t,E.c,M.e,M.b,M.d,I.a,S.s,P.b,T.a,A.a,D.a,D.g,D.d,R.k,L.c,F.b,h.c,h.t,h.i,h.E,L.f,L.b,L.j,j.a,L.g,Y.f,Y.d,Y.h,Z.b,Z.a,D.i,D.f,N.d,N.a,R.o,L.i,h.o,U.a,D.c],pipes:[v.d,S.b],styles:[".contact-item[_ngcontent-%COMP%]{height:auto!important}.unitTitle[_ngcontent-%COMP%]{display:flex;color:#135f7f}.contact-address[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7}.contact-address[_ngcontent-%COMP%]:hover   .contact-content[_ngcontent-%COMP%]{text-decoration:underline}.contact-content[_ngcontent-%COMP%]{position:relative}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{width:30px;height:25px;color:#135f7f}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;line-height:normal;align-items:center}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.radio-form[_ngcontent-%COMP%]{display:flex}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1;max-width:250px}.checkbox-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);overflow:auto;max-height:200px;border:1px solid rgba(0,0,0,.12);border-radius:5px}.loading[_ngcontent-%COMP%]{display:flex;height:100%}.fillingBar[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background:#e4e8eb}.rate[_ngcontent-%COMP%]{font-size:10px;text-align:right}.fillingBar.mat-warn[_ngcontent-%COMP%]    .mat-progress-bar-fill:after{background-color:#e81c2b}.fillingBar.mat-primary[_ngcontent-%COMP%]    .mat-progress-bar-fill:after{background-color:#f4891e}.fillingBar.mat-accent[_ngcontent-%COMP%]    .mat-progress-bar-fill:after{background-color:#0aa34f}.mat-error[_ngcontent-%COMP%]{font-size:10px;text-align:right;font-weight:700}.labelCustom[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);transform:scale(.75) translateX(-15%);font-weight:400}.alert-message-info[_ngcontent-%COMP%]{margin:10px auto auto;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;padding:0;overflow:hidden}"],data:{animation:[Object(m.n)("hideShow",[Object(m.m)(":enter",[Object(m.l)({height:"0px"}),Object(m.e)("200ms",Object(m.l)({height:"30px"}))]),Object(m.m)(":leave",[Object(m.l)({height:"30px"}),Object(m.e)("200ms",Object(m.l)({height:"0px"}))])])]}}),t}()},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("LRne"),a=n("0EUg");function r(){return Object(a.a)()(Object(i.a).apply(void 0,arguments))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,a=n("7o/Q"),r=n("2QA8"),o=n("gRHU"),s=n("kJWO"),c=n("mCNh"),l=n("2fFW"),u=((i=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,s=function(t,e,n){if(t){if(t instanceof a.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new a.a(t,e,n):new a.a(o.a)}(t,e,n);if(s.add(i?i.call(s,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof a.a?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=d(e))((function(e,i){var a;a=n.subscribe((function(e){try{t(e)}catch(n){i(n),a&&a.unsubscribe()}}),i,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(c.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=d(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))}}]),t}()).create=function(t){return new i(t)},i);function d(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HZF8:function(t,e,n){"use strict";var i=n("zfKp");e.isInteropObservable=function(t){return t&&"function"==typeof t[i.observable]}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},I65S:function(t,e,n){"use strict";var i=n("nzqU"),a=n("zzsZ"),r=n("2qMH");e.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return i.isScheduler(n)?(t.pop(),r.scheduleArray(t,n)):a.fromArray(t)}},IKMM:function(t,e,n){"use strict";var i=n("I65S"),a=n("c4Wt");e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.concatAll()(i.of.apply(void 0,t))}},IOqN:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var i=n("mrSG"),a=n("fXoL"),r=n("pLZG"),o=n("vkgz"),s=n("JIr8"),c=n("2c88"),l=n("ds6q"),u=n("I65S"),d=n("sYmb"),f=n("tk/3"),h=n("0IaG"),p=n("AXEc"),m=n("jhN1"),g=n("4zkx"),b=n("ofXK"),v=n("bTqV"),y=n("NFeN"),_=["collaboraFrame"];function k(t,e){1&t&&(a.Zb(0,"div",8),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc("",a.nc(2,1,"lang.checkCollaboraOnlineServer"),"..."))}function C(t,e){if(1&t&&a.Ub(0,"iframe",9,10),2&t){var n=a.lc();a.sc("src",n.editorUrl,a.Jc)}}var x=function(){var t=function(){function t(e,n,i,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=i,this.notify=r,this.sanitizer=o,this.headerService=s,this.loading=!0,this.editMode=!1,this.file={},this.params={},this.triggerAfterUpdatedDoc=new a.o,this.triggerCloseEditor=new a.o,this.triggerModifiedDocument=new a.o,this.key=0,this.isSaving=!1,this.isModified=!1,this.fullscreenMode=!1,this.hideButtons=!1,this.allowedExtension=["doc","docx","dotx","odt","ott","rtf","txt","html","xlsl","xlsx","xltx","ods","ots","csv"],this.eventAction=new l.Subject,this.editorUrl="",this.token=""}return _createClass(t,[{key:"onMessage",value:function(t){var e=this,n=JSON.parse(t.data);"Doc_ModifiedStatus"===n.MessageId&&!1===n.Values.Modified&&(this.isModified=!1),"Action_Save_Resp"!==n.MessageId||!0!==n.Values.success||this.isModified?"Doc_ModifiedStatus"===n.MessageId&&!1===n.Values.Modified&&this.isSaving?(this.triggerAfterUpdatedDoc.emit(),this.getTmpFile()):"Doc_ModifiedStatus"===n.MessageId&&!0===n.Values.Modified?(this.isModified=!0,this.triggerModifiedDocument.emit()):"App_LoadingStatus"===n.MessageId&&"Document_Loaded"===n.Values.Status&&this.collaboraFrame.nativeElement.contentWindow.postMessage(JSON.stringify({MessageId:"Host_PostmessageReady"}),"*"):setTimeout((function(){e.triggerAfterUpdatedDoc.emit(),e.getTmpFile()}),500)}},{key:"quit",value:function(){var t=this;this.dialogRef=this.dialog.open(c.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.close"),msg:this.translate.instant("lang.confirmCloseEditor")}}),this.dialogRef.afterClosed().pipe(Object(r.a)((function(t){return"ok"===t})),Object(o.a)((function(){t.closeEditor()}))).subscribe()}},{key:"closeEditor",value:function(){null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),$("iframe[name='frameEditor']").css("position","initial"),this.fullscreenMode=!1,this.collaboraFrame.nativeElement.contentWindow.postMessage(JSON.stringify({MessageId:"Action_Close",Values:null}),"*"),this.deleteTmpFile(),this.triggerAfterUpdatedDoc.emit(),this.triggerCloseEditor.emit()}},{key:"saveDocument",value:function(){this.isSaving=!0,this.collaboraFrame.nativeElement.contentWindow.postMessage(JSON.stringify({MessageId:"Action_Save",Values:{Notify:!0,ExtendedData:"FinalSave=True",DontTerminateEdit:!0,DontSaveIfUnmodified:!1}}),"*")}},{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.key=this.generateUniqueId(10),t.t0=this.canLaunchCollaboraOnline(),!t.t0){t.next=20;break}return t.next=5,this.checkServerStatus();case 5:if(this.params.objectPath=void 0,"string"==typeof this.params.objectId&&("templateModification"===this.params.objectType||"templateCreation"===this.params.objectType)){t.next=16;break}if(t.t1="string"==typeof this.params.objectId&&"encodedResource"===this.params.objectType,!t.t1){t.next=14;break}return this.params.content=this.params.objectId,this.params.objectId=this.key,this.params.objectType="templateEncoded",t.next=14,this.saveEncodedFile();case 14:t.next=17;break;case 16:this.params.objectPath=this.params.objectId,this.params.objectId=this.key;case 17:return t.next=19,this.getConfiguration();case 19:this.loading=!1;case 20:case"end":return t.stop()}}),t,this)})))}},{key:"canLaunchCollaboraOnline",value:function(){return!!this.isAllowedEditExtension(this.file.format)||(this.notify.error(this.translate.instant("lang.onlyofficeEditDenied")+" <b>"+this.file.format+"</b> "+this.translate.instant("lang.collaboraOnlineEditDenied2")),this.triggerCloseEditor.emit(),!1)}},{key:"checkServerStatus",value:function(){var t=this;return new Promise((function(e){"127.0.0.1"===location.host||"localhost"===location.host?(t.notify.error(""+t.translate.instant("lang.errorCollaboraOnline1")),t.triggerCloseEditor.emit()):t.http.get("../rest/collaboraOnline/available").pipe(Object(o.a)((function(n){n.isAvailable?e(!0):(t.notify.error(""+t.translate.instant("lang.errorCollaboraOnline2")),t.triggerCloseEditor.emit())})),Object(s.a)((function(e){return t.notify.error(t.translate.instant("lang."+e.error.lang)),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"getTmpFile",value:function(){var t=this;return new Promise((function(e){t.http.post("../rest/collaboraOnline/file",{token:t.token}).pipe(Object(o.a)((function(n){t.file={name:t.key,format:n.format,type:null,contentMode:"base64",content:n.content,src:null},t.eventAction.next(t.file),e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"deleteTmpFile",value:function(){var t=this;return new Promise((function(e){t.http.delete("../rest/collaboraOnline/file?token="+t.token).pipe(Object(o.a)((function(){e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"saveEncodedFile",value:function(){var t=this;return new Promise((function(e){t.http.post("../rest/collaboraOnline/encodedFile",{content:t.params.content,format:t.file.format,key:t.key}).pipe(Object(o.a)((function(){e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"generateUniqueId",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",n="0123456789".length,i=0;i<t;i++)e+="0123456789".charAt(Math.floor(Math.random()*n));return parseInt(e,10)}},{key:"ngAfterViewInit",value:function(){}},{key:"getConfiguration",value:function(){var t=this;return new Promise((function(e){t.http.post("../rest/collaboraOnline/configuration",{resId:t.params.objectId,type:t.params.objectType,format:t.file.format,path:t.params.objectPath,data:t.params.dataToMerge,lang:t.translate.instant("lang.langISO")}).pipe(Object(o.a)((function(n){t.editorUrl=n.url,t.editorUrl=t.sanitizer.bypassSecurityTrustResourceUrl(t.editorUrl),t.token=n.token,e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),t.triggerCloseEditor.emit(),Object(u.of)(!1)}))).subscribe()}))}},{key:"getFile",value:function(){return this.saveDocument(),this.eventAction.asObservable()}},{key:"ngOnDestroy",value:function(){this.eventAction.complete()}},{key:"openFullscreen",value:function(){var t=$("iframe[name='frameEditor']");t.css("top","0px"),t.css("left","0px"),this.fullscreenMode?(null===this.headerService.sideNavLeft||this.headerService.hideSideBar||this.headerService.sideNavLeft.open(),t.css("position","initial"),t.css("z-index","1")):(null!==this.headerService.sideNavLeft&&this.headerService.sideNavLeft.close(),t.css("position","fixed"),t.css("z-index","2")),this.fullscreenMode=!this.fullscreenMode}},{key:"isAllowedEditExtension",value:function(t){return this.allowedExtension.filter((function(e){return e.toLowerCase()===t.toLowerCase()})).length>0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(d.e),a.Tb(f.b),a.Tb(h.b),a.Tb(p.a),a.Tb(m.b),a.Tb(g.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-collabora-online-viewer"]],viewQuery:function(t,e){var n;1&t&&a.ad(_,!0),2&t&&a.Cc(n=a.ic())&&(e.collaboraFrame=n.first)},hostBindings:function(t,e){1&t&&a.hc("message",(function(t){return e.onMessage(t)}),!1,a.Gc)},inputs:{editMode:"editMode",file:"file",params:"params"},outputs:{triggerAfterUpdatedDoc:"triggerAfterUpdatedDoc",triggerCloseEditor:"triggerCloseEditor",triggerModifiedDocument:"triggerModifiedDocument"},decls:8,vars:21,consts:[["style","display:block;padding: 10px;",4,"ngIf"],["mat-mini-fab","","color","warn",1,"collaboraOnlineButton_fullscreen",3,"title","click"],[1,"fa","fa-times",2,"height","auto"],["mat-mini-fab","","color","default",1,"collaboraOnlineButton_close",3,"title","click"],[1,"fas",2,"height","auto"],["mat-mini-fab","","color","default",1,"collaboraOnlineButton_hide",3,"title","click"],[1,"fa","fa-arrow-right",2,"height","auto"],["id","collabora","width","100%","height","100%","name","frameEditor",3,"src",4,"ngIf"],[2,"display","block","padding","10px"],["id","collabora","width","100%","height","100%","name","frameEditor",3,"src"],["collaboraFrame",""]],template:function(t,e){1&t&&(a.Qc(0,k,3,3,"div",0),a.Zb(1,"button",1),a.hc("click",(function(){return e.quit()})),a.Ub(2,"mat-icon",2),a.Yb(),a.Zb(3,"button",3),a.hc("click",(function(){return e.openFullscreen()})),a.Ub(4,"mat-icon",4),a.Yb(),a.Zb(5,"button",5),a.hc("click",(function(){return e.hideButtons=!e.hideButtons})),a.Ub(6,"mat-icon",6),a.Yb(),a.Qc(7,C,2,1,"iframe",7)),2&t&&(a.sc("ngIf",e.loading),a.Eb(1),a.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),a.sc("title",e.translate.instant("lang.closeEditor")),a.Eb(2),a.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),a.sc("title",e.translate.instant(e.fullscreenMode?"lang.closeFullscreen":"lang.openFullscreen")),a.Eb(1),a.Jb("fa-expand",!e.fullscreenMode)("fa-compress",e.fullscreenMode),a.Eb(1),a.Jb("buttonsHide",e.hideButtons)("fullScreen",e.fullscreenMode),a.sc("title",e.translate.instant(e.hideButtons?"lang.showTool":"lang.hideTool")),a.Eb(2),a.sc("ngIf",""!==e.editorUrl))},directives:[b.t,v.b,y.a],pipes:[d.d],styles:[".collaboraOnlineButton_close[_ngcontent-%COMP%], .collaboraOnlineButton_fullscreen[_ngcontent-%COMP%], .collaboraOnlineButton_hide[_ngcontent-%COMP%], .collaboraOnlineButton_show[_ngcontent-%COMP%]{position:absolute;top:12px;z-index:3;transition:all .5s}.collaboraOnlineButton_fullscreen[_ngcontent-%COMP%]{right:6px}.collaboraOnlineButton_close[_ngcontent-%COMP%]{right:56px}.collaboraOnlineButton_hide[_ngcontent-%COMP%]{right:106px}.collaboraOnlineButton_show[_ngcontent-%COMP%]{right:-15px}.fullScreen[_ngcontent-%COMP%]{position:fixed}.fullScreenEditor[_ngcontent-%COMP%]{top:0;left:0}.buttonsHide[_ngcontent-%COMP%]{top:-15px;right:-15px;transform:rotate(125deg);transition:all .5s}"]}),t}()},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return _classCallCheck(this,n),(a=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(a)?n.delegate.now():r()}))).actions=[],a.active=!1,a.scheduled=void 0,a}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(i)},IkSl:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return f}));var i,a,r,o=n("fXoL"),s=["pdfViewerContainer"],c=function(t){var e,n=new t.EventBus(!0);return(e=n).on("documentload",(function(){var t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)})),e.on("pagerendered",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:t.pageNumber,cssTransform:t.cssTransform}),t.source.div.dispatchEvent(e)})),e.on("textlayerrendered",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t.pageNumber}),t.source.textLayerDiv.dispatchEvent(e)})),e.on("pagechanging",(function(t){var e=document.createEvent("UIEvents");e.initEvent("pagechanging",!0,!0),e.pageNumber=t.pageNumber,t.source.container.dispatchEvent(e)})),e.on("pagesinit",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null),t.source.container.dispatchEvent(e)})),e.on("pagesloaded",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t.pagesCount}),t.source.container.dispatchEvent(e)})),e.on("scalechange",(function(t){var e=document.createEvent("UIEvents");e.initEvent("scalechange",!0,!0),e.scale=t.scale,e.presetValue=t.presetValue,t.source.container.dispatchEvent(e)})),e.on("updateviewarea",(function(t){var e=document.createEvent("UIEvents");e.initEvent("updateviewarea",!0,!0),e.location=t.location,t.source.container.dispatchEvent(e)})),e.on("find",(function(t){if(t.source!==window){var e=document.createEvent("CustomEvent");e.initCustomEvent("find"+t.type,!0,!0,{query:t.query,phraseSearch:t.phraseSearch,caseSensitive:t.caseSensitive,highlightAll:t.highlightAll,findPrevious:t.findPrevious}),window.dispatchEvent(e)}})),e.on("attachmentsloaded",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t.attachmentsCount}),t.source.container.dispatchEvent(e)})),e.on("sidebarviewchanged",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("sidebarviewchanged",!0,!0,{view:t.view}),t.source.outerContainer.dispatchEvent(e)})),e.on("pagemode",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:t.mode}),t.source.pdfViewer.container.dispatchEvent(e)})),e.on("namedaction",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:t.action}),t.source.pdfViewer.container.dispatchEvent(e)})),e.on("presentationmodechanged",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:t.active,switchInProgress:t.switchInProgress}),window.dispatchEvent(e)})),e.on("outlineloaded",(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t.outlineCount}),t.source.container.dispatchEvent(e)})),n};function l(){return"undefined"==typeof window}l()||(a=n("lRFz"),r=n("louq"),a.verbosity=a.VerbosityLevel.ERRORS);var u=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}({}),d=function(){var t=i=function(){function t(e){var n;(_classCallCheck(this,t),this.element=e,this.isVisible=!1,this._cMapsUrl=void 0!==a?"https://unpkg.com/pdfjs-dist@".concat(a.version,"/cmaps/"):null,this._renderText=!0,this._renderTextMode=u.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.isInitialized=!1,this.afterLoadComplete=new o.o,this.pageRendered=new o.o,this.textLayerRendered=new o.o,this.onError=new o.o,this.onProgress=new o.o,this.pageChange=new o.o(!0),l())||(n=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(a.version,"/pdf.worker.min.js"),a.GlobalWorkerOptions.workerSrc=n)}return _createClass(t,[{key:"ngAfterViewChecked",value:function(){var t=this;if(!this.isInitialized){var e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout((function(){t.ngOnInit(),t.ngOnChanges({src:t.src})}))):this.isVisible=!1}}},{key:"ngOnInit",value:function(){!l()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}},{key:"ngOnDestroy",value:function(){this.clear()}},{key:"onPageResize",value:function(){var t=this;this._canAutoResize&&this._pdf&&(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){t.updateSize()}),100))}},{key:"ngOnChanges",value:function(t){if(!l()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:u.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){if(t.page.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}},{key:"updateSize",value:function(){var t=this,e=this.getCurrentViewer();this._pdf.getPage(e.currentPageNumber).then((function(n){var a=t._rotation||n.rotate,r=n.getViewport({scale:t._zoom,rotation:a}).width*i.CSS_UNITS,o=t._zoom,s=!0;if(!t._originalSize||t._fitToPage&&r>t.pdfViewerContainer.nativeElement.clientWidth){var c=n.getViewport({scale:1,rotation:a});o=t.getScale(c.width,c.height),s=!t._stickToPage}e._setScale(o,s)}))}},{key:"clear",value:function(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}},{key:"setupMultiPageViewer",value:function(){var t=this;a.disableTextLayer=!this._renderText,i.setExternalLinkTarget(this._externalLinkTarget);var e=c(r);e.on("pagerendered",(function(e){t.pageRendered.emit(e)})),e.on("pagechanging",(function(e){t.pageScrollTimeout&&clearTimeout(t.pageScrollTimeout),t.pageScrollTimeout=setTimeout((function(){t._latestScrolledPage=e.pageNumber,t.pageChange.emit(e.pageNumber)}),100)})),e.on("textlayerrendered",(function(e){t.textLayerRendered.emit(e)})),this.pdfMultiPageLinkService=new r.PDFLinkService({eventBus:e}),this.pdfMultiPageFindController=new r.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});var n={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:u.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new r.PDFViewer(n),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}},{key:"setupSinglePageViewer",value:function(){var t=this;a.disableTextLayer=!this._renderText,i.setExternalLinkTarget(this._externalLinkTarget);var e=c(r);e.on("pagechanging",(function(e){e.pageNumber!=t._page&&(t.page=e.pageNumber)})),e.on("pagerendered",(function(e){t.pageRendered.emit(e)})),e.on("textlayerrendered",(function(e){t.textLayerRendered.emit(e)})),this.pdfSinglePageLinkService=new r.PDFLinkService({eventBus:e}),this.pdfSinglePageFindController=new r.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});var n={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:u.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new r.PDFSinglePageViewer(n),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}},{key:"getValidPageNumber",value:function(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}},{key:"getDocumentParams",value:function(){var t=typeof this.src;if(!this._cMapsUrl)return this.src;var e={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?e.url=this.src:"object"===t&&(void 0!==this.src.byteLength?e.data=this.src:Object.assign(e,this.src)),e}},{key:"loadPDF",value:function(){var t=this;if(this.src)if(this.lastLoaded!==this.src){this.clear(),this.loadingTask=a.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=function(e){t.onProgress.emit(e)};var e=this.src;this.loadingTask.promise.then((function(n){t._pdf=n,t.lastLoaded=e,t.afterLoadComplete.emit(n),t.pdfMultiPageViewer||(t.setupMultiPageViewer(),t.setupSinglePageViewer()),t.resetPdfDocument(),t.update()}),(function(e){t.onError.emit(e)}))}else this.update()}},{key:"update",value:function(){this.page=this._page,this.render()}},{key:"render",value:function(){var t=this;this._page=this.getValidPageNumber(this._page);var e=this.getCurrentViewer();0===this._rotation&&e.pagesRotation===this._rotation||setTimeout((function(){e.pagesRotation=t._rotation})),this._stickToPage&&setTimeout((function(){e.currentPageNumber=t._page})),this.updateSize()}},{key:"getScale",value:function(t,e){var n=this._showBorders?2*i.BORDER_WIDTH:0,a=this.pdfViewerContainer.nativeElement.clientWidth-n,r=this.pdfViewerContainer.nativeElement.clientHeight-n;if(0===r||0===e||0===a||0===t)return 1;var o=1;switch(this._zoomScale){case"page-fit":o=Math.min(r/e,a/t);break;case"page-height":o=r/e;break;case"page-width":default:o=a/t}return this._zoom*o/i.CSS_UNITS}},{key:"getCurrentViewer",value:function(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}},{key:"resetPdfDocument",value:function(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}},{key:"cMapsUrl",set:function(t){this._cMapsUrl=t}},{key:"page",set:function(t){var e=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,e!==t&&this.pageChange.emit(t)}},{key:"renderText",set:function(t){this._renderText=t}},{key:"renderTextMode",set:function(t){this._renderTextMode=t}},{key:"originalSize",set:function(t){this._originalSize=t}},{key:"showAll",set:function(t){this._showAll=t}},{key:"stickToPage",set:function(t){this._stickToPage=t}},{key:"zoom",set:function(t){t<=0||(this._zoom=t)},get:function(){return this._zoom}},{key:"zoomScale",set:function(t){this._zoomScale=t},get:function(){return this._zoomScale}},{key:"rotation",set:function(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}},{key:"externalLinkTarget",set:function(t){this._externalLinkTarget=t}},{key:"autoresize",set:function(t){this._canAutoResize=Boolean(t)}},{key:"fitToPage",set:function(t){this._fitToPage=Boolean(t)}},{key:"showBorders",set:function(t){this._showBorders=Boolean(t)}},{key:"pdfLinkService",get:function(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}},{key:"pdfViewer",get:function(){return this.getCurrentViewer()}},{key:"pdfFindController",get:function(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}}],[{key:"getLinkTarget",value:function(t){switch(t){case"blank":return a.LinkTarget.BLANK;case"none":return a.LinkTarget.NONE;case"self":return a.LinkTarget.SELF;case"parent":return a.LinkTarget.PARENT;case"top":return a.LinkTarget.TOP}return null}},{key:"setExternalLinkTarget",value:function(t){var e=i.getLinkTarget(t);null!==e&&(a.externalLinkTarget=e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l))},t.\u0275cmp=o.Nb({type:t,selectors:[["pdf-viewer"]],viewQuery:function(t,e){var n;1&t&&o.ad(s,!0),2&t&&o.Cc(n=o.ic())&&(e.pdfViewerContainer=n.first)},hostBindings:function(t,e){1&t&&o.hc("resize",(function(){return e.onPageResize()}),!1,o.Gc)},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[o.Cb],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,e){1&t&&(o.Zb(0,"div",0,1),o.Ub(2,"div",2),o.Yb())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative;height:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;-webkit-transform-origin:0 0;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer{padding-bottom:10px}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid rgba(0,0,0,.01);box-sizing:initial;background-clip:content-box;-webkit-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.removePageBorders{padding-bottom:0}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page{margin-bottom:100%!important}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),t.CSS_UNITS=96/72,t.BORDER_WIDTH=9,t}(),f=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)}}),t}()},IsdP:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var i=n("FvrZ"),a=n("fXoL"),r=n("2Vo4"),o=n("VRyK"),s=n("lJxs"),c=n("pLZG"),l=n("vkgz"),u=n("nYR2"),d=n("tk/3"),f=n("8yBR"),h=n("bTqV"),p=n("NFeN"),m=n("ofXK"),g=n("bv9b");function b(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-tree-node",3),a.Zb(1,"button",4),a.Ub(2,"mat-icon",5),a.Yb(),a.Zb(3,"span",6),a.hc("click",(function(){a.Hc(n);var t=e.$implicit,i=a.lc();return i.toggleNode(i.getData(t.item))})),a.Ub(4,"i"),a.Sc(5),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc();a.Eb(3),a.Jb("node-selected",r.getData(i.item).selected),a.Eb(1),a.Gb(r.getData(i.item).icon),a.Eb(1),a.Uc("\xa0",r.getData(i.item).text,"")}}function v(t,e){1&t&&a.Ub(0,"i",10),2&t&&a.Pc("left",25*e.$implicit,"px")}function y(t,e){1&t&&a.Ub(0,"mat-progress-bar",11)}function _(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-tree-node",3),a.Qc(1,v,1,2,"i",7),a.Zb(2,"button",8),a.Ub(3,"mat-icon"),a.Yb(),a.Zb(4,"span",6),a.hc("click",(function(){a.Hc(n);var t=e.$implicit,i=a.lc();return i.toggleNode(i.getData(t.item))})),a.Ub(5,"i"),a.Sc(6),a.Yb(),a.Qc(7,y,1,0,"mat-progress-bar",9),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc();a.Eb(1),a.sc("ngForOf",r.getIteration(i.level)),a.Eb(1),a.Fb("aria-label","toggle "+i.filename),a.Eb(1),a.Hb("mat-icon-rtl-mirror ",r.treeControl.isExpanded(i)?"maarch-tree-collapse":"maarch-tree-expand",""),a.Eb(1),a.Jb("node-selected",r.getData(i.item).selected),a.Eb(1),a.Gb(r.getData(i.item).icon),a.Eb(1),a.Uc("\xa0",r.getData(i.item).text," "),a.Eb(1),a.sc("ngIf",i.isLoading)}}var k=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,t),this.item=e,this.level=n,this.expandable=i,this.isLoading=a},C=function(){var t=function(){function t(){_classCallCheck(this,t),this.dataMap=new Map([]),this.rootLevelNodes=[]}return _createClass(t,[{key:"initialData",value:function(){return this.rootLevelNodes.map((function(t){return new k(t,0,!0)}))}},{key:"setData",value:function(t){return this.dataMap.set(t.id,t.childrens)}},{key:"setRootNode",value:function(t){this.rootLevelNodes=t}},{key:"getChildren",value:function(t){return this.dataMap.get(t)}},{key:"isExpandable",value:function(t){return this.dataMap.has(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac}),t}(),x=function(){function t(e,n,i,a,o){_classCallCheck(this,t),this._treeControl=e,this._database=n,this.rawData=i,this.childrenRoute=a,this.httpClient=o,this.dataChange=new r.a([])}return _createClass(t,[{key:"connect",value:function(t){var e=this;return this._treeControl.expansionModel.changed.subscribe((function(t){(t.added||t.removed)&&e.handleTreeControl(t)})),Object(o.a)(t.viewChange,this.dataChange).pipe(Object(s.a)((function(){return e.data})))}},{key:"disconnect",value:function(t){}},{key:"handleTreeControl",value:function(t){var e=this;t.added&&t.added.forEach((function(t){return e.toggleNode(t,!0)})),t.removed&&t.removed.slice().reverse().forEach((function(t){return e.toggleNode(t,!1)}))}},{key:"toggleNode",value:function(t,e){var n=this,i=this._database.getChildren(t.item),a=this.data.indexOf(t);if(this.rawData[a].children)if(t.isLoading=!0,e)if(void 0===i)this.httpClient.get(this.childrenRoute.replace("__node",t.item)).pipe(Object(c.a)((function(t){return t.length>0})),Object(l.a)((function(e){var r;e.forEach((function(t){n.rawData.push(t)})),n.rawData.map((function(t){return t.id})),n.rawData.forEach((function(t){var e={id:t.id,childrens:n.rawData.filter((function(e){return e.parent===t.id})).map((function(t){return t.id}))};n.rawData.filter((function(e){return e.parent===t.id})).length>0&&n._database.setData(e)})),i=n._database.getChildren(t.item),a=n.data.indexOf(t);var o=i.map((function(e){return new k(e,t.level+1,n._database.isExpandable(e))}));(r=n.data).splice.apply(r,[a+1,0].concat(_toConsumableArray(o))),n.dataChange.next(n.data)})),Object(u.a)((function(){return t.isLoading=!1}))).subscribe();else{var r,o=i.map((function(e){return new k(e,t.level+1,n._database.isExpandable(e))}));(r=this.data).splice.apply(r,[a+1,0].concat(_toConsumableArray(o))),this.dataChange.next(this.data),t.isLoading=!1}else{for(var s=0,d=a+1;d<this.data.length&&this.data[d].level>t.level;d++,s++);this.data.splice(a+1,s),this.dataChange.next(this.data),t.isLoading=!1}}},{key:"data",get:function(){return this.dataChange.value},set:function(t){this._treeControl.dataNodes=t,this.dataChange.next(t)}}]),t}(),w=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.database=e,this.httpClient=n,this.rawData=[],this.childrenRoute="",this.multiple=!1,this.afterSelectNode=new a.o,this.afterDeselectNode=new a.o,this.getLevel=function(t){return t.level},this.isExpandable=function(t){return t.expandable},this.hasChild=function(t,e){return i.getData(e.item).children}}return _createClass(t,[{key:"ngOnInit",value:function(){this.treeControl=new i.j(this.getLevel,this.isExpandable),this.dataSource=new x(this.treeControl,this.database,this.rawData,this.childrenRoute,this.httpClient),this.initTree()}},{key:"initTree",value:function(){var t=this;this.rawData.forEach((function(e){var n={id:e.id,childrens:t.rawData.filter((function(t){return t.parent===e.id})).map((function(t){return t.id}))};t.rawData.filter((function(t){return t.parent===e.id})).length>0&&t.database.setData(n)})),this.database.setRootNode(this.rawData.filter((function(t){return"#"===t.parent})).map((function(t){return t.id}))),this.dataSource.data=this.database.initialData()}},{key:"getData",value:function(t){return this.rawData.filter((function(e){return e.id===t}))[0]}},{key:"toggleNode",value:function(t){t.selected?this.afterDeselectNode.emit(t):this.afterSelectNode.emit(t),this.multiple?t.selected=!t.selected:this.rawData.forEach((function(e){e.selected=e.id===t.id&&!t.selected}))}},{key:"getIteration",value:function(t){return Array(t).fill(0).map((function(t,e){return e}))}},{key:"getTreeData",value:function(){return this.rawData}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(C),a.Tb(d.b))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-maaarch-tree"]],inputs:{rawData:"rawData",childrenRoute:"childrenRoute",multiple:"multiple"},outputs:{afterSelectNode:"afterSelectNode",afterDeselectNode:"afterDeselectNode"},features:[a.Db([C])],decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodePadding","","matTreeNodePaddingIndent","25px","style","background-size: 320px 96px;background-image: url(32px.png);   background-position: -288px -5px;background-repeat: repeat-y;",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodePaddingIndent","25px","style","background-size: 320px 96px;background-image: url(32px.png);   background-position: -288px -5px;background-repeat: repeat-y;",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","matTreeNodePaddingIndent","25px",2,"background-size","320px 96px","background-image","url(32px.png)","background-position","-288px -5px","background-repeat","repeat-y"],["mat-icon-button","","disabled","",2,"width","32px","height","32px","background-size","320px 96px","background-image","url('32px.png')","background-position","-288px -5px","background-repeat","repeat-y"],[1,"maarch-tree-node"],[1,"node-content",3,"click"],["style","background-size: 320px 96px;background-image: url(32px.png);   background-position: -288px -5px;background-repeat: repeat-y;width: 32px;height: 32px;position: absolute;",3,"left",4,"ngFor","ngForOf"],["type","button","mat-icon-button","","matTreeNodeToggle","",2,"width","32px","height","32px","background-size","320px 96px","background-image","url('32px.png')","background-position","-288px -5px","background-repeat","repeat-y"],["mode","indeterminate","class","example-tree-progress-bar",4,"ngIf"],[2,"background-size","320px 96px","background-image","url(32px.png)","background-position","-288px -5px","background-repeat","repeat-y","width","32px","height","32px","position","absolute"],["mode","indeterminate",1,"example-tree-progress-bar"]],template:function(t,e){1&t&&(a.Zb(0,"mat-tree",0),a.Qc(1,b,6,5,"mat-tree-node",1),a.Qc(2,_,8,11,"mat-tree-node",2),a.Yb()),2&t&&(a.sc("dataSource",e.dataSource)("treeControl",e.treeControl),a.Eb(2),a.sc("matTreeNodeDefWhen",e.hasChild))},directives:[f.b,f.h,f.g,f.j,h.b,p.a,m.s,f.k,m.t,g.a],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}.maarch-tree-expand[_ngcontent-%COMP%]{background-position:-101px -8px}.maarch-tree-collapse[_ngcontent-%COMP%], .maarch-tree-expand[_ngcontent-%COMP%]{background-size:320px 96px;background-image:url(32px.dcd8942fa7a2e261368d.png);width:22px;height:22px;line-height:22px;display:inline-block}.maarch-tree-collapse[_ngcontent-%COMP%]{background-position:-133px -8px}.maarch-tree-node[_ngcontent-%COMP%]{background-size:320px 96px;background-image:url(32px.dcd8942fa7a2e261368d.png);width:22px;height:22px;line-height:22px;display:inline-block;background-position:-69px -8px}.mat-tree[_ngcontent-%COMP%]{position:relative}.mat-tree-node[_ngcontent-%COMP%]{font-family:Titillium Web,sans-serif,Arial;min-height:32px;line-height:32px;min-width:32px;height:32px}.mat-tree-node[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:1}.node-content[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;cursor:pointer;transition:all .3s;border-radius:5px;height:25px;display:flex;align-items:center;white-space:pre}.node-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#135f7f}.node-content[_ngcontent-%COMP%]:not(.node-selected):hover{background-color:hsla(0,0%,40%,.11);transition:all .3s}.node-selected[_ngcontent-%COMP%]{background-color:#135f7f;color:#fff;transition:all .3s}.node-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),t}()},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q"),a=n("4I5i"),r=n("EY2u");function o(t){return function(e){return 0===t?Object(r.b)():e.lift(new s(t))}}var s=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new a.a}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.total))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).total=i,a.count=0,a}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(i.a)},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("zx2A");function a(t){return function(e){var n=new r(t),i=e.lift(n);return n.caught=i}}var r=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t)).selector=i,r.caught=a,r}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var a=new i.a(this);this.add(a);var r=Object(i.c)(e,a);r!==a&&this.add(r)}}}]),n}(i.b)},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("GyhO"),a=n("z+Ro");function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(a.a)(r)?(e.pop(),function(t){return Object(i.a)(e,t,r)}):function(t){return Object(i.a)(e,t)}}},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("7o/Q"),a=n("D0XW");function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a;return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.dueTime,this.scheduler))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t)).dueTime=i,r.scheduler=a,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(i.a);function c(t){t.debouncedNext()}},L6pT:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("vWc3"),a=n("cMWS"),r=n("fXoL"),o=n("sYmb"),s=function(){var t=function t(e){_classCallCheck(this,t),e.setDefaultLang("fr")};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)(r.dc(o.e))},providers:[],imports:[[i.a,a.a]]}),t}()},LBXl:function(t,e,n){"use strict";e.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},"LJ/p":function(t,e,n){"use strict";var i=n("Q1FS"),a=n("zB/H"),r=n("VKeD");e.scheduleIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.Observable((function(n){var i,o=new a.Subscription;return o.add((function(){i&&"function"==typeof i.return&&i.return()})),o.add(e.schedule((function(){i=t[r.iterator](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var a=i.next();t=a.value,e=a.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("z+Ro"),a=n("yCtX"),r=n("jZKg");function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[e.length-1];return Object(i.a)(o)?(e.pop(),Object(r.a)(e,o)):Object(a.a)(e)}},LYlH:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("0IaG"),a=n("fXoL"),r=n("sYmb"),o=n("tk/3"),s=n("bTqV"),c=n("NFeN"),l=n("bblj"),u=n("aEDk"),d=function(){var t=function t(e,n,i,a){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialogRef=a};return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(o.b),a.Tb(i.a),a.Tb(i.h))},t.\u0275cmp=a.Nb({type:t,selectors:[["ng-component"]],decls:9,vars:9,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1",3,"title"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[3,"resId","mode"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"h1",1),a.Zb(2,"span",2),a.Sc(3),a.mc(4,"shorten"),a.Yb(),a.Zb(5,"button",3),a.hc("click",(function(){return e.dialogRef.close()})),a.Ub(6,"mat-icon",4),a.Yb(),a.Yb(),a.Zb(7,"mat-dialog-content"),a.Ub(8,"app-contact-resource",5),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.sc("title",e.data.title),a.Eb(1),a.Uc(" ",a.pc(4,5,e.data.title,50,"...")," "),a.Eb(2),a.sc("title",e.translate.instant("lang.close")),a.Eb(3),a.sc("resId",e.data.resId)("mode",e.data.mode))},directives:[i.i,s.b,c.a,i.f,l.a],pipes:[u.p],styles:[""]}),t}()},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},M9IT:function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return x}));var i=n("ofXK"),a=n("fXoL"),r=n("bTqV"),o=n("d3UM"),s=n("Qu3c"),c=n("8LU1"),l=n("XNiG"),u=n("FKr1"),d=n("kmnG");function f(t,e){if(1&t&&(a.Zb(0,"mat-option",19),a.Sc(1),a.Yb()),2&t){var n=e.$implicit;a.sc("value",n),a.Eb(1),a.Uc(" ",n," ")}}function h(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-form-field",16),a.Zb(1,"mat-select",17),a.hc("selectionChange",(function(t){return a.Hc(n),a.lc(2)._changePageSize(t.value)})),a.Qc(2,f,2,2,"mat-option",18),a.Yb(),a.Yb()}if(2&t){var i=a.lc(2);a.sc("color",i.color),a.Eb(1),a.sc("value",i.pageSize)("disabled",i.disabled)("aria-label",i._intl.itemsPerPageLabel),a.Eb(1),a.sc("ngForOf",i._displayedPageSizeOptions)}}function p(t,e){if(1&t&&(a.Zb(0,"div",20),a.Sc(1),a.Yb()),2&t){var n=a.lc(2);a.Eb(1),a.Tc(n.pageSize)}}function m(t,e){if(1&t&&(a.Zb(0,"div",12),a.Zb(1,"div",13),a.Sc(2),a.Yb(),a.Qc(3,h,3,5,"mat-form-field",14),a.Qc(4,p,2,1,"div",15),a.Yb()),2&t){var n=a.lc();a.Eb(2),a.Uc(" ",n._intl.itemsPerPageLabel," "),a.Eb(1),a.sc("ngIf",n._displayedPageSizeOptions.length>1),a.Eb(1),a.sc("ngIf",n._displayedPageSizeOptions.length<=1)}}function g(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",21),a.hc("click",(function(){return a.Hc(n),a.lc().firstPage()})),a.kc(),a.Zb(1,"svg",7),a.Ub(2,"path",22),a.Yb(),a.Yb()}if(2&t){var i=a.lc();a.sc("matTooltip",i._intl.firstPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),a.Fb("aria-label",i._intl.firstPageLabel)}}function b(t,e){if(1&t){var n=a.ac();a.kc(),a.jc(),a.Zb(0,"button",23),a.hc("click",(function(){return a.Hc(n),a.lc().lastPage()})),a.kc(),a.Zb(1,"svg",7),a.Ub(2,"path",24),a.Yb(),a.Yb()}if(2&t){var i=a.lc();a.sc("matTooltip",i._intl.lastPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),a.Fb("aria-label",i._intl.lastPageLabel)}}var v=function(){var t=function t(){_classCallCheck(this,t),this.changes=new l.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(t,e,n){if(0==n||0==e)return"0 of "+n;var i=t*e;return"".concat(i+1," \u2013 ").concat(i<(n=Math.max(n,0))?Math.min(i+e,n):i+e," of ").concat(n)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(a.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),y={provide:v,deps:[[new a.C,new a.M,v]],useFactory:function(t){return t||new v}},_=new a.r("MAT_PAGINATOR_DEFAULT_OPTIONS"),k=Object(u.B)(Object(u.D)((function t(){_classCallCheck(this,t)}))),C=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;if(_classCallCheck(this,n),(o=e.call(this))._intl=t,o._changeDetectorRef=i,o._pageIndex=0,o._length=0,o._pageSizeOptions=[],o._hidePageSize=!1,o._showFirstLastButtons=!1,o.page=new a.o,o._intlChanges=t.changes.subscribe((function(){return o._changeDetectorRef.markForCheck()})),r){var s=r.pageSize,c=r.pageSizeOptions,l=r.hidePageSize,u=r.showFirstLastButtons;null!=s&&(o._pageSize=s),null!=c&&(o._pageSizeOptions=c),null!=l&&(o._hidePageSize=l),null!=u&&(o._showFirstLastButtons=u)}return _possibleConstructorReturn(o)}return _createClass(n,[{key:"ngOnInit",value:function(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe()}},{key:"nextPage",value:function(){if(this.hasNextPage()){var t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}}},{key:"previousPage",value:function(){if(this.hasPreviousPage()){var t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}}},{key:"firstPage",value:function(){if(this.hasPreviousPage()){var t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}}},{key:"lastPage",value:function(){if(this.hasNextPage()){var t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}}},{key:"hasPreviousPage",value:function(){return this.pageIndex>=1&&0!=this.pageSize}},{key:"hasNextPage",value:function(){var t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}},{key:"getNumberOfPages",value:function(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}},{key:"_changePageSize",value:function(t){var e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}},{key:"_nextButtonsDisabled",value:function(){return this.disabled||!this.hasNextPage()}},{key:"_previousButtonsDisabled",value:function(){return this.disabled||!this.hasPreviousPage()}},{key:"_updateDisplayedPageSizeOptions",value:function(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((function(t,e){return t-e})),this._changeDetectorRef.markForCheck())}},{key:"_emitPageEvent",value:function(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}},{key:"pageIndex",get:function(){return this._pageIndex},set:function(t){this._pageIndex=Math.max(Object(c.f)(t),0),this._changeDetectorRef.markForCheck()}},{key:"length",get:function(){return this._length},set:function(t){this._length=Object(c.f)(t),this._changeDetectorRef.markForCheck()}},{key:"pageSize",get:function(){return this._pageSize},set:function(t){this._pageSize=Math.max(Object(c.f)(t),0),this._updateDisplayedPageSizeOptions()}},{key:"pageSizeOptions",get:function(){return this._pageSizeOptions},set:function(t){this._pageSizeOptions=(t||[]).map((function(t){return Object(c.f)(t)})),this._updateDisplayedPageSizeOptions()}},{key:"hidePageSize",get:function(){return this._hidePageSize},set:function(t){this._hidePageSize=Object(c.c)(t)}},{key:"showFirstLastButtons",get:function(){return this._showFirstLastButtons},set:function(t){this._showFirstLastButtons=Object(c.c)(t)}}]),n}(k);return t.\u0275fac=function(e){return new(e||t)(a.Tb(v),a.Tb(a.h),a.Tb(_,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[a.Bb],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Qc(2,m,5,3,"div",2),a.Zb(3,"div",3),a.Zb(4,"div",4),a.Sc(5),a.Yb(),a.Qc(6,g,3,5,"button",5),a.Zb(7,"button",6),a.hc("click",(function(){return e.previousPage()})),a.kc(),a.Zb(8,"svg",7),a.Ub(9,"path",8),a.Yb(),a.Yb(),a.jc(),a.Zb(10,"button",9),a.hc("click",(function(){return e.nextPage()})),a.kc(),a.Zb(11,"svg",7),a.Ub(12,"path",10),a.Yb(),a.Yb(),a.Qc(13,b,3,5,"button",11),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.sc("ngIf",!e.hidePageSize),a.Eb(3),a.Uc(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),a.Eb(1),a.sc("ngIf",e.showFirstLastButtons),a.Eb(1),a.sc("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),a.Fb("aria-label",e._intl.previousPageLabel),a.Eb(3),a.sc("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),a.Fb("aria-label",e._intl.nextPageLabel),a.Eb(3),a.sc("ngIf",e.showFirstLastButtons))},directives:[i.t,r.b,s.b,d.c,o.a,i.s,u.o],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t}(),x=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[y],imports:[[i.c,r.c,o.b,s.c]]}),t}()},MJ5r:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={production:!0,VERSION:n("kiQV").version,AUTHOR:n("kiQV").author}},MhE4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),a=n("jhN1"),r=function(){var t=function(){function t(e){_classCallCheck(this,t),this.sanitizer=e}return _createClass(t,[{key:"transform",value:function(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.b))},t.\u0275pipe=i.Sb({name:"safeHtml",type:t,pure:!0}),t}()},MkmW:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}),0)}},MutI:function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return P})),n.d(e,"e",(function(){return j})),n.d(e,"f",(function(){return L})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return F}));var i=n("ofXK"),a=n("fXoL"),r=n("FKr1"),o=n("8LU1"),s=n("XNiG"),c=n("1G5W"),l=n("JX91"),u=n("u47x"),d=n("0EQZ"),f=n("FtGj"),h=n("3Pt+"),p=n("f0Cb"),m=["*"],g=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],b=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],v=["text"];function y(t,e){if(1&t&&a.Ub(0,"mat-pseudo-checkbox",5),2&t){var n=a.lc();a.sc("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}var _=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],k=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],C=Object(r.B)(Object(r.A)((function t(){_classCallCheck(this,t)}))),x=Object(r.A)((function t(){_classCallCheck(this,t)})),w=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._stateChanges=new s.a,t}return _createClass(n,[{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(C);return t.\u0275fac=function(e){return O(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[a.Bb,a.Cb],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(a.rc(),a.qc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t}(),O=a.bc(w),S=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._elementRef=t,i._stateChanges=new s.a,"action-list"===i._getListType()&&t.nativeElement.classList.add("mat-action-list"),i}return _createClass(n,[{key:"_getListType",value:function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(C);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[a.Bb,a.Cb],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(a.rc(),a.qc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t}(),E=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t}(),M=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t}(),I=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),t}(),P=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;_classCallCheck(this,n),(o=e.call(this))._element=t,o._isInteractiveList=!1,o._destroyed=new s.a,o._disabled=!1,o._isInteractiveList=!!(a||r&&"action-list"===r._getListType()),o._list=a||r;var l=o._getHostElement();return"button"!==l.nodeName.toLowerCase()||l.hasAttribute("type")||l.setAttribute("type","button"),o._list&&o._list._stateChanges.pipe(Object(c.a)(o._destroyed)).subscribe((function(){i.markForCheck()})),o}return _createClass(n,[{key:"ngAfterContentInit",value:function(){Object(r.F)(this._lines,this._element)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_isRippleDisabled",value:function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"disabled",get:function(){return this._disabled||!(!this._list||!this._list.disabled)},set:function(t){this._disabled=Object(o.c)(t)}}]),n}(x);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.h),a.Tb(w,8),a.Tb(S,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,E,!0),a.Lb(n,M,!0),a.Lb(n,r.k,!0)),2&t&&(a.Cc(i=a.ic())&&(e._avatar=i.first),a.Cc(i=a.ic())&&(e._icon=i.first),a.Cc(i=a.ic())&&(e._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&a.Jb("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.Bb],ngContentSelectors:b,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(a.rc(g),a.Zb(0,"div",0),a.Ub(1,"div",1),a.qc(2),a.Zb(3,"div",2),a.qc(4,1),a.Yb(),a.qc(5,2),a.Yb()),2&t&&(a.Eb(1),a.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[r.t],encapsulation:2,changeDetection:0}),t}(),T=Object(r.A)((function t(){_classCallCheck(this,t)})),A=Object(r.A)((function t(){_classCallCheck(this,t)})),D={provide:h.r,useExisting:Object(a.W)((function(){return F})),multi:!0},R=function t(e,n){_classCallCheck(this,t),this.source=e,this.option=n},L=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this))._element=t,r._changeDetector=i,r.selectionList=a,r._selected=!1,r._disabled=!1,r._hasFocus=!1,r.checkboxPosition="after",r._inputsInitialized=!1,r}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this,e=this.selectionList;e._value&&e._value.some((function(n){return e.compareWith(n,t._value)}))&&this._setSelected(!0);var n=this._selected;Promise.resolve().then((function(){(t._selected||n)&&(t.selected=!0,t._changeDetector.markForCheck())})),this._inputsInitialized=!0}},{key:"ngAfterContentInit",value:function(){Object(r.F)(this._lines,this._element)}},{key:"ngOnDestroy",value:function(){var t=this;this.selected&&Promise.resolve().then((function(){t.selected=!1}));var e=this._hasFocus,n=this.selectionList._removeOptionFromList(this);e&&n&&n.focus()}},{key:"toggle",value:function(){this.selected=!this.selected}},{key:"focus",value:function(){this._element.nativeElement.focus()}},{key:"getLabel",value:function(){return this._text&&this._text.nativeElement.textContent||""}},{key:"_isRippleDisabled",value:function(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}},{key:"_handleClick",value:function(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent(this))}},{key:"_handleFocus",value:function(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}},{key:"_handleBlur",value:function(){this.selectionList._onTouched(),this._hasFocus=!1}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"_setSelected",value:function(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"color",get:function(){return this._color||this.selectionList.color},set:function(t){this._color=t}},{key:"value",get:function(){return this._value},set:function(t){this.selected&&t!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=t}},{key:"disabled",get:function(){return this._disabled||this.selectionList&&this.selectionList.disabled},set:function(t){var e=Object(o.c)(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}},{key:"selected",get:function(){return this.selectionList.selectedOptions.isSelected(this)},set:function(t){var e=Object(o.c)(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}}]),n}(A);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.h),a.Tb(Object(a.W)((function(){return F}))))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,E,!0),a.Lb(n,M,!0),a.Lb(n,r.k,!0)),2&t&&(a.Cc(i=a.ic())&&(e._avatar=i.first),a.Cc(i=a.ic())&&(e._icon=i.first),a.Cc(i=a.ic())&&(e._lines=i))},viewQuery:function(t,e){var n;1&t&&a.ad(v,!0),2&t&&a.Cc(n=a.ic())&&(e._text=n.first)},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&a.hc("focus",(function(){return e._handleFocus()}))("blur",(function(){return e._handleBlur()}))("click",(function(){return e._handleClick()})),2&t&&(a.Fb("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),a.Jb("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[a.Bb],ngContentSelectors:k,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(a.rc(_),a.Zb(0,"div",0),a.Ub(1,"div",1),a.Qc(2,y,1,2,"mat-pseudo-checkbox",2),a.Zb(3,"div",3,4),a.qc(5),a.Yb(),a.qc(6,1),a.Yb()),2&t&&(a.Jb("mat-list-item-content-reverse","after"==e.checkboxPosition),a.Eb(1),a.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),a.Eb(1),a.sc("ngIf",e.selectionList.multiple))},directives:[r.t,i.t,r.r],encapsulation:2,changeDetection:0}),t}(),F=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._element=t,o._changeDetector=r,o._multiple=!0,o._contentInitialized=!1,o.selectionChange=new a.o,o.tabIndex=0,o.color="accent",o.compareWith=function(t,e){return t===e},o._disabled=!1,o.selectedOptions=new d.c(o._multiple),o._tabIndex=-1,o._onChange=function(t){},o._destroyed=new s.a,o._onTouched=function(){},o}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._contentInitialized=!0,this._keyManager=new u.g(this.options).withWrap().withTypeAhead().skipPredicate((function(){return!1})).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Object(c.a)(this._destroyed)).subscribe((function(){t._allowFocusEscape()})),this.options.changes.pipe(Object(l.a)(null),Object(c.a)(this._destroyed)).subscribe((function(){t._updateTabIndex()})),this.selectedOptions.changed.pipe(Object(c.a)(this._destroyed)).subscribe((function(t){if(t.added){var e,n=_createForOfIteratorHelper(t.added);try{for(n.s();!(e=n.n()).done;){e.value.selected=!0}}catch(r){n.e(r)}finally{n.f()}}if(t.removed){var i,a=_createForOfIteratorHelper(t.removed);try{for(a.s();!(i=a.n()).done;){i.value.selected=!1}}catch(r){a.e(r)}finally{a.f()}}}))}},{key:"ngOnChanges",value:function(t){var e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}},{key:"focus",value:function(t){this._element.nativeElement.focus(t)}},{key:"selectAll",value:function(){this._setAllOptionsSelected(!0)}},{key:"deselectAll",value:function(){this._setAllOptionsSelected(!1)}},{key:"_setFocusedOption",value:function(t){this._keyManager.updateActiveItem(t)}},{key:"_removeOptionFromList",value:function(t){var e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}},{key:"_keydown",value:function(t){var e=t.keyCode,n=this._keyManager,i=n.activeItemIndex,a=Object(f.v)(t);switch(e){case f.q:case f.g:a||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;case f.j:case f.f:a||(e===f.j?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:if(e===f.a&&this.multiple&&Object(f.v)(t,"ctrlKey")&&!n.isTyping()){var r=this.options.some((function(t){return!t.disabled&&!t.selected}));this._setAllOptionsSelected(r,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(e===f.s||e===f.e)&&t.shiftKey&&n.activeItemIndex!==i&&this._toggleFocusedOption()}},{key:"_reportValueChange",value:function(){if(this.options&&!this._isDestroyed){var t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}},{key:"_emitChangeEvent",value:function(t){this.selectionChange.emit(new R(this,t))}},{key:"_onFocus",value:function(){var t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}},{key:"writeValue",value:function(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"_setOptionsFromValues",value:function(t){var e=this;this.options.forEach((function(t){return t._setSelected(!1)})),t.forEach((function(t){var n=e.options.find((function(n){return!n.selected&&e.compareWith(n.value,t)}));n&&n._setSelected(!0)}))}},{key:"_getSelectedOptionValues",value:function(){return this.options.filter((function(t){return t.selected})).map((function(t){return t.value}))}},{key:"_toggleFocusedOption",value:function(){var t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){var e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent(e))}}},{key:"_setAllOptionsSelected",value:function(t,e){var n=!1;this.options.forEach((function(i){e&&i.disabled||!i._setSelected(t)||(n=!0)})),n&&this._reportValueChange()}},{key:"_isValidIndex",value:function(t){return t>=0&&t<this.options.length}},{key:"_getOptionIndex",value:function(t){return this.options.toArray().indexOf(t)}},{key:"_markOptionsForCheck",value:function(){this.options&&this.options.forEach((function(t){return t._markForCheck()}))}},{key:"_allowFocusEscape",value:function(){var t=this;this._tabIndex=-1,setTimeout((function(){t._tabIndex=0,t._changeDetector.markForCheck()}))}},{key:"_updateTabIndex",value:function(){this._tabIndex=0===this.options.length?-1:0}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(o.c)(t),this._markOptionsForCheck()}},{key:"multiple",get:function(){return this._multiple},set:function(t){var e=Object(o.c)(t);if(e!==this._multiple){if(Object(a.Y)()&&this._contentInitialized)throw new Error("Cannot change `multiple` mode of mat-selection-list after initialization.");this._multiple=e,this.selectedOptions=new d.c(this._multiple,this.selectedOptions.selected)}}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.ec("tabindex"),a.Tb(a.h))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){var i;1&t&&a.Lb(n,L,!0),2&t&&a.Cc(i=a.ic())&&(e.options=i)},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&a.hc("focus",(function(){return e._onFocus()}))("keydown",(function(t){return e._keydown(t)})),2&t&&a.Fb("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[a.Db([D]),a.Bb,a.Cb],ngContentSelectors:m,decls:1,vars:0,template:function(t,e){1&t&&(a.rc(),a.qc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t}(),j=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[r.l,r.u,r.j,r.s,i.c],r.l,r.j,r.s,p.b]}),t}()},Mxlh:function(t,e,n){"use strict";e.ObjectUnsubscribedError=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},MyTJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return zs}));var i=n("mrSG"),a=n("vkgz"),r=n("JIr8"),o=n("pLZG"),s=n("nYR2"),c=n("XqQ8"),l=n("XNiG"),u=n("LRne"),d=n("0IaG"),f=n("fXoL"),h=n("sYmb"),p=n("tk/3"),m=n("AXEc"),g=n("ofXK"),b=n("dUgt"),v=n("bTqV"),y=n("Xa2L"),_=["noteEditor"];function k(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function C(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function x(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function w(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var O,S=((O=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}},{key:"indexDocumentAndExecuteAction",value:function(){var t=this;this.http.post("../rest/resources",this.data.resource).pipe(Object(a.a)((function(e){t.data.resIds=[e.resId]})),Object(c.a)((function(){return t.http.put(t.data.indexActionRoute,{resource:t.data.resIds[0],note:t.noteEditor.getNote()})})),Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||O)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},O.\u0275cmp=f.Nb({type:O,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(_,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,k,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,C,3,3,"b",6),f.Qc(10,x,2,1,"b",6),f.Qc(11,w,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),O),E=n("rH+9"),M=["noteEditor"];function I(t,e){1&t&&(f.Zb(0,"div",11),f.Ub(1,"mat-spinner",12),f.Yb())}function P(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.chrono),f.Eb(1),f.Uc(" : ",n.fields," ")}}function T(t,e){if(1&t&&(f.Zb(0,"div",15),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,P,4,2,"li",16),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(2),f.Uc("",f.nc(3,2,"lang.cannotCloseMails")," :"),f.Eb(3),f.sc("ngForOf",n.emptyMandatoryFields)}}function A(t,e){if(1&t&&(f.Zb(0,"div",15),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(2),f.Vc("",f.nc(3,2,"lang.cannotCloseThisMail")," : ",n.emptyMandatoryFields[0].fields,"")}}function D(t,e){if(1&t&&(f.Zb(0,"div",13),f.Qc(1,T,6,4,"div",14),f.Qc(2,A,4,4,"div",14),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngIf",n.data.resIds.length>1),f.Eb(1),f.sc("ngIf",n.data.resIds.length<2)}}function R(t,e){1&t&&(f.Zb(0,"b",21),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function L(t,e){if(1&t&&(f.Zb(0,"b",21),f.Sc(1),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Tc(n.data.resource.chrono)}}function F(t,e){if(1&t&&(f.Zb(0,"b",21),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Vc("",n.canCloseResIds.length," ",f.nc(2,2,"lang.elements"),"")}}function j(t,e){if(1&t&&(f.Xb(0),f.Zb(1,"div",13),f.Sc(2),f.mc(3,"translate"),f.Qc(4,R,3,3,"b",17),f.Qc(5,L,2,1,"b",17),f.Qc(6,F,3,4,"b",17),f.Sc(7," ? "),f.Ub(8,"div",18),f.Yb(),f.Zb(9,"div",13),f.Ub(10,"app-note-editor",19,20),f.Yb(),f.Wb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,6,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===n.data.resIds.length),f.Eb(1),f.sc("ngIf",1===n.data.resIds.length),f.Eb(1),f.sc("ngIf",n.data.resIds.length>1),f.Eb(2),f.sc("innerHTML",n.translate.instant("lang.updateClosingDate"),f.Ic),f.Eb(2),f.sc("resIds",n.canCloseResIds)}}var Y,Z=((Y=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.emptyMandatoryFields=[],this.canCloseResIds=[],this.customFields=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.data.resIds.length>0?(this.loading=!0,this.checkClose()):this.checkIndexingClose()}},{key:"checkIndexingClose",value:function(){var t=this;this.http.get("../rest/actions/"+this.data.action.id).pipe(Object(a.a)((function(e){t.requiredFields=e.action.parameters.requiredFields})),Object(c.a)((function(){return t.http.get("../rest/customFields")})),Object(a.a)((function(e){return t.customFields=e.customFields})),Object(a.a)((function(){var e=[];t.requiredFields.forEach((function(n){for(var i=function(){var i=r[a];n=="indexingCustomField_"+i&&t.functions.empty(t.data.resource.customFields[i])&&e.push(t.customFields.filter((function(t){return t.id==i}))[0].label)},a=0,r=Object.keys(t.data.resource.customFields);a<r.length;a++)i()})),t.functions.empty(e)?t.canCloseResIds=[1]:(t.emptyMandatoryFields.push({fields:e.join(", ")}),t.canCloseResIds=[])})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"checkClose",value:function(){var t=this;this.http.post("../rest/resourcesList/users/".concat(this.data.userId,"/groups/").concat(this.data.groupId,"/baskets/").concat(this.data.basketId,"/actions/").concat(this.data.action.id,"/checkCloseWithFieldsAction"),{resources:this.data.resIds}).pipe(Object(a.a)((function(e){t.emptyMandatoryFields=e.errors,t.canCloseResIds=e.success})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"onSubmit",value:function(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}},{key:"indexDocumentAndExecuteAction",value:function(){var t=this;this.http.post("../rest/resources",this.data.resource).pipe(Object(a.a)((function(e){t.data.resIds=[e.resId]})),Object(c.a)((function(){return t.http.put(t.data.indexActionRoute,{resource:t.data.resIds[0],note:t.noteEditor.getNote()})})),Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.canCloseResIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.canCloseResIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Y)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},Y.\u0275cmp=f.Nb({type:Y,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.ad(M,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:16,vars:12,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],[1,"col-md-12"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[3,"resIds"],["noteEditor",""],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,I,2,0,"div",3),f.Zb(5,"div",4),f.Qc(6,D,3,2,"div",5),f.Qc(7,j,12,8,"ng-container",6),f.Yb(),f.Yb(),f.Ub(8,"span",7),f.Zb(9,"div",8),f.Zb(10,"button",9),f.hc("click",(function(){return e.onSubmit()})),f.Sc(11),f.mc(12,"translate"),f.Yb(),f.Zb(13,"button",10),f.Sc(14),f.mc(15,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(2),f.sc("ngIf",e.emptyMandatoryFields.length>0),f.Eb(1),f.sc("ngIf",0===e.data.resIds.length||e.canCloseResIds.length>0),f.Eb(3),f.sc("disabled",e.loading||0==e.canCloseResIds.length),f.Eb(1),f.Tc(f.nc(12,8,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(15,10,"lang.cancel")))},directives:[d.i,d.f,g.t,d.c,v.b,d.d,y.c,g.s,b.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),Y),N=n("jbvq"),U=["noteEditor"],B=["appVisaWorkflow"];function z(t,e){1&t&&(f.Zb(0,"div",17),f.Ub(1,"mat-spinner",18),f.Yb())}function V(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function H(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function Q(t,e){if(1&t&&f.Ub(0,"div",20),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.rejectVisaBack"),f.Ic)}}function W(t,e){if(1&t&&f.Ub(0,"div",20),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.rejectVisaBackUser")+" <b>"+n.appVisaWorkflow.getLastVisaUser().labelToDisplay+"</b>",f.Ic)}}function G(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function q(t,e){if(1&t&&(f.Zb(0,"div",21),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,G,5,4,"li",22),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function X(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function J(t,e){if(1&t&&(f.Zb(0,"div",23),f.Zb(1,"ul",24),f.Qc(2,X,5,4,"li",22),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.sc("ngForOf",n.resourcesWarnings)}}function K(t,e){if(1&t&&f.Ub(0,"app-visa-workflow",25,26),2&t){var n=f.lc();f.sc("adminMode",!1)("resId",n.data.resIds[0])}}var tt,et=((tt=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.checkRejectVisaBackToPrevious();case 3:this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkRejectVisaBackToPrevious",value:function(){var t=this;return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkRejectVisa",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.resourcesInformations.warning)||(t.resourcesWarnings=n.resourcesInformations.warning),t.functions.empty(n.resourcesInformations.error)||(t.resourcesErrors=n.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess}}]),t}()).\u0275fac=function(t){return new(t||tt)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},tt.\u0275cmp=f.Nb({type:tt,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(U,!0),f.ad(B,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appVisaWorkflow=n.first))},decls:28,vars:21,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,z,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,V,2,1,"b",6),f.Qc(10,H,3,4,"b",6),f.Sc(11," ? "),f.Qc(12,Q,1,1,"div",7),f.Qc(13,W,1,1,"div",7),f.Qc(14,q,6,4,"div",8),f.Qc(15,J,3,1,"div",9),f.Qc(16,K,2,2,"app-visa-workflow",10),f.Yb(),f.Zb(17,"div",5),f.Ub(18,"app-note-editor",11,12),f.Yb(),f.Yb(),f.Yb(),f.Ub(20,"span",13),f.Zb(21,"div",14),f.Zb(22,"button",15),f.hc("click",(function(){return e.onSubmit()})),f.Sc(23),f.mc(24,"translate"),f.Yb(),f.Zb(25,"button",16),f.Sc(26),f.mc(27,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,15,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",1===e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",e.data.resIds.length>1),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appVisaWorkflow&&""!==e.appVisaWorkflow.getLastVisaUser()),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",e.resourcesWarnings.length>0),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(24,17,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(27,19,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c,g.s,N.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),tt),nt=["noteEditor"],it=["appVisaWorkflow"];function at(t,e){1&t&&(f.Zb(0,"div",17),f.Ub(1,"mat-spinner",18),f.Yb())}function rt(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function ot(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function st(t,e){if(1&t&&f.Ub(0,"div",20),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.resetVisaWorkflow"),f.Ic)}}function ct(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function lt(t,e){if(1&t&&(f.Zb(0,"div",21),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,ct,5,4,"li",22),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function ut(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function dt(t,e){if(1&t&&(f.Zb(0,"div",23),f.Zb(1,"ul",24),f.Qc(2,ut,5,4,"li",22),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.sc("ngForOf",n.resourcesWarnings)}}function ft(t,e){if(1&t&&f.Ub(0,"app-visa-workflow",25,26),2&t){var n=f.lc();f.sc("adminMode",!1)("resId",n.data.resIds[0])}}var ht,pt=((ht=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.checkResetVisa();case 3:this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkResetVisa",value:function(){var t=this;return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkInterruptResetVisa",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.resourcesInformations.warning)||(t.resourcesWarnings=n.resourcesInformations.warning),t.functions.empty(n.resourcesInformations.error)||(t.resourcesErrors=n.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess}}]),t}()).\u0275fac=function(t){return new(t||ht)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},ht.\u0275cmp=f.Nb({type:ht,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(nt,!0),f.ad(it,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appVisaWorkflow=n.first))},decls:27,vars:20,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,at,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,rt,2,1,"b",6),f.Qc(10,ot,3,4,"b",6),f.Sc(11," ? "),f.Qc(12,st,1,1,"div",7),f.Qc(13,lt,6,4,"div",8),f.Qc(14,dt,3,1,"div",9),f.Qc(15,ft,2,2,"app-visa-workflow",10),f.Yb(),f.Zb(16,"div",5),f.Ub(17,"app-note-editor",11,12),f.Yb(),f.Yb(),f.Yb(),f.Ub(19,"span",13),f.Zb(20,"div",14),f.Zb(21,"button",15),f.hc("click",(function(){return e.onSubmit()})),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Zb(24,"button",16),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,14,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",1===e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",e.data.resIds.length>0),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",e.resourcesWarnings.length>0),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(23,16,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(26,18,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c,g.s,N.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),ht),mt=["noteEditor"];function gt(t,e){1&t&&(f.Zb(0,"div",17),f.Ub(1,"mat-spinner",18),f.Yb())}function bt(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function vt(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function yt(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function _t(t,e){if(1&t&&(f.Zb(0,"div",20),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,yt,5,4,"li",21),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function kt(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Ct(t,e){if(1&t&&(f.Zb(0,"div",22),f.Zb(1,"ul",23),f.Qc(2,kt,5,4,"li",21),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.sc("ngForOf",n.resourcesWarnings)}}function xt(t,e){if(1&t&&f.Ub(0,"app-visa-workflow",24,25),2&t){var n=f.lc();f.sc("adminMode",!1)("resId",n.data.resIds[0])}}var wt,Ot=((wt=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.checkInterruptVisa();case 3:this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkInterruptVisa",value:function(){var t=this;return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkInterruptResetVisa",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.resourcesInformations.warning)||(t.resourcesWarnings=n.resourcesInformations.warning),t.functions.empty(n.resourcesInformations.error)||(t.resourcesErrors=n.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess}}]),t}()).\u0275fac=function(t){return new(t||wt)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},wt.\u0275cmp=f.Nb({type:wt,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(mt,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:27,vars:20,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,gt,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,bt,2,1,"b",6),f.Qc(10,vt,3,4,"b",6),f.Sc(11," ? "),f.Ub(12,"div",7),f.Qc(13,_t,6,4,"div",8),f.Qc(14,Ct,3,1,"div",9),f.Qc(15,xt,2,2,"app-visa-workflow",10),f.Yb(),f.Zb(16,"div",5),f.Ub(17,"app-note-editor",11,12),f.Yb(),f.Yb(),f.Yb(),f.Ub(19,"span",13),f.Zb(20,"div",14),f.Zb(21,"button",15),f.hc("click",(function(){return e.onSubmit()})),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Zb(24,"button",16),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,14,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",1===e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("innerHTML",e.translate.instant("lang.interruptVisaWorkflow"),f.Ic),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",e.resourcesWarnings.length>0),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(23,16,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(26,18,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c,g.s,N.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),wt),St=["noteEditor"];function Et(t,e){1&t&&(f.Zb(0,"div",14),f.Ub(1,"mat-spinner",15),f.Yb())}function Mt(t,e){1&t&&(f.Zb(0,"b",16),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function It(t,e){if(1&t&&(f.Zb(0,"b",16),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Pt(t,e){if(1&t&&(f.Zb(0,"b",16),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var Tt,At=((Tt=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}},{key:"indexDocumentAndExecuteAction",value:function(){var t=this;this.http.post("../rest/resources",this.data.resource).pipe(Object(a.a)((function(e){t.data.resIds=[e.resId]})),Object(c.a)((function(){return t.http.put(t.data.indexActionRoute,{resource:t.data.resIds[0],note:t.noteEditor.getNote()})})),Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Tt)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},Tt.\u0275cmp=f.Nb({type:Tt,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(St,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:26,vars:19,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Et,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,Mt,3,3,"b",6),f.Qc(10,It,2,1,"b",6),f.Qc(11,Pt,3,4,"b",6),f.Sc(12," ? "),f.Ub(13,"div",7),f.Ub(14,"div",7),f.Yb(),f.Zb(15,"div",5),f.Ub(16,"app-note-editor",8,9),f.Yb(),f.Yb(),f.Yb(),f.Ub(18,"span",10),f.Zb(19,"div",11),f.Zb(20,"button",12),f.hc("click",(function(){return e.onSubmit()})),f.Sc(21),f.mc(22,"translate"),f.Yb(),f.Zb(23,"button",13),f.Sc(24),f.mc(25,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,13,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("innerHTML",e.translate.instant("lang.updateClosingDate"),f.Ic),f.Eb(1),f.sc("innerHTML",e.translate.instant("lang.openIndexation"),f.Ic),f.Eb(2),f.sc("resIds",e.data.selectedRes),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(22,15,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(25,17,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),Tt),Dt=n("kmnG"),Rt=n("qFsG"),Lt=n("3Pt+"),Ft=n("iadO"),jt=["noteEditor"];function Yt(t,e){1&t&&(f.Zb(0,"div",19),f.Ub(1,"mat-spinner",20),f.Yb())}function Zt(t,e){1&t&&(f.Zb(0,"b",21),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Nt(t,e){if(1&t&&(f.Zb(0,"b",21),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ut(t,e){if(1&t&&(f.Zb(0,"b",21),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var Bt,zt=((Bt=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1,this.acknowledgementSendDate=new Date,this.acknowledgementSendDateEnd=new Date}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote(),data:{send_date:(this.acknowledgementSendDate.getTime()/1e3).toString()}}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Bt)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},Bt.\u0275cmp=f.Nb({type:Bt,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(jt,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:32,vars:26,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[1,"col-sm-6",2,"padding-top","10px"],["matInput","",3,"ngModel","max","matDatepicker","placeholder","ngModelChange","focus"],["matSuffix","",3,"for"],[3,"startAt"],["pickerStart",""],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Yt,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,Zt,3,3,"b",6),f.Qc(10,Nt,2,1,"b",6),f.Qc(11,Ut,3,4,"b",6),f.Sc(12," ? "),f.Ub(13,"div",7),f.Zb(14,"div",8),f.Zb(15,"mat-form-field"),f.Zb(16,"input",9),f.hc("ngModelChange",(function(t){return e.acknowledgementSendDate=t}))("focus",(function(){return f.Hc(n),f.Dc(20).open()})),f.mc(17,"translate"),f.Yb(),f.Ub(18,"mat-datepicker-toggle",10),f.Ub(19,"mat-datepicker",11,12),f.Yb(),f.Yb(),f.Yb(),f.Zb(21,"div",5),f.Ub(22,"app-note-editor",13,14),f.Yb(),f.Yb(),f.Yb(),f.Ub(24,"span",15),f.Zb(25,"div",16),f.Zb(26,"button",17),f.hc("click",(function(){return e.onSubmit()})),f.Sc(27),f.mc(28,"translate"),f.Yb(),f.Zb(29,"button",18),f.Sc(30),f.mc(31,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.Dc(20);f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,18,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("innerHTML",e.translate.instant("lang.updateAcknowledgementSendDate"),f.Ic),f.Eb(3),f.tc("placeholder",f.nc(17,20,"lang.acknowledgementSendDate")),f.sc("ngModel",e.acknowledgementSendDate)("max",e.acknowledgementSendDateEnd)("matDatepicker",i),f.Eb(2),f.sc("for",i),f.Eb(1),f.sc("startAt",e.acknowledgementSendDate),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(28,22,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(31,24,"lang.cancel"))}},directives:[d.i,d.f,g.t,Dt.c,Rt.b,Lt.c,Ft.f,Lt.t,Lt.w,Ft.h,Dt.j,Ft.d,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),Bt),Vt=n("1jcm"),Ht=n("fBaO"),Qt=["noteEditor"];function Wt(t,e){1&t&&(f.Zb(0,"div",14),f.Ub(1,"mat-spinner",15),f.Yb())}function Gt(t,e){1&t&&(f.Zb(0,"b",17),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function qt(t,e){if(1&t&&(f.Zb(0,"b",17),f.Sc(1),f.Yb()),2&t){var n=f.lc(3);f.Eb(1),f.Tc(n.data.resource.chrono)}}function Xt(t,e){if(1&t&&(f.Zb(0,"b",17),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(3);f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function $t(t,e){if(1&t&&(f.Zb(0,"p"),f.Sc(1),f.mc(2,"translate"),f.Qc(3,Gt,3,3,"b",16),f.Qc(4,qt,2,1,"b",16),f.Qc(5,Xt,3,4,"b",16),f.Sc(6," ? "),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Uc(" ",f.nc(2,4,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===n.data.resIds.length),f.Eb(1),f.sc("ngIf",1==n.data.resIds.length),f.Eb(1),f.sc("ngIf",n.data.resIds.length>1)}}function Jt(t,e){if(1&t){var n=f.ac();f.Zb(0,"div"),f.Zb(1,"mat-slide-toggle",18),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).manualAR=t}))("change",(function(t){return f.Hc(n),f.lc(2).toggleArManual(t.checked)})),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()}if(2&t){var i=f.lc(2);f.Eb(1),f.sc("ngModel",i.manualAR),f.Eb(1),f.Uc(" ",f.nc(3,2,"lang.editAcknowledgementReceipt"),"")}}function Kt(t,e){if(1&t){var n=f.ac();f.Zb(0,"plugin-select-search",26),f.hc("afterSelected",(function(t){return f.Hc(n),f.lc(3).mergeEmailTemplate(t)})),f.Yb()}if(2&t){var i=f.lc(3);f.sc("label",i.translate.instant("lang.emailModel"))("placeholderLabel",i.translate.instant("lang.emailModel"))("datas",i.availableEmailModels)("formControlSelect",i.templateEmailListForm)}}function te(t,e){if(1&t){var n=f.ac();f.Zb(0,"plugin-select-search",26,27),f.hc("afterSelected",(function(t){return f.Hc(n),f.lc(3).mergeSignEmailTemplate(t)})),f.Yb()}if(2&t){var i=f.lc(3);f.sc("label",i.translate.instant("lang.emailSignatures"))("placeholderLabel",i.translate.instant("lang.emailSignatures"))("datas",i.availableSignEmailModels)("formControlSelect",i.emailSignListForm)}}function ee(t,e){if(1&t){var n=f.ac();f.Zb(0,"div"),f.Zb(1,"mat-form-field",19),f.Zb(2,"span",20),f.Zb(3,"span",21),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Sc(6,"[AR]\xa0"),f.Yb(),f.Zb(7,"input",22),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).emailsubject=t})),f.Yb(),f.Yb(),f.Zb(8,"div",23),f.Qc(9,Kt,1,4,"plugin-select-search",24),f.Qc(10,te,2,4,"plugin-select-search",24),f.Yb(),f.Zb(11,"textarea",25),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).emailContent=t})),f.Yb(),f.Yb()}if(2&t){var i=f.lc(2);f.Eb(4),f.Uc("",f.nc(5,5,"lang.object"),"\xa0:\xa0"),f.Eb(3),f.sc("ngModel",i.emailsubject),f.Eb(2),f.sc("ngIf",i.availableEmailModels.length>0),f.Eb(1),f.sc("ngIf",i.availableSignEmailModels.length>0),f.Eb(1),f.sc("ngModel",i.emailContent)}}function ne(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",n.alt_identifier," ")}}function ie(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"div",28),f.Zb(2,"p"),f.Zb(3,"b"),f.Sc(4),f.Yb(),f.Sc(5),f.mc(6,"translate"),f.Yb(),f.Zb(7,"ul"),f.Qc(8,ne,2,1,"li",29),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(4),f.Tc(n.acknowledgement.alreadySend.number),f.Eb(1),f.Uc(" ",f.nc(6,3,"lang.arAlreadySend")," : "),f.Eb(3),f.sc("ngForOf",n.acknowledgement.alreadySend.list)}}function ae(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",n.alt_identifier," ")}}function re(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"div",28),f.Zb(2,"p"),f.Zb(3,"b"),f.Sc(4),f.Yb(),f.Sc(5),f.mc(6,"translate"),f.Yb(),f.Zb(7,"ul"),f.Qc(8,ae,2,1,"li",29),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(4),f.Tc(n.acknowledgement.alreadyGenerated.number),f.Eb(1),f.Uc(" ",f.nc(6,3,"lang.arAlreadyGenerated")," : "),f.Eb(3),f.sc("ngForOf",n.acknowledgement.alreadyGenerated.list)}}function oe(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.Yb()),2&t){var n=e.$implicit,i=f.lc(3);f.Eb(2),f.Tc(null!=n.alt_identifier?n.alt_identifier:i.translate.instant("lang.undefined")),f.Eb(1),f.Uc(" : ",n.info," ")}}function se(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"div",28),f.Zb(2,"p"),f.Zb(3,"b"),f.Sc(4),f.Yb(),f.Sc(5),f.mc(6,"translate"),f.Yb(),f.Zb(7,"ul"),f.Qc(8,oe,4,2,"li",29),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(4),f.Tc(n.acknowledgement.noSendAR.number),f.Eb(1),f.Uc(" ",f.nc(6,3,"lang.canNotSendAr")," :"),f.Eb(3),f.sc("ngForOf",n.acknowledgement.noSendAR.list)}}function ce(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=f.lc(3);f.Eb(2),f.Tc(n.acknowledgement.sendEmail),f.Eb(1),f.Uc(" ",f.nc(4,2,"lang.readyToSendElectronicAr")," ")}}function le(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=f.lc(3);f.Eb(2),f.Tc(n.acknowledgement.sendPaper),f.Eb(1),f.Uc(" ",f.nc(4,2,"lang.readyToGeneratePaperAr")," ")}}function ue(t,e){if(1&t&&(f.Zb(0,"div",30),f.Qc(1,ce,5,4,"div",11),f.Qc(2,le,5,4,"div",11),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.sc("ngIf",n.acknowledgement.sendEmail),f.Eb(1),f.sc("ngIf",n.acknowledgement.sendPaper)}}function de(t,e){if(1&t&&(f.Zb(0,"div",10),f.Ub(1,"app-note-editor",31,32),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.sc("resIds",n.data.resIds)}}function fe(t,e){if(1&t&&(f.Zb(0,"div",7),f.Qc(1,Wt,2,0,"div",8),f.Zb(2,"div",9),f.Zb(3,"div",10),f.Qc(4,$t,7,6,"p",11),f.Qc(5,Jt,4,4,"div",11),f.Qc(6,ee,12,7,"div",11),f.Qc(7,ie,9,5,"div",11),f.Qc(8,re,9,5,"div",11),f.Qc(9,se,9,5,"div",11),f.Qc(10,ue,3,2,"div",12),f.Yb(),f.Qc(11,de,3,1,"div",13),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngIf",n.loading),f.Eb(3),f.sc("ngIf","both"==n.arMode||n.acknowledgement.sendEmail||n.acknowledgement.sendPaper),f.Eb(1),f.sc("ngIf","both"==n.arMode),f.Eb(1),f.sc("ngIf",n.manualAR&&n.realResSelected.length>0),f.Eb(1),f.sc("ngIf",n.acknowledgement.alreadySend.number),f.Eb(1),f.sc("ngIf",n.acknowledgement.alreadyGenerated.number),f.Eb(1),f.sc("ngIf",n.acknowledgement.noSendAR.number),f.Eb(1),f.sc("ngIf",n.acknowledgement.sendEmail||n.acknowledgement.sendPaper),f.Eb(1),f.sc("ngIf",n.acknowledgement.sendEmail||n.acknowledgement.sendPaper)}}var he,pe=((he=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1,this.loadingInit=!1,this.emailsubject="",this.emailContent="",this.availableEmailModels=[],this.availableSignEmailModels=[],this.emailSignListForm=new Lt.h,this.templateEmailListForm=new Lt.h,this.acknowledgement={alReadyGenerated:{},alReadySend:{},noSendAR:{},sendEmail:0,sendPaper:0,sendList:[]},this.realResSelected=[],this.currentMode="",this.manualAR=!1,this.arMode="auto"}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadingInit=!0,this.checkAcknowledgementReceipt()}},{key:"checkAcknowledgementReceipt",value:function(){var t=this;this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkAcknowledgementReceipt?"+this.currentMode,{resources:this.data.resIds}).subscribe((function(e){t.acknowledgement=e,t.realResSelected=e.sendList,t.loadingInit=!1,t.arMode=e.mode,t.arModeInit(t.arMode)}),(function(e){t.notify.error(e.error.errors),t.dialogRef.close(),t.loadingInit=!1}))}},{key:"arModeInit",value:function(t){"manual"===t&&this.toggleArManual(!0)}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"ngOnDestroy",value:function(){tinymce.remove()}},{key:"executeAction",value:function(){var t=this,e=null;this.manualAR&&(e={subject:this.emailsubject,content:tinymce.get("emailSignature").getContent(),manual:!0}),this.http.put(this.data.processActionRoute,{resources:this.realResSelected,note:this.noteEditor.getNote(),data:e}).pipe(Object(a.a)((function(e){e&&null!=e.data&&t.downloadAcknowledgementReceipt(e.data),e&&null!=e.errors&&(t.notify.error(e.errors),console.log(e.errors)),t.dialogRef.close(t.realResSelected)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"downloadAcknowledgementReceipt",value:function(t){var e=this;this.loadingExport=!0,this.http.post("../rest/acknowledgementReceipts",{resources:t},{responseType:"blob"}).subscribe((function(t){var n,i,a,r,o=document.createElement("a");o.href=window.URL.createObjectURL(t),i=(n=new Date).getDate(),a=n.getMonth()+1,r=n.getFullYear(),i<10&&(i="0"+i),a<10&&(a="0"+a),n=i+"-"+a+"-"+r,o.setAttribute("download","acknowledgement_receipt_maarch_"+n+".pdf"),document.body.appendChild(o),o.click(),e.loadingExport=!1}),(function(t){e.notify.handleErrors(t)}))}},{key:"toggleArManual",value:function(t){var e=this;t?(this.currentMode="mode=manual",this.checkAcknowledgementReceipt(),this.manualAR=!0,1===this.data.resIds.length&&(this.emailsubject=this.data.resource.subject,this.emailsubject=this.emailsubject.substring(0,100)),this.initEmailModelsList(),this.initSignEmailModelsList(),setTimeout((function(){e.initMce()}),800)):(this.currentMode="mode=auto",this.checkAcknowledgementReceipt(),tinymce.remove(),this.manualAR=!1)}},{key:"initMce",value:function(){tinymce.init({selector:"textarea#emailSignature",base_url:"../node_modules/tinymce/",readonly:!1,suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:"../node_modules/tinymce-i18n/langs/".concat(this.translate.instant("lang.langISO").replace("-","_"),".js"),menubar:!1,statusbar:!1,plugins:["autolink","autoresize"],external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_drawer:"floating",toolbar:"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |             alignleft aligncenter alignright alignjustify             bullist numlist outdent indent | removeformat"})}},{key:"mergeEmailTemplate",value:function(t){var e=this;this.templateEmailListForm.reset(),this.http.post("../rest/templates/".concat(t,"/mergeEmail"),{data:{resId:this.data.resIds[0]}}).pipe(Object(a.a)((function(t){var e=document.createElement("div");if(e.innerHTML=tinymce.get("emailSignature").getContent(),e.getElementsByClassName("signature").length>0){var n=e.getElementsByClassName("signature")[0].innerHTML;e.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent("".concat(e.innerHTML).concat(t.mergedDocument,'<div class="signature">').concat(n,"</div>"))}else tinymce.get("emailSignature").setContent("".concat(tinymce.get("emailSignature").getContent()).concat(t.mergedDocument))})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"mergeSignEmailTemplate",value:function(t){var e=this;this.emailSignListForm.reset(),this.http.get("../rest/currentUser/emailSignatures/"+t).pipe(Object(a.a)((function(t){var e=document.createElement("div");e.innerHTML=tinymce.get("emailSignature").getContent(),e.getElementsByClassName("signature").length>0?(e.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent("".concat(e.innerHTML,'<div class="signature">').concat(t.emailSignature.content,"</div>"))):tinymce.get("emailSignature").setContent("".concat(tinymce.get("emailSignature").getContent(),'<div class="signature">').concat(t.emailSignature.content,"</div>"))})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"initEmailModelsList",value:function(){var t=this;0===this.availableEmailModels.length&&1===this.data.resIds.length&&this.http.get("../rest/resources/".concat(this.data.resIds[0],"/emailTemplates")).pipe(Object(a.a)((function(e){t.availableEmailModels=e.templates})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"initSignEmailModelsList",value:function(){var t=this;0===this.availableSignEmailModels.length&&1===this.data.resIds.length&&this.http.get("../rest/currentUser/emailSignatures").pipe(Object(a.a)((function(e){t.availableSignEmailModels=e.emailSignatures})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||he)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},he.\u0275cmp=f.Nb({type:he,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.ad(Qt,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],["class","alert-message alert-message-success acknowledgementList","role","alert","style","padding: 10px;",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary","class","highlight",4,"ngIf"],["color","primary",1,"highlight"],["color","primary",3,"ngModel","ngModelChange","change"],["floatLabel","never"],["matPrefix",""],[1,"attachLabel"],["matInput","","maxlength","100",3,"ngModel","ngModelChange"],[1,"models"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected",4,"ngIf"],["name","emailSignature","id","emailSignature",2,"padding-top","10px",3,"ngModel","ngModelChange"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],["role","alert",1,"alert-message","alert-message-info","acknowledgementList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-success","acknowledgementList",2,"padding","10px"],[3,"resIds"],["noteEditor",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Qc(3,fe,12,9,"div",2),f.Ub(4,"span",3),f.Zb(5,"div",4),f.Zb(6,"button",5),f.hc("click",(function(){return e.onSubmit()})),f.Sc(7),f.mc(8,"translate"),f.Yb(),f.Zb(9,"button",6),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(1),f.sc("ngIf",!e.loadingInit),f.Eb(3),f.sc("disabled",e.loading||!e.acknowledgement.sendEmail&&!e.acknowledgement.sendPaper),f.Eb(1),f.Tc(f.nc(8,6,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(11,8,"lang.cancel")))},directives:[d.i,g.t,d.c,v.b,d.d,d.f,y.c,Vt.a,Lt.t,Lt.w,Dt.c,Dt.i,Rt.b,Lt.c,Lt.o,Ht.a,g.s,b.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px;margin-bottom:10px}.attachLabel[_ngcontent-%COMP%]{color:#135f7f}"]}),he),me=["noteEditor"];function ge(t,e){1&t&&(f.Zb(0,"div",14),f.Ub(1,"mat-spinner",15),f.Yb())}function be(t,e){1&t&&(f.Zb(0,"b",16),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function ve(t,e){if(1&t&&(f.Zb(0,"b",16),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function ye(t,e){if(1&t&&(f.Zb(0,"b",16),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var _e,ke=((_e=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||_e)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},_e.\u0275cmp=f.Nb({type:_e,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(me,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:25,vars:18,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,ge,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,be,3,3,"b",6),f.Qc(10,ve,2,1,"b",6),f.Qc(11,ye,3,4,"b",6),f.Sc(12," ? "),f.Ub(13,"div",7),f.Yb(),f.Zb(14,"div",5),f.Ub(15,"app-note-editor",8,9),f.Yb(),f.Yb(),f.Yb(),f.Ub(17,"span",10),f.Zb(18,"div",11),f.Zb(19,"button",12),f.hc("click",(function(){return e.onSubmit()})),f.Sc(20),f.mc(21,"translate"),f.Yb(),f.Zb(22,"button",13),f.Sc(23),f.mc(24,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,12,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("innerHTML",e.translate.instant("lang.updateDepartureDate"),f.Ic),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(21,14,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(24,16,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),_e),Ce=["noteEditor"];function xe(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function we(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Oe(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Se(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var Ee,Me=((Ee=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ee)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},Ee.\u0275cmp=f.Nb({type:Ee,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(Ce,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,xe,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,we,3,3,"b",6),f.Qc(10,Oe,2,1,"b",6),f.Qc(11,Se,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),Ee),Ie=["noteEditor"];function Pe(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function Te(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Ae(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function De(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var Re,Le=((Re=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Re)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},Re.\u0275cmp=f.Nb({type:Re,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(Ie,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Pe,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,Te,3,3,"b",6),f.Qc(10,Ae,2,1,"b",6),f.Qc(11,De,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),Re),Fe=["noteEditor"];function je(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function Ye(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Ze(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ne(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var Ue,Be,ze,Ve=((Ue=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,data:{basketId:this.data.basketId},note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ue)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},Ue.\u0275cmp=f.Nb({type:Ue,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(Fe,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,je,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,Ye,3,3,"b",6),f.Qc(10,Ze,2,1,"b",6),f.Qc(11,Ne,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),Ue),He=n("NFeN"),Qe=n("GUHb"),We=((Be=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.data=n}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Be)(f.Tb(h.e),f.Tb(d.a))},Be.\u0275cmp=f.Nb({type:Be,selectors:[["ng-component"]],decls:10,vars:7,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-icon-button","",3,"title","mat-dialog-close"],[1,"fa","fa-times-circle","fa-2x"],["mat-dialog-content","",2,"min-height","200px"],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","title"],["appDocumentViewer",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Zb(2,"span"),f.Sc(3),f.Yb(),f.Zb(4,"button",2),f.mc(5,"translate"),f.Ub(6,"mat-icon",3),f.Yb(),f.Yb(),f.Zb(7,"div",4),f.Ub(8,"app-document-viewer",5,6),f.Yb(),f.Yb()),2&t&&(f.Eb(3),f.Uc(" ",e.data.resource.chrono," "),f.Eb(1),f.tc("title",f.nc(5,5,"lang.close")),f.Eb(4),f.sc("editMode",!1)("resId",e.data.resource.resId)("title",e.data.resource.chrono+" - "+e.data.resource.subject))},directives:[d.i,v.b,d.d,He.a,d.f,Qe.a],pipes:[h.d],styles:[""]}),Be),Ge=n("XhcP"),qe=n("bSwM"),Xe=((ze=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.loading=!1,this.currentAccount=null,this.usersWorkflowList=[],this.injectDatasParam={resId:0,editable:!0}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"isValidParaph",value:function(){return 0!==this.additionalsInfos.attachments.length}},{key:"getRessources",value:function(){return this.additionalsInfos.attachments.map((function(t){return t.res_id}))}},{key:"getDatas",value:function(){return this.externalSignatoryBookDatas}}]),t}()).\u0275fac=function(t){return new(t||ze)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a))},ze.\u0275cmp=f.Nb({type:ze,selectors:[["app-i-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:6,vars:3,consts:[[1,"col-md-12"],["role","alert",1,"alert-message","alert-message-info"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"div"),f.Zb(2,"div",1),f.Zb(3,"p"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(4),f.Tc(f.nc(5,1,"lang.sentToIParapheur")))},pipes:[h.d],styles:[".alert-message[_ngcontent-%COMP%]{margin:0}"]}),ze),$e=n("QibW");function Je(t,e){1&t&&(f.Zb(0,"div"),f.Zb(1,"div",4),f.Zb(2,"p"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(3),f.Tc(f.nc(4,1,"lang.noIxbusNature")))}function Ke(t,e){1&t&&(f.Zb(0,"div"),f.Zb(1,"div",4),f.Zb(2,"p"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(3),f.Tc(f.nc(4,1,"lang.noWorkflowIxbus")))}function tn(t,e){if(1&t&&(f.Xb(0),f.Qc(1,Je,5,3,"div",3),f.Qc(2,Ke,5,3,"div",3),f.Wb()),2&t){var n=f.lc(2);f.Eb(1),f.sc("ngIf",0==n.natures.length),f.Eb(1),f.sc("ngIf",0==n.messagesModel.length)}}function en(t,e){if(1&t){var n=f.ac();f.Xb(0),f.Zb(1,"div",5),f.Zb(2,"div",6),f.Zb(3,"plugin-select-search",7),f.hc("afterSelected",(function(){f.Hc(n);var t=f.lc(2);return t.ixbusDatas.nature=t.selectNature.value})),f.Yb(),f.Yb(),f.Yb(),f.Zb(4,"div",5),f.Zb(5,"div",6),f.Zb(6,"plugin-select-search",7),f.hc("afterSelected",(function(){f.Hc(n);var t=f.lc(2);return t.ixbusDatas.messageModel=t.selectWorkflow.value})),f.Yb(),f.Yb(),f.Yb(),f.Zb(7,"div",8),f.Zb(8,"div",6),f.Zb(9,"mat-form-field"),f.Zb(10,"input",9),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).ixbusDatas.login=t})),f.mc(11,"translate"),f.mc(12,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Zb(13,"div",8),f.Zb(14,"div",6),f.Zb(15,"mat-form-field"),f.Zb(16,"input",10),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).ixbusDatas.password=t})),f.mc(17,"translate"),f.mc(18,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Zb(19,"mat-radio-group",11),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).ixbusDatas.signatureMode=t})),f.Zb(20,"mat-radio-button",12),f.Sc(21),f.mc(22,"translate"),f.Yb(),f.Zb(23,"mat-radio-button",13),f.Sc(24),f.mc(25,"translate"),f.Yb(),f.Yb(),f.Wb()}if(2&t){var i=f.lc(2);f.Eb(3),f.Gb(""),f.sc("showLabel",!0)("label",i.translate.instant("lang.natureIxbusParapheur"))("placeholderLabel",i.translate.instant("lang.natureIxbusParapheur"))("formControlSelect",i.selectNature)("datas",i.natures)("required",!0),f.Eb(3),f.Gb(""),f.sc("showLabel",!0)("label",i.translate.instant("lang.workflowModelIxbus"))("placeholderLabel",i.translate.instant("lang.workflowModelIxbus"))("formControlSelect",i.selectWorkflow)("datas",i.messagesModel)("required",!0),f.Eb(4),f.tc("title",f.nc(11,25,"lang.loginIxbus")),f.tc("placeholder",f.nc(12,27,"lang.loginIxbus")),f.sc("ngModel",i.ixbusDatas.login),f.Eb(6),f.tc("title",f.nc(17,29,"lang.passwordIxbus")),f.tc("placeholder",f.nc(18,31,"lang.passwordIxbus")),f.sc("ngModel",i.ixbusDatas.password),f.Eb(3),f.sc("ngModel",i.ixbusDatas.signatureMode),f.Eb(2),f.Uc(" ",f.nc(22,33,"lang.handwrittenSignature")," "),f.Eb(3),f.Uc(" ",f.nc(25,35,"lang.electronicSignature")," ")}}function nn(t,e){if(1&t&&(f.Zb(0,"div",1),f.Zb(1,"div"),f.Zb(2,"div",2),f.Zb(3,"p"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Qc(6,tn,3,2,"ng-container",3),f.Qc(7,en,26,37,"ng-container",3),f.Yb()),2&t){var n=f.lc();f.Eb(4),f.Tc(f.nc(5,3,"lang.sentToIxbusParapheur")),f.Eb(2),f.sc("ngIf",0==n.natures.length||0==n.messagesModel.length),f.Eb(1),f.sc("ngIf",0!=n.natures.length&&0!=n.messagesModel.length)}}var an,rn,on=((rn=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.loading=!0,this.currentAccount=null,this.usersWorkflowList=[],this.natures=[],this.messagesModel=[],this.ixbusDatas={nature:"",messageModel:"",login:"",password:"",signatureMode:"manual"},this.injectDatasParam={resId:0,editable:!0},this.selectNature=new Lt.h,this.selectWorkflow=new Lt.h}return _createClass(t,[{key:"ngOnInit",value:function(){this.natures=this.additionalsInfos.ixbus.natures.map((function(t){return{id:t,label:t}})),this.messagesModel=this.additionalsInfos.ixbus.messagesModel.map((function(t){return{id:t,label:t}})),this.loading=!1}},{key:"isValidParaph",value:function(){return!!(0!==this.additionalsInfos.attachments.length&&0!==this.natures.length&&0!==this.messagesModel.length&&this.ixbusDatas.nature&&this.ixbusDatas.messageModel&&this.ixbusDatas.login&&this.ixbusDatas.password)}},{key:"getRessources",value:function(){return this.additionalsInfos.attachments.map((function(t){return t.res_id}))}},{key:"getDatas",value:function(){return this.externalSignatoryBookDatas={ixbus:this.ixbusDatas,steps:[]},this.externalSignatoryBookDatas}}]),t}()).\u0275fac=function(t){return new(t||rn)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a))},rn.\u0275cmp=f.Nb({type:rn,selectors:[["app-ixbus-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:1,vars:1,consts:[["class","col-md-12",4,"ngIf"],[1,"col-md-12"],["role","alert",1,"alert-message","alert-message-info"],[4,"ngIf"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[1,"form-group",2,"margin-top","10px"],[1,"col-sm-12"],[2,"width","100%",3,"showLabel","label","placeholderLabel","formControlSelect","datas","required","afterSelected"],[1,"form-group"],["matInput","","required","","name","loginIxbus","id","loginIxbus","type","text",3,"ngModel","title","placeholder","ngModelChange"],["matInput","","required","","name","passwordIxbus","id","passwordIxbus","type","password",3,"ngModel","title","placeholder","ngModelChange"],["id","handwrittenSignature","name","handwrittenSignature","color","primary",3,"ngModel","ngModelChange"],["value","manual","color","primary"],["value","electronic","color","primary",2,"margin-left","5px"]],template:function(t,e){1&t&&f.Qc(0,nn,8,5,"div",0),2&t&&f.sc("ngIf",!e.loading)},directives:[g.t,Ht.a,Dt.c,Rt.b,Lt.c,Lt.E,Lt.t,Lt.w,$e.b,$e.a],pipes:[h.d],styles:[".alert-message[_ngcontent-%COMP%]{margin:0}"]}),rn),sn=((an=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.http=n,this.loading=!1,this.currentAccount=null,this.usersWorkflowList=[],this.injectDatasParam={resId:0,editable:!0}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"isValidParaph",value:function(){return 0!==this.additionalsInfos.attachments.length}},{key:"getRessources",value:function(){return this.additionalsInfos.attachments.map((function(t){return t.res_id}))}},{key:"getDatas",value:function(){return this.externalSignatoryBookDatas}}]),t}()).\u0275fac=function(t){return new(t||an)(f.Tb(h.e),f.Tb(p.b))},an.\u0275cmp=f.Nb({type:an,selectors:[["app-fast-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:6,vars:3,consts:[[1,"col-md-12"],["role","alert",1,"alert-message","alert-message-info"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"div"),f.Zb(2,"div",1),f.Zb(3,"p"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(4),f.Tc(f.nc(5,1,"lang.sentToFastParapheur")))},pipes:[h.d],styles:[".alert-message[_ngcontent-%COMP%]{margin:0}"]}),an),cn=["appVisaWorkflow"];function ln(t,e){if(1&t&&(f.Zb(0,"div",7),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){f.lc();var n=f.Dc(7);f.Eb(2),f.Tc(n.checkExternalSignatoryBook().join(", ")),f.Eb(1),f.Uc(" ",f.nc(4,2,"lang.usersMissingInSignatureBook")," ! ")}}function un(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function dn(t,e){if(1&t&&(f.Zb(0,"div",0),f.Zb(1,"div"),f.Zb(2,"div",8),f.Zb(3,"p"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Zb(6,"ul"),f.Qc(7,un,5,4,"li",9),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(4),f.Uc(" ",f.nc(5,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.additionalsInfos.visaWorkflowError)}}var fn,hn=((fn=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.http=n,this.loading=!1,this.currentAccount=null,this.usersWorkflowList=[],this.injectDatasParam={resId:0,editable:!0}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;void 0!==this.additionalsInfos.destinationId&&""!==this.additionalsInfos.destinationId&&setTimeout((function(){t.appVisaWorkflow.loadListModel(t.additionalsInfos.destinationId)}),0)}},{key:"isValidParaph",value:function(){return!(0===this.additionalsInfos.attachments.length||0===this.appVisaWorkflow.getWorkflow().length||this.appVisaWorkflow.checkExternalSignatoryBook().length>0)}},{key:"getRessources",value:function(){return this.additionalsInfos.attachments.map((function(t){return t.res_id}))}},{key:"getDatas",value:function(){var t=this;return this.appVisaWorkflow.getWorkflow().forEach((function(e){t.externalSignatoryBookDatas.steps.push({externalId:e.externalId.maarchParapheur,action:e.requested_signature?"sign":"visa"})})),this.externalSignatoryBookDatas}}]),t}()).\u0275fac=function(t){return new(t||fn)(f.Tb(h.e),f.Tb(p.b))},fn.\u0275cmp=f.Nb({type:fn,selectors:[["app-maarch-paraph"]],viewQuery:function(t,e){var n;1&t&&f.ad(cn,!0),2&t&&f.Cc(n=f.ic())&&(e.appVisaWorkflow=n.first)},inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:10,vars:8,consts:[[1,"col-md-12"],[1,"fieldsetdContainer",2,"flex","2"],[1,"fieldsetdContent"],[3,"adminMode","injectDatas","linkedToMaarchParapheur"],["appVisaWorkflow",""],["class","alert-message alert-message-danger","role","alert",4,"ngIf"],["class","col-md-12",4,"ngIf"],["role","alert",1,"alert-message","alert-message-danger"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(f.Zb(0,"div",0),f.Zb(1,"div",1),f.Zb(2,"h2"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Zb(5,"div",2),f.Ub(6,"app-visa-workflow",3,4),f.Qc(8,ln,5,4,"div",5),f.Yb(),f.Yb(),f.Yb(),f.Qc(9,dn,8,4,"div",6)),2&t){var n=f.Dc(7);f.Eb(3),f.Uc("",f.nc(4,6,"lang.visaWorkflow")," :"),f.Eb(3),f.sc("adminMode",!0)("injectDatas",e.injectDatasParam)("linkedToMaarchParapheur",!0),f.Eb(2),f.sc("ngIf",n.checkExternalSignatoryBook().length>0),f.Eb(1),f.sc("ngIf",e.additionalsInfos.visaWorkflowError)}},directives:[N.a,g.t,g.s],pipes:[h.d],styles:[".fieldsetdContainer[_ngcontent-%COMP%]{position:relative}.fieldsetdContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-5px;left:30px;margin:0;padding:0 5px;color:#135f7f}.fieldsetdContainer[_ngcontent-%COMP%]   .fieldsetdContent[_ngcontent-%COMP%]{background:#fff;border-radius:4px;border:1px solid #ccc;margin-top:10px;padding:10px;overflow:auto;height:450px}.alert-message[_ngcontent-%COMP%]{margin:0}"]}),fn),pn=n("JX91"),mn=n("lJxs"),gn=n("5+WD"),bn=n("d3UM"),vn=n("FKr1"),yn=n("/1cH"),_n=n("MutI"),kn=n("STbY");function Cn(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-option",8),f.Zb(1,"span",9),f.Sc(2),f.Yb(),f.Zb(3,"button",10),f.hc("click",(function(){f.Hc(n);var t=e.index;return f.lc(2).removeAccount(t)})),f.mc(4,"translate"),f.Ub(5,"mat-icon",11),f.Yb(),f.Yb()}if(2&t){var i=e.$implicit;f.sc("value",i),f.Eb(2),f.Vc("",i.login," (",i.siret,")"),f.Eb(1),f.tc("title",f.nc(4,4,"lang.delete"))}}function xn(t,e){if(1&t){var n=f.ac();f.Zb(0,"form",null,3),f.Zb(2,"div",4),f.Zb(3,"mat-form-field"),f.Zb(4,"mat-label"),f.Sc(5),f.mc(6,"translate"),f.Yb(),f.Zb(7,"mat-select",5),f.hc("selectionChange",(function(t){return f.Hc(n),f.lc().selectAccount(t)})),f.Qc(8,Cn,6,6,"mat-option",6),f.Yb(),f.Zb(9,"mat-hint"),f.Zb(10,"a",7),f.hc("click",(function(){return f.Hc(n),f.lc().initNewAccount()})),f.Sc(11),f.mc(12,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.lc();f.Eb(5),f.Tc(f.nc(6,3,"lang.selectedAccount")),f.Eb(3),f.sc("ngForOf",i.additionalsInfos.accounts),f.Eb(3),f.Tc(f.nc(12,5,"lang.addNewAccount"))}}function wn(t,e){if(1&t){var n=f.ac();f.Zb(0,"form",12,13),f.hc("ngSubmit",(function(){return f.Hc(n),f.lc().addNewAccount()})),f.Zb(2,"div",14),f.Zb(3,"mat-form-field"),f.Zb(4,"input",15),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc().newAccount.login=t})),f.mc(5,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(6,"div",14),f.Zb(7,"mat-form-field"),f.Zb(8,"input",16),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc().newAccount.siret=t})),f.mc(9,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(10,"div",17),f.Zb(11,"button",18),f.Sc(12),f.mc(13,"translate"),f.Yb(),f.Zb(14,"button",19),f.hc("click",(function(){return f.Hc(n),f.lc().addAccountMode=!1})),f.Sc(15),f.mc(16,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.Dc(1),a=f.lc();f.Eb(4),f.tc("placeholder",f.nc(5,7,"lang.newAccount")),f.sc("ngModel",a.newAccount.login),f.Eb(4),f.tc("placeholder",f.nc(9,9,"lang.siret")),f.sc("ngModel",a.newAccount.siret),f.Eb(3),f.sc("disabled",!i.form.valid||a.loading),f.Eb(1),f.Uc(" ",f.nc(13,11,"lang.add")," "),f.Eb(3),f.Uc(" ",f.nc(16,13,"lang.cancel")," ")}}function On(t,e){if(1&t&&(f.Zb(0,"mat-option",33),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.sc("value",n),f.Eb(1),f.Uc(" ",n.displayName," ")}}function Sn(t,e){1&t&&(f.Zb(0,"div",34),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Uc(" ",f.nc(2,1,"lang.noPerson")," "))}function En(t,e){if(1&t){var n=f.ac();f.Zb(0,"button",49),f.hc("click",(function(){f.Hc(n);var t=e.$implicit,i=f.lc().index;return f.lc(2).changeRole(i,t)})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){var i=e.$implicit;f.Eb(1),f.Tc(f.nc(2,1,"lang."+i+"User"))}}function Mn(t,e){if(1&t){var n=f.ac();f.Zb(0,"button",49),f.hc("click",(function(){f.Hc(n);var t=e.$implicit,i=f.lc().index;return f.lc(2).changeContext(i,t)})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){var i=e.$implicit;f.Eb(1),f.Tc(f.nc(2,1,"lang."+i))}}function In(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-list",35),f.Zb(1,"mat-list-item"),f.Ub(2,"mat-icon",36),f.Zb(3,"h4",37),f.Zb(4,"span",38),f.Sc(5),f.Yb(),f.Yb(),f.Zb(6,"p",39),f.Zb(7,"span",40),f.Zb(8,"button",41),f.mc(9,"translate"),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Zb(12,"mat-menu",null,42),f.Zb(14,"div",43),f.Sc(15),f.mc(16,"translate"),f.Yb(),f.Qc(17,En,3,3,"button",44),f.Yb(),f.Zb(18,"button",45),f.mc(19,"translate"),f.Sc(20),f.mc(21,"translate"),f.Yb(),f.Zb(22,"mat-menu",null,46),f.Zb(24,"div",43),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Qc(27,Mn,3,3,"button",44),f.Yb(),f.Yb(),f.Yb(),f.Zb(28,"button",47),f.hc("click",(function(){f.Hc(n);var t=e.index;return f.lc(2).deleteItem(t)})),f.Ub(29,"mat-icon",48),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=e.$implicit,a=f.Dc(13),r=f.Dc(23),o=f.lc(2);f.Eb(5),f.Tc(i.displayName),f.Eb(3),f.tc("title",f.nc(9,15,"lang."+i.currentRole+"User")),f.sc("matMenuTriggerFor",a),f.Eb(2),f.Tc(f.nc(11,17,"lang."+i.currentRole+"User")),f.Eb(2),f.Gb("listMenu"),f.Eb(3),f.Uc(" ",f.nc(16,19,"lang.roles")," "),f.Eb(2),f.sc("ngForOf",i.roles),f.Eb(1),f.tc("title",f.nc(19,21,"lang."+i.currentContext)),f.sc("matMenuTriggerFor",r),f.Eb(2),f.Tc(f.nc(21,23,"lang."+i.currentContext)),f.Eb(2),f.Gb("listMenu"),f.Eb(3),f.Uc(" ",f.nc(26,25,"lang.contextParaph")," "),f.Eb(2),f.sc("ngForOf",o.contextList)}}function Pn(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",20),f.Zb(1,"div",21),f.Zb(2,"h2",22),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Zb(5,"div",23),f.Zb(6,"mat-form-field",24),f.Ub(7,"input",25),f.mc(8,"translate"),f.Zb(9,"mat-autocomplete",26,27),f.hc("optionSelected",(function(t){return f.Hc(n),f.lc().addItem(t)})),f.Qc(11,On,2,2,"mat-option",28),f.mc(12,"async"),f.Yb(),f.Yb(),f.Zb(13,"div",29,30),f.hc("cdkDropListDropped",(function(t){return f.Hc(n),f.lc().drop(t)})),f.Qc(15,Sn,3,3,"div",31),f.Qc(16,In,30,27,"mat-list",32),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.Dc(10),a=f.lc();f.Eb(3),f.Uc("",f.nc(4,10,"lang.visaWorkflow")," :"),f.Eb(3),f.Pc("font-size",10,"px"),f.Eb(1),f.tc("placeholder",f.nc(8,12,"lang.addPerson")),f.sc("matAutocomplete",i)("formControl",a.usersCtrl),f.Eb(4),f.sc("ngForOf",f.nc(12,14,a.filteredUsers)),f.Eb(2),f.sc("cdkDropListData",a.currentWorkflow),f.Eb(2),f.sc("ngIf",0===a.currentWorkflow.length),f.Eb(1),f.sc("ngForOf",a.currentWorkflow)}}var Tn,An=((Tn=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.loading=!1,this.newAccount={},this.currentAccount=null,this.usersWorkflowList=[],this.currentWorkflow=[],this.contextList=["FON","PER","SPH","DIR","DLP","EXE"],this.addAccountMode=!1,this.usersCtrl=new Lt.h}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"drop",value:function(t){t.previousContainer===t.container&&Object(gn.h)(t.container.data,t.previousIndex,t.currentIndex)}},{key:"selectAccount",value:function(t){this.loading=!1,this.currentAccount=t.value,this.usersWorkflowList=[],this.currentWorkflow=[],this.getUsersWorkflowList(this.currentAccount)}},{key:"getUsersWorkflowList",value:function(t){var e=this;this.loading=!0,this.filteredUsers=this.usersCtrl.valueChanges.pipe(Object(pn.a)(""),Object(mn.a)((function(t){return t?e._filterUsers(t):e.usersWorkflowList.slice()}))),this.http.get("../rest/xParaphWorkflow?login="+t.login+"&siret="+t.siret).subscribe((function(t){e.usersWorkflowList=t.workflow,e.usersWorkflowList.forEach((function(t){t.currentRole=t.roles[0],t.currentContext=e.contextList[0]})),setTimeout((function(){$("#availableUsers").focus()}),0)}),(function(t){e.loading=!1,e.notify.error(t.error.errors[0])}))}},{key:"changeRole",value:function(t,e){this.currentWorkflow[t].currentRole=e}},{key:"changeContext",value:function(t,e){this.currentWorkflow[t].currentContext=e}},{key:"addItem",value:function(t){this.currentWorkflow.push(JSON.parse(JSON.stringify(t.option.value))),$("#availableUsers").blur(),this.usersCtrl.setValue("")}},{key:"deleteItem",value:function(t){this.currentWorkflow.splice(t,1)}},{key:"_filterUsers",value:function(t){if("string"==typeof t){var e=t.toLowerCase();return this.usersWorkflowList.filter((function(t){return-1!==t.displayName.toLowerCase().indexOf(e)}))}}},{key:"isValidParaph",value:function(){return this.additionalsInfos.attachments.length>0&&this.currentWorkflow.length>0&&""!==this.currentAccount.login&&""!==this.currentAccount.siret}},{key:"getRessources",value:function(){return this.additionalsInfos.attachments.map((function(t){return t.res_id}))}},{key:"getDatas",value:function(){var t=this;return this.externalSignatoryBookDatas={info:{siret:this.currentAccount.siret,login:this.currentAccount.login},steps:[]},this.currentWorkflow.forEach((function(e){t.externalSignatoryBookDatas.steps.push({login:e.userId,action:"visa"===e.currentRole?"2":"1",contexte:e.currentContext})})),this.externalSignatoryBookDatas}},{key:"addNewAccount",value:function(){var t=this;this.loading=!0,this.http.post("../rest/xParaphAccount",{login:this.newAccount.login,siret:this.newAccount.siret}).subscribe((function(e){t.additionalsInfos.accounts.push({login:t.newAccount.login,siret:t.newAccount.siret}),t.newAccount={},t.loading=!1,t.addAccountMode=!1,t.notify.success(t.translate.instant("lang.accountAdded"))}),(function(e){t.notify.handleErrors(e),t.loading=!1}))}},{key:"removeAccount",value:function(t){var e=this;confirm(this.translate.instant("lang.confirmDeleteAccount"))&&this.http.delete("../rest/xParaphAccount?siret="+this.additionalsInfos.accounts[t].siret+"&login="+this.additionalsInfos.accounts[t].login).subscribe((function(n){e.additionalsInfos.accounts.splice(t,1),e.notify.success(e.translate.instant("lang.accountDeleted"))}),(function(t){e.notify.handleErrors(t),e.loading=!1}))}},{key:"initNewAccount",value:function(){this.loading=!1,this.usersWorkflowList=[],this.currentWorkflow=[],this.currentAccount=null,this.addAccountMode=!0,setTimeout((function(){$("#newAccountLogin").focus()}),0)}}]),t}()).\u0275fac=function(t){return new(t||Tn)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a))},Tn.\u0275cmp=f.Nb({type:Tn,selectors:[["app-x-paraph"]],inputs:{additionalsInfos:"additionalsInfos",externalSignatoryBookDatas:"externalSignatoryBookDatas"},decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["class","col-md-12","style","padding-top: 20px;",4,"ngIf"],["accountForm","ngForm"],[1,"col-md-12",2,"padding-top","10px"],["name","loginAccount","required","",3,"selectionChange"],["class","accountList",3,"value",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[1,"accountList",3,"value"],[1,"accountName"],["mat-icon-button","","color","warn",3,"title","click"],[1,"fa","fa-trash"],[3,"ngSubmit"],["newAccountForm","ngForm"],[1,"col-md-6",2,"padding-top","10px"],["id","newAccountLogin","matInput","","name","newAccountLogin","required","",3,"placeholder","ngModel","ngModelChange"],["id","newAccountSiret","matInput","","name","newAccountSiret","required","",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-12","text-center",2,"padding-top","10px"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","",3,"click"],[1,"col-md-12",2,"padding-top","20px"],[1,"workflowContent"],[2,"top","-5px"],[1,"contentUser"],["appearance","outline","floatLabel","never"],["id","availableUsers","type","text","matInput","",3,"placeholder","matAutocomplete","formControl"],["isOpen","true",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["style","opacity: 0.5;text-align: center;font-size: 10px;padding: 10px;",4,"ngIf"],["class","columns","cdkDrag","",4,"ngFor","ngForOf"],[3,"value"],[2,"opacity","0.5","text-align","center","font-size","10px","padding","10px"],["cdkDrag","",1,"columns"],["mat-list-icon","","color","primary",1,"fa","fa-user","fa-2x"],["mat-line","",2,"display","flex"],[2,"flex","1","text-overflow","ellipsis","overflow","hidden"],["mat-line","",1,"otherInfo",2,"display","flex"],[2,"opacity","0.5","flex","1"],["mat-button","",1,"currentRoleButton",3,"matMenuTriggerFor","title"],["menu","matMenu"],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","",1,"currentContextButton",3,"matMenuTriggerFor","title"],["menuContext","matMenu"],["mat-icon-button","",3,"click"],["color","warn",1,"fa","fa-times"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(f.Qc(0,xn,13,7,"form",0),f.Qc(1,wn,17,15,"form",1),f.Qc(2,Pn,17,16,"div",2)),2&t&&(f.sc("ngIf",!e.addAccountMode&&e.additionalsInfos.attachments.length>0),f.Eb(1),f.sc("ngIf",e.addAccountMode&&e.additionalsInfos.attachments.length>0),f.Eb(1),f.sc("ngIf",e.usersWorkflowList.length>0))},directives:[g.t,Lt.J,Lt.u,Lt.v,Dt.c,Dt.g,bn.a,g.s,Dt.f,vn.o,v.b,He.a,Rt.b,Lt.c,Lt.E,Lt.t,Lt.w,yn.d,Lt.i,yn.a,gn.e,_n.a,gn.a,_n.d,_n.c,vn.k,kn.d,kn.e,kn.b],pipes:[h.d,g.b],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list[_ngcontent-%COMP%]{height:250px;overflow:auto}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.workflowContent[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:4px;border:1px solid #ccc;padding:10px}.workflowContent[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:auto;font-size:13px}.workflowContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:5px;left:10px;margin:0;padding:0 5px;color:#135f7f}.accountList[_ngcontent-%COMP%]    .mat-option-text{display:flex}.accountList[_ngcontent-%COMP%]   .accountName[_ngcontent-%COMP%]{flex:1} .listMenu .mat-menu-content{padding-top:0;padding-bottom:0}.currentContextButton[_ngcontent-%COMP%]{width:150px}.currentContextButton[_ngcontent-%COMP%], .currentRoleButton[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:13px;text-align:left}.currentRoleButton[_ngcontent-%COMP%]{width:120px}"]}),Tn),Dn=["noteEditor"],Rn=["xParaph"],Ln=["maarchParapheur"],Fn=["fastParapheur"],jn=["iParapheur"],Yn=["ixbus"];function Zn(t,e){1&t&&(f.Zb(0,"div",20),f.Ub(1,"mat-spinner",21),f.Yb())}function Nn(t,e){1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Un(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Bn(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function zn(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-checkbox",25),f.hc("click",(function(){f.Hc(n);var t=e.$implicit;return f.lc(2).toggleIntegration(t.key)})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){var i=e.$implicit,a=f.lc(2);f.sc("checked",a.data.resource.integrations[i.key]),f.Eb(1),f.Uc("",f.nc(2,2,"lang."+i.key+"_doc")," ")}}function Vn(t,e){if(1&t&&(f.Zb(0,"div",23),f.Qc(1,zn,3,4,"mat-checkbox",24),f.mc(2,"keyvalue"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngForOf",f.nc(2,1,n.integrationsInfo))}}function Hn(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier)}}function Qn(t,e){if(1&t&&(f.Zb(0,"div",26),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,Hn,3,1,"li",27),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Tc(f.nc(3,2,"lang.mailingActionInformations")),f.Eb(3),f.sc("ngForOf",n.resourcesMailing)}}function Wn(t,e){if(1&t&&f.Ub(0,"app-i-paraph",28,29),2&t){var n=f.lc();f.sc("additionalsInfos",n.additionalsInfos)("externalSignatoryBookDatas",n.externalSignatoryBookDatas)}}function Gn(t,e){if(1&t&&f.Ub(0,"app-ixbus-paraph",28,30),2&t){var n=f.lc();f.sc("additionalsInfos",n.additionalsInfos)("externalSignatoryBookDatas",n.externalSignatoryBookDatas)}}function qn(t,e){if(1&t&&f.Ub(0,"app-fast-paraph",28,31),2&t){var n=f.lc();f.sc("additionalsInfos",n.additionalsInfos)("externalSignatoryBookDatas",n.externalSignatoryBookDatas)}}function Xn(t,e){if(1&t&&f.Ub(0,"app-maarch-paraph",28,32),2&t){var n=f.lc();f.sc("additionalsInfos",n.additionalsInfos)("externalSignatoryBookDatas",n.externalSignatoryBookDatas)}}function $n(t,e){if(1&t&&f.Ub(0,"app-x-paraph",28,33),2&t){var n=f.lc();f.sc("additionalsInfos",n.additionalsInfos)("externalSignatoryBookDatas",n.externalSignatoryBookDatas)}}function Jn(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Kn(t,e){if(1&t&&(f.Zb(0,"div",7),f.Zb(1,"div"),f.Zb(2,"div",34),f.Zb(3,"p"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Zb(6,"ul"),f.Qc(7,Jn,5,4,"li",27),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(4),f.Uc(" ",f.nc(5,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.additionalsInfos.noAttachment)}}var ti,ei=((ti=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.changeDetectorRef=o,this.loading=!1,this.additionalsInfos={destinationId:"",users:[],attachments:[],noAttachment:[]},this.resourcesMailing=[],this.signatoryBookEnabled="",this.externalSignatoryBookDatas={steps:[],objectSent:"attachment"},this.integrationsInfo={inSignatureBook:{icon:"fas fa-file-signature"}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.checkExternalSignatureBook()}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"checkExternalSignatureBook",value:function(){var t=this;return this.loading=!0,new Promise((function(e,n){t.http.post("../rest/resourcesList/users/".concat(t.data.userId,"/groups/").concat(t.data.groupId,"/baskets/").concat(t.data.basketId,"/checkExternalSignatoryBook"),{resources:t.data.resIds}).pipe(Object(a.a)((function(n){t.additionalsInfos=n.additionalsInfos,t.additionalsInfos.attachments.length>0&&(t.signatoryBookEnabled=n.signatureBookEnabled,n.additionalsInfos.attachments.forEach((function(e){e.mailing&&t.resourcesMailing.push(e)}))),t.errors=n.errors,e(!0)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(),Object(u.a)(!1)}))).subscribe()}))}},{key:"executeAction",value:function(){var t,e,n=this;t=this[this.signatoryBookEnabled].getRessources(),e=this[this.signatoryBookEnabled].getDatas(),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:e}).pipe(Object(a.a)((function(e){e||n.dialogRef.close(t),e&&null!=e.errors&&n.notify.error(e.errors)})),Object(s.a)((function(){return n.loading=!1})),Object(r.a)((function(t){return n.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return void 0!==this[this.signatoryBookEnabled]&&this[this.signatoryBookEnabled].isValidParaph()}},{key:"toggleIntegration",value:function(t){var e=this;this.http.put("../rest/resourcesList/integrations",{resources:this.data.resIds,integrations:_defineProperty({},t,!this.data.resource.integrations[t])}).pipe(Object(a.a)((function(){return Object(i.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data.resource.integrations[t]=!this.data.resource.integrations[t],e.next=3,this.checkExternalSignatureBook();case 3:this.changeDetectorRef.detectChanges();case 4:case"end":return e.stop()}}),e,this)})))})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||ti)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(f.h))},ti.\u0275cmp=f.Nb({type:ti,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(Dn,!0),f.ad(Rn,!0),f.ad(Ln,!0),f.ad(Fn,!0),f.ad(jn,!0),f.ad(Yn,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.xParaph=n.first),f.Cc(n=f.ic())&&(e.maarchParapheur=n.first),f.Cc(n=f.ic())&&(e.fastParapheur=n.first),f.Cc(n=f.ic())&&(e.iParapheur=n.first),f.Cc(n=f.ic())&&(e.ixbus=n.first))},decls:35,vars:25,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["style","padding:10px;display: flex;flex-direction: column;",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[3,"additionalsInfos","externalSignatoryBookDatas",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12",2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],[2,"padding","10px","display","flex","flex-direction","column"],["color","primary",3,"checked","click",4,"ngFor","ngForOf"],["color","primary",3,"checked","click"],["role","alert",1,"alert-message","alert-message-info"],[4,"ngFor","ngForOf"],[3,"additionalsInfos","externalSignatoryBookDatas"],["iParapheur",""],["ixbus",""],["fastParapheur",""],["maarchParapheur",""],["xParaph",""],["role","alert",1,"alert-message","alert-message-danger","mailList"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Zn,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div",6),f.Zb(8,"div",7),f.Sc(9),f.mc(10,"translate"),f.Qc(11,Nn,3,3,"b",8),f.Qc(12,Un,2,1,"b",8),f.Qc(13,Bn,3,4,"b",8),f.Sc(14," ? "),f.Yb(),f.Qc(15,Vn,3,3,"div",9),f.Qc(16,Qn,6,4,"div",10),f.Zb(17,"div"),f.Qc(18,Wn,2,2,"app-i-paraph",11),f.Qc(19,Gn,2,2,"app-ixbus-paraph",11),f.Qc(20,qn,2,2,"app-fast-paraph",11),f.Qc(21,Xn,2,2,"app-maarch-paraph",11),f.Qc(22,$n,2,2,"app-x-paraph",11),f.Qc(23,Kn,8,4,"div",12),f.Yb(),f.Zb(24,"div",13),f.Ub(25,"app-note-editor",14,15),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Ub(27,"span",16),f.Zb(28,"div",17),f.Zb(29,"button",18),f.hc("click",(function(){return e.onSubmit()})),f.Sc(30),f.mc(31,"translate"),f.Yb(),f.Zb(32,"button",19),f.Sc(33),f.mc(34,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(5),f.Uc(" ",f.nc(10,19,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",e.data.resIds.length>0),f.Eb(1),f.sc("ngIf",e.resourcesMailing.length>0),f.Eb(2),f.sc("ngIf","iParapheur"==e.signatoryBookEnabled),f.Eb(1),f.sc("ngIf","ixbus"==e.signatoryBookEnabled),f.Eb(1),f.sc("ngIf","fastParapheur"==e.signatoryBookEnabled),f.Eb(1),f.sc("ngIf","maarchParapheur"==e.signatoryBookEnabled),f.Eb(1),f.sc("ngIf","xParaph"==e.signatoryBookEnabled),f.Eb(1),f.sc("ngIf",0!=e.additionalsInfos.noAttachment.length&&"attachment"==e.externalSignatoryBookDatas.objectSent),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(31,21,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(34,23,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,b.a,d.c,v.b,d.d,y.c,g.s,qe.a,Xe,on,sn,hn,An],pipes:[h.d,g.l],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),ti),ni=n("63qU"),ii=["noteEditor"];function ai(t,e){1&t&&(f.Zb(0,"div",18),f.Ub(1,"mat-spinner",19),f.Yb())}function ri(t,e){1&t&&(f.Zb(0,"b",20),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function oi(t,e){if(1&t&&(f.Zb(0,"b",20),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function si(t,e){if(1&t&&(f.Zb(0,"b",20),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function ci(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",11),f.Zb(1,"plugin-autocomplete",21),f.hc("triggerEvent",(function(t){return f.Hc(n),f.lc().setVal(t)})),f.Yb(),f.Yb()}if(2&t){var i=f.lc();f.Eb(1),f.sc("labelPlaceholder",i.translate.instant("lang.userMaarchParapheur"))("datas",i.additionalsInfos.users)("targetSearchKey","displayName")("subInfoKey","email")("singleMode",!0)}}function li(t,e){1&t&&(f.Zb(0,"div",7),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Uc(" ",f.nc(2,1,"lang.noUserDefinedInMaarchParapheur")," "))}function ui(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function di(t,e){if(1&t&&(f.Zb(0,"div",7),f.Zb(1,"div"),f.Zb(2,"div",22),f.Zb(3,"p"),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Zb(6,"ul"),f.Qc(7,ui,5,4,"li",23),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(4),f.Uc(" ",f.nc(5,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.additionalsInfos.noMail)}}var fi,hi=((fi=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1,this.additionalsInfos={users:[],mails:[],noMail:[]},this.externalSignatoryBookDatas={processingUser:""}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/checkExternalNoteBook",{resources:this.data.resIds}).pipe(Object(mn.a)((function(t){return t.additionalsInfos.users.forEach((function(t){t.displayName=t.firstname+" "+t.lastname})),t})),Object(a.a)((function(e){t.additionalsInfos=e.additionalsInfos,t.errors=e.errors})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),t.dialogRef.close(),Object(u.a)(!1)}))).subscribe()}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t,e,n=this;t=this.additionalsInfos.mails.map((function(t){return t.res_id})),e=this.externalSignatoryBookDatas,this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:e}).pipe(Object(a.a)((function(e){e||n.dialogRef.close(t),e&&null!=e.errors&&n.notify.error(e.errors)})),Object(s.a)((function(){return n.loading=!1})),Object(r.a)((function(t){return n.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"checkValidAction",value:function(){return 0==this.additionalsInfos.mails.length||!this.externalSignatoryBookDatas.processingUser||0==this.additionalsInfos.users.length}},{key:"setVal",value:function(t){this.externalSignatoryBookDatas.processingUser=t.id}}]),t}()).\u0275fac=function(t){return new(t||fi)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},fi.\u0275cmp=f.Nb({type:fi,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(ii,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:30,vars:20,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","col-md-12","style","padding-top: 10px;",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12",2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["appearance","outline",3,"labelPlaceholder","datas","targetSearchKey","subInfoKey","singleMode","triggerEvent"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,ai,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div",6),f.Zb(8,"div",7),f.Sc(9),f.mc(10,"translate"),f.Qc(11,ri,3,3,"b",8),f.Qc(12,oi,2,1,"b",8),f.Qc(13,si,3,4,"b",8),f.Sc(14," ? "),f.Yb(),f.Zb(15,"div"),f.Qc(16,ci,2,5,"div",9),f.Qc(17,li,3,3,"div",10),f.Qc(18,di,8,4,"div",10),f.Yb(),f.Zb(19,"div",11),f.Ub(20,"app-note-editor",12,13),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Ub(22,"span",14),f.Zb(23,"div",15),f.Zb(24,"button",16),f.hc("click",(function(){return e.onSubmit()})),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Zb(27,"button",17),f.Sc(28),f.mc(29,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(5),f.Uc(" ",f.nc(10,14,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("ngIf",0!=e.additionalsInfos.users.length),f.Eb(1),f.sc("ngIf",0==e.additionalsInfos.users.length),f.Eb(1),f.sc("ngIf",0!=e.additionalsInfos.noMail.length),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||e.checkValidAction()),f.Eb(1),f.Tc(f.nc(26,16,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(29,18,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,b.a,d.c,v.b,d.d,y.c,ni.a,g.s],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),fi),pi=n("RmLz"),mi=n("I65S"),gi=n("y9tK"),bi=["appDiffusionsList"],vi=["noteEditor"];function yi(t,e){1&t&&(f.Zb(0,"div",10),f.Ub(1,"mat-spinner",11),f.Yb())}function _i(t,e){1&t&&(f.Zb(0,"b",13),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function ki(t,e){if(1&t&&(f.Zb(0,"b",13),f.Sc(1),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ci(t,e){if(1&t&&(f.Zb(0,"b",13),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function xi(t,e){if(1&t&&(f.Xb(0),f.Sc(1),f.mc(2,"translate"),f.Qc(3,_i,3,3,"b",12),f.Qc(4,ki,2,1,"b",12),f.Qc(5,Ci,3,4,"b",12),f.Sc(6," ?"),f.Ub(7,"br"),f.Wb()),2&t){var n=f.lc();f.Eb(1),f.Uc(" ",f.nc(2,4,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===n.data.resIds.length),f.Eb(1),f.sc("ngIf",1==n.data.resIds.length),f.Eb(1),f.sc("ngIf",n.data.resIds.length>1)}}function wi(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",14),f.Zb(1,"div"),f.Zb(2,"button",15),f.hc("click",(function(){return f.Hc(n),f.lc().loadEntities()})),f.Ub(3,"i",16),f.Sc(4),f.mc(5,"translate"),f.Yb(),f.Yb(),f.Zb(6,"div"),f.Zb(7,"button",15),f.hc("click",(function(){return f.Hc(n),f.lc().loadDestUser()})),f.Ub(8,"i",17),f.Sc(9),f.mc(10,"translate"),f.Yb(),f.Yb(),f.Yb()}2&t&&(f.Eb(4),f.Tc(f.nc(5,2,"lang.toAService")),f.Eb(5),f.Tc(f.nc(10,4,"lang.toAnUser")))}function Oi(t,e){1&t&&(f.Zb(0,"div"),f.Zb(1,"div",18),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Uc(" ",f.nc(3,1,"lang.noSettingsAvailable"),""))}function Si(t,e){if(1&t&&(f.Zb(0,"div",19),f.Zb(1,"div",20),f.Zb(2,"h2"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Zb(5,"div",21),f.Zb(6,"mat-form-field",22),f.Ub(7,"input",23),f.mc(8,"translate"),f.Yb(),f.Ub(9,"div",24),f.Yb(),f.Yb(),f.Zb(10,"div",25),f.Zb(11,"h2",26),f.Sc(12),f.mc(13,"translate"),f.Yb(),f.Zb(14,"div",21),f.Ub(15,"app-diffusions-list",27,28),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(3),f.Uc("",f.nc(4,11,"lang.redirectTo")," :"),f.Eb(3),f.Pc("font-size",10,"px"),f.Eb(1),f.tc("placeholder",f.nc(8,13,"lang.searchEntities")),f.Eb(4),f.tc("title",n.currentEntity.entity_label),f.Eb(1),f.Vc("",f.nc(13,15,"lang.diffusionList"),' "',n.currentEntity.entity_label,'" : '),f.Eb(3),f.sc("adminMode",!0)("resId",n.injectDatasParam.resId)("keepDestForRedirection",n.injectDatasParam.keepDestForRedirection)("target","redirect")}}function Ei(t,e){if(1&t&&(f.Zb(0,"mat-option",38),f.Zb(1,"mat-list"),f.Zb(2,"mat-list-item"),f.Ub(3,"mat-icon",39),f.Zb(4,"h4",40),f.Sc(5),f.Yb(),f.Zb(6,"p",41),f.Sc(7),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t){var n=e.$implicit;f.sc("value",n),f.Eb(5),f.Tc(n.labelToDisplay),f.Eb(2),f.Uc(" ",n.descriptionToDisplay," ")}}function Mi(t,e){if(1&t&&(f.Zb(0,"mat-list"),f.Zb(1,"mat-list-item"),f.Ub(2,"mat-icon",42),f.Zb(3,"h4",40),f.Sc(4),f.Yb(),f.Zb(5,"p",43),f.Sc(6),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(4),f.Tc(n.destUser.labelToDisplay),f.Eb(2),f.Uc(" ",n.destUser.descriptionToDisplay," ")}}function Ii(t,e){1&t&&(f.Zb(0,"div",44),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Uc(" ",f.nc(2,1,"lang.noPerson")," "))}function Pi(t,e){if(1&t&&(f.Zb(0,"div",45),f.Sc(1),f.mc(2,"translate"),f.Zb(3,"b"),f.Sc(4),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Uc("",f.nc(2,2,"lang.destinationChangingInfo")," "),f.Eb(3),f.Tc(n.destUser.descriptionToDisplay)}}function Ti(t,e){if(1&t&&(f.Zb(0,"div",45),f.Sc(1),f.mc(2,"translate"),f.Zb(3,"b"),f.Sc(4),f.Yb(),f.Sc(5),f.mc(6,"translate"),f.Zb(7,"b"),f.Sc(8),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Uc("",f.nc(2,4,"lang.destinationChangingInfoMass")," "),f.Eb(3),f.Tc(n.destUser.labelToDisplay),f.Eb(1),f.Uc(" ",f.nc(6,6,"lang.destinationChangingInfoMass2")," "),f.Eb(3),f.Tc(n.destUser.descriptionToDisplay)}}function Ai(t,e){if(1&t&&(f.Zb(0,"div",45),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3,"\xa0"),f.Ub(4,"span",46),f.Yb()),2&t){var n=f.lc(2);f.Eb(2),f.Tc(n.oldUser.labelToDisplay),f.Eb(2),f.sc("innerHTML",n.translate.instant("lang.willBeAutomaticallyInCopy"),f.Ic)}}function Di(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",29),f.Zb(1,"mat-form-field",22),f.Zb(2,"input",30),f.hc("click",(function(){return f.Hc(n),f.lc().userRedirectCtrl.setValue("")})),f.mc(3,"translate"),f.Yb(),f.Zb(4,"mat-autocomplete",31,32),f.hc("optionSelected",(function(t){return f.Hc(n),f.lc().changeDest(t)})),f.Qc(6,Ei,8,3,"mat-option",33),f.mc(7,"async"),f.Yb(),f.Yb(),f.Zb(8,"div",20),f.Zb(9,"h2",34),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Zb(12,"div",35),f.Qc(13,Mi,7,2,"mat-list",4),f.Qc(14,Ii,3,3,"div",36),f.Yb(),f.Yb(),f.Qc(15,Pi,5,4,"div",37),f.Qc(16,Ti,9,8,"div",37),f.Qc(17,Ai,5,2,"div",37),f.Yb()}if(2&t){var i=f.Dc(5),a=f.lc();f.Eb(1),f.Pc("font-size",10,"px"),f.Eb(1),f.tc("placeholder",f.nc(3,12,"lang.searchNewAssignee")),f.sc("matAutocomplete",i)("formControl",a.userRedirectCtrl),f.Eb(4),f.sc("ngForOf",f.nc(7,14,a.filteredUserRedirect)),f.Eb(4),f.Uc("",f.nc(11,16,"lang.newAssignee")," :"),f.Eb(3),f.sc("ngIf",null!=a.destUser),f.Eb(1),f.sc("ngIf",null==a.destUser),f.Eb(1),f.sc("ngIf",a.isDestinationChanging&&1==a.data.resIds.length),f.Eb(1),f.sc("ngIf",a.isDestinationChanging&&a.data.resIds.length>1),f.Eb(1),f.sc("ngIf",a.keepDestForRedirection&&null!=a.oldUser)}}function Ri(t,e){if(1&t&&(f.Zb(0,"div",29),f.Ub(1,"app-note-editor",47,48),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("resIds",n.data.resIds)}}function Li(t,e){if(1&t){var n=f.ac();f.Zb(0,"button",52),f.hc("click",(function(){return f.Hc(n),f.lc(2).onSubmit()})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){var i=f.lc(2);f.sc("disabled",i.checkValidity()),f.Eb(1),f.Tc(f.nc(2,2,"lang.validate"))}}function Fi(t,e){if(1&t&&(f.Zb(0,"div",49),f.Qc(1,Li,3,4,"button",50),f.Zb(2,"button",51),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngIf",""!=n.redirectMode),f.Eb(1),f.sc("disabled",n.loading),f.Eb(1),f.Tc(f.nc(4,3,"lang.cancel"))}}var ji,Yi=((ji=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functionsService=o,this.loading=!1,this.entities=[],this.injectDatasParam={resId:0,editable:!0,keepDestForRedirection:!1},this.destUser=null,this.oldUser=null,this.keepDestForRedirection=!1,this.currentDiffusionListDestRedirect=[],this.diffusionListDestRedirect=[],this.currentEntity={serialId:0,entity_label:""},this.redirectMode="",this.userListRedirect=[],this.userRedirectCtrl=new Lt.h,this.isDestinationChanging=!1}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.getEntities();case 3:return t.next=5,this.getDefaultEntity();case 5:0===this.userListRedirect.length&&0===this.entities.filter((function(t){return t.allowed})).length?(this.redirectMode="none",this.loading=!1):0===this.userListRedirect.length&&this.entities.filter((function(t){return t.allowed})).length>0?this.loadEntities():this.userListRedirect.length>0&&0===this.entities.filter((function(t){return t.allowed})).length?this.loadDestUser():this.loading=!1;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getEntities",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/resourcesList/users/".concat(t.data.userId,"/groups/").concat(t.data.groupId,"/baskets/").concat(t.data.basketId,"/actions/").concat(t.data.action.id,"/getRedirect")).pipe(Object(a.a)((function(n){t.entities=n.entities,t.userListRedirect=n.users,t.keepDestForRedirection=n.keepDestForRedirection,t.injectDatasParam.keepDestForRedirection=n.keepDestForRedirection,e(!0)})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(mi.of)(!1)}))).subscribe()}))}},{key:"getDefaultEntity",value:function(){var t=this;return new Promise((function(e,n){1===t.data.resIds.length?t.http.get("../rest/resources/".concat(t.data.resIds[0],"/fields/destination?alt=true")).pipe(Object(a.a)((function(n){t.functionsService.empty(n.field)?t.entities.filter((function(t){return t.state.selected})).length>0&&(t.currentEntity=t.entities.filter((function(t){return t.state.selected}))[0]):(t.currentEntity=t.entities.filter((function(t){return t.serialId===n.field}))[0],t.entities=t.entities.map((function(t){return Object.assign(Object.assign({},t),{state:{selected:!1,opened:!1}})}))),e(!0)})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(mi.of)(!1)}))).subscribe():(t.currentEntity=t.entities.filter((function(t){return t.state.selected}))[0],e(!0))}))}},{key:"loadEntities",value:function(){var t=this;this.redirectMode="entity",1===this.data.resIds.length&&(this.injectDatasParam.resId=this.data.resIds[0]),this.loading=!1,setTimeout((function(){$("#jstree").jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},multiple:!1,data:t.entities},plugins:["checkbox","search","sort"]});var e=!1;$("#jstree_search").keyup((function(){e&&clearTimeout(e),e=setTimeout((function(){var t=$("#jstree_search").val();$("#jstree").jstree(!0).search(t)}),250)})),$("#jstree").on("loaded.jstree",(function(e,n){t.currentEntity.serialId>0&&($("#jstree").jstree("select_node",t.currentEntity),t.selectEntity(t.currentEntity,!0))})).on("select_node.jstree",(function(e,n){t.selectEntity(n.node.original)})).on("deselect_node.jstree",(function(t,e){$("#jstree").jstree("select_node",e.node.original)})).jstree()}),0)}},{key:"loadDestUser",value:function(){var t=this;this.redirectMode="user",this.filteredUserRedirect=this.userRedirectCtrl.valueChanges.pipe(Object(pi.startWith)(""),Object(mn.a)((function(e){return e?t._filterUserRedirect(e):t.userListRedirect.slice()}))),this.loading=!1,1===this.data.resIds.length?this.http.get("../rest/resources/"+this.data.resIds[0]+"/listInstance").subscribe((function(e){t.diffusionListDestRedirect=e.listInstance,Object.keys(e).forEach((function(n){e[n].forEach((function(e){"dest"===e.item_mode&&(t.oldUser=e)}))})),$(".searchUserRedirect").click()}),(function(e){t.notify.handleErrors(e)})):(this.keepDestForRedirection=!1,setTimeout((function(){$(".searchUserRedirect").click()}),200))}},{key:"changeDest",value:function(t){var e=this;this.currentDiffusionListDestRedirect=this.diffusionListDestRedirect;var n=t.option.value;if(this.destUser={difflist_type:"entity_id",item_mode:"dest",item_type:"user_id",item_id:n.user_id,labelToDisplay:n.labelToDisplay,descriptionToDisplay:n.descriptionToDisplay},1===this.data.resIds.length){if(this.isDestinationChanging=!1,this.http.get("../rest/resources/"+this.data.resIds[0]+"/users/"+n.id+"/isDestinationChanging").subscribe((function(t){e.isDestinationChanging=t.isDestinationChanging}),(function(t){e.notify.handleErrors(t)})),this.keepDestForRedirection&&this.currentDiffusionListDestRedirect.length>0){var i=!1,a=null;this.currentDiffusionListDestRedirect.forEach((function(t){"cc"===t.item_mode&&t.item_id===e.oldUser.item_id&&(i=!0)})),i||((a=this.oldUser).item_mode="cc",this.currentDiffusionListDestRedirect.push(a))}this.currentDiffusionListDestRedirect.splice(this.currentDiffusionListDestRedirect.map((function(t){return t.item_mode})).indexOf("dest"),1)}else this.isDestinationChanging=!0;this.currentDiffusionListDestRedirect.push(this.destUser),this.userRedirectCtrl.reset(),$(".searchUserRedirect").blur()}},{key:"_filterUserRedirect",value:function(t){if("string"==typeof t){var e=t.toLowerCase();return this.userListRedirect.filter((function(t){return t.labelToDisplay.toLowerCase().indexOf(e)>=0}))}}},{key:"selectEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.currentEntity=t,this.appDiffusionsList.loadListModel(t.serialId,e)}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this;"user"===this.redirectMode?this.http.put(this.data.processActionRoute,{resources:this.data.resIds,data:{onlyRedirectDest:!0,listInstances:this.currentDiffusionListDestRedirect},note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(e){e&&null!=e.errors&&t.notify.error(e.errors),t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(mi.of)(!1)}))).subscribe():this.http.put(this.data.processActionRoute,{resources:this.data.resIds,data:{listInstances:this.appDiffusionsList.getCurrentListinstance()},note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(e){e&&null!=e.errors&&t.notify.error(e.errors),t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(mi.of)(!1)}))).subscribe()}},{key:"checkValidity",value:function(){return!("entity"===this.redirectMode&&this.appDiffusionsList&&this.appDiffusionsList.getDestUser().length>0&&this.currentEntity.serialId>0&&!this.loading||"user"===this.redirectMode&&this.currentDiffusionListDestRedirect.length>0&&null!=this.destUser&&!this.loading)}}]),t}()).\u0275fac=function(t){return new(t||ji)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},ji.\u0275cmp=f.Nb({type:ji,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.ad(bi,!0),f.ad(vi,!0)),2&t&&(f.Cc(n=f.ic())&&(e.appDiffusionsList=n.first),f.Cc(n=f.ic())&&(e.noteEditor=n.first))},decls:13,vars:11,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[4,"ngIf"],["class","chooseMode",4,"ngIf"],["class","row","style","display: flex;",4,"ngIf"],["class","row",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary","class","highlight",4,"ngIf"],["color","primary",1,"highlight"],[1,"chooseMode"],["mat-stroked-button","","color","primary",3,"click"],[1,"fa","fa-sitemap"],[1,"fa","fa-user"],["role","alert",1,"alert-message","alert-message-danger",2,"margin-top","30px"],[1,"row",2,"display","flex"],[1,"redirectContent",2,"flex","2"],[1,"contentEntities"],["appearance","outline","floatLabel","never"],["matInput","","id","jstree_search","name","jstree_search","type","text",3,"placeholder"],["id","jstree"],[1,"redirectContent",2,"flex","1","overflow","auto"],[3,"title"],[3,"adminMode","resId","keepDestForRedirection","target"],["appDiffusionsList",""],[1,"row"],["matInput","",1,"searchUserRedirect",3,"placeholder","matAutocomplete","formControl","click"],["isOpen","true",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[2,"top","-5px"],[1,"contentUser"],["class","noSelection",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",4,"ngIf"],[3,"value"],["mat-list-icon","","color","primary",1,"fa","fa-user",2,"padding-top","0px"],["mat-line",""],["mat-line","",2,"opacity","0.5","line-height","15px","font-size","10px"],["mat-list-icon","","color","primary",1,"fa","fa-2x","fa-user"],["mat-line","",2,"opacity","0.5"],[1,"noSelection"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px"],[3,"innerHTML"],[3,"resIds"],["noteEditor",""],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,yi,2,0,"div",3),f.Qc(5,xi,8,6,"ng-container",4),f.Qc(6,wi,11,6,"div",5),f.Qc(7,Oi,4,3,"div",4),f.Qc(8,Si,17,17,"div",6),f.Qc(9,Di,18,18,"div",7),f.Qc(10,Ri,3,1,"div",7),f.Yb(),f.Ub(11,"span",8),f.Qc(12,Fi,5,5,"div",9),f.Yb()),2&t&&(f.Eb(2),f.Uc('"',e.data.action.label,'"'),f.Eb(1),f.Jb("fullWidth","entity"==e.redirectMode),f.Eb(1),f.sc("ngIf",e.loading),f.Eb(1),f.sc("ngIf",!e.loading),f.Eb(1),f.sc("ngIf",""==e.redirectMode&&!e.loading),f.Eb(1),f.sc("ngIf","none"==e.redirectMode&&!e.loading),f.Eb(1),f.sc("ngIf","entity"==e.redirectMode),f.Eb(1),f.sc("ngIf","user"==e.redirectMode),f.Eb(1),f.sc("ngIf",""!=e.redirectMode&&"none"!=e.redirectMode),f.Eb(2),f.sc("ngIf",!e.loading))},directives:[d.i,d.f,g.t,y.c,v.b,Dt.c,Rt.b,gi.a,yn.d,Lt.c,Lt.t,Lt.i,yn.a,g.s,vn.o,_n.a,_n.d,He.a,_n.c,vn.k,b.a,d.c,d.d],pipes:[h.d,g.b],styles:[".fullWidth[_ngcontent-%COMP%]{width:70vw}.highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.redirectContent[_ngcontent-%COMP%]{position:relative}.redirectContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:5px;left:30px;margin:0;padding:0 5px;color:#135f7f}.contentEntities[_ngcontent-%COMP%]{overflow:auto;height:60vh}.contentEntities[_ngcontent-%COMP%], .contentUser[_ngcontent-%COMP%]{background:#fff;border-radius:4px;border:1px solid #ccc;margin:10px;padding:10px}.contentEntitiesList[_ngcontent-%COMP%]{background:#fff;margin:10px;padding:10px;overflow:auto;height:60vh}.chooseMode[_ngcontent-%COMP%], .chooseMode[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}.chooseMode[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.chooseMode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;margin:10px;width:200px}.chooseMode[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.noSelection[_ngcontent-%COMP%]{text-align:center;opacity:.5;font-style:italic}"]}),ji),Zi=n("wQTr"),Ni=["noteEditor"];function Ui(t,e){1&t&&(f.Zb(0,"div",10),f.Ub(1,"mat-spinner",11),f.Yb())}function Bi(t,e){if(1&t&&(f.Zb(0,"div",12),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Uc(" ",f.nc(2,1,"lang."+n.fatalError.reason)," ")}}function zi(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",n," ")}}function Vi(t,e){if(1&t&&(f.Zb(0,"div",12),f.Sc(1),f.mc(2,"translate"),f.Ub(3,"br"),f.Zb(4,"div",13),f.Zb(5,"ul"),f.Qc(6,zi,2,1,"li",14),f.Yb(),f.Yb(),f.Ub(7,"span",15),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Uc(" ",f.nc(2,3,"lang.noShippingTemplate")," :"),f.Eb(5),f.sc("ngForOf",n.entitiesList),f.Eb(1),f.sc("innerHTML",n.translate.instant("lang.doShippingParameter"),f.Ic)}}function Hi(t,e){1&t&&(f.Zb(0,"b",31),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Qi(t,e){if(1&t&&(f.Zb(0,"b",31),f.Sc(1),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Tc(n.data.resource.chrono)}}function Wi(t,e){if(1&t&&(f.Zb(0,"b",31),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function Gi(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-checkbox",34),f.hc("click",(function(){f.Hc(n);var t=e.$implicit;return f.lc(3).toggleIntegration(t.key)})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){var i=e.$implicit,a=f.lc(3);f.sc("checked",a.data.resource.integrations[i.key]),f.Eb(1),f.Uc("",f.nc(2,2,i.key+"_doc")," ")}}function qi(t,e){if(1&t&&(f.Zb(0,"div",32),f.Qc(1,Gi,3,4,"mat-checkbox",33),f.mc(2,"keyvalue"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.sc("ngForOf",f.nc(2,1,n.integrationsInfo))}}function Xi(t,e){if(1&t&&(f.Zb(0,"mat-option",35),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.sc("value",n),f.Eb(1),f.Uc(" ",n.label," ")}}function $i(t,e){if(1&t&&(f.Zb(0,"div",19),f.Zb(1,"div"),f.Zb(2,"div",36),f.Zb(3,"b"),f.Sc(4),f.Yb(),f.Sc(5),f.mc(6,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(4),f.Tc(n.attachList.length),f.Eb(1),f.Uc(" ",f.nc(6,2,"lang.shippingReadyToSend")," ")}}function Ji(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.chrono),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Ki(t,e){if(1&t&&(f.Zb(0,"div",19),f.Zb(1,"div"),f.Zb(2,"div",12),f.Zb(3,"p"),f.Zb(4,"b"),f.Sc(5),f.Yb(),f.Sc(6),f.mc(7,"translate"),f.Yb(),f.Zb(8,"ul"),f.Qc(9,Ji,5,4,"li",14),f.Yb(),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(5),f.Tc(n.mailsNotSend.length),f.Eb(1),f.Uc(" ",f.nc(7,3,"lang.shippingNotEligible")," : "),f.Eb(3),f.sc("ngForOf",n.mailsNotSend)}}function ta(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",f.nc(2,1,"lang.maileva_"+n)," ")}}function ea(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",19),f.Zb(1,"div",37),f.Zb(2,"div",38),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Zb(5,"div",39),f.Zb(6,"div",40),f.Zb(7,"div",41),f.Zb(8,"p"),f.Sc(9),f.mc(10,"translate"),f.Yb(),f.Zb(11,"ul"),f.Zb(12,"li"),f.Sc(13),f.mc(14,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(15,"div",41),f.Zb(16,"p"),f.Sc(17),f.mc(18,"translate"),f.Yb(),f.Zb(19,"ul"),f.Qc(20,ta,3,3,"li",14),f.Yb(),f.Yb(),f.Yb(),f.Zb(21,"mat-form-field",42),f.Zb(22,"input",43),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc(2).currentShipping.fee=t})),f.mc(23,"translate"),f.Yb(),f.Zb(24,"span",44),f.Sc(25,"\xa0\u20ac"),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.lc(2);f.Eb(3),f.Uc(" ",f.nc(4,7,"lang.pricesInformations")," "),f.Eb(6),f.Uc(" ",f.nc(10,9,"lang.sendMode")," : "),f.Eb(4),f.Uc(" ",f.nc(14,11,"lang.maileva_"+i.currentShipping.options.sendMode)," "),f.Eb(4),f.Uc(" ",f.nc(18,13,"lang.shapingOptions")," : "),f.Eb(3),f.sc("ngForOf",i.currentShipping.options.shapingOptions),f.Eb(2),f.tc("title",f.nc(23,15,"lang.totalPrice")),f.sc("ngModel",i.currentShipping.fee)}}function na(t,e){if(1&t&&(f.Ub(0,"img",45),f.mc(1,"async"),f.mc(2,"secureUrl")),2&t){var n=e.$implicit;f.vc("title","",n.chrono," : ",n.title,""),f.sc("src",f.nc(1,3,f.nc(2,5,"../rest/"+("attachment"===n.type?"attachments":"resources")+"/"+n.res_id+"/thumbnail")),f.Kc)}}function ia(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-sidenav-container",16),f.Zb(1,"mat-sidenav-content",17),f.Zb(2,"div",18),f.Zb(3,"div",19),f.Sc(4),f.mc(5,"translate"),f.Qc(6,Hi,3,3,"b",20),f.Qc(7,Qi,2,1,"b",20),f.Qc(8,Wi,3,4,"b",20),f.Sc(9," ? "),f.Yb(),f.Qc(10,qi,3,3,"div",21),f.Zb(11,"div",22),f.Zb(12,"mat-form-field"),f.Zb(13,"mat-label"),f.Sc(14),f.mc(15,"translate"),f.Yb(),f.Zb(16,"mat-select",23),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc().currentShipping=t})),f.Qc(17,Xi,2,2,"mat-option",24),f.Yb(),f.Yb(),f.Yb(),f.Qc(18,$i,7,4,"div",25),f.Qc(19,Ki,10,5,"div",25),f.Qc(20,ea,26,17,"div",25),f.Zb(21,"div",19),f.Ub(22,"app-note-editor",26,27),f.Yb(),f.Yb(),f.Yb(),f.Zb(24,"mat-sidenav",28),f.Zb(25,"div",29),f.Qc(26,na,3,7,"img",30),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.lc();f.Eb(4),f.Uc(" ",f.nc(5,14,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===i.data.resIds.length),f.Eb(1),f.sc("ngIf",1==i.data.resIds.length),f.Eb(1),f.sc("ngIf",i.data.resIds.length>1),f.Eb(2),f.sc("ngIf",i.data.resIds.length>0),f.Eb(4),f.Tc(f.nc(15,16,"lang.shippings")),f.Eb(2),f.sc("ngModel",i.currentShipping),f.Eb(1),f.sc("ngForOf",i.shippings),f.Eb(1),f.sc("ngIf",i.attachList.length>0),f.Eb(1),f.sc("ngIf",i.mailsNotSend.length>0),f.Eb(1),f.sc("ngIf",null!=i.currentShipping),f.Eb(2),f.sc("resIds",i.data.resIds),f.Eb(2),f.sc("opened",i.attachList.length>0),f.Eb(2),f.sc("ngForOf",i.attachList)}}var aa,ra=((aa=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.shippings=[{label:"",description:"",options:{shapingOptions:[],sendMode:""},fee:0,account:{id:"",password:""}}],this.currentShipping=null,this.entitiesList=[],this.attachList=[],this.mailsNotSend=[],this.integrationsInfo={inShipping:{icon:"fas fa-shipping-fast"}},this.fatalError=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.checkShipping()}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"checkShipping",value:function(){var t=this;this.http.post("../rest/resourcesList/users/".concat(this.data.userId,"/groups/").concat(this.data.groupId,"/baskets/").concat(this.data.basketId,"/actions/").concat(this.data.action.id,"/checkShippings"),{resources:this.data.resIds}).pipe(Object(a.a)((function(e){t.functions.empty(e.fatalError)?(t.shippings=e.shippingTemplates,t.mailsNotSend=e.canNotSend,t.entitiesList=e.entities,t.attachList=e.resources):(t.fatalError=e,t.shippings=[])})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this,e=this.attachList.filter((function(t){return"attachment"===t.type})).map((function(t){return t.res_id_master}));e=e.concat(this.attachList.filter((function(t){return"mail"===t.type})).map((function(t){return t.res_id}))),this.http.put(this.data.processActionRoute,{resources:e,data:{shippingTemplateId:this.currentShipping.id},note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){n&&null!=n.errors?t.notify.error(n.errors):t.dialogRef.close(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"toggleIntegration",value:function(t){var e=this;this.http.put("../rest/resourcesList/integrations",{resources:this.data.resIds,integrations:_defineProperty({},t,!this.data.resource.integrations[t])}).pipe(Object(a.a)((function(){e.data.resource.integrations[t]=!e.data.resource.integrations[t],e.checkShipping()})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||aa)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},aa.\u0275cmp=f.Nb({type:aa,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.ad(Ni,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:16,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["autosize","","style","height:100%;",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[1,"mailList"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["autosize","",2,"height","100%"],[2,"background","white"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["style","padding:10px;display: flex;flex-direction: column;",4,"ngIf"],[1,"col-md-12",2,"padding-top","10px"],["name","currentShipping","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[3,"resIds"],["noteEditor",""],["mode","side","fixedTopGap","56","position","end",2,"width","50%",3,"opened"],[1,"pjList"],[3,"title","src",4,"ngFor","ngForOf"],["color","primary",1,"highlight"],[2,"padding","10px","display","flex","flex-direction","column"],["color","primary",3,"checked","click",4,"ngFor","ngForOf"],["color","primary",3,"checked","click"],[3,"value"],["role","alert",1,"alert-message","alert-message-info","mailList"],[1,"formType",2,"flex-direction","column"],[1,"formType-title"],[1,"priceContent"],[1,"priceInfo"],[1,"col-md-6"],["appearance","outline"],["matInput","","required","","name","totalPrice","id","totalPrice","type","number","disabled","",3,"ngModel","title","ngModelChange"],["matSuffix",""],[3,"title","src"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Ui,2,0,"div",3),f.Qc(5,Bi,3,3,"div",4),f.Qc(6,Vi,8,5,"div",4),f.Qc(7,ia,27,18,"mat-sidenav-container",5),f.Yb(),f.Ub(8,"span",6),f.Zb(9,"div",7),f.Zb(10,"button",8),f.hc("click",(function(){return e.onSubmit()})),f.Sc(11),f.mc(12,"translate"),f.Yb(),f.Zb(13,"button",9),f.Sc(14),f.mc(15,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(1),f.Jb("fullWidth",e.shippings.length>0)("fullHeight",e.shippings.length>0),f.Eb(1),f.sc("ngIf",e.loading),f.Eb(1),f.sc("ngIf",!e.functions.empty(e.fatalError)),f.Eb(1),f.sc("ngIf",e.functions.empty(e.fatalError)&&0==e.shippings.length),f.Eb(1),f.sc("ngIf",e.shippings.length>0),f.Eb(3),f.sc("disabled",e.loading||null==e.currentShipping||0==e.attachList.length),f.Eb(1),f.Tc(f.nc(12,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(15,15,"lang.cancel")))},directives:[d.i,d.f,g.t,d.c,v.b,d.d,y.c,g.s,Ge.e,Ge.f,Dt.c,Dt.g,bn.a,Lt.E,Lt.t,Lt.w,b.a,Ge.d,qe.a,vn.o,Rt.b,Lt.z,Lt.c,Dt.j],pipes:[h.d,g.l,g.b,Zi.a],styles:[".fullHeight[_ngcontent-%COMP%]{height:70vh}.fullWidth[_ngcontent-%COMP%]{width:70vw}.highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),aa),oa=["noteEditor"];function sa(t,e){1&t&&(f.Zb(0,"div",15),f.Ub(1,"mat-spinner",16),f.Yb())}function ca(t,e){if(1&t&&(f.Zb(0,"b",17),f.Sc(1),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Tc(n.data.resource.chrono)}}function la(t,e){if(1&t&&(f.Zb(0,"b",17),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function ua(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",n," ")}}function da(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"div",18),f.Zb(2,"p"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Zb(5,"ul"),f.Qc(6,ua,2,1,"li",19),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(3),f.Uc(" ",f.nc(4,2,"lang.hasNoEntity")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesInfo.withoutEntity)}}function fa(t,e){1&t&&(f.Zb(0,"div"),f.Zb(1,"div",20),f.Zb(2,"p"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(3),f.Uc(" ",f.nc(4,1,"lang.destUserSetToDefault")," "))}function ha(t,e){if(1&t&&(f.Zb(0,"div",7),f.Qc(1,sa,2,0,"div",8),f.Zb(2,"div",9),f.Zb(3,"div",10),f.Sc(4),f.mc(5,"translate"),f.Qc(6,ca,2,1,"b",11),f.Qc(7,la,3,4,"b",11),f.Sc(8," ? "),f.Qc(9,da,7,4,"div",12),f.Qc(10,fa,5,3,"div",12),f.Yb(),f.Zb(11,"div",10),f.Ub(12,"app-note-editor",13,14),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngIf",n.loading),f.Eb(3),f.Uc(" ",f.nc(5,7,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",1==n.data.resIds.length),f.Eb(1),f.sc("ngIf",n.data.resIds.length>1),f.Eb(2),f.sc("ngIf",n.resourcesInfo.withoutEntity.length>0),f.Eb(1),f.sc("ngIf",n.resourcesInfo.withEntity.length>0),f.Eb(2),f.sc("resIds",n.data.resIds)}}var pa,ma=((pa=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1,this.loadingInit=!1,this.resourcesInfo={withEntity:[],withoutEntity:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loadingInit=!0,this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/checkInitiatorEntity",{resources:this.data.resIds}).subscribe((function(e){t.resourcesInfo=e,t.loadingInit=!1}),(function(e){t.notify.error(e.error.errors),t.loadingInit=!1,t.dialogRef.close()}))}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.resourcesInfo.withEntity,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(e){e&&null!=e.errors&&t.notify.error(e.errors),t.dialogRef.close(t.resourcesInfo.withEntity)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||pa)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},pa.\u0275cmp=f.Nb({type:pa,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.ad(oa,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","acknowledgementList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-success"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Qc(3,ha,14,9,"div",2),f.Ub(4,"span",3),f.Zb(5,"div",4),f.Zb(6,"button",5),f.hc("click",(function(){return e.onSubmit()})),f.Sc(7),f.mc(8,"translate"),f.Yb(),f.Zb(9,"button",6),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(1),f.sc("ngIf",!e.loadingInit),f.Eb(3),f.sc("disabled",e.loading||0==e.resourcesInfo.withEntity.length),f.Eb(1),f.Tc(f.nc(8,6,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(11,8,"lang.cancel")))},directives:[d.i,g.t,d.c,v.b,d.d,d.f,b.a,y.c,g.s],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}"]}),pa),ga=["noteEditor"];function ba(t,e){1&t&&(f.Zb(0,"div",16),f.Ub(1,"mat-spinner",17),f.Yb())}function va(t,e){if(1&t&&(f.Zb(0,"b",18),f.Sc(1),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Tc(n.data.resource.chrono)}}function ya(t,e){if(1&t&&(f.Zb(0,"b",18),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function _a(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",n," ")}}function ka(t,e){if(1&t&&(f.Zb(0,"div"),f.Zb(1,"div",19),f.Zb(2,"p"),f.Sc(3),f.mc(4,"translate"),f.Yb(),f.Zb(5,"ul"),f.Qc(6,_a,2,1,"li",20),f.Yb(),f.Yb(),f.Zb(7,"div",21),f.Zb(8,"p"),f.Sc(9),f.mc(10,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(3),f.Uc(" ",f.nc(4,3,"lang.hasNoAttachmentsNotes")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesInfo.noAttachmentsNotes),f.Eb(3),f.Uc(" ",f.nc(10,5,"lang.closeMailAddNoteMandatory")," ")}}function Ca(t,e){if(1&t&&(f.Zb(0,"div",7),f.Qc(1,ba,2,0,"div",8),f.Zb(2,"div",9),f.Zb(3,"div",10),f.Sc(4),f.mc(5,"translate"),f.Qc(6,va,2,1,"b",11),f.Qc(7,ya,3,4,"b",11),f.Sc(8," ? "),f.Ub(9,"div",12),f.Qc(10,ka,11,7,"div",13),f.Yb(),f.Zb(11,"div",10),f.Ub(12,"app-note-editor",14,15),f.Yb(),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngIf",n.loading),f.Eb(3),f.Uc(" ",f.nc(5,7,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",1==n.data.resIds.length),f.Eb(1),f.sc("ngIf",n.data.resIds.length>1),f.Eb(2),f.sc("innerHTML",n.translate.instant("lang.updateClosingDate"),f.Ic),f.Eb(1),f.sc("ngIf",n.resourcesInfo.noAttachmentsNotes.length>0),f.Eb(2),f.sc("resIds",n.data.resIds)}}var xa,wa=((xa=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1,this.loadingInit=!1,this.resourcesInfo={withEntity:[],withoutEntity:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loadingInit=!0,this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/checkAttachmentsAndNotes",{resources:this.data.resIds}).subscribe((function(e){t.resourcesInfo=e,t.loadingInit=!1}),(function(e){t.notify.error(e.error.errors),t.loadingInit=!1}))}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"checkNote",value:function(){return!(!this.noteEditor||!this.noteEditor.getNoteContent())}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(e){e&&null!=e.errors&&t.notify.error(e.errors),t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||xa)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},xa.\u0275cmp=f.Nb({type:xa,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.ad(ga,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],[4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info","acknowledgementList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-danger"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Qc(3,Ca,14,9,"div",2),f.Ub(4,"span",3),f.Zb(5,"div",4),f.Zb(6,"button",5),f.hc("click",(function(){return e.onSubmit()})),f.Sc(7),f.mc(8,"translate"),f.Yb(),f.Zb(9,"button",6),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(1),f.sc("ngIf",!e.loadingInit),f.Eb(3),f.sc("disabled",e.loading||void 0!==e.resourcesInfo.noAttachmentsNotes&&e.resourcesInfo.noAttachmentsNotes.length>0&&!e.checkNote()),f.Eb(1),f.Tc(f.nc(8,6,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(11,8,"lang.cancel")))},directives:[d.i,g.t,d.c,v.b,d.d,d.f,b.a,y.c,g.s],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}"]}),xa),Oa=n("qSQ4"),Sa=["noteEditor"],Ea=["appVisaWorkflow"];function Ma(t,e){1&t&&(f.Zb(0,"div",20),f.Ub(1,"mat-spinner",21),f.Yb())}function Ia(t,e){1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Pa(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ta(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function Aa(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-checkbox",25),f.hc("click",(function(){f.Hc(n);var t=e.$implicit;return f.lc(2).toggleIntegration(t.key)})),f.Sc(1),f.mc(2,"translate"),f.Yb()}if(2&t){var i=e.$implicit,a=f.lc(2);f.sc("checked",a.data.resource.integrations[i.key]),f.Eb(1),f.Uc(" ",f.nc(2,2,"lang."+i.key+"_doc"),"")}}function Da(t,e){if(1&t&&(f.Zb(0,"div",23),f.Qc(1,Aa,3,4,"mat-checkbox",24),f.mc(2,"keyvalue"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngForOf",f.nc(2,1,n.integrationsInfo))}}function Ra(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function La(t,e){if(1&t&&(f.Zb(0,"div",26),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,Ra,5,4,"li",27),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesError)}}function Fa(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier)}}function ja(t,e){if(1&t&&(f.Zb(0,"div",28),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,Fa,3,1,"li",27),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Tc(f.nc(3,2,"lang.mailingActionInformations")),f.Eb(3),f.sc("ngForOf",n.resourcesMailing)}}function Ya(t,e){1&t&&f.Ub(0,"app-visa-workflow",29,30),2&t&&f.sc("adminMode",!0)}function Za(t,e){if(1&t){var n=f.ac();f.Zb(0,"app-attachments-list",31),f.hc("afterActionAttachment",(function(){return f.Hc(n),f.lc().checkSignatureBook()})),f.Yb()}if(2&t){var i=f.lc();f.sc("resId",i.data.resIds[0])}}var Na,Ua=function(){return{width:"400px"}},Ba=((Na=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!0,this.resourcesMailing=[],this.resourcesError=[],this.noResourceToProcess=null,this.integrationsInfo={inSignatureBook:{icon:"fas fa-file-signature"}}}return _createClass(t,[{key:"ngAfterViewInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.data.resIds.length&&!this.functions.empty(this.data.resource.destination)){t.next=10;break}if(!(this.data.resIds.length>0)){t.next=7;break}return t.next=4,this.checkSignatureBook();case 4:this.loading=!1,t.next=8;break;case 7:this.loading=!1;case 8:t.next=13;break;case 10:return t.next=12,this.appVisaWorkflow.loadListModel(this.data.resource.destination);case 12:this.loading=!1;case 13:if(t.t0=1===this.data.resIds.length,!t.t0){t.next=18;break}return t.next=17,this.appVisaWorkflow.loadWorkflow(this.data.resIds[0]);case 17:this.appVisaWorkflow.emptyWorkflow()&&this.appVisaWorkflow.loadDefaultWorkflow(this.data.resIds[0]);case 18:case"end":return t.stop()}}),t,this)})))}},{key:"onSubmit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!0,0!==this.data.resIds.length){t.next=12;break}return t.next=3,this.indexDocument();case 3:if(e=t.sent,t.t0=e,!t.t0){t.next=9;break}return t.next=8,this.appVisaWorkflow.saveVisaWorkflow(this.data.resIds);case 8:e=t.sent;case 9:e&&this.executeIndexingAction(this.data.resIds[0]),t.next=18;break;case 12:return n=this.data.resIds.filter((function(t){return-1===i.resourcesError.map((function(t){return t.res_id})).indexOf(t)})),t.next=15,this.appVisaWorkflow.saveVisaWorkflow(n);case 15:if(t.t1=t.sent,!t.t1){t.next=18;break}this.executeAction(n);case 18:this.loading=!1;case 19:case"end":return t.stop()}}),t,this)})))}},{key:"checkSignatureBook",value:function(){var t=this;return this.resourcesError=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkSignatureBook",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.resourcesInformations.error)||(t.resourcesError=n.resourcesInformations.error),t.noResourceToProcess=t.data.resIds.length===t.resourcesError.length,n.resourcesInformations.success&&(t.resourcesMailing=n.resourcesInformations.success.filter((function(t){return t.mailing}))),e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"toggleIntegration",value:function(t){var e=this;this.http.put("../rest/resourcesList/integrations",{resources:this.data.resIds,integrations:_defineProperty({},t,!this.data.resource.integrations[t])}).pipe(Object(a.a)((function(){e.data.resource.integrations[t]=!e.data.resource.integrations[t],e.checkSignatureBook()})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"indexDocument",value:function(){var t=this;return this.data.resource.integrations={inSignatureBook:!0},new Promise((function(e,n){t.http.post("../rest/resources",t.data.resource).pipe(Object(a.a)((function(n){t.data.resIds=[n.resId],e(!0)})),Object(r.a)((function(n){return t.notify.handleErrors(n),e(!1),Object(u.a)(!1)}))).subscribe()}))}},{key:"executeAction",value:function(t){var e=this;this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"executeIndexingAction",value:function(t){var e=this;this.http.put(this.data.indexActionRoute,{resource:t,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(t){t||e.dialogRef.close("success"),t&&null!=t.errors&&e.notify.error(t.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess&&void 0!==this.appVisaWorkflow&&!this.appVisaWorkflow.emptyWorkflow()&&!this.appVisaWorkflow.workflowEnd()}}]),t}()).\u0275fac=function(t){return new(t||Na)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},Na.\u0275cmp=f.Nb({type:Na,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(Sa,!0),f.ad(Ea,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appVisaWorkflow=n.first))},decls:31,vars:25,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["style","padding:10px;display: flex;flex-direction: column;",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[3,"adminMode",4,"ngIf"],[2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],["position","end","mode","side","autoFocus","false",2,"overflow-x","hidden",3,"opened","ngStyle"],[3,"resId","afterActionAttachment",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],[2,"padding","10px","display","flex","flex-direction","column"],["color","primary",3,"checked","click",4,"ngFor","ngForOf"],["color","primary",3,"checked","click"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info"],[3,"adminMode"],["appVisaWorkflow",""],[3,"resId","afterActionAttachment"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Ma,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,Ia,3,3,"b",6),f.Qc(11,Pa,2,1,"b",6),f.Qc(12,Ta,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,Da,3,3,"div",7),f.Qc(15,La,6,4,"div",8),f.Qc(16,ja,6,4,"div",9),f.Qc(17,Ya,2,1,"app-visa-workflow",10),f.Zb(18,"div",11),f.Ub(19,"app-note-editor",12,13),f.Yb(),f.Yb(),f.Zb(21,"mat-sidenav",14),f.Qc(22,Za,1,1,"app-attachments-list",15),f.Yb(),f.Yb(),f.Yb(),f.Ub(23,"span",16),f.Zb(24,"div",17),f.Zb(25,"button",18),f.hc("click",(function(){return e.onSubmit()})),f.Sc(26),f.mc(27,"translate"),f.Yb(),f.Zb(28,"button",19),f.Sc(29),f.mc(30,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,18,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",e.data.resIds.length>0),f.Eb(1),f.sc("ngIf",e.resourcesError.length>0),f.Eb(1),f.sc("ngIf",e.resourcesMailing.length>0&&""!=e.appVisaWorkflow.getFirstVisaUser()&&e.appVisaWorkflow.visaWorkflow.items[0].requested_signature),f.Eb(1),f.sc("ngIf",e.data.resIds.length<=1||!e.noResourceToProcess&&e.data.resIds.length>1),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(2),f.sc("opened",1===e.data.resIds.length&&e.noResourceToProcess)("ngStyle",f.yc(24,Ua)),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length&&e.noResourceToProcess),f.Eb(3),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(27,20,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(30,22,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,b.a,Ge.d,g.w,d.c,v.b,d.d,y.c,g.s,qe.a,N.a,Oa.a],pipes:[h.d,g.l],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}.checked[_ngcontent-%COMP%]{opacity:1;color:#f99830}.unchecked[_ngcontent-%COMP%]{opacity:.5}"]}),Na),za=["noteEditor"],Va=["appVisaWorkflow"];function Ha(t,e){1&t&&(f.Zb(0,"div",19),f.Ub(1,"mat-spinner",20),f.Yb())}function Qa(t,e){1&t&&(f.Zb(0,"b",21),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Wa(t,e){if(1&t&&(f.Zb(0,"b",21),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ga(t,e){if(1&t&&(f.Zb(0,"b",21),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function qa(t,e){if(1&t&&f.Ub(0,"div",22),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.sendToDocTo")+" <b>"+n.appVisaWorkflow.getNextVisaUser().labelToDisplay+"</b>",f.Ic)}}function Xa(t,e){if(1&t&&f.Ub(0,"div",22),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.endWorkflow"),f.Ic)}}function $a(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Ja(t,e){if(1&t&&(f.Zb(0,"div",23),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,$a,5,4,"li",24),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function Ka(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function tr(t,e){if(1&t&&(f.Zb(0,"div",25),f.Zb(1,"ul",26),f.Qc(2,Ka,5,4,"li",24),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.sc("ngForOf",n.resourcesWarnings)}}function er(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier)}}function nr(t,e){if(1&t&&(f.Zb(0,"div",27),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,er,3,1,"li",24),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Tc(f.nc(3,2,"lang.mailingActionInformations")),f.Eb(3),f.sc("ngForOf",n.resourcesMailing)}}function ir(t,e){if(1&t&&f.Ub(0,"app-visa-workflow",28,29),2&t){var n=f.lc();f.sc("adminMode",!1)("resId",n.data.resIds[0])}}var ar,rr=((ar=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesMailing=[],this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.checkSignatureBook();case 3:this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkSignatureBook",value:function(){var t=this;return this.resourcesErrors=[],this.resourcesWarnings=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkContinueVisaCircuit",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.resourcesInformations.warning)||(t.resourcesWarnings=n.resourcesInformations.warning),t.functions.empty(n.resourcesInformations.error)||(t.resourcesErrors=n.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),n.resourcesInformations.success&&n.resourcesInformations.success.forEach((function(e){e.mailing&&t.resourcesMailing.push(e)})),e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"onSubmit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.data.resIds.filter((function(t){return-1===n.resourcesErrors.map((function(t){return t.res_id})).indexOf(t)})),this.executeAction(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"executeAction",value:function(t){var e=this;this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess}}]),t}()).\u0275fac=function(t){return new(t||ar)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},ar.\u0275cmp=f.Nb({type:ar,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(za,!0),f.ad(Va,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appVisaWorkflow=n.first))},decls:31,vars:23,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info","role","alert",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],["role","alert",1,"alert-message","alert-message-info"],[3,"adminMode","resId"],["appVisaWorkflow",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Ha,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,Qa,3,3,"b",6),f.Qc(11,Wa,2,1,"b",6),f.Qc(12,Ga,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,qa,1,1,"div",7),f.Qc(15,Xa,1,1,"div",7),f.Qc(16,Ja,6,4,"div",8),f.Qc(17,tr,3,1,"div",9),f.Qc(18,nr,6,4,"div",10),f.Qc(19,ir,2,2,"app-visa-workflow",11),f.Zb(20,"div",12),f.Ub(21,"app-note-editor",13,14),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Ub(23,"span",15),f.Zb(24,"div",16),f.Zb(25,"button",17),f.hc("click",(function(){return e.onSubmit()})),f.Sc(26),f.mc(27,"translate"),f.Yb(),f.Zb(28,"button",18),f.Sc(29),f.mc(30,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,17,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appVisaWorkflow&&""!==e.appVisaWorkflow.getNextVisaUser()),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appVisaWorkflow&&""===e.appVisaWorkflow.getNextVisaUser()&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",e.resourcesWarnings.length>0),f.Eb(1),f.sc("ngIf",e.resourcesMailing.length>0&&void 0!==e.appVisaWorkflow&&""!==e.appVisaWorkflow.getNextVisaUser()&&e.appVisaWorkflow.getNextVisaUser().requested_signature),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(2),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(27,19,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(30,21,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,b.a,d.c,v.b,d.d,y.c,g.s,N.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),ar),or=n("XkWp"),sr=["noteEditor"],cr=["appAvisWorkflow"];function lr(t,e){1&t&&(f.Zb(0,"div",20),f.Ub(1,"mat-spinner",21),f.Yb())}function ur(t,e){1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function dr(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function fr(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function hr(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function pr(t,e){if(1&t&&(f.Zb(0,"div",23),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,hr,5,4,"li",24),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesError)}}function mr(t,e){if(1&t&&f.Ub(0,"mat-datepicker-toggle",25),2&t){f.lc();var n=f.Dc(22);f.sc("for",n)}}function gr(t,e){if(1&t){var n=f.ac();f.Zb(0,"button",26),f.hc("click",(function(t){f.Hc(n);var e=f.lc();return t.stopPropagation(),e.opinionLimitDate=null})),f.Ub(1,"mat-icon",27),f.Yb()}if(2&t){var i=f.lc();f.sc("title",i.translate.instant("lang.eraseValue"))}}function br(t,e){1&t&&f.Ub(0,"app-avis-workflow",28,29),2&t&&f.sc("adminMode",!0)}var vr,yr=((vr=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesError=[],this.noResourceToProcess=null,this.opinionLimitDate=null,this.today=new Date}return _createClass(t,[{key:"ngAfterViewInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=1===this.data.resIds.length,!t.t0){t.next=5;break}return t.next=4,this.appAvisWorkflow.loadWorkflow(this.data.resIds[0]);case 4:this.appAvisWorkflow.emptyWorkflow()&&this.appAvisWorkflow.loadDefaultWorkflow(this.data.resIds[0]);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onSubmit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!0,0!==this.data.resIds.length){t.next=12;break}return t.next=3,this.indexDocument();case 3:if(e=t.sent,t.t0=e,!t.t0){t.next=9;break}return t.next=8,this.appAvisWorkflow.saveAvisWorkflow(this.data.resIds);case 8:e=t.sent;case 9:e&&this.executeAction(this.data.resIds),t.next=18;break;case 12:return n=this.data.resIds.filter((function(t){return-1===i.resourcesError.map((function(t){return t.res_id})).indexOf(t)})),t.next=15,this.appAvisWorkflow.saveAvisWorkflow(n);case 15:if(t.t1=t.sent,!t.t1){t.next=18;break}this.executeAction(n);case 18:this.loading=!1;case 19:case"end":return t.stop()}}),t,this)})))}},{key:"indexDocument",value:function(){var t=this;return new Promise((function(e,n){t.http.post("../rest/resources",t.data.resource).pipe(Object(a.a)((function(n){t.data.resIds=[n.resId],e(!0)})),Object(r.a)((function(n){return t.notify.handleErrors(n),e(!1),Object(u.a)(!1)}))).subscribe()}))}},{key:"executeAction",value:function(t){var e=this,n="[".concat(this.translate.instant("lang.avisUserAsk").toUpperCase(),"] ").concat(this.noteEditor.getNoteContent());this.noteEditor.setNoteContent(n),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:{opinionLimitDate:this.functions.formatDateObjectToDateString(this.opinionLimitDate,!0)}}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!(this.noResourceToProcess||void 0===this.appAvisWorkflow||this.appAvisWorkflow.emptyWorkflow()||this.appAvisWorkflow.workflowEnd()||this.functions.empty(this.noteEditor.getNoteContent())||this.functions.empty(this.functions.formatDateObjectToDateString(this.opinionLimitDate)))}}]),t}()).\u0275fac=function(t){return new(t||vr)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},vr.\u0275cmp=f.Nb({type:vr,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(sr,!0),f.ad(cr,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appAvisWorkflow=n.first))},decls:35,vars:30,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","placeholder","min","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[3,"adminMode"],["appAvisWorkflow",""]],template:function(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,lr,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,ur,3,3,"b",6),f.Qc(11,dr,2,1,"b",6),f.Qc(12,fr,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,pr,6,4,"div",7),f.Zb(15,"mat-form-field",8),f.hc("click",(function(){return f.Hc(n),f.Dc(22).open()})),f.Zb(16,"mat-label"),f.Sc(17),f.mc(18,"translate"),f.Yb(),f.Zb(19,"input",9),f.hc("ngModelChange",(function(t){return e.opinionLimitDate=t})),f.Yb(),f.Qc(20,mr,1,1,"mat-datepicker-toggle",10),f.Ub(21,"mat-datepicker",null,11),f.Qc(23,gr,2,1,"button",12),f.Yb(),f.Ub(24,"app-note-editor",13,14),f.Qc(26,br,2,1,"app-avis-workflow",15),f.Yb(),f.Yb(),f.Yb(),f.Ub(27,"span",16),f.Zb(28,"div",17),f.Zb(29,"button",18),f.hc("click",(function(){return e.onSubmit()})),f.Sc(30),f.mc(31,"translate"),f.Yb(),f.Zb(32,"button",19),f.Sc(33),f.mc(34,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.Dc(22);f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,22,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",e.resourcesError.length>0),f.Eb(3),f.Tc(f.nc(18,24,"lang.opinionLimitDate")),f.Eb(2),f.sc("ngModel",e.opinionLimitDate)("matDatepicker",i)("placeholder",e.translate.instant("lang.chooseDate"))("min",e.today),f.Eb(1),f.sc("ngIf",!e.opinionLimitDate),f.Eb(3),f.sc("ngIf",e.opinionLimitDate),f.Eb(1),f.sc("title",e.translate.instant("lang.addOpinionReason"))("resIds",e.data.resIds)("disableRestriction",!0),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length||!e.noResourceToProcess&&e.data.resIds.length>1),f.Eb(3),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(31,26,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(34,28,"lang.cancel"))}},directives:[d.i,d.f,g.t,Ge.e,Ge.f,Dt.c,Dt.g,Rt.b,Lt.c,Ft.f,Lt.E,Lt.t,Lt.w,Ft.d,b.a,d.c,v.b,d.d,y.c,g.s,Ft.h,Dt.j,He.a,or.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),vr),_r=["noteEditor"],kr=["appAvisWorkflow"];function Cr(t,e){1&t&&(f.Zb(0,"div",18),f.Ub(1,"mat-spinner",19),f.Yb())}function xr(t,e){1&t&&(f.Zb(0,"b",20),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function wr(t,e){if(1&t&&(f.Zb(0,"b",20),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Or(t,e){if(1&t&&(f.Zb(0,"b",20),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function Sr(t,e){if(1&t&&f.Ub(0,"div",21),2&t){var n=f.lc();f.sc("innerHTML","<b>"+n.ownerOpinion+"</b> "+n.translate.instant("lang.askOpinionUser")+" :<br/><br/>"+n.opinionContent,f.Ic)}}function Er(t,e){if(1&t&&f.Ub(0,"div",21),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.sendToDocTo")+" <b>"+n.appAvisWorkflow.getNextAvisUser().labelToDisplay+"</b>",f.Ic)}}function Mr(t,e){if(1&t&&f.Ub(0,"div",21),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.endWorkflow"),f.Ic)}}function Ir(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Pr(t,e){if(1&t&&(f.Zb(0,"div",22),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,Ir,5,4,"li",23),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function Tr(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Ar(t,e){if(1&t&&(f.Zb(0,"div",24),f.Zb(1,"ul",25),f.Qc(2,Tr,5,4,"li",23),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.sc("ngForOf",n.resourcesWarnings)}}function Dr(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-form-field",26),f.Zb(1,"mat-label"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"input",27),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc().opinionLimitDate=t})),f.Yb(),f.Yb()}if(2&t){var i=f.lc();f.Eb(2),f.Tc(f.nc(3,2,"lang.opinionLimitDate")),f.Eb(2),f.sc("ngModel",i.opinionLimitDate)}}function Rr(t,e){if(1&t&&f.Ub(0,"app-avis-workflow",28,29),2&t){var n=f.lc();f.sc("adminMode",!1)("resId",n.data.resIds[0])}}var Lr,Fr=((Lr=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.ownerOpinion="",this.opinionContent="",this.opinionLimitDate=null,this.noResourceToProcess=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.checkAvisCircuit()}},{key:"checkAvisCircuit",value:function(){var t=this;this.loading=!0,this.resourcesErrors=[],this.resourcesWarnings=[],this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkContinueOpinionCircuit",{resources:this.data.resIds}).pipe(Object(a.a)((function(e){t.functions.empty(e.resourcesInformations.warning)||(t.resourcesWarnings=e.resourcesInformations.warning),t.functions.empty(e.resourcesInformations.error)||(t.resourcesErrors=e.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),t.noResourceToProcess||(t.ownerOpinion=e.resourcesInformations.success[0].avisUserAsk,t.opinionContent=e.resourcesInformations.success[0].note,t.opinionLimitDate=new Date(e.resourcesInformations.success[0].opinionLimitDate),t.opinionLimitDate=t.functions.formatDateObjectToDateString(t.opinionLimitDate))})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(),Object(u.a)(!1)}))).subscribe()}},{key:"onSubmit",value:function(){var t=this,e=this.data.resIds.filter((function(e){return-1===t.resourcesErrors.map((function(t){return t.res_id})).indexOf(e)}));this.executeAction(e)}},{key:"executeAction",value:function(t){var e=this,n="[".concat(this.translate.instant("lang.avisUserState"),"] ").concat(this.noteEditor.getNoteContent());this.noteEditor.setNoteContent(n),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess&&!this.functions.empty(this.noteEditor.getNoteContent())}}]),t}()).\u0275fac=function(t){return new(t||Lr)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},Lr.\u0275cmp=f.Nb({type:Lr,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(_r,!0),f.ad(kr,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appAvisWorkflow=n.first))},decls:31,vars:26,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode","resId",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],["appearance","outline",2,"cursor","pointer","margin-top","10px"],["matInput","","readonly","","disabled","",2,"cursor","pointer",3,"ngModel","ngModelChange"],[3,"adminMode","resId"],["appAvisWorkflow",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Cr,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,xr,3,3,"b",6),f.Qc(11,wr,2,1,"b",6),f.Qc(12,Or,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,Sr,1,1,"div",7),f.Qc(15,Er,1,1,"div",7),f.Qc(16,Mr,1,1,"div",7),f.Qc(17,Pr,6,4,"div",8),f.Qc(18,Ar,3,1,"div",9),f.Qc(19,Dr,5,4,"mat-form-field",10),f.Ub(20,"app-note-editor",11,12),f.Qc(22,Rr,2,2,"app-avis-workflow",13),f.Yb(),f.Yb(),f.Yb(),f.Ub(23,"span",14),f.Zb(24,"div",15),f.Zb(25,"button",16),f.hc("click",(function(){return e.onSubmit()})),f.Sc(26),f.mc(27,"translate"),f.Yb(),f.Zb(28,"button",17),f.Sc(29),f.mc(30,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,20,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appAvisWorkflow&&""!==e.appAvisWorkflow.getNextAvisUser()),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length&&void 0!==e.appAvisWorkflow&&""===e.appAvisWorkflow.getNextAvisUser()&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",e.resourcesWarnings.length>0),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("title",e.translate.instant("lang.addOpinion"))("resIds",e.data.resIds)("disableRestriction",!0),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length),f.Eb(3),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(27,22,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(30,24,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,b.a,d.c,v.b,d.d,y.c,g.s,Dt.c,Dt.g,Rt.b,Lt.c,Lt.t,Lt.w,or.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),Lr),jr=["noteEditor"],Yr=["appAvisWorkflow"];function Zr(t,e){1&t&&(f.Zb(0,"div",20),f.Ub(1,"mat-spinner",21),f.Yb())}function Nr(t,e){1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Ur(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Br(t,e){if(1&t&&(f.Zb(0,"b",22),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function zr(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Vr(t,e){if(1&t&&(f.Zb(0,"div",23),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,zr,5,4,"li",24),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesError)}}function Hr(t,e){if(1&t&&f.Ub(0,"mat-datepicker-toggle",25),2&t){f.lc();var n=f.Dc(22);f.sc("for",n)}}function Qr(t,e){if(1&t){var n=f.ac();f.Zb(0,"button",26),f.hc("click",(function(t){f.Hc(n);var e=f.lc();return t.stopPropagation(),e.opinionLimitDate=null})),f.Ub(1,"mat-icon",27),f.Yb()}if(2&t){var i=f.lc();f.sc("title",i.translate.instant("lang.eraseValue"))}}function Wr(t,e){1&t&&f.Ub(0,"app-avis-workflow",28,29),2&t&&f.sc("adminMode",!0)("mode","parallel")}var Gr,qr=((Gr=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesError=[],this.noResourceToProcess=null,this.opinionLimitDate=null,this.today=new Date,this.availableRoles=[]}return _createClass(t,[{key:"ngAfterViewInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=1===this.data.resIds.length,!t.t0){t.next=5;break}return t.next=4,this.appAvisWorkflow.loadParallelWorkflow(this.data.resIds[0]);case 4:this.appAvisWorkflow.emptyWorkflow()&&this.appAvisWorkflow.loadDefaultWorkflow(this.data.resIds[0]);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onSubmit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!0,0!==this.data.resIds.length){t.next=8;break}return t.next=3,this.indexDocument();case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.executeAction(this.data.resIds);case 6:t.next=10;break;case 8:e=this.data.resIds.filter((function(t){return-1===n.resourcesError.map((function(t){return t.res_id})).indexOf(t)})),this.executeAction(e);case 10:this.loading=!1;case 11:case"end":return t.stop()}}),t,this)})))}},{key:"indexDocument",value:function(){var t=this;return new Promise((function(e,n){t.http.post("../rest/resources",t.data.resource).pipe(Object(a.a)((function(n){t.data.resIds=[n.resId],e(!0)})),Object(r.a)((function(n){return t.notify.handleErrors(n),e(!1),Object(u.a)(!1)}))).subscribe()}))}},{key:"executeAction",value:function(t){var e=this,n="[".concat(this.translate.instant("lang.avisUserAsk").toUpperCase(),"] ").concat(this.noteEditor.getNoteContent());this.noteEditor.setNoteContent(n),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote(),data:{opinionLimitDate:this.functions.formatDateObjectToDateString(this.opinionLimitDate,!0,"yyyy-mm-dd"),opinionCircuit:this.appAvisWorkflow.getWorkflow()}}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!(this.noResourceToProcess||void 0===this.appAvisWorkflow||this.appAvisWorkflow.emptyWorkflow()||this.appAvisWorkflow.workflowEnd()||this.functions.empty(this.noteEditor.getNoteContent())||this.functions.empty(this.functions.formatDateObjectToDateString(this.opinionLimitDate)))}}]),t}()).\u0275fac=function(t){return new(t||Gr)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},Gr.\u0275cmp=f.Nb({type:Gr,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(jr,!0),f.ad(Yr,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appAvisWorkflow=n.first))},decls:35,vars:30,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","placeholder","min","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode","mode",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[3,"adminMode","mode"],["appAvisWorkflow",""]],template:function(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Zr,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,Nr,3,3,"b",6),f.Qc(11,Ur,2,1,"b",6),f.Qc(12,Br,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,Vr,6,4,"div",7),f.Zb(15,"mat-form-field",8),f.hc("click",(function(){return f.Hc(n),f.Dc(22).open()})),f.Zb(16,"mat-label"),f.Sc(17),f.mc(18,"translate"),f.Yb(),f.Zb(19,"input",9),f.hc("ngModelChange",(function(t){return e.opinionLimitDate=t})),f.Yb(),f.Qc(20,Hr,1,1,"mat-datepicker-toggle",10),f.Ub(21,"mat-datepicker",null,11),f.Qc(23,Qr,2,1,"button",12),f.Yb(),f.Ub(24,"app-note-editor",13,14),f.Qc(26,Wr,2,2,"app-avis-workflow",15),f.Yb(),f.Yb(),f.Yb(),f.Ub(27,"span",16),f.Zb(28,"div",17),f.Zb(29,"button",18),f.hc("click",(function(){return e.onSubmit()})),f.Sc(30),f.mc(31,"translate"),f.Yb(),f.Zb(32,"button",19),f.Sc(33),f.mc(34,"translate"),f.Yb(),f.Yb(),f.Yb()}if(2&t){var i=f.Dc(22);f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,22,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",e.resourcesError.length>0),f.Eb(3),f.Tc(f.nc(18,24,"lang.opinionLimitDate")),f.Eb(2),f.sc("ngModel",e.opinionLimitDate)("matDatepicker",i)("placeholder",e.translate.instant("lang.chooseDate"))("min",e.today),f.Eb(1),f.sc("ngIf",!e.opinionLimitDate),f.Eb(3),f.sc("ngIf",e.opinionLimitDate),f.Eb(1),f.sc("title",e.translate.instant("lang.addOpinionReason"))("resIds",e.data.resIds)("disableRestriction",!0),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length||!e.noResourceToProcess&&e.data.resIds.length>1),f.Eb(3),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(31,26,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(34,28,"lang.cancel"))}},directives:[d.i,d.f,g.t,Ge.e,Ge.f,Dt.c,Dt.g,Rt.b,Lt.c,Ft.f,Lt.E,Lt.t,Lt.w,Ft.d,b.a,d.c,v.b,d.d,y.c,g.s,Ft.h,Dt.j,He.a,or.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),Gr),Xr=["noteEditor"];function $r(t,e){1&t&&(f.Zb(0,"div",17),f.Ub(1,"mat-spinner",18),f.Yb())}function Jr(t,e){1&t&&(f.Zb(0,"b",19),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Kr(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function to(t,e){if(1&t&&(f.Zb(0,"b",19),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function eo(t,e){if(1&t&&f.Ub(0,"div",20),2&t){var n=f.lc();f.sc("innerHTML","<b>"+n.ownerOpinion+"</b> "+n.translate.instant("lang.askOpinionUser")+" :<br/><br/>"+n.opinionContent,f.Ic)}}function no(t,e){if(1&t&&f.Ub(0,"div",20),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.askOpinion"),f.Ic)}}function io(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function ao(t,e){if(1&t&&(f.Zb(0,"div",21),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,io,5,4,"li",22),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function ro(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function oo(t,e){if(1&t&&(f.Zb(0,"div",23),f.Zb(1,"ul",24),f.Qc(2,ro,5,4,"li",22),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.sc("ngForOf",n.resourcesWarnings)}}function so(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-form-field",25),f.Zb(1,"mat-label"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"input",26),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc().opinionLimitDate=t})),f.Yb(),f.Yb()}if(2&t){var i=f.lc();f.Eb(2),f.Tc(f.nc(3,2,"lang.opinionLimitDate")),f.Eb(2),f.sc("ngModel",i.opinionLimitDate)}}var co,lo=((co=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.noResourceToProcess=null,this.opinionLimitDate=null,this.ownerOpinion="",this.opinionContent=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.checkAvisParallel()}},{key:"checkAvisParallel",value:function(){var t=this;this.loading=!0,this.resourcesErrors=[],this.resourcesWarnings=[],this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkGiveParallelOpinion",{resources:this.data.resIds}).pipe(Object(a.a)((function(e){t.functions.empty(e.resourcesInformations.warning)||(t.resourcesWarnings=e.resourcesInformations.warning),t.functions.empty(e.resourcesInformations.error)||(t.resourcesErrors=e.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),t.noResourceToProcess||(t.ownerOpinion=e.resourcesInformations.success[0].avisUserAsk,t.opinionContent=e.resourcesInformations.success[0].note,t.opinionLimitDate=new Date(e.resourcesInformations.success[0].opinionLimitDate),t.opinionLimitDate=t.functions.formatDateObjectToDateString(t.opinionLimitDate))})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(),Object(u.a)(!1)}))).subscribe()}},{key:"onSubmit",value:function(){var t=this,e=this.data.resIds.filter((function(e){return-1===t.resourcesErrors.map((function(t){return t.res_id})).indexOf(e)}));this.executeAction(e)}},{key:"executeAction",value:function(t){var e=this,n="[".concat(this.translate.instant("lang.avisUserState"),"] ").concat(this.noteEditor.getNoteContent());this.noteEditor.setNoteContent(n),this.http.put(this.data.processActionRoute,{resources:t,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return!this.noResourceToProcess&&!this.functions.empty(this.noteEditor.getNoteContent())}}]),t}()).\u0275fac=function(t){return new(t||co)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},co.\u0275cmp=f.Nb({type:co,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(Xr,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:29,vars:24,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["class","alert-message alert-message-info mailList","role","alert",4,"ngIf"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",4,"ngIf"],[3,"title","resIds","disableRestriction"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info","mailList"],[2,"margin","0","padding-bottom","0px"],["appearance","outline",2,"cursor","pointer","margin-top","10px"],["matInput","","readonly","","disabled","",2,"cursor","pointer",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,$r,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,Jr,3,3,"b",6),f.Qc(11,Kr,2,1,"b",6),f.Qc(12,to,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,eo,1,1,"div",7),f.Qc(15,no,1,1,"div",7),f.Qc(16,ao,6,4,"div",8),f.Qc(17,oo,3,1,"div",9),f.Qc(18,so,5,4,"mat-form-field",10),f.Ub(19,"app-note-editor",11,12),f.Yb(),f.Yb(),f.Yb(),f.Ub(21,"span",13),f.Zb(22,"div",14),f.Zb(23,"button",15),f.hc("click",(function(){return e.onSubmit()})),f.Sc(24),f.mc(25,"translate"),f.Yb(),f.Zb(26,"button",16),f.Sc(27),f.mc(28,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,18,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",e.resourcesWarnings.length>0),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("title",e.translate.instant("lang.addOpinion"))("resIds",e.data.resIds)("disableRestriction",!0),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(25,20,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(28,22,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,b.a,d.c,v.b,d.d,y.c,g.s,Dt.c,Dt.g,Rt.b,Lt.c,Lt.t,Lt.w],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),co),uo=n("4zkx"),fo=["noteEditor"],ho=["appAvisWorkflow"];function po(t,e){1&t&&(f.Zb(0,"div",16),f.Ub(1,"mat-spinner",17),f.Yb())}function mo(t,e){1&t&&(f.Zb(0,"b",18),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function go(t,e){if(1&t&&(f.Zb(0,"b",18),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function bo(t,e){if(1&t&&(f.Zb(0,"b",18),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function vo(t,e){if(1&t&&f.Ub(0,"div",19),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.validateAvisParallelSingle")+" <b>"+n.ownerOpinion+"</b>",f.Ic)}}function yo(t,e){if(1&t&&f.Ub(0,"div",19),2&t){var n=f.lc();f.sc("innerHTML",n.translate.instant("lang.validateAvisParallel"),f.Ic)}}function _o(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function ko(t,e){if(1&t&&(f.Zb(0,"div",20),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,_o,5,4,"li",21),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function Co(t,e){if(1&t&&f.Ub(0,"mat-datepicker-toggle",27),2&t){f.lc();var n=f.Dc(7);f.sc("for",n)}}function xo(t,e){if(1&t){var n=f.ac();f.Zb(0,"button",28),f.hc("click",(function(t){f.Hc(n);var e=f.lc(2);return t.stopPropagation(),e.opinionLimitDate=null})),f.Ub(1,"mat-icon",29),f.Yb()}if(2&t){var i=f.lc(2);f.sc("title",i.translate.instant("lang.eraseValue"))}}function wo(t,e){if(1&t){var n=f.ac();f.Zb(0,"mat-form-field",22),f.hc("click",(function(){return f.Hc(n),f.Dc(7).open()})),f.Zb(1,"mat-label"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"input",23),f.hc("ngModelChange",(function(t){return f.Hc(n),f.lc().opinionLimitDate=t})),f.Yb(),f.Qc(5,Co,1,1,"mat-datepicker-toggle",24),f.Ub(6,"mat-datepicker",null,25),f.Qc(8,xo,2,1,"button",26),f.Yb()}if(2&t){var i=f.Dc(7),a=f.lc();f.Eb(2),f.Tc(f.nc(3,7,"lang.opinionLimitDate")),f.Eb(2),f.sc("ngModel",a.opinionLimitDate)("matDatepicker",i)("placeholder",a.translate.instant("lang.chooseDate"))("min",a.today),f.Eb(1),f.sc("ngIf",!a.opinionLimitDate),f.Eb(3),f.sc("ngIf",a.opinionLimitDate)}}function Oo(t,e){if(1&t&&f.Ub(0,"app-note-editor",30,31),2&t){var n=f.lc();f.sc("title",n.translate.instant("lang.addOpinionReason"))("content",n.opinionContent)("resIds",n.data.resIds)("disableRestriction",!0)}}function So(t,e){1&t&&f.Ub(0,"app-avis-workflow",32,33),2&t&&f.sc("adminMode",!0)("mode","parallel")}var Eo,Mo=((Eo=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.headerService=s,this.loading=!1,this.resourcesWarnings=[],this.resourcesErrors=[],this.ownerOpinion="",this.opinionContent="",this.noResourceToProcess=null,this.opinionLimitDate=null,this.today=new Date,this.availableRoles=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.checkAvisCircuit()}},{key:"checkAvisCircuit",value:function(){var t=this;this.loading=!0,this.resourcesErrors=[],this.resourcesWarnings=[],this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkValidateParallelOpinion",{resources:this.data.resIds}).pipe(Object(a.a)((function(e){t.functions.empty(e.resourcesInformations.warning)||(t.resourcesWarnings=e.resourcesInformations.warning),t.functions.empty(e.resourcesInformations.error)||(t.resourcesErrors=e.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length),t.noResourceToProcess||(t.ownerOpinion=e.resourcesInformations.success[0].avisUserAsk,t.opinionContent=e.resourcesInformations.success[0].note,t.opinionLimitDate=new Date(e.resourcesInformations.success[0].opinionLimitDate))})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(),Object(u.a)(!1)}))).subscribe()}},{key:"ngAfterViewInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=1===this.data.resIds.length,!t.t0){t.next=4;break}return t.next=4,this.appAvisWorkflow.loadParallelWorkflow(this.data.resIds[0]);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onSubmit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.data.resIds.filter((function(t){return-1===n.resourcesErrors.map((function(t){return t.res_id})).indexOf(t)})),this.executeAction(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"executeAction",value:function(t){var e=this,n="[".concat(this.translate.instant("lang.avisUserAsk").toUpperCase(),"] ").concat(this.noteEditor.getNoteContent()," \u2190 ").concat(this.translate.instant("lang.validateBy")," ").concat(this.headerService.user.firstname," ").concat(this.headerService.user.lastname);this.noteEditor.setNoteContent(n),this.http.put(this.data.processActionRoute,{resources:t,data:{note:this.noteEditor.getNote(),opinionLimitDate:this.functions.formatDateObjectToDateString(this.opinionLimitDate,!0),opinionCircuit:this.appAvisWorkflow.getWorkflow()}}).pipe(Object(a.a)((function(n){n||e.dialogRef.close(t),n&&null!=n.errors&&e.notify.error(n.errors)})),Object(s.a)((function(){return e.loading=!1})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),Object(u.a)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return 1===this.data.resIds.length?!(this.noResourceToProcess||void 0===this.noteEditor||void 0===this.appAvisWorkflow||this.appAvisWorkflow.emptyWorkflow()||this.appAvisWorkflow.workflowEnd()||this.functions.empty(this.noteEditor.getNoteContent())||this.functions.empty(this.functions.formatDateObjectToDateString(this.opinionLimitDate))):!this.noResourceToProcess}}]),t}()).\u0275fac=function(t){return new(t||Eo)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a),f.Tb(uo.a))},Eo.\u0275cmp=f.Nb({type:Eo,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.ad(fo,!0),f.ad(ho,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appAvisWorkflow=n.first))},decls:28,vars:22,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],["autosize","",2,"height","100%"],[2,"background","white","padding","10px"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-info","role","alert","style","margin-top: 30px;",3,"innerHTML",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",3,"click",4,"ngIf"],[3,"title","content","resIds","disableRestriction",4,"ngIf"],[3,"adminMode","mode",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","placeholder","min","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[3,"title","content","resIds","disableRestriction"],["noteEditor",""],[3,"adminMode","mode"],["appAvisWorkflow",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,po,2,0,"div",3),f.Zb(5,"mat-sidenav-container",4),f.Zb(6,"mat-sidenav-content",5),f.Zb(7,"div"),f.Sc(8),f.mc(9,"translate"),f.Qc(10,mo,3,3,"b",6),f.Qc(11,go,2,1,"b",6),f.Qc(12,bo,3,4,"b",6),f.Sc(13," ? "),f.Yb(),f.Qc(14,vo,1,1,"div",7),f.Qc(15,yo,1,1,"div",7),f.Qc(16,ko,6,4,"div",8),f.Qc(17,wo,9,9,"mat-form-field",9),f.Qc(18,Oo,2,4,"app-note-editor",10),f.Qc(19,So,2,2,"app-avis-workflow",11),f.Yb(),f.Yb(),f.Yb(),f.Ub(20,"span",12),f.Zb(21,"div",13),f.Zb(22,"button",14),f.hc("click",(function(){return e.onSubmit()})),f.Sc(23),f.mc(24,"translate"),f.Yb(),f.Zb(25,"button",15),f.Sc(26),f.mc(27,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(4),f.Uc(" ",f.nc(9,16,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(2),f.sc("ngIf",1==e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),f.Eb(1),f.sc("ngIf",1===e.data.resIds.length&&!e.noResourceToProcess),f.Eb(3),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(24,18,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(27,20,"lang.cancel")))},directives:[d.i,d.f,g.t,Ge.e,Ge.f,d.c,v.b,d.d,y.c,g.s,Dt.c,Dt.g,Rt.b,Lt.c,Ft.f,Lt.E,Lt.t,Lt.w,Ft.d,Ft.h,Dt.j,He.a,b.a,or.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.mailList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.mailList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.mailList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.formType[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:10px;font-weight:700;background:#fff;position:absolute;top:-7px;left:10px;padding:0;margin:0;color:#135f7f}.formType[_ngcontent-%COMP%]    .mat-form-field-suffix{color:#f99830;font-size:15px;top:0}.formType[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.priceContent[_ngcontent-%COMP%]{align-items:center;width:100%}.priceContent[_ngcontent-%COMP%], .priceContent-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.priceContent-label[_ngcontent-%COMP%]{text-align:right;color:#135f7f;flex:1;padding-right:10px}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:90px!important}.priceContent[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.priceInfo[_ngcontent-%COMP%]{padding-right:20px;font-size:10px;opacity:.5;width:100%}.pjList[_ngcontent-%COMP%]{display:flex;width:100%;overflow:auto;flex-direction:column;background:#666}.pjList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}"]}),Eo),Io=n("3nLB"),Po=n("fp7N"),To=["noteEditor"],Ao=["appSearchAdvList"];function Do(t,e){1&t&&(f.Zb(0,"div",10),f.Ub(1,"mat-spinner",11),f.Yb())}function Ro(t,e){1&t&&(f.Zb(0,"b",16),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Lo(t,e){if(1&t&&(f.Zb(0,"b",16),f.Sc(1),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Tc(n.data.resource.chrono)}}function Fo(t,e){if(1&t&&(f.Zb(0,"b",16),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function jo(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function Yo(t,e){if(1&t&&(f.Zb(0,"div",17),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,jo,5,4,"li",18),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function Zo(t,e){if(1&t&&(f.Zb(0,"div",12),f.Ub(1,"div",19),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.sc("innerHTML",1===n.data.resIds.length?n.translate.instant("lang.reconcileMsg"):n.translate.instant("lang.reconcileMsg")+"<br/>"+n.translate.instant("lang.reconcileMsg2"),f.Ic)}}var No=function(){return["resourceField","contactField"]};function Uo(t,e){if(1&t){var n=f.ac();f.Zb(0,"div",12),f.Zb(1,"app-criteria-tool",20),f.hc("searchUrlGenerated",(function(t){return f.Hc(n),f.lc(2).launchSearch(t)})),f.Yb(),f.Ub(2,"search-adv-list",21,22),f.Yb()}if(2&t){var i=f.lc(2);f.Eb(1),f.sc("defaultCriteria",f.yc(3,No)),f.Eb(1),f.sc("singleMode",!0)("excludeRes",i.data.resIds)}}function Bo(t,e){if(1&t&&(f.Xb(0),f.Zb(1,"div",12),f.Sc(2),f.mc(3,"translate"),f.Qc(4,Ro,3,3,"b",13),f.Qc(5,Lo,2,1,"b",13),f.Qc(6,Fo,3,4,"b",13),f.Sc(7," ? "),f.Yb(),f.Zb(8,"div",12),f.Qc(9,Yo,6,4,"div",14),f.Yb(),f.Qc(10,Zo,2,1,"div",15),f.Qc(11,Uo,4,4,"div",15),f.Wb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,7,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===n.data.resIds.length),f.Eb(1),f.sc("ngIf",1===n.data.resIds.length),f.Eb(1),f.sc("ngIf",n.data.resIds.length>1),f.Eb(3),f.sc("ngIf",n.resourcesErrors.length>0),f.Eb(1),f.sc("ngIf",!n.noResourceToProcess),f.Eb(1),f.sc("ngIf",!n.noResourceToProcess)}}var zo,Vo=((zo=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.searchUrl="",this.resourcesErrors=[],this.selectedRes=[],this.noResourceToProcess=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.checkReconcile()}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"checkReconcile",value:function(){var t=this;return this.resourcesErrors=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkReconcile",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.resourcesInformations.error)||(t.resourcesErrors=n.resourcesInformations.error),n.resourcesInformations.success&&n.resourcesInformations.success.forEach((function(e){t.selectedRes.push(e.res_id)})),t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length,e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.selectedRes,data:{resId:this.appSearchAdvList.getSelectedRessources()[0]}}).pipe(Object(a.a)((function(e){null===e||t.functions.empty(e.errors)?t.dialogRef.close(t.selectedRes):t.notify.error(e.errors)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"launchSearch",value:function(t){this.searchUrl=t,this.appSearchAdvList.refreshDao(t)}}]),t}()).\u0275fac=function(t){return new(t||zo)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},zo.\u0275cmp=f.Nb({type:zo,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.ad(To,!0),f.ad(Ao,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.appSearchAdvList=n.first))},decls:15,vars:11,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","style","max-width: 100%;",4,"ngIf"],["class","col-md-12",4,"ngIf"],["color","primary",1,"highlight"],[1,"alert-message","alert-message-danger","mailList",2,"max-width","100%"],[4,"ngFor","ngForOf"],["role","alert",1,"alert-message","alert-message-info",2,"max-width","100%",3,"innerHTML"],[3,"defaultCriteria","searchUrlGenerated"],[3,"singleMode","excludeRes"],["appSearchAdvList",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Do,2,0,"div",3),f.Zb(5,"div",4),f.Qc(6,Bo,12,9,"ng-container",5),f.Yb(),f.Yb(),f.Ub(7,"span",6),f.Zb(8,"div",7),f.Zb(9,"button",8),f.hc("click",(function(){return e.onSubmit()})),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Zb(12,"button",9),f.Sc(13),f.mc(14,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(2),f.sc("ngIf",e.data.resIds.length>0),f.Eb(3),f.sc("disabled",e.loading||void 0!==e.appSearchAdvList&&0===e.appSearchAdvList.getSelectedRessources().length||e.noResourceToProcess),f.Eb(1),f.Tc(f.nc(11,7,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(14,9,"lang.cancel")))},directives:[d.i,d.f,g.t,d.c,v.b,d.d,y.c,g.s,Io.a,Po.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}"]}),zo),Ho=n("Kj3r"),Qo=n("eIep"),Wo=n("IsdP"),Go=["noteEditor"],qo=["maarchTree"];function Xo(t,e){1&t&&(f.Zb(0,"div",22),f.Ub(1,"mat-spinner",23),f.Yb())}function $o(t,e){1&t&&(f.Zb(0,"b",24),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Jo(t,e){if(1&t&&(f.Zb(0,"b",24),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ko(t,e){if(1&t&&(f.Zb(0,"b",24),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}function ts(t,e){if(1&t&&(f.Zb(0,"li"),f.Zb(1,"b"),f.Sc(2),f.Yb(),f.Sc(3),f.mc(4,"translate"),f.Yb()),2&t){var n=e.$implicit;f.Eb(2),f.Tc(n.alt_identifier),f.Eb(1),f.Uc(" : ",f.nc(4,2,"lang."+n.reason)," ")}}function es(t,e){if(1&t&&(f.Zb(0,"div",25),f.Zb(1,"p"),f.Sc(2),f.mc(3,"translate"),f.Yb(),f.Zb(4,"ul"),f.Qc(5,ts,5,4,"li",26),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(2),f.Uc(" ",f.nc(3,2,"lang.canNotMakeAction")," : "),f.Eb(3),f.sc("ngForOf",n.resourcesErrors)}}function ns(t,e){if(1&t){var n=f.ac();f.Zb(0,"app-maaarch-tree",27,28),f.hc("afterSelectNode",(function(t){return f.Hc(n),f.lc().selectFolder(t)})),f.Yb()}if(2&t){var i=f.lc();f.sc("childrenRoute","../rest/alfresco/folders/__node/children")("rawData",i.alfrescoFolders)}}var is,as=((is=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.loading=!1,this.alfrescoFolders=[],this.searchFolder=new Lt.h,this.selectedFolder=null,this.selectedFolderName=null,this.resourcesErrors=[],this.noResourceToProcess=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.checkAlfresco();case 3:this.loading=!1,this.getRootFolders(),this.searchFolder.valueChanges.pipe(Object(Ho.a)(300),Object(a.a)((function(t){return Object(i.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedFolder=null,this.selectedFolderName=null,e.t0=0===t.length,!e.t0){e.next=7;break}return e.next=6,this.getRootFolders();case 6:this.refreshTree();case 7:case"end":return e.stop()}}),e,this)})))})),Object(o.a)((function(t){return t.length>2})),Object(Qo.a)((function(t){return e.http.get("../rest/alfresco/autocomplete/folders",{params:{search:t}})})),Object(a.a)((function(t){e.alfrescoFolders=t,e.refreshTree()}))).subscribe();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"checkAlfresco",value:function(){var t=this;return this.resourcesErrors=[],new Promise((function(e,n){t.http.post("../rest/resourcesList/users/"+t.data.userId+"/groups/"+t.data.groupId+"/baskets/"+t.data.basketId+"/actions/"+t.data.action.id+"/checkSendAlfresco",{resources:t.data.resIds}).subscribe((function(n){t.functions.empty(n.fatalError)?t.functions.empty(n.resourcesInformations.error)||(t.resourcesErrors=n.resourcesInformations.error,t.noResourceToProcess=t.resourcesErrors.length===t.data.resIds.length):(t.notify.error(t.translate.instant("lang."+n.reason)),t.dialogRef.close()),e(!0)}),(function(e){t.notify.handleSoftErrors(e),t.dialogRef.close()}))}))}},{key:"refreshTree",value:function(){var t=this,e=this.alfrescoFolders;this.alfrescoFolders=[],setTimeout((function(){t.alfrescoFolders=e}),200)}},{key:"getRootFolders",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/alfresco/rootFolders").pipe(Object(a.a)((function(n){t.alfrescoFolders=n,e(!0)})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(mi.of)(!1)}))).subscribe()}))}},{key:"selectFolder",value:function(t){this.selectedFolder=t.id,this.selectedFolderName=this.getNameWithParents(t.text,t.parent)}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this,e=this.data.resIds.filter((function(e){return-1===t.resourcesErrors.map((function(t){return t.res_id})).indexOf(e)}));this.http.put(this.data.processActionRoute,{resources:e,note:this.noteEditor.getNoteContent(),data:{folderId:this.selectedFolder,folderName:this.selectedFolderName}}).pipe(Object(a.a)((function(e){e||t.dialogRef.close("success"),e&&null!=e.errors&&t.notify.error(e.errors)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(mi.of)(!1)}))).subscribe()}},{key:"isValidAction",value:function(){return null!==this.selectedFolder&&!this.noResourceToProcess}},{key:"getNameWithParents",value:function(t,e){var n=this;return"#"===e||this.maarchTree.getTreeData().forEach((function(i){i.id==e&&(t=i.text+"/"+t,"#"!==i.parent&&(t=n.getNameWithParents(t,i.parent)))})),t}}]),t}()).\u0275fac=function(t){return new(t||is)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a),f.Tb(E.a))},is.\u0275cmp=f.Nb({type:is,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.Oc(Go,!0),f.ad(qo,!0)),2&t&&(f.Cc(n=f.ic())&&(e.noteEditor=n.first),f.Cc(n=f.ic())&&(e.maarchTree=n.first))},decls:33,vars:21,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row",2,"margin","0"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],["class","alert-message alert-message-danger mailList","role","alert",4,"ngIf"],[2,"clear","both"],["appearance","outline","floatLabel","never",1,"smallInput"],["color","primary","matPrefix","",1,"fa","fa-search"],["type","text","id","autoCompleteInput","matInput","",3,"placeholder","formControl"],["autoCompleteInput",""],[3,"childrenRoute","rawData","afterSelectNode",4,"ngIf"],["id","jstreeAlfresco"],[1,"col-md-12",2,"padding-top","10px"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"],["role","alert",1,"alert-message","alert-message-danger","mailList"],[4,"ngFor","ngForOf"],[3,"childrenRoute","rawData","afterSelectNode"],["maarchTree",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Xo,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,$o,3,3,"b",6),f.Qc(10,Jo,2,1,"b",6),f.Qc(11,Ko,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Ub(13,"br"),f.Qc(14,es,6,4,"div",7),f.Zb(15,"div",8),f.Zb(16,"mat-form-field",9),f.Ub(17,"mat-icon",10),f.Ub(18,"input",11,12),f.Yb(),f.Qc(20,ns,2,2,"app-maaarch-tree",13),f.Ub(21,"div",14),f.Yb(),f.Zb(22,"div",15),f.Ub(23,"app-note-editor",16,17),f.Yb(),f.Yb(),f.Yb(),f.Ub(25,"span",18),f.Zb(26,"div",19),f.Zb(27,"button",20),f.hc("click",(function(){return e.onSubmit()})),f.Sc(28),f.mc(29,"translate"),f.Yb(),f.Zb(30,"button",21),f.Sc(31),f.mc(32,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,15,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("ngIf",e.resourcesErrors.length>0),f.Eb(4),f.sc("placeholder","Recherche un dossier")("formControl",e.searchFolder),f.Eb(2),f.sc("ngIf",e.alfrescoFolders.length>0),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading||!e.isValidAction()),f.Eb(1),f.Tc(f.nc(29,17,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(32,19,"lang.cancel")))},directives:[d.i,d.f,g.t,Dt.c,He.a,Dt.i,Rt.b,Lt.c,Lt.t,Lt.i,b.a,d.c,v.b,d.d,y.c,g.s,Wo.a],pipes:[h.d],styles:[".loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:2;overflow:hidden}.smallInput[_ngcontent-%COMP%]{font-size:9px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-flex{display:flex;align-items:center}.smallInput[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:auto}"]}),is),rs=["noteEditor"];function os(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function ss(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function cs(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function ls(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var us,ds=((us=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}},{key:"indexDocumentAndExecuteAction",value:function(){var t=this;this.http.post("../rest/resources",this.data.resource).pipe(Object(a.a)((function(e){t.data.resIds=[e.resId]})),Object(c.a)((function(){return t.http.put(t.data.indexActionRoute,{resource:t.data.resIds[0],note:t.noteEditor.getNote(),data:{type:t.data.resource.registeredMail_type,warranty:t.data.resource.registeredMail_warranty,issuingSiteId:t.data.resource.registeredMail_issuingSite,letter:t.data.resource.registeredMail_letter,recipient:t.data.resource.registeredMail_recipient,reference:t.data.resource.registeredMail_reference,generated:!1}})})),Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||us)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},us.\u0275cmp=f.Nb({type:us,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(rs,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,os,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,ss,3,3,"b",6),f.Qc(10,cs,2,1,"b",6),f.Qc(11,ls,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),us),fs=["noteEditor"];function hs(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function ps(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function ms(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function gs(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var bs,vs=((bs=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}},{key:"indexDocumentAndExecuteAction",value:function(){var t=this;this.http.post("../rest/resources",this.data.resource).pipe(Object(a.a)((function(e){t.data.resIds=[e.resId]})),Object(c.a)((function(){return t.http.put(t.data.indexActionRoute,{resource:t.data.resIds[0],note:t.noteEditor.getNote(),data:{type:t.data.resource.registeredMail_type,warranty:t.data.resource.registeredMail_warranty,issuingSiteId:t.data.resource.registeredMail_issuingSite,letter:t.data.resource.registeredMail_letter,recipient:t.data.resource.registeredMail_recipient,reference:t.data.resource.registeredMail_reference,generated:!0}})})),Object(a.a)((function(e){if(e&&null!=e.errors)t.notify.error(e.errors);else{var n=document.createElement("a");n.href="data:application/pdf;base64,"+e.fileContent,n.setAttribute("download","recommande_"+e.registeredMailNumber.split(" ").join("_")+".pdf"),document.body.appendChild(n),n.click(),t.dialogRef.close(t.data.resIds)}})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||bs)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},bs.\u0275cmp=f.Nb({type:bs,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(fs,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,hs,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,ps,3,3,"b",6),f.Qc(10,ms,2,1,"b",6),f.Qc(11,gs,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),bs),ys=["noteEditor"];function _s(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function ks(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Cs(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function xs(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var ws,Os=((ws=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,0===this.data.resIds.length?this.indexDocumentAndExecuteAction():this.executeAction()}},{key:"indexDocumentAndExecuteAction",value:function(){var t=this;this.http.post("../rest/resources",this.data.resource).pipe(Object(a.a)((function(e){t.data.resIds=[e.resId]})),Object(c.a)((function(){return t.http.put(t.data.indexActionRoute,{resource:t.data.resIds[0],note:t.noteEditor.getNote(),data:{type:t.data.resource.registeredMail_type,warranty:t.data.resource.registeredMail_warranty,issuingSiteId:t.data.resource.registeredMail_issuingSite,letter:t.data.resource.registeredMail_letter,recipient:t.data.resource.registeredMail_recipient,reference:t.data.resource.registeredMail_reference,generated:!1}})})),Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"executeAction",value:function(){var t=this;this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(){t.dialogRef.close(t.data.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||ws)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(d.a))},ws.\u0275cmp=f.Nb({type:ws,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(ys,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,_s,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,ks,3,3,"b",6),f.Qc(10,Cs,2,1,"b",6),f.Qc(11,xs,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),ws),Ss=["noteEditor"];function Es(t,e){1&t&&(f.Zb(0,"div",13),f.Ub(1,"mat-spinner",14),f.Yb())}function Ms(t,e){1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t&&(f.Eb(1),f.Tc(f.nc(2,1,"lang.currentIndexingMail")))}function Is(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Tc(n.data.resource.chrono)}}function Ps(t,e){if(1&t&&(f.Zb(0,"b",15),f.Sc(1),f.mc(2,"translate"),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.Vc("",n.data.resIds.length," ",f.nc(2,2,"lang.elements"),"")}}var Ts,As=((Ts=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.functions=a,this.dialogRef=r,this.data=o,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){this.loading=!0,this.executeAction()}},{key:"executeAction",value:function(){var t=this,e=document.createElement("a");this.http.put(this.data.processActionRoute,{resources:this.data.resIds,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){n&&null!=n.errors?t.notify.error(n.errors):Object.values(n.data).forEach((function(n){var i,a,r,o;t.functions.empty(n)||(e.href="data:application/pdf;base64,"+n,1===t.data.resIds.length?i=t.data.resource.chrono.split(" ").join("_"):((r=(a=new Date).getDate())<10&&(r="0"+r),(o=a.getMonth()+1)<10&&(o="0"+o),i=r+"-"+o+"-"+a.getFullYear()),e.setAttribute("download","recommande_"+i+".pdf"),document.body.appendChild(e),e.click(),t.dialogRef.close(t.data.resIds))}))})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ts)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(E.a),f.Tb(d.h),f.Tb(d.a))},Ts.\u0275cmp=f.Nb({type:Ts,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.Oc(Ss,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:24,vars:17,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["color","primary","class","highlight",4,"ngIf"],[3,"resIds"],["noteEditor",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["color","primary",1,"highlight"]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Zb(3,"div",2),f.Qc(4,Es,2,0,"div",3),f.Zb(5,"div",4),f.Zb(6,"div",5),f.Sc(7),f.mc(8,"translate"),f.Qc(9,Ms,3,3,"b",6),f.Qc(10,Is,2,1,"b",6),f.Qc(11,Ps,3,4,"b",6),f.Sc(12," ? "),f.Yb(),f.Zb(13,"div",5),f.Ub(14,"app-note-editor",7,8),f.Yb(),f.Yb(),f.Yb(),f.Ub(16,"span",9),f.Zb(17,"div",10),f.Zb(18,"button",11),f.hc("click",(function(){return e.onSubmit()})),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Zb(21,"button",12),f.Sc(22),f.mc(23,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(2),f.sc("ngIf",e.loading),f.Eb(3),f.Uc(" ",f.nc(8,11,"lang.makeActionOn")," "),f.Eb(2),f.sc("ngIf",0===e.data.resIds.length),f.Eb(1),f.sc("ngIf",1==e.data.resIds.length),f.Eb(1),f.sc("ngIf",e.data.resIds.length>1),f.Eb(3),f.sc("resIds",e.data.resIds),f.Eb(4),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(20,13,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(23,15,"lang.cancel")))},directives:[d.i,d.f,g.t,b.a,d.c,v.b,d.d,y.c],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}"]}),Ts),Ds=["noteEditor"];function Rs(t,e){1&t&&(f.Zb(0,"div",14),f.Ub(1,"mat-spinner",15),f.Yb())}function Ls(t,e){if(1&t&&(f.Zb(0,"li"),f.Sc(1),f.Yb()),2&t){var n=e.$implicit;f.Eb(1),f.Uc(" ",n," ")}}function Fs(t,e){if(1&t&&(f.Zb(0,"div",16),f.Sc(1),f.mc(2,"translate"),f.Zb(3,"ul"),f.Qc(4,Ls,2,1,"li",17),f.Yb(),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.Uc(" ",f.nc(2,2,"lang.cannotGenerateDepositListForMails")," "),f.Eb(3),f.sc("ngForOf",n.cannotGenerate)}}function js(t,e){if(1&t&&(f.Zb(0,"div",18),f.Ub(1,"app-note-editor",19,20),f.Yb()),2&t){var n=f.lc(2);f.Eb(1),f.sc("resIds",n.data.resIds)}}function Ys(t,e){if(1&t&&(f.Zb(0,"div",7),f.Qc(1,Rs,2,0,"div",8),f.Zb(2,"div",9),f.Zb(3,"div"),f.Zb(4,"div",10),f.Zb(5,"p"),f.Sc(6),f.mc(7,"translate"),f.Yb(),f.Zb(8,"p"),f.Sc(9),f.mc(10,"translate"),f.Yb(),f.Zb(11,"p"),f.Zb(12,"b"),f.Sc(13),f.mc(14,"translate"),f.Yb(),f.Sc(15," : "),f.Ub(16,"span",11),f.Ub(17,"br"),f.Zb(18,"b"),f.Sc(19),f.mc(20,"translate"),f.Yb(),f.Sc(21," : "),f.Ub(22,"span",11),f.Ub(23,"br"),f.Zb(24,"b"),f.Sc(25),f.mc(26,"translate"),f.Yb(),f.Sc(27," : "),f.Ub(28,"span",11),f.Ub(29,"br"),f.Yb(),f.Yb(),f.Qc(30,Fs,5,4,"div",12),f.Yb(),f.Qc(31,js,3,1,"div",13),f.Yb(),f.Yb()),2&t){var n=f.lc();f.Eb(1),f.sc("ngIf",n.loading),f.Eb(5),f.Uc(" ",f.nc(7,11,"lang.registeredMailsIncludedExplication")," "),f.Eb(3),f.Uc(" ",f.nc(10,13,"lang.registeredMailsIncluded")," "),f.Eb(4),f.Tc(f.nc(14,15,"lang.registeredMail_2C")),f.Eb(3),f.sc("innerHTML",n.types["2C"],f.Ic),f.Eb(3),f.Tc(f.nc(20,17,"lang.registeredMail_2D")),f.Eb(3),f.sc("innerHTML",n.types["2D"],f.Ic),f.Eb(3),f.Tc(f.nc(26,19,"lang.registeredMail_RW")),f.Eb(3),f.sc("innerHTML",n.types.RW,f.Ic),f.Eb(2),f.sc("ngIf",0!==n.cannotGenerate.length),f.Eb(1),f.sc("ngIf",0!==n.canGenerate.length)}}var Zs,Ns,Us=((Zs=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.functions=r,this.data=o,this.loading=!1,this.loadingInit=!1,this.types=[],this.canGenerate=[],this.cannotGenerate=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadingInit=!0,this.checkPrintDepositList()}},{key:"checkPrintDepositList",value:function(){var t=this;this.http.post("../rest/resourcesList/users/"+this.data.userId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/actions/"+this.data.action.id+"/checkPrintDepositList",{resources:this.data.resIds}).subscribe((function(e){t.types=e.types,t.types["2C"]=t.functions.empty(t.types["2C"])?t.translate.instant("lang.noneItalic"):t.types["2C"],t.types["2D"]=t.functions.empty(t.types["2D"])?t.translate.instant("lang.noneItalic"):t.types["2D"],t.types.RW=t.functions.empty(t.types.RW)?t.translate.instant("lang.noneItalic"):t.types.RW,t.canGenerate=e.canGenerate,t.cannotGenerate=e.cannotGenerate,t.loadingInit=!1}),(function(e){t.notify.error(e.error.errors),t.dialogRef.close(),t.loadingInit=!1}))}},{key:"onSubmit",value:function(){this.loading=!0,this.data.resIds.length>0&&this.executeAction()}},{key:"executeAction",value:function(){var t=this,e=document.createElement("a");this.http.put(this.data.processActionRoute,{resources:this.canGenerate,note:this.noteEditor.getNote()}).pipe(Object(a.a)((function(n){var i,a,r,o;n&&null!=n.errors&&(t.notify.error(n.errors),console.log(n.errors)),t.functions.empty(n.data.encodedFile)||(e.href="data:application/pdf;base64,"+n.data.encodedFile,a=(i=new Date).getDate(),r=i.getMonth()+1,o=i.getFullYear(),a<10&&(a="0"+a),r<10&&(r="0"+r),i=a+"-"+r+"-"+o,e.setAttribute("download","descriptif_pli_"+i+".pdf"),document.body.appendChild(e),e.click(),t.dialogRef.close(t.canGenerate))})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),Object(mi.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Zs)(f.Tb(h.e),f.Tb(p.b),f.Tb(m.a),f.Tb(d.h),f.Tb(E.a),f.Tb(d.a))},Zs.\u0275cmp=f.Nb({type:Zs,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.ad(Ds,!0),2&t&&f.Cc(n=f.ic())&&(e.noteEditor=n.first)},decls:12,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"],["mat-dialog-content",""],["class","loading","style","display:flex;height:100%;",4,"ngIf"],[1,"row"],["role","alert",1,"alert-message","alert-message-info"],[3,"innerHTML"],["class","alert-message alert-message-danger","role","alert",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"loading",2,"display","flex","height","100%"],[2,"margin","auto"],["role","alert",1,"alert-message","alert-message-danger"],[4,"ngFor","ngForOf"],[1,"col-md-12"],[3,"resIds"],["noteEditor",""]],template:function(t,e){1&t&&(f.Zb(0,"div",0),f.Zb(1,"h1",1),f.Sc(2),f.Yb(),f.Qc(3,Ys,32,21,"div",2),f.Ub(4,"span",3),f.Zb(5,"div",4),f.Zb(6,"button",5),f.hc("click",(function(){return e.onSubmit()})),f.Sc(7),f.mc(8,"translate"),f.Yb(),f.Zb(9,"button",6),f.Sc(10),f.mc(11,"translate"),f.Yb(),f.Yb(),f.Yb()),2&t&&(f.Eb(2),f.Tc(e.data.action.label),f.Eb(1),f.sc("ngIf",!e.loadingInit),f.Eb(3),f.sc("disabled",e.loading||0===e.canGenerate.length),f.Eb(1),f.Tc(f.nc(8,6,"lang.validate")),f.Eb(2),f.sc("disabled",e.loading),f.Eb(1),f.Tc(f.nc(11,8,"lang.cancel")))},directives:[d.i,g.t,d.c,v.b,d.d,d.f,y.c,g.s,b.a],pipes:[h.d],styles:[".highlight[_ngcontent-%COMP%]{font-size:110%}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.acknowledgementList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:12px;max-height:100px;overflow:auto;padding-left:25px;padding-right:5px;padding-bottom:10px;margin-top:10px}.acknowledgementList[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-decoration:underline}.acknowledgementList[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:120%}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px;margin-bottom:10px}.attachLabel[_ngcontent-%COMP%]{color:#135f7f}"]}),Zs),Bs=n("tyNb"),zs=((Ns=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=i,this.notify=a,this.router=r,this.headerService=o,this.functions=s,this.mode="indexing",this.currentResourceLock=null,this.lockMode=!0,this.actionEnded=!1,this.currentAction=null,this.currentUserId=null,this.currentGroupId=null,this.currentBasketId=null,this.currentResIds=[],this.currentResourceInformations=null,this.loading=!1,this.eventAction=new l.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.currentResourceLock&&this.unlockResourceAfterActionModal(this.currentResIds)}},{key:"catchAction",value:function(){return this.eventAction.asObservable()}},{key:"emitAction",value:function(){this.eventAction.next()}},{key:"setLoading",value:function(t){this.loading=t}},{key:"setActionInformations",value:function(t,e,n,i,a){return!(null!==t&&null===t.component||(null!==t&&e>0&&n>0?(this.mode=null===i?"indexing":"process",this.currentAction=t,this.currentUserId=e,this.currentGroupId=n,this.currentBasketId=i,this.currentResIds=null===a?[]:a,this.indexActionRoute="../rest/indexing/groups/".concat(this.currentGroupId,"/actions/").concat(this.currentAction.id),this.processActionRoute="../rest/resourcesList/users/".concat(this.currentUserId,"/groups/").concat(this.currentGroupId,"/baskets/").concat(this.currentBasketId,"/actions/").concat(this.currentAction.id),0):(console.log("Bad informations: "),console.log({action:t},{userId:e},{groupId:n},{basketId:i},{resIds:a}),this.notify.error("Une erreur est survenue"),1)))}},{key:"saveDocument",value:function(t){return this.loading=!0,this.setResourceInformations(t),this.http.post("../rest/resources",this.currentResourceInformations)}},{key:"setResourceInformations",value:function(t){this.currentResourceInformations=t}},{key:"setResourceIds",value:function(t){this.currentResourceInformations.resId=t,this.currentResIds=t}},{key:"launchIndexingAction",value:function(t,e,n,i){if(this.setActionInformations(t,e,n,null,null)){this.setResourceInformations(i),this.loading=!0;try{this[t.component]()}catch(a){console.log(a),console.log(t.component),alert(this.translate.instant("lang.actionNotExist"))}}}},{key:"launchAction",value:function(t,e,n,a,r,o){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.setActionInformations(t,e,n,a,r)){i.next=11;break}if(this.actionEnded=!1,this.loading=!0,this.lockMode=s,this.setResourceInformations(o),!this.lockMode){i.next=10;break}return i.t0=!0,i.next=5,this.canExecuteAction(r);case 5:if(i.t1=i.sent,i.t0!==i.t1){i.next=8;break}if(["viewDoc","documentDetails","signatureBookAction","processDocument"].indexOf(t.component)>-1)this[t.component](t.data);else try{this.lockResource(),this[t.component](t.data)}catch(c){console.log(c),console.log(t),this.unlockResourceAfterActionModal([]),alert(this.translate.instant("lang.actionNotExist"))}case 8:i.next=11;break;case 10:try{this[t.component]()}catch(c){console.log(c),console.log(t),alert(this.translate.instant("lang.actionNotExist"))}case 11:case"end":return i.stop()}}),i,this)})))}},{key:"canExecuteAction",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentUserId,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentGroupId,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentBasketId;return new Promise((function(s){e.http.put("../rest/resourcesList/users/".concat(n,"/groups/").concat(i,"/baskets/").concat(o,"/locked"),{resources:t}).pipe(Object(a.a)((function(n){var i=e.translate.instant("lang.warnLockRes")+" : "+n.lockers.join(", ");n.countLockedResources!=t.length&&(i+=e.translate.instant("lang.warnLockRes2")+"."),n.countLockedResources>0&&alert(n.countLockedResources+" "+i),n.countLockedResources!=t.length?(e.currentResIds=n.resourcesToProcess,s(!0)):s(!1)})),Object(r.a)((function(t){return e.notify.handleErrors(t),Object(u.a)(!1)}))).subscribe()}))}},{key:"hasLockResources",value:function(){return!this.functions.empty(this.currentResourceLock)}},{key:"lockResource",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUserId,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentGroupId,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentBasketId,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentResIds;console.debug("Lock resources : "+o),this.http.put("../rest/resourcesList/users/".concat(e,"/groups/").concat(n,"/baskets/").concat(i,"/lock"),{resources:o}).pipe(Object(a.a)((function(){return console.debug("Cycle lock : ",t.currentResourceLock)})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe(),this.currentResourceLock=setInterval((function(){t.http.put("../rest/resourcesList/users/".concat(e,"/groups/").concat(n,"/baskets/").concat(i,"/lock"),{resources:o}).pipe(Object(a.a)((function(){return console.debug("Cycle lock : ",t.currentResourceLock)})),Object(r.a)((function(e){return 403===e.status&&clearInterval(t.currentResourceLock),t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}),5e4)}},{key:"unlockResource",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentUserId,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentGroupId,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentBasketId,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentResIds;a.length>0&&(console.debug("Unlock resources : "+a),this.http.put("../rest/resourcesList/users/".concat(e,"/groups/").concat(n,"/baskets/").concat(i,"/unlock"),{resources:a}).pipe(Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe())}},{key:"stopRefreshResourceLock",value:function(){null!==this.currentResourceLock&&(console.debug("Cycle lock cancel"),clearInterval(this.currentResourceLock))}},{key:"setDatasActionToSend",value:function(){return{resIds:this.currentResIds,resource:this.currentResourceInformations,action:this.currentAction,userId:this.currentUserId,groupId:this.currentGroupId,basketId:this.currentBasketId,indexActionRoute:this.indexActionRoute,processActionRoute:this.processActionRoute}}},{key:"unlockResourceAfterActionModal",value:function(t){this.lockMode&&(this.stopRefreshResourceLock(),this.functions.empty(t)&&this.unlockResource())}},{key:"endAction",value:function(t){"indexing"===this.mode&&!this.functions.empty(this.currentResourceInformations.followed)&&this.currentResourceInformations.followed&&this.headerService.nbResourcesFollowed++,this.notify.success(this.translate.instant("lang.action")+' : "'+this.currentAction.label+'" '+this.translate.instant("lang.done")),this.actionEnded=!0,this.eventAction.next(t)}},{key:"confirmAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(S,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"closeMailAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Z,{disableClose:!0,width:"500px",panelClass:"maarch-modal",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"closeAndIndexAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(At,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"redirectInitiatorEntityAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(ma,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"closeMailWithAttachmentsOrNotesAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(wa,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"updateAcknowledgementSendDateAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(zt,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"createAcknowledgementReceiptsAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(pe,{panelClass:"maarch-modal",disableClose:!0,width:"600px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"updateDepartureDateAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(ke,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"disabledBasketPersistenceAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Me,{disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"enabledBasketPersistenceAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Le,{disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"resMarkAsReadAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Ve,{disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"viewDoc",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(We,{panelClass:"maarch-modal",data:this.setDatasActionToSend()})}},{key:"sendExternalSignatoryBookAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(ei,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"sendExternalNoteBookAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(hi,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"redirectAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Yi,{panelClass:"maarch-modal",disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"sendShippingAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(ra,{panelClass:"maarch-modal",disableClose:!0,minWidth:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"sendSignatureBookAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Ba,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"continueVisaCircuitAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(rr,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"noConfirmAction",value:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.setDatasActionToSend());0===e.resIds.length?this.http.post("../rest/resources",e.resource).pipe(Object(a.a)((function(t){e.resIds=[t.resId]})),Object(c.a)((function(){return t.http.put(e.indexActionRoute,{resource:e.resIds[0]})})),Object(a.a)((function(){t.endAction(e.resIds)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe():this.http.put(e.processActionRoute,{resources:this.setDatasActionToSend().resIds}).pipe(Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"processDocument",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.router.navigate(["/process/users/".concat(this.currentUserId,"/groups/").concat(this.currentGroupId,"/baskets/").concat(this.currentBasketId,"/resId/").concat(this.currentResIds)])}},{key:"signatureBookAction",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.router.navigate(["/signatureBook/users/".concat(this.currentUserId,"/groups/").concat(this.currentGroupId,"/baskets/").concat(this.currentBasketId,"/resources/").concat(this.currentResIds)])}},{key:"documentDetails",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.router.navigate(["/resources/"+this.currentResIds])}},{key:"rejectVisaBackToPreviousAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(et,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"resetVisaAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(pt,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"interruptVisaAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Ot,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"sendToOpinionCircuitAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(yr,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"sendToParallelOpinion",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(qr,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"continueOpinionCircuitAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Fr,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"giveOpinionParallelAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(lo,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"validateParallelOpinionDiffusionAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Mo,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"reconcileAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Vo,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(){t.stopRefreshResourceLock()})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"sendAlfrescoAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(as,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(t){return"success"===t})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"saveRegisteredMailAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(ds,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"saveAndPrintRegisteredMailAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(vs,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"saveAndIndexRegisteredMailAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Os,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"printRegisteredMailAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(As,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}},{key:"printDepositListAction",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.dialog.open(Us,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:this.setDatasActionToSend()}).afterClosed().pipe(Object(a.a)((function(e){t.unlockResourceAfterActionModal(e)})),Object(o.a)((function(e){return!t.functions.empty(e)})),Object(a.a)((function(e){t.endAction(e)})),Object(s.a)((function(){return t.loading=!1})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(u.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ns)(f.dc(h.e),f.dc(p.b),f.dc(d.b),f.dc(m.a),f.dc(Bs.c),f.dc(uo.a),f.dc(E.a))},Ns.\u0275prov=f.Pb({token:Ns,factory:Ns.\u0275fac}),Ns)},NFeN:function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return D})),n.d(e,"c",(function(){return w}));var i=n("fXoL"),a=n("FKr1"),r=n("8LU1"),o=n("ofXK"),s=n("LRne"),c=n("z6cu"),l=n("cp0P"),u=n("quSY"),d=n("vkgz"),f=n("lJxs"),h=n("JIr8"),p=n("nYR2"),m=n("w1tV"),g=n("IzEk"),b=n("tk/3"),v=n("jhN1"),y=["*"];function _(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function k(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function C(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var x=function t(e,n){_classCallCheck(this,t),this.options=n,e.nodeName?this.svgElement=e:this.url=e},w=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return _createClass(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,i){return this._addSvgIconConfig(t,e,new x(n,i))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,a){var r=this._sanitizer.sanitize(i.L.HTML,n);if(!r)throw C(n);var o=this._createSvgElementForSingleIcon(r,a);return this._addSvgIconConfig(t,e,new x(o,a))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new x(e,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var a=this._sanitizer.sanitize(i.L.HTML,e);if(!a)throw C(e);var r=this._svgElementFromString(a);return this._addSvgIconSetConfig(t,new x(r,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(i.L.RESOURCE_URL,t);if(!n)throw k(t);var a=this._cachedIconsByUrl.get(n);return a?Object(s.a)(O(a)):this._loadSvgIconFromConfig(new x(t)).pipe(Object(d.a)((function(t){return e._cachedIconsByUrl.set(n,t)})),Object(f.a)((function(t){return O(t)})))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=S(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);var a=this._iconSetConfigs.get(e);return a?this._getSvgFromIconSetConfigs(t,a):Object(c.a)(_(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgElement?Object(s.a)(O(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(d.a)((function(e){return t.svgElement=e})),Object(f.a)((function(t){return O(t)})))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,a=this._extractIconWithNameFromAnySet(t,e);if(a)return Object(s.a)(a);var r=e.filter((function(t){return!t.svgElement})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(Object(h.a)((function(e){var a="Loading icon set URL: ".concat(n._sanitizer.sanitize(i.L.RESOURCE_URL,t.url)," failed: ").concat(e.message);return n._errorHandler?n._errorHandler.handleError(new Error(a)):console.error(a),Object(s.a)(null)})))}));return Object(l.a)(r).pipe(Object(f.a)((function(){var i=n._extractIconWithNameFromAnySet(t,e);if(!i)throw _(t);return i})))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.svgElement){var a=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(a)return a}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchUrl(t.url).pipe(Object(f.a)((function(n){return e._createSvgElementForSingleIcon(n,t.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(t){var e=this;return t.svgElement?Object(s.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(f.a)((function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var i=t.querySelector('[id="'.concat(e,'"]'));if(!i)return null;var a=i.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,n);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),n);var r=this._svgElementFromString("<svg></svg>");return r.appendChild(a),this._setSvgAttributes(r,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,i=0;i<n.length;i++){var a=n[i],r=a.name,o=a.value;"id"!==r&&e.setAttribute(r,o)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchUrl",value:function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'.concat(t,'".'));var n=this._sanitizer.sanitize(i.L.RESOURCE_URL,t);if(!n)throw k(t);var a=this._inProgressUrlFetches.get(n);if(a)return a;var r=this._httpClient.get(n,{responseType:"text"}).pipe(Object(p.a)((function(){return e._inProgressUrlFetches.delete(n)})),Object(m.a)());return this._inProgressUrlFetches.set(n,r),r}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(S(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(b.b,8),i.dc(v.b),i.dc(o.e,8),i.dc(i.n,8))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(b.b,8),Object(i.dc)(v.b),Object(i.dc)(o.e,8),Object(i.dc)(i.n,8))},token:t,providedIn:"root"}),t}();function O(t){return t.cloneNode(!0)}function S(t,e){return t+":"+e}var E=Object(a.z)((function t(e){_classCallCheck(this,t),this._elementRef=e})),M=new i.r("mat-icon-location",{providedIn:"root",factory:function(){var t=Object(i.X)(o.e),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),I=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],P=I.map((function(t){return"[".concat(t,"]")})).join(", "),T=/^url\(['"]?#(.*?)['"]?\)$/,A=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,t))._iconRegistry=i,s._location=r,s._errorHandler=o,s._inline=!1,s._currentIconFetch=u.a.EMPTY,a||t.nativeElement.setAttribute("aria-hidden","true"),s}return _createClass(n,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var e=this,n=t.svgIcon;if(n)if(this._currentIconFetch.unsubscribe(),this.svgIcon){var i=_slicedToArray(this._splitIconName(this.svgIcon),2),a=i[0],r=i[1];this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,a).pipe(Object(g.a)(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon ".concat(a,":").concat(r,"! ").concat(t.message);e._errorHandler?e._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i)}this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(P),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(t){I.forEach((function(i){var a=e[t],r=a.getAttribute(i),o=r?r.match(T):null;if(o){var s=n.get(a);s||(s=[],n.set(a,s)),s.push({name:i,value:o[1]})}}))},a=0;a<e.length;a++)i(a)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=Object(r.c)(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}}]),n}(E);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(w),i.ec("aria-hidden"),i.Tb(M,8),i.Tb(i.n,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&i.Jb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[i.Bb,i.Cb],ngContentSelectors:y,decls:1,vars:0,template:function(t,e){1&t&&(i.rc(),i.qc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t}(),D=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.j],a.j]}),t}()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return i}))},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),a=n("Cfvw"),r=n("EY2u");function o(t){return new i.a((function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(a.a)(n):Object(r.b)()).subscribe(e)}))}},Nqwj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL"),a=n("sYmb"),r=n("tk/3"),o=n("rH+9"),s=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.http=n,this.functions=i}return _createClass(t,[{key:"getFillingColor",value:function(t){return"first"===t?"#E81C2B":"second"===t?"#F4891E":"third"===t?"#0AA34F":""}},{key:"formatCivilityObject",value:function(t){return this.empty(t)?{label:"",abbreviation:""}:t}},{key:"formatFillingObject",value:function(t){return this.empty(t)?{rate:"",color:""}:{rate:t.rate,color:this.getFillingColor(t.thresholdLevel)}}},{key:"empty",value:function(t){return null===t||""===t||void 0===t}},{key:"formatContact",value:function(t){if(this.functions.empty(t.firstname)&&this.functions.empty(t.lastname))return t.company;var e=[];return e.push(t.firstname),e.push(t.lastname),this.functions.empty(t.company)||e.push("("+t.company+")"),e.filter((function(t){return""!==t})).join(" ")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(a.e),i.dc(r.b),i.dc(o.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}()},OAkW:function(t,e,n){"use strict";e.subscribeToArray=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},OGgV:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("0IaG"),a=n("vkgz"),r=n("nYR2"),o=n("JIr8"),s=n("LRne"),c=n("fXoL"),l=n("sYmb"),u=n("tk/3"),d=n("AXEc"),f=n("kmnG"),h=n("qFsG"),p=n("3Pt+"),m=n("bTqV"),g=function(){var t=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.data=a,this.dialogRef=r,this.loading=!1,this.folderName=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.folderName=void 0!==this.data.folderName?this.data.folderName:""}},{key:"onSubmit",value:function(){var t=this;this.loading=!0,this.http.post("../rest/folders",{label:this.folderName}).pipe(Object(a.a)((function(e){t.notify.success(t.translate.instant("lang.folderAdded")),t.dialogRef.close(e.folder)})),Object(r.a)((function(){return t.loading=!1})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(s.a)(!1)}))).subscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Tb(l.e),c.Tb(u.b),c.Tb(d.a),c.Tb(i.a),c.Tb(i.h))},t.\u0275cmp=c.Nb({type:t,selectors:[["ng-component"]],decls:15,vars:13,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["type","text","matInput","",3,"ngModel","placeholder","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(c.Zb(0,"div",0),c.Zb(1,"h1",1),c.Sc(2),c.mc(3,"translate"),c.Yb(),c.Zb(4,"div",2),c.Zb(5,"mat-form-field",3),c.Zb(6,"input",4),c.hc("ngModelChange",(function(t){return e.folderName=t})),c.Yb(),c.Yb(),c.Yb(),c.Ub(7,"span",5),c.Zb(8,"div",6),c.Zb(9,"button",7),c.hc("click",(function(){return e.onSubmit()})),c.Sc(10),c.mc(11,"translate"),c.Yb(),c.Zb(12,"button",8),c.Sc(13),c.mc(14,"translate"),c.Yb(),c.Yb(),c.Yb()),2&t&&(c.Eb(2),c.Tc(c.nc(3,7,"lang.addFolder")),c.Eb(4),c.sc("ngModel",e.folderName)("placeholder",e.translate.instant("lang.folderName")),c.Eb(3),c.sc("disabled",e.loading||""===e.folderName),c.Eb(1),c.Tc(c.nc(11,9,"lang.validate")),c.Eb(2),c.sc("disabled",e.loading),c.Eb(1),c.Tc(c.nc(14,11,"lang.cancel")))},directives:[i.i,i.f,f.c,h.b,p.c,p.t,p.w,i.c,m.b,i.d],pipes:[l.d],styles:[""]}),t}()},OigG:function(t,e,n){"use strict";n.d(e,"a",(function(){return G}));var i=n("mrSG"),a=n("fXoL"),r=n("Nqwj"),o=n("vkgz"),s=n("nYR2"),c=n("JIr8"),l=n("I65S"),u=n("sYmb"),d=n("tk/3"),f=n("AXEc"),h=n("rH+9"),p=n("ofXK"),m=n("Xa2L"),g=n("Wp6s"),b=n("MutI"),v=n("bTqV"),y=n("NFeN"),_=n("FKr1"),k=n("7EHt");function C(t,e){1&t&&(a.Xb(0),a.Zb(1,"div",2),a.Ub(2,"mat-spinner"),a.Yb(),a.Wb())}function x(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",17),a.hc("click",(function(){a.Hc(n);var t=a.lc(3);return t.toggleContact(t.contact)})),a.Zb(1,"span"),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Ub(4,"br"),a.Zb(5,"small",18),a.Sc(6),a.mc(7,"translate"),a.Yb(),a.Yb()}if(2&t){var i=a.lc(3);a.Eb(2),a.Tc(a.nc(3,3,"lang.selectDuplicatedContact")),a.Eb(4),a.Vc("",i.contact.resourcesCount," ",a.nc(7,5,"lang.associatedElements"),"")}}function w(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",19),a.hc("click",(function(){a.Hc(n);var t=a.lc(3);return t.toggleContact(t.contact)})),a.Ub(1,"i",20),a.Sc(2),a.mc(3,"translate"),a.Yb()}2&t&&(a.Eb(2),a.Uc(" ",a.nc(3,1,"lang.selectedContact"),""))}function O(t,e){if(1&t&&(a.Zb(0,"div",14),a.Qc(1,x,8,7,"button",15),a.Qc(2,w,4,3,"button",16),a.Yb()),2&t){var n=a.lc(2);a.Jb("selected",n.contact.selected),a.Eb(1),a.sc("ngIf",!n.contact.selected),a.Eb(1),a.sc("ngIf",n.contact.selected)}}function S(t,e){1&t&&(a.Zb(0,"div",21),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Tc(a.nc(2,1,"lang.contactDisabled")))}function E(t,e){if(1&t&&(a.Zb(0,"sup",24),a.Sc(1),a.Yb()),2&t){var n=a.lc(3);a.Jb("newData",n.isNewValue("civility")),a.Eb(1),a.Uc("",n.contact.civility.abbreviation,"\xa0")}}function M(t,e){if(1&t&&(a.Zb(0,"mat-card-title",22),a.Qc(1,E,2,3,"sup",23),a.Sc(2),a.Yb()),2&t){var n=a.lc(2);a.sc("title",n.contact.civility.label+" "+n.contact.firstname+" "+n.contact.lastname),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.civility)),a.Eb(1),a.Vc("",n.contact.firstname," ",n.contact.lastname," ")}}function I(t,e){if(1&t&&(a.Zb(0,"mat-card-title",22),a.Sc(1),a.Yb()),2&t){var n=a.lc(2);a.Jb("newData",n.isNewValue("company")),a.sc("title",n.contact.company),a.Eb(1),a.Uc(" ",n.contact.company,"")}}function P(t,e){if(1&t&&(a.Zb(0,"mat-card-subtitle",22),a.Sc(1),a.Yb()),2&t){var n=a.lc(2);a.Jb("newData",n.isNewValue("function")),a.sc("title",n.contact.function),a.Eb(1),a.Uc(" ",n.contact.function,"\xa0 ")}}function T(t,e){if(1&t&&a.Ub(0,"i",25),2&t){var n=a.lc(2);a.Pc("color",n.contact.fillingRate.color),a.sc("title",n.translate.instant("lang.contactsFillingRate"))}}function A(t,e){if(1&t&&(a.Zb(0,"mat-list-item",26),a.Ub(1,"mat-icon",27),a.Zb(2,"p",28),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("title",n.translate.instant("lang.contactsParameters_company")),a.Eb(1),a.Jb("newData",n.isNewValue("company")),a.Eb(1),a.Uc(" ",n.contact.company," ")}}function D(t,e){if(1&t&&(a.Zb(0,"mat-list-item",26),a.Ub(1,"mat-icon",29),a.Zb(2,"p",28),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("title",n.translate.instant("lang.contactsParameters_department")),a.Eb(1),a.Jb("newData",n.isNewValue("department")),a.Eb(1),a.Uc(" ",n.contact.department," ")}}function R(t,e){if(1&t&&(a.Zb(0,"mat-list-item",26),a.Ub(1,"mat-icon",30),a.Zb(2,"a",31),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("title",n.translate.instant("lang.email")),a.Eb(1),a.Jb("newData",n.isNewValue("email")),a.uc("href","mailto:",n.contact.email,"",a.Kc),a.Eb(1),a.Uc(" ",n.contact.email," ")}}function L(t,e){if(1&t&&(a.Zb(0,"mat-list-item",26),a.Ub(1,"mat-icon",32),a.Zb(2,"p",28),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("title",n.translate.instant("lang.phoneNumber")),a.Eb(1),a.Jb("newData",n.isNewValue("phone")),a.Eb(1),a.Uc(" ",n.contact.phone," ")}}function F(t,e){if(1&t&&(a.Zb(0,"p",28),a.Sc(1),a.Yb()),2&t){var n=a.lc(3);a.Jb("newData",n.isNewValue("addressAdditional1")),a.Eb(1),a.Uc(" ",n.contact.addressAdditional1,"")}}function j(t,e){if(1&t&&(a.Zb(0,"p",28),a.Zb(1,"span"),a.Sc(2),a.Yb(),a.Sc(3,"\xa0"),a.Zb(4,"span"),a.Sc(5),a.Yb(),a.Yb()),2&t){var n=a.lc(3);a.Eb(1),a.Jb("newData",n.isNewValue("addressNumber")),a.Eb(1),a.Tc(n.contact.addressNumber),a.Eb(2),a.Jb("newData",n.isNewValue("addressStreet")),a.Eb(1),a.Tc(n.contact.addressStreet)}}function Y(t,e){if(1&t&&(a.Zb(0,"p",28),a.Sc(1),a.Yb()),2&t){var n=a.lc(3);a.Jb("newData",n.isNewValue("addressAdditional2")),a.Eb(1),a.Uc("",n.contact.addressAdditional2," ")}}function Z(t,e){if(1&t&&(a.Zb(0,"p",28),a.Sc(1),a.Yb()),2&t){var n=a.lc(3);a.Eb(1),a.Vc(" ",n.contact.addressPostcode," ",n.contact.addressTown," ")}}function N(t,e){if(1&t&&(a.Zb(0,"p",28),a.Sc(1),a.Yb()),2&t){var n=a.lc(3);a.Jb("newData",n.isNewValue("addressCountry")),a.Eb(1),a.Uc(" ",n.contact.addressCountry," ")}}function U(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-list-item",33),a.hc("click",(function(){a.Hc(n);var t=a.lc(2);return t.goTo(t.contact)})),a.Ub(1,"mat-icon",34),a.Qc(2,F,2,3,"p",35),a.Qc(3,j,6,6,"p",36),a.Qc(4,Y,2,3,"p",35),a.Qc(5,Z,2,2,"p",36),a.Qc(6,N,2,3,"p",35),a.Yb()}if(2&t){var i=a.lc(2);a.sc("title",i.translate.instant("lang.address")),a.Eb(2),a.sc("ngIf",!i.functionsService.empty(i.contact.addressAdditional1)),a.Eb(1),a.sc("ngIf",!i.functionsService.empty(i.contact.addressNumber)||!i.functionsService.empty(i.contact.addressStreet)),a.Eb(1),a.sc("ngIf",!i.functionsService.empty(i.contact.addressAdditional2)),a.Eb(1),a.sc("ngIf",!i.functionsService.empty(i.contact.addressPostcode)||!i.functionsService.empty(i.contact.addressTown)),a.Eb(1),a.sc("ngIf",!i.functionsService.empty(i.contact.addressCountry))}}function B(t,e){if(1&t&&(a.Zb(0,"mat-list-item",40),a.Ub(1,"mat-icon",41),a.Zb(2,"p",42),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc(3);a.sc("title",n.translate.instant("lang.communicationMean")),a.Eb(2),a.Jb("newData",n.isNewValue("communicationMeans")),a.sc("title",n.contact.communicationMeans),a.Eb(1),a.Uc(" ",n.contact.communicationMeans," ")}}function z(t,e){if(1&t&&(a.Zb(0,"mat-list-item",40),a.Ub(1,"mat-icon",41),a.Zb(2,"p",42),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc(3);a.sc("title",n.translate.instant("lang.IdMaarch2Maarch")),a.Eb(2),a.sc("title",n.contact.externalId.m2m),a.Eb(1),a.Uc(" ",n.contact.externalId.m2m," ")}}function V(t,e){if(1&t&&(a.Zb(0,"mat-list-item",26),a.Ub(1,"mat-icon",43),a.Zb(2,"p",42),a.Sc(3),a.Yb(),a.Yb()),2&t){var n=a.lc().$implicit,i=a.lc(3);a.Eb(1),a.sc("title",n.value.label),a.Eb(1),a.Jb("newData",i.isNewValue(n)),a.sc("title",n.value.value),a.Eb(1),a.Uc(" ",n.value.value," ")}}function H(t,e){if(1&t&&(a.Xb(0),a.Qc(1,V,4,5,"mat-list-item",11),a.Wb()),2&t){var n=e.$implicit;a.Eb(1),a.sc("ngIf",null!==n.value.value)}}function Q(t,e){if(1&t&&(a.Zb(0,"mat-expansion-panel",37),a.Zb(1,"mat-expansion-panel-header"),a.Zb(2,"mat-panel-title"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Yb(),a.Zb(5,"mat-list"),a.Qc(6,B,4,5,"mat-list-item",38),a.Qc(7,z,4,3,"mat-list-item",38),a.Qc(8,H,2,1,"ng-container",39),a.mc(9,"keyvalue"),a.Yb(),a.Yb()),2&t){var n=a.lc(2);a.sc("expanded",n.selectable),a.Eb(3),a.Uc(" ",a.nc(4,5,"lang.othersInfos")," "),a.Eb(3),a.sc("ngIf",!n.functionsService.empty(n.contact.communicationMeans)),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.externalId)&&!n.functionsService.empty(n.contact.externalId.m2m)),a.Eb(1),a.sc("ngForOf",a.nc(9,7,n.contact.customFields))}}function W(t,e){if(1&t&&(a.Zb(0,"mat-card",3),a.Qc(1,O,3,4,"div",4),a.Qc(2,S,3,3,"div",5),a.Zb(3,"mat-card-header"),a.Ub(4,"div",6),a.Qc(5,M,3,4,"mat-card-title",7),a.Qc(6,I,2,4,"mat-card-title",8),a.Qc(7,P,2,4,"mat-card-subtitle",8),a.Qc(8,T,1,3,"i",9),a.Yb(),a.Zb(9,"mat-card-content"),a.Zb(10,"mat-list"),a.Zb(11,"h3",10),a.Sc(12),a.mc(13,"translate"),a.Yb(),a.Qc(14,A,4,4,"mat-list-item",11),a.Qc(15,D,4,4,"mat-list-item",11),a.Qc(16,R,4,5,"mat-list-item",11),a.Qc(17,L,4,4,"mat-list-item",11),a.Qc(18,U,7,6,"mat-list-item",12),a.Yb(),a.Qc(19,Q,10,9,"mat-expansion-panel",13),a.Yb(),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.sc("ngIf",n.selectable),a.Eb(1),a.sc("ngIf",!n.contact.enabled),a.Eb(2),a.Jb("fa-address-card","contact"===n.contact.type)("fa-users","contactGroup"===n.contact.type)("fa-sitemap","entity"===n.contact.type)("fa-user","user"===n.contact.type),a.sc("title",n.translate.instant("lang.contact_"+n.contact.type)),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.firstname)||!n.functionsService.empty(n.contact.lastname)),a.Eb(1),a.sc("ngIf",n.functionsService.empty(n.contact.firstname)&&n.functionsService.empty(n.contact.lastname)),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.function)),a.Eb(1),a.sc("ngIf","contact"===n.contact.type&&!n.functionsService.empty(n.contact.fillingRate.color)),a.Eb(4),a.Tc(a.nc(13,22,"lang.contactDetails")),a.Eb(2),a.sc("ngIf",!(n.functionsService.empty(n.contact.firstname)&&n.functionsService.empty(n.contact.lastname)||n.functionsService.empty(n.contact.company))),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.department)),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.email)),a.Eb(1),a.sc("ngIf",!n.functionsService.empty(n.contact.phone)),a.Eb(1),a.sc("ngIf",!(n.functionsService.empty(n.contact.addressNumber)&&n.functionsService.empty(n.contact.addressStreet)&&n.functionsService.empty(n.contact.addressAdditional2)&&n.functionsService.empty(n.contact.addressPostcode)&&n.functionsService.empty(n.contact.addressTown)&&n.functionsService.empty(n.contact.addressCountry))),a.Eb(1),a.sc("ngIf",!n.emptyOtherInfo(n.contact))}}var G=function(){var t=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.contactService=r,this.functionsService=o,this.contact={},this.selectable=!1,this.afterSelectedEvent=new a.o,this.afterDeselectedEvent=new a.o,this.loading=!0,this.contactClone={},this.customFields=[]}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCustomFields();case 2:2===Object.keys(this.contact).length?this.loadContact(this.contact.id,this.contact.type):Object.keys(this.contact).length>2&&(this.contactClone=JSON.parse(JSON.stringify(this.contact)),this.loading=!1);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getCustomFields",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/contactsCustomFields").pipe(Object(o.a)((function(n){t.customFields=n.customFields.map((function(t){return{id:t.id,label:t.label}})),e(!0)}))).subscribe()}))}},{key:"loadContact",value:function(t,e){var n=this;"contact"===e?this.http.get("../rest/contacts/"+t+(this.selectable?"?resourcesCount=true":"")).pipe(Object(o.a)((function(t){n.contact=Object.assign(Object.assign({},t),{civility:n.contactService.formatCivilityObject(t.civility),fillingRate:n.contactService.formatFillingObject(t.fillingRate),customFields:n.functionsService.empty(t.customFields)?[]:n.formatCustomField(t.customFields),type:"contact"}),n.contactClone=JSON.parse(JSON.stringify(n.contact))})),Object(s.a)((function(){return n.loading=!1})),Object(c.a)((function(t){return n.notify.handleErrors(t),Object(l.of)(!1)}))).subscribe():"user"===e?this.http.get("../rest/users/"+t).pipe(Object(o.a)((function(t){n.contact={type:"user",civility:n.contactService.formatCivilityObject(null),fillingRate:n.contactService.formatFillingObject(null),customFields:[],firstname:t.firstname,lastname:t.lastname,enabled:t.enabled},n.contactClone=JSON.parse(JSON.stringify(n.contact))})),Object(s.a)((function(){return n.loading=!1})),Object(c.a)((function(t){return n.notify.handleErrors(t),Object(l.of)(!1)}))).subscribe():"entity"===e&&this.http.get("../rest/entities/"+t).pipe(Object(o.a)((function(t){n.contact={type:"entity",civility:n.contactService.formatCivilityObject(null),fillingRate:n.contactService.formatFillingObject(null),customFields:[],lastname:t.short_label,enabled:"Y"===t.enabled},n.contactClone=JSON.parse(JSON.stringify(n.contact))})),Object(s.a)((function(){return n.loading=!1})),Object(c.a)((function(t){return n.notify.error(t.error.errors),Object(l.of)(!1)}))).subscribe()}},{key:"formatCustomField",value:function(t){var e=this,n=[];return Object.keys(t).forEach((function(i){n.push({label:e.customFields.filter((function(t){return t.id==i})).length>0?e.customFields.filter((function(t){return t.id==i}))[0].label:i,value:t[i]})})),n}},{key:"goTo",value:function(t){window.open("https://www.google.com/maps/search/".concat(t.addressNumber,"+").concat(t.addressStreet,",+").concat(t.addressPostcode,"+").concat(t.addressTown,",+").concat(t.addressCountry),"_blank")}},{key:"emptyOtherInfo",value:function(t){return!!("contact"!==t.type||this.functionsService.empty(t.communicationMeans)&&this.functionsService.empty(t.customFields))}},{key:"toggleContact",value:function(t){t.selected=!t.selected,t.selected?this.afterSelectedEvent.emit(t):this.afterDeselectedEvent.emit(t)}},{key:"getContactInfo",value:function(){return this.contact}},{key:"resetContact",value:function(){this.contact=JSON.parse(JSON.stringify(this.contactClone))}},{key:"setContactInfo",value:function(t,e){this.functionsService.empty(e)||("customFields"===t?this.contact[t].push(e):this.contact[t]=e)}},{key:"isNewValue",value:function(t){return"object"==typeof t&&"civility"!==t?0===this.contactClone.customFields.filter((function(e){return e.label===t.value.label})).length:"civility"===t?JSON.stringify(this.contact[t])!==JSON.stringify(this.contactClone[t]):this.contact[t]!==this.contactClone[t]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(u.e),a.Tb(d.b),a.Tb(f.a),a.Tb(r.a),a.Tb(h.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-contact-detail"]],inputs:{contact:"contact",selectable:"selectable"},outputs:{afterSelectedEvent:"afterSelectedEvent",afterDeselectedEvent:"afterDeselectedEvent"},features:[a.Db([r.a])],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],[1,"contact-card"],["class","selectable",3,"selected",4,"ngIf"],["class","disabledContact",4,"ngIf"],["mat-card-avatar","",1,"contact-header-image","fa",3,"title"],[3,"title",4,"ngIf"],[3,"newData","title",4,"ngIf"],["class","contact-filling fa fa-circle",3,"color","title",4,"ngIf"],["mat-subheader",""],["class","contact-item",4,"ngIf"],["class","contact-address",3,"title","click",4,"ngIf"],[3,"expanded",4,"ngIf"],[1,"selectable"],["style","line-height: 15px;padding: 5px;","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["style","line-height: 15px;padding: 10px;","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",2,"line-height","15px","padding","5px",3,"click"],[2,"font-size","80%"],["mat-raised-button","","color","primary",2,"line-height","15px","padding","10px",3,"click"],[1,"far","fa-check-circle"],[1,"disabledContact"],[3,"title"],["style","color: #666;",3,"newData",4,"ngIf"],[2,"color","#666"],[1,"contact-filling","fa","fa-circle",3,"title"],[1,"contact-item"],["mat-list-icon","",1,"contact-group","far","fa-building",3,"title"],["mat-line","",1,"contact-content"],["mat-list-icon","",1,"contact-group","fa","fa-sitemap",3,"title"],["mat-list-icon","",1,"contact-group","far","fa-envelope",3,"title"],["matLine","",1,"contact-content",3,"href"],["mat-list-icon","",1,"contact-group","fas","fa-phone",3,"title"],[1,"contact-address",3,"title","click"],["mat-list-icon","",1,"contact-group","fas","fa-map-marker-alt"],["mat-line","","class","contact-content",3,"newData",4,"ngIf"],["mat-line","","class","contact-content",4,"ngIf"],[3,"expanded"],["class","contact-item",3,"title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"contact-item",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-hashtag"],["mat-line","",1,"contact-content",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-hashtag",3,"title"]],template:function(t,e){if(1&t&&(a.Qc(0,C,3,0,"ng-container",0),a.Qc(1,W,20,24,"ng-template",null,1,a.Rc)),2&t){var n=a.Dc(2);a.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[p.t,m.c,g.a,g.f,g.c,g.d,b.a,b.g,v.b,g.m,g.l,b.d,y.a,b.c,_.k,k.c,k.g,k.h,p.s],pipes:[u.d,p.l],styles:[".contact-list-container[_ngcontent-%COMP%]{padding:10px;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:10px}.contact-list-container-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.contact-list-container-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.contact-card[_ngcontent-%COMP%]{padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12);height:100%}.contact-card[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding-left:0;padding-right:0}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px 10px 5px}.mat-card-title[_ngcontent-%COMP%]{padding-right:15px}.contact-item[_ngcontent-%COMP%]{height:35px!important}.contact-header-image[_ngcontent-%COMP%]{background:#135f7f;display:flex;align-items:center;justify-content:center;font-size:18px;color:#fff}.contact-header-image[_ngcontent-%COMP%]    .mat-checkbox-layout{margin:0}.contact-header-image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-checkbox-checked) .mat-checkbox-frame{border-color:#e6dfdf!important}.contact-group[_ngcontent-%COMP%]{color:#135f7f;font-size:16px!important;display:flex;align-items:center;justify-content:center}.contact-content[_ngcontent-%COMP%]{font-size:13px!important}.contact-address[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7}.contact-address[_ngcontent-%COMP%]:hover   .contact-content[_ngcontent-%COMP%]{text-decoration:underline}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:14px;color:#666}.contact-filling[_ngcontent-%COMP%]{position:absolute;right:20px}.loading[_ngcontent-%COMP%]{display:flex;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden;justify-content:center;align-items:center}.newData[_ngcontent-%COMP%]{color:#f99830!important}.selectable[_ngcontent-%COMP%]{z-index:1;background:rgba(0,0,0,.2);position:absolute;align-items:center;justify-content:center;display:flex;width:100%;height:100%;opacity:0;flex-direction:column;transition:opacity .2s}.contact-card[_ngcontent-%COMP%]:hover   .selectable[_ngcontent-%COMP%]{opacity:1;transition:opacity .2s}.selected[_ngcontent-%COMP%]{opacity:1!important}.disabledContact[_ngcontent-%COMP%]{font-size:20px;color:red;text-align:center;opacity:.2;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%) rotate(-30deg);white-space:pre;font-weight:700}"]}),t}()},PGLw:function(t,e,n){"use strict";n.d(e,"a",(function(){return X}));var i,a=n("fXoL"),r=n("M9IT"),o=n("Dh3D"),s=n("+0xr"),c=n("vkgz"),l=n("nYR2"),u=n("JIr8"),d=n("pLZG"),f=n("XqQ8"),h=n("2c88"),p=n("0IaG"),m=n("LRne"),g=n("sYmb"),b=n("tk/3"),v=n("AXEc"),y=n("bTqV"),_=n("NFeN"),k=n("3nLB"),C=n("fp7N"),x=["appSearchAdvList"],w=function(){return["resourceField","contactField"]},O=function(t){return[t]},S=((i=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.data=a,this.dialogRef=r,this.searchUrl=""}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"launchSearch",value:function(t){this.searchUrl=t,this.appSearchAdvList.refreshDao(t)}},{key:"linkResources",value:function(){var t=this,e=this.appSearchAdvList.getSelectedRessources().filter((function(e){return e!==t.data.resId}));this.http.post("../rest/resources/".concat(this.data.resId,"/linkedResources"),{linkedResources:e}).pipe(Object(c.a)((function(){t.dialogRef.close("success")})),Object(u.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||i)(a.Tb(g.e),a.Tb(b.b),a.Tb(v.a),a.Tb(p.a),a.Tb(p.h))},i.\u0275cmp=a.Nb({type:i,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&a.ad(x,!0),2&t&&a.Cc(n=a.ic())&&(e.appSearchAdvList=n.first)},decls:16,vars:14,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1",3,"title"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[3,"defaultCriteria","searchUrlGenerated"],[3,"excludeRes"],["appSearchAdvList",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(a.Zb(0,"div",0),a.Zb(1,"h1",1),a.Zb(2,"span",2),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Zb(5,"button",3),a.hc("click",(function(){return e.dialogRef.close()})),a.Ub(6,"mat-icon",4),a.Yb(),a.Yb(),a.Zb(7,"mat-dialog-content"),a.Zb(8,"app-criteria-tool",5),a.hc("searchUrlGenerated",(function(t){return e.launchSearch(t)})),a.Yb(),a.Ub(9,"search-adv-list",6,7),a.Yb(),a.Ub(11,"span",8),a.Zb(12,"div",9),a.Zb(13,"button",10),a.hc("click",(function(){return e.linkResources()})),a.Sc(14),a.mc(15,"translate"),a.Yb(),a.Yb(),a.Yb()),2&t){var n=a.Dc(10);a.Eb(2),a.sc("title",e.translate.instant("lang.linkResource")),a.Eb(1),a.Uc(" ",a.nc(4,7,"lang.linkResource")," "),a.Eb(2),a.sc("title",e.translate.instant("lang.close")),a.Eb(3),a.sc("defaultCriteria",a.yc(11,w)),a.Eb(1),a.sc("excludeRes",a.zc(12,O,e.data.resId)),a.Eb(4),a.sc("disabled",0===n.getSelectedRessources().length),a.Eb(1),a.Tc(a.nc(15,9,"lang.linkSelectedResources"))}},directives:[p.i,y.b,_.a,p.f,k.a,C.a,p.c],pipes:[g.d],styles:[""]}),i),E=n("LYlH"),M=n("I65S"),I=n("A6w4"),P=n("rH+9"),T=n("eiH7"),A=n("ofXK"),D=n("Xa2L"),R=n("Wp6s"),L=n("tyNb"),F=n("wQTr"),j=n("8IW6"),Y=n("aEDk"),Z=n("ZI/H");function N(t,e){1&t&&(a.Xb(0),a.Zb(1,"div",2),a.Ub(2,"mat-spinner"),a.Yb(),a.Wb())}function U(t,e){if(1&t&&(a.Zb(0,"span",35),a.Ub(1,"i",36),a.mc(2,"translate"),a.Sc(3," \xa0 "),a.Zb(4,"span",19),a.Sc(5),a.Yb(),a.Yb()),2&t){var n=a.lc().$implicit,i=a.lc(2);a.Eb(1),a.tc("title",a.nc(2,3,"lang.visaWorkflow")),a.Eb(3),a.sc("title",i.getUsersVisaCircuit(n)),a.Eb(1),a.Tc(i.getUsersVisaCircuit(n))}}function B(t,e){1&t&&(a.Zb(0,"span",37),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Tc(a.nc(2,1,"lang.confidential")))}function z(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",38),a.hc("click",(function(t){a.Hc(n);var e=a.lc().$implicit,i=a.lc(2);return t.stopPropagation(),i.unlinkResource(e)})),a.Ub(1,"mat-icon",39),a.Yb()}if(2&t){var i=a.lc(3);a.sc("title",i.translate.instant("lang.unlink"))}}var V=function(t){return{color:t}};function H(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-cell",15),a.Zb(1,"div",16),a.Zb(2,"span",17),a.Ub(3,"i",18),a.mc(4,"translate"),a.Sc(5," \xa0 "),a.Zb(6,"span",19),a.mc(7,"translate"),a.Sc(8),a.mc(9,"translate"),a.Yb(),a.Yb(),a.Zb(10,"span",20),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc(2).openContact(t,"senders")})),a.Ub(11,"i",21),a.mc(12,"translate"),a.Sc(13," \xa0 "),a.Zb(14,"span",19),a.Sc(15),a.Yb(),a.Yb(),a.Zb(16,"span",22),a.Ub(17,"i",23),a.mc(18,"translate"),a.Sc(19," \xa0 "),a.Zb(20,"span",19),a.mc(21,"fullDate"),a.Sc(22),a.mc(23,"ucfirst"),a.mc(24,"timeAgo"),a.Yb(),a.Yb(),a.Zb(25,"span",24),a.Ub(26,"i",25),a.mc(27,"translate"),a.Sc(28," \xa0 "),a.Zb(29,"span",19),a.Sc(30),a.Yb(),a.Yb(),a.Qc(31,U,6,5,"span",26),a.Yb(),a.Zb(32,"div",27),a.Zb(33,"span",28),a.Ub(34,"mat-icon",29),a.Qc(35,B,3,3,"span",30),a.Yb(),a.Zb(36,"span",31),a.Sc(37),a.Yb(),a.Zb(38,"span",32),a.Sc(39),a.mc(40,"shorten"),a.Yb(),a.Zb(41,"span",33),a.Qc(42,z,2,1,"button",34),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc(2);a.Eb(3),a.tc("title",a.nc(4,29,"lang.category_id")),a.Eb(3),a.tc("title",a.nc(7,31,"lang."+i.categoryId)),a.Eb(2),a.Tc(a.nc(9,33,"lang."+i.categoryId)),a.Eb(3),a.tc("title",a.nc(12,35,"lang.contact")),a.Eb(3),a.sc("title",i.senders),a.Eb(1),a.Tc(i.senders),a.Eb(2),a.tc("title",a.nc(18,37,"lang.creationDate")),a.Eb(3),a.sc("title",a.nc(21,39,i.documentDate)),a.Eb(2),a.Tc(a.nc(23,41,a.oc(24,43,i.documentDate,"full"))),a.Eb(4),a.tc("title",a.nc(27,46,"lang.getAssignee")),a.Eb(3),a.sc("title",i.destUserLabel+" ("+i.destinationLabel+")"),a.Eb(1),a.Tc(i.destUserLabel+" ("+i.destinationLabel+")"),a.Eb(1),a.sc("ngIf",i.visaCircuit.length>0),a.Eb(3),a.Ib("",i.statusImage.charAt(0),"",i.statusImage.charAt(1)," ",i.statusImage," ",i.statusImage.charAt(0),"",i.statusImage.charAt(1),"-2x"),a.tc("title",i.statusLabel),a.sc("ngStyle",a.zc(52,V,i.priorityColor)),a.Eb(1),a.sc("ngIf",i.confidentiality),a.Eb(2),a.Uc(" ",i.chrono," "),a.Eb(1),a.Jb("undefined",i.subject==r.translate.instant("lang.undefined")),a.tc("title",i.subject),a.Eb(1),a.Tc(a.pc(40,48,i.subject,150,"...")),a.Eb(3),a.sc("ngIf",r.privilegeService.hasCurrentUserPrivilege("add_links"))}}function Q(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-row",40),a.hc("mouseenter",(function(){a.Hc(n);var t=e.$implicit;return a.lc(2).viewThumbnail(t)}))("mouseleave",(function(){return a.Hc(n),a.lc(2).closeThumbnail()})),a.Yb()}2&t&&a.uc("routerLink","/resources/",e.$implicit.resId,"")}function W(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",41),a.hc("click",(function(){return a.Hc(n),a.lc(2).openSearchResourceModal()})),a.Ub(1,"mat-icon",42),a.Yb()}if(2&t){var i=a.lc(2);a.sc("title",i.translate.instant("lang.linkResource"))}}function G(t,e){if(1&t&&(a.Zb(0,"mat-card",3),a.Ub(1,"img",4),a.mc(2,"async"),a.mc(3,"secureUrl"),a.Yb(),a.Zb(4,"div",5),a.Zb(5,"div",6),a.Ub(6,"mat-paginator",7,8),a.Yb(),a.Yb(),a.Zb(8,"mat-table",9,10),a.Xb(10,11),a.Qc(11,H,43,54,"mat-cell",12),a.Wb(),a.Qc(12,Q,1,1,"mat-row",13),a.Yb(),a.Qc(13,W,2,1,"button",14)),2&t){var n=a.lc();a.Eb(1),a.sc("src",a.nc(2,7,a.nc(3,9,n.thumbnailUrl)),a.Kc),a.Eb(5),a.sc("length",100)("hidePageSize",!0)("pageSize",10),a.Eb(2),a.sc("dataSource",n.dataSource),a.Eb(4),a.sc("matRowDefColumns",n.displayedColumns),a.Eb(1),a.sc("ngIf",n.privilegeService.hasCurrentUserPrivilege("add_links"))}}var q,X=((q=function(){function t(e,n,i,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.appService=r,this.dialog=o,this.functions=s,this.privilegeService=c,this.loading=!0,this.linkedResources=[],this.displayedColumns=["resId"],this.thumbnailUrl="",this.reloadBadgeLinkedResources=new a.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.initLinkedResources()}},{key:"initLinkedResources",value:function(){var t=this;this.http.get("../rest/resources/".concat(this.resId,"/linkedResources")).pipe(Object(c.a)((function(e){t.linkedResources=e.linkedResources,t.reloadBadgeLinkedResources.emit(""+t.linkedResources.length),setTimeout((function(){t.linkedResources=t.processPostData(t.linkedResources),t.dataSource=new s.o(t.linkedResources),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort}),0)})),Object(l.a)((function(){return t.loading=!1})),Object(u.a)((function(e){return t.notify.handleSoftErrors(e),Object(M.of)(!1)}))).subscribe()}},{key:"processPostData",value:function(t){var e=this;return t.forEach((function(t){Object.keys(t).forEach((function(n){"statusImage"===n&&e.functions.empty(t[n])?t[n]="fa-question undefined":e.functions.empty(t[n])&&-1===["senders","recipients","attachments","hasDocument","confidentiality","visaCircuit"].indexOf(n)&&(t[n]=e.translate.instant("lang.undefined")),"senders"===n&&t[n].length>1&&(t[n]=t[n].length>1?t[n].length+" "+e.translate.instant("lang.contactsAlt"):t[n][0])}))})),t}},{key:"getUsersVisaCircuit",value:function(t){return t.visaCircuit.length>0?t.visaCircuit.map((function(t){return t.userLabel})):""}},{key:"unlinkResource",value:function(t){var e=this;this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.unlink"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(d.a)((function(t){return"ok"===t})),Object(f.a)((function(){return e.http.delete("../rest/resources/".concat(e.resId,"/linkedResources/").concat(t.resId))})),Object(c.a)((function(){e.linkedResources=e.linkedResources.filter((function(e){return e.resId!==t.resId})),e.reloadBadgeLinkedResources.emit(""+e.linkedResources.length),e.dataSource=new s.o(e.linkedResources),e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort,e.notify.success(e.translate.instant("lang.resourceUnlinked"))})),Object(u.a)((function(t){return e.notify.handleSoftErrors(t),Object(M.of)(!1)}))).subscribe()}},{key:"viewThumbnail",value:function(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show())}},{key:"closeThumbnail",value:function(){$("#viewThumbnail").hide()}},{key:"openSearchResourceModal",value:function(){var t=this;this.dialog.open(S,{panelClass:"maarch-full-height-modal",minWidth:"80%",data:{resId:this.resId,currentLinkedRes:this.linkedResources.map((function(t){return t.resId}))}}).afterClosed().pipe(Object(d.a)((function(t){return"success"===t})),Object(c.a)((function(){t.initLinkedResources(),t.notify.success(t.translate.instant("lang.resourcesLinked"))})),Object(u.a)((function(e){return t.notify.handleSoftErrors(e),Object(M.of)(!1)}))).subscribe()}},{key:"openContact",value:function(t,e){this.dialog.open(E.a,{panelClass:"maarch-modal",data:{title:"".concat(t.chrono," - ").concat(t.subject),mode:e,resId:t.resId}})}}]),t}()).\u0275fac=function(t){return new(t||q)(a.Tb(g.e),a.Tb(b.b),a.Tb(v.a),a.Tb(I.a),a.Tb(p.b),a.Tb(P.a),a.Tb(T.a))},q.\u0275cmp=a.Nb({type:q,selectors:[["app-linked-resource-list"]],viewQuery:function(t,e){var n;1&t&&(a.ad(r.a,!0),a.ad(o.a,!0)),2&t&&(a.Cc(n=a.ic())&&(e.paginator=n.first),a.Cc(n=a.ic())&&(e.sort=n.first))},inputs:{resId:"resId"},outputs:{reloadBadgeLinkedResources:"reloadBadgeLinkedResources"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseLoading",""],[1,"loading"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px","left","50%","transform","translate(-50%,-50%)","top","50%"],[2,"max-height","100vh",3,"src"],[1,"row",2,"margin","0px"],[1,"col-md-12"],[3,"length","hidePageSize","pageSize"],["paginator",""],["matSort","","matSortActive","resId","matSortDirection","desc",3,"dataSource"],["table",""],["matColumnDef","resId"],["style","flex: 1;flex-direction: column;padding: 0px;",4,"matCellDef"],["style","cursor: pointer;",3,"routerLink","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["mat-fab","","class","linkRes","color","primary",3,"title","click",4,"ngIf"],[2,"flex","1","flex-direction","column","padding","0px"],[1,"sub-info"],[1,"sub-info-data","col-md-4"],[1,"fas","fa-exchange-alt",3,"title"],[3,"title"],[1,"sub-info-data","col-md-4","text-center","senders",3,"click"],[1,"fas","fa-user",3,"title"],[1,"sub-info-data","col-md-4","text-right"],[1,"fas","fa-calendar",3,"title"],[1,"sub-info-data","col-md-6"],[1,"fas","fa-sitemap",3,"title"],["class","sub-info-data col-md-6 text-right",4,"ngIf"],[1,"main-info"],[1,"main-info-status"],["color","primary",3,"title","ngStyle"],["class","watermark",4,"ngIf"],[1,"main-info-data",2,"width","200px","text-align","center"],[1,"main-info-data",2,"font-weight","bold","flex","1",3,"title"],[1,"main-info-data"],["mat-icon-button","","color","warn",3,"title","click",4,"ngIf"],[1,"sub-info-data","col-md-6","text-right"],[1,"fas","fa-list-ol",3,"title"],[1,"watermark"],["mat-icon-button","","color","warn",3,"title","click"],["aria-hidden","true",1,"fa","fa-unlink","fa-2x"],[2,"cursor","pointer",3,"routerLink","mouseenter","mouseleave"],["mat-fab","","color","primary",1,"linkRes",3,"title","click"],[1,"fa","fa-link",2,"height","auto"]],template:function(t,e){if(1&t&&(a.Qc(0,N,3,0,"ng-container",0),a.Qc(1,G,14,11,"ng-template",null,1,a.Rc)),2&t){var n=a.Dc(2);a.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[A.t,D.c,R.a,r.a,s.n,o.a,s.c,s.b,s.m,s.a,_.a,A.w,y.b,s.l,L.d],pipes:[A.b,F.a,g.d,j.a,Y.u,Z.a,Y.p],styles:[".loading[_ngcontent-%COMP%]{display:flex;justify-content:center}.linkRes[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:2;bottom:10px;margin-left:10px;margin-top:10px}.main-info[_ngcontent-%COMP%], .sub-info[_ngcontent-%COMP%]{width:100%}.sub-info[_ngcontent-%COMP%]{display:block}.sub-info-data[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;text-overflow:ellipsis;padding-left:5px;padding-right:5px}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}.senders[_ngcontent-%COMP%]{cursor:pointer}.senders[_ngcontent-%COMP%]:hover{color:#135f7f}"]}),q)},PqYM:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC"),a=n("D0XW"),r=n("Y7HM"),o=n("z+Ro");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=-1;return Object(r.a)(e)?s=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=a.a),new i.a((function(e){var i=Object(r.a)(t)?t:+t-n.now();return n.schedule(c,i,{index:0,period:s,subscriber:e})}))}function c(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},Q1FS:function(t,e,n){"use strict";var i=n("yx2s"),a=n("Xwq/"),r=n("zfKp"),o=n("9AGB"),s=n("n3uD");function c(t){if(t||(t=s.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,r=a.toSubscriber(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),i.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))((function(e,i){var a;a=n.subscribe((function(e){try{t(e)}catch(n){i(n),a&&a.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[r.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:o.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))},t.create=function(e){return new t(e)},t}()},QNbu:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var i=n("fXoL"),a=n("vkgz"),r=n("JIr8"),o=n("I65S"),s=n("sYmb"),c=n("tk/3"),l=n("A6w4"),u=n("4zkx"),d=n("AXEc"),f=n("MyTJ"),h=n("ofXK"),p=n("7EHt"),m=n("NFeN"),g=n("MutI"),b=n("kmnG"),v=n("qFsG"),y=n("lJEt"),_=n("f0Cb"),k=n("FKr1"),C=n("tyNb"),x=n("8N1J"),w=["basketPanel"];function O(t,e){1&t&&(i.Zb(0,"div",13),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noticeGroupeOrder")," "))}function S(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item",16),i.hc("onDropSuccess",(function(){return i.Hc(n),i.lc(4).updateGroupsOrder()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",17),i.Zb(3,"span",18),i.Sc(4),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=e.index;i.tc("title",i.nc(1,3,"lang.move")),i.sc("sortableIndex",r),i.Eb(4),i.Tc(a.groupDesc)}}var E=function(){return["boxers-zone"]};function M(t,e){if(1&t&&(i.Zb(0,"mat-list"),i.Zb(1,"span",14),i.Qc(2,S,5,5,"mat-list-item",15),i.Yb(),i.Yb()),2&t){var n=i.lc(3);i.Eb(1),i.sc("dropZones",i.yc(3,E))("sortableData",n.homeData.regroupedBaskets),i.Eb(1),i.sc("ngForOf",n.homeData.regroupedBaskets)}}function I(t,e){if(1&t&&(i.Zb(0,"span",18),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Tc(n.groupDesc)}}function P(t,e){1&t&&i.Ub(0,"mat-divider",22)}var T=function(t){return{color:t}};function A(t,e){if(1&t&&i.Ub(0,"mat-icon",32),2&t){var n=i.lc(2).$implicit;i.sc("ngStyle",i.zc(1,T,n.color))}}function D(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Tc(n.resourceNumber)}}function R(t,e){if(1&t&&(i.Zb(0,"span",34),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Tc(n.resourceNumber)}}function L(t,e){if(1&t&&(i.Zb(0,"a",26),i.Qc(1,A,1,3,"mat-icon",27),i.Qc(2,D,2,1,"span",28),i.Qc(3,R,2,1,"span",29),i.Zb(4,"p",30),i.Sc(5),i.Ub(6,"br"),i.Zb(7,"small",31),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(5);i.Eb(1),i.sc("ngIf",n.redirected&&!a.appService.getViewMode()),i.Eb(1),i.sc("ngIf",0==n.resourceNumber),i.Eb(1),i.sc("ngIf",0!=n.resourceNumber),i.Eb(1),i.tc("title",n.basket_name),i.sc("ngStyle",i.zc(10,T,n.color)),i.Eb(1),i.Uc(" ",n.basket_name,""),i.Eb(3),i.Vc("(",i.nc(9,8,"lang.redirectedTo")," ",n.redirectedUser,")")}}function F(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Tc(n.resourceNumber)}}function j(t,e){if(1&t&&(i.Zb(0,"span",34),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Tc(n.resourceNumber)}}var Y=function(t){return{selectedBasket:t}},Z=function(t,e){return{opacity:t,height:e}};function N(t,e){if(1&t){var n=i.ac();i.Zb(0,"a",35),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit,e=i.lc(5);return e.refreshDatas(t),e.closePanelLeft()})),i.Qc(1,F,2,1,"span",28),i.Qc(2,j,2,1,"span",29),i.Zb(3,"p",30),i.Sc(4),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(2).$implicit,o=i.lc(3);i.wc("routerLink","/basketList/users/",a.owner_user_id,"/groups/",r.groupSerialId,"/baskets/",a.id,""),i.sc("ngClass",i.zc(10,Y,o.headerService.currentBasketInfo.basketId==a.id&&o.headerService.currentBasketInfo.ownerId==a.owner_user_id&&o.headerService.currentBasketInfo.groupId==r.groupSerialId))("ngStyle",i.Ac(12,Z,0==a.resourceNumber?"0.5":"1",o.appService.getViewMode()?"50px":"38px")),i.Eb(1),i.sc("ngIf",0==a.resourceNumber),i.Eb(1),i.sc("ngIf",0!=a.resourceNumber),i.Eb(1),i.tc("title",a.basket_name),i.sc("ngStyle",i.zc(15,T,a.color)),i.Eb(1),i.Uc(" ",a.basket_name," ")}}function U(t,e){if(1&t&&(i.Xb(0),i.Qc(1,L,10,12,"a",24),i.Qc(2,N,5,17,"a",25),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",n.redirected),i.Eb(1),i.sc("ngIf",!n.redirected)}}function B(t,e){if(1&t&&(i.Zb(0,"mat-nav-list",23),i.Qc(1,U,3,2,"ng-container",11),i.mc(2,"filterList"),i.Yb()),2&t){var n=i.lc().$implicit;i.lc();var a=i.Dc(3);i.Eb(1),i.sc("ngForOf",i.pc(2,1,n.baskets,a.value,"basket_name"))}}function z(t,e){if(1&t&&(i.Xb(0),i.Qc(1,I,2,1,"span",19),i.Qc(2,P,1,0,"mat-divider",20),i.Qc(3,B,3,5,"mat-nav-list",21),i.Wb()),2&t){var n=e.$implicit,a=i.lc(3);i.Eb(1),i.sc("ngIf",n.baskets[0]&&!a.editOrderGroups),i.Eb(1),i.sc("ngIf",n.baskets[0]&&!a.editOrderGroups),i.Eb(1),i.sc("ngIf",!a.editOrderGroups)}}function V(t,e){1&t&&i.Ub(0,"mat-icon",41)}function H(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Tc(n.resourceNumber)}}function Q(t,e){if(1&t&&(i.Zb(0,"span",34),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Tc(n.resourceNumber)}}function W(t,e){if(1&t&&(i.Zb(0,"a",38),i.Qc(1,V,1,0,"mat-icon",39),i.Qc(2,H,2,1,"span",28),i.Qc(3,Q,2,1,"span",29),i.Zb(4,"p",40),i.Sc(5),i.Ub(6,"br"),i.Zb(7,"small",31),i.Sc(8),i.Yb(),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc(4);i.wc("routerLink","/basketList/users/",n.owner_user_id,"/groups/",n.group_id,"/baskets/",n.id,""),i.sc("ngClass",i.zc(11,Y,a.headerService.currentBasketInfo.basketId==n.id&&a.headerService.currentBasketInfo.ownerId==n.owner_user_id&&a.headerService.currentBasketInfo.groupId==n.group_id)),i.Eb(1),i.sc("ngIf",!a.appService.getViewMode()),i.Eb(1),i.sc("ngIf",0==n.resourceNumber),i.Eb(1),i.sc("ngIf",0!=n.resourceNumber),i.Eb(1),i.tc("title",n.basket_name),i.Eb(1),i.Uc(" ",n.basket_name,""),i.Eb(3),i.Vc("(",n.userToDisplay," - ",n.group_desc,")")}}function G(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",36),i.mc(2,"translate"),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Ub(5,"mat-divider"),i.Zb(6,"mat-nav-list"),i.Qc(7,W,9,13,"a",37),i.mc(8,"filterList"),i.Yb(),i.Wb()),2&t){i.lc();var n=i.Dc(3),a=i.lc(2);i.Eb(1),i.tc("title",i.nc(2,3,"lang.basketsAssigned")),i.Eb(2),i.Tc(i.nc(4,5,"lang.basketsAssignedShort")),i.Eb(4),i.sc("ngForOf",i.pc(8,7,a.homeData.assignedBaskets,n.value,"basket_name"))}}function q(t,e){1&t&&(i.Zb(0,"div",42),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAvailableBasket")," "))}function X(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-form-field",7),i.Ub(2,"input",8,9),i.mc(4,"translate"),i.Yb(),i.Qc(5,O,3,3,"div",10),i.Qc(6,M,3,4,"mat-list",6),i.Qc(7,z,4,3,"ng-container",11),i.Qc(8,G,9,11,"ng-container",6),i.Qc(9,q,3,3,"div",12),i.Wb()),2&t){var n=i.lc(2);i.Eb(1),i.Pc("display",(n.homeData.assignedBaskets.length>0||n.homeData.regroupedBaskets.length>0)&&!n.editOrderGroups?"inline-block":"none"),i.Eb(1),i.tc("placeholder",i.nc(4,8,"lang.filterBy")),i.Eb(3),i.sc("ngIf",n.editOrderGroups),i.Eb(1),i.sc("ngIf",n.editOrderGroups),i.Eb(1),i.sc("ngForOf",n.homeData.regroupedBaskets),i.Eb(1),i.sc("ngIf",n.homeData.assignedBaskets.length>0&&!n.editOrderGroups),i.Eb(1),i.sc("ngIf",0===n.homeData.assignedBaskets.length&&0===n.homeData.regroupedBaskets.length)}}var $=function(t,e){return{color:t,opacity:e}};function J(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-expansion-panel",1,2),i.Zb(2,"mat-expansion-panel-header"),i.Zb(3,"mat-panel-title"),i.Ub(4,"i",3),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Zb(7,"div",4),i.hc("click",(function(t){i.Hc(n);var e=i.lc();return t.stopPropagation(),e.editGroupOrder()}))("mouseover",(function(){return i.Hc(n),i.lc().hoverEditGroupOrder=!0}))("mouseleave",(function(){return i.Hc(n),i.lc().hoverEditGroupOrder=!1})),i.mc(8,"translate"),i.Ub(9,"mat-icon",5),i.Yb(),i.Yb(),i.Qc(10,X,10,10,"ng-container",6),i.Yb()}if(2&t){var a=i.lc();i.Eb(5),i.Uc("\xa0",i.nc(6,4,"lang.myBaskets")," "),i.Eb(2),i.tc("title",i.nc(8,6,"lang.listConfiguration")),i.Eb(2),i.sc("ngStyle",i.Ac(8,$,a.editOrderGroups?"orange":"#135F7F",a.editOrderGroups||a.hoverEditGroupOrder?"1":"0.4")),i.Eb(1),i.sc("ngIf",!a.loading)}}var K=function(){var t=function(){function t(e,n,a,r,o,s){var c=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.appService=a,this.headerService=r,this.notify=o,this.actionService=s,this.loading=!0,this.hoverEditGroupOrder=!1,this.homeData=null,this.currentBasketInfo={ownerId:0,groupId:0,basketId:""},this.refreshEvent=new i.o,this.editOrderGroups=!1,this.subscription=this.actionService.catchAction().subscribe((function(t){c.refreshBasketHome()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getMyBaskets()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"getMyBaskets",value:function(){var t=this;this.loading=!0,this.http.get("../rest/home").pipe(Object(a.a)((function(e){t.homeData=e,t.loading=!1}))).subscribe()}},{key:"closePanelLeft",value:function(){this.appService.getViewMode()&&this.snavL.close()}},{key:"refreshDatas",value:function(t){this.refreshBasketHome(),this.headerService.headerMessage===t.basket_name&&this.actionService.emitAction()}},{key:"refreshBasketHome",value:function(){var t=this;this.http.get("../rest/home").subscribe((function(e){t.homeData=e}))}},{key:"togglePanel",value:function(t){t?this.basketPanel.open():this.basketPanel.close()}},{key:"editGroupOrder",value:function(){this.editOrderGroups=!this.editOrderGroups}},{key:"updateGroupsOrder",value:function(){var t=this,e=this.homeData.regroupedBaskets.map((function(t){return t.groupSerialId}));this.http.put("../rest/currentUser/profile/preferences",{homeGroups:e}).pipe(Object(a.a)((function(){return t.notify.success(t.translate.instant("lang.parameterUpdated"))})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(o.of)(!1)}))).subscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(s.e),i.Tb(c.b),i.Tb(l.a),i.Tb(u.a),i.Tb(d.a),i.Tb(f.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["basket-home"]],viewQuery:function(t,e){var n;1&t&&i.Oc(w,!0),2&t&&i.Cc(n=i.ic())&&(e.basketPanel=n.first)},inputs:{currentBasketInfo:"currentBasketInfo",snavL:"snavL"},outputs:{refreshEvent:"refreshEvent"},decls:1,vars:1,consts:[["class","basketList","expanded","",4,"ngIf"],["expanded","",1,"basketList"],["basketPanel",""],[1,"fa","fa-inbox","panelIconMenu"],[3,"title","click","mouseover","mouseleave"],["mat-list-icon","",1,"fa","fa-cog",2,"height","auto",3,"ngStyle"],[4,"ngIf"],["floatLabel","never","appearance","outline",1,"basketsFilter",2,"padding-left","20px","padding-right","20px","font-size","11px"],["matInput","",3,"placeholder"],["listFilter",""],["style","color: rgba(0,0,0,0.25);text-align:center;",4,"ngIf"],[4,"ngFor","ngForOf"],["class","noBasket",4,"ngIf"],[2,"color","rgba(0,0,0,0.25)","text-align","center"],["dnd-sortable-container","",3,"dropZones","sortableData"],["disableRipple","true","dnd-sortable","",3,"title","sortableIndex","onDropSuccess",4,"ngFor","ngForOf"],["disableRipple","true","dnd-sortable","",3,"title","sortableIndex","onDropSuccess"],["color","primary","mat-list-icon","",1,"fa","fa-arrows-alt",2,"font-size","19px"],[1,"basketGroupTitle"],["class","basketGroupTitle",4,"ngIf"],["style","width: 80%;",4,"ngIf"],["style","padding-bottom: 10px;",4,"ngIf"],[2,"width","80%"],[2,"padding-bottom","10px"],["mat-list-item","","disableRipple","true","style","cursor:not-allowed;",4,"ngIf"],["mat-list-item","","style","cursor:pointer;",3,"ngClass","routerLink","ngStyle","click",4,"ngIf"],["mat-list-item","","disableRipple","true",2,"cursor","not-allowed"],["mat-list-icon","","class","fa fa-share",3,"ngStyle",4,"ngIf"],["class","nbResZero",4,"ngIf"],["class","nbRes",4,"ngIf"],["mat-line","",3,"title","ngStyle"],["color","primary"],["mat-list-icon","",1,"fa","fa-share",3,"ngStyle"],[1,"nbResZero"],[1,"nbRes"],["mat-list-item","",2,"cursor","pointer",3,"ngClass","routerLink","ngStyle","click"],["color","primary",2,"font-weight","bold",3,"title"],["mat-list-item","",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"ngClass","routerLink"],["style","color:#666","mat-list-icon","","class","fa fa-paper-plane",4,"ngIf"],["mat-line","",2,"color","#666",3,"title"],["mat-list-icon","",1,"fa","fa-paper-plane",2,"color","#666"],[1,"noBasket"]],template:function(t,e){1&t&&i.Qc(0,J,11,11,"mat-expansion-panel",0),2&t&&i.sc("ngIf",!e.loading)},directives:[h.t,p.c,p.g,p.h,m.a,g.c,h.w,b.c,v.b,h.s,g.a,y.f,g.d,y.e,_.a,g.h,k.k,C.f,h.q],pipes:[s.d,x.a],styles:[".basketList[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}.basketList[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.basketList[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#135f7f;display:flex;align-items:center;font-size:14px;font-weight:500}.basketList[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.selectedBasket[_ngcontent-%COMP%]{border-left:5px solid #135f7f}.selectedBasket[_ngcontent-%COMP%], .selectedBasket[_ngcontent-%COMP%]:focus{background:rgba(19,95,127,.14)}.nbRes[_ngcontent-%COMP%]{color:#135f7f;font-size:14px}.nbRes[_ngcontent-%COMP%], .nbResZero[_ngcontent-%COMP%]{font-weight:700;min-width:auto}.nbResZero[_ngcontent-%COMP%]{color:#666;font-size:12px}.basketGroupTitle[_ngcontent-%COMP%]{color:#135f7f;font-size:14px;font-weight:500;padding-left:10px}.basketsFilter[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.panelIconMenu[_ngcontent-%COMP%]{font-size:22px}.noBasket[_ngcontent-%COMP%]{text-align:center;font-size:13px;opacity:.5;font-style:italic}"]}),t}()},QibW:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return C}));var i=n("fXoL"),a=n("FKr1"),r=n("8LU1"),o=n("3Pt+"),s=n("R1ws"),c=n("u47x"),l=n("0EQZ"),u=["input"],d=function(){return{enterDuration:150}},f=["*"],h=new i.r("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),p=0,m={provide:o.r,useExisting:Object(i.W)((function(){return b})),multi:!0},g=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},b=function(){var t=function(){function t(e){_classCallCheck(this,t),this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+p++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new i.o}return _createClass(t,[{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var t=this;this._radios&&this._radios.forEach((function(e){e.name=t.name,e._markForCheck()}))}},{key:"_updateSelectedRadioFromValue",value:function(){var t=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach((function(e){e.checked=t.value===e.value,e.checked&&(t._selected=e)})))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new g(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach((function(t){return t._markForCheck()}))}},{key:"writeValue",value:function(t){this.value=t,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetector.markForCheck()}},{key:"name",get:function(){return this._name},set:function(t){this._name=t,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(r.c)(t),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(r.c)(t),this._markRadiosForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){var a;1&t&&i.Lb(n,_,!0),2&t&&i.Cc(a=i.ic())&&(e._radios=a)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[i.Db([m])]}),t}(),v=Object(a.A)(Object(a.E)((function t(e){_classCallCheck(this,t),this._elementRef=e}))),y=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o,s,c,l){var u;return _classCallCheck(this,n),(u=e.call(this,a))._changeDetector=r,u._focusMonitor=o,u._radioDispatcher=s,u._animationMode=c,u._providerOverride=l,u._uniqueId="mat-radio-"+ ++p,u.id=u._uniqueId,u.change=new i.o,u._checked=!1,u._value=null,u._removeUniqueSelectionListener=function(){},u.radioGroup=t,u._removeUniqueSelectionListener=s.listen((function(t,e){t!==u.id&&e===u.name&&(u.checked=!1)})),u}return _createClass(n,[{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){!e&&t.radioGroup&&t.radioGroup._touch()}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new g(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"_onInputChange",value:function(t){t.stopPropagation();var e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}},{key:"checked",get:function(){return this._checked},set:function(t){var e=Object(r.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(t){this._labelPosition=t}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(t){this._setDisabled(Object(r.c)(t))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(t){this._required=Object(r.c)(t)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(t){this._color=t}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.Tb(b,8),i.Tb(i.l),i.Tb(i.h),i.Tb(c.h),i.Tb(l.d),i.Tb(s.a,8),i.Tb(h,8))},t.\u0275dir=i.Ob({type:t,viewQuery:function(t,e){var n;1&t&&i.ad(u,!0),2&t&&i.Cc(n=i.ic())&&(e._inputElement=n.first)},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[i.Bb]}),t}(),_=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(y);return t.\u0275fac=function(e){return k(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&i.hc("focus",(function(){return e._inputElement.nativeElement.focus()})),2&t&&(i.Fb("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.Jb("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.Bb],ngContentSelectors:f,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(i.rc(),i.Zb(0,"label",0,1),i.Zb(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"div",4),i.Zb(5,"input",5,6),i.hc("change",(function(t){return e._onInputChange(t)}))("click",(function(t){return e._onInputClick(t)})),i.Yb(),i.Zb(7,"div",7),i.Ub(8,"div",8),i.Yb(),i.Yb(),i.Zb(9,"div",9),i.Zb(10,"span",10),i.Sc(11,"\xa0"),i.Yb(),i.qc(12),i.Yb(),i.Yb()),2&t){var n=i.Dc(1);i.Fb("for",e.inputId),i.Eb(5),i.sc("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),i.Fb("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),i.Eb(2),i.sc("matRippleTrigger",n)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.yc(18,d)),i.Eb(2),i.Jb("mat-radio-label-before","before"==e.labelPosition)}},directives:[a.t],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t}(),k=i.bc(_),C=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.u,a.j],a.j]}),t}()},QtHX:function(t,e,n){"use strict";var i=n("UNqx"),a=n("yoF8");e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),i.mergeMap(a.identity,t)}},Qu3c:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return S}));var i=n("rDax"),a=n("u47x"),r=n("ofXK"),o=n("fXoL"),s=n("FKr1"),c=n("vxfF"),l=n("8LU1"),u=n("FtGj"),d=n("0MNC"),f=n("nLfN"),h=n("+rOU"),p=n("XNiG"),m=n("1G5W"),g=n("IzEk"),b=n("R0Ic"),v=n("cH1L"),y={tooltipState:Object(b.n)("state",[Object(b.k)("initial, void, hidden",Object(b.l)({opacity:0,transform:"scale(0)"})),Object(b.k)("visible",Object(b.l)({transform:"scale(1)"})),Object(b.m)("* => visible",Object(b.e)("200ms cubic-bezier(0, 0, 0.2, 1)",Object(b.h)([Object(b.l)({opacity:0,transform:"scale(0)",offset:0}),Object(b.l)({opacity:.5,transform:"scale(0.99)",offset:.5}),Object(b.l)({opacity:1,transform:"scale(1)",offset:1})]))),Object(b.m)("* => hidden",Object(b.e)("100ms cubic-bezier(0, 0, 0.2, 1)",Object(b.l)({opacity:0})))])},_=Object(f.f)({passive:!0});function k(t){return Error('Tooltip position "'.concat(t,'" is invalid.'))}var C=new o.r("mat-tooltip-scroll-strategy"),x={provide:C,deps:[i.c],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},w=new o.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),O=function(){var t=function(){function t(e,n,i,a,r,o,s,c,l,d,f,h){var g=this;_classCallCheck(this,t),this._overlay=e,this._elementRef=n,this._scrollDispatcher=i,this._viewContainerRef=a,this._ngZone=r,this._platform=o,this._ariaDescriber=s,this._focusMonitor=c,this._dir=d,this._defaultOptions=f,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new p.a,this._handleKeydown=function(t){g._isTooltipVisible()&&t.keyCode===u.h&&!Object(u.v)(t)&&(t.preventDefault(),t.stopPropagation(),g._ngZone.run((function(){return g.hide(0)})))},this._scrollStrategy=l,f&&(f.position&&(this.position=f.position),f.touchGestures&&(this.touchGestures=f.touchGestures)),c.monitor(n).pipe(Object(m.a)(this._destroyed)).subscribe((function(t){t?"keyboard"===t&&r.run((function(){return g.show()})):r.run((function(){return g.hide(0)}))})),r.runOutsideAngular((function(){n.nativeElement.addEventListener("keydown",g._handleKeydown)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this._setupPointerEvents()}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((function(e,n){t.removeEventListener(n,e,_)})),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new h.d(S,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(m.a)(this._destroyed)).subscribe((function(){return t._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(t)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return n.positionChanges.pipe(Object(m.a)(this._destroyed)).subscribe((function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run((function(){return t.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(m.a)(this._destroyed)).subscribe((function(){return t._detach()})),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n||"below"==n)t={originX:"center",originY:"above"==n?"top":"bottom"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={originX:"start",originY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw k(n);t={originX:"end",originY:"center"}}var i=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:i.x,originY:i.y}}}},{key:"_getOverlayPosition",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n)t={overlayX:"center",overlayY:"bottom"};else if("below"==n)t={overlayX:"center",overlayY:"top"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={overlayX:"end",overlayY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw k(n);t={overlayX:"start",overlayY:"center"}}var i=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:i.x,overlayY:i.y}}}},{key:"_updateTooltipMessage",value:function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(g.a)(1),Object(m.a)(this._destroyed)).subscribe((function(){t._tooltipInstance&&t._overlayRef.updatePosition()})))}},{key:"_setTooltipClass",value:function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}},{key:"_setupPointerEvents",value:function(){var t=this;if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var e=function(){clearTimeout(t._touchstartTimeout),t.hide(t._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",e).set("touchcancel",e).set("touchstart",(function(){clearTimeout(t._touchstartTimeout),t._touchstartTimeout=setTimeout((function(){return t.show()}),500)}))}}else this._passiveListeners.set("mouseenter",(function(){return t.show()})).set("mouseleave",(function(){return t.hide()}));this._passiveListeners.forEach((function(e,n){t._elementRef.nativeElement.addEventListener(n,e,_)}))}},{key:"_disableNativeGesturesIfNecessary",value:function(){var t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}},{key:"position",get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(l.c)(t),this._disabled&&this.hide(0)}},{key:"message",get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)}))})))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(i.c),o.Tb(o.l),o.Tb(c.f),o.Tb(o.R),o.Tb(o.B),o.Tb(f.a),o.Tb(a.c),o.Tb(a.h),o.Tb(C),o.Tb(v.c,8),o.Tb(w,8),o.Tb(o.l))},t.\u0275dir=o.Ob({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t}(),S=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._changeDetectorRef=e,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new p.a,this._isHandset=this._breakpointObserver.observe(d.b.Handset)}return _createClass(t,[{key:"show",value:function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()}),t)}},{key:"hide",value:function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()}),t)}},{key:"afterHidden",value:function(){return this._onHide.asObservable()}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.h),o.Tb(d.a))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&o.hc("click",(function(){return e._handleBodyInteraction()}),!1,o.Ec),2&t&&o.Pc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(o.Zb(0,"div",0),o.hc("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),o.mc(1,"async"),o.Sc(2),o.Yb()),2&t){var n,i=null==(n=o.nc(1,5,e._isHandset))?null:n.matches;o.Jb("mat-tooltip-handset",i),o.sc("ngClass",e.tooltipClass)("@state",e._visibility),o.Eb(2),o.Tc(e.message)}},directives:[r.q],pipes:[r.b],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[y.tooltipState]},changeDetection:0}),t}(),E=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[x],imports:[[a.a,r.c,i.f,s.j],s.j,c.c]}),t}()},R0Ic:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return o})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return y}));var i=function t(){_classCallCheck(this,t)},a=function t(){_classCallCheck(this,t)},r="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:t,options:e}}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function u(t){return{type:6,styles:t,offset:null}}function d(t,e,n){return{type:0,name:t,styles:e,options:n}}function f(t){return{type:5,steps:t}}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}function g(t){Promise.resolve(null).then(t)}var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;g((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),v=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,a=0,r=0,o=this.players.length;0==o?g((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++i==o&&n._onFinish()})),t.onDestroy((function(){++a==o&&n._onDestroy()})),t.onStart((function(){++r==o&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),y="!"},R1ws:function(t,e,n){"use strict";n.d(e,"a",(function(){return ke})),n.d(e,"b",(function(){return xe}));var i=n("fXoL"),a=n("jhN1"),r=n("R0Ic");function o(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function s(t){switch(t.length){case 0:return new r.d;case 1:return t[0];default:return new r.o(t)}}function c(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],c=[],l=-1,u=null;if(i.forEach((function(t){var n=t.offset,i=n==l,d=i&&u||{};Object.keys(t).forEach((function(n){var i=n,c=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),c){case r.p:c=a[n];break;case r.a:c=o[n];break;default:c=e.normalizeStyleValue(n,i,c,s)}d[i]=c})),i||c.push(d),u=d,l=n})),s.length){var d="\n - ";throw new Error("Unable to animate due to the following errors:".concat(d).concat(s.join(d)))}return c}function l(t,e,n,i){switch(e){case"start":t.onStart((function(){return i(n&&u(n,"start",t))}));break;case"done":t.onDone((function(){return i(n&&u(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return i(n&&u(n,"destroy",t))}))}}function u(t,e,n){var i=n.totalTime,a=d(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),r=t._data;return null!=r&&(a._data=r),a}function d(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:a,totalTime:r,disabled:!!o}}function f(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function h(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var p=function(t,e){return!1},m=function(t,e){return!1},g=function(t,e,n){return[]},b=o();(b||"undefined"!=typeof Element)&&(p=function(t,e){return t.contains(e)},m=function(){if(b||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:m}(),g=function(t,e,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(t.querySelectorAll(e)));else{var a=t.querySelector(e);a&&i.push(a)}return i});var v=null,y=!1;function _(t){v||(v=("undefined"!=typeof document?document.body:null)||{},y=!!v.style&&"WebkitAppearance"in v.style);var e=!0;return v.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in v.style)&&y)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in v.style),e}var k=m,C=p,x=g;function w(t){var e={};return Object.keys(t).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]})),e}var O,S=((O=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return _(t)}},{key:"matchesElement",value:function(t,e){return k(t,e)}},{key:"containsElement",value:function(t,e){return C(t,e)}},{key:"query",value:function(t,e,n){return x(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,a){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new r.d(n,i)}}]),t}()).\u0275fac=function(t){return new(t||O)},O.\u0275prov=i.Pb({token:O,factory:O.\u0275fac}),O),E=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new S,t}();function M(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I(parseFloat(e[1]),e[2])}function I(t,e){switch(e){case"s":return 1e3*t;default:return t}}function P(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,a=0,r="";if("string"==typeof t){var o=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=I(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(a=I(parseFloat(s),o[4]));var c=o[5];c&&(r=c)}else i=t;if(!n){var l=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(u,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:a,easing:r}}(t,e,n)}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else T(t,n);return n}function D(t,e,n){return n?e+":"+n+";":""}function R(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=D(0,i,t.style.getPropertyValue(i))}for(var a in t.style)t.style.hasOwnProperty(a)&&!a.startsWith("_")&&(e+=D(0,a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[a]));t.setAttribute("style",e)}function L(t,e,n){t.style&&(Object.keys(e).forEach((function(i){var a=z(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[a]),t.style[a]=e[i]})),o()&&R(t))}function F(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=z(e);t.style[n]=""})),o()&&R(t))}function j(t){return Array.isArray(t)?1==t.length?t[0]:Object(r.j)(t):t}var Y=new RegExp("{{\\s*(.+?)\\s*}}","g");function Z(t){var e=[];if("string"==typeof t){for(var n;n=Y.exec(t);)e.push(n[1]);Y.lastIndex=0}return e}function N(t,e,n){var i=t.toString(),a=i.replace(Y,(function(t,i){var a=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),a=""),a.toString()}));return a==i?t:a}function U(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var B=/-+([a-z0-9])/g;function z(t){return t.replace(B,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function V(t,e){return 0===t||0===e}function H(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var a=e[0],r=[];if(i.forEach((function(t){a.hasOwnProperty(t)||r.push(t),a[t]=n[t]})),r.length)for(var o=function(){var n=e[s];r.forEach((function(e){n[e]=W(t,e)}))},s=1;s<e.length;s++)o()}return e}function Q(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function W(t,e){return window.getComputedStyle(t)[e]}var G=new Set(["true","1"]),q=new Set(["false","0"]);function X(t,e){var n=G.has(t)||q.has(t),i=G.has(e)||q.has(e);return function(a,r){var o="*"==t||t==a,s="*"==e||e==r;return!o&&n&&"boolean"==typeof a&&(o=a?G.has(t):q.has(t)),!s&&i&&"boolean"==typeof r&&(s=r?G.has(e):q.has(e)),o&&s}}var $=new RegExp("s*:selfs*,?","g");function J(t,e,n){return new K(t).build(e,n)}var K=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new tt(e);return this._resetContextStyleTimingState(n),Q(this,j(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,a=e.depCount=0,r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,r.push(n.visitState(s,e))})),s.name=c}else if(1==t.type){var l=n.visitTransition(t,e);i+=l.queryCount,a+=l.depCount,o.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:a,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var a=new Set,r=i||{};if(n.styles.forEach((function(t){if(et(t)){var e=t;Object.keys(e).forEach((function(t){Z(e[t]).forEach((function(t){r.hasOwnProperty(t)||a.add(t)}))}))}})),a.size){var o=U(a.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,a,r=Q(this,j(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,a=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var a=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var r=a[1],o=a[2],s=a[3];e.push(X(r,s)),"<"!=o[0]||"*"==r&&"*"==s||e.push(X(s,r))}(t,a,i)})):a.push(n),a),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:nt(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Q(n,t,e)})),options:nt(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,a=0,r=t.steps.map((function(t){e.currentTime=i;var r=Q(n,t,e);return a=Math.max(a,e.currentTime),r}));return e.currentTime=a,{type:3,steps:r,options:nt(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return it(P(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var a=it(0,0,"");return a.dynamic=!0,a.strValue=i,a}return it((n=n||P(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var a=t.styles?t.styles:Object(r.l)({});if(5==a.type)n=this.visitKeyframes(a,e);else{var o=t.styles,s=!1;if(!o){s=!0;var c={};i.easing&&(c.easing=i.easing),o=Object(r.l)(c)}e.currentTime+=i.duration+i.delay;var l=this.visitStyle(o,e);l.isEmptyStep=s,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==r.a?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var i=!1,a=null;return n.forEach((function(t){if(et(t)){var e=t,n=e.easing;if(n&&(a=n,delete e.easing),!i)for(var r in e)if(e[r].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:a,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,a=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(i){if(n._driver.validateStyleProperty(i)){var o,s,c,l,u,d=e.collectedStyles[e.currentQuerySelector],f=d[i],h=!0;f&&(r!=a&&r>=f.startTime&&a<=f.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(r,'ms" and "').concat(a,'ms"')),h=!1),r=f.startTime),h&&(d[i]={startTime:r,endTime:a}),e.options&&(o=t[i],s=e.options,c=e.errors,l=s.params||{},(u=Z(o)).length&&u.forEach((function(t){l.hasOwnProperty(t)||c.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var a=0,r=[],o=!1,s=!1,c=0,l=t.steps.map((function(t){var i=n._makeStyleAst(t,e),l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(et(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(et(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),u=0;return null!=l&&(a++,u=i.offset=l),s=s||u<0||u>1,o=o||u<c,c=u,r.push(u),i}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");var u=t.steps.length,d=0;a>0&&a<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(d=1/(u-1));var f=u-1,h=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return l.forEach((function(t,a){var o=d>0?a==f?1:d*a:r[a],s=o*m;e.currentTime=h+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=o,i.styles.push(t)})),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:Q(this,j(t.animation),e),options:nt(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:nt(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nt(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var a=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace($,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),r=a[0],o=a[1];e.currentQuerySelector=n.length?n+" "+r:r,f(e.collectedStyles,e.currentQuerySelector,{});var s=Q(this,j(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:nt(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:P(t.timings,e.errors,!0);return{type:12,animation:Q(this,j(t.animation),e),timings:n,options:null}}}]),t}(),tt=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function et(t){return!Array.isArray(t)&&"object"==typeof t}function nt(t){var e;return t?(t=T(t)).params&&(t.params=(e=t.params)?T(e):null):t={},t}function it(t,e,n){return{duration:t,delay:e,easing:n}}function at(t,e,n,i,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:a,delay:r,totalTime:a+r,easing:o,subTimeline:s}}var rt=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),ot=new RegExp(":enter","g"),st=new RegExp(":leave","g");function ct(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new lt).buildKeyframes(t,e,n,i,a,r,o,s,c,l)}var lt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,i,a,r,o,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new rt;var u=new dt(t,e,c,i,a,l,[]);u.options=s,u.currentTimeline.setStyles([r],null,u.errors,s),Q(this,n,u);var d=u.timelines.filter((function(t){return t.containsAnimation()}));if(d.length&&Object.keys(o).length){var f=d[d.length-1];f.allowOnlyTimelineStyles()||f.setStyles([o],null,u.errors,s)}return d.length?d.map((function(t){return t.buildKeyframes()})):[at(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),a=e.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);a!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,a=null!=n.duration?M(n.duration):null,r=null!=n.delay?M(n.delay):null;return 0!==a&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,a,r);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Q(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,a=e,r=t.options;if(r&&(r.params||r.delay)&&((a=e.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ut);var o=M(r.delay);a.delayNextStep(o)}t.steps.length&&(t.steps.forEach((function(t){return Q(n,t,a)})),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],a=e.currentTimeline.currentTime,r=t.options&&t.options.delay?M(t.options.delay):0;t.steps.forEach((function(o){var s=e.createSubContext(t.options);r&&s.delayNextStep(r),Q(n,o,s),a=Math.max(a,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(a),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return P(e.params?N(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(n.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var a=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(a):n.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,a=n.duration,r=e.createSubContext().currentTimeline;r.easing=n.easing,t.styles.forEach((function(t){r.forwardTime((t.offset||0)*a),r.setStyles(t.styles,t.easing,e.errors,e.options),r.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(r),e.transformIntoNewTimeline(i+a),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,a=t.options||{},r=a.delay?M(a.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ut);var o=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=s.length;var c=null;s.forEach((function(i,a){e.currentQueryIndex=a;var s=e.createSubContext(t.options,i);r&&s.delayNextStep(r),i===e.element&&(c=s.currentTimeline),Q(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,a=t.timings,r=Math.abs(a.duration),o=r*(e.currentQueryTotal-1),s=r*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var c=e.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;Q(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),t}(),ut={},dt=function(){function t(e,n,i,a,r,o,s,c){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ut,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ft(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,a=this.options;null!=i.duration&&(a.duration=M(i.duration)),null!=i.delay&&(a.delay=M(i.delay));var r=i.params;if(r){var o=a.params;o||(o=this.options.params={}),Object.keys(r).forEach((function(t){e&&o.hasOwnProperty(t)||(o[t]=N(r[t],o,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=n||this.element,r=new t(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=ut,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},a=new ht(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(a),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,a,r){var o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(ot,"."+this._enterClassName)).replace(st,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,_toConsumableArray(s))}return a||0!=o.length||r.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),o}},{key:"params",get:function(){return this.options.params}}]),t}(),ft=function(){function t(e,n,i,a){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||r.a,e._currentKeyframe[t]=r.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var a=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},s=function(t,e){var n,i={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){i[t]=r.a})):A(t,!1,i)})),i}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=N(s[t],o,n);a._pendingStyles[t]=e,a._localTimelineStyles.hasOwnProperty(t)||(a._backFill[t]=a._globalTimelineStyles.hasOwnProperty(t)?a._globalTimelineStyles[t]:r.a),a._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var i=e._styleSummary[n],a=t._styleSummary[n];(!i||a.time>i.time)&&e._updateStyle(n,a.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,a=[];this._keyframes.forEach((function(o,s){var c=A(o,!0);Object.keys(c).forEach((function(t){var i=c[t];i==r.p?e.add(t):i==r.a&&n.add(t)})),i||(c.offset=s/t.duration),a.push(c)}));var o=e.size?U(e.values()):[],s=n.size?U(n.values()):[];if(i){var c=a[0],l=T(c);c.offset=0,l.offset=1,a=[c,l]}return at(this.element,a,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),ht=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(c=e.call(this,t,i,s.delay)).element=i,c.keyframes=a,c.preStyleProps=r,c.postStyleProps=o,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,a=e.easing;if(this._stretchStartingKeyframe&&n){var r=[],o=i+n,s=n/o,c=A(t[0],!1);c.offset=0,r.push(c);var l=A(t[0],!1);l.offset=pt(s),r.push(l);for(var u=t.length-1,d=1;d<=u;d++){var f=A(t[d],!1);f.offset=pt((n+f.offset*i)/o),r.push(f)}i=o,n=0,a="",t=r}return at(this.element,t,this.preStyleProps,this.postStyleProps,i,n,a,!0)}}]),n}(ft);function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var mt,gt,bt=function t(){_classCallCheck(this,t)},vt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return z(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var a="",r=n.toString().trim();if(yt[e]&&0!==n&&"0"!==n)if("number"==typeof n)a="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return r+a}}]),n}(bt),yt=(mt="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),gt={},mt.forEach((function(t){return gt[t]=!0})),gt);function _t(t,e,n,i,a,r,o,s,c,l,u,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:a,fromState:n,fromStyles:r,toState:i,toStyles:o,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:f}}var kt={},Ct=function(){function t(e,n,i){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _createClass(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,a){return t.some((function(t){return t(e,n,i,a)}))}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],a=this._stateStyles[t],r=i?i.buildStyles(e,n):{};return a?a.buildStyles(e,n):r}},{key:"build",value:function(t,e,n,i,a,r,o,s,c,l){var u=[],d=this.ast.options&&this.ast.options.params||kt,h=this.buildStyles(n,o&&o.params||kt,u),p=s&&s.params||kt,m=this.buildStyles(i,p,u),g=new Set,b=new Map,v=new Map,y="void"===i,_={params:Object.assign(Object.assign({},d),p)},k=l?[]:ct(t,e,this.ast.animation,a,r,h,m,_,c,u),C=0;if(k.forEach((function(t){C=Math.max(t.duration+t.delay,C)})),u.length)return _t(e,this._triggerName,n,i,y,h,m,[],[],b,v,C,u);k.forEach((function(t){var n=t.element,i=f(b,n,{});t.preStyleProps.forEach((function(t){return i[t]=!0}));var a=f(v,n,{});t.postStyleProps.forEach((function(t){return a[t]=!0})),n!==e&&g.add(n)}));var x=U(g.values());return _t(e,this._triggerName,n,i,y,h,m,k,x,b,v,C)}}]),t}(),xt=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},i=T(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(i[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var a=t;Object.keys(a).forEach((function(t){var r=a[t];r.length>1&&(r=N(r,i,e)),n[t]=r}))}})),n}}]),t}(),wt=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){i.states[t.name]=new xt(t.style,t.options&&t.options.params||{})})),Ot(this.states,"true","1"),Ot(this.states,"false","0"),n.transitions.forEach((function(t){i.transitionFactories.push(new Ct(e,t,i.states))})),this.fallbackTransition=new Ct(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find((function(a){return a.match(t,e,n,i)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Ot(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var St=new rt,Et=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],i=J(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,a=c(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,a,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],c=this._animations[t],l=new Map;if(c?(n=ct(this._driver,e,c,"ng-enter","ng-leave",{},{},a,St,o)).forEach((function(t){var e=f(l,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));l.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=i._driver.computeStyle(e,n,r.a)}))}));var u=s(n.map((function(t){var e=l.get(t.element);return i._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return i.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,i){var a=d(e,"","","");return l(this._getPlayer(t),n,a,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var a=this._getPlayer(t);switch(n){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),Mt=[],It={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var i,a=e&&e.hasOwnProperty("value");if(this.value=null!=(i=a?e.value:e)?i:null,a){var r=T(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),At=new Tt("void"),Dt=function(){function t(e,n,i){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Nt(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,i){var a,r=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(a=n)&&"done"!=a)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var o=f(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);var c=f(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(Nt(t,"ng-trigger"),Nt(t,"ng-trigger-"+e),c[e]=At),function(){r._engine.afterFlush((function(){var t=o.indexOf(s);t>=0&&o.splice(t,1),r._triggers[e]||delete c[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this._getTrigger(e),o=new Lt(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Nt(t,"ng-trigger"),Nt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var c=s[e],l=new Tt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[e]=l,c||(c=At),"void"===l.value||c.value!==l.value){var u=f(this._engine.playersByElement,t,[]);u.forEach((function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()}));var d=r.matchTransition(c.value,l.value,t,l.params),h=!1;if(!d){if(!a)return;d=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:d,fromState:c,toState:l,player:o,isFallbackTransition:h}),h||(Nt(t,"ng-animate-queued"),o.onStart((function(){Ut(t,"ng-animate-queued")}))),o.onDone((function(){var e=i.players.indexOf(o);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var a=n.indexOf(o);a>=0&&n.splice(a,1)}})),this.players.push(o),u.push(o),o}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var a=0;a<n.length;a++){var r=n[a];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(c.params,l.params)){var p=[],m=r.matchStyles(c.value,c.params,p),g=r.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){F(t,m),L(t,g)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,i){e._elementListeners.set(i,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach((function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var a=this,r=this._engine.statesByElement.get(t);if(r){var o=[];if(Object.keys(r).forEach((function(e){if(a._triggers[e]){var n=a.trigger(t,e,"void",i);n&&o.push(n)}})),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&s(o).onDone((function(){return a._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach((function(n){var a=n.name;if(!i.has(a)){i.add(a);var r=e._triggers[a].fallbackTransition,o=e._engine.statesByElement.get(t)[a]||At,s=new Tt("void"),c=new Lt(e.id,a,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:a,transition:r,fromState:o,toState:s,player:c,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var a=!1;if(i.totalAnimations){var r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)a=!0;else for(var o=t;o=o.parentNode;)if(i.statesByElement.get(o)){a=!0;break}}if(this.prepareLeaveAnimationListeners(t),a)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==It||(i.afterFlush((function(){return n.clearElementCache(t)})),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Nt(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(i){var a=i.player;if(!a.destroyed){var r=i.element,o=e._elementListeners.get(r);o&&o.forEach((function(e){if(e.name==i.triggerName){var n=d(r,i.triggerName,i.fromState.value,i.toState.value);n._data=t,l(i.player,e.phase,n,e.callback)}})),a.markedForDestroy?e._engine.afterFlush((function(){a.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(t,n){var i=t.transition.ast.depCount,a=n.transition.ast.depCount;return 0==i||0==a?i-a:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Rt=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Dt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,a=n;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,e)){this._namespaceList.splice(a+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var r=n[i[a]].namespaceId;if(r){var o=this._fetchNamespace(r);o&&e.add(o)}}return e}},{key:"trigger",value:function(t,e,n,i){if(Ft(e)){var a=this._fetchNamespace(t);if(a)return a.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(Ft(e)){var a=e.__ng_removed;if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;var r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(t){var o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Nt(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ut(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(Ft(e)){var a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,a){return Ft(e)?this._fetchNamespace(t).listen(e,n,i,a):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,a)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return s(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=It,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Nt(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var a=[];try{n=this._flushAnimations(a,e)}finally{for(var r=0;r<a.length;r++)a[r]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var c=this._whenQuietFns;this._whenQuietFns=[],n.length?s(n).onDone((function(){c.forEach((function(t){return t()}))})):c.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new rt,a=[],o=new Map,c=[],l=new Map,u=new Map,d=new Map,h=new Set;this.disabledNodes.forEach((function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)h.add(e[i])}));var p=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=Zt(m,this.collectedEnterElements),b=new Map,v=0;g.forEach((function(t,e){var n="ng-enter"+v++;b.set(e,n),t.forEach((function(t){return Nt(t,n)}))}));for(var y=[],_=new Set,k=new Set,C=0;C<this.collectedLeaveElements.length;C++){var x=this.collectedLeaveElements[C],w=x.__ng_removed;w&&w.setForRemoval&&(y.push(x),_.add(x),w.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach((function(t){return _.add(t)})):k.add(x))}var O=new Map,S=Zt(m,Array.from(_));S.forEach((function(t,e){var n="ng-leave"+v++;O.set(e,n),t.forEach((function(t){return Nt(t,n)}))})),t.push((function(){g.forEach((function(t,e){var n=b.get(e);t.forEach((function(t){return Ut(t,n)}))})),S.forEach((function(t,e){var n=O.get(e);t.forEach((function(t){return Ut(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],M=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach((function(t){var e=t.player,r=t.element;if(E.push(e),n.collectedEnterElements.length){var o=r.__ng_removed;if(o&&o.setForMove)return void e.destroy()}var s=!p||!n.driver.containsElement(p,r),h=O.get(r),m=b.get(r),g=n._buildInstruction(t,i,m,h,s);if(g.errors&&g.errors.length)M.push(g);else{if(s)return e.onStart((function(){return F(r,g.fromStyles)})),e.onDestroy((function(){return L(r,g.toStyles)})),void a.push(e);if(t.isFallbackTransition)return e.onStart((function(){return F(r,g.fromStyles)})),e.onDestroy((function(){return L(r,g.toStyles)})),void a.push(e);g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(r,g.timelines),c.push({instruction:g,player:e,element:r}),g.queriedElements.forEach((function(t){return f(l,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var i=u.get(e);i||u.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}})),g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),i=d.get(e);i||d.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}))}}));if(M.length){var P=[];M.forEach((function(t){P.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return P.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(P)}var T=new Map,A=new Map;c.forEach((function(t){var e=t.element;i.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))})),a.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){f(T,e,[]).push(t),t.destroy()}))}));var D=y.filter((function(t){return zt(t,u,d)})),R=new Map;Yt(R,this.driver,k,d,r.a).forEach((function(t){zt(t,u,d)&&D.push(t)}));var j=new Map;g.forEach((function(t,e){Yt(j,n.driver,new Set(t),u,r.p)})),D.forEach((function(t){var e=R.get(t),n=j.get(t);R.set(t,Object.assign(Object.assign({},e),n))}));var Y=[],Z=[],N={};c.forEach((function(t){var e=t.element,r=t.player,c=t.instruction;if(i.has(e)){if(h.has(e))return r.onDestroy((function(){return L(e,c.toStyles)})),r.disabled=!0,r.overrideTotalTime(c.totalTime),void a.push(r);var l=N;if(A.size>1){for(var u=e,d=[];u=u.parentNode;){var f=A.get(u);if(f){l=f;break}d.push(u)}d.forEach((function(t){return A.set(t,l)}))}var p=n._buildAnimation(r.namespaceId,c,T,o,j,R);if(r.setRealPlayer(p),l===N)Y.push(r);else{var m=n.playersByElement.get(l);m&&m.length&&(r.parentPlayer=s(m)),a.push(r)}}else F(e,c.fromStyles),r.onDestroy((function(){return L(e,c.toStyles)})),Z.push(r),h.has(e)&&a.push(r)})),Z.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=s(e);t.setRealPlayer(n)}})),a.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var U=0;U<y.length;U++){var B=y[U],z=B.__ng_removed;if(Ut(B,"ng-leave"),!z||!z.hasAnimation){var V=[];if(l.size){var H=l.get(B);H&&H.length&&V.push.apply(V,_toConsumableArray(H));for(var Q=this.driver.query(B,".ng-animating",!0),W=0;W<Q.length;W++){var G=l.get(Q[W]);G&&G.length&&V.push.apply(V,_toConsumableArray(G))}}var q=V.filter((function(t){return!t.destroyed}));q.length?Bt(this,B,q):this.processLeaveNode(B)}}return y.length=0,Y.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),Y}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,a){var r=[];if(e){var o=this.playersByQueriedElement.get(t);o&&(r=o)}else{var s=this.playersByElement.get(t);if(s){var c=!a||"void"==a;s.forEach((function(t){t.queued||(c||t.triggerName==i)&&r.push(t)}))}}return(n||i)&&(r=r.filter((function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)}))),r}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,a=this,r=e.element,o=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,c=_createForOfIteratorHelper(e.timelines);try{var l=function(){var t=i.value.element,c=t!==r,l=f(n,t,[]);a._getPreviousPlayers(t,c,o,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)}))};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}F(r,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,a,o){var l=this,u=e.triggerName,d=e.element,h=[],p=new Set,m=new Set,g=e.timelines.map((function(e){var s=e.element;p.add(s);var f=s.__ng_removed;if(f&&f.removedBeforeQueried)return new r.d(e.duration,e.delay);var g,b,v=s!==d,y=(g=(n.get(s)||Mt).map((function(t){return t.getRealPlayer()})),b=[],function t(e,n){for(var i=0;i<e.length;i++){var a=e[i];a instanceof r.o?t(a.players,n):n.push(a)}}(g,b),b).filter((function(t){return!!t.element&&t.element===s})),_=a.get(s),k=o.get(s),C=c(0,l._normalizer,0,e.keyframes,_,k),x=l._buildPlayer(e,C,y);if(e.subTimeline&&i&&m.add(s),v){var w=new Lt(t,u,s);w.setRealPlayer(x),h.push(w)}return x}));h.forEach((function(t){f(l.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete t[e]}return i}(l.playersByQueriedElement,t.element,t)}))})),p.forEach((function(t){return Nt(t,"ng-animating")}));var b=s(g);return b.onDestroy((function(){p.forEach((function(t){return Ut(t,"ng-animating")})),L(d,e.toStyles)})),m.forEach((function(t){f(i,t,[]).push(b)})),b}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new r.d(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Lt=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new r.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return l(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){f(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Ft(t){return t&&1===t.nodeType}function jt(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Yt(t,e,n,i,a){var r=[];n.forEach((function(t){return r.push(jt(t))}));var o=[];i.forEach((function(n,i){var r={};n.forEach((function(t){var n=r[t]=e.computeStyle(i,t,a);n&&0!=n.length||(i.__ng_removed=Pt,o.push(i))})),t.set(i,r)}));var s=0;return n.forEach((function(t){return jt(t,r[s++])})),o}function Zt(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var i=new Set(e),a=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var r=a.get(e);if(r)return r;var o=e.parentNode;return r=n.has(o)?o:i.has(o)?1:t(o),a.set(e,r),r}(t);1!==e&&n.get(e).push(t)})),n}function Nt(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ut(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Bt(t,e,n){s(n).onDone((function(){return t.processLeaveNode(e)}))}function zt(t,e,n){var i=n.get(t);if(!i)return!1;var a=e.get(t);return a?i.forEach((function(t){return a.add(t)})):e.set(t,i),n.delete(t),!0}var Vt=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Rt(e,n,i),this._timelineEngine=new Et(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return a.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,i,a){var r=t+"-"+i,o=this._triggerCache[r];if(!o){var s=[],c=J(this._driver,a,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(t,e){return new wt(t,e)}(i,c),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(e,i,o)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var a=_slicedToArray(h(n),2),r=a[0],o=a[1];this._timelineEngine.command(r,e,o,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,a){if("@"==n.charAt(0)){var r=_slicedToArray(h(n),2),o=r[0],s=r[1];return this._timelineEngine.listen(o,e,s,a)}return this._transitionEngine.listen(t,e,n,i,a)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Ht(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=Wt(e[0]),e.length>1&&(i=Wt(e[e.length-1]))):e&&(n=Wt(e)),n||i?new Qt(t,n,i):null}var Qt=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var a=t.initialStylesByElement.get(e);a||t.initialStylesByElement.set(e,a={}),this._initialStyles=a}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&L(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(L(this._element,this._initialStyles),this._endStyles&&(L(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(F(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(F(this._element,this._endStyles),this._endStyles=null),L(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Wt(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var a=n[i];Gt(a)&&((e=e||{})[a]=t[a])}return e}function Gt(t){return"display"===t||"position"===t}var qt=function(){function t(e,n,i,a,r,o,s){var c=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=i,this._delay=a,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return c._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ee(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),te(t,"",e),Kt(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Xt(this._element,this._name,"paused")}},{key:"resume",value:function(){Xt(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=$t(this._element,this._name);this._position=t*this._duration,te(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Kt(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=ee(t,"").split(","),(i=Jt(n,e))>=0&&(n.splice(i,1),te(t,"",n.join(","))))}}]),t}();function Xt(t,e,n){te(t,"PlayState",n,$t(t,e))}function $t(t,e){var n=ee(t,"");return n.indexOf(",")>0?Jt(n.split(","),e):Jt([n],e)}function Jt(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Kt(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function te(t,e,n,i){var a="animation"+e;if(null!=i){var r=t.style[a];if(r.length){var o=r.split(",");o[i]=n,n=o.join(",")}}t.style[a]=n}function ee(t,e){return t.style["animation"+e]}var ne=function(){function t(e,n,i,a,r,o,s,c){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=a,this._delay=r,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=a+r,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new qt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:W(t.element,i))}))}this.currentSnapshot=e}}]),t}(),ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this)).element=t,a._startingStyles={},a.__initialized=!1,a._styles=w(i),a}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(r.d),ae=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return _(t)}},{key:"matchesElement",value:function(t,e){return k(t,e)}},{key:"containsElement",value:function(t,e){return C(t,e)}},{key:"query",value:function(t,e,n){return x(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return w(t)}));var i="@keyframes ".concat(e," {\n"),a="";n.forEach((function(t){a=" ";var e=parseFloat(t.offset);i+="".concat(a).concat(100*e,"% {\n"),a+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(a,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(a).concat(e,": ").concat(n,";\n"))}})),i+=a+"}\n"})),i+="}\n";var r=document.createElement("style");return r.innerHTML=i,r}},{key:"animate",value:function(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;o&&this._notifyFaultyScrubber();var s=r.filter((function(t){return t instanceof ne})),c={};V(n,i)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return c[t]=e[t]}))}));var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=H(t,e,c));if(0==n)return new ie(t,l);var u="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(d);var f=Ht(t,e),h=new ne(t,e,u,n,i,a,l,f);return h.onDestroy((function(){var t;(t=d).parentNode.removeChild(t)})),h}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),re=function(){function t(e,n,i,a){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:W(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),oe=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(se().toString()),this._cssKeyframesDriver=new ae}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return _(t)}},{key:"matchesElement",value:function(t,e){return k(t,e)}},{key:"containsElement",value:function(t,e){return C(t,e)}},{key:"query",value:function(t,e,n){return x(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,a,r);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};a&&(s.easing=a);var c={},l=r.filter((function(t){return t instanceof re}));V(n,i)&&l.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return c[t]=e[t]}))}));var u=Ht(t,e=H(t,e=e.map((function(t){return A(t,!1)})),c));return new re(t,e,s,u)}}]),t}();function se(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ce,le=n("ofXK"),ue=((ce=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a){var r;return _classCallCheck(this,n),(r=e.call(this))._nextAnimationId=0,r._renderer=t.createRenderer(a.body,{id:"0",encapsulation:i.S.None,styles:[],data:{animation:[]}}),r}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Object(r.j)(t):t;return he(this._renderer,null,e,"register",[n]),new de(e,this._renderer)}}]),n}(r.b)).\u0275fac=function(t){return new(t||ce)(i.dc(i.I),i.dc(le.e))},ce.\u0275prov=i.Pb({token:ce,factory:ce.\u0275fac}),ce),de=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this))._id=t,a._renderer=i,a}return _createClass(n,[{key:"create",value:function(t,e){return new fe(this._id,t,e||{},this._renderer)}}]),n}(r.c),fe=function(){function t(e,n,i,a){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return he(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function he(t,e,n,i,a){return t.setProperty(e,"@@".concat(n,":").concat(i),a)}var pe,me,ge,be=((pe=function(){function t(e,n,i){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var a=this._rendererCache.get(i);return a||(a=new ve("",i,this.engine),this._rendererCache.set(i,a)),a}var r=e.id,o=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,t),e.data.animation.forEach((function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(r,o,t,i.name,i)})),new ye(this,o,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||pe)(i.dc(i.I),i.dc(Vt),i.dc(i.B))},pe.\u0275prov=i.Pb({token:pe,factory:pe.\u0275fac}),pe),ve=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,i,a,r)).factory=t,o.namespaceId=i,o}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i,a,r=this;if("@"==e.charAt(0)){var o,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=e.substr(1),l="";return"@"!=c.charAt(0)&&(a=(i=c).indexOf("."),c=(o=_slicedToArray([i.substring(0,a),i.substr(a+1)],2))[0],l=o[1]),this.engine.listen(this.namespaceId,s,c,l,(function(t){r.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(ve),_e=((me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){return _classCallCheck(this,n),e.call(this,t.body,i,a)}return n}(Vt)).\u0275fac=function(t){return new(t||me)(i.dc(le.e),i.dc(E),i.dc(bt))},me.\u0275prov=i.Pb({token:me,factory:me.\u0275fac}),me),ke=new i.r("AnimationModuleType"),Ce=[{provide:E,useFactory:function(){return"function"==typeof se()?new oe:new ae}},{provide:ke,useValue:"BrowserAnimations"},{provide:r.b,useClass:ue},{provide:bt,useFactory:function(){return new vt}},{provide:Vt,useClass:_e},{provide:i.I,useFactory:function(t,e,n){return new be(t,e,n)},deps:[a.f,Vt,i.B]}],xe=((ge=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:ge}),ge.\u0275inj=i.Qb({factory:function(t){return new(t||ge)},providers:Ce,imports:[a.a]}),ge)},RmLz:function(t,e,n){"use strict";var i=n("IKMM"),a=n("nzqU");e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return a.isScheduler(n)?(t.pop(),function(e){return i.concat(t,e,n)}):function(e){return i.concat(t,e)}}},Ro8j:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("fXoL"),a=n("sYmb"),r=n("4zkx"),o=n("ofXK"),s=n("bTqV"),c=n("NFeN");function l(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",5),i.hc("click",(function(){return i.Hc(n),i.lc(2).headerService.sideNavLeft.open()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",6),i.Yb()}2&t&&i.tc("title",i.nc(1,1,"lang.openSidePanel"))}function u(t,e){if(1&t&&i.Ub(0,"i"),2&t){var n=i.lc(2);i.Hb("",n.headerService.headerMessageIcon," headerIcon")}}function d(t,e){if(1&t&&(i.Zb(0,"div",1),i.Qc(1,l,3,3,"button",2),i.Qc(2,u,1,3,"i",3),i.Sc(3),i.Zb(4,"span",4),i.Sc(5),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",!n.headerService.sideNavLeft.opened),i.Eb(1),i.sc("ngIf",""!==n.headerService.headerMessageIcon),i.Eb(1),i.Uc(" ",n.headerService.headerMessage," "),i.Eb(2),i.Tc(n.headerService.subHeaderMessage)}}var f=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.headerService=n,this.config={}}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.e),i.Tb(r.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["header-left"]],inputs:{snavLeft:"snavLeft"},decls:1,vars:1,consts:[["class","bg-head-title-label",4,"ngIf"],[1,"bg-head-title-label"],["mat-icon-button","","style","font-size:20px;",3,"title","click",4,"ngIf"],[3,"class",4,"ngIf"],[1,"admin-toolbar-title-small"],["mat-icon-button","",2,"font-size","20px",3,"title","click"],[1,"fa","fa-stream"]],template:function(t,e){1&t&&i.Qc(0,d,6,4,"div",0),2&t&&i.sc("ngIf",void 0!==e.headerService.sideNavLeft)},directives:[o.t,s.b,c.a],pipes:[a.d],styles:[".bg-head-title-label[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{position:absolute;margin-left:-35px;margin-top:-10px}.headerIcon[_ngcontent-%COMP%]{font-size:22px}"]}),t}()},SIQe:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("0IaG"),a=n("fXoL"),r=n("sYmb"),o=n("ofXK"),s=n("bTqV");function c(t,e){if(1&t&&(a.Zb(0,"h1",5),a.Sc(1),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.Tc(n.data.title)}}function l(t,e){if(1&t&&(a.Zb(0,"div",6),a.Ub(1,"div",7),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.Hb("alert-message ",n.data.mode,""),a.sc("innerHTML",n.data.msg,a.Ic)}}function u(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",8),a.Zb(1,"button",9),a.hc("click",(function(){return a.Hc(n),a.lc().dialogRef.close()})),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(2),a.Tc(a.nc(3,1,"lang.ok")))}var d=function(){var t=function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.data=n,this.dialogRef=i,null==this.data.mode&&(this.data.mode="info"),this.data.mode="alert-message-"+this.data.mode,null===this.data.msg&&(this.data.msg="")};return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(i.a),a.Tb(i.h))},t.\u0275cmp=a.Nb({type:t,selectors:[["ng-component"]],decls:5,vars:3,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title","",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHTML"],["mat-dialog-actions",""],["id","alertComponentClose","color","primary","mat-raised-button","",1,"actions",3,"click"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Qc(1,c,2,1,"h1",1),a.Qc(2,l,2,4,"div",2),a.Ub(3,"span",3),a.Qc(4,u,4,3,"div",4),a.Yb()),2&t&&(a.Eb(1),a.sc("ngIf",""!==e.data.title),a.Eb(1),a.sc("ngIf",""!==e.data.msg),a.Eb(2),a.sc("ngIf",!e.data.hidebutton))},directives:[o.t,i.i,i.f,i.c,s.b],pipes:[r.d],styles:[".alert-message-info[_ngcontent-%COMP%]{margin:0;font-size:16px}"]}),t}()},STbY:function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return D})),n.d(e,"c",(function(){return H})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return Z}));var i=n("u47x"),a=n("8LU1"),r=n("FtGj"),o=n("fXoL"),s=n("XNiG"),c=n("quSY"),l=n("VRyK"),u=n("LRne"),d=n("7Hc7"),f=n("JX91"),h=n("eIep"),p=n("IzEk"),m=n("pLZG"),g=n("1G5W"),b=n("3E0/"),v=n("R0Ic"),y=n("+rOU"),_=n("ofXK"),k=n("FKr1"),C=n("rDax"),x=n("nLfN"),w=n("vxfF"),O=n("cH1L"),S=["mat-menu-item",""],E=["*"];function M(t,e){if(1&t){var n=o.ac();o.Zb(0,"div",0),o.hc("keydown",(function(t){return o.Hc(n),o.lc()._handleKeydown(t)}))("click",(function(){return o.Hc(n),o.lc().closed.emit("click")}))("@transformMenu.start",(function(t){return o.Hc(n),o.lc()._onAnimationStart(t)}))("@transformMenu.done",(function(t){return o.Hc(n),o.lc()._onAnimationDone(t)})),o.Zb(1,"div",1),o.qc(2),o.Yb(),o.Yb()}if(2&t){var i=o.lc();o.sc("id",i.panelId)("ngClass",i._classList)("@transformMenu",i._panelAnimationState),o.Fb("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var I={transformMenu:Object(v.n)("transformMenu",[Object(v.k)("void",Object(v.l)({opacity:0,transform:"scale(0.8)"})),Object(v.m)("void => enter",Object(v.g)([Object(v.i)(".mat-menu-content, .mat-mdc-menu-content",Object(v.e)("100ms linear",Object(v.l)({opacity:1}))),Object(v.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(v.l)({transform:"scale(1)"}))])),Object(v.m)("* => void",Object(v.e)("100ms 25ms linear",Object(v.l)({opacity:0})))]),fadeInItems:Object(v.n)("fadeInItems",[Object(v.k)("showing",Object(v.l)({opacity:1})),Object(v.m)("void => *",[Object(v.l)({opacity:0}),Object(v.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},P=function(){var t=function(){function t(e,n,i,a,r,o,c){_classCallCheck(this,t),this._template=e,this._componentFactoryResolver=n,this._appRef=i,this._injector=a,this._viewContainerRef=r,this._document=o,this._changeDetectorRef=c,this._attached=new s.a}return _createClass(t,[{key:"attach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new y.j(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new y.f(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.O),o.Tb(o.j),o.Tb(o.g),o.Tb(o.s),o.Tb(o.R),o.Tb(_.e),o.Tb(o.h))},t.\u0275dir=o.Ob({type:t,selectors:[["ng-template","matMenuContent",""]]}),t}(),T=new o.r("MAT_MENU_PANEL"),A=Object(k.A)(Object(k.B)((function t(){_classCallCheck(this,t)}))),D=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this))._elementRef=t,o._focusMonitor=a,o._parentMenu=r,o.role="menuitem",o._hovered=new s.a,o._focused=new s.a,o._highlighted=!1,o._triggersSubmenu=!1,a&&a.monitor(o._elementRef,!1),r&&r.addItem&&r.addItem(_assertThisInitialized(o)),o._document=i,o}return _createClass(n,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var i=t.childNodes.length,a=0;a<i;a++)t.childNodes[a].nodeType===e&&(n+=t.childNodes[a].textContent);return n.trim()}}]),n}(A);return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(_.e),o.Tb(i.h),o.Tb(T,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&o.hc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(o.Fb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),o.Jb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.Bb],attrs:S,ngContentSelectors:E,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(o.rc(),o.qc(0),o.Ub(1,"div",0)),2&t&&(o.Eb(1),o.sc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[k.t],encapsulation:2,changeDetection:0}),t}(),R=new o.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),L=0,F=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.G,this._tabSubscription=c.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new s.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.o,this.close=this.closed,this.panelId="mat-menu-panel-"+L++}return _createClass(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new i.g(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")})),this._directDescendantItems.changes.pipe(Object(f.a)(this._directDescendantItems),Object(h.a)((function(t){return Object(l.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._focused}))))}))).subscribe((function(e){return t._keyManager.updateActiveItem(e)}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Object(f.a)(this._directDescendantItems),Object(h.a)((function(t){return Object(l.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._hovered}))))})))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case r.h:Object(r.v)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case r.k:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case r.o:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case r.j:case r.f:Object(r.v)(t)||(e===r.j?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:e!==r.s&&e!==r.e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe((function(){return t._focusFirstItem(e)})):this._focusFirstItem(e)}},{key:"_focusFirstItem",value:function(t){var e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Object(f.a)(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=Object(a.c)(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Object(a.c)(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(o.B),o.Tb(R))},t.\u0275dir=o.Ob({type:t,contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,P,!0),o.Lb(n,D,!0),o.Lb(n,D,!1)),2&t&&(o.Cc(i=o.ic())&&(e.lazyContent=i.first),o.Cc(i=o.ic())&&(e._allItems=i),o.Cc(i=o.ic())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&o.ad(o.O,!0),2&t&&o.Cc(n=o.ic())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t}(),j=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(F);return t.\u0275fac=function(e){return Y(e||t)},t.\u0275dir=o.Ob({type:t,features:[o.Bb]}),t}(),Y=o.bc(j),Z=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){return _classCallCheck(this,n),e.call(this,t,i,a)}return n}(j);return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(o.B),o.Tb(R))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[o.Db([{provide:T,useExisting:j},{provide:j,useExisting:t}]),o.Bb],ngContentSelectors:E,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(o.rc(),o.Qc(0,M,3,6,"ng-template"))},directives:[_.q],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[I.transformMenu,I.fadeInItems]},changeDetection:0}),t}(),N=new o.r("mat-menu-scroll-strategy"),U={provide:N,deps:[C.c],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},B=Object(x.f)({passive:!0}),z=function(){var t=function(){function t(e,n,i,a,r,s,l,u){var d=this;_classCallCheck(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._parentMenu=r,this._menuItemInstance=s,this._dir=l,this._focusMonitor=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=c.a.EMPTY,this._hoverSubscription=c.a.EMPTY,this._menuCloseSubscription=c.a.EMPTY,this._handleTouchStart=function(){return d._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new o.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.o,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,B),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=a}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,B),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof j&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof j?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Object(m.a)((function(t){return"void"===t.toState})),Object(p.a)(1),Object(g.a)(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new C.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))}},{key:"_setPosition",value:function(t){var e=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],i=e[1],a=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),r=a[0],o=a[1],s=r,c=o,l=n,u=i,d=0;this.triggersSubmenu()?(u=n="before"===this.menu.xPosition?"start":"end",i=l="end"===n?"start":"end",d="bottom"===r?8:-8):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",c="top"===o?"bottom":"top"),t.withPositions([{originX:n,originY:s,overlayX:l,overlayY:r,offsetY:d},{originX:i,originY:s,overlayX:u,overlayY:r,offsetY:d},{originX:n,originY:c,overlayX:l,overlayY:o,offsetY:-d},{originX:i,originY:c,overlayX:u,overlayY:o,offsetY:-d}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),i=this._parentMenu?this._parentMenu.closed:Object(u.a)(),a=this._parentMenu?this._parentMenu._hovered().pipe(Object(m.a)((function(e){return e!==t._menuItemInstance})),Object(m.a)((function(){return t._menuOpen}))):Object(u.a)();return Object(l.a)(e,i,a,n)}},{key:"_handleMousedown",value:function(t){Object(i.l)(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(e===r.o&&"ltr"===this.dir||e===r.k&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(m.a)((function(e){return e===t._menuItemInstance&&!e.disabled})),Object(b.a)(0,d.a)).subscribe((function(){t._openedBy="mouse",t.menu instanceof j&&t.menu._isAnimating?t.menu._animationDone.pipe(Object(p.a)(1),Object(b.a)(0,d.a),Object(g.a)(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new y.j(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(C.c),o.Tb(o.l),o.Tb(o.R),o.Tb(N),o.Tb(j,8),o.Tb(D,10),o.Tb(O.c,8),o.Tb(i.h))},t.\u0275dir=o.Ob({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&o.hc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&o.Fb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t}(),V=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[U],imports:[k.j]}),t}(),H=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[U],imports:[[_.c,k.j,k.u,C.f,V],w.c,k.j,V]}),t}()},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("ngJS"),a=n("NJ4a"),r=n("Lhse"),o=n("kJWO"),s=n("I55L"),c=n("c2HN"),l=n("XoHu"),u=function(t){if(t&&"function"==typeof t[o.a])return u=t,function(t){var e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,a.a),t};if(t&&"function"==typeof t[r.a])return e=t,function(t){for(var n=e[r.a]();;){var i=void 0;try{i=n.next()}catch(a){return t.error(a),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,u,d=Object(l.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(d," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",(function(){return i}))},TCaw:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="TCaw"},TU8p:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d}));var i=n("fXoL"),a=n("FKr1"),r=n("u47x"),o=n("8LU1"),s=n("R1ws"),c=0,l=Object(a.B)((function t(){_classCallCheck(this,t)})),u=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o,s){var l;if(_classCallCheck(this,n),(l=e.call(this))._ngZone=t,l._elementRef=a,l._ariaDescriber=r,l._renderer=o,l._animationMode=s,l._hasContent=!1,l._color="primary",l._overlap=!0,l.position="above after",l.size="medium",l._id=c++,Object(i.Y)()){var u=a.nativeElement;if(u.nodeType!==u.ELEMENT_NODE)throw Error("matBadge must be attached to an element node.")}return _possibleConstructorReturn(l)}return _createClass(n,[{key:"isAbove",value:function(){return-1===this.position.indexOf("below")}},{key:"isAfter",value:function(){return-1===this.position.indexOf("before")}},{key:"ngOnChanges",value:function(t){var e=t.content;if(e){var n=e.currentValue;this._hasContent=null!=n&&(""+n).trim().length>0,this._updateTextContent()}}},{key:"ngOnDestroy",value:function(){var t=this._badgeElement;t&&(this.description&&this._ariaDescriber.removeDescription(t,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(t))}},{key:"getBadgeElement",value:function(){return this._badgeElement}},{key:"_updateTextContent",value:function(){return this._badgeElement?this._badgeElement.textContent=this.content:this._badgeElement=this._createBadgeElement(),this._badgeElement}},{key:"_createBadgeElement",value:function(){var t=this._renderer.createElement("span");return this._clearExistingBadges("mat-badge-content"),t.setAttribute("id","mat-badge-content-"+this._id),t.classList.add("mat-badge-content"),t.textContent=this.content,"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this.description&&t.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t.classList.add("mat-badge-active")}))})):t.classList.add("mat-badge-active"),t}},{key:"_updateHostAriaDescription",value:function(t,e){var n=this._updateTextContent();e&&this._ariaDescriber.removeDescription(n,e),t&&this._ariaDescriber.describe(n,t)}},{key:"_setColor",value:function(t){t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-badge-"+this._color),t&&this._elementRef.nativeElement.classList.add("mat-badge-"+t))}},{key:"_clearExistingBadges",value:function(t){for(var e=this._elementRef.nativeElement,n=e.children.length;n--;){var i=e.children[n];i.classList.contains(t)&&e.removeChild(i)}}},{key:"color",get:function(){return this._color},set:function(t){this._setColor(t),this._color=t}},{key:"overlap",get:function(){return this._overlap},set:function(t){this._overlap=Object(o.c)(t)}},{key:"description",get:function(){return this._description},set:function(t){if(t!==this._description){var e=this._badgeElement;this._updateHostAriaDescription(t,this._description),this._description=t,e&&(t?e.setAttribute("aria-label",t):e.removeAttribute("aria-label"))}}},{key:"hidden",get:function(){return this._hidden},set:function(t){this._hidden=Object(o.c)(t)}}]),n}(l);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.B),i.Tb(i.l),i.Tb(r.c),i.Tb(i.H),i.Tb(s.a,8))},t.\u0275dir=i.Ob({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,e){2&t&&i.Jb("mat-badge-overlap",e.overlap)("mat-badge-above",e.isAbove())("mat-badge-below",!e.isAbove())("mat-badge-before",!e.isAfter())("mat-badge-after",e.isAfter())("mat-badge-small","small"===e.size)("mat-badge-medium","medium"===e.size)("mat-badge-large","large"===e.size)("mat-badge-hidden",e.hidden||!e._hasContent)("mat-badge-disabled",e.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[i.Bb,i.Cb]}),t}(),d=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[r.a,a.j],a.j]}),t}()},"U+qY":function(t,e,n){"use strict";n.d(e,"a",(function(){return Xt}));var i,a=n("vWc3"),r=n("GUHb"),o=n("mCt4"),s=n("+AL4"),c=n("IkSl"),l=n("IOqN"),u=n("cMWS"),d=n("fXoL"),f=n("sYmb"),h=n("ofXK"),p=n("ZnWJ"),m=n("mLrj"),g=n("F8Z3"),b=n("Ro8j"),v=n("qQ0q"),y=n("kmnG"),_=n("qFsG"),k=n("bTqV"),C=n("NFeN"),x=((i=function(){function t(e){_classCallCheck(this,t),this.translate=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)(d.Tb(f.e))},i.\u0275cmp=d.Nb({type:i,selectors:[["search-home"]],decls:13,vars:9,consts:[["ngNoForm","","name","choose_query","id","choose_query","method","post","action","index.php?display=true&dir=indexing_searching&page=search_adv_result",2,"margin-bottom","0px"],["type","hidden","name","meta[]","value","baskets_clause#baskets_clause#select_simple"],["type","hidden","name","meta[]","value","welcome#welcome#welcome"],["type","hidden","name","baskets_clause","value","true"],["id","searchInput","floatLabel","never",2,"width","100%"],["matInput","","type","text","name","welcome",2,"width","100%",3,"placeholder"],["mat-button","","matSuffix","","mat-icon-button","","type","submit","aria-label","Clear",2,"opacity","0.5",3,"title"],[1,"fa","fa-search"],["type","submit","name","submit","value","",2,"display","none"],["searchHome",""]],template:function(t,e){1&t&&(d.Zb(0,"form",0),d.Ub(1,"input",1),d.Ub(2,"input",2),d.Ub(3,"input",3),d.Zb(4,"mat-form-field",4),d.Ub(5,"input",5),d.mc(6,"translate"),d.Zb(7,"button",6),d.mc(8,"translate"),d.mc(9,"translate"),d.Ub(10,"mat-icon",7),d.Yb(),d.Yb(),d.Ub(11,"input",8,9),d.Yb()),2&t&&(d.Eb(5),d.tc("placeholder",d.nc(6,3,"lang.searchMails")),d.Eb(2),d.vc("title","",d.nc(8,5,"lang.quickSearchInfo")," : ",d.nc(9,7,"lang.quickSearchTarget"),""))},directives:[y.c,_.b,k.b,y.j,C.a],pipes:[f.d],encapsulation:2}),i),w=n("QNbu"),O=n("3Pt+"),S=n("tyNb"),E=n("bSwM"),M=n("cH1L"),I=n("vxfF"),P=n("d3UM"),T=n("FKr1"),A=n("1jcm"),D=n("ihCf"),R=n("Qu3c"),L=n("wZkO"),F=n("XhcP"),j=n("Wp6s"),Y=n("jaxi"),Z=n("Xa2L"),N=n("bv9b"),U=n("/t3+"),B=n("STbY"),z=n("zkoq"),V=n("+0xr"),H=n("M9IT"),Q=n("Dh3D"),W=n("iadO"),G=n("7EHt"),q=n("/1cH"),X=n("dNgK"),$=n("0IaG"),J=n("MutI"),K=n("f0Cb"),tt=n("A5z7"),et=n("xHqg"),nt=n("QibW"),it=n("5RNC"),at=n("TU8p"),rt=n("2ChS"),ot=n("8yBR"),st=n("lJEt"),ct=n("0vfS"),lt=n("5+WD"),ut=n("63qU"),dt=n("sTim"),ft=n("fBaO"),ht=n("y9tK"),pt=n("w9N8"),mt=n("dATD"),gt=n("Gon0"),bt=n("VdM8"),vt=n("7gPu"),yt=n("jbvq"),_t=n("XkWp"),kt=n("IsdP"),Ct=n("/kMP"),xt=n("bblj"),wt=n("OigG"),Ot=n("JX91"),St=n("lJxs"),Et=n("tk/3"),Mt=n("AXEc"),It=n("aEDk"),Pt=["acInput"],Tt=["auto"];function At(t,e){if(1&t){var n=d.ac();d.Zb(0,"mat-chip",7),d.hc("removed",(function(){d.Hc(n);var t=e.$implicit;return d.lc().remove(t)})),d.Sc(1),d.Ub(2,"mat-icon",8),d.Yb()}if(2&t){var i=e.$implicit;d.Eb(1),d.Uc(" ",i," ")}}function Dt(t,e){if(1&t&&(d.Zb(0,"mat-option",9),d.Sc(1),d.Yb()),2&t){var n=e.$implicit,i=d.lc();d.sc("value",n)("disabled",i.datasFormControl.value.indexOf(n)>-1),d.Eb(1),d.Uc(" ",n," ")}}var Rt,Lt,Ft=((Rt=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialog=a,this.latinisePipe=r,this.inputFormControl=new O.h,this.loading=!1,this.appearance="legacy",this.required=!1,this.options=[],this.inputLabel="Mon champ",this.targetSearchKey=null,this.datasFormControl=new O.h({value:[],disabled:!1}),this.afterSelected=new d.o,this.valuesToDisplay={}}return _createClass(t,[{key:"ngOnInit",value:function(){console.log(Object.keys(this.options[0]))}},{key:"getLabel",value:function(t){return this.options.length>0&&Object.keys(2===this.options[0].length)?t[this.targetSearchKey]:t}},{key:"initAutocompleteData",value:function(){var t=this;this.filteredOptions=this.inputFormControl.valueChanges.pipe(Object(Ot.a)(null),Object(St.a)((function(e){return e?t._filter(e):t.options.slice()})))}},{key:"add",value:function(t){var e=t.input,n=t.value;(n||"").trim()&&this.datasFormControl.value.push(n.trim()),e&&(e.value=""),this.inputFormControl.setValue(null)}},{key:"remove",value:function(t){console.log(t);var e=this.datasFormControl.value.indexOf(t);if(e>=0){var n=[];(n=this.datasFormControl.value).splice(e,1),this.datasFormControl.setValue(n)}}},{key:"selected",value:function(t){this.datasFormControl.value.push(t.option.viewValue),this.acInput.nativeElement.value="",this.inputFormControl.setValue(null)}},{key:"_filter",value:function(t){var e=t.toLowerCase();return this.datasFormControl.value.filter((function(t){return t.toLowerCase().indexOf(e)>-1}))}}]),t}()).\u0275fac=function(t){return new(t||Rt)(d.Tb(f.e),d.Tb(Et.b),d.Tb(Mt.a),d.Tb($.b),d.Tb(It.c))},Rt.\u0275cmp=d.Nb({type:Rt,selectors:[["app-autocomplete-list"]],viewQuery:function(t,e){var n;1&t&&(d.ad(Pt,!0),d.ad(Tt,!0)),2&t&&(d.Cc(n=d.ic())&&(e.acInput=n.first),d.Cc(n=d.ic())&&(e.matAutocomplete=n.first))},inputs:{appearance:"appearance",required:"required",options:"options",inputLabel:"inputLabel",targetSearchKey:"targetSearchKey",datasFormControl:"datasFormControl"},outputs:{afterSelected:"afterSelected"},decls:10,vars:8,consts:[["chipList",""],[3,"removed",4,"ngFor","ngForOf"],[3,"placeholder","formControl","matAutocomplete","matChipInputFor"],["acInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove","",1,"fa","fa-times-circle"],[3,"value","disabled"]],template:function(t,e){if(1&t&&(d.Zb(0,"mat-form-field"),d.Zb(1,"mat-chip-list",null,0),d.Qc(3,At,3,1,"mat-chip",1),d.Ub(4,"input",2,3),d.Yb(),d.Zb(6,"mat-autocomplete",4,5),d.hc("optionSelected",(function(t){return e.selected(t)})),d.Qc(8,Dt,2,3,"mat-option",6),d.mc(9,"async"),d.Yb(),d.Yb()),2&t){var n=d.Dc(2),i=d.Dc(7);d.Eb(3),d.sc("ngForOf",e.datasFormControl.value),d.Eb(1),d.sc("placeholder",e.inputLabel)("formControl",e.inputFormControl)("matAutocomplete",i)("matChipInputFor",n),d.Eb(4),d.sc("ngForOf",d.nc(9,6,e.filteredOptions))}},directives:[y.c,tt.d,h.s,O.c,q.d,tt.c,O.t,O.i,q.a,tt.a,C.a,tt.e,T.o],pipes:[h.b],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px} .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#135f7f} .mat-form-field-prefix{top:0!important}.mat-option[_ngcontent-%COMP%]    .mat-option-text{display:flex}.mat-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:110%;font-weight:700}.autcompleteIcon[_ngcontent-%COMP%]{width:20px;display:flex;align-items:center}.smallInput[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle}.input-form[_ngcontent-%COMP%]    .mat-form-field-prefix{left:15px}.activeListAutocomplete[_ngcontent-%COMP%]{font-size:13px;height:auto}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.autoCompleteInfoResult[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),Rt),jt=n("qSQ4"),Yt=n("dXBx"),Zt=n("mb9D"),Nt=n("PGLw"),Ut=n("WUgQ"),Bt=n("dUgt"),zt=n("8N1J"),Vt=n("8IW6"),Ht=n("MhE4"),Qt=n("wQTr"),Wt=n("1YbM"),Gt=n("ZI/H"),qt=n("0ST6"),Xt=((Lt=function t(e){_classCallCheck(this,t),e.setDefaultLang("fr")}).\u0275mod=d.Rb({type:Lt}),Lt.\u0275inj=d.Qb({factory:function(t){return new(t||Lt)(d.dc(f.e))},imports:[[a.a,c.b,u.a],c.b]}),Lt);d.Lc(o.a,[h.q,h.r,h.s,h.t,h.A,h.w,h.x,h.y,h.z,h.u,h.v,p.a,m.b,g.a,b.a,v.a,x,w.a,O.J,O.y,O.I,O.c,O.z,O.C,O.a,O.F,O.G,O.B,O.t,O.u,O.E,O.p,O.o,O.A,O.b,O.d,O.w,O.x,O.v,O.i,O.l,O.j,O.m,O.f,S.h,S.d,S.f,S.e,S.i,E.a,M.b,E.c,I.b,y.b,y.c,y.f,y.g,y.h,y.i,y.j,P.a,P.c,T.o,T.n,A.c,A.a,D.b,D.c,_.b,_.d,R.b,R.d,L.c,L.d,L.a,L.f,L.e,L.b,F.a,F.b,F.c,F.d,F.e,F.f,k.b,k.a,j.a,j.f,j.n,j.d,j.m,j.l,j.b,j.e,j.k,j.i,j.h,j.g,j.o,j.c,Y.b,Y.a,Z.a,Z.c,N.a,U.a,U.c,B.e,B.b,B.d,B.a,z.b,z.d,z.g,T.k,z.f,z.e,z.a,V.n,V.i,V.k,V.c,V.b,V.m,V.e,V.g,V.h,V.a,V.d,V.j,V.l,V.f,V.q,H.a,Q.a,Q.b,W.a,W.b,W.d,W.e,W.f,W.h,W.i,W.j,W.l,W.k,W.c,G.a,G.c,G.d,G.g,G.h,G.f,G.e,q.a,q.d,q.c,X.c,C.a,$.e,$.d,$.i,$.f,$.c,J.a,J.h,J.d,J.b,J.c,J.g,T.r,J.i,J.f,K.a,tt.d,tt.a,tt.c,tt.e,tt.b,tt.f,et.a,et.j,et.b,et.d,et.e,et.h,et.i,et.c,et.f,nt.b,nt.a,it.a,at.a,rt.a,T.t,ot.a,ot.h,ot.j,ot.k,ot.b,ot.g,ot.i,I.a,I.d,I.e,st.b,st.c,st.d,st.f,st.e,st.g,ct.b,ct.c,ct.a,lt.e,lt.f,lt.a,lt.b,lt.d,lt.c,ut.a,dt.a,ft.a,ht.a,pt.a,mt.a,gt.a,bt.a,vt.a,yt.a,_t.a,kt.a,Ct.a,xt.a,wt.a,Ft,jt.a,Yt.a,Zt.a,Nt.a,Ut.a,Bt.a,c.a,f.a,r.a,s.a,o.a,l.a],[h.b,h.G,h.p,h.k,h.E,h.g,h.C,h.F,h.d,h.f,h.i,h.j,h.l,It.a,It.e,It.k,It.n,It.o,It.p,It.r,It.t,It.u,It.v,It.q,It.b,It.c,It.f,It.w,It.h,It.s,It.d,It.m,It.g,It.x,zt.a,Vt.a,Ht.a,Qt.a,Wt.a,Gt.a,qt.a,f.d])},UNqx:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("q3Kh"),o=n("gTqA"),s=n("wjEo");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(c((function(n,i){return o.from(t(n,i)).pipe(r.map((function(t,a){return e(n,t,i,a)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}e.mergeMap=c;var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))},t}();e.MergeMapOperator=l;var u=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var a=t.call(this,e)||this;return a.project=n,a.concurrent=i,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new s.SimpleInnerSubscriber(this),n=this.destination;n.add(e);var i=s.innerSubscribe(t,e);i!==e&&n.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.SimpleOuterSubscriber);e.MergeMapSubscriber=u,e.flatMap=c},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("jtHE");function a(t,e,n){var a;return a=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,a=t.bufferSize,r=void 0===a?Number.POSITIVE_INFINITY:a,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,c=t.refCount,l=t.scheduler,u=0,d=!1,f=!1;return function(t){var a;u++,!e||d?(d=!1,e=new i.a(r,s,l),a=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){d=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}})):a=e.subscribe(this),this.add((function(){u--,a.unsubscribe(),n&&!f&&c&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(a))}}},"V5D/":function(t,e,n){"use strict";n.d(e,"a",(function(){return ct}));var i=n("mrSG"),a=n("vkgz"),r=n("JIr8"),o=n("/uUt"),s=n("IzEk"),c=n("pLZG"),l=n("LRne"),u=n("0IaG"),d=n("1YbM"),f=n("3Pt+"),h=n("2c88"),p=n("Nqwj"),m=n("fXoL"),g=n("sYmb"),b=n("tk/3"),v=n("A6w4"),y=n("AXEc"),_=n("rH+9"),k=n("ofXK"),C=n("Xa2L"),x=n("bTqV"),w=n("NFeN"),O=n("wZkO"),S=n("GUHb"),E=n("fBaO"),M=n("kmnG"),I=n("qFsG"),P=n("iadO"),T=n("dATD"),A=["appDocumentViewer"],D=["contactAutocomplete"];function R(t,e){1&t&&(m.Zb(0,"div",11),m.Ub(1,"mat-spinner"),m.Yb())}function L(t,e){if(1&t){var n=m.ac();m.Zb(0,"button",12),m.hc("click",(function(){return m.Hc(n),m.lc().dialogRef.close()})),m.Ub(1,"mat-icon",13),m.Yb()}if(2&t){var i=m.lc();m.sc("title",i.translate.instant("lang.close"))}}function F(t,e){1&t&&(m.Zb(0,"div",14),m.Ub(1,"mat-spinner",15),m.Yb())}function j(t,e){1&t&&m.Ub(0,"i",31)}function Y(t,e){if(1&t){var n=m.ac();m.Zb(0,"button",32),m.hc("click",(function(t){m.Hc(n);var e=m.lc(2).index,i=m.lc(2);return t.stopPropagation(),i.removePj(e)})),m.Ub(1,"mat-icon",33),m.Yb()}if(2&t){var i=m.lc(4);m.sc("disabled",i.isDocLoading())("title",i.translate.instant("lang.delAttachment"))}}function Z(t,e){if(1&t&&(m.Zb(0,"span"),m.Sc(1),m.mc(2,"translate"),m.Qc(3,j,1,0,"i",29),m.Qc(4,Y,2,2,"button",30),m.Yb()),2&t){var n=m.lc().index,i=m.lc(2);m.Jb("complete",i.isPjValid(n)),m.Eb(1),m.Vc("",m.nc(2,6,"lang.attachmentShort")," n\xb0",n+1,"\xa0"),m.Eb(2),m.sc("ngIf",i.isPjValid(n)),m.Eb(1),m.sc("ngIf",i.attachments.length>1)}}function N(t,e){1&t&&m.Ub(0,"i",51)}function U(t,e){1&t&&m.Ub(0,"i",52)}function B(t,e){1&t&&m.Ub(0,"i",53)}function z(t,e){1&t&&m.Ub(0,"i",51)}function V(t,e){1&t&&m.Ub(0,"i",52)}function H(t,e){1&t&&m.Ub(0,"i",53)}function Q(t,e){if(1&t){var n=m.ac();m.Zb(0,"div",35),m.Zb(1,"plugin-select-search",54),m.hc("afterSelected",(function(t){return m.Hc(n),m.lc(4).selectContact(t)})),m.Yb(),m.Zb(2,"div",37),m.Zb(3,"button",55),m.hc("click",(function(){return m.Hc(n),m.lc(4).toggleSendMass()})),m.Ub(4,"mat-icon",56),m.Yb(),m.Ub(5,"i",57),m.Yb(),m.Yb()}if(2&t){var i=m.lc(4);m.Eb(1),m.sc("label",i.translate.instant("lang.selectContact"))("placeholderLabel",i.translate.instant("lang.selectContact"))("datas",i.resourceContacts)("returnValue","object")("formControlSelect",i.selectedContact),m.Eb(2),m.Jb("active",i.sendMassMode),m.sc("title",i.translate.instant(i.sendMassMode?"lang.disableMailing":"lang.enableMailing"))}}function W(t,e){if(1&t&&(m.Zb(0,"div",58),m.Ub(1,"div",59),m.Yb()),2&t){var n=m.lc(4);m.Eb(1),m.sc("innerHTML",n.translate.instant("lang.mailingMsg"),m.Ic)}}function G(t,e){if(1&t){var n=m.ac();m.Zb(0,"app-contact-autocomplete",61),m.hc("retrieveDocumentEvent",(function(){return m.Hc(n),m.lc(3),m.Dc(6).saveDocService()})),m.Yb()}if(2&t){var i=m.lc(3).$implicit;m.sc("control",i.recipient)("singleMode",!0)}}function q(t,e){if(1&t&&(m.Zb(0,"div",35),m.Qc(1,G,1,2,"app-contact-autocomplete",60),m.Zb(2,"div",37),m.Ub(3,"i",57),m.Yb(),m.Yb()),2&t){var n=m.lc(4);m.Eb(1),m.sc("ngIf",!n.loadingContact)}}function X(t,e){if(1&t&&m.Ub(0,"mat-datepicker-toggle",62),2&t){m.lc();var n=m.Dc(26);m.sc("for",n)}}function $(t,e){if(1&t){var n=m.ac();m.Zb(0,"button",63),m.hc("click",(function(t){m.Hc(n);var e=m.lc(2).$implicit;return t.stopPropagation(),e.validationDate.reset()})),m.Ub(1,"mat-icon",64),m.Yb()}if(2&t){var i=m.lc(4);m.sc("title",i.translate.instant("lang.eraseValue"))}}function J(t,e){1&t&&m.Ub(0,"i",57)}function K(t,e){1&t&&m.Ub(0,"i",53)}function tt(t,e){if(1&t){var n=m.ac();m.Zb(0,"div",34),m.Zb(1,"div",35),m.Zb(2,"plugin-select-search",36),m.hc("afterSelected",(function(t){m.Hc(n);var e=m.lc().index;return m.lc(2).getAttachType(t,e)})),m.Yb(),m.Zb(3,"div",37),m.Qc(4,N,1,0,"i",38),m.Qc(5,U,1,0,"i",28),m.Qc(6,B,1,0,"i",39),m.Yb(),m.Yb(),m.Zb(7,"div",35),m.Zb(8,"mat-form-field",40),m.Ub(9,"input",41),m.mc(10,"translate"),m.Yb(),m.Zb(11,"div",37),m.Qc(12,z,1,0,"i",38),m.Qc(13,V,1,0,"i",28),m.Qc(14,H,1,0,"i",39),m.Yb(),m.Yb(),m.Qc(15,Q,6,8,"div",42),m.Qc(16,W,2,1,"div",43),m.Qc(17,q,4,1,"div",42),m.Zb(18,"div",35),m.Zb(19,"mat-form-field",44),m.hc("click",(function(){return m.Hc(n),m.Dc(26).open()})),m.Zb(20,"mat-label"),m.Sc(21),m.mc(22,"translate"),m.Yb(),m.Ub(23,"input",45),m.Qc(24,X,1,1,"mat-datepicker-toggle",46),m.Ub(25,"mat-datepicker",47,48),m.Qc(27,$,2,1,"button",49),m.Yb(),m.Zb(28,"div",37),m.Qc(29,J,1,0,"i",50),m.Qc(30,K,1,0,"i",39),m.Yb(),m.Yb(),m.Yb()}if(2&t){var i=m.Dc(26),a=m.lc().$implicit,r=m.lc(2);m.Eb(2),m.sc("label",r.translate.instant("lang.type"))("placeholderLabel",r.translate.instant("lang.type"))("formControlSelect",a.type)("datas",r.attachmentsTypes),m.Eb(2),m.sc("ngIf",a.type.hasError("required")&&a.type.untouched),m.Eb(1),m.sc("ngIf",a.type.touched&&a.type.hasError("required")),m.Eb(1),m.sc("ngIf",a.type.valid&&!r.isEmptyField(a.type)),m.Eb(3),m.tc("placeholder",m.nc(10,25,"lang.subject")),m.sc("formControl",a.title),m.Eb(3),m.sc("ngIf",a.title.hasError("required")&&a.title.untouched),m.Eb(1),m.sc("ngIf",a.title.touched&&a.title.hasError("required")),m.Eb(1),m.sc("ngIf",a.title.valid&&!r.isEmptyField(a.title)),m.Eb(1),m.sc("ngIf",r.resourceContacts.length>1),m.Eb(1),m.sc("ngIf",r.sendMassMode),m.Eb(1),m.sc("ngIf",!r.sendMassMode),m.Eb(4),m.Tc(m.nc(22,27,"lang.expectedReturnDate")),m.Eb(2),m.sc("formControl",a.validationDate)("matDatepicker",i)("placeholder",r.translate.instant("lang.expectedReturnDate"))("min",r.now),m.Eb(1),m.sc("ngIf",!a.validationDate.value),m.Eb(1),m.sc("touchUi",r.appService.getViewMode()),m.Eb(2),m.sc("ngIf",a.validationDate.value&&!a.validationDate.disabled),m.Eb(2),m.sc("ngIf",a.validationDate.valid&&r.isEmptyField(a.validationDate)),m.Eb(1),m.sc("ngIf",a.validationDate.valid&&!r.isEmptyField(a.validationDate))}}function et(t,e){1&t&&m.Ub(0,"i",52)}function nt(t,e){if(1&t){var n=m.ac();m.Zb(0,"mat-tab",21),m.Qc(1,Z,5,8,"ng-template",20),m.Zb(2,"div",22),m.Qc(3,tt,31,29,"div",23),m.Zb(4,"div",24),m.Zb(5,"app-document-viewer",25,26),m.hc("triggerEvent",(function(){m.Hc(n);var t=e.index;return m.lc(2).setDatasViewer(t)})),m.Yb(),m.Zb(7,"div",27),m.Qc(8,et,1,0,"i",28),m.Yb(),m.Yb(),m.Yb(),m.Yb()}if(2&t){var i=e.$implicit,a=m.lc(2);m.sc("disabled",a.isDocLoading()),m.Eb(3),m.sc("ngIf",!a.loading),m.Eb(2),m.sc("editMode",!0)("mode","attachment"),m.Eb(3),m.sc("ngIf",i.encodedFile.touched&&i.encodedFile.hasError("required"))}}function it(t,e){if(1&t){var n=m.ac();m.Zb(0,"span"),m.Zb(1,"button",65),m.hc("click",(function(t){m.Hc(n);var e=m.lc(2);return t.stopPropagation(),e.newPj()})),m.Ub(2,"mat-icon",66),m.Yb(),m.Yb()}if(2&t){var i=m.lc(2);m.Eb(1),m.sc("disabled",i.sendMassMode||i.isDocLoading())("title",i.translate.instant("lang.newAttachment"))}}function at(t,e){if(1&t){var n=m.ac();m.Zb(0,"mat-tab-group",16,17),m.hc("selectedIndexChange",(function(t){return m.Hc(n),m.lc().indexTab=t}))("selectedIndexChange",(function(t){return m.Hc(n),m.lc().updateFile(t)})),m.Qc(2,nt,9,5,"mat-tab",18),m.Zb(3,"mat-tab",19),m.Qc(4,it,3,2,"ng-template",20),m.Yb(),m.Yb()}if(2&t){var i=m.lc();m.sc("selectedIndex",i.indexTab),m.Eb(2),m.sc("ngForOf",i.attachments)}}function rt(t,e){if(1&t){var n=m.ac();m.Zb(0,"button",67),m.hc("click",(function(){return m.Hc(n),m.lc().onSubmit()})),m.Sc(1),m.mc(2,"translate"),m.Yb()}if(2&t){var i=m.lc();m.sc("disabled",i.canValidatePj()),m.Eb(1),m.Tc(m.nc(2,2,"lang.validate"))}}function ot(t,e){if(1&t){var n=m.ac();m.Zb(0,"button",67),m.hc("click",(function(){return m.Hc(n),m.lc().onSubmit("mailing")})),m.Sc(1),m.mc(2,"translate"),m.Yb()}if(2&t){var i=m.lc();m.sc("disabled",i.canValidatePj()),m.Eb(1),m.Tc(m.nc(2,2,"lang.mailing"))}}function st(t,e){if(1&t&&(m.Zb(0,"button",68),m.Sc(1),m.mc(2,"translate"),m.Yb()),2&t){var n=m.lc();m.sc("disabled",n.canValidatePj()),m.Eb(1),m.Tc(m.nc(2,2,"lang.cancel"))}}var ct=function(){var t=function(){function t(e,n,i,a,r,o,s,c,l,u){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialogRef=a,this.appService=r,this.notify=o,this.sortPipe=s,this.dialog=c,this.functions=l,this.contactService=u,this.loading=!0,this.sendMassMode=!1,this.sendingData=!1,this.attachmentsTypes=[],this.creationMode=!0,this.attachFormGroup=[],this.attachments=[],this.now=new Date,this.asyncIndexTab=0,this.indexTab=0,this.resourceContacts=[],this.selectedContact=new f.h,this.loadingContact=!1,this.resId=null}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadAttachmentTypes();case 2:return t.next=4,this.loadResource();case 4:this.loading=!1;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"loadAttachmentTypes",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/attachmentsTypes").pipe(Object(a.a)((function(n){Object.keys(n.attachmentsTypes).forEach((function(e){n.attachmentsTypes[e].show&&t.attachmentsTypes.push(Object.assign({id:e},n.attachmentsTypes[e]))})),t.attachmentsTypes=t.sortPipe.transform(t.attachmentsTypes,"label"),e(!0)})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"loadResource",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/resources/".concat(t.data.resIdMaster,"?light=true")).pipe(Object(a.a)((function(n){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i="","outgoing"!==n.categoryId){t.next=10;break}if(t.t0=!this.functions.empty(n.recipients)&&n.recipients.length>0,!t.t0){t.next=8;break}return n.recipients=n.recipients.filter((function(t){return"entity"!==t.type})),t.next=7,this.getContacts(n.recipients);case 7:i=this.functions.empty(n.recipients)?"":[{id:this.resourceContacts[0].id,type:this.resourceContacts[0].type}];case 8:t.next=16;break;case 10:if(t.t1=!this.functions.empty(n.senders)&&n.senders.length>0,!t.t1){t.next=16;break}return n.senders=n.senders.filter((function(t){return"entity"!==t.type})),t.next=15,this.getContacts(n.senders);case 15:i=this.functions.empty(n.senders)?"":[{id:this.resourceContacts[0].id,type:this.resourceContacts[0].type}];case 16:this.attachments.push({title:new f.h({value:n.subject,disabled:!1},[f.H.required]),recipient:new f.h({value:i,disabled:!1}),type:new f.h({value:"response_project",disabled:!1},[f.H.required]),validationDate:new f.h({value:"",disabled:!1}),format:new f.h({value:"",disabled:!1},[f.H.required]),encodedFile:new f.h({value:"",disabled:!1},[f.H.required])}),setTimeout((function(){a.getAttachType("response_project",0)}),800),this.attachFormGroup.push(new f.k(this.attachments[0])),"outgoing"===n.categoryId?!this.functions.empty(n.recipients)&&n.recipients.length>1&&this.toggleSendMass():!this.functions.empty(n.senders)&&n.senders.length>1&&this.toggleSendMass(),e(!0);case 21:case"end":return t.stop()}}),t,this)})))})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"getContacts",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resourceContacts=[],e.next=3,Promise.all(t.map((function(t){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContact(t.id,t.type);case 2:case"end":return e.stop()}}),e,this)})))})));case 3:this.resourceContacts=this.sortPipe.transform(this.resourceContacts,"label");case 4:case"end":return e.stop()}}),e,this)})))}},{key:"selectContact",value:function(t){var e=this;this.loadingContact=!0;var n=JSON.parse(JSON.stringify(this.resourceContacts.filter((function(e){return e.id===t.id&&e.type===t.type}))[0]));this.attachments[this.indexTab].recipient.setValue([n]),setTimeout((function(){e.loadingContact=!1}),0),this.selectedContact.reset()}},{key:"getContact",value:function(t,e){var n=this;return new Promise((function(i,o){"contact"===e?n.http.get("../rest/contacts/"+t).pipe(Object(a.a)((function(t){n.resourceContacts.push({id:t.id,type:"contact",label:n.contactService.formatContact(t)}),i(!0)})),Object(r.a)((function(t){return n.notify.handleSoftErrors(t),i(!1),Object(l.a)(!1)}))).subscribe():"user"===e?n.http.get("../rest/users/"+t).pipe(Object(a.a)((function(t){n.resourceContacts.push({id:t.id,type:"user",label:"".concat(t.firstname," ").concat(t.lastname)}),i(!0)})),Object(r.a)((function(t){return n.notify.handleSoftErrors(t),i(!1),Object(l.a)(!1)}))).subscribe():"entity"===e&&n.http.get("../rest/entities/"+t).pipe(Object(a.a)((function(t){n.resourceContacts.push({id:t.id,type:"entity",label:t.entity_label}),i(!0)})),Object(r.a)((function(t){return n.notify.handleSoftErrors(t),i(!1),Object(l.a)(!1)}))).subscribe()}))}},{key:"selectAttachType",value:function(t,e){t.type=e.id}},{key:"formatAttachments",value:function(){var t=this,e=[];return this.attachments.forEach((function(n,i){e.push({resIdMaster:t.data.resIdMaster,type:n.type.value,title:n.title.value,recipientId:n.recipient.value.length>0?n.recipient.value[0].id:null,recipientType:n.recipient.value.length>0?n.recipient.value[0].type:null,validationDate:""!==n.validationDate.value?n.validationDate.value:null,encodedFile:n.encodedFile.value,format:n.format.value})})),e}},{key:"onSubmit",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.appDocumentViewer.toArray()[this.indexTab].getFile().pipe(Object(o.a)(),Object(a.a)((function(e){t.attachments[t.indexTab].encodedFile.setValue(e.content),t.attachments[t.indexTab].format.setValue(e.format)})),Object(a.a)((function(){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isValid()){t.next=31;break}n=null,this.sendingData=!0,i=this.formatAttachments(),a=_createForOfIteratorHelper(i),t.prev=5,a.s();case 7:if((r=a.n()).done){t.next=14;break}return o=r.value,t.next=11,this.saveAttachment(o);case 11:n=t.sent;case 12:t.next=7;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),a.e(t.t0);case 19:return t.prev=19,a.f(),t.finish(19);case 22:if(t.t1=this.sendMassMode&&null!==n&&"mailing"===e,!t.t1){t.next=26;break}return t.next=26,this.generateMailling(n);case 26:this.sendingData=!1,this.notify.success(this.translate.instant("lang.attachmentAdded")),this.dialogRef.close("success"),t.next=32;break;case 31:this.sendingData=!1,this.notify.error(this.translate.instant("lang.mustCompleteAllAttachments"));case 32:case"end":return t.stop()}}),t,this,[[5,16,19,22]])})))}))).subscribe()}},{key:"saveAttachment",value:function(t){var e=this;return t.status=this.sendMassMode?"SEND_MASS":"A_TRA",new Promise((function(n,i){e.http.post("../rest/attachments",t).pipe(Object(a.a)((function(t){n(t.id)})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),e.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"generateMailling",value:function(t){var e=this;return new Promise((function(n,i){e.http.post("../rest/attachments/".concat(t,"/mailing"),{}).pipe(Object(a.a)((function(){n(!0)})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),e.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"isValid",value:function(){var t=!0;return this.attachFormGroup.forEach((function(e){Object.keys(e.controls).forEach((function(t){e.controls[t].markAsTouched()})),console.log(e.controls),"INVALID"===e.status&&(t=!1)})),t}},{key:"isPjValid",value:function(t){var e=!0;return"INVALID"===this.attachFormGroup[t].status&&(e=!1),e}},{key:"isDocLoading",value:function(){var t=!1;return this.appDocumentViewer.toArray().forEach((function(e,n){e.isEditingTemplate()&&(t=!0)})),t}},{key:"canValidatePj",value:function(){var t=!1;return this.appDocumentViewer.toArray().forEach((function(e,n){e.isEditingTemplate()&&e.editor.async&&(t=!0)})),t}},{key:"setDatasViewer",value:function(t){var e=this,n={};Object.keys(this.attachments[t]).forEach((function(i){["title","validationDate","recipient"].indexOf(i)>-1&&("recipient"===i&&e.attachments[t][i].value.length>0?(n.recipientId=e.attachments[t][i].value[0].id,n.recipientType=e.attachments[t][i].value[0].type):n["attachment_"+i]=e.attachments[t][i].value)})),n.resId=this.data.resIdMaster,this.sendMassMode&&(n.inMailing=!0),this.appDocumentViewer.toArray()[t].setDatas(n)}},{key:"newPj",value:function(){var t=this;this.attachments.push({title:new f.h({value:"",disabled:!1},[f.H.required]),recipient:new f.h({value:this.functions.empty(this.resourceContacts[this.attachments.length])?null:[{id:this.resourceContacts[this.attachments.length].id,type:this.resourceContacts[this.attachments.length].type}],disabled:!1}),type:new f.h({value:"response_project",disabled:!1},[f.H.required]),validationDate:new f.h({value:null,disabled:!1}),encodedFile:new f.h({value:"",disabled:!1},[f.H.required]),format:new f.h({value:"",disabled:!1},[f.H.required])}),this.attachFormGroup.push(new f.k(this.attachments[this.attachments.length-1])),this.indexTab=this.attachments.length-1,setTimeout((function(){t.getAttachType("response_project",t.indexTab)}),800)}},{key:"updateFile",value:function(t){var e=this;this.functions.empty(this.attachments[this.asyncIndexTab].encodedFile.value)?(console.log("ca passe!"),this.appDocumentViewer.toArray()[this.asyncIndexTab].getFile().pipe(Object(s.a)(1),Object(a.a)((function(n){console.log(n),e.attachments[e.asyncIndexTab].encodedFile.setValue(n.content),e.attachments[e.asyncIndexTab].format.setValue(n.format),e.asyncIndexTab=t}))).subscribe()):this.asyncIndexTab=t}},{key:"removePj",value:function(t){var e=this;this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete")+" : "+this.translate.instant("lang.attachmentShort")+" n\xb0"+(t+1),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(c.a)((function(t){return"ok"===t})),Object(a.a)((function(){e.indexTab=0,e.asyncIndexTab=e.indexTab,e.attachments.splice(t,1),e.attachFormGroup.splice(t,1)})),Object(r.a)((function(t){return e.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"getAttachType",value:function(t,e){this.appDocumentViewer.toArray()[e].loadTemplatesByResId(this.data.resIdMaster,t)}},{key:"isEmptyField",value:function(t){return null===t.value||(Array.isArray(t.value)?!(t.value.length>0):""===String(t.value))}},{key:"toggleSendMass",value:function(){this.sendMassMode?(this.sendMassMode=!this.sendMassMode,this.selectedContact.enable()):1===this.attachments.length?(this.sendMassMode=!this.sendMassMode,this.selectedContact.disable()):this.notify.error("Veuillez supprimer les <b>autres onglets PJ</b> avant de passer en <b>publipostage</b>.")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Tb(g.e),m.Tb(b.b),m.Tb(u.a),m.Tb(u.h),m.Tb(v.a),m.Tb(y.a),m.Tb(d.a),m.Tb(u.b),m.Tb(_.a),m.Tb(p.a))},t.\u0275cmp=m.Nb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(m.ad(A,!0),m.ad(D,!0)),2&t&&(m.Cc(n=m.ic())&&(e.appDocumentViewer=n),m.Cc(n=m.ic())&&(e.contactAutocomplete=n))},inputs:{resId:"resId"},features:[m.Db([d.a,p.a])],decls:14,vars:10,consts:[[1,"attach-container"],["class","example-loading-shade",4,"ngIf"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click",4,"ngIf"],[1,"attach-content"],["class","loading",4,"ngIf"],["style","width: 100%;",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close",4,"ngIf"],[1,"example-loading-shade"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"loading"],[2,"margin","auto"],[2,"width","100%",3,"selectedIndex","selectedIndexChange"],["pjList",""],[3,"disabled",4,"ngFor","ngForOf"],["disabled","",1,"addPJ"],["mat-tab-label",""],[3,"disabled"],[2,"height","100%","overflow","auto"],["class","attachment-form col-md-3 col-sm-12",4,"ngIf"],[1,"documentContent","col-md-9","col-sm-12"],[2,"height","100%","width","100%","position","relative",3,"editMode","mode","triggerEvent"],["appDocumentViewer",""],[1,"fieldState","stateDoc"],["class","fas fa-exclamation-triangle fieldError",4,"ngIf"],["class","fa fa-check",4,"ngIf"],["mat-icon-button","","color","warn",3,"disabled","title","click",4,"ngIf"],[1,"fa","fa-check"],["mat-icon-button","","color","warn",3,"disabled","title","click"],[1,"fa","fa-minus"],[1,"attachment-form","col-md-3","col-sm-12"],[1,"attachment-form-item"],[2,"width","100%",3,"label","placeholderLabel","formControlSelect","datas","afterSelected"],[1,"fieldState"],["class","fas fa-asterisk fieldRequired",4,"ngIf"],["class","fas fa-check fieldFull",4,"ngIf"],[1,"input-form"],["matInput","",3,"placeholder","formControl"],["class","attachment-form-item",4,"ngIf"],["class","attachment-form-item","style","display: block;",4,"ngIf"],[1,"input-form","input-date",2,"cursor","pointer",3,"click"],["matInput","","readonly","",2,"cursor","pointer",3,"formControl","matDatepicker","placeholder","min"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["class","fas fa-asterisk noMandatory",4,"ngIf"],[1,"fas","fa-asterisk","fieldRequired"],[1,"fas","fa-exclamation-triangle","fieldError"],[1,"fas","fa-check","fieldFull"],[2,"width","100%",3,"label","placeholderLabel","datas","returnValue","formControlSelect","afterSelected"],["mat-icon-button","","color","primary",3,"title","click"],[1,"fas","fa-mail-bulk"],[1,"fas","fa-asterisk","noMandatory"],[1,"attachment-form-item",2,"display","block"],["role","alert",1,"alert","alert-info",3,"innerHTML"],["style","width:100%;",3,"control","singleMode","retrieveDocumentEvent",4,"ngIf"],[2,"width","100%",3,"control","singleMode","retrieveDocumentEvent"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],["mat-icon-button","",3,"disabled","title","click"],[1,"fa","fa-plus"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(m.Zb(0,"div",0),m.Qc(1,R,2,0,"div",1),m.Zb(2,"h1",2),m.Zb(3,"span",3),m.Sc(4),m.mc(5,"translate"),m.Yb(),m.Qc(6,L,2,1,"button",4),m.Yb(),m.Zb(7,"mat-dialog-content",5),m.Qc(8,F,2,0,"div",6),m.Qc(9,at,5,2,"mat-tab-group",7),m.Yb(),m.Zb(10,"div",8),m.Qc(11,rt,3,4,"button",9),m.Qc(12,ot,3,4,"button",9),m.Qc(13,st,3,4,"button",10),m.Yb(),m.Yb()),2&t&&(m.Eb(1),m.sc("ngIf",e.sendingData),m.Eb(3),m.Uc(" ",m.nc(5,8,"lang.attachmentCreation")," "),m.Eb(2),m.sc("ngIf",!e.loading),m.Eb(2),m.sc("ngIf",e.loading),m.Eb(1),m.sc("ngIf",!e.loading),m.Eb(2),m.sc("ngIf",e.creationMode&&!e.loading),m.Eb(1),m.sc("ngIf",e.sendMassMode&&!e.loading),m.Eb(1),m.sc("ngIf",e.creationMode&&!e.loading))},directives:[k.t,u.i,u.f,u.c,C.c,x.b,w.a,O.c,k.s,O.a,O.d,S.a,E.a,M.c,I.b,f.c,f.t,f.i,M.g,P.f,P.d,T.a,P.h,M.j,u.d],pipes:[g.d],styles:[".loading[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.attach-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:100%}.attach-container[_ngcontent-%COMP%]    .mat-tab-body-content, .attach-container[_ngcontent-%COMP%]    .mat-tab-body-wrapper{height:100%!important}.mat-dialog-title[_ngcontent-%COMP%]{margin:0!important;display:flex;align-items:center}.attach-content[_ngcontent-%COMP%]{margin:0;padding:0!important;height:100%;display:flex;overflow:auto}.attach-content[_ngcontent-%COMP%]    .mat-tab-label:last-child{min-width:50px;padding:0;opacity:1;color:#135f7f}.attachment-form[_ngcontent-%COMP%]{padding:10px;overflow:auto;position:-webkit-sticky;position:sticky;top:0}.attachment-form-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label-wrapper{margin-top:-7px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label{background:#fff;width:auto!important;padding-top:5px;padding-left:5px;padding-right:5px}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.77);z-index:2}.actions[_ngcontent-%COMP%]{margin:0}.complete[_ngcontent-%COMP%]{color:green;font-weight:700}.fieldState[_ngcontent-%COMP%]{padding-top:0!important}.stateDoc[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.documentContent[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:center;text-align:center;background:#135f7f;overflow:auto;color:#fff;height:100%}.active[_ngcontent-%COMP%]{color:#f99830}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},VKeD:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}e.getSymbolIterator=i,e.iterator=i(),e.$$iterator=e.iterator},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC"),a=n("z+Ro"),r=n("bHdf"),o=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,c=null,l=e[e.length-1];return Object(a.a)(l)?(c=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof l&&(s=e.pop()),null===c&&1===e.length&&e[0]instanceof i.a?e[0]:Object(r.a)(s)(Object(o.a)(e,c))}},VdM8:function(t,e,n){"use strict";n.d(e,"a",(function(){return dt}));var i=n("fXoL"),a=n("XNiG"),r=n("VRyK"),o=n("LRne"),s=n("M9IT"),c=n("1G5W"),l=n("JX91"),u=n("eIep"),d=n("lJxs"),f=n("JIr8"),h=n("vkgz"),p=n("nYR2"),m=n("3Pt+"),g=n("sYmb"),b=n("tk/3"),v=n("AXEc"),y=n("4zkx"),_=n("0IaG"),k=n("rH+9"),C=n("aEDk"),x=n("eiH7"),w=n("ofXK"),O=n("kmnG"),S=n("qFsG"),E=n("/1cH"),M=n("+0xr"),I=n("Dh3D"),P=n("Xa2L"),T=n("FKr1"),A=n("bTqV"),D=n("NFeN"),R=n("1YbM"),L=n("8IW6"),F=n("ZI/H"),j=["tableHistoryListSort"],Y=["autoCompleteInput"];function Z(t,e){1&t&&i.Ub(0,"mat-spinner")}function N(t,e){if(1&t&&(i.Zb(0,"div",32),i.Qc(1,Z,1,0,"mat-spinner",9),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function U(t,e){1&t&&(i.Zb(0,"mat-option",33),i.Zb(1,"div",34),i.Ub(2,"mat-spinner",35),i.Yb(),i.Yb())}function B(t,e){if(1&t&&(i.Zb(0,"mat-option",39),i.Sc(1),i.Yb()),2&t){var n=e.$implicit,a=i.lc(2).$implicit,r=i.lc(2);i.Pc("color",n.used?"":r.filterColor[a.key]),i.sc("id",a.key)("value",n)("disabled",n.used),i.Eb(1),i.Uc(" ",n.label," ")}}function z(t,e){if(1&t&&(i.Zb(0,"mat-optgroup",37),i.Qc(1,B,2,6,"mat-option",38),i.mc(2,"sortBy"),i.mc(3,"async"),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(2);i.sc("label",a.translate.instant("lang."+n.key)),i.Eb(1),i.sc("ngForOf",i.oc(2,2,i.nc(3,5,a.filteredList[n.key]),"label"))}}function V(t,e){if(1&t&&(i.Xb(0),i.Qc(1,z,4,7,"mat-optgroup",36),i.mc(2,"async"),i.Wb()),2&t){var n,a=e.$implicit,r=i.lc(2),o=(null==(n=i.nc(2,1,r.filteredList[a.key]))?null:n.length)>0;i.Eb(1),i.sc("ngIf",o)}}function H(t,e){if(1&t&&(i.Xb(0),i.Qc(1,V,3,3,"ng-container",15),i.mc(2,"keyvalue"),i.Wb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngForOf",i.nc(2,1,n.filterList))}}function Q(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",40),i.hc("click",(function(){return i.Hc(n),i.lc().switchHistoryMode()})),i.Ub(1,"mat-icon",41),i.Yb()}if(2&t){var a=i.lc();i.sc("title",a.translate.instant(a.fullHistoryMode?"lang.viewActionsHistory":"lang.viewAllHistory")),i.Eb(1),i.Jb("fa-exchange-alt",a.fullHistoryMode)("fa-history",!a.fullHistoryMode)}}function W(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",43),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=e.index,r=i.lc(2).$implicit;return i.lc().removeItemFilter(t,r.key,a)})),i.Sc(1),i.Ub(2,"i",44),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2).$implicit,o=i.lc();i.Pc("background",o.filterColor[r.key],i.Mb),i.sc("title",o.translate.instant("lang."+r.key)),i.Eb(1),i.Uc("",a.label," ")}}function G(t,e){if(1&t&&(i.Xb(0),i.Qc(1,W,3,4,"span",42),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngForOf",a.filterUsed[n.key])}}var q=function(){return["startDate","endDate"]};function X(t,e){if(1&t&&(i.Xb(0),i.Qc(1,G,2,1,"ng-container",9),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",-1===i.yc(1,q).indexOf(n.key))}}function $(t,e){1&t&&(i.Zb(0,"mat-header-cell",45),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.event")))}function J(t,e){if(1&t&&(i.Zb(0,"div",48),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.userLabel," ")}}function K(t,e){if(1&t&&(i.Zb(0,"mat-cell",46),i.mc(1,"fullDate"),i.Qc(2,J,2,1,"div",47),i.Zb(3,"div"),i.Sc(4),i.mc(5,"ucfirst"),i.mc(6,"timeAgo"),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc();i.Jb("smallText",null!==a.resId),i.sc("title",i.nc(1,5,n.event_date)),i.Eb(2),i.sc("ngIf",null!==a.resId),i.Eb(2),i.Uc(" ",i.nc(5,7,i.oc(6,9,n.event_date,"full"))," ")}}function tt(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.technicalId")))}function et(t,e){if(1&t&&(i.Zb(0,"mat-cell",49),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.record_id," ")}}function nt(t,e){1&t&&(i.Zb(0,"mat-header-cell",45),i.Sc(1),i.mc(2,"ucfirst"),i.mc(3,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,i.nc(3,3,"lang.user"))))}function it(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.userLabel," ")}}function at(t,e){1&t&&(i.Zb(0,"mat-header-cell",50),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("",i.nc(2,1,"lang.information")," "))}function rt(t,e){if(1&t&&(i.Zb(0,"mat-cell",51),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.info," ")}}function ot(t,e){1&t&&(i.Zb(0,"mat-header-cell",45),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("",i.nc(2,1,"lang.ip")," "))}function st(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.remote_ip," ")}}function ct(t,e){1&t&&i.Ub(0,"mat-header-row")}function lt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ct,1,0,"mat-header-row",52),i.Wb()),2&t){var n=i.lc();i.Eb(1),i.sc("matHeaderRowDef",n.displayedColumnsHistory)}}function ut(t,e){1&t&&i.Ub(0,"mat-row")}var dt=function(){var t=function(){function t(e,n,r,o,s,c,l,u){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=r,this.headerService=o,this.dialog=s,this.functions=c,this.latinisePipe=l,this.privilegeService=u,this.loading=!1,this.fullHistoryMode=!0,this.filtersChange=new i.o,this.displayedColumnsHistory=["event_date","userLabel","info","remote_ip"],this.isLoadingResults=!0,this.routeUrl="../rest/history",this.filterListUrl="../rest/history/availableFilters",this.extraParamUrl="",this.resultsLength=0,this.searchHistory=new m.h,this.startDateFilter="",this.endDateFilter="",this.filterUrl="",this.filterList=null,this.filteredList={},this.filterUsed={},this.filterColor={startDate:"#b5cfd8",endDate:"#7393a7",actions:"#7d5ba6",systemActions:"#7d5ba6",users:"#009dc5"},this.loadingFilters=!0,this.resId=null,this.destroy$=new a.a}return _createClass(t,[{key:"ngOnInit",value:function(){null!==this.resId?(this.displayedColumnsHistory=["event_date","info"],this.fullHistoryMode=!this.privilegeService.hasCurrentUserPrivilege("view_doc_history")):this.displayedColumnsHistory=["event_date","record_id","userLabel","info","remote_ip"],this.loading=!0,this.initHistoryMode(),this.initHistoryList()}},{key:"switchHistoryMode",value:function(){this.fullHistoryMode=!this.fullHistoryMode,this.initHistoryMode(),this.refreshDao()}},{key:"resetFilter",value:function(){this.loadingFilters=!0,this.filterList=null,this.filterUsed={},this.filterUrl=""}},{key:"initHistoryMode",value:function(){this.resetFilter(),this.fullHistoryMode?(this.extraParamUrl=null!==this.resId?"&resId="+this.resId:"",this.filterListUrl=null!==this.resId?"../rest/history/availableFilters?resId="+this.resId:"../rest/history/availableFilters"):(this.extraParamUrl=null!==this.resId?"&resId=".concat(this.resId,"&onlyActions=true"):"&onlyActions=true",this.filterListUrl=null!==this.resId?"../rest/history/availableFilters?resId=".concat(this.resId,"&onlyActions=true"):"../rest/history/availableFilters?onlyActions=true")}},{key:"initHistoryList",value:function(){var t=this;this.resultListDatabase=new ft(this.http),this.paginator.pageIndex=0,this.sort.active="event_date",this.sort.direction="desc",this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(r.a)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(c.a)(this.destroy$),Object(l.a)({}),Object(u.a)((function(){return t.isLoadingResults=!0,t.resultListDatabase.getRepoIssues(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.routeUrl,t.filterUrl,t.extraParamUrl)})),Object(d.a)((function(e){return t.isLoadingResults=!1,e=t.processPostData(e),t.resultsLength=e.count,e.history})),Object(f.a)((function(e){return t.notify.handleErrors(e),t.isLoadingResults=!1,Object(o.a)([])}))).subscribe((function(e){return t.data=e}))}},{key:"processPostData",value:function(t){var e=this;return t.history=t.history.map((function(t){return Object.assign(Object.assign({},t),{userLabel:e.functions.empty(t.userLabel)?e.translate.instant("lang.userDeleted"):t.userLabel})})),t}},{key:"refreshDao",value:function(){this.paginator.pageIndex=0,this.filtersChange.emit()}},{key:"initFilterListHistory",value:function(){var t=this;null===this.filterList&&(this.filterList={},this.filterUsed={},this.filterUrl="",this.loadingFilters=!0,this.http.get(this.filterListUrl).pipe(Object(d.a)((function(e){var n=e.actions.filter((function(t){return null===t.label})).map((function(t){return t.id})),i=e.users.filter((function(t){return null===t.label})).map((function(t){return t.login}));return e.actions=e.actions.filter((function(t){return null!==t.label})),n.length>0&&e.actions.push({id:n,label:t.translate.instant("lang.actionDeleted")}),e.users=e.users.filter((function(t){return null!==t.label})),i.length>0&&e.users.push({id:i,label:t.translate.instant("lang.userDeleted")}),e.systemActions=e.systemActions.map((function(e){return{id:e.id,label:t.functions.empty(t.translate.instant("lang."+e.id))?e.id:t.translate.instant("lang."+e.id)}})),e})),Object(h.a)((function(e){Object.keys(e).forEach((function(n){t.functions.empty(t.filterList[n])&&(t.filterList[n]=[],t.filteredList[n]=[]),e[n].forEach((function(e){t.filterList[n].push(e)})),t.filteredList[n]=t.searchHistory.valueChanges.pipe(Object(l.a)(""),Object(d.a)((function(e){return e?t.filter(e,n):t.filterList[n].slice()})))}))})),Object(p.a)((function(){return t.loadingFilters=!1})),Object(f.a)((function(e){return t.notify.handleSoftErrors(e),Object(o.a)(!1)}))).subscribe())}},{key:"filterStartDate",value:function(){this.functions.empty(this.filterUsed.startDate)&&(this.filterUsed.startDate=[]),this.filterUsed.startDate[0]={id:this.functions.empty(this.startDateFilter)?"":this.functions.formatDateObjectToDateString(this.startDateFilter),label:this.functions.empty(this.startDateFilter)?"":this.functions.formatDateObjectToDateString(this.startDateFilter)},this.generateUrlFilter(),this.refreshDao()}},{key:"filterEndDate",value:function(){this.functions.empty(this.filterUsed.endDate)&&(this.filterUsed.endDate=[]),this.filterUsed.endDate[0]={id:this.functions.empty(this.endDateFilter)?"":this.functions.formatDateObjectToDateString(this.endDateFilter,!0),label:this.functions.empty(this.endDateFilter)?"":this.functions.formatDateObjectToDateString(this.endDateFilter)},this.generateUrlFilter(),this.refreshDao()}},{key:"addItemFilter",value:function(t){t.value.used=!0,this.functions.empty(this.filterUsed[t.id])&&(this.filterUsed[t.id]=[]),this.filterUsed[t.id].push(t.value),this.generateUrlFilter(),this.searchHistory.reset(),this.autoCompleteInput.nativeElement.blur(),this.refreshDao()}},{key:"removeItemFilter",value:function(t,e,n){t.used=!1,this.filterUsed[e].splice(n,1),this.generateUrlFilter(),this.refreshDao()}},{key:"generateUrlFilter",value:function(){var t=this;this.filterUrl="";var e=[];Object.keys(this.filterUsed).forEach((function(n){t.filterUsed[n].forEach((function(i){t.functions.empty(i.id)||(["startDate","endDate"].indexOf(n)>-1?e.push("".concat(n,"=").concat(i.id)):e.push("".concat(n,"[]=").concat(i.id)))}))})),e.length>0&&(this.filterUrl="&"+e.join("&"))}},{key:"filter",value:function(t,e){var n=this;if("string"==typeof t){var i=this.latinisePipe.transform(t.toLowerCase());return this.filterList[e].filter((function(t){return n.latinisePipe.transform(t.label.toLowerCase()).includes(i)}))}return this.filterList[e]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(g.e),i.Tb(b.b),i.Tb(v.a),i.Tb(y.a),i.Tb(_.b),i.Tb(k.a),i.Tb(C.c),i.Tb(x.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-history-list"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(s.a,!0),i.Oc(j,!0),i.Oc(Y,!0)),2&t&&(i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.autoCompleteInput=n.first))},inputs:{resId:"resId"},decls:40,vars:22,consts:[["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["floatLabel","never",2,"font-size","13px"],["type","text","matInput","","maxlength","128",3,"matAutocomplete","placeholder","formControl","click"],["autoCompleteInput",""],[3,"optionSelected","opened"],["auto","matAutocomplete"],["disabled","",4,"ngIf"],[4,"ngIf"],["color","primary","mat-icon-button","",3,"title","click",4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","hidePageSize","pageSize"],["paginatorHistoryList",""],[1,"filterBadges"],[4,"ngFor","ngForOf"],["id","history-list","matSort","","matSortActive","event_date","matSortDirection","desc",2,"width","100%",3,"dataSource"],["tableHistoryListSort","matSort"],["matColumnDef","event_date"],["mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"title","smallText",4,"matCellDef"],["matColumnDef","record_id"],[4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userLabel"],[4,"matCellDef"],["matColumnDef","info"],["mat-sort-header","","style","flex: 2;",4,"matHeaderCellDef"],["style","flex: 2;",4,"matCellDef"],["matColumnDef","remote_ip"],[4,"matRowDef","matRowDefColumns"],[1,"mat-paginator",2,"min-height","48px","min-height","48px","display","flex","justify-content","end","align-items","center","padding-right","20px"],[1,"example-loading-shade"],["disabled",""],[2,"display","flex","justify-content","center"],["diameter","35"],["class","filterList",3,"label",4,"ngIf"],[1,"filterList",3,"label"],[3,"id","color","value","disabled",4,"ngFor","ngForOf"],[3,"id","value","disabled"],["color","primary","mat-icon-button","",3,"title","click"],[1,"fas"],["class","label",3,"background","title","click",4,"ngFor","ngForOf"],[1,"label",3,"title","click"],[1,"fa","fa-times-circle"],["mat-sort-header",""],["mat-cell","",3,"title"],["style","font-size: 10px;",4,"ngIf"],[2,"font-size","10px"],["mat-cell",""],["mat-sort-header","",2,"flex","2"],[2,"flex","2"],[4,"matHeaderRowDef"]],template:function(t,e){if(1&t&&(i.Qc(0,N,2,1,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"mat-form-field",3),i.Zb(4,"input",4,5),i.hc("click",(function(t){return t.stopPropagation()})),i.Yb(),i.Zb(6,"mat-autocomplete",6,7),i.hc("optionSelected",(function(t){return e.addItemFilter(t.option)}))("opened",(function(){return e.initFilterListHistory()})),i.Qc(8,U,3,0,"mat-option",8),i.Qc(9,H,3,3,"ng-container",9),i.Yb(),i.Yb(),i.Yb(),i.Qc(10,Q,2,5,"button",10),i.Zb(11,"div",11),i.Ub(12,"mat-paginator",12,13),i.Yb(),i.Yb(),i.Zb(14,"div"),i.Zb(15,"div",14),i.Qc(16,X,2,2,"ng-container",15),i.mc(17,"keyvalue"),i.Yb(),i.Zb(18,"mat-table",16,17),i.Xb(20,18),i.Qc(21,$,3,3,"mat-header-cell",19),i.Qc(22,K,7,12,"mat-cell",20),i.Wb(),i.Xb(23,21),i.Qc(24,tt,3,3,"mat-header-cell",22),i.Qc(25,et,2,1,"mat-cell",23),i.Wb(),i.Xb(26,24),i.Qc(27,nt,4,5,"mat-header-cell",19),i.Qc(28,it,2,1,"mat-cell",25),i.Wb(),i.Xb(29,26),i.Qc(30,at,3,3,"mat-header-cell",27),i.Qc(31,rt,2,1,"mat-cell",28),i.Wb(),i.Xb(32,29),i.Qc(33,ot,3,3,"mat-header-cell",19),i.Qc(34,st,2,1,"mat-cell",25),i.Wb(),i.Qc(35,lt,2,1,"ng-container",9),i.Qc(36,ut,1,0,"mat-row",30),i.Yb(),i.Zb(37,"div",31),i.Sc(38),i.mc(39,"translate"),i.Yb(),i.Yb()),2&t){var n=i.Dc(7);i.sc("ngIf",e.isLoadingResults),i.Eb(4),i.sc("matAutocomplete",n)("placeholder",e.translate.instant("lang.filterBy"))("formControl",e.searchHistory),i.Eb(4),i.sc("ngIf",e.loadingFilters),i.Eb(1),i.sc("ngIf",null!==e.filterList&&!e.loadingFilters),i.Eb(1),i.sc("ngIf",e.privilegeService.hasCurrentUserPrivilege("view_full_history")&&e.privilegeService.hasCurrentUserPrivilege("view_doc_history")),i.Eb(2),i.sc("length",e.resultsLength)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.Jb("table-admin",null===e.resId),i.Eb(2),i.sc("ngForOf",i.nc(17,18,e.filterUsed)),i.Eb(2),i.sc("dataSource",e.data),i.Eb(17),i.sc("ngIf",null===e.resId),i.Eb(1),i.sc("matRowDefColumns",e.displayedColumnsHistory),i.Eb(2),i.Vc(" ",e.resultsLength," ",i.nc(39,20,"lang.elements"),"")}},directives:[w.t,O.c,S.b,E.d,m.c,m.o,m.t,m.i,E.a,s.a,w.s,M.n,I.a,M.c,M.i,M.b,M.m,P.c,T.o,T.n,A.b,D.a,M.h,I.b,M.a,M.k,M.j,M.l],pipes:[w.l,g.d,w.b,R.a,L.a,C.u,F.a],styles:[".active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]:active, .active[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%]:hover{color:#135f7f;border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.paginatorResultList[_ngcontent-%COMP%]    .mat-paginator-range-label{justify-content:flex-end;display:flex}.filterList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.label[_ngcontent-%COMP%]{cursor:pointer;margin:5px}.bg-head-content[_ngcontent-%COMP%]     .mat-focused .mat-form-field-label{color:#fff!important}.bg-head-content[_ngcontent-%COMP%]    .mat-form-field-ripple, .bg-head-content[_ngcontent-%COMP%]    .mat-form-field-underline{background-color:#fff!important}.bg-head-content[_ngcontent-%COMP%]   .mat-datepicker-toggle[_ngcontent-%COMP%], .bg-head-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff}.table-admin[_ngcontent-%COMP%]{height:90%;overflow:auto;position:absolute;width:100%}.smallText[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center;font-size:10px;opacity:.5;width:150px;flex:initial}"]}),t}(),ft=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getRepoIssues",value:function(t,e,n,i,a,r){return this.http.get("".concat(i,"?limit=10&offset=").concat(10*n,"&order=").concat(e,"&orderBy=").concat(t).concat(a).concat(r))}}]),t}()},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("EY2u"),a=n("LRne"),r=n("z6cu"),o=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return Object(r.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},WUgQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n("fXoL"),a=n("vkgz"),r=n("nYR2"),o=n("JIr8"),s=n("pLZG"),c=n("XqQ8"),l=n("LRne"),u=n("2c88"),d=n("sYmb"),f=n("tk/3"),h=n("AXEc"),p=n("4zkx"),m=n("0IaG"),g=n("rH+9"),b=n("ofXK"),v=n("Xa2L"),y=n("dUgt"),_=n("Wp6s"),k=n("bTqV"),C=n("kmnG"),x=n("NFeN"),w=n("8IW6"),O=n("ZI/H");function S(t,e){1&t&&(i.Zb(0,"div",2),i.Ub(1,"mat-spinner",3),i.Yb())}function E(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-note-editor",7,8),i.hc("refreshNotes",(function(t){return i.Hc(n),i.lc(2).loadNotes(t)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("addMode",!0)("resIds",a.resIds)("defaultRestriction",!0)}}function M(t,e){1&t&&(i.Zb(0,"div",9),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noNote")," "))}function I(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-card-subtitle",16),i.Zb(1,"button",17),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).editNote(t)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",18),i.Yb(),i.Zb(4,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).removeNote(t)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",20),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.tc("title",i.nc(2,2,"lang.editNote")),i.Eb(3),i.tc("title",i.nc(5,4,"lang.removeNote")))}function P(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-note-editor",21,8),i.hc("refreshNotes",(function(t){return i.Hc(n),i.lc(3).loadNotes(t)})),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(2);i.sc("resIds",r.resIds)("upMode",!0)("noteId",a.id)("entitiesNoteRestriction",r.getRestrictionEntitiesId(a.entities_restriction))("noteContent",a.value)}}function T(t,e){if(1&t&&(i.Zb(0,"span",26),i.mc(1,"translate"),i.Ub(2,"i",27),i.Sc(3),i.Yb()),2&t){var n=e.$implicit;i.tc("title",i.nc(1,2,"lang.restrictedEntity")),i.Eb(3),i.Uc(" ",n.short_label,"")}}function A(t,e){if(1&t&&(i.Zb(0,"div",24),i.Qc(1,T,4,4,"span",25),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.sc("ngForOf",n.entities_restriction)}}function D(t,e){if(1&t&&(i.Zb(0,"mat-card-content"),i.Zb(1,"p",22),i.Sc(2),i.Yb(),i.Qc(3,A,2,1,"div",23),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(2);i.Eb(2),i.Uc(" ",n.value," "),i.Eb(1),i.sc("ngIf",!a.functions.empty(n.entities_restriction))}}var R=function(t){return{"background-color":t}};function L(t,e){if(1&t&&(i.Zb(0,"mat-card",10),i.Zb(1,"mat-card-header"),i.Zb(2,"div",11),i.Ub(3,"i",12),i.Yb(),i.Zb(4,"mat-card-title"),i.Sc(5),i.Yb(),i.Zb(6,"mat-card-subtitle"),i.Sc(7),i.Yb(),i.Zb(8,"mat-card-subtitle",13),i.mc(9,"fullDate"),i.Sc(10),i.mc(11,"timeAgo"),i.Yb(),i.Qc(12,I,7,6,"mat-card-subtitle",14),i.Yb(),i.Qc(13,P,2,5,"app-note-editor",15),i.Qc(14,D,4,2,"mat-card-content",1),i.Yb()),2&t){var n=e.$implicit,a=i.lc(2);i.sc("ngStyle",i.zc(13,R,n.entities_restriction?"#FFEDCC":"white")),i.Eb(5),i.Vc("",n.firstname," ",n.lastname,""),i.Eb(2),i.Tc(n.entity_label),i.Eb(1),i.tc("title",i.nc(9,9,n.creation_date)),i.Eb(2),i.Tc(i.nc(11,11,n.creation_date)),i.Eb(2),i.sc("ngIf",n.user_id==a.headerService.user.id),i.Eb(1),i.sc("ngIf",n.edit),i.Eb(1),i.sc("ngIf",!n.edit)}}function F(t,e){if(1&t&&(i.Xb(0),i.Qc(1,E,2,3,"app-note-editor",4),i.Qc(2,M,3,3,"div",5),i.Qc(3,L,15,15,"mat-card",6),i.Wb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.editMode),i.Eb(1),i.sc("ngIf",0==n.notes.length),i.Eb(1),i.sc("ngForOf",n.notes)}}var j=function(){var t=function(){function t(e,n,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.headerService=r,this.dialog=o,this.functions=s,this.notes=[],this.loading=!0,this.resIds=[],this.resId=null,this.editMode=!1,this.reloadBadgeNotes=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;null!==this.resId&&this.http.get("../rest/resources/".concat(this.resId,"/notes")).pipe(Object(a.a)((function(e){t.resIds[0]=t.resId,t.notes=e.notes})),Object(r.a)((function(){return t.loading=!1})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}},{key:"loadNotes",value:function(t){var e=this;this.resIds[0]=t,this.loading=!0,this.http.get("../rest/resources/"+this.resIds[0]+"/notes").subscribe((function(t){e.notes=t.notes,e.reloadBadgeNotes.emit(""+e.notes.length),e.loading=!1}))}},{key:"getRestrictionEntitiesId",value:function(t){return this.functions.empty(t)?[]:t.map((function(t){return t.item_id[0]}))}},{key:"removeNote",value:function(t){var e=this;this.dialogRef=this.dialog.open(u.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!1,data:{title:this.translate.instant("lang.confirmRemoveNote"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(s.a)((function(t){return"ok"===t})),Object(c.a)((function(){return e.http.request("DELETE","../rest/notes/"+t.id)})),Object(a.a)((function(){var n=e.notes.findIndex((function(e){return e.id==t.id}));n>-1&&e.notes.splice(n,1),e.notify.success(e.translate.instant("lang.noteRemoved")),e.reloadBadgeNotes.emit(""+e.notes.length)}))).subscribe()}},{key:"editNote",value:function(t){t.edit=!t.edit}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(d.e),i.Tb(f.b),i.Tb(h.a),i.Tb(p.a),i.Tb(m.b),i.Tb(g.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-notes-list"]],inputs:{injectDatas:"injectDatas",resId:"resId",editMode:"editMode"},outputs:{reloadBadgeNotes:"reloadBadgeNotes"},decls:2,vars:2,consts:[["style","display:flex;height:100%;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["style","margin: 20px;display: flex;flex-direction: column;",3,"addMode","resIds","defaultRestriction","refreshNotes",4,"ngIf"],["style","text-align:center;font-size:24px;font-weight:bold;opacity:0.3;",4,"ngIf"],["style","margin-top: 10px;",3,"ngStyle",4,"ngFor","ngForOf"],[2,"margin","20px","display","flex","flex-direction","column",3,"addMode","resIds","defaultRestriction","refreshNotes"],["noteEditor",""],[2,"text-align","center","font-size","24px","font-weight","bold","opacity","0.3"],[2,"margin-top","10px",3,"ngStyle"],["mat-card-avatar",""],["color","primary",1,"fa","fa-user"],[1,"dateNote",3,"title"],["class","removeNote",4,"ngIf"],["style","margin: 20px;display: flex;flex-direction: column;",3,"resIds","upMode","noteId","entitiesNoteRestriction","noteContent","refreshNotes",4,"ngIf"],[1,"removeNote"],["matSuffix","","mat-icon-button","",1,"editNote",3,"title","click"],["fontSet","fas","fontIcon","fa-pencil-alt fa-2x"],["matSuffix","","mat-icon-button","",2,"color","red",3,"title","click"],["fontSet","far","fontIcon","fa-trash-alt fa-2x"],[2,"margin","20px","display","flex","flex-direction","column",3,"resIds","upMode","noteId","entitiesNoteRestriction","noteContent","refreshNotes"],[1,"noteTextContent"],["style","overflow: auto;max-height: 75px;",4,"ngIf"],[2,"overflow","auto","max-height","75px"],["class","label label-default noteRestriction",3,"title",4,"ngFor","ngForOf"],[1,"label","label-default","noteRestriction",3,"title"],[1,"fa","fa-sitemap"]],template:function(t,e){1&t&&(i.Qc(0,S,2,0,"div",0),i.Qc(1,F,4,3,"ng-container",1)),2&t&&(i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[b.t,v.c,b.s,y.a,_.a,b.w,_.f,_.c,_.m,_.l,k.b,C.j,x.a,_.d],pipes:[d.d,w.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{margin:20px;padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12)}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px}.mat-card-avatar[_ngcontent-%COMP%]{height:auto;width:auto;border-radius:0;display:flex;text-align:center}.mat-card-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex:1;font-size:25px;margin:auto}.mat-card-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin:0}.mat-card-subtitle[_ngcontent-%COMP%]{margin:0;padding-top:5px}.dateNote[_ngcontent-%COMP%]{position:absolute;right:10px;top:13px;font-size:12px;margin:0;color:#135f7f}.removeNote[_ngcontent-%COMP%]{position:absolute;top:22px;right:0}.editNote[_ngcontent-%COMP%]{margin-right:-10px;color:#135f7f}.noteTextContent[_ngcontent-%COMP%]{white-space:pre-line;padding:30px}.noteRestriction[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);white-space:normal;display:inline-block;margin:5px!important}"]}),t}()},Wp6s:function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return _})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return S})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return O})),n.d(e,"o",(function(){return k}));var i=n("R1ws"),a=n("FKr1"),r=n("fXoL"),o=["*",[["mat-card-footer"]]],s=["*","mat-card-footer"],c=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],l=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],u=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],d=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"],f=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t}(),h=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t}(),p=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t}(),m=function(){var t=function t(){_classCallCheck(this,t),this.align="start"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t}(),g=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t}(),b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t}(),v=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),t}(),y=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-card-md-image"]}),t}(),_=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-card-lg-image"]}),t}(),k=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-card-xl-image",""],["","matCardImageXLarge",""]],hostAttrs:[1,"mat-card-xl-image"]}),t}(),C=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t}(),x=function(){var t=function t(e){_classCallCheck(this,t),this._animationMode=e};return t.\u0275fac=function(e){return new(e||t)(r.Tb(i.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:s,decls:2,vars:0,template:function(t,e){1&t&&(r.rc(o),r.qc(0),r.qc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t}(),w=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.rc(c),r.qc(0),r.Zb(1,"div",0),r.qc(2,1),r.Yb(),r.qc(3,2))},encapsulation:2,changeDetection:0}),t}(),O=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:d,decls:4,vars:0,template:function(t,e){1&t&&(r.rc(u),r.Zb(0,"div"),r.qc(1),r.Yb(),r.qc(2,1),r.qc(3,2))},encapsulation:2,changeDetection:0}),t}(),S=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[a.j],a.j]}),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var i=n("HDdC"),a=n("7o/Q"),r=n("quSY"),o=n("9ppp"),s=n("Ylt2"),c=n("2QA8"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).destination=t,i}return n}(a.a),u=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:c.a,value:function(){return new l(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new o.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),a=0;a<n;a++)i[a].next(t)}},{key:"error",value:function(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),a=0;a<n;a++)i[a].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new o.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new o.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),r.a.EMPTY):this.isStopped?(t.complete(),r.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new i.a;return t.source=this,t}}]),n}(i.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this)).destination=t,a.source=i,a}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):r.a.EMPTY}}]),n}(u)},Xa2L:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return g}));var i=n("fXoL"),a=n("ofXK"),r=n("FKr1"),o=n("8LU1"),s=n("nLfN"),c=n("R1ws");function l(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){var n=i.lc();i.Pc("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),i.Fb("r",n._circleRadius)}}function u(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){var n=i.lc();i.Pc("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),i.Fb("r",n._circleRadius)}}function d(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){var n=i.lc();i.Pc("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),i.Fb("r",n._circleRadius)}}function f(t,e){if(1&t&&(i.kc(),i.Ub(0,"circle",3)),2&t){var n=i.lc();i.Pc("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),i.Fb("r",n._circleRadius)}}var h=Object(r.z)((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),p=new i.r("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}}),m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;_classCallCheck(this,n),(s=e.call(this,t))._elementRef=t,s._document=a,s._diameter=100,s._value=0,s._fallbackAnimation=!1,s.mode="determinate";var c=n._diameters;return c.has(a.head)||c.set(a.head,new Set([100])),s._fallbackAnimation=i.EDGE||i.TRIDENT,s._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,o&&(o.diameter&&(s.diameter=o.diameter),o.strokeWidth&&(s.strokeWidth=o.strokeWidth)),s}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement;this._styleRoot=Object(s.c)(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_attachStyleNode",value:function(){var t=this._styleRoot,e=this._diameter,i=n._diameters,a=i.get(t);if(!a||!a.has(e)){var r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",e+""),r.textContent=this._getAnimationText(),t.appendChild(r),a||(a=new Set,i.set(t,a)),a.add(e)}}},{key:"_getAnimationText",value:function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)}},{key:"diameter",get:function(){return this._diameter},set:function(t){this._diameter=Object(o.f)(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=Object(o.f)(t)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,Object(o.f)(t)))}},{key:"_circleRadius",get:function(){return(this.diameter-10)/2}},{key:"_viewBox",get:function(){var t=2*this._circleRadius+this.strokeWidth;return"0 0 ".concat(t," ").concat(t)}},{key:"_strokeCircumference",get:function(){return 2*Math.PI*this._circleRadius}},{key:"_strokeDashOffset",get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}},{key:"_circleStrokeWidth",get:function(){return this.strokeWidth/this.diameter*100}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(s.a),i.Tb(a.e,8),i.Tb(c.a,8),i.Tb(p))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(i.Fb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.Jb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[i.Bb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Qc(1,l,1,9,"circle",1),i.Qc(2,u,1,7,"circle",2),i.Yb()),2&t&&(i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.sc("ngSwitch","indeterminate"===e.mode),i.Fb("viewBox",e._viewBox),i.Eb(1),i.sc("ngSwitchCase",!0),i.Eb(1),i.sc("ngSwitchCase",!1))},directives:[a.x,a.y],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t}(),g=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,i,a,r,o)).mode="indeterminate",s}return n}(m);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(s.a),i.Tb(a.e,8),i.Tb(c.a,8),i.Tb(p))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.Jb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[i.Bb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Qc(1,d,1,9,"circle",1),i.Qc(2,f,1,7,"circle",2),i.Yb()),2&t&&(i.Pc("width",e.diameter,"px")("height",e.diameter,"px"),i.sc("ngSwitch","indeterminate"===e.mode),i.Fb("viewBox",e._viewBox),i.Eb(1),i.sc("ngSwitchCase",!0),i.Eb(1),i.sc("ngSwitchCase",!1))},directives:[a.x,a.y],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t}(),b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[r.j,a.c],r.j]}),t}()},XhcP:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return Z})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return U})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return N})),n.d(e,"g",(function(){return H}));var i=n("nLfN"),a=n("vxfF"),r=n("ofXK"),o=n("fXoL"),s=n("FKr1"),c=n("8LU1"),l=n("FtGj"),u=n("XNiG"),d=n("xgIS"),f=n("VRyK"),h=n("pLZG"),p=n("1G5W"),m=n("/uUt"),g=n("lJxs"),b=n("IzEk"),v=n("JX91"),y=n("Kj3r"),_=n("R0Ic"),k=n("R1ws"),C=n("u47x"),x=n("cH1L"),w=["*"];function O(t,e){if(1&t){var n=o.ac();o.Zb(0,"div",2),o.hc("click",(function(){return o.Hc(n),o.lc()._onBackdropClicked()})),o.Yb()}if(2&t){var i=o.lc();o.Jb("mat-drawer-shown",i._isShowingBackdrop())}}function S(t,e){1&t&&(o.Zb(0,"mat-drawer-content"),o.qc(1,2),o.Yb())}var E=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],M=["mat-drawer","mat-drawer-content","*"];function I(t,e){if(1&t){var n=o.ac();o.Zb(0,"div",2),o.hc("click",(function(){return o.Hc(n),o.lc()._onBackdropClicked()})),o.Yb()}if(2&t){var i=o.lc();o.Jb("mat-drawer-shown",i._isShowingBackdrop())}}function P(t,e){1&t&&(o.Zb(0,"mat-sidenav-content",3),o.qc(1,2),o.Yb())}var T=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],A=["mat-sidenav","mat-sidenav-content","*"],D={transformDrawer:Object(_.n)("transform",[Object(_.k)("open, open-instant",Object(_.l)({transform:"none",visibility:"visible"})),Object(_.k)("void",Object(_.l)({"box-shadow":"none",visibility:"hidden"})),Object(_.m)("void => open-instant",Object(_.e)("0ms")),Object(_.m)("void <=> open, open-instant => void",Object(_.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function R(t){throw Error("A drawer was already declared for 'position=\"".concat(t,"\"'"))}var L=new o.r("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),F=new o.r("MAT_DRAWER_CONTAINER"),j=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,a,r,o))._changeDetectorRef=t,s._container=i,s}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._container._contentMarginChanges.subscribe((function(){t._changeDetectorRef.markForCheck()}))}}]),n}(a.b);return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.h),o.Tb(Object(o.W)((function(){return Z}))),o.Tb(o.l),o.Tb(a.f),o.Tb(o.B))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&o.Pc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[o.Bb],ngContentSelectors:w,decls:1,vars:0,template:function(t,e){1&t&&(o.rc(),o.qc(0))},encapsulation:2,changeDetection:0}),t}(),Y=function(){var t=function(){function t(e,n,i,a,r,s,c){var f=this;_classCallCheck(this,t),this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=a,this._ngZone=r,this._doc=s,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new u.a,this._animationEnd=new u.a,this._animationState="void",this.openedChange=new o.o(!0),this._destroyed=new u.a,this.onPositionChanged=new o.o,this._modeChanged=new u.a,this.openedChange.subscribe((function(t){t?(f._doc&&(f._elementFocusedBeforeDrawerWasOpened=f._doc.activeElement),f._takeFocus()):f._restoreFocus()})),this._ngZone.runOutsideAngular((function(){Object(d.a)(f._elementRef.nativeElement,"keydown").pipe(Object(h.a)((function(t){return t.keyCode===l.h&&!f.disableClose&&!Object(l.v)(t)})),Object(p.a)(f._destroyed)).subscribe((function(t){return f._ngZone.run((function(){f.close(),t.stopPropagation(),t.preventDefault()}))}))})),this._animationEnd.pipe(Object(m.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&f.openedChange.emit(f._opened)}))}return _createClass(t,[{key:"_takeFocus",value:function(){var t=this;this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then((function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()}))}},{key:"_restoreFocus",value:function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}}},{key:"ngAfterContentInit",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}},{key:"ngAfterContentChecked",value:function(){this._platform.isBrowser&&(this._enableAnimations=!0)}},{key:"ngOnDestroy",value:function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(t){return this.toggle(!0,t)}},{key:"close",value:function(){return this.toggle(!1)}},{key:"toggle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.opened,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"program";return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(e){t.openedChange.pipe(Object(b.a)(1)).subscribe((function(t){return e(t?"open":"close")}))}))}},{key:"_updateFocusTrapState",value:function(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}},{key:"_animationStartListener",value:function(t){this._animationStarted.next(t)}},{key:"_animationDoneListener",value:function(t){this._animationEnd.next(t)}},{key:"position",get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}},{key:"disableClose",get:function(){return this._disableClose},set:function(t){this._disableClose=Object(c.c)(t)}},{key:"autoFocus",get:function(){var t=this._autoFocus;return null==t?"side"!==this.mode:t},set:function(t){this._autoFocus=Object(c.c)(t)}},{key:"opened",get:function(){return this._opened},set:function(t){this.toggle(Object(c.c)(t))}},{key:"_openedStream",get:function(){return this.openedChange.pipe(Object(h.a)((function(t){return t})),Object(g.a)((function(){})))}},{key:"openedStart",get:function(){return this._animationStarted.pipe(Object(h.a)((function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")})),Object(g.a)((function(){})))}},{key:"_closedStream",get:function(){return this.openedChange.pipe(Object(h.a)((function(t){return!t})),Object(g.a)((function(){})))}},{key:"closedStart",get:function(){return this._animationStarted.pipe(Object(h.a)((function(t){return t.fromState!==t.toState&&"void"===t.toState})),Object(g.a)((function(){})))}},{key:"_width",get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.l),o.Tb(C.i),o.Tb(C.h),o.Tb(i.a),o.Tb(o.B),o.Tb(r.e,8),o.Tb(F,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&o.Kb("@transform.start",(function(t){return e._animationStartListener(t)}))("@transform.done",(function(t){return e._animationDoneListener(t)})),2&t&&(o.Fb("align",null),o.Zc("@transform",e._animationState),o.Jb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:w,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(o.rc(),o.Zb(0,"div",0),o.qc(1),o.Yb())},encapsulation:2,data:{animation:[D.transformDrawer]},changeDetection:0}),t}(),Z=function(){var t=function(){function t(e,n,i,a,r){var s=this,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,t),this._dir=e,this._element=n,this._ngZone=i,this._changeDetectorRef=a,this._animationMode=l,this._drawers=new o.G,this.backdropClick=new o.o,this._destroyed=new u.a,this._doCheckSubject=new u.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new u.a,e&&e.change.pipe(Object(p.a)(this._destroyed)).subscribe((function(){s._validateDrawers(),s.updateContentMargins()})),r.change().pipe(Object(p.a)(this._destroyed)).subscribe((function(){return s.updateContentMargins()})),this._autosize=c}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._allDrawers.changes.pipe(Object(v.a)(this._allDrawers),Object(p.a)(this._destroyed)).subscribe((function(e){t._drawers.reset(e.filter((function(e){return!e._container||e._container===t}))),t._drawers.notifyOnChanges()})),this._drawers.changes.pipe(Object(v.a)(null)).subscribe((function(){t._validateDrawers(),t._drawers.forEach((function(e){t._watchDrawerToggle(e),t._watchDrawerPosition(e),t._watchDrawerMode(e)})),(!t._drawers.length||t._isDrawerOpen(t._start)||t._isDrawerOpen(t._end))&&t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),this._doCheckSubject.pipe(Object(y.a)(10),Object(p.a)(this._destroyed)).subscribe((function(){return t.updateContentMargins()}))}},{key:"ngOnDestroy",value:function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(){this._drawers.forEach((function(t){return t.open()}))}},{key:"close",value:function(){this._drawers.forEach((function(t){return t.close()}))}},{key:"updateContentMargins",value:function(){var t=this,e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){var i=this._left._width;e+=i,n-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var a=this._right._width;n+=a,e-=a}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run((function(){return t._contentMarginChanges.next(t._contentMargins)})))}},{key:"ngDoCheck",value:function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return t._doCheckSubject.next()}))}},{key:"_watchDrawerToggle",value:function(t){var e=this;t._animationStarted.pipe(Object(h.a)((function(t){return t.fromState!==t.toState})),Object(p.a)(this._drawers.changes)).subscribe((function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),"side"!==t.mode&&t.openedChange.pipe(Object(p.a)(this._drawers.changes)).subscribe((function(){return e._setContainerClass(t.opened)}))}},{key:"_watchDrawerPosition",value:function(t){var e=this;t&&t.onPositionChanged.pipe(Object(p.a)(this._drawers.changes)).subscribe((function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(b.a)(1)).subscribe((function(){e._validateDrawers()}))}))}},{key:"_watchDrawerMode",value:function(t){var e=this;t&&t._modeChanged.pipe(Object(p.a)(Object(f.a)(this._drawers.changes,this._destroyed))).subscribe((function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()}))}},{key:"_setContainerClass",value:function(t){var e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}},{key:"_validateDrawers",value:function(){var t=this;this._start=this._end=null,this._drawers.forEach((function(e){"end"==e.position?(null!=t._end&&R("end"),t._end=e):(null!=t._start&&R("start"),t._start=e)})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}},{key:"_isPushed",value:function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}},{key:"_onBackdropClicked",value:function(){this.backdropClick.emit(),this._closeModalDrawer()}},{key:"_closeModalDrawer",value:function(){var t=this;[this._start,this._end].filter((function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)})).forEach((function(t){return t.close()}))}},{key:"_isShowingBackdrop",value:function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}},{key:"_canHaveBackdrop",value:function(t){return"side"!==t.mode||!!this._backdropOverride}},{key:"_isDrawerOpen",value:function(t){return null!=t&&t.opened}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"autosize",get:function(){return this._autosize},set:function(t){this._autosize=Object(c.c)(t)}},{key:"hasBackdrop",get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:Object(c.c)(t)}},{key:"scrollable",get:function(){return this._userContent||this._content}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(x.c,8),o.Tb(o.l),o.Tb(o.B),o.Tb(o.h),o.Tb(a.h),o.Tb(L),o.Tb(k.a,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,j,!0),o.Lb(n,Y,!0)),2&t&&(o.Cc(i=o.ic())&&(e._content=i.first),o.Cc(i=o.ic())&&(e._allDrawers=i))},viewQuery:function(t,e){var n;1&t&&o.ad(j,!0),2&t&&o.Cc(n=o.ic())&&(e._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&o.Jb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o.Db([{provide:F,useExisting:t}])],ngContentSelectors:M,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(o.rc(E),o.Qc(0,O,1,2,"div",0),o.qc(1),o.qc(2,1),o.Qc(3,S,2,0,"mat-drawer-content",1)),2&t&&(o.sc("ngIf",e.hasBackdrop),o.Eb(3),o.sc("ngIf",!e._content))},directives:[r.t,j],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t}(),N=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){return _classCallCheck(this,n),e.call(this,t,i,a,r,o)}return n}(j);return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.h),o.Tb(Object(o.W)((function(){return z}))),o.Tb(o.l),o.Tb(a.f),o.Tb(o.B))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&o.Pc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[o.Bb],ngContentSelectors:w,decls:1,vars:0,template:function(t,e){1&t&&(o.rc(),o.qc(0))},encapsulation:2,changeDetection:0}),t}(),U=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._fixedInViewport=!1,t._fixedTopGap=0,t._fixedBottomGap=0,t}return _createClass(n,[{key:"fixedInViewport",get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=Object(c.c)(t)}},{key:"fixedTopGap",get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=Object(c.f)(t)}},{key:"fixedBottomGap",get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=Object(c.f)(t)}}]),n}(Y);return t.\u0275fac=function(e){return B(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(o.Fb("align",null),o.Pc("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),o.Jb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.Bb],ngContentSelectors:w,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(o.rc(),o.Zb(0,"div",0),o.qc(1),o.Yb())},encapsulation:2,data:{animation:[D.transformDrawer]},changeDetection:0}),t}(),B=o.bc(U),z=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Z);return t.\u0275fac=function(e){return V(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,N,!0),o.Lb(n,U,!0)),2&t&&(o.Cc(i=o.ic())&&(e._content=i.first),o.Cc(i=o.ic())&&(e._allDrawers=i))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&o.Jb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[o.Db([{provide:F,useExisting:t}]),o.Bb],ngContentSelectors:A,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(o.rc(T),o.Qc(0,I,1,2,"div",0),o.qc(1),o.qc(2,1),o.Qc(3,P,2,0,"mat-sidenav-content",1)),2&t&&(o.sc("ngIf",e.hasBackdrop),o.Eb(3),o.sc("ngIf",!e._content))},directives:[r.t,N,a.b],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t}(),V=o.bc(z),H=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},imports:[[r.c,s.j,i.b,a.c],a.c,s.j]}),t}()},XkWp:function(t,e,n){"use strict";n.d(e,"a",(function(){return ot}));var i,a=n("mrSG"),r=n("5+WD"),o=n("vkgz"),s=n("JIr8"),c=n("lJxs"),l=n("JX91"),u=n("pLZG"),d=n("nYR2"),f=n("XqQ8"),h=n("3Pt+"),p=n("LRne"),m=n("0IaG"),g=n("fXoL"),b=n("sYmb"),v=n("tk/3"),y=n("AXEc"),_=n("kmnG"),k=n("qFsG"),C=n("bTqV"),x=((i=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialogRef=a,this.notify=r,this.loading=!1,this.template={id:0,type:"opinionCircuit",title:"",items:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){this.template.items=this.data.avisWorkflow.map((function(t){return{id:t.item_id,type:"user",mode:"avis"}}))}},{key:"onSubmit",value:function(){var t=this;this.http.post("../rest/listTemplates",this.template).pipe(Object(o.a)((function(e){t.template.id=e.id,t.notify.success(t.translate.instant("lang.modelSaved")),t.dialogRef.close(t.template)})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(p.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||i)(g.Tb(b.e),g.Tb(v.b),g.Tb(m.a),g.Tb(m.h),g.Tb(y.a))},i.\u0275cmp=g.Nb({type:i,selectors:[["ng-component"]],decls:14,vars:9,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[1,"modal-container"],["appearance","outline"],["type","text","matInput","","placeholder","Nom du mod\xe8le",3,"ngModel","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"h1",1),g.Sc(2,"Ajouter un mod\xe8le"),g.Yb(),g.Zb(3,"mat-dialog-content",2),g.Zb(4,"mat-form-field",3),g.Zb(5,"input",4),g.hc("ngModelChange",(function(t){return e.template.title=t})),g.Yb(),g.Yb(),g.Yb(),g.Ub(6,"span",5),g.Zb(7,"div",6),g.Zb(8,"button",7),g.hc("click",(function(){return e.onSubmit()})),g.Sc(9),g.mc(10,"translate"),g.Yb(),g.Zb(11,"button",8),g.Sc(12),g.mc(13,"translate"),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(5),g.sc("ngModel",e.template.title),g.Eb(3),g.sc("disabled",e.loading),g.Eb(1),g.Tc(g.nc(10,5,"lang.validate")),g.Eb(2),g.sc("disabled",e.loading),g.Eb(1),g.Tc(g.nc(13,7,"lang.cancel")))},directives:[m.i,m.f,_.c,k.b,h.c,h.t,h.w,m.c,C.b,m.d],pipes:[b.d],styles:[""]}),i),w=n("2c88"),O=n("rH+9"),S=n("aEDk"),E=n("ofXK"),M=n("MutI"),I=n("/1cH"),P=n("FKr1"),T=n("Xa2L"),A=n("NFeN"),D=n("STbY"),R=n("1YbM"),L=n("8IW6"),F=n("ZI/H"),j=["searchAvisUserInput"];function Y(t,e){1&t&&(g.Zb(0,"mat-option",15),g.Zb(1,"div",16),g.Ub(2,"mat-spinner",17),g.Yb(),g.Yb())}function Z(t,e){if(1&t&&(g.Zb(0,"mat-option",20),g.Sc(1),g.Yb()),2&t){var n=e.$implicit;g.sc("value",n),g.Eb(1),g.Uc(" ",n.label," ")}}function N(t,e){if(1&t&&(g.Zb(0,"mat-optgroup",18),g.Qc(1,Z,2,2,"mat-option",19),g.mc(2,"sortBy"),g.mc(3,"async"),g.Yb()),2&t){var n=g.lc(3);g.sc("label",n.translate.instant("lang.publicModel")),g.Eb(1),g.sc("ngForOf",g.oc(2,2,g.nc(3,5,n.filteredPublicModels),"label"))}}function U(t,e){if(1&t){var n=g.ac();g.Zb(0,"mat-option",20),g.Zb(1,"div",21),g.Zb(2,"div",22),g.Sc(3),g.Yb(),g.Zb(4,"button",23),g.hc("click",(function(t){g.Hc(n);var i=e.$implicit,a=g.lc(4);return t.stopPropagation(),a.deletePrivateModel(i)})),g.Ub(5,"mat-icon",24),g.Yb(),g.Yb(),g.Yb()}if(2&t){var i=e.$implicit;g.sc("value",i),g.Eb(3),g.Uc(" ",i.label," ")}}function B(t,e){if(1&t&&(g.Zb(0,"mat-optgroup",18),g.Qc(1,U,6,2,"mat-option",19),g.mc(2,"sortBy"),g.mc(3,"async"),g.Yb()),2&t){var n=g.lc(3);g.sc("label",n.translate.instant("lang.privateModel")),g.Eb(1),g.sc("ngForOf",g.oc(2,2,g.nc(3,5,n.filteredPrivateModels),"label"))}}function z(t,e){if(1&t&&(g.Zb(0,"mat-option",20),g.Sc(1),g.Zb(2,"small"),g.Sc(3),g.Yb(),g.Yb()),2&t){var n=e.$implicit;g.sc("value",n),g.Eb(1),g.Uc(" ",n.label," "),g.Eb(2),g.Uc("(",n.entity,")")}}function V(t,e){if(1&t&&(g.Zb(0,"mat-optgroup",18),g.mc(1,"titlecase"),g.mc(2,"translate"),g.Qc(3,z,4,3,"mat-option",19),g.mc(4,"sortBy"),g.mc(5,"async"),g.Yb()),2&t){var n=g.lc(3);g.sc("label",g.nc(1,2,g.nc(2,4,"lang.user"))),g.Eb(3),g.sc("ngForOf",g.oc(4,6,g.nc(5,9,n.filteredSignAvisUsers),"label"))}}function H(t,e){if(1&t){var n=g.ac();g.Zb(0,"button",25),g.hc("click",(function(t){g.Hc(n);var e=g.lc(3);return t.stopPropagation(),e.openPromptSaveModel()})),g.mc(1,"translate"),g.Ub(2,"mat-icon",26),g.Yb()}2&t&&g.tc("title",g.nc(1,1,"lang.saveAsPrivateModel"))}function Q(t,e){if(1&t){var n=g.ac();g.Zb(0,"mat-form-field",7),g.Ub(1,"input",8,9),g.Zb(3,"mat-autocomplete",10,11),g.hc("optionSelected",(function(t){return g.Hc(n),g.lc(2).addItemToWorkflow(t.option.value)}))("opened",(function(){return g.Hc(n),g.lc(2).initFilterAvisModelList()})),g.Qc(5,Y,3,0,"mat-option",12),g.Qc(6,N,4,7,"mat-optgroup",13),g.mc(7,"async"),g.Qc(8,B,4,7,"mat-optgroup",13),g.mc(9,"async"),g.Qc(10,V,6,11,"mat-optgroup",13),g.mc(11,"async"),g.Yb(),g.Qc(12,H,3,3,"button",14),g.Yb()}if(2&t){var i,a,r,o=g.Dc(4),s=g.lc(2),c=(null==(i=g.nc(7,7,s.filteredPublicModels))?null:i.length)>0,l=(null==(a=g.nc(9,9,s.filteredPrivateModels))?null:a.length)>0,u=(null==(r=g.nc(11,11,s.filteredSignAvisUsers))?null:r.length)>0;g.Eb(1),g.sc("formControl",s.searchAvisUser)("matAutocomplete",o),g.Eb(4),g.sc("ngIf",s.avisModelListNotLoaded),g.Eb(1),g.sc("ngIf",c),g.Eb(2),g.sc("ngIf",l),g.Eb(2),g.sc("ngIf",u),g.Eb(2),g.sc("ngIf",s.avisWorkflow.items.length>0&&s.showListModels)}}function W(t,e){1&t&&(g.Zb(0,"div",27),g.Sc(1),g.mc(2,"translate"),g.Yb()),2&t&&(g.Eb(1),g.Uc(" ",g.nc(2,1,"lang.noPerson")," "))}function G(t,e){1&t&&g.Ub(0,"mat-icon",38)}function q(t,e){if(1&t&&(g.Xb(0),g.Ub(1,"mat-icon",39),g.Wb()),2&t){var n=g.lc().$implicit;g.Eb(1),g.Jb("fa-hourglass",null==n.process_date)("fa-thumbs-up",null!=n.process_date)("valid",null!=n.process_date)}}function X(t,e){if(1&t&&(g.Zb(0,"div",40),g.mc(1,"fullDate"),g.Sc(2),g.mc(3,"translate"),g.mc(4,"timeAgo"),g.Yb()),2&t){var n=g.lc().$implicit;g.tc("title",g.nc(1,3,n.process_date)),g.Eb(2),g.Vc("",g.nc(3,5,"lang.avisSent")," ",g.oc(4,7,n.process_date,"full"),"")}}function $(t,e){if(1&t){var n=g.ac();g.Zb(0,"button",44),g.hc("click",(function(){g.Hc(n);var t=e.$implicit,i=g.lc(2).index;return g.lc(2).changeRole(t,i)})),g.Sc(1),g.Yb()}if(2&t){var i=e.$implicit;g.Eb(1),g.Tc(i.label)}}function J(t,e){if(1&t&&(g.Zb(0,"div"),g.Zb(1,"button",41),g.Sc(2),g.Yb(),g.Zb(3,"mat-menu",null,42),g.Qc(5,$,2,1,"button",43),g.Yb(),g.Yb()),2&t){var n=g.Dc(4),i=g.lc().$implicit,a=g.lc(2);g.Eb(1),g.sc("disabled",!a.adminMode||!a.functions.empty(i.process_date))("matMenuTriggerFor",n)("title",a.getRoleLabel(i.item_mode)),g.Eb(1),g.Tc(a.getRoleLabel(i.item_mode)),g.Eb(3),g.sc("ngForOf",a.availableRoles)}}function K(t,e){1&t&&(g.Zb(0,"div",45),g.Sc(1),g.mc(2,"translate"),g.Yb()),2&t&&(g.Eb(1),g.Uc(" ",g.nc(2,1,"lang.noPrivileges")," "))}function tt(t,e){if(1&t){var n=g.ac();g.Zb(0,"button",46),g.hc("click",(function(){g.Hc(n);var t=g.lc().index;return g.lc(2).deleteItem(t)})),g.Ub(1,"mat-icon",47),g.Yb()}}var et=function(t,e){return{"fa fa-user fa-2x":t,avatar:e}};function nt(t,e){if(1&t&&(g.Zb(0,"mat-list-item",28),g.Qc(1,G,1,0,"mat-icon",29),g.Ub(2,"mat-icon",30),g.Qc(3,q,2,6,"ng-container",0),g.Zb(4,"div",31),g.Zb(5,"div",32),g.Zb(6,"div",33),g.Sc(7),g.Yb(),g.Zb(8,"div",34),g.Sc(9),g.Yb(),g.Qc(10,X,5,10,"div",35),g.Yb(),g.Qc(11,J,6,5,"div",0),g.Qc(12,K,3,3,"div",36),g.Yb(),g.Qc(13,tt,2,0,"button",37),g.Yb()),2&t){var n=e.$implicit,i=e.index,a=g.lc(2);g.Jb("notDraggable",!a.adminMode||!a.functions.empty(n.process_date))("notEditable",!a.adminMode)("processed",null!=n.process_date),g.sc("cdkDragDisabled",!a.adminMode||!a.functions.empty(n.process_date)),g.Eb(1),g.sc("ngIf",a.getCurrentAvisUserIndex()===i&&!a.adminMode),g.Eb(1),g.Pc("background-image",a.functions.empty(n.picture)?"":"url("+n.picture+")",g.Mb),g.Jb("invalid",!n.hasPrivilege),g.sc("ngClass",g.Ac(24,et,a.functions.empty(n.picture),!a.functions.empty(n.picture))),g.Eb(1),g.sc("ngIf",!a.adminMode||null!=n.process_date),g.Eb(3),g.Jb("unauthorized",!n.hasPrivilege),g.Eb(1),g.Uc(" ",n.labelToDisplay," "),g.Eb(1),g.Jb("unauthorized",!n.hasPrivilege),g.Eb(1),g.Uc(" ",n.item_entity," "),g.Eb(1),g.sc("ngIf",null!=n.process_date),g.Eb(1),g.sc("ngIf","parallel"===a.mode),g.Eb(1),g.sc("ngIf",!n.hasPrivilege),g.Eb(1),g.sc("ngIf",a.adminMode&&a.functions.empty(n.process_date))}}function it(t,e){if(1&t){var n=g.ac();g.Zb(0,"mat-list"),g.Qc(1,Q,13,13,"mat-form-field",2),g.Zb(2,"div",3,4),g.hc("cdkDropListDropped",(function(t){return g.Hc(n),g.lc().drop(t)})),g.Qc(4,W,3,3,"div",5),g.Qc(5,nt,14,27,"mat-list-item",6),g.Yb(),g.Yb()}if(2&t){var i=g.lc();g.Eb(1),g.sc("ngIf",i.adminMode),g.Eb(1),g.sc("cdkDropListData",i.avisWorkflow.items)("cdkDropListDisabled",!i.adminMode),g.Eb(2),g.sc("ngIf",0===i.avisWorkflow.items.length),g.Eb(1),g.sc("ngForOf",i.avisWorkflow.items)}}function at(t,e){1&t&&(g.Zb(0,"div",48),g.Ub(1,"mat-spinner",49),g.Yb())}var rt,ot=((rt=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.functions=a,this.latinisePipe=r,this.dialog=o,this.avisWorkflow={roles:["sign","avis"],items:[]},this.avisWorkflowClone=[],this.avisTemplates={private:[],public:[]},this.availableRoles=[],this.signAvisUsers=[],this.loading=!1,this.avisModelListNotLoaded=!0,this.resId=null,this.showListModels=!0,this.mode="circuit",this.searchAvisUser=new h.h}return _createClass(t,[{key:"ngOnInit",value:function(){"parallel"===this.mode&&this.adminMode&&this.loadAvisRoles(),null!==this.resId&&("circuit"===this.mode?this.loadWorkflow(this.resId):this.loadParallelWorkflow(this.resId))}},{key:"drop",value:function(t){t.previousContainer===t.container&&(this.functions.empty(this.avisWorkflow.items[t.currentIndex].process_date)?Object(r.h)(t.container.data,t.previousIndex,t.currentIndex):this.notify.error("".concat(this.translate.instant("lang.moveAvisUserErr1")," <b>").concat(this.avisWorkflow.items[t.previousIndex].labelToDisplay,"</b> ").concat(this.translate.instant("lang.moveAvisUserErr2"),".")))}},{key:"loadAvisRoles",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/roles").pipe(Object(o.a)((function(n){t.availableRoles=n.roles.filter((function(t){return["avis","avis_copy","avis_info"].indexOf(t.id)>-1})).map((function(t){return{id:t.id,label:t.label}})),e(!0)})),Object(s.a)((function(e){return t.notify.handleErrors(e),Object(p.a)(!1)}))).subscribe()}))}},{key:"getRoleLabel",value:function(t){return this.availableRoles.filter((function(e){return e.id===t}))[0].label}},{key:"loadListModel",value:function(t){var e=this;this.loading=!0,this.avisWorkflow.items=[],this.http.get("../rest/listTemplates/entities/".concat(t,"?type=opinionCircuit")).subscribe((function(t){t.listTemplates[0]&&(e.avisWorkflow.items=t.listTemplates[0].items.map((function(t){return Object.assign(Object.assign({},t),{item_entity:t.descriptionToDisplay})}))),e.avisWorkflowClone=JSON.parse(JSON.stringify(e.avisWorkflow.items)),e.loading=!1}))}},{key:"loadAvisUsersList",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/autocomplete/users/circuit?circuit=opinion").pipe(Object(c.a)((function(t){return t.map((function(t){return{id:t.id,title:"".concat(t.idToDisplay," (").concat(t.otherInfo,")"),label:t.idToDisplay,entity:t.otherInfo,type:"user"}}))})),Object(o.a)((function(n){t.signAvisUsers=n,t.filteredSignAvisUsers=t.searchAvisUser.valueChanges.pipe(Object(l.a)(""),Object(c.a)((function(e){return t._filter(e)}))),e(!0)})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(p.a)(!1)}))).subscribe()}))}},{key:"loadAvisModelList",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null!==this.resId,!t.t0){t.next=4;break}return t.next=4,this.loadDefaultModel();case 4:return t.abrupt("return",new Promise((function(t,n){e.http.get("../rest/availableCircuits?circuit=opinion").pipe(Object(o.a)((function(n){e.avisTemplates.public=e.avisTemplates.public.concat(n.circuits.filter((function(t){return!t.private})).map((function(t){return{id:t.id,title:t.title,label:t.title,type:"entity"}}))),e.avisTemplates.private=n.circuits.filter((function(t){return t.private})).map((function(t){return{id:t.id,title:t.title,label:t.title,type:"entity"}})),e.filteredPublicModels=e.searchAvisUser.valueChanges.pipe(Object(l.a)(""),Object(c.a)((function(t){return e._filterPublicModel(t)}))),e.filteredPrivateModels=e.searchAvisUser.valueChanges.pipe(Object(l.a)(""),Object(c.a)((function(t){return e._filterPrivateModel(t)}))),t(!0)}))).subscribe()})));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"loadDefaultModel",value:function(){var t=this;return this.avisTemplates.public=[],new Promise((function(e,n){t.http.get("../rest/resources/".concat(t.resId,"/defaultCircuit?circuit=opinion")).pipe(Object(o.a)((function(e){t.functions.empty(e.itemsRemoved)||t.notify.error(t.translate.instant("lang.itemRemovedFromAvisTemplate")+" : "+e.itemsRemoved.join(", "))})),Object(u.a)((function(e){return!t.functions.empty(e.circuit)})),Object(o.a)((function(e){t.functions.empty(e.circuit)||t.avisTemplates.public.push({id:e.circuit.id,title:e.circuit.title,label:e.circuit.title,type:"entity"})})),Object(d.a)((function(){return e(!0)})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(p.a)(!1)}))).subscribe()}))}},{key:"initFilterAvisModelList",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.avisModelListNotLoaded,!t.t0){t.next=10;break}return t.next=4,this.loadAvisUsersList();case 4:if(t.t1=this.showListModels,!t.t1){t.next=8;break}return t.next=8,this.loadAvisModelList();case 8:this.searchAvisUser.reset(),this.avisModelListNotLoaded=!1;case 10:case"end":return t.stop()}}),t,this)})))}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.signAvisUsers.filter((function(t){return e.latinisePipe.transform(t.title.toLowerCase()).includes(n)}))}return this.signAvisUsers}},{key:"_filterPrivateModel",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.avisTemplates.private.filter((function(t){return e.latinisePipe.transform(t.title.toLowerCase()).includes(n)}))}return this.avisTemplates.private}},{key:"_filterPublicModel",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.avisTemplates.public.filter((function(t){return e.latinisePipe.transform(t.title.toLowerCase()).includes(n)}))}return this.avisTemplates.public}},{key:"loadWorkflow",value:function(t){var e=this;return this.resId=t,this.loading=!0,this.avisWorkflow.items=[],new Promise((function(n,i){e.http.get("../rest/resources/"+t+"/opinionCircuit").pipe(Object(o.a)((function(t){e.functions.empty(t.itemsRemoved)||e.notify.error(e.translate.instant("lang.itemRemovedFromAvisTemplate")+" : "+t.itemsRemoved.join(", "))})),Object(u.a)((function(t){return!e.functions.empty(t.circuit)})),Object(o.a)((function(t){t.circuit.forEach((function(t){e.avisWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"circuit"===e.mode?"AVIS_CIRCUIT":"entity_id"}))})),e.avisWorkflowClone=JSON.parse(JSON.stringify(e.avisWorkflow.items))})),Object(d.a)((function(){e.loading=!1,n(!0)})),Object(s.a)((function(t){return e.notify.handleSoftErrors(t),Object(p.a)(!1)}))).subscribe()}))}},{key:"loadParallelWorkflow",value:function(t){var e=this;return this.resId=t,this.loading=!0,this.avisWorkflow.items=[],new Promise((function(n,i){e.http.get("../rest/resources/"+t+"/parallelOpinion").subscribe((function(t){t.forEach((function(t){e.avisWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"entity_id"}))})),e.avisWorkflowClone=JSON.parse(JSON.stringify(e.avisWorkflow.items)),e.loading=!1,n(!0)}),(function(t){e.notify.handleErrors(t)}))}))}},{key:"loadDefaultWorkflow",value:function(t){var e=this;this.loading=!0,this.avisWorkflow.items=[],this.http.get("../rest/resources/"+t+"/defaultCircuit?circuit=opinion").pipe(Object(o.a)((function(t){e.functions.empty(t.itemsRemoved)||e.notify.error(e.translate.instant("lang.itemRemovedFromAvisTemplate")+" : "+t.itemsRemoved.join(", "))})),Object(u.a)((function(t){return!e.functions.empty(t.circuit)})),Object(o.a)((function(t){t.circuit.items.forEach((function(t){e.avisWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"circuit"===e.mode?"AVIS_CIRCUIT":"entity_id",item_entity:t.descriptionToDisplay}))})),e.avisWorkflowClone=JSON.parse(JSON.stringify(e.avisWorkflow.items))})),Object(d.a)((function(){return e.loading=!1})),Object(s.a)((function(t){return e.notify.handleSoftErrors(t),Object(p.a)(!1)}))).subscribe()}},{key:"deleteItem",value:function(t){this.avisWorkflow.items.splice(t,1)}},{key:"getAvisCount",value:function(){return this.avisWorkflow.items.length}},{key:"changeRole",value:function(t,e){this.avisWorkflow.items[e].item_mode=t.id}},{key:"getWorkflow",value:function(){return this.avisWorkflow.items}},{key:"getCurrentAvisUserIndex",value:function(){return this.avisWorkflow.items.map((function(t){return t.listinstance_id})).indexOf(this.getLastAvisUser().listinstance_id)+1}},{key:"getFirstAvisUser",value:function(){return this.functions.empty(this.avisWorkflow.items[0])?"":this.avisWorkflow.items[0]}},{key:"getCurrentAvisUser",value:function(){var t=this.avisWorkflow.items.map((function(t){return t.listinstance_id})).indexOf(this.getLastAvisUser().listinstance_id);return this.functions.empty(this.avisWorkflow.items[t+1])?"":this.avisWorkflow.items[t+1]}},{key:"getNextAvisUser",value:function(){var t=this.avisWorkflow.items.map((function(t){return t.listinstance_id})).indexOf(this.getLastAvisUser().listinstance_id);return this.functions.empty(this.avisWorkflow.items[t+2])?"":this.avisWorkflow.items[t+2]}},{key:"getLastAvisUser",value:function(){var t=this,e=this.avisWorkflow.items.filter((function(e){return!t.functions.empty(e.process_date)}));return this.functions.empty(e[e.length-1])?"":e[e.length-1]}},{key:"saveAvisWorkflow",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.resId];return new Promise((function(n,i){if(0===t.avisWorkflow.items.length)t.http.delete("../rest/resources/".concat(e[0],"/circuits/opinionCircuit")).pipe(Object(o.a)((function(){t.avisWorkflowClone=JSON.parse(JSON.stringify(t.avisWorkflow.items)),t.notify.success(t.translate.instant("lang.avisWorkflowDeleted")),n(!0)})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(p.a)(!1)}))).subscribe();else if(t.isValidWorkflow()){var a=e.map((function(e){return{resId:e,listInstances:t.avisWorkflow.items}}));t.http.put("../rest/circuits/opinionCircuit",{resources:a}).pipe(Object(o.a)((function(e){t.avisWorkflowClone=JSON.parse(JSON.stringify(t.avisWorkflow.items)),t.notify.success(t.translate.instant("lang.avisWorkflowUpdated")),n(!0)})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(p.a)(!1)}))).subscribe()}else t.notify.error(t.getError()),n(!1)}))}},{key:"addItemToWorkflow",value:function(t){var e=this;return new Promise((function(n,i){"user"===t.type?(e.avisWorkflow.items.push({item_id:t.id,item_type:"user",item_entity:t.entity,item_mode:"avis",labelToDisplay:t.label,externalId:e.functions.empty(t.externalId)?null:t.externalId,difflist_type:"circuit"===e.mode?"AVIS_CIRCUIT":"entity_id",hasPrivilege:!0}),e.searchAvisUser.reset(),e.searchAvisUserInput.nativeElement.blur(),n(!0)):"entity"===t.type&&e.http.get("../rest/listTemplates/"+t.id).pipe(Object(o.a)((function(t){e.avisWorkflow.items=e.avisWorkflow.items.concat(t.listTemplate.items.map((function(t){return{item_id:t.item_id,item_type:"user",labelToDisplay:t.idToDisplay,item_entity:t.descriptionToDisplay,item_mode:"avis",difflist_type:"circuit"===e.mode?"AVIS_CIRCUIT":"entity_id",hasPrivilege:t.hasPrivilege}}))),e.searchAvisUser.reset(),e.searchAvisUserInput.nativeElement.blur(),n(!0)}))).subscribe()}))}},{key:"resetWorkflow",value:function(){this.avisWorkflow.items=[]}},{key:"isValidWorkflow",value:function(){return 0===this.avisWorkflow.items.filter((function(t){return!t.hasPrivilege})).length&&this.avisWorkflow.items.length>0}},{key:"getError",value:function(){return this.translate.instant("lang.mustDeleteUsersWithNoPrivileges")}},{key:"emptyWorkflow",value:function(){return 0===this.avisWorkflow.items.length}},{key:"workflowEnd",value:function(){var t=this;return this.avisWorkflow.items.filter((function(e){return!t.functions.empty(e.process_date)})).length===this.avisWorkflow.items.length}},{key:"openPromptSaveModel",value:function(){var t=this;this.dialog.open(x,{panelClass:"maarch-modal",data:{avisWorkflow:this.avisWorkflow.items}}).afterClosed().pipe(Object(u.a)((function(e){return!t.functions.empty(e)})),Object(o.a)((function(e){t.avisTemplates.private.push({id:e.id,title:e.title,label:e.title,type:"entity"}),t.searchAvisUser.reset()})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(p.a)(!1)}))).subscribe()}},{key:"deletePrivateModel",value:function(t){var e=this;this.dialog.open(w.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(u.a)((function(t){return"ok"===t})),Object(f.a)((function(){return e.http.delete("../rest/listTemplates/"+t.id)})),Object(o.a)((function(){e.avisTemplates.private=e.avisTemplates.private.filter((function(e){return e.id!==t.id})),e.searchAvisUser.reset(),e.notify.success(e.translate.instant("lang.modelDeleted"))})),Object(s.a)((function(t){return e.notify.handleErrors(t),Object(p.a)(!1)}))).subscribe()}},{key:"getMaarchParapheurUserAvatar",value:function(t,e){var n=this;this.functions.empty(t)||this.http.get("../rest/maarchParapheur/user/"+t+"/picture").subscribe((function(t){n.avisWorkflow.items[e].picture=t.picture}),(function(t){n.notify.handleErrors(t)}))}},{key:"isModified",value:function(){return!this.loading&&JSON.stringify(this.avisWorkflow.items)!==JSON.stringify(this.avisWorkflowClone)}}]),t}()).\u0275fac=function(t){return new(t||rt)(g.Tb(b.e),g.Tb(v.b),g.Tb(y.a),g.Tb(O.a),g.Tb(S.c),g.Tb(m.b))},rt.\u0275cmp=g.Nb({type:rt,selectors:[["app-avis-workflow"]],viewQuery:function(t,e){var n;1&t&&g.ad(j,!0),2&t&&g.Cc(n=g.ic())&&(e.searchAvisUserInput=n.first)},inputs:{injectDatas:"injectDatas",adminMode:"adminMode",resId:"resId",showListModels:"showListModels",mode:"mode"},decls:2,vars:2,consts:[[4,"ngIf"],["style","display:flex;padding: 10px;",4,"ngIf"],["appearance","outline",4,"ngIf"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["class","emptyContent",4,"ngIf"],["disableRipple","","cdkDrag","","class","columns workflow",3,"cdkDragDisabled","notDraggable","notEditable","processed",4,"ngFor","ngForOf"],["appearance","outline"],["type","text","matInput","","placeholder","Ajouter des personnes","id","searchAvisUserInput",3,"formControl","matAutocomplete"],["searchAvisUserInput",""],[3,"optionSelected","opened"],["autoGroup","matAutocomplete"],["disabled","",4,"ngIf"],["class","avisSignList",3,"label",4,"ngIf"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click",4,"ngIf"],["disabled",""],[2,"display","flex","justify-content","center"],["diameter","35"],[1,"avisSignList",3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"display","flex","align-items","center"],[2,"flex","1"],["mat-icon-button","","color","warn",3,"click"],[1,"fa","fa-trash",2,"margin","0px"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click"],[1,"fa","fa-plus"],[1,"emptyContent"],["disableRipple","","cdkDrag","",1,"columns","workflow",3,"cdkDragDisabled"],["class","fa fa-chevron-right fa-2x","mat-list-icon","","color","accent",4,"ngIf"],["mat-list-icon","","color","primary",3,"ngClass"],["mat-line","",1,"workflowLine"],[1,"workflowLineContainer"],[1,"workflowLineLabel"],[1,"workflowLineSubLabel"],["class","workflowLineProcessDate","color","accent",3,"title",4,"ngIf"],["class","invalid",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-list-icon","","color","accent",1,"fa","fa-chevron-right","fa-2x"],["mat-list-icon","",1,"fa-2x","far",2,"opacity","0.5"],["color","accent",1,"workflowLineProcessDate",3,"title"],["color","primary","mat-raised-button","",1,"currentRoleButton",3,"disabled","matMenuTriggerFor","title"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"invalid"],["mat-icon-button","",3,"click"],["color","warn",1,"fa","fa-times"],[2,"display","flex","padding","10px"],[2,"margin","auto"]],template:function(t,e){1&t&&(g.Qc(0,it,6,5,"mat-list",0),g.Qc(1,at,2,0,"div",1)),2&t&&(g.sc("ngIf",!e.loading),g.Eb(1),g.sc("ngIf",e.loading))},directives:[E.t,M.a,r.e,E.s,_.c,k.b,h.c,I.d,h.t,h.i,I.a,P.o,T.c,P.n,C.b,A.a,_.j,M.d,r.a,M.c,E.q,P.k,D.d,D.e,D.b],pipes:[E.b,R.a,E.F,b.d,L.a,F.a],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.avisSignList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff!important;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.notDraggable[_ngcontent-%COMP%]{cursor:not-allowed}.notEditable[_ngcontent-%COMP%]{cursor:auto}.currentContextButton[_ngcontent-%COMP%]{width:150px;text-align:left}.currentContextButton[_ngcontent-%COMP%], .currentRoleButton[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:13px}.currentRoleButton[_ngcontent-%COMP%]{width:120px;text-align:center}.emptyContent[_ngcontent-%COMP%]{opacity:.5;text-align:center;font-size:10px;padding:10px}.processed[_ngcontent-%COMP%]{background:rgba(0,128,0,.11)!important}.workflow[_ngcontent-%COMP%]{height:55px;margin-bottom:10px;background:hsla(0,0%,84.7%,.1);border-radius:10px;font-size:13px}.workflowLine[_ngcontent-%COMP%]{display:flex!important;align-items:center}.workflowLineContainer[_ngcontent-%COMP%]{flex:1}.workflowLineContainer[_ngcontent-%COMP%], .workflowLineLabel[_ngcontent-%COMP%], .workflowLineSubLabel[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.workflowLineSubLabel[_ngcontent-%COMP%]{font-size:80%;opacity:.5;flex:1}.workflowLineProcessDate[_ngcontent-%COMP%]{flex:1;text-align:left;font-size:80%}.workflowLine[_ngcontent-%COMP%]   .mat-raised-button[disabled][_ngcontent-%COMP%]{background:none;color:#135f7f!important;opacity:1}.avatar[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}.valid[_ngcontent-%COMP%]{color:#006841}.invalid[_ngcontent-%COMP%]{color:#8e3e52}.unauthorized[_ngcontent-%COMP%]{color:#8e3e52;text-decoration:line-through}"]}),rt)},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return i}))},XqQ8:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),a=n("Cfvw"),r=n("zx2A");function o(t,e){return e?function(n){return n.pipe(o((function(n,r){return Object(a.a)(t(n,r)).pipe(Object(i.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new s(t))}}var s=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.project))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).project=i,a.hasSubscription=!1,a.hasCompleted=!1,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new r.a(this),n=this.destination;n.add(e);var i=Object(r.c)(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(r.b)},"Xwq/":function(t,e,n){"use strict";var i=n("FWf1"),a=n("p//D"),r=n("GiSu");e.toSubscriber=function(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[a.rxSubscriber])return t[a.rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(r.empty)}},XxY3:function(t,e){!function(t,e,n,i){t.DocEditor=function(i,r,o){var s=this,c=r||{};!function t(e,n){for(var i in n)n.hasOwnProperty(i)&&(void 0===e[i]?e[i]=n[i]:"object"==typeof e[i]&&"object"==typeof n[i]&&t(e[i],n[i]));return e}(c,t.DocEditor.defaultConfig),c.editorConfig.canUseHistory=c.events&&!!c.events.onRequestHistory,c.editorConfig.canHistoryClose=c.events&&!!c.events.onRequestHistoryClose,c.editorConfig.canHistoryRestore=c.events&&!!c.events.onRequestRestore,c.editorConfig.canSendEmailAddresses=c.events&&!!c.events.onRequestEmailAddresses,c.editorConfig.canRequestEditRights=c.events&&!!c.events.onRequestEditRights,c.editorConfig.canRequestClose=c.events&&!!c.events.onRequestClose,c.editorConfig.canRename=c.events&&!!c.events.onRequestRename,c.editorConfig.canMakeActionLink=c.events&&!!c.events.onMakeActionLink,c.editorConfig.canRequestUsers=c.events&&!!c.events.onRequestUsers,c.editorConfig.canRequestSendNotify=c.events&&!!c.events.onRequestSendNotify,c.editorConfig.mergeFolderUrl=c.editorConfig.mergeFolderUrl||c.editorConfig.saveAsUrl,c.editorConfig.canRequestSaveAs=c.events&&!!c.events.onRequestSaveAs,c.editorConfig.canRequestInsertImage=c.events&&!!c.events.onRequestInsertImage,c.editorConfig.canRequestMailMergeRecipients=c.events&&!!c.events.onRequestMailMergeRecipients,c.frameEditorId=i,c.onlyOfficeIp=o;var l,u=function(t){_(t)},d=function(){e.addEventListener?e.addEventListener("mouseup",u,!1):e.attachEvent&&e.attachEvent("onmouseup",u)},f=function(){e.removeEventListener?e.removeEventListener("mouseup",u,!1):e.detachEvent&&e.detachEvent("onmouseup",u)};(l=/[\?\&]placement=(\w+)&?/.exec(e.location.search))&&l.length&&"desktop"==l[1]&&(c.editorConfig.targetApp=l[1],c.editorConfig.customization||(c.editorConfig.customization={}),c.editorConfig.customization.about=!1,c.editorConfig.customization.compactHeader=!1,e.AscDesktopEditor&&e.AscDesktopEditor.execCommand("webapps:events","loading"));var h,p=n.getElementById(i);if(p&&function(){if(c.document){if(!c.document.url||("string"!=typeof c.document.fileType||""==c.document.fileType)&&("string"!=typeof c.documentType||""==c.documentType))return e.alert("One or more required parameter for the config object is not set"),!1;var t;if("string"==typeof c.documentType&&""!=c.documentType){if(!(t={text:"docx","text-pdf":"pdf",spreadsheet:"xlsx",presentation:"pptx"}[c.documentType.toLowerCase()]))return e.alert('The "documentType" parameter for the config object is invalid. Please correct it.'),!1;"string"==typeof c.document.fileType&&""!=c.document.fileType||(c.document.fileType=t)}if("string"==typeof c.document.fileType&&""!=c.document.fileType){var n;if(!(n=/^(?:(xls|xlsx|ods|csv|xlst|xlsy|gsheet|xlsm|xlt|xltm|xltx|fods|ots)|(pps|ppsx|ppt|pptx|odp|pptt|ppty|gslides|pot|potm|potx|ppsm|pptm|fodp|otp)|(doc|docx|doct|odt|gdoc|txt|rtf|pdf|mht|htm|html|epub|djvu|xps|docm|dot|dotm|dotx|fodt|ott))$/.exec(c.document.fileType)))return e.alert('The "document.fileType" parameter for the config object is invalid. Please correct it.'),!1;"string"==typeof c.documentType&&""!=c.documentType||("string"==typeof n[1]?c.documentType="spreadsheet":"string"==typeof n[2]?c.documentType="presentation":"string"==typeof n[3]&&(c.documentType="text"))}if((n=/^(?:(pdf|djvu|xps))$/.exec(c.document.fileType))&&"string"==typeof n[1]&&(c.editorConfig.canUseHistory=!1),c.document.title&&""!=c.document.title||(c.document.title="Unnamed."+c.document.fileType),c.document.key){if("string"!=typeof c.document.key)return e.alert('The "document.key" parameter for the config object must be string. Please correct it.'),!1}else c.document.key="xxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(t){return(16*Math.random()|0).toString(16)}));c.document.token=c.token}return!0}()){h=function(t){var e=n.createElement("iframe");return e.src=function(t){var e=("undefined"==typeof extensionParams||null==extensionParams.url?null:extensionParams.url+"apps/")||function(t){return t.onlyOfficeIp+"/web-apps/apps/"}(t),n={text:"documenteditor","text-pdf":"documenteditor",spreadsheet:"spreadsheeteditor",presentation:"presentationeditor"},i=n.text;if("string"==typeof t.documentType)i=n[t.documentType.toLowerCase()];else if(t.document&&"string"==typeof t.document.fileType){var a=/^(?:(xls|xlsx|ods|csv|xlst|xlsy|gsheet|xlsm|xlt|xltm|xltx|fods|ots)|(pps|ppsx|ppt|pptx|odp|pptt|ppty|gslides|pot|potm|potx|ppsm|pptm|fodp|otp))$/.exec(t.document.fileType);a&&("string"==typeof a[1]?i=n.spreadsheet:"string"==typeof a[2]&&(i=n.presentation))}return e+=i+"/",(e+="mobile"===t.type?"mobile":"embedded"===t.type?"embed":"main")+"/index.html"}(t)+function(t){var e="?_dc=5.4.2-46";return t.editorConfig&&t.editorConfig.lang&&(e+="&lang="+t.editorConfig.lang),t.editorConfig&&"desktop"!==t.editorConfig.targetApp&&("object"==typeof t.editorConfig.customization&&t.editorConfig.customization.loaderName?"none"!==t.editorConfig.customization.loaderName&&(e+="&customer="+t.editorConfig.customization.loaderName):e+="&customer=ONLYOFFICE","object"==typeof t.editorConfig.customization&&t.editorConfig.customization.loaderLogo&&""!==t.editorConfig.customization.loaderLogo&&(e+="&logo="+t.editorConfig.customization.loaderLogo)),t.frameEditorId&&(e+="&frameEditorId="+t.frameEditorId),e}(t),e.width=t.width,e.height=t.height,e.align="top",e.frameBorder=0,e.name="frameEditor",e.allowFullscreen=!0,e.setAttribute("allowfullscreen",""),e.setAttribute("onmousewheel",""),"mobile"==t.type&&(e.style.position="fixed",e.style.overflow="hidden",n.body.style.overscrollBehaviorY="contain"),e}(c),p.parentNode&&p.parentNode.replaceChild(h,p);var m=new a((function(t){if(t)if("onExternalPluginMessage"===t.type)g(t);else if(t.frameEditorId==i){var e=(c.events||{})[t.event];"onRequestEditRights"!==t.event||e?"onInternalMessage"===t.event&&t.data&&"localstorage"==t.data.type?function(t){if("get"==t.cmd){if(t.keys&&t.keys.length){var e=t.keys.split(","),n=e[0];for(i=0;++i<e.length;)n+="|"+e[i];for(i in n=new RegExp(n),a={},localStorage)n.test(i)&&(a[i]=localStorage[i])}else a=localStorage;g({command:"internalCommand",data:{type:"localstorage",keys:a}})}else if("set"==t.cmd){var i,a=t.keys;for(i in a)localStorage.setItem(i,a[i])}}(t.data.data):("onAppReady"===t.event&&("mobile"===c.type&&(n.body.onfocus=function(t){setTimeout((function(){h.contentWindow.focus(),g({command:"resetFocus",data:{}})}),10)}),d(),c.editorConfig&&b(c.editorConfig),c.document&&v(c.document)),e&&"function"==typeof e&&e.call(s,{target:s,data:t.data})):y(!1,"handler isn't defined")}}),this)}var g=function(t){var n;h&&h.contentWindow&&(n=h.contentWindow)&&n.postMessage&&e.JSON&&n.postMessage(e.JSON.stringify(t),"*")},b=function(t){g({command:"init",data:{config:t}})},v=function(t){g({command:"openDocument",data:{doc:t}})},y=function(t,e){g({command:"applyEditRights",data:{allowed:t,message:e}})},_=function(t){var e=h.getBoundingClientRect();g({command:"processMouse",data:{type:t.type,x:t.x-e.left,y:t.y-e.top,event:t}})};return{showMessage:function(t,e){g({command:"showMessage",data:{msg:e=e||t}})},processSaveResult:function(t,e){g({command:"processSaveResult",data:{result:t,message:e}})},processRightsChange:function(t,e){g({command:"processRightsChange",data:{enabled:t,message:e}})},denyEditingRights:function(t){g({command:"processRightsChange",data:{enabled:!1,message:t}})},refreshHistory:function(t,e){g({command:"refreshHistory",data:{data:t,message:e}})},setHistoryData:function(t,e){g({command:"setHistoryData",data:{data:t,message:e}})},setEmailAddresses:function(t){g({command:"setEmailAddresses",data:{data:t}})},setActionLink:function(t){g({command:"setActionLink",data:{url:t}})},processMailMerge:function(t,e){g({command:"processMailMerge",data:{enabled:t,message:e}})},downloadAs:function(t){g({command:"downloadAs",data:t})},serviceCommand:function(t,e){g({command:"internalCommand",data:{command:t,data:e}})},attachMouseEvents:d,detachMouseEvents:f,destroyEditor:function(t){var e=n.createElement("div");e.setAttribute("id",i),h&&(m&&m.unbindEvents(),f(),h.parentNode&&h.parentNode.replaceChild(e,h))},setUsers:function(t){g({command:"setUsers",data:t})},showSharingSettings:function(t){g({command:"showSharingSettings",data:t})},setSharingSettings:function(t){g({command:"setSharingSettings",data:t})},insertImage:function(t){g({command:"insertImage",data:t})},setMailMergeRecipients:function(t){g({command:"setMailMergeRecipients",data:t})}}},t.DocEditor.defaultConfig={type:"desktop",width:"100%",height:"100%",editorConfig:{lang:"en",canCoAuthoring:!0,customization:{about:!0,feedback:!1}}},t.DocEditor.version=function(){return"5.4.2"};var a=function(t,n){var i=t,a=n||e,r=function(t){o(t)},o=function(t){if(t&&e.JSON)try{t=e.JSON.parse(t.data),i&&i.call(a,t)}catch(n){}};return(function(){e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent&&e.attachEvent("onmessage",r)}).call(this),{unbindEvents:function(){e.removeEventListener?e.removeEventListener("message",r,!1):e.detachEvent&&e.detachEvent("onmessage",r)}}}}(window.DocsAPI=window.DocsAPI||{},window,document)},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("DH7j");function a(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this)).subject=t,a.subscriber=i,a.closed=!1,a}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},Z5tI:function(t,e,n){"use strict";var i=n("MkmW");e.subscribeToPromise=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.hostReportError),e}}},"ZI/H":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),a=n("sYmb"),r=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.changeDetectorRef=n,this.ngZone=i}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.removeTimer();var i=new Date(t),a=("0"+i.getDate()).slice(-2),r=("0"+(i.getMonth()+1)).slice(-2),o=("0"+i.getHours()).slice(-2),s=("0"+i.getMinutes()).slice(-2),c=new Date,l=[];l[0]=this.translate.instant("lang.januaryShort"),l[1]=this.translate.instant("lang.februaryShort"),l[2]=this.translate.instant("lang.marchShort"),l[3]=this.translate.instant("lang.aprilShort"),l[4]=this.translate.instant("lang.mayShort"),l[5]=this.translate.instant("lang.juneShort"),l[6]=this.translate.instant("lang.julyShort"),l[7]=this.translate.instant("lang.augustShort"),l[8]=this.translate.instant("lang.septemberShort"),l[9]=this.translate.instant("lang.octoberShort"),l[10]=this.translate.instant("lang.novemberShort"),l[11]=this.translate.instant("lang.decemberShort");var u=Math.round(Math.abs((c.getTime()-i.getTime())/1e3)),d=("0"+c.getDate()).slice(-2),f=Number.isNaN(u)?1e3:1e3*this.getSecondsUntilUpdate(u);this.timer=this.ngZone.runOutsideAngular((function(){return"undefined"!=typeof window?window.setTimeout((function(){e.ngZone.run((function(){return e.changeDetectorRef.markForCheck()}))}),f):null}));var h=Math.round(Math.abs(u/60)),p=Math.round(Math.abs(h/60)),m=Math.round(Math.abs(p/24));return Math.round(Math.abs(m/30.416)),Math.round(Math.abs(m/365)),t==this.translate.instant("lang.undefined")?this.translate.instant("lang.undefined"):Number.isNaN(u)?"":u<=45?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),this.translate.instant("lang.fewSeconds"),n):u<=90?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),this.translate.instant("lang.oneMinute"),n):h<=45?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),h+" "+this.translate.instant("lang.minutes"),n):h<=90?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),this.translate.instant("lang.oneHour"),n):p<=24&&a===d?this.getFormatedDate(this.translate.instant("lang.at").toLowerCase(),o+":"+s,n):p<=24||m<=5?this.getFormatedDate(this.translate.instant("lang.dateAgo").toLowerCase(),m+" "+this.translate.instant("lang.dayS"),n):this.getFormatedDate(this.translate.instant("lang.dateTo").toLowerCase(),m<=345?i.getDate()+" "+l[i.getMonth()]:a+"/"+r+"/"+i.getFullYear(),n)}},{key:"ngOnDestroy",value:function(){this.removeTimer()}},{key:"removeTimer",value:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}},{key:"getSecondsUntilUpdate",value:function(t){return t<60?2:t<3600?30:t<86400?300:3600}},{key:"getFormatedDate",value:function(t,e,n){return"full"===n?"".concat(t," ").concat(e):e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.e),i.fc(),i.Tb(i.B))},t.\u0275pipe=i.Sb({name:"timeAgo",type:t,pure:!1}),t}()},ZnWJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("fXoL"),a=n("sYmb"),r=n("tk/3"),o=n("tyNb"),s=n("ofXK"),c=n("MutI"),l=n("NFeN"),u=n("FKr1"),d=n("f0Cb");function f(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-nav-list"),i.Zb(1,"a",1),i.hc("click",(function(){return i.Hc(n),i.lc().backClicked()})),i.Ub(2,"mat-icon",2),i.Zb(3,"p",3),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Yb()}2&t&&(i.Eb(4),i.Uc(" ",i.nc(5,1,"lang.back")," "))}function h(t,e){1&t&&i.Ub(0,"mat-divider")}var p=function(){var t=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this._router=i,this.activatedRoute=a,this._location=r,this.user={},this.router=i}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"backClicked",value:function(){this._location.back()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.e),i.Tb(r.b),i.Tb(o.c),i.Tb(o.a),i.Tb(s.n))},t.\u0275cmp=i.Nb({type:t,selectors:[["menu-nav"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-list-item","",3,"click"],["color","primary","mat-list-icon","",1,"fa","fa-chevron-left"],["mat-line",""]],template:function(t,e){1&t&&(i.Qc(0,f,6,3,"mat-nav-list",0),i.Qc(1,h,1,0,"mat-divider",0)),2&t&&(i.sc("ngIf","/home"!=e.router.url&&"/profile"!=e.router.url&&"/about-us"!=e.router.url&&"/administration"!=e.router.url&&-1==e.router.url.indexOf("/basketList")&&-1==e.router.url.indexOf("/folders")&&"/followed"!=e.router.url),i.Eb(1),i.sc("ngIf","/home"!=e.router.url&&"/about-us"!=e.router.url&&"/administration"!=e.router.url&&-1==e.router.url.indexOf("/basketList")&&-1==e.router.url.indexOf("/folders")))},directives:[s.t,c.h,c.d,l.a,c.c,u.k,d.a],pipes:[a.d],encapsulation:2}),t}()},aEDk:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return L})),n.d(e,"j",(function(){return T})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return s})),n.d(e,"m",(function(){return M})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return m})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return S})),n.d(e,"t",(function(){return v})),n.d(e,"u",(function(){return y})),n.d(e,"v",(function(){return d})),n.d(e,"w",(function(){return w})),n.d(e,"x",(function(){return P}));var i=n("fXoL");function a(t){return"string"==typeof t}function r(t){return-1!==["a","e","i","o","u"].indexOf(t)}function o(t){var e=_toArray(t.split(/\s/g)),n=e[0],i=e.slice(1);return[n.toLowerCase().split(/(?=['|-])/g).map((function(t){return t.indexOf("-")+t.indexOf("'")>-2?t.slice(0,2).toUpperCase()+t.slice(2):t.slice(0,1).toUpperCase()+t.slice(1)})).join("")].concat(_toConsumableArray(i)).join(" ")}var s=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return a(t)?t.split("").reverse().join(""):Array.isArray(t)?t.slice().reverse():t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"reverse",type:t,pure:!0}),t}(),c=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),l=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),u=function(){var t=function(){function t(){_classCallCheck(this,t),this.irregularMap={herb:"an",honor:"an",honorable:"an",hour:"an",mba:"an",msc:"an","m.sc.":"an",unicorn:"a"}}return _createClass(t,[{key:"transform",value:function(t){if(t&&""!==t){var e=t.trim().split(" ")[0];return this.irregularMap[e.toLocaleLowerCase()]?"".concat(this.irregularMap[e.toLocaleLowerCase()]," ").concat(t):r(t[0])?"an "+t:"a "+t}return""}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"aOrAn",type:t,pure:!0}),t}(),d=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return a(t)?t.split(" ").map((function(t){return o(t)})).join(" "):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"ucwords",type:t,pure:!0}),t}(),f=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return a(t)?t.replace(new RegExp("^[".concat(e,"]+")),""):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"ltrim",type:t,pure:!0}),t}(),h=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e<=0)throw new RangeError;return 1===e?t:this.repeat(t,e-1,n)}},{key:"repeat",value:function(t,e,n){return a(t)?0===e?t:t+n+this.repeat(t,e-1,n):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"repeat",type:t,pure:!0}),t}(),p=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return a(t)?t.replace(new RegExp("[".concat(e,"]+$")),""):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"rtrim",type:t,pure:!0}),t}(),m=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a(t)?t.replace(/\{(\d+)}/g,(function(t,n){return void 0===e[n]?t:e[n]})):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"scan",type:t,pure:!0}),t}(),g=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!a(t))return t;if(t.length>e){if(i)return t.slice(0,e)+n;if(~t.indexOf(" ",e))return t.slice(0,t.indexOf(" ",e))+n}return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"shorten",type:t,pure:!0}),t}(),b=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.replace(n.length>0?new RegExp("<(?!/?(".concat(n.join("|"),")s*/?)[^>]+>"),"g"):/<(?:.|\s)*?>/g,"")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"stripTags",type:t,pure:!0}),t}(),v=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return a(t)?t.replace(new RegExp("^[".concat(e,"]+|[").concat(e,"]+$"),"g"),""):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"trim",type:t,pure:!0}),t}(),y=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return a(t)?o(t):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"ucfirst",type:t,pure:!0}),t}(),_=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return a(t)?t.toLowerCase().trim().replace(/[^\w\-]+/g," ").replace(/\s+/g,"-"):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"slugify",type:t,pure:!0}),t}(),k=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(t)?t.toLowerCase().split(/[-_\s]/g).filter((function(t){return!!t})).map((function(t,e){return e?t.slice(0,1).toUpperCase()+t.slice(1):t})).join(""):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"camelize",type:t,pure:!0}),t}(),C=function(){var t=function(){function t(){_classCallCheck(this,t),this.latinMap={"\xc1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\xc2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\xc4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\xc0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\xc5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\xc3":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\xc9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\xca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\xcb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\xc8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\xcd":"I","\u012c":"I","\u01cf":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\xcc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\xd1":"N","\u01ca":"NJ","\xd3":"O","\u014e":"O","\u01d1":"O","\xd4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\xd6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\xd2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\xd5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u1e9e":"SS","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\xda":"U","\u016c":"U","\u01d3":"U","\xdb":"U","\u1e76":"U","\xdc":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\xd9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\xe1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\xe2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\xe4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\xe0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\xe5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\xe3":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\xe9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\xea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\xeb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\xe8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\xed":"i","\u012d":"i","\u01d0":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\xec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\xf1":"n","\u01cc":"nj","\xf3":"o","\u014f":"o","\u01d2":"o","\xf4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\xf6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\xf2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\xf5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\xdf":"ss","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\xfa":"u","\u016d":"u","\u01d4":"u","\xfb":"u","\u1e77":"u","\xfc":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\xf9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\xfd":"y","\u0177":"y","\xff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x"}}return _createClass(t,[{key:"transform",value:function(t){var e=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(t)?t.replace(/[^A-Za-z0-9]/g,(function(t){return e.latinMap[t]||t})):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"latinise",type:t,pure:!0}),t}(),x=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(t)?t.replace(/\r\n/g,"\n").split("\n"):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"lines",type:t,pure:!0}),t}(),w=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(t)?t.trim().replace(/\s+/g,"").replace(/[A-Z]/g,(function(t,e){return e?"_"+t.toLowerCase():t.toLowerCase()})):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"underscore",type:t,pure:!0}),t}(),O=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,n){return a(t)?t.match(new RegExp(e,n)):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"match",type:t,pure:!0}),t}(),S=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,n){return a(t)?new RegExp(e,n).test(t):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"test",type:t,pure:!0}),t}(),E=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";if(!a(t)||t.length>=e)return t;for(;t.length<e;)t=n+t;return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"lpad",type:t,pure:!0}),t}(),M=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";if(!a(t)||t.length>=e)return t;for(;t.length<e;)t+=n;return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"rpad",type:t,pure:!0}),t}(),I=function(){var t=function(){function t(){_classCallCheck(this,t),this.irregularMap={addendum:"addenda",alga:"algae",alumna:"alumnae",alumnus:"alumni",analysis:"analyses",antenna:"antennae",appendix:"appendices",aquarium:"aquaria",arch:"arches",axe:"axes",axis:"axes",bacillus:"bacilli",bacterium:"bacteria",basis:"bases",batch:"batches",beach:"beaches",beau:"beaux",bison:"bison",brush:"brushes",buffalo:"buffaloes",bureau:"bureaus",bus:"busses",cactus:"cacti",calf:"calves",chateau:"chateaux",cherry:"cherries",child:"children",church:"churches",circus:"circuses",cod:"cod",corps:"corps",corpus:"corpora",crisis:"crises",criterion:"criteria",curriculum:"curricula",datum:"data",deer:"deer",diagnosis:"diagnoses",die:"dice",domino:"dominoes",dwarf:"dwarves",echo:"echoes",elf:"elves",ellipsis:"ellipses",embargo:"embargoes",emphasis:"emphases",erratum:"errata",fax:"faxes",fireman:"firemen",fish:"fish",flush:"flushes",focus:"foci",foot:"feet",formula:"formulas",fungus:"fungi",genus:"genera",goose:"geese",grafito:"grafiti",half:"halves",hero:"heroes",hoax:"hoaxes",hoof:"hooves",hypothesis:"hypotheses",index:"indices",kiss:"kisses",knife:"knives",leaf:"leaves",life:"lives",loaf:"loaves",louse:"lice",man:"men",mango:"mangoes",matrix:"matrices",means:"means",medium:"media",memorandum:"memoranda",millennium:"milennia",moose:"moose",mosquito:"mosquitoes",motto:"mottoes",mouse:"mice",nebula:"nebulae",neurosis:"neuroses",nucleus:"nuclei",oasis:"oases",octopus:"octopodes",ovum:"ova",ox:"oxen",paralysis:"paralyses",parenthesis:"parentheses",person:"people",phenomenon:"phenomena",plateau:"plateaux",potato:"potatoes",quiz:"quizzes",radius:"radii",reflex:"reflexes","runner-up":"runners-up",scampo:"scampi",scarf:"scarves",scissors:"scissors",scratch:"scratches",self:"selves",series:"series",sheaf:"sheaves",sheep:"sheep",shelf:"shelves","son-in-law":"sons-in-law",species:"species",splash:"splashes",stimulus:"stimuli",stitch:"stitches",stratum:"strata",syllabus:"syllabi",symposium:"symposia",synopsis:"synopses",synthesis:"syntheses",tableau:"tableaux",tax:"taxes",that:"those",thesis:"theses",thief:"thieves",this:"these",tomato:"tomatoes",tooth:"teeth",tornado:"tornadoes",torpedo:"torpedoes",vertebra:"vertebrae",veto:"vetoes",vita:"vitae",volcano:"volcanoes",waltz:"waltzes",wash:"washes",watch:"watches",wharf:"wharves",wife:"wives",wolf:"wolves",woman:"women",zero:"zeroes"}}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t||""===t)return"";if(1===e)return t;var n=t.trim().split(" ")[t.trim().split(" ").length-1];return this.irregularMap[n.toLocaleLowerCase()]?n[0]===n[0].toLocaleUpperCase()?t.replace(n,this.irregularMap[n.toLocaleLowerCase()].replace(this.irregularMap[n.toLocaleLowerCase()][0],this.irregularMap[n.toLocaleLowerCase()][0].toLocaleUpperCase())):t.replace(n,this.irregularMap[n.toLocaleLowerCase()]):"y"===n[n.length-1]?r(n[n.length-2])?t+"s":t.replace(n,n.slice(0,-1)+"ies"):"s"===n[n.length-1]?t+"es":t+"s"}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"makePluralString",type:t,pure:!0}),t}(),P=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a(t)?(e&&a(e)?e:"")+t+(n&&a(n)?n:""):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"wrap",type:t,pure:!0}),t}(),T=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),A=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),D=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),R=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),L=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[c,T,A,D,l,R]}),t}()},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5+tZ"),a=n("SpAZ");function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(a.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("5+tZ");function a(t,e){return Object(i.a)(t,e,1)}},bSwM:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return k}));var i=n("8LU1"),a=n("fXoL"),r=n("3Pt+"),o=n("FKr1"),s=n("R1ws"),c=n("GU7r"),l=n("u47x"),u=["input"],d=function(){return{enterDuration:150}},f=["*"],h=new a.r("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),p=new a.r("mat-checkbox-click-action"),m=0,g={provide:r.r,useExisting:Object(a.W)((function(){return y})),multi:!0},b=function t(){_classCallCheck(this,t)},v=Object(o.E)(Object(o.z)(Object(o.A)(Object(o.B)((function t(e){_classCallCheck(this,t),this._elementRef=e}))))),y=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,s,c,l,u){var d;return _classCallCheck(this,n),(d=e.call(this,t))._changeDetectorRef=i,d._focusMonitor=r,d._ngZone=o,d._clickAction=c,d._animationMode=l,d._options=u,d.ariaLabel="",d.ariaLabelledby=null,d._uniqueId="mat-checkbox-"+ ++m,d.id=d._uniqueId,d.labelPosition="after",d.name=null,d.change=new a.o,d.indeterminateChange=new a.o,d._onTouched=function(){},d._currentAnimationClass="",d._currentCheckState=0,d._controlValueAccessorChangeFn=function(){},d._checked=!1,d._disabled=!1,d._indeterminate=!1,d._options=d._options||{},d._options.color&&(d.color=d._options.color),d.tabIndex=parseInt(s)||0,d._focusMonitor.monitor(t,!0).subscribe((function(t){t||Promise.resolve().then((function(){d._onTouched(),i.markForCheck()}))})),d._clickAction=d._clickAction||d._options.clickAction,d}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._syncIndeterminate(this._indeterminate)}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"writeValue",value:function(t){this.checked=!!t}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"_getAriaChecked",value:function(){return this.checked?"true":this.indeterminate?"mixed":"false"}},{key:"_transitionCheckState",value:function(t){var e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);var i=this._currentAnimationClass;this._ngZone.runOutsideAngular((function(){setTimeout((function(){n.classList.remove(i)}),1e3)}))}}},{key:"_emitChangeEvent",value:function(){var t=new b;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"_onInputClick",value:function(t){var e=this;t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then((function(){e._indeterminate=!1,e.indeterminateChange.emit(e._indeterminate)})),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyboard",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._inputElement,t,e)}},{key:"_onInteractionEvent",value:function(t){t.stopPropagation()}},{key:"_getAnimationClassForCheckStateTransition",value:function(t,e){if("NoopAnimations"===this._animationMode)return"";var n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}},{key:"_syncIndeterminate",value:function(t){var e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(i.c)(t)}},{key:"checked",get:function(){return this._checked},set:function(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){var e=Object(i.c)(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}},{key:"indeterminate",get:function(){return this._indeterminate},set:function(t){var e=t!=this._indeterminate;this._indeterminate=Object(i.c)(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(a.h),a.Tb(l.h),a.Tb(a.B),a.ec("tabindex"),a.Tb(p,8),a.Tb(s.a,8),a.Tb(h,8))},t.\u0275cmp=a.Nb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(a.ad(u,!0),a.ad(o.t,!0)),2&t&&(a.Cc(n=a.ic())&&(e._inputElement=n.first),a.Cc(n=a.ic())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(a.cc("id",e.id),a.Fb("tabindex",null),a.Jb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[a.Db([g]),a.Bb],ngContentSelectors:f,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(a.rc(),a.Zb(0,"label",0,1),a.Zb(2,"div",2),a.Zb(3,"input",3,4),a.hc("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),a.Yb(),a.Zb(5,"div",5),a.Ub(6,"div",6),a.Yb(),a.Ub(7,"div",7),a.Zb(8,"div",8),a.kc(),a.Zb(9,"svg",9),a.Ub(10,"path",10),a.Yb(),a.jc(),a.Ub(11,"div",11),a.Yb(),a.Yb(),a.Zb(12,"span",12,13),a.hc("cdkObserveContent",(function(){return e._onLabelTextChange()})),a.Zb(14,"span",14),a.Sc(15,"\xa0"),a.Yb(),a.qc(16),a.Yb(),a.Yb()),2&t){var n=a.Dc(1),i=a.Dc(13);a.Fb("for",e.inputId),a.Eb(2),a.Jb("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),a.Eb(1),a.sc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),a.Fb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),a.Eb(2),a.sc("matRippleTrigger",n)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",a.yc(18,d))}},directives:[o.t,c.a],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t}(),_={provide:r.q,useExisting:Object(a.W)((function(){return k})),multi:!0},k=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(r.b);return t.\u0275fac=function(e){return C(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[a.Db([_]),a.Bb]}),t}(),C=a.bc(k),x=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)}}),t}(),w=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[o.u,o.j,c.c,x],o.j,x]}),t}()},bTqV:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return h}));var i=n("FKr1"),a=n("R1ws"),r=n("fXoL"),o=n("u47x"),s=["mat-button",""],c=["*"],l=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],u=Object(i.z)(Object(i.B)(Object(i.A)((function t(e){_classCallCheck(this,t),this._elementRef=e})))),d=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;_classCallCheck(this,n),(r=e.call(this,t))._focusMonitor=i,r._animationMode=a,r.isRoundButton=r._hasHostAttributes("mat-fab","mat-mini-fab"),r.isIconButton=r._hasHostAttributes("mat-icon-button");var o,s=_createForOfIteratorHelper(l);try{for(s.s();!(o=s.n()).done;){var c=o.value;r._hasHostAttributes(c)&&r._getHostElement().classList.add(c)}}catch(u){s.e(u)}finally{s.f()}return t.nativeElement.classList.add("mat-button-base"),r._focusMonitor.monitor(r._elementRef,!0),r.isRoundButton&&(r.color="accent"),r}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(u);return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(o.h),r.Tb(a.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.ad(i.t,!0),2&t&&r.Cc(n=r.ic())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Fb("disabled",e.disabled||null),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Bb],attrs:s,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.rc(),r.Zb(0,"span",0),r.qc(1),r.Yb(),r.Ub(2,"div",1),r.Ub(3,"div",2)),2&t&&(r.Eb(2),r.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.sc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[i.t],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t}(),f=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){return _classCallCheck(this,n),e.call(this,i,t,a)}return _createClass(n,[{key:"_haltDisabledEvents",value:function(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}]),n}(d);return t.\u0275fac=function(e){return new(e||t)(r.Tb(o.h),r.Tb(r.l),r.Tb(a.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){1&t&&r.hc("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(r.Fb("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.Bb],attrs:s,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.rc(),r.Zb(0,"span",0),r.qc(1),r.Yb(),r.Ub(2,"div",1),r.Ub(3,"div",2)),2&t&&(r.Eb(2),r.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.sc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[i.t],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t}(),h=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[i.u,i.j],i.j]}),t}()},bblj:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var i=n("mrSG"),a=n("vkgz"),r=n("nYR2"),o=n("JIr8"),s=n("Nqwj"),c=n("I65S"),l=n("fXoL"),u=n("sYmb"),d=n("tk/3"),f=n("AXEc"),h=n("rH+9"),p=n("ofXK"),m=n("Xa2L"),g=n("OigG");function b(t,e){1&t&&(l.Xb(0),l.Zb(1,"div",2),l.Ub(2,"mat-spinner"),l.Yb(),l.Wb())}function v(t,e){if(1&t&&(l.Zb(0,"div"),l.Ub(1,"app-contact-detail",4,5),l.Yb()),2&t){var n=e.$implicit;l.Eb(1),l.sc("contact",n)}}function y(t,e){if(1&t&&l.Qc(0,v,3,1,"div",3),2&t){var n=l.lc();l.sc("ngForOf",n.contacts)}}var _=function(){var t=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.contactService=a,this.functionsService=r,this.loading=!0,this.contacts=[],this.customFields=[],this.resId=null,this.mode="recipients"}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCustomFields();case 2:null!==this.resId&&this.loadContactsOfResource(this.resId,this.mode);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getCustomFields",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/contactsCustomFields").pipe(Object(a.a)((function(n){t.customFields=n.customFields.map((function(t){return{id:t.id,label:t.label}})),e(!0)}))).subscribe()}))}},{key:"loadContactsOfResource",value:function(t,e){var n=this;this.http.get("../rest/resources/".concat(t,"/contacts?type=").concat(e)).pipe(Object(a.a)((function(t){n.contacts=t.contacts.map((function(t){return Object.assign(Object.assign({},t),{civility:n.contactService.formatCivilityObject(t.civility),fillingRate:n.contactService.formatFillingObject(t.fillingRate),customFields:n.functionsService.empty(t.customFields)?[]:n.formatCustomField(t.customFields)})}))})),Object(r.a)((function(){return n.loading=!1})),Object(o.a)((function(t){return n.notify.handleErrors(t),Object(c.of)(!1)}))).subscribe()}},{key:"formatCustomField",value:function(t){var e=this,n=[];return Object.keys(t).forEach((function(i){n.push({label:e.customFields.filter((function(t){return t.id==i})).length>0?e.customFields.filter((function(t){return t.id==i}))[0].label:i,value:t[i]})})),n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Tb(u.e),l.Tb(d.b),l.Tb(f.a),l.Tb(s.a),l.Tb(h.a))},t.\u0275cmp=l.Nb({type:t,selectors:[["app-contact-resource"]],inputs:{resId:"resId",mode:"mode"},features:[l.Db([s.a])],decls:4,vars:5,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],[4,"ngFor","ngForOf"],[3,"contact"],["appContactDetail",""]],template:function(t,e){if(1&t&&(l.Zb(0,"div"),l.Qc(1,b,3,0,"ng-container",0),l.Qc(2,y,1,1,"ng-template",null,1,l.Rc),l.Yb()),2&t){var n=l.Dc(3);l.Hb("contact-list-container contact-list-container-",e.contacts.length,""),l.Eb(1),l.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[p.t,m.c,p.s,g.a],styles:[".contact-list-container[_ngcontent-%COMP%]{padding:10px;display:grid;grid-template-columns:repeat(3,33%);grid-gap:10px}.contact-list-container-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.contact-list-container-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.contact-card[_ngcontent-%COMP%]{min-width:350px;width:100%;margin-top:10px;margin-bottom:10px;padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12)}.contact-card[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding-left:0;padding-right:0}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px 10px 5px}.mat-card-title[_ngcontent-%COMP%]{padding-right:15px}.contact-item[_ngcontent-%COMP%]{height:35px!important}.contact-header-image[_ngcontent-%COMP%]{background:#135f7f;font-size:18px;color:#fff}.contact-group[_ngcontent-%COMP%], .contact-header-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contact-group[_ngcontent-%COMP%]{color:#135f7f;font-size:16px!important}.contact-content[_ngcontent-%COMP%]{font-size:13px!important}.contact-address[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7}.contact-address[_ngcontent-%COMP%]:hover   .contact-content[_ngcontent-%COMP%]{text-decoration:underline}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:14px;color:#666}.contact-filling[_ngcontent-%COMP%]{position:absolute;right:20px}.loading[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden;justify-content:center;align-items:center}.newData[_ngcontent-%COMP%]{color:#f99830}"]}),t}()},bv9b:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b}));var i=n("fXoL"),a=n("ofXK"),r=n("FKr1"),o=n("8LU1"),s=n("R1ws"),c=n("quSY"),l=n("xgIS"),u=n("pLZG"),d=["primaryValueBar"],f=Object(r.z)((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),h=new i.r("mat-progress-bar-location",{providedIn:"root",factory:function(){var t=Object(i.X)(a.e),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),p=0,m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o){var s;_classCallCheck(this,n),(s=e.call(this,t))._elementRef=t,s._ngZone=a,s._animationMode=r,s._isNoopAnimation=!1,s._value=0,s._bufferValue=0,s.animationEnd=new i.o,s._animationEndSubscription=c.a.EMPTY,s.mode="determinate",s.progressbarId="mat-progress-bar-"+p++;var l=o?o.getPathname().split("#")[0]:"";return s._rectangleFillValue="url('".concat(l,"#").concat(s.progressbarId,"')"),s._isNoopAnimation="NoopAnimations"===r,s}return _createClass(n,[{key:"_primaryTransform",value:function(){return{transform:"scaleX(".concat(this.value/100,")")}}},{key:"_bufferTransform",value:function(){return"buffer"===this.mode?{transform:"scaleX(".concat(this.bufferValue/100,")")}:null}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._primaryValueBar.nativeElement;t._animationEndSubscription=Object(l.a)(e,"transitionend").pipe(Object(u.a)((function(t){return t.target===e}))).subscribe((function(){"determinate"!==t.mode&&"buffer"!==t.mode||t._ngZone.run((function(){return t.animationEnd.next({value:t.value})}))}))}))}},{key:"ngOnDestroy",value:function(){this._animationEndSubscription.unsubscribe()}},{key:"value",get:function(){return this._value},set:function(t){this._value=g(Object(o.f)(t)||0)}},{key:"bufferValue",get:function(){return this._bufferValue},set:function(t){this._bufferValue=g(t||0)}}]),n}(f);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.B),i.Tb(s.a,8),i.Tb(h,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){var n;1&t&&i.ad(d,!0),2&t&&i.Cc(n=i.ic())&&(e._primaryValueBar=n.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Fb("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),i.Jb("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.Bb],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Zb(1,"defs"),i.Zb(2,"pattern",1),i.Ub(3,"circle",2),i.Yb(),i.Yb(),i.Ub(4,"rect",3),i.Yb(),i.jc(),i.Ub(5,"div",4),i.Ub(6,"div",5,6),i.Ub(8,"div",7)),2&t&&(i.Eb(2),i.sc("id",e.progressbarId),i.Eb(2),i.Fb("fill",e._rectangleFillValue),i.Eb(1),i.sc("ngStyle",e._bufferTransform()),i.Eb(1),i.sc("ngStyle",e._primaryTransform()))},directives:[a.w],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t}();function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(e,Math.min(n,t))}var b=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.c,r.j],r.j]}),t}()},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return i}))},c4Wt:function(t,e,n){"use strict";var i=n("QtHX");e.concatAll=function(){return i.mergeAll(1)}},cH1L:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o}));var i=n("fXoL"),a=n("ofXK"),r=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.X)(a.e)}}),o=function(){var t=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new i.o,e){var n=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||n;this.value="ltr"===a||"rtl"===a?a:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(r,8))},t.\u0275prov=Object(i.Pb)({factory:function(){return new t(Object(i.dc)(r,8))},token:t,providedIn:"root"}),t}(),s=function(){var t=function(){function t(){_classCallCheck(this,t),this._dir="ltr",this._isInitialized=!1,this.change=new i.o}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){this.change.complete()}},{key:"dir",get:function(){return this._dir},set:function(t){var e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}},{key:"value",get:function(){return this.dir}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[i.Db([{provide:o,useExisting:t}])]}),t}(),c=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t}()},cMWS:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("tk/3"),a=n("ofXK"),r=n("sYmb"),o=n("fXoL"),s=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[],imports:[[a.c,r.c.forRoot({loader:{provide:r.b,useFactory:l,deps:[i.b]}})],r.c]}),t}(),c=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getTranslation",value:function(t){return this.http.get("../rest/languages/"+t)}}]),t}();function l(t){return new c(t)}},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("HDdC"),a=n("DH7j"),r=n("lJxs"),o=n("XoHu"),s=n("Cfvw");function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(Object(a.a)(i))return l(i,null);if(Object(o.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var s=Object.keys(i);return l(s.map((function(t){return i[t]})),s)}}if("function"==typeof e[e.length-1]){var c=e.pop();return l(e=1===e.length&&Object(a.a)(e[0])?e[0]:e,null).pipe(Object(r.a)((function(t){return c.apply(void 0,_toConsumableArray(t))})))}return l(e,null)}function l(t,e){return new i.a((function(n){var i=t.length;if(0!==i)for(var a=new Array(i),r=0,o=0,c=function(c){var l=Object(s.a)(t[c]),u=!1;n.add(l.subscribe({next:function(t){u||(u=!0,o++),a[c]=t},error:function(t){return n.error(t)},complete:function(){++r!==i&&u||(o===i&&n.next(e?e.reduce((function(t,e,n){return t[e]=a[n],t}),{}):a),n.complete())}}))},l=0;l<i;l++)c(l);else n.complete()}))}},d3UM:function(t,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return B}));var i=n("rDax"),a=n("ofXK"),r=n("fXoL"),o=n("FKr1"),s=n("kmnG"),c=n("vxfF"),l=n("u47x"),u=n("8LU1"),d=n("0EQZ"),f=n("FtGj"),h=n("XNiG"),p=n("NXyV"),m=n("VRyK"),g=n("JX91"),b=n("eIep"),v=n("IzEk"),y=n("pLZG"),_=n("lJxs"),k=n("/uUt"),C=n("1G5W"),x=n("R0Ic"),w=n("cH1L"),O=n("3Pt+"),S=["trigger"],E=["panel"];function M(t,e){if(1&t&&(r.Zb(0,"span",8),r.Sc(1),r.Yb()),2&t){var n=r.lc();r.Eb(1),r.Tc(n.placeholder||"\xa0")}}function I(t,e){if(1&t&&(r.Zb(0,"span"),r.Sc(1),r.Yb()),2&t){var n=r.lc(2);r.Eb(1),r.Tc(n.triggerValue||"\xa0")}}function P(t,e){1&t&&r.qc(0,0,["*ngSwitchCase","true"])}function T(t,e){if(1&t&&(r.Zb(0,"span",9),r.Qc(1,I,2,1,"span",10),r.Qc(2,P,1,0,void 0,11),r.Yb()),2&t){var n=r.lc();r.sc("ngSwitch",!!n.customTrigger),r.Eb(2),r.sc("ngSwitchCase",!0)}}function A(t,e){if(1&t){var n=r.ac();r.Zb(0,"div",12),r.Zb(1,"div",13,14),r.hc("@transformPanel.done",(function(t){return r.Hc(n),r.lc()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return r.Hc(n),r.lc()._handleKeydown(t)})),r.qc(3,1),r.Yb(),r.Yb()}if(2&t){var i=r.lc();r.sc("@transformPanelWrap",void 0),r.Eb(1),r.Hb("mat-select-panel ",i._getPanelTheme(),""),r.Pc("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),r.sc("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),r.Fb("id",i.id+"-panel")}}var D=[[["mat-select-trigger"]],"*"],R=["mat-select-trigger","*"],L={transformPanelWrap:Object(x.n)("transformPanelWrap",[Object(x.m)("* => void",Object(x.i)("@transformPanel",[Object(x.f)()],{optional:!0}))]),transformPanel:Object(x.n)("transformPanel",[Object(x.k)("void",Object(x.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(x.k)("showing",Object(x.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(x.k)("showing-multiple",Object(x.l)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(x.m)("void => *",Object(x.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(x.m)("* => void",Object(x.e)("100ms 25ms linear",Object(x.l)({opacity:0})))])},F=0,j=new r.r("mat-select-scroll-strategy"),Y=new r.r("MAT_SELECT_CONFIG"),Z={provide:j,deps:[i.c],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},N=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},U=Object(o.A)(Object(o.E)(Object(o.B)(Object(o.C)((function t(e,n,i,a,r){_classCallCheck(this,t),this._elementRef=e,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=a,this.ngControl=r}))))),B=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-select-trigger"]]}),t}(),z=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,o,s,c,l,u,d,f,k,C,x,w){var O;return _classCallCheck(this,n),(O=e.call(this,s,o,l,u,f))._viewportRuler=t,O._changeDetectorRef=i,O._ngZone=a,O._dir=c,O._parentFormField=d,O.ngControl=f,O._liveAnnouncer=x,O._panelOpen=!1,O._required=!1,O._scrollTop=0,O._multiple=!1,O._compareWith=function(t,e){return t===e},O._uid="mat-select-"+F++,O._destroy=new h.a,O._triggerFontSize=0,O._onChange=function(){},O._onTouched=function(){},O._optionIds="",O._transformOrigin="top",O._panelDoneAnimatingStream=new h.a,O._offsetY=0,O._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],O._disableOptionCentering=!1,O._focused=!1,O.controlType="mat-select",O.ariaLabel="",O.optionSelectionChanges=Object(p.a)((function(){var t=O.options;return t?t.changes.pipe(Object(g.a)(t),Object(b.a)((function(){return Object(m.a).apply(void 0,_toConsumableArray(t.map((function(t){return t.onSelectionChange}))))}))):O._ngZone.onStable.asObservable().pipe(Object(v.a)(1),Object(b.a)((function(){return O.optionSelectionChanges})))})),O.openedChange=new r.o,O._openedStream=O.openedChange.pipe(Object(y.a)((function(t){return t})),Object(_.a)((function(){}))),O._closedStream=O.openedChange.pipe(Object(y.a)((function(t){return!t})),Object(_.a)((function(){}))),O.selectionChange=new r.o,O.valueChange=new r.o,O.ngControl&&(O.ngControl.valueAccessor=_assertThisInitialized(O)),O._scrollStrategyFactory=C,O._scrollStrategy=O._scrollStrategyFactory(),O.tabIndex=parseInt(k)||0,O.id=O.id,w&&(null!=w.disableOptionCentering&&(O.disableOptionCentering=w.disableOptionCentering),null!=w.typeaheadDebounceInterval&&(O.typeaheadDebounceInterval=w.typeaheadDebounceInterval)),O}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._selectionModel=new d.c(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(k.a)(),Object(C.a)(this._destroy)).subscribe((function(){t.panelOpen?(t._scrollTop=0,t.openedChange.emit(!0)):(t.openedChange.emit(!1),t.overlayDir.offsetX=0,t._changeDetectorRef.markForCheck())})),this._viewportRuler.change().pipe(Object(C.a)(this._destroy)).subscribe((function(){t._panelOpen&&(t._triggerRect=t.trigger.nativeElement.getBoundingClientRect(),t._changeDetectorRef.markForCheck())}))}},{key:"ngAfterContentInit",value:function(){var t=this;this._initKeyManager(),this._selectionModel.changed.pipe(Object(C.a)(this._destroy)).subscribe((function(t){t.added.forEach((function(t){return t.select()})),t.removed.forEach((function(t){return t.deselect()}))})),this.options.changes.pipe(Object(g.a)(null),Object(C.a)(this._destroy)).subscribe((function(){t._resetOptions(),t._initializeSelection()}))}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){var t=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(v.a)(1)).subscribe((function(){t._triggerFontSize&&t.overlayDir.overlayRef&&t.overlayDir.overlayRef.overlayElement&&(t.overlayDir.overlayRef.overlayElement.style.fontSize=t._triggerFontSize+"px")})))}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(t){this.options&&this._setSelectionByValue(t)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}},{key:"_handleClosedKeydown",value:function(t){var e=t.keyCode,n=e===f.e||e===f.s||e===f.k||e===f.o,i=e===f.g||e===f.q,a=this._keyManager;if(!a.isTyping()&&i&&!Object(f.v)(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){var r=this.selected;e===f.j||e===f.f?(e===f.j?a.setFirstItemActive():a.setLastItemActive(),t.preventDefault()):a.onKeydown(t);var o=this.selected;o&&r!==o&&this._liveAnnouncer.announce(o.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(t){var e=this._keyManager,n=t.keyCode,i=n===f.e||n===f.s,a=e.isTyping();if(n===f.j||n===f.f)t.preventDefault(),n===f.j?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(a||n!==f.g&&n!==f.q||!e.activeItem||Object(f.v)(t))if(!a&&this._multiple&&n===f.a&&t.ctrlKey){t.preventDefault();var r=this.options.some((function(t){return!t.disabled&&!t.selected}));this.options.forEach((function(t){t.disabled||(r?t.select():t.deselect())}))}else{var o=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==o&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var t=this;this.overlayDir.positionChange.pipe(Object(v.a)(1)).subscribe((function(){t._changeDetectorRef.detectChanges(),t._calculateOverlayOffsetX(),t.panel.nativeElement.scrollTop=t._scrollTop}))}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-"+this._parentFormField.color:""}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then((function(){t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value),t.stateChanges.next()}))}},{key:"_setSelectionByValue",value:function(t){var e=this;if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach((function(t){return e._selectValue(t)})),this._sortValues()}else{this._selectionModel.clear();var n=this._selectValue(t);n?this._keyManager.setActiveItem(n):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(t){var e=this,n=this.options.find((function(n){try{return null!=n.value&&e._compareWith(n.value,t)}catch(i){return Object(r.Y)()&&console.warn(i),!1}}));return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var t=this;this._keyManager=new l.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(C.a)(this._destroy)).subscribe((function(){t.panelOpen&&(!t.multiple&&t._keyManager.activeItem&&t._keyManager.activeItem._selectViaInteraction(),t.focus(),t.close())})),this._keyManager.change.pipe(Object(C.a)(this._destroy)).subscribe((function(){t._panelOpen&&t.panel?t._scrollActiveOptionIntoView():t._panelOpen||t.multiple||!t._keyManager.activeItem||t._keyManager.activeItem._selectViaInteraction()}))}},{key:"_resetOptions",value:function(){var t=this,e=Object(m.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(C.a)(e)).subscribe((function(e){t._onSelect(e.source,e.isUserInput),e.isUserInput&&!t.multiple&&t._panelOpen&&(t.close(),t.focus())})),Object(m.a).apply(void 0,_toConsumableArray(this.options.map((function(t){return t._stateChanges})))).pipe(Object(C.a)(e)).subscribe((function(){t._changeDetectorRef.markForCheck(),t.stateChanges.next()})),this._setOptionIds()}},{key:"_onSelect",value:function(t,e){var n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;if(this.multiple){var e=this.options.toArray();this._selectionModel.sort((function(n,i){return t.sortComparator?t.sortComparator(n,i,e):e.indexOf(n)-e.indexOf(i)})),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(t){var e;e=this.multiple?this.selected.map((function(t){return t.value})):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new N(this,e)),this._changeDetectorRef.markForCheck()}},{key:"_setOptionIds",value:function(){this._optionIds=this.options.map((function(t){return t.id})).join(" ")}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_scrollActiveOptionIntoView",value:function(){var t=this._keyManager.activeItemIndex||0,e=Object(o.x)(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Object(o.y)(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_getOptionIndex",value:function(t){return this.options.reduce((function(e,n,i){return void 0!==e?e:t===n?i:void 0}),void 0)}},{key:"_calculateOverlayPosition",value:function(){var t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n,a=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);a+=Object(o.x)(a,this.options,this.optionGroups);var r=n/2;this._scrollTop=this._calculateOverlayScroll(a,r,i),this._offsetY=this._calculateOverlayOffsetY(a,r,i),this._checkOverlayWithinViewport(i)}},{key:"_calculateOverlayScroll",value:function(t,e,n){var i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}},{key:"_getAriaLabel",value:function(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}},{key:"_getAriaLabelledby",value:function(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_calculateOverlayOffsetX",value:function(){var t,e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;if(this.multiple)t=40;else{var r=this._selectionModel.selected[0]||this.options.first;t=r&&r.group?32:16}i||(t*=-1);var o=0-(e.left+t-(i?a:0)),s=e.right+t-n.width+(i?0:a);o>0?t+=o+8:s>0&&(t-=s+8),this.overlayDir.offsetX=Math.round(t),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(t,e,n){var i,a=this._getItemHeight(),r=(a-this._triggerRect.height)/2,o=Math.floor(256/a);return this._disableOptionCentering?0:(i=0===this._scrollTop?t*a:this._scrollTop===n?(t-(this._getItemCount()-o))*a+(a-(this._getItemCount()*a-256)%a):e-a/2,Math.round(-1*i-r))}},{key:"_checkOverlayWithinViewport",value:function(t){var e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,a=n.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-r-this._triggerRect.height;o>a?this._adjustPanelUp(o,a):r>i?this._adjustPanelDown(r,i,t):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(t,e){var n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(t,e,n){var i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_getOriginBasedOnOption",value:function(){var t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-e+t/2,"px 0px")}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(u.c)(t),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(u.c)(t)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(t){this._disableOptionCentering=Object(u.c)(t)}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){t!==this._value&&(this.writeValue(t),this._value=t)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(t){this._typeaheadDebounceInterval=Object(u.f)(t)}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid,this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var t=this._selectionModel.selected.map((function(t){return t.viewValue}));return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty}}]),n}(U);return t.\u0275fac=function(e){return new(e||t)(r.Tb(c.h),r.Tb(r.h),r.Tb(r.B),r.Tb(o.d),r.Tb(r.l),r.Tb(w.c,8),r.Tb(O.v,8),r.Tb(O.l,8),r.Tb(s.a,8),r.Tb(O.s,10),r.ec("tabindex"),r.Tb(j),r.Tb(l.k),r.Tb(Y,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,B,!0),r.Lb(n,o.o,!0),r.Lb(n,o.n,!0)),2&t&&(r.Cc(i=r.ic())&&(e.customTrigger=i.first),r.Cc(i=r.ic())&&(e.options=i),r.Cc(i=r.ic())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(r.ad(S,!0),r.ad(E,!0),r.ad(i.a,!0)),2&t&&(r.Cc(n=r.ic())&&(e.trigger=n.first),r.Cc(n=r.ic())&&(e.panel=n.first),r.Cc(n=r.ic())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&r.hc("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(r.Fb("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Jb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Db([{provide:s.d,useExisting:t},{provide:o.h,useExisting:t}]),r.Bb,r.Cb],ngContentSelectors:R,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.rc(D),r.Zb(0,"div",0,1),r.hc("click",(function(){return e.toggle()})),r.Zb(3,"div",2),r.Qc(4,M,2,1,"span",3),r.Qc(5,T,3,2,"span",4),r.Yb(),r.Zb(6,"div",5),r.Ub(7,"div",6),r.Yb(),r.Yb(),r.Qc(8,A,4,11,"ng-template",7),r.hc("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){var n=r.Dc(1);r.Eb(3),r.sc("ngSwitch",e.empty),r.Eb(1),r.sc("ngSwitchCase",!0),r.Eb(1),r.sc("ngSwitchCase",!1),r.Eb(3),r.sc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[i.b,a.x,a.y,i.a,a.z,a.q],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[L.transformPanelWrap,L.transformPanel]},changeDetection:0}),t}(),V=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},providers:[Z],imports:[[a.c,i.f,o.p,o.j],c.c,s.e,o.p,o.j]}),t}()},"d7/a":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("fXoL"),a=n("sYmb"),r=n("zZ42"),o=n("5cI5"),s=n("4zkx"),c=n("rH+9"),l=n("tyNb"),u=function(){var t=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.joyrideService=n,this.localStorage=i,this.headerService=a,this.functionService=r,this.router=o,this.currentStepType="",this.currentTour=null,this.tour=[{type:"welcome",stepId:"welcome",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.welcomeTourTitle"),"</b>"),description:this.translate.instant("lang.welcomeTourDescription"),redirectToAdmin:!1},{type:"email",stepId:"admin_email_server@administration",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.admin_email_serverTitle"),"</b>"),description:this.translate.instant("lang.admin_email_serverTour"),redirectToAdmin:!1},{type:"email",stepId:"emailTour@administration/sendmail",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.emailTourTitle"),"</b>"),description:this.translate.instant("lang.emailTourDescription"),redirectToAdmin:!1},{type:"email",stepId:"emailTour2@administration/sendmail",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.emailTour2Title"),"</b>"),description:this.translate.instant("lang.emailTour2Description"),redirectToAdmin:!1},{type:"notification",stepId:"admin_notif@administration",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.admin_notifTitle"),"</b>"),description:this.translate.instant("lang.admin_notifTour"),redirectToAdmin:!1},{type:"notification",stepId:"BASKETS_Tour@administration/notifications",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.notifTour2Title"),"</b>"),description:this.translate.instant("lang.notifTour2Description"),redirectToAdmin:!1},{type:"notification",stepId:"createScriptTour@administration/notifications/4",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.createScriptTourTitle"),"</b>"),description:this.translate.instant("lang.createScriptTourDescription"),redirectToAdmin:!1},{type:"notification",stepId:"notifTour@administration/notifications",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.notifTourTitle"),"</b>"),description:this.translate.instant("lang.notifTourDescription"),redirectToAdmin:!1},{type:"notification",stepId:"notifTour3@administration/notifications",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.notifTour3Title"),"</b>"),description:this.translate.instant("lang.notifTour3Description"),redirectToAdmin:!1},{type:"notification",stepId:"notifTour4@administration/notifications",title:'<i class="far fa-question-circle" color="primary"></i>&nbsp;<b color="primary">'.concat(this.translate.instant("lang.notifTour4Title"),"</b>"),description:this.translate.instant("lang.notifTour4Description"),redirectToAdmin:!0}],this.featureTourEnd=[],this.getCurrentStepType()}return _createClass(t,[{key:"init",value:function(){var t=this;if(!this.functionService.empty(this.currentStepType)){var e=this.tour.filter((function(e){return e.type===t.currentStepType})).map((function(t){return t.stepId}));this.joyrideService.startTour({customTexts:{next:">>",prev:"<<",done:this.translate.instant("lang.getIt")},steps:e,waitingTime:500}).subscribe((function(e){t.currentTour=t.tour.filter((function(t){return t.stepId.split("@")[0]===e.name}))[0];var n=document.getElementsByClassName("joyride-step__container");n[0].style.width="auto",n[0].style.height="auto",document.getElementsByClassName("joyride-step__header")[0].innerHTML=""+t.currentTour.title,document.getElementsByClassName("joyride-step__body")[0].innerHTML=""+t.currentTour.description}),(function(t){}),(function(){t.currentTour.redirectToAdmin&&t.router.navigate(["/administration"]),t.endTour()}))}}},{key:"getCurrentStepType",value:function(){var t=this;null!==this.localStorage.get("featureTourEnd_"+this.headerService.user.id)&&(this.featureTourEnd=JSON.parse(this.localStorage.get("featureTourEnd_"+this.headerService.user.id)));var e=_toConsumableArray(new Set(this.tour.map((function(t){return t.type}))));this.currentStepType=e.filter((function(e){return-1===t.featureTourEnd.indexOf(e)}))[0]}},{key:"endTour",value:function(){this.featureTourEnd.push(this.currentStepType),this.localStorage.save("featureTourEnd_"+this.headerService.user.id,JSON.stringify(this.featureTourEnd)),this.getCurrentStepType()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(a.e),i.dc(r.c),i.dc(o.a),i.dc(s.a),i.dc(c.a),i.dc(l.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},dATD:function(t,e,n){"use strict";n.d(e,"a",(function(){return Et}));var i=n("fXoL"),a=n("1YbM"),r=n("3Pt+"),o=n("LRne"),s=n("vkgz"),c=n("Kj3r"),l=n("pLZG"),u=n("eIep"),d=n("lJxs"),f=n("nYR2"),h=n("JIr8"),p=n("0IaG"),m=n("sYmb"),g=n("tk/3"),b=n("eiH7"),v=n("4zkx"),y=n("bTqV"),_=n("NFeN"),k=n("XhcP"),C=n("ofXK"),x=n("Gon0"),w=n("OigG"),O=n("GUHb"),S=["drawer"];function E(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-contact-form",13),i.hc("onSubmitEvent",(function(t){return i.Hc(n),i.lc().dialogRef.close(t)})),i.Yb()}if(2&t){var a=i.lc();i.sc("creationMode",a.creationMode)("contactId",a.data.contactId)}}function M(t,e){if(1&t&&i.Ub(0,"app-contact-detail",14),2&t){var n=i.lc();i.sc("contact",n.contact)}}function I(t,e){if(1&t&&i.Ub(0,"app-document-viewer",15,16),2&t){var n=i.lc();i.sc("editMode",!1)("base64",n.headerService.getLastLoadedFile())}}function P(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",17),i.Zb(1,"button",18),i.hc("click",(function(){return i.Hc(n),i.lc().switchMode()})),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.update")))}var T,A=((T=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.privilegeService=i,this.data=a,this.dialogRef=r,this.headerService=o,this.renderer=s,this.creationMode=!0,this.canUpdate=!1,this.contact=null,this.mode="read",this.loadedDocument=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;null!==this.data.contactId?(this.contact={id:this.data.contactId,type:this.data.contactType},this.creationMode=!1):(this.creationMode=!0,this.mode="update","update"===this.mode&&($(".maarch-modal").css({height:"99vh"}),$(".maarch-modal").css({width:"99vw"})),null!==this.headerService.getLastLoadedFile()&&(this.drawer.toggle(),setTimeout((function(){t.loadedDocument=!0}),200))),this.canUpdate=this.privilegeService.hasCurrentUserPrivilege("update_contacts")}},{key:"switchMode",value:function(){var t=this;this.mode="read"===this.mode?"update":"read","update"===this.mode&&($(".maarch-modal").css({height:"99vh"}),$(".maarch-modal").css({width:"99vw"})),null!==this.headerService.getLastLoadedFile()&&(this.drawer.toggle(),setTimeout((function(){t.loadedDocument=!0}),200))}}]),t}()).\u0275fac=function(t){return new(t||T)(i.Tb(m.e),i.Tb(g.b),i.Tb(b.a),i.Tb(p.a),i.Tb(p.h),i.Tb(v.a),i.Tb(i.H))},T.\u0275cmp=i.Nb({type:T,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.Oc(S,!0),2&t&&i.Cc(n=i.ic())&&(e.drawer=n.first)},decls:16,vars:6,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"modal-container"],[3,"creationMode","contactId","onSubmitEvent",4,"ngIf"],[3,"contact",4,"ngIf"],["position","end","mode","side","autoFocus","false",2,"overflow-x","hidden","width","50%"],["drawer",""],["style","height:100%;width:100%;position: relative;",3,"editMode","base64",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[3,"creationMode","contactId","onSubmitEvent"],[3,"contact"],[2,"height","100%","width","100%","position","relative",3,"editMode","base64"],["appDocumentViewer",""],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.Yb(),i.Zb(4,"button",3),i.hc("click",(function(){return e.dialogRef.close()})),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"mat-dialog-content",5),i.Zb(7,"mat-sidenav-container"),i.Zb(8,"mat-sidenav-content"),i.Qc(9,E,1,2,"app-contact-form",6),i.Qc(10,M,1,1,"app-contact-detail",7),i.Yb(),i.Zb(11,"mat-sidenav",8,9),i.Qc(13,I,2,2,"app-document-viewer",10),i.Yb(),i.Yb(),i.Yb(),i.Ub(14,"span",11),i.Qc(15,P,4,3,"div",12),i.Yb()),2&t&&(i.Eb(3),i.Uc(" ",e.translate.instant(e.creationMode?"lang.contactCreation":"lang.contact")," "),i.Eb(1),i.sc("title",e.translate.instant("lang.close")),i.Eb(5),i.sc("ngIf","update"===e.mode),i.Eb(1),i.sc("ngIf","read"===e.mode),i.Eb(3),i.sc("ngIf",e.loadedDocument),i.Eb(2),i.sc("ngIf",e.canUpdate&&"read"===e.mode&&"contact"===e.contact.type))},directives:[p.i,y.b,_.a,p.f,k.e,k.f,C.t,k.d,x.a,w.a,O.a,p.c],pipes:[m.d],styles:[".admin-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:90vw}.mat-sidenav-container[_ngcontent-%COMP%]{height:100%}"]}),T),D=n("Nqwj"),R=n("AXEc"),L=n("A6w4"),F=n("aEDk"),j=n("rH+9"),Y=n("kmnG"),Z=n("qFsG"),N=n("/1cH"),U=n("FKr1"),B=n("Wp6s"),z=n("MutI"),V=n("Xa2L"),H=n("A5z7"),Q=["autoCompleteInput"];function W(t,e){if(1&t&&(i.Zb(0,"sup",27),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc("",n.civility.abbreviation,"\xa0")}}function G(t,e){if(1&t&&(i.Zb(0,"mat-card-title",25),i.Qc(1,W,2,1,"sup",26),i.Sc(2),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.sc("title",n.civility.label+" "+n.firstname+" "+n.lastname),i.Eb(1),i.sc("ngIf",!a.empty(n.civility.abbreviation)),i.Eb(1),i.Vc("",n.firstname," ",n.lastname,"")}}function q(t,e){if(1&t&&(i.Zb(0,"mat-card-title",25),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.sc("title",n.company),i.Eb(1),i.Tc(n.company)}}function X(t,e){if(1&t&&(i.Zb(0,"mat-card-subtitle",25),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.sc("title",n.function),i.Eb(1),i.Uc(" ",n.function,"\xa0 ")}}function J(t,e){if(1&t&&i.Ub(0,"i",28),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Pc("color",n.fillingRate.color),i.sc("title",a.translate.instant("lang.contactsFillingRate")+" : "+n.fillingRate.rate+"%")}}function K(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",30),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.sc("title",a.translate.instant("lang.contactsParameters_company")),i.Eb(1),i.sc("title",n.company),i.Eb(1),i.Uc(" ",n.company," ")}}function tt(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.sc("title",n.addressAdditional1),i.Eb(1),i.Uc(" (",n.addressAdditional1,") ")}}function et(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",32),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Qc(4,tt,2,2,"p",33),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.sc("title",a.translate.instant("lang.contactsParameters_department")),i.Eb(1),i.sc("title",n.department),i.Eb(1),i.Uc(" ",n.department," "),i.Eb(1),i.sc("ngIf",!a.empty(n.addressAdditional1))}}function nt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",34),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.sc("title",a.translate.instant("lang.email")),i.Eb(1),i.sc("title",n.email),i.Eb(1),i.Uc(" ",n.email," ")}}function it(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",35),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.sc("title",a.translate.instant("lang.phoneNumber")),i.Eb(1),i.sc("title",n.phone),i.Eb(1),i.Uc(" ",n.phone," ")}}function at(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.sc("title",n.addressStreet),i.Eb(1),i.Vc(" ",n.addressNumber," ",n.addressStreet," ")}}function rt(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.sc("title",n.addressAdditional2),i.Eb(1),i.Uc(" (",n.addressAdditional2,") ")}}function ot(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.sc("title",n.addressPostcode+" "+n.addressTown),i.Eb(1),i.Vc(" ",n.addressPostcode," ",n.addressTown," ")}}function st(t,e){if(1&t&&(i.Zb(0,"p",31),i.Sc(1),i.Yb()),2&t){var n=i.lc(2).$implicit;i.sc("title",n.addressCountry),i.Eb(1),i.Uc(" ",n.addressCountry," ")}}function ct(t,e){if(1&t&&(i.Zb(0,"mat-list-item",36),i.Ub(1,"mat-icon",37),i.Qc(2,at,2,3,"p",33),i.Qc(3,rt,2,2,"p",33),i.Qc(4,ot,2,3,"p",33),i.Qc(5,st,2,2,"p",33),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.sc("title",a.translate.instant("lang.address")),i.Eb(2),i.sc("ngIf",!a.empty(n.addressNumber)||!a.empty(n.addressStreet)),i.Eb(1),i.sc("ngIf",!a.empty(n.addressAdditional2)),i.Eb(1),i.sc("ngIf",!a.empty(n.addressPostcode)||!a.empty(n.addressTown)),i.Eb(1),i.sc("ngIf",!a.empty(n.addressCountry))}}function lt(t,e){if(1&t&&(i.Zb(0,"mat-list-item",29),i.Ub(1,"mat-icon",38),i.Zb(2,"p",31),i.Sc(3),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("title",n.label),i.Eb(1),i.sc("title",n.value),i.Eb(1),i.Uc(" ",n.value," ")}}function ut(t,e){if(1&t&&(i.Xb(0),i.Qc(1,lt,4,3,"mat-list-item",22),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",null!==n.value)}}function dt(t,e){if(1&t&&(i.Zb(0,"mat-option",17),i.Zb(1,"mat-card"),i.Zb(2,"mat-card-header",18),i.Ub(3,"div",19),i.Qc(4,G,3,4,"mat-card-title",20),i.Qc(5,q,2,2,"mat-card-title",20),i.Qc(6,X,2,2,"mat-card-subtitle",20),i.Qc(7,J,1,3,"i",21),i.Yb(),i.Zb(8,"mat-card-content"),i.Zb(9,"mat-list"),i.Qc(10,K,4,3,"mat-list-item",22),i.Qc(11,et,5,4,"mat-list-item",22),i.Qc(12,nt,4,3,"mat-list-item",22),i.Qc(13,it,4,3,"mat-list-item",22),i.Qc(14,ct,6,5,"mat-list-item",23),i.Qc(15,ut,2,1,"ng-container",24),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc(3);i.sc("id",a.id+"-"+n.id)("value",n),i.Eb(3),i.Jb("fa-address-card","contact"===n.type)("fa-users","contactGroup"===n.type)("fa-sitemap","entity"===n.type)("fa-user","user"===n.type),i.sc("title",a.translate.instant("lang.contact_"+n.type)),i.Eb(1),i.sc("ngIf",!a.empty(n.firstname)||!a.empty(n.lastname)),i.Eb(1),i.sc("ngIf",a.empty(n.firstname)&&a.empty(n.lastname)),i.Eb(1),i.sc("ngIf",!a.empty(n.function)),i.Eb(1),i.sc("ngIf","contact"===n.type&&!a.empty(n.fillingRate.rate)),i.Eb(3),i.sc("ngIf",!(a.empty(n.firstname)&&a.empty(n.lastname)||a.empty(n.company))),i.Eb(1),i.sc("ngIf",!a.empty(n.department)),i.Eb(1),i.sc("ngIf",!a.empty(n.email)),i.Eb(1),i.sc("ngIf",!a.empty(n.phone)),i.Eb(1),i.sc("ngIf",!(a.empty(n.addressNumber)&&a.empty(n.addressStreet)&&a.empty(n.addressAdditional2)&&a.empty(n.addressPostcode)&&a.empty(n.addressTown)&&a.empty(n.addressCountry))),i.Eb(1),i.sc("ngForOf",n.customFields)}}function ft(t,e){if(1&t&&(i.Xb(0),i.Qc(1,dt,16,21,"mat-option",16),i.mc(2,"async"),i.Wb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngForOf",i.nc(2,1,n.filteredOptions))}}function ht(t,e){if(1&t&&i.Ub(0,"mat-option",39),2&t){var n=i.lc(2);i.sc("innerHTML",n.listInfo,i.Ic)}}function pt(t,e){1&t&&(i.Zb(0,"mat-option",40),i.Ub(1,"mat-spinner",41),i.Yb())}function mt(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",42),i.Zb(1,"a",43),i.hc("click",(function(t){i.Hc(n);var e=i.lc(2);return t.stopPropagation(),e.openContact()})),i.Ub(2,"mat-icon",44),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(3),i.Uc(" ",i.nc(4,1,"lang.createContact")," "))}function gt(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field",6),i.Ub(1,"mat-icon",7),i.Zb(2,"input",8,9),i.hc("click",(function(t){i.Hc(n);var e=i.lc();return t.stopPropagation(),e.noResultFound=null})),i.Yb(),i.Zb(4,"mat-autocomplete",10,11),i.hc("optionSelected",(function(t){return i.Hc(n),i.lc().selectOpt(t)})),i.Qc(6,ft,3,3,"ng-container",12),i.Qc(7,ht,1,1,"mat-option",13),i.Qc(8,pt,2,0,"mat-option",14),i.Qc(9,mt,5,3,"div",15),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(5),r=i.lc();i.Eb(2),i.sc("id",r.id)("placeholder",r.translate.instant("lang.searchContact"))("formControl",r.myControl)("matAutocomplete",a),i.Eb(4),i.sc("ngIf",r.options.length>0&&!r.loading),i.Eb(1),i.sc("ngIf",0===r.options.length&&!r.loading),i.Eb(1),i.sc("ngIf",r.loading),i.Eb(1),i.sc("ngIf",r.canAdd&&(null!==r.noResultFound||r.options.length>0)&&!r.loading)}}function bt(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",45),i.Zb(1,"button",46),i.hc("click",(function(){return i.Hc(n),i.lc().resetAll()})),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.deleteAll")))}function vt(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.Uc(" ",a.valuesToDisplay[n.id].firstname," ")}}function yt(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.Uc(" (",a.valuesToDisplay[n.id].company,")")}}function _t(t,e){if(1&t&&i.Ub(0,"i",54),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Pc("color",a.valuesToDisplay[n.id].fillingRate.color)}}function kt(t,e){1&t&&i.Ub(0,"mat-icon",55)}function Ct(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",49),i.hc("removed",(function(){i.Hc(n);var t=e.index;return i.lc(3).removeItem(t)}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).openContact(t)})),i.Zb(1,"span",50),i.Ub(2,"i",51),i.Qc(3,vt,2,1,"ng-container",12),i.Sc(4),i.Qc(5,yt,2,1,"ng-container",12),i.Yb(),i.Qc(6,_t,1,2,"i",52),i.Qc(7,kt,1,0,"mat-icon",53),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(3);i.sc("removable",!r.controlAutocomplete.disabled),i.Eb(2),i.Jb("fa-address-card","contact"===r.valuesToDisplay[a.id].type)("fa-sitemap","entity"===r.valuesToDisplay[a.id].type)("fa-user","user"===r.valuesToDisplay[a.id].type),i.sc("title",r.translate.instant("lang."+r.valuesToDisplay[a.id].type)),i.Eb(1),i.sc("ngIf",!r.empty(r.valuesToDisplay[a.id].firstname)),i.Eb(1),i.Uc(" ",r.valuesToDisplay[a.id].lastname," "),i.Eb(1),i.sc("ngIf",!r.empty(r.valuesToDisplay[a.id].company)),i.Eb(1),i.sc("ngIf",!r.functions.empty(r.valuesToDisplay[a.id].fillingRate.color)),i.Eb(1),i.sc("ngIf",!r.controlAutocomplete.disabled)}}function xt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Ct,8,13,"mat-chip",48),i.Wb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngForOf",n.controlAutocomplete.value)}}function wt(t,e){if(1&t&&(i.Zb(0,"mat-chip-list",47),i.Qc(1,xt,2,1,"ng-container",12),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",!n.loadingValues)}}function Ot(t,e){1&t&&(i.Zb(0,"div",56),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noSelectedContact")," "))}var St,Et=((St=function(){function t(e,n,a,o,s,c,l,u,d,f){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=o,this.headerService=s,this.appService=c,this.latinisePipe=l,this.privilegeService=u,this.contactService=d,this.functions=f,this.loading=!1,this.loadingValues=!0,this.key="id",this.canAdd=!1,this.canUpdate=!1,this.noResultFound=null,this.myControl=new r.h,this.valuesToDisplay={},this.newIds=[],this.customFields=[],this.id="contact-autocomplete",this.singleMode=!1,this.retrieveDocumentEvent=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.canAdd=this.privilegeService.hasCurrentUserPrivilege("create_contacts"),this.canUpdate=this.privilegeService.hasCurrentUserPrivilege("update_contacts"),this.getCustomFields(),this.initFormValue(),this.initAutocompleteRoute()}},{key:"initAutocompleteRoute",value:function(){var t=this;this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(s.a)((function(){t.noResultFound=null,t.options=[],t.listInfo=t.translate.instant("lang.autocompleteInfo")})),Object(c.a)(300),Object(l.a)((function(t){return t.length>2})),Object(s.a)((function(){return t.loading=!0})),Object(u.a)((function(e){return t.getDatas(e)})),Object(d.a)((function(e){return(e=e.filter((function(e){return!t.singleMode||"entity"!==e.type&&"contactGroup"!==e.type&&t.singleMode}))).map((function(e){return Object.assign(Object.assign({},e),{civility:t.contactService.formatCivilityObject(e.civility),fillingRate:t.contactService.formatFillingObject(e.fillingRate),customFields:void 0!==e.customFields?t.formatCustomField(e.customFields):[]})}))})),Object(s.a)((function(e){0===e.length?(t.noResultFound=!0,t.listInfo=t.translate.instant("lang.noAvailableValue")):(t.noResultFound=!1,t.listInfo=""),t.options=e,t.filteredOptions=Object(o.a)(t.options),t.loading=!1}))).subscribe()}},{key:"getCustomFields",value:function(){var t=this;this.http.get("../rest/contactsCustomFields").pipe(Object(s.a)((function(e){t.customFields=e.customFields.map((function(t){return{id:t.id,label:t.label}}))}))).subscribe()}},{key:"formatCustomField",value:function(t){var e=this,n=[];return Object.keys(t).forEach((function(i){n.push({label:e.customFields.filter((function(t){return t.id==i}))[0].label,value:t[i]})})),n}},{key:"getDatas",value:function(t){return this.http.get("../rest/autocomplete/correspondents",{params:{search:t}})}},{key:"selectOpt",value:function(t){this.setFormValue(t.option.value),this.myControl.setValue("")}},{key:"initFormValue",value:function(){var t=this;this.controlAutocomplete.value.forEach((function(e){t.valuesToDisplay[e.id]={type:"",firstname:"",lastname:t.translate.instant("lang.undefined"),company:"",fillingRate:{color:""}},"contact"===e.type?t.http.get("../rest/contacts/"+e.id).pipe(Object(s.a)((function(e){t.valuesToDisplay[e.id]={type:"contact",firstname:e.firstname,lastname:e.lastname,company:e.company,fillingRate:t.functions.empty(e.fillingRate)?"":{color:t.contactService.getFillingColor(e.fillingRate.thresholdLevel)}}})),Object(f.a)((function(){return t.loadingValues=!1})),Object(h.a)((function(e){return t.notify.error(e.error.errors),Object(o.a)(!1)}))).subscribe():"user"===e.type?t.http.get("../rest/users/"+e.id).pipe(Object(s.a)((function(e){t.valuesToDisplay[e.id]={type:"user",firstname:e.firstname,lastname:e.lastname,fillingRate:{color:""}}})),Object(f.a)((function(){return t.loadingValues=!1})),Object(h.a)((function(e){return t.notify.error(e.error.errors),Object(o.a)(!1)}))).subscribe():"entity"===e.type&&t.http.get("../rest/entities/"+e.id).pipe(Object(s.a)((function(e){t.valuesToDisplay[e.id]={type:"entity",lastname:e.entity_label,fillingRate:{color:""}}})),Object(f.a)((function(){return t.loadingValues=!1})),Object(h.a)((function(e){return t.notify.error(e.error.errors),Object(o.a)(!1)}))).subscribe()}))}},{key:"setFormValue",value:function(t){var e=this;"contactGroup"===t.type?this.http.get("../rest/contactsGroups/"+t.id).pipe(Object(d.a)((function(t){return t.contactsGroup.contacts.map((function(t){return{id:t.id,type:t.type,lastname:t.contact,fillingRate:e.functions.empty(t.thresholdLevel)?"":{color:e.contactService.getFillingColor(t.thresholdLevel)}}}))})),Object(s.a)((function(t){t.forEach((function(t){e.setContact(t)}))})),Object(f.a)((function(){return e.loadingValues=!1})),Object(h.a)((function(t){return console.log(t),e.notify.error(t.error.errors),Object(o.a)(!1)}))).subscribe():this.setContact(t)}},{key:"setContact",value:function(t){if(-1===this.controlAutocomplete.value.map((function(t){return t.id})).indexOf(t.id)){var e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push({type:t.type,id:t.id}),this.valuesToDisplay[t.id]=t,this.controlAutocomplete.setValue(e),this.loadingValues=!1}}},{key:"resetAutocomplete",value:function(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.myControl.setValue("")}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.options.filter((function(t){return e.latinisePipe.transform(t[e.key].toLowerCase()).includes(n)}))}return this.options}},{key:"unsetValue",value:function(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}},{key:"removeItem",value:function(t){var e=this;if(-1===this.newIds.indexOf(this.controlAutocomplete.value[t])){var n=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(n)}else this.http.delete("../rest/tags/"+this.controlAutocomplete.value[t]).pipe(Object(s.a)((function(n){var i=e.controlAutocomplete.value;e.controlAutocomplete.value.splice(t,1),e.controlAutocomplete.setValue(i)})),Object(h.a)((function(t){return e.notify.handleErrors(t),Object(o.a)(!1)}))).subscribe()}},{key:"openContact",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.retrieveDocumentEvent.emit(),this.dialog.open(A,{maxWidth:"100vw",width:null===e?"99vw":"auto",panelClass:null===e?"maarch-full-height-modal":"maarch-modal",disableClose:!0,data:{editMode:this.canUpdate,contactId:null!==e?e.id:null,contactType:null!==e?e.type:null}}).afterClosed().pipe(Object(l.a)((function(t){return void 0!==t})),Object(s.a)((function(e){t.setFormValue({type:"contact",id:e}),t.initFormValue()})),Object(h.a)((function(e){return t.notify.handleErrors(e),Object(o.a)(!1)}))).subscribe()}},{key:"empty",value:function(t){return null===t||""===t||void 0===t}},{key:"resetAll",value:function(){this.controlAutocomplete.setValue([]),this.valuesToDisplay={}}}]),t}()).\u0275fac=function(t){return new(t||St)(i.Tb(m.e),i.Tb(g.b),i.Tb(R.a),i.Tb(p.b),i.Tb(v.a),i.Tb(L.a),i.Tb(F.c),i.Tb(b.a),i.Tb(D.a),i.Tb(j.a))},St.\u0275cmp=i.Nb({type:St,selectors:[["app-contact-autocomplete"]],viewQuery:function(t,e){var n;1&t&&i.Oc(Q,!0),2&t&&i.Cc(n=i.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"],id:"id",singleMode:"singleMode"},outputs:{retrieveDocumentEvent:"retrieveDocumentEvent"},features:[i.Db([a.a,D.a])],decls:7,vars:5,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form",4,"ngIf"],["style","text-align: right;",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form"],["color","primary","matPrefix","",1,"fa","fa-search",2,"padding-left","20px","font-size","15px"],["type","text","matInput","","maxlength","128",3,"id","placeholder","formControl","matAutocomplete","click"],["autoCompleteInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","","style","text-align: center;display: block;padding: 10px;",4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo create-contact","disabled","",4,"ngIf"],[3,"id","value",4,"ngFor","ngForOf"],[3,"id","value"],[1,"contact-header"],["mat-card-avatar","",1,"contact-header-image","fa",3,"title"],[3,"title",4,"ngIf"],["class","contact-filling fa fa-circle",3,"title","color",4,"ngIf"],["class","contact-item",4,"ngIf"],["class","contact-address",3,"title",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"title"],["style","color: #666;",4,"ngIf"],[2,"color","#666"],[1,"contact-filling","fa","fa-circle",3,"title"],[1,"contact-item"],["mat-list-icon","",1,"contact-group","far","fa-building",3,"title"],["mat-line","",1,"contact-content",3,"title"],["mat-list-icon","",1,"contact-group","fa","fa-sitemap",3,"title"],["mat-line","","class","contact-content",3,"title",4,"ngIf"],["mat-list-icon","",1,"contact-group","far","fa-envelope",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-phone",3,"title"],[1,"contact-address",3,"title"],["mat-list-icon","",1,"contact-group","fas","fa-map-marker-alt"],["mat-list-icon","",1,"contact-group","fas","fa-hashtag",3,"title"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled","",2,"text-align","center","display","block","padding","10px"],["diameter","20"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo","create-contact"],[2,"cursor","pointer",3,"click"],["matSuffix","",1,"fas","fa-plus-circle",2,"padding-top","5px"],[2,"text-align","right"],["mat-button","","color","warn",2,"font-size","10px",3,"click"],["color","default",1,"mat-chip-list-stacked","itemChip"],["class","listAutocomplete","color","default",3,"removable","removed","click",4,"ngFor","ngForOf"],["color","default",1,"listAutocomplete",3,"removable","removed","click"],[2,"display","flex","flex","1","align-items","center"],[1,"fa",2,"padding-right","5px",3,"title"],["class","fa fa-circle","style","font-size: 9px;",3,"color",4,"ngIf"],["matChipRemove","","class","fa fa-times",4,"ngIf"],[1,"fa","fa-circle",2,"font-size","9px"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(i.Zb(0,"form"),i.Ub(1,"input",0),i.Qc(2,gt,10,8,"mat-form-field",1),i.Qc(3,bt,4,3,"div",2),i.Zb(4,"div",3),i.Qc(5,wt,2,1,"mat-chip-list",4),i.Qc(6,Ot,3,3,"div",5),i.Yb(),i.Yb()),2&t&&(i.Eb(1),i.sc("formControl",e.controlAutocomplete),i.Eb(1),i.sc("ngIf",!e.controlAutocomplete.disabled&&!e.singleMode||e.singleMode&&0===e.controlAutocomplete.value.length&&!e.controlAutocomplete.disabled),i.Eb(1),i.sc("ngIf",e.controlAutocomplete.value.length>=2&&!e.controlAutocomplete.disabled),i.Eb(2),i.sc("ngIf",e.controlAutocomplete.value.length>0),i.Eb(1),i.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[r.J,r.u,r.v,r.c,r.t,r.i,C.t,Y.c,_.a,Y.i,Z.b,N.d,r.o,N.a,C.s,U.o,B.a,B.f,B.c,B.d,z.a,B.m,B.l,z.d,z.c,U.k,V.c,Y.j,y.b,H.d,H.a,H.e],pipes:[C.b,m.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#1a80ab;background-color:#fff;border:1px solid #1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.listAutocomplete[_ngcontent-%COMP%]{cursor:pointer;height:auto}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.mat-card[_ngcontent-%COMP%]{padding:0;margin:5px}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 5px 0 rgba(0,0,0,.12)}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}.mat-list[_ngcontent-%COMP%]{padding:0}.mat-option[_ngcontent-%COMP%]:not(.smallInputInfo){white-space:normal;line-height:normal;height:auto;padding:0}.mat-option[_ngcontent-%COMP%]:hover{background:initial}.contact-card[_ngcontent-%COMP%]{width:100%;margin-top:10px;margin-bottom:10px;padding:0;box-shadow:none;border:1px solid rgba(0,0,0,.12)}.mat-card-header[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px 10px 5px}.contact-header[_ngcontent-%COMP%]    .mat-card-header-text, .mat-card-subtitle[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.mat-card-subtitle[_ngcontent-%COMP%]{white-space:pre}.contact-item[_ngcontent-%COMP%]{height:20px!important}.contact-item[_ngcontent-%COMP%]    .mat-list-text{padding-left:0!important}.mat-card-title[_ngcontent-%COMP%]{font-size:13px}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:10px;margin-bottom:0}.contact-header-image[_ngcontent-%COMP%]{background:#135f7f;font-size:10px;color:#fff;height:24px;width:24px}.contact-group[_ngcontent-%COMP%], .contact-header-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contact-group[_ngcontent-%COMP%]{color:#135f7f;font-size:10px!important;padding:0!important;margin:0}.mat-list-item-content[_ngcontent-%COMP%]{padding:0}.contact-content[_ngcontent-%COMP%]{font-size:10px!important;color:#337ab7}.contact-address[_ngcontent-%COMP%]{height:auto!important;padding-top:5px;padding-bottom:5px}.contact-address[_ngcontent-%COMP%]    .mat-list-text{padding-left:0!important}.contact-address[_ngcontent-%COMP%]    .mat-list-item-content{padding-top:0!important;padding-bottom:0!important}.contact-filling[_ngcontent-%COMP%]{position:absolute;right:8px;border-radius:10px}.create-contact[_ngcontent-%COMP%]{text-align:center;justify-content:center;display:flex;height:auto;position:-webkit-sticky;position:sticky;bottom:0;width:auto;padding:0;background:#fff;box-shadow:1px 0 2px 0 rgba(0,0,0,.12);font-size:11px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),St)},dNgK:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return w}));var i=n("rDax"),a=n("+rOU"),r=n("ofXK"),o=n("fXoL"),s=n("FKr1"),c=n("bTqV"),l=n("XNiG"),u=n("IzEk"),d=n("1G5W"),f=n("R0Ic"),h=n("u47x"),p=n("0MNC");function m(t,e){if(1&t){var n=o.ac();o.Zb(0,"div",1),o.Zb(1,"button",2),o.hc("click",(function(){return o.Hc(n),o.lc().action()})),o.Sc(2),o.Yb(),o.Yb()}if(2&t){var i=o.lc();o.Eb(2),o.Tc(i.data.action)}}function g(t,e){}var b=Math.pow(2,31)-1,v=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._overlayRef=n,this._afterDismissed=new l.a,this._afterOpened=new l.a,this._onAction=new l.a,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe((function(){return i.dismiss()})),e._onExit.subscribe((function(){return i._finishDismiss()}))}return _createClass(t,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(t){var e=this;this._durationTimeoutId=setTimeout((function(){return e.dismiss()}),Math.min(t,b))}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed.asObservable()}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),y=new o.r("MatSnackBarData"),_=function t(){_classCallCheck(this,t),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"},k=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.snackBarRef=e,this.data=n}return _createClass(t,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Tb(v),o.Tb(y))},t.\u0275cmp=o.Nb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(o.Zb(0,"span"),o.Sc(1),o.Yb(),o.Qc(2,m,3,1,"div",0)),2&t&&(o.Eb(1),o.Tc(e.data.message),o.Eb(1),o.sc("ngIf",e.hasAction))},directives:[r.t,c.b],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t}(),C={snackBarState:Object(f.n)("state",[Object(f.k)("void, hidden",Object(f.l)({transform:"scale(0.8)",opacity:0})),Object(f.k)("visible",Object(f.l)({transform:"scale(1)",opacity:1})),Object(f.m)("* => visible",Object(f.e)("150ms cubic-bezier(0, 0, 0.2, 1)")),Object(f.m)("* => void, * => hidden",Object(f.e)("75ms cubic-bezier(0.4, 0.0, 1, 1)",Object(f.l)({opacity:0})))])},x=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this))._ngZone=t,o._elementRef=i,o._changeDetectorRef=a,o.snackBarConfig=r,o._destroyed=!1,o._onExit=new l.a,o._onEnter=new l.a,o._animationState="void",o.attachDomPortal=function(t){return o._assertNotAttached(),o._applySnackBarClasses(),o._portalOutlet.attachDomPortal(t)},o._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert",o}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}},{key:"onAnimationEnd",value:function(t){var e=t.fromState,n=t.toState;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){var i=this._onEnter;this._ngZone.run((function(){i.next(),i.complete()}))}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}},{key:"exit",value:function(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var t=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(u.a)(1)).subscribe((function(){t._onExit.next(),t._onExit.complete()}))}},{key:"_applySnackBarClasses",value:function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach((function(e){return t.classList.add(e)})):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.B),o.Tb(o.l),o.Tb(o.h),o.Tb(_))},t.\u0275cmp=o.Nb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&o.Oc(a.c,!0),2&t&&o.Cc(n=o.ic())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&o.Kb("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(o.Fb("role",e._role),o.Zc("@state",e._animationState))},features:[o.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&o.Qc(0,g,0,0,"ng-template",0)},directives:[a.c],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[C.snackBarState]}}),t}(),w=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},imports:[[i.f,a.i,r.c,c.c,s.j],s.j]}),t}(),O=new o.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new _}}),S=function(){var t=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=r,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}return _createClass(t,[{key:"openFromComponent",value:function(t,e){return this._attach(t,e)}},{key:"openFromTemplate",value:function(t,e){return this._attach(t,e)}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(k,i)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(t,e){var n=new a.h(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[_,e]])),i=new a.d(x,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}},{key:"_attach",value:function(t,e){var n=Object.assign(Object.assign(Object.assign({},new _),this._defaultConfig),e),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),s=new v(r,i);if(t instanceof o.O){var c=new a.j(t,null,{$implicit:n.data,snackBarRef:s});s.instance=r.attachTemplatePortal(c)}else{var l=this._createInjector(n,s),u=new a.d(t,void 0,l),f=r.attachComponentPortal(u);s.instance=f.instance}return this._breakpointObserver.observe(p.b.HandsetPortrait).pipe(Object(d.a)(i.detachments())).subscribe((function(t){var e=i.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")})),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(t,e){var n=this;t.afterDismissed().subscribe((function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()})),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe((function(){t.containerInstance.enter()})),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe((function(){return t._dismissAfter(e.duration)})),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}},{key:"_createOverlay",value:function(t){var e=new i.d;e.direction=t.direction;var n=this._overlay.position().global(),a="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){return new a.h(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[v,e],[y,t.data]]))}},{key:"_openedSnackBarRef",get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.dc(i.c),o.dc(h.k),o.dc(o.s),o.dc(p.a),o.dc(t,12),o.dc(O))},t.\u0275prov=Object(o.Pb)({factory:function(){return new t(Object(o.dc)(i.c),Object(o.dc)(h.k),Object(o.dc)(o.p),Object(o.dc)(p.a),Object(o.dc)(t,12),Object(o.dc)(O))},token:t,providedIn:w}),t}()},dUgt:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var i=n("mrSG"),a=n("fXoL"),r=n("Kj3r"),o=n("vkgz"),s=n("JIr8"),c=n("LRne"),l=n("3Pt+"),u=n("sYmb"),d=n("tk/3"),f=n("AXEc"),h=n("4zkx"),p=n("rH+9"),m=n("aEDk"),g=n("kmnG"),b=n("qFsG"),v=n("bTqV"),y=n("STbY"),_=n("NFeN"),k=n("ofXK"),C=n("Qu3c"),x=n("1YbM");function w(t,e){if(1&t&&(a.Zb(0,"button",18),a.Zb(1,"span"),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()),2&t){a.lc();var n=a.Dc(20);a.sc("matMenuTriggerFor",n),a.Eb(2),a.Tc(a.nc(3,2,"lang.visibleBy"))}}function O(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",19),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc().selectTemplate(t)})),a.Zb(1,"span"),a.Sc(2),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit;a.tc("matTooltip",i.template_content),a.Eb(2),a.Tc(i.template_label)}}function S(t,e){1&t&&(a.Zb(0,"button",20),a.Zb(1,"span"),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.Tc(a.nc(3,1,"lang.noTemplate")))}function E(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",24),a.hc("click",(function(t){a.Hc(n);var i=e.$implicit,r=a.lc(2);return t.stopPropagation(),r.selectEntity(i)})),a.Sc(1),a.Yb()}if(2&t){var i=e.$implicit;a.sc("disabled",i.selected)("title",i.entity_label),a.Eb(1),a.Uc(" ",i.entity_label," ")}}function M(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-form-field",21),a.hc("click",(function(t){return a.Hc(n),t.stopPropagation()})),a.Zb(1,"input",22),a.hc("click",(function(t){return a.Hc(n),t.stopPropagation()}))("keydown",(function(t){return a.Hc(n),t.stopPropagation()})),a.mc(2,"translate"),a.Yb(),a.Yb(),a.Xb(3),a.Qc(4,E,2,3,"button",23),a.Wb()}if(2&t){var i=a.lc();a.Eb(1),a.tc("placeholder",a.nc(2,3,"lang.searchEntities")),a.sc("formControl",i.searchTerm),a.Eb(3),a.sc("ngForOf",i.entitiesList)}}function I(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",25),a.hc("click",(function(){return a.Hc(n),a.lc().addNote()})),a.mc(1,"translate"),a.Ub(2,"mat-icon",26),a.Yb()}if(2&t){var i=a.lc();a.tc("title",a.nc(1,2,"lang.add")),a.sc("disabled",""==i.content.trim()||i.loading)}}function P(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",25),a.hc("click",(function(){return a.Hc(n),a.lc().updateNote()})),a.mc(1,"translate"),a.Ub(2,"mat-icon",26),a.Yb()}if(2&t){var i=a.lc();a.tc("title",a.nc(1,2,"lang.validate")),a.sc("disabled",""==i.content.trim()||i.loading)}}function T(t,e){1&t&&(a.Zb(0,"span",27),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Tc(a.nc(2,1,"lang.all")))}function A(t,e){if(1&t){var n=a.ac();a.Zb(0,"span",29),a.hc("click",(function(){a.Hc(n);var t=a.lc(),e=t.$implicit,i=t.index,r=a.lc();return r.removeEntityRestriction(r.entitiesRestriction.indexOf(e.id),i)})),a.mc(1,"translate"),a.Ub(2,"i",30),a.Sc(3),a.Ub(4,"i",31),a.Yb()}if(2&t){var i=a.lc().$implicit;a.tc("title",a.nc(1,2,"lang.restrictedEntity")),a.Eb(3),a.Uc(" ",i.entity_label,"\xa0")}}function D(t,e){if(1&t&&(a.Xb(0),a.Qc(1,A,5,4,"span",28),a.Wb()),2&t){var n=e.$implicit,i=a.lc();a.Eb(1),a.sc("ngIf",i.entitiesRestriction.indexOf(n.id)>-1)}}var R=function(){var t=function(){function t(e,n,i,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.headerService=r,this.functions=o,this.latinisePipe=s,this.loading=!1,this.templatesNote=[],this.entities=[],this.entitiesRestriction=[],this.title=this.translate.instant("lang.addNote"),this.content="",this.disableRestriction=!1,this.refreshNotes=new a.o,this.searchTerm=new l.h,this.entitiesList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getEntities();case 2:this.defaultRestriction&&this.setDefaultRestriction(),this.upMode&&(this.content=this.noteContent,(this.content.startsWith("[".concat(this.translate.instant("lang.avisUserState"),"]"))||this.content.startsWith("[".concat(this.translate.instant("lang.avisUserAsk").toUpperCase(),"]")))&&(this.disableRestriction=!0),this.entitiesRestriction=this.entitiesNoteRestriction),this.entitiesList=this.entities,this.searchTerm.valueChanges.pipe(Object(r.a)(300),Object(o.a)((function(t){if(t.length>0){var n=e.latinisePipe.transform(t.toLowerCase());e.entitiesList=e.entities.filter((function(t){return e.latinisePipe.transform(t.entity_label.toLowerCase()).includes(n)||e.latinisePipe.transform(t.entity_id.toLowerCase()).includes(n)}))}else e.entitiesList=e.entities})),Object(s.a)((function(t){return e.notify.handleErrors(t),Object(c.a)(!1)}))).subscribe();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setDefaultRestriction",value:function(){var t=this;this.entitiesRestriction=[],this.http.get("../rest/resources/".concat(this.resIds[0],"/fields/destination")).pipe(Object(o.a)((function(e){t.entitiesRestriction=t.headerService.user.entities.map((function(t){return t.entity_id})),-1!==t.entitiesRestriction.indexOf(e.field)||t.functions.empty(e.field)||t.entitiesRestriction.push(e.field),t.entities.filter((function(e){return t.entitiesRestriction.indexOf(e.id)>-1})).forEach((function(t){t.selected=!0}))})),Object(s.a)((function(e){return t.notify.handleSoftErrors(e),Object(c.a)(!1)}))).subscribe()}},{key:"addNote",value:function(){var t=this;this.loading=!0,this.http.post("../rest/notes",{value:this.content,resId:this.resIds[0],entities:this.entitiesRestriction}).subscribe((function(e){t.refreshNotes.emit(t.resIds[0]),t.loading=!1}))}},{key:"updateNote",value:function(){var t=this;this.loading=!0,this.http.put("../rest/notes/"+this.noteId,{value:this.content,resId:this.resIds[0],entities:this.entitiesRestriction}).subscribe((function(e){t.refreshNotes.emit(t.resIds[0]),t.loading=!1}))}},{key:"getNoteContent",value:function(){return this.content}},{key:"setNoteContent",value:function(t){this.content=t}},{key:"getNote",value:function(){return{content:this.content,entities:this.entitiesRestriction}}},{key:"selectTemplate",value:function(t){this.content=this.content.length>0?this.content+" "+t.template_content:t.template_content}},{key:"selectEntity",value:function(t){t.selected=!0,this.entitiesRestriction.push(t.id)}},{key:"getTemplatesNote",value:function(){var t=this;if(0==this.templatesNote.length){var e={};this.functions.empty(this.resIds)||1!=this.resIds.length||(e.resId=this.resIds[0]),this.http.get("../rest/notesTemplates",{params:e}).subscribe((function(e){t.templatesNote=e.templates}))}}},{key:"getEntities",value:function(){var t=this;return new Promise((function(e,n){if(0==t.entities.length){t.functions.empty(t.resIds)||1!=t.resIds.length||t.resIds[0],t.http.get("../rest/entities").pipe(Object(o.a)((function(n){t.entities=n.entities,e(!0)})),Object(s.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(c.a)(!1)}))).subscribe()}}))}},{key:"removeEntityRestriction",value:function(t,e){this.entities[e].selected=!1,this.entitiesRestriction.splice(t,1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(u.e),a.Tb(d.b),a.Tb(f.a),a.Tb(h.a),a.Tb(p.a),a.Tb(m.c))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-note-editor"]],inputs:{title:"title",content:"content",resIds:"resIds",addMode:"addMode",upMode:"upMode",noteContent:"noteContent",entitiesNoteRestriction:"entitiesNoteRestriction",noteId:"noteId",defaultRestriction:"defaultRestriction",disableRestriction:"disableRestriction"},outputs:{refreshNotes:"refreshNotes"},decls:34,vars:37,consts:[["appearance","outline",1,"noteEditorContent"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matSuffix","","color","primary","mat-icon-button","",3,"title","matMenuTriggerFor"],["fontSet","fas","fontIcon","fa-angle-right fa-2x"],["menuMain","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["menuTemplates","matMenu"],[2,"z-index","1","position","sticky","top","0px","text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","","matTooltipPosition","left",3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-menu-item","","disabled","",4,"ngIf"],["menuEntities","matMenu"],["matMenuContent",""],["color","primary","matSuffix","","mat-icon-button","",3,"title","disabled","click",4,"ngIf"],[2,"overflow","auto","max-height","75px"],[2,"font-size","11px","position","sticky","top","0px"],["class","label label-default noNoteRestriction",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","","matTooltipPosition","left",3,"matTooltip","click"],["mat-menu-item","","disabled",""],["floatLabel","never","appearance","outline",1,"smallInput",2,"margin-bottom","-15px",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","formControl","click","keydown"],["mat-menu-item","","class","labelFolder",3,"disabled","title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"labelFolder",3,"disabled","title","click"],["color","primary","matSuffix","","mat-icon-button","",3,"title","disabled","click"],["fontSet","far","fontIcon","fa-paper-plane fa-2x"],[1,"label","label-default","noNoteRestriction"],["class","label label-default noteRestriction",3,"title","click",4,"ngIf"],[1,"label","label-default","noteRestriction",3,"title","click"],[1,"fa","fa-sitemap"],[1,"fa","fa-times",2,"cursor","pointer"]],template:function(t,e){if(1&t&&(a.Zb(0,"mat-form-field",0),a.Zb(1,"textarea",1),a.hc("ngModelChange",(function(t){return e.content=t})),a.Yb(),a.Zb(2,"button",2),a.mc(3,"translate"),a.Ub(4,"mat-icon",3),a.Yb(),a.Zb(5,"mat-menu",null,4),a.Zb(7,"button",5),a.hc("menuOpened",(function(){return e.getTemplatesNote()})),a.Zb(8,"span"),a.Sc(9),a.mc(10,"translate"),a.Yb(),a.Yb(),a.Qc(11,w,4,4,"button",6),a.Yb(),a.Zb(12,"mat-menu",null,7),a.Zb(14,"div",8),a.Sc(15),a.mc(16,"translate"),a.Yb(),a.Qc(17,O,3,2,"button",9),a.Qc(18,S,4,3,"button",10),a.Yb(),a.Zb(19,"mat-menu",null,11),a.Zb(21,"div",8),a.Sc(22),a.mc(23,"translate"),a.Yb(),a.Qc(24,M,5,5,"ng-template",12),a.Yb(),a.Qc(25,I,3,4,"button",13),a.Qc(26,P,3,4,"button",13),a.Yb(),a.Zb(27,"div",14),a.Zb(28,"div",15),a.Sc(29),a.mc(30,"translate"),a.Yb(),a.Qc(31,T,3,3,"span",16),a.Qc(32,D,2,1,"ng-container",17),a.mc(33,"sortBy"),a.Yb()),2&t){var n=a.Dc(6),i=a.Dc(13);a.Eb(1),a.tc("placeholder",e.title),a.sc("ngModel",e.content),a.Eb(1),a.tc("title",a.nc(3,24,"lang.options")),a.sc("matMenuTriggerFor",n),a.Eb(3),a.Gb("templateNoteListMenu"),a.Eb(2),a.sc("matMenuTriggerFor",i),a.Eb(2),a.Tc(a.nc(10,26,"lang.noteTemplates")),a.Eb(2),a.sc("ngIf",!e.disableRestriction),a.Eb(1),a.Gb("templateNoteListMenu"),a.Eb(3),a.Uc(" ",a.nc(16,28,"lang.noteTemplates")," "),a.Eb(2),a.sc("ngForOf",e.templatesNote),a.Eb(1),a.sc("ngIf",0==e.templatesNote.length),a.Eb(1),a.Gb("templateNoteListMenu fixedWidth"),a.Eb(3),a.Uc(" ",a.nc(23,30,"lang.entities")," "),a.Eb(3),a.sc("ngIf",e.addMode),a.Eb(1),a.sc("ngIf",e.upMode),a.Eb(2),a.Pc("background",e.upMode&&e.entitiesRestriction.length>0?"#FFEDCC":"white",a.Mb),a.Eb(1),a.Tc(a.nc(30,32,"lang.noteVisibleBy")),a.Eb(2),a.sc("ngIf",0===e.entitiesRestriction.length),a.Eb(1),a.sc("ngForOf",a.oc(33,34,e.entities,"entity_label"))}},directives:[g.c,b.b,l.c,l.t,l.w,v.b,g.j,y.d,_.a,y.e,y.b,k.t,k.s,y.a,C.b,l.i],pipes:[u.d,x.a],styles:[".noteEditorContent[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:disabled{opacity:.5}.noteEditorContent[_ngcontent-%COMP%]    .mat-form-field-flex{align-items:flex-start}.noteEditorContent[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0} .templateNoteListMenu .mat-menu-content{padding-top:0;padding-bottom:0;max-height:500px} .fixedWidth .mat-menu-content{min-width:265px} .mat-tooltip{font-size:14px}.noteRestriction[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4)}.noNoteRestriction[_ngcontent-%COMP%], .noteRestriction[_ngcontent-%COMP%]{white-space:normal;display:inline-block;margin:5px!important;cursor:pointer}.noNoteRestriction[_ngcontent-%COMP%]{background-color:#135f7f}.labelFolder[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}"]}),t}()},dXBx:function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));var i=n("fXoL"),a=n("Kj3r"),r=n("vkgz"),o=n("pLZG"),s=n("eIep"),c=n("JIr8"),l=n("lJxs"),u=n("nYR2"),d=n("XqQ8"),f=n("LRne"),h=n("2c88"),p=n("3Pt+"),m=n("OGgV"),g=n("sYmb"),b=n("tk/3"),v=n("AXEc"),y=n("0IaG"),_=n("6Psc"),k=n("rH+9"),C=n("ofXK"),x=n("STbY"),w=n("NFeN"),O=n("kmnG"),S=n("qFsG"),E=n("Xa2L"),M=n("1YbM");function I(t,e){if(1&t&&(i.Zb(0,"button",8),i.Ub(1,"mat-icon",9),i.Zb(2,"span"),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t){i.lc();var n=i.Dc(2);i.sc("matMenuTriggerFor",n),i.Eb(3),i.Uc("",i.nc(4,2,"lang.removeFromFolder"),"...")}}function P(t,e){1&t&&(i.Ub(0,"i",12),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function T(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",10),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc().unclassifyDocuments(t)})),i.Qc(1,P,2,3,"i",11),i.Sc(2),i.Yb()}if(2&t){var a=e.$implicit;i.sc("title",a.label),i.Eb(1),i.sc("ngIf",a.public),i.Eb(1),i.Uc(" ",a.label,"")}}function A(t,e){1&t&&(i.Zb(0,"button",19),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.myPinnedFolder")))}function D(t,e){1&t&&(i.Zb(0,"button",19),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noPinnedFolder")))}function R(t,e){1&t&&(i.Zb(0,"button",19),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noAvailableFolder")))}function L(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",20),i.hc("click",(function(){return i.Hc(n),i.lc(3).openCreateFolderModal()})),i.Sc(1,"Cr\xe9er un dossier"),i.Yb()}}function F(t,e){1&t&&(i.Ub(0,"i",12),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function j(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",10),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).classifyDocuments(t)})),i.Qc(1,F,2,3,"i",11),i.Sc(2),i.Yb()}if(2&t){var a=e.$implicit;i.sc("title",a.label),i.Eb(1),i.sc("ngIf",a.public),i.Eb(1),i.Uc(" ",a.label,"")}}function Y(t,e){if(1&t&&(i.Xb(0),i.Qc(1,A,3,3,"button",17),i.Qc(2,D,3,3,"button",17),i.Qc(3,R,3,3,"button",17),i.Qc(4,L,2,0,"button",18),i.Qc(5,j,3,3,"button",2),i.mc(6,"sortBy"),i.Wb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngIf",n.pinnedFolder&&0!==n.foldersList.length),i.Eb(1),i.sc("ngIf",n.pinnedFolder&&0===n.foldersList.length),i.Eb(1),i.sc("ngIf",!n.pinnedFolder&&0===n.foldersList.length&&!n.loading),i.Eb(1),i.sc("ngIf",!n.pinnedFolder&&0===n.foldersList.length&&!n.loading),i.Eb(1),i.sc("ngForOf",i.oc(6,5,n.foldersList,"label"))}}function Z(t,e){1&t&&(i.Zb(0,"div",21),i.Ub(1,"mat-spinner",22),i.Yb())}function N(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field",13),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Zb(1,"input",14),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("keydown",(function(t){return i.Hc(n),t.stopPropagation()})),i.mc(2,"translate"),i.Yb(),i.Yb(),i.Qc(3,Y,7,8,"ng-container",15),i.Qc(4,Z,2,0,"ng-template",null,16,i.Rc)}if(2&t){var a=i.Dc(5),r=i.lc();i.Eb(1),i.tc("placeholder",i.nc(2,4,"lang.searchFolder")),i.sc("formControl",r.searchTerm),i.Eb(2),i.sc("ngIf",!r.loading)("ngIfElse",a)}}var U=function(){var t=function(){function t(e,n,a,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.renderer=o,this.foldersService=s,this.functions=c,this.foldersList=[],this.pinnedFolder=!0,this.loading=!0,this.refreshFolders=new i.o,this.refreshList=new i.o,this.searchTerm=new p.h}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.searchTerm.valueChanges.pipe(Object(a.a)(300),Object(r.a)((function(e){0===e.length&&(t.pinnedFolder=!0,t.getFolders())})),Object(o.a)((function(t){return t.length>2})),Object(r.a)((function(){return t.loading=!0})),Object(s.a)((function(e){return t.http.get("../rest/autocomplete/folders",{params:{search:e}})})),Object(r.a)((function(e){t.pinnedFolder=!1,t.foldersList=e.map((function(t){return{id:t.id,label:t.idToDisplay}})),t.loading=!1})),Object(c.a)((function(e){return t.notify.handleErrors(e),Object(f.a)(!1)}))).subscribe()}},{key:"initFolderMenu",value:function(){var t=this;this.searchTerm.setValue(""),setTimeout((function(){t.renderer.selectRootElement("#searchTerm").focus()}),200)}},{key:"getFolders",value:function(){var t=this;this.loading=!0,this.http.get("../rest/pinnedFolders").pipe(Object(l.a)((function(t){return t.folders})),Object(r.a)((function(e){t.foldersList=e})),Object(u.a)((function(){return t.loading=!1})),Object(c.a)((function(e){return t.notify.handleErrors(e),Object(f.a)(!1)}))).subscribe()}},{key:"classifyDocuments",value:function(t){var e=this;this.http.post("../rest/folders/"+t.id+"/resources",{resources:this.resIds}).pipe(Object(r.a)((function(){e.foldersService.getPinnedFolders(),e.refreshList.emit(),e.refreshFolders.emit(),e.notify.success(e.translate.instant("lang.mailClassified"))})),Object(c.a)((function(t){return e.notify.handleErrors(t),Object(f.a)(!1)}))).subscribe()}},{key:"unclassifyDocuments",value:function(t){var e=this;this.dialogRef=this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.unclassifyQuestion")+" <b>"+this.resIds.length+"</b>&nbsp;"+this.translate.instant("lang.mailsInFolder")+" ?"}}),this.dialogRef.afterClosed().pipe(Object(o.a)((function(t){return"ok"===t})),Object(d.a)((function(){return e.http.request("DELETE","../rest/folders/"+t.id+"/resources",{body:{resources:e.resIds}})})),Object(r.a)((function(){e.notify.success(e.translate.instant("lang.removedFromFolder")),e.foldersService.getPinnedFolders(),e.refreshList.emit(),e.refreshFolders.emit()})),Object(c.a)((function(t){return e.notify.handleSoftErrors(t),Object(f.a)(!1)}))).subscribe()}},{key:"openCreateFolderModal",value:function(){var t=this;this.dialogRef=this.dialog.open(m.a,{panelClass:"maarch-modal",data:{folderName:this.searchTerm.value}}),this.dialogRef.afterClosed().pipe(Object(o.a)((function(e){return!t.functions.empty(e)})),Object(r.a)((function(e){t.classifyDocuments({id:e})})),Object(c.a)((function(e){return t.notify.handleSoftErrors(e),Object(f.a)(!1)}))).subscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(g.e),i.Tb(b.b),i.Tb(v.a),i.Tb(y.b),i.Tb(i.H),i.Tb(_.a),i.Tb(k.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["folder-menu"]],inputs:{resIds:"resIds",currentFoldersList:["currentFolders","currentFoldersList"]},outputs:{refreshFolders:"refreshFolders",refreshList:"refreshList"},decls:13,vars:14,consts:[["mat-menu-item","","class","folderAction",3,"matMenuTriggerFor",4,"ngIf"],["currentFolders","matMenu"],["mat-menu-item","","class","labelFolder",3,"title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"folderAction",3,"matMenuTriggerFor","disabled","menuOpened"],["color","primary",1,"fa","fa-folder-open","fa-2x"],["restoreFocus","false"],["folders","matMenu"],["matMenuContent",""],["mat-menu-item","",1,"folderAction",3,"matMenuTriggerFor"],["color","warn",1,"fa","fa-folder-minus","fa-2x"],["mat-menu-item","",1,"labelFolder",3,"title","click"],["class","fa fa-users private",3,"title",4,"ngIf"],[1,"fa","fa-users","private",3,"title"],["floatLabel","never","appearance","outline",1,"smallInput",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","formControl","click","keydown"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-menu-item","","class","noFolder","disabled","",4,"ngIf"],["mat-menu-item","","class","createFolder",3,"click",4,"ngIf"],["mat-menu-item","","disabled","",1,"noFolder"],["mat-menu-item","",1,"createFolder",3,"click"],[1,"loading"],["diameter","35"]],template:function(t,e){if(1&t&&(i.Qc(0,I,5,4,"button",0),i.Zb(1,"mat-menu",null,1),i.Qc(3,T,3,3,"button",2),i.mc(4,"sortBy"),i.Yb(),i.Zb(5,"button",3),i.hc("menuOpened",(function(){return e.initFolderMenu()})),i.Ub(6,"mat-icon",4),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Zb(10,"mat-menu",5,6),i.Qc(12,N,6,6,"ng-template",7),i.Yb()),2&t){var n=i.Dc(11);i.sc("ngIf",void 0!==e.currentFoldersList&&e.currentFoldersList.length>0),i.Eb(1),i.Gb("folderListMenu"),i.Eb(2),i.sc("ngForOf",i.oc(4,9,e.currentFoldersList,"label")),i.Eb(2),i.sc("matMenuTriggerFor",n)("disabled",0===e.resIds.length),i.Eb(3),i.Tc(i.nc(9,12,"lang.classifyIn")),i.Eb(2),i.Gb("folderListMenu")}},directives:[C.t,x.e,C.s,x.b,x.d,w.a,x.a,O.c,S.b,p.c,p.t,p.i,E.c],pipes:[M.a,g.d],styles:[".folderAction[_ngcontent-%COMP%]{font-style:italic}.folderAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px}.labelFolder[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.private[_ngcontent-%COMP%]{color:#f99830} .folderListMenu{width:auto}.noFolder[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;font-style:italic}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.createFolder[_ngcontent-%COMP%]{color:#135f7f;text-align:center}"]}),t}()},ds6q:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("Q1FS"),o=n("FWf1"),s=n("zB/H"),c=n("Mxlh"),l=n("FiyT"),u=n("p//D"),d=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return a(e,t),e}(o.Subscriber);e.SubjectSubscriber=d;var f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return a(e,t),e.prototype[u.rxSubscriber]=function(){return new d(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),a=0;a<n;a++)i[a].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),a=0;a<n;a++)i[a].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(r.Observable);e.Subject=f;var h=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(f);e.AnonymousSubject=h},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),a=n("Cfvw"),r=n("zx2A");function o(t,e){return"function"==typeof e?function(n){return n.pipe(o((function(n,r){return Object(a.a)(t(n,r)).pipe(Object(i.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new s(t))}}var s=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.project))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).project=i,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new r.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(r.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(r.b)},eNwd:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).scheduler=t,a.work=i,a}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),a=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,a=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<a&&(t=n.shift()));if(this.active=!1,e){for(;++i<a&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(i)},eiH7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL"),a=n("sYmb"),r=n("4zkx"),o=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.headerService=n,this.administrations=[{id:"admin_users",label:"lang.users",comment:"lang.adminUsersDesc",route:"/administration/users",unit:"organisation",style:"fa fa-user",angular:!0,hasParams:!0},{id:"admin_groups",label:"lang.groups",comment:"lang.adminGroupsDesc",route:"/administration/groups",unit:"organisation",style:"fa fa-users",angular:!0,hasParams:!1},{id:"manage_entities",label:"lang.entities",comment:"lang.adminEntitiesDesc",route:"/administration/entities",unit:"organisation",style:"fa fa-sitemap",angular:!0,hasParams:!1},{id:"admin_listmodels",label:"lang.workflowModels",comment:"lang.adminWorkflowModelsDesc",route:"/administration/diffusionModels",unit:"organisation",style:"fa fa-th-list",angular:!0,hasParams:!1},{id:"admin_architecture",label:"lang.documentTypes",comment:"lang.adminDocumentTypesDesc",route:"/administration/doctypes",unit:"classement",style:"fa fa-suitcase",angular:!0,hasParams:!1},{id:"admin_tag",label:"lang.tags",comment:"lang.adminTagsDesc",route:"/administration/tags",unit:"classement",style:"fa fa-tags",angular:!0,hasParams:!1},{id:"admin_baskets",label:"lang.baskets",comment:"lang.adminBasketsDesc",route:"/administration/baskets",unit:"production",style:"fa fa-inbox",angular:!0,hasParams:!1},{id:"admin_status",label:"lang.statuses",comment:"lang.statusesAdmin",route:"/administration/statuses",unit:"production",style:"fa fa-check-circle",angular:!0,hasParams:!1},{id:"admin_actions",label:"lang.actions",comment:"lang.actionsAdmin",route:"/administration/actions",unit:"production",style:"fa fa-exchange-alt",angular:!0,hasParams:!1},{id:"admin_contacts",label:"lang.contacts",comment:"lang.contactsAdmin",route:"/administration/contacts",unit:"production",style:"fa fa-address-book",angular:!0,hasParams:!1},{id:"admin_priorities",label:"lang.prioritiesAlt",comment:"lang.prioritiesAlt",route:"/administration/priorities",unit:"production",style:"fa fa-clock",angular:!0,hasParams:!1},{id:"admin_templates",label:"lang.templates",comment:"lang.templatesAdmin",route:"/administration/templates",unit:"production",style:"fa fa-file-alt",angular:!0,hasParams:!1},{id:"admin_indexing_models",label:"lang.indexingModels",comment:"lang.indexingModels",route:"/administration/indexingModels",unit:"production",style:"fab fa-wpforms",angular:!0,hasParams:!1},{id:"admin_custom_fields",label:"lang.customFieldsAdmin",comment:"lang.customFieldsAdmin",route:"/administration/customFields",unit:"production",style:"fa fa-code",angular:!0,hasParams:!1},{id:"admin_notif",label:"lang.notifications",comment:"lang.notificationsAdmin",route:"/administration/notifications",unit:"production",style:"fa fa-bell",angular:!0,hasParams:!1},{id:"update_status_mail",label:"lang.updateStatus",comment:"lang.updateStatus",route:"/administration/update-status",unit:"supervision",style:"fa fa-envelope-square",angular:!0,hasParams:!1},{id:"admin_docservers",label:"lang.docservers",comment:"lang.docserversAdmin",route:"/administration/docservers",unit:"supervision",style:"fa fa-hdd",angular:!0,hasParams:!1},{id:"admin_parameters",label:"lang.parameters",comment:"lang.parameters",route:"/administration/parameters",unit:"supervision",style:"fa fa-wrench",angular:!0,hasParams:!1},{id:"admin_password_rules",label:"lang.securities",comment:"lang.securities",route:"/administration/securities",unit:"supervision",style:"fa fa-lock",angular:!0,hasParams:!1},{id:"admin_email_server",label:"lang.emailServerParam",comment:"lang.emailServerParamDesc",route:"/administration/sendmail",unit:"supervision",style:"fa fa-mail-bulk",angular:!0,hasParams:!1},{id:"admin_shippings",label:"lang.mailevaAdmin",comment:"lang.mailevaAdminDesc",route:"/administration/shippings",unit:"supervision",style:"fa fa-shipping-fast",angular:!0,hasParams:!1},{id:"view_history",label:"lang.history",comment:"lang.viewHistoryDesc",route:"/administration/history",unit:"supervision",style:"fa fa-history",angular:!0,hasParams:!1},{id:"view_history_batch",label:"lang.historyBatch",comment:"lang.historyBatchAdmin",route:"/administration/history-batch",unit:"supervision",style:"fa fa-history",angular:!0,hasParams:!1},{id:"admin_update_control",label:"lang.updateControl",comment:"lang.updateControlDesc",route:"/administration/versions-update",unit:"supervision",style:"fa fa-sync",angular:!0,hasParams:!1},{id:"admin_alfresco",label:"lang.alfresco",comment:"lang.adminAlfrescoDesc",route:"/administration/alfresco",unit:"supervision",style:"alfresco",angular:!0,hasParams:!1},{id:"admin_registered_mail",label:"lang.registeredMail",comment:"lang.adminRegisteredMailDesc",route:"/administration/registeredMails",unit:"supervision",style:"fas fa-dolly-flatbed",angular:!0,hasParams:!1}],this.privileges=[{id:"view_doc_history",label:"lang.viewDocHistory",comment:"lang.viewHistoryDesc",unit:"history"},{id:"view_full_history",label:"lang.viewFullHistory",comment:"lang.viewFullHistoryDesc",unit:"history"},{id:"edit_resource",label:"lang.editResource",comment:"lang.editResourceDesc",unit:"application"},{id:"add_links",label:"lang.addLinks",comment:"lang.addLinks",unit:"application"},{id:"manage_tags_application",label:"lang.manageTagsInApplication",comment:"lang.manageTagsInApplicationDesc",unit:"application"},{id:"create_contacts",label:"lang.manageCreateContacts",comment:"lang.manageCreateContactsDesc",unit:"application"},{id:"update_contacts",label:"lang.manageUpdateContacts",comment:"lang.manageUpdateContactsDesc",unit:"application"},{id:"update_diffusion_indexing",label:"lang.allRoles",comment:"lang.updateDiffusionWhileIndexing",unit:"diffusionList"},{id:"update_diffusion_except_recipient_indexing",label:"lang.rolesExceptAssignee",comment:"lang.updateDiffusionExceptRecipientWhileIndexing",unit:"diffusionList"},{id:"update_diffusion_process",label:"lang.allRoles",comment:"lang.updateDiffusionWhileProcess",unit:"diffusionList"},{id:"update_diffusion_except_recipient_process",label:"lang.rolesExceptAssignee",comment:"lang.updateDiffusionExceptRecipientWhileProcess",unit:"diffusionList"},{id:"update_diffusion_details",label:"lang.allRoles",comment:"lang.updateDiffusionWhileDetails",unit:"diffusionList"},{id:"update_diffusion_except_recipient_details",label:"lang.rolesExceptAssignee",comment:"lang.updateDiffusionExceptRecipientWhileDetails",unit:"diffusionList"},{id:"sendmail",label:"lang.sendmail",comment:"lang.sendmail",unit:"sendmail"},{id:"use_mail_services",label:"lang.useMailServices",comment:"lang.useMailServices",unit:"sendmail"},{id:"view_documents_with_notes",label:"lang.viewDocumentsWithNotes",comment:"lang.viewDocumentsWithNotesDesc",unit:"application"},{id:"view_technical_infos",label:"lang.viewTechnicalInformation",comment:"lang.viewTechnicalInformation",unit:"application"},{id:"config_avis_workflow",label:"lang.configAvisWorkflow",comment:"lang.configAvisWorkflowDesc",unit:"avis"},{id:"config_avis_workflow_in_detail",label:"lang.configAvisWorkflowInDetail",comment:"lang.configAvisWorkflowInDetailDesc",unit:"avis"},{id:"avis_documents",label:"lang.avisAnswer",comment:"lang.avisAnswerDesc",unit:"avis"},{id:"config_visa_workflow",label:"lang.configVisaWorkflow",comment:"lang.configVisaWorkflowDesc",unit:"visaWorkflow"},{id:"config_visa_workflow_in_detail",label:"lang.configVisaWorkflowInDetail",comment:"lang.configVisaWorkflowInDetailDesc",unit:"visaWorkflow"},{id:"visa_documents",label:"lang.visaAnswers",comment:"lang.visaAnswersDesc",unit:"visaWorkflow"},{id:"sign_document",label:"lang.signDocs",comment:"lang.signDocs",unit:"visaWorkflow"},{id:"modify_visa_in_signatureBook",label:"lang.modifyVisaInSignatureBook",comment:"lang.modifyVisaInSignatureBookDesc",unit:"visaWorkflow"},{id:"print_folder_doc",label:"lang.printFolderDoc",comment:"lang.printFolderDoc",unit:"application"},{id:"manage_attachments",label:"lang.manageAttachments",comment:"lang.manageAttachments",unit:"application"},{id:"view_personal_data",label:"lang.viewPersonalData",comment:"lang.viewPersonalData",unit:"confidentialityAndSecurity"},{id:"manage_personal_data",label:"lang.managePersonalData",comment:"lang.managePersonalData",unit:"confidentialityAndSecurity"},{id:"include_folders_and_followed_resources_perimeter",label:"lang.includeFolderPerimeter",comment:"lang.includeFolderPerimeter",unit:"application"}],this.menus=[{id:"admin",label:"lang.administration",comment:"lang.administration",route:"/administration",style:"fa fa-cogs",unit:"application",angular:!0,shortcut:!0},{id:"adv_search_mlb",label:"lang.search",comment:"lang.search",route:"/search",style:"fa fa-search",unit:"application",angular:!0,shortcut:!0},{id:"entities_print_sep_mlb",label:"lang.entitiesSeparator",comment:"lang.entitiesSeparator",route:"/separators/print",style:"fa fa-print",unit:"entities",angular:!0,shortcut:!1},{id:"manage_numeric_package",label:"lang.manageNumericPackage",comment:"lang.manageNumericPackage",route:"/saveNumericPackage",style:"fa fa-file-archive",unit:"sendmail",angular:!0,shortcut:!1},{id:"registered_mail_receive_ar",label:"lang.arReception",comment:"lang.arReception",route:"/registeredMail/acknowledgement",style:"fa fa-barcode",unit:"registeredMails",angular:!0,shortcut:!1}],this.shortcuts=[{id:"followed",label:"lang.followedMail",comment:"lang.followedMail",route:"/followed",style:"fas fa-star",unit:"application",angular:!0,shortcut:!0}]}return _createClass(t,[{key:"getAllPrivileges",value:function(){var t=[];return t=(t=(t=t.concat(this.privileges.map((function(t){return t.id})))).concat(this.administrations.map((function(t){return t.id})))).concat(this.menus.map((function(t){return t.id})))}},{key:"getPrivileges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t?this.privileges.filter((function(e){return t.indexOf(e.id)>-1})):this.privileges}},{key:"getUnitsPrivileges",value:function(){return this.privileges.map((function(t){return t.unit})).filter((function(t,e,n){return n.indexOf(t)===e}))}},{key:"getPrivilegesByUnit",value:function(t){return this.privileges.filter((function(e){return e.unit===t}))}},{key:"getMenus",value:function(){return this.menus}},{key:"getCurrentUserMenus",value:function(){var t=this,e=this.menus.filter((function(e){return t.headerService.user.privileges.indexOf(e.id)>-1}));if(this.headerService.user.groups.filter((function(t){return!0===t.can_index})).length>0){var n=[];this.headerService.user.groups.filter((function(t){return!0===t.can_index})).forEach((function(t){n.push({id:t.id,label:t.group_desc})})),e.push({id:"indexing",label:"lang.recordMail",comment:"lang.recordMail",route:"/indexing/"+n[0].id,style:"fa fa-file-medical",unit:"application",angular:!0,shortcut:!0,groups:n})}return e}},{key:"getMenusByUnit",value:function(t){return this.menus.filter((function(e){return e.unit===t}))}},{key:"getUnitsMenus",value:function(){return this.menus.map((function(t){return t.unit})).filter((function(t,e,n){return n.indexOf(t)===e}))}},{key:"resfreshUserShortcuts",value:function(){var t=this;if(this.shortcuts=[{id:"followed",label:"lang.followedMail",comment:"lang.followedMail",route:"/followed",style:"fas fa-star",unit:"application",angular:!0,shortcut:!0}],this.shortcuts=this.shortcuts.concat(this.menus.filter((function(t){return!0===t.shortcut})).filter((function(e){return t.headerService.user.privileges.indexOf(e.id)>-1}))),this.headerService.user.groups.filter((function(t){return!0===t.can_index})).length>0){var e=[];this.headerService.user.groups.filter((function(t){return!0===t.can_index})).forEach((function(t){e.push({id:t.id,label:t.group_desc})})),this.shortcuts.push({id:"indexing",label:"lang.recordMail",comment:"lang.recordMail",route:"/indexing",style:"fa fa-file-medical",unit:"application",angular:!0,shortcut:!0,groups:e})}}},{key:"getAdministrations",value:function(){return this.administrations}},{key:"getCurrentUserAdministrationsByUnit",value:function(t){var e=this;return this.hasCurrentUserPrivilege("view_history")&&this.hasCurrentUserPrivilege("view_history_batch")?this.administrations.filter((function(e){return e.unit===t})).filter((function(t){return e.headerService.user.privileges.indexOf(t.id)>-1})).filter((function(t){return"view_history_batch"!==t.id})):this.administrations.filter((function(e){return e.unit===t})).filter((function(t){return e.headerService.user.privileges.indexOf(t.id)>-1}))}},{key:"hasCurrentUserPrivilege",value:function(t){return this.headerService.user.privileges.indexOf(t)>-1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(a.e),i.dc(r.a))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}()},enVo:function(t,e,n){"use strict";n.d(e,"a",(function(){return nn}));var i=n("mrSG"),a=n("fXoL"),r=n("vkgz"),o=n("JIr8"),s=n("pLZG"),c=n("XqQ8"),l=n("LRne"),u=n("1YbM"),d=n("5+WD"),f=n("3Pt+"),h=n("2c88"),p=n("sYmb"),m=n("tk/3"),g=n("AXEc"),b=n("0IaG"),v=n("4zkx"),y=n("A6w4"),_=n("rH+9"),k=n("ofXK"),C=n("Xa2L"),x=n("bTqV"),w=n("NFeN"),O=n("STbY"),S=n("f0Cb"),E=n("kmnG"),M=n("qFsG"),I=n("fBaO"),P=n("iadO"),T=n("Qu3c"),A=n("QibW"),D=n("MutI"),R=n("A5z7"),L=n("dATD"),F=n("Kj3r"),j=n("/uUt"),Y=n("eIep"),Z=n("aEDk"),N=n("/1cH"),U=n("FKr1"),B=["autoCompleteInput"];function z(t,e){if(1&t&&(a.Zb(0,"mat-option",17),a.Zb(1,"span",18),a.Sc(2),a.Yb(),a.Yb()),2&t){var n=e.$implicit,i=a.lc(3);a.sc("value",n)("title",n[i.key]),a.Eb(2),a.Tc(n[i.key])}}function V(t,e){if(1&t&&(a.Xb(0),a.Qc(1,z,3,3,"mat-option",16),a.mc(2,"sortBy"),a.mc(3,"async"),a.Wb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("ngForOf",a.oc(2,1,a.nc(3,4,n.filteredOptions),n.key))}}function H(t,e){if(1&t&&a.Ub(0,"mat-option",19),2&t){var n=a.lc(2);a.sc("innerHTML",n.listInfo,a.Ic)}}function Q(t,e){1&t&&(a.Zb(0,"mat-option",20),a.Ub(1,"mat-spinner",21),a.Yb())}function W(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-form-field",5),a.Ub(1,"mat-icon",6),a.Zb(2,"input",7,8),a.hc("click",(function(t){return a.Hc(n),t.stopPropagation()}))("focus",(function(){return a.Hc(n),a.lc().resetAutocomplete()})),a.Yb(),a.Zb(4,"button",9),a.hc("click",(function(){return a.Hc(n),a.lc().addItem()})),a.Ub(5,"mat-icon",10),a.Yb(),a.Zb(6,"mat-autocomplete",11,12),a.hc("optionSelected",(function(t){return a.Hc(n),a.lc().selectOpt(t)})),a.Qc(8,V,4,6,"ng-container",13),a.Qc(9,H,1,1,"mat-option",14),a.Qc(10,Q,2,0,"mat-option",15),a.Yb(),a.Yb()}if(2&t){var i=a.Dc(7),r=a.lc();a.Eb(2),a.sc("placeholder",r.translate.instant("lang.searchFolder"))("formControl",r.myControl)("matAutocomplete",i),a.Eb(2),a.sc("disabled",!r.canAdd),a.Eb(1),a.Pc("visibility",r.canAdd&&null!==r.myControl.value&&r.myControl.value.length>0?"visible":"hidden"),a.sc("title",r.translate.instant("lang.add")),a.Eb(3),a.sc("ngIf",r.options.length>0&&!r.loading),a.Eb(1),a.sc("ngIf",0===r.options.length&&!r.loading),a.Eb(1),a.sc("ngIf",r.loading)}}function G(t,e){1&t&&a.Ub(0,"mat-icon",28)}function q(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-chip",24),a.hc("removed",(function(){a.Hc(n);var t=e.index;return a.lc(2).removeItem(t)})),a.Zb(1,"span",25),a.Ub(2,"i",26),a.Sc(3),a.Yb(),a.Qc(4,G,1,0,"mat-icon",27),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc(2);a.sc("removable",!r.controlAutocomplete.disabled),a.Eb(1),a.sc("title",r.valuesToDisplay[i]),a.Eb(2),a.Uc("\xa0",r.valuesToDisplay[i]," "),a.Eb(1),a.sc("ngIf",!r.controlAutocomplete.disabled)}}function X(t,e){if(1&t&&(a.Zb(0,"mat-chip-list",22),a.Qc(1,q,5,4,"mat-chip",23),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.sc("ngForOf",n.controlAutocomplete.value)}}function J(t,e){1&t&&(a.Zb(0,"div",29),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.noSelectedFolder")," "))}var K,tt=((K=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialog=a,this.headerService=r,this.appService=o,this.latinisePipe=s,this.loading=!1,this.key="idToDisplay",this.canAdd=!0,this.myControl=new f.h,this.valuesToDisplay={},this.newIds=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.initFormValue(),this.initAutocompleteRoute()}},{key:"initAutocompleteRoute",value:function(){var t=this;this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(F.a)(300),Object(s.a)((function(t){return t.length>2})),Object(j.a)(),Object(r.a)((function(){return t.loading=!0})),Object(Y.a)((function(e){return t.getDatas(e)})),Object(r.a)((function(e){t.listInfo=0===e.length?t.translate.instant("lang.noAvailableValue"):"",t.options=e,t.filteredOptions=Object(l.a)(t.options),t.loading=!1}))).subscribe()}},{key:"getDatas",value:function(t){return this.http.get("../rest/autocomplete/folders",{params:{search:t}})}},{key:"selectOpt",value:function(t){this.setFormValue(t.option.value),this.myControl.setValue("")}},{key:"initFormValue",value:function(){var t=this;this.controlAutocomplete.value.forEach((function(e){t.http.get("../rest/folders/"+e).pipe(Object(r.a)((function(e){for(var n in e)t.valuesToDisplay[e[n].id]=e[n].label}))).subscribe()}))}},{key:"setFormValue",value:function(t){if(-1===this.controlAutocomplete.value.indexOf(t.id)){var e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push(t.id),this.valuesToDisplay[t.id]=t[this.key],this.controlAutocomplete.setValue(e)}}},{key:"resetAutocomplete",value:function(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.options.filter((function(t){return e.latinisePipe.transform(t[e.key].toLowerCase()).includes(n)}))}return this.options}},{key:"unsetValue",value:function(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}},{key:"removeItem",value:function(t){var e=this;if(-1===this.newIds.indexOf(this.controlAutocomplete.value[t])){var n=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(n)}else this.http.delete("../rest/folders/"+this.controlAutocomplete.value[t]).pipe(Object(r.a)((function(n){var i=e.controlAutocomplete.value;e.controlAutocomplete.value.splice(t,1),e.controlAutocomplete.setValue(i)})),Object(o.a)((function(t){return e.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"addItem",value:function(){var t=this,e={};e[this.key]=this.myControl.value,this.http.post("../rest/folders",{label:e[this.key]}).pipe(Object(r.a)((function(n){for(var i in n)e.id=n[i],t.newIds.push(n[i]);t.setFormValue(e),t.myControl.setValue("")})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||K)(a.Tb(p.e),a.Tb(m.b),a.Tb(g.a),a.Tb(b.b),a.Tb(v.a),a.Tb(y.a),a.Tb(Z.c))},K.\u0275cmp=a.Nb({type:K,selectors:[["app-folder-input"]],viewQuery:function(t,e){var n;1&t&&a.Oc(B,!0),2&t&&a.Cc(n=a.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"]},features:[a.Db([u.a])],decls:6,vars:4,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form"],["color","primary","matPrefix","",1,"fa","fa-search",2,"padding-left","20px","font-size","15px"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],["type","button","matSuffix","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-folder-plus",3,"title"],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked","itemChip"],["color","default","class","listAutocomplete",3,"removable","removed",4,"ngFor","ngForOf"],["color","default",1,"listAutocomplete",3,"removable","removed"],[2,"display","flex","flex","1","align-items","center",3,"title"],[1,"fa","fa-folder-open",2,"padding-right","5px"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(a.Zb(0,"form"),a.Ub(1,"input",0),a.Qc(2,W,11,10,"mat-form-field",1),a.Zb(3,"div",2),a.Qc(4,X,2,1,"mat-chip-list",3),a.Qc(5,J,3,3,"div",4),a.Yb(),a.Yb()),2&t&&(a.Eb(1),a.sc("formControl",e.controlAutocomplete),a.Eb(1),a.sc("ngIf",!e.controlAutocomplete.disabled),a.Eb(2),a.sc("ngIf",e.controlAutocomplete.value.length>0),a.Eb(1),a.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[f.J,f.u,f.v,f.c,f.t,f.i,k.t,E.c,w.a,E.i,M.b,N.d,x.b,E.j,N.a,k.s,U.o,C.c,R.d,R.a,R.e],pipes:[u.a,k.b,p.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#fff;background-color:#1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}.listAutocomplete[_ngcontent-%COMP%]{height:auto}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),K),et=n("lJxs"),nt=n("pWCv"),it=n("rNzc"),at=n("I65S");function rt(t,e){if(1&t){var n=a.ac();a.Zb(0,"span",15),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc(3).selectTag(t)})),a.Sc(1),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc(3);a.sc("title",r.translate.instant("lang.linkedTags")),a.Eb(1),a.Tc(r.getTagLabel(i))}}function ot(t,e){if(1&t&&(a.Xb(0),a.Ub(1,"br"),a.Ub(2,"hr"),a.Qc(3,rt,2,2,"span",14),a.Wb()),2&t){var n=a.lc(2);a.Eb(3),a.sc("ngForOf",n.tag.links)}}function st(t,e){if(1&t&&(a.Zb(0,"div",11),a.Zb(1,"div",12),a.Zb(2,"b"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Ub(5,"br"),a.Sc(6),a.Ub(7,"br"),a.Ub(8,"br"),a.Zb(9,"b"),a.Sc(10),a.mc(11,"translate"),a.Yb(),a.Ub(12,"br"),a.Sc(13),a.Qc(14,ot,4,1,"ng-container",13),a.Yb(),a.Yb()),2&t){var n=a.lc();a.Eb(3),a.Uc("",a.nc(4,5,"lang.description")," :"),a.Eb(3),a.Uc(" ",n.functionsService.empty(n.tag.description)?n.translate.instant("lang.undefined"):n.tag.description," "),a.Eb(4),a.Uc("",a.nc(11,7,"lang.usage")," :"),a.Eb(3),a.Uc(" ",n.functionsService.empty(n.tag.usage)?n.translate.instant("lang.undefined"):n.tag.usage," "),a.Eb(1),a.sc("ngIf",n.tag.links.length>0)}}function ct(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",16),a.Zb(1,"button",17),a.hc("click",(function(){return a.Hc(n),a.lc().onSubmit()})),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Zb(4,"button",18),a.Sc(5),a.mc(6,"translate"),a.Yb(),a.Yb()}if(2&t){var i=a.lc();a.Eb(1),a.sc("disabled",i.loading||i.functionsService.empty(i.tag)),a.Eb(1),a.Tc(a.nc(3,4,"lang.validate")),a.Eb(2),a.sc("disabled",i.loading),a.Eb(1),a.Tc(a.nc(6,6,"lang.cancel"))}}var lt,ut=((lt=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functionsService=o,this.loading=!1,this.tags=[],this.tag=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.getTagsTree()}},{key:"getTags",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/tags").pipe(Object(nt.tap)((function(n){t.tags=n.tags.map((function(t){return{id:t.id,label:t.label,parentId:t.parentId,countResources:t.countResources}})),e(!0)})),Object(it.catchError)((function(e){return t.notify.handleSoftErrors(e),Object(at.of)(!1)}))).subscribe()}))}},{key:"getTag",value:function(t){var e=this;this.http.get("../rest/tags/"+t).pipe(Object(nt.tap)((function(t){e.tag=t})),Object(it.catchError)((function(t){return e.notify.handleSoftErrors(t),Object(at.of)(!1)}))).subscribe()}},{key:"getTagsTree",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTags();case 2:e=this.tags.map((function(t){return{id:t.id,text:t.label,parent:n.functionsService.empty(t.parentId)?"#":t.parentId,state:{opened:n.data.id==t.id,selected:n.data.id==t.id,disabled:!n.functionsService.empty(n.data.id)}}})),setTimeout((function(){$("#jstree").on("select_node.jstree",(function(t,e){n.getTag(e.node.id)})).jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},multiple:!1,data:e},plugins:["checkbox","search","sort"]})}),0),this.functionsService.empty(this.data.id)||this.getTag(this.data.id);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"selectTag",value:function(t){this.functionsService.empty(this.data.id)&&($("#jstree").jstree("deselect_all"),$("#jstree").jstree("select_node",t))}},{key:"getTagLabel",value:function(t){return this.tags.filter((function(e){return e.id==t}))[0].label}},{key:"onSubmit",value:function(){this.dialogRef.close(this.tag)}}]),t}()).\u0275fac=function(t){return new(t||lt)(a.Tb(p.e),a.Tb(m.b),a.Tb(g.a),a.Tb(b.h),a.Tb(b.a),a.Tb(_.a))},lt.\u0275cmp=a.Nb({type:lt,selectors:[["ng-component"]],decls:14,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","mat-dialog-close"],[1,"fa","fa-times-circle","fa-2x"],["mat-dialog-content",""],[1,"col-md-6",2,"overflow","auto"],["id","jstree"],["class","col-md-6",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[1,"col-md-6"],["role","alert",1,"alert-message","alert-message-info"],[4,"ngIf"],["class","badge","style","cursor: pointer;",3,"title","click",4,"ngFor","ngForOf"],[1,"badge",2,"cursor","pointer",3,"title","click"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"h1",1),a.Zb(2,"span",2),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Zb(5,"button",3),a.mc(6,"translate"),a.Ub(7,"mat-icon",4),a.Yb(),a.Yb(),a.Zb(8,"div",5),a.Zb(9,"div",6),a.Ub(10,"div",7),a.Yb(),a.Qc(11,st,15,9,"div",8),a.Yb(),a.Ub(12,"span",9),a.Qc(13,ct,7,8,"div",10),a.Yb()),2&t&&(a.Eb(3),a.Tc(a.nc(4,6,"lang.tags")),a.Eb(2),a.tc("title",a.nc(6,8,"lang.close")),a.Eb(4),a.Jb("col-md-12",!e.functionsService.empty(e.tag)),a.Eb(2),a.sc("ngIf",!e.functionsService.empty(e.tag)),a.Eb(2),a.sc("ngIf",e.functionsService.empty(e.data.id)))},directives:[b.i,x.b,b.d,w.a,b.f,k.t,k.s,b.c],pipes:[p.d],styles:[".badge[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:10px!important;color:#fff;font-weight:400;border-radius:.25em;background:#135f7f;margin:5px}"]}),lt),dt=n("eiH7"),ft=["autoCompleteInput"];function ht(t,e){if(1&t&&(a.Zb(0,"mat-option",18),a.Zb(1,"span",19),a.Sc(2),a.Yb(),a.Yb()),2&t){var n=e.$implicit,i=a.lc(3);a.sc("value",n)("title",n[i.key]),a.Eb(2),a.Tc(n[i.key])}}function pt(t,e){if(1&t&&(a.Xb(0),a.Qc(1,ht,3,3,"mat-option",17),a.mc(2,"sortBy"),a.mc(3,"async"),a.Wb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("ngForOf",a.oc(2,1,a.nc(3,4,n.filteredOptions),n.key))}}function mt(t,e){if(1&t&&a.Ub(0,"mat-option",20),2&t){var n=a.lc(2);a.sc("innerHTML",n.listInfo,a.Ic)}}function gt(t,e){1&t&&(a.Zb(0,"mat-option",21),a.Ub(1,"mat-spinner",22),a.Yb())}function bt(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-form-field",5),a.Zb(1,"button",6),a.hc("click",(function(t){a.Hc(n);var e=a.lc();return t.stopPropagation(),e.openThesaurus()})),a.Ub(2,"mat-icon",7),a.Yb(),a.Zb(3,"input",8,9),a.hc("click",(function(t){return a.Hc(n),t.stopPropagation()}))("focus",(function(){return a.Hc(n),a.lc().resetAutocomplete()})),a.Yb(),a.Zb(5,"button",10),a.hc("click",(function(){return a.Hc(n),a.lc().addItem()})),a.Ub(6,"mat-icon",11),a.Yb(),a.Zb(7,"mat-autocomplete",12,13),a.hc("optionSelected",(function(t){return a.Hc(n),a.lc().selectOpt(t)})),a.Qc(9,pt,4,6,"ng-container",14),a.Qc(10,mt,1,1,"mat-option",15),a.Qc(11,gt,2,0,"mat-option",16),a.Yb(),a.Yb()}if(2&t){var i=a.Dc(8),r=a.lc();a.Eb(2),a.sc("title",r.translate.instant("lang.openThesaurus")),a.Eb(1),a.sc("placeholder",r.translate.instant("lang.searchTag"))("formControl",r.myControl)("matAutocomplete",i),a.Eb(2),a.sc("disabled",!r.canAdd||null===r.myControl.value||0===r.myControl.value.length),a.Eb(1),a.Pc("visibility",r.canAdd&&null!==r.myControl.value&&r.myControl.value.length>0?"visible":"hidden"),a.sc("title",r.translate.instant("lang.add")),a.Eb(3),a.sc("ngIf",r.options.length>0&&!r.loading),a.Eb(1),a.sc("ngIf",0===r.options.length&&!r.loading),a.Eb(1),a.sc("ngIf",r.loading)}}function vt(t,e){1&t&&a.Ub(0,"mat-icon",29)}function yt(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-chip",25),a.hc("removed",(function(){a.Hc(n);var t=e.index;return a.lc(2).removeItem(t)}))("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc(2).openThesaurus(t)})),a.Zb(1,"span",26),a.Ub(2,"i",27),a.Sc(3),a.Yb(),a.Qc(4,vt,1,0,"mat-icon",28),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc(2);a.sc("removable",!r.controlAutocomplete.disabled),a.Eb(1),a.sc("title",r.valuesToDisplay[i]),a.Eb(2),a.Uc("\xa0",r.valuesToDisplay[i]," "),a.Eb(1),a.sc("ngIf",!r.controlAutocomplete.disabled)}}function _t(t,e){if(1&t&&(a.Zb(0,"mat-chip-list",23),a.Qc(1,yt,5,4,"mat-chip",24),a.Yb()),2&t){var n=a.lc();a.Eb(1),a.sc("ngForOf",n.controlAutocomplete.value)}}function kt(t,e){1&t&&(a.Zb(0,"div",30),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.noSelectedTag")," "))}var Ct,xt=((Ct=function(){function t(e,n,i,a,r,o,s,c,l){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialog=a,this.headerService=r,this.appService=o,this.latinisePipe=s,this.privilegeService=c,this.functionsService=l,this.loading=!1,this.key="idToDisplay",this.canAdd=!1,this.myControl=new f.h,this.valuesToDisplay={},this.newIds=[],this.tags=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.controlAutocomplete.setValue(null===this.controlAutocomplete.value||""===this.controlAutocomplete.value?[]:this.controlAutocomplete.value),this.canAdd=this.privilegeService.hasCurrentUserPrivilege("manage_tags_application"),this.initFormValue(),this.initAutocompleteRoute()}},{key:"initAutocompleteRoute",value:function(){var t=this;this.listInfo=this.translate.instant("lang.autocompleteInfo"),this.options=[],this.myControl.valueChanges.pipe(Object(F.a)(300),Object(s.a)((function(t){return t.length>2})),Object(j.a)(),Object(r.a)((function(){return t.loading=!0})),Object(Y.a)((function(e){return t.getDatas(e)})),Object(r.a)((function(e){t.listInfo=0===e.length?t.translate.instant("lang.noAvailableValue"):"",t.options=e,t.filteredOptions=Object(l.a)(t.options),t.loading=!1}))).subscribe()}},{key:"getDatas",value:function(t){return this.http.get("../rest/autocomplete/tags",{params:{search:t}})}},{key:"selectOpt",value:function(t){this.setFormValue(t.option.value),this.myControl.setValue("")}},{key:"initFormValue",value:function(){var t=this;this.controlAutocomplete.value.forEach((function(e){t.http.get("../rest/tags/"+e).pipe(Object(r.a)((function(e){t.valuesToDisplay[e.id]=e.label}))).subscribe()}))}},{key:"setFormValue",value:function(t){if(-1===this.controlAutocomplete.value.indexOf(t.id)){var e=[];null!==this.controlAutocomplete.value&&(e=this.controlAutocomplete.value),e.push(t.id),this.valuesToDisplay[t.id]=t[this.key],this.controlAutocomplete.setValue(e)}}},{key:"resetAutocomplete",value:function(){this.options=[],this.listInfo=this.translate.instant("lang.autocompleteInfo")}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.options.filter((function(t){return e.latinisePipe.transform(t[e.key].toLowerCase()).includes(n)}))}return this.options}},{key:"unsetValue",value:function(){this.controlAutocomplete.setValue(""),this.myControl.setValue(""),this.myControl.enable()}},{key:"removeItem",value:function(t){var e=this;if(-1===this.newIds.indexOf(this.controlAutocomplete.value[t])){var n=this.controlAutocomplete.value;this.controlAutocomplete.value.splice(t,1),this.controlAutocomplete.setValue(n)}else this.http.delete("../rest/tags/"+this.controlAutocomplete.value[t]).pipe(Object(r.a)((function(n){var i=e.controlAutocomplete.value;e.controlAutocomplete.value.splice(t,1),e.controlAutocomplete.setValue(i)})),Object(o.a)((function(t){return e.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"addItem",value:function(){var t=this,e={};e[this.key]=this.myControl.value,this.http.post("../rest/tags",{label:e[this.key]}).pipe(Object(r.a)((function(n){for(var i in n)e.id=n[i],t.newIds.push(n[i]);t.setFormValue(e),t.myControl.setValue("")})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}},{key:"openThesaurus",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dialog.open(ut,{panelClass:"maarch-modal",width:"600px",data:{id:e}}).afterClosed().pipe(Object(s.a)((function(e){return!t.functionsService.empty(e)})),Object(et.a)((function(t){return{id:t.id,idToDisplay:t.label}})),Object(r.a)((function(e){console.log(e),t.setFormValue(e)})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ct)(a.Tb(p.e),a.Tb(m.b),a.Tb(g.a),a.Tb(b.b),a.Tb(v.a),a.Tb(y.a),a.Tb(Z.c),a.Tb(dt.a),a.Tb(_.a))},Ct.\u0275cmp=a.Nb({type:Ct,selectors:[["app-tag-input"]],viewQuery:function(t,e){var n;1&t&&a.Oc(ft,!0),2&t&&a.Cc(n=a.ic())&&(e.autoCompleteInput=n.first)},inputs:{controlAutocomplete:["control","controlAutocomplete"]},features:[a.Db([u.a])],decls:6,vars:4,consts:[["type","hidden",3,"formControl"],["floatLabel","never","class","input-form",4,"ngIf"],[1,"itemList"],["class","mat-chip-list-stacked itemChip","color","default",4,"ngIf"],["class","noResult",4,"ngIf"],["floatLabel","never",1,"input-form"],["color","primary","type","button","matPrefix","","mat-icon-button","",2,"left","20px","z-index","1",3,"click"],[1,"fas","fa-external-link-alt",2,"font-size","15px",3,"title"],["type","text","matInput","","maxlength","128",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],["type","button","matSuffix","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-plus",3,"title"],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["color","primary"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","default",1,"mat-chip-list-stacked","itemChip"],["class","listAutocomplete","color","default",3,"removable","removed","click",4,"ngFor","ngForOf"],["color","default",1,"listAutocomplete",3,"removable","removed","click"],[2,"display","flex","flex","1","align-items","center","cursor","pointer",3,"title"],[1,"fa","fa-tag",2,"padding-right","5px"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"noResult"]],template:function(t,e){1&t&&(a.Zb(0,"form"),a.Ub(1,"input",0),a.Qc(2,bt,12,11,"mat-form-field",1),a.Zb(3,"div",2),a.Qc(4,_t,2,1,"mat-chip-list",3),a.Qc(5,kt,3,3,"div",4),a.Yb(),a.Yb()),2&t&&(a.Eb(1),a.sc("formControl",e.controlAutocomplete),a.Eb(1),a.sc("ngIf",!e.controlAutocomplete.disabled),a.Eb(2),a.sc("ngIf",e.controlAutocomplete.value.length>0),a.Eb(1),a.sc("ngIf",0===e.controlAutocomplete.value.length))},directives:[f.J,f.u,f.v,f.c,f.t,f.i,k.t,E.c,x.b,E.i,w.a,M.b,N.d,f.o,E.j,N.a,k.s,U.o,C.c,R.d,R.a,R.e],pipes:[u.a,k.b,p.d],styles:[".smallInputInfo[_ngcontent-%COMP%]{font-size:9px;white-space:normal;line-height:13px;display:table-cell;vertical-align:middle;text-align:center}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{color:#fff;background-color:#1a80ab}.noResult[_ngcontent-%COMP%]{text-align:center;font-style:italic;opacity:.5}.listAutocomplete[_ngcontent-%COMP%]{height:auto}.itemChip[_ngcontent-%COMP%]{display:block;width:95%}.itemChip[_ngcontent-%COMP%]    .mat-chip-list-wrapper{margin:0}.itemList[_ngcontent-%COMP%]{padding-top:10px;overflow-x:hidden;max-height:165px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),Ct),wt=n("7gPu"),Ot=n("nYR2"),St=n("Wp6s"),Et=["autoCompleteInput"];function Mt(t,e){if(1&t){var n=a.ac();a.Zb(0,"plugin-select-search",2),a.hc("afterSelected",(function(t){a.Hc(n);var e=a.lc();return e.afterSelected.emit(t),e.setAddress(t)})),a.mc(1,"translate"),a.mc(2,"translate"),a.Yb()}if(2&t){var i=a.lc();a.sc("label",a.nc(1,4,"lang.issuingSite"))("placeholderLabel",a.nc(2,6,"lang.issuingSite"))("formControlSelect",i.control)("datas",i.issuingSiteList)}}function It(t,e){if(1&t&&(a.Zb(0,"div"),a.Sc(1),a.Yb()),2&t){var n=a.lc(2);a.Eb(1),a.Uc(" ",n.issuingSiteAddress.addressCountry," ")}}function Pt(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-card",3),a.Zb(1,"div"),a.Sc(2),a.Yb(),a.Zb(3,"div"),a.Sc(4),a.Yb(),a.Zb(5,"div"),a.Sc(6),a.Yb(),a.Zb(7,"div"),a.Sc(8),a.Yb(),a.Zb(9,"div"),a.Sc(10),a.Yb(),a.Qc(11,It,2,1,"div",4),a.Zb(12,"button",5),a.hc("click",(function(){return a.Hc(n),a.lc().goTo()})),a.mc(13,"translate"),a.Ub(14,"mat-icon",6),a.Yb(),a.Yb()}if(2&t){var i=a.lc();a.Eb(2),a.Uc(" ",i.issuingSiteAddress.siteLabel," "),a.Eb(2),a.Uc(" ",i.issuingSiteAddress.addressAdditional1," "),a.Eb(2),a.Vc(" ",i.issuingSiteAddress.addressNumber," ",i.issuingSiteAddress.addressStreet," "),a.Eb(2),a.Uc(" ",i.issuingSiteAddress.addressAdditional2," "),a.Eb(2),a.Vc(" ",i.issuingSiteAddress.addressPostcode," ",i.issuingSiteAddress.addressTown," "),a.Eb(1),a.sc("ngIf","RW"===i.registedMailType),a.Eb(1),a.sc("title",a.nc(13,9,"lang.openMap"))}}var Tt,At=((Tt=function(){function t(e,n,i,r){_classCallCheck(this,t),this.http=e,this.notify=n,this.headerService=i,this.functions=r,this.loading=!1,this.issuingSiteList=[],this.issuingSiteAddress=null,this.control=new f.h(""),this.registedMailType=null,this.afterSelected=new a.o}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;null!==this.registedMailType&&this.getIssuingSites(this.registedMailType),this.functions.empty(this.control.value)||setTimeout((function(){t.setAddress(t.control.value)}),0)}},{key:"getIssuingSites",value:function(t){var e=this;this.registedMailType=t,this.loading=!0,this.http.get("../rest/registeredMail/ranges").pipe(Object(r.a)((function(n){e.issuingSiteAddress=null,e.issuingSiteList=n.ranges.filter((function(n){return n.registeredMailType===t&&"OK"===n.status&&n.entities.indexOf(e.headerService.user.entities[0].id)>-1})).map((function(t){return Object.assign(Object.assign({},t),{id:t.siteId,label:"".concat(t.label," (").concat(t.customerAccountNumber,")"),disabled:100===t.fullness})}))})),Object(Ot.a)((function(){return e.loading=!1})),Object(o.a)((function(t){return e.notify.handleSoftErrors(t),Object(at.of)(!1)}))).subscribe()}},{key:"setAddress",value:function(t){var e=this;this.http.get("../rest/registeredMail/sites/"+t).pipe(Object(r.a)((function(t){e.issuingSiteAddress=t.site})),Object(o.a)((function(t){return e.notify.handleSoftErrors(t),Object(at.of)(!1)}))).subscribe()}},{key:"goTo",value:function(){window.open("https://www.google.com/maps/search/".concat(this.issuingSiteAddress.addressNumber,"+").concat(this.issuingSiteAddress.addressStreet,",+").concat(this.issuingSiteAddress.addressPostcode,"+").concat(this.issuingSiteAddress.addressTown,",+").concat(this.issuingSiteAddress.addressCountry),"_blank")}}]),t}()).\u0275fac=function(t){return new(t||Tt)(a.Tb(m.b),a.Tb(g.a),a.Tb(v.a),a.Tb(_.a))},Tt.\u0275cmp=a.Nb({type:Tt,selectors:[["app-issuing-site-input"]],viewQuery:function(t,e){var n;1&t&&a.Oc(Et,!0),2&t&&a.Cc(n=a.ic())&&(e.autoCompleteInput=n.first)},inputs:{control:"control",registedMailType:"registedMailType"},outputs:{afterSelected:"afterSelected"},decls:3,vars:2,consts:[["style","width:100%;",3,"label","placeholderLabel","formControlSelect","datas","afterSelected",4,"ngIf"],["color","primary",4,"ngIf"],[2,"width","100%",3,"label","placeholderLabel","formControlSelect","datas","afterSelected"],["color","primary"],[4,"ngIf"],["mat-icon-button","",1,"map-icon",3,"title","click"],[1,"fa","fas","fa-map-marked-alt"]],template:function(t,e){1&t&&(a.Zb(0,"form"),a.Qc(1,Mt,3,8,"plugin-select-search",0),a.Qc(2,Pt,15,11,"mat-card",1),a.Yb()),2&t&&(a.Eb(1),a.sc("ngIf",!e.loading),a.Eb(1),a.sc("ngIf",null!==e.issuingSiteAddress))},directives:[f.J,f.u,f.v,k.t,I.a,St.a,x.b,w.a],pipes:[p.d],styles:[".address-icon[_ngcontent-%COMP%]{right:10px;top:10px}.address-icon[_ngcontent-%COMP%], .map-icon[_ngcontent-%COMP%]{position:absolute;font-size:14px}.map-icon[_ngcontent-%COMP%]{cursor:pointer;z-index:2;right:0;bottom:0}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),Tt),Dt=n("JX91"),Rt=n("d3UM");function Lt(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",15),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc(2).addressBANCurrentDepartment=t})),a.Sc(1),a.Yb()}if(2&t){var i=e.$implicit;a.Eb(1),a.Tc(i)}}function Ft(t,e){if(1&t&&(a.Zb(0,"mat-option",17),a.Sc(1),a.Yb()),2&t){var n=e.$implicit;a.sc("value",n)("title",n.address),a.Eb(1),a.Uc(" ",n.address," ")}}function jt(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Ft,2,3,"mat-option",16),a.mc(2,"async"),a.Wb()),2&t){var n=a.lc(2);a.Eb(1),a.sc("ngForOf",a.nc(2,1,n.addressBANFilteredResult))}}function Yt(t,e){if(1&t&&a.Ub(0,"mat-option",18),2&t){var n=a.lc(2);a.sc("innerHTML",n.addressBANInfo,a.Ic)}}function Zt(t,e){1&t&&(a.Zb(0,"mat-option",19),a.Ub(1,"mat-spinner",20),a.Yb())}function Nt(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-form-field",2),a.Zb(1,"button",3),a.hc("click",(function(t){return a.Hc(n),t.stopPropagation()})),a.Sc(2),a.Ub(3,"i",4),a.Yb(),a.Zb(4,"mat-menu",null,5),a.Qc(6,Lt,2,1,"button",6),a.Yb(),a.Ub(7,"mat-icon",7),a.Zb(8,"input",8,9),a.hc("click",(function(t){return a.Hc(n),t.stopPropagation()}))("focus",(function(){return a.Hc(n),a.lc().resetAutocompleteAddressBan()})),a.Yb(),a.Zb(10,"mat-autocomplete",10,11),a.hc("optionSelected",(function(t){return a.Hc(n),a.lc().selectAddressBan(t)})),a.Qc(12,jt,3,3,"ng-container",12),a.Qc(13,Yt,1,1,"mat-option",13),a.Qc(14,Zt,2,0,"mat-option",14),a.Yb(),a.Yb()}if(2&t){var i=a.Dc(5),r=a.Dc(11),o=a.lc();a.Eb(1),a.sc("matMenuTriggerFor",i)("title",o.translate.instant("lang.targetDepartment")),a.Eb(1),a.Uc(" ",o.addressBANCurrentDepartment,"\xa0"),a.Eb(4),a.sc("ngForOf",o.departmentList),a.Eb(2),a.sc("placeholder",o.translate.instant("lang.searchAddressBan"))("formControl",o.addressBANControl)("matAutocomplete",r),a.Eb(4),a.sc("ngIf",o.addressBANResult.length>0&&!o.addressBANLoading),a.Eb(1),a.sc("ngIf",0===o.addressBANResult.length&&!o.addressBANLoading),a.Eb(1),a.sc("ngIf",o.addressBANLoading)}}function Ut(t,e){if(1&t&&(a.Zb(0,"mat-option",39),a.Sc(1),a.Yb()),2&t){var n=e.$implicit;a.sc("value",n.label),a.Eb(1),a.Uc(" ",n.label," ")}}function Bt(t,e){if(1&t&&(a.Zb(0,"mat-option",39),a.Sc(1),a.Yb()),2&t){var n=e.$implicit;a.sc("value",n),a.Eb(1),a.Uc(" ",n," ")}}function zt(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-card",21),a.Zb(1,"button",22),a.hc("click",(function(){a.Hc(n);var t=a.lc();return t.manualAddress=!t.manualAddress})),a.mc(2,"translate"),a.Ub(3,"mat-icon",23),a.Yb(),a.Zb(4,"mat-form-field",24),a.Zb(5,"mat-label"),a.Sc(6),a.mc(7,"translate"),a.Yb(),a.Zb(8,"input",25),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.company=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("company",t)})),a.Yb(),a.Yb(),a.Zb(9,"mat-form-field",24),a.Zb(10,"mat-label"),a.Sc(11),a.mc(12,"translate"),a.Yb(),a.Zb(13,"mat-select",26),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.civility=t})),a.Qc(14,Ut,2,2,"mat-option",27),a.mc(15,"sortBy"),a.Yb(),a.Yb(),a.Zb(16,"mat-form-field",24),a.Zb(17,"mat-label"),a.Sc(18),a.mc(19,"translate"),a.Yb(),a.Zb(20,"input",28),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.firstname=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("firstname",t)})),a.Yb(),a.Yb(),a.Zb(21,"mat-form-field",24),a.Zb(22,"mat-label"),a.Sc(23),a.mc(24,"translate"),a.Yb(),a.Zb(25,"input",29),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.lastname=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("lastname",t)})),a.Yb(),a.Yb(),a.Zb(26,"mat-form-field",24),a.Zb(27,"mat-label"),a.Sc(28),a.mc(29,"translate"),a.Yb(),a.Zb(30,"input",30),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressAdditional1=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("addressAdditional1",t)})),a.Yb(),a.Yb(),a.Zb(31,"mat-form-field",24),a.Zb(32,"mat-label"),a.Sc(33),a.mc(34,"translate"),a.Yb(),a.Zb(35,"input",31),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressNumber=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("addressNumber",t)})),a.Yb(),a.Yb(),a.Zb(36,"mat-form-field",24),a.Zb(37,"mat-label"),a.Sc(38),a.mc(39,"translate"),a.Yb(),a.Zb(40,"input",32),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressStreet=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("addressStreet",t)})),a.Yb(),a.Yb(),a.Zb(41,"mat-form-field",24),a.Zb(42,"mat-label"),a.Sc(43),a.mc(44,"translate"),a.Yb(),a.Zb(45,"input",33),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressAdditional2=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("addressAdditional2",t)})),a.Yb(),a.Yb(),a.Zb(46,"mat-form-field",24),a.Zb(47,"mat-label"),a.Sc(48),a.mc(49,"translate"),a.Yb(),a.Zb(50,"input",34),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressPostcode=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("addressPostcode",t)})),a.Yb(),a.Yb(),a.Zb(51,"mat-form-field",24),a.Zb(52,"mat-label"),a.Sc(53),a.mc(54,"translate"),a.Yb(),a.Zb(55,"input",35),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressTown=t}))("ngModelChange",(function(t){return a.Hc(n),a.lc().toUpperCase("addressTown",t)})),a.Yb(),a.Yb(),a.Zb(56,"mat-form-field",24),a.Zb(57,"mat-label"),a.Sc(58),a.mc(59,"translate"),a.Yb(),a.Zb(60,"input",36,9),a.hc("ngModelChange",(function(t){return a.Hc(n),a.lc().control.value.addressCountry=t})),a.Yb(),a.Zb(62,"mat-autocomplete",37,38),a.hc("optionSelected",(function(t){return a.Hc(n),a.lc().control.value.addressCountry=t.option.value})),a.Qc(64,Bt,2,2,"mat-option",27),a.mc(65,"async"),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=a.Dc(63),r=a.lc();a.Eb(1),a.sc("title",a.nc(2,31,"lang.showAddress")),a.Eb(5),a.Tc(a.nc(7,33,"lang.contactsParameters_company")),a.Eb(2),a.sc("ngModel",r.control.value.company)("required",r.functions.empty(r.control.value.lastname)),a.Eb(3),a.Tc(a.nc(12,35,"lang.contactsParameters_civility")),a.Eb(2),a.sc("ngModel",r.control.value.civility),a.Eb(1),a.sc("ngForOf",a.oc(15,37,r.civilities,"label")),a.Eb(4),a.Tc(a.nc(19,40,"lang.contactsParameters_firstname")),a.Eb(2),a.sc("ngModel",r.control.value.firstname)("required",r.functions.empty(r.control.value.company)),a.Eb(3),a.Tc(a.nc(24,42,"lang.contactsParameters_lastname")),a.Eb(2),a.sc("ngModel",r.control.value.lastname)("required",r.functions.empty(r.control.value.company)),a.Eb(3),a.Tc(a.nc(29,44,"lang.contactsParameters_addressAdditional1")),a.Eb(2),a.sc("ngModel",r.control.value.addressAdditional1),a.Eb(3),a.Tc(a.nc(34,46,"lang.contactsParameters_addressNumber")),a.Eb(2),a.sc("ngModel",r.control.value.addressNumber),a.Eb(3),a.Tc(a.nc(39,48,"lang.contactsParameters_addressStreet")),a.Eb(2),a.sc("ngModel",r.control.value.addressStreet),a.Eb(3),a.Tc(a.nc(44,50,"lang.contactsParameters_addressAdditional2")),a.Eb(2),a.sc("ngModel",r.control.value.addressAdditional2),a.Eb(3),a.Tc(a.nc(49,52,"lang.contactsParameters_addressPostcode")),a.Eb(2),a.sc("ngModel",r.control.value.addressPostcode),a.Eb(3),a.Tc(a.nc(54,54,"lang.contactsParameters_addressTown")),a.Eb(2),a.sc("ngModel",r.control.value.addressTown),a.Eb(3),a.Tc(a.nc(59,56,"lang.contactsParameters_addressCountry")),a.Eb(2),a.sc("ngModel",r.control.value.addressCountry)("matAutocomplete",i)("formControl",r.countryControl)("required","RW"===r.registeredMailType),a.Eb(4),a.sc("ngForOf",a.nc(65,58,r.countriesFilteredResult))}}function Vt(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",22),a.hc("click",(function(){a.Hc(n);var t=a.lc(2);return t.manualAddress=!t.manualAddress})),a.mc(1,"translate"),a.Ub(2,"mat-icon",43),a.Yb()}2&t&&a.sc("title",a.nc(1,1,"lang.update"))}function Ht(t,e){if(1&t){var n=a.ac();a.Zb(0,"mat-card",21),a.Qc(1,Vt,3,3,"button",40),a.Zb(2,"div"),a.Sc(3),a.Yb(),a.Zb(4,"div"),a.Sc(5),a.Yb(),a.Zb(6,"div"),a.Sc(7),a.Yb(),a.Zb(8,"div"),a.Sc(9),a.Yb(),a.Zb(10,"div"),a.Sc(11),a.Yb(),a.Zb(12,"div"),a.Sc(13),a.Yb(),a.Zb(14,"div"),a.Sc(15),a.Yb(),a.Zb(16,"button",41),a.hc("click",(function(){return a.Hc(n),a.lc().goTo()})),a.mc(17,"translate"),a.Ub(18,"mat-icon",42),a.Yb(),a.Yb()}if(2&t){var i=a.lc();a.Eb(1),a.sc("ngIf","DISABLED"!==i.control.status),a.Eb(2),a.Uc(" ",i.control.value.company," "),a.Eb(2),a.Wc(" ",i.control.value.civility," ",i.control.value.firstname," ",i.control.value.lastname," "),a.Eb(2),a.Uc(" ",i.control.value.addressAdditional1," "),a.Eb(2),a.Vc(" ",i.control.value.addressNumber," ",i.control.value.addressStreet," "),a.Eb(2),a.Uc(" ",i.control.value.addressAdditional2," "),a.Eb(2),a.Vc(" ",i.control.value.addressPostcode," ",i.control.value.addressTown," "),a.Eb(2),a.Uc(" ",i.control.value.addressCountry," "),a.Eb(1),a.sc("title",a.nc(17,13,"lang.openMap"))}}var Qt,Wt=((Qt=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.latinisePipe=a,this.functions=r,this.manualAddress=!1,this.civilities=[],this.addressBANInfo="",this.addressBANMode=!0,this.addressBANControl=new f.h,this.addressBANLoading=!1,this.addressBANResult=[],this.addressBANCurrentDepartment="75",this.departmentList=[],this.countries=[],this.countryControl=new f.h}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCivilities(),this.getCountries(),this.initAutocompleteCountries(),this.initBanSearch(),this.initAutocompleteAddressBan(),null===this.control.value&&(this.control.setValue({}),this.control.setErrors({required:!0}))}},{key:"getCivilities",value:function(){var t=this;this.http.get("../rest/civilities").pipe(Object(r.a)((function(e){Object.keys(e.civilities).forEach((function(n){t.civilities.push({id:n,label:e.civilities[n].label.toUpperCase()})}))})),Object(o.a)((function(e){return t.notify.handleSoftErrors(e),Object(at.of)(!1)}))).subscribe()}},{key:"getCountries",value:function(){var t=this;this.http.get("../rest/registeredMail/countries").pipe(Object(r.a)((function(e){t.countries=e.countries.map((function(e){return t.latinisePipe.transform(e.toUpperCase())}))})),Object(o.a)((function(e){return t.notify.handleSoftErrors(e),Object(at.of)(!1)}))).subscribe()}},{key:"initAutocompleteCountries",value:function(){var t=this;this.countriesFilteredResult=this.countryControl.valueChanges.pipe(Object(Dt.a)(""),Object(et.a)((function(e){return t._filter(e)})))}},{key:"_filter",value:function(t){var e=t.toLowerCase();return this.countries.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"initBanSearch",value:function(){var t=this;this.http.get("../rest/ban/availableDepartments").pipe(Object(r.a)((function(e){null!==e.default&&-1!==e.departments.indexOf(e.default.toString())&&(t.addressBANCurrentDepartment=e.default),t.departmentList=e.departments})),Object(o.a)((function(e){return t.notify.handleSoftErrors(e),Object(at.of)(!1)}))).subscribe()}},{key:"initAutocompleteAddressBan",value:function(){var t=this;this.addressBANInfo=this.translate.instant("lang.autocompleteInfo"),this.addressBANResult=[],this.addressBANControl.valueChanges.pipe(Object(F.a)(300),Object(s.a)((function(t){return t.length>2})),Object(j.a)(),Object(r.a)((function(){return t.addressBANLoading=!0})),Object(Y.a)((function(e){return t.http.get("../rest/autocomplete/banAddresses",{params:{address:e,department:t.addressBANCurrentDepartment}})})),Object(r.a)((function(e){t.addressBANInfo=0===e.length?t.translate.instant("lang.noAvailableValue"):"",t.addressBANResult=e,t.addressBANFilteredResult=Object(at.of)(t.addressBANResult),t.addressBANLoading=!1}))).subscribe()}},{key:"resetAutocompleteAddressBan",value:function(){this.addressBANResult=[],this.addressBANInfo=this.translate.instant("lang.autocompleteInfo")}},{key:"selectAddressBan",value:function(t){this.control.value.addressNumber=t.option.value.number,this.control.value.addressStreet=t.option.value.afnorName,this.control.value.addressPostcode=t.option.value.postalCode,this.control.value.addressTown=t.option.value.city,this.control.value.addressCountry="FRANCE",this.countryControl.setValue("FRANCE"),this.addressBANControl.setValue(""),this.control.setErrors({required:!0}),this.control.markAsTouched()}},{key:"getFormatedAdress",value:function(){var t=this,e={};return Object.keys(this.control.value).forEach((function(n){e[n]=t.control.value[n]})),e}},{key:"emptyAddress",value:function(){var t=this,e=!0;return Object.keys(this.control.value).forEach((function(n){""!==t.control.value[n]&&(e=!1)})),e}},{key:"toUpperCase",value:function(t,e){var n=this;setTimeout((function(){var e=n.latinisePipe.transform(n.control.value[t].toUpperCase());n.control.value[t]=e,n.checkRequiredFields()}),100)}},{key:"checkRequiredFields",value:function(){this.functions.empty(this.control.value.company)?this.functions.empty(this.control.value.company)&&(this.functions.empty(this.control.value.firstname)||this.functions.empty(this.control.value.lastname)||this.functions.empty(this.control.value.addressNumber)||this.functions.empty(this.control.value.addressStreet)||this.functions.empty(this.control.value.addressPostcode)||this.functions.empty(this.control.value.addressTown)||"RW"===this.registeredMailType&&this.functions.empty(this.control.value.addressCountry)?this.control.setErrors({required:!0}):this.control.setErrors(null)):this.functions.empty(this.control.value.addressNumber)||this.functions.empty(this.control.value.addressStreet)||this.functions.empty(this.control.value.addressPostcode)||this.functions.empty(this.control.value.addressTown)||"RW"===this.registeredMailType&&this.functions.empty(this.control.value.addressCountry)?this.control.setErrors({required:!0}):this.control.setErrors(null)}},{key:"goTo",value:function(){window.open("https://www.google.com/maps/search/".concat(this.control.value.addressNumber,"+").concat(this.control.value.addressStreet,",+").concat(this.control.value.addressPostcode,"+").concat(this.control.value.addressTown,",+").concat(this.control.value.addressCountry),"_blank")}}]),t}()).\u0275fac=function(t){return new(t||Qt)(a.Tb(p.e),a.Tb(m.b),a.Tb(g.a),a.Tb(Z.c),a.Tb(_.a))},Qt.\u0275cmp=a.Nb({type:Qt,selectors:[["app-registered-mail-recipient-input"]],inputs:{control:"control",registeredMailType:"registeredMailType"},decls:3,vars:3,consts:[["appearance","outline","class","smallInput",4,"ngIf"],["color","primary",4,"ngIf"],["appearance","outline",1,"smallInput"],["mat-button","","matSuffix","",3,"matMenuTriggerFor","title","click"],[1,"fa","fa-chevron-down"],["menuDep","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","primary","matPrefix","",1,"fa","fa-search",2,"font-size","15px"],["type","text","matInput","","maxlength","128",3,"placeholder","formControl","matAutocomplete","click","focus"],["autoCompleteInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[4,"ngIf"],["class","autoCompleteInfoResult smallInputInfo","disabled","",3,"innerHTML",4,"ngIf"],["disabled","",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["disabled","",1,"autoCompleteInfoResult","smallInputInfo",3,"innerHTML"],["disabled",""],["diameter","20"],["color","primary"],["mat-icon-button","",1,"address-icon",3,"title","click"],[1,"fa","fa-eye"],["floatLabel","always"],["matInput","","name","company",3,"ngModel","required","ngModelChange"],["name","civility",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstname",3,"ngModel","required","ngModelChange"],["matInput","","name","lastname",3,"ngModel","required","ngModelChange"],["matInput","","name","addressAdditional1",3,"ngModel","ngModelChange"],["matInput","","name","addressNumber","required","",3,"ngModel","ngModelChange"],["matInput","","name","addressStreet","required","",3,"ngModel","ngModelChange"],["matInput","","name","addressAdditional2",3,"ngModel","ngModelChange"],["matInput","","name","addressPostcode","required","",3,"ngModel","ngModelChange"],["matInput","","name","addressTown","required","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","matAutocomplete","formControl","required","ngModelChange"],["isOpen","true",3,"optionSelected"],["matAutocompleteCountries","matAutocomplete"],[3,"value"],["mat-icon-button","","class","address-icon",3,"title","click",4,"ngIf"],["mat-icon-button","",1,"map-icon",3,"title","click"],[1,"fa","fas","fa-map-marked-alt"],[1,"fa","fa-edit"]],template:function(t,e){1&t&&(a.Qc(0,Nt,15,10,"mat-form-field",0),a.Qc(1,zt,66,60,"mat-card",1),a.Qc(2,Ht,19,15,"mat-card",1)),2&t&&(a.sc("ngIf","DISABLED"!==e.control.status),a.Eb(1),a.sc("ngIf",e.manualAddress&&!e.emptyAddress()),a.Eb(1),a.sc("ngIf",!e.manualAddress&&!e.emptyAddress()))},directives:[k.t,E.c,x.b,E.j,O.d,O.e,k.s,w.a,E.i,M.b,f.c,N.d,f.o,f.t,f.i,N.a,O.b,U.o,C.c,St.a,E.g,f.w,f.E,Rt.a],pipes:[k.b,p.d,u.a],styles:[".smallInput[_ngcontent-%COMP%]{width:230px!important;font-size:11px}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{width:30px;height:25px;color:#135f7f}.smallInput[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;line-height:normal;align-items:center}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.address-icon[_ngcontent-%COMP%]{top:0}.address-icon[_ngcontent-%COMP%], .map-icon[_ngcontent-%COMP%]{cursor:pointer;z-index:2;position:absolute;right:0;font-size:14px}.map-icon[_ngcontent-%COMP%]{bottom:0}"]}),Qt),Gt=n("y9tK"),qt=["appDiffusionsList"],Xt=["appIssuingSiteInput"],$t=["appRegisteredMailRecipientInput"];function Jt(t,e){1&t&&(a.Zb(0,"div",2),a.Ub(1,"mat-spinner",3),a.Yb())}function Kt(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",6),a.Zb(1,"button",7),a.hc("click",(function(){return a.Hc(n),a.lc(2).toggleMailTracking()})),a.Sc(2),a.Ub(3,"mat-icon",8),a.Yb(),a.Yb()}if(2&t){var i=a.lc(2);a.Eb(1),a.sc("title",i.translate.instant(i.arrFormControl["mail\xadtracking"].value?"lang.untrackThisMail":"lang.trackThisMail")),a.Eb(1),a.Uc(" ",i.translate.instant(i.arrFormControl["mail\xadtracking"].value?"lang.untrackThisMail":"lang.trackThisMail")," "),a.Eb(1),a.Hb("",i.arrFormControl["mail\xadtracking"].value?"fas":"far"," fa-star")}}function te(t,e){if(1&t&&(a.Zb(0,"small",16),a.Sc(1),a.mc(2,"titlecase"),a.mc(3,"translate"),a.Yb()),2&t){var n=a.lc(4);a.sc("title",n.translate.instant("lang.category_id")),a.Eb(1),a.Tc(a.nc(2,2,a.nc(3,4,"lang.indexing_"+n.currentCategory)))}}function ee(t,e){if(1&t&&a.Ub(0,"i",30),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.move"))}}function ne(t,e){if(1&t&&(a.Zb(0,"button",31),a.Ub(1,"mat-icon",32),a.Yb()),2&t){a.lc();var n=a.Dc(5);a.sc("matMenuTriggerFor",n)}}function ie(t,e){1&t&&(a.Zb(0,"span"),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Tc(a.nc(2,1,"lang.mandatoryField")))}function ae(t,e){1&t&&(a.Zb(0,"span"),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Tc(a.nc(2,1,"lang.optionalField")))}function re(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",33),a.hc("click",(function(){a.Hc(n);var t=a.lc(3).$implicit;return t.mandatory=!t.mandatory})),a.Qc(1,ie,3,3,"span",1),a.Qc(2,ae,3,3,"span",1),a.Yb()}if(2&t){var i=a.lc(3).$implicit;a.Eb(1),a.sc("ngIf",!i.mandatory),a.Eb(1),a.sc("ngIf",i.mandatory)}}function oe(t,e){1&t&&a.Ub(0,"mat-divider")}function se(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",33),a.hc("click",(function(){a.Hc(n);var t=a.lc(3).$implicit;return a.lc(4).enableField(t,!0)})),a.Zb(1,"span"),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(2),a.Tc(a.nc(3,1,"lang.enableField")))}function ce(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",33),a.hc("click",(function(){a.Hc(n);var t=a.lc(3).$implicit;return a.lc(4).enableField(t,!1)})),a.Zb(1,"span"),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(2),a.Tc(a.nc(3,1,"lang.disableField")))}function le(t,e){1&t&&a.Ub(0,"mat-divider")}function ue(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",33),a.hc("click",(function(){a.Hc(n);var t=a.lc(3),e=t.$implicit,i=t.index,r=a.lc(2).$implicit;return a.lc(2).removeItem("indexingModels_"+r,e,i)})),a.Ub(1,"mat-icon",34),a.Zb(2,"span"),a.Sc(3),a.mc(4,"translate"),a.Yb(),a.Yb()}2&t&&(a.Eb(3),a.Tc(a.nc(4,1,"lang.delete")))}function de(t,e){if(1&t&&(a.Zb(0,"div",25),a.Qc(1,ee,1,1,"i",26),a.Sc(2),a.Qc(3,ne,2,1,"button",27),a.Zb(4,"mat-menu",null,28),a.Qc(6,re,3,2,"button",29),a.Qc(7,oe,1,0,"mat-divider",1),a.Qc(8,se,4,3,"button",29),a.Qc(9,ce,4,3,"button",29),a.Qc(10,le,1,0,"mat-divider",1),a.Qc(11,ue,5,3,"button",29),a.Yb(),a.Yb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("ngIf",i.adminMode),a.Eb(1),a.Uc("\xa0 ",n.label," "),a.Eb(1),a.sc("ngIf",i.adminMode),a.Eb(1),a.Gb("parametersFieldsMenu"),a.Eb(2),a.sc("ngIf",!n.system),a.Eb(1),a.sc("ngIf",!n.system),a.Eb(1),a.sc("ngIf",!n.enabled),a.Eb(1),a.sc("ngIf",n.enabled),a.Eb(1),a.sc("ngIf",!n.system),a.Eb(1),a.sc("ngIf",!n.system&&-1===n.identifier.indexOf("registeredMail_")&&("registeredMail"==i.currentCategory&&"departureDate"!=n.identifier||"registeredMail"!=i.currentCategory))}}function fe(t,e){if(1&t&&(a.Zb(0,"button",38),a.Ub(1,"mat-icon",39),a.Yb()),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.bddModeCustomFieldMsg"))}}function he(t,e){if(1&t&&(a.Zb(0,"mat-label"),a.Sc(1),a.Yb()),2&t){var n=a.lc(3).$implicit;a.Eb(1),a.Tc(n.label)}}function pe(t,e){if(1&t&&(a.Xb(0),a.Qc(1,fe,2,1,"button",35),a.Zb(2,"mat-form-field",36),a.Qc(3,he,2,1,"mat-label",1),a.Ub(4,"textarea",37),a.Yb(),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("ngIf",n.SQLMode&&i.adminMode),a.Eb(1),a.sc("floatLabel",i.appService.getViewMode()?"":"never"),a.Eb(1),a.sc("ngIf",i.appService.getViewMode()),a.Eb(1),a.sc("id",n.identifier)("formControl",i.arrFormControl[n.identifier])("placeholder",i.translate.instant(i.adminMode?"lang.defaultValue":"lang.typeValue"))}}function me(t,e){if(1&t&&(a.Zb(0,"button",38),a.Ub(1,"mat-icon",39),a.Yb()),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.bddModeCustomFieldMsg"))}}function ge(t,e){if(1&t&&(a.Zb(0,"mat-label"),a.Sc(1),a.Yb()),2&t){var n=a.lc(3).$implicit;a.Eb(1),a.Tc(n.label)}}function be(t,e){if(1&t&&(a.Xb(0),a.Qc(1,me,2,1,"button",35),a.Zb(2,"mat-form-field",36),a.Qc(3,ge,2,1,"mat-label",1),a.Ub(4,"input",40),a.Yb(),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("ngIf",n.SQLMode&&i.adminMode),a.Eb(1),a.sc("floatLabel",i.appService.getViewMode()?"":"never"),a.Eb(1),a.sc("ngIf",i.appService.getViewMode()),a.Eb(1),a.sc("id",n.identifier)("formControl",i.arrFormControl[n.identifier])("placeholder",i.translate.instant(i.adminMode?"lang.defaultValue":"lang.typeValue"))}}function ve(t,e){if(1&t&&(a.Zb(0,"button",38),a.Ub(1,"mat-icon",39),a.Yb()),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.bddModeCustomFieldMsg"))}}function ye(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Qc(1,ve,2,1,"button",35),a.Zb(2,"plugin-select-search",41),a.hc("afterSelected",(function(t){a.Hc(n);var e=a.lc(2).$implicit;return a.lc(4).launchEvent(t,e)})),a.Yb(),a.Wb()}if(2&t){var i=a.lc(2).$implicit,r=a.lc(4);a.Eb(1),a.sc("ngIf",i.SQLMode&&r.adminMode),a.Eb(1),a.sc("id",i.identifier)("showResetOption",r.adminMode||!i.mandatory)("label",i.label)("placeholderLabel",r.translate.instant(r.adminMode?"lang.defaultValue":"lang.chooseValue"))("formControlSelect",r.arrFormControl[i.identifier])("datas",i.values)}}function _e(t,e){if(1&t&&(a.Zb(0,"button",38),a.Ub(1,"mat-icon",39),a.Yb()),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.bddModeCustomFieldMsg"))}}function ke(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",49),a.hc("click",(function(t){a.Hc(n);var e=a.lc(3).$implicit,i=a.lc(4);return t.stopPropagation(),i.toggleTodayDate(e)})),a.Ub(1,"mat-icon",50),a.Yb()}if(2&t){var i=a.lc(3).$implicit,r=a.lc(4);a.sc("matTooltip",r.translate.instant("lang.todayDate")),a.Eb(1),a.Gb(i.today?"far fa-bell-slash":"far fa-bell")}}function Ce(t,e){if(1&t&&(a.Zb(0,"mat-label"),a.Sc(1),a.Yb()),2&t){var n=a.lc(3).$implicit;a.Eb(1),a.Tc(n.label)}}function xe(t,e){if(1&t&&a.Ub(0,"mat-datepicker-toggle",51),2&t){a.lc();var n=a.Dc(8);a.sc("for",n)}}function we(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",52),a.hc("click",(function(t){a.Hc(n);var e=a.lc(3).$implicit,i=a.lc(4);return t.stopPropagation(),i.arrFormControl[e.identifier].reset()})),a.Ub(1,"mat-icon",53),a.Yb()}if(2&t){var i=a.lc(7);a.sc("title",i.translate.instant("lang.eraseValue"))}}function Oe(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Qc(1,_e,2,1,"button",35),a.Qc(2,ke,2,4,"button",42),a.Zb(3,"mat-form-field",43),a.hc("click",(function(){return a.Hc(n),a.Dc(8).open()})),a.Qc(4,Ce,2,1,"mat-label",1),a.Zb(5,"input",44),a.hc("dateChange",(function(t){a.Hc(n);var e=a.lc(2).$implicit;return a.lc(4).launchEvent(t,e)})),a.Yb(),a.Qc(6,xe,1,1,"mat-datepicker-toggle",45),a.Ub(7,"mat-datepicker",46,47),a.Qc(9,we,2,1,"button",48),a.Yb(),a.Wb()}if(2&t){var i=a.Dc(8),r=a.lc(2).$implicit,o=a.lc(4);a.Eb(1),a.sc("ngIf",r.SQLMode&&o.adminMode),a.Eb(1),a.sc("ngIf",o.adminMode&&!r.SQLMode),a.Eb(1),a.sc("floatLabel",o.appService.getViewMode()?"":"never"),a.Eb(1),a.sc("ngIf",o.appService.getViewMode()),a.Eb(1),a.sc("id",r.identifier)("formControl",o.arrFormControl[r.identifier])("matDatepicker",i)("placeholder",o.translate.instant(o.adminMode?"lang.defaultValue":"lang.chooseDate"))("min",o.getMinDate(r.startDate))("max",o.getMaxDate(r.endDate)),a.Eb(1),a.sc("ngIf",!o.arrFormControl[r.identifier].value),a.Eb(1),a.sc("touchUi",o.appService.getViewMode()),a.Eb(2),a.sc("ngIf",o.arrFormControl[r.identifier].value&&!o.arrFormControl[r.identifier].disabled)}}function Se(t,e){if(1&t&&(a.Zb(0,"button",38),a.Ub(1,"mat-icon",39),a.Yb()),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.bddModeCustomFieldMsg"))}}function Ee(t,e){if(1&t&&(a.Zb(0,"mat-label"),a.Sc(1),a.Yb()),2&t){var n=a.lc(3).$implicit;a.Eb(1),a.Tc(n.label)}}function Me(t,e){if(1&t&&(a.Zb(0,"mat-radio-button",58),a.Sc(1),a.Yb()),2&t){var n=e.$implicit;a.sc("value",n.id)("disabled",n.disabled),a.Eb(1),a.Uc(" ",n.label," ")}}function Ie(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Se,2,1,"button",35),a.Zb(2,"mat-form-field",54),a.Qc(3,Ee,2,1,"mat-label",1),a.Ub(4,"input",55),a.Zb(5,"mat-radio-group",56),a.Qc(6,Me,2,3,"mat-radio-button",57),a.Yb(),a.Yb(),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("ngIf",n.SQLMode&&i.adminMode),a.Eb(1),a.sc("floatLabel",i.appService.getViewMode()?"":"never"),a.Eb(1),a.sc("ngIf",i.appService.getViewMode()),a.Eb(2),a.sc("formControl",i.arrFormControl[n.identifier]),a.Eb(1),a.sc("ngForOf",n.values)}}function Pe(t,e){if(1&t&&(a.Zb(0,"button",38),a.Ub(1,"mat-icon",39),a.Yb()),2&t){var n=a.lc(7);a.sc("title",n.translate.instant("lang.bddModeCustomFieldMsg"))}}function Te(t,e){if(1&t&&(a.Zb(0,"mat-list-option",65),a.Sc(1),a.Yb()),2&t){var n=e.$implicit;a.sc("value",n.id),a.Eb(1),a.Uc(" ",n.label," ")}}function Ae(t,e){if(1&t&&(a.Zb(0,"mat-chip",66),a.Sc(1),a.Yb()),2&t){var n=e.$implicit,i=a.lc(3).$implicit,r=a.lc(4);a.Eb(1),a.Uc(" ",r.getCheckboxListLabel(n.value,i.values)," ")}}function De(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Pe,2,1,"button",35),a.Zb(2,"div",59),a.Zb(3,"mat-selection-list",60,61),a.Qc(5,Te,2,2,"mat-list-option",62),a.Yb(),a.Yb(),a.Zb(6,"mat-chip-list",63),a.Qc(7,Ae,2,1,"mat-chip",64),a.Yb(),a.Wb()),2&t){var n=a.Dc(4),i=a.lc(2).$implicit,r=a.lc(4);a.Eb(1),a.sc("ngIf",i.SQLMode&&r.adminMode),a.Eb(2),a.sc("formControl",r.arrFormControl[i.identifier]),a.Eb(2),a.sc("ngForOf",i.values),a.Eb(1),a.sc("disabled",i.system&&r.adminMode),a.Eb(1),a.sc("ngForOf",n.selectedOptions.selected)}}function Re(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"app-contact-autocomplete",67),a.hc("retrieveDocumentEvent",(function(){return a.Hc(n),a.lc(6).retrieveDocumentEvent.emit()})),a.Yb(),a.Wb()}if(2&t){var i=a.lc(2).$implicit,r=a.lc(4);a.Eb(1),a.sc("id",i.identifier)("control",r.arrFormControl[i.identifier])}}function Le(t,e){if(1&t&&(a.Xb(0),a.Ub(1,"app-folder-input",68),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("control",i.arrFormControl[n.identifier])}}function Fe(t,e){if(1&t&&(a.Xb(0),a.Ub(1,"app-tag-input",68),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("control",i.arrFormControl[n.identifier])}}function je(t,e){if(1&t&&(a.Xb(0),a.Ub(1,"app-address-ban-input",69),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("control",i.arrFormControl[n.identifier])("admin",i.adminMode)}}function Ye(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"app-issuing-site-input",70,71),a.hc("afterSelected",(function(t){a.Hc(n);var e=a.lc(2).$implicit;return a.lc(4).launchEvent(t,e)})),a.Yb(),a.Wb()}if(2&t){var i=a.lc(2).$implicit,r=a.lc(4);a.Eb(1),a.sc("registedMailType",r.arrFormControl.registeredMail_type.value)("control",r.arrFormControl[i.identifier])}}function Ze(t,e){if(1&t&&(a.Xb(0),a.Ub(1,"app-registered-mail-recipient-input",72,73),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(4);a.Eb(1),a.sc("control",i.arrFormControl[n.identifier])("registeredMailType",i.arrFormControl.registeredMail_type.value)}}function Ne(t,e){if(1&t&&a.Ub(0,"i",74),2&t){var n=a.lc(2).$implicit;a.Jb("noMandatory",!n.mandatory)}}function Ue(t,e){1&t&&a.Ub(0,"i",75)}function Be(t,e){1&t&&a.Ub(0,"i",76)}var ze=function(){return["senders","recipients"]};function Ve(t,e){if(1&t&&(a.Zb(0,"div",18),a.Qc(1,de,12,11,"div",19),a.Zb(2,"div",20),a.Qc(3,pe,5,6,"ng-container",1),a.Qc(4,be,5,6,"ng-container",1),a.Qc(5,ye,3,7,"ng-container",1),a.Qc(6,Oe,10,13,"ng-container",1),a.Qc(7,Ie,7,5,"ng-container",1),a.Qc(8,De,8,5,"ng-container",1),a.Qc(9,Re,2,2,"ng-container",1),a.Qc(10,Le,2,1,"ng-container",1),a.Qc(11,Fe,2,1,"ng-container",1),a.Qc(12,je,2,2,"ng-container",1),a.Qc(13,Ye,3,2,"ng-container",1),a.Qc(14,Ze,3,2,"ng-container",1),a.Yb(),a.Zb(15,"div",21),a.Qc(16,Ne,1,2,"i",22),a.Qc(17,Ue,1,0,"i",23),a.Qc(18,Be,1,0,"i",24),a.Yb(),a.Yb()),2&t){var n=a.lc().$implicit,i=a.lc(4);a.sc("cdkDragData",n),a.Eb(1),a.sc("ngIf",!i.adminMode&&!i.appService.getViewMode()||i.adminMode),a.Eb(1),a.Jb("textareaInput","string"===n.type)("checkboxInput","checkbox"===n.type),a.Eb(1),a.sc("ngIf","string"===n.type),a.Eb(1),a.sc("ngIf","integer"===n.type),a.Eb(1),a.sc("ngIf","select"===n.type),a.Eb(1),a.sc("ngIf","date"===n.type),a.Eb(1),a.sc("ngIf","radio"===n.type),a.Eb(1),a.sc("ngIf","checkbox"===n.type),a.Eb(1),a.sc("ngIf",a.yc(21,ze).indexOf(n.identifier)>-1),a.Eb(1),a.sc("ngIf","folders"===n.identifier),a.Eb(1),a.sc("ngIf","tags"===n.identifier),a.Eb(1),a.sc("ngIf","banAutocomplete"===n.type),a.Eb(1),a.sc("ngIf","registeredMail_issuingSite"===n.identifier),a.Eb(1),a.sc("ngIf","registeredMail_recipient"===n.identifier),a.Eb(2),a.sc("ngIf",i.adminMode||i.arrFormControl[n.identifier].hasError("required")&&i.arrFormControl[n.identifier].untouched),a.Eb(1),a.sc("ngIf",!i.adminMode&&i.arrFormControl[n.identifier].touched&&i.arrFormControl[n.identifier].hasError("required")),a.Eb(1),a.sc("ngIf",!i.adminMode&&i.arrFormControl[n.identifier].valid&&!i.isEmptyField(n))}}function He(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",83),a.hc("click",(function(){return a.Hc(n),a.lc(),a.Dc(12).switchMode()})),a.Ub(1,"mat-icon",84),a.Yb()}if(2&t){var i=a.lc(6);a.sc("title",i.translate.instant("lang.modifyDiffusionList"))}}function Qe(t,e){if(1&t&&a.Ub(0,"i",74),2&t){var n=a.lc(2).$implicit;a.Jb("noMandatory",!n.mandatory)}}function We(t,e){1&t&&a.Ub(0,"i",75)}function Ge(t,e){1&t&&a.Ub(0,"i",76)}function qe(t,e){if(1&t){var n=a.ac();a.Zb(0,"div"),a.Ub(1,"mat-divider"),a.Zb(2,"div",77),a.Zb(3,"div",78),a.Sc(4),a.mc(5,"translate"),a.Qc(6,He,2,1,"button",79),a.Yb(),a.Zb(7,"div",80),a.Qc(8,Qe,1,2,"i",22),a.Qc(9,We,1,0,"i",23),a.Qc(10,Ge,1,0,"i",24),a.Yb(),a.Yb(),a.Zb(11,"app-diffusions-list",81,82),a.hc("triggerEvent",(function(t){a.Hc(n);var e=a.lc().$implicit;return a.lc(4).changeDestination(t,e.allowedEntities)})),a.Yb(),a.Ub(13,"mat-divider"),a.Yb()}if(2&t){var i=a.Dc(12),r=a.lc().$implicit,o=a.lc(4);a.Eb(4),a.Uc(" ",a.nc(5,11,"lang.diffusionList")," "),a.Eb(2),a.sc("ngIf",i.canUpdateRoles()&&o.canEdit&&"process"!==o.mode&&r.enabled),a.Eb(2),a.sc("ngIf",o.adminMode||o.arrFormControl.diffusionList.hasError("required")&&o.arrFormControl.diffusionList.untouched),a.Eb(1),a.sc("ngIf",!o.adminMode&&o.arrFormControl.diffusionList.touched&&o.arrFormControl.diffusionList.hasError("required")),a.Eb(1),a.sc("ngIf",!o.adminMode&&o.arrFormControl.diffusionList.valid&&!o.isEmptyField(r)),a.Eb(1),a.sc("resId",o.resId)("entityId",o.arrFormControl[r.identifier].value)("diffFormControl",o.arrFormControl.diffusionList)("allowedEntities",r.allowedEntities)("target","indexation")("selfDest",o.selfDest)}}function Xe(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Ve,19,22,"div",17),a.Qc(2,qe,14,13,"div",1),a.Wb()),2&t){var n=e.$implicit,i=a.lc(2).$implicit,r=a.lc(2);a.Eb(1),a.sc("ngIf",n.unit===i),a.Eb(1),a.sc("ngIf","destination"===n.identifier&&!r.adminMode&&r.arrFormControl.destination.value>0&&!r.hideDiffusionList)}}var $e=function(){return["indexingModelsCustomFieldsList_mail","indexingModelsCustomFieldsList_contact","indexingModelsCustomFieldsList_process","indexingModelsCustomFieldsList_classifying","customFieldsList","fieldsList"]};function Je(t,e){if(1&t){var n=a.ac();a.Zb(0,"div",10),a.Zb(1,"div",11),a.Sc(2),a.mc(3,"uppercase"),a.mc(4,"translate"),a.Qc(5,te,4,6,"small",12),a.Ub(6,"div",13),a.Yb(),a.Zb(7,"div",14),a.Zb(8,"div",15),a.hc("cdkDropListDropped",(function(t){return a.Hc(n),a.lc(3).drop(t)})),a.Qc(9,Xe,3,2,"ng-container",5),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=a.lc().$implicit,r=a.lc(2);a.Pc("border-color",r.currentPriorityColor),a.Eb(1),a.Pc("color",r.currentPriorityColor),a.Eb(1),a.Uc(" ",a.nc(3,11,a.nc(4,13,"lang."+i))," "),a.Eb(3),a.sc("ngIf","mail"===i),a.Eb(3),a.uc("id","indexingModelsCustomFieldsList_",i,""),a.sc("cdkDropListConnectedTo",a.yc(15,$e))("cdkDropListData",r["indexingModels_"+i])("cdkDropListDisabled",!r.adminMode),a.Eb(1),a.sc("ngForOf",r["indexingModels_"+i])}}function Ke(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Je,10,16,"div",9),a.Wb()),2&t){var n=e.$implicit,i=a.lc(2);a.Eb(1),a.sc("ngIf",i["indexingModels_"+n].length>0||i.adminMode)}}function tn(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Kt,4,5,"div",4),a.Qc(2,Ke,2,1,"ng-container",5),a.Wb()),2&t){var n=a.lc();a.Eb(1),a.sc("ngIf",!n.adminMode&&"indexation"==n.mode),a.Eb(1),a.sc("ngForOf",n.fieldCategories)}}var en,nn=((en=function(){function t(e,n,i,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialog=r,this.headerService=o,this.appService=s,this.functions=c,this.loading=!0,this.resId=null,this.canEdit=!0,this.mode="indexation",this.hideDiffusionList=!1,this.retrieveDocumentEvent=new a.o,this.loadingFormEndEvent=new a.o,this.afterSaveEvent=new a.o,this.fieldCategories=["mail","contact","process","classifying"],this.indexingModelsCore=[{identifier:"doctype",label:this.translate.instant("lang.doctype"),unit:"mail",type:"select",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]},{identifier:"subject",label:this.translate.instant("lang.subject"),unit:"mail",type:"string",system:!0,mandatory:!0,enabled:!0,default_value:"",values:[]}],this.indexingModels_mail=[],this.indexingModels_contact=[],this.indexingModels_process=[],this.indexingModels_classement=[],this.indexingModels_mailClone=[],this.indexingModels_contactClone=[],this.indexingModels_processClone=[],this.indexingModels_classementClone=[],this.indexingModelsCustomFields=[],this.availableFields=[{identifier:"recipients",label:this.translate.instant("lang.getRecipients"),type:"autocomplete",default_value:[],values:[],enabled:!0},{identifier:"priority",label:this.translate.instant("lang.priority"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"confidentiality",label:this.translate.instant("lang.confidential"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"initiator",label:this.translate.instant("lang.initiatorEntityAlt"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"departureDate",label:this.translate.instant("lang.departureDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"processLimitDate",label:this.translate.instant("lang.processLimitDate"),type:"date",default_value:null,values:[],enabled:!0},{identifier:"tags",label:this.translate.instant("lang.tags"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/tags","/rest/tags"],enabled:!0},{identifier:"senders",label:this.translate.instant("lang.getSenders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/correspondents"],enabled:!0},{identifier:"destination",label:this.translate.instant("lang.destination"),type:"select",default_value:null,values:[],enabled:!0},{identifier:"folders",label:this.translate.instant("lang.folders"),type:"autocomplete",default_value:[],values:["/rest/autocomplete/folders","/rest/folders"],enabled:!0},{identifier:"documentDate",label:this.translate.instant("lang.docDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"arrivalDate",label:this.translate.instant("lang.arrivalDate"),unit:"mail",type:"date",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_type",label:this.translate.instant("lang.registeredMailType"),type:"select",default_value:null,values:[{id:"2D",label:this.translate.instant("lang.registeredMail_2D")},{id:"2C",label:this.translate.instant("lang.registeredMail_2C")},{id:"RW",label:this.translate.instant("lang.registeredMail_RW")}],enabled:!0},{identifier:"registeredMail_issuingSite",label:this.translate.instant("lang.issuingSite"),type:"issuingSite",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_number",label:this.translate.instant("lang.registeredMailNumber"),type:"string",default_value:null,values:[],enabled:!1},{identifier:"registeredMail_warranty",label:this.translate.instant("lang.warrantyLevel"),type:"radio",default_value:null,values:[{id:"R1",label:"R1"},{id:"R2",label:"R2"},{id:"R3",label:"R3"}],enabled:!0},{identifier:"registeredMail_letter",label:this.translate.instant("lang.letter"),type:"radio",default_value:null,values:[{id:!0,label:this.translate.instant("lang.yes")},{id:!1,label:this.translate.instant("lang.no")}],enabled:!0},{identifier:"registeredMail_recipient",label:this.translate.instant("lang.registeredMailRecipient"),type:"registeredMailRecipient",default_value:null,values:[],enabled:!0},{identifier:"registeredMail_reference",label:this.translate.instant("lang.registeredMailReference"),type:"string",default_value:null,values:[],enabled:!0}],this.availableFieldsClone=[],this.availableCustomFields=[],this.availableCustomFieldsClone=null,this.arrFormControl={},this.currentCategory="",this.currentPriorityColor="",this.currentResourceValues=null,this.selfDest=!1}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.adminMode=void 0!==this.adminMode,this.availableFieldsClone=JSON.parse(JSON.stringify(this.availableFields)),this.fieldCategories.forEach((function(t){e["indexingModels_"+t]=[]})),!(this.indexingFormId<=0||void 0===this.indexingFormId)){t.next=11;break}return t.next=6,this.initFields();case 6:return t.next=8,this.initCustomFields();case 8:this.initElemForm(),t.next=12;break;case 11:this.loadForm(this.indexingFormId);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"initFields",value:function(){var t=this;return new Promise((function(e,n){t.fieldCategories.forEach((function(e){t["indexingModels_"+e]=t.indexingModelsCore.filter((function(t,n,i){return t.unit===e})),t["indexingModels_"+e].forEach((function(e){t.initValidator(e)}))})),e(!0)}))}},{key:"initCustomFields",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/customFields").pipe(Object(r.a)((function(n){t.availableCustomFields=n.customFields.map((function(e){return e.identifier="indexingCustomField_"+e.id,e.system=!1,e.enabled=!0,e.SQLMode=e.SQLMode,e.default_value=["integer","string","date"].indexOf(e.type)>-1&&!t.functions.empty(e.values)?e.values[0].key:"banAutocomplete"===e.type?[]:null,e.values=e.values.length>0?e.values.map((function(t){return{id:t.key,label:t.label}})):e.values,e})),t.availableCustomFieldsClone=JSON.parse(JSON.stringify(t.availableCustomFields)),e(!0)})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}))}},{key:"drop",value:function(t){t.item.data.unit=t.container.id.split("_")[1],t.previousContainer===t.container?Object(d.h)(t.container.data,t.previousIndex,t.currentIndex):(null!==t.item.data.identifier.match(/registeredMail_[.]*/g)&&"fieldsList"===t.previousContainer.id?this.transferRegisteredMailInput(t):this.transferInput(t),["destination","priority"].indexOf(t.item.data.identifier)>-1&&this.initElemForm())}},{key:"transferInput",value:function(t){this.initValidator(t.item.data),Object(d.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}},{key:"onSubmit",value:function(){var t=this,e=[];this.fieldCategories.forEach((function(n){e=e.concat(t["indexingModels_"+n])}))}},{key:"removeItem",value:function(t,e,n){var i=this;this.dialogRef=this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.indexingModelModification"),msg:this.translate.instant("lang.updateIndexingFieldWarning")}}),this.dialogRef.afterClosed().pipe(Object(s.a)((function(t){return"ok"===t})),Object(r.a)((function(){e.mandatory=!1,e.enabled=!0,e.identifier.indexOf("indexingCustomField")>-1?(i.availableCustomFields.push(e),i[t].splice(n,1)):(i.availableFields.push(e),i[t].splice(n,1))})),Object(o.a)((function(t){return i.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"getDatas",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=[];return this.fieldCategories.forEach((function(e){n=n.concat(t["indexingModels_"+e])})),n.forEach((function(i){i.default_value="date"!==i.type||t.functions.empty(t.arrFormControl[i.identifier].value)?""===t.arrFormControl[i.identifier].value?null:t.arrFormControl[i.identifier].value:!0===i.today?t.adminMode?"_TODAY":t.functions.formatDateObjectToDateString(t.arrFormControl[i.identifier].value,!1):t.functions.formatDateObjectToDateString(t.arrFormControl[i.identifier].value,"processLimitDate"===i.identifier),"destination"===i.identifier&&!t.adminMode&&e&&n.push({identifier:"diffusionList",default_value:t.arrFormControl.diffusionList.value})})),this.adminMode||(n.push({identifier:"modelId",default_value:this.indexingFormId}),"indexation"===this.mode&&n.push({identifier:"followed",default_value:this.arrFormControl["mail\xadtracking"].value})),n}},{key:"saveData",value:function(){var t=this;return new Promise((function(e,n){if(t.isValidForm()){var i=t.formatDatas(t.getDatas());return t.http.put("../rest/resources/"+t.resId,i).pipe(Object(r.a)((function(){"registeredMail"===t.currentCategory&&t.http.put("../rest/registeredMails/"+t.resId,{type:i.registeredMail_type,warranty:i.registeredMail_warranty,issuingSiteId:i.registeredMail_issuingSite,letter:i.registeredMail_letter,recipient:i.registeredMail_recipient,reference:i.registeredMail_reference}).pipe(Object(r.a)((function(){t.loadForm(t.indexingFormId),t.afterSaveEvent.emit()})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()})),Object(r.a)((function(){t.currentResourceValues=JSON.parse(JSON.stringify(t.getDatas(!1))),t.notify.success(t.translate.instant("lang.dataUpdated")),e(!0)})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe(),!0}return t.notify.error(t.translate.instant("lang.mustFixErrors")),!1}))}},{key:"formatDatas",value:function(t){var e=this,n={},i=/indexingCustomField_[.]*/g;return n.customFields={},t.forEach((function(t){null!==t.identifier.match(i)?n.customFields[t.identifier.split("_")[1]]=t.default_value:n[t.identifier]="registeredMail_recipient"===t.identifier?e.appRegisteredMailRecipientInput.getFormatedAdress():t.default_value})),n}},{key:"getCategory",value:function(){return this.currentCategory}},{key:"getAvailableFields",value:function(){return this.availableFields}},{key:"getAvailableCustomFields",value:function(){return this.availableCustomFields}},{key:"isModified",value:function(){var t=this,e=!1,n="",i="";return this.fieldCategories.forEach((function(a){n=JSON.stringify(t["indexingModels_"+a]),i=JSON.stringify(t["indexingModels_"+a+"Clone"]),n!==i&&(e=!0)})),e}},{key:"isResourceModified",value:function(){return!this.loading&&JSON.stringify(this.currentResourceValues)!==JSON.stringify(this.getDatas(!1))}},{key:"setModification",value:function(){var t=this;this.fieldCategories.forEach((function(e){t["indexingModels_"+e+"Clone"]=JSON.parse(JSON.stringify(t["indexingModels_"+e]))}))}},{key:"cancelModification",value:function(){var t=this;this.fieldCategories.forEach((function(e){t["indexingModels_"+e]=JSON.parse(JSON.stringify(t["indexingModels_"+e+"Clone"]))}))}},{key:"setDocumentDateField",value:function(t){var e=this;t.startDate="",t.endDate="_TODAY",this.fieldCategories.forEach((function(n){e["indexingModels_"+n].filter((function(t){return"arrivalDate"===t.identifier})).length>0?t.endDate="arrivalDate":e["indexingModels_"+n].filter((function(t){return"departureDate"===t.identifier})).length>0&&(t.endDate="departureDate")}))}},{key:"setDestinationField",value:function(t){var e=this,n=this.adminMode||"indexation"!==this.mode?"../rest/indexingModels/entities":"../rest/indexing/groups/".concat(this.groupId,"/entities");return new Promise((function(i,a){e.http.get(n).pipe(Object(r.a)((function(n){if(e.adminMode){var a="";t.values=[{id:"#myPrimaryEntity",title:e.translate.instant("lang.myPrimaryEntity"),label:'<i class="fa fa-hashtag"></i>&nbsp;'+e.translate.instant("lang.myPrimaryEntity"),disabled:!1}],t.values=t.values.concat(n.entities.map((function(t){a=t.entity_label;for(var e=0;e<t.level;e++)t.entity_label="&nbsp;&nbsp;&nbsp;&nbsp;"+t.entity_label;return{id:t.id,title:a,label:t.entity_label,disabled:!1}})))}else{var r="";if("#myPrimaryEntity"===t.default_value)e.selfDest="outgoing"===e.currentCategory,t.default_value=e.headerService.user.entities[0].id,e.arrFormControl[t.identifier].setValue(t.default_value);else{e.selfDest=!1;var o=n.entities.filter((function(e){return!0===e.enabled&&e.id===t.default_value}));t.default_value=o.length>0?o[0].id:null,e.arrFormControl[t.identifier].setValue(o.length>0?o[0].id:"")}t.values=n.entities.map((function(t){r=t.entity_label;for(var e=0;e<t.level;e++)t.entity_label="&nbsp;&nbsp;&nbsp;&nbsp;"+t.entity_label;return{id:t.id,title:r,label:t.entity_label,disabled:!t.enabled}})),t.event="loadDiffusionList",t.allowedEntities=t.values.filter((function(t){return!1===t.disabled})).map((function(t){return t.id}))}i(!0)}))).subscribe()}))}},{key:"setInitiatorField",value:function(t){t.values=this.headerService.user.entities.map((function(t){return{id:t.id,label:t.entity_label}}))}},{key:"setCategoryField",value:function(t){var e=this;return new Promise((function(n,i){e.http.get("../rest/categories").pipe(Object(r.a)((function(e){t.values=e.categories,n(!0)}))).subscribe()}))}},{key:"setPriorityField",value:function(t){var e=this;return new Promise((function(n,i){e.http.get("../rest/priorities").pipe(Object(r.a)((function(i){t.values=i.priorities,t.event="calcLimitDateByPriority",null!==t.default_value&&e.calcLimitDateByPriority(t,t.default_value),n(!0)}))).subscribe()}))}},{key:"setDoctypeField",value:function(t){var e=this;return new Promise((function(n,i){e.http.get("../rest/doctypes").pipe(Object(r.a)((function(i){var a=[];i.structure.forEach((function(t){void 0===t.doctypes_second_level_id&&(a.push({id:t.doctypes_first_level_id,label:t.doctypes_first_level_label,title:t.doctypes_first_level_label,disabled:!0,isTitle:!0,color:t.css_style}),i.structure.filter((function(e){return e.doctypes_first_level_id===t.doctypes_first_level_id&&void 0!==e.doctypes_second_level_id&&void 0===e.description})).forEach((function(t){a.push({id:t.doctypes_second_level_id,label:"&nbsp;&nbsp;&nbsp;&nbsp;"+t.doctypes_second_level_label,title:t.doctypes_second_level_label,disabled:!0,isTitle:!0,color:t.css_style}),a=a.concat(i.structure.filter((function(e){return e.doctypes_second_level_id===t.doctypes_second_level_id&&void 0!==e.description})).map((function(t){return{id:t.type_id,label:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+t.description,title:t.description,disabled:!1,isTitle:!1}})))})))})),t.values=a,t.event="calcLimitDate",e.functions.empty(t.default_value)||e.adminMode||e.calcLimitDate(t,t.default_value),n(!0)}))).subscribe()}))}},{key:"initElemForm",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.adminMode||this.arrFormControl["mail\xadtracking"].setValue(!1),this.currentPriorityColor="",e.next=5,Promise.all(this.fieldCategories.map((function(t){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this["indexingModels_"+t].map((function(t){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("documentDate"!==t.identifier){e.next=4;break}this.setDocumentDateField(t),e.next=45;break;case 4:if("destination"!==t.identifier){e.next=9;break}return e.next=7,this.setDestinationField(t);case 7:e.next=45;break;case 9:if("arrivalDate"!==t.identifier){e.next=13;break}t.startDate="documentDate",t.endDate="_TODAY",e.next=45;break;case 13:if("initiator"===t.identifier&&!this.adminMode){e.next=44;break}if("processLimitDate"!==t.identifier){e.next=18;break}t.startDate="_TODAY",t.endDate="",t.event="setPriorityColorByLimitDate",e.next=42;break;case 18:if("departureDate"!==t.identifier){e.next=22;break}t.startDate="documentDate",t.endDate="",e.next=42;break;case 22:if("folders"!==t.identifier){e.next=26;break}t.values=null,e.next=42;break;case 26:if("category_id"!==t.identifier){e.next=31;break}return e.next=29,this.setCategoryField(t);case 29:e.next=42;break;case 31:if("priority"!==t.identifier){e.next=36;break}return e.next=34,this.setPriorityField(t);case 34:e.next=42;break;case 36:if("doctype"!==t.identifier){e.next=41;break}return e.next=39,this.setDoctypeField(t);case 39:e.next=42;break;case 41:"registeredMail_type"===t.identifier&&(t.event="getIssuingSites");case 42:e.next=45;break;case 44:this.setInitiatorField(t);case 45:case"end":return e.stop()}}),e,this)})))})));case 2:case"end":return e.stop()}}),e,this)})))})));case 5:if(e.t0=null!==this.resId,!e.t0){e.next=9;break}return e.next=9,this.setResource(t);case 9:this.loading=!1;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"setResource",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(n,a){t.http.get("../rest/resources/"+t.resId).pipe(Object(r.a)((function(a){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.fieldCategories.map((function(t){return Object(i.a)(r,void 0,void 0,regeneratorRuntime.mark((function n(){var r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(this["indexingModels_"+t].map((function(t){return Object(i.a)(r,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=Object.keys(a.customFields).filter((function(e){return e===t.identifier.split("indexingCustomField_")[1]}))[0],!(Object.keys(a).indexOf(t.identifier)>-1||void 0!==i)){n.next=25;break}if(r="",r=void 0!==i?a.customFields[i]:a[t.identifier],"registeredMail_type"===t.identifier&&this.getIssuingSites(null,r,!1),"priority"!==t.identifier){n.next=9;break}this.setPriorityColor(null,r),n.next=21;break;case 9:if("processLimitDate"===t.identifier&&!this.functions.empty(r)){n.next=20;break}if("destination"!==t.identifier){n.next=14;break}"process"===this.mode&&this.arrFormControl[t.identifier].disable(),this.arrFormControl.diffusionList.disable(),n.next=18;break;case 14:if(n.t0="initiator"!==t.identifier||0!==t.values.filter((function(t){return t.id===r})).length||this.functions.empty(r),n.t0){n.next=18;break}return n.next=18,this.getCurrentInitiator(t,r);case 18:n.next=21;break;case 20:t.startDate="";case 21:"date"!==t.type||this.functions.empty(r)||(r=new Date(r)),this.functions.empty(r)||this.arrFormControl[t.identifier].setValue(r),n.next=26;break;case 25:e||"destination"!==t.identifier||(this.arrFormControl[t.identifier].disable(),this.arrFormControl[t.identifier].setValidators([]),this.arrFormControl.diffusionList.disable());case 26:this.canEdit||this.arrFormControl[t.identifier].disable();case 27:case"end":return n.stop()}}),n,this)})))})));case 2:case"end":return n.stop()}}),n,this)})))})));case 2:this.arrFormControl["mail\xadtracking"].setValue(a.followed),e&&(this.currentResourceValues=JSON.parse(JSON.stringify(this.getDatas(!1)))),n(!0);case 5:case"end":return t.stop()}}),t,this)})))})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}))}},{key:"getCurrentInitiator",value:function(t,e){var n=this;return new Promise((function(i,a){n.http.get("../rest/entities/"+e).pipe(Object(r.a)((function(e){t.values.unshift({id:e.id,label:e.entity_label}),i(!0)}))).subscribe()}))}},{key:"createForm",value:function(){this.indexingFormGroup=new f.k(this.arrFormControl),this.loadingFormEndEvent.emit()}},{key:"resetForm",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(this.arrFormControl).forEach((function(t){delete e.arrFormControl[t]})),this.availableFields=JSON.parse(JSON.stringify(this.availableFieldsClone)),this.fieldCategories.forEach((function(t){e["indexingModels_"+t]=[]})),null!==this.availableCustomFieldsClone){t.next=8;break}return t.next=6,this.initCustomFields();case 6:t.next=9;break;case 8:this.availableCustomFields=JSON.parse(JSON.stringify(this.availableCustomFieldsClone));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"loadForm",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loading=!0,this.indexingFormId=t,n.next=4,this.resetForm();case 4:this.adminMode||(this.arrFormControl["mail\xadtracking"]=new f.h({value:"",disabled:!!this.adminMode})),this.http.get("../rest/indexingModels/"+t).pipe(Object(r.a)((function(t){return Object(i.a)(a,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.indexingFormId=null!==t.indexingModel.master?t.indexingModel.master:t.indexingModel.id,this.currentCategory=t.indexingModel.category,0===t.indexingModel.fields.length?(this.initFields(),this.notify.error(this.translate.instant("lang.noFieldInModelMsg"))):t.indexingModel.fields.forEach((function(t){i=!1,t.system=!1,t.values=[];var e=a.availableFields.map((function(t){return t.identifier})).indexOf(t.identifier);e>-1&&(t.label=a.availableFields[e].label,t.default_value=a.functions.empty(t.default_value)?a.availableFields[e].default_value:t.default_value,t.values=a.availableFields[e].values,t.type=a.availableFields[e].type,a.availableFields.splice(e,1),i=!0),(e=a.availableCustomFields.map((function(t){return t.identifier})).indexOf(t.identifier))>-1&&(t.label=a.availableCustomFields[e].label,t.default_value=a.functions.empty(t.default_value)?a.availableCustomFields[e].default_value:t.default_value,t.values=a.availableCustomFields[e].values,t.type=a.availableCustomFields[e].type,t.SQLMode=a.availableCustomFields[e].SQLMode,a.availableCustomFields.splice(e,1),i=!0),(e=a.indexingModelsCore.map((function(t){return t.identifier})).indexOf(t.identifier))>-1&&(t.label=a.indexingModelsCore[e].label,t.default_value=a.functions.empty(t.default_value)?a.indexingModelsCore[e].default_value:t.default_value,t.values=a.indexingModelsCore[e].values,t.type=a.indexingModelsCore[e].type,i=!0,t.system=!0),"date"===t.type&&"_TODAY"===t.default_value&&(t.today=!0,t.default_value=new Date),"initiator"===t.identifier&&"indexation"===a.mode&&a.functions.empty(t.default_value)&&a.headerService.user.entities[0]&&(t.default_value=a.headerService.user.entities.filter((function(t){return"Y"===t.primary_entity}))[0].id),i?(a["indexingModels_"+t.unit].push(t),a.initValidator(t)):a.notify.error(a.translate.instant("lang.fieldNotExist")+": "+t.identifier)})),n.next=5,this.initElemForm(e);case 5:this.createForm();case 6:case"end":return n.stop()}}),n,this)})))})),Object(o.a)((function(t){return a.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"enableField",value:function(t,e){if(e)this.isAlwaysDisabledField(t)||this.arrFormControl[t.identifier].enable(),t.enabled=!0;else{if(this.functions.empty(this.arrFormControl[t.identifier].value)&&t.mandatory)return alert(this.translate.instant("lang.canNotDisabledField")),!1;this.arrFormControl[t.identifier].disable(),t.enabled=!1}}},{key:"isAlwaysDisabledField",value:function(t){return!(!this.adminMode||!(["integer","string","date"].indexOf(t.type)>-1&&!this.functions.empty(t.values)||t.today))}},{key:"initValidator",value:function(t){var e=[],n=!t.enabled||this.isAlwaysDisabledField(t);if(n||(t.enabled=!0),this.arrFormControl[t.identifier]=new f.h({value:t.default_value,disabled:n}),"integer"===t.type?e.push(this.regexValidator(new RegExp("[+-]?([0-9]*[.])?[0-9]+"),{floatNumber:""})):"date"!==t.type||this.functions.empty(t.default_value)||this.arrFormControl[t.identifier].setValue(new Date(t.default_value)),t.mandatory&&!this.adminMode&&e.push(f.H.required),this.arrFormControl[t.identifier].setValidators(e),"destination"===t.identifier){var i=[];t.mandatory&&i.push(f.H.required),this.arrFormControl.diffusionList=new f.h({value:null,disabled:!1}),this.arrFormControl.diffusionList.setValidators(i),this.arrFormControl.diffusionList.setValue([])}}},{key:"regexValidator",value:function(t,e){return function(n){return n.value?t.test(n.value)?null:e:null}}},{key:"isValidForm",value:function(){var t=this;return this.indexingFormGroup.valid||Object.keys(this.indexingFormGroup.controls).forEach((function(e){null!=t.indexingFormGroup.get(e).errors&&t.indexingFormGroup.controls[e].markAsTouched()})),this.indexingFormGroup.valid}},{key:"isEmptyField",value:function(t){return null===this.arrFormControl[t.identifier].value||(Array.isArray(this.arrFormControl[t.identifier].value)?!(this.arrFormControl[t.identifier].value.length>0):""===String(this.arrFormControl[t.identifier].value))}},{key:"getMinDate",value:function(t){return void 0!==this.arrFormControl[t]?this.arrFormControl[t].value:"_TODAY"===t?new Date:""}},{key:"getMaxDate",value:function(t){return void 0!==this.arrFormControl[t]?this.arrFormControl[t].value:"_TODAY"===t?new Date:""}},{key:"toggleTodayDate",value:function(t){t.today=!t.today,t.today?(this.arrFormControl[t.identifier].disable(),this.arrFormControl[t.identifier].setValue(new Date)):(this.arrFormControl[t.identifier].setValue(""),this.arrFormControl[t.identifier].enable())}},{key:"toggleMailTracking",value:function(){this.arrFormControl["mail\xadtracking"].setValue(!this.arrFormControl["mail\xadtracking"].value)}},{key:"changeCategory",value:function(t){this.currentCategory=t,this.changeRegisteredMailItems(t)}},{key:"changeDestination",value:function(t,e){-1===t.indexOf(this.arrFormControl.destination.value)&&this.arrFormControl.destination.setValue(t[0])}},{key:"launchEvent",value:function(t,e){void 0===e.event||null===t||this.adminMode||this[e.event](e,t)}},{key:"calcLimitDate",value:function(t,e){var n=this,i=null;void 0!==this.arrFormControl.processLimitDate&&this.http.get("../rest/indexing/processLimitDate",{params:{doctype:e}}).pipe(Object(r.a)((function(t){i=new Date(t.processLimitDate),n.arrFormControl.processLimitDate.setValue(i)})),Object(s.a)((function(){return void 0!==n.arrFormControl.priority})),Object(c.a)((function(){return n.http.get("../rest/indexing/priority",{params:{processLimitDate:i.toDateString()}})})),Object(r.a)((function(t){n.arrFormControl.priority.setValue(t.priority),n.setPriorityColor(null,t.priority)})),Object(o.a)((function(t){return n.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"calcLimitDateByPriority",value:function(t,e){var n=this,i=null;void 0!==this.arrFormControl.processLimitDate?this.http.get("../rest/indexing/processLimitDate",{params:{priority:e}}).pipe(Object(r.a)((function(a){i=new Date(a.processLimitDate),n.arrFormControl.processLimitDate.setValue(i),n.setPriorityColor(t,e)})),Object(o.a)((function(t){return n.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe():this.setPriorityColor(t,e)}},{key:"setPriorityColor",value:function(t,e){var n=this;null!==t?this.currentPriorityColor=t.values.filter((function(t){return t.id===e})).map((function(t){return t.color}))[0]:this.fieldCategories.forEach((function(t){n["indexingModels_"+t].filter((function(t){return"priority"===t.identifier})).length>0&&(n.currentPriorityColor=n["indexingModels_"+t].filter((function(t){return"priority"===t.identifier}))[0].values.filter((function(t){return t.id===e})).map((function(t){return t.color}))[0])}))}},{key:"setPriorityColorByLimitDate",value:function(t,e){var n=this,i=new Date(e.value);this.http.get("../rest/indexing/priority",{params:{processLimitDate:i.toDateString()}}).pipe(Object(r.a)((function(t){n.arrFormControl.priority.setValue(t.priority),n.setPriorityColor(null,t.priority)})),Object(o.a)((function(t){return n.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"loadDiffusionList",value:function(t,e){this.functions.empty(this.appDiffusionsList)||this.appDiffusionsList.loadListModel(e)}},{key:"getCheckboxListLabel",value:function(t,e){return e.filter((function(e){return e.id===t}))[0].label}},{key:"getIssuingSites",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.fieldCategories.forEach((function(t){n["indexingModels_"+t].forEach((function(t){"registeredMail_warranty"===t.identifier&&(t.values[2].disabled="RW"===e),"registeredMail_issuingSite"===t.identifier&&i&&n.arrFormControl.registeredMail_issuingSite.setValue("")})),"RW"===e&&"R3"===n.arrFormControl.registeredMail_warranty.value&&n.arrFormControl.registeredMail_warranty.setValue("R1")})),this.functions.empty(this.appIssuingSiteInput)||this.appIssuingSiteInput.getIssuingSites(e)}},{key:"transferRegisteredMailInput",value:function(t){var e=this,n=/registeredMail_[.]*/g;if(this.transferInput(t),"registeredMail_type"!==t.item.data.identifier){var i=t.previousContainer.data.map((function(t,e){return{index:e,identifier:t.identifier}})).filter((function(t){return"registeredMail_type"===t.identifier}))[0];this.initValidator(t.previousContainer.data[i.index]),t.previousContainer.data[i.index].unit=t.container.id.split("_")[1],t.container.data.splice(t.currentIndex,0,t.previousContainer.data[i.index]),t.previousContainer.data.splice(i.index,1)}t.previousContainer.data.forEach((function(i,a){null!==i.identifier.match(n)&&(e.initValidator(i),i.unit=t.container.id.split("_")[1],t.container.data.splice(t.currentIndex,0,i),t.previousContainer.data.splice(a,1))})),this.initElemForm()}},{key:"changeRegisteredMailItems",value:function(t){var e=this;"registeredMail"!==t?this.fieldCategories.forEach((function(t){e.availableFields=e.availableFields.concat(e["indexingModels_"+t].filter((function(t){return t.identifier.indexOf("registeredMail_")>-1}))),e["indexingModels_"+t]=e["indexingModels_"+t].filter((function(t){return-1===t.identifier.indexOf("registeredMail_")}))})):(this.indexingModels_mail=this.indexingModels_mail.concat(this.availableFields.filter((function(t){return t.identifier.indexOf("registeredMail_")>-1||"departureDate"===t.identifier}))),this.indexingModels_mail.forEach((function(t){(t.identifier.indexOf("registeredMail_")>-1||"departureDate"===t.identifier)&&(e.functions.empty(t.unit)&&(t.unit="mail"),e.initValidator(t))})),this.availableFields=this.availableFields.filter((function(t){return-1===t.identifier.indexOf("registeredMail_")&&"departureDate"!==t.identifier})))}}]),t}()).\u0275fac=function(t){return new(t||en)(a.Tb(p.e),a.Tb(m.b),a.Tb(g.a),a.Tb(b.b),a.Tb(v.a),a.Tb(y.a),a.Tb(_.a))},en.\u0275cmp=a.Nb({type:en,selectors:[["app-indexing-form"]],viewQuery:function(t,e){var n;1&t&&(a.ad(qt,!0),a.ad(Xt,!0),a.ad($t,!0)),2&t&&(a.Cc(n=a.ic())&&(e.appDiffusionsList=n.first),a.Cc(n=a.ic())&&(e.appIssuingSiteInput=n.first),a.Cc(n=a.ic())&&(e.appRegisteredMailRecipientInput=n.first))},inputs:{indexingFormId:"indexingFormId",resId:"resId",groupId:"groupId",adminMode:["admin","adminMode"],canEdit:"canEdit",mode:"mode",hideDiffusionList:"hideDiffusionList"},outputs:{retrieveDocumentEvent:"retrieveDocumentEvent",loadingFormEndEvent:"loadingFormEndEvent",afterSaveEvent:"afterSaveEvent"},features:[a.Db([u.a])],decls:2,vars:2,consts:[["style","display:flex;height:100%;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["style","display: flex;align-items: center;justify-content: flex-end;margin-top: 10px;margin-bottom: -20px;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","justify-content","flex-end","margin-top","10px","margin-bottom","-20px"],["mat-button","",1,"categoryLabel",3,"title","click"],["color","primary",2,"font-size","20px"],["class","banner",3,"borderColor",4,"ngIf"],[1,"banner"],[1,"title"],[3,"title",4,"ngIf"],[1,"title-divider"],[1,"content"],["cdkDropList","",1,"indexingModelsCustomFieldsList",2,"min-height","50px",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],[3,"title"],["class","fieldRow","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y",1,"fieldRow",3,"cdkDragData"],["class","fieldLabel",4,"ngIf"],[1,"fieldInput"],[1,"fieldState"],["class","fas fa-asterisk fieldRequired",3,"noMandatory",4,"ngIf"],["class","fas fa-exclamation-triangle fieldError",4,"ngIf"],["class","fas fa-check fieldFull",4,"ngIf"],[1,"fieldLabel"],["class","fas fa-bars fa-2x","color","primary","style","cursor: move","cdkDragHandle","",3,"title",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["fieldActions","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["color","primary","cdkDragHandle","",1,"fas","fa-bars","fa-2x",2,"cursor","move",3,"title"],["mat-icon-button","",3,"matMenuTriggerFor"],["color","secondary",1,"fa","fa-ellipsis-v"],["mat-menu-item","",3,"click"],["color","warn",1,"fa","fa-trash"],["mat-button","","color","primary","matPrefix","","mat-icon-button","","disabled","","style","position: absolute;left: -40px;",3,"title",4,"ngIf"],[1,"input-form",3,"floatLabel"],["matInput","","matTextareaAutosize","",1,"subject",3,"id","formControl","placeholder"],["mat-button","","color","primary","matPrefix","","mat-icon-button","","disabled","",2,"position","absolute","left","-40px",3,"title"],["color","primary",1,"fas","fa-database"],["type","number","matInput","","min","0","step","0.1",3,"id","formControl","placeholder"],[2,"width","100%",3,"id","showResetOption","label","placeholderLabel","formControlSelect","datas","afterSelected"],["mat-button","","color","primary","matPrefix","","mat-icon-button","","style","position: absolute;left: -40px;",3,"matTooltip","click",4,"ngIf"],[1,"input-form","input-date",2,"cursor","pointer",3,"floatLabel","click"],["matInput","","readonly","",2,"cursor","pointer",3,"id","formControl","matDatepicker","placeholder","min","max","dateChange"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["mat-button","","color","primary","matPrefix","","mat-icon-button","",2,"position","absolute","left","-40px",3,"matTooltip","click"],["color","primary"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],[1,"input-form","input-radio",3,"floatLabel"],["matInput","",2,"display","none"],["color","primary",1,"radio-form",3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[1,"input-form","checkbox-form"],[1,"div-list",3,"formControl"],["shoes",""],["color","primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],[1,"checkbox-selected-list",3,"disabled"],["selected","",4,"ngFor","ngForOf"],["color","primary","checkboxPosition","before",3,"value"],["selected",""],[2,"width","100%",3,"id","control","retrieveDocumentEvent"],[2,"width","100%",3,"control"],[2,"width","100%",3,"control","admin"],[2,"width","100%",3,"registedMailType","control","afterSelected"],["appIssuingSiteInput",""],[2,"width","100%",3,"control","registeredMailType"],["appRegisteredMailRecipientInput",""],[1,"fas","fa-asterisk","fieldRequired"],[1,"fas","fa-exclamation-triangle","fieldError"],[1,"fas","fa-check","fieldFull"],[2,"padding","10px","font-size","16px","color","#135F7F","letter-spacing","2px","font-weight","bold","display","flex","align-items","center"],[2,"display","flex","flex","1","align-items","center"],["mat-icon-button","","color","primary",3,"title","click",4,"ngIf"],[1,"fieldState",2,"width","20px","padding","0px"],[3,"resId","entityId","diffFormControl","allowedEntities","target","selfDest","triggerEvent"],["appDiffusionsList",""],["mat-icon-button","","color","primary",3,"title","click"],[1,"fa","fa-edit"]],template:function(t,e){1&t&&(a.Qc(0,Jt,2,0,"div",0),a.Qc(1,tn,3,2,"ng-container",1)),2&t&&(a.sc("ngIf",e.loading),a.Eb(1),a.sc("ngIf",!e.loading))},directives:[k.t,C.c,k.s,x.b,w.a,d.e,d.a,O.e,d.b,O.d,O.b,S.a,E.c,M.b,M.d,f.c,f.t,f.i,E.i,E.g,f.z,I.a,P.f,P.d,T.b,P.h,E.j,A.b,A.a,D.i,R.d,D.f,R.a,L.a,tt,xt,wt.a,At,Wt,Gt.a],pipes:[k.G,p.d,k.F],styles:[".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),en)},f0Cb:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n("8LU1"),a=n("FKr1"),r=n("fXoL"),o=function(){var t=function(){function t(){_classCallCheck(this,t),this._vertical=!1,this._inset=!1}return _createClass(t,[{key:"vertical",get:function(){return this._vertical},set:function(t){this._vertical=Object(i.c)(t)}},{key:"inset",get:function(){return this._inset},set:function(t){this._inset=Object(i.c)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Fb("aria-orientation",e.vertical?"vertical":"horizontal"),r.Jb("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t}(),s=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[a.j],a.j]}),t}()},fBaO:function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var i=n("fXoL"),a=n("3Pt+"),r=n("1G5W"),o=n("IzEk"),s=n("JX91"),c=n("lJxs"),l=n("jtHE"),u=n("XNiG"),d=n("1YbM"),f=n("sYmb"),h=n("aEDk"),p=n("A6w4"),m=n("kmnG"),g=n("ofXK"),b=n("d3UM"),v=n("qFsG"),y=n("bTqV"),_=n("NFeN"),k=n("FKr1"),C=["searchSelectInput"],x=["test"];function w(t,e){if(1&t&&(i.Zb(0,"mat-label"),i.Sc(1),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Tc(n.label)}}function O(t,e){1&t&&i.Ub(0,"input",10)}function S(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",15),i.hc("click",(function(){return i.Hc(n),i.lc(2)._reset(!0)})),i.Ub(1,"mat-icon",16),i.Yb()}}var E=function(t){return{"mat-select-search-inner-multiple":t}};function M(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",11),i.Zb(1,"input",12,13),i.hc("keydown",(function(t){return i.Hc(n),i.lc()._handleKeydown(t)}))("input",(function(t){return i.Hc(n),i.lc().onInputChange(t.target.value)}))("blur",(function(t){return i.Hc(n),i.lc().onBlur(t.target.value)})),i.Yb(),i.Qc(3,S,2,0,"button",14),i.Yb()}if(2&t){var a=i.lc();i.sc("ngClass",i.zc(4,E,a.matSelect.multiple)),i.Eb(1),i.sc("formControl",a.formControlSearch)("placeholder",a.translate.instant("lang.filterBy")),i.Eb(2),i.sc("ngIf",a.formControlSearch.value)}}function I(t,e){1&t&&(i.Zb(0,"div",17),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noResult")," "))}function P(t,e){1&t&&i.Ub(0,"mat-option",18),2&t&&i.sc("value",null)}function T(t,e){if(1&t&&i.Ub(0,"mat-option",19),2&t){var n=e.$implicit,a=i.lc();i.Pc("color",n.color),i.Jb("opt-group",n.isTitle),i.sc("value","id"===a.returnValue?n.id:n)("title",void 0!==n.title?n.title:n.label)("disabled",n.disabled)("innerHTML",n.label,i.Ic)}}function A(t,e){if(1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Uc(" ",n.getErrorMsg(n.formControlSelect.errors),"")}}function D(t,e){if(1&t&&i.Ub(0,"mat-icon",20),2&t){var n=i.lc();i.Pc("color",n.suffixIcon.color),i.sc("title",void 0!==n.suffixIcon.title?n.suffixIcon.title:"")}}var R=function(){var t=function(){function t(e,n,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.latinisePipe=n,this.changeDetectorRef=r,this.renderer=o,this.appService=s,this.sortPipe=c,this.placeholderLabel=this.translate.instant("lang.chooseValue"),this.formControlSelect=new a.h,this.datas=[],this.returnValue="id",this.id="",this.showLabel=!1,this.required=!1,this.hideErrorDesc=!0,this.optGroupTarget=null,this.optGroupList=null,this.suffixIcon=null,this.class="input-form",this.afterSelected=new i.o,this.afterOpened=new i.o,this.filteredDatasMulti=new l.a(1),this.overlayClassSet=!1,this.change=new i.o,this._onDestroy=new u.a,this.formControlSearch=new a.h,this.onChange=function(t){},this.onTouched=function(t){}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;null!==this.optGroupList&&this.initOptGroups();var e="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(e):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,e]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[e]=!0):this.matSelect.panelClass=e,this.matSelect.openedChange.pipe(Object(r.a)(this._onDestroy)).subscribe((function(e){e?t.appService.getViewMode()||t._focus():t.formControlSearch.reset()})),this.matSelect.openedChange.pipe(Object(o.a)(1)).pipe(Object(r.a)(this._onDestroy)).subscribe((function(){t._options=t.matSelect.options,t._options.changes.pipe(Object(r.a)(t._onDestroy)).subscribe((function(){var e=t.matSelect._keyManager;e&&t.matSelect.panelOpen&&setTimeout((function(){e.setFirstItemActive()}))}))})),this.filteredDatas=this.formControlSearch.valueChanges.pipe(Object(s.a)(""),Object(c.a)((function(e){return t._filter(e)})))}},{key:"initOptGroups",value:function(){var t=this;this.datas.unshift({id:0,label:"toto",disabled:!0});var e=[];this.optGroupList=this.sortPipe.transform(this.optGroupList,"label"),this.optGroupList.forEach((function(n){e.push({id:n.id,label:n.label,disabled:!0}),e=e.concat(t.datas.filter((function(e){return e[t.optGroupTarget]===n.id})).map((function(t){return Object.assign(Object.assign({},t),{title:t.label,label:"&nbsp;&nbsp;&nbsp"+t.label})})))})),this.datas=e}},{key:"ngOnDestroy",value:function(){this._onDestroy.next(),this._onDestroy.complete()}},{key:"ngAfterViewInit",value:function(){this.datas.length>5&&this.setOverlayClass()}},{key:"_handleKeydown",value:function(t){32===t.keyCode&&t.stopPropagation()}},{key:"writeValue",value:function(t){t!==this._value&&(this._value=t,this.change.emit(t))}},{key:"onInputChange",value:function(t){t!==this._value&&(this._value=t,this.onChange(t),this.change.emit(t))}},{key:"onBlur",value:function(t){this.writeValue(t),this.onTouched()}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"_focus",value:function(){var t=this.matSelect.panel.nativeElement,e=t.scrollTop;this.datas.length>5&&this.renderer.selectRootElement("#searchSelectInput").focus(),t.scrollTop=e}},{key:"_reset",value:function(t){this.formControlSearch.reset(),this.renderer.selectRootElement("#searchSelectInput").focus()}},{key:"setOverlayClass",value:function(){var t=this;this.overlayClassSet||(this.matSelect.overlayDir.attach.pipe(Object(r.a)(this._onDestroy)).subscribe((function(){void 0!==t.searchSelectInput&&t.searchSelectInput.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("cdk-overlay-pane-select-search")})),this.overlayClassSet=!0)}},{key:"initMultipleHandling",value:function(){var t=this;this.matSelect.valueChange.pipe(Object(r.a)(this._onDestroy)).subscribe((function(e){if(t.matSelect.multiple){var n=!1;if(t._value&&t._value.length&&t.previousSelectedValues&&Array.isArray(t.previousSelectedValues)){e&&Array.isArray(e)||(e=[]);var i=t.matSelect.options.map((function(t){return t.value}));t.previousSelectedValues.forEach((function(t){-1===e.indexOf(t)&&-1===i.indexOf(t)&&(e.push(t),n=!0)}))}n&&t.matSelect._onChange(e),t.previousSelectedValues=e}}))}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.datas.filter((function(t){return e.latinisePipe.transform(t.label.toLowerCase()).includes(n)}))}return this.datas}},{key:"launchEvent",value:function(t){void 0!==this.afterSelected&&this.afterSelected.emit(t.value)}},{key:"getErrorMsg",value:function(t){return void 0!==t.required?this.translate.instant("lang.requiredField"):void 0!==t.pattern||void 0!==t.email?this.translate.instant("lang.badFormat"):"unknow validator"}},{key:"value",get:function(){return this._value}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(f.e),i.Tb(h.c),i.Tb(i.h),i.Tb(i.H),i.Tb(p.a),i.Tb(d.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["plugin-select-search"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(C,!0,i.l),i.Oc(x,!0)),2&t&&(i.Cc(n=i.ic())&&(e.searchSelectInput=n.first),i.Cc(n=i.ic())&&(e.matSelect=n.first))},inputs:{placeholderLabel:"placeholderLabel",formControlSelect:"formControlSelect",datas:"datas",returnValue:"returnValue",label:"label",id:"id",showResetOption:"showResetOption",showLabel:"showLabel",required:"required",hideErrorDesc:"hideErrorDesc",optGroupTarget:"optGroupTarget",optGroupList:"optGroupList",suffixIcon:"suffixIcon",class:"class"},outputs:{afterSelected:"afterSelected",afterOpened:"afterOpened"},features:[i.Db([d.a])],decls:12,vars:17,consts:[[3,"floatLabel"],[4,"ngIf"],[3,"id","formControl","placeholder","required","selectionChange"],["test",""],["matInput","","class","mat-select-search-input mat-select-search-hidden",4,"ngIf"],["class","mat-select-search-inner",3,"ngClass",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],[3,"value",4,"ngIf"],[3,"value","title","disabled","opt-group","color","innerHTML",4,"ngFor","ngForOf"],["style","height: auto;","matSuffix","","class","fas fa-circle selectSuffixIcon",3,"color","title",4,"ngIf"],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner",3,"ngClass"],["matInput","","id","searchSelectInput",1,"mat-select-search-input",3,"formControl","placeholder","keydown","input","blur"],["searchSelectInput",""],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[1,"fa","fa-times"],[1,"mat-select-search-no-entries-found"],[3,"value"],[3,"value","title","disabled","innerHTML"],["matSuffix","",1,"fas","fa-circle","selectSuffixIcon",2,"height","auto",3,"title"]],template:function(t,e){1&t&&(i.Zb(0,"mat-form-field",0),i.Qc(1,w,2,1,"mat-label",1),i.Zb(2,"mat-select",2,3),i.hc("selectionChange",(function(t){return e.launchEvent(t)})),i.Qc(4,O,1,0,"input",4),i.Qc(5,M,4,6,"div",5),i.Qc(6,I,3,3,"div",6),i.Qc(7,P,1,1,"mat-option",7),i.Qc(8,T,1,8,"mat-option",8),i.mc(9,"async"),i.Yb(),i.Qc(10,A,2,1,"mat-error",1),i.Qc(11,D,1,3,"mat-icon",9),i.Yb()),2&t&&(i.Gb(e.class+" search-select"),i.sc("floatLabel",e.appService.getViewMode()||e.showLabel?"":"never"),i.Eb(1),i.sc("ngIf",e.appService.getViewMode()||e.showLabel),i.Eb(1),i.sc("id",e.id)("formControl",e.formControlSelect)("placeholder",e.placeholderLabel)("required",e.required),i.Eb(2),i.sc("ngIf",e.datas.length>5),i.Eb(1),i.sc("ngIf",e.datas.length>5),i.Eb(1),i.sc("ngIf",e.value&&0===(null==e._options?null:e._options.length)&&e.datas.length>5),i.Eb(1),i.sc("ngIf",e.showResetOption),i.Eb(1),i.sc("ngForOf",i.nc(9,15,e.filteredDatas)),i.Eb(2),i.sc("ngIf","VALID"!==e.formControlSelect.status&&e.formControlSelect.touched&&!e.hideErrorDesc),i.Eb(1),i.sc("ngIf",null!==e.suffixIcon))},directives:[m.c,g.t,b.a,a.t,a.i,a.E,g.s,m.g,v.b,g.q,a.c,y.b,_.a,k.o,m.b,m.j],pipes:[g.b,f.d],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:calc(100% + 15px);border-bottom:1px solid #ccc;background:#fff;z-index:100}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:calc(100% + 48px)} .mat-select-search-panel{transform:none!important;max-height:350px!important;max-width:inherit!important}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 36px 16px 16px;box-sizing:border-box}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:0;top:4px} .cdk-overlay-pane-select-search{margin-top:-50px}.mat-error[_ngcontent-%COMP%]{font-weight:700}.mat-error[_ngcontent-%COMP%], .selectSuffixIcon[_ngcontent-%COMP%]{font-size:10px;text-align:right}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Lr})),n.d(e,"b",(function(){return yl})),n.d(e,"c",(function(){return pl})),n.d(e,"d",(function(){return fl})),n.d(e,"e",(function(){return hl})),n.d(e,"f",(function(){return du})),n.d(e,"g",(function(){return tu})),n.d(e,"h",(function(){return vr})),n.d(e,"i",(function(){return Pl})),n.d(e,"j",(function(){return As})),n.d(e,"k",(function(){return Cl})),n.d(e,"l",(function(){return Ds})),n.d(e,"m",(function(){return su})),n.d(e,"n",(function(){return Mn})),n.d(e,"o",(function(){return Nc})),n.d(e,"p",(function(){return q})),n.d(e,"q",(function(){return f})),n.d(e,"r",(function(){return G})),n.d(e,"s",(function(){return Rr})),n.d(e,"t",(function(){return ul})),n.d(e,"u",(function(){return Js})),n.d(e,"v",(function(){return Ks})),n.d(e,"w",(function(){return kl})),n.d(e,"x",(function(){return lt})),n.d(e,"y",(function(){return nu})),n.d(e,"z",(function(){return ct})),n.d(e,"A",(function(){return ql})),n.d(e,"B",(function(){return Rl})),n.d(e,"C",(function(){return h})),n.d(e,"D",(function(){return dl})),n.d(e,"E",(function(){return vl})),n.d(e,"F",(function(){return bl})),n.d(e,"G",(function(){return Bc})),n.d(e,"H",(function(){return js})),n.d(e,"I",(function(){return Ls})),n.d(e,"J",(function(){return Fs})),n.d(e,"K",(function(){return Zs})),n.d(e,"L",(function(){return mi})),n.d(e,"M",(function(){return m})),n.d(e,"N",(function(){return ru})),n.d(e,"O",(function(){return ic})),n.d(e,"P",(function(){return Bl})),n.d(e,"Q",(function(){return Ns})),n.d(e,"R",(function(){return rc})),n.d(e,"S",(function(){return vt})),n.d(e,"T",(function(){return zr})),n.d(e,"U",(function(){return Xl})),n.d(e,"V",(function(){return Qn})),n.d(e,"W",(function(){return A})),n.d(e,"X",(function(){return at})),n.d(e,"Y",(function(){return Hn})),n.d(e,"Z",(function(){return lu})),n.d(e,"ab",(function(){return Vl})),n.d(e,"bb",(function(){return _l})),n.d(e,"cb",(function(){return _r})),n.d(e,"db",(function(){return kc})),n.d(e,"eb",(function(){return hi})),n.d(e,"fb",(function(){return vi})),n.d(e,"gb",(function(){return Xn})),n.d(e,"hb",(function(){return Fn})),n.d(e,"ib",(function(){return Yn})),n.d(e,"jb",(function(){return Bn})),n.d(e,"kb",(function(){return Nn})),n.d(e,"lb",(function(){return Zn})),n.d(e,"mb",(function(){return Un})),n.d(e,"nb",(function(){return bc})),n.d(e,"ob",(function(){return cu})),n.d(e,"pb",(function(){return vc})),n.d(e,"qb",(function(){return yc})),n.d(e,"rb",(function(){return jn})),n.d(e,"sb",(function(){return N})),n.d(e,"tb",(function(){return Vr})),n.d(e,"ub",(function(){return yo})),n.d(e,"vb",(function(){return vo})),n.d(e,"wb",(function(){return Br})),n.d(e,"xb",(function(){return gc})),n.d(e,"yb",(function(){return zt})),n.d(e,"zb",(function(){return I})),n.d(e,"Ab",(function(){return Ln})),n.d(e,"Bb",(function(){return hs})),n.d(e,"Cb",(function(){return ys})),n.d(e,"Db",(function(){return Is})),n.d(e,"Eb",(function(){return Vi})),n.d(e,"Fb",(function(){return $r})),n.d(e,"Gb",(function(){return zo})),n.d(e,"Hb",(function(){return cs})),n.d(e,"Ib",(function(){return ls})),n.d(e,"Jb",(function(){return Bo})),n.d(e,"Kb",(function(){return ko})),n.d(e,"Lb",(function(){return el})),n.d(e,"Mb",(function(){return xi})),n.d(e,"Nb",(function(){return Ct})),n.d(e,"Ob",(function(){return Pt})),n.d(e,"Pb",(function(){return y})),n.d(e,"Qb",(function(){return _})),n.d(e,"Rb",(function(){return Et})),n.d(e,"Sb",(function(){return Tt})),n.d(e,"Tb",(function(){return ro})),n.d(e,"Ub",(function(){return ho})),n.d(e,"Vb",(function(){return go})),n.d(e,"Wb",(function(){return mo})),n.d(e,"Xb",(function(){return po})),n.d(e,"Yb",(function(){return fo})),n.d(e,"Zb",(function(){return uo})),n.d(e,"ac",(function(){return bo})),n.d(e,"bc",(function(){return wn})),n.d(e,"cc",(function(){return us})),n.d(e,"dc",(function(){return it})),n.d(e,"ec",(function(){return oo})),n.d(e,"fc",(function(){return ll})),n.d(e,"gc",(function(){return so})),n.d(e,"hc",(function(){return _o})),n.d(e,"ic",(function(){return al})),n.d(e,"jc",(function(){return Fe})),n.d(e,"kc",(function(){return Le})),n.d(e,"lc",(function(){return Oo})),n.d(e,"mc",(function(){return Rc})),n.d(e,"nc",(function(){return Lc})),n.d(e,"oc",(function(){return Fc})),n.d(e,"pc",(function(){return jc})),n.d(e,"qc",(function(){return Mo})),n.d(e,"rc",(function(){return Eo})),n.d(e,"sc",(function(){return co})),n.d(e,"tc",(function(){return Io})),n.d(e,"uc",(function(){return Po})),n.d(e,"vc",(function(){return To})),n.d(e,"wc",(function(){return Ao})),n.d(e,"xc",(function(){return Do})),n.d(e,"yc",(function(){return Sc})),n.d(e,"zc",(function(){return Ec})),n.d(e,"Ac",(function(){return Mc})),n.d(e,"Bc",(function(){return Ic})),n.d(e,"Cc",(function(){return $c})),n.d(e,"Dc",(function(){return ao})),n.d(e,"Ec",(function(){return rn})),n.d(e,"Fc",(function(){return an})),n.d(e,"Gc",(function(){return nn})),n.d(e,"Hc",(function(){return le})),n.d(e,"Ic",(function(){return yi})),n.d(e,"Jc",(function(){return Ci})),n.d(e,"Kc",(function(){return ki})),n.d(e,"Lc",(function(){return xt})),n.d(e,"Mc",(function(){return Mt})),n.d(e,"Nc",(function(){return nl})),n.d(e,"Oc",(function(){return Jc})),n.d(e,"Pc",(function(){return Uo})),n.d(e,"Qc",(function(){return io})),n.d(e,"Rc",(function(){return cl})),n.d(e,"Sc",(function(){return es})),n.d(e,"Tc",(function(){return ns})),n.d(e,"Uc",(function(){return is})),n.d(e,"Vc",(function(){return as})),n.d(e,"Wc",(function(){return rs})),n.d(e,"Xc",(function(){return os})),n.d(e,"Yc",(function(){return ss})),n.d(e,"Zc",(function(){return ds})),n.d(e,"ad",(function(){return Kc}));var i=n("XNiG"),a=n("quSY"),r=n("HDdC"),o=n("VRyK"),s=n("w1tV");function c(t){return{toString:t}.toString()}function l(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}function u(t,e,n){return c((function(){var i=l(e);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof a)return i.apply(this,e),this;var r=_construct(a,e);return o.annotation=r,o;function o(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(r),t}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}))}function d(t,e,n,i){return c((function(){var a=l(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return a.apply(this,e),this;var o=_construct(r,e);return function(t,n){var a=t.constructor,r=a.hasOwnProperty("__prop__metadata__")?a.__prop__metadata__:Object.defineProperty(a,"__prop__metadata__",{value:{}}).__prop__metadata__;r[n]=r.hasOwnProperty(n)&&r[n]||[],r[n].unshift(o),i&&i.apply(void 0,[t,n].concat(e))}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}))}var f=u("Inject",(function(t){return{token:t}})),h=u("Optional"),p=u("Self"),m=u("SkipSelf"),g=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function b(t){for(var e in t)if(t[e]===b)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function k(t){return C(t,t[w])||C(t,t[E])}function C(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(M))?t[O]:null}var w=b({"\u0275prov":b}),O=b({"\u0275inj":b}),S=b({"\u0275provFallback":b}),E=b({ngInjectableDef:b}),M=b({ngInjectorDef:b});function I(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(I).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function P(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var T=b({__forward_ref__:b});function A(t){return t.__forward_ref__=A,t.toString=function(){return I(this())},t}function D(t){return R(t)?t():t}function R(t){return"function"==typeof t&&t.hasOwnProperty(T)&&t.__forward_ref__===A}var L,F="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,N=F||Z||j||Y,U=b({"\u0275cmp":b}),B=b({"\u0275dir":b}),z=b({"\u0275pipe":b}),V=b({"\u0275mod":b}),H=b({"\u0275loc":b}),Q=b({"\u0275fac":b}),W=b({__NG_ELEMENT_ID__:b}),G=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),q=new G("INJECTOR",-1),X={},$=/\n/gm,J=b({provide:String,useValue:b}),K=void 0;function tt(t){var e=K;return K=t,e}function et(t){var e=L;return L=t,e}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Default;if(void 0===K)throw new Error("inject() must be called from an injection context");return null===K?rt(t,void 0,e):K.get(t,e&g.Optional?null:void 0,e)}function it(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Default;return(L||nt)(D(t),e)}var at=it;function rt(t,e,n){var i=k(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&g.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(I(t),"]"))}function ot(t){for(var e=[],n=0;n<t.length;n++){var i=D(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var a=void 0,r=g.Default,o=0;o<i.length;o++){var s=i[o];s instanceof h||"Optional"===s.ngMetadataName||s===h?r|=g.Optional:s instanceof m||"SkipSelf"===s.ngMetadataName||s===m?r|=g.SkipSelf:s instanceof p||"Self"===s.ngMetadataName||s===p?r|=g.Self:a=s instanceof f||s===f?s.token:s}e.push(it(a,r))}else e.push(it(i))}return e}var st=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;if(e===X){var n=new Error("NullInjectorError: No provider for ".concat(I(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ct=function t(){_classCallCheck(this,t)},lt=function t(){_classCallCheck(this,t)};function ut(t,e){t.forEach((function(t){return Array.isArray(t)?ut(t,e):e(t)}))}function dt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ht(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function pt(t,e,n){var i=gt(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var a=t.length;if(a==e)t.push(n,i);else if(1===a)t.push(i,t[0]),t[0]=n;else{for(a--,t.push(t[a-1],t[a]);a>e;)t[a]=t[a-2],a--;t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function mt(t,e){var n=gt(t,e);if(n>=0)return t[1|n]}function gt(t,e){return function(t,e,n){for(var i=0,a=t.length>>1;a!==i;){var r=i+(a-i>>1),o=t[r<<1];if(e===o)return r<<1;o>e?a=r:i=r+1}return~(a<<1)}(t,e)}var bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),vt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),yt={},_t=[],kt=0;function Ct(t){return c((function(){var e=t.type,n=e.prototype,i={},a={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,o=t.features,s=t.pipes;return a.id+=kt++,a.inputs=It(t.inputs,i),a.outputs=It(t.outputs),o&&o.forEach((function(t){return t(a)})),a.directiveDefs=r?function(){return("function"==typeof r?r():r).map(wt)}:null,a.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Ot)}:null,a}))}function xt(t,e,n){var i=t.\u0275cmp;i.directiveDefs=function(){return e.map(wt)},i.pipeDefs=function(){return n.map(Ot)}}function wt(t){return At(t)||function(t){return t[B]||null}(t)}function Ot(t){return function(t){return t[z]||null}(t)}var St={};function Et(t){var e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c((function(){St[t.id]=t.type})),e}function Mt(t,e){return c((function(){var n=Rt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t}))}function It(t,e){if(null==t)return yt;var n={};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i],r=a;Array.isArray(a)&&(r=a[1],a=a[0]),n[a]=i,e&&(e[a]=r)}return n}var Pt=Ct;function Tt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[U]||null}function Dt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}function Rt(t,e){var n=t[V]||null;if(!n&&!0===e)throw new Error("Type ".concat(I(t)," does not have '\u0275mod' property."));return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function jt(t){return 0!=(8&t.flags)}function Yt(t){return 2==(2&t.flags)}function Zt(t){return 1==(1&t.flags)}function Nt(t){return null!==t.template}function Ut(t){return 0!=(512&t[2])}var Bt=void 0;function zt(t){Bt=t}function Vt(){return void 0!==Bt?Bt:"undefined"!=typeof document?document:void 0}function Ht(t){return!!t.listen}var Qt={createRenderer:function(t,e){return Vt()}};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function Gt(t,e){return Wt(e[t+20])}function qt(t,e){return Wt(e[t.index])}function Xt(t,e){return t.data[e+20]}function $t(t,e){return t[e+20]}function Jt(t,e){var n=e[t];return Lt(n)?n:n[0]}function Kt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null===t||null==e?null:t[e]}function ie(t){t[18]=0}function ae(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var re={lFrame:Me(null),bindingsEnabled:!0,checkNoChangesMode:!1};function oe(){return re.bindingsEnabled}function se(){return re.lFrame.lView}function ce(){return re.lFrame.tView}function le(t){re.lFrame.contextLView=t}function ue(){return re.lFrame.previousOrParentTNode}function de(t,e){re.lFrame.previousOrParentTNode=t,re.lFrame.isParent=e}function fe(){return re.lFrame.isParent}function he(){re.lFrame.isParent=!1}function pe(){return re.checkNoChangesMode}function me(t){re.checkNoChangesMode=t}function ge(){var t=re.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function be(){return re.lFrame.bindingIndex}function ve(){return re.lFrame.bindingIndex++}function ye(t){var e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _e(t,e){var n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,ke(e)}function ke(t){re.lFrame.currentDirectiveIndex=t}function Ce(t){var e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function xe(){return re.lFrame.currentQueryIndex}function we(t){re.lFrame.currentQueryIndex=t}function Oe(t,e){var n=Ee();re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){var n=Ee(),i=t[1];re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function Ee(){var t=re.lFrame,e=null===t?null:t.child;return null===e?Me(t):e}function Me(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){var t=re.lFrame;return re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Pe=Ie;function Te(){var t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ae(){return re.lFrame.selectedIndex}function De(t){re.lFrame.selectedIndex=t}function Re(){var t=re.lFrame;return Xt(t.tView,t.selectedIndex)}function Le(){re.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Fe(){re.lFrame.currentNamespace=null}function je(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var a=t.data[n];a.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,a.afterContentInit),a.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,a.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a.afterContentChecked)),a.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,a.afterViewInit),a.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,a.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a.afterViewChecked)),null!=a.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a.onDestroy)}}function Ye(t,e,n){Ue(t,e,3,n)}function Ze(t,e,n,i){(3&t[2])===n&&Ue(t,e,n,i)}function Ne(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ue(t,e,n,i){for(var a=null!=i?i:-1,r=0,o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(r=e[o],null!=i&&r>=i)break}else e[o]<0&&(t[18]+=65536),(r<a||-1==a)&&(Be(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Be(t,e,n,i){var a=n[i]<0,r=n[i+1],o=t[a?-n[i]:n[i]];a?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,r.call(o)):r.call(o)}var ze=function t(e,n,i){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Ve(t,e,n){for(var i=Ht(t),a=0;a<n.length;){var r=n[a];if("number"==typeof r){if(0!==r)break;a++;var o=n[a++],s=n[a++],c=n[a++];i?t.setAttribute(e,s,c,o):e.setAttributeNS(o,s,c)}else{var l=r,u=n[++a];Qe(l)?i&&t.setProperty(e,l,u):i?t.setAttribute(e,l,u):e.setAttribute(l,u),a++}}return a}function He(t){return 3===t||4===t||6===t}function Qe(t){return 64===t.charCodeAt(0)}function We(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var a=e[i];"number"==typeof a?n=a:0===n||Ge(t,n,a,null,-1===n||2===n?e[++i]:null)}return t}function Ge(t,e,n,i,a){var r=0,o=t.length;if(-1===e)o=-1;else for(;r<t.length;){var s=t[r++];if("number"==typeof s){if(s===e){o=-1;break}if(s>e){o=r-1;break}}}for(;r<t.length;){var c=t[r];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==a&&(t[r+1]=a));if(i===t[r+1])return void(t[r+2]=a)}r++,null!==i&&r++,null!==a&&r++}-1!==o&&(t.splice(o,0,e),r=o+1),t.splice(r++,0,n),null!==i&&t.splice(r++,0,i),null!==a&&t.splice(r++,0,a)}function qe(t){return-1!==t}function Xe(t){return 32767&t}function $e(t){return t>>16}function Je(t,e){for(var n=$e(t),i=e;n>0;)i=i[15],n--;return i}function Ke(t){return"string"==typeof t?t:null==t?"":""+t}function tn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}var en=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N);function nn(t){return{name:"window",target:t.ownerDocument.defaultView}}function an(t){return{name:"document",target:t.ownerDocument}}function rn(t){return{name:"body",target:t.ownerDocument.body}}function on(t){return t instanceof Function?t():t}var sn=!0;function cn(t){var e=sn;return sn=t,e}var ln=0;function un(t,e){var n=fn(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,dn(i.data,t),dn(e,null),dn(i.blueprint,null));var a=hn(t,e),r=t.injectorIndex;if(qe(a))for(var o=Xe(a),s=Je(a,e),c=s[1].data,l=0;l<8;l++)e[r+l]=s[o+l]|c[o+l];return e[r+8]=a,r}function dn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function hn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],i=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function pn(t,e,n){!function(t,e,n){var i="string"!=typeof n?n[W]:n.charCodeAt(0)||0;null==i&&(i=n[W]=ln++);var a=255&i,r=1<<a,o=64&a,s=32&a,c=e.data;128&a?o?s?c[t+7]|=r:c[t+6]|=r:s?c[t+5]|=r:c[t+4]|=r:o?s?c[t+3]|=r:c[t+2]|=r:s?c[t+1]|=r:c[t]|=r}(t,e,n)}function mn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.Default,a=arguments.length>4?arguments[4]:void 0;if(null!==t){var r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[W];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){Oe(e,t);try{var o=r();if(null!=o||i&g.Optional)return o;throw new Error("No provider for ".concat(tn(n),"!"))}finally{Pe()}}else if("number"==typeof r){if(-1===r)return new Cn(t,e);var s=null,c=fn(t,e),l=-1,u=i&g.Host?e[16][6]:null;for((-1===c||i&g.SkipSelf)&&(l=-1===c?hn(t,e):e[c+8],kn(i,!1)?(s=e[1],c=Xe(l),e=Je(l,e)):c=-1);-1!==c;){l=e[c+8];var d=e[1];if(_n(r,c,d.data)){var f=bn(c,e,n,s,i,u);if(f!==gn)return f}kn(i,e[1].data[c+8]===u)&&_n(r,c,e)?(s=d,c=Xe(l),e=Je(l,e)):c=-1}}}if(i&g.Optional&&void 0===a&&(a=null),0==(i&(g.Self|g.Host))){var h=e[9],p=et(void 0);try{return h?h.get(n,a,i&g.Optional):rt(n,a,i&g.Optional)}finally{et(p)}}if(i&g.Optional)return a;throw new Error("NodeInjector: NOT_FOUND [".concat(tn(n),"]"))}var gn={};function bn(t,e,n,i,a,r){var o=e[1],s=o.data[t+8],c=vn(s,o,n,null==i?Yt(s)&&sn:i!=o&&3===s.type,a&g.Host&&r===s);return null!==c?yn(e,o,c,s):gn}function vn(t,e,n,i,a){for(var r=t.providerIndexes,o=e.data,s=65535&r,c=t.directiveStart,l=r>>16,u=a?s+l:t.directiveEnd,d=i?s:s+l;d<u;d++){var f=o[d];if(d<c&&n===f||d>=c&&f.type===n)return d}if(a){var h=o[c];if(h&&Nt(h)&&h.type===n)return c}return null}function yn(t,e,n,i){var a=t[n],r=e.data;if(a instanceof ze){var o=a;if(o.resolving)throw new Error("Circular dep for "+tn(r[n]));var s,c=cn(o.canSeeViewProviders);o.resolving=!0,o.injectImpl&&(s=et(o.injectImpl)),Oe(t,i);try{a=t[n]=o.factory(void 0,r,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.onChanges,a=e.onInit,r=e.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,a),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r))}(n,r[n],e)}finally{o.injectImpl&&et(s),cn(c),o.resolving=!1,Pe()}}return a}function _n(t,e,n){var i=64&t,a=32&t;return!!((128&t?i?a?n[e+7]:n[e+6]:a?n[e+5]:n[e+4]:i?a?n[e+3]:n[e+2]:a?n[e+1]:n[e])&1<<t)}function kn(t,e){return!(t&g.Self||t&g.Host&&e)}var Cn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return mn(this._tNode,this._lView,t,void 0,e)}}]),t}();function xn(t){var e=t;if(R(t))return function(){var t=xn(D(e));return t?t():null};var n=Dt(e);if(null===n){var i=x(e);n=i&&i.factory}return n||null}function wn(t){return c((function(){for(var e=t.prototype.constructor,n=e[Q]||xn(e),i=Object.prototype,a=Object.getPrototypeOf(t.prototype).constructor;a&&a!==i;){var r=a[Q]||xn(a);if(r&&r!==n)return r;a=Object.getPrototypeOf(a)}return function(t){return new t}}))}function On(t){return t.ngDebugContext}function Sn(t){return t.ngOriginalError}function En(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var Mn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||En}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?On(t)?On(t):this._findContext(Sn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Sn(t);e&&Sn(e);)e=Sn(e);return e}}]),t}(),In=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Pn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(In),Tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(In),An=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(In),Dn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(In),Rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(In);function Ln(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){var n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function jn(t){return t instanceof In&&t.getTypeName()||null}function Yn(t){return new Pn(t)}function Zn(t){return new Tn(t)}function Nn(t){return new An(t)}function Un(t){return new Dn(t)}function Bn(t){return new Rn(t)}var zn=!0,Vn=!1;function Hn(){return Vn=!0,zn}function Qn(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");zn=!1}var Wn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var a=t.firstChild;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}]),t}(),Gn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Gn)||t.match(qn)?t:(Hn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function $n(t){var e,n={},i=_createForOfIteratorHelper(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(a){i.e(a)}finally{i.f()}return n}function Jn(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var a=0,r=n;a<r.length;a++){var o=r[a];for(var s in o)o.hasOwnProperty(s)&&(t[s]=!0)}return t}var Kn,ti=$n("area,br,col,hr,img,wbr"),ei=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ni=$n("rp,rt"),ii=Jn(ni,ei),ai=Jn(ti,Jn(ei,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(ni,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ii),ri=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=$n("srcset"),si=Jn(ri,oi,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ci=$n("script,style,template"),li=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ai.hasOwnProperty(e))return this.sanitizedSomething=!0,!ci.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,a=0;a<i.length;a++){var r=i.item(a),o=r.name,s=o.toLowerCase();if(si.hasOwnProperty(s)){var c=r.value;ri[s]&&(c=Xn(c)),oi[s]&&(n=c,c=(n=String(n)).split(",").map((function(t){return Xn(t.trim())})).join(", ")),this.buf.push(" ",o,'="',fi(c),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ai.hasOwnProperty(e)&&!ti.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(fi(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,di=/([^\#-~ |!])/g;function fi(t){return t.replace(/&/g,"&amp;").replace(ui,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(di,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hi(t,e){var n=null;try{Kn=Kn||new Wn(t);var i=e?String(e):"";n=Kn.getInertBodyElement(i);var a=5,r=i;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,i=r,r=n.innerHTML,n=Kn.getInertBodyElement(i)}while(i!==r);var o=new li,s=o.sanitizeChildren(pi(n)||n);return Hn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=pi(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function pi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),gi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),bi=/^url\(([^)]+)\)$/;function vi(t){if(!(t=String(t).trim()))return"";var e=t.match(bi);return e&&Xn(e[1])===e[1]||t.match(gi)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var a=t.charAt(i);"'"===a&&n?e=!e:'"'===a&&e&&(n=!n)}return e&&n}(t)?t:(Hn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function yi(t){var e=wi();return e?e.sanitize(mi.HTML,t)||"":Fn(t,"HTML")?Ln(t):hi(Vt(),Ke(t))}function _i(t){var e=wi();return e?e.sanitize(mi.STYLE,t)||"":Fn(t,"Style")?Ln(t):vi(Ke(t))}function ki(t){var e=wi();return e?e.sanitize(mi.URL,t)||"":Fn(t,"URL")?Ln(t):Xn(Ke(t))}function Ci(t){var e=wi();if(e)return e.sanitize(mi.RESOURCE_URL,t)||"";if(Fn(t,"ResourceURL"))return Ln(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}var xi=function(t,e,n){if(void 0===e&&void 0===n)return _i(t);var i=!0;return 1&(n=n||3)&&(i=function(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}(t)),2&n?i?_i(e):Ln(e):i};function wi(){var t=se();return t&&t[12]}function Oi(t,e){t.__ngContext__=e}function Si(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Ei(){throw new Error("Cannot mix multi providers and regular providers")}function Mi(t,e,n){for(var i=t.length;;){var a=t.indexOf(e,n);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){var r=e.length;if(a+r===i||t.charCodeAt(a+r)<=32)return a}n=a+1}}function Ii(t,e,n){for(var i=0;i<t.length;){var a=t[i++];if(n&&"class"===a){if(-1!==Mi((a=t[i]).toLowerCase(),e,0))return!0}else if(1===a){for(;i<t.length&&"string"==typeof(a=t[i++]);)if(a.toLowerCase()===e)return!0;return!1}}return!1}function Pi(t){return 0===t.type&&"ng-template"!==t.tagName}function Ti(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Ai(t,e,n){for(var i=4,a=t.attrs||[],r=function(t){for(var e=0;e<t.length;e++)if(He(t[e]))return e;return t.length}(a),o=!1,s=0;s<e.length;s++){var c=e[s];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Ti(t,c,n)||""===c&&1===e.length){if(Di(i))return!1;o=!0}}else{var l=8&i?c:e[++s];if(8&i&&null!==t.attrs){if(!Ii(t.attrs,l,n)){if(Di(i))return!1;o=!0}continue}var u=Ri(8&i?"class":c,a,Pi(t),n);if(-1===u){if(Di(i))return!1;o=!0;continue}if(""!==l){var d;d=u>r?"":a[u+1].toLowerCase();var f=8&i?d:null;if(f&&-1!==Mi(f,l,0)||2&i&&l!==d){if(Di(i))return!1;o=!0}}}}else{if(!o&&!Di(i)&&!Di(c))return!1;if(o&&Di(c))continue;o=!1,i=c|1&i}}return Di(i)||o}function Di(t){return 0==(1&t)}function Ri(t,e,n,i){if(null===e)return-1;var a=0;if(i||!n){for(var r=!1;a<e.length;){var o=e[a];if(o===t)return a;if(3===o||6===o)r=!0;else{if(1===o||2===o){for(var s=e[++a];"string"==typeof s;)s=e[++a];continue}if(4===o)break;if(0===o){a+=4;continue}}a+=r?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Li(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(Ai(t,e[i],n))return!0;return!1}function Fi(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var a=0;a<t.length;a++)if(t[a]!==i[a])continue t;return!0}}return!1}function ji(t,e){return t?":not("+e.trim()+")":e}function Yi(t){for(var e=t[0],n=1,i=2,a="",r=!1;n<t.length;){var o=t[n];if("string"==typeof o)if(2&i){var s=t[++n];a+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?a+="."+o:4&i&&(a+=" "+o);else""===a||Di(o)||(e+=ji(r,a),a=""),i=o,r=r||!Di(i);n++}return""!==a&&(e+=ji(r,a)),e}var Zi={};function Ni(t){var e=t[3];return Ft(e)?e[3]:e}function Ui(t){return zi(t[13])}function Bi(t){return zi(t[4])}function zi(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Vi(t){Hi(ce(),se(),Ae()+t,pe())}function Hi(t,e,n,i){if(!i)if(3==(3&e[2])){var a=t.preOrderCheckHooks;null!==a&&Ye(e,a,n)}else{var r=t.preOrderHooks;null!==r&&Ze(e,r,0,n)}De(n)}function Qi(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function Gi(t){return 2|t}function qi(t){return(131068&t)>>2}function Xi(t,e){return-131069&t|e<<2}function $i(t){return 1|t}function Ji(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var a=n[i],r=n[i+1];if(-1!==r){var o=t.data[r];we(a),o.contentQueries(2,e[r],r)}}}function Ki(t,e,n){return Ht(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ta(t,e,n,i,a,r,o,s,c,l){var u=e.blueprint.slice();return u[0]=a,u[2]=140|i,ie(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=s||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=r,u[16]=2==e.type?t[16]:u,u}function ea(t,e,n,i,a,r){var o=n+20,s=t.data[o]||function(t,e,n,i,a,r){var o=ue(),s=fe(),c=s?o:o&&o.parent,l=t.data[n]=da(0,c&&c!==e?c:null,i,n,a,r);return null===t.firstChild&&(t.firstChild=l),o&&(!s||null!=o.child||null===l.parent&&2!==o.type?s||(o.next=l):o.child=l),l}(t,e,o,i,a,r);return de(s,!0),s}function na(t,e,n){Se(e,e[6]);try{var i=t.viewQuery;null!==i&&Da(1,i,n);var a=t.template;null!==a&&ra(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ji(t,e),t.staticViewQueries&&Da(2,t.viewQuery,n);var r=t.components;null!==r&&function(t,e){for(var n=0;n<e.length;n++)Ma(t,e[n])}(e,r)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),o}finally{e[2]&=-5,Te()}}function ia(t,e,n,i){var a=e[2];if(256!=(256&a)){Se(e,e[6]);var r=pe();try{ie(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ra(t,e,n,2,i);var o=3==(3&a);if(!r)if(o){var s=t.preOrderCheckHooks;null!==s&&Ye(e,s,null)}else{var c=t.preOrderHooks;null!==c&&Ze(e,c,0,null),Ne(e,0)}if(function(t){for(var e=Ui(t);null!==e;e=Bi(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var a=n[i],r=a[3];0==(1024&a[2])&&ae(r,1),a[2]|=1024}}(e),function(t){for(var e=Ui(t);null!==e;e=Bi(e))for(var n=10;n<e.length;n++){var i=e[n],a=i[1];ee(i)&&ia(a,i,a.template,i[8])}}(e),null!==t.contentQueries&&Ji(t,e),!r)if(o){var l=t.contentCheckHooks;null!==l&&Ye(e,l)}else{var u=t.contentHooks;null!==u&&Ze(e,u,1),Ne(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var i=t.expandoStartIndex,a=-1,r=0;r<n.length;r++){var o=n[r];"number"==typeof o?o<=0?(De(0-o),a=i+=9+n[++r]):i+=o:(null!==o&&(_e(i,a),o(2,e[a])),a++)}}finally{De(-1)}}(t,e);var d=t.components;null!==d&&function(t,e){for(var n=0;n<e.length;n++)Ea(t,e[n])}(e,d);var f=t.viewQuery;if(null!==f&&Da(2,f,i),!r)if(o){var h=t.viewCheckHooks;null!==h&&Ye(e,h)}else{var p=t.viewHooks;null!==p&&Ze(e,p,2),Ne(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ae(e[3],-1))}finally{Te()}}}function aa(t,e,n,i){var a=e[10],r=!pe(),o=te(e);try{r&&!o&&a.begin&&a.begin(),o&&na(t,e,i),ia(t,e,n,i)}finally{r&&!o&&a.end&&a.end()}}function ra(t,e,n,i,a){var r=Ae();try{De(-1),2&i&&e.length>20&&Hi(t,e,0,pe()),n(i,a)}finally{De(r)}}function oa(t,e,n){if(jt(e))for(var i=e.directiveEnd,a=e.directiveStart;a<i;a++){var r=t.data[a];r.contentQueries&&r.contentQueries(1,n[a],a)}}function sa(t,e,n){oe()&&(function(t,e,n,i){var a=n.directiveStart,r=n.directiveEnd;t.firstCreatePass||un(n,e),Oi(i,e);for(var o=n.initialInputs,s=a;s<r;s++){var c=t.data[s],l=Nt(c);l&&xa(e,n,c);var u=yn(e,t,s,n);Oi(u,e),null!==o&&wa(0,s-a,u,c,0,o),l&&(Jt(n.index,e)[8]=u)}}(t,e,n,qt(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,a=n.directiveEnd,r=t.expandoInstructions,o=t.firstCreatePass,s=n.index-20,c=re.lFrame.currentDirectiveIndex;try{De(s);for(var l=i;l<a;l++){var u=t.data[l],d=e[l];ke(l),null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?ba(u,d):o&&r.push(null)}}finally{De(-1),ke(c)}}(t,e,n))}function ca(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt,i=e.localNames;if(null!==i)for(var a=e.index+1,r=0;r<i.length;r+=2){var o=i[r+1],s=-1===o?n(e,t):t[o];t[a++]=s}}function la(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ua(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ua(t,e,n,i,a,r,o,s,c,l){var u=20+i,d=u+a,f=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:Zi);return n}(u,d);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function da(t,e,n,i,a,r){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:a,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fa(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,a):n[i]=[e,a]}return n}function ha(t,e,n,i,a,r,o,s){var c,l,u=qt(e,n),d=e.inputs;!s&&null!=d&&(c=d[i])?(Za(t,n,c,i,a),Yt(e)&&function(t,e){var n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,a=null!=o?o(a,e.tagName||"",i):a,Ht(r)?r.setProperty(u,i,a):Qe(i)||(u.setProperty?u.setProperty(i,a):u[i]=a))}function pa(t,e,n,i){var a=!1;if(oe()){var r=function(t,e,n){var i=t.directiveRegistry,a=null;if(i)for(var r=0;r<i.length;r++){var o=i[r];Li(n,o.selectors,!1)&&(a||(a=[]),pn(un(n,e),t,o.type),Nt(o)?(2&n.flags&&Si(n),ya(t,n),a.unshift(o)):a.push(o))}return a}(t,e,n),o=null===i?null:{"":-1};if(null!==r){var s=0;a=!0,ka(n,t.data.length,r.length);for(var c=0;c<r.length;c++){var l=r[c];l.providersResolver&&l.providersResolver(l)}va(t,n,r.length);for(var u=!1,d=!1,f=0;f<r.length;f++){var h=r[f];n.mergedAttrs=We(n.mergedAttrs,h.hostAttrs),Ca(t,e,h),_a(t.data.length-1,h,o),null!==h.contentQueries&&(n.flags|=8),null===h.hostBindings&&null===h.hostAttrs&&0===h.hostVars||(n.flags|=128),!u&&(h.onChanges||h.onInit||h.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),u=!0),d||!h.onChanges&&!h.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),d=!0),ma(t,h),s+=h.hostVars}!function(t,e){for(var n=e.directiveEnd,i=t.data,a=e.attrs,r=[],o=null,s=null,c=e.directiveStart;c<n;c++){var l=i[c],u=l.inputs,d=null===a||Pi(e)?null:Oa(u,a);r.push(d),o=fa(u,c,o),s=fa(l.outputs,c,s)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=o,e.outputs=s}(t,n),ga(t,e,s)}o&&function(t,e,n){if(e)for(var i=t.localNames=[],a=0;a<e.length;a+=2){var r=n[e[a+1]];if(null==r)throw new Error("Export of name '".concat(e[a+1],"' not found!"));i.push(e[a],r)}}(n,i,o)}return n.mergedAttrs=We(n.mergedAttrs,n.attrs),a}function ma(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ga(t,e,n){for(var i=0;i<n;i++)e.push(Zi),t.blueprint.push(Zi),t.data.push(null)}function ba(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function va(t,e,n){var i=20-e.index,a=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,a,n)}function ya(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function _a(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Nt(e)&&(n[""]=t)}}function ka(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ca(t,e,n){t.data.push(n);var i=n.factory||(n.factory=Dt(n.type)),a=new ze(i,Nt(n),null);t.blueprint.push(a),e.push(a)}function xa(t,e,n){var i=qt(e,t),a=la(n),r=t[10],o=Ia(t,ta(t,a,null,n.onPush?64:16,i,e,r,r.createRenderer(i,n)));t[e.index]=o}function wa(t,e,n,i,a,r){var o=r[e];if(null!==o)for(var s=i.setInput,c=0;c<o.length;){var l=o[c++],u=o[c++],d=o[c++];null!==s?i.setInput(n,d,l,u):n[u]=d}}function Oa(t,e){for(var n=null,i=0;i<e.length;){var a=e[i];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,t[a],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Sa(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Ea(t,e){var n=Jt(e,t);if(ee(n)){var i=n[1];80&n[2]?ia(i,n,i.template,n[8]):n[5]>0&&function t(e){for(var n=Ui(e);null!==n;n=Bi(n))for(var i=10;i<n.length;i++){var a=n[i];if(1024&a[2]){var r=a[1];ia(r,a,r.template,a[8])}else a[5]>0&&t(a)}var o=e[1].components;if(null!==o)for(var s=0;s<o.length;s++){var c=Jt(o[s],e);ee(c)&&c[5]>0&&t(c)}}(n)}}function Ma(t,e){var n=Jt(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),na(i,n,n[8])}function Ia(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Pa(t){for(;t;){t[2]|=64;var e=Ni(t);if(Ut(t)&&!e)return t;t=e}return null}function Ta(t,e,n){var i=e[10];i.begin&&i.begin();try{ia(t,e,t.template,n)}catch(a){throw Ya(e,a),a}finally{i.end&&i.end()}}function Aa(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=Kt(n),a=i[1];aa(a,i,a.template,n)}}(t[8])}function Da(t,e,n){we(0),e(t,n)}var Ra=Promise.resolve(null);function La(t){return t[7]||(t[7]=[])}function Fa(t){return t.cleanup||(t.cleanup=[])}function ja(t,e,n){return(null===t||Nt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ya(t,e){var n=t[9],i=n?n.get(Mn,null):null;i&&i.handleError(e)}function Za(t,e,n,i,a){for(var r=0;r<n.length;){var o=n[r++],s=n[r++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,a,i,s):c[s]=a}}function Na(t,e,n){var i=Gt(e,t),a=t[11];Ht(a)?a.setValue(i,n):i.textContent=n}function Ua(t,e){var n=e[3];return-1===t.index?Ft(n)?n:null:n}function Ba(t,e){var n=Ua(t,e);return n?tr(e[11],n[7]):null}function za(t,e,n,i,a){if(null!=i){var r,o=!1;Ft(i)?r=i:Lt(i)&&(o=!0,i=i[0]);var s=Wt(i);0===t&&null!==n?null==a?Ja(e,n,s):$a(e,n,s,a||null):1===t&&null!==n?$a(e,n,s,a||null):2===t?function(t,e,n){var i=tr(t,e);i&&function(t,e,n,i){Ht(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,s,o):3===t&&e.destroyNode(s),null!=r&&function(t,e,n,i,a){var r=n[7];r!==Wt(n)&&za(e,t,i,r,a);for(var o=10;o<n.length;o++){var s=n[o];rr(s[1],s,t,e,i,r)}}(e,t,r,n,a)}}function Va(t,e,n,i){var a=Ba(t.node,e);a&&rr(t,e,e[11],n?1:2,a,i)}function Ha(t,e){var n=t[9],i=n.indexOf(e);1024&e[2]&&ae(e[3],-1),n.splice(i,1)}function Qa(t,e){if(!(t.length<=10)){var n=10+e,i=t[n];if(i){var a=i[17];null!==a&&a!==t&&Ha(a,i),e>0&&(t[n-1][4]=i[4]);var r=ft(t,10+e);Va(i[1],i,!1,null);var o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Wa(t,e){if(!(256&e[2])){var n=e[11];Ht(n)&&n.destroyNode&&rr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return qa(t[1],t);for(;e;){var n=null;if(Lt(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&qa(e[1],e),e=Ga(e,t);null===e&&(e=t),Lt(e)&&qa(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ga(t,e){var n;return Lt(t)&&(n=t[6])&&2===n.type?Ua(n,t):t[3]===e?null:t[3]}function qa(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var a=e[n[i]];if(!(a instanceof ze)){var r=n[i+1];if(Array.isArray(r))for(var o=0;o<r.length;o+=2)r[o+1].call(a[r[o]]);else r.call(a)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var i=e[7],a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var r=n[a+1],o="function"==typeof r?r(e):Wt(e[r]),s=i[n[a+2]],c=n[a+3];"boolean"==typeof c?o.removeEventListener(n[a],s,c):c>=0?i[c]():i[-c].unsubscribe(),a+=2}else n[a].call(i[n[a+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Ht(e[11])&&e[11].destroy();var i=e[17];if(null!==i&&Ft(e[3])){i!==e[3]&&Ha(i,e);var a=e[19];null!==a&&a.detachView(t)}}}function Xa(t,e,n){for(var i=e.parent;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){var a=n[6];return 2===a.type?Ba(a,n):n[0]}if(e&&5===e.type&&4&e.flags)return qt(e,n).parentNode;if(2&i.flags){var r=t.data,o=r[r[i.index].directiveStart].encapsulation;if(o!==vt.ShadowDom&&o!==vt.Native)return null}return qt(i,n)}function $a(t,e,n,i){Ht(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Ja(t,e,n){Ht(t)?t.appendChild(e,n):e.appendChild(n)}function Ka(t,e,n,i){null!==i?$a(t,e,n,i):Ja(t,e,n)}function tr(t,e){return Ht(t)?t.parentNode(e):e.parentNode}function er(t,e){if(2===t.type){var n=Ua(t,e);return null===n?null:ir(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?qt(t,e):null}function nr(t,e,n,i){var a=Xa(t,i,e);if(null!=a){var r=e[11],o=er(i.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Ka(r,a,n[s],o);else Ka(r,a,n,o)}}function ir(t,e){var n=10+t+1;if(n<e.length){var i=e[n],a=i[1].firstChild;if(null!==a)return function t(e,n){if(null!==n){var i=n.type;if(3===i)return qt(n,e);if(0===i)return ir(-1,e[n.index]);if(4===i||5===i){var a=n.child;if(null!==a)return t(e,a);var r=e[n.index];return Ft(r)?ir(-1,r):Wt(r)}var o=e[16],s=o[6],c=Ni(o),l=s.projection[n.projection];return null!=l?t(c,l):t(e,n.next)}return null}(i,a)}return e[7]}function ar(t,e,n,i,a,r,o){for(;null!=n;){var s=i[n.index],c=n.type;o&&0===e&&(s&&Oi(Wt(s),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(ar(t,e,n.child,i,a,r,!1),za(e,t,a,s,r)):1===c?or(t,e,i,n,a,r):za(e,t,a,s,r)),n=o?n.projectionNext:n.next}}function rr(t,e,n,i,a,r){ar(n,i,t.node.child,e,a,r,!1)}function or(t,e,n,i,a,r){var o=n[16],s=o[6].projection[i.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)za(e,t,a,s[c],r);else ar(t,e,s,o[3],a,r,!0)}function sr(t,e,n){Ht(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function cr(t,e,n){Ht(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var lr,ur,dr,fr=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Wa(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,i;e=this._lView[1],i=t,La(n=this._lView).push(i),e.firstCreatePass&&Fa(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Pa(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ta(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){me(!0);try{Ta(t,e,n)}finally{me(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,rr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,i,a){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var o=n[i.index];if(null!==o&&a.push(Wt(o)),Ft(o))for(var s=10;s<o.length;s++){var c=o[s],l=c[1].firstChild;null!==l&&t(c[1],c,l,a)}var u=i.type;if(4===u||5===u)t(e,n,i.child,a);else if(1===u){var d=n[16],f=d[6].projection[i.projection];if(Array.isArray(f))a.push.apply(a,_toConsumableArray(f));else{var h=Ni(d);t(h[1],h,f,a,!0)}}i=r?i.projectionNext:i.next}return a}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),hr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t))._view=t,i}return _createClass(n,[{key:"detectChanges",value:function(){Aa(this._view)}},{key:"checkNoChanges",value:function(){!function(t){me(!0);try{Aa(t)}finally{me(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(fr);function pr(t,e,n){return lr||(lr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new lr(qt(e,n))}function mr(t,e,n,i){return ur||(ur=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this))._declarationView=t,r._declarationTContainer=i,r.elementRef=a,r}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=ta(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),na(e,n,t),new fr(n)}}]),n}(t)),0===n.type?new ur(i,n,pr(e,n,i)):null}function gr(t,e,n,i){var a;dr||(dr=function(t){_inherits(i,t);var n=_createSuper(i);function i(t,e,a){var r;return _classCallCheck(this,i),(r=n.call(this))._lContainer=t,r._hostTNode=e,r._hostView=a,r}return _createClass(i,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,a){var r=n||this.parentInjector;if(!a&&null==t.ngModule&&r){var o=r.get(ct,null);o&&(a=o)}var s=t.create(r,i,void 0,a);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){var a=this.indexOf(t);if(-1!==a)this.detach(a);else{var r=n[3],o=new dr(r,r[6],r[3]);o.detach(o.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,i){var a=10+i,r=n.length;i>0&&(n[a-1][4]=e),i<r-10?(e[4]=n[a],dt(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var o=e[17];null!==o&&n!==o&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,n,this._lContainer,s),Va(i,n,!0,ir(s,this._lContainer)),t.attachToViewContainerRef(this),dt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Qa(t,e);n&&Wa(n[1],n)}(this._lContainer,e),ft(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Qa(this._lContainer,e);return n&&null!=ft(this._lContainer[8],e)?new fr(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return pr(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Cn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=hn(this._hostTNode,this._hostView),e=Je(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,a=n.parent;null!=a.parent&&i==a.parent.injectorIndex;)a=a.parent;return a}for(var r=$e(t),o=e,s=e[6];r>1;)s=(o=o[15])[6],r--;return s}(t,this._hostView,this._hostTNode);return qe(t)&&null!=n?new Cn(n,e):new Cn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),i}(t));var r=i[n.index];if(Ft(r))a=r;else{var o;if(4===n.type)o=Wt(r);else if(o=i[11].createComment(""),Ut(i)){var s=i[11],c=qt(n,i);$a(s,tr(s,c),o,function(t,e){return Ht(t)?t.nextSibling(e):e.nextSibling}(s,c))}else nr(i[1],i,o,n);i[n.index]=a=Sa(r,i,o,n),Ia(i,a)}return new dr(a,n,i)}function br(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Yt(t)){var i=Jt(t.index,e);return new fr(i,i)}return 3===t.type||0===t.type||4===t.type||5===t.type?new fr(e[16],e):null}(ue(),se(),t)}var vr=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return yr()},t}(),yr=br,_r=new G("Set Injector scope."),kr={},Cr={},xr=[],wr=void 0;function Or(){return void 0===wr&&(wr=new st),wr}function Sr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new Er(t,n,e||Or(),i)}var Er=function(){function t(e,n,i){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&ut(n,(function(t){return a.processProvider(t,e,n)})),ut([e],(function(t){return a.processInjectorType(t,[],o)})),this.records.set(q,Pr(void 0,this));var s=this.records.get(_r);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:I(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Default;this.assertNotDestroyed();var i,a=tt(this);try{if(!(n&g.SkipSelf)){var r=this.records.get(t);if(void 0===r){var o=("function"==typeof(i=t)||"object"==typeof i&&i instanceof G)&&k(t);r=o&&this.injectableDefInScope(o)?Pr(Mr(t),kr):null,this.records.set(t,r)}if(null!=r)return this.hydrate(t,r)}return(n&g.Self?Or():this.parent).get(t,e=n&g.Optional&&e===X?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(I(t)),a)throw s;return function(t,e,n,i){var a=t.ngTempTokenPath;throw e.__source&&a.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var a=I(e);if(Array.isArray(e))a=e.map(I).join(" -> ");else if("object"==typeof e){var r=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];r.push(o+":"+("string"==typeof s?JSON.stringify(s):I(s)))}a="{".concat(r.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(a,"]: ").concat(t.replace($,"\n  "))}("\n"+t.message,a,"R3InjectorError",i),t.ngTokenPath=a,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{tt(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(I(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=D(t)))return!1;var a=x(t),r=null==a&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(a=x(r)),null==a)return!1;if(null!=a.imports&&!s){var c;n.push(o);try{ut(a.imports,(function(t){i.processInjectorType(t,e,n)&&(void 0===c&&(c=[]),c.push(t))}))}finally{}if(void 0!==c)for(var l=function(t){var e=c[t],n=e.ngModule,a=e.providers;ut(a,(function(t){return i.processProvider(t,n,a||xr)}))},u=0;u<c.length;u++)l(u)}this.injectorDefTypes.add(o),this.records.set(o,Pr(a.factory,kr));var d=a.providers;if(null!=d&&!s){var f=t;ut(d,(function(t){return i.processProvider(t,f,d)}))}return void 0!==r&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=Ar(t=D(t))?t:D(t&&t.provide),a=function(t,e,n){return Tr(t)?Pr(void 0,t.useValue):Pr(Ir(t,e,n),kr)}(t,e,n);if(Ar(t)||!0!==t.multi){var r=this.records.get(i);r&&void 0!==r.multi&&Ei()}else{var o=this.records.get(i);o?void 0===o.multi&&Ei():((o=Pr(void 0,kr,!0)).factory=function(){return ot(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,a)}},{key:"hydrate",value:function(t,e){var n;return e.value===Cr?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(I(t)):e.value===kr&&(e.value=Cr,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Mr(t){var e=k(t),n=null!==e?e.factory:Dt(t);if(null!==n)return n;var i=x(t);if(null!==i)return i.factory;if(t instanceof G)throw new Error("Token ".concat(I(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=ht(e,"?");throw new Error("Can't resolve all parameters for ".concat(I(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[w]||t[E]||t[S]&&t[S]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Ir(t,e,n){var i,a=void 0;if(Ar(t)){var r=D(t);return Dt(r)||Mr(r)}if(Tr(t))a=function(){return D(t.useValue)};else if((i=t)&&i.useFactory)a=function(){return t.useFactory.apply(t,_toConsumableArray(ot(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))a=function(){return it(D(t.useExisting))};else{var o=D(t&&(t.useClass||t.provide));if(o||function(t,e,n){var i="";throw t&&e&&(i=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(I(t),"'")+i)}(e,n,t),!function(t){return!!t.deps}(t))return Dt(o)||Mr(o);a=function(){return _construct(o,_toConsumableArray(ot(t.deps)))}}return a}function Pr(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Tr(t){return null!==t&&"object"==typeof t&&J in t}function Ar(t){return"function"==typeof t}var Dr=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,a=Sr(t,e,n,i);return a._resolveInjectorDefTypes(),a}({name:n},e,t,n)},Rr=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Dr(t,e,""):Dr(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=X,t.NULL=new st,t.\u0275prov=y({token:t,providedIn:"any",factory:function(){return it(q)}}),t.__NG_ELEMENT_ID__=-1,t}(),Lr=new G("AnalyzeForEntryComponents"),Fr=new Map,jr=new Set;function Yr(t){return"string"==typeof t?t:t.text()}function Zr(t,e,n){var i=n?t.styles:null,a=n?t.classes:null,r=0;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];"number"==typeof s?r=s:1==r?a=P(a,s):2==r&&(i=P(i,s+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=a:t.classesWithoutHost=a}var Nr=null;function Ur(){if(!Nr){var t=N.Symbol;if(t&&t.iterator)Nr=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Nr=i)}}return Nr}function Br(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var zr=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Vr(t){return!!Hr(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ur()in t)}function Hr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qr(t,e,n){return t[e]=n}function Wr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Gr(t,e,n,i){var a=Wr(t,e,n);return Wr(t,e+1,i)||a}function qr(t,e,n,i,a){var r=Gr(t,e,n,i);return Wr(t,e+2,a)||r}function Xr(t,e,n,i,a,r){var o=Gr(t,e,n,i);return Gr(t,e+2,a,r)||o}function $r(t,e,n,i){var a=se();return Wr(a,ve(),e)&&(ce(),function(t,e,n,i,a,r){var o=qt(t,e),s=e[11];if(null==i)Ht(s)?s.removeAttribute(o,n,r):o.removeAttribute(n);else{var c=null==a?Ke(i):a(i,t.tagName||"",n);Ht(s)?s.setAttribute(o,n,c,r):r?o.setAttributeNS(r,n,c):o.setAttribute(n,c)}}(Re(),a,t,e,n,i)),$r}function Jr(t,e,n,i){return Wr(t,ve(),n)?e+Ke(n)+i:Zi}function Kr(t,e,n,i,a,r){var o=Gr(t,be(),n,a);return ye(2),o?e+Ke(n)+i+Ke(a)+r:Zi}function to(t,e,n,i,a,r,o,s){var c=qr(t,be(),n,a,o);return ye(3),c?e+Ke(n)+i+Ke(a)+r+Ke(o)+s:Zi}function eo(t,e,n,i,a,r,o,s,c,l){var u=Xr(t,be(),n,a,o,c);return ye(4),u?e+Ke(n)+i+Ke(a)+r+Ke(o)+s+Ke(c)+l:Zi}function no(t,e,n,i,a,r,o,s,c,l,u,d){var f=be(),h=Xr(t,f,n,a,o,c);return h=Wr(t,f+4,u)||h,ye(5),h?e+Ke(n)+i+Ke(a)+r+Ke(o)+s+Ke(c)+l+Ke(u)+d:Zi}function io(t,e,n,i,a,r,o,s){var c=se(),l=ce(),u=t+20,d=l.firstCreatePass?function(t,e,n,i,a,r,o,s,c){var l=e.consts,u=ea(e,n[6],t,0,o||null,ne(l,s));pa(e,n,u,ne(l,c)),je(e,u);var d=u.tViews=ua(2,-1,i,a,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),f=da(0,null,2,-1,null,null);return f.injectorIndex=u.injectorIndex,d.node=f,null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,i,a,r,o):l.data[u];de(d,!1);var f=c[11].createComment("");nr(l,c,f,d),Oi(f,c),Ia(c,c[u]=Sa(f,c,f,d)),Zt(d)&&sa(l,c,d),null!=o&&ca(c,d,s)}function ao(t){return $t(re.lFrame.contextLView,t)}function ro(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Default,n=se();return null==n?it(t,e):mn(ue(),n,D(t),e)}function oo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,a=0;a<i;){var r=n[a];if(He(r))break;if(0===r)a+=2;else if("number"==typeof r)for(a++;a<i&&"string"==typeof n[a];)a++;else{if(r===e)return n[a+1];a+=2}}return null}(ue(),t)}function so(){throw new Error("invalid")}function co(t,e,n){var i=se();return Wr(i,ve(),e)&&ha(ce(),Re(),i,t,e,i[11],n,!1),co}function lo(t,e,n,i,a){var r=a?"class":"style";Za(t,n,e.inputs[r],r,i)}function uo(t,e,n,i){var a=se(),r=ce(),o=20+t,s=a[11],c=a[o]=Ki(e,s,re.lFrame.currentNamespace),l=r.firstCreatePass?function(t,e,n,i,a,r,o){var s=e.consts,c=ne(s,r),l=ea(e,n[6],t,3,a,c);return pa(e,n,l,ne(s,o)),null!==l.attrs&&Zr(l,l.attrs,!1),null!==l.mergedAttrs&&Zr(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(t,r,a,0,e,n,i):r.data[o];de(l,!0);var u=l.mergedAttrs;null!==u&&Ve(s,c,u);var d=l.classes;null!==d&&cr(s,c,d);var f=l.styles;null!==f&&sr(s,c,f),nr(r,a,c,l),0===re.lFrame.elementDepthCount&&Oi(c,a),re.lFrame.elementDepthCount++,Zt(l)&&(sa(r,a,l),oa(r,l,a)),null!==i&&ca(a,l)}function fo(){var t=ue();fe()?he():de(t=t.parent,!1);var e=t;re.lFrame.elementDepthCount--;var n=ce();n.firstCreatePass&&(je(n,t),jt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,se(),e.stylesWithoutHost,!1)}function ho(t,e,n,i){uo(t,e,n,i),fo()}function po(t,e,n){var i=se(),a=ce(),r=t+20,o=a.firstCreatePass?function(t,e,n,i,a){var r=e.consts,o=ne(r,i),s=ea(e,n[6],t,4,"ng-container",o);return null!==o&&Zr(s,o,!0),pa(e,n,s,ne(r,a)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,a,i,e,n):a.data[r];de(o,!0);var s=i[r]=i[11].createComment("");nr(a,i,s,o),Oi(s,i),Zt(o)&&(sa(a,i,o),oa(a,o,i)),null!=n&&ca(i,o)}function mo(){var t=ue(),e=ce();fe()?he():de(t=t.parent,!1),e.firstCreatePass&&(je(e,t),jt(t)&&e.queries.elementEnd(t))}function go(t,e,n){po(t,e,n),mo()}function bo(){return se()}function vo(t){return!!t&&"function"==typeof t.then}function yo(t){return!!t&&"function"==typeof t.subscribe}function _o(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=se(),r=ce(),o=ue();return Co(r,a,a[11],o,t,e,n,i),_o}function ko(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=ue(),r=se(),o=ce();return Co(o,r,ja(Ce(o.data),a,r),a,t,e,n,i),ko}function Co(t,e,n,i,a,r){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=Zt(i),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=La(e),d=!0;if(3===i.type){var f=qt(i,e),h=s?s(f):yt,p=h.target||f,m=u.length,g=s?function(t){return s(Wt(t[i.index])).target}:i.index;if(Ht(n)){var b=null;if(!s&&c&&(b=function(t,e,n,i){var a=t.cleanup;if(null!=a)for(var r=0;r<a.length-1;r+=2){var o=a[r];if(o===n&&a[r+1]===i){var s=e[7],c=a[r+2];return s.length>c?s[c]:null}"string"==typeof o&&(r+=2)}return null}(t,e,a,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=r,b.__ngLastListenerFn__=r,d=!1;else{r=wo(i,e,r,!1);var v=n.listen(h.name||p,a,r);u.push(r,v),l&&l.push(a,g,m,m+1)}}else r=wo(i,e,r,!0),p.addEventListener(a,r,o),u.push(r),l&&l.push(a,g,m,o)}var y,_=i.outputs;if(d&&null!==_&&(y=_[a])){var k=y.length;if(k)for(var C=0;C<k;C+=2){var x=e[y[C]][y[C+1]].subscribe(r),w=u.length;u.push(r,x),l&&l.push(a,i.index,w,-(w+1))}}}function xo(t,e,n){try{return!1!==e(n)}catch(i){return Ya(t,i),!1}}function wo(t,e,n,i){return function a(r){if(r===Function)return n;var o=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&Pa(o);for(var s=xo(e,n,r),c=a.__ngNextListenerFn__;c;)s=xo(e,c,r)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(r.preventDefault(),r.returnValue=!1),s}}function Oo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function So(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),a=0;a<e.length;a++){var r=e[a];if("*"!==r){if(null===i?Li(t,r,!0):Fi(i,r))return a}else n=a}return n}function Eo(t){var e=se()[16][6];if(!e.projection)for(var n=e.projection=ht(t?t.length:1,null),i=n.slice(),a=e.child;null!==a;){var r=t?So(a,t):0;null!==r&&(i[r]?i[r].projectionNext=a:n[r]=a,i[r]=a),a=a.next}}function Mo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=se(),a=ce(),r=ea(a,i[6],t,1,null,n||null);null===r.projection&&(r.projection=e),he(),function(t,e,n){or(e[11],0,e,n,Xa(t,n,e),er(n.parent||e[6],e))}(a,i,r)}function Io(t,e,n){return Po(t,"",e,"",n),Io}function Po(t,e,n,i,a){var r=se(),o=Jr(r,e,n,i);return o!==Zi&&ha(ce(),Re(),r,t,o,r[11],a,!1),Po}function To(t,e,n,i,a,r,o){var s=se(),c=Kr(s,e,n,i,a,r);return c!==Zi&&ha(ce(),Re(),s,t,c,s[11],o,!1),To}function Ao(t,e,n,i,a,r,o,s,c){var l=se(),u=to(l,e,n,i,a,r,o,s);return u!==Zi&&ha(ce(),Re(),l,t,u,l[11],c,!1),Ao}function Do(t,e,n,i,a,r,o,s,c,l,u){var d=se(),f=eo(d,e,n,i,a,r,o,s,c,l);return f!==Zi&&ha(ce(),Re(),d,t,f,d[11],u,!1),Do}var Ro=[];function Lo(t,e,n,i,a){for(var r=t[n+1],o=null===e,s=i?Wi(r):qi(r),c=!1;0!==s&&(!1===c||o);){var l=t[s+1];Fo(t[s],e)&&(c=!0,t[s+1]=i?$i(l):Gi(l)),s=i?Wi(l):qi(l)}c&&(t[n+1]=i?Gi(r):$i(r))}function Fo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gt(t,e)>=0}var jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yo(t){return t.substring(jo.key,jo.keyEnd)}function Zo(t,e){var n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),No(t,e,n))}function No(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Uo(t,e,n){return Ho(t,e,n,!1),Uo}function Bo(t,e){return Ho(t,e,null,!0),Bo}function zo(t){Qo(pt,Vo,t,!0)}function Vo(t,e){for(var n=function(t){return function(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}(t),Zo(t,No(t,0,jo.textEnd))}(e);n>=0;n=Zo(e,n))pt(t,Yo(e),!0)}function Ho(t,e,n,i){var a,r,o=se(),s=ce(),c=ye(2);(s.firstUpdatePass&&Go(s,t,c,i),e!==Zi&&Wr(o,c,e))&&(null==n&&(a=null===(r=re.lFrame)?null:r.currentSanitizer)&&(n=a),$o(s,s.data[Ae()+20],o,o[11],t,o[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=I(Ln(t)))),t}(e,n),i,c))}function Qo(t,e,n,i){var a=ce(),r=ye(2);a.firstUpdatePass&&Go(a,null,r,i);var o=se();if(n!==Zi&&Wr(o,r,n)){var s=a.data[Ae()+20];if(ts(s,i)&&!Wo(a,r)){var c=i?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=P(c,n||"")),lo(a,s,o,n,i)}else!function(t,e,n,i,a,r,o,s){a===Zi&&(a=Ro);for(var c=0,l=0,u=0<a.length?a[0]:null,d=0<r.length?r[0]:null;null!==u||null!==d;){var f=c<a.length?a[c+1]:void 0,h=l<r.length?r[l+1]:void 0,p=null,m=void 0;u===d?(c+=2,l+=2,f!==h&&(p=d,m=h)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,m=h),null!==p&&$o(t,e,n,i,p,m,o,s),u=c<a.length?a[c]:null,d=l<r.length?r[l]:null}}(a,s,o,o[11],o[r+1],o[r+1]=function(t,e,n){if(null==n||""===n)return Ro;var i=[],a=Ln(n);if(Array.isArray(a))for(var r=0;r<a.length;r++)t(i,a[r],!0);else if("object"==typeof a)for(var o in a)a.hasOwnProperty(o)&&t(i,o,a[o]);else"string"==typeof a&&e(i,a);return i}(t,e,n),i,r)}}function Wo(t,e){return e>=t.expandoStartIndex}function Go(t,e,n,i){var a=t.data;if(null===a[n+1]){var r=a[Ae()+20],o=Wo(t,n);ts(r,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){var a=Ce(t),r=i?e.residualClasses:e.residualStyles;if(null===a)0===(i?e.classBindings:e.styleBindings)&&(n=Xo(n=qo(null,t,e,n,i),e.attrs,i),r=null);else{var o=e.directiveStylingLast;if(-1===o||t[o]!==a)if(n=qo(a,t,e,n,i),null===r){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==qi(i))return t[Wi(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[Wi(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=Xo(s=qo(null,t,e,s[1],i),e.attrs,i))}else r=function(t,e,n){for(var i=void 0,a=e.directiveEnd,r=1+e.directiveStylingLast;r<a;r++)i=Xo(i,t[r].hostAttrs,n);return Xo(i,e.attrs,n)}(t,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),n}(a,r,e,i),function(t,e,n,i,a,r){var o=r?e.classBindings:e.styleBindings,s=Wi(o),c=qi(o);t[i]=n;var l,u=!1;if(Array.isArray(n)){var d=n;(null===(l=d[1])||gt(d,l)>0)&&(u=!0)}else l=n;if(a)if(0!==c){var f=Wi(t[s+1]);t[i+1]=Qi(f,s),0!==f&&(t[f+1]=Xi(t[f+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=Qi(s,0),0!==s&&(t[s+1]=Xi(t[s+1],i)),s=i;else t[i+1]=Qi(c,0),0===s?s=i:t[c+1]=Xi(t[c+1],i),c=i;u&&(t[i+1]=Gi(t[i+1])),Lo(t,l,i,!0),Lo(t,l,i,!1),function(t,e,n,i,a){var r=a?t.residualClasses:t.residualStyles;null!=r&&"string"==typeof e&&gt(r,e)>=0&&(n[i+1]=$i(n[i+1]))}(e,l,t,i,r),o=Qi(s,c),r?e.classBindings=o:e.styleBindings=o}(a,r,e,n,o,i)}}function qo(t,e,n,i,a){var r=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(i=Xo(i,(r=e[s]).hostAttrs,a),r!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function Xo(t,e,n){var i=n?1:2,a=-1;if(null!==e)for(var r=0;r<e.length;r++){var o=e[r];"number"==typeof o?a=o:a===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pt(t,o,!!n||e[++r]))}return void 0===t?null:t}function $o(t,e,n,i,a,r,o,s){if(3===e.type){var c=t.data,l=c[s+1];Ko(1==(1&l)?Jo(c,e,n,a,qi(l),o):void 0)||(Ko(r)||2==(2&l)&&(r=Jo(c,null,n,a,s,o)),function(t,e,n,i,a){var r=Ht(t);if(e)a?r?t.addClass(n,i):n.classList.add(i):r?t.removeClass(n,i):n.classList.remove(i);else{var o=-1==i.indexOf("-")?void 0:2;null==a?r?t.removeStyle(n,i,o):n.style.removeProperty(i):r?t.setStyle(n,i,a,o):n.style.setProperty(i,a)}}(i,o,Gt(Ae(),n),a,r))}}function Jo(t,e,n,i,a,r){for(var o=null===e,s=void 0;a>0;){var c=t[a],l=Array.isArray(c),u=l?c[1]:c,d=null===u,f=n[a+1];f===Zi&&(f=d?Ro:void 0);var h=d?mt(f,i):u===i?f:void 0;if(l&&!Ko(h)&&(h=mt(c,i)),Ko(h)&&(s=h,o))return s;var p=t[a+1];a=o?Wi(p):qi(p)}if(null!==e){var m=r?e.residualClasses:e.residualStyles;null!=m&&(s=mt(m,i))}return s}function Ko(t){return void 0!==t}function ts(t,e){return 0!=(t.flags&(e?16:32))}function es(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=se(),i=ce(),a=t+20,r=i.firstCreatePass?ea(i,n[6],t,3,null,null):i.data[a],o=n[a]=function(t,e){return Ht(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);nr(i,n,o,r),de(r,!1)}function ns(t){return is("",t,""),ns}function is(t,e,n){var i=se(),a=Jr(i,t,e,n);return a!==Zi&&Na(i,Ae(),a),is}function as(t,e,n,i,a){var r=se(),o=Kr(r,t,e,n,i,a);return o!==Zi&&Na(r,Ae(),o),as}function rs(t,e,n,i,a,r,o){var s=se(),c=to(s,t,e,n,i,a,r,o);return c!==Zi&&Na(s,Ae(),c),rs}function os(t,e,n,i,a,r,o,s,c){var l=se(),u=eo(l,t,e,n,i,a,r,o,s,c);return u!==Zi&&Na(l,Ae(),u),os}function ss(t,e,n,i,a,r,o,s,c,l,u){var d=se(),f=no(d,t,e,n,i,a,r,o,s,c,l,u);return f!==Zi&&Na(d,Ae(),f),ss}function cs(t,e,n){Qo(pt,Vo,Jr(se(),t,e,n),!0)}function ls(t,e,n,i,a,r,o,s,c,l,u){Qo(pt,Vo,no(se(),t,e,n,i,a,r,o,s,c,l,u),!0)}function us(t,e,n){var i=se();return Wr(i,ve(),e)&&ha(ce(),Re(),i,t,e,i[11],n,!0),us}function ds(t,e,n){var i=se();if(Wr(i,ve(),e)){var a=ce(),r=Re();ha(a,r,i,t,e,ja(Ce(a.data),r,i),n,!0)}return ds}function fs(t,e){var n=Kt(t)[1],i=n.data.length-1;je(n,{directiveStart:i,directiveEnd:i+1})}function hs(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var a=void 0;if(Nt(t))a=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");a=e.\u0275dir}if(a){if(n){i.push(a);var r=t;r.inputs=ps(t.inputs),r.declaredInputs=ps(t.declaredInputs),r.outputs=ps(t.outputs);var o=a.hostBindings;o&&bs(t,o);var s=a.viewQuery,c=a.contentQueries;if(s&&ms(t,s),c&&gs(t,c),v(t.inputs,a.inputs),v(t.declaredInputs,a.declaredInputs),v(t.outputs,a.outputs),Nt(a)&&a.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(a.data.animation)}r.afterContentChecked=r.afterContentChecked||a.afterContentChecked,r.afterContentInit=t.afterContentInit||a.afterContentInit,r.afterViewChecked=t.afterViewChecked||a.afterViewChecked,r.afterViewInit=t.afterViewInit||a.afterViewInit,r.doCheck=t.doCheck||a.doCheck,r.onDestroy=t.onDestroy||a.onDestroy,r.onInit=t.onInit||a.onInit}var u=a.features;if(u)for(var d=0;d<u.length;d++){var f=u[d];f&&f.ngInherit&&f(t),f===hs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var a=t[i];a.hostVars=e+=a.hostVars,a.hostAttrs=We(a.hostAttrs,n=We(n,a.hostAttrs))}}(i)}function ps(t){return t===yt?{}:t===_t?[]:t}function ms(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function gs(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,a){e(t,i,a),n(t,i,a)}:e}function bs(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var vs=function(){function t(e,n,i){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ys(t){t.type.prototype.ngOnChanges&&(t.setInput=_s,t.onChanges=function(){var t=ks(this),e=t&&t.current;if(e){var n=t.previous;if(n===yt)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}})}function _s(t,e,n,i){var a=ks(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),r=a.current||(a.current={}),o=a.previous,s=this.declaredInputs[n],c=o[s];r[s]=new vs(c&&c.currentValue,e,o===yt),t[i]=e}function ks(t){return t.__ngSimpleChanges__||null}function Cs(t,e,n,i,a){if(t=D(t),Array.isArray(t))for(var r=0;r<t.length;r++)Cs(t[r],e,n,i,a);else{var o=ce(),s=se(),c=Ar(t)?t:D(t.provide),l=Ir(t),u=ue(),d=65535&u.providerIndexes,f=u.directiveStart,h=u.providerIndexes>>16;if(Ar(t)||!t.multi){var p=new ze(l,a,ro),m=Os(c,e,a?d:d+h,f);-1===m?(pn(un(u,s),o,c),xs(o,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,a&&(u.providerIndexes+=65536),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var g=Os(c,e,d+h,f),b=Os(c,e,d,d+h),v=g>=0&&n[g],y=b>=0&&n[b];if(a&&!y||!a&&!v){pn(un(u,s),o,c);var _=function(t,e,n,i,a){var r=new ze(t,n,ro);return r.multi=[],r.index=e,r.componentProviders=0,ws(r,a,i&&!n),r}(a?Es:Ss,n.length,a,i,l);!a&&y&&(n[b].providerFactory=_),xs(o,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,a&&(u.providerIndexes+=65536),n.push(_),s.push(_)}else xs(o,t,g>-1?g:b,ws(n[a?b:g],l,!a&&i));!a&&i&&y&&n[b].componentProviders++}}}function xs(t,e,n,i){var a=Ar(e);if(a||e.useClass){var r=(e.useClass||e).prototype.ngOnDestroy;if(r){var o=t.destroyHooks||(t.destroyHooks=[]);if(!a&&e.multi){var s=o.indexOf(n);-1===s?o.push(n,[i,r]):o[s+1].push(i,r)}else o.push(n,r)}}}function ws(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Os(t,e,n,i){for(var a=n;a<i;a++)if(e[a]===t)return a;return-1}function Ss(t,e,n,i){return Ms(this.multi,[])}function Es(t,e,n,i){var a,r=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=yn(n,n[1],this.providerFactory.index,i);Ms(r,a=s.slice(0,o));for(var c=o;c<s.length;c++)a.push(s[c])}else Ms(r,a=[]);return a}function Ms(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Is(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=ce();if(i.firstCreatePass){var a=Nt(t);Cs(n,i.data,i.blueprint,a,!0),Cs(e,i.data,i.blueprint,a,!1)}}(n,i?i(t):t,e)}}}ys.ngInherit=!0;var Ps=function t(){_classCallCheck(this,t)},Ts=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(I(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),As=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Ts,t}(),Ds=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Rs(t)},t}(),Rs=function(t){return pr(t,ue(),se())},Ls=function t(){_classCallCheck(this,t)},Fs=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),js=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ys()},t}(),Ys=function(){var t=se(),e=Jt(ue().index,t);return function(t){var e=t[11];if(Ht(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)},Zs=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=y({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ns=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Us=new Ns("9.1.12"),Bs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Vr(t)}},{key:"create",value:function(t){return new Vs(t)}}]),t}(),zs=function(t,e){return e},Vs=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zs}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,a=null;e||n;){var r=!n||e&&e.currentIndex<Gs(n,i,a)?e:n,o=Gs(r,i,a),s=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(e=e._next,null==r.previousIndex)i++;else{a||(a=[]);var c=o-i,l=s-i;if(c!=l){for(var u=0;u<c;u++){var d=u<a.length?a[u]:a[u]=0,f=d+u;l<=f&&f<c&&(a[u]=d+1)}a[r.previousIndex]=l-c}}o!==s&&t(r,o,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Vr(t))throw new Error("Error trying to diff '".concat(I(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,a,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],a=this._trackByFn(s,i),null!==r&&Br(r.trackById,a)?(o&&(r=this._verifyReinsertion(r,i,a,s)),Br(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,a,s),o=!0),r=r._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,a=t[Ur()]();!(i=a.next()).done;)e(i.value)}(t,(function(t){a=e._trackByFn(n,t),null!==r&&Br(r.trackById,a)?(o&&(r=e._verifyReinsertion(r,t,a,n)),Br(r.item,t)||e._addIdentityChange(r,t)):(r=e._mismatch(r,t,a,n),o=!0),r=r._next,n++})),this.length=n;return this._truncate(r),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Br(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Br(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,i)):t=this._addAfter(new Hs(e,n),a,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ws),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ws),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Hs=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Qs=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Br(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ws=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Qs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Gs(t,e,n){var i=t.previousIndex;if(null===i)return i;var a=0;return n&&i<n.length&&(a=n[i]),i+e+a}var qs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Hr(t)}},{key:"create",value:function(){return new Xs}}]),t}(),Xs=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Hr(t)))throw new Error("Error trying to diff '".concat(I(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var a=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,a)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,a=n._next;return i&&(i._next=a),a&&(a._prev=i),n._next=null,n._prev=null,n}var r=new $s(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Br(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),$s=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Js=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new m,new h]]}}}]),t}();return t.\u0275prov=y({token:t,providedIn:"root",factory:function(){return new t([new Bs])}}),t}(),Ks=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new m,new h]]}}}]),t}();return t.\u0275prov=y({token:t,providedIn:"root",factory:function(){return new t([new qs])}}),t}(),tc=[new qs],ec=new Js([new Bs]),nc=new Ks(tc),ic=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ac(t,Ds)},t}(),ac=function(t,e){return mr(t,e,ue(),se())},rc=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return oc(t,Ds)},t}(),oc=function(t,e){return gr(t,e,ue(),se())},sc={},cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).ngModule=t,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=At(t);return new dc(e,this.ngModule)}}]),n}(As);function lc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var uc=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return en}}),dc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this)).componentDef=t,a.ngModule=i,a.componentType=t.type,a.selector=t.selectors.map(Yi).join(","),a.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],a.isBoundToModule=!!i,a}return _createClass(n,[{key:"create",value:function(t,e,n,i){var a,r,o=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,a){var r=t.get(n,sc,a);return r!==sc||i===sc?r:e.get(n,i,a)}}}(t,i.injector):t,s=o.get(Ls,Qt),c=o.get(Zs,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=n?function(t,e,n){if(Ht(t))return t.selectRootElement(e,n===vt.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(l,n,this.componentDef.encapsulation):Ki(u,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),f=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:en,clean:Ra,playerHandler:null,flags:0},m=ua(0,-1,null,1,0,null,null,null,null,null),g=ta(null,m,p,f,null,null,s,l,c,o);Se(g,null);try{var b=function(t,e,n,i,a,r){var o=n[1];n[20]=t;var s=ea(o,null,0,3,null,null),c=s.mergedAttrs=e.hostAttrs;null!==c&&(Zr(s,c,!0),null!==t&&(Ve(a,t,c),null!==s.classes&&cr(a,t,s.classes),null!==s.styles&&sr(a,t,s.styles)));var l=i.createRenderer(t,e),u=ta(n,la(e),null,e.onPush?64:16,n[20],s,i,l,void 0);return o.firstCreatePass&&(pn(un(s,n),o,e.type),ya(o,s),ka(s,n.length,1)),Ia(n,u),n[20]=u}(d,this.componentDef,g,s,l);if(d)if(n)Ve(l,d,["ng-version",Us.full]);else{var v=function(t){for(var e=[],n=[],i=1,a=2;i<t.length;){var r=t[i];if("string"==typeof r)2===a?""!==r&&e.push(r,t[++i]):8===a&&n.push(r);else{if(!Di(a))break;a=r}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=v.attrs,_=v.classes;y&&Ve(l,d,y),_&&_.length>0&&cr(l,d,_.join(" "))}if(r=Xt(m,0),void 0!==e)for(var k=r.projection=[],C=0;C<this.ngContentSelectors.length;C++){var x=e[C];k.push(null!=x?Array.from(x):null)}a=function(t,e,n,i,a){var r=n[1],o=function(t,e,n){var i=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),va(t,i,1),Ca(t,e,n));var a=yn(e,t,e.length-1,i);Oi(a,e);var r=qt(i,e);return r&&Oi(r,e),a}(r,n,e);i.components.push(o),t[8]=o,a&&a.forEach((function(t){return t(o,e)})),e.contentQueries&&e.contentQueries(1,o,n.length-1);var s=ue();if(r.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){De(s.index-20);var c=n[1];ma(c,e),ga(c,n,e.hostVars),ba(e,o)}return o}(b,this.componentDef,g,p,[fs]),na(m,g,null)}finally{Te()}var w=new fc(this.componentType,a,pr(Ds,r,g),g,r);return n&&!h||(m.node.child=r),w}},{key:"inputs",get:function(){return lc(this.componentDef.inputs)}},{key:"outputs",get:function(){return lc(this.componentDef.outputs)}}]),n}(Ps),fc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s,c,l,u;return _classCallCheck(this,n),(s=e.call(this)).location=a,s._rootLView=r,s._tNode=o,s.destroyCbs=[],s.instance=i,s.hostView=s.changeDetectorRef=new hr(r),c=r[1],l=r,null==(u=c.node)&&(c.node=u=da(0,null,2,-1,null,null)),l[6]=u,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new Cn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),hc=void 0,pc=["en",[["a","p"],["AM","PM"],hc],[["AM","PM"],hc,hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hc,"{1} 'at' {0}",hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],mc={};function gc(t,e,n){"string"!=typeof e&&(n=e,e=t[kc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),mc[e]=t,n&&(mc[e][kc.ExtraData]=n)}function bc(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=_c(e);if(n)return n;var i=e.split("-")[0];if(n=_c(i))return n;if("en"===i)return pc;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function vc(t){return bc(t)[kc.CurrencyCode]||null}function yc(t){return bc(t)[kc.PluralCase]}function _c(t){return t in mc||(mc[t]=N.ng&&N.ng.common&&N.ng.common.locales&&N.ng.common.locales[t]),mc[t]}var kc=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Cc(t){var e;null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var xc=new Map,wc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;_classCallCheck(this,n),(a=e.call(this))._parent=i,a._bootstrapComponents=[],a.injector=_assertThisInitialized(a),a.destroyCbs=[],a.componentFactoryResolver=new cc(_assertThisInitialized(a));var r=Rt(t),o=t[H]||null;return o&&Cc(o),a._bootstrapComponents=on(r.bootstrap),a._r3Injector=Sr(t,i,[{provide:ct,useValue:_assertThisInitialized(a)},{provide:As,useValue:a.componentFactoryResolver}],I(t)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(t),a}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Default;return t===Rr||t===ct||t===q?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ct),Oc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).moduleType=t,null!==Rt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(I(e)," vs ").concat(I(e.name)))})(n,xc.get(n),e),xc.set(n,e)}var i=e.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(e){return t(e)}))}(t),i}return _createClass(n,[{key:"create",value:function(t){return new wc(this.moduleType,t)}}]),n}(lt);function Sc(t,e,n){var i=ge()+t,a=se();return a[i]===Zi?Qr(a,i,n?e.call(n):e()):function(t,e){return t[e]}(a,i)}function Ec(t,e,n,i){return Tc(se(),ge(),t,e,n,i)}function Mc(t,e,n,i,a){return Ac(se(),ge(),t,e,n,i,a)}function Ic(t,e,n,i,a,r){return Dc(se(),ge(),t,e,n,i,a,r)}function Pc(t,e){var n=t[e];return n===Zi?void 0:n}function Tc(t,e,n,i,a,r){var o=e+n;return Wr(t,o,a)?Qr(t,o+1,r?i.call(r,a):i(a)):Pc(t,o+1)}function Ac(t,e,n,i,a,r,o){var s=e+n;return Gr(t,s,a,r)?Qr(t,s+2,o?i.call(o,a,r):i(a,r)):Pc(t,s+2)}function Dc(t,e,n,i,a,r,o,s){var c=e+n;return qr(t,c,a,r,o)?Qr(t,c+3,s?i.call(s,a,r,o):i(a,r,o)):Pc(t,c+3)}function Rc(t,e){var n,i=ce(),a=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[a]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(a,n.onDestroy)):n=i.data[a];var r=n.factory||(n.factory=Dt(n.type)),o=et(ro),s=cn(!1),c=r();return cn(s),et(o),function(t,e,n,i){var a=n+20;a>=t.data.length&&(t.data[a]=null,t.blueprint[a]=null),e[a]=i}(i,se(),t,c),c}function Lc(t,e,n){var i=se(),a=$t(i,t);return Zc(i,Yc(i,t)?Tc(i,ge(),e,a.transform,n,a):a.transform(n))}function Fc(t,e,n,i){var a=se(),r=$t(a,t);return Zc(a,Yc(a,t)?Ac(a,ge(),e,r.transform,n,i,r):r.transform(n,i))}function jc(t,e,n,i,a){var r=se(),o=$t(r,t);return Zc(r,Yc(r,t)?Dc(r,ge(),e,o.transform,n,i,a,o):o.transform(n,i,a))}function Yc(t,e){return t[1].data[e+20].pure}function Zc(t,e){return zr.isWrapped(e)&&(e=zr.unwrap(e),t[be()]=Zi),e}var Nc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=i,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var r,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var c=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,o,s);return t instanceof a.a&&t.add(c),c}}]),n}(i.a);function Uc(){return this._results[Ur()]()}var Bc=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Nc,this.length=0;var e=Ur(),n=t.prototype;n[e]||(n[e]=Uc)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var i=0;i<e.length;i++){var a=e[i];Array.isArray(a)?(n===e&&(n=e.slice(0,i)),t(a,n)):n!==e&&n.push(a)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),zc=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Vc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,a=[],r=0;r<i;r++){var o=n.getByIndex(r);a.push(this.queries[o.indexInDeclarationView].clone())}return new t(a)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==sl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Hc=function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=i,this.read=a},Qc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var a=null!==n?n.length:0,r=this.getByIndex(i).embeddedTView(e,a);r&&(r.indexInDeclarationView=i,null!==n?n.push(r):n=[r])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Wc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,Gc(e,n[i]));else{var a=this.metadata.predicate;a===ic?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vn(e,t,a,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===Ds||i===rc||i===ic&&0===e.type)this.addMatch(e.index,-2);else{var a=vn(e,t,i,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Gc(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function qc(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?pr(Ds,t,e):0===t.type?mr(ic,Ds,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ds?pr(Ds,e,t):n===ic?mr(ic,Ds,e,t):n===rc?gr(rc,Ds,e,t):void 0}(t,e,i):yn(t,t[1],n,e)}function Xc(t,e,n,i){var a=e[19].queries[i];if(null===a.matches){for(var r=t.data,o=n.matches,s=[],c=0;c<o.length;c+=2){var l=o[c];s.push(l<0?null:qc(e,r[l],o[c+1],n.metadata.read))}a.matches=s}return a.matches}function $c(t){var e=se(),n=ce(),i=xe();we(i+1);var a=sl(n,i);if(t.dirty&&te(e)===a.metadata.isStatic){if(null===a.matches)t.reset([]);else{var r=a.crossesNgTemplate?function t(e,n,i,a){var r=e.queries.getByIndex(i),o=r.matches;if(null!==o)for(var s=Xc(e,n,r,i),c=0;c<o.length;c+=2){var l=o[c];if(l>0)a.push(s[c/2]);else{for(var u=o[c+1],d=n[-l],f=10;f<d.length;f++){var h=d[f];h[17]===h[3]&&t(h[1],h,u,a)}if(null!==d[9])for(var p=d[9],m=0;m<p.length;m++){var g=p[m];t(g[1],g,u,a)}}}return a}(n,e,i,[]):Xc(n,e,a,i);t.reset(r),t.notifyOnChanges()}return!0}return!1}function Jc(t,e,n){tl(ce(),se(),t,e,n,!0)}function Kc(t,e,n){tl(ce(),se(),t,e,n,!1)}function tl(t,e,n,i,a,r){t.firstCreatePass&&(ol(t,new Hc(n,i,r,a),-1),r&&(t.staticViewQueries=!0)),rl(t,e)}function el(t,e,n,i){il(ce(),se(),e,n,i,!1,ue(),t)}function nl(t,e,n,i){il(ce(),se(),e,n,i,!0,ue(),t)}function il(t,e,n,i,a,r,o,s){t.firstCreatePass&&(ol(t,new Hc(n,i,r,a),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),r&&(t.staticContentQueries=!0)),rl(t,e)}function al(){return t=se(),e=xe(),t[19].queries[e].queryList;var t,e}function rl(t,e){var n=new Bc;!function(t,e,n,i){var a=La(e);a.push(n),t.firstCreatePass&&Fa(t).push(i,a.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Vc),e[19].queries.push(new zc(n))}function ol(t,e,n){null===t.queries&&(t.queries=new Qc),t.queries.track(new Wc(e,n))}function sl(t,e){return t.queries.getByIndex(e)}function cl(t,e){return mr(ic,Ds,t,e)}function ll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.Default,e=br(!0);if(null!=e||t&g.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var ul=d("Input",(function(t){return{bindingPropertyName:t}})),dl=d("Output",(function(t){return{bindingPropertyName:t}})),fl=new G("Application Initializer"),hl=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var a=this.appInits[i]();vo(a)&&e.push(a)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(it(fl,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}(),pl=new G("AppId"),ml={provide:pl,useFactory:function(){return"".concat(gl()).concat(gl()).concat(gl())},deps:[]};function gl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var bl=new G("Platform Initializer"),vl=new G("Platform ID"),yl=new G("appBootstrapListener"),_l=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}(),kl=new G("LocaleId"),Cl=new G("DefaultCurrencyCode"),xl=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},wl=function(t){return new Oc(t)},Ol=wl,Sl=function(t){return Promise.resolve(wl(t))},El=function(t){var e=wl(t),n=on(Rt(t).declarations).reduce((function(t,e){var n=At(e);return n&&t.push(new dc(n)),t}),[]);return new xl(e,n)},Ml=El,Il=function(t){return Promise.resolve(El(t))},Pl=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Ol,this.compileModuleAsync=Sl,this.compileModuleAndAllComponentsSync=Ml,this.compileModuleAndAllComponentsAsync=Il}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}(),Tl=new G("compilerOptions"),Al=Promise.resolve(0);function Dl(t){"undefined"==typeof Zone?Al.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Rl=function(){function t(e){var n,i,a=e.enableLongStackTrace,r=void 0!==a&&a,o=e.shouldCoalesceEventChangeDetection,s=void 0!==o&&o;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=N.requestAnimationFrame,e=N.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(N,(function(){t.lastRequestAnimationFrameId=-1,Yl(t),jl(t)})),Yl(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(t,e,a,r,o,s){try{return Zl(n),t.invokeTask(a,r,o,s)}finally{i&&"eventTask"===r.type&&i(),Nl(n)}},onInvoke:function(t,e,i,a,r,o,s){try{return Zl(n),t.invoke(i,a,r,o,s)}finally{Nl(n)}},onHasTask:function(t,e,i,a){t.hasTask(i,a),e===i&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,Yl(n),jl(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:function(t,e,i,a){return t.handleError(i,a),n.runOutsideAngular((function(){return n.onError.emit(a)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var a=this._inner,r=a.scheduleEventTask("NgZoneEvent: "+i,t,Fl,Ll,Ll);try{return a.runTask(r,e,n)}finally{a.cancelTask(r)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Ll(){}var Fl={};function jl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Yl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Zl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nl(t){t._nesting--,jl(t)}var Ul=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),Bl=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Rl.assertNotInAngularZone(),Dl((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Dl((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var i=this,a=-1;e&&e>0&&(a=setTimeout((function(){i._callbacks=i._callbacks.filter((function(t){return t.timeoutId!==a})),t(i._didWork,i.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(it(Rl))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}(),zl=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Ql.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ql.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}();function Vl(t){Ql=t}var Hl,Ql=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Wl=function(t,e,n){var i=t.get(Tl,[]).concat(e),a=new Oc(n);if(0===Fr.size)return Promise.resolve(a);var r,o,s=(r=i.map((function(t){return t.providers})),o=[],r.forEach((function(t){return t&&o.push.apply(o,_toConsumableArray(t))})),o);if(0===s.length)return Promise.resolve(a);var c=function(){var t=N.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),l=Rr.create({providers:s}).get(c.ResourceLoader);return function(t){var e=[],n=new Map;function i(t){var e=n.get(t);if(!e){var i=function(t){return Promise.resolve(l.get(t))}(t);n.set(t,e=i.then(Yr))}return e}return Fr.forEach((function(t,n){var a=[];t.templateUrl&&a.push(i(t.templateUrl).then((function(e){t.template=e})));var r=t.styleUrls,o=t.styles||(t.styles=[]),s=t.styles.length;r&&r.forEach((function(e,n){o.push(""),a.push(i(e).then((function(i){o[s+n]=i,r.splice(r.indexOf(e),1),0==r.length&&(t.styleUrls=void 0)})))}));var c=Promise.all(a).then((function(){return function(t){jr.delete(t)}(n)}));e.push(c)})),Fr=new Map,Promise.all(e).then((function(){}))}().then((function(){return a}))},Gl=new G("AllowMultipleToken"),ql=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Xl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+e,a=new G(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=$l();if(!r||r.injector.get(Gl,!1))if(t)t(n.concat(e).concat({provide:a,useValue:!0}));else{var o=n.concat(e).concat({provide:a,useValue:!0},{provide:_r,useValue:"platform"});!function(t){if(Hl&&!Hl.destroyed&&!Hl.injector.get(Gl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hl=t.get(Jl);var e=t.get(bl,null);e&&e.forEach((function(t){return t()}))}(Rr.create({providers:o,name:i}))}return function(t){var e=$l();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(a)}}function $l(){return Hl&&!Hl.destroyed?Hl:null}var Jl=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,a=this,r=(n=e?e.ngZone:void 0,i=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Ul:("zone.js"===n?void 0:n)||new Rl({enableLongStackTrace:Hn(),shouldCoalesceEventChangeDetection:i})),o=[{provide:Rl,useValue:r}];return r.run((function(){var e=Rr.create({providers:o,parent:a.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(Mn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return eu(a._modules,n)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(t){i.handleError(t)}})})),function(t,e,i){try{var r=((o=n.injector.get(hl)).runInitializers(),o.donePromise.then((function(){return Cc(n.injector.get(kl,"en-US")||"en-US"),a._moduleDoBootstrap(n),n})));return vo(r)?r.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):r}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var o}(i,r)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Kl({},n);return Wl(this.injector,i,t).then((function(t){return e.bootstrapModuleFactory(t,i)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(I(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(it(Rr))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}();function Kl(t,e){return Array.isArray(e)?e.reduce(Kl,t):Object.assign(Object.assign({},t),e)}var tu=function(){var t=function(){function t(e,n,i,a,c,l){var u=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=a,this._componentFactoryResolver=c,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Hn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run((function(){u.tick()}))}});var d=new r.a((function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular((function(){t.next(u._stable),t.complete()}))})),f=new r.a((function(t){var e;u._zone.runOutsideAngular((function(){e=u._zone.onStable.subscribe((function(){Rl.assertNotInAngularZone(),Dl((function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))}))}))}));var n=u._zone.onUnstable.subscribe((function(){Rl.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(o.a)(d,f.pipe(Object(s.a)()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ps?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var a=n.isBoundToModule?void 0:this._injector.get(ct),r=n.create(Rr.NULL,[],e||n.selector,a);r.onDestroy((function(){i._unloadComponent(r)}));var o=r.injector.get(Bl,null);return o&&r.injector.get(zl).registerApplication(r.location.nativeElement,o),this._loadComponent(r),Hn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}if(this._enforceNoNewChanges){var i,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(i=a.n()).done;){i.value.checkNoChanges()}}catch(r){a.e(r)}finally{a.f()}}}catch(o){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(o)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;eu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yl,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),eu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(it(Rl),it(_l),it(Rr),it(Mn),it(As),it(hl))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}();function eu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var nu=function t(){_classCallCheck(this,t)},iu=function t(){_classCallCheck(this,t)},au={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ru=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||au}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=_slicedToArray(t.split("#"),2),a=i[0],r=i[1];return void 0===r&&(r="default"),n("TCaw")(a).then((function(t){return t[r]})).then((function(t){return ou(t,a,r)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),i=e[0],a=e[1],r="NgFactory";return void 0===a&&(a="default",r=""),n("TCaw")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(t){return t[a+r]})).then((function(t){return ou(t,i,a)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(it(Pl),it(iu,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t}();function ou(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var su=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(vr)),cu=function(t){return null},lu=Xl(null,"core",[{provide:vl,useValue:"unknown"},{provide:Jl,deps:[Rr]},{provide:zl,deps:[]},{provide:_l,deps:[]}]),uu=[{provide:tu,useClass:tu,deps:[Rl,_l,Rr,Mn,As,hl]},{provide:uc,deps:[Rl],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:hl,useClass:hl,deps:[[new h,fl]]},{provide:Pl,useClass:Pl,deps:[]},ml,{provide:Js,useFactory:function(){return ec},deps:[]},{provide:Ks,useFactory:function(){return nc},deps:[]},{provide:kl,useFactory:function(t){return Cc(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new f(kl),new h,new m]]},{provide:Cl,useValue:"USD"}],du=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Et({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(it(tu))},providers:uu}),t}()},fp7N:function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));var i=n("fXoL"),a=n("XNiG"),r=n("VRyK"),o=n("LRne"),s=n("M9IT"),c=n("1G5W"),l=n("JX91"),u=n("eIep"),d=n("lJxs"),f=n("JIr8"),h=n("3Pt+"),p=n("sYmb"),m=n("tk/3"),g=n("AXEc"),b=n("4zkx"),v=n("A6w4"),y=n("0IaG"),_=n("rH+9"),k=n("ofXK"),C=n("+0xr"),x=n("5+WD"),w=n("Dh3D"),O=n("Xa2L"),S=n("bSwM"),E=n("NFeN"),M=n("aEDk"),I=n("ZI/H"),P=["tableResourceListSort"];function T(t,e){1&t&&i.Ub(0,"mat-spinner")}function A(t,e){if(1&t&&(i.Zb(0,"div",27),i.Qc(1,T,1,0,"mat-spinner",28),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function D(t,e){if(1&t&&(i.Zb(0,"small",29),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Vc("- ",n.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}function R(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-checkbox",32),i.hc("change",(function(t){return i.Hc(n),i.lc(2).toggleAllRes(t)})),i.mc(1,"translate"),i.Yb()}if(2&t){var a=i.lc(2);i.tc("title",i.nc(1,3,"lang.selectAllResInBasket")),i.sc("checked",a.selectedRes.length==a.allResInSearch.length&&a.selectedRes.length>0)("indeterminate",a.selectedRes.length>0&&a.selectedRes.length<a.allResInSearch.length)}}function L(t,e){if(1&t&&(i.Zb(0,"mat-header-cell",30),i.Qc(1,R,2,5,"mat-checkbox",31),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",!n.singleMode)}}function F(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-cell",30),i.Zb(1,"mat-checkbox",33),i.hc("change",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().toggleRes(t,a)}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.Eb(1),i.sc("checked",-1!==r.selectedRes.indexOf(a.resId))("disabled",r.excludeRes.indexOf(a.resId)>-1)}}function j(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.category_id")," "))}function Y(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",i.nc(2,1,"lang."+n.category)," ")}}function Z(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.chrono")," "))}function N(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.chrono," ")}}function U(t,e){1&t&&(i.Zb(0,"mat-header-cell",35),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.status")," "))}var B=function(t){return{color:t}};function z(t,e){if(1&t&&(i.Zb(0,"mat-cell",36),i.Ub(1,"mat-icon",37),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Ib("",n.statusImage.charAt(0),"",n.statusImage.charAt(1)," ",n.statusImage," ",n.statusImage.charAt(0),"",n.statusImage.charAt(1),"-2x"),i.tc("title",n.statusLabel),i.sc("ngStyle",i.zc(9,B,n.priorityColor))}}function V(t,e){1&t&&(i.Zb(0,"mat-header-cell",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.subject")," "))}function H(t,e){if(1&t&&(i.Zb(0,"mat-cell",39),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.subject," ")}}function Q(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.doctype")," "))}function W(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.typeLabel," ")}}function G(t,e){1&t&&(i.Zb(0,"mat-header-cell",34),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.creationDate")," "))}function q(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"ucfirst"),i.mc(3,"timeAgo"),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",i.nc(2,1,i.oc(3,3,n.creationDate,"full"))," ")}}function X(t,e){1&t&&i.Ub(0,"mat-header-row")}function $(t,e){1&t&&i.Ub(0,"mat-row",40)}var J=function(){var t=function(){function t(e,n,r,o,s,c,l){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=r,this.headerService=o,this.appService=s,this.dialog=c,this.functions=l,this.loading=!1,this.filtersChange=new i.o,this.displayedColumnsResource=["action","category","chrono","status","subject","typeLabel","creationDate"],this.selectedRes=[],this.allResInSearch=[],this.isLoadingResults=!0,this.routeUrl="../rest/search",this.resultsLength=0,this.searchResource=new h.h,this.search="",this.singleMode=!1,this.excludeRes=[],this.destroy$=new a.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.initResourceList(),this.selectedRes=[]}},{key:"initResourceList",value:function(){var t=this;this.resultListDatabase=new K(this.http),this.paginator.pageIndex=0,this.sort.active="creationDate",this.sort.direction="desc",this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(r.a)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(c.a)(this.destroy$),Object(l.a)({}),Object(u.a)((function(){return t.isLoadingResults=!0,t.resultListDatabase.getRepoIssues(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.routeUrl,t.search)})),Object(d.a)((function(e){return t.isLoadingResults=!1,e=t.processPostData(e),t.resultsLength=e.count,t.allResInSearch=e.allResources,e.resources})),Object(f.a)((function(e){return t.notify.handleErrors(e),t.isLoadingResults=!1,Object(o.a)([])}))).subscribe((function(e){return t.data=e}))}},{key:"processPostData",value:function(t){var e=this;return t.resources.forEach((function(t){Object.keys(t).forEach((function(n){"statusImage"==n&&e.functions.empty(t[n])?t[n]="fa-question undefined":e.functions.empty(t[n])&&-1===["senders","recipients","attachments","hasDocument"].indexOf(n)&&(t[n]=e.translate.instant("lang.undefined"))}))})),t}},{key:"refreshDao",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==t&&(this.search=t),this.filtersChange.emit()}},{key:"toggleRes",value:function(t,e){if(this.singleMode&&(this.selectedRes=[]),t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{var n=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(n,1),e.checked=!1}}},{key:"toggleAllRes",value:function(t){var e=this;if(this.selectedRes=[],t.checked){this.data.forEach((function(t){-1===e.excludeRes.indexOf(t.resId)&&(t.checked=!0)}));var n=this.allResInSearch.filter((function(t){return-1===e.excludeRes.indexOf(t)}));this.selectedRes=JSON.parse(JSON.stringify(n))}else this.data.forEach((function(t){t.checked=!1}))}},{key:"getSelectedRessources",value:function(){return this.selectedRes}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(p.e),i.Tb(m.b),i.Tb(g.a),i.Tb(b.a),i.Tb(v.a),i.Tb(y.b),i.Tb(_.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["search-adv-list"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(s.a,!0),i.Oc(P,!0)),2&t&&(i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first))},inputs:{search:"search",singleMode:"singleMode",excludeRes:"excludeRes"},decls:38,vars:14,consts:[["class","example-loading-shade",4,"ngIf"],[2,"display","flex"],[2,"display","flex","align-items","center"],["style","color: #029BB6;",4,"ngIf"],[2,"flex","1"],[1,"paginatorResultList",3,"length","hidePageSize","pageSize"],["paginatorResultList",""],[2,"overflow","auto"],["cdkDropList","","id","document-list","matSort","","matSortActive","creationDate","matSortDisableClear","","matSortDirection","desc",2,"width","100%","min-width","800px",3,"dataSource"],["tableResourceListSort","matSort"],["matColumnDef","action"],["style","width: 70px;flex: initial;",4,"matHeaderCellDef"],["style","width: 70px;flex: initial;",4,"matCellDef"],["matColumnDef","category"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","chrono"],["matColumnDef","status"],["mat-sort-header","","style","width: 100px;flex: initial",4,"matHeaderCellDef"],["style","width: 100px;flex: initial",4,"matCellDef"],["matColumnDef","subject"],["mat-sort-header","","style","flex:2",4,"matHeaderCellDef"],["style","flex:2",4,"matCellDef"],["matColumnDef","typeLabel"],["matColumnDef","creationDate"],[4,"matHeaderRowDef"],["class","rowData",4,"matRowDef","matRowDefColumns"],[1,"example-loading-shade"],[4,"ngIf"],[2,"color","#029BB6"],[2,"width","70px","flex","initial"],["color","primary",3,"checked","indeterminate","title","change",4,"ngIf"],["color","primary",3,"checked","indeterminate","title","change"],["color","primary",3,"checked","disabled","change","click"],["mat-sort-header",""],["mat-sort-header","",2,"width","100px","flex","initial"],[2,"width","100px","flex","initial"],["color","primary",3,"title","ngStyle"],["mat-sort-header","",2,"flex","2"],[2,"flex","2"],[1,"rowData"]],template:function(t,e){1&t&&(i.Qc(0,A,2,1,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"b"),i.Sc(4),i.mc(5,"ucfirst"),i.mc(6,"translate"),i.Yb(),i.Sc(7,"\xa0"),i.Qc(8,D,3,4,"small",3),i.Yb(),i.Zb(9,"div",4),i.Ub(10,"mat-paginator",5,6),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"mat-table",8,9),i.Xb(15,10),i.Qc(16,L,2,1,"mat-header-cell",11),i.Qc(17,F,2,2,"mat-cell",12),i.Wb(),i.Xb(18,13),i.Qc(19,j,3,3,"mat-header-cell",14),i.Qc(20,Y,3,3,"mat-cell",15),i.Wb(),i.Xb(21,16),i.Qc(22,Z,3,3,"mat-header-cell",14),i.Qc(23,N,2,1,"mat-cell",15),i.Wb(),i.Xb(24,17),i.Qc(25,U,3,3,"mat-header-cell",18),i.Qc(26,z,2,11,"mat-cell",19),i.Wb(),i.Xb(27,20),i.Qc(28,V,3,3,"mat-header-cell",21),i.Qc(29,H,2,1,"mat-cell",22),i.Wb(),i.Xb(30,23),i.Qc(31,Q,3,3,"mat-header-cell",14),i.Qc(32,W,2,1,"mat-cell",15),i.Wb(),i.Xb(33,24),i.Qc(34,G,3,3,"mat-header-cell",14),i.Qc(35,q,4,6,"mat-cell",15),i.Wb(),i.Qc(36,X,1,0,"mat-header-row",25),i.Qc(37,$,1,0,"mat-row",26),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",e.isLoadingResults),i.Eb(4),i.Vc("",e.allResInSearch.length," ",i.nc(5,10,i.nc(6,12,"lang.records")),""),i.Eb(4),i.sc("ngIf",e.selectedRes.length>0),i.Eb(2),i.sc("length",e.resultsLength)("hidePageSize",!0)("pageSize",10),i.Eb(3),i.sc("dataSource",e.data),i.Eb(23),i.sc("matHeaderRowDef",e.displayedColumnsResource),i.Eb(1),i.sc("matRowDefColumns",e.displayedColumnsResource))},directives:[k.t,s.a,C.n,x.e,w.a,C.c,C.i,C.b,C.k,C.m,O.c,C.h,S.a,C.a,w.b,E.a,k.w,C.j,C.l],pipes:[M.u,p.d,I.a],styles:[".align_leftData[_ngcontent-%COMP%]{text-align:left}.align_centerData[_ngcontent-%COMP%]{text-align:center}.align_rightData[_ngcontent-%COMP%]{text-align:right}.boldFontData[_ngcontent-%COMP%]{font-weight:700}.bigFontData[_ngcontent-%COMP%]{font-size:14px}.smallFontData[_ngcontent-%COMP%]{font-size:10px}.normalData[_ngcontent-%COMP%]{flex:1}.chronoData[_ngcontent-%COMP%]{width:150px}.longData[_ngcontent-%COMP%]{flex:3}.locked[_ngcontent-%COMP%]{opacity:.5}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}.dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8}.badge-folder[_ngcontent-%COMP%], .hasEvent[_ngcontent-%COMP%]{cursor:pointer}.hasEvent[_ngcontent-%COMP%]:hover{color:#135f7f}.followIcon[_ngcontent-%COMP%]{color:#f99830}"]}),t}(),K=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getRepoIssues",value:function(t,e,n,i,a){return this.http.get("".concat(i,"?limit=10&offset=").concat(10*n,"&order=").concat(e,"&orderBy=").concat(t).concat(a))}}]),t}()},g9mw:function(t,e){t.exports=function(){"use strict";function t(t){this.config=t=t||{},this.config.id=t.id||"id",this.config.parent=t.parent||"parent",this.config.children=t.children||"children",this.config.options=t.options||{deleteParent:!0}}function e(t,e,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)}function n(t,e,n){var i;for(i=n.length,void 0===e[t]&&(e[t]=[]);i-- >0;)e[t].push(n.shift())}return t.prototype.convert=function(t){var i,a,r,o,s,c,l,u,d;for(i=0,o=[],r={},u={},a=t.length;i<a;i++)c=(d=t[i])[this.config.parent],r[s=d[this.config.id]]=d,null==c?o.push(d):(void 0!==r[c]?e(this.config.children,r[c],d):e(c,u,d),this.config.options.deleteParent&&delete d[this.config.parent]),void 0!==u[s]&&n(this.config.children,d,u[s]);return 1===o.length?l=o[0]:o.length>1?(l={})[this.config.children]=o:l={},l},t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("2fFW"),a=n("NJ4a"),r={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(a.a)(t)},complete:function(){}}},gTqA:function(t,e,n){"use strict";var i=n("Q1FS"),a=n("6qA3"),r=n("EBtg");e.from=function(t,e){return e?r.scheduled(t,e):t instanceof i.Observable?t:new i.Observable(a.subscribeTo(t))}},iadO:function(t,e,n){"use strict";n.d(e,"a",(function(){return J})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return $})),n.d(e,"d",(function(){return rt})),n.d(e,"e",(function(){return at})),n.d(e,"f",(function(){return lt})),n.d(e,"g",(function(){return ft})),n.d(e,"h",(function(){return dt})),n.d(e,"i",(function(){return ut})),n.d(e,"j",(function(){return H})),n.d(e,"k",(function(){return Q})),n.d(e,"l",(function(){return X}));var i=n("u47x"),a=n("rDax"),r=n("+rOU"),o=n("ofXK"),s=n("fXoL"),c=n("bTqV"),l=n("0IaG"),u=n("vxfF"),d=n("FKr1"),f=n("XNiG"),h=n("quSY"),p=n("VRyK"),m=n("LRne"),g=n("FtGj"),b=n("IzEk"),v=n("JX91"),y=n("pLZG"),_=n("8LU1"),k=n("R0Ic"),C=n("3Pt+"),x=n("kmnG"),w=n("qFsG"),O=n("cH1L"),S=["mat-calendar-body",""];function E(t,e){if(1&t&&(s.Zb(0,"tr",2),s.Zb(1,"td",3),s.Sc(2),s.Yb(),s.Yb()),2&t){var n=s.lc();s.Eb(1),s.Pc("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),s.Fb("colspan",n.numCols),s.Eb(1),s.Uc(" ",n.label," ")}}function M(t,e){if(1&t&&(s.Zb(0,"td",7),s.Sc(1),s.Yb()),2&t){var n=s.lc(2);s.Pc("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),s.Fb("colspan",n._firstRowOffset),s.Eb(1),s.Uc(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function I(t,e){if(1&t){var n=s.ac();s.Zb(0,"td",8),s.hc("click",(function(){s.Hc(n);var t=e.$implicit;return s.lc(2)._cellClicked(t)})),s.Zb(1,"div",9),s.Sc(2),s.Yb(),s.Yb()}if(2&t){var i=e.$implicit,a=e.index,r=s.lc().index,o=s.lc();s.Pc("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.Jb("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",o._isActiveCell(r,a)),s.sc("ngClass",i.cssClasses)("tabindex",o._isActiveCell(r,a)?0:-1),s.Fb("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",o.selectedValue===i.value),s.Eb(1),s.Jb("mat-calendar-body-selected",o.selectedValue===i.value)("mat-calendar-body-today",o.todayValue===i.value),s.Eb(1),s.Uc(" ",i.displayValue," ")}}function P(t,e){if(1&t&&(s.Zb(0,"tr",4),s.Qc(1,M,2,6,"td",5),s.Qc(2,I,3,20,"td",6),s.Yb()),2&t){var n=e.$implicit,i=e.index,a=s.lc();s.Eb(1),s.sc("ngIf",0===i&&a._firstRowOffset),s.Eb(1),s.sc("ngForOf",n)}}function T(t,e){if(1&t&&(s.Zb(0,"th",5),s.Sc(1),s.Yb()),2&t){var n=e.$implicit;s.Fb("aria-label",n.long),s.Eb(1),s.Tc(n.narrow)}}var A=["*"];function D(t,e){}function R(t,e){if(1&t){var n=s.ac();s.Zb(0,"mat-month-view",5),s.hc("activeDateChange",(function(t){return s.Hc(n),s.lc().activeDate=t}))("selectedChange",(function(t){return s.Hc(n),s.lc()._dateSelected(t)}))("_userSelection",(function(){return s.Hc(n),s.lc()._userSelected()})),s.Yb()}if(2&t){var i=s.lc();s.sc("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function L(t,e){if(1&t){var n=s.ac();s.Zb(0,"mat-year-view",6),s.hc("activeDateChange",(function(t){return s.Hc(n),s.lc().activeDate=t}))("monthSelected",(function(t){return s.Hc(n),s.lc()._monthSelectedInYearView(t)}))("selectedChange",(function(t){return s.Hc(n),s.lc()._goToDateInView(t,"month")})),s.Yb()}if(2&t){var i=s.lc();s.sc("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)}}function F(t,e){if(1&t){var n=s.ac();s.Zb(0,"mat-multi-year-view",7),s.hc("activeDateChange",(function(t){return s.Hc(n),s.lc().activeDate=t}))("yearSelected",(function(t){return s.Hc(n),s.lc()._yearSelectedInMultiYearView(t)}))("selectedChange",(function(t){return s.Hc(n),s.lc()._goToDateInView(t,"year")})),s.Yb()}if(2&t){var i=s.lc();s.sc("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)}}var j=["button"];function Y(t,e){1&t&&(s.kc(),s.Zb(0,"svg",3),s.Ub(1,"path",4),s.Yb())}var Z=[[["","matDatepickerToggleIcon",""]]],N=["[matDatepickerToggleIcon]"];function U(t){return Error("MatDatepicker: No provider found for ".concat(t,". You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation."))}var B=function(){var t=function(){function t(){_classCallCheck(this,t),this.changes=new f.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return _createClass(t,[{key:"formatYearRange",value:function(t,e){return"".concat(t," \u2013 ").concat(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),z=function t(e,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,t),this.value=e,this.displayValue=n,this.ariaLabel=i,this.enabled=a,this.cssClasses=r},V=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new s.o}return _createClass(t,[{key:"_cellClicked",value:function(t){t.enabled&&this.selectedValueChange.emit(t.value)}},{key:"ngOnChanges",value:function(t){var e=t.numCols,n=this.rows,i=this.numCols;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/i+"%"),!e&&this._cellWidth||(this._cellWidth=100/i+"%")}},{key:"_isActiveCell",value:function(t,e){var n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}},{key:"_focusActiveCell",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Object(b.a)(1)).subscribe((function(){var e=t._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&e.focus()}))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.B))},t.\u0275cmp=s.Nb({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",cellAspectRatio:"cellAspectRatio",label:"label",rows:"rows",todayValue:"todayValue",selectedValue:"selectedValue",labelMinRequiredCells:"labelMinRequiredCells"},outputs:{selectedValueChange:"selectedValueChange"},exportAs:["matCalendarBody"],features:[s.Cb],attrs:S,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell mat-focus-indicator",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell","mat-focus-indicator",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content"]],template:function(t,e){1&t&&(s.Qc(0,E,3,6,"tr",0),s.Qc(1,P,3,2,"tr",1)),2&t&&(s.sc("ngIf",e._firstRowOffset<e.labelMinRequiredCells),s.Eb(1),s.sc("ngForOf",e.rows))},directives:[o.t,o.s,o.q],styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n"],encapsulation:2,changeDetection:0}),t}(),H=function(){var t=function(){function t(e,n,i,a){if(_classCallCheck(this,t),this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=h.a.EMPTY,this.selectedChange=new s.o,this._userSelection=new s.o,this.activeDateChange=new s.o,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(v.a)(null)).subscribe((function(){return t._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(t){if(this._selectedDate!=t){var e=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(e,n,t);this.selectedChange.emit(i)}this._userSelection.emit()}},{key:"_handleCalendarBodyKeydown",value:function(t){var e=this._activeDate,n=this._isRtl();switch(t.keyCode){case g.k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case g.o:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case g.s:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case g.e:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case g.j:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case g.f:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case g.n:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case g.m:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case g.g:case g.q:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}},{key:"_init",value:function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_initWeekdays",value:function(){var t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((function(t,n){return{long:t,narrow:e[n]}}));this._weekdays=n.slice(t).concat(n.slice(0,t))}},{key:"_createWeekCells",value:function(){var t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,i=this._firstWeekOffset;n<t;n++,i++){7==i&&(this._weeks.push([]),i=0);var a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),r=this._shouldEnableDate(a),o=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(a):void 0;this._weeks[this._weeks.length-1].push(new z(n+1,e[n],o,r,s))}}},{key:"_shouldEnableDate",value:function(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}},{key:"_getDateInCurrentMonth",value:function(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}},{key:"_hasSameMonthAndYear",value:function(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}},{key:"_getValidDateOrNull",value:function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"activeDate",get:function(){return this._activeDate},set:function(t){var e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.h),s.Tb(d.e,8),s.Tb(d.c,8),s.Tb(O.c,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-month-view"]],viewQuery:function(t,e){var n;1&t&&s.ad(V,!0),2&t&&s.Cc(n=s.ic())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],decls:7,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","selectedValue","labelMinRequiredCells","activeCell","selectedValueChange","keydown"],["scope","col"]],template:function(t,e){1&t&&(s.Zb(0,"table",0),s.Zb(1,"thead",1),s.Zb(2,"tr"),s.Qc(3,T,2,2,"th",2),s.Yb(),s.Zb(4,"tr"),s.Ub(5,"th",3),s.Yb(),s.Yb(),s.Zb(6,"tbody",4),s.hc("selectedValueChange",(function(t){return e._dateSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),s.Yb(),s.Yb()),2&t&&(s.Eb(3),s.sc("ngForOf",e._weekdays),s.Eb(3),s.sc("label",e._monthLabel)("rows",e._weeks)("todayValue",e._todayDate)("selectedValue",e._selectedDate)("labelMinRequiredCells",3)("activeCell",e._dateAdapter.getDate(e.activeDate)-1))},directives:[o.s,V],encapsulation:2,changeDetection:0}),t}(),Q=function(){var t=function(){function t(e,n,i){if(_classCallCheck(this,t),this._changeDetectorRef=e,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=h.a.EMPTY,this.selectedChange=new s.o,this.yearSelected=new s.o,this.activeDateChange=new s.o,!this._dateAdapter)throw U("DateAdapter");this._activeDate=this._dateAdapter.today()}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(v.a)(null)).subscribe((function(){return t._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var t=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var e=this._dateAdapter.getYear(this._activeDate)-G(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,i=[];n<24;n++)i.push(e+n),4==i.length&&(this._years.push(i.map((function(e){return t._createCellForYear(e)}))),i=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));var e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}},{key:"_handleCalendarBodyKeydown",value:function(t){var e=this._activeDate,n=this._isRtl();switch(t.keyCode){case g.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case g.o:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case g.s:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case g.e:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case g.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-G(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case g.f:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-G(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case g.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case g.m:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case g.g:case g.q:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}},{key:"_getActiveCell",value:function(){return G(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(t){var e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new z(t,e,e,this._shouldEnableYear(t))}},{key:"_shouldEnableYear",value:function(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}},{key:"_getValidDateOrNull",value:function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"activeDate",get:function(){return this._activeDate},set:function(t){var e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),W(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.h),s.Tb(d.c,8),s.Tb(O.c,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(t,e){var n;1&t&&s.ad(V,!0),2&t&&s.Cc(n=s.ic())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:6,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","selectedValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(s.Zb(0,"table",0),s.Zb(1,"thead",1),s.Zb(2,"tr"),s.Ub(3,"th",2),s.Yb(),s.Yb(),s.Zb(4,"tbody",3),s.hc("selectedValueChange",(function(t){return e._yearSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),s.Yb(),s.Yb()),2&t&&(s.Eb(4),s.sc("rows",e._years)("todayValue",e._todayYear)("selectedValue",e._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._getActiveCell()))},directives:[V],encapsulation:2,changeDetection:0}),t}();function W(t,e,n,i,a){var r=t.getYear(e),o=t.getYear(n),s=q(t,i,a);return Math.floor((r-s)/24)===Math.floor((o-s)/24)}function G(t,e,n,i){return((t.getYear(e)-q(t,n,i))%24+24)%24}function q(t,e,n){var i=0;return n?i=t.getYear(n)-24+1:e&&(i=t.getYear(e)),i}var X=function(){var t=function(){function t(e,n,i,a){if(_classCallCheck(this,t),this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=h.a.EMPTY,this.selectedChange=new s.o,this.monthSelected=new s.o,this.activeDateChange=new s.o,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(v.a)(null)).subscribe((function(){return t._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(t){var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);var n=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}},{key:"_handleCalendarBodyKeydown",value:function(t){var e=this._activeDate,n=this._isRtl();switch(t.keyCode){case g.k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case g.o:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case g.s:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case g.e:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case g.j:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case g.f:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case g.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case g.m:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case g.g:case g.q:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}},{key:"_init",value:function(){var t=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map((function(n){return n.map((function(n){return t._createCellForMonth(n,e[n])}))})),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}},{key:"_createCellForMonth",value:function(t,e){var n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new z(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))}},{key:"_shouldEnableMonth",value:function(t){var e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(t,e){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>i}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(t,e){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<i}return!1}},{key:"_getValidDateOrNull",value:function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"activeDate",get:function(){return this._activeDate},set:function(t){var e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.h),s.Tb(d.e,8),s.Tb(d.c,8),s.Tb(O.c,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-year-view"]],viewQuery:function(t,e){var n;1&t&&s.ad(V,!0),2&t&&s.Cc(n=s.ic())&&(e._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:8,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","selectedValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,e){1&t&&(s.Zb(0,"table",0),s.Zb(1,"thead",1),s.Zb(2,"tr"),s.Ub(3,"th",2),s.Yb(),s.Yb(),s.Zb(4,"tbody",3),s.hc("selectedValueChange",(function(t){return e._monthSelected(t)}))("keydown",(function(t){return e._handleCalendarBodyKeydown(t)})),s.Yb(),s.Yb()),2&t&&(s.Eb(4),s.sc("label",e._yearLabel)("rows",e._months)("todayValue",e._todayMonth)("selectedValue",e._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",e._dateAdapter.getMonth(e.activeDate)))},directives:[V],encapsulation:2,changeDetection:0}),t}(),$=function(){var t=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this._intl=e,this.calendar=n,this._dateAdapter=i,this._dateFormats=a,this.calendar.stateChanges.subscribe((function(){return r.markForCheck()}))}return _createClass(t,[{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):W(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)}},{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var t=this._dateAdapter.getYear(this.calendar.activeDate)-G(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),e=t+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return this._intl.formatYearRange(n,i)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(B),s.Tb(Object(s.W)((function(){return J}))),s.Tb(d.c,8),s.Tb(d.e,8),s.Tb(s.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:A,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,e){1&t&&(s.rc(),s.Zb(0,"div",0),s.Zb(1,"div",1),s.Zb(2,"button",2),s.hc("click",(function(){return e.currentPeriodClicked()})),s.Sc(3),s.Ub(4,"div",3),s.Yb(),s.Ub(5,"div",4),s.qc(6),s.Zb(7,"button",5),s.hc("click",(function(){return e.previousClicked()})),s.Yb(),s.Zb(8,"button",6),s.hc("click",(function(){return e.nextClicked()})),s.Yb(),s.Yb(),s.Yb()),2&t&&(s.Eb(2),s.Fb("aria-label",e.periodButtonLabel),s.Eb(1),s.Uc(" ",e.periodButtonText," "),s.Eb(1),s.Jb("mat-calendar-invert","month"!=e.calendar.currentView),s.Eb(3),s.sc("disabled",!e.previousEnabled()),s.Fb("aria-label",e.prevButtonLabel),s.Eb(1),s.sc("disabled",!e.nextEnabled()),s.Fb("aria-label",e.nextButtonLabel))},directives:[c.b,i.d],encapsulation:2,changeDetection:0}),t}(),J=function(){var t=function(){function t(e,n,i,a){var r=this;if(_classCallCheck(this,t),this._dateAdapter=n,this._dateFormats=i,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.o,this.yearSelected=new s.o,this.monthSelected=new s.o,this._userSelection=new s.o,this.stateChanges=new f.a,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._intlChanges=e.changes.subscribe((function(){a.markForCheck(),r.stateChanges.next()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new r.d(this.headerComponent||$),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(t){var e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell()}},{key:"updateTodaysDate",value:function(){var t=this.currentView;("month"===t?this.monthView:"year"===t?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(t){t&&!this._dateAdapter.sameDate(t,this.selected)&&this.selectedChange.emit(t)}},{key:"_yearSelectedInMultiYearView",value:function(t){this.yearSelected.emit(t)}},{key:"_monthSelectedInYearView",value:function(t){this.monthSelected.emit(t)}},{key:"_userSelected",value:function(){this._userSelection.emit()}},{key:"_goToDateInView",value:function(t,e){this.activeDate=t,this.currentView=e}},{key:"_getValidDateOrNull",value:function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}},{key:"startAt",get:function(){return this._startAt},set:function(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(B),s.Tb(d.c,8),s.Tb(d.e,8),s.Tb(s.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-calendar"]],viewQuery:function(t,e){var n;1&t&&(s.ad(H,!0),s.ad(X,!0),s.ad(Q,!0)),2&t&&(s.Cc(n=s.ic())&&(e.monthView=n.first),s.Cc(n=s.ic())&&(e.yearView=n.first),s.Cc(n=s.ic())&&(e.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s.Cb],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange"]],template:function(t,e){1&t&&(s.Qc(0,D,0,0,"ng-template",0),s.Zb(1,"div",1),s.Qc(2,R,1,6,"mat-month-view",2),s.Qc(3,L,1,5,"mat-year-view",3),s.Qc(4,F,1,5,"mat-multi-year-view",4),s.Yb()),2&t&&(s.sc("cdkPortalOutlet",e._calendarHeaderPortal),s.Eb(1),s.sc("ngSwitch",e.currentView),s.Eb(1),s.sc("ngSwitchCase","month"),s.Eb(1),s.sc("ngSwitchCase","year"),s.Eb(1),s.sc("ngSwitchCase","multi-year"))},directives:[r.c,i.e,o.x,o.y,H,X,Q],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),t}(),K={transformPanel:Object(k.n)("transformPanel",[Object(k.k)("void",Object(k.l)({opacity:0,transform:"scale(1, 0.8)"})),Object(k.m)("void => enter",Object(k.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(k.l)({opacity:1,transform:"scale(1, 1)"}))),Object(k.m)("* => void",Object(k.e)("100ms linear",Object(k.l)({opacity:0})))]),fadeInCalendar:Object(k.n)("fadeInCalendar",[Object(k.k)("void",Object(k.l)({opacity:0})),Object(k.k)("enter",Object(k.l)({opacity:1})),Object(k.m)("void => *",Object(k.e)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},tt=0,et=new s.r("mat-datepicker-scroll-strategy"),nt={provide:et,deps:[a.c],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},it=Object(d.z)((function t(e){_classCallCheck(this,t),this._elementRef=e})),at=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t))._changeDetectorRef=i,a._animationState="enter",a._animationDone=new f.a,a}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._animationDone.complete()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}]),n}(it);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(t,e){var n;1&t&&s.ad(J,!0),2&t&&s.Cc(n=s.ic())&&(e._calendar=n.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,e){1&t&&s.Kb("@transformPanel.done",(function(){return e._animationDone.next()})),2&t&&(s.Zc("@transformPanel",e._animationState),s.Jb("mat-datepicker-content-touch",e.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.Bb],decls:1,vars:11,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","selectedChange","yearSelected","monthSelected","_userSelection"]],template:function(t,e){1&t&&(s.Zb(0,"mat-calendar",0),s.hc("selectedChange",(function(t){return e.datepicker.select(t)}))("yearSelected",(function(t){return e.datepicker._selectYear(t)}))("monthSelected",(function(t){return e.datepicker._selectMonth(t)}))("_userSelection",(function(){return e.datepicker.close()})),s.Yb()),2&t&&s.sc("id",e.datepicker.id)("ngClass",e.datepicker.panelClass)("startAt",e.datepicker.startAt)("startView",e.datepicker.startView)("minDate",e.datepicker._minDate)("maxDate",e.datepicker._maxDate)("dateFilter",e.datepicker._dateFilter)("headerComponent",e.datepicker.calendarHeaderComponent)("selected",e.datepicker._selected)("dateClass",e.datepicker.dateClass)("@fadeInCalendar","enter")},directives:[J,i.f,o.q],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[K.transformPanel,K.fadeInCalendar]},changeDetection:0}),t}(),rt=function(){var t=function(){function t(e,n,i,a,r,o,c,l){if(_classCallCheck(this,t),this._dialog=e,this._overlay=n,this._ngZone=i,this._viewContainerRef=a,this._dateAdapter=o,this._dir=c,this._document=l,this.startView="month",this._touchUi=!1,this.yearSelected=new s.o,this.monthSelected=new s.o,this.openedStream=new s.o,this.closedStream=new s.o,this._opened=!1,this.id="mat-datepicker-"+tt++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=h.a.EMPTY,this._disabledChange=new f.a,this._selectedChanged=new f.a,!this._dateAdapter)throw U("DateAdapter");this._scrollStrategy=r}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete()}},{key:"select",value:function(t){var e=this._selected;this._selected=t,this._dateAdapter.sameDate(e,this._selected)||this._selectedChanged.next(t)}},{key:"_selectYear",value:function(t){this.yearSelected.emit(t)}},{key:"_selectMonth",value:function(t){this.monthSelected.emit(t)}},{key:"_registerInput",value:function(t){var e=this;if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=t,this._inputSubscription=this._datepickerInput._valueChange.subscribe((function(t){return e._selected=t}))}},{key:"open",value:function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}},{key:"close",value:function(){var t=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var e=this._popupComponentRef.instance;e._startExitAnimation(),e._animationDone.pipe(Object(b.a)(1)).subscribe((function(){return t._destroyPopup()}))}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){t._opened&&(t._opened=!1,t.closedStream.emit(),t._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}}},{key:"_openAsDialog",value:function(){var t=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(at,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe((function(){return t.close()})),this._dialogRef.componentInstance.datepicker=this,this._dialogRef.componentInstance.color=this.color}},{key:"_openAsPopup",value:function(){var t=this,e=new r.d(at,this._viewContainerRef);this._destroyPopup(),this._createPopup();var n=this._popupComponentRef=this._popupRef.attach(e);n.instance.datepicker=this,n.instance.color=this.color,this._ngZone.onStable.asObservable().pipe(Object(b.a)(1)).subscribe((function(){t._popupRef.updatePosition()}))}},{key:"_createPopup",value:function(){var t=this,e=new a.d({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(e),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(p.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(y.a)((function(e){return e.keyCode===g.h||t._datepickerInput&&e.altKey&&e.keyCode===g.s})))).subscribe((function(e){e&&e.preventDefault(),t.close()}))}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_createPopupPositionStrategy",value:function(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}},{key:"_getValidDateOrNull",value:function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}},{key:"startAt",get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}},{key:"color",get:function(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)},set:function(t){this._color=t}},{key:"touchUi",get:function(){return this._touchUi},set:function(t){this._touchUi=Object(_.c)(t)}},{key:"disabled",get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(t){var e=Object(_.c)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}},{key:"opened",get:function(){return this._opened},set:function(t){t?this.open():this.close()}},{key:"_selected",get:function(){return this._validSelected},set:function(t){this._validSelected=t}},{key:"_minDate",get:function(){return this._datepickerInput&&this._datepickerInput.min}},{key:"_maxDate",get:function(){return this._datepickerInput&&this._datepickerInput.max}},{key:"_dateFilter",get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(l.b),s.Tb(a.c),s.Tb(s.B),s.Tb(s.R),s.Tb(et),s.Tb(d.c,8),s.Tb(O.c,8),s.Tb(o.e,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-datepicker"]],inputs:{startView:"startView",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",panelClass:"panelClass",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},exportAs:["matDatepicker"],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t}(),ot={provide:C.r,useExisting:Object(s.W)((function(){return lt})),multi:!0},st={provide:C.q,useExisting:Object(s.W)((function(){return lt})),multi:!0},ct=function t(e,n){_classCallCheck(this,t),this.target=e,this.targetElement=n,this.value=this.target.value},lt=function(){var t=function(){function t(e,n,i,a){var r=this;if(_classCallCheck(this,t),this._elementRef=e,this._dateAdapter=n,this._dateFormats=i,this._formField=a,this.dateChange=new s.o,this.dateInput=new s.o,this._valueChange=new s.o,this._disabledChange=new s.o,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=h.a.EMPTY,this._localeSubscription=h.a.EMPTY,this._parseValidator=function(){return r._lastValueValid?null:{matDatepickerParse:{text:r._elementRef.nativeElement.value}}},this._minValidator=function(t){var e=r._getValidDateOrNull(r._dateAdapter.deserialize(t.value));return!r.min||!e||r._dateAdapter.compareDate(r.min,e)<=0?null:{matDatepickerMin:{min:r.min,actual:e}}},this._maxValidator=function(t){var e=r._getValidDateOrNull(r._dateAdapter.deserialize(t.value));return!r.max||!e||r._dateAdapter.compareDate(r.max,e)>=0?null:{matDatepickerMax:{max:r.max,actual:e}}},this._filterValidator=function(t){var e=r._getValidDateOrNull(r._dateAdapter.deserialize(t.value));return r._dateFilter&&e&&!r._dateFilter(e)?{matDatepickerFilter:!0}:null},this._validator=C.H.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw U("DateAdapter");if(!this._dateFormats)throw U("MAT_DATE_FORMATS");this._localeSubscription=n.localeChanges.subscribe((function(){r.value=r.value}))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}},{key:"registerOnValidatorChange",value:function(t){this._validatorOnChange=t}},{key:"validate",value:function(t){return this._validator?this._validator(t):null}},{key:"getPopupConnectionElementRef",value:function(){return this.getConnectedOverlayOrigin()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){this._cvaOnChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"_onKeydown",value:function(t){this._datepicker&&t.altKey&&t.keyCode===g.e&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),t.preventDefault())}},{key:"_onInput",value:function(t){var e=this._lastValueValid,n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=!n||this._dateAdapter.isValid(n),n=this._getValidDateOrNull(n),this._dateAdapter.sameDate(n,this._value)?e!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new ct(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new ct(this,this._elementRef.nativeElement))}},{key:"_getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}},{key:"_getValidDateOrNull",value:function(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}},{key:"matDatepicker",set:function(t){var e=this;t&&(this._datepicker=t,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe((function(t){e.value=t,e._cvaOnChange(t),e._onTouched(),e.dateInput.emit(new ct(e,e._elementRef.nativeElement)),e.dateChange.emit(new ct(e,e._elementRef.nativeElement))})))}},{key:"matDatepickerFilter",set:function(t){this._dateFilter=t,this._validatorOnChange()}},{key:"value",get:function(){return this._value},set:function(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t);var e=this.value;this._value=t,this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)}},{key:"min",get:function(){return this._min},set:function(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}},{key:"max",get:function(){return this._max},set:function(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}},{key:"disabled",get:function(){return!!this._disabled},set:function(t){var e=Object(_.c)(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&this._isInitialized&&n.blur&&n.blur()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(d.c,8),s.Tb(d.e,8),s.Tb(x.a,8))},t.\u0275dir=s.Ob({type:t,selectors:[["input","matDatepicker",""]],hostVars:5,hostBindings:function(t,e){1&t&&s.hc("input",(function(t){return e._onInput(t.target.value)}))("change",(function(){return e._onChange()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)})),2&t&&(s.cc("disabled",e.disabled),s.Fb("aria-haspopup",e._datepicker?"dialog":null)("aria-owns",(null==e._datepicker?null:e._datepicker.opened)&&e._datepicker.id||null)("min",e.min?e._dateAdapter.toIso8601(e.min):null)("max",e.max?e._dateAdapter.toIso8601(e.max):null))},inputs:{value:"value",matDatepicker:"matDatepicker",matDatepickerFilter:"matDatepickerFilter",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["matDatepickerInput"],features:[s.Db([ot,st,{provide:w.a,useExisting:t}])]}),t}(),ut=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["","matDatepickerToggleIcon",""]]}),t}(),dt=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._intl=e,this._changeDetectorRef=n,this._stateChanges=h.a.EMPTY;var a=Number(i);this.tabIndex=a||0===a?a:null}return _createClass(t,[{key:"ngOnChanges",value:function(t){t.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}},{key:"_watchStateChanges",value:function(){var t=this,e=this.datepicker?this.datepicker._disabledChange:Object(m.a)(),n=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(m.a)(),i=this.datepicker?Object(p.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(m.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(p.a)(this._intl.changes,e,n,i).subscribe((function(){return t._changeDetectorRef.markForCheck()}))}},{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(t){this._disabled=Object(_.c)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(B),s.Tb(s.h),s.ec("tabindex"))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,e,n){var i;1&t&&s.Lb(n,ut,!0),2&t&&s.Cc(i=s.ic())&&(e._customIcon=i.first)},viewQuery:function(t,e){var n;1&t&&s.ad(j,!0),2&t&&s.Cc(n=s.ic())&&(e._button=n.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&s.hc("focus",(function(){return e._button.focus()})),2&t&&(s.Fb("tabindex",e.disabled?null:-1),s.Jb("mat-datepicker-toggle-active",e.datepicker&&e.datepicker.opened)("mat-accent",e.datepicker&&"accent"===e.datepicker.color)("mat-warn",e.datepicker&&"warn"===e.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.Cb],ngContentSelectors:N,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,e){1&t&&(s.rc(Z),s.Zb(0,"button",0,1),s.hc("click",(function(t){return e._open(t)})),s.Qc(2,Y,2,0,"svg",2),s.qc(3),s.Yb()),2&t&&(s.sc("disabled",e.disabled)("disableRipple",e.disableRipple),s.Fb("aria-haspopup",e.datepicker?"dialog":null)("aria-label",e._intl.openCalendarLabel)("tabindex",e.disabled?-1:e.tabIndex),s.Eb(2),s.sc("ngIf",!e._customIcon))},directives:[c.b,o.t],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t}(),ft=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},providers:[B,nt],imports:[[o.c,c.c,l.g,a.f,i.a,r.i],u.c]}),t}()},ihCf:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return g}));var i=n("nLfN"),a=n("fXoL"),r=n("8LU1"),o=n("EY2u"),s=n("XNiG"),c=n("xgIS"),l=n("3UWI"),u=n("1G5W"),d=n("ofXK"),f=Object(i.f)({passive:!0}),h=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return o.a;var n=Object(r.e)(t),i=this._monitoredElements.get(n);if(i)return i.subject.asObservable();var a=new s.a,c="cdk-text-field-autofilled",l=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(c)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(c)&&(n.classList.remove(c),e._ngZone.run((function(){return a.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(c),e._ngZone.run((function(){return a.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",l,f),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:a,unlisten:function(){n.removeEventListener("animationstart",l,f)}}),a.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Object(r.e)(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(i.a),a.dc(a.B))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(i.a),Object(a.dc)(a.B))},token:t,providedIn:"root"}),t}(),p=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._elementRef=e,this._autofillMonitor=n,this.cdkAutofill=new a.o}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._autofillMonitor.monitor(this._elementRef).subscribe((function(e){return t.cdkAutofill.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._autofillMonitor.stopMonitoring(this._elementRef)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(h))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),t}(),m=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._elementRef=e,this._platform=n,this._ngZone=i,this._destroyed=new s.a,this._enabled=!0,this._previousMinRows=-1,this._document=a,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=n.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}return _createClass(t,[{key:"_setMinHeight",value:function(){var t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}},{key:"_setMaxHeight",value:function(){var t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular((function(){var e=t._getWindow();Object(c.a)(e,"resize").pipe(Object(l.a)(16),Object(u.a)(t._destroyed)).subscribe((function(){return t.resizeToFitContent(!0)}))})))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_cacheTextareaLineHeight",value:function(){if(!this._cachedLineHeight){var t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}}},{key:"ngDoCheck",value:function(){this._platform.isBrowser&&this.resizeToFitContent()}},{key:"resizeToFitContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enabled&&(this._cacheTextareaLineHeight(),this._cachedLineHeight)){var n=this._elementRef.nativeElement,i=n.value;if(e||this._minRows!==this._previousMinRows||i!==this._previousValue){var a=n.placeholder;n.classList.add(this._measuringClass),n.placeholder="",n.style.height=n.scrollHeight-4+"px",n.classList.remove(this._measuringClass),n.placeholder=a,this._ngZone.runOutsideAngular((function(){"undefined"!=typeof requestAnimationFrame?requestAnimationFrame((function(){return t._scrollToCaretPosition(n)})):setTimeout((function(){return t._scrollToCaretPosition(n)}))})),this._previousValue=i,this._previousMinRows=this._minRows}}}},{key:"reset",value:function(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}},{key:"_noopInputHandler",value:function(){}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollToCaretPosition",value:function(t){var e=t.selectionStart,n=t.selectionEnd,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}},{key:"minRows",get:function(){return this._minRows},set:function(t){this._minRows=Object(r.f)(t),this._setMinHeight()}},{key:"maxRows",get:function(){return this._maxRows},set:function(t){this._maxRows=Object(r.f)(t),this._setMaxHeight()}},{key:"enabled",get:function(){return this._enabled},set:function(t){t=Object(r.c)(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(i.a),a.Tb(a.B),a.Tb(d.e,8))},t.\u0275dir=a.Ob({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&a.hc("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t}(),g=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[i.b]]}),t}()},itXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("z+Ro"),a=n("DH7j"),r=n("7o/Q"),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,a){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(r.a),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this)).parent=t,r.outerValue=i,r.outerIndex=a,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(r.a),c=n("SeVD"),l=n("HDdC");function u(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new s(t,n,i);if(!a.closed)return e instanceof l.a?e.subscribe(a):Object(c.a)(e)(a)}var d=n("yCtX"),f={};function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,o=void 0;return Object(i.a)(e[e.length-1])&&(o=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(a.a)(e[0])&&(e=e[0]),Object(d.a)(e,o).lift(new p(r))}var p=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new m(t,this.resultSelector))}}]),t}(),m=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).resultSelector=i,a.active=0,a.values=[],a.observables=[],a}return _createClass(n,[{key:"_next",value:function(t){this.values.push(f),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(u(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,a=this.toRespond?i[n]===f?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(o)},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC"),a=n("quSY");function r(t,e){return new i.a((function(n){var i=new a.a,r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},jaxi:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return y}));var i=n("8LU1"),a=n("0EQZ"),r=n("fXoL"),o=n("3Pt+"),s=n("FKr1"),c=n("u47x"),l=["button"],u=["*"],d=new r.r("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),f={provide:o.r,useExisting:Object(r.W)((function(){return g})),multi:!0},h=function t(){_classCallCheck(this,t)},p=0,m=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},g=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=function(){},this._onTouched=function(){},this._name="mat-button-toggle-group-"+p++,this.valueChange=new r.o,this.change=new r.o,this.appearance=n&&n.appearance?n.appearance:"standard"}return _createClass(t,[{key:"ngOnInit",value:function(){this._selectionModel=new a.c(this.multiple,void 0,!1)}},{key:"ngAfterContentInit",value:function(){var t;(t=this._selectionModel).select.apply(t,_toConsumableArray(this._buttonToggles.filter((function(t){return t.checked}))))}},{key:"writeValue",value:function(t){this.value=t,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"_emitChangeEvent",value:function(){var t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new m(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}},{key:"_syncButtonToggle",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then((function(){return n._updateModelValue(i)})):this._updateModelValue(i)}},{key:"_isSelected",value:function(t){return this._selectionModel&&this._selectionModel.isSelected(t)}},{key:"_isPrechecked",value:function(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some((function(e){return null!=t.value&&e===t.value})):t.value===this._rawValue)}},{key:"_setSelectionByValue",value:function(t){var e=this;if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach((function(t){return e._selectValue(t)}))}else this._clearSelection(),this._selectValue(t)}},{key:"_clearSelection",value:function(){this._selectionModel.clear(),this._buttonToggles.forEach((function(t){return t.checked=!1}))}},{key:"_selectValue",value:function(t){var e=this._buttonToggles.find((function(e){return null!=e.value&&e.value===t}));e&&(e.checked=!0,this._selectionModel.select(e))}},{key:"_updateModelValue",value:function(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}},{key:"name",get:function(){return this._name},set:function(t){var e=this;this._name=t,this._buttonToggles&&this._buttonToggles.forEach((function(t){t.name=e._name,t._markForCheck()}))}},{key:"vertical",get:function(){return this._vertical},set:function(t){this._vertical=Object(i.c)(t)}},{key:"value",get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map((function(t){return t.value})):t[0]?t[0].value:void 0},set:function(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}},{key:"selected",get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Object(i.c)(t)}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(i.c)(t),this._buttonToggles&&this._buttonToggles.forEach((function(t){return t._markForCheck()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.h),r.Tb(d,8))},t.\u0275dir=r.Ob({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){var i;1&t&&r.Lb(n,v,!0),2&t&&r.Cc(i=r.ic())&&(e._buttonToggles=i)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Fb("aria-disabled",e.disabled),r.Jb("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[r.Db([f,{provide:h,useExisting:t}])]}),t}(),b=Object(s.A)((function t(){_classCallCheck(this,t)})),v=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,o,s,c){var l;_classCallCheck(this,n),(l=e.call(this))._changeDetectorRef=i,l._elementRef=a,l._focusMonitor=o,l._isSingleSelector=!1,l._checked=!1,l.ariaLabelledby=null,l._disabled=!1,l.change=new r.o;var u=Number(s);return l.tabIndex=u||0===u?u:null,l.buttonToggleGroup=t,l.appearance=c&&c.appearance?c.appearance:"standard",l}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||"mat-button-toggle-"+p++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked)),this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){var t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}},{key:"focus",value:function(t){this._buttonElement.nativeElement.focus(t)}},{key:"_onButtonClick",value:function(){var t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new m(this,this.value))}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}},{key:"buttonId",get:function(){return this.id+"-button"}},{key:"appearance",get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance},set:function(t){this._appearance=t}},{key:"checked",get:function(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked},set:function(t){var e=Object(i.c)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(t){this._disabled=Object(i.c)(t)}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(r.Tb(g,8),r.Tb(r.h),r.Tb(r.l),r.Tb(c.h),r.ec("tabindex"),r.Tb(d,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){var n;1&t&&r.ad(l,!0),2&t&&r.Cc(n=r.ic())&&(e._buttonElement=n.first)},hostAttrs:[1,"mat-button-toggle"],hostVars:11,hostBindings:function(t,e){1&t&&r.hc("focus",(function(){return e.focus()})),2&t&&(r.Fb("tabindex",-1)("id",e.id)("name",null),r.Jb("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[r.Bb],ngContentSelectors:u,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(r.rc(),r.Zb(0,"button",0,1),r.hc("click",(function(){return e._onButtonClick()})),r.Zb(2,"div",2),r.qc(3),r.Yb(),r.Yb(),r.Ub(4,"div",3),r.Ub(5,"div",4)),2&t){var n=r.Dc(1);r.sc("id",e.buttonId)("disabled",e.disabled||null),r.Fb("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),r.Eb(5),r.sc("matRippleTrigger",n)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[s.t],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t}(),y=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[s.j,s.u],s.j]}),t}()},jbvq:function(t,e,n){"use strict";n.d(e,"a",(function(){return pt}));var i,a=n("mrSG"),r=n("5+WD"),o=n("lJxs"),s=n("vkgz"),c=n("JX91"),l=n("JIr8"),u=n("pLZG"),d=n("nYR2"),f=n("XqQ8"),h=n("3Pt+"),p=n("aEDk"),m=n("LRne"),g=n("0IaG"),b=n("fXoL"),v=n("sYmb"),y=n("tk/3"),_=n("AXEc"),k=n("kmnG"),C=n("qFsG"),x=n("bTqV"),w=((i=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialogRef=a,this.notify=r,this.loading=!1,this.template={id:0,type:"visaCircuit",title:"",items:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){this.template.items=this.data.visaWorkflow.map((function(t){return{id:t.item_id,type:"user",mode:t.requested_signature?"sign":"visa"}}))}},{key:"onSubmit",value:function(){var t=this;this.http.post("../rest/listTemplates",this.template).pipe(Object(s.a)((function(e){t.template.id=e.id,t.notify.success(t.translate.instant("lang.modelSaved")),t.dialogRef.close(t.template)})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||i)(b.Tb(v.e),b.Tb(y.b),b.Tb(g.a),b.Tb(g.h),b.Tb(_.a))},i.\u0275cmp=b.Nb({type:i,selectors:[["ng-component"]],decls:14,vars:9,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[1,"modal-container"],["appearance","outline"],["type","text","matInput","","placeholder","Nom du mod\xe8le",3,"ngModel","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"disabled","mat-dialog-close"]],template:function(t,e){1&t&&(b.Zb(0,"div",0),b.Zb(1,"h1",1),b.Sc(2,"Ajouter un mod\xe8le"),b.Yb(),b.Zb(3,"mat-dialog-content",2),b.Zb(4,"mat-form-field",3),b.Zb(5,"input",4),b.hc("ngModelChange",(function(t){return e.template.title=t})),b.Yb(),b.Yb(),b.Yb(),b.Ub(6,"span",5),b.Zb(7,"div",6),b.Zb(8,"button",7),b.hc("click",(function(){return e.onSubmit()})),b.Sc(9),b.mc(10,"translate"),b.Yb(),b.Zb(11,"button",8),b.Sc(12),b.mc(13,"translate"),b.Yb(),b.Yb(),b.Yb()),2&t&&(b.Eb(5),b.sc("ngModel",e.template.title),b.Eb(3),b.sc("disabled",e.loading),b.Eb(1),b.Tc(b.nc(10,5,"lang.validate")),b.Eb(2),b.sc("disabled",e.loading),b.Eb(1),b.Tc(b.nc(13,7,"lang.cancel")))},directives:[g.i,g.f,k.c,C.b,h.c,h.t,h.w,g.c,x.b,g.d],pipes:[v.d],styles:[".avatarAccount[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}"]}),i),O=n("2c88"),S=n("rH+9"),E=n("tyNb"),M=n("ofXK"),I=n("MutI"),P=n("/1cH"),T=n("FKr1"),A=n("Xa2L"),D=n("NFeN"),R=n("63qU"),L=n("Qu3c"),F=n("1YbM"),j=n("8IW6"),Y=n("ZI/H"),Z=["searchVisaSignUserInput"];function N(t,e){1&t&&(b.Zb(0,"mat-option",16),b.Zb(1,"div",17),b.Ub(2,"mat-spinner",18),b.Yb(),b.Yb())}function U(t,e){if(1&t&&(b.Zb(0,"mat-option",21),b.Sc(1),b.Yb()),2&t){var n=e.$implicit;b.sc("value",n),b.Eb(1),b.Uc(" ",n.label," ")}}function B(t,e){if(1&t&&(b.Zb(0,"mat-optgroup",19),b.Qc(1,U,2,2,"mat-option",20),b.mc(2,"sortBy"),b.mc(3,"async"),b.Yb()),2&t){var n=b.lc(3);b.sc("label",n.translate.instant("lang.publicModel")),b.Eb(1),b.sc("ngForOf",b.oc(2,2,b.nc(3,5,n.filteredPublicModels),"label"))}}function z(t,e){if(1&t){var n=b.ac();b.Zb(0,"mat-option",21),b.Zb(1,"div",22),b.Zb(2,"div",23),b.Sc(3),b.Yb(),b.Zb(4,"button",24),b.hc("click",(function(t){b.Hc(n);var i=e.$implicit,a=b.lc(4);return t.stopPropagation(),a.deletePrivateModel(i)})),b.Ub(5,"mat-icon",25),b.Yb(),b.Yb(),b.Yb()}if(2&t){var i=e.$implicit;b.sc("value",i),b.Eb(3),b.Uc(" ",i.label," ")}}function V(t,e){if(1&t&&(b.Zb(0,"mat-optgroup",19),b.Qc(1,z,6,2,"mat-option",20),b.mc(2,"sortBy"),b.mc(3,"async"),b.Yb()),2&t){var n=b.lc(3);b.sc("label",n.translate.instant("lang.privateModel")),b.Eb(1),b.sc("ngForOf",b.oc(2,2,b.nc(3,5,n.filteredPrivateModels),"label"))}}function H(t,e){if(1&t&&(b.Zb(0,"mat-option",21),b.Sc(1),b.Zb(2,"small"),b.Sc(3),b.Yb(),b.Yb()),2&t){var n=e.$implicit;b.sc("value",n),b.Eb(1),b.Uc(" ",n.label,"\xa0"),b.Eb(2),b.Uc("(",n.entity,")")}}function Q(t,e){if(1&t&&(b.Zb(0,"mat-optgroup",19),b.Qc(1,H,4,3,"mat-option",20),b.mc(2,"sortBy"),b.mc(3,"async"),b.Yb()),2&t){var n=b.lc(3);b.sc("label",n.translate.instant("lang.visaUser")+" / "+n.translate.instant("lang.signUser")),b.Eb(1),b.sc("ngForOf",b.oc(2,2,b.nc(3,5,n.filteredSignVisaUsers),"label"))}}function W(t,e){if(1&t){var n=b.ac();b.Zb(0,"button",26),b.hc("click",(function(t){b.Hc(n);var e=b.lc(3);return t.stopPropagation(),e.openPromptSaveModel()})),b.mc(1,"translate"),b.Ub(2,"mat-icon",27),b.Yb()}2&t&&b.tc("title",b.nc(1,1,"lang.saveAsPrivateModel"))}function G(t,e){if(1&t){var n=b.ac();b.Zb(0,"mat-form-field",8),b.Ub(1,"input",9,10),b.mc(3,"translate"),b.Zb(4,"mat-autocomplete",11,12),b.hc("optionSelected",(function(t){return b.Hc(n),b.lc(2).addItemToWorkflow(t.option.value)}))("opened",(function(){return b.Hc(n),b.lc(2).initFilterVisaModelList()})),b.Qc(6,N,3,0,"mat-option",13),b.Qc(7,B,4,7,"mat-optgroup",14),b.mc(8,"async"),b.Qc(9,V,4,7,"mat-optgroup",14),b.mc(10,"async"),b.Qc(11,Q,4,7,"mat-optgroup",14),b.mc(12,"async"),b.Yb(),b.Qc(13,W,3,3,"button",15),b.Yb()}if(2&t){var i,a,r,o=b.Dc(5),s=b.lc(2),c=(null==(i=b.nc(8,10,s.filteredPublicModels))?null:i.length)>0,l=(null==(a=b.nc(10,12,s.filteredPrivateModels))?null:a.length)>0,u=(null==(r=b.nc(12,14,s.filteredSignVisaUsers))?null:r.length)>0;b.Eb(1),b.tc("placeholder",b.nc(3,8,"lang.addUsers")),b.sc("formControl",s.searchVisaSignUser)("matAutocomplete",o),b.Eb(5),b.sc("ngIf",s.visaModelListNotLoaded),b.Eb(1),b.sc("ngIf",c),b.Eb(2),b.sc("ngIf",l),b.Eb(2),b.sc("ngIf",u),b.Eb(2),b.sc("ngIf",s.visaWorkflow.items.length>0&&s.showListModels)}}var q=function(){return["/rest/autocomplete/maarchParapheurUsers"]};function X(t,e){if(1&t){var n=b.ac();b.Zb(0,"plugin-autocomplete",28),b.hc("triggerEvent",(function(t){return b.Hc(n),b.lc(2).addItemToWorkflow(t,!0)})),b.Yb()}if(2&t){var i=b.lc(2);b.sc("labelPlaceholder",i.translate.instant("lang.addPerson"))("routeDatas",b.yc(4,q))("targetSearchKey","idToDisplay")("subInfoKey","email")}}function $(t,e){1&t&&(b.Zb(0,"div",29),b.Sc(1),b.mc(2,"translate"),b.Yb()),2&t&&(b.Eb(1),b.Uc(" ",b.nc(2,1,"lang.noPerson")," "))}function J(t,e){1&t&&b.Ub(0,"mat-icon",43)}function K(t,e){if(1&t&&b.Ub(0,"i",44),2&t){var n=b.lc().$implicit;b.sc("matTooltip",n.process_comment)}}var tt=function(t,e){return[t,e]};function et(t,e){if(1&t&&(b.Xb(0),b.Ub(1,"mat-icon",45),b.Wb()),2&t){var n=b.lc().$implicit,i=b.lc(2);b.Eb(1),b.Jb("fa-hourglass",null==n.process_date)("fa-thumbs-up",null!=n.process_date&&-1===b.Ac(13,tt,i.translate.instant("lang.visaWorkflowInterrupted"),i.translate.instant("lang.hasInterruptedWorkflow")).indexOf(n.process_comment))("fa-hand-paper",null!=n.process_date&&n.process_comment===i.translate.instant("lang.hasInterruptedWorkflow"))("fa-times",null!=n.process_date&&n.process_comment===i.translate.instant("lang.visaWorkflowInterrupted"))("valid",null!=n.process_date&&-1===b.Ac(16,tt,i.translate.instant("lang.visaWorkflowInterrupted"),i.translate.instant("lang.hasInterruptedWorkflow")).indexOf(n.process_comment))("invalid",null!=n.process_date&&b.Ac(19,tt,i.translate.instant("lang.visaWorkflowInterrupted"),i.translate.instant("lang.hasInterruptedWorkflow")).indexOf(n.process_comment)>-1),b.sc("title",null!==n.process_comment?n.process_comment:"")}}function nt(t,e){if(1&t){var n=b.ac();b.Zb(0,"div",37),b.Zb(1,"mat-form-field"),b.Zb(2,"input",46),b.hc("ngModelChange",(function(t){return b.Hc(n),b.lc().$implicit.process_comment=t})),b.Yb(),b.Yb(),b.Yb()}if(2&t){var i=b.lc(),a=i.$implicit,r=i.index,o=b.lc(2);b.Eb(2),b.sc("disabled",!o.adminMode||null!=a.process_date||"signatureBook"===o.target&&o.getCurrentVisaUserIndex()===r)("placeholder",o.translate.instant("lang.visaNote"))("ngModel",a.process_comment)}}function it(t,e){if(1&t&&(b.Zb(0,"div",47),b.mc(1,"fullDate"),b.Sc(2),b.mc(3,"timeAgo"),b.Yb()),2&t){var n=b.lc().$implicit,i=b.lc(2);b.tc("title",b.nc(1,3,n.process_date)),b.Eb(2),b.Vc("",i.translate.instant(n.requested_signature?"lang.signedUserDate":"lang.approvedUserDate")," ",b.oc(3,5,n.process_date,"full"),"")}}function at(t,e){if(1&t&&(b.Zb(0,"div",48),b.mc(1,"fullDate"),b.Sc(2),b.mc(3,"translate"),b.mc(4,"timeAgo"),b.Yb()),2&t){var n=b.lc().$implicit;b.tc("title",b.nc(1,3,n.process_date)),b.Eb(2),b.Vc("",b.nc(3,5,"lang.interrupted")," ",b.oc(4,7,n.process_date,"full"),"")}}function rt(t,e){if(1&t){var n=b.ac();b.Zb(0,"div"),b.Zb(1,"button",49),b.hc("click",(function(){b.Hc(n);var t=b.lc().index;return b.lc(2).changeRole(t)})),b.mc(2,"translate"),b.Sc(3),b.Yb(),b.Yb()}if(2&t){var i=b.lc(),a=i.$implicit,r=i.index,o=b.lc(2);b.Eb(1),b.tc("title",b.nc(2,4,"lang."+a.currentRole+"User")),b.sc("color",a.requested_signature?"primary":"")("disabled",!o.canManageUser(a,r)),b.Eb(2),b.Tc(o.translate.instant(a.requested_signature?"lang.signUser":"lang.visaUser"))}}function ot(t,e){1&t&&(b.Zb(0,"div",50),b.Sc(1),b.mc(2,"translate"),b.Yb()),2&t&&(b.Eb(1),b.Uc(" ",b.nc(2,1,"lang.noPrivileges")," "))}function st(t,e){if(1&t){var n=b.ac();b.Zb(0,"button",51),b.hc("click",(function(){b.Hc(n);var t=b.lc().index;return b.lc(2).deleteItem(t)})),b.Ub(1,"mat-icon",52),b.Yb()}}var ct=function(t,e){return{"fa fa-user fa-2x":t,avatar:e}},lt=function(){return["A termin\xe9 le circuit"]};function ut(t,e){if(1&t&&(b.Zb(0,"mat-list-item",30),b.Qc(1,J,1,0,"mat-icon",31),b.Zb(2,"mat-icon",32),b.Qc(3,K,1,1,"i",33),b.Yb(),b.Qc(4,et,2,22,"ng-container",0),b.Zb(5,"div",34),b.Zb(6,"div",35),b.Zb(7,"div",36),b.Sc(8),b.Yb(),b.Zb(9,"div",37),b.Sc(10),b.Yb(),b.Qc(11,nt,3,3,"div",38),b.Qc(12,it,4,8,"div",39),b.Qc(13,at,5,10,"div",40),b.Yb(),b.Qc(14,rt,4,6,"div",0),b.Qc(15,ot,3,3,"div",41),b.Yb(),b.Qc(16,st,2,0,"button",42),b.Yb()),2&t){var n=e.$implicit,i=e.index,a=b.lc(2);b.Jb("notDraggable",!a.canManageUser(n,i))("notEditable",!a.adminMode)("processed",null!=n.process_date&&-1===b.Ac(29,tt,a.translate.instant("lang.visaWorkflowInterrupted"),a.translate.instant("lang.hasInterruptedWorkflow")).indexOf(n.process_comment))("interrupt",null!=n.process_date&&b.Ac(32,tt,a.translate.instant("lang.visaWorkflowInterrupted"),a.translate.instant("lang.hasInterruptedWorkflow")).indexOf(n.process_comment)>-1),b.sc("cdkDragDisabled",!a.canManageUser(n,i)),b.Eb(1),b.sc("ngIf",a.getCurrentVisaUserIndex()===i&&(!a.adminMode||"signatureBook"===a.target)),b.Eb(1),b.Pc("background-image",a.functions.empty(n.picture)?"":"url("+n.picture+")",b.Mb),b.Jb("invalid",!n.hasPrivilege),b.sc("ngClass",b.Ac(35,ct,a.functions.empty(n.picture),!a.functions.empty(n.picture))),b.Eb(1),b.sc("ngIf",!a.functions.empty(n.process_comment)),b.Eb(1),b.sc("ngIf",!a.adminMode||null!=n.process_date),b.Eb(3),b.Jb("unauthorized",!n.hasPrivilege),b.Eb(1),b.Uc(" ",n.labelToDisplay," "),b.Eb(1),b.Jb("unauthorized",!n.hasPrivilege),b.Eb(1),b.Uc(" ",n.item_entity," "),b.Eb(1),b.sc("ngIf",a.showComment&&(!a.linkedToMaarchParapheur&&a.adminMode&&a.functions.empty(n.process_date)||!a.linkedToMaarchParapheur&&a.getCurrentVisaUserIndex()===i&&!a.functions.empty(n.process_comment))&&n.hasPrivilege),b.Eb(1),b.sc("ngIf",null!=n.process_date&&-1===b.Ac(38,tt,a.translate.instant("lang.visaWorkflowInterrupted"),a.translate.instant("lang.hasInterruptedWorkflow")).indexOf(n.process_comment)),b.Eb(1),b.sc("ngIf",null!=n.process_date&&b.yc(41,lt).indexOf(n.process_comment)>-1),b.Eb(1),b.sc("ngIf",n.hasPrivilege),b.Eb(1),b.sc("ngIf",!n.hasPrivilege),b.Eb(1),b.sc("ngIf",a.canManageUser(n,i))}}function dt(t,e){if(1&t){var n=b.ac();b.Zb(0,"mat-list"),b.Qc(1,G,14,16,"mat-form-field",2),b.Qc(2,X,1,5,"plugin-autocomplete",3),b.Zb(3,"div",4,5),b.hc("cdkDropListDropped",(function(t){return b.Hc(n),b.lc().drop(t)})),b.Qc(5,$,3,3,"div",6),b.Qc(6,ut,17,42,"mat-list-item",7),b.Yb(),b.Yb()}if(2&t){var i=b.lc();b.Eb(1),b.sc("ngIf",i.adminMode&&!i.linkedToMaarchParapheur),b.Eb(1),b.sc("ngIf",i.linkedToMaarchParapheur&&i.adminMode),b.Eb(1),b.sc("cdkDropListData",i.visaWorkflow.items)("cdkDropListDisabled",!i.adminMode),b.Eb(2),b.sc("ngIf",0===i.visaWorkflow.items.length),b.Eb(1),b.sc("ngForOf",i.visaWorkflow.items)}}function ft(t,e){1&t&&(b.Zb(0,"div",53),b.Ub(1,"mat-spinner",54),b.Yb())}var ht,pt=((ht=function(){function t(e,n,i,a,r,o,s,c){var l=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.functions=a,this.latinisePipe=r,this.dialog=o,this.scanPipe=s,this.route=c,this.visaWorkflow={roles:["sign","visa"],items:[]},this.visaWorkflowClone=[],this.visaTemplates={private:[],public:[]},this.signVisaUsers=[],this.loading=!1,this.visaModelListNotLoaded=!0,this.target="",this.resId=null,this.showListModels=!0,this.showComment=!0,this.linkedToMaarchParapheur=!1,this.searchVisaSignUser=new h.h,this.loadedInConstructor=!1,this.route.params.subscribe((function(t){l.loading=!0,l.resId=t.resId,l.functions.empty(l.resId)?l.loadedInConstructor=!1:(l.loadedInConstructor=!0,l.loadWorkflow(l.resId))}),(function(t){l.notify.handleErrors(t)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.functions.empty(this.resId)||this.loadedInConstructor?this.loading=!1:this.loadWorkflow(this.resId)}},{key:"drop",value:function(t){t.previousContainer===t.container&&(this.canManageUser(this.visaWorkflow.items[t.currentIndex],t.currentIndex)?Object(r.h)(t.container.data,t.previousIndex,t.currentIndex):this.notify.error(this.translate.instant("lang.moveVisaUserErr",{value1:this.visaWorkflow.items[t.previousIndex].labelToDisplay})))}},{key:"loadListModel",value:function(t){var e=this;this.loading=!0,this.visaWorkflow.items=[];var n=!0===this.linkedToMaarchParapheur?"../rest/listTemplates/entities/".concat(t,"?type=visaCircuit&maarchParapheur=true"):"../rest/listTemplates/entities/".concat(t,"?type=visaCircuit");return new Promise((function(t,i){e.http.get(n).subscribe((function(n){n.listTemplates[0]&&(e.visaWorkflow.items=n.listTemplates[0].items.map((function(t){return Object.assign(Object.assign({},t),{item_entity:t.descriptionToDisplay,requested_signature:"visa"!==t.item_mode})}))),e.visaWorkflow.items.forEach((function(t,n){e.functions.empty(t.externalId)||e.getMaarchParapheurUserAvatar(t.externalId.maarchParapheur,n)})),e.visaWorkflowClone=JSON.parse(JSON.stringify(e.visaWorkflow.items)),e.loading=!1,t(!0)}))}))}},{key:"loadVisaSignUsersList",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/autocomplete/users/circuit").pipe(Object(o.a)((function(t){return t.map((function(t){return{id:t.id,title:"".concat(t.idToDisplay," (").concat(t.otherInfo,")"),label:t.idToDisplay,entity:t.otherInfo,type:"user",hasPrivilege:!0}}))})),Object(s.a)((function(n){t.signVisaUsers=n,t.filteredSignVisaUsers=t.searchVisaSignUser.valueChanges.pipe(Object(c.a)(""),Object(o.a)((function(e){return t._filter(e)}))),e(!0)})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe()}))}},{key:"loadVisaModelList",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null!==this.resId,!t.t0){t.next=4;break}return t.next=4,this.loadDefaultModel();case 4:return t.abrupt("return",new Promise((function(t,n){e.http.get("../rest/availableCircuits?circuit=visa").pipe(Object(s.a)((function(n){e.visaTemplates.public=e.visaTemplates.public.concat(n.circuits.filter((function(t){return!t.private})).map((function(t){return{id:t.id,title:t.title,label:t.title,type:"entity"}}))),e.visaTemplates.private=n.circuits.filter((function(t){return t.private})).map((function(t){return{id:t.id,title:t.title,label:t.title,type:"entity"}})),e.filteredPublicModels=e.searchVisaSignUser.valueChanges.pipe(Object(c.a)(""),Object(o.a)((function(t){return e._filterPublicModel(t)}))),e.filteredPrivateModels=e.searchVisaSignUser.valueChanges.pipe(Object(c.a)(""),Object(o.a)((function(t){return e._filterPrivateModel(t)}))),t(!0)}))).subscribe()})));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"loadDefaultModel",value:function(){var t=this;return this.visaTemplates.public=[],new Promise((function(e,n){t.http.get("../rest/resources/".concat(t.resId,"/defaultCircuit?circuit=visa")).pipe(Object(u.a)((function(e){return!t.functions.empty(e.circuit)})),Object(s.a)((function(e){t.functions.empty(e.circuit)||t.visaTemplates.public.push({id:e.circuit.id,title:e.circuit.title,label:e.circuit.title,type:"entity"})})),Object(d.a)((function(){return e(!0)})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe()}))}},{key:"initFilterVisaModelList",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.linkedToMaarchParapheur,t.t0){t.next=12;break}if(t.t1=this.visaModelListNotLoaded,!t.t1){t.next=12;break}return t.next=6,this.loadVisaSignUsersList();case 6:if(t.t2=this.showListModels,!t.t2){t.next=10;break}return t.next=10,this.loadVisaModelList();case 10:this.searchVisaSignUser.reset(),this.visaModelListNotLoaded=!1;case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_filter",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.signVisaUsers.filter((function(t){return e.latinisePipe.transform(t.title.toLowerCase()).includes(n)}))}return this.signVisaUsers}},{key:"_filterPrivateModel",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.visaTemplates.private.filter((function(t){return e.latinisePipe.transform(t.title.toLowerCase()).includes(n)}))}return this.visaTemplates.private}},{key:"_filterPublicModel",value:function(t){var e=this;if("string"==typeof t){var n=this.latinisePipe.transform(t.toLowerCase());return this.visaTemplates.public.filter((function(t){return e.latinisePipe.transform(t.title.toLowerCase()).includes(n)}))}return this.visaTemplates.public}},{key:"loadWorkflow",value:function(t){var e=this;return this.resId=t,this.loading=!0,this.visaWorkflow.items=[],new Promise((function(n,i){e.http.get("../rest/resources/"+t+"/visaCircuit").pipe(Object(u.a)((function(t){return!e.functions.empty(t.circuit)})),Object(s.a)((function(t){t.circuit.forEach((function(t){e.visaWorkflow.items.push(Object.assign(Object.assign({},t),{difflist_type:"VISA_CIRCUIT"}))})),e.visaWorkflowClone=JSON.parse(JSON.stringify(e.visaWorkflow.items))})),Object(d.a)((function(){e.loading=!1,n(!0)})),Object(l.a)((function(t){return e.notify.handleSoftErrors(t),Object(m.a)(!1)}))).subscribe()}))}},{key:"loadDefaultWorkflow",value:function(t){var e=this;this.loading=!0,this.visaWorkflow.items=[],this.http.get("../rest/resources/"+t+"/defaultCircuit?circuit=visaCircuit").pipe(Object(u.a)((function(t){return!e.functions.empty(t.circuit)})),Object(s.a)((function(t){t.circuit.items.forEach((function(t){e.visaWorkflow.items.push(Object.assign(Object.assign({},t),{requested_signature:"visa"!==t.item_mode,difflist_type:"VISA_CIRCUIT"}))})),e.visaWorkflowClone=JSON.parse(JSON.stringify(e.visaWorkflow.items))})),Object(d.a)((function(){return e.loading=!1})),Object(l.a)((function(t){return e.notify.handleSoftErrors(t),Object(m.a)(!1)}))).subscribe()}},{key:"loadWorkflowMaarchParapheur",value:function(t,e){var n=this;this.loading=!0,this.visaWorkflow.items=[],this.http.get("../rest/documents/".concat(t,"/maarchParapheurWorkflow?type=").concat(e)).subscribe((function(t){t.workflow.forEach((function(t,e){var i={listinstance_id:e,id:t.userId,labelToDisplay:t.userDisplay,requested_signature:"visa"!==t.mode,process_date:n.functions.formatFrenchDateToTechnicalDate(t.processDate),picture:"",hasPrivilege:!0};n.visaWorkflow.items.push(i),n.http.get("../rest/maarchParapheur/user/"+t.userId+"/picture").subscribe((function(e){n.visaWorkflow.items.filter((function(e){return e.id===t.userId}))[0].picture=e.picture}),(function(t){n.notify.handleErrors(t)}))})),n.loading=!1}),(function(t){n.notify.handleErrors(t)}))}},{key:"deleteItem",value:function(t){this.visaWorkflow.items.splice(t,1)}},{key:"getVisaCount",value:function(){return this.visaWorkflow.items.length}},{key:"changeRole",value:function(t){this.visaWorkflow.items[t].requested_signature=!this.visaWorkflow.items[t].requested_signature}},{key:"getWorkflow",value:function(){return this.visaWorkflow.items}},{key:"getCurrentVisaUserIndex",value:function(){return void 0===this.getLastVisaUser().listinstance_id?0:this.visaWorkflow.items.map((function(t){return t.listinstance_id})).indexOf(this.getLastVisaUser().listinstance_id)+1}},{key:"getFirstVisaUser",value:function(){return this.functions.empty(this.visaWorkflow.items[0])?"":this.visaWorkflow.items[0]}},{key:"getCurrentVisaUser",value:function(){var t=this.visaWorkflow.items.map((function(t){return t.listinstance_id})).indexOf(this.getLastVisaUser().listinstance_id);return this.functions.empty(this.visaWorkflow.items[t+1])?"":this.visaWorkflow.items[t+1]}},{key:"getNextVisaUser",value:function(){var t=this.visaWorkflow.items.map((function(t){return t.listinstance_id})).indexOf(this.getLastVisaUser().listinstance_id);return this.functions.empty(this.visaWorkflow.items[t+2])?"":this.visaWorkflow.items[t+2]}},{key:"getLastVisaUser",value:function(){var t=this,e=this.visaWorkflow.items.filter((function(e){return!t.functions.empty(e.process_date)}));return this.functions.empty(e[e.length-1])?"":e[e.length-1]}},{key:"checkExternalSignatoryBook",value:function(){var t=this;return this.visaWorkflow.items.filter((function(e){return t.functions.empty(e.externalId)})).map((function(t){return t.labelToDisplay}))}},{key:"saveVisaWorkflow",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.resId];return new Promise((function(n,i){if(0===t.visaWorkflow.items.length)t.http.delete("../rest/resources/".concat(e[0],"/circuits/visaCircuit")).pipe(Object(s.a)((function(){t.visaWorkflowClone=JSON.parse(JSON.stringify(t.visaWorkflow.items)),t.notify.success(t.translate.instant("lang.visaWorkflowDeleted")),n(!0)})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe();else if(t.isValidWorkflow()){var a=e.map((function(e){return{resId:e,listInstances:t.visaWorkflow.items}}));t.http.put("../rest/circuits/visaCircuit",{resources:a}).pipe(Object(s.a)((function(e){t.visaWorkflowClone=JSON.parse(JSON.stringify(t.visaWorkflow.items)),t.notify.success(t.translate.instant("lang.visaWorkflowUpdated")),n(!0)})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe()}else t.notify.error(t.getError()),n(!1)}))}},{key:"addItemToWorkflow",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i,a){n?(e.visaWorkflow.items.push({item_id:t.id,item_type:"user",item_entity:t.email,labelToDisplay:t.idToDisplay,externalId:t.externalId,difflist_type:"VISA_CIRCUIT",signatory:!e.functions.empty(t.signatory)&&t.signatory,requested_signature:!e.functions.empty(t.requested_signature)&&t.requested_signature,hasPrivilege:!0}),e.linkedToMaarchParapheur&&e.getMaarchParapheurUserAvatar(t.externalId.maarchParapheur,e.visaWorkflow.items.length-1),e.searchVisaSignUser.reset(),i(!0)):"user"===t.type?(e.visaWorkflow.items.push({item_id:t.id,item_type:"user",item_entity:t.entity,labelToDisplay:t.label,externalId:e.functions.empty(t.externalId)?null:t.externalId,difflist_type:"VISA_CIRCUIT",signatory:!e.functions.empty(t.signatory)&&t.signatory,requested_signature:!e.functions.empty(t.requested_signature)&&t.requested_signature,hasPrivilege:t.hasPrivilege}),e.linkedToMaarchParapheur&&e.getMaarchParapheurUserAvatar(t.externalId.maarchParapheur,e.visaWorkflow.items.length-1),e.searchVisaSignUser.reset(),e.searchVisaSignUserInput.nativeElement.blur(),i(!0)):"entity"===t.type&&e.http.get("../rest/listTemplates/"+t.id).pipe(Object(s.a)((function(t){e.visaWorkflow.items=e.visaWorkflow.items.concat(t.listTemplate.items.map((function(t){return{item_id:t.item_id,item_type:"user",labelToDisplay:t.idToDisplay,item_entity:t.descriptionToDisplay,difflist_type:"VISA_CIRCUIT",signatory:!1,requested_signature:"sign"===t.item_mode,hasPrivilege:t.hasPrivilege}}))),e.searchVisaSignUser.reset(),e.searchVisaSignUserInput.nativeElement.blur(),i(!0)}))).subscribe()}))}},{key:"resetWorkflow",value:function(){this.visaWorkflow.items=[]}},{key:"isValidWorkflow",value:function(){return this.visaWorkflow.items.filter((function(t){return t.requested_signature})).length>0&&0===this.visaWorkflow.items.filter((function(t){return!t.hasPrivilege})).length&&this.visaWorkflow.items.length>0}},{key:"getError",value:function(){return 0===this.visaWorkflow.items.filter((function(t){return t.requested_signature})).length?this.translate.instant("lang.signUserRequired"):this.visaWorkflow.items.filter((function(t){return!t.hasPrivilege})).length>0?this.translate.instant("lang.mustDeleteUsersWithNoPrivileges"):void 0}},{key:"emptyWorkflow",value:function(){return 0===this.visaWorkflow.items.length}},{key:"workflowEnd",value:function(){var t=this;return this.visaWorkflow.items.filter((function(e){return!t.functions.empty(e.process_date)})).length===this.visaWorkflow.items.length}},{key:"openPromptSaveModel",value:function(){var t=this;this.dialog.open(w,{panelClass:"maarch-modal",data:{visaWorkflow:this.visaWorkflow.items}}).afterClosed().pipe(Object(u.a)((function(e){return!t.functions.empty(e)})),Object(s.a)((function(e){t.visaTemplates.private.push({id:e.id,title:e.title,label:e.title,type:"entity"}),t.searchVisaSignUser.reset()})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(m.a)(!1)}))).subscribe()}},{key:"deletePrivateModel",value:function(t){var e=this;this.dialog.open(O.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(u.a)((function(t){return"ok"===t})),Object(f.a)((function(){return e.http.delete("../rest/listTemplates/"+t.id)})),Object(s.a)((function(){e.visaTemplates.private=e.visaTemplates.private.filter((function(e){return e.id!==t.id})),e.searchVisaSignUser.reset(),e.notify.success(e.translate.instant("lang.modelDeleted"))})),Object(l.a)((function(t){return e.notify.handleErrors(t),Object(m.a)(!1)}))).subscribe()}},{key:"getMaarchParapheurUserAvatar",value:function(t,e){var n=this;this.functions.empty(t)||this.http.get("../rest/maarchParapheur/user/"+t+"/picture").subscribe((function(t){n.visaWorkflow.items[e].picture=t.picture}),(function(t){n.notify.handleErrors(t)}))}},{key:"isModified",value:function(){return!(this.loading||JSON.stringify(this.visaWorkflow.items)===JSON.stringify(this.visaWorkflowClone))}},{key:"canManageUser",value:function(t,e){return!!this.adminMode&&!(!this.functions.empty(t.process_date)||"signatureBook"===this.target&&this.getCurrentVisaUserIndex()===e)}}]),t}()).\u0275fac=function(t){return new(t||ht)(b.Tb(v.e),b.Tb(y.b),b.Tb(_.a),b.Tb(S.a),b.Tb(p.c),b.Tb(g.b),b.Tb(p.o),b.Tb(E.a))},ht.\u0275cmp=b.Nb({type:ht,selectors:[["app-visa-workflow"]],viewQuery:function(t,e){var n;1&t&&b.ad(Z,!0),2&t&&b.Cc(n=b.ic())&&(e.searchVisaSignUserInput=n.first)},inputs:{injectDatas:"injectDatas",target:"target",adminMode:"adminMode",resId:"resId",showListModels:"showListModels",showComment:"showComment",linkedToMaarchParapheur:"linkedToMaarchParapheur"},features:[b.Db([p.o])],decls:2,vars:2,consts:[[4,"ngIf"],["style","display:flex;padding: 10px;",4,"ngIf"],["appearance","outline",4,"ngIf"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent",4,"ngIf"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["class","emptyContent",4,"ngIf"],["disableRipple","","cdkDrag","","class","columns workflow",3,"cdkDragDisabled","notDraggable","notEditable","processed","interrupt",4,"ngFor","ngForOf"],["appearance","outline"],["type","text","matInput","","id","searchVisaSignUserInput",3,"placeholder","formControl","matAutocomplete"],["searchVisaSignUserInput",""],[3,"optionSelected","opened"],["autoGroup","matAutocomplete"],["disabled","",4,"ngIf"],["class","visaSignList",3,"label",4,"ngIf"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click",4,"ngIf"],["disabled",""],[2,"display","flex","justify-content","center"],["diameter","35"],[1,"visaSignList",3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"display","flex","align-items","center"],[2,"flex","1"],["mat-icon-button","","color","warn",3,"click"],[1,"fa","fa-trash",2,"margin","0px"],["mat-icon-button","","matSuffix","","color","primary",3,"title","click"],[1,"fa","fa-plus"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent"],[1,"emptyContent"],["disableRipple","","cdkDrag","",1,"columns","workflow",3,"cdkDragDisabled"],["class","fa fa-chevron-right fa-2x","mat-list-icon","","color","accent",4,"ngIf"],["mat-list-icon","","color","primary",2,"position","relative",3,"ngClass"],["class","far fa-comment-dots commentBubble",3,"matTooltip",4,"ngIf"],["mat-line","",1,"workflowLine"],[1,"workflowLineContainer"],[1,"workflowLineLabel"],[1,"workflowLineSubLabel"],["class","workflowLineSubLabel",4,"ngIf"],["class","workflowLineProcessDate","color","accent",3,"title",4,"ngIf"],["class","workflowLineProcessDate","color","warn",3,"title",4,"ngIf"],["class","invalid",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-list-icon","","color","accent",1,"fa","fa-chevron-right","fa-2x"],[1,"far","fa-comment-dots","commentBubble",3,"matTooltip"],["mat-list-icon","",1,"fa-2x","fa",2,"opacity","0.5",3,"title"],["matInput","",1,"comment",3,"disabled","placeholder","ngModel","ngModelChange"],["color","accent",1,"workflowLineProcessDate",3,"title"],["color","warn",1,"workflowLineProcessDate",3,"title"],["mat-raised-button","",1,"currentRoleButton",3,"color","disabled","title","click"],[1,"invalid"],["mat-icon-button","",3,"click"],["color","warn",1,"fa","fa-times"],[2,"display","flex","padding","10px"],[2,"margin","auto"]],template:function(t,e){1&t&&(b.Qc(0,dt,7,6,"mat-list",0),b.Qc(1,ft,2,0,"div",1)),2&t&&(b.sc("ngIf",!e.loading),b.Eb(1),b.sc("ngIf",e.loading))},directives:[M.t,I.a,r.e,M.s,k.c,C.b,h.c,P.d,h.t,h.i,P.a,T.o,A.c,T.n,x.b,D.a,k.j,R.a,I.d,r.a,I.c,M.q,T.k,L.b,h.w],pipes:[v.d,M.b,F.a,j.a,Y.a],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.visaSignList[_ngcontent-%COMP%]    .mat-optgroup-label{color:#135f7f;position:-webkit-sticky;position:sticky;top:0;background:#fff!important;z-index:1}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff!important;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.notDraggable[_ngcontent-%COMP%]{cursor:not-allowed}.notEditable[_ngcontent-%COMP%]{cursor:auto}.currentContextButton[_ngcontent-%COMP%]{width:150px;text-align:left}.currentContextButton[_ngcontent-%COMP%], .currentRoleButton[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:13px}.currentRoleButton[_ngcontent-%COMP%]{width:120px;text-align:center}.emptyContent[_ngcontent-%COMP%]{opacity:.5;text-align:center;font-size:10px;padding:10px}.processed[_ngcontent-%COMP%]{background:rgba(0,104,65,.11)!important}.interrupt[_ngcontent-%COMP%]{background:rgba(142,62,82,.11)!important}.workflow[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;height:auto!important;margin-bottom:10px;background:hsla(0,0%,84.7%,.1);border-radius:10px;font-size:13px}.workflowLine[_ngcontent-%COMP%]{display:flex!important;align-items:center}.workflowLineContainer[_ngcontent-%COMP%]{flex:1}.workflowLineContainer[_ngcontent-%COMP%], .workflowLineLabel[_ngcontent-%COMP%], .workflowLineSubLabel[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.workflowLineSubLabel[_ngcontent-%COMP%]{font-size:80%;opacity:.5;flex:1}.workflowLineProcessDate[_ngcontent-%COMP%]{flex:1;text-align:left;font-size:80%}.workflowLine[_ngcontent-%COMP%]   .mat-raised-button[disabled][_ngcontent-%COMP%]{background:none;color:#135f7f!important;opacity:1}.avatar[_ngcontent-%COMP%]{border:3px solid #f99830;height:45px!important;width:45px!important;background-size:cover;background-repeat:no-repeat;background-position:50%}.valid[_ngcontent-%COMP%]{color:#006841}.invalid[_ngcontent-%COMP%]{color:#8e3e52}.commentBubble[_ngcontent-%COMP%]{color:#f99830;position:absolute;top:-12px;right:-11px;font-size:20px;cursor:help}.comment[_ngcontent-%COMP%]:disabled{color:#000}.unauthorized[_ngcontent-%COMP%]{color:#8e3e52;text-decoration:line-through}"]}),ht)},jhN1:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return S})),n.d(e,"e",(function(){return F})),n.d(e,"f",(function(){return _}));var i,a=n("ofXK"),r=n("fXoL"),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=s||(s=document.querySelector("base"))?s.getAttribute("href"):null;return null==n?null:(e=n,i||(i=document.createElement("a")),i.setAttribute("href",e),"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname)}},{key:"resetBaseElement",value:function(){s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(a.M)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(a.N)(new n)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(a.J)),s=null,c=new r.r("TRANSITION_ID"),l=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=Object(a.L)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[c,a.e,r.s],multi:!0}],u=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.sb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.sb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.sb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.sb.frameworkStabilizers||(r.sb.frameworkStabilizers=[]),r.sb.frameworkStabilizers.push((function(t){var e=r.sb.getAllAngularTestabilities(),n=e.length,i=!1,a=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(a)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Object(a.L)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.ab)(new t)}}]),t}(),d=new r.r("EventManagerPlugins"),f=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=i})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var a=n[i];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error("No event manager plugin found for event "+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.dc(d),r.dc(r.B))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),h=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Object(a.L)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),p=function(){var t=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Object(a.L)().remove(t)}))}}]),n}(p);return t.\u0275fac=function(e){return new(e||t)(r.dc(a.e))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function v(t,e,n){for(var i=0;i<e.length;i++){var a=e[i];Array.isArray(a)?v(t,a,n):(a=a.replace(b,t),n.push(a))}return n}function y(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var _=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new k(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.S.Native:case r.S.ShadowDom:return new x(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.dc(f),r.dc(m),r.dc(r.c))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),k=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(g[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var a=g[i];a?t.setAttributeNS(a,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=g[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.J.DashCase?t.style.setProperty(e,n,i&r.J.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.J.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,y(n)):this.eventManager.addEventListener(t,e,y(n))}}]),t}(),C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;_classCallCheck(this,n),(o=e.call(this,t)).component=a;var s,c=v(r+"-"+a.id,a.styles,[]);return i.addStyles(c),o.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+a.id),o.hostAttr=(s=r+"-"+a.id,"_nghost-%COMP%".replace(b,s)),o}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(k),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=a,s.component=o,s.shadowRoot=o.encapsulation===r.S.ShadowDom?a.attachShadow({mode:"open"}):a.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var c=v(o.id,o.styles,[]),l=0;l<c.length;l++){var u=document.createElement("style");u.textContent=c[l],s.shadowRoot.appendChild(u)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(k),w=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(r.dc(a.e))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),O=new r.r("HammerGestureConfig"),S=function(){var t=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),E=["alt","control","meta","shift"],M={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},T=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(a.L)().onAndCancel(t,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var a=n._normalizeKey(e.pop()),r="";if(E.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")})),r+=a,0!=e.length||0===a.length)return null;var o={};return o.domEventName=i,o.fullKey=r,o}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&I.hasOwnProperty(e)&&(e=I[e]))}return M[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),E.forEach((function(i){i!=n&&(0,P[i])(t)&&(e+=i+".")})),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(a){n.getEventFullKey(a)===t&&i.runGuarded((function(){return e(a)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(r.dc(a.e))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac}),t}(),A=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Pb)({factory:function(){return Object(r.dc)(R)},token:t,providedIn:"root"}),t}();function D(t){return new R(t.get(a.e))}var R=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case r.L.NONE:return e;case r.L.HTML:return Object(r.hb)(e,"HTML")?Object(r.Ab)(e):Object(r.eb)(this._doc,String(e));case r.L.STYLE:return Object(r.hb)(e,"Style")?Object(r.Ab)(e):Object(r.fb)(e);case r.L.SCRIPT:if(Object(r.hb)(e,"Script"))return Object(r.Ab)(e);throw new Error("unsafe value used in a script context");case r.L.URL:return Object(r.rb)(e),Object(r.hb)(e,"URL")?Object(r.Ab)(e):Object(r.gb)(String(e));case r.L.RESOURCE_URL:if(Object(r.hb)(e,"ResourceURL"))return Object(r.Ab)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return Object(r.ib)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return Object(r.lb)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return Object(r.kb)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return Object(r.mb)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return Object(r.jb)(t)}}]),n}(A);return t.\u0275fac=function(e){return new(e||t)(r.dc(a.e))},t.\u0275prov=Object(r.Pb)({factory:function(){return D(Object(r.dc)(r.p))},token:t,providedIn:"root"}),t}(),L=[{provide:r.E,useValue:a.K},{provide:r.F,useValue:function(){o.makeCurrent(),u.init()},multi:!0},{provide:a.e,useFactory:function(){return Object(r.yb)(document),document},deps:[]}],F=Object(r.U)(r.Z,"browser",L),j=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:d,useClass:w,multi:!0,deps:[a.e,r.B,r.E]},{provide:d,useClass:T,multi:!0,deps:[a.e]},[],{provide:_,useClass:_,deps:[f,m,r.c]},{provide:r.I,useExisting:_},{provide:p,useExisting:m},{provide:m,useClass:m,deps:[a.e]},{provide:r.P,useClass:r.P,deps:[r.B]},{provide:f,useClass:f,deps:[d,r.B]},[]],Y=function(){var t=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:c,useExisting:r.c},l]}}}]),t}();return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)(r.dc(t,12))},providers:j,imports:[a.c,r.f]}),t}();"undefined"!=typeof window&&window},jj9e:function(t,e,n){"use strict";n.r(e);var i=n("fXoL"),a=(n("yLV6"),n("MJ5r")),r=n("vWc3"),o=n("tyNb"),s=n("87bG"),c=n("0EQZ"),l=n("sYmb"),u=n("tk/3"),d=n("uqn4"),f=n("4zkx"),h=n("AXEc"),p=n("A6w4"),m=n("/t3+"),g=n("bTqV"),b=n("NFeN"),v=n("XhcP"),y=n("ofXK"),_=n("Xa2L"),k=n("MutI"),C=n("bSwM"),x=n("Qu3c"),w=n("FKr1"),O=n("f0Cb");function S(t,e){1&t&&(i.Zb(0,"div",9),i.Ub(1,"mat-spinner",10),i.Yb())}function E(t,e){1&t&&(i.Xb(0),i.Ub(1,"br"),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Wb()),2&t&&(i.Eb(2),i.Uc(" ",i.nc(3,1,"lang.missingBasket"),""))}function M(t,e){1&t&&(i.Zb(0,"span",23),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.selectAll")," "))}function I(t,e){1&t&&(i.Zb(0,"span",24),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.selectAll")," "))}function P(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item",26),i.hc("mouseover",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(3).showActions(t)}))("mouseout",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(3).hideActions(t)})),i.Zb(1,"mat-icon",17),i.Zb(2,"mat-checkbox",27),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("change",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc(3);return t?a.selectionBaskets.toggle(e):null})),i.Yb(),i.Yb(),i.Zb(3,"h4",28),i.Zb(4,"span",29),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(3).selectionBaskets.toggle(t)})),i.mc(5,"translate"),i.Sc(6),i.Zb(7,"span",30),i.Sc(8),i.Yb(),i.Zb(9,"span",23),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(3);i.Eb(2),i.sc("checked",r.selectionBaskets.isSelected(a)),i.Eb(2),i.xc("matTooltip","",a.basket_name," [",a.group_desc,"] ",i.nc(5,9,"lang.redirectedTo")," ",a.userToDisplay,""),i.Eb(2),i.Uc(" ",a.basket_name," "),i.Eb(2),i.Tc(a.group_desc),i.Eb(2),i.Vc(" ",i.nc(11,11,"lang.redirectedTo")," ",a.userToDisplay,"")}}function T(t,e){if(1&t&&(i.Xb(0),i.Qc(1,P,12,13,"mat-list-item",25),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",null!=n.userToDisplay)}}function A(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list"),i.Zb(1,"mat-list-item"),i.Zb(2,"mat-icon",17),i.Zb(3,"mat-checkbox",18),i.hc("change",(function(t){i.Hc(n);var e=i.lc(2);return t?e.masterToggleBaskets(t):null})),i.mc(4,"translate"),i.Yb(),i.Yb(),i.Zb(5,"p",19),i.Qc(6,M,3,3,"span",20),i.Qc(7,I,3,3,"span",21),i.Yb(),i.Yb(),i.Ub(8,"mat-divider"),i.Qc(9,T,2,1,"ng-container",22),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(3),i.tc("matTooltip",i.nc(4,5,"lang.selectAll")),i.sc("checked",a.selectionBaskets.hasValue()),i.Eb(3),i.sc("ngIf",!a.selectionBaskets.hasValue()),i.Eb(1),i.sc("ngIf",a.selectionBaskets.hasValue()),i.Eb(2),i.sc("ngForOf",a.user.redirectedBaskets)}}function D(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",31),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"br"),i.Ub(4,"br"),i.Zb(5,"button",32),i.hc("click",(function(){return i.Hc(n),i.lc(2).activateUser()})),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"button",32),i.hc("click",(function(){return i.Hc(n),i.lc(2).logout()})),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,3,"lang.missingChoose"),""),i.Eb(5),i.Tc(i.nc(7,5,"lang.validate")),i.Eb(3),i.Tc(i.nc(10,7,"lang.cancel")))}function R(t,e){if(1&t&&(i.Zb(0,"div",11),i.Zb(1,"div",12),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Sc(5),i.mc(6,"translate"),i.Ub(7,"br"),i.Qc(8,E,5,3,"ng-container",13),i.Yb(),i.Ub(9,"div",14),i.Zb(10,"div",14),i.Qc(11,A,10,7,"mat-list",13),i.Yb(),i.Ub(12,"div",14),i.Ub(13,"div",15),i.Qc(14,D,11,9,"div",16),i.Yb()),2&t){var n=i.lc();i.Eb(2),i.Uc(" ",i.nc(3,5,"lang.missingAdvert"),""),i.Eb(3),i.Uc(" ",i.nc(6,7,"lang.missingAdvert2"),""),i.Eb(3),i.sc("ngIf",n.user.redirectedBaskets.length>0),i.Eb(3),i.sc("ngIf",n.user.redirectedBaskets.length>0),i.Eb(3),i.sc("ngIf",!n.loading)}}var L,F=((L=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.authService=i,this.headerService=a,this.notify=r,this.router=o,this.appService=s,this.user={baskets:[]},this.userAbsenceModel=[],this.basketsToRedirect=[],this.loading=!1,this.selectedIndex=0,this.selectionBaskets=new c.c(!0,[]),this.myBasketExpansionPanel=!1}return _createClass(t,[{key:"masterToggleBaskets",value:function(t){var e=this;t.checked?this.user.redirectedBaskets.forEach((function(t){e.selectionBaskets.select(t)})):this.selectionBaskets.clear()}},{key:"ngOnInit",value:function(){var t=this;this.loading=!0,"ABS"===this.headerService.user.status?this.http.get("../rest/currentUser/profile").subscribe((function(e){t.user=e,t.user.baskets.forEach((function(e,n){t.user.baskets[n].disabled=!1,t.user.redirectedBaskets.forEach((function(i){e.basket_id==i.basket_id&&e.basket_owner==i.basket_owner&&(t.user.baskets[n].disabled=!0)}))})),t.loading=!1})):this.router.navigate(["/home"])}},{key:"showActions",value:function(t){$("#"+t.basket_id+"_"+t.group_id).show()}},{key:"hideActions",value:function(t){$("#"+t.basket_id+"_"+t.group_id).hide()}},{key:"activateUser",value:function(){var t=this;this.http.put("../rest/users/"+this.headerService.user.id+"/status",{status:"OK"}).subscribe((function(){t.headerService.user.status="OK";var e="";t.user.redirectedBaskets.forEach((function(n){-1!==t.selectionBaskets.selected.map((function(t){return t.basket_id})).indexOf(n.basket_id)&&-1!==t.selectionBaskets.selected.map((function(t){return t.group_id})).indexOf(n.group_id)&&(""!==e&&(e+="&redirectedBasketIds[]="),e+=n.id)})),""!==e?t.http.delete("../rest/users/"+t.headerService.user.id+"/redirectedBaskets?redirectedBasketIds[]="+e).subscribe((function(e){t.router.navigate(["/home"]),t.notify.success(t.translate.instant("lang.absOff"))}),(function(e){t.notify.error(e.error.errors)})):(t.router.navigate(["/home"]),t.notify.success(t.translate.instant("lang.absOff")))}),(function(e){t.notify.error(e.error.errors)}))}},{key:"logout",value:function(){this.authService.logout()}}]),t}()).\u0275fac=function(t){return new(t||L)(i.Tb(l.e),i.Tb(u.b),i.Tb(d.a),i.Tb(f.a),i.Tb(h.a),i.Tb(o.c),i.Tb(p.a))},L.\u0275cmp=i.Nb({type:L,selectors:[["ng-component"]],decls:12,vars:8,consts:[[1,"admin-container",2,"margin-top","-63px"],["color","primary",1,"admin-toolbar"],["mat-button",""],[1,"maarchLogoWhiteFull",3,"svgIcon"],[1,"admin-toolbar-title","text-center"],[2,"flex","1 1 auto"],["autosize","",1,"admin-sidenav-container"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[1,"text-center",2,"margin-top","50px"],[4,"ngIf"],[1,"col-sm-4",2,"overflow","hidden"],[2,"clear","both"],["class","text-center","style","position:relative; top:50px;",4,"ngIf"],["mat-list-icon","","color","primary"],["color","primary",3,"checked","matTooltip","change"],["mat-line",""],["style","opacity: 0.5;font-style: italic;font-size: 80%;",4,"ngIf"],["style","opacity: 1;font-style: normal;font-size: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"opacity","0.5","font-style","italic","font-size","80%"],[2,"opacity","1","font-style","normal","font-size","100%"],["style","cursor: pointer;",3,"mouseover","mouseout",4,"ngIf"],[2,"cursor","pointer",3,"mouseover","mouseout"],["color","primary",3,"checked","click","change"],["mat-line","","color","primary",2,"display","flex","align-items","center"],[2,"flex","2","overflow","hidden","text-overflow","ellipsis",3,"matTooltip","click"],[1,"label","label-primary",2,"font-weight","normal"],[1,"text-center",2,"position","relative","top","50px"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"mat-toolbar",1),i.Zb(2,"button",2),i.Ub(3,"mat-icon",3),i.Yb(),i.Zb(4,"h1",4),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Ub(7,"span",5),i.Yb(),i.Zb(8,"mat-sidenav-container",6),i.Zb(9,"mat-sidenav-content"),i.Qc(10,S,2,0,"div",7),i.Qc(11,R,15,9,"div",8),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Jb("admin-is-mobile",e.appService.getViewMode()),i.Eb(3),i.sc("svgIcon",e.appService.getViewMode()?"maarchLogoOnly":"maarchLogo"),i.Eb(2),i.Tc(i.nc(6,6,"lang.missingAdvertTitle")),i.Eb(5),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[m.a,g.b,b.a,v.e,v.f,y.t,_.c,k.a,k.d,k.c,C.a,x.b,w.k,O.a,y.s],pipes:[l.d],encapsulation:2}),L),j=n("3Pt+"),Y=n("0IaG"),Z=n("Wp6s"),N=n("kmnG"),U=n("qFsG");function B(t,e){1&t&&(i.Zb(0,"div",15),i.Ub(1,"mat-spinner",16),i.Yb())}function z(t,e){1&t&&(i.Sc(0),i.mc(1,"translate")),2&t&&i.Tc(i.nc(1,1,"lang.passwordModification"))}function V(t,e){1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.requiredField")))}function H(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",32),i.Zb(2,"span",33),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordValid")))}function Q(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",32),i.Zb(2,"span",33),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordMatch")))}function W(t,e){if(1&t&&i.Ub(0,"div",34),2&t){var n=i.lc(2);i.sc("innerHTML",n.otherRuleText,i.Ic)}}var G=function(t){return[t]};function q(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-card",17),i.Zb(1,"form",18),i.hc("ngSubmit",(function(){return i.Hc(n),i.lc().onSubmit()})),i.Qc(2,z,2,3,"ng-template"),i.Zb(3,"mat-form-field",19),i.Ub(4,"input",20),i.mc(5,"translate"),i.Zb(6,"mat-icon",21),i.hc("click",(function(){i.Hc(n);var t=i.lc();return t.hidePassword=!t.hidePassword})),i.Yb(),i.Qc(7,V,3,3,"mat-error",22),i.Yb(),i.Zb(8,"div",23),i.Sc(9),i.Yb(),i.Zb(10,"mat-form-field",19),i.Ub(11,"input",24,25),i.mc(13,"translate"),i.Zb(14,"mat-icon",21),i.hc("click",(function(){i.Hc(n);var t=i.lc();return t.hidePassword=!t.hidePassword})),i.Yb(),i.Qc(15,H,5,3,"mat-hint",22),i.Zb(16,"mat-error"),i.Sc(17),i.Yb(),i.Yb(),i.Zb(18,"mat-form-field",19),i.Ub(19,"input",26,27),i.mc(21,"translate"),i.Zb(22,"mat-icon",21),i.hc("click",(function(){i.Hc(n);var t=i.lc();return t.hidePassword=!t.hidePassword})),i.Yb(),i.Qc(23,Q,5,3,"mat-hint",22),i.Zb(24,"mat-error"),i.Sc(25),i.mc(26,"translate"),i.Yb(),i.Yb(),i.Zb(27,"div",28),i.Zb(28,"button",29),i.Sc(29),i.mc(30,"translate"),i.Yb(),i.Zb(31,"button",30),i.hc("click",(function(){return i.Hc(n),i.lc().logout()})),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(34,W,1,1,"div",31),i.Yb()}if(2&t){var a=i.lc();i.Eb(1),i.sc("formGroup",a.firstFormGroup),i.Eb(3),i.tc("placeholder",i.nc(5,20,"lang.typeCurrentPassword")),i.sc("type",a.hidePassword?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(32,G,a.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",a.firstFormGroup.controls.currentPasswordCtrl.hasError("required")),i.Eb(2),i.Tc(a.ruleText),i.Eb(2),i.tc("placeholder",i.nc(13,22,"lang.typeNewPassword")),i.sc("type",a.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(34,G,a.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",a.validPassword),i.Eb(2),i.Tc(a.getErrorMessage()),i.Eb(2),i.tc("placeholder",i.nc(21,24,"lang.retypeNewPassword")),i.sc("type",a.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(36,G,a.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",!a.firstFormGroup.controls.retypePasswordCtrl.hasError("mismatch")&&""!=a.firstFormGroup.controls.retypePasswordCtrl.value),i.Eb(2),i.Uc("",i.nc(26,26,"lang.passwordNotMatch")," !"),i.Eb(3),i.sc("disabled",!a.firstFormGroup.valid),i.Eb(1),i.Tc(i.nc(30,28,"lang.validate")),i.Eb(3),i.Tc(i.nc(33,30,"lang.logout")),i.Eb(2),i.sc("ngIf",a.passwordRules.renewal.enabled||a.passwordRules.historyLastUse.enabled)}}function X(t,e){if(1&t&&(i.Zb(0,"p"),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b"),i.Sc(4),i.Yb(),i.Sc(5,", "),i.Ub(6,"br"),i.Sc(7),i.mc(8,"translate"),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Uc(" ",i.nc(2,4,"lang.hello")," "),i.Eb(3),i.Vc("",n.data.user.firstname," ",n.data.user.lastname,""),i.Eb(3),i.Uc("",i.nc(8,6,"lang.changePasswordInfo"),". ")}}function J(t,e){1&t&&(i.Zb(0,"p"),i.Ub(1,"mat-icon",4),i.Zb(2,"span",5),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordChanged")))}function K(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",6),i.hc("click",(function(){return i.Hc(n),i.lc().dialogRef.close()})),i.Sc(1,"Ok"),i.Yb()}}function tt(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",6),i.hc("click",(function(){return i.Hc(n),i.lc().redirect()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.homePage")))}var et,nt,it=((nt=function(){function t(e,n,i,a,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.authService=i,this.headerService=a,this.notify=r,this._formBuilder=o,this.dialog=s,this.appService=c,this.config={},this.loading=!1,this.user={},this.ruleText="",this.hidePassword=!0,this.passLength=!1,this.arrValidator=[],this.validPassword=!1,this.matchPassword=!1,this.isLinear=!1,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.passwordModel={currentPassword:"",newPassword:"",reNewPassword:""},this.user=JSON.parse(atob(this.authService.getToken().split(".")[1])).user}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout((function(){t.config={panelClass:"maarch-modal",data:{user:t.user,state:"BEGIN"},disableClose:!0},t.dialogRef=t.dialog.open(at,t.config)}),0),this.http.get("../rest/passwordRules").subscribe((function(e){var n=[],i=[],a=[];n.push(j.H.required),e.rules.forEach((function(e){"minLength"===e.label?(t.passwordRules.minLength.enabled=e.enabled,t.passwordRules.minLength.value=e.value,e.enabled&&(n.push(j.H.minLength(t.passwordRules.minLength.value)),i.push(e.value+" "+t.translate.instant("lang.password"+e.label)))):"complexityUpper"===e.label?(t.passwordRules.complexityUpper.enabled=e.enabled,t.passwordRules.complexityUpper.value=e.value,e.enabled&&(n.push(t.regexValidator(new RegExp("[A-Z]"),{complexityUpper:""})),i.push(t.translate.instant("lang.password"+e.label)))):"complexityNumber"===e.label?(t.passwordRules.complexityNumber.enabled=e.enabled,t.passwordRules.complexityNumber.value=e.value,e.enabled&&(n.push(t.regexValidator(new RegExp("[0-9]"),{complexityNumber:""})),i.push(t.translate.instant("lang.password"+e.label)))):"complexitySpecial"===e.label?(t.passwordRules.complexitySpecial.enabled=e.enabled,t.passwordRules.complexitySpecial.value=e.value,e.enabled&&(n.push(t.regexValidator(new RegExp("[^A-Za-z0-9]"),{complexitySpecial:""})),i.push(t.translate.instant("lang.password"+e.label)))):"renewal"===e.label?(t.passwordRules.renewal.enabled=e.enabled,t.passwordRules.renewal.value=e.value,e.enabled&&a.push(t.translate.instant("lang.password"+e.label)+" <b>"+e.value+" "+t.translate.instant("lang.days")+"</b>. "+t.translate.instant("lang.password2"+e.label)+".")):"historyLastUse"===e.label&&(t.passwordRules.historyLastUse.enabled=e.enabled,t.passwordRules.historyLastUse.value=e.value,e.enabled&&a.push(t.translate.instant("lang.passwordhistoryLastUseDesc")+" <b>"+e.value+"</b> "+t.translate.instant("lang.passwordhistoryLastUseDesc2")+"."))})),t.ruleText=i.join(", "),t.otherRuleText=a.join("<br/>"),t.firstFormGroup.controls.newPasswordCtrl.setValidators(n)}),(function(e){t.notify.error(e.error.errors)})),this.firstFormGroup=this._formBuilder.group({newPasswordCtrl:[""],retypePasswordCtrl:["",j.H.compose([j.H.required])],currentPasswordCtrl:["",j.H.compose([j.H.required])]},{validator:this.matchValidator})}},{key:"regexValidator",value:function(t,e){return function(n){return n.value?t.test(n.value)?null:e:null}}},{key:"matchValidator",value:function(t){return t.controls.newPasswordCtrl.value!==t.controls.retypePasswordCtrl.value&&(t.controls.retypePasswordCtrl.setErrors({mismatch:!0}),{mismatch:!0})}},{key:"getErrorMessage",value:function(){return this.firstFormGroup.controls.retypePasswordCtrl.setErrors(this.firstFormGroup.controls.newPasswordCtrl.value!==this.firstFormGroup.controls.retypePasswordCtrl.value?{mismatch:!0}:null),this.firstFormGroup.controls.newPasswordCtrl.hasError("required")?this.translate.instant("lang.requiredField")+" !":this.firstFormGroup.controls.newPasswordCtrl.hasError("minlength")&&this.passwordRules.minLength.enabled?this.passwordRules.minLength.value+" "+this.translate.instant("lang.passwordminLength")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityUpper&&this.passwordRules.complexityUpper.enabled?this.translate.instant("lang.passwordcomplexityUpper")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityNumber&&this.passwordRules.complexityNumber.enabled?this.translate.instant("lang.passwordcomplexityNumber")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexitySpecial&&this.passwordRules.complexitySpecial.enabled?this.translate.instant("lang.passwordcomplexitySpecial")+" !":(this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.validPassword=!0,"")}},{key:"onSubmit",value:function(){var t=this;this.passwordModel.currentPassword=this.firstFormGroup.controls.currentPasswordCtrl.value,this.passwordModel.newPassword=this.firstFormGroup.controls.newPasswordCtrl.value,this.passwordModel.reNewPassword=this.firstFormGroup.controls.retypePasswordCtrl.value,this.http.put("../rest/users/"+this.user.id+"/password",this.passwordModel).subscribe((function(){t.config={panelClass:"maarch-modal",data:{state:"END"},disableClose:!0},t.dialogRef=t.dialog.open(at,t.config)}),(function(e){t.notify.error(e.error.errors)}))}},{key:"logout",value:function(){this.authService.logout()}}]),t}()).\u0275fac=function(t){return new(t||nt)(i.Tb(l.e),i.Tb(u.b),i.Tb(d.a),i.Tb(f.a),i.Tb(h.a),i.Tb(j.g),i.Tb(Y.b),i.Tb(p.a))},nt.\u0275cmp=i.Nb({type:nt,selectors:[["ng-component"]],decls:21,vars:20,consts:[[1,"admin-container",2,"margin-top","-63px"],["color","primary",1,"admin-toolbar"],["mat-button","",3,"click"],[1,"maarchLogoFull",3,"svgIcon"],[1,"admin-toolbar-title"],[2,"flex","1 1 auto"],["mat-button",""],["mat-list-icon","",1,"fa","fa-user","fa-2x",2,"color","white","margin","0px 12px 8px 0px"],["autosize","",1,"admin-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport","opened"],["snav",""],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content","style","display: flex;justify-content: center;align-items: center;",4,"ngIf"],["fixedTopGap","56","position","end",3,"mode","fixedInViewport","opened"],["snav2",""],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content",2,"display","flex","justify-content","center","align-items","center"],[2,"max-width","700px",3,"formGroup","ngSubmit"],[2,"padding","10px"],["matInput","","formControlName","currentPasswordCtrl","required","",3,"placeholder","type"],["matSuffix","",1,"fa","fa-2x",3,"ngClass","click"],[4,"ngIf"],[2,"text-align","center","color","rgba(0,0,0,0.54)","font-size","75%"],["matInput","","formControlName","newPasswordCtrl","required","",3,"placeholder","type"],["inputPasswd",""],["matInput","","required","","formControlName","retypePasswordCtrl",3,"placeholder","type"],["inputPasswd2",""],[1,"col-md-12","text-center",2,"padding","10px"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["mat-raised-button","","type","button","color","default",3,"click"],["class","alert alert-warning","role","alert","style","text-align:center;left:0px;bottom: 0px;position: absolute;width: 100%;margin: 0;",3,"innerHTML",4,"ngIf"],["color","accent",1,"fa","fa-check"],["color","accent"],["role","alert",1,"alert","alert-warning",2,"text-align","center","left","0px","bottom","0px","position","absolute","width","100%","margin","0",3,"innerHTML"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",0),i.Zb(1,"mat-toolbar",1),i.Zb(2,"button",2),i.hc("click",(function(){return i.Hc(n),i.Dc(15).toggle()})),i.Ub(3,"mat-icon",3),i.Yb(),i.Zb(4,"h1",4),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Ub(7,"span",5),i.Zb(8,"button",6),i.Ub(9,"mat-icon",7),i.Sc(10),i.mc(11,"uppercase"),i.mc(12,"uppercase"),i.Yb(),i.Yb(),i.Zb(13,"mat-sidenav-container",8),i.Ub(14,"mat-sidenav",9,10),i.Zb(16,"mat-sidenav-content"),i.Qc(17,B,2,0,"div",11),i.Qc(18,q,35,38,"mat-card",12),i.Yb(),i.Ub(19,"mat-sidenav",13,14),i.Yb(),i.Yb()}2&t&&(i.Jb("admin-is-mobile",e.appService.getViewMode()),i.Eb(3),i.sc("svgIcon",e.appService.getViewMode()?"maarchLogoOnly":"maarchLogo"),i.Eb(2),i.Uc("",i.nc(6,14,"lang.passwordModification")," "),i.Eb(5),i.Vc("",i.nc(11,16,e.user.firstname.charAt(0)),". ",i.nc(12,18,e.user.lastname),""),i.Eb(4),i.sc("mode",e.appService.getViewMode()?"over":"side")("fixedInViewport",e.appService.getViewMode())("opened",!e.appService.getViewMode()),i.Eb(3),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading),i.Eb(1),i.sc("mode",e.appService.getViewMode()?"over":"side")("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1)))},directives:[m.a,g.b,b.a,k.c,v.e,v.d,v.f,y.t,_.c,Z.a,j.J,j.u,j.l,N.c,U.b,j.c,j.t,j.j,j.E,N.j,y.q,N.b,N.f],pipes:[l.d,y.G],encapsulation:2}),nt),at=((et=function(){function t(e,n,i,a){_classCallCheck(this,t),this.http=e,this.router=n,this.data=i,this.dialogRef=a}return _createClass(t,[{key:"redirect",value:function(){this.router.navigate(["/home"]),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||et)(i.Tb(u.b),i.Tb(o.c),i.Tb(Y.a),i.Tb(Y.h))},et.\u0275cmp=i.Nb({type:et,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"mat-dialog-content-container"],[4,"ngIf"],[1,"divider-modal"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["color","primary",1,"fa","fa-check-circle","fa-2x"],[2,"padding-left","10px"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"mat-dialog-content"),i.Qc(2,X,9,8,"p",1),i.Qc(3,J,5,3,"p",1),i.Yb(),i.Ub(4,"span",2),i.Zb(5,"mat-dialog-actions"),i.Qc(6,K,2,0,"button",3),i.Qc(7,tt,3,3,"button",3),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.sc("ngIf","BEGIN"==e.data.state),i.Eb(1),i.sc("ngIf","END"==e.data.state),i.Eb(3),i.sc("ngIf","BEGIN"==e.data.state),i.Eb(1),i.sc("ngIf","END"==e.data.state))},directives:[Y.f,y.t,Y.c,b.a,g.b],pipes:[l.d],encapsulation:2}),et),rt=n("Kj3r"),ot=n("pLZG"),st=n("/uUt"),ct=n("eIep"),lt=n("vkgz"),ut=n("7EHt"),dt=n("+0xr"),ft=n("rH+9"),ht=n("Ro8j"),pt=n("F8Z3"),mt=n("wZkO"),gt=n("d3UM"),bt=n("lJEt"),vt=n("1jcm"),yt=n("M9IT"),_t=n("Dh3D"),kt=n("63qU"),Ct=n("bv9b"),xt=n("wQTr"),wt=["snav2"],Ot=["adminMenuTemplate"],St=["paginatorGroupsList"],Et=["tableGroupsListSort"],Mt=["paginatorGroupsListAutocomplete"],It=["paginatorContactsList"],Pt=["tableContactsListSort"],Tt=["paginatorHistory"],At=["tableHistorySort"];function Dt(t,e){if(1&t){var n=i.ac();i.Zb(0,"a",15),i.hc("click",(function(){return i.Hc(n),i.lc(2).changePasswd()})),i.Ub(1,"mat-icon",19),i.Zb(2,"p",17),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()}2&t&&(i.Eb(3),i.Uc(" ",i.nc(4,1,"lang.changeMyPassword")," "))}function Rt(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-nav-list"),i.Zb(1,"h3",13),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"a",15),i.hc("click",(function(){return i.Hc(n),i.lc().askRedirectBasket()})),i.Ub(5,"mat-icon",16),i.Zb(6,"p",17),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Qc(9,Dt,5,3,"a",18),i.Yb()}if(2&t){var a=i.lc();i.Eb(2),i.Tc(i.nc(3,3,"lang.actions")),i.Eb(5),i.Uc(" ",i.nc(8,5,"lang.activateMyAbs")," "),i.Eb(2),i.sc("ngIf",a.user.canModifyPassword)}}function Lt(t,e){1&t&&(i.Zb(0,"div",20),i.Ub(1,"mat-spinner",21),i.Yb())}function Ft(t,e){1&t&&(i.Zb(0,"mat-error"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.requiredField"),""))}function jt(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",131),i.Zb(2,"span",132),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordValid")))}function Yt(t,e){1&t&&(i.Zb(0,"mat-hint"),i.Ub(1,"i",131),i.Zb(2,"span",132),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Tc(i.nc(4,1,"lang.passwordMatch")))}function Zt(t,e){if(1&t&&(i.Zb(0,"div",66),i.Zb(1,"div",133),i.Ub(2,"div",134),i.Yb(),i.Yb()),2&t){var n=i.lc(3);i.Eb(2),i.sc("innerHTML",n.otherRuleText,i.Ic)}}var Nt=function(t){return[t]};function Ut(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",117),i.Zb(1,"form",118),i.Zb(2,"div",66),i.Zb(3,"mat-form-field",119),i.Ub(4,"input",120),i.mc(5,"translate"),i.Zb(6,"mat-icon",121),i.hc("click",(function(){i.Hc(n);var t=i.lc(2);return t.hidePassword=!t.hidePassword})),i.Yb(),i.Qc(7,Ft,3,3,"mat-error",28),i.Yb(),i.Yb(),i.Zb(8,"div",66),i.Zb(9,"div",122),i.Sc(10),i.Yb(),i.Zb(11,"div",123),i.Zb(12,"mat-form-field",119),i.Ub(13,"input",124,125),i.mc(15,"translate"),i.Zb(16,"mat-icon",121),i.hc("click",(function(){i.Hc(n);var t=i.lc(2);return t.hidePassword=!t.hidePassword})),i.Yb(),i.Qc(17,jt,5,3,"mat-hint",28),i.Zb(18,"mat-error"),i.Sc(19),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"div",123),i.Zb(21,"mat-form-field",119),i.Ub(22,"input",126,127),i.mc(24,"translate"),i.Zb(25,"mat-icon",121),i.hc("click",(function(){i.Hc(n);var t=i.lc(2);return t.hidePassword=!t.hidePassword})),i.Yb(),i.Qc(26,Yt,5,3,"mat-hint",28),i.Zb(27,"mat-error"),i.Sc(28),i.mc(29,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(30,Zt,3,1,"div",128),i.Zb(31,"div",66),i.Zb(32,"div",53),i.Zb(33,"button",129),i.hc("click",(function(){return i.Hc(n),i.lc(2).updatePassword()})),i.Sc(34),i.mc(35,"translate"),i.Yb(),i.Zb(36,"button",130),i.hc("click",(function(){return i.Hc(n),i.lc(2).showPassword=!1})),i.Sc(37),i.mc(38,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(1),i.sc("formGroup",a.firstFormGroup),i.Eb(3),i.tc("placeholder",i.nc(5,20,"lang.typeCurrentPassword")),i.sc("type",a.hidePassword?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(32,Nt,a.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",a.firstFormGroup.controls.currentPasswordCtrl.hasError("required")),i.Eb(3),i.Uc(" ",a.ruleText,""),i.Eb(3),i.tc("placeholder",i.nc(15,22,"lang.typeNewPassword")),i.sc("type",a.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(34,Nt,a.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",a.validPassword),i.Eb(2),i.Tc(a.getErrorMessage()),i.Eb(3),i.tc("placeholder",i.nc(24,24,"lang.retypeNewPassword")),i.sc("type",a.hidePassword?"password":"text"),i.Eb(3),i.sc("ngClass",i.zc(36,Nt,a.hidePassword?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",!a.firstFormGroup.controls.retypePasswordCtrl.hasError("mismatch")&&""!=a.firstFormGroup.controls.retypePasswordCtrl.value),i.Eb(2),i.Uc("",i.nc(29,26,"lang.passwordNotMatch")," !"),i.Eb(2),i.sc("ngIf",a.passwordRules.renewal.enabled||a.passwordRules.historyLastUse.enabled),i.Eb(3),i.sc("disabled",!a.firstFormGroup.valid),i.Eb(1),i.Tc(i.nc(35,28,"lang.update")),i.Eb(3),i.Tc(i.nc(38,30,"lang.cancel"))}}function Bt(t,e){if(1&t){var n=i.ac();i.Zb(0,"form",135,136),i.hc("ngSubmit",(function(){return i.Hc(n),i.lc(2).onSubmit()})),i.Zb(2,"div",66),i.Zb(3,"div",84),i.Zb(4,"div",137),i.Zb(5,"div",138),i.Ub(6,"i",139),i.Yb(),i.Yb(),i.Zb(7,"div",140),i.Zb(8,"mat-form-field"),i.Ub(9,"input",141),i.mc(10,"translate"),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(12,"div",66),i.Zb(13,"div",142),i.Zb(14,"mat-form-field"),i.Zb(15,"input",143),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).user.lastname=t})),i.mc(16,"translate"),i.mc(17,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(18,"div",142),i.Zb(19,"mat-form-field"),i.Zb(20,"input",144),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).user.firstname=t})),i.mc(21,"translate"),i.mc(22,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(23,"div",145),i.Zb(24,"mat-form-field"),i.Zb(25,"input",146),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).user.initials=t})),i.mc(26,"translate"),i.mc(27,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"div",66),i.Zb(29,"div",84),i.Zb(30,"mat-form-field"),i.Zb(31,"input",147),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).user.phone=t})),i.mc(32,"translate"),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(34,"div",66),i.Zb(35,"div",84),i.Zb(36,"mat-form-field"),i.Zb(37,"input",148),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).user.mail=t})),i.mc(38,"translate"),i.mc(39,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"div",149),i.Zb(41,"div",53),i.Zb(42,"button",72),i.Sc(43),i.mc(44,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(1),r=i.lc(2);i.Eb(9),i.tc("title",i.nc(10,20,"lang.id")),i.tc("value",r.user.user_id),i.tc("placeholder",i.nc(11,22,"lang.id")),i.Eb(6),i.tc("title",i.nc(16,24,"lang.lastname")),i.tc("placeholder",i.nc(17,26,"lang.lastname")),i.sc("ngModel",r.user.lastname),i.Eb(5),i.tc("title",i.nc(21,28,"lang.firstname")),i.tc("placeholder",i.nc(22,30,"lang.firstname")),i.sc("ngModel",r.user.firstname),i.Eb(5),i.tc("title",i.nc(26,32,"lang.initials")),i.tc("placeholder",i.nc(27,34,"lang.initials")),i.sc("ngModel",r.user.initials),i.Eb(6),i.tc("title",i.nc(32,36,"lang.phoneNumber")),i.tc("placeholder",i.nc(33,38,"lang.phoneNumber")),i.sc("ngModel",r.user.phone),i.Eb(6),i.tc("title",i.nc(38,40,"lang.email")),i.tc("placeholder",i.nc(39,42,"lang.email")),i.sc("ngModel",r.user.mail),i.Eb(5),i.sc("disabled",!a.form.valid),i.Eb(1),i.Tc(i.nc(44,44,"lang.update"))}}function zt(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.editorOptionAdmin")," "))}function Vt(t,e){if(1&t&&(i.Zb(0,"mat-option",150),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Tc(n)}}function Ht(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.basketsColorAdmin")," "))}function Qt(t,e){if(1&t&&(i.Zb(0,"h3"),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Tc(n.groupDesc)}}var Wt=function(t){return{color:t}};function Gt(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item"),i.Ub(1,"mat-icon",151),i.Zb(2,"h4",152),i.Sc(3),i.Yb(),i.Zb(4,"input",153),i.hc("ngModelChange",(function(t){i.Hc(n);var a=e.index,r=i.lc().index;return i.lc(2).user.regroupedBaskets[r].baskets[a].color=t}))("change",(function(){i.Hc(n);var t=e.index,a=i.lc().index;return i.lc(2).updateBasketColor(a,t)})),i.Yb(),i.Zb(5,"a",154),i.hc("click",(function(){i.Hc(n);var t=e.index,a=i.lc().index,r=i.lc(2);return r.user.regroupedBaskets[a].baskets[t].color="",r.updateBasketColor(a,t)})),i.mc(6,"translate"),i.Ub(7,"i",155),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=e.index,o=i.lc().index,s=i.lc(2);i.Eb(1),i.sc("ngStyle",i.zc(7,Wt,s.user.regroupedBaskets[o].baskets[r].color)),i.Eb(1),i.tc("title",a.basket_id),i.Eb(1),i.Tc(a.basket_name),i.Eb(1),i.sc("ngModel",s.user.regroupedBaskets[o].baskets[r].color),i.Eb(1),i.tc("title",i.nc(6,5,"lang.resetColor"))}}function qt(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Qt,2,1,"h3",28),i.Qc(2,Gt,8,9,"mat-list-item",14),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",n.baskets[0]),i.Eb(1),i.sc("ngForOf",n.baskets)}}function Xt(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.myBasketsDesc")," "))}function $t(t,e){1&t&&(i.Zb(0,"span",156),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.selectAll")," "))}var Jt=function(){return["/rest/autocomplete/users"]};function Kt(t,e){if(1&t){var n=i.ac();i.Zb(0,"plugin-autocomplete",157),i.hc("triggerEvent",(function(t){return i.Hc(n),i.lc(2).addBasketRedirection(t)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("labelPlaceholder",a.translate.instant("lang.redirectBaskets"))("routeDatas",i.yc(4,Jt))("targetSearchKey","idToDisplay")("subInfoKey","descriptionToDisplay")}}function te(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-icon",38),i.Zb(1,"mat-checkbox",164),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("change",(function(t){i.Hc(n);var e=i.lc(2).$implicit,a=i.lc(2);return t?a.selectionBaskets.toggle(e):null})),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2).$implicit,r=i.lc(2);i.Eb(1),i.sc("checked",r.selectionBaskets.isSelected(a))}}function ee(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item",159),i.hc("mouseover",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).showActions(t)}))("mouseout",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).hideActions(t)})),i.Qc(1,te,2,1,"mat-icon",160),i.Zb(2,"h4",161),i.Zb(3,"span",162),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).selectionBaskets.toggle(t)})),i.Sc(4),i.Zb(5,"span",163),i.Sc(6),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",a.enabled),i.Eb(2),i.vc("matTooltip","",a.basket_name," [",a.group_desc,"]"),i.Eb(1),i.Uc(" ",a.basket_name," "),i.Eb(2),i.Tc(a.group_desc)}}function ne(t,e){if(1&t&&(i.Xb(0),i.Qc(1,ee,7,5,"mat-list-item",158),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",null==n.userToDisplay)}}function ie(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"mat-list-item"),i.Ub(2,"mat-icon",165),i.Zb(3,"h4",166),i.Sc(4),i.Zb(5,"span",163),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"p",17),i.Zb(8,"mat-form-field"),i.Ub(9,"input",167),i.mc(10,"translate"),i.Zb(11,"button",168),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=e.index;return i.lc(2).delBasketRedirection(t,a)})),i.mc(12,"translate"),i.Ub(13,"mat-icon",169),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&t){var a=e.$implicit;i.Eb(4),i.Uc("",a.basket_name," "),i.Eb(2),i.Tc(a.group_desc),i.Eb(3),i.vc("value","",i.nc(10,5,"lang.redirectedTo")," ",a.userToDisplay,""),i.Eb(2),i.tc("matTooltip",i.nc(12,7,"lang.deleteRedirection"))}}function ae(t,e){if(1&t){var n=i.ac();i.Zb(0,"plugin-autocomplete",157),i.hc("triggerEvent",(function(t){i.Hc(n);var e=i.lc(),a=e.$implicit,r=e.index;return i.lc(2).reassignBasketRedirection(t,a,r)})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("labelPlaceholder",a.translate.instant("lang.redirectBaskets"))("routeDatas",i.yc(4,Jt))("targetSearchKey","idToDisplay")("subInfoKey","descriptionToDisplay")}}function re(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"mat-list-item"),i.Ub(2,"mat-icon",170),i.Zb(3,"h4",166),i.Sc(4),i.Zb(5,"span",163),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"p",17),i.Qc(8,ae,1,5,"plugin-autocomplete",41),i.Zb(9,"mat-form-field"),i.Ub(10,"input",167),i.mc(11,"translate"),i.Zb(12,"button",168),i.hc("click",(function(){return e.$implicit.userToDisplay=null})),i.mc(13,"translate"),i.Ub(14,"mat-icon",171),i.Yb(),i.Zb(15,"button",168),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=e.index;return i.lc(2).delBasketAssignRedirection(t,a)})),i.mc(16,"translate"),i.Ub(17,"mat-icon",169),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Wb()}if(2&t){var a=e.$implicit;i.Eb(4),i.Uc("",a.basket_name," "),i.Eb(2),i.Tc(a.group_desc),i.Eb(2),i.sc("ngIf",null==a.userToDisplay),i.Eb(2),i.vc("value","",i.nc(11,7,"lang.assignBy")," ",a.userToDisplay,""),i.Eb(2),i.tc("matTooltip",i.nc(13,9,"lang.reassign")),i.Eb(3),i.tc("matTooltip",i.nc(16,11,"lang.deleteAssignation"))}}function oe(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mySignMailDesc")," "))}function se(t,e){if(1&t&&(i.Zb(0,"button",72),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){i.lc();var n=i.Dc(78);i.sc("disabled",!n.form.valid),i.Eb(1),i.Tc(i.nc(2,2,"lang.save"))}}function ce(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",129),i.hc("click",(function(){return i.Hc(n),i.lc(2).updateEmailSignature()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){i.lc();var a=i.Dc(78);i.sc("disabled",!a.form.valid),i.Eb(1),i.Tc(i.nc(2,2,"lang.update"))}}function le(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",172),i.hc("click",(function(){return i.Hc(n),i.lc(2).deleteEmailSignature()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.delete")))}function ue(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",130),i.hc("click",(function(){return i.Hc(n),i.lc(2).resetEmailSignature()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.cancel")))}function de(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",173),i.Zb(1,"mat-card",174),i.Zb(2,"mat-card-content",53),i.Zb(3,"mat-form-field",175),i.Zb(4,"input",176),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.title=t})),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Zb(6,"button",177),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc(2).changeEmailSignature(t)})),i.mc(7,"translate"),i.Ub(8,"mat-icon",178),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit;i.Eb(4),i.tc("placeholder",i.nc(5,3,"lang.label")),i.sc("ngModel",a.title),i.Eb(2),i.tc("matTooltip",i.nc(7,5,"lang.update"))}}function fe(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mySignSignatureBookDesc")," "))}function he(t,e){if(1&t&&(i.Zb(0,"div",179),i.Ub(1,"img",180),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("src",n.signatureModel.base64ForJs,i.Kc)}}function pe(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",181),i.Zb(1,"mat-card",174),i.Zb(2,"mat-card-content",53),i.Zb(3,"mat-form-field",175),i.Zb(4,"input",182),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.signature_label=t}))("change",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).updateSignature(t)})),i.mc(5,"translate"),i.Yb(),i.Zb(6,"button",183),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).deleteSignature(t.id)})),i.mc(7,"translate"),i.Ub(8,"mat-icon",184),i.Yb(),i.Yb(),i.Ub(9,"img",185),i.mc(10,"async"),i.mc(11,"secureUrl"),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Eb(4),i.tc("placeholder",i.nc(5,4,"lang.label")),i.sc("ngModel",a.signature_label),i.Eb(2),i.tc("matTooltip",i.nc(7,6,"lang.delete")),i.Eb(3),i.sc("src",i.nc(10,8,i.nc(11,10,"../rest/users/"+r.user.id+"/signatures/"+a.id+"/content")),i.Kc)}}function me(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",186),i.hc("click",(function(){return i.Hc(n),i.lc(2).syncMP()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",187),i.Yb()}if(2&t){var a=i.lc(2);i.tc("matTooltip",i.nc(1,4,"lang.syncSignsToMaarchParapheur")),i.sc("disabled",!a.user.external_id.maarchParapheur||a.loadingSign),i.Eb(2),i.Jb("fa-spin",a.loadingSign)}}function ge(t,e){1&t&&(i.Zb(0,"mat-panel-description"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.myContactsGroupsDesc")," "))}function be(t,e){if(1&t&&(i.Zb(0,"mat-header-cell",188),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc(2);i.Jb("hide-for-mobile",n.appService.getViewMode()),i.Eb(1),i.Uc(" ",i.nc(2,3,"lang.label"),"")}}function ve(t,e){if(1&t&&(i.Zb(0,"mat-cell",189),i.Sc(1),i.Yb()),2&t){var n=e.$implicit,a=i.lc(2);i.Jb("hide-for-mobile",a.appService.getViewMode()),i.Eb(1),i.Uc(" ",n.label," ")}}function ye(t,e){1&t&&(i.Zb(0,"mat-header-cell",188),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.description"),""))}function _e(t,e){if(1&t&&(i.Zb(0,"mat-cell",189),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.description," ")}}function ke(t,e){1&t&&(i.Zb(0,"mat-header-cell",190),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.relatedContactNumber"),""))}function Ce(t,e){if(1&t&&(i.Zb(0,"span"),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Tc(n.nbContacts)}}function xe(t,e){if(1&t&&(i.Zb(0,"span",193),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Tc(n.nbContacts)}}function we(t,e){if(1&t&&(i.Zb(0,"mat-cell",191),i.Qc(1,Ce,2,1,"span",28),i.Qc(2,xe,2,1,"span",192),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",0==n.nbContacts),i.Eb(1),i.sc("ngIf",n.nbContacts>0)}}function Oe(t,e){if(1&t&&(i.Zb(0,"mat-header-cell",190),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc(2);i.Jb("hide-for-mobile",n.appService.getViewMode()),i.Eb(1),i.Uc(" ",i.nc(2,3,"lang.public"),"")}}function Se(t,e){1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.no")," "))}function Ee(t,e){1&t&&(i.Zb(0,"span"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.yes")," "))}function Me(t,e){if(1&t&&(i.Zb(0,"mat-cell",191),i.Qc(1,Se,3,3,"span",28),i.Qc(2,Ee,3,3,"span",28),i.Yb()),2&t){var n=e.$implicit,a=i.lc(2);i.Jb("hide-for-mobile",a.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!n.public),i.Eb(1),i.sc("ngIf",n.public)}}function Ie(t,e){1&t&&(i.Zb(0,"mat-header-cell",190),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.createdBy"),""))}function Pe(t,e){if(1&t&&(i.Zb(0,"mat-cell",191),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.labelledOwner," ")}}function Te(t,e){1&t&&i.Ub(0,"mat-header-cell")}function Ae(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-cell",194),i.Zb(1,"button",195),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(2);return t.stopPropagation(),r.deleteContactsGroup(a.position)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",196),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.tc("matTooltip",i.nc(2,1,"lang.delete")))}function De(t,e){1&t&&i.Ub(0,"mat-header-row")}function Re(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-row",197),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).loadContactsGroup(t)})),i.mc(1,"translate"),i.Yb()}2&t&&i.tc("matTooltip",i.nc(1,1,"lang.view"))}function Le(t,e){if(1&t&&i.Ub(0,"div",215),2&t){var n=i.lc(3);i.sc("innerHTML",n.translate.instant("lang.limitDataReached_1000"),i.Ic)}}function Fe(t,e){1&t&&i.Ub(0,"mat-progress-bar",216)}function je(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-header-cell",191),i.Zb(1,"mat-checkbox",226),i.hc("change",(function(t){i.Hc(n);var e=i.lc(4);return t?e.masterToggle(t):null})),i.Yb(),i.Yb()}if(2&t){var a=i.lc(4);i.Eb(1),i.sc("checked",a.selection.hasValue())}}function Ye(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-cell",191),i.Zb(1,"mat-checkbox",227),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("change",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(4);return t?r.selection.toggle(a.id):null})),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(4);i.Eb(1),i.uc("id","check_",a.id,""),i.sc("disabled",r.isInGrp(a))("checked",r.selection.isSelected(a.id))}}function Ze(t,e){1&t&&(i.Zb(0,"mat-header-cell",228),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.contact"),""))}function Ne(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.contact," ")}}function Ue(t,e){1&t&&(i.Zb(0,"mat-header-cell",228),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.address"),""))}function Be(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.address," ")}}function ze(t,e){1&t&&i.Ub(0,"mat-header-row")}var Ve=function(t){return{opacity:t}};function He(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-row",229),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(4).selectContact(t.id)})),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(4);i.sc("ngStyle",i.zc(1,Ve,r.isInGrp(a)?"0.5":""))}}function Qe(t,e){if(1&t&&(i.Zb(0,"mat-table",217,218),i.Xb(2,219),i.Qc(3,je,2,1,"mat-header-cell",220),i.Qc(4,Ye,2,3,"mat-cell",105),i.Wb(),i.Xb(5,221),i.Qc(6,Ze,3,3,"mat-header-cell",222),i.Qc(7,Ne,2,1,"mat-cell",223),i.Wb(),i.Xb(8,224),i.Qc(9,Ue,3,3,"mat-header-cell",222),i.Qc(10,Be,2,1,"mat-cell",223),i.Wb(),i.Qc(11,ze,1,0,"mat-header-row",113),i.Qc(12,He,1,3,"mat-row",225),i.Yb()),2&t){var n=i.lc(3);i.sc("dataSource",n.dataSourceContactsListAutocomplete),i.Eb(11),i.sc("matHeaderRowDef",n.displayedColumnsContactsListAutocomplete),i.Eb(1),i.sc("matRowDefColumns",n.displayedColumnsContactsListAutocomplete)}}function We(t,e){1&t&&(i.Zb(0,"mat-header-cell",237),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.contact")))}function Ge(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.contact," ")}}function qe(t,e){1&t&&(i.Zb(0,"mat-header-cell",237),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.address")))}function Xe(t,e){if(1&t&&(i.Zb(0,"mat-cell",228),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.address," ")}}function $e(t,e){1&t&&i.Ub(0,"mat-header-cell",191)}function Je(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-cell",238),i.Zb(1,"button",195),i.hc("click",(function(t){i.Hc(n);var a=e.index,r=i.lc(5);return t.stopPropagation(),r.preDelete(a)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",196),i.Yb(),i.Yb()}2&t&&(i.Eb(1),i.tc("matTooltip",i.nc(2,1,"lang.delete")))}function Ke(t,e){1&t&&i.Ub(0,"mat-header-row")}function tn(t,e){1&t&&i.Ub(0,"mat-row")}function en(t,e){if(1&t&&(i.Zb(0,"mat-table",232,233),i.Xb(2,221),i.Qc(3,We,3,3,"mat-header-cell",234),i.Qc(4,Ge,2,1,"mat-cell",223),i.Wb(),i.Xb(5,224),i.Qc(6,qe,3,3,"mat-header-cell",234),i.Qc(7,Xe,2,1,"mat-cell",223),i.Wb(),i.Xb(8,110),i.Qc(9,$e,1,0,"mat-header-cell",220),i.Qc(10,Je,4,3,"mat-cell",235),i.Wb(),i.Qc(11,Ke,1,0,"mat-header-row",113),i.Qc(12,tn,1,0,"mat-row",236),i.Yb()),2&t){var n=i.lc(4);i.sc("dataSource",n.dataSourceContactsList),i.Eb(11),i.sc("matHeaderRowDef",n.displayedColumnsContactsList),i.Eb(1),i.sc("matRowDefColumns",n.displayedColumnsContactsList)}}function nn(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",212),i.Zb(1,"mat-tab-group"),i.Zb(2,"mat-tab",24),i.mc(3,"translate"),i.Zb(4,"div",200),i.Zb(5,"div",91),i.Zb(6,"mat-form-field"),i.Zb(7,"input",92),i.hc("keyup",(function(t){return i.Hc(n),i.lc(3).applyFilterContactsList(t.target.value)})),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(9,"div",91),i.Ub(10,"mat-paginator",93,230),i.Yb(),i.Yb(),i.Qc(12,en,13,3,"mat-table",231),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(3);i.Eb(2),i.vc("label","",a.contactsGroup.contacts.length," ",i.nc(3,7,"lang.relatedContacts"),""),i.Eb(5),i.tc("placeholder",i.nc(8,9,"lang.filterBy")),i.Eb(3),i.sc("length",0)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("ngIf",a.contactsListMode)}}function an(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-tab",24),i.mc(1,"translate"),i.Zb(2,"mat-accordion"),i.Zb(3,"mat-expansion-panel",null,198),i.Zb(5,"mat-expansion-panel-header"),i.Zb(6,"mat-panel-title",80),i.Zb(7,"span",81),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",199),i.Zb(11,"div",200),i.Zb(12,"div",201),i.Zb(13,"mat-form-field",202),i.Zb(14,"span",203),i.Ub(15,"mat-icon",204),i.Sc(16,"\xa0\xa0 "),i.Yb(),i.Zb(17,"input",205),i.hc("keyup",(function(){return i.Hc(n),i.lc(2).launchLoading()})),i.mc(18,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(19,"div",91),i.Qc(20,Le,1,1,"div",206),i.Yb(),i.Zb(21,"div",91),i.Ub(22,"mat-paginator",93,207),i.Yb(),i.Yb(),i.Qc(24,Fe,1,0,"mat-progress-bar",208),i.Qc(25,Qe,13,3,"mat-table",209),i.Zb(26,"div",66),i.Zb(27,"div",210),i.Zb(28,"button",129),i.hc("click",(function(t){return i.Hc(n),i.lc(2).saveContactsList(t.target)})),i.Sc(29),i.mc(30,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(31,"div",211),i.Zb(32,"div",212),i.Zb(33,"form",135,83),i.hc("ngSubmit",(function(){return i.Hc(n),i.lc(2).updateGroupSubmit()})),i.Zb(35,"div",66),i.Zb(36,"div",84),i.Zb(37,"mat-form-field"),i.Zb(38,"input",85),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).contactsGroup.label=t})),i.mc(39,"translate"),i.mc(40,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(41,"div",66),i.Zb(42,"div",84),i.Zb(43,"mat-form-field"),i.Zb(44,"input",86),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).contactsGroup.description=t})),i.mc(45,"translate"),i.mc(46,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(47,"div",66),i.Zb(48,"div",84),i.Zb(49,"mat-slide-toggle",213),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).contactsGroup.public=t})),i.mc(50,"translate"),i.Sc(51),i.mc(52,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(53,"div",66),i.Zb(54,"div",88),i.Zb(55,"button",72),i.Sc(56),i.mc(57,"translate"),i.Yb(),i.Zb(58,"button",130),i.hc("click",(function(){return i.Hc(n),i.lc(2).initGroupsContact()})),i.Sc(59),i.mc(60,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Qc(61,nn,13,11,"div",214),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(34),r=i.lc(2);i.vc("label","",i.nc(1,26,"lang.grouping")," : ",r.contactsGroup.label,""),i.Eb(8),i.Tc(i.nc(9,28,"lang.linkContact")),i.Eb(9),i.tc("placeholder",i.nc(18,30,"lang.linkContact")),i.sc("formControl",r.searchTerm),i.Eb(3),i.sc("ngIf",r.dataSourceContactsListAutocomplete&&1e3==r.dataSourceContactsListAutocomplete.data.length),i.Eb(2),i.sc("length",0)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("ngIf",!r.dataSourceContactsListAutocomplete&&!r.initAutoCompleteContact),i.Eb(1),i.sc("ngIf",r.dataSourceContactsListAutocomplete),i.Eb(3),i.sc("disabled",0==r.selection.selected.length),i.Eb(1),i.Tc(i.nc(30,32,"lang.add")),i.Eb(9),i.tc("title",i.nc(39,34,"lang.label")),i.tc("placeholder",i.nc(40,36,"lang.label")),i.sc("ngModel",r.contactsGroup.label),i.Eb(6),i.tc("title",i.nc(45,38,"lang.description")),i.tc("placeholder",i.nc(46,40,"lang.description")),i.sc("ngModel",r.contactsGroup.description),i.Eb(5),i.tc("title",i.nc(50,42,"lang.public")),i.sc("ngModel",r.contactsGroup.public),i.Eb(2),i.Uc("",i.nc(52,44,"lang.public")," "),i.Eb(4),i.sc("disabled",!a.form.valid),i.Eb(1),i.Tc(i.nc(57,46,"lang.update")),i.Eb(3),i.Tc(i.nc(60,48,"lang.close")),i.Eb(2),i.sc("ngIf",r.contactsListMode)}}function rn(t,e){1&t&&(i.Zb(0,"mat-header-cell",247),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.date")))}function on(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"date"),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc("",i.oc(2,1,n.event_date,"dd/MM/y HH:mm")," ")}}function sn(t,e){1&t&&(i.Zb(0,"mat-header-cell",247),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.technicalId")))}function cn(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Tc(n.record_id)}}function ln(t,e){1&t&&(i.Zb(0,"mat-header-cell",247),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("",i.nc(2,1,"lang.description")," "))}function un(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.info," ")}}function dn(t,e){1&t&&i.Ub(0,"mat-header-row")}function fn(t,e){1&t&&i.Ub(0,"mat-row")}function hn(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",90),i.Zb(1,"div",91),i.Zb(2,"mat-form-field"),i.Zb(3,"input",92),i.hc("keyup",(function(t){return i.Hc(n),i.lc(2).applyFilter(t.target.value)})),i.mc(4,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(5,"div",91),i.Ub(6,"mat-paginator",93,239),i.Yb(),i.Yb(),i.Zb(8,"mat-table",240,241),i.Xb(10,242),i.Qc(11,rn,3,3,"mat-header-cell",243),i.Qc(12,on,3,4,"mat-cell",244),i.Wb(),i.Xb(13,245),i.Qc(14,sn,3,3,"mat-header-cell",243),i.Qc(15,cn,2,1,"mat-cell",244),i.Wb(),i.Xb(16,246),i.Qc(17,ln,3,3,"mat-header-cell",243),i.Qc(18,un,2,1,"mat-cell",244),i.Wb(),i.Qc(19,dn,1,0,"mat-header-row",113),i.Qc(20,fn,1,0,"mat-row",236),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(3),i.tc("placeholder",i.nc(4,7,"lang.filterBy")),i.Eb(3),i.sc("length",100)("hidePageSize",!0)("pageSize",10),i.Eb(2),i.sc("dataSource",a.dataSource),i.Eb(11),i.sc("matHeaderRowDef",a.displayedColumns),i.Eb(1),i.sc("matRowDefColumns",a.displayedColumns)}}function pn(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-card",22),i.Zb(1,"mat-tab-group",23),i.hc("selectedTabChange",(function(t){return i.Hc(n),i.lc().initComponents(t)})),i.Zb(2,"mat-tab",24),i.mc(3,"translate"),i.Qc(4,Ut,39,38,"div",25),i.Qc(5,Bt,45,46,"form",26),i.Yb(),i.Zb(6,"mat-tab",24),i.mc(7,"translate"),i.Zb(8,"mat-accordion"),i.Zb(9,"mat-expansion-panel"),i.Zb(10,"mat-expansion-panel-header"),i.Zb(11,"mat-panel-title"),i.Ub(12,"mat-icon",27),i.Zb(13,"span"),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Yb(),i.Qc(16,zt,3,3,"mat-panel-description",28),i.Yb(),i.Zb(17,"div",29),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Zb(20,"div",30),i.Zb(21,"mat-form-field"),i.Zb(22,"mat-select",31),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().user.preferences.documentEdition=t}))("selectionChange",(function(){return i.Hc(n),i.lc().updateUserPreferences()})),i.Qc(23,Vt,2,2,"mat-option",32),i.Yb(),i.Zb(24,"mat-hint"),i.Sc(25),i.mc(26,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(27,"mat-expansion-panel"),i.Zb(28,"mat-expansion-panel-header"),i.Zb(29,"mat-panel-title"),i.Ub(30,"mat-icon",33),i.Ub(31,"mat-icon",34),i.Zb(32,"span"),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Yb(),i.Qc(35,Ht,3,3,"mat-panel-description",28),i.Yb(),i.Zb(36,"mat-list"),i.Qc(37,qt,3,2,"ng-container",14),i.Yb(),i.Yb(),i.Zb(38,"mat-expansion-panel",35),i.Zb(39,"mat-expansion-panel-header"),i.Zb(40,"mat-panel-title"),i.Ub(41,"mat-icon",33),i.Ub(42,"mat-icon",36),i.Sc(43),i.mc(44,"translate"),i.Yb(),i.Qc(45,Xt,3,3,"mat-panel-description",28),i.Yb(),i.Zb(46,"div",37),i.Zb(47,"mat-list"),i.Zb(48,"mat-list-item"),i.Zb(49,"mat-icon",38),i.Zb(50,"mat-checkbox",39),i.hc("change",(function(t){i.Hc(n);var e=i.lc();return t?e.masterToggleBaskets(t):null})),i.mc(51,"translate"),i.Yb(),i.Yb(),i.Zb(52,"p",17),i.Qc(53,$t,3,3,"span",40),i.Qc(54,Kt,1,5,"plugin-autocomplete",41),i.Yb(),i.Yb(),i.Ub(55,"mat-divider"),i.Qc(56,ne,2,1,"ng-container",14),i.Yb(),i.Yb(),i.Zb(57,"div",37),i.Zb(58,"mat-tab-group"),i.Zb(59,"mat-tab",24),i.mc(60,"translate"),i.Zb(61,"mat-list"),i.Qc(62,ie,14,9,"ng-container",14),i.Yb(),i.Yb(),i.Yb(),i.Zb(63,"mat-tab-group"),i.Zb(64,"mat-tab",24),i.mc(65,"translate"),i.Zb(66,"mat-list"),i.Qc(67,re,18,13,"ng-container",14),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(68,"div",42),i.Yb(),i.Zb(69,"mat-expansion-panel",43),i.hc("opened",(function(){return i.Hc(n),i.lc().initMce()})),i.Zb(70,"mat-expansion-panel-header"),i.Zb(71,"mat-panel-title"),i.Ub(72,"mat-icon",44),i.Sc(73),i.mc(74,"translate"),i.Yb(),i.Qc(75,oe,3,3,"mat-panel-description",28),i.Yb(),i.Zb(76,"div",37),i.Zb(77,"form",45,46),i.hc("ngSubmit",(function(){return i.Hc(n),i.lc().submitEmailSignature()})),i.Zb(79,"div",47),i.Zb(80,"div",48),i.Zb(81,"mat-form-field"),i.Zb(82,"input",49),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().mailSignatureModel.title=t})),i.mc(83,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(84,"div",47),i.Zb(85,"div",48),i.Zb(86,"div",50),i.Ub(87,"textarea",51),i.Yb(),i.Yb(),i.Yb(),i.Zb(88,"div",52),i.Zb(89,"div",53),i.Qc(90,se,3,4,"button",54),i.Qc(91,ce,3,4,"button",55),i.Qc(92,le,3,3,"button",56),i.Qc(93,ue,3,3,"button",57),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(94,"div",37),i.Qc(95,de,9,7,"div",58),i.Yb(),i.Ub(96,"div",42),i.Yb(),i.Zb(97,"mat-expansion-panel"),i.Zb(98,"mat-expansion-panel-header"),i.Zb(99,"mat-panel-title"),i.Ub(100,"mat-icon",59),i.Sc(101),i.mc(102,"translate"),i.Yb(),i.Qc(103,fe,3,3,"mat-panel-description",28),i.Yb(),i.Zb(104,"div",60),i.Zb(105,"div",61),i.hc("click",(function(){return i.Hc(n),i.lc().clickOnUploader("uploadSignFile")}))("dragover",(function(){return i.Hc(n),i.lc().highlightMe=!0}))("dragleave",(function(){return i.Hc(n),i.lc().highlightMe=!1}))("onDropSuccess",(function(t){i.Hc(n);var e=i.lc();return e.dndUploadSignature(t),e.highlightMe=!1})),i.mc(106,"translate"),i.Sc(107),i.mc(108,"translate"),i.Yb(),i.Zb(109,"form",62,63),i.hc("ngSubmit",(function(){return i.Hc(n),i.lc().submitSignature()})),i.Zb(111,"div",48),i.Zb(112,"mat-form-field"),i.Zb(113,"input",64),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().signatureModel.label=t})),i.mc(114,"translate"),i.mc(115,"translate"),i.Yb(),i.Yb(),i.Zb(116,"div",65),i.Zb(117,"div",66),i.Zb(118,"input",67),i.hc("change",(function(t){return i.Hc(n),i.lc().uploadSignatureTrigger(t)})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(119,"div",68),i.Zb(120,"div",69),i.hc("click",(function(){return i.Hc(n),i.lc().clickOnUploader("uploadSignFile")})),i.Sc(121),i.mc(122,"translate"),i.Ub(123,"i",70),i.Sc(124," ( < 2MB) "),i.Yb(),i.Yb(),i.Qc(125,he,2,1,"div",71),i.Zb(126,"div",52),i.Zb(127,"div",53),i.Zb(128,"button",72),i.Sc(129),i.mc(130,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(131,"div",73),i.Zb(132,"div",74),i.Qc(133,pe,12,12,"div",75),i.Yb(),i.Zb(134,"div"),i.Qc(135,me,3,6,"button",76),i.Yb(),i.Yb(),i.Ub(136,"div",42),i.Yb(),i.Zb(137,"mat-expansion-panel",43),i.hc("opened",(function(){return i.Hc(n),i.lc().initGroupsContact()})),i.Zb(138,"mat-expansion-panel-header"),i.Zb(139,"mat-panel-title"),i.Ub(140,"mat-icon",77),i.Sc(141),i.mc(142,"translate"),i.Yb(),i.Qc(143,ge,3,3,"mat-panel-description",28),i.Yb(),i.Zb(144,"mat-tab-group",78),i.hc("selectedIndexChange",(function(t){i.Hc(n);var e=i.Dc(149);return i.lc().changeTabContactGrp(t),e.close()})),i.Zb(145,"mat-tab",24),i.mc(146,"translate"),i.Zb(147,"mat-accordion"),i.Zb(148,"mat-expansion-panel",43,79),i.hc("opened",(function(){return i.Hc(n),i.lc().initGroupsContact()})),i.Zb(150,"mat-expansion-panel-header"),i.Zb(151,"mat-panel-title",80),i.Zb(152,"span",81),i.Sc(153),i.mc(154,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(155,"form",82,83),i.hc("ngSubmit",(function(){i.Hc(n);var t=i.Dc(149);return i.lc().contactsGroupSubmit(),t.close()})),i.Zb(157,"div",66),i.Zb(158,"div",84),i.Zb(159,"mat-form-field"),i.Zb(160,"input",85),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().contactsGroup.label=t})),i.mc(161,"translate"),i.mc(162,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(163,"div",66),i.Zb(164,"div",84),i.Zb(165,"mat-form-field"),i.Zb(166,"input",86),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().contactsGroup.description=t})),i.mc(167,"translate"),i.mc(168,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(169,"div",66),i.Zb(170,"div",84),i.Zb(171,"mat-slide-toggle",87),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().contactsGroup.public=t})),i.mc(172,"translate"),i.Sc(173),i.mc(174,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(175,"div",66),i.Zb(176,"div",88),i.Zb(177,"button",72),i.Sc(178),i.mc(179,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(180,"div",89),i.Zb(181,"div",90),i.Zb(182,"div",91),i.Zb(183,"mat-form-field"),i.Zb(184,"input",92),i.hc("keyup",(function(t){return i.Hc(n),i.lc().applyFilterGroupsList(t.target.value)})),i.mc(185,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(186,"div",91),i.Ub(187,"mat-paginator",93,94),i.Yb(),i.Yb(),i.Zb(189,"mat-table",95,96),i.Xb(191,97),i.Qc(192,be,3,5,"mat-header-cell",98),i.Qc(193,ve,2,3,"mat-cell",99),i.Wb(),i.Xb(194,100),i.Qc(195,ye,3,3,"mat-header-cell",101),i.Qc(196,_e,2,1,"mat-cell",102),i.Wb(),i.Xb(197,103),i.Qc(198,ke,3,3,"mat-header-cell",104),i.Qc(199,we,3,2,"mat-cell",105),i.Wb(),i.Xb(200,106),i.Qc(201,Oe,3,5,"mat-header-cell",107),i.Qc(202,Me,3,4,"mat-cell",108),i.Wb(),i.Xb(203,109),i.Qc(204,Ie,3,3,"mat-header-cell",104),i.Qc(205,Pe,2,1,"mat-cell",105),i.Wb(),i.Xb(206,110),i.Qc(207,Te,1,0,"mat-header-cell",111),i.Qc(208,Ae,4,3,"mat-cell",112),i.Wb(),i.Qc(209,De,1,0,"mat-header-row",113),i.Qc(210,Re,2,3,"mat-row",114),i.Yb(),i.Yb(),i.Yb(),i.Qc(211,an,62,50,"mat-tab",115),i.Yb(),i.Ub(212,"div",42),i.Yb(),i.Yb(),i.Yb(),i.Zb(213,"mat-tab",24),i.mc(214,"translate"),i.Qc(215,hn,21,9,"ng-template",116),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(110),r=i.Dc(156),o=i.lc();i.Eb(1),i.sc("selectedIndex",o.selectedIndex),i.Eb(1),i.tc("label",i.nc(3,76,"lang.myInformations")),i.Eb(2),i.sc("ngIf",o.showPassword),i.Eb(1),i.sc("ngIf",!o.showPassword),i.Eb(1),i.tc("label",i.nc(7,78,"lang.myParameters")),i.Eb(8),i.Tc(i.nc(15,80,"lang.editorOption")),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(2),i.Tc(i.nc(19,82,"lang.documentEditor")),i.Eb(4),i.sc("ngModel",o.user.preferences.documentEdition),i.Eb(1),i.sc("ngForOf",o.editorsList),i.Eb(2),i.Tc(i.nc(26,84,"lang.documentEditor_"+o.user.preferences.documentEdition)),i.Eb(8),i.Tc(i.nc(34,86,"lang.basketsColor")),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(2),i.sc("ngForOf",o.user.regroupedBaskets),i.Eb(1),i.sc("expanded",o.myBasketExpansionPanel),i.Eb(5),i.Uc(" ",i.nc(44,88,"lang.myBaskets")," "),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(5),i.tc("matTooltip",i.nc(51,90,"lang.selectAll")),i.sc("checked",o.selectionBaskets.hasValue()),i.Eb(3),i.sc("ngIf",!o.selectionBaskets.hasValue()),i.Eb(1),i.sc("ngIf",o.selectionBaskets.hasValue()),i.Eb(2),i.sc("ngForOf",o.user.baskets),i.Eb(3),i.tc("label",i.nc(60,92,"lang.basketsRedirected")),i.Eb(3),i.sc("ngForOf",o.user.redirectedBaskets),i.Eb(2),i.tc("label",i.nc(65,94,"lang.basketsAssigned")),i.Eb(3),i.sc("ngForOf",o.user.assignedBaskets),i.Eb(6),i.Uc(" ",i.nc(74,96,"lang.mySignMail")," "),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(7),i.tc("placeholder",i.nc(83,98,"lang.label")),i.sc("ngModel",o.mailSignatureModel.title),i.Eb(8),i.sc("ngIf",-1==o.mailSignatureModel.selected),i.Eb(1),i.sc("ngIf",-1!=o.mailSignatureModel.selected),i.Eb(1),i.sc("ngIf",-1!=o.mailSignatureModel.selected),i.Eb(1),i.sc("ngIf",-1!=o.mailSignatureModel.selected),i.Eb(2),i.sc("ngForOf",o.user.emailSignatures),i.Eb(6),i.Uc(" ",i.nc(102,100,"lang.mySignSignatureBook")," "),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(2),i.Jb("dndFileHighlighted",o.highlightMe),i.tc("matTooltip",i.nc(106,102,"lang.uploadSignFileInfo")),i.Eb(2),i.Uc(" ",i.nc(108,104,"lang.uploadSignFile")," "),i.Eb(6),i.tc("title",i.nc(114,106,"lang.label")),i.tc("placeholder",i.nc(115,108,"lang.label")),i.sc("ngModel",o.signatureModel.label),i.Eb(6),i.sc("ngClass",i.zc(138,Nt,""!=o.signatureModel.size?"col-md-10":"col-md-12")),i.Eb(2),i.Uc(" ",i.nc(122,110,"lang.clickOn")," "),i.Eb(4),i.sc("ngIf",o.signatureModel.size),i.Eb(3),i.sc("disabled",!a.form.valid||!o.signatureModel.size),i.Eb(1),i.Tc(i.nc(130,112,"lang.save")),i.Eb(4),i.sc("ngForOf",o.user.signatures),i.Eb(2),i.sc("ngIf",o.user.signatures.length>0),i.Eb(6),i.Uc(" ",i.nc(142,114,"lang.myContactsGroups")," "),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(1),i.sc("selectedIndex",o.selectedIndexContactsGrp),i.Eb(1),i.tc("label",i.nc(146,116,"lang.contactGroupList")),i.Eb(8),i.Tc(i.nc(154,118,"lang.contactGroupCreate")),i.Eb(7),i.tc("title",i.nc(161,120,"lang.label")),i.tc("placeholder",i.nc(162,122,"lang.label")),i.sc("ngModel",o.contactsGroup.label),i.Eb(6),i.tc("title",i.nc(167,124,"lang.description")),i.tc("placeholder",i.nc(168,126,"lang.description")),i.sc("ngModel",o.contactsGroup.description),i.Eb(5),i.tc("title",i.nc(172,128,"lang.contactsGroupDesc")),i.sc("ngModel",o.contactsGroup.public),i.Eb(2),i.Uc(" ",i.nc(174,130,"lang.public"),""),i.Eb(4),i.sc("disabled",!r.form.valid),i.Eb(1),i.Tc(i.nc(179,132,"lang.save")),i.Eb(6),i.tc("placeholder",i.nc(185,134,"lang.filterBy")),i.Eb(3),i.sc("length",100)("hidePageSize",!0)("pageSize",5),i.Eb(2),i.sc("dataSource",o.dataSourceGroupsList),i.Eb(20),i.sc("matHeaderRowDef",o.displayedColumnsGroupsList),i.Eb(1),i.sc("matRowDefColumns",o.displayedColumnsGroupsList),i.Eb(1),i.sc("ngIf",o.contactsListMode),i.Eb(2),i.tc("label",i.nc(214,136,"lang.myHistoric"))}}function mn(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item"),i.Ub(1,"mat-icon",248),i.Zb(2,"h4",17),i.Sc(3),i.Yb(),i.Zb(4,"p",17),i.Zb(5,"mat-form-field",249),i.Zb(6,"input",250),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.role=t})),i.mc(7,"translate"),i.mc(8,"translate"),i.Yb(),i.Zb(9,"mat-hint",251),i.mc(10,"translate"),i.Sc(11),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit;i.Eb(3),i.Tc(a.group_desc),i.Eb(3),i.tc("title",i.nc(7,6,"lang.role")),i.tc("placeholder",i.nc(8,8,"lang.role")),i.sc("ngModel",a.role),i.Eb(3),i.tc("matTooltip",i.nc(10,10,"lang.perimeter")),i.Eb(2),i.Tc(a.maarch_comment)}}function gn(t,e){1&t&&i.Ub(0,"mat-icon",256)}function bn(t,e){1&t&&i.Ub(0,"mat-icon",257)}function vn(t,e){1&t&&(i.Zb(0,"span",163),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.primary")))}var yn=function(t){return{"font-weight":t}};function _n(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item"),i.Qc(1,gn,1,0,"mat-icon",252),i.Qc(2,bn,1,0,"mat-icon",253),i.Zb(3,"h4",254),i.Sc(4),i.Qc(5,vn,3,3,"span",255),i.Yb(),i.Zb(6,"p",17),i.Zb(7,"mat-form-field",249),i.Zb(8,"input",250),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.user_role=t})),i.mc(9,"translate"),i.mc(10,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit;i.Eb(1),i.sc("ngIf","Y"==a.primary_entity),i.Eb(1),i.sc("ngIf","Y"!=a.primary_entity),i.Eb(1),i.tc("matTooltip",a.entity_label),i.sc("ngStyle",i.zc(13,yn,"Y"==a.primary_entity?"bold":"normal")),i.Eb(1),i.Uc(" ",a.entity_label," "),i.Eb(1),i.sc("ngIf","Y"==a.primary_entity),i.Eb(3),i.tc("title",i.nc(9,9,"lang.role")),i.tc("placeholder",i.nc(10,11,"lang.role")),i.sc("ngModel",a.user_role)}}var kn,Cn=((kn=function(){function t(e,n,i,a,r,o,s,l,u,d,f){var h=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.zone=i,this.notify=a,this.dialog=r,this._formBuilder=o,this.authService=s,this.headerService=l,this.appService=u,this.viewContainerRef=d,this.functions=f,this.highlightMe=!1,this.user={baskets:[]},this.histories=[],this.passwordModel={currentPassword:"",newPassword:"",reNewPassword:""},this.ruleText="",this.validPassword=!1,this.matchPassword=!1,this.hidePassword=!0,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.signatureModel={base64:"",base64ForJs:"",name:"",type:"",size:0,label:""},this.mailSignatureModel={selected:-1,htmlBody:"",title:""},this.userAbsenceModel=[],this.basketsToRedirect=[],this.showPassword=!1,this.selectedSignature=-1,this.selectedSignatureLabel="",this.loading=!1,this.selectedIndex=0,this.selectedIndexContactsGrp=0,this.loadingSign=!1,this.selectionBaskets=new c.c(!0,[]),this.myBasketExpansionPanel=!1,this.contactsGroups=[],this.displayedColumnsGroupsList=["label","description","nbContacts","public","actions"],this.contactsGroup={public:!1},this.initAutoCompleteContact=!0,this.searchTerm=new j.h,this.searchResult=[],this.displayedColumnsContactsListAutocomplete=["select","contact","address"],this.selection=new c.c(!0,[]),this.contactsListMode=!1,this.contactsList=[],this.displayedColumnsContactsList=["contact","address","actions"],this.displayedColumns=["event_date","record_id","info"],window.angularProfileComponent={componentAfterUpload:function(t){return h.processAfterUpload(t)}},this.searchTerm.valueChanges.pipe(Object(rt.a)(500),Object(ot.a)((function(t){return t.length>2})),Object(st.a)(),Object(ct.a)((function(t){return h.http.get("../rest/autocomplete/contacts",{params:{search:t}})}))).subscribe((function(t){h.searchResult=t,h.dataSourceContactsListAutocomplete=new dt.o(h.searchResult),h.dataSourceContactsListAutocomplete.paginator=h.paginatorGroupsListAutocomplete})),this.http.get("../rest/documentEditors").pipe(Object(lt.a)((function(t){h.editorsList=t}))).subscribe()}return _createClass(t,[{key:"masterToggleBaskets",value:function(t){var e=this;t.checked?this.user.baskets.forEach((function(t){t.userToDisplay||e.selectionBaskets.select(t)})):this.selectionBaskets.clear()}},{key:"applyFilterGroupsList",value:function(t){t=(t=t.trim()).toLowerCase(),this.dataSourceGroupsList.filter=t}},{key:"masterToggle",value:function(t){var e=this;t.checked?this.dataSourceContactsListAutocomplete.data.forEach((function(t){$("#check_"+t.id+"-input").is(":disabled")||e.selection.select(t.id)})):this.selection.clear()}},{key:"applyFilterContactsList",value:function(t){t=(t=t.trim()).toLowerCase(),this.dataSourceContactsList.filter=t}},{key:"applyFilter",value:function(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}},{key:"initComponents",value:function(t){var e=this;this.selectedIndex=t.index,2==t.index?(this.appService.getViewMode()||this.sidenavRight.open(),this.http.get("../rest/history/users/"+this.user.id).subscribe((function(t){e.histories=t.histories,setTimeout((function(){e.dataSource=new dt.o(e.histories),e.dataSource.sortingDataAccessor=e.functions.listSortingDataAccessor,e.dataSource.paginator=e.paginatorHistory,e.dataSource.sort=e.sortHistory}),0)}),(function(t){e.notify.error(t.error.errors)}))):1==t.index?this.sidenavRight.close():this.appService.getViewMode()||this.sidenavRight.open()}},{key:"initMce",value:function(){tinymce.remove("textarea"),tinymce.baseURL="../node_modules/tinymce",tinymce.suffix=".min",tinymce.init({selector:"textarea#emailSignature",statusbar:!1,language:this.translate.instant("lang.langISO").replace("-","_"),language_url:"../node_modules/tinymce-i18n/langs/".concat(this.translate.instant("lang.langISO").replace("-","_"),".js"),height:"200",plugins:["textcolor"],external_plugins:{maarch_b64image:"../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},menubar:!1,toolbar:"undo | bold italic underline | alignleft aligncenter alignright | maarch_b64image | forecolor",theme_buttons1_add:"fontselect,fontsizeselect",theme_buttons2_add_before:"cut,copy,paste,pastetext,pasteword,separator,search,replace,separator",theme_buttons2_add:"separator,insertdate,inserttime,preview,separator,forecolor,backcolor",theme_buttons3_add_before:"tablecontrols,separator",theme_buttons3_add:"separator,print,separator,ltr,rtl,separator,fullscreen,separator,insertlayer,moveforward,movebackward,absolut",theme_toolbar_align:"left",theme_advanced_toolbar_location:"top",theme_styles:"Header 1=header1;Header 2=header2;Header 3=header3;Table Row=tableRow1"})}},{key:"initGroupsContact",value:function(){var t=this;this.contactsListMode=!1,this.selectedIndexContactsGrp=0,this.http.get("../rest/contactsGroups").subscribe((function(e){t.contactsGroups=[],t.contactsGroup={public:!1,contacts:[]};var n=0;e.contactsGroups.forEach((function(e){e.owner==t.headerService.user.id&&(e.position=n,t.contactsGroups.push(e),n++)})),setTimeout((function(){t.dataSourceGroupsList=new dt.o(t.contactsGroups),t.dataSourceGroupsList.paginator=t.paginatorGroupsList,t.dataSourceGroupsList.sort=t.sortGroupsList}),0)}),(function(e){t.notify.handleErrors(e)}))}},{key:"contactsGroupSubmit",value:function(){var t=this;this.http.post("../rest/contactsGroups",this.contactsGroup).subscribe((function(e){t.initGroupsContact(),t.notify.success(t.translate.instant("lang.contactsGroupAdded"))}),(function(e){t.notify.error(e.error.errors)}))}},{key:"updateGroupSubmit",value:function(){var t=this;this.http.put("../rest/contactsGroups/"+this.contactsGroup.id,this.contactsGroup).subscribe((function(){t.notify.success(t.translate.instant("lang.contactsGroupUpdated")),t.initGroupsContact()}),(function(e){t.notify.error(e.error.errors)}))}},{key:"deleteContactsGroup",value:function(t){var e=this,n=this.contactsGroups[t];confirm(this.translate.instant("lang.confirmAction")+" "+this.translate.instant("lang.delete")+" \xab "+n.label+" \xbb")&&this.http.delete("../rest/contactsGroups/"+n.id).subscribe((function(){e.contactsListMode=!1;var n=e.contactsGroups.length-1;e.contactsGroups[t]=e.contactsGroups[n],e.contactsGroups[t].position=t,e.contactsGroups.splice(n,1),e.dataSourceGroupsList=new dt.o(e.contactsGroups),e.dataSourceGroupsList.paginator=e.paginatorGroupsList,e.notify.success(e.translate.instant("lang.contactsGroupDeleted"))}),(function(t){e.notify.error(t.error.errors)}))}},{key:"loadContactsGroup",value:function(t){var e=this;this.contactsListMode=!0,this.http.get("../rest/contactsGroups/"+t.id).subscribe((function(t){e.contactsGroup=t.contactsGroup,setTimeout((function(){e.dataSourceContactsList=new dt.o(e.contactsGroup.contacts),e.dataSourceContactsList.paginator=e.paginatorContactsList,e.dataSourceContactsList.sort=e.sortContactsList,e.selectedIndexContactsGrp=1}),0)}))}},{key:"saveContactsList",value:function(t){var e=this;t.textContent=this.translate.instant("lang.loading")+"...",t.disabled=!0,this.http.post("../rest/contactsGroups/"+this.contactsGroup.id+"/contacts",{contacts:this.selection.selected}).subscribe((function(n){e.notify.success(e.translate.instant("lang.contactAdded")),e.selection.clear(),t.textContent=e.translate.instant("lang.add"),e.contactsGroup=n.contactsGroup,setTimeout((function(){e.dataSourceContactsList=new dt.o(e.contactsGroup.contacts),e.dataSourceContactsList.paginator=e.paginatorContactsList,e.dataSourceContactsList.sort=e.sortContactsList}),0)}),(function(t){e.notify.error(t.error.errors)}))}},{key:"preDelete",value:function(t){confirm(this.translate.instant("lang.reallyWantToDeleteContactFromGroup"))&&this.removeContact(this.contactsGroup.contacts[t],t)}},{key:"removeContact",value:function(t,e){var n=this;this.http.delete("../rest/contactsGroups/"+this.contactsGroup.id+"/contacts/"+t.id).subscribe((function(){var t=n.contactsGroup.contacts.length-1;n.contactsGroup.contacts[e]=n.contactsGroup.contacts[t],n.contactsGroup.contacts[e].position=e,n.contactsGroup.contacts.splice(t,1),n.dataSourceContactsList=new dt.o(n.contactsGroup.contacts),n.dataSourceContactsList.paginator=n.paginatorContactsList,n.dataSourceContactsList.sort=n.sortContactsList,n.notify.success(n.translate.instant("lang.contactDeletedFromGroup"))}),(function(t){n.notify.error(t.error.errors)}))}},{key:"launchLoading",value:function(){this.searchTerm.value.length>2&&(this.dataSourceContactsListAutocomplete=null,this.initAutoCompleteContact=!1)}},{key:"isInGrp",value:function(t){var e=!1;return this.contactsGroup.contacts.forEach((function(n){n.id==t.id&&(e=!0)})),e}},{key:"selectContact",value:function(t){$("#check_"+t+"-input").is(":disabled")||this.selection.toggle(t)}},{key:"ngOnInit",value:function(){var t=this;this.headerService.setHeader(this.translate.instant("lang.myProfile")),this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu"),this.loading=!0,this.http.get("../rest/currentUser/profile").subscribe((function(e){t.user=e,t.user.baskets.forEach((function(e,n){t.user.baskets[n].disabled=!1,t.user.redirectedBaskets.forEach((function(i){e.basket_id==i.basket_id&&e.basket_owner==i.basket_owner&&(t.user.baskets[n].disabled=!0)}))})),t.loading=!1}))}},{key:"processAfterUpload",value:function(t){var e=this;this.zone.run((function(){return e.resfreshUpload(t)}))}},{key:"resfreshUpload",value:function(t){this.signatureModel.size<=2e6?(this.signatureModel.base64=t.replace(/^data:.*?;base64,/,""),this.signatureModel.base64ForJs=t):(this.signatureModel.name="",this.signatureModel.size=0,this.signatureModel.type="",this.signatureModel.base64="",this.signatureModel.base64ForJs="",this.notify.error("Taille maximum de fichier d\xe9pass\xe9e (2 MB)"))}},{key:"displayPassword",value:function(){this.showPassword=!this.showPassword}},{key:"clickOnUploader",value:function(t){$("#"+t).click()}},{key:"uploadSignatureTrigger",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var n=new FileReader;this.signatureModel.name=t.target.files[0].name,this.signatureModel.size=t.target.files[0].size,this.signatureModel.type=t.target.files[0].type,""==this.signatureModel.label&&(this.signatureModel.label=this.signatureModel.name),n.readAsDataURL(t.target.files[0]),n.onload=function(t){window.angularProfileComponent.componentAfterUpload(t.target.result),e.submitSignature()}}}},{key:"dndUploadSignature",value:function(t){var e=this;if(t.mouseEvent.dataTransfer.files&&t.mouseEvent.dataTransfer.files[0]){var n=new FileReader;this.signatureModel.name=t.mouseEvent.dataTransfer.files[0].name,this.signatureModel.size=t.mouseEvent.dataTransfer.files[0].size,this.signatureModel.type=t.mouseEvent.dataTransfer.files[0].type,""==this.signatureModel.label&&(this.signatureModel.label=this.signatureModel.name),n.readAsDataURL(t.mouseEvent.dataTransfer.files[0]),n.onload=function(t){window.angularProfileComponent.componentAfterUpload(t.target.result),e.submitSignature()}}}},{key:"displaySignatureEditionForm",value:function(t){this.selectedSignature=t,this.selectedSignatureLabel=this.user.signatures[t].signature_label}},{key:"changeEmailSignature",value:function(t){this.mailSignatureModel.selected=t,tinymce.get("emailSignature").setContent(this.user.emailSignatures[t].html_body),this.mailSignatureModel.title=this.user.emailSignatures[t].title}},{key:"resetEmailSignature",value:function(){this.mailSignatureModel.selected=-1,tinymce.get("emailSignature").setContent(""),this.mailSignatureModel.title=""}},{key:"addBasketRedirection",value:function(t){var e=this,n=[];this.selectionBaskets.selected.forEach((function(e){n.push({actual_user_id:t.serialId,basket_id:e.basket_id,group_id:e.groupSerialId,originalOwner:null})})),confirm(this.translate.instant("lang.confirmAction")+" "+this.translate.instant("lang.redirectBasket"))&&this.http.post("../rest/users/"+this.user.id+"/redirectedBaskets",n).subscribe((function(t){e.user.baskets=t.baskets,e.user.redirectedBaskets=t.redirectedBaskets,e.selectionBaskets.clear(),e.notify.success(e.translate.instant("lang.basketUpdated"))}),(function(t){e.notify.error(t.error.errors)}))}},{key:"delBasketRedirection",value:function(t,e){var n=this;confirm(this.translate.instant("lang.confirmAction"))&&this.http.delete("../rest/users/"+this.user.id+"/redirectedBaskets?redirectedBasketIds[]="+t.id).subscribe((function(t){n.user.baskets=t.baskets,n.user.redirectedBaskets.splice(e,1),n.notify.success(n.translate.instant("lang.basketUpdated"))}),(function(t){n.notify.error(t.error.errors)}))}},{key:"delBasketAssignRedirection",value:function(t,e){var n=this;confirm(this.translate.instant("lang.confirmAction"))&&this.http.delete("../rest/users/"+this.user.id+"/redirectedBaskets?redirectedBasketIds[]="+t.id).subscribe((function(t){n.user.baskets=t.baskets,n.user.assignedBaskets.splice(e,1),n.notify.success(n.translate.instant("lang.basketUpdated"))}),(function(t){n.notify.error(t.error.errors)}))}},{key:"reassignBasketRedirection",value:function(t,e,n){var i=this;confirm(this.translate.instant("lang.confirmAction")+" "+this.translate.instant("lang.redirectBasket"))&&this.http.post("../rest/users/"+this.user.id+"/redirectedBaskets",[{actual_user_id:t.serialId,basket_id:e.basket_id,group_id:e.group_id,originalOwner:e.owner_user_id}]).subscribe((function(t){i.user.baskets=t.baskets,i.user.assignedBaskets.splice(n,1),i.notify.success(i.translate.instant("lang.basketUpdated"))}),(function(t){i.notify.error(t.error.errors)}))}},{key:"updateBasketColor",value:function(t,e){var n=this;this.http.put("../rest/currentUser/groups/"+this.user.regroupedBaskets[t].groupSerialId+"/baskets/"+this.user.regroupedBaskets[t].baskets[e].basket_id,{color:this.user.regroupedBaskets[t].baskets[e].color}).subscribe((function(t){n.user.regroupedBaskets=t.userBaskets,n.notify.success(n.translate.instant("lang.modificationSaved"))}),(function(t){n.notify.error(t.error.errors)}))}},{key:"activateAbsence",value:function(){var t=this;confirm(this.translate.instant("lang.confirmToBeAbsent"))&&this.http.put("../rest/users/"+this.user.id+"/status",{status:"ABS"}).subscribe((function(){t.authService.logout()}),(function(e){t.notify.error(e.error.errors)}))}},{key:"askRedirectBasket",value:function(){var t=this;this.myBasketExpansionPanel=!1,this.viewPanels.forEach((function(t){return t.close()})),confirm(this.translate.instant("lang.askRedirectBasketBeforeAbsence"))?(this.selectedIndex=1,setTimeout((function(){t.myBasketExpansionPanel=!0}),0)):this.activateAbsence()}},{key:"updatePassword",value:function(){var t=this;this.passwordModel.currentPassword=this.firstFormGroup.controls.currentPasswordCtrl.value,this.passwordModel.newPassword=this.firstFormGroup.controls.newPasswordCtrl.value,this.passwordModel.reNewPassword=this.firstFormGroup.controls.retypePasswordCtrl.value,this.http.put("../rest/users/"+this.user.id+"/password",this.passwordModel).subscribe((function(e){t.showPassword=!1,t.passwordModel={currentPassword:"",newPassword:"",reNewPassword:""},t.notify.success(t.translate.instant("lang.passwordUpdated"))}),(function(e){t.notify.error(e.error.errors)}))}},{key:"submitEmailSignature",value:function(){var t=this;this.mailSignatureModel.htmlBody=tinymce.get("emailSignature").getContent(),this.http.post("../rest/currentUser/emailSignature",this.mailSignatureModel).subscribe((function(e){e.errors?t.notify.error(e.errors):(t.user.emailSignatures=e.emailSignatures,t.mailSignatureModel={selected:-1,htmlBody:"",title:""},tinymce.get("emailSignature").setContent(""),t.notify.success(t.translate.instant("lang.emailSignatureAdded")))}))}},{key:"updateEmailSignature",value:function(){var t=this;this.mailSignatureModel.htmlBody=tinymce.get("emailSignature").getContent(),this.http.put("../rest/currentUser/emailSignature/"+this.user.emailSignatures[this.mailSignatureModel.selected].id,this.mailSignatureModel).subscribe((function(e){e.errors?t.notify.error(e.errors):(t.user.emailSignatures[t.mailSignatureModel.selected].title=e.emailSignature.title,t.user.emailSignatures[t.mailSignatureModel.selected].html_body=e.emailSignature.html_body,t.notify.success(t.translate.instant("lang.emailSignatureUpdated")))}))}},{key:"deleteEmailSignature",value:function(){var t=this;confirm(this.translate.instant("lang.confirmDeleteMailSignature"))&&this.http.delete("../rest/currentUser/emailSignature/"+this.user.emailSignatures[this.mailSignatureModel.selected].id).subscribe((function(e){e.errors?t.notify.error(e.errors):(t.user.emailSignatures=e.emailSignatures,t.mailSignatureModel={selected:-1,htmlBody:"",title:""},tinymce.get("emailSignature").setContent(""),t.notify.success(t.translate.instant("lang.emailSignatureDeleted")))}))}},{key:"submitSignature",value:function(){var t=this;this.http.post("../rest/users/"+this.user.id+"/signatures",this.signatureModel).subscribe((function(e){t.user.signatures=e.signatures,t.signatureModel={base64:"",base64ForJs:"",name:"",type:"",size:0,label:""},t.notify.success(t.translate.instant("lang.signatureAdded"))}),(function(e){t.notify.error(e.error.errors)}))}},{key:"updateSignature",value:function(t){var e=this;this.http.put("../rest/users/"+this.user.id+"/signatures/"+t.id,{label:t.signature_label}).subscribe((function(t){e.notify.success(e.translate.instant("lang.signatureUpdated"))}),(function(t){e.notify.error(t.error.errors)}))}},{key:"deleteSignature",value:function(t){var e=this;confirm(this.translate.instant("lang.confirmDeleteSignature"))&&this.http.delete("../rest/users/"+this.user.id+"/signatures/"+t).subscribe((function(t){e.user.signatures=t.signatures,e.notify.success(e.translate.instant("lang.signatureDeleted"))}),(function(t){e.notify.error(t.error.errors)}))}},{key:"onSubmit",value:function(){var t=this;this.http.put("../rest/currentUser/profile",this.user).subscribe((function(){t.notify.success(t.translate.instant("lang.modificationSaved")),t.headerService.user.firstname=t.user.firstname,t.headerService.user.lastname=t.user.lastname}),(function(e){t.notify.error(e.error.errors)}))}},{key:"updateUserPreferences",value:function(){var t=this;this.http.put("../rest/currentUser/profile/preferences",{documentEdition:this.user.preferences.documentEdition}).subscribe((function(){t.notify.success(t.translate.instant("lang.modificationSaved")),t.headerService.resfreshCurrentUser()}),(function(e){t.notify.error(e.error.errors)}))}},{key:"regexValidator",value:function(t,e){return function(n){return n.value?t.test(n.value)?null:e:null}}},{key:"changePasswd",value:function(){var t=this;this.http.get("../rest/passwordRules").subscribe((function(e){var n=[],i=[],a=[];n.push(j.H.required),e.rules.forEach((function(e){"minLength"==e.label?(t.passwordRules.minLength.enabled=e.enabled,t.passwordRules.minLength.value=e.value,e.enabled&&(n.push(j.H.minLength(t.passwordRules.minLength.value)),i.push(e.value+" "+t.translate.instant("lang.password"+e.label)))):"complexityUpper"==e.label?(t.passwordRules.complexityUpper.enabled=e.enabled,t.passwordRules.complexityUpper.value=e.value,e.enabled&&(n.push(t.regexValidator(new RegExp("[A-Z]"),{complexityUpper:""})),i.push(t.translate.instant("lang.password"+e.label)))):"complexityNumber"==e.label?(t.passwordRules.complexityNumber.enabled=e.enabled,t.passwordRules.complexityNumber.value=e.value,e.enabled&&(n.push(t.regexValidator(new RegExp("[0-9]"),{complexityNumber:""})),i.push(t.translate.instant("lang.password"+e.label)))):"complexitySpecial"==e.label?(t.passwordRules.complexitySpecial.enabled=e.enabled,t.passwordRules.complexitySpecial.value=e.value,e.enabled&&(n.push(t.regexValidator(new RegExp("[^A-Za-z0-9]"),{complexitySpecial:""})),i.push(t.translate.instant("lang.password"+e.label)))):"renewal"==e.label?(t.passwordRules.renewal.enabled=e.enabled,t.passwordRules.renewal.value=e.value,e.enabled&&a.push(t.translate.instant("lang.password"+e.label)+" <b>"+e.value+" "+t.translate.instant("lang.days")+"</b>. "+t.translate.instant("lang.password2"+e.label)+".")):"historyLastUse"==e.label&&(t.passwordRules.historyLastUse.enabled=e.enabled,t.passwordRules.historyLastUse.value=e.value,e.enabled&&a.push(t.translate.instant("lang.passwordhistoryLastUseDesc")+" <b>"+e.value+"</b> "+t.translate.instant("lang.passwordhistoryLastUseDesc2")+"."))})),t.ruleText=i.join(", "),t.otherRuleText=a.join("<br/>"),t.firstFormGroup.controls.newPasswordCtrl.setValidators(n)}),(function(e){t.notify.error(e.error.errors)})),this.firstFormGroup=this._formBuilder.group({newPasswordCtrl:[""],retypePasswordCtrl:["",j.H.compose([j.H.required])],currentPasswordCtrl:["",j.H.compose([j.H.required])]},{validator:this.matchValidator}),this.validPassword=!1,this.firstFormGroup.controls.currentPasswordCtrl.setErrors(null),this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.firstFormGroup.controls.retypePasswordCtrl.setErrors(null),this.selectedIndex=0,this.showPassword=!0}},{key:"matchValidator",value:function(t){return t.controls.newPasswordCtrl.value!=t.controls.retypePasswordCtrl.value&&(t.controls.retypePasswordCtrl.setErrors({mismatch:!0}),{mismatch:!0})}},{key:"getErrorMessage",value:function(){return this.firstFormGroup.controls.retypePasswordCtrl.setErrors(this.firstFormGroup.controls.newPasswordCtrl.value!=this.firstFormGroup.controls.retypePasswordCtrl.value?{mismatch:!0}:null),this.firstFormGroup.controls.newPasswordCtrl.hasError("required")?this.translate.instant("lang.requiredField")+" !":this.firstFormGroup.controls.newPasswordCtrl.hasError("minlength")&&this.passwordRules.minLength.enabled?this.passwordRules.minLength.value+" "+this.translate.instant("lang.passwordminLength")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityUpper&&this.passwordRules.complexityUpper.enabled?this.translate.instant("lang.passwordcomplexityUpper")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexityNumber&&this.passwordRules.complexityNumber.enabled?this.translate.instant("lang.passwordcomplexityNumber")+" !":null!=this.firstFormGroup.controls.newPasswordCtrl.errors&&void 0!==this.firstFormGroup.controls.newPasswordCtrl.errors.complexitySpecial&&this.passwordRules.complexitySpecial.enabled?this.translate.instant("lang.passwordcomplexitySpecial")+" !":(this.firstFormGroup.controls.newPasswordCtrl.setErrors(null),this.validPassword=!0,"")}},{key:"showActions",value:function(t){$("#"+t.basket_id+"_"+t.group_id).show()}},{key:"hideActions",value:function(t){$("#"+t.basket_id+"_"+t.group_id).hide()}},{key:"toggleAddGrp",value:function(){this.initGroupsContact(),$("#contactsGroupFormUp").toggle(),$("#contactsGroupList").toggle()}},{key:"toggleAddContactGrp",value:function(){$("#contactsGroupFormAdd").toggle()}},{key:"changeTabContactGrp",value:function(t){this.selectedIndexContactsGrp=t,0==t&&this.initGroupsContact()}},{key:"syncMP",value:function(){var t=this;this.loadingSign=!0,this.http.put("../rest/users/"+this.user.id+"/externalSignatures",{}).subscribe((function(e){t.loadingSign=!1,t.notify.success(t.translate.instant("lang.signsSynchronized"))}),(function(e){t.loadingSign=!1,t.notify.handleErrors(e)}))}}]),t}()).\u0275fac=function(t){return new(t||kn)(i.Tb(l.e),i.Tb(u.b),i.Tb(i.B),i.Tb(h.a),i.Tb(Y.b),i.Tb(j.g),i.Tb(d.a),i.Tb(f.a),i.Tb(p.a),i.Tb(i.R),i.Tb(ft.a))},kn.\u0275cmp=i.Nb({type:kn,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(wt,!0),i.Oc(Ot,!0),i.ad(St,!0),i.ad(Et,!0),i.ad(Mt,!0),i.ad(It,!0),i.ad(Pt,!0),i.ad(Tt,!0),i.ad(At,!0),i.ad(ut.c,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.paginatorGroupsList=n.first),i.Cc(n=i.ic())&&(e.sortGroupsList=n.first),i.Cc(n=i.ic())&&(e.paginatorGroupsListAutocomplete=n.first),i.Cc(n=i.ic())&&(e.paginatorContactsList=n.first),i.Cc(n=i.ic())&&(e.sortContactsList=n.first),i.Cc(n=i.ic())&&(e.paginatorHistory=n.first),i.Cc(n=i.ic())&&(e.sortHistory=n.first),i.Cc(n=i.ic())&&(e.viewPanels=n))},decls:27,vars:19,consts:[["autosize","",1,"maarch-container"],["adminMenuTemplate",""],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],["fixedTopGap","56","position","end",2,"overflow-x","hidden","max-width","500px",3,"mode","fixedInViewport","opened"],["snav2",""],["mat-subheader",""],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["color","warn","mat-list-icon","",1,"fa","fa-plane"],["mat-line",""],["mat-list-item","",3,"click",4,"ngIf"],["color","primary","mat-list-icon","",1,"fa","fa-key"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[3,"selectedIndex","selectedTabChange"],[3,"label"],["style","margin-bottom: 5%",4,"ngIf"],["class","form-horizontal",3,"ngSubmit",4,"ngIf"],["color","primary",1,"fa","fa-file-word",2,"font-size","25px","width","50px"],[4,"ngIf"],[1,"col-sm-12","col-md-4",2,"line-height","50px"],[1,"col-sm-12","col-md-8"],["name","documentEdition",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"fa","fa-inbox",2,"font-size","25px","width","50px"],["color","primary",1,"fa","fa-magic",2,"position","absolute","margin-left","30px","margin-top","-10px"],[3,"expanded"],["color","primary",1,"fa","fa-reply",2,"position","absolute","margin-left","30px","margin-top","-10px"],[1,"col-sm-6",2,"overflow","hidden"],["mat-list-icon","","color","primary"],["color","primary",3,"checked","matTooltip","change"],["style","opacity: 0.5;font-style: italic;font-size: 80%;",4,"ngIf"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent",4,"ngIf"],[2,"clear","both"],[3,"opened"],["color","primary",1,"fa","fa-envelope",2,"font-size","25px","width","50px"],[3,"ngSubmit"],["emailSignatureForm","ngForm"],[1,"row",2,"margin-top","5px"],[1,"col-md-12"],["matInput","","type","text","name","title","required","",3,"ngModel","placeholder","ngModelChange"],["id","html_mode",2,"display","block","width","100%"],["name","emailSignature","id","emailSignature","rows","15","cols","60",2,"width","100%"],[1,"col-md-12","form-group",2,"margin-top","10px"],[2,"text-align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","color","primary","type","button",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn","type","button",3,"click",4,"ngIf"],["mat-raised-button","","color","default","type","button",3,"click",4,"ngIf"],["class","col-md-6 col-sm-6 col-xm-12",4,"ngFor","ngForOf"],["color","primary",1,"fa","fa-certificate",2,"font-size","25px","width","50px"],[2,"overflow","hidden"],["dnd-droppable","",1,"dndFile",3,"matTooltip","click","dragover","dragleave","onDropSuccess"],[2,"display","none",3,"ngSubmit"],["signatureForm","ngForm"],["matInput","","type","text","id","signature_label","name","signature_label","required","",3,"title","placeholder","ngModel","ngModelChange"],[1,"form-inline","hide"],[1,"form-group"],["type","file","name","files[]","id","uploadSignFile","accept","image/*",3,"change"],[3,"ngClass"],[1,"upload-drop-zone",2,"cursor","pointer",3,"click"],[1,"fa","fa-upload","fa-2x"],["class","col-md-2",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[2,"display","flex","align-items","flex-start"],[2,"flex","1","overflow","hidden"],["class","col-md-4 col-sm-4 col-xm-6",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["color","primary",1,"fa","fa-users",2,"font-size","25px","width","50px"],[3,"selectedIndex","selectedIndexChange"],["createGrpContPan",""],["color","primary"],[2,"margin-top","5px"],["id","contactsGroupFormUp",1,"form-horizontal",3,"ngSubmit"],["contactsGroupFormUp","ngForm"],[1,"col-sm-12"],["matInput","","required","","name","label","id","label","type","text","maxlength","32",3,"ngModel","title","placeholder","ngModelChange"],["matInput","","required","","name","description","id","description","type","text","maxlength","255",3,"ngModel","title","placeholder","ngModelChange"],["name","plubic","id","plubic","color","primary",3,"title","ngModel","ngModelChange"],[1,"col-sm-12",2,"text-align","center"],["id","contactsGroupList",2,"margin-top","10px"],[1,"row"],[1,"col-md-6","col-xs-6"],["matInput","",3,"placeholder","keyup"],[3,"length","hidePageSize","pageSize"],["paginatorGroupsList",""],["matSort","","matSortActive","label","matSortDirection","asc",3,"dataSource"],["tableGroupsListSort","matSort"],["matColumnDef","label"],["mat-sort-header","","style","flex:2;",3,"hide-for-mobile",4,"matHeaderCellDef"],["style","flex:2;",3,"hide-for-mobile",4,"matCellDef"],["matColumnDef","description"],["mat-sort-header","","style","flex:2;",4,"matHeaderCellDef"],["style","flex:2;",4,"matCellDef"],["matColumnDef","nbContacts"],["mat-sort-header","","style","flex:1;",4,"matHeaderCellDef"],["style","flex:1;",4,"matCellDef"],["matColumnDef","public"],["mat-sort-header","","style","flex:1;",3,"hide-for-mobile",4,"matHeaderCellDef"],["style","flex:1;",3,"hide-for-mobile",4,"matCellDef"],["matColumnDef","owner"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["style","justify-content: flex-end;",4,"matCellDef"],[4,"matHeaderRowDef"],["style","cursor:pointer;",3,"matTooltip","click",4,"matRowDef","matRowDefColumns"],[3,"label",4,"ngIf"],["matTabContent",""],[2,"margin-bottom","5%"],[3,"formGroup"],[2,"padding","10px"],["matInput","","formControlName","currentPasswordCtrl","required","",3,"placeholder","type"],["matSuffix","",1,"fa","fa-2x",3,"ngClass","click"],[2,"text-align","center","color","rgba(0,0,0,0.54)","font-size","75%"],[1,"col-sm-6",2,"padding-left","0px","padding-right","0px"],["matInput","","formControlName","newPasswordCtrl","required","",3,"placeholder","type"],["inputPasswd",""],["matInput","","required","","formControlName","retypePasswordCtrl",3,"placeholder","type"],["inputPasswd2",""],["class","form-group",4,"ngIf"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["mat-raised-button","","color","default","type","button",3,"click"],["color","accent",1,"fa","fa-check"],["color","accent"],[1,"col-sm-12",2,"padding-left","0px","padding-right","0px"],["role","alert",1,"alert","alert-warning",2,"text-align","center",3,"innerHTML"],[1,"form-horizontal",3,"ngSubmit"],["profileForm","ngForm"],[1,"pull-left"],[1,"avatar",2,"font-size","90px","text-align","center"],[1,"fa","fa-user",2,"font-size","90px","padding-top","5px"],[1,"input-group"],["matInput","","type","text","disabled","",3,"title","value","placeholder"],[1,"col-sm-5",2,"font-weight","bold"],["matInput","","type","text","id","lastname","name","lastname","required","",3,"title","placeholder","ngModel","ngModelChange"],["matInput","","type","text","id","firstname","name","firstname","required","",3,"title","placeholder","ngModel","ngModelChange"],[1,"col-sm-2",2,"font-style","italic"],["matInput","","type","text","id","initials","name","initials",3,"title","placeholder","ngModel","ngModelChange"],["matInput","","type","tel","id","phone","name","phone","pattern","\\+?((|\\ |\\.|\\(|\\)|\\-)?(\\d)*)*\\d$",3,"title","placeholder","ngModel","ngModelChange"],["matInput","","type","email","id","mail","name","mail","pattern","(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$)","required","",3,"title","placeholder","ngModel","ngModelChange"],[1,"form-group",2,"margin-top","10px"],[3,"value"],["mat-list-icon","",1,"fa","fa-inbox",3,"ngStyle"],["mat-line","",3,"title"],["name","color","type","color",2,"background","none","border","none","height","20px","width","20px","padding","0","margin-right","15px",3,"ngModel","ngModelChange","change"],[2,"cursor","pointer","color","#666666",3,"title","click"],[1,"fa","fa-magic"],[2,"opacity","0.5","font-style","italic","font-size","80%"],["appearance","outline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent"],["style","cursor: pointer;",3,"mouseover","mouseout",4,"ngIf"],[2,"cursor","pointer",3,"mouseover","mouseout"],["mat-list-icon","","color","primary",4,"ngIf"],["mat-line","","color","primary",2,"display","flex","align-items","center"],[2,"flex","2","overflow","hidden","text-overflow","ellipsis",3,"matTooltip","click"],[1,"label","label-primary",2,"font-weight","normal"],["color","primary",3,"checked","click","change"],["mat-list-icon","","color","primary",1,"fa","fa-paper-plane",2,"margin-top","-60px"],["mat-line","","color","primary"],["type","text","color","warn","matInput","","disabled","",3,"value"],["mat-button","","color","warn","matSuffix","","mat-icon-button","","aria-label","Clear",3,"matTooltip","click"],["color","warn",1,"fa","fa-times","text-danger"],["mat-list-icon","","color","primary",1,"fa","fa-reply",2,"margin-top","-60px"],["color","primary",1,"fa","fa-edit"],["mat-raised-button","","color","warn","type","button",3,"click"],[1,"col-md-6","col-sm-6","col-xm-12"],[2,"margin-bottom","10px"],["floatLabel","never"],["matInput","","type","text","name","selectedEmailSignatureLabel","disabled","",3,"ngModel","placeholder","ngModelChange"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[1,"fa","fa-edit","fa-2x"],[1,"col-md-2"],["id","signaturePreview","alt","Image non valide",2,"width","100%",3,"src"],[1,"col-md-4","col-sm-4","col-xm-6"],["matInput","","type","text","name","selectedSignatureLabel",3,"ngModel","placeholder","ngModelChange","change"],["mat-button","","matSuffix","","mat-icon-button","","color","warn",3,"matTooltip","click"],[1,"fa","fa-times"],["alt","Signature",2,"max-width","100%","height","60px",3,"src"],["mat-icon-button","","color","primary",3,"matTooltip","disabled","click"],[1,"fa","fa-sync-alt","fa-2x"],["mat-sort-header","",2,"flex","2"],[2,"flex","2"],["mat-sort-header","",2,"flex","1"],[2,"flex","1"],["color","primary","style","font-weight:bold;",4,"ngIf"],["color","primary",2,"font-weight","bold"],[2,"justify-content","flex-end"],["mat-icon-button","","color","warn",3,"matTooltip","click"],["aria-hidden","true",1,"fa","fa-trash-alt","fa-2x"],[2,"cursor","pointer",3,"matTooltip","click"],["linkContPan",""],["id","contactsGroupFormAdd"],[1,"row",2,"margin","0px"],[1,"col-md-8",2,"padding","5px"],["hintLabel","3 caract\xe8res minimum"],["matPrefix",""],["color","primary",1,"fa","fa-user-plus"],["type","text","matInput","","autocomplete","off","minlength","3",1,"autocompleteSearch",3,"placeholder","formControl","keyup"],["class","alert alert-danger",3,"innerHTML",4,"ngIf"],["paginatorGroupsListAutocomplete",""],["mode","indeterminate",4,"ngIf"],[3,"dataSource",4,"ngIf"],[2,"text-align","center","margin-top","30px"],["id","contactsGroup",2,"margin-top","20px"],[1,"col-sm-6"],["name","public","id","public","color","primary",3,"title","ngModel","ngModelChange"],["class","col-sm-6",4,"ngIf"],[1,"alert","alert-danger",3,"innerHTML"],["mode","indeterminate"],[3,"dataSource"],["tableContactList",""],["matColumnDef","select"],["style","flex:1;",4,"matHeaderCellDef"],["matColumnDef","contact"],["style","flex:3;",4,"matHeaderCellDef"],["style","flex:3;",4,"matCellDef"],["matColumnDef","address"],["style","cursor: pointer;",3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["color","primary",3,"checked","change"],["color","primary",3,"id","disabled","checked","click","change"],[2,"flex","3"],[2,"cursor","pointer",3,"ngStyle","click"],["paginatorContactsList",""],["matSort","","matSortActive","contact","matSortDirection","asc",3,"dataSource",4,"ngIf"],["matSort","","matSortActive","contact","matSortDirection","asc",3,"dataSource"],["tableContactsListSort","matSort"],["mat-sort-header","","style","flex:3;",4,"matHeaderCellDef"],["style","justify-content: flex-end;flex:1;",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","",2,"flex","3"],[2,"justify-content","flex-end","flex","1"],["paginatorHistory",""],["matSort","","matSortActive","event_date","matSortDirection","desc",3,"dataSource"],["tableHistorySort","matSort"],["matColumnDef","event_date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","record_id"],["matColumnDef","info"],["mat-sort-header",""],["color","primary","mat-list-icon","",1,"fa","fa-users"],[2,"font-size","10px"],["matInput","","type","text","id","role","name","role","disabled","",3,"title","placeholder","ngModel","ngModelChange"],[3,"matTooltip"],["color","primary","mat-list-icon","","class","fa fa-sitemap",4,"ngIf"],["color","primary","mat-list-icon","","class","fa fa-sitemap","style","position:relative;",4,"ngIf"],["mat-line","",3,"ngStyle","matTooltip"],["class","label label-primary","style","font-weight:normal",4,"ngIf"],["color","primary","mat-list-icon","",1,"fa","fa-sitemap"],["color","primary","mat-list-icon","",1,"fa","fa-sitemap",2,"position","relative"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Qc(1,Rt,10,7,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content"),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Ub(7,"header-left"),i.Yb(),i.Zb(8,"div",5),i.Ub(9,"header-right"),i.Yb(),i.Yb(),i.Ub(10,"div",6),i.Yb(),i.Zb(11,"div",7),i.Zb(12,"div",8),i.Qc(13,Lt,2,0,"div",9),i.Qc(14,pn,216,140,"mat-card",10),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"mat-sidenav",11,12),i.Zb(17,"mat-list"),i.Zb(18,"h3",13),i.Sc(19),i.mc(20,"translate"),i.Yb(),i.Qc(21,mn,12,12,"mat-list-item",14),i.Ub(22,"mat-divider"),i.Zb(23,"h3",13),i.Sc(24),i.mc(25,"translate"),i.Yb(),i.Qc(26,_n,11,15,"mat-list-item",14),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading),i.Eb(1),i.sc("mode",e.appService.getViewMode()?"over":"side")("fixedInViewport",e.appService.getViewMode())("opened",!e.appService.getViewMode()),i.Eb(4),i.Tc(i.nc(20,15,"lang.groups")),i.Eb(2),i.sc("ngForOf",e.user.groups),i.Eb(3),i.Tc(i.nc(25,17,"lang.entities")),i.Eb(2),i.sc("ngForOf",e.user.entities))},directives:[v.e,v.f,ht.a,pt.a,y.t,v.d,k.a,k.g,y.s,O.a,k.h,k.d,b.a,k.c,w.k,_.c,Z.a,mt.c,mt.a,ut.a,ut.c,ut.g,ut.h,N.c,gt.a,j.t,j.w,N.f,C.a,x.b,j.J,j.u,j.v,U.b,j.c,j.E,bt.d,y.q,g.b,j.o,vt.a,yt.a,dt.n,_t.a,dt.c,dt.i,dt.b,dt.k,dt.m,mt.b,j.l,j.j,N.j,N.b,j.A,ut.f,w.o,y.w,kt.a,Z.d,dt.h,_t.b,dt.a,dt.j,dt.l,N.i,j.p,j.i,Ct.a],pipes:[l.d,y.b,xt.a,y.f],styles:[".upload-drop-zone[_ngcontent-%COMP%]{font-size:16px;height:100px;border-width:2px;margin-bottom:20px;color:#ccc;border-style:dashed;border-color:#ccc;line-height:100px;text-align:center}.upload-drop-zone.drop[_ngcontent-%COMP%]{color:#222;border-color:#222}.avatar[_ngcontent-%COMP%]{text-decoration:none;background:#135f7f;color:#fff;width:100px;height:100px;border-radius:5px;display:block;overflow:hidden;margin:5px}"]}),kn),xn=n("mrSG"),wn=n("JIr8"),On=n("I65S");function Sn(t,e){1&t&&(i.Zb(0,"div",10),i.Ub(1,"mat-spinner",11),i.Yb())}function En(t,e){if(1&t&&(i.Zb(0,"mat-card",12),i.Zb(1,"div",13),i.Zb(2,"h3"),i.Sc(3),i.Yb(),i.Zb(4,"em"),i.Sc(5,"Version : "),i.Zb(6,"a",14),i.Sc(7),i.Yb(),i.Yb(),i.Ub(8,"hr"),i.Zb(9,"p"),i.Zb(10,"em"),i.Sc(11),i.mc(12,"translate"),i.Yb(),i.Yb(),i.Zb(13,"p"),i.Sc(14),i.mc(15,"translate"),i.Zb(16,"a",15),i.Sc(17,"licence GNU GPLv3"),i.Yb(),i.Sc(18,"."),i.Yb(),i.Zb(19,"div"),i.Zb(20,"ul"),i.Zb(21,"li"),i.Sc(22),i.mc(23,"translate"),i.Zb(24,"a",16),i.Sc(25,"https://maarch.com"),i.Yb(),i.Yb(),i.Zb(26,"li"),i.Sc(27),i.mc(28,"translate"),i.Zb(29,"a",17),i.Sc(30,"https://community.maarch.org"),i.Yb(),i.Yb(),i.Zb(31,"li"),i.Sc(32),i.mc(33,"translate"),i.Zb(34,"a",18),i.Sc(35,"https://docs.maarch.org"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(36,"p"),i.Sc(37,"\xa0"),i.Yb(),i.Zb(38,"h3"),i.Sc(39),i.mc(40,"translate"),i.Yb(),i.Ub(41,"hr"),i.Zb(42,"em"),i.Sc(43),i.mc(44,"translate"),i.Yb(),i.Zb(45,"p"),i.Sc(46,"\xa0"),i.Yb(),i.Zb(47,"ul"),i.Zb(48,"li"),i.Zb(49,"a",19),i.Sc(50,"Angular"),i.Yb(),i.Yb(),i.Zb(51,"li"),i.Zb(52,"a",20),i.Sc(53,"Angular Material"),i.Yb(),i.Yb(),i.Zb(54,"li"),i.Zb(55,"a",21),i.Sc(56,"Bootstrap"),i.Yb(),i.Yb(),i.Zb(57,"li"),i.Zb(58,"a",22),i.Sc(59,"Font Awesome"),i.Yb(),i.Yb(),i.Zb(60,"li"),i.Zb(61,"a",23),i.Sc(62,"Fpdf"),i.Yb(),i.Yb(),i.Zb(63,"li"),i.Zb(64,"a",24),i.Sc(65,"fpdi"),i.Yb(),i.Yb(),i.Zb(66,"li"),i.Zb(67,"a",25),i.Sc(68,"Jquery"),i.Yb(),i.Yb(),i.Zb(69,"li"),i.Zb(70,"a",26),i.Sc(71,"Jquery Typeahead"),i.Yb(),i.Yb(),i.Zb(72,"li"),i.Zb(73,"a",27),i.Sc(74,"log4php"),i.Yb(),i.Yb(),i.Zb(75,"li"),i.Zb(76,"a",28),i.Sc(77,"Pdfb"),i.Yb(),i.Yb(),i.Zb(78,"li"),i.Zb(79,"a",29),i.Sc(80,"Pdftotext"),i.Yb(),i.Yb(),i.Zb(81,"li"),i.Zb(82,"a",30),i.Sc(83,"Tiny But Strong"),i.Yb(),i.Yb(),i.Zb(84,"li"),i.Zb(85,"a",31),i.Sc(86,"TinyMCE"),i.Yb(),i.Yb(),i.Zb(87,"li"),i.Zb(88,"a",32),i.Sc(89,"Zend Lucene Search"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(90,"div",33),i.Zb(91,"h3"),i.Sc(92,"Cr\xe9dits"),i.Yb(),i.Ub(93,"hr"),i.Zb(94,"ul"),i.Zb(95,"li"),i.Sc(96,"Florian AZIZIAN, Damien BUREL, Bruno CARLIN, Carole COTIN, Prosper DE LAURE, Driss DEMIRAY, Ga\xebl DE VILLEBLANCHE, Emmanuel DILLARD, Mathieu DONZEL, Jean-Louis ERCOLANI, Claire FIGUERAS, Laurent GIOVANNONI, Guillaume HEURTIER, Henri QUENEAU, Kader KANE, Yves-Christian KPAKPO, Alexandre MORIN, S\xe9bastien NANABONDJA, Fod\xe9 NDIAYE, C\xe9dric NDOUMBA, Alex ORLUC, Alexis RAGOT, Alexandre STEFANOVIC, Serge THIERRY-MIEG, Cyril VAZQUEZ, Arnaud VEBER, Loic VINET"),i.Yb(),i.Ub(97,"br"),i.Zb(98,"li"),i.Zb(99,"em"),i.Sc(100),i.mc(101,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(102,"p"),i.Sc(103,"\xa0"),i.Yb(),i.Zb(104,"div",34),i.Ub(105,"mat-icon",35),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Eb(3),i.Uc("Maarch Courrier ",n.applicationVersion," "),i.Eb(3),i.uc("href","https://labs.maarch.org/maarch/MaarchCourrier/commit/",n.commitHash,"",i.Kc),i.Eb(1),i.Tc(n.commitHash),i.Eb(4),i.Uc("Copyright \xa9 2008-2020 Maarch SAS ",i.nc(12,11,"lang.groupeCompany"),""),i.Eb(3),i.Uc("",i.nc(15,13,"lang.maarchLicence")," "),i.Eb(8),i.Uc("",i.nc(23,15,"lang.officialWebsite")," : "),i.Eb(5),i.Uc("",i.nc(28,17,"lang.community")," : "),i.Eb(5),i.Uc("",i.nc(33,19,"lang.documentation")," : "),i.Eb(7),i.Tc(i.nc(40,21,"lang.externalComponents")),i.Eb(4),i.Tc(i.nc(44,23,"lang.thanksToExtDev")),i.Eb(57),i.Tc(i.nc(101,25,"lang.thanksToCommunity"))}}var Mn,In=((Mn=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.headerService=a,this.appService=r,this.loading=!1,this.commitHash=this.translate.instant("lang.undefined")}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.headerService.setHeader(this.translate.instant("lang.aboutUs")),this.applicationVersion=a.a.VERSION,this.loading=!1,t.next=5,this.loadCommitInformation();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"loadCommitInformation",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/commitInformation").pipe(Object(lt.a)((function(n){t.commitHash=null!==n.hash?n.hash:t.translate.instant("lang.undefined"),console.log(n),e(!0)})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||Mn)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(f.a),i.Tb(p.a))},Mn.\u0275cmp=i.Nb({type:Mn,selectors:[["ng-component"]],decls:13,vars:8,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[1,"col-sm-8"],["target","blank",3,"href"],["target","blank","href","http://www.gnu.org/licenses/gpl-3.0-standalone.html"],["target","blank","href","https://maarch.com/"],["target","blank","href","https://community.maarch.org/"],["target","blank","href","https://docs.maarch.org/"],["target","blank","href","https://angular.io/"],["target","blank","href","https://material.angular.io/"],["target","blank","href","http://getbootstrap.com/"],["target","blank","href","http://fortawesome.github.io/Font-Awesome/"],["target","blank","href","http://www.fpdf.org/"],["target","blank","href","http://www.setasign.de/products/pdf-php-solutions/fpdi/"],["target","blank","href","https://jquery.com/"],["target","blank","href","https://github.com/running-coder/jquery-typeahead"],["target","blank","href","http://logging.apache.org/log4php/"],["target","blank","href","http://chir.ag/tech/download/pdfb"],["target","blank","href","http://www.foolabs.com/xpdf/"],["target","blank","href","http://www.tinybutstrong.com/"],["target","blank","href","http://www.tinymce.com/"],["target","blank","href","http://framework.zend.com/"],[1,"col-sm-4"],[1,"img_credits_maarch_box"],["svgIcon","maarchBox",2,"width","100%","height","auto"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Qc(11,Sn,2,0,"div",8),i.Qc(12,En,106,27,"mat-card",9),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[v.e,v.f,ht.a,pt.a,y.t,_.c,Z.a,b.a],pipes:[l.d],styles:[".img_credits_maarch_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),Mn),Pn=n("pWCv"),Tn=n("rNzc"),An=n("jhN1"),Dn=n("d7/a"),Rn=n("zZ42"),Ln=n("nYR2");function Fn(t,e){1&t&&(i.Zb(0,"div",8),i.Ub(1,"mat-spinner",9),i.Yb())}var jn=function(t,e,n){return{"fa-file-signature":t,"fa-thumbs-up":e,"fa-comment-dots":n}};function Yn(t,e){if(1&t&&(i.Zb(0,"td",10),i.Zb(1,"div",11),i.Ub(2,"mat-icon",12),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",13),i.Sc(5),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.Eb(2),i.tc("title",i.nc(3,4,"lang.to_"+n.mode)),i.sc("ngClass",i.Bc(6,jn,"sign"==n.mode,"visa"==n.mode,"note"==n.mode)),i.Eb(2),i.tc("title",n.reference),i.Eb(1),i.Uc(" ",n.reference," ")}}function Zn(t,e){if(1&t&&(i.Zb(0,"td",14),i.Zb(1,"div",15),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.tc("title",n.title),i.Eb(2),i.Tc(n.title)}}function Nn(t,e){if(1&t){var n=i.ac();i.Zb(0,"tr",16),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc().goTo(t)})),i.Yb()}}function Un(t,e){1&t&&(i.Zb(0,"div",17),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noResult"),"\n"))}var Bn,zn=((Bn=function(){function t(e,n,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=a,this.notify=r,this.headerService=o,this.loading=!0,this.userList=[],this.displayedColumns=["id","title"],this.maarchParapheurUrl="",this.triggerEvent=new i.o,this.dataSource=new dt.o(this.userList)}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0}},{key:"ngAfterViewInit",value:function(){var t=this;this.http.get("../rest/home/maarchParapheurDocuments").pipe(Object(Ln.a)((function(){return t.loading=!1}))).subscribe((function(e){setTimeout((function(){t.dataSource=new dt.o(e.documents),t.maarchParapheurUrl=e.url,t.triggerEvent.emit(e.count.current)}),0)}),(function(e){t.notify.handleErrors(e)}))}},{key:"goTo",value:function(t){window.open(this.maarchParapheurUrl+"/dist/index.html#/documents/"+t.id,"_blank")}}]),t}()).\u0275fac=function(t){return new(t||Bn)(i.Tb(l.e),i.Tb(u.b),i.Tb(Y.b),i.Tb(h.a),i.Tb(f.a))},Bn.\u0275cmp=i.Nb({type:Bn,selectors:[["app-maarch-parapheur-list"]],outputs:{triggerEvent:"triggerEvent"},decls:8,vars:4,consts:[["style","display:flex;height:100%;",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","asc",2,"width","100%","table-layout","fixed",3,"dataSource"],["matColumnDef","id"],["mat-cell","","style","width:15%;text-align:center;overflow:hidden;text-overflow: ellipsis;white-space: nowrap;padding: 5px;vertical-align: middle;",4,"matCellDef"],["matColumnDef","title"],["mat-cell","","style","width:45%;overflow:hidden;text-overflow: ellipsis;padding: 5px;vertical-align: middle;",4,"matCellDef"],["mat-row","","style","cursor:pointer;",3,"click",4,"matRowDef","matRowDefColumns"],["class","noResult",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["mat-cell","",2,"width","15%","text-align","center","overflow","hidden","text-overflow","ellipsis","white-space","nowrap","padding","5px","vertical-align","middle"],[2,"overflow","hidden","text-overflow","ellipsis"],["color","primary",1,"fas","fa-2x",3,"ngClass","title"],[2,"padding-top","5px","color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis",3,"title"],["mat-cell","",2,"width","45%","overflow","hidden","text-overflow","ellipsis","padding","5px","vertical-align","middle"],[2,"overflow","hidden","line-height","1.5em","height","3em","overflow","hidden",3,"title"],["mat-row","",2,"cursor","pointer",3,"click"],[1,"noResult"]],template:function(t,e){1&t&&(i.Qc(0,Fn,2,0,"div",0),i.Zb(1,"table",1),i.Xb(2,2),i.Qc(3,Yn,6,10,"td",3),i.Wb(),i.Xb(4,4),i.Qc(5,Zn,4,2,"td",5),i.Wb(),i.Qc(6,Nn,1,0,"tr",6),i.Yb(),i.Qc(7,Un,3,3,"div",7)),2&t&&(i.sc("ngIf",e.loading),i.Eb(1),i.sc("dataSource",e.dataSource),i.Eb(5),i.sc("matRowDefColumns",e.displayedColumns),i.Eb(1),i.sc("ngIf",0===e.dataSource.filteredData.length))},directives:[y.t,dt.n,_t.a,dt.c,dt.b,dt.m,_.c,dt.a,b.a,y.q,dt.l],pipes:[l.d],styles:[".noResult[_ngcontent-%COMP%]{padding:10px;text-align:center;opacity:.5}"]}),Bn),Vn=n("TU8p"),Hn=n("ZI/H"),Qn=n("0ST6");function Wn(t,e){if(1&t&&(i.Zb(0,"mat-card",13),i.Zb(1,"div",14),i.Zb(2,"div",15),i.Ub(3,"span",16),i.Yb(),i.Yb(),i.Zb(4,"div",17),i.Zb(5,"button",18),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Eb(3),i.sc("innerHTML",n.homeMessage,i.Ic),i.Eb(3),i.Tc(i.nc(7,2,"lang.aboutUs"))}}function Gn(t,e){if(1&t&&(i.Zb(0,"span",21),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc(2);i.Jb("noDoc",0===n.nbMpDocs),i.tc("matBadge",n.nbMpDocs),i.Eb(1),i.Tc(i.nc(2,4,"lang.maarchParapheurDocuments"))}}function qn(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-tab"),i.Qc(1,Gn,3,6,"ng-template",19),i.Zb(2,"app-maarch-parapheur-list",20),i.hc("triggerEvent",(function(t){return i.Hc(n),i.lc().updateNbMpDocs(t)})),i.Yb(),i.Yb()}}function Xn(t,e){1&t&&(i.Zb(0,"div",25),i.Ub(1,"mat-spinner",26),i.Yb())}function $n(t,e){if(1&t&&(i.Zb(0,"div",41),i.mc(1,"date"),i.Ub(2,"i",42),i.mc(3,"translate"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.uc("id","",n.res_id,"_creation_date"),i.tc("title",i.oc(1,4,n.creation_date,a.translate.instant("lang.onRange")+" dd/MM/y "+a.translate.instant("lang.atRange")+" HH:mm")),i.Eb(2),i.tc("title",i.nc(3,7,"lang.creationDate")),i.Eb(2),i.Uc(" ",i.nc(5,9,n.creation_date)," ")}}function Jn(t,e){1&t&&(i.Zb(0,"span",43),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}var Kn=function(t){return{width:t}},ti=function(t){return{color:t}};function ei(t,e){if(1&t&&(i.Zb(0,"td",35),i.Qc(1,$n,6,11,"div",36),i.Zb(2,"div",37),i.Ub(3,"mat-icon",38),i.Qc(4,Jn,3,3,"span",39),i.Yb(),i.Zb(5,"div",40),i.Sc(6),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc(3);i.sc("ngStyle",i.zc(16,Kn,a.appService.getViewMode()?"30%":"15%")),i.Eb(1),i.sc("ngIf",null==n.closing_date&&a.appService.getViewMode()),i.Eb(2),i.Ib("",n.status_icon.charAt(0),"",n.status_icon.charAt(1)," ",n.status_icon," ",n.status_icon.charAt(0),"",n.status_icon.charAt(1),"-2x"),i.vc("title","",n.status_label," (",n.status_id,")"),i.sc("ngStyle",i.zc(18,ti,n.priority_color)),i.Eb(1),i.sc("ngIf","Y"===n.confidentiality),i.Eb(1),i.vc("title","",n.alt_identifier," (n\xb0",n.res_id,")"),i.Eb(1),i.Uc(" ",n.alt_identifier," ")}}function ni(t,e){if(1&t&&(i.Zb(0,"div",47),i.Ub(1,"i",48),i.mc(2,"translate"),i.Sc(3,"\xa0 "),i.Ub(4,"span",49),i.mc(5,"timeLimit"),i.mc(6,"date"),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.tc("title",i.nc(2,3,"lang.processLimitDate")),i.Eb(3),i.tc("title",i.oc(6,7,n.process_limit_date,a.translate.instant("lang.onRange")+" dd/MM/y "+a.translate.instant("lang.atRange")+" HH:mm")),i.sc("innerHTML",i.nc(5,5,n.process_limit_date),i.Ic)}}function ii(t,e){if(1&t&&(i.Zb(0,"td",44),i.Qc(1,ni,7,10,"div",45),i.Zb(2,"div",46),i.Zb(3,"span"),i.Sc(4),i.Yb(),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc(3);i.Eb(1),i.sc("ngIf",null==n.closing_date&&a.appService.getViewMode()),i.Eb(1),i.tc("title",n.subject),i.Eb(2),i.Tc(n.subject)}}function ai(t,e){if(1&t&&(i.Zb(0,"div",41),i.mc(1,"date"),i.Ub(2,"i",42),i.mc(3,"translate"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.uc("id","",n.res_id,"_creation_date"),i.tc("title",i.oc(1,4,n.creation_date,a.translate.instant("lang.onRange")+" dd/MM/y "+a.translate.instant("lang.atRange")+" HH:mm")),i.Eb(2),i.tc("title",i.nc(3,7,"lang.creationDate")),i.Eb(2),i.Uc(" ",i.nc(5,9,n.creation_date)," ")}}function ri(t,e){if(1&t&&(i.Zb(0,"div",54),i.Ub(1,"i",48),i.mc(2,"translate"),i.Sc(3,"\xa0 "),i.Ub(4,"span",49),i.mc(5,"timeLimit"),i.mc(6,"date"),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.tc("title",i.nc(2,3,"lang.processLimitDate")),i.Eb(3),i.tc("title",i.oc(6,7,n.process_limit_date,a.translate.instant("lang.onRange")+" dd/MM/y "+a.translate.instant("lang.atRange")+" HH:mm")),i.sc("innerHTML",i.nc(5,5,n.process_limit_date),i.Ic)}}function oi(t,e){if(1&t&&(i.Zb(0,"div",54),i.Ub(1,"i",55),i.mc(2,"translate"),i.Sc(3,"\xa0 "),i.Zb(4,"span",56),i.mc(5,"date"),i.Sc(6),i.mc(7,"timeAgo"),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.tc("title",i.nc(2,3,"lang.closingDate")),i.Eb(3),i.tc("title",i.oc(5,5,n.closing_date,a.translate.instant("lang.onRange")+" dd/MM/y "+a.translate.instant("lang.atRange")+" HH:mm")),i.Eb(2),i.Tc(i.nc(7,8,n.closing_date))}}var si=function(t){return[t]};function ci(t,e){if(1&t){var n=i.ac();i.Zb(0,"td",50),i.Qc(1,ai,6,11,"div",36),i.Qc(2,ri,7,10,"div",51),i.Qc(3,oi,8,10,"div",51),i.Zb(4,"div"),i.Zb(5,"button",52),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.viewDocument(a)}))("mouseenter",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).viewThumbnail(t)}))("mouseleave",(function(){return i.Hc(n),i.lc(3).closeThumbnail()})),i.Ub(6,"mat-icon",53),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(3);i.Eb(1),i.sc("ngIf",null==a.closing_date),i.Eb(1),i.sc("ngIf",null==a.closing_date),i.Eb(1),i.sc("ngIf",null!=a.closing_date),i.Eb(2),i.tc("title",r.translate.instant(a.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!a.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(6,si,a.hasDocument?"fa-eye":"fa-eye-slash"))}}function li(t,e){if(1&t){var n=i.ac();i.Zb(0,"tr",57),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).goToDetail(t)})),i.Yb()}}function ui(t,e){if(1&t&&(i.Zb(0,"table",27),i.Xb(1,28),i.Qc(2,ei,7,20,"td",29),i.Wb(),i.Xb(3,30),i.Qc(4,ii,5,3,"td",31),i.Wb(),i.Xb(5,32),i.Qc(6,ci,7,8,"td",33),i.Wb(),i.Qc(7,li,1,0,"tr",34),i.Yb()),2&t){var n=i.lc(2);i.sc("dataSource",n.dataSource),i.Eb(7),i.sc("matRowDefColumns",n.displayedColumns)}}function di(t,e){if(1&t&&(i.Zb(0,"mat-tab",22),i.mc(1,"translate"),i.Qc(2,Xn,2,0,"div",23),i.Qc(3,ui,8,2,"table",24),i.Yb()),2&t){var n=i.lc();i.tc("label",i.nc(1,3,"lang.myLastResources")),i.Eb(2),i.sc("ngIf",n.loading),i.Eb(1),i.sc("ngIf",!n.loading)}}var fi,hi=((fi=function(){function t(e,n,i,a,r,o,s,c,l){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=i,this.sanitizer=a,this.notify=r,this.headerService=o,this.appService=s,this.router=c,this.featureTourService=l,this.loading=!1,this.docUrl="",this.currentDate="",this.nbMpDocs=0,this.displayedColumns=["res_id","subject","creation_date"],window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.appService.getViewMode()&&(this.displayedColumns=["res_id","subject"]),this.headerService.setHeader(this.translate.instant("lang.home"));var e=new Date;this.currentDate=e.toLocaleDateString(this.translate.instant("lang.langISO"),{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.http.get("../rest/home").subscribe((function(e){t.homeData=e,t.homeMessage=e.homeMessage}))}},{key:"ngAfterViewInit",value:function(){var t=this;"root_visible"!==this.headerService.user.mode&&"root_invisible"!==this.headerService.user.mode||this.featureTourService.init(),this.http.get("../rest/home/lastRessources").subscribe((function(e){setTimeout((function(){t.dataSource=new dt.o(e.lastResources),t.loading=!1}),0)}))}},{key:"viewDocument",value:function(t){var e=this;this.http.get("../rest/resources/".concat(t.res_id,"/content?mode=view"),{responseType:"blob"}).pipe(Object(Pn.tap)((function(e){var n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),a=window.open();a.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(i,'" frameborder="0" allowfullscreen></iframe>')),a.document.title=t.alt_identifier})),Object(Tn.catchError)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"viewThumbnail",value:function(t){var e=+new Date;this.thumbnailUrl="../rest/resources/"+t.res_id+"/thumbnail?tsp="+e,$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"})}},{key:"closeThumbnail",value:function(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}},{key:"goToDetail",value:function(t){var e=this;this.http.get("../rest/resources/"+t.res_id+"/isAllowed").subscribe((function(n){n.isAllowed?e.router.navigate(["/resources/"+t.res_id]):e.notify.error(e.translate.instant("lang.documentOutOfPerimeter"))}),(function(){e.notify.error(e.translate.instant("lang.errorOccured"))}))}},{key:"updateNbMpDocs",value:function(t){this.nbMpDocs=t}}]),t}()).\u0275fac=function(t){return new(t||fi)(i.Tb(l.e),i.Tb(u.b),i.Tb(Y.b),i.Tb(An.b),i.Tb(h.a),i.Tb(f.a),i.Tb(p.a),i.Tb(o.c),i.Tb(Dn.a))},fi.\u0275cmp=i.Nb({type:fi,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.ad(ut.c,!0),2&t&&i.Cc(n=i.ic())&&(e.viewPanels=n)},decls:19,vars:14,consts:[["autosize","","joyrideStep","welcome","stepPosition","center",1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],["style","background: #135F7F;color: white;box-shadow: none;border: solid 2px white;width: 100%;border-radius: 20px;padding-bottom: 40px;",4,"ngIf"],[1,"container"],[1,"container-content"],[4,"ngIf"],[3,"label",4,"ngIf"],[2,"background","#135F7F","color","white","box-shadow","none","border","solid 2px white","width","100%","border-radius","20px","padding-bottom","40px"],[2,"display","flex","max-height","250px","overflow","auto"],[2,"padding-left","10px"],[3,"innerHTML"],[2,"text-align","right","opacity","0.5"],["mat-button","","routerLink","/about-us",2,"position","absolute","font-size","10px","right","0px","bottom","0px"],["matTabLabel",""],[3,"triggerEvent"],["matBadgeOverlap","false",3,"matBadge"],[3,"label"],["style","display:flex;height:100%;",4,"ngIf"],["mat-table","","matSort","","matSortActive","res_id","matSortDisableClear","","matSortDirection","asc","style","width:100%;table-layout: fixed;",3,"dataSource",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],["mat-table","","matSort","","matSortActive","res_id","matSortDisableClear","","matSortDirection","asc",2,"width","100%","table-layout","fixed",3,"dataSource"],["matColumnDef","res_id"],["class","first_col","mat-cell","",3,"ngStyle",4,"matCellDef"],["matColumnDef","subject"],["mat-cell","","style","width:45%;overflow:hidden;text-overflow: ellipsis;padding: 5px;vertical-align: middle;",4,"matCellDef"],["matColumnDef","creation_date"],["mat-cell","","style","text-align: right;width:15%;overflow:hidden;text-overflow: ellipsis;white-space: nowrap;padding: 5px;vertical-align: middle;",4,"matCellDef"],["mat-row","","style","cursor:pointer;",3,"click",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"first_col",3,"ngStyle"],["style","color: rgba(0,0,0,0.4);font-size: 90%;overflow: hidden;text-overflow: ellipsis;",3,"id","title",4,"ngIf"],[2,"overflow","hidden","text-overflow","ellipsis"],["color","primary",3,"ngStyle","title"],["class","watermark",4,"ngIf"],[2,"padding-top","5px","color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis",3,"title"],[2,"color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis",3,"id","title"],[1,"fa","fa-calendar",3,"title"],[1,"watermark"],["mat-cell","",2,"width","45%","overflow","hidden","text-overflow","ellipsis","padding","5px","vertical-align","middle"],["style","color: rgba(0,0,0,0.4);font-size: 90%;overflow: hidden;text-overflow: ellipsis;text-align: right;",4,"ngIf"],[2,"overflow","hidden","line-height","1.5em","height","3em","overflow","hidden",3,"title"],[2,"color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis","text-align","right"],[1,"fa","fa-stopwatch",3,"title"],[3,"innerHTML","title"],["mat-cell","",2,"text-align","right","width","15%","overflow","hidden","text-overflow","ellipsis","white-space","nowrap","padding","5px","vertical-align","middle"],["style","color: rgba(0,0,0,0.4);font-size: 90%;overflow: hidden;text-overflow: ellipsis;",4,"ngIf"],["mat-icon-button","",3,"disabled","title","click","mouseenter","mouseleave"],["color","primary",1,"fa",3,"ngClass"],[2,"color","rgba(0,0,0,0.4)","font-size","90%","overflow","hidden","text-overflow","ellipsis"],[1,"fa","fa-lock",3,"title"],[3,"title"],["mat-row","",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Qc(13,Wn,8,4,"mat-card",8),i.Yb(),i.Yb(),i.Zb(14,"div",9),i.Zb(15,"div",10),i.Zb(16,"mat-tab-group"),i.Qc(17,qn,3,0,"mat-tab",11),i.Qc(18,di,4,5,"mat-tab",12),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.sc("src",i.nc(4,10,i.nc(5,12,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("ngIf",e.homeMessage),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(3),i.sc("ngIf",void 0!==e.homeData&&e.homeData.isLinkedToMaarchParapheur),i.Eb(1),i.sc("ngIf",void 0!==e.homeData))},directives:[v.e,Rn.a,v.f,Z.a,ht.a,pt.a,y.t,mt.c,g.b,o.d,mt.a,mt.d,zn,Vn.a,_.c,dt.n,_t.a,dt.c,dt.b,dt.m,dt.a,y.w,b.a,y.q,dt.l],pipes:[y.b,xt.a,l.d,y.f,Hn.a,Qn.a],styles:[".first_col[_ngcontent-%COMP%]{position:relative;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:5px;vertical-align:middle}.noDoc[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{color:#666;opacity:.5}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}"]}),fi),pi=["snav"];function mi(t,e){1&t&&(i.Zb(0,"div"),i.Ub(1,"i",9),i.Yb())}function gi(t,e){if(1&t){var n=i.ac();i.Zb(0,"div"),i.Zb(1,"div",10),i.Zb(2,"div",11),i.Zb(3,"h2"),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Zb(6,"form",12,13),i.hc("ngSubmit",(function(){return i.Hc(n),i.lc().submitNumericPackage()})),i.Zb(8,"input",14),i.hc("change",(function(t){return i.Hc(n),i.lc().uploadNumericPackage(t)})),i.Yb(),i.Ub(9,"br"),i.Zb(10,"div",15),i.Zb(11,"div",16),i.Zb(12,"button",17),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(7);i.Eb(4),i.Tc(i.nc(5,3,"lang.saveNumericPackage")),i.Eb(8),i.sc("disabled",!a.form.valid),i.Eb(1),i.Tc(i.nc(14,5,"lang.save"))}}var bi,vi=((bi=function(){function t(e,n,i,a,r,o){var s=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.zone=i,this.notify=a,this.headerService=r,this.appService=o,this.numericPackage={base64:"",name:"",type:"",size:0,label:"",extension:""},this.loading=!1,window.angularSaveNumericPackageComponent={componentAfterUpload:function(t){return s.processAfterUpload(t)}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.setHeader(this.translate.instant("lang.saveNumericPackage")),this.loading=!1}},{key:"processAfterUpload",value:function(t){var e=this;this.zone.run((function(){return e.resfreshUpload(t)}))}},{key:"resfreshUpload",value:function(t){this.numericPackage.base64=t.replace(/^data:.*?;base64,/,"")}},{key:"uploadNumericPackage",value:function(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;this.numericPackage.name=t.target.files[0].name,this.numericPackage.size=t.target.files[0].size,this.numericPackage.type=t.target.files[0].type,this.numericPackage.extension=t.target.files[0].name.split(".").pop(),""==this.numericPackage.label&&(this.numericPackage.label=this.numericPackage.name),e.readAsDataURL(t.target.files[0]),e.onload=function(t){window.angularSaveNumericPackageComponent.componentAfterUpload(t.target.result)}}}},{key:"submitNumericPackage",value:function(){var t=this;0!=this.numericPackage.size?this.http.post("../rest/saveNumericPackage",this.numericPackage).subscribe((function(e){e.errors?t.notify.error(e.errors):(t.numericPackage={base64:"",name:"",type:"",size:0,label:"",extension:""},$("#numericPackageFilePath").val(null),t.notify.success(t.translate.instant("lang.numericPackageImported")),null!=e.basketRedirection&&(window.location.href=e.basketRedirection))}),(function(e){t.notify.error(e.error.errors)})):(this.numericPackage.name="",this.numericPackage.size=0,this.numericPackage.type="",this.numericPackage.base64="",this.numericPackage.extension="",this.notify.error(this.translate.instant("lang.noNumericPackageSelected")))}}]),t}()).\u0275fac=function(t){return new(t||bi)(i.Tb(l.e),i.Tb(u.b),i.Tb(i.B),i.Tb(h.a),i.Tb(f.a),i.Tb(p.a))},bi.\u0275cmp=i.Nb({type:bi,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.Oc(pi,!0),2&t&&i.Cc(n=i.ic())&&(e.sidenavLeft=n.first)},decls:13,vars:8,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],[4,"ngIf"],[1,"fa","fa-spinner","fa-spin","fa-5x",2,"margin-left","50%","margin-top","16%","font-size","8em"],[1,"row","row-eq-height"],[1,"col-md-5","col-md-offset-3",2,"margin-top","50px","border-top","solid 2px #F99830","border-bottom","solid 2px #F99830","padding","10px"],[1,"form-horizontal",3,"ngSubmit"],["saveNumericPackageForm","ngForm"],["id","numericPackageFilePath","type","file","name","files[]",3,"change"],[1,"form-group"],[2,"text-align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Qc(11,mi,2,0,"div",8),i.Qc(12,gi,15,7,"div",8),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[v.e,v.f,ht.a,pt.a,y.t,j.J,j.u,j.v,g.b],pipes:[l.d],styles:[".upload-drop-zone[_ngcontent-%COMP%]{font-size:16px;height:100px;border-width:2px;margin-bottom:20px;color:#ccc;border-style:dashed;border-color:#ccc;line-height:100px;text-align:center}.upload-drop-zone.drop[_ngcontent-%COMP%]{color:#222;border-color:#222}.avatar[_ngcontent-%COMP%]{text-decoration:none;background:#135f7f;color:#fff;width:100px;height:100px;border-radius:5px;display:block;overflow:hidden;margin:5px}"]}),bi),yi=n("IkSl"),_i=["snav"],ki=["snav2"];function Ci(t,e){if(1&t&&(i.Zb(0,"mat-option",25),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",i.nc(2,2,"lang."+n)," ")}}function xi(t,e){if(1&t&&(i.Zb(0,"mat-option",25),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",i.nc(2,2,"lang."+n)," ")}}function wi(t,e){1&t&&(i.Zb(0,"div",26),i.Ub(1,"mat-spinner"),i.Yb())}var Oi,Si,Ei=function(t){return{width:t}},Mi=((Si=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.headerService=a,this.appService=r,this.entities=[],this.entitiesChosen=[],this.loading=!1,this.docUrl="",this.docData="",this.docBuffer=null,this.separatorTypes=["barcode","qrcode"],this.separatorTargets=["entities","generic"],this.separator={type:"qrcode",target:"entities",entities:[]},window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.headerService.setHeader(this.translate.instant("lang.printSeparators")),this.http.get("../rest/entities").subscribe((function(e){t.entities=e.entities,t.entities.forEach((function(t){t.state.disabled=!1})),t.loadEntities()}),(function(e){t.notify.handleErrors(e)}))}},{key:"loadEntities",value:function(){var t=this;setTimeout((function(){$("#jstree").on("select_node.jstree",(function(e,n){t.separator.entities=$("#jstree").jstree("get_checked",null,!0)})).on("deselect_node.jstree",(function(e,n){t.separator.entities=$("#jstree").jstree("get_checked",null,!0)})).jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},data:t.entities},plugins:["checkbox","search","sort"]});var e=!1;$("#jstree_search").keyup((function(){e&&clearTimeout(e),e=setTimeout((function(){var t=$("#jstree_search").val();$("#jstree").jstree(!0).search(t)}),250)})),$("#jstree").jstree()}),0)}},{key:"generateSeparators",value:function(){var t=this;this.loading=!0,this.separator.entities=$("#jstree").jstree("get_checked",null,!0),this.http.post("../rest/entitySeparators",this.separator).subscribe((function(e){t.docData=e,t.docBuffer=t.base64ToArrayBuffer(t.docData),t.downloadSeparators(),t.loading=!1}),(function(e){t.notify.handleErrors(e)}))}},{key:"base64ToArrayBuffer",value:function(t){for(var e=window.atob(t),n=e.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=e.charCodeAt(a);return i.buffer}},{key:"changeType",value:function(t){this.docBuffer=null,"entities"===t.value?(this.entities.forEach((function(t){t.state.disabled=!1})),$("#jstree").jstree(!0).settings.core.data=this.entities,$("#jstree").jstree("deselect_all"),$("#jstree").jstree("refresh")):(this.entities.forEach((function(t){t.state.disabled=!0})),$("#jstree").jstree(!0).settings.core.data=this.entities,$("#jstree").jstree("deselect_all"),$("#jstree").jstree("refresh"))}},{key:"downloadSeparators",value:function(){var t=document.createElement("a");document.body.appendChild(t),t.style.display="none";var e,n,i,a,r="data:application/pdf;base64,"+this.docData;t.href=r,n=(e=new Date).getDate(),i=e.getMonth()+1,a=e.getFullYear(),n<10&&(n="0"+n),i<10&&(i="0"+i),e=n+"-"+i+"-"+a,t.download=this.translate.instant("lang.separators")+"_"+e+".pdf",t.click(),window.URL.revokeObjectURL(r)}}]),t}()).\u0275fac=function(t){return new(t||Si)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(f.a),i.Tb(p.a))},Si.\u0275cmp=i.Nb({type:Si,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(_i,!0),i.Oc(ki,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavLeft=n.first),i.Cc(n=i.ic())&&(e.sidenavRight=n.first))},decls:48,vars:42,consts:[[1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["role","alert",1,"alert-message","alert-message-info",2,"max-width","100%","margin","30px",3,"innerHTML"],[1,"col-md-12"],[1,"col-md-6"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","id","jstree_search","name","jstree_search","type","text",3,"placeholder"],["id","jstree"],[1,"col-md-12","text-center",2,"bottom","0px","padding-top","10px","position","absolute","height","10%","width","100%"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"table-head"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["class","example-loading-shade",4,"ngIf"],[1,"titlePanel"],["color","primary",2,"flex","1","font-size","20px","font-weight","bold","padding","10px"],[1,"viewSep",3,"src","render-text","autoresize","original-size","show-all"],[3,"value"],[1,"example-loading-shade"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Zb(11,"div",8),i.Ub(12,"div",9),i.Zb(13,"div",10),i.Zb(14,"div",11),i.Zb(15,"mat-form-field"),i.Zb(16,"mat-label"),i.Sc(17),i.mc(18,"translate"),i.Yb(),i.Zb(19,"mat-select",12),i.hc("ngModelChange",(function(t){return e.separator.type=t}))("selectionChange",(function(){return e.docBuffer=null})),i.Qc(20,Ci,3,4,"mat-option",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(21,"div",11),i.Zb(22,"mat-form-field"),i.Zb(23,"mat-label"),i.Sc(24),i.mc(25,"translate"),i.Yb(),i.Zb(26,"mat-select",12),i.hc("ngModelChange",(function(t){return e.separator.target=t}))("selectionChange",(function(t){return e.changeType(t)})),i.Qc(27,xi,3,4,"mat-option",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"mat-form-field"),i.Ub(29,"input",14),i.mc(30,"translate"),i.Zb(31,"mat-hint"),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Ub(34,"div",15),i.Yb(),i.Yb(),i.Zb(35,"div",16),i.Zb(36,"button",17),i.hc("click",(function(){return e.generateSeparators()})),i.Sc(37),i.mc(38,"translate"),i.Yb(),i.Yb(),i.Ub(39,"div",18),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"mat-sidenav",19,20),i.Qc(42,wi,2,0,"div",21),i.Zb(43,"div",22),i.Zb(44,"span",23),i.Sc(45),i.mc(46,"translate"),i.Yb(),i.Yb(),i.Ub(47,"pdf-viewer",24),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(3),i.sc("innerHTML",e.translate.instant("lang.printSeparatorInfo"),i.Ic),i.Eb(5),i.Tc(i.nc(18,28,"lang.separatorType")),i.Eb(2),i.sc("ngModel",e.separator.type),i.Eb(1),i.sc("ngForOf",e.separatorTypes),i.Eb(4),i.Tc(i.nc(25,30,"lang.separatorTarget")),i.Eb(2),i.sc("ngModel",e.separator.target),i.Eb(1),i.sc("ngForOf",e.separatorTargets),i.Eb(2),i.tc("placeholder",i.nc(30,32,"lang.searchEntities")),i.Eb(3),i.Tc(i.nc(33,34,"lang.entityTreeInfoSeparator")),i.Eb(4),i.sc("disabled",e.loading||"entities"==e.separator.target&&0==e.separator.entities.length),i.Eb(1),i.Tc(i.nc(38,36,"lang.generateAndDownload")),i.Eb(3),i.sc("fixedInViewport",e.appService.getViewMode())("opened",!e.appService.getViewMode()&&null!=e.docBuffer)("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(40,Ei,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(3),i.Tc(i.nc(46,38,"lang.separators")),i.Eb(2),i.sc("src",e.docBuffer)("render-text",!1)("autoresize",!0)("original-size",!1)("show-all",!0))},directives:[v.e,v.f,ht.a,pt.a,N.c,N.g,gt.a,j.t,j.w,y.s,U.b,N.f,g.b,v.d,y.w,y.t,yi.a,w.o,_.c],pipes:[l.d],styles:[".panel-right[_ngcontent-%COMP%]    .mat-drawer-inner-container{display:flex;flex-direction:column}.panel-right[_ngcontent-%COMP%]   .titlePanel[_ngcontent-%COMP%]{display:flex;align-items:center}.panel-right[_ngcontent-%COMP%]   .viewSep[_ngcontent-%COMP%]{flex:1;display:flex;overflow:auto}"]}),Si),Ii=((Oi=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.router=i,this.notificationService=a,this.headerService=r,this.loadingForm=!1,this.loading=!1,this.newLogin={login:""},this.labelButton=this.translate.instant("lang.send")}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.hideSideBar=!0}},{key:"generateLink",value:function(){var t=this;this.labelButton=this.translate.instant("lang.generation"),this.loading=!0,this.http.post("../rest/password",{login:this.newLogin.login}).pipe(Object(Ln.a)((function(){t.labelButton=t.translate.instant("lang.send"),t.loading=!1}))).subscribe((function(e){t.loadingForm=!0,t.notificationService.success(t.translate.instant("lang.requestSentByEmail")),t.router.navigate(["/login"])}),(function(e){t.notificationService.handleErrors(e)}))}},{key:"cancel",value:function(){this.router.navigate(["/login"])}}]),t}()).\u0275fac=function(t){return new(t||Oi)(i.Tb(l.e),i.Tb(u.b),i.Tb(o.c),i.Tb(h.a),i.Tb(f.a))},Oi.\u0275cmp=i.Nb({type:Oi,selectors:[["ng-component"]],decls:13,vars:10,consts:[[1,"login-content"],["svgIcon","maarchLogoWhiteFull",1,"maarchLogo"],[1,"login-form"],[3,"ngSubmit"],[1,"alert-message","alert-message-info",3,"innerHTML"],[1,"input-row"],["name","login","matInput","","type","text","oninput","this.value = this.value.toLowerCase()",3,"placeholder","ngModel","ngModelChange"],["type","submit","mat-button","",3,"disabled"],["type","button","mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Ub(1,"mat-icon",1),i.Zb(2,"mat-card",2),i.Zb(3,"form",3),i.hc("ngSubmit",(function(){return e.generateLink()})),i.Ub(4,"div",4),i.Zb(5,"mat-form-field",5),i.Zb(6,"input",6),i.hc("ngModelChange",(function(t){return e.newLogin.login=t})),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Zb(8,"button",7),i.Sc(9),i.Yb(),i.Zb(10,"button",8),i.hc("click",(function(){return e.cancel()})),i.Sc(11),i.mc(12,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(4),i.sc("innerHTML",e.translate.instant("lang.afterClickingSendLinkChangePassword"),i.Ic),i.Eb(2),i.tc("placeholder",i.nc(7,6,"lang.enterLogin")),i.sc("ngModel",e.newLogin.login),i.Eb(2),i.sc("disabled",""==e.newLogin.login||e.loading),i.Eb(1),i.Tc(e.labelButton),i.Eb(2),i.Tc(i.nc(12,8,"lang.cancel")))},directives:[b.a,Z.a,j.J,j.u,j.v,N.c,U.b,j.c,j.t,j.w,g.b],pipes:[l.d],styles:[".login-content[_ngcontent-%COMP%]{background-color:#135f7f;height:100vh;width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{max-width:600px;text-align:center}.input-row[_ngcontent-%COMP%]{width:100%;padding-top:10px;padding-bottom:10px}.maarchLogo[_ngcontent-%COMP%]{position:absolute;transition:all 1s ease-in-out;width:250px;height:auto;padding-bottom:10px;transform:translateY(-200px)}footer[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:5px;font-size:10px;opacity:.5}"]}),Oi);function Pi(t,e){1&t&&(i.Zb(0,"mat-hint",8),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.passwordNotMatch"),""))}function Ti(t,e){1&t&&(i.Zb(0,"mat-hint",14),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.passwordMatch"),""))}var Ai,Di=function(t){return[t]},Ri=((Ai=function(){function t(e,n,i,a,r,o){var s=this;_classCallCheck(this,t),this.translate=e,this.router=n,this.route=i,this.http=a,this.notificationService=r,this.authService=o,this.loadingForm=!1,this.loading=!1,this.token="",this.password={newPassword:"",passwordConfirmation:""},this.labelButton=this.translate.instant("lang.update"),this.hideNewPassword=!0,this.hideNewPasswordConfirm=!0,this.passwordRules={minLength:{enabled:!1,value:0},complexityUpper:{enabled:!1,value:0},complexityNumber:{enabled:!1,value:0},complexitySpecial:{enabled:!1,value:0},renewal:{enabled:!1,value:0},historyLastUse:{enabled:!1,value:0}},this.handlePassword={error:!1,errorMsg:""},this.ruleText="",this.otherRuleText="",this.route.queryParams.subscribe((function(t){s.token=t.token}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getPassRules()}},{key:"updatePassword",value:function(){var t=this;this.labelButton=this.translate.instant("lang.emailSendInProgress"),this.loading=!0,this.http.put("../rest/password",{token:this.token,password:this.password.newPassword}).pipe(Object(Ln.a)((function(){t.labelButton=t.translate.instant("lang.update"),t.loading=!1}))).subscribe((function(e){t.loadingForm=!0,t.notificationService.success(t.translate.instant("lang.passwordChanged")),t.router.navigate(["/login"])}),(function(e){t.notificationService.handleSoftErrors(e)}))}},{key:"checkPasswordValidity",value:function(t){this.handlePassword.error=!0,!t.match(/[A-Z]/g)&&this.passwordRules.complexityUpper.enabled?this.handlePassword.errorMsg=this.translate.instant("lang.passwordcomplexityUpperRequired"):!t.match(/[0-9]/g)&&this.passwordRules.complexityNumber.enabled?this.handlePassword.errorMsg=this.translate.instant("lang.passwordcomplexityNumberRequired"):!t.match(/[^A-Za-z0-9]/g)&&this.passwordRules.complexitySpecial.enabled?this.handlePassword.errorMsg=this.translate.instant("lang.passwordcomplexitySpecialRequired"):t.length<this.passwordRules.minLength.value&&this.passwordRules.minLength.enabled?this.handlePassword.errorMsg=this.passwordRules.minLength.value+" "+this.translate.instant("lang.passwordminLength")+" !":(this.handlePassword.error=!1,this.handlePassword.errorMsg="")}},{key:"getPassRules",value:function(){var t=this;this.handlePassword.error=!1,this.handlePassword.errorMsg="",this.http.get("../rest/passwordRules").subscribe((function(e){var n=[],i=[];e.rules.forEach((function(e){"minLength"===e.label?(t.passwordRules.minLength.enabled=e.enabled,t.passwordRules.minLength.value=e.value,e.enabled&&n.push(e.value+" "+t.translate.instant("lang.password"+e.label))):"complexityUpper"===e.label?(t.passwordRules.complexityUpper.enabled=e.enabled,t.passwordRules.complexityUpper.value=e.value,e.enabled&&n.push(t.translate.instant("lang.password"+e.label))):"complexityNumber"===e.label?(t.passwordRules.complexityNumber.enabled=e.enabled,t.passwordRules.complexityNumber.value=e.value,e.enabled&&n.push(t.translate.instant("lang.password"+e.label))):"complexitySpecial"===e.label?(t.passwordRules.complexitySpecial.enabled=e.enabled,t.passwordRules.complexitySpecial.value=e.value,e.enabled&&n.push(t.translate.instant("lang.password"+e.label))):"renewal"===e.label?(t.passwordRules.renewal.enabled=e.enabled,t.passwordRules.renewal.value=e.value,e.enabled&&i.push(t.translate.instant("lang.password"+e.label)+" <b>"+e.value+" "+t.translate.instant("lang.days")+"</b>. "+t.translate.instant("lang.password2"+e.label)+".")):"historyLastUse"===e.label&&(t.passwordRules.historyLastUse.enabled=e.enabled,t.passwordRules.historyLastUse.value=e.value,e.enabled&&i.push(t.translate.instant("lang.passwordhistoryLastUseDesc")+" <b>"+e.value+"</b> "+t.translate.instant("lang.passwordhistoryLastUseDesc2")+"."))})),t.ruleText=n.join(", "),t.otherRuleText=i.join("<br/>")}),(function(e){t.notificationService.handleErrors(e)}))}},{key:"allowValidate",value:function(){return!(!this.handlePassword.error&&this.password.newPassword===this.password.passwordConfirmation&&0!==this.password.newPassword.length&&0!==this.password.passwordConfirmation.length)}},{key:"cancel",value:function(){this.router.navigate(["/login"])}}]),t}()).\u0275fac=function(t){return new(t||Ai)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(u.b),i.Tb(h.a),i.Tb(d.a))},Ai.\u0275cmp=i.Nb({type:Ai,selectors:[["ng-component"]],decls:24,vars:27,consts:[[1,"login-content"],["svgIcon","maarchLogoWhiteFull",1,"maarchLogo"],[1,"login-form"],[3,"ngSubmit"],["role","alert",1,"alert-message","alert-message-info"],[1,"input-row"],["name","newPassword","matInput","",3,"ngModel","placeholder","type","ngModelChange","keyup"],["matSuffix","",1,"fa","fa-2x",3,"ngClass","click"],[2,"color","red"],["name","passwordConfirmation","matInput","",3,"ngModel","placeholder","type","ngModelChange"],["style","color:red;",4,"ngIf"],["style","color:green;",4,"ngIf"],["type","submit","mat-button","",3,"disabled"],["type","button","mat-button","",3,"click"],[2,"color","green"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Ub(1,"mat-icon",1),i.Zb(2,"mat-card",2),i.Zb(3,"form",3),i.hc("ngSubmit",(function(){return e.updatePassword()})),i.Zb(4,"div",4),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Zb(7,"mat-form-field",5),i.Zb(8,"input",6),i.hc("ngModelChange",(function(t){return e.password.newPassword=t}))("keyup",(function(){return e.checkPasswordValidity(e.password.newPassword)})),i.mc(9,"translate"),i.Yb(),i.Zb(10,"mat-icon",7),i.hc("click",(function(){return e.hideNewPassword=!e.hideNewPassword})),i.Yb(),i.Zb(11,"mat-hint",8),i.Sc(12),i.Yb(),i.Yb(),i.Zb(13,"mat-form-field",5),i.Zb(14,"input",9),i.hc("ngModelChange",(function(t){return e.password.passwordConfirmation=t})),i.mc(15,"translate"),i.Yb(),i.Zb(16,"mat-icon",7),i.hc("click",(function(){return e.hideNewPasswordConfirm=!e.hideNewPasswordConfirm})),i.Yb(),i.Qc(17,Pi,3,3,"mat-hint",10),i.Qc(18,Ti,3,3,"mat-hint",11),i.Yb(),i.Zb(19,"button",12),i.Sc(20),i.Yb(),i.Zb(21,"button",13),i.hc("click",(function(){return e.cancel()})),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.Uc(" ",i.nc(6,15,"lang.logInOncePasswordChanged")," "),i.Eb(3),i.tc("placeholder",i.nc(9,17,"lang.typeNewPassword")),i.sc("ngModel",e.password.newPassword)("type",e.hideNewPassword?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(23,Di,e.hideNewPassword?"fa-eye-slash":"fa-eye")),i.Eb(2),i.Tc(e.handlePassword.errorMsg),i.Eb(2),i.tc("placeholder",i.nc(15,19,"lang.retypeNewPassword")),i.sc("ngModel",e.password.passwordConfirmation)("type",e.hideNewPasswordConfirm?"password":"text"),i.Eb(2),i.sc("ngClass",i.zc(25,Di,e.hideNewPasswordConfirm?"fa-eye-slash":"fa-eye")),i.Eb(1),i.sc("ngIf",e.password.passwordConfirmation!==e.password.newPassword),i.Eb(1),i.sc("ngIf",e.password.passwordConfirmation===e.password.newPassword&&e.password.newPassword.length>0&&e.password.passwordConfirmation.length>0),i.Eb(1),i.sc("disabled",e.allowValidate()||e.loading),i.Eb(1),i.Tc(e.labelButton),i.Eb(2),i.Tc(i.nc(23,21,"lang.cancel")))},directives:[b.a,Z.a,j.J,j.u,j.v,N.c,U.b,j.c,j.t,j.w,N.j,y.q,N.f,y.t,g.b],pipes:[l.d],styles:[".login-content[_ngcontent-%COMP%]{background-color:#135f7f;height:100vh;width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{max-width:480px;text-align:center}.input-row[_ngcontent-%COMP%]{width:100%;padding-top:10px;padding-bottom:10px}.maarchLogo[_ngcontent-%COMP%]{position:absolute;transition:all 1s ease-in-out;width:250px;height:auto;padding-bottom:10px;transform:translateY(-230px)}footer[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:5px;font-size:10px;opacity:.5}"]}),Ai),Li=n("GUHb");function Fi(t,e){if(1&t&&i.Ub(0,"app-document-viewer",2,3),2&t){var n=i.lc();i.sc("editMode",!1)("resId",n.resId)("title",n.resId)}}var ji,Yi=((ji=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.http=e,this.route=n,this.router=i,this.notify=a,this.headerService=r,this.loading=!0,this.resId=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){void 0!==e.resId?(t.resId=e.resId,t.http.get("../rest/resources/".concat(t.resId,"/fileInformation")).pipe(Object(Pn.tap)((function(e){t.loading=!1})),Object(Tn.catchError)((function(e){return t.notify.handleSoftErrors(e),t.router.navigate(["/home"]),Object(On.of)(!1)}))).subscribe()):t.router.navigate(["/home"])}))}}]),t}()).\u0275fac=function(t){return new(t||ji)(i.Tb(u.b),i.Tb(o.a),i.Tb(o.c),i.Tb(h.a),i.Tb(f.a))},ji.\u0275cmp=i.Nb({type:ji,selectors:[["app-document-viewer-page"]],decls:2,vars:1,consts:[[1,"doc-container"],["style","display:block;height:100%;width:100%;max-width:800px;overflow: auto;",3,"editMode","resId","title",4,"ngIf"],[2,"display","block","height","100%","width","100%","max-width","800px","overflow","auto",3,"editMode","resId","title"],["appDocumentViewer",""]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Qc(1,Fi,2,3,"app-document-viewer",1),i.Yb()),2&t&&(i.Eb(1),i.sc("ngIf",!e.loading))},directives:[y.t,Li.a],styles:[".doc-container[_ngcontent-%COMP%]{background:#135f7f;display:flex;justify-content:center}"]}),ji),Zi=n("SIQe"),Ni=n("5cI5"),Ui=n("MhE4");function Bi(t,e){1&t&&(i.Zb(0,"mat-hint",14),i.Zb(1,"a",15),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.Uc("",i.nc(3,1,"lang.forgotPassword")," ?"))}function zi(t,e){1&t&&(i.Zb(0,"mat-hint",14),i.Zb(1,"span",16),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.ldapEnabled")))}var Vi,Hi=((Vi=function(){function t(e,n,i,a,r,o,s,c,l,u,d){_classCallCheck(this,t),this.translate=e,this.http=n,this.router=i,this.headerService=a,this.authService=r,this.localStorage=o,this.functionsService=s,this.notify=c,this.dialog=l,this.formBuilder=u,this.timeLimit=d,this.loading=!1,this.showForm=!1,this.applicationName="",this.loginMessage=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.hideSideBar=!0,this.loginForm=this.formBuilder.group({login:[null,j.H.required],password:[null,j.H.required]}),this.environment=a.a,this.authService.isAuth()?this.functionsService.empty(this.authService.getUrl(JSON.parse(atob(this.authService.getToken().split(".")[1])).user.id))?this.router.navigate(["/home"]):this.router.navigate([this.authService.getUrl(JSON.parse(atob(this.authService.getToken().split(".")[1])).user.id)]):this.getLoginInformations()}},{key:"onSubmit",value:function(){var t=this;this.loading=!0,this.http.post("../rest/authenticate",{login:this.loginForm.get("login").value,password:this.loginForm.get("password").value},{observe:"response"}).pipe(Object(lt.a)((function(e){t.localStorage.resetLocal(),t.authService.saveTokens(e.headers.get("Token"),e.headers.get("Refresh-Token")),t.authService.setUser({}),t.authService.getCachedUrl()?(t.router.navigateByUrl(t.authService.getCachedUrl()),t.authService.cleanCachedUrl()):t.functionsService.empty(t.authService.getUrl(JSON.parse(atob(e.headers.get("Token").split(".")[1])).user.id))?t.router.navigate(["/home"]):t.router.navigate([t.authService.getUrl(JSON.parse(atob(e.headers.get("Token").split(".")[1])).user.id)])})),Object(wn.a)((function(e){return t.loading=!1,"Authentication Failed"===e.error.errors?t.notify.error(t.translate.instant("lang.wrongLoginPassword")):"Account Suspended"===e.error.errors?t.notify.error(t.translate.instant("lang.accountSuspended")):"Account Locked"===e.error.errors?t.notify.error(t.translate.instant("lang.accountLocked")+" "+t.timeLimit.transform(e.error.date)):t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"getLoginInformations",value:function(){var t=this;this.http.get("../rest/authenticationInformations").pipe(Object(lt.a)((function(e){t.authService.setAppSession(e.instanceId),t.authService.changeKey=e.changeKey,t.applicationName=e.applicationName,t.loginMessage=e.loginMessage,t.authService.setEvent("authenticationInformations")})),Object(Ln.a)((function(){return t.showForm=!0})),Object(wn.a)((function(e){return t.http.get("../rest/validUrl").pipe(Object(lt.a)((function(n){t.functionsService.empty(n.url)?"moreOneCustom"===n.lang?t.dialog.open(Zi.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:t.translate.instant("lang.accessNotFound"),msg:t.translate.instant("lang.moreOneCustom"),hideButton:!0}}):"noConfiguration"===n.lang?t.router.navigate(["/install"]):t.notify.handleSoftErrors(e):window.location.href=n.url}))).subscribe(),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Vi)(i.Tb(l.e),i.Tb(u.b),i.Tb(o.c),i.Tb(f.a),i.Tb(d.a),i.Tb(Ni.a),i.Tb(ft.a),i.Tb(h.a),i.Tb(Y.b),i.Tb(j.g),i.Tb(Qn.a))},Vi.\u0275cmp=i.Nb({type:Vi,selectors:[["ng-component"]],features:[i.Db([Qn.a])],decls:21,vars:19,consts:[[1,"login-container"],[1,"login-content"],[1,"login-form"],[3,"formGroup","ngSubmit"],["svgIcon","maarchLogoFull",1,"maarchLogo"],[2,"color","white","font-size","14px",3,"innerHTML"],[2,"color","white","font-size","14px","font-weight","bold"],[2,"padding-left","30px","padding-right","30px"],["appearance","outline",1,"input-row","login",2,"padding-bottom","0px"],["id","login","name","login","matInput","","formControlName","login","type","text",3,"placeholder"],["appearance","outline",1,"input-row"],["id","password","name","password","matInput","","type","password","formControlName","password",3,"placeholder"],["align","end",4,"ngIf"],["id","submit","type","submit","mat-stroked-button","",2,"color","white","border-color","#24b0ed","background","#24b0ed",3,"disabled"],["align","end"],["routerLink","/forgot-password",1,"infoLogin"],[1,"infoLogin"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"form",3),i.hc("ngSubmit",(function(){return e.onSubmit()})),i.Ub(4,"mat-icon",4),i.Ub(5,"div",5),i.mc(6,"safeHtml"),i.Zb(7,"p",6),i.Sc(8),i.Yb(),i.Zb(9,"div",7),i.Zb(10,"mat-form-field",8),i.Ub(11,"input",9),i.Yb(),i.Zb(12,"mat-form-field",10),i.Ub(13,"input",11),i.Qc(14,Bi,4,3,"mat-hint",12),i.Qc(15,zi,4,3,"mat-hint",12),i.Yb(),i.Yb(),i.Zb(16,"button",13),i.Sc(17),i.mc(18,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(19,"footer"),i.Sc(20),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(1),i.Pc("background-image","url(../rest/images?image=loginPage)",i.Mb),i.Jb("showForm",e.showForm),i.Eb(2),i.sc("formGroup",e.loginForm),i.Eb(2),i.sc("innerHTML",i.nc(6,15,e.loginMessage),i.Ic),i.Eb(3),i.Tc(e.applicationName),i.Eb(3),i.sc("placeholder",e.translate.instant("lang.id")),i.Eb(2),i.sc("placeholder",e.translate.instant("lang.password")),i.Eb(1),i.sc("ngIf","default"===e.authService.authMode),i.Eb(1),i.sc("ngIf","ldap"===e.authService.authMode),i.Eb(1),i.sc("disabled",e.loginForm.invalid||e.loading),i.Eb(1),i.Tc(i.nc(18,17,"lang.LOGIN")),i.Eb(3),i.Vc(" Maarch courrier ",e.environment.VERSION," Powered by ",e.environment.AUTHOR," "))},directives:[j.J,j.u,j.l,b.a,N.c,U.b,j.c,j.t,j.j,y.t,g.b,N.f,o.f],pipes:[Ui.a,l.d],styles:['.login-container[_ngcontent-%COMP%], .login-content[_ngcontent-%COMP%]{background-color:#135f7f}.login-content[_ngcontent-%COMP%]{opacity:0;background-attachment:fixed;background-size:cover;display:grid;align-items:center;justify-content:center;height:100vh;transition:opacity 1s}.login-form[_ngcontent-%COMP%]{max-width:768px}.showForm[_ngcontent-%COMP%]{opacity:1;transition:opacity 1s}.input-row[_ngcontent-%COMP%]{padding-top:10px}.input-row[_ngcontent-%COMP%], .maarchLogo[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.maarchLogo[_ngcontent-%COMP%]{transition:all 1s ease-in-out;height:auto}footer[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:5px;font-size:10px;opacity:.5;left:10px}.infoLogin[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-decoration:none}.login-form[_ngcontent-%COMP%]{text-align:center;padding:10px;max-width:550px;height:auto;box-shadow:0 0 1rem 0 rgba(0,0,0,.2);border-radius:5px;position:relative;z-index:1;background:inherit;overflow:hidden;border:2px solid #24b0ed}.login-form[_ngcontent-%COMP%]     .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important}.login-form[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:#fff!important;background:#fff}.login-form[_ngcontent-%COMP%]    .mat-form-field-ripple, .login-form[_ngcontent-%COMP%]    .mat-form-field-underline{background-color:#fff!important}.login-form[_ngcontent-%COMP%]:before{content:"";position:absolute;background:inherit;z-index:-1;top:0;left:0;right:0;bottom:0;filter:blur(10px);margin:-20px}.login[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}']}),Vi),Qi=n("V5D/"),Wi=n("zkFj"),Gi=n("eiH7"),qi=n("MyTJ"),Xi=n("WUgQ"),$i=n("jbvq"),Ji=n("VdM8"),Ki=n("PGLw"),ta=n("qSQ4"),ea=["appVisaWorkflow"],na=["appDocumentViewer"];function ia(t,e){1&t&&(i.Zb(0,"div",4),i.Ub(1,"i",5),i.Yb())}var aa=function(t){return{activeTabSignatureBook:t}};function ra(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",35),i.hc("click",(function(){return i.Hc(n),i.lc(2).changeSignatureBookLeftContent("document")})),i.mc(1,"translate"),i.Ub(2,"i",36),i.Yb()}if(2&t){var a=i.lc(2);i.tc("title",i.nc(1,2,"lang.mail")),i.sc("ngClass",i.zc(4,aa,"document"==a.headerTab))}}function oa(t,e){1&t&&i.Ub(0,"i",38)}function sa(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",35),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).changeSignatureBookLeftContent(t.id)})),i.Ub(1,"i"),i.Qc(2,oa,1,0,"i",37),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.tc("title",a.label),i.sc("ngClass",i.zc(5,aa,r.headerTab==a.id)),i.Eb(1),i.Gb(a.icon),i.Eb(1),i.sc("ngIf",a.count>0)}}function ca(t,e){if(1&t&&(i.Zb(0,"option",39),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.tc("value",n.id),i.Eb(1),i.Tc(n.label)}}function la(t,e){if(1&t&&(i.Zb(0,"div",40),i.Zb(1,"span",41),i.Ub(2,"input",42),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(2),i.tc("value",n.signatureBook.consigne),i.tc("title",n.signatureBook.consigne)}}function ua(t,e){1&t&&i.Ub(0,"i",53)}var da=function(t){return{resListContentFrameSelected:t}},fa=function(t){return{color:t}};function ha(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",43),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).changeLocation(t.res_id,"view")})),i.Zb(1,"div",44),i.Ub(2,"i",45),i.mc(3,"translate"),i.Sc(4),i.Qc(5,ua,1,0,"i",46),i.Sc(6,"\xa0 "),i.Ub(7,"i",47),i.Yb(),i.Zb(8,"div",44),i.Ub(9,"i",48),i.mc(10,"translate"),i.Sc(11),i.Yb(),i.Zb(12,"div",44),i.Ub(13,"i",49),i.mc(14,"translate"),i.Sc(15),i.Yb(),i.Zb(16,"div",44),i.Ub(17,"i",50),i.mc(18,"translate"),i.Sc(19),i.mc(20,"date"),i.Yb(),i.Zb(21,"div",51),i.Ub(22,"i",52),i.mc(23,"translate"),i.Sc(24),i.mc(25,"date"),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.sc("ngClass",i.zc(30,da,r.resId==a.res_id)),i.Eb(2),i.tc("title",i.nc(3,14,"lang.chronoNumber")),i.Eb(2),i.Uc(" ",a.alt_identifier," "),i.Eb(1),i.sc("ngIf",a.allSigned),i.Eb(2),i.tc("title",a.priorityLabel),i.sc("ngStyle",i.zc(32,fa,a.priorityColor)),i.Eb(2),i.tc("title",i.nc(10,16,"lang.object")),i.Eb(2),i.Uc(" ",a.subject," "),i.Eb(2),i.tc("title",i.nc(14,18,"lang.contactInfo")),i.Eb(2),i.Uc(" ",a.sender," "),i.Eb(2),i.tc("title",i.nc(18,20,"lang.arrivalDate")),i.Eb(2),i.Uc(" ",i.oc(20,22,a.creation_date,"dd/MM/y")," "),i.Eb(3),i.tc("title",i.nc(23,25,"lang.processLimitDate")),i.Eb(2),i.Uc(" ",i.oc(25,27,a.process_limit_date,"dd/MM/y")," ")}}function pa(t,e){1&t&&(i.Zb(0,"div",54),i.Ub(1,"i",55),i.Yb())}function ma(t,e){1&t&&i.Ub(0,"i",65)}function ga(t,e){1&t&&i.Ub(0,"i",66)}function ba(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",64),i.hc("click",(function(){return i.Hc(n),i.lc(3).displayPanel("RESLEFT")})),i.Qc(1,ma,1,0,"i",63),i.Qc(2,ga,1,0,"i",62),i.Yb()}if(2&t){var a=i.lc(3);i.Eb(1),i.sc("ngIf",a.showResLeftPanel),i.Eb(1),i.sc("ngIf",!a.showResLeftPanel)}}var va=function(t){return{panelSelectedThumbnail:t}};function ya(t,e){if(1&t){var n=i.ac();i.Zb(0,"img",75),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc(5).changeLeftViewer(t)})),i.mc(1,"async"),i.mc(2,"secureUrl"),i.Yb()}if(2&t){var a=e.$implicit,r=e.index,o=i.lc(5);i.tc("title",a.title),i.sc("src",i.nc(1,3,i.nc(2,5,a.thumbnailLink)),i.Kc)("ngClass",i.zc(7,va,r==o.leftSelectedThumbnail))}}function _a(t,e){if(1&t&&(i.Zb(0,"div",72),i.Zb(1,"div",73),i.Qc(2,ya,3,9,"img",74),i.Yb(),i.Yb()),2&t){var n=i.lc(4);i.Eb(2),i.sc("ngForOf",n.signatureBook.documents)}}function ka(t,e){1&t&&i.Ub(0,"i",80)}function Ca(t,e){if(1&t&&(i.Zb(0,"sup",81),i.Sc(1),i.Yb()),2&t){var n=i.lc(5);i.Eb(1),i.Tc(n.signatureBook.documents.length-1)}}function xa(t,e){1&t&&i.Ub(0,"i",82)}function wa(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",76),i.hc("click",(function(){return i.Hc(n),i.lc(4).displayPanel("TOPLEFT")})),i.mc(1,"translate"),i.Qc(2,ka,1,0,"i",77),i.Qc(3,Ca,2,1,"sup",78),i.Qc(4,xa,1,0,"i",79),i.Yb()}if(2&t){var a=i.lc(4);i.vc("title","",a.signatureBook.documents.length-1," ",i.nc(1,5,"lang.mailAttachments"),""),i.Eb(2),i.sc("ngIf",!a.showTopLeftPanel),i.Eb(1),i.sc("ngIf",!a.showTopLeftPanel),i.Eb(1),i.sc("ngIf",a.showTopLeftPanel)}}var Oa=function(t){return{height:t}};function Sa(t,e){if(1&t){var n=i.ac();i.Zb(0,"pdf-viewer",83,84),i.hc("error",(function(){i.Hc(n);var t=i.lc(4);return t.pdfViewerError(t.leftViewerLink)})),i.mc(2,"async"),i.mc(3,"secureUrl"),i.Yb()}if(2&t){var a=i.lc(4);i.sc("src",i.nc(2,6,i.nc(3,8,a.leftViewerLink)))("render-text",!0)("fit-to-page",!1)("original-size",!0)("ngStyle",i.zc(10,Oa,a.showTopLeftPanel?"84%":"99%"))("show-all",!0)}}function Ea(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",85),i.Zb(1,"div",86),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Zb(5,"sub"),i.Sc(6),i.mc(7,"translate"),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Zb(9,"div",87),i.Zb(10,"a",88),i.hc("click",(function(){i.Hc(n);var t=i.lc(4);return t.downloadOriginalFile(t.signatureBook.documents[t.leftSelectedThumbnail].res_id)})),i.mc(11,"translate"),i.Ub(12,"i",89),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(4);i.sc("ngStyle",i.zc(15,Oa,a.showTopLeftPanel?"79%":"96%")),i.Eb(2),i.Tc(i.nc(3,7,"lang.noOverviewAvailable")),i.Eb(4),i.Xc("",i.nc(7,9,"lang.pdfVersionFile"),' "',a.signatureBook.documents[a.leftSelectedThumbnail].title,".",a.signatureBook.documents[a.leftSelectedThumbnail].format,'" ',i.nc(8,11,"lang.isNotAvailable"),"."),i.Eb(4),i.tc("title",i.nc(11,13,"lang.dlAttachment"))}}function Ma(t,e){if(1&t&&(i.Zb(0,"div",67),i.Qc(1,_a,3,1,"div",68),i.Qc(2,wa,5,7,"div",69),i.Qc(3,Sa,4,12,"pdf-viewer",70),i.Qc(4,Ea,13,17,"div",71),i.Yb()),2&t){var n=i.lc(3);i.Eb(1),i.sc("ngIf",n.showTopLeftPanel),i.Eb(1),i.sc("ngIf",n.signatureBook.documents.length-1>0),i.Eb(1),i.sc("ngIf",""!=n.leftViewerLink&&(0==n.leftSelectedThumbnail||"pdf"==n.signatureBook.documents[n.leftSelectedThumbnail].format||n.signatureBook.documents[n.leftSelectedThumbnail].isConverted)),i.Eb(1),i.sc("ngIf",n.leftSelectedThumbnail>0&&"pdf"!=n.signatureBook.documents[n.leftSelectedThumbnail].format&&!n.signatureBook.documents[n.leftSelectedThumbnail].isConverted)}}function Ia(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",90),i.Zb(1,"app-notes-list",91,92),i.hc("reloadBadgeNotes",(function(t){return i.Hc(n),i.lc(3).refreshBadge(t,"notes")})),i.Yb(),i.Yb()}if(2&t){var a=i.lc(3);i.Eb(1),i.sc("editMode",!0)("resId",a.resId)}}function Pa(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",98),i.hc("click",(function(){return i.Hc(n),i.lc(4).saveVisaWorkflow()})),i.Ub(1,"mat-icon",99),i.Yb()}if(2&t){var a=i.lc(4);i.sc("title",a.translate.instant("lang.saveModifications"))}}function Ta(t,e){if(1&t&&(i.Zb(0,"div",93),i.Ub(1,"app-visa-workflow",94,95),i.Zb(3,"div",96),i.Qc(4,Pa,2,1,"button",97),i.Yb(),i.Yb()),2&t){var n=i.Dc(2),a=i.lc(3);i.Eb(1),i.sc("resId",a.resId)("adminMode",a.privilegeService.hasCurrentUserPrivilege("config_visa_workflow"))("target","signatureBook"),i.Eb(3),i.sc("ngIf",void 0!==n&&n.isModified())}}function Aa(t,e){if(1&t&&(i.Zb(0,"div",90),i.Ub(1,"app-history-list",100,101),i.Yb()),2&t){var n=i.lc(3);i.Eb(1),i.sc("resId",n.resId)}}function Da(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",90),i.Zb(1,"app-linked-resource-list",102,103),i.hc("reloadBadgeLinkedResources",(function(t){return i.Hc(n),i.lc(3).refreshBadge(t,"linkedResources")})),i.Yb(),i.Yb()}if(2&t){var a=i.lc(3);i.Eb(1),i.sc("resId",a.resId)}}function Ra(t,e){1&t&&i.Ub(0,"i",66)}function La(t,e){1&t&&i.Ub(0,"i",65)}var Fa=function(t){return{width:t}},ja=function(t){return{right:t}};function Ya(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",56),i.Qc(1,ba,3,2,"div",57),i.Qc(2,Ma,5,4,"div",58),i.Qc(3,Ia,3,2,"div",59),i.Qc(4,Ta,5,4,"div",60),i.Qc(5,Aa,3,1,"div",59),i.Qc(6,Da,3,1,"div",59),i.Zb(7,"div",61),i.hc("click",(function(){return i.Hc(n),i.lc(2).displayPanel("MIDDLE")})),i.Qc(8,Ra,1,0,"i",62),i.Qc(9,La,1,0,"i",63),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.sc("ngStyle",i.zc(10,Fa,a.leftContentWidth)),i.Eb(1),i.sc("ngIf",a.showLeftPanel&&a.showRightPanel),i.Eb(1),i.sc("ngIf","document"==a.headerTab),i.Eb(1),i.sc("ngIf","notes"==a.headerTab),i.Eb(1),i.sc("ngIf","visaCircuit"==a.headerTab),i.Eb(1),i.sc("ngIf","history"==a.headerTab),i.Eb(1),i.sc("ngIf","linkedResources"==a.headerTab),i.Eb(1),i.sc("ngStyle",i.zc(12,ja,a.showRightPanel?"-10px":"0px")),i.Eb(1),i.sc("ngIf",a.showRightPanel),i.Eb(1),i.sc("ngIf",!a.showRightPanel)}}function Za(t,e){1&t&&i.Ub(0,"i",65)}function Na(t,e){1&t&&i.Ub(0,"i",66)}function Ua(t,e){1&t&&(i.Zb(0,"sup",123),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.signed")))}function Ba(t,e){if(1&t&&(i.Zb(0,"div",114),i.Zb(1,"label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Yb()),2&t){var n=i.lc(4);i.tc("title",n.signatureBook.attachments[n.rightSelectedThumbnail].typist),i.Eb(2),i.Uc("",i.nc(3,3,"lang.createdBy")," :\xa0"),i.Eb(3),i.Tc(n.signatureBook.attachments[n.rightSelectedThumbnail].typist)}}function za(t,e){if(1&t&&(i.Zb(0,"div",114),i.mc(1,"translate"),i.mc(2,"date"),i.Zb(3,"label"),i.Zb(4,"i"),i.Sc(5,"*"),i.Yb(),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Zb(8,"span"),i.Sc(9),i.Yb(),i.Yb()),2&t){var n=i.lc(4);i.wc("title","",i.nc(1,5,"lang.modifiedBy")," : ",n.signatureBook.attachments[n.rightSelectedThumbnail].updated_by," le ",i.oc(2,7,n.signatureBook.attachments[n.rightSelectedThumbnail].doc_date,"dd/MM/y"),""),i.Eb(6),i.Uc(" ",i.nc(7,10,"lang.createdBy")," :\xa0"),i.Eb(3),i.Tc(n.signatureBook.attachments[n.rightSelectedThumbnail].typist)}}function Va(t,e){1&t&&i.Ub(0,"i",124)}function Ha(t,e){1&t&&i.Ub(0,"i",82)}function Qa(t,e){if(1&t&&i.Ub(0,"app-document-viewer",125,126),2&t){var n=i.lc(4);i.sc("editMode",!0)("hideTools",!0)("mode",n.signatureBook.attachments[n.rightSelectedThumbnail].isResource?"mainDocument":"attachment")("resId",n.signatureBook.attachments[n.rightSelectedThumbnail].signed?n.signatureBook.attachments[n.rightSelectedThumbnail].viewerId:n.signatureBook.attachments[n.rightSelectedThumbnail].res_id)("title",n.signatureBook.attachments[n.rightSelectedThumbnail].identifier)}}function Wa(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",85),i.Zb(1,"div",86),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Zb(5,"sub"),i.Sc(6),i.mc(7,"translate"),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Zb(9,"div",87),i.Zb(10,"a",88),i.hc("click",(function(){i.Hc(n);var t=i.lc(4);return t.downloadOriginalFile(t.signatureBook.attachments[t.rightSelectedThumbnail].res_id)})),i.mc(11,"translate"),i.Ub(12,"i",89),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(4);i.sc("ngStyle",i.zc(15,Oa,a.showTopRightPanel?"79%":"96%")),i.Eb(2),i.Tc(i.nc(3,7,"lang.noOverviewAvailable")),i.Eb(4),i.Xc("",i.nc(7,9,"lang.pdfVersionFile"),' "',a.signatureBook.attachments[a.rightSelectedThumbnail].title,".",a.signatureBook.attachments[a.rightSelectedThumbnail].format,'" ',i.nc(8,11,"lang.isNotAvailable"),"."),i.Eb(4),i.tc("title",i.nc(11,13,"lang.dlAttachment"))}}function Ga(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",85),i.Ub(1,"div",127),i.Zb(2,"div"),i.Zb(3,"a",128),i.hc("click",(function(){i.Hc(n);var t=i.lc(4);return t.showAttachment(t.signatureBook.attachments[t.rightSelectedThumbnail])})),i.mc(4,"translate"),i.Ub(5,"i",129),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(4);i.sc("ngStyle",i.zc(5,Oa,a.showTopRightPanel?"79%":"96%")),i.Eb(1),i.sc("innerHTML",a.translate.instant("lang.editingAttachmentInterrupted"),i.Ic),i.Eb(2),i.tc("title",i.nc(4,3,"lang.editAttachment"))}}var qa=function(t){return{display:t}};function Xa(t,e){if(1&t){var n=i.ac();i.Zb(0,"img",136),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=i.lc(7);return a.signFile(a.signatureBook.attachments[a.rightSelectedThumbnail],t)})),i.mc(1,"async"),i.mc(2,"secureUrl"),i.Yb()}if(2&t){var a=e.$implicit,r=e.index,o=i.lc(7);i.tc("title",a.signature_label),i.sc("src",i.nc(1,3,i.nc(2,5,"../rest/users/"+a.user_serial_id+"/signatures/"+a.id+"/content")),i.Kc)("ngStyle",i.zc(7,qa,!o.showSignaturesPanel&&r>0?"none":""))}}function $a(t,e){if(1&t&&(i.Zb(0,"span"),i.Qc(1,Xa,3,9,"img",135),i.Yb()),2&t){var n=i.lc(6);i.Eb(1),i.sc("ngForOf",n.signatureBook.signatures)}}function Ja(t,e){1&t&&i.Ub(0,"i",137)}function Ka(t,e){if(1&t&&(i.Zb(0,"span",133),i.Qc(1,$a,2,1,"span",3),i.Qc(2,Ja,1,0,"i",134),i.Yb()),2&t){var n=i.lc(5);i.Eb(1),i.sc("ngIf",!n.loadingSign),i.Eb(1),i.sc("ngIf",n.loadingSign)}}function tr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",138),i.hc("click",(function(){i.Hc(n);var t=i.lc(5);return t.unsignFile(t.signatureBook.attachments[t.rightSelectedThumbnail])})),i.Ub(1,"i",139),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.tc("title",i.nc(2,1,"lang.unsign")))}var er=function(t){return[t]},nr=function(t){return{"box-shadow":t}};function ir(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",130),i.hc("mouseenter",(function(){return i.Hc(n),i.lc(4).showSignaturesPanel=!0}))("mouseleave",(function(){return i.Hc(n),i.lc(4).showSignaturesPanel=!1})),i.Qc(1,Ka,3,2,"span",131),i.Qc(2,tr,3,3,"span",132),i.Yb()}if(2&t){var a=i.lc(4);i.sc("ngClass",i.zc(4,er,"SIGN"==a.signatureBook.attachments[a.rightSelectedThumbnail].status?"signed":""))("ngStyle",i.zc(6,nr,a.signatureBook.listinstance.requested_signature?"inset 0px 0px 5px 0px red":"inset 0px 0px 5px 0px #656565;")),i.Eb(1),i.sc("ngIf","SIGN"!=a.signatureBook.attachments[a.rightSelectedThumbnail].status&&a.signatureBook.signatures[0]),i.Eb(1),i.sc("ngIf","SIGN"==a.signatureBook.attachments[a.rightSelectedThumbnail].status)}}function ar(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",112),i.Zb(1,"div",113),i.Zb(2,"div",114),i.Zb(3,"label"),i.Sc(4,"Type :\xa0"),i.Yb(),i.Zb(5,"span"),i.Sc(6),i.Qc(7,Ua,3,3,"sup",115),i.Yb(),i.Yb(),i.Zb(8,"div",114),i.Zb(9,"label"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Zb(12,"span"),i.Sc(13),i.Yb(),i.Yb(),i.Zb(14,"div",114),i.Zb(15,"label"),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Zb(18,"span"),i.Sc(19),i.Yb(),i.Yb(),i.Zb(20,"div"),i.Qc(21,Ba,6,5,"div",116),i.Qc(22,za,10,12,"div",116),i.Zb(23,"div",117),i.Zb(24,"label"),i.Sc(25),i.mc(26,"translate"),i.Yb(),i.Zb(27,"span"),i.Sc(28),i.mc(29,"date"),i.Yb(),i.Yb(),i.Zb(30,"div",114),i.mc(31,"date"),i.Zb(32,"label"),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Zb(35,"span"),i.Sc(36),i.mc(37,"date"),i.Yb(),i.Yb(),i.Zb(38,"div",114),i.Zb(39,"label"),i.Sc(40),i.mc(41,"translate"),i.Yb(),i.Zb(42,"span"),i.Sc(43),i.Yb(),i.Yb(),i.Zb(44,"div",117),i.Zb(45,"label"),i.Sc(46,"Version :\xa0"),i.Yb(),i.Zb(47,"span"),i.Sc(48),i.Yb(),i.Ub(49,"i",118),i.Yb(),i.Zb(50,"div",117),i.Zb(51,"label"),i.Sc(52,"Format :\xa0"),i.Yb(),i.Zb(53,"span"),i.Sc(54),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(55,"div",119),i.hc("click",(function(){return i.Hc(n),i.lc(3).displayPanel("TOPRIGHT")})),i.mc(56,"translate"),i.Qc(57,Va,1,0,"i",120),i.Qc(58,Ha,1,0,"i",79),i.Yb(),i.Qc(59,Qa,2,5,"app-document-viewer",121),i.Qc(60,Wa,13,17,"div",71),i.Qc(61,Ga,6,7,"div",71),i.Qc(62,ir,3,8,"div",122),i.Yb()}if(2&t){var a=i.lc(3);i.Eb(1),i.sc("ngStyle",i.zc(51,qa,a.showTopRightPanel?"block":"none")),i.Eb(1),i.tc("title",a.signatureBook.attachments[a.rightSelectedThumbnail].attachment_type),i.Eb(4),i.Uc("",a.signatureBook.attachments[a.rightSelectedThumbnail].attachment_type," "),i.Eb(1),i.sc("ngIf","SIGN"==a.signatureBook.attachments[a.rightSelectedThumbnail].status),i.Eb(1),i.tc("title",a.signatureBook.attachments[a.rightSelectedThumbnail].title),i.Eb(2),i.Uc("",i.nc(11,30,"lang.object")," :\xa0"),i.Eb(3),i.Tc(a.signatureBook.attachments[a.rightSelectedThumbnail].title),i.Eb(1),i.tc("title",a.signatureBook.attachments[a.rightSelectedThumbnail].destUser),i.Eb(2),i.Uc("",i.nc(17,32,"lang.for")," :\xa0"),i.Eb(3),i.Tc(a.signatureBook.attachments[a.rightSelectedThumbnail].destUser),i.Eb(2),i.sc("ngIf",!a.signatureBook.attachments[a.rightSelectedThumbnail].updated_by),i.Eb(1),i.sc("ngIf",a.signatureBook.attachments[a.rightSelectedThumbnail].updated_by),i.Eb(3),i.Uc("",i.nc(26,34,"lang.createdOn")," :\xa0"),i.Eb(3),i.Tc(i.oc(29,36,a.signatureBook.attachments[a.rightSelectedThumbnail].creation_date,"dd/MM/y \xe0 HH:mm")),i.Eb(2),i.tc("title",i.oc(31,39,a.signatureBook.attachments[a.rightSelectedThumbnail].validation_date,"dd/MM/y")),i.Eb(3),i.Uc("",i.nc(34,42,"lang.back")," :\xa0"),i.Eb(3),i.Tc(i.oc(37,44,a.signatureBook.attachments[a.rightSelectedThumbnail].validation_date,"dd/MM/y")),i.Eb(2),i.tc("title",a.signatureBook.attachments[a.rightSelectedThumbnail].identifier),i.Eb(2),i.Uc("",i.nc(41,47,"lang.chrono")," :\xa0"),i.Eb(3),i.Tc(a.signatureBook.attachments[a.rightSelectedThumbnail].identifier),i.Eb(5),i.Tc(a.signatureBook.attachments[a.rightSelectedThumbnail].relation),i.Eb(1),i.sc("ngStyle",i.zc(53,qa,a.signatureBook.attachments[a.rightSelectedThumbnail].relation>1?"":"none")),i.Eb(5),i.Tc(a.signatureBook.attachments[a.rightSelectedThumbnail].format.toUpperCase()),i.Eb(1),i.tc("title",i.nc(56,49,"lang.details")),i.Eb(2),i.sc("ngIf",!a.showTopRightPanel),i.Eb(1),i.sc("ngIf",a.showTopRightPanel),i.Eb(1),i.sc("ngIf",a.signatureBook.attachments[a.rightSelectedThumbnail].isConverted),i.Eb(1),i.sc("ngIf","pdf"!=a.signatureBook.attachments[a.rightSelectedThumbnail].format&&"TMP"!=a.signatureBook.attachments[a.rightSelectedThumbnail].status&&!a.signatureBook.attachments[a.rightSelectedThumbnail].isConverted),i.Eb(1),i.sc("ngIf","TMP"==a.signatureBook.attachments[a.rightSelectedThumbnail].status&&!a.signatureBook.attachments[a.rightSelectedThumbnail].isConverted),i.Eb(1),i.sc("ngIf",a.signatureBook.signatures[0]&&a.signatureBook.canSign&&"TMP"!=a.signatureBook.attachments[a.rightSelectedThumbnail].status&&a.signatureBook.attachments[a.rightSelectedThumbnail].sign&&a.signatureBook.attachments[a.rightSelectedThumbnail].isConverted)}}function rr(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-attachments-list",140,141),i.hc("reloadBadgeAttachments",(function(){return i.Hc(n),i.lc(3).refreshAttachments()}))("afterActionAttachment",(function(){return i.Hc(n),i.lc(3).refreshAttachments()})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.resId)("target","process")("canModify",a.canUpdateDocument)}}function or(t,e){if(1&t&&(i.Zb(0,"div",142),i.Ub(1,"div",110),i.Yb()),2&t){var n=i.lc(3);i.Eb(1),i.sc("innerHTML",n.translate.instant("lang.noAttachmentClickToAddOne"),i.Ic)}}var sr=function(t){return{"margin-left":t}};function cr(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",104),i.Zb(1,"div",105),i.hc("click",(function(){return i.Hc(n),i.lc(2).displayPanel("LEFT")})),i.Qc(2,Za,1,0,"i",63),i.Qc(3,Na,1,0,"i",62),i.Yb(),i.Zb(4,"div",106),i.Qc(5,ar,63,55,"div",107),i.Qc(6,rr,2,3,"app-attachments-list",108),i.Yb(),i.Zb(7,"div",109),i.Ub(8,"div",110),i.Yb(),i.Qc(9,or,2,1,"div",111),i.Yb()}if(2&t){var a=i.lc(2);i.sc("ngStyle",i.zc(8,Fa,a.rightContentWidth)),i.Eb(1),i.sc("ngStyle",i.zc(10,sr,a.showLeftPanel?"-13px":"-2px")),i.Eb(1),i.sc("ngIf",a.showLeftPanel),i.Eb(1),i.sc("ngIf",!a.showLeftPanel),i.Eb(2),i.sc("ngIf",a.signatureBook.attachments[a.rightSelectedThumbnail]&&!a.showAttachmentPanel),i.Eb(1),i.sc("ngIf",a.showAttachmentPanel),i.Eb(2),i.sc("innerHTML",a.translate.instant("lang.noVisaWorkflowNoSignature"),i.Ic),i.Eb(1),i.sc("ngIf",!a.signatureBook.attachments[a.rightSelectedThumbnail])}}function lr(t,e){1&t&&i.Ub(0,"i",153)}function ur(t,e){1&t&&i.Ub(0,"i",154)}function dr(t,e){1&t&&(i.Zb(0,"i",155),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.draft")))}function fr(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",145),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc(3).changeRightViewer(t)})),i.Zb(1,"span",146),i.Ub(2,"i",147),i.Zb(3,"i",148),i.Sc(4),i.Yb(),i.Yb(),i.Qc(5,lr,1,0,"i",149),i.Qc(6,ur,1,0,"i",150),i.Qc(7,dr,3,3,"i",151),i.Ub(8,"br"),i.Zb(9,"i",152),i.Sc(10),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=e.index,o=i.lc(3);i.vc("title","[",a.attachment_type,"] ",a.title,""),i.sc("ngClass",i.zc(8,va,r==o.rightSelectedThumbnail&&!o.showAttachmentPanel)),i.Eb(4),i.Tc(a.icon),i.Eb(1),i.sc("ngIf",a.sign&&"SIGN"==a.status),i.Eb(1),i.sc("ngIf",a.sign&&"SIGN"!=a.status&&"TMP"!=a.status),i.Eb(1),i.sc("ngIf",a.sign&&"TMP"==a.status),i.Eb(3),i.Uc(".",a.format,"")}}function hr(t,e){if(1&t&&(i.Zb(0,"div",143),i.Qc(1,fr,11,10,"div",144),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngForOf",n.signatureBook.attachments)}}var pr=function(t){return{visaDisabledButton:t}};function mr(t,e){if(1&t){var n=i.ac();i.Zb(0,"div"),i.Zb(1,"div",156),i.hc("click",(function(){i.Hc(n);var t=i.lc(2);return t.showAttachment(t.signatureBook.attachments[t.rightSelectedThumbnail])})),i.mc(2,"translate"),i.Ub(3,"i",157),i.Yb(),i.Zb(4,"div",158),i.hc("click",(function(){i.Hc(n);var t=i.lc(2);return t.delAttachment(t.signatureBook.attachments[t.rightSelectedThumbnail])})),i.mc(5,"translate"),i.Ub(6,"i",159),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(1),i.tc("title",i.nc(2,4,"lang.editDocument")),i.sc("ngClass",i.zc(8,pr,!a.canUpdateDocument||"SIGN"==a.signatureBook.attachments[a.rightSelectedThumbnail].status)),i.Eb(3),i.tc("title",i.nc(5,6,"lang.deleteAtt")),i.sc("ngClass",i.zc(10,pr,!a.canUpdateDocument))}}function gr(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",4),i.Zb(1,"div",6),i.Zb(2,"div",7),i.Qc(3,ra,3,6,"div",8),i.Qc(4,sa,3,7,"div",9),i.Yb(),i.Zb(5,"div",10),i.Zb(6,"div"),i.Sc(7),i.Yb(),i.Yb(),i.Zb(8,"div",11),i.Zb(9,"i",12),i.hc("click",(function(){return i.Hc(n),i.lc().backToBasket()})),i.Yb(),i.Yb(),i.Zb(10,"div",13),i.Zb(11,"i",14),i.hc("click",(function(){return i.Hc(n),i.lc().backToDetails()})),i.mc(12,"translate"),i.Yb(),i.Sc(13,"\xa0 "),i.Zb(14,"select",15),i.Qc(15,ca,2,2,"option",16),i.Yb(),i.Zb(16,"input",17),i.hc("click",(function(){return i.Hc(n),i.lc().validForm()})),i.mc(17,"translate"),i.Yb(),i.Yb(),i.Qc(18,la,3,2,"div",18),i.Yb(),i.Zb(19,"div",19),i.Zb(20,"div",20),i.Zb(21,"div",21),i.Qc(22,ha,26,34,"div",22),i.Yb(),i.Qc(23,pa,2,0,"div",23),i.Yb(),i.Qc(24,Ya,10,14,"div",24),i.Qc(25,cr,10,12,"div",25),i.Zb(26,"div",26),i.Qc(27,hr,2,1,"div",27),i.Zb(28,"div",28),i.Zb(29,"div",29),i.hc("click",(function(){return i.Hc(n),i.lc().displayAttachmentPanel()})),i.mc(30,"translate"),i.Ub(31,"i",30),i.Yb(),i.Ub(32,"hr",31),i.Zb(33,"div",32),i.hc("click",(function(){return i.Hc(n),i.lc().createAttachment()})),i.mc(34,"translate"),i.Ub(35,"i",33),i.Ub(36,"i",34),i.Yb(),i.Qc(37,mr,7,12,"div",3),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc();i.Eb(3),i.sc("ngIf",a.signatureBook.documents[0]&&!a.signatureBook.documents[0].inSignatureBook),i.Eb(1),i.sc("ngForOf",a.processTool),i.Eb(1),i.tc("title",a.signatureBook.documents[0].title),i.Eb(2),i.Vc("",a.signatureBook.documents[0].alt_id," : ",a.signatureBook.documents[0].title,""),i.Eb(4),i.tc("title",i.nc(12,19,"lang.linkDetails")),i.Eb(4),i.sc("ngForOf",a.signatureBook.actions),i.Eb(1),i.tc("value",i.nc(17,21,"lang.validate")),i.Eb(2),i.sc("ngIf",!a.functions.empty(a.signatureBook.consigne)),i.Eb(2),i.sc("ngStyle",i.zc(27,qa,a.showResLeftPanel?"inline-block":"none")),i.Eb(2),i.sc("ngForOf",a.signatureBook.resList),i.Eb(1),i.sc("ngIf",0==a.signatureBook.resList.length),i.Eb(1),i.sc("ngIf",a.showLeftPanel),i.Eb(1),i.sc("ngIf",a.showRightPanel),i.Eb(2),i.sc("ngIf",a.signatureBook.attachments),i.Eb(2),i.tc("title",i.nc(30,23,"lang.displayAtt")),i.sc("ngClass",i.zc(29,va,a.showAttachmentPanel)),i.Eb(4),i.tc("title",i.nc(34,25,"lang.createAtt")),i.Eb(4),i.sc("ngIf",a.signatureBook.attachments[a.rightSelectedThumbnail])}}function br(t,e){if(1&t){var n=i.ac();i.Zb(0,"div"),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Sc(6,"\xa0 "),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Zb(10,"span"),i.Sc(11),i.Yb(),i.Sc(12,"\xa0 "),i.Zb(13,"a",88),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).downloadOriginalFile(t.resId)})),i.mc(14,"translate"),i.Ub(15,"i",89),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit;i.Eb(2),i.Uc("",i.nc(3,5,"lang.version")," : "),i.Eb(3),i.Tc(a.relation),i.Eb(3),i.Uc("",i.nc(9,7,"lang.object")," : "),i.Eb(3),i.Tc(a.title),i.Eb(2),i.tc("title",i.nc(14,9,"lang.dlAttachment"))}}function vr(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,br,16,11,"div",160),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngForOf",n.signatureBook.attachments[n.rightSelectedThumbnail].obsAttachments)}}var yr,_r,kr=((yr=function(){function t(e,n,i,a,r,o,s,c,l,u,d,f){var h=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.appService=i,this.route=a,this.router=r,this.zone=o,this.notify=s,this.privilegeService=c,this.dialog=l,this.functions=u,this.actionService=d,this.headerService=f,this.signatureBook={consigne:"",documents:[],attachments:[],resList:[],resListIndex:0,lang:{}},this.rightSelectedThumbnail=0,this.leftSelectedThumbnail=0,this.rightViewerLink="",this.leftViewerLink="",this.headerTab="document",this.showTopRightPanel=!1,this.showTopLeftPanel=!1,this.showResLeftPanel=!0,this.showLeftPanel=!0,this.showRightPanel=!0,this.showAttachmentPanel=!1,this.showSignaturesPanel=!1,this.loading=!1,this.loadingSign=!1,this.canUpdateDocument=!1,this.currentResourceLock=null,this.leftContentWidth="44%",this.rightContentWidth="44%",this.processTool=[{id:"notes",icon:"fas fa-pen-square fa-2x",label:this.translate.instant("lang.notesAlt"),count:0},{id:"visaCircuit",icon:"fas fa-list-ol fa-2x",label:this.translate.instant("lang.visaWorkflow"),count:0},{id:"history",icon:"fas fa-history fa-2x",label:this.translate.instant("lang.history"),count:0},{id:"linkedResources",icon:"fas fa-link fa-2x",label:this.translate.instant("lang.links"),count:0}],window.pdfWorkerSrc="../node_modules/pdfjs-dist/build/pdf.worker.min.js",this.subscription=this.actionService.catchAction().subscribe((function(t){h.processAfterAction()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.route.params.subscribe((function(e){t.resId=+e.resId,t.basketId=e.basketId,t.groupId=e.groupId,t.userId=e.userId,t.signatureBook.resList=[],t.actionService.lockResource(t.userId,t.groupId,t.basketId,[t.resId]),t.http.get("../rest/signatureBook/users/"+t.userId+"/groups/"+t.groupId+"/baskets/"+t.basketId+"/resources/"+t.resId).subscribe((function(e){if(e.error)return location.hash="",void(location.search="");t.signatureBook=e,t.canUpdateDocument=e.canUpdateDocuments,t.headerTab="document",t.leftSelectedThumbnail=0,t.rightSelectedThumbnail=0,t.leftViewerLink="",t.rightViewerLink="",t.showLeftPanel=!0,t.showRightPanel=!0,t.showResLeftPanel=!0,t.showTopLeftPanel=!1,t.showTopRightPanel=!1,t.showAttachmentPanel=!1,t.leftContentWidth="44%",t.rightContentWidth="44%",t.signatureBook.documents[0]&&(t.leftViewerLink=t.signatureBook.documents[0].viewerLink,t.signatureBook.documents[0].inSignatureBook&&(t.headerTab="visaCircuit")),t.signatureBook.attachments[0]&&(t.rightViewerLink=t.signatureBook.attachments[0].viewerLink),t.signatureBook.resListIndex=t.signatureBook.resList.map((function(t){return t.res_id})).indexOf(t.resId),t.displayPanel("RESLEFT"),t.loading=!1,setTimeout((function(){$("#rightPanelContent").niceScroll({touchbehavior:!1,cursorcolor:"#666",cursoropacitymax:.6,cursorwidth:"4"}),0===$(".tooltipstered").length&&$("#obsVersion").tooltipster({theme:"tooltipster-light",interactive:!0})}),0),t.loadBadges(),t.loadActions(),void 0!==t.appDocumentViewer&&t.appDocumentViewer.loadRessource(t.signatureBook.attachments[t.rightSelectedThumbnail].signed?t.signatureBook.attachments[t.rightSelectedThumbnail].viewerId:t.signatureBook.attachments[t.rightSelectedThumbnail].res_id,t.signatureBook.attachments[t.rightSelectedThumbnail].isResource?"mainDocument":"attachment")}),(function(e){t.notify.error(e.error.errors),setTimeout((function(){t.backToBasket()}),2e3)}))}))}},{key:"loadActions",value:function(){var t=this;this.http.get("../rest/resourcesList/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/actions?resId="+this.resId).subscribe((function(e){t.signatureBook.actions=e.actions}),(function(e){t.notify.error(e.error.errors)}))}},{key:"processAfterAction",value:function(){for(var t=-1,e=this.signatureBook.resList.length,n=0;n<e;n++)this.signatureBook.resList[n].res_id===this.resId&&(this.signatureBook.resList[n+1]?t=this.signatureBook.resList[n+1].res_id:n>0&&(t=this.signatureBook.resList[n-1].res_id));e>0&&(t>=0?($("#send").removeAttr("disabled"),$("#send").css("opacity","1"),this.changeLocation(t,"action")):this.backToBasket())}},{key:"changeSignatureBookLeftContent",value:function(t){this.headerTab=t,this.showTopLeftPanel=!1}},{key:"changeRightViewer",value:function(t){this.showAttachmentPanel=!1,this.rightViewerLink=this.signatureBook.attachments[t]?this.signatureBook.attachments[t].viewerLink:"",this.rightSelectedThumbnail=t,this.appDocumentViewer.loadRessource(this.signatureBook.attachments[this.rightSelectedThumbnail].signed?this.signatureBook.attachments[this.rightSelectedThumbnail].viewerId:this.signatureBook.attachments[this.rightSelectedThumbnail].res_id,this.signatureBook.attachments[this.rightSelectedThumbnail].isResource?"mainDocument":"attachment")}},{key:"changeLeftViewer",value:function(t){this.leftViewerLink=this.signatureBook.documents[t].viewerLink,this.leftSelectedThumbnail=t}},{key:"displayPanel",value:function(t){var e=this;"TOPRIGHT"===t?this.showTopRightPanel=!this.showTopRightPanel:"TOPLEFT"===t?this.showTopLeftPanel=!this.showTopLeftPanel:"LEFT"===t?(this.showLeftPanel=!this.showLeftPanel,this.showResLeftPanel=!1,this.showLeftPanel?(this.rightContentWidth="48%",this.leftContentWidth="48%",$("#hideLeftContent").css("background","#fbfbfb")):(this.rightContentWidth="96%",$("#hideLeftContent").css("background","none"))):"RESLEFT"===t?(this.showResLeftPanel=!this.showResLeftPanel,this.showResLeftPanel?(this.rightContentWidth="44%",this.leftContentWidth="44%",0!==this.signatureBook.resList.length&&void 0!==this.signatureBook.resList[0].creation_date||this.http.get("../rest/signatureBook/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/resources").subscribe((function(t){e.signatureBook.resList=t.resources,e.signatureBook.resList.forEach((function(t,n){t.res_id==e.resId&&(e.signatureBook.resListIndex=n)})),setTimeout((function(){$("#resListContent").niceScroll({touchbehavior:!1,cursorcolor:"#666",cursoropacitymax:.6,cursorwidth:"4"}),$("#resListContent").scrollTop(0),$("#resListContent").scrollTop($(".resListContentFrameSelected").offset().top-42)}),0)}))):(this.rightContentWidth="48%",this.leftContentWidth="48%")):"MIDDLE"===t&&(this.showRightPanel=!this.showRightPanel,this.showResLeftPanel=!1,this.showRightPanel?(this.rightContentWidth="48%",this.leftContentWidth="48%",$("#contentLeft").css("border-right","solid 1px")):(this.leftContentWidth="96%",$("#contentLeft").css("border-right","none")))}},{key:"displayAttachmentPanel",value:function(){this.showAttachmentPanel=!this.showAttachmentPanel,this.rightSelectedThumbnail=0,this.signatureBook.attachments[0]&&(this.rightViewerLink=this.signatureBook.attachments[0].viewerLink)}},{key:"refreshAttachments",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rightContent";"rightContent"===e?this.http.get("../rest/signatureBook/"+this.resId+"/incomingMailAttachments").subscribe((function(e){t.signatureBook.documents=e})):this.http.get("../rest/signatureBook/"+this.resId+"/attachments").subscribe((function(n){var i=0;if("add"===e){var a=!1;n.forEach((function(e,n){a||t.signatureBook.attachments[n]&&e.res_id==t.signatureBook.attachments[n].res_id||(i=n,a=!0)}))}else if("edit"===e){var r=t.signatureBook.attachments[t.rightSelectedThumbnail].res_id;n.forEach((function(t,e){t.res_id==r&&(i=e)}))}t.signatureBook.attachments=n,"add"===e||"edit"===e?t.changeRightViewer(i):"del"===e&&t.changeRightViewer(0)}))}},{key:"delAttachment",value:function(t){var e=this;this.canUpdateDocument&&(this.signatureBook.attachments.length<=1?confirm("Attention, ceci est votre derni\xe8re pi\xe8ce jointe pour ce courrier, voulez-vous vraiment la supprimer ?"):confirm("Voulez-vous vraiment supprimer la pi\xe8ce jointe ?"))&&this.http.delete("../rest/attachments/"+t.res_id).pipe(Object(lt.a)((function(){e.refreshAttachments("del")})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"signFile",value:function(t,e){var n=this;!this.loadingSign&&this.signatureBook.canSign&&(this.loadingSign=!0,this.http.put(t.isResource?"../rest/resources/"+t.res_id+"/sign":"../rest/attachments/"+t.res_id+"/sign",{signatureId:e.id}).subscribe((function(e){t.isResource?(n.appDocumentViewer.loadRessource(t.res_id,"mainDocument"),n.rightViewerLink+="?tsp="+Math.floor(100*Math.random()),n.signatureBook.attachments[n.rightSelectedThumbnail].status="SIGN"):(n.appDocumentViewer.loadRessource(e.id,"attachment"),n.rightViewerLink="../rest/attachments/"+e.id+"/content",n.signatureBook.attachments[n.rightSelectedThumbnail].status="SIGN",n.signatureBook.attachments[n.rightSelectedThumbnail].idToDl=e.new_id,n.signatureBook.attachments[n.rightSelectedThumbnail].signed=!0,n.signatureBook.attachments[n.rightSelectedThumbnail].viewerId=e.id),n.signatureBook.attachments[n.rightSelectedThumbnail].viewerLink=n.rightViewerLink;var i=!0;n.signatureBook.attachments.forEach((function(t){t.sign&&"SIGN"!==t.status&&(i=!1)})),n.signatureBook.resList.length>0&&(n.signatureBook.resList[n.signatureBook.resListIndex].allSigned=i),n.showSignaturesPanel=!1,n.loadingSign=!1}),(function(t){n.notify.handleSoftErrors(t),n.loadingSign=!1})))}},{key:"unsignFile",value:function(t){var e=this;t.isResource?this.http.put("../rest/resources/"+t.res_id+"/unsign",{}).subscribe((function(){e.appDocumentViewer.loadRessource(t.res_id,"maintDocument"),e.rightViewerLink+="?tsp="+Math.floor(100*Math.random()),e.signatureBook.attachments[e.rightSelectedThumbnail].status="A_TRA",e.signatureBook.resList.length>0&&(e.signatureBook.resList[e.signatureBook.resListIndex].allSigned=!1),"visaCircuit"===e.headerTab&&(e.changeSignatureBookLeftContent("document"),setTimeout((function(){e.changeSignatureBookLeftContent("visaCircuit")}),0))})):this.http.put("../rest/attachments/"+t.res_id+"/unsign",{}).subscribe((function(){e.appDocumentViewer.loadRessource(t.res_id,"attachment"),e.rightViewerLink="../rest/attachments/"+t.res_id+"/content",e.signatureBook.attachments[e.rightSelectedThumbnail].viewerLink=e.rightViewerLink,e.signatureBook.attachments[e.rightSelectedThumbnail].status="A_TRA",e.signatureBook.attachments[e.rightSelectedThumbnail].idToDl=t.res_id,e.signatureBook.attachments[e.rightSelectedThumbnail].signed=!1,e.signatureBook.attachments[e.rightSelectedThumbnail].viewerId=t.res_id,e.signatureBook.resList.length>0&&(e.signatureBook.resList[e.signatureBook.resListIndex].allSigned=!1),"visaCircuit"===e.headerTab&&(e.changeSignatureBookLeftContent("document"),setTimeout((function(){e.changeSignatureBookLeftContent("visaCircuit")}),0))}))}},{key:"backToBasket",value:function(){this.router.navigate(["/basketList/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId])}},{key:"backToDetails",value:function(){var t=this;this.http.put("../rest/resourcesList/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/unlock",{resources:[this.resId]}).subscribe((function(e){t.router.navigate(["/resources/"+t.resId])}),(function(t){}))}},{key:"changeLocation",value:function(t,e){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this.resId,!e.t0){e.next=11;break}return e.t1=!0,e.next=5,this.actionService.canExecuteAction([t],this.userId,this.groupId,this.basketId);case 5:if(e.t2=e.sent,e.t1!==e.t2){e.next=10;break}this.actionService.stopRefreshResourceLock(),this.actionService.actionEnded||this.actionService.unlockResource(this.userId,this.groupId,this.basketId,[this.resId]),this.router.navigate(["signatureBook/users/"+this.userId+"/groups/"+this.groupId+"/baskets/"+this.basketId+"/resources/"+t]),e.next=11;break;case 10:this.backToBasket();case 11:case"end":return e.stop()}}),e,this)})))}},{key:"validForm",value:function(){""!==$("#signatureBookActions option:selected").val()?this.processAction():alert("Aucune action choisie")}},{key:"processAction",value:function(){var t=this;this.http.get("../rest/resources/".concat(this.resId,"?light=true")).pipe(Object(lt.a)((function(e){var n=$("#signatureBookActions option:selected").val(),i=t.signatureBook.actions.filter((function(t){return t.id==n}))[0];t.actionService.launchAction(i,t.userId,t.groupId,t.basketId,[t.resId],e,!1)})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"refreshBadge",value:function(t,e){this.processTool.filter((function(t){return t.id===e}))[0].count=t}},{key:"loadBadges",value:function(){var t=this;this.http.get("../rest/resources/".concat(this.resId,"/items")).pipe(Object(lt.a)((function(e){t.processTool.forEach((function(t){t.count=void 0!==e[t.id]?e[t.id]:0}))})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"createAttachment",value:function(){var t=this;this.dialogRef=this.dialog.open(Qi.a,{disableClose:!0,panelClass:"attachment-modal-container",height:"90vh",width:"90vw",data:{resIdMaster:this.resId}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"success"===t})),Object(lt.a)((function(){t.refreshAttachments("add")})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"showAttachment",value:function(t){var e=this;this.canUpdateDocument&&"SIGN"!==t.status&&(t.isResource?this.appDocumentViewer.editResource():(this.dialogRef=this.dialog.open(Wi.a,{height:"99vh",width:this.appService.getViewMode()?"99vw":"90vw",maxWidth:this.appService.getViewMode()?"99vw":"90vw",panelClass:"attachment-modal-container",disableClose:!0,data:{resId:t.res_id}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"success"===t})),Object(lt.a)((function(){e.refreshAttachments("edit")})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe()))}},{key:"saveVisaWorkflow",value:function(){this.appVisaWorkflow.saveVisaWorkflow()}},{key:"downloadOriginalFile",value:function(t){var e=this,n=document.createElement("a");this.http.get("../rest/attachments/".concat(t,"/originalContent?mode=base64")).pipe(Object(lt.a)((function(e){n.href="data:".concat(e.mimeType,";base64,").concat(e.encodedDocument),n.setAttribute("download","".concat(t,".").concat(e.extension)),document.body.appendChild(n),n.click()})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"ngOnDestroy",value:function(){this.actionService.stopRefreshResourceLock(),this.actionService.actionEnded||this.actionService.unlockResource(this.userId,this.groupId,this.basketId,[this.resId]),this.subscription.unsubscribe()}},{key:"pdfViewerError",value:function(t){var e=this;this.http.get(t).pipe(Object(wn.a)((function(t){return 200!==t.status&&e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||yr)(i.Tb(l.e),i.Tb(u.b),i.Tb(p.a),i.Tb(o.a),i.Tb(o.c),i.Tb(i.B),i.Tb(h.a),i.Tb(Gi.a),i.Tb(Y.b),i.Tb(ft.a),i.Tb(qi.a),i.Tb(f.a))},yr.\u0275cmp=i.Nb({type:yr,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.ad(ea,!0),i.ad(na,!0)),2&t&&(i.Cc(n=i.ic())&&(e.appVisaWorkflow=n.first),i.Cc(n=i.ic())&&(e.appDocumentViewer=n.first))},decls:5,vars:3,consts:[["class","visaContent",4,"ngIf"],[1,"tooltip_templates",2,"display","none"],["id","obsVersionTooltip"],[4,"ngIf"],[1,"visaContent"],[1,"fa","fa-spinner","fa-spin","fa-5x",2,"margin-left","50%","margin-top","16%","font-size","8em"],[1,"titleSignatureBook"],["id","tabSignatureBook"],["class","item",3,"title","ngClass","click",4,"ngIf"],["class","item",3,"title","ngClass","click",4,"ngFor","ngForOf"],["id","labelSignatureBook",3,"title"],["id","closeSignatureBook"],[1,"fa","fa-times-circle","fa-2x",2,"cursor","pointer",3,"click"],[1,"actions"],[1,"fa","fa-info-circle","fa-2x",2,"cursor","pointer","vertical-align","middle",3,"title","click"],["id","signatureBookActions"],[3,"value",4,"ngFor","ngForOf"],["name","send","id","send","type","button",1,"button","button-form-primary-filled",3,"value","click"],["class","others",4,"ngIf"],[1,"contentSignatureBook"],["id","resListContent",1,"resListContent",3,"ngStyle"],[1,"resListContentPos"],["class","resListContentFrame",3,"ngClass","click",4,"ngFor","ngForOf"],["style","position: absolute;top: 48%; left: 3%",4,"ngIf"],["class","contentLeft","id","contentLeft",3,"ngStyle",4,"ngIf"],["class","contentRight","id","contentRight",3,"ngStyle",4,"ngIf"],[1,"panelRight"],["id","rightPanelContent","class","panelRightContent",4,"ngIf"],[2,"bottom","0px","position","absolute","width","100%"],[1,"panelRightListPj",3,"title","ngClass","click"],[1,"fa","fa-bars","fa-2x"],[2,"background-color","#666","margin-top","0px"],[1,"panelRightAddPj",3,"title","click"],[1,"fa","fa-paperclip","fa-2x"],[1,"fa","fa-plus",2,"position","absolute"],[1,"item",3,"title","ngClass","click"],[1,"fa","fa-file-alt","fa-2x"],["class","fas fa-circle haveContent",4,"ngIf"],[1,"fas","fa-circle","haveContent"],[3,"value"],[1,"others"],["id","consigne"],["type","text","readonly","readonly",1,"inputConsigne",3,"value","title"],[1,"resListContentFrame",3,"ngClass","click"],[1,"resListContentInfo"],[1,"fa","fa-compass",3,"title"],["class","fa fa-certificate",4,"ngIf"],["aria-hidden","true",1,"fa","fa-circle",2,"position","absolute","right","0px","top","-10px","font-size","25px",3,"title","ngStyle"],[1,"fa","fa-info",3,"title"],[1,"fa","fa-book",3,"title"],[1,"fa","fa-calendar-alt",3,"title"],[1,"resListContentInfo",2,"margin-top","-10px"],[1,"fa","fa-bell",3,"title"],[1,"fa","fa-certificate"],[2,"position","absolute","top","48%","left","3%"],[1,"fa","fa-spinner","fa-spin","fa-4x"],["id","contentLeft",1,"contentLeft",3,"ngStyle"],["class","hideresListContent",3,"click",4,"ngIf"],["class","contentShow",4,"ngIf"],["class","contentShow","style","width:98%;",4,"ngIf"],["class","contentShow","style","width:98%;overflow-x: hidden;",4,"ngIf"],[1,"hideRightContent",3,"ngStyle","click"],["class","fa fa-chevron-right","aria-hidden","true",4,"ngIf"],["class","fa fa-chevron-left","aria-hidden","true",4,"ngIf"],[1,"hideresListContent",3,"click"],["aria-hidden","true",1,"fa","fa-chevron-left"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"contentShow"],["class","pjDoc",4,"ngIf"],["class","pjDetailsMore","style","left:25px;",3,"title","click",4,"ngIf"],["id","leftPanelShowDocumentIframe",3,"src","render-text","fit-to-page","original-size","ngStyle","show-all","error",4,"ngIf"],["class","visaNoPdfWarning",3,"ngStyle",4,"ngIf"],[1,"pjDoc"],[2,"height","100%"],["id","thumnails_img","class","leftPanelThumbnails",3,"title","src","ngClass","click",4,"ngFor","ngForOf"],["id","thumnails_img",1,"leftPanelThumbnails",3,"title","src","ngClass","click"],[1,"pjDetailsMore",2,"left","25px",3,"title","click"],["class","fa fa-envelope-square fa-2x","aria-hidden","true",4,"ngIf"],["class","nbRes","style","position: absolute;right: 6px;top: 5px;",4,"ngIf"],["class","fa fa-chevron-up","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-envelope-square","fa-2x"],[1,"nbRes",2,"position","absolute","right","6px","top","5px"],["aria-hidden","true",1,"fa","fa-chevron-up"],["id","leftPanelShowDocumentIframe",3,"src","render-text","fit-to-page","original-size","ngStyle","show-all","error"],["leftPanelShowDocumentIframe",""],[1,"visaNoPdfWarning",3,"ngStyle"],[2,"padding-top","25%"],[1,"visaPjView"],[2,"cursor","pointer",3,"title","click"],[1,"fa","fa-download","fa-2x"],[1,"contentShow",2,"width","98%"],[3,"editMode","resId","reloadBadgeNotes"],["appNotesList",""],[1,"contentShow",2,"width","98%","overflow-x","hidden"],[3,"resId","adminMode","target"],["appVisaWorkflow",""],[2,"position","sticky","bottom","0px","text-align","right"],["mat-fab","","color","accent",3,"title","click",4,"ngIf"],["mat-fab","","color","accent",3,"title","click"],[1,"fas","fa-check",2,"height","auto","font-size","20px"],[3,"resId"],["appHistoryList",""],[3,"resId","reloadBadgeLinkedResources"],["appLinkedResourceList",""],["id","contentRight",1,"contentRight",3,"ngStyle"],["id","hideLeftContent",1,"hideLeftContent",3,"ngStyle","click"],[1,"contentShow",2,"overflow","auto"],["style","height:100%;overflow: auto;",4,"ngIf"],[3,"resId","target","canModify","reloadBadgeAttachments","afterActionAttachment",4,"ngIf"],[1,"visaNoWorkflowWarning"],[2,"margin-top","200px",3,"innerHTML"],["class","visaNoPjWarning",4,"ngIf"],[2,"height","100%","overflow","auto"],[1,"pjDetails",3,"ngStyle"],[1,"infoPj",3,"title"],["style","color:#135F7F;",4,"ngIf"],["class","infoPj",3,"title",4,"ngIf"],[1,"infoPj"],["id","obsVersion","data-tooltip-content","#obsVersionTooltip","aria-hidden","true",1,"fa","fa-chevron-circle-up",2,"color","#135F7F",3,"ngStyle"],[1,"pjDetailsMore",3,"title","click"],["class","fa fa-list-alt fa-2x","aria-hidden","true",4,"ngIf"],["id","rightPanelShowDocumentIframe","style","height:100%;width:100%;",3,"editMode","hideTools","mode","resId","title",4,"ngIf"],["class","pjSign",3,"ngClass","ngStyle","mouseenter","mouseleave",4,"ngIf"],[2,"color","#135F7F"],["aria-hidden","true",1,"fa","fa-list-alt","fa-2x"],["id","rightPanelShowDocumentIframe",2,"height","100%","width","100%",3,"editMode","hideTools","mode","resId","title"],["appDocumentViewer",""],[2,"padding-top","25%",3,"innerHTML"],[3,"title","click"],[1,"fa","fa-edit","fa-2x",2,"cursor","pointer"],[1,"pjSign",3,"ngClass","ngStyle","mouseenter","mouseleave"],["style","cursor: pointer",4,"ngIf"],["style","cursor: pointer;color: green;",3,"click",4,"ngIf"],[2,"cursor","pointer"],["class","fa fa-spinner fa-pulse fa-2x fa-fw",4,"ngIf"],[3,"src","ngStyle","title","click",4,"ngFor","ngForOf"],[3,"src","ngStyle","title","click"],[1,"fa","fa-spinner","fa-pulse","fa-2x","fa-fw"],[2,"cursor","pointer","color","green",3,"click"],["aria-hidden","true",1,"fa","fa-check","fa-2x",3,"title"],[3,"resId","target","canModify","reloadBadgeAttachments","afterActionAttachment"],["appAttachmentsList",""],[1,"visaNoPjWarning"],["id","rightPanelContent",1,"panelRightContent"],["style","position: relative;","class","item",3,"title","ngClass","click",4,"ngFor","ngForOf"],[1,"item",2,"position","relative",3,"title","ngClass","click"],[1,"fa-stack","fa-lg"],[1,"far","fa-file","fa-stack-2x"],[2,"font-weight","bold","letter-spacing","-1px"],["title","Le document a \xe9t\xe9 sign\xe9","style","position: absolute;top: 12px;right: 6px;","class","fa fa-circle",4,"ngIf"],["title","Le document n'a pas encore \xe9t\xe9 sign\xe9","style","position: absolute;top: 12px;right: 6px;","class","far fa-circle",4,"ngIf"],["style","color:green;-ms-transform: rotate(-35deg);-webkit-transform: rotate(-35deg);transform: rotate(-35deg);position: absolute;top: 39px;right: 1px;",4,"ngIf"],[2,"position","absolute","margin-left","-9px"],["title","Le document a \xe9t\xe9 sign\xe9",1,"fa","fa-circle",2,"position","absolute","top","12px","right","6px"],["title","Le document n'a pas encore \xe9t\xe9 sign\xe9",1,"far","fa-circle",2,"position","absolute","top","12px","right","6px"],[2,"color","green","-ms-transform","rotate(-35deg)","-webkit-transform","rotate(-35deg)","transform","rotate(-35deg)","position","absolute","top","39px","right","1px"],[1,"visaPjUp",3,"ngClass","title","click"],[1,"fa","fa-edit","fa-2x"],[1,"visaPjDel",3,"ngClass","title","click"],[1,"fa","fa-trash-alt","fa-2x"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Qc(0,ia,2,0,"div",0),i.Qc(1,gr,38,31,"div",0),i.Zb(2,"div",1),i.Zb(3,"span",2),i.Qc(4,vr,2,1,"div",3),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading),i.Eb(3),i.sc("ngIf",e.signatureBook.attachments[e.rightSelectedThumbnail]&&e.signatureBook.attachments[e.rightSelectedThumbnail].relation>1))},directives:[y.t,y.s,y.w,y.q,j.y,j.I,yi.a,Xi.a,$i.a,g.b,b.a,Ji.a,Ki.a,Li.a,ta.a],pipes:[l.d,y.f,y.b,xt.a],styles:['.selectedId[_ngcontent-%COMP%]{background-color:#f99830}#tab_visaSetWorkflow[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:pre}[draggable=true][_ngcontent-%COMP%]{cursor:move}[draggable=true][_ngcontent-%COMP%]:hover{box-shadow:0 0 5px green}[draggable=false][_ngcontent-%COMP%]:hover{cursor:not-allowed}#visa_content[_ngcontent-%COMP%]{display:block;width:100%}.droptarget[_ngcontent-%COMP%]{position:relative;background-color:rgba(19,95,127,.2);display:table;margin:10px;padding:5px;text-align:left;width:95%;cursor:default;border:2px dashed rgba(19,95,127,.2)}.droptarget_arrow[_ngcontent-%COMP%]{border:none;display:table-cell}.vised[_ngcontent-%COMP%]{opacity:1;color:green;border:2px solid green}.moved[_ngcontent-%COMP%]{opacity:.5!important;color:#666!important;border:2px solid #fff!important;text-decoration:line-through!important}.droptarget[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#visaUserList[_ngcontent-%COMP%]{width:45%;float:left}.droptarget.currentVis[_ngcontent-%COMP%]{color:#135f7f;border:2px solid #135f7f}.visaUserAction[_ngcontent-%COMP%], .visaUserConsigne[_ngcontent-%COMP%], .visaUserInfo[_ngcontent-%COMP%], .visaUserStatus[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.visaUserStatus[_ngcontent-%COMP%]{width:5%}.vised[_ngcontent-%COMP%]   .visaUserStatus[_ngcontent-%COMP%]{opacity:1}.visaUserInfo[_ngcontent-%COMP%]{width:55%;font-weight:700}.visaUserInfo[_ngcontent-%COMP%]   .nbRes[_ngcontent-%COMP%]{background-color:grey;font-weight:400}.visaUserInfo[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%]{font-weight:400}.droptarget[_ngcontent-%COMP%]:hover.vised   #dropZone[_ngcontent-%COMP%]{visibility:hidden}.droptarget[_ngcontent-%COMP%]:hover   #dropZone[_ngcontent-%COMP%]{visibility:visible}.dropArea[_ngcontent-%COMP%]{border:3px dashed #fff;width:60%;margin:auto;opacity:.5;padding:5px}.dropArea[_ngcontent-%COMP%]:after{font-weight:bolder}#dropZone[_ngcontent-%COMP%], #dropZone[_ngcontent-%COMP%]:active{width:40px;text-align:right;opacity:.5;visibility:hidden;float:right;margin:5px}#dropZone[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}#dropZone[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.visaUserConsigne[_ngcontent-%COMP%]{width:30%}.visaUserAction[_ngcontent-%COMP%]{color:red;text-align:center;width:5%}.visaUserAction[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.visaContent[_ngcontent-%COMP%]{position:relative;font-size:12px;display:flex;flex-direction:column;height:100vh;overflow:hidden}.visaContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:block!important;position:static!important;padding:10px;text-align:center!important}.titleSignatureBook[_ngcontent-%COMP%]   .others[_ngcontent-%COMP%]{float:right;width:14%;padding:5px;vertical-align:middle;text-align:right}.titleSignatureBook[_ngcontent-%COMP%]   .others[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:95%;background:#e6e6e6;border-radius:2px;border:none;padding:5px}.resListContent[_ngcontent-%COMP%]{width:8%;height:100%;text-align:center;border-right:1px solid;vertical-align:top;overflow:auto;font-size:10px}.resListContentInfo[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:95%;text-align:left;padding:5px;cursor:pointer;margin-top:0}.resListContentInfo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:5%;text-align:center}.resListContentFrame[_ngcontent-%COMP%]:hover{background-color:#f99830}.resListContentFrame[_ngcontent-%COMP%]{border-bottom:1px solid #000;position:relative;overflow:hidden;background-color:#fff}.resListContentPos[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.hideLeftContent[_ngcontent-%COMP%]{z-index:1;margin-left:-13px}.hideLeftContent[_ngcontent-%COMP%], .hideRightContent[_ngcontent-%COMP%]{position:absolute;color:#666;top:45%;padding:5px;cursor:pointer;background:#fbfbfb;border-radius:40px}.hideRightContent[_ngcontent-%COMP%]{right:-10px}.hideresListContent[_ngcontent-%COMP%]{position:absolute;left:-4px;color:#666;top:45%;padding:5px;cursor:pointer;background:#fbfbfb;border-radius:40px}.contentLeft[_ngcontent-%COMP%]{position:relative;border-right:1px solid;padding-left:10px}.contentLeft[_ngcontent-%COMP%], .contentRight[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;height:100%}.visaContent[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{margin:auto;width:100%;height:75vh;border:none}.contentLeft[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:99%}.panelRight[_ngcontent-%COMP%]{width:50px;border-left:1px solid;text-align:center;position:absolute;right:0;background-color:#fff}.panelRightContent[_ngcontent-%COMP%]{width:100%;height:69%;overflow:auto}.panelRight[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{cursor:pointer;padding:20px 10px 20px 5px}.contentRight[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{display:inline-block;height:91vh}.panelRight[_ngcontent-%COMP%]{display:inline-block;height:calc(100% - 38px)}.contentLeft[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{height:95vh;overflow:auto;width:98%}.contentLeft[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%], .contentRight[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{padding:5px;height:100%}.contentRight[_ngcontent-%COMP%]   .contentShow[_ngcontent-%COMP%]{position:relative;vertical-align:top;width:100%}.pjDetails[_ngcontent-%COMP%], .pjDoc[_ngcontent-%COMP%]{margin-bottom:5px}.pjDetails[_ngcontent-%COMP%], .pjSign[_ngcontent-%COMP%]{background-color:#fff;display:block;width:99%;text-align:left;-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=5);border-radius:5px;padding:10px;height:100px}.pjSign[_ngcontent-%COMP%]{cursor:pointer}.pjDetails[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;cursor:inherit}.pjDetailsMore[_ngcontent-%COMP%]{z-index:1;position:absolute;left:15px;margin-top:2px;text-align:center;cursor:pointer;background:#135f7f;color:#fff;padding:10px;-o-box-shadow:0 0 10px 0 #656565;box-shadow:0 0 10px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=10)}.pjDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:normal}.pjDetails[_ngcontent-%COMP%]{color:#666;font-family:Verdana,Geneva,Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;letter-spacing:.02em}.pjDoc[_ngcontent-%COMP%]{height:100px;background-color:#fff;-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=5);border-radius:5px;padding:10px}.pjDoc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%;border:2px solid #fff;cursor:pointer}img.panelSelectedThumbnail[_ngcontent-%COMP%], img[_ngcontent-%COMP%]:hover.panelSelectedThumbnail{border:2px solid #135f7f;cursor:pointer}.actions[_ngcontent-%COMP%]{float:right;width:25%;padding:5px;vertical-align:middle;text-align:right;text-transform:none;border-left:1px solid #000;border-right:1px solid #000}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:5%}.actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:75%}.actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;width:17%}#signatureBookActions[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#000;font:400 13.3333px Arial}.titleSignatureBook[_ngcontent-%COMP%]{height:38px;font-size:12px;display:block;width:100%;border:1px solid #000;vertical-align:middle;font-weight:700;background:#135f7f;color:#fff;text-transform:uppercase;white-space:nowrap;overflow:hidden}#closeSignatureBook[_ngcontent-%COMP%]{float:right;padding:5px;width:47px;text-align:center}#labelSignatureBook[_ngcontent-%COMP%]{float:left;width:33%;padding-left:10px;margin-top:10px}#labelSignatureBook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:block}#tabSignatureBook[_ngcontent-%COMP%]{float:left;width:auto}.titleSignatureBook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}#tabSignatureBook[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-right:1px solid #000;display:table-cell;cursor:pointer;vertical-align:middle;width:60px;text-align:center;padding:5px 10px 7px;color:#666;background-color:#fbfbfb}.contentSignatureBook[_ngcontent-%COMP%]{border:1px solid #000;border-top:none;display:block;width:100%;flex:1;overflow:hidden;background-color:#fbfbfb}#tabSignatureBook[_ngcontent-%COMP%]   .item.activeTabSignatureBook[_ngcontent-%COMP%]{-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;padding-left:10px;padding-right:10px}.resListContentFrameSelected[_ngcontent-%COMP%]{background-color:#f99830}.panelRightContent[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover, .panelSelectedThumbnail[_ngcontent-%COMP%]{-o-box-shadow:inset 0 0 5px 0 #656565;box-shadow:inset 0 0 5px 0 #656565;background-color:#f99830}.panelSelectedThumbnail[_ngcontent-%COMP%]{color:#666!important}.infoPj[_ngcontent-%COMP%]{width:30%;display:inline-block;white-space:nowrap!important;overflow:hidden;text-overflow:ellipsis;padding-left:10px}.infoPj[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{vertical-align:top}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:5px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]{padding-right:18px;position:relative}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after, .ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before{content:"";border-color:#000 transparent;border-style:solid;border-width:0 4px 4px;visibility:visible;right:5px;top:50%;position:absolute;opacity:.3;margin-top:-4px}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before{margin-top:2px;border:4px solid transparent;border-top-color:#000;border-bottom:none}.ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:hover:after, .ng-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:hover:before{opacity:1;visibility:visible}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%], .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]{background-color:rgba(141,192,219,.25);text-shadow:0 1px 1px hsla(0,0%,100%,.75)}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after{margin-top:-2px}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:before{visibility:hidden}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-asc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:hover:after, .ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after{visibility:visible;filter:alpha(opacity=60);-khtml-opacity:.6;-moz-opacity:.6;opacity:.6}.ng-table[_ngcontent-%COMP%]   th.sortable.sort-desc[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]:after{border:4px solid transparent;border-top-color:#000;border-bottom:none;box-shadow:none}.ng-table[_ngcontent-%COMP%]   th.filter[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin:0;display:block;width:auto;font-size:9px;box-sizing:border-box}.ng-table[_ngcontent-%COMP%]   .ng-table-group-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}.ng-table[_ngcontent-%COMP%]   .ng-table-group-selector[_ngcontent-%COMP%]{display:block}.ng-table[_ngcontent-%COMP%]   .ng-table-group-close[_ngcontent-%COMP%], .ng-table[_ngcontent-%COMP%]   .ng-table-group-toggle[_ngcontent-%COMP%]{float:right}.ng-table[_ngcontent-%COMP%]   .ng-table-group-toggle[_ngcontent-%COMP%]{margin-right:5px}@media only screen and (max-width:800px){.ng-table-responsive[_ngcontent-%COMP%]{border-bottom:1px solid #999}.ng-table-responsive[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #999;border-left:1px solid #999;border-right:1px solid #999}.ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{position:absolute;padding:8px;left:0;top:0;width:50%;white-space:nowrap;text-align:left;font-weight:700}.ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}.ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.ng-table-filters[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0}.ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr.ng-table-filters[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px}.ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%;white-space:normal;text-align:left}.ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title-text)}.ng-table-responsive[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .ng-table-responsive[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block}}.ng-table-pagination[_ngcontent-%COMP%]{margin-top:0}.filter[_ngcontent-%COMP%]:after, .filter[_ngcontent-%COMP%]:before, .ng-table-group-selector[_ngcontent-%COMP%]:after, .ng-table-group-selector[_ngcontent-%COMP%]:before{display:table;content:" "}.filter[_ngcontent-%COMP%]:after, .ng-table-group-selector[_ngcontent-%COMP%]:after{clear:both}.filter[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]{float:left;box-sizing:border-box}.filter-horizontal[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]{padding:0 2px}.filter-horizontal[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]:first-child{padding-left:0}.filter-horizontal[_ngcontent-%COMP%] > .filter-cell.last[_ngcontent-%COMP%], .filter-horizontal[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]:last-child{padding-right:0}.s12[_ngcontent-%COMP%]{width:100%}.s11[_ngcontent-%COMP%]{width:91.66666666666666%}.s10[_ngcontent-%COMP%]{width:83.33333333333334%}.s9[_ngcontent-%COMP%]{width:75%}.s8[_ngcontent-%COMP%]{width:66.66666666666666%}.s7[_ngcontent-%COMP%]{width:58.333333333333336%}.s6[_ngcontent-%COMP%]{width:50%}.s5[_ngcontent-%COMP%]{width:41.66666666666667%}.s4[_ngcontent-%COMP%]{width:33.33333333333333%}.s3[_ngcontent-%COMP%]{width:25%}.s2[_ngcontent-%COMP%]{width:16.666666666666664%}.s1[_ngcontent-%COMP%]{width:8.333333333333332%}@media (max-width:468px){.s1[_ngcontent-%COMP%], .s2[_ngcontent-%COMP%], .s3[_ngcontent-%COMP%], .s4[_ngcontent-%COMP%], .s5[_ngcontent-%COMP%], .s6[_ngcontent-%COMP%], .s7[_ngcontent-%COMP%], .s8[_ngcontent-%COMP%], .s9[_ngcontent-%COMP%], .s10[_ngcontent-%COMP%], .s11[_ngcontent-%COMP%], .s12[_ngcontent-%COMP%]{width:100%}.filter[_ngcontent-%COMP%] > .filter-cell[_ngcontent-%COMP%]{padding:0}}.ng-table[_ngcontent-%COMP%]{margin-bottom:20px;max-width:100%;width:100%;background-color:transparent;border-collapse:collapse;border-spacing:0;border-bottom:1px solid #135f7f}.ng-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:10px}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #135f7f}.ng-table-counts[_ngcontent-%COMP%]{display:none}.ng-table-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border:1px solid #135f7f;padding:5px;margin:5px;border-radius:10px}.ng-table-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#135f7f;color:#fff}.ng-table-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.ng-table-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#135f7f;color:#fff}.ng-table-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.ng-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:rgba(141,192,219,.25)}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}.ng-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:60%}#footer[_ngcontent-%COMP%]{padding:0}.pjSign[_ngcontent-%COMP%]{text-align:left;height:auto;position:absolute;bottom:0;background:#fff;margin-bottom:5px;width:80px;transition:width .5s;overflow:auto!important}.pjSign.signed[_ngcontent-%COMP%]{width:auto!important}.pjSign[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;height:30px;width:50px;transition:height .5s}.pjSign[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{height:60px;width:auto;transition:height .5s}.pjSign[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]:hover{border:2px solid #135f7f}.pjSign[_ngcontent-%COMP%]:hover{width:95%;transition:width .5s}.visaPjView[_ngcontent-%COMP%]{color:initial}.panelRightListPj[_ngcontent-%COMP%]{padding:3px;margin-bottom:5px;cursor:pointer}.panelRightListPj[_ngcontent-%COMP%]:hover{color:#135f7f}.panelRightAddPj[_ngcontent-%COMP%]{display:block;background-color:#16a765}.panelRightAddPj[_ngcontent-%COMP%], .visaPjUp[_ngcontent-%COMP%]{margin:auto auto 10px;font-size:10px;height:40px;width:40px;cursor:pointer;padding:10px;color:#fff;border-radius:25px;-o-box-shadow:0 0 10px 0 #656565;box-shadow:0 0 10px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=10)}.visaPjUp[_ngcontent-%COMP%]{background-color:#4285f4}.visaPjDel[_ngcontent-%COMP%]{margin:auto;font-size:10px;height:40px;width:40px;cursor:pointer;padding:10px;background-color:#d14836;color:#fff;border-radius:25px;-o-box-shadow:0 0 10px 0 #656565;box-shadow:0 0 10px 0 #656565;filter:progid:DXImageTransform.Microsoft.Shadow(color=#656565,Direction=NaN,Strength=10)}.visaNoPdfWarning[_ngcontent-%COMP%]{border:dashed;font-weight:700;opacity:.5;white-space:normal;font-size:40px;text-align:center}.visaNoWorkflowWarning[_ngcontent-%COMP%]{height:97%;width:100%}.visaNoPjWarning[_ngcontent-%COMP%], .visaNoWorkflowWarning[_ngcontent-%COMP%]{font-size:40px;border:dashed;font-weight:700;opacity:.5;white-space:normal;margin-top:10px}.visaNoPjWarning[_ngcontent-%COMP%]{height:80vh}.visaDisabledButton[_ngcontent-%COMP%]{cursor:inherit;opacity:.3}.chosen-container-single[_ngcontent-%COMP%]   .chosen-default[_ngcontent-%COMP%]{color:#000!important}#visa_content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px}.nbResZero[_ngcontent-%COMP%]{background:#666}.nbRes[_ngcontent-%COMP%], .nbResZero[_ngcontent-%COMP%]{color:#fff;padding:3px;border-radius:7px}.nbRes[_ngcontent-%COMP%]{background:#f99830}.haveContent[_ngcontent-%COMP%]{font-size:9px!important;color:#f99830;margin-left:2px}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;transition:all .1s;margin-left:5px}.inputConsigne[_ngcontent-%COMP%]{height:22px;margin-top:2px;color:#000;font-weight:400}']}),yr),Cr=n("1G5W"),xr=n("JX91"),wr=n("lJxs"),Or=n("XqQ8"),Sr=n("2c88"),Er=n("ds6q"),Mr=n("6eB1"),Ir=((_r=function(){function t(){_classCallCheck(this,t),this.listsProperties=[],this.listsPropertiesIndex=0,this.filterMode=!1,this.mode="basket"}return _createClass(t,[{key:"initListsProperties",value:function(t,e,n,i){var a,r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return this.listsProperties=JSON.parse(sessionStorage.getItem("propertyList"+i)),this.listsPropertiesIndex=0,this.mode=i,null!=this.listsProperties?this.listsProperties.forEach((function(i,o){i.id==t&&i.groupId==e&&i.targetId==n&&(r.listsPropertiesIndex=o,a=i)})):this.listsProperties=[],a&&""===o||(a={id:t,groupId:e,targetId:n,page:"0",pageSize:10,order:"",orderDir:"DESC",search:o,delayed:!1,categories:[],priorities:[],entities:[],subEntities:[],statuses:[],doctypes:[],folders:[]},this.listsProperties.push(a),this.listsPropertiesIndex=this.listsProperties.length-1,this.saveListsProperties()),a}},{key:"updateListsPropertiesPage",value:function(t){this.listsProperties&&(this.listsProperties[this.listsPropertiesIndex].page=t,this.saveListsProperties())}},{key:"updateListsPropertiesPageSize",value:function(t){this.listsProperties&&(this.listsProperties[this.listsPropertiesIndex].pageSize=t,this.saveListsProperties())}},{key:"updateListsProperties",value:function(t){this.listsProperties&&(this.listsProperties[this.listsPropertiesIndex]=t,this.saveListsProperties())}},{key:"saveListsProperties",value:function(){sessionStorage.setItem("propertyList"+this.mode,JSON.stringify(this.listsProperties))}},{key:"getUrlFilters",value:function(){var t="";if(this.listsProperties){if(this.listsProperties[this.listsPropertiesIndex].delayed&&(t+="&delayed=true"),this.listsProperties[this.listsPropertiesIndex].order.length>0&&(t+="&order="+this.listsProperties[this.listsPropertiesIndex].order+" "+this.listsProperties[this.listsPropertiesIndex].orderDir),this.listsProperties[this.listsPropertiesIndex].search.length>0&&(t+="&search="+this.listsProperties[this.listsPropertiesIndex].search),this.listsProperties[this.listsPropertiesIndex].categories.length>0){var e=[];this.listsProperties[this.listsPropertiesIndex].categories.forEach((function(t){e.push(t.id)})),t+="&categories="+e.join(",")}if(this.listsProperties[this.listsPropertiesIndex].priorities.length>0){var n=[];this.listsProperties[this.listsPropertiesIndex].priorities.forEach((function(t){n.push(t.id)})),t+="&priorities="+n.join(",")}if(this.listsProperties[this.listsPropertiesIndex].statuses.length>0){var i=[];this.listsProperties[this.listsPropertiesIndex].statuses.forEach((function(t){i.push(t.id)})),t+="&statuses="+i.join(",")}if(this.listsProperties[this.listsPropertiesIndex].entities.length>0){var a=[];this.listsProperties[this.listsPropertiesIndex].entities.forEach((function(t){a.push(t.id)})),t+="&entities="+a.join(",")}if(this.listsProperties[this.listsPropertiesIndex].subEntities.length>0){var r=[];this.listsProperties[this.listsPropertiesIndex].subEntities.forEach((function(t){r.push(t.id)})),t+="&entitiesChildren="+r.join(",")}if(this.listsProperties[this.listsPropertiesIndex].doctypes.length>0){var o=[];this.listsProperties[this.listsPropertiesIndex].doctypes.forEach((function(t){o.push(t.id)})),t+="&doctypes="+o.join(",")}if(this.listsProperties[this.listsPropertiesIndex].folders.length>0){var s=[];this.listsProperties[this.listsPropertiesIndex].folders.forEach((function(t){s.push(t.id)})),t+="&folders="+s.join(",")}}return t}}]),t}()).\u0275fac=function(t){return new(t||_r)},_r.\u0275prov=i.Pb({token:_r,factory:_r.\u0275fac}),_r),Pr=n("rDax"),Tr=n("6Psc"),Ar=n("/1cH"),Dr=n("aEDk"),Rr=n("jaxi");function Lr(t,e){1&t&&(i.Zb(0,"mat-option",32),i.Ub(1,"mat-spinner",33),i.Yb())}function Fr(t,e){if(1&t&&(i.Zb(0,"mat-option",38),i.Zb(1,"span",39),i.Sc(2),i.Yb(),i.Zb(3,"span",22),i.Zb(4,"span",40),i.Sc(5),i.Yb(),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Jb("undefined","_UNDEFINED"===n.label),i.Eb(1),i.Tc(n.label),i.Eb(2),i.Hb("badge badge-",n.id,""),i.Eb(1),i.Tc(n.count)}}function jr(t,e){if(1&t&&(i.Zb(0,"mat-optgroup",36),i.Qc(1,Fr,6,8,"mat-option",37),i.Yb()),2&t){var n=i.lc().$implicit;i.sc("label",n.letter),i.Eb(1),i.sc("ngForOf",n.names)}}function Yr(t,e){if(1&t&&(i.Xb(0),i.Qc(1,jr,2,2,"mat-optgroup",35),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf",n.names.length>0)}}function Zr(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Yr,2,1,"ng-container",34),i.mc(2,"async"),i.Wb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngForOf",i.nc(2,1,n.stateGroupOptions))}}function Nr(t,e){if(1&t&&(i.Zb(0,"mat-option",41),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n.id),i.Eb(1),i.Uc(" ",i.nc(2,2,"lang."+n.id)," ")}}function Ur(t,e){1&t&&i.Ub(0,"mat-icon",42)}function Br(t,e){1&t&&i.Ub(0,"mat-icon",43)}function zr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",44),i.hc("click",(function(){i.Hc(n);var t=i.lc();return t.listProperties.search="",t.removeFilters()})),i.mc(1,"translate"),i.Ub(2,"i",45),i.Yb()}2&t&&i.tc("title",i.nc(1,1,"lang.eraseAllFilters"))}function Vr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",46),i.hc("click",(function(){i.Hc(n);var t=i.lc();return t.listProperties.search="",t.updateFilters()})),i.mc(1,"translate"),i.mc(2,"translate"),i.Sc(3),i.Ub(4,"i",47),i.Yb()}if(2&t){var a=i.lc();i.vc("title","",i.nc(1,3,"lang.subject")," / ",i.nc(2,5,"lang.chronoNumber"),""),i.Eb(3),i.Uc("",a.listProperties.search," ")}}function Hr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",48),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("categories",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.categories")),i.Eb(2),i.Uc("",a.label," ")}}function Qr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",49),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("priorities",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.priorities")),i.Eb(2),i.Uc("",a.label," ")}}function Wr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",50),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("statuses",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.statuses")),i.Eb(2),i.Uc("",a.label," ")}}function Gr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",51),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("entities",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.entities")),i.Eb(2),i.Uc("",a.label," ")}}function qr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",52),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("subEntities",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.subEntities")),i.Eb(2),i.Uc("",a.label," ")}}function Xr(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",53),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("doctypes",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.doctypes")),i.Eb(2),i.Uc("",a.label," ")}}function $r(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",54),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeFilter("folders",t)})),i.mc(1,"translate"),i.Sc(2),i.Ub(3,"i",47),i.Yb()}if(2&t){var a=e.$implicit;i.tc("title",i.nc(1,2,"lang.folders")),i.Eb(2),i.Uc("",a.label," ")}}var Jr,Kr=((Jr=function(){function t(e,n,a,r,o,s){var c=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.filtersListService=a,this.fb=r,this.latinisePipe=o,this.dialog=s,this.stateForm=this.fb.group({stateGroup:""}),this.displayColsOrder=[{id:"dest_user"},{id:"category_id"},{id:"creation_date"},{id:"process_limit_date"},{id:"entity_label"},{id:"subject"},{id:"alt_identifier"},{id:"priority"},{id:"status"},{id:"type_label"}],this.priorities=[],this.categories=[],this.entitiesList=[],this.statuses=[],this.metaSearchInput="",this.stateGroups=[],this.isLoading=!1,this.refreshEvent=new i.o,this.refreshEventAfterAction=new i.o,this.toggleAllRes=new i.o,this._filter=function(t,e){if("string"==typeof e){var n=e.toLowerCase();return t.filter((function(t){return-1!==c.latinisePipe.transform(t.label.toLowerCase()).indexOf(c.latinisePipe.transform(n))}))}}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"_filterGroup",value:function(t){var e=this;return t&&"string"==typeof t?this.stateGroups.map((function(n){return{letter:n.letter,names:e._filter(n.names,t)}})).filter((function(t){return t.names.length>0})):this.stateGroups}},{key:"changeOrderDir",value:function(){this.listProperties.orderDir="ASC"===this.listProperties.orderDir?"DESC":"ASC",this.updateFilters()}},{key:"updateFilters",value:function(){this.listProperties.page=0,this.filtersListService.updateListsProperties(this.listProperties),this.refreshEvent.emit()}},{key:"refreshAfterAction",value:function(){this.refreshEventAfterAction.emit()}},{key:"setFilters",value:function(t,e){this.listProperties[e]=t.source.checked,this.updateFilters()}},{key:"selectFilter",value:function(t){this.listProperties[t.option.value.id].push({id:t.option.value.value,label:t.option.value.label}),$(".metaSearch").blur(),this.stateForm.controls.stateGroup.reset(),this.updateFilters()}},{key:"metaSearch",value:function(t){this.listProperties.search=t.target.value,$(".metaSearch").blur(),this.stateForm.controls.stateGroup.reset(),this.autocomplete.closePanel(),this.updateFilters()}},{key:"removeFilter",value:function(t,e){this.listProperties[t].splice(e,1),this.updateFilters()}},{key:"removeFilters",value:function(){var t=this;Object.keys(this.listProperties).forEach((function(e){Array.isArray(t.listProperties[e])?t.listProperties[e]=[]:"search"===e&&(t.listProperties[e]="")})),this.updateFilters()}},{key:"haveFilters",value:function(){var t=this,e=!1;return Object.keys(this.listProperties).forEach((function(n){(Array.isArray(t.listProperties[n])&&t.listProperties[n].length>0||"search"===n&&""!==t.listProperties[n])&&(e=!0)})),e}},{key:"setInputSearch",value:function(t){$(".metaSearch").focus(),this.metaSearchInput=t}},{key:"initFilters",value:function(){var t=this;this.isLoading=!0,this.stateForm.controls.stateGroup.reset(),this.stateGroups=[{letter:this.translate.instant("lang.categories"),names:[]},{letter:this.translate.instant("lang.priorities"),names:[]},{letter:this.translate.instant("lang.statuses"),names:[]},{letter:this.translate.instant("lang.entities"),names:[]},{letter:this.translate.instant("lang.subEntities"),names:[]},{letter:this.translate.instant("lang.doctypes"),names:[]},{letter:this.translate.instant("lang.folders"),names:[]}],this.http.get(".."+this.routeDatas+"?init"+this.filtersListService.getUrlFilters()).subscribe((function(e){e.categories.forEach((function(e){-1===t.listProperties.categories.map((function(t){return t.id})).indexOf(e.id)&&t.stateGroups[0].names.push({id:"categories",value:e.id,label:null!==e.id?e.label:t.translate.instant("lang.undefined"),count:e.count})})),e.priorities.forEach((function(e){-1===t.listProperties.priorities.map((function(t){return t.id})).indexOf(e.id)&&t.stateGroups[1].names.push({id:"priorities",value:e.id,label:null!==e.id?e.label:t.translate.instant("lang.undefined"),count:e.count})})),e.statuses.forEach((function(e){-1===t.listProperties.statuses.map((function(t){return t.id})).indexOf(e.id)&&t.stateGroups[2].names.push({id:"statuses",value:e.id,label:null!==e.id?e.label:t.translate.instant("lang.undefined"),count:e.count})})),e.entities.forEach((function(e){-1===t.listProperties.entities.map((function(t){return t.id})).indexOf(e.entityId)&&0===t.listProperties.subEntities&&t.stateGroups[3].names.push({id:"entities",value:e.entityId,label:null!==e.entityId?e.label:t.translate.instant("lang.undefined"),count:e.count})})),e.entitiesChildren.forEach((function(e){-1===t.listProperties.subEntities.map((function(t){return t.id})).indexOf(e.entityId)&&0===t.listProperties.entities&&t.stateGroups[4].names.push({id:"subEntities",value:e.entityId,label:null!==e.entityId?e.label:t.translate.instant("lang.undefined"),count:e.count})})),e.doctypes.forEach((function(e){-1===t.listProperties.doctypes.map((function(t){return t.id})).indexOf(e.id)&&t.stateGroups[5].names.push({id:"doctypes",value:e.id,label:null!==e.id?e.label:t.translate.instant("lang.undefined"),count:e.count})})),e.folders.forEach((function(e){-1===t.listProperties.folders.map((function(t){return t.id})).indexOf(e.id)&&t.stateGroups[6].names.push({id:"folders",value:e.id,label:null!==e.id?e.label:t.translate.instant("lang.undefined"),count:e.count})})),t.isLoading=!1,t.metaSearchInput.length>0&&setTimeout((function(){t.stateForm.controls.stateGroup.setValue(t.metaSearchInput),t.metaSearchInput=""}),200)})),this.stateGroupOptions=this.stateForm.get("stateGroup").valueChanges.pipe(Object(xr.a)(""),Object(wr.a)((function(e){return t._filterGroup(e)})))}}]),t}()).\u0275fac=function(t){return new(t||Jr)(i.Tb(l.e),i.Tb(u.b),i.Tb(Ir),i.Tb(j.g),i.Tb(Dr.c),i.Tb(Y.b))},Jr.\u0275cmp=i.Nb({type:Jr,selectors:[["app-filters-tool"]],viewQuery:function(t,e){var n;1&t&&i.Oc(Ar.d,!0),2&t&&i.Cc(n=i.ic())&&(e.autocomplete=n.first)},inputs:{listProperties:"listProperties",title:"title",routeDatas:"routeDatas",selectedRes:"selectedRes",totalRes:"totalRes"},outputs:{refreshEvent:"refreshEvent",refreshEventAfterAction:"refreshEventAfterAction",toggleAllRes:"toggleAllRes"},features:[i.Db([Dr.c])],decls:35,vars:31,consts:[[1,"filtersContent"],[1,"filterTool",3,"formGroup"],["floatLabel","never",1,"basket-search"],["type","text","matInput","","formControlName","stateGroup",1,"metaSearch",3,"placeholder","matAutocomplete","focus","keyup.enter"],["mat-icon-button","","matPrefix",""],[1,"fa","fa-search"],["matSuffix","","value","delayed",1,"processLimitButton",3,"checked","title","click","change"],["fontSet","fas","fontIcon","fa-stopwatch fa-2x"],[3,"optionSelected"],["autoGroup","matAutocomplete"],["class","is-loading",4,"ngIf"],[4,"ngIf"],[1,"orderTool"],[1,"basket-order"],["matPrefix","",1,"fa","fa-list"],[3,"ngModel","ngModelChange","selectionChange"],["value","",2,"text-align","center"],[3,"value",4,"ngFor","ngForOf"],[1,"ascDescTool"],["mat-fab","",2,"color","rgba(0,0,0,0.38)",3,"disabled","title","click"],["fontSet","fas","fontIcon","fa-sort-amount-down fa-2x",4,"ngIf"],["fontSet","fas","fontIcon","fa-sort-amount-up fa-2x",4,"ngIf"],[1,"filterBadges"],["class","label badge-eraser",3,"title","click",4,"ngIf"],["class","label badge-search",3,"title","click",4,"ngIf"],["class","label badge-categories",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-priorities",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-statuses",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-entities",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-subEntities",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-doctypes",3,"title","click",4,"ngFor","ngForOf"],["class","label badge-folders",3,"title","click",4,"ngFor","ngForOf"],[1,"is-loading"],["diameter","50"],[4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[3,"label"],["class","filterOptionContent",3,"value",4,"ngFor","ngForOf"],[1,"filterOptionContent",3,"value"],[2,"flex","1","overflow","hidden","text-overflow","ellipsis"],[2,"min-width","auto"],[3,"value"],["fontSet","fas","fontIcon","fa-sort-amount-down fa-2x"],["fontSet","fas","fontIcon","fa-sort-amount-up fa-2x"],[1,"label","badge-eraser",3,"title","click"],[1,"fas","fa-eraser"],[1,"label","badge-search",3,"title","click"],[1,"fa","fa-times-circle"],[1,"label","badge-categories",3,"title","click"],[1,"label","badge-priorities",3,"title","click"],[1,"label","badge-statuses",3,"title","click"],[1,"label","badge-entities",3,"title","click"],[1,"label","badge-subEntities",3,"title","click"],[1,"label","badge-doctypes",3,"title","click"],[1,"label","badge-folders",3,"title","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"form",1),i.Zb(2,"mat-form-field",2),i.Zb(3,"input",3),i.hc("focus",(function(){return e.initFilters()}))("keyup.enter",(function(t){return e.metaSearch(t)})),i.Yb(),i.Zb(4,"button",4),i.Ub(5,"mat-icon",5),i.Yb(),i.Zb(6,"mat-button-toggle",6),i.hc("click",(function(t){return t.stopPropagation()}))("change",(function(t){return e.setFilters(t,"delayed")})),i.mc(7,"translate"),i.Ub(8,"mat-icon",7),i.Yb(),i.Zb(9,"mat-autocomplete",8,9),i.hc("optionSelected",(function(t){return e.selectFilter(t)})),i.Qc(11,Lr,2,0,"mat-option",10),i.Qc(12,Zr,3,3,"ng-container",11),i.Yb(),i.Yb(),i.Yb(),i.Zb(13,"div",12),i.Zb(14,"mat-form-field",13),i.Ub(15,"mat-icon",14),i.Zb(16,"mat-select",15),i.hc("ngModelChange",(function(t){return e.listProperties.order=t}))("selectionChange",(function(){return e.updateFilters()})),i.Zb(17,"mat-option",16),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Qc(20,Nr,3,4,"mat-option",17),i.Yb(),i.Yb(),i.Yb(),i.Zb(21,"div",18),i.Zb(22,"button",19),i.hc("click",(function(){return e.changeOrderDir()})),i.Qc(23,Ur,1,0,"mat-icon",20),i.Qc(24,Br,1,0,"mat-icon",21),i.Yb(),i.Yb(),i.Yb(),i.Zb(25,"div",22),i.Qc(26,zr,3,3,"span",23),i.Qc(27,Vr,5,7,"span",24),i.Qc(28,Hr,4,4,"span",25),i.Qc(29,Qr,4,4,"span",26),i.Qc(30,Wr,4,4,"span",27),i.Qc(31,Gr,4,4,"span",28),i.Qc(32,qr,4,4,"span",29),i.Qc(33,Xr,4,4,"span",30),i.Qc(34,$r,4,4,"span",31),i.Yb()),2&t){var n=i.Dc(10);i.Eb(1),i.sc("formGroup",e.stateForm),i.Eb(2),i.tc("placeholder",e.title),i.sc("matAutocomplete",n),i.Eb(3),i.tc("title",i.nc(7,27,"lang.displayProcessLimitRes")),i.sc("checked",e.listProperties.delayed),i.Eb(3),i.Gb("autoCompletePanelFilter"),i.Eb(2),i.sc("ngIf",e.isLoading),i.Eb(1),i.sc("ngIf",!e.isLoading),i.Eb(4),i.sc("ngModel",e.listProperties.order),i.Eb(2),i.Tc(i.nc(19,29,"lang.defaultOrder")),i.Eb(2),i.sc("ngForOf",e.displayColsOrder),i.Eb(2),i.Pc("opacity",""==e.listProperties.order?"0.2":"1"),i.sc("disabled",""==e.listProperties.order)("title",e.translate.instant("DESC"==e.listProperties.orderDir?"lang.descOrder":"lang.ascOrder")),i.Eb(1),i.sc("ngIf","DESC"==e.listProperties.orderDir),i.Eb(1),i.sc("ngIf","ASC"==e.listProperties.orderDir),i.Eb(2),i.sc("ngIf",e.haveFilters()),i.Eb(1),i.sc("ngIf",""!==e.listProperties.search),i.Eb(1),i.sc("ngForOf",e.listProperties.categories),i.Eb(1),i.sc("ngForOf",e.listProperties.priorities),i.Eb(1),i.sc("ngForOf",e.listProperties.statuses),i.Eb(1),i.sc("ngForOf",e.listProperties.entities),i.Eb(1),i.sc("ngForOf",e.listProperties.subEntities),i.Eb(1),i.sc("ngForOf",e.listProperties.doctypes),i.Eb(1),i.sc("ngForOf",e.listProperties.folders)}},directives:[j.J,j.u,j.l,N.c,U.b,j.c,Ar.d,j.t,j.j,g.b,N.i,b.a,Rr.a,N.j,Ar.a,y.t,gt.a,j.w,w.o,y.s,_.c,w.n],pipes:[l.d,y.b],styles:[".filtersContent[_ngcontent-%COMP%]{display:flex}.filtersContent[_ngcontent-%COMP%]   .filterTool[_ngcontent-%COMP%], .filtersContent[_ngcontent-%COMP%]   .orderTool[_ngcontent-%COMP%]{flex:1}.basket-search[_ngcontent-%COMP%]{color:#666;width:500px;padding-right:10px;height:55px}.basket-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;border-radius:30px}.basket-search[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{font-style:italic}.basket-search[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.basket-search[_ngcontent-%COMP%]   .processLimitButton[_ngcontent-%COMP%]{color:#666;position:absolute;top:-32px;left:-47px;border-radius:30px}.basket-search[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#f99830!important;color:#fff}.basket-order[_ngcontent-%COMP%]{color:#fff;width:300px;padding-left:10px;padding-right:10px;height:55px}.basket-order[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:30px}.basket-order[_ngcontent-%COMP%]    .mat-select-value{color:#fff}.basket-order[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.basket-order[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border:2px solid #fff;border-radius:30px;display:flex;align-items:center}.basket-order[_ngcontent-%COMP%]    .mat-form-field-prefix{padding-left:15px;padding-right:10px}.basket-order[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{color:#fff}.basket-order[_ngcontent-%COMP%]    .mat-select-arrow{color:#fff;margin-right:25px}.basket-order[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.ascDescTool[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{background:#135f7f;border:2px solid #fff;color:#fff!important;box-shadow:none}.filterOptionContent[_ngcontent-%COMP%]    .mat-option-text{display:flex;overflow:inherit}.mat-option[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#f99830;font-size:11px}.filterBadges[_ngcontent-%COMP%] > .badge-eraser[_ngcontent-%COMP%]{margin:5px;background:none;cursor:pointer;color:#fff;font-size:20px}.filterBadges[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{white-space:inherit}.filterBadges[_ngcontent-%COMP%] > .badge-search[_ngcontent-%COMP%]{margin:5px;background:#666;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-categories[_ngcontent-%COMP%]{margin:5px;background:#78ad32;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-statuses[_ngcontent-%COMP%]{margin:5px;background:#5bc0de;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-priorities[_ngcontent-%COMP%]{margin:5px;background:#f9d812;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-entities[_ngcontent-%COMP%]{margin:5px;background:#7d5ba6;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-subEntities[_ngcontent-%COMP%]{margin:5px;background:#9440d5;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-doctypes[_ngcontent-%COMP%]{margin:5px;background:#d6716f;cursor:pointer}.filterBadges[_ngcontent-%COMP%] > .badge-folders[_ngcontent-%COMP%]{margin:5px;background:#f99830;cursor:pointer} .autoCompletePanelFilter{left:25px;min-width:400px!important;max-width:90%!important}.mat-optgroup-label[_ngcontent-%COMP%]{color:#f99830;font-size:14px;font-weight:500}"]}),Jr),to=n("STbY"),eo=n("dXBx"),no=n("1YbM");function io(t,e){if(1&t&&(i.Zb(0,"button",11),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"mat-icon",12),i.Yb()),2&t){i.lc();var n=i.Dc(3);i.sc("matMenuTriggerFor",n),i.Eb(1),i.Tc(i.nc(2,2,"lang.actionsAlt"))}}function ao(t,e){if(1&t&&i.Ub(0,"span",13,14),2&t){var n=i.lc(),a=i.Dc(3);i.Pc("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),i.sc("matMenuTriggerFor",a)}}function ro(t,e){if(1&t&&(i.Zb(0,"div",15),i.Sc(1),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Uc(" ",n.contextMenuTitle," ")}}function oo(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",16),i.hc("menuOpened",(function(){return i.Hc(n),i.lc().getBaskets()})),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}if(2&t){i.lc();var a=i.Dc(7);i.sc("matMenuTriggerFor",a),i.Eb(2),i.Tc(i.nc(3,2,"lang.goToBasket"))}}function so(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).goTo(t)})),i.Sc(1),i.Yb()}if(2&t){var a=i.lc().$implicit;i.tc("title",a.basketName),i.Eb(1),i.Uc("",a.basketName," ")}}function co(t,e){if(1&t&&(i.Xb(0),i.Qc(1,so,2,2,"button",18),i.Wb()),2&t){var n=e.$implicit,a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",n.groupId===a.groupId)}}function lo(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",17),i.Sc(2),i.Yb(),i.Qc(3,co,2,1,"ng-container",6),i.mc(4,"sortBy"),i.Wb()),2&t){var n=e.$implicit,a=i.lc();i.Eb(2),i.Tc(n.groupName),i.Eb(1),i.sc("ngForOf",i.oc(4,2,a.basketList.list,"basketName"))}}function uo(t,e){1&t&&(i.Zb(0,"div",20),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mailNotPresentInBasket")," "))}var fo,ho=((fo=function(){function t(e,n,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.router=o,this.headerService=s,this.loading=!1,this.triggerEvent=new i.o,this.contextMenuPosition={x:"0px",y:"0px"},this.contextMenuTitle="",this.currentAction={},this.basketInfo={},this.contextResId=0,this.currentLock=null,this.arrRes=[],this.folderList=[],this.actionsList=[],this.basketList={groups:[],list:[]},this.refreshEvent=new i.o,this.refreshPanelFolders=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"open",value:function(t,e,n){return this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=e+"px",this.contextMenuTitle=n.chrono,this.contextResId=n.resId,this.folderList=void 0!==n.folders?n.folders:[],this.contextMenu.openMenu(),!1}},{key:"refreshFolders",value:function(){this.refreshPanelFolders.emit()}},{key:"refreshDaoAfterAction",value:function(){this.refreshEvent.emit()}},{key:"unFollow",value:function(){var t=this;this.dialogRef=this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return t.http.request("DELETE","../rest/resources/unfollow",{body:{resources:t.selectedRes}})})),Object(lt.a)((function(e){t.notify.success(t.translate.instant("lang.removedFromFolder")),t.headerService.nbResourcesFollowed-=e.unFollowed,t.refreshDaoAfterAction()})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"getBaskets",value:function(){var t=this;this.http.get("../rest/followedResources/"+this.selectedRes+"/baskets").pipe(Object(lt.a)((function(e){t.basketList.groups=e.groupsBaskets.filter((function(t,e,n){return t&&n.map((function(t){return t.groupId})).indexOf(t.groupId)===e})),t.basketList.list=e.groupsBaskets})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"goTo",value:function(t){this.contextMenuTitle!==this.translate.instant("lang.undefined")&&""!==this.contextMenuTitle?this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId],{queryParams:{chrono:'"'+this.contextMenuTitle+'"'}}):this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId])}},{key:"refreshList",value:function(){this.refreshEvent.emit()}}]),t}()).\u0275fac=function(t){return new(t||fo)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.b),i.Tb(o.c),i.Tb(f.a))},fo.\u0275cmp=i.Nb({type:fo,selectors:[["app-followed-action-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(to.d,!0),2&t&&i.Cc(n=i.ic())&&(e.contextMenu=n.first)},inputs:{selectedRes:"selectedRes",totalRes:"totalRes",contextMode:"contextMode",currentFolderInfo:"currentFolderInfo",menuShortcut:"menuShortcut"},outputs:{triggerEvent:"triggerEvent",refreshEvent:"refreshEvent",refreshPanelFolders:"refreshPanelFolders"},decls:19,vars:19,consts:[["mat-stroked-button","",3,"matMenuTriggerFor",4,"ngIf"],["style","position: fixed;",3,"matMenuTriggerFor","left","top",4,"ngIf"],["menu","matMenu"],["style","text-align: center;font-size: 10px;color: white;background: #135F7F;padding: 5px;font-weight: bold;",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened",4,"ngIf"],["baskets","matMenu"],[4,"ngFor","ngForOf"],["class","noAvailableBasket",4,"ngIf"],["mat-menu-item","",1,"followAction",3,"disabled","click"],[1,"far","fa-star","fa-2x"],[3,"resIds","currentFolders","refreshList","refreshFolders"],["mat-stroked-button","",3,"matMenuTriggerFor"],["matSuffix","",1,"fa","fa-caret-down"],[2,"position","fixed",3,"matMenuTriggerFor"],["menu2",""],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened"],[1,"basketGroupName"],["mat-menu-item","","class","labelBasket",3,"title","click",4,"ngIf"],["mat-menu-item","",1,"labelBasket",3,"title","click"],[1,"noAvailableBasket"]],template:function(t,e){1&t&&(i.Qc(0,io,4,4,"button",0),i.Qc(1,ao,2,5,"span",1),i.Zb(2,"mat-menu",null,2),i.Qc(4,ro,2,1,"div",3),i.Qc(5,oo,4,4,"button",4),i.Zb(6,"mat-menu",null,5),i.Qc(8,lo,5,5,"ng-container",6),i.mc(9,"sortBy"),i.Qc(10,uo,3,3,"div",7),i.Yb(),i.Ub(11,"mat-divider"),i.Zb(12,"button",8),i.hc("click",(function(){return e.unFollow()})),i.Ub(13,"mat-icon",9),i.Zb(14,"span"),i.Sc(15),i.mc(16,"translate"),i.Yb(),i.Yb(),i.Ub(17,"mat-divider"),i.Zb(18,"folder-menu",10),i.hc("refreshList",(function(){return e.refreshList()}))("refreshFolders",(function(){return e.refreshFolders()})),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",!e.contextMode),i.Eb(1),i.sc("ngIf",e.contextMode),i.Eb(1),i.Gb("actionListMenu"),i.Eb(2),i.sc("ngIf",e.contextMode&&1==e.selectedRes.length),i.Eb(1),i.sc("ngIf",1==e.selectedRes.length),i.Eb(1),i.Gb("folderListMenu"),i.Eb(2),i.sc("ngForOf",i.oc(9,14,e.basketList.groups,"groupName")),i.Eb(2),i.sc("ngIf",0==e.basketList.groups.length),i.Eb(2),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(16,17,"lang.untrackThisMail")),i.Eb(3),i.sc("resIds",e.selectedRes)("currentFolders",e.folderList))},directives:[y.t,to.e,y.s,O.a,to.b,b.a,eo.a,g.b,to.d,N.j],pipes:[no.a,l.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px;border-color:#135f7f;color:#135f7f} .actionListMenu .mat-menu-content{padding-top:0;padding-bottom:0}.followAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#8e3e52}.basketGroupName[_ngcontent-%COMP%]{color:#135f7f;padding-left:10px;padding-right:10px}.labelBasket[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.noAvailableBasket[_ngcontent-%COMP%]{text-align:center;font-size:12px;opacity:.5;font-style:italic;padding:22px}"]}),fo),po=n("5+WD"),mo=n("y9tK"),go=n("XkWp"),bo=["appDiffusionsList"],vo=["appVisaWorkflow"],yo=["appAvisWorkflow"],_o=["appNotesList"],ko=["appAttachmentsList"],Co=function(t){return{color:t}};function xo(t,e){if(1&t&&i.Ub(0,"mat-icon",8),2&t){var n=i.lc();i.Ib("",n.currentResource.statusImage.charAt(0),"",n.currentResource.statusImage.charAt(1)," ",n.currentResource.statusImage," ",n.currentResource.statusImage.charAt(0),"",n.currentResource.statusImage.charAt(1),"-2x"),i.sc("ngStyle",i.zc(8,Co,n.currentResource.priorityColor))}}function wo(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-tab-group",9),i.hc("selectedIndexChange",(function(t){return i.Hc(n),i.lc().selectedDiffusionTab=t})),i.Zb(1,"mat-tab",10),i.mc(2,"translate"),i.Ub(3,"app-diffusions-list",11,12),i.Yb(),i.Zb(5,"mat-tab",13),i.mc(6,"translate"),i.Ub(7,"app-visa-workflow",14,15),i.Yb(),i.Zb(9,"mat-tab",13),i.mc(10,"translate"),i.Ub(11,"app-avis-workflow",14,16),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(8),r=i.Dc(12),o=i.lc();i.sc("selectedIndex",o.selectedDiffusionTab),i.Eb(1),i.tc("label",i.nc(2,11,"lang.diffusionList")),i.Eb(2),i.sc("adminMode",!1),i.Eb(2),i.tc("label",i.nc(6,13,"lang.visaWorkflow")),i.sc("disabled",0==a.getVisaCount()),i.Eb(2),i.sc("adminMode",!1)("injectDatas",o.injectDatasParam),i.Eb(2),i.tc("label",i.nc(10,15,"lang.avis")),i.sc("disabled",0==r.getAvisCount()),i.Eb(2),i.sc("adminMode",!1)("injectDatas",o.injectDatasParam)}}function Oo(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-notes-list",17,18),i.hc("reloadBadgeNotes",(function(t){return i.Hc(n),i.lc().reloadBadgeNotes(t)})),i.Yb()}if(2&t){var a=i.lc();i.sc("editMode",!0)("injectDatas",a.injectDatasParam)}}function So(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-attachments-list",19,20),i.hc("reloadBadgeAttachments",(function(t){return i.Hc(n),i.lc().reloadBadgeAttachments(t)})),i.Yb()}if(2&t){var a=i.lc();i.sc("injectDatas",a.injectDatasParam)}}var Eo,Mo=((Eo=function(){function t(e){_classCallCheck(this,t),this.translate=e,this.loading=!1,this.selectedDiffusionTab=0,this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.refreshBadgeNotes=new i.o,this.refreshBadgeAttachments=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"loadComponent",value:function(t,e){var n=this;this.mode=t,this.currentResource=e,this.injectDatasParam.resId=this.currentResource.resId,"diffusion"===t?setTimeout((function(){n.icon="fa-sitemap",n.selectedDiffusionTab=0,n.injectDatasParam.resId=n.currentResource.resId,n.appDiffusionsList.loadListinstance(n.currentResource.resId),n.appVisaWorkflow.loadWorkflow(n.currentResource.resId),n.appAvisWorkflow.loadWorkflow(n.currentResource.resId)}),0):"note"===t?(setTimeout((function(){n.icon="fa-comments",n.appNotesList.loadNotes(n.currentResource.resId)}),0),setTimeout((function(){$("textarea").focus()}),200)):"attachment"===t&&setTimeout((function(){n.icon="fa-paperclip",n.appAttachmentsList.loadAttachments(n.currentResource.resId)}),0)}},{key:"reloadBadgeNotes",value:function(t){this.refreshBadgeNotes.emit(t)}},{key:"reloadBadgeAttachments",value:function(t){this.refreshBadgeAttachments.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Eo)(i.Tb(l.e))},Eo.\u0275cmp=i.Nb({type:Eo,selectors:[["app-panel-list"]],viewQuery:function(t,e){var n;1&t&&(i.ad(bo,!0),i.ad(vo,!0),i.ad(yo,!0),i.ad(_o,!0),i.ad(ko,!0)),2&t&&(i.Cc(n=i.ic())&&(e.appDiffusionsList=n.first),i.Cc(n=i.ic())&&(e.appVisaWorkflow=n.first),i.Cc(n=i.ic())&&(e.appAvisWorkflow=n.first),i.Cc(n=i.ic())&&(e.appNotesList=n.first),i.Cc(n=i.ic())&&(e.appAttachmentsList=n.first))},outputs:{refreshBadgeNotes:"refreshBadgeNotes",refreshBadgeAttachments:"refreshBadgeAttachments"},decls:11,vars:12,consts:[[2,"font-size","60px","opacity","0.1","padding-bottom","30px","text-align","center"],["fontSet","fas",3,"fontIcon"],[2,"position","sticky","top","0px","background","white","z-index","1","display","flex","justify-content","center","align-items","center","color","#666","padding","10px"],["color","primary",3,"ngStyle","class",4,"ngIf"],[2,"text-align","center","font-weight","bold","margin-bottom","30px","padding-left","10px","padding-right","10px",3,"title"],["class","diffusionTab",3,"selectedIndex","selectedIndexChange",4,"ngIf"],[3,"editMode","injectDatas","reloadBadgeNotes",4,"ngIf"],[3,"injectDatas","reloadBadgeAttachments",4,"ngIf"],["color","primary",3,"ngStyle"],[1,"diffusionTab",3,"selectedIndex","selectedIndexChange"],[3,"label"],[3,"adminMode"],["appDiffusionsList",""],[3,"label","disabled"],[3,"adminMode","injectDatas"],["appVisaWorkflow",""],["appAvisWorkflow",""],[3,"editMode","injectDatas","reloadBadgeNotes"],["appNotesList",""],[3,"injectDatas","reloadBadgeAttachments"],["appAttachmentsList",""]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Ub(1,"mat-icon",1),i.Yb(),i.Zb(2,"div",2),i.Qc(3,xo,1,10,"mat-icon",3),i.Sc(4),i.Yb(),i.Zb(5,"div",4),i.Sc(6),i.mc(7,"shorten"),i.Yb(),i.Qc(8,wo,13,17,"mat-tab-group",5),i.Qc(9,Oo,2,2,"app-notes-list",6),i.Qc(10,So,2,1,"app-attachments-list",7)),2&t&&(i.Eb(1),i.uc("fontIcon","",e.icon," fa-2x"),i.Eb(2),i.sc("ngIf",void 0!==e.currentResource.statusImage),i.Eb(1),i.Uc("\xa0",e.currentResource.chrono,"\n"),i.Eb(1),i.tc("title",e.currentResource.subject),i.Eb(1),i.Uc(" ",i.pc(7,8,e.currentResource.subject,50,"..."),"\n"),i.Eb(2),i.sc("ngIf","diffusion"==e.mode),i.Eb(1),i.sc("ngIf","note"==e.mode),i.Eb(1),i.sc("ngIf","attachment"==e.mode))},directives:[b.a,y.t,y.w,mt.c,mt.a,mo.a,$i.a,go.a,Xi.a,ta.a],pipes:[Dr.p,l.d],styles:[""]}),Eo),Io=["snav2"],Po=["actionsListContext"],To=["appPanelList"],Ao=["tableBasketListSort"],Do=["basketHome"],Ro=["menuShortcut"];function Lo(t,e){1&t&&i.Ub(0,"mat-spinner")}function Fo(t,e){if(1&t&&(i.Zb(0,"div",38),i.Qc(1,Lo,1,0,"mat-spinner",16),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function jo(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Vc("- ",n.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}var Yo=function(t){return{color:t}};function Zo(t,e){if(1&t&&i.Ub(0,"mat-icon",55),2&t){var n=i.lc(2).$implicit;i.Ib("",n.statusImage.charAt(0),"",n.statusImage.charAt(1)," ",n.statusImage," ",n.statusImage.charAt(0),"",n.statusImage.charAt(1),"-2x"),i.tc("title",n.statusLabel),i.sc("ngStyle",i.zc(9,Yo,n.priorityColor))}}function No(t,e){1&t&&(i.Zb(0,"span",56),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function Uo(t,e){if(1&t&&(i.Ub(0,"mat-icon",57),i.mc(1,"translate")),2&t){var n=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",n.locker,"")}}function Bo(t,e){if(1&t&&(i.Zb(0,"span",51),i.Qc(1,Zo,1,11,"mat-icon",52),i.Qc(2,No,3,3,"span",53),i.Qc(3,Uo,2,4,"mat-icon",54),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==n.isLocked),i.Eb(1),i.sc("ngIf","Y"===n.confidentiality),i.Eb(1),i.sc("ngIf",!0===n.isLocked)}}function zo(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",59),i.Ub(2,"i",60),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",n.barcode,"")}}function Vo(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",n.chrono," ")}}function Ho(t,e){if(1&t&&(i.Zb(0,"span",58),i.Qc(1,zo,5,4,"ng-container",16),i.Qc(2,Vo,2,1,"ng-container",16),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngIf",n.chrono==a.translate.instant("lang.undefined")&&n.barcode!=a.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",n.chrono!=a.translate.instant("lang.undefined"))}}function Qo(t,e){1&t&&(i.Zb(0,"div",61),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.documentOutOfPerimeter")," "))}var Wo=function(t){return[t]};function Go(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",62),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("note",e)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",63),i.Yb(),i.Zb(4,"button",62),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("attachment",e)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",64),i.Yb(),i.Zb(7,"button",62),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("diffusion",e)})),i.mc(8,"translate"),i.Ub(9,"mat-icon",65),i.Yb(),i.Zb(10,"button",66),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.viewDocument(e)}))("mouseenter",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc().viewThumbnail(t)}))("mouseleave",(function(){return i.Hc(n),i.lc(2).closeThumbnail()})),i.Ub(11,"mat-icon",67),i.Yb(),i.Zb(12,"button",62),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.goToDetail(e)})),i.mc(13,"translate"),i.Ub(14,"mat-icon",68),i.Yb(),i.Wb()}if(2&t){var a=i.lc().$implicit,r=i.lc(),o=i.Dc(41);i.Eb(1),i.Jb("noData",0==a.countNotes),i.tc("title",i.nc(2,18,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==a.countNotes),i.tc("matBadge",a.countNotes),i.sc("color",o.opened&&a.checked&&"note"==r.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==a.countAttachments),i.tc("title",i.nc(5,20,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==a.countAttachments),i.tc("matBadge",a.countAttachments),i.sc("color",o.opened&&a.checked&&"attachment"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(8,22,"lang.diffusionList")),i.Eb(2),i.sc("color",o.opened&&a.checked&&"diffusion"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",r.translate.instant(a.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!a.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(26,Wo,a.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(13,24,"lang.linkDetails"))}}function qo(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",71),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.goToFolder(a)})),i.mc(1,"translate"),i.Ub(2,"i",72),i.Sc(3),i.Yb()}if(2&t){var a=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",a.label,""),i.Eb(3),i.Uc(" ",a.label,"")}}function Xo(t,e){if(1&t&&(i.Zb(0,"div",69),i.Qc(1,qo,4,5,"span",70),i.mc(2,"sortBy"),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,n.folders,"label"))}}function $o(t,e){if(1&t){var n=i.ac();i.Zb(0,"td",39),i.Zb(1,"div",40),i.Zb(2,"span",41),i.Zb(3,"mat-checkbox",42),i.hc("change",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().toggleRes(t,a)}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(4,"button",43),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.unfollowMail(a)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",44),i.Yb(),i.Qc(7,Bo,4,3,"span",45),i.Qc(8,Ho,3,2,"span",46),i.Zb(9,"span",47),i.Sc(10),i.mc(11,"shorten"),i.Yb(),i.Zb(12,"span",48),i.Qc(13,Qo,3,3,"div",49),i.Qc(14,Go,15,28,"ng-container",16),i.Yb(),i.Yb(),i.Qc(15,Xo,3,4,"div",50),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.Jb("selected-data",a.checked),i.Eb(3),i.sc("checked",a.checked),i.Eb(1),i.tc("title",i.nc(5,13,"lang.untrackThisMail")),i.Eb(3),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.Jb("undefined",a.subject==r.translate.instant("lang.undefined")),i.tc("title",a.subject),i.Eb(1),i.Tc(i.pc(11,15,a.subject,150,"...")),i.Eb(3),i.sc("ngIf",!a.allowed),i.Eb(1),i.sc("ngIf",a.allowed),i.Eb(1),i.sc("ngIf",void 0!==a.folders&&a.folders.length>0)}}function Jo(t,e){1&t&&i.Ub(0,"div",76)}function Ko(t,e){if(1&t&&(i.Zb(0,"div",77),i.Ub(1,"i",78),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(n.chrono)}}function ts(t,e){if(1&t){var n=i.ac();i.Zb(0,"tr",73),i.hc("contextmenu",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("click",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("cdkDragStarted",(function(){i.Hc(n);var t=e.$implicit;return i.lc().selectSpecificRes(t)})),i.Qc(1,Jo,1,0,"div",74),i.Qc(2,Ko,7,4,"div",75),i.Yb()}if(2&t){var a=e.$implicit;i.Jb("locked",1==a.isLocked),i.sc("cdkDragDisabled",!a.allowed)("cdkDragData",a)}}function es(t,e){if(1&t&&i.Ub(0,"div",79),2&t){var n=i.lc();i.sc("matTooltip",n.currentChrono)("innerHTML",n.innerHtml,i.Ic)}}var ns,is=function(){return[10,25,50,100,150]},as=function(t){return{width:t}},rs=((ns=function(){function t(e,n,a,r,o,s,c,l,u,d,f,h,p){var m=this;_classCallCheck(this,t),this.translate=e,this.router=n,this.route=a,this.http=r,this.dialog=o,this.sanitizer=s,this.headerService=c,this.filtersListService=l,this.notify=u,this.overlay=d,this.viewContainerRef=f,this.appService=h,this.foldersService=p,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentChrono="",this.currentMode="",this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.folderInfo={id:0,label:"",ownerDisplayName:"",entitiesSharing:[]},this.destroy$=new Er.Subject,this.currentSelectedChrono="",this.subscription=this.foldersService.catchEvent().subscribe((function(t){"function"===t.type&&"refreshDao"===t.content&&m.refreshDao()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!1,this.isLoadingResults=!1,this.route.params.subscribe((function(e){t.dragInit=!0,t.destroy$.next(!0),t.http.get("../rest/followedResources").subscribe((function(e){t.headerService.setHeader(t.translate.instant("lang.followedMail"),"","fas fa-star")})),t.basketUrl="../rest/followedResources",t.filtersListService.filterMode=!1,t.selectedRes=[],t.listProperties=t.filtersListService.initListsProperties(t.headerService.user.id,0,null,"followed"),setTimeout((function(){t.dragInit=!1}),1e3),t.initResultList()}),(function(e){t.notify.handleErrors(e)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0)}},{key:"initResultList",value:function(){var t=this;this.resultListDatabase=new os(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(Mr.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(Cr.a)(this.destroy$),Object(xr.a)({}),Object(ct.a)((function(){return t.isLoadingResults=!0,t.resultListDatabase.getRepoIssues(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.basketUrl,t.filtersListService.getUrlFilters(),t.paginator.pageSize)})),Object(wr.a)((function(e){return t.isLoadingResults=!1,e=t.processPostData(e),t.resultsLength=e.countResources,t.allResInBasket=e.allResources,e.resources})),Object(wn.a)((function(e){return t.notify.handleErrors(e),t.router.navigate(["/home"]),t.isLoadingResults=!1,Object(On.of)(!1)}))).subscribe((function(e){return t.data=e}))}},{key:"goTo",value:function(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}},{key:"goToDetail",value:function(t){this.router.navigate(["/resources/"+t.resId])}},{key:"goToFolder",value:function(t){this.router.navigate(["/folders/"+t.id])}},{key:"togglePanel",value:function(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),this.currentResource.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}},{key:"refreshBadgeNotes",value:function(t){this.currentResource.countNotes=t}},{key:"refreshBadgeAttachments",value:function(t){this.currentResource.countAttachments=t}},{key:"refreshDao",value:function(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}},{key:"refreshDaoAfterAction",value:function(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}},{key:"viewThumbnail",value:function(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"}))}},{key:"closeThumbnail",value:function(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}},{key:"processPostData",value:function(t){var e=this;return t.resources.forEach((function(t){Object.keys(t).forEach((function(n){"statusImage"===n&&null==t[n]?t[n]="fa-question undefined":null!=t[n]&&""!==t[n]||-1!==["closingDate","countAttachments","countNotes","display","mailTracking","hasDocument","folders"].indexOf(n)||(t[n]=e.translate.instant("lang.undefined"))})),t.checked=-1!==e.selectedRes.indexOf(t.resId)})),t}},{key:"toggleRes",value:function(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{var n=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(n,1),e.checked=!1}}},{key:"toggleAllRes",value:function(t){this.selectedRes=[],t.checked?(this.data.forEach((function(t){t.checked=!0})),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach((function(t){t.checked=!1}))}},{key:"selectSpecificRes",value:function(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}},{key:"open",value:function(t,e){var n=t.x,i=t.y;return!1===e.checked&&(e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e)),this.actionsList.open(n,i,e),!1}},{key:"listTodrag",value:function(){return this.foldersService.getDragIds()}},{key:"unfollowMail",value:function(t){var e=this;this.dialogRef=this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return e.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}})})),Object(lt.a)((function(t){e.headerService.nbResourcesFollowed--,e.initResultList()})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"viewDocument",value:function(t){var e=this;this.http.get("../rest/resources/".concat(t.resId,"/content?mode=view"),{responseType:"blob"}).pipe(Object(lt.a)((function(e){var n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),a=window.open();a.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(i,'" frameborder="0" allowfullscreen></iframe>')),a.document.title=t.chrono})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||ns)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(u.b),i.Tb(Y.b),i.Tb(An.b),i.Tb(f.a),i.Tb(Ir),i.Tb(h.a),i.Tb(Pr.c),i.Tb(i.R),i.Tb(p.a),i.Tb(Tr.a))},ns.\u0275cmp=i.Nb({type:ns,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Io,!0),i.Oc(Po,!0),i.Oc(To,!0),i.Oc(yt.a,!0),i.Oc(Ao,!0),i.Oc(Do,!0),i.Oc(Ro,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.basketHome=n.first),i.Cc(n=i.ic())&&(e.menuShortcut=n.first))},decls:51,vars:56,consts:[[1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[2,"flex","1","overflow-x","auto","overflow-y","hidden",3,"listProperties","totalRes","selectedRes","routeDatas","title","toggleAllRes","refreshEventAfterAction","refreshEvent"],["filtersTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","menuShortcut","refreshEvent"],["actionsList",""],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","folder-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","dataSource"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","style","cursor: pointer;","cdkDrag","",3,"locked","cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","menuShortcut","refreshEvent","refreshPanelFolders"],["actionsListContext",""],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[1,"main-info"],[2,"width","50px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[1,"fas","fa-star",2,"margin-bottom","5px"],["style","cursor:pointer;","class","main-info-status",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title"],[1,"main-info-action"],["color","warn",4,"ngIf"],["class","folder-info",4,"ngIf"],[1,"main-info-status",2,"cursor","pointer"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],["color","warn"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",2,"cursor","pointer",3,"cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"app-filters-tool",8,9),i.hc("toggleAllRes",(function(t){return e.toggleAllRes(t)}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshEvent",(function(){return e.refreshDao()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",10),i.Zb(16,"div",11),i.Qc(17,Fo,2,1,"div",12),i.Zb(18,"div",13),i.Zb(19,"div",14),i.Zb(20,"mat-checkbox",15),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(21,"translate"),i.Yb(),i.Sc(22),i.mc(23,"ucfirst"),i.mc(24,"translate"),i.Qc(25,jo,3,4,"small",16),i.Yb(),i.Zb(26,"div",17),i.Zb(27,"span"),i.Ub(28,"mat-paginator",18,19),i.Yb(),i.Zb(30,"span"),i.Zb(31,"app-followed-action-list",20,21),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(33,"div",22),i.Zb(34,"table",23,24),i.Xb(36,25),i.Qc(37,$o,16,19,"td",26),i.Wb(),i.Qc(38,ts,3,4,"tr",27),i.Yb(),i.Yb(),i.Ub(39,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"mat-sidenav",28,29),i.Qc(42,es,1,2,"div",30),i.Zb(43,"div",31),i.Zb(44,"button",32),i.hc("click",(function(){return i.Hc(n),i.Dc(41).close()})),i.Ub(45,"mat-icon",33),i.Yb(),i.Yb(),i.Zb(46,"app-panel-list",34,35),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(48,"mat-divider"),i.Yb(),i.Yb(),i.Zb(49,"app-followed-action-list",36,37),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(3),i.sc("src",i.nc(4,43,i.nc(5,45,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("listProperties",e.listProperties)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("routeDatas","/rest/followedResources/filters")("title",e.translate.instant("lang.searchTrackedMail")),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(21,47,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.resultsLength," ",i.nc(23,49,i.nc(24,51,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(53,is)),i.Eb(3),i.sc("contextMode",!1)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("menuShortcut",e.menuShortcut),i.Eb(3),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode())("dataSource",e.data),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",e.innerHtml),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(54,as,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml),i.Eb(7),i.sc("contextMode",!0)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("menuShortcut",e.menuShortcut))},directives:[v.e,v.f,Z.a,ht.a,pt.a,Kr,y.t,C.a,yt.a,ho,dt.n,po.e,_t.a,dt.c,dt.b,dt.m,v.d,y.w,g.b,b.a,Mo,O.a,_.c,dt.a,Vn.a,y.q,y.s,dt.l,po.a,po.c,po.d,x.b],pipes:[y.b,xt.a,l.d,Dr.u,Dr.p,no.a],styles:[".dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.banner-opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;background:#1a80ab;width:100%}.banner-opened[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.banner-opened[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:16px}.banner-opened[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex:1;padding-left:20px;padding-right:20px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .private[_ngcontent-%COMP%]{font-style:italic;display:flex;justify-content:flex-end;align-items:center}.banner-closed[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;position:relative;width:100%}.banner-closed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.followIcon[_ngcontent-%COMP%]{color:#f99830}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{cursor:pointer;background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),ns),os=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.filtersListService=n}return _createClass(t,[{key:"getRepoIssues",value:function(t,e,n,i,a,r){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(r),this.http.get("".concat(i,"?limit=").concat(r,"&offset=").concat(n*r).concat(a))}}]),t}(),ss=n("mb9D"),cs=["snav2"],ls=["actionsListContext"],us=["appPanelList"],ds=["tableBasketListSort"],fs=["basketHome"];function hs(t,e){1&t&&i.Ub(0,"div",42)}function ps(t,e){1&t&&(i.Zb(0,"div",47),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.privateFolder")," "))}function ms(t,e){if(1&t&&(i.Zb(0,"div"),i.Zb(1,"b",50),i.Sc(2),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.Eb(2),i.Tc(n)}}function gs(t,e){if(1&t&&(i.Zb(0,"div",44),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"br"),i.Zb(4,"div",48),i.Qc(5,ms,3,1,"div",49),i.mc(6,"sortBy"),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.Uc(" ",i.nc(2,2,"lang.visibleBy")," :"),i.Eb(4),i.sc("ngForOf",i.nc(6,4,n.folderInfo.entitiesSharing))}}function bs(t,e){if(1&t&&(i.Zb(0,"div",43),i.Zb(1,"div",44),i.Sc(2),i.mc(3,"translate"),i.Ub(4,"br"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb(),i.Qc(7,ps,3,3,"div",45),i.Qc(8,gs,7,6,"div",46),i.Yb()),2&t){var n=i.lc();i.Eb(2),i.Uc(" ",i.nc(3,4,"lang.owner")," :"),i.Eb(4),i.Tc(n.folderInfo.ownerDisplayName),i.Eb(1),i.sc("ngIf",0===n.folderInfo.entitiesSharing.length),i.Eb(1),i.sc("ngIf",n.folderInfo.entitiesSharing.length>0)}}function vs(t,e){1&t&&i.Ub(0,"mat-spinner")}function ys(t,e){if(1&t&&(i.Zb(0,"div",51),i.Qc(1,vs,1,0,"mat-spinner",21),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function _s(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Vc("- ",n.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}var ks=function(t){return{color:t}};function Cs(t,e){if(1&t&&i.Ub(0,"mat-icon",68),2&t){var n=i.lc(2).$implicit;i.Ib("",n.statusImage.charAt(0),"",n.statusImage.charAt(1)," ",n.statusImage," ",n.statusImage.charAt(0),"",n.statusImage.charAt(1),"-2x"),i.tc("title",n.statusLabel),i.sc("ngStyle",i.zc(9,ks,n.priorityColor))}}function xs(t,e){1&t&&(i.Zb(0,"span",69),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function ws(t,e){if(1&t&&(i.Ub(0,"mat-icon",70),i.mc(1,"translate")),2&t){var n=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",n.locker,"")}}function Os(t,e){if(1&t&&(i.Zb(0,"span",64),i.Qc(1,Cs,1,11,"mat-icon",65),i.Qc(2,xs,3,3,"span",66),i.Qc(3,ws,2,4,"mat-icon",67),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==n.isLocked),i.Eb(1),i.sc("ngIf","Y"===n.confidentiality),i.Eb(1),i.sc("ngIf",!0===n.isLocked)}}function Ss(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",72),i.Ub(2,"i",73),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",n.barcode,"")}}function Es(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",n.chrono," ")}}function Ms(t,e){if(1&t&&(i.Zb(0,"span",71),i.Qc(1,Ss,5,4,"ng-container",21),i.Qc(2,Es,2,1,"ng-container",21),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngIf",n.chrono==a.translate.instant("lang.undefined")&&n.barcode!=a.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",n.chrono!=a.translate.instant("lang.undefined"))}}function Is(t,e){1&t&&(i.Zb(0,"div",74),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.documentOutOfPerimeter")," "))}var Ps=function(t){return[t]};function Ts(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",75),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("note",e)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",76),i.Yb(),i.Zb(4,"button",75),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("attachment",e)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",77),i.Yb(),i.Zb(7,"button",75),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("diffusion",e)})),i.mc(8,"translate"),i.Ub(9,"mat-icon",78),i.Yb(),i.Zb(10,"button",79),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.viewDocument(e)}))("mouseenter",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc().viewThumbnail(t)}))("mouseleave",(function(){return i.Hc(n),i.lc(2).closeThumbnail()})),i.Ub(11,"mat-icon",80),i.Yb(),i.Zb(12,"button",75),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.goToDetail(e)})),i.mc(13,"translate"),i.Ub(14,"mat-icon",81),i.Yb(),i.Wb()}if(2&t){var a=i.lc().$implicit,r=i.lc(),o=i.Dc(49);i.Eb(1),i.Jb("noData",0==a.countNotes),i.tc("title",i.nc(2,18,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==a.countNotes),i.tc("matBadge",a.countNotes),i.sc("color",o.opened&&a.checked&&"note"==r.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==a.countAttachments),i.tc("title",i.nc(5,20,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==a.countAttachments),i.tc("matBadge",a.countAttachments),i.sc("color",o.opened&&a.checked&&"attachment"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(8,22,"lang.diffusionList")),i.Eb(2),i.sc("color",o.opened&&a.checked&&"diffusion"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",r.translate.instant(a.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!a.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(26,Ps,a.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(13,24,"lang.linkDetails"))}}function As(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",84),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.goToFolder(a)})),i.mc(1,"translate"),i.Ub(2,"i",85),i.Sc(3),i.Yb()}if(2&t){var a=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",a.label,""),i.Eb(3),i.Uc(" ",a.label,"")}}function Ds(t,e){if(1&t&&(i.Zb(0,"div",82),i.Qc(1,As,4,5,"span",83),i.mc(2,"sortBy"),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,n.folders,"label"))}}function Rs(t,e){if(1&t){var n=i.ac();i.Zb(0,"td",52),i.Zb(1,"div",53),i.Zb(2,"span",54),i.Zb(3,"mat-checkbox",55),i.hc("change",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().toggleRes(t,a)}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(4,"button",56),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.toggleMailTracking(a)})),i.Ub(5,"mat-icon",57),i.Yb(),i.Qc(6,Os,4,3,"span",58),i.Qc(7,Ms,3,2,"span",59),i.Zb(8,"span",60),i.Sc(9),i.mc(10,"shorten"),i.Yb(),i.Zb(11,"span",61),i.Qc(12,Is,3,3,"div",62),i.Qc(13,Ts,15,28,"ng-container",21),i.Yb(),i.Yb(),i.Qc(14,Ds,3,4,"div",63),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.Jb("selected-data",a.checked),i.Eb(3),i.sc("checked",a.checked),i.Eb(1),i.sc("title",r.translate.instant(!0===a.mailTracking?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.sc("ngClass",i.zc(18,Ps,!0===a.mailTracking?"fas fa-star":"far fa-star")),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.Jb("undefined",a.subject==r.translate.instant("lang.undefined")),i.tc("title",a.subject),i.Eb(1),i.Tc(i.pc(10,14,a.subject,150,"...")),i.Eb(3),i.sc("ngIf",!a.allowed),i.Eb(1),i.sc("ngIf",a.allowed),i.Eb(1),i.sc("ngIf",void 0!==a.folders&&a.folders.length>0)}}function Ls(t,e){1&t&&i.Ub(0,"div",89)}function Fs(t,e){if(1&t&&(i.Zb(0,"div",90),i.Ub(1,"i",91),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(n.chrono)}}function js(t,e){if(1&t){var n=i.ac();i.Zb(0,"tr",86),i.hc("contextmenu",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("click",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("cdkDragStarted",(function(){i.Hc(n);var t=e.$implicit;return i.lc().selectSpecificRes(t)})),i.Qc(1,Ls,1,0,"div",87),i.Qc(2,Fs,7,4,"div",88),i.Yb()}if(2&t){var a=e.$implicit;i.Jb("locked",1==a.isLocked),i.sc("cdkDragDisabled",!a.allowed)("cdkDragData",a)}}function Ys(t,e){if(1&t&&i.Ub(0,"div",92),2&t){var n=i.lc();i.sc("matTooltip",n.currentChrono)("innerHTML",n.innerHtml,i.Ic)}}var Zs,Ns=function(){return[10,25,50,100,150]},Us=function(t){return{width:t}},Bs=((Zs=function(){function t(e,n,a,r,o,s,c,l,u,d,f,h,p,m){var g=this;_classCallCheck(this,t),this.translate=e,this.router=n,this.route=a,this.http=r,this.dialog=o,this.sanitizer=s,this.headerService=c,this.filtersListService=l,this.notify=u,this.overlay=d,this.viewContainerRef=f,this.appService=h,this.foldersService=p,this.functions=m,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentChrono="",this.currentMode="",this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.folderInfo={id:0,label:"",ownerDisplayName:"",entitiesSharing:[]},this.folderInfoOpened=!1,this.destroy$=new Er.Subject,this.currentSelectedChrono="",this.subscription=this.foldersService.catchEvent().subscribe((function(t){"refreshFolderInformations"===t.type&&t.content.id==g.folderInfo.id&&g.refreshFolderInformations(),"function"===t.type&&"refreshDao"===t.content&&g.refreshDao()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!1,this.isLoadingResults=!1,this.route.params.subscribe((function(e){t.folderInfoOpened=!1,t.dragInit=!0,t.destroy$.next(!0),t.http.get("../rest/folders/"+e.folderId).subscribe((function(n){var i=[{keyword:"ALL_ENTITIES",text:t.translate.instant("lang.allEntities")}];t.folderInfo={id:e.folderId,label:n.folder.label,ownerDisplayName:n.folder.ownerDisplayName,entitiesSharing:n.folder.sharing.entities.map((function(e){return t.functions.empty(e.label)?i.filter((function(t){return t.keyword===e.keyword}))[0].text:e.label}))},t.foldersService.setFolder(t.folderInfo),t.headerService.setHeader(t.folderInfo.label,"","fa fa-folder-open")})),t.basketUrl="../rest/folders/"+e.folderId+"/resources",t.filtersListService.filterMode=!1,t.selectedRes=[],t.sidenavRight.close(),t.listProperties=t.filtersListService.initListsProperties(t.headerService.user.id,0,e.folderId,"folder"),setTimeout((function(){t.dragInit=!1}),1e3),t.initResultList()}),(function(e){t.notify.handleErrors(e)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.subscription.unsubscribe()}},{key:"initResultList",value:function(){var t=this;this.resultListDatabase=new zs(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(Mr.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(Cr.a)(this.destroy$),Object(xr.a)({}),Object(ct.a)((function(){return t.isLoadingResults=!0,t.resultListDatabase.getRepoIssues(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.basketUrl,t.filtersListService.getUrlFilters(),t.paginator.pageSize)})),Object(wr.a)((function(e){return t.isLoadingResults=!1,e=t.processPostData(e),t.resultsLength=e.countResources,t.allResInBasket=e.allResources,e.resources})),Object(wn.a)((function(e){return t.notify.handleErrors(e),t.router.navigate(["/home"]),t.isLoadingResults=!1,Object(On.of)(!1)}))).subscribe((function(e){return t.data=e}))}},{key:"goTo",value:function(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}},{key:"goToDetail",value:function(t){this.router.navigate(["/resources/"+t.resId])}},{key:"goToFolder",value:function(t){this.router.navigate(["/folders/"+t.id])}},{key:"togglePanel",value:function(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),this.currentResource.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}},{key:"refreshBadgeNotes",value:function(t){this.currentResource.countNotes=t}},{key:"refreshFolderInformations",value:function(){var t=this;this.http.get("../rest/folders/"+this.folderInfo.id).subscribe((function(e){var n=[{keyword:"ALL_ENTITIES",text:t.translate.instant("lang.allEntities")}];t.folderInfo={id:e.folder.id,label:e.folder.label,ownerDisplayName:e.folder.ownerDisplayName,entitiesSharing:e.folder.sharing.entities.map((function(e){return t.functions.empty(e.label)?n.filter((function(t){return t.keyword===e.keyword}))[0].text:e.label}))},t.headerService.setHeader(t.folderInfo.label,"","fa fa-folder-open")}))}},{key:"refreshBadgeAttachments",value:function(t){this.currentResource.countAttachments=t}},{key:"refreshDao",value:function(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}},{key:"refreshDaoAfterAction",value:function(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}},{key:"viewThumbnail",value:function(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"}))}},{key:"closeThumbnail",value:function(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}},{key:"processPostData",value:function(t){var e=this;return t.resources.forEach((function(t){Object.keys(t).forEach((function(n){"statusImage"===n&&null==t[n]?t[n]="fa-question undefined":null!=t[n]&&""!==t[n]||-1!==["closingDate","countAttachments","countNotes","display","mailTracking","hasDocument"].indexOf(n)||(t[n]=e.translate.instant("lang.undefined"))})),t.checked=-1!==e.selectedRes.indexOf(t.resId)})),t}},{key:"toggleRes",value:function(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{var n=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(n,1),e.checked=!1}}},{key:"toggleAllRes",value:function(t){this.selectedRes=[],t.checked?(this.data.forEach((function(t){t.checked=!0})),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach((function(t){t.checked=!1}))}},{key:"selectSpecificRes",value:function(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}},{key:"open",value:function(t,e){var n=t.x,i=t.y;return!1===e.checked&&(e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e)),this.actionsList.open(n,i,e),!1}},{key:"listTodrag",value:function(){return this.foldersService.getDragIds()}},{key:"toggleMailTracking",value:function(t){var e=this;t.mailTracking?this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}}).pipe(Object(lt.a)((function(){e.headerService.nbResourcesFollowed--,t.mailTracking=!t.mailTracking})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe():this.http.post("../rest/resources/follow",{resources:[t.resId]}).pipe(Object(lt.a)((function(){e.headerService.nbResourcesFollowed++,t.mailTracking=!t.mailTracking})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"viewDocument",value:function(t){var e=this;this.http.get("../rest/resources/".concat(t.resId,"/content?mode=view"),{responseType:"blob"}).pipe(Object(lt.a)((function(e){var n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),a=window.open();a.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(i,'" frameborder="0" allowfullscreen></iframe>')),a.document.title=t.chrono})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Zs)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(u.b),i.Tb(Y.b),i.Tb(An.b),i.Tb(f.a),i.Tb(Ir),i.Tb(h.a),i.Tb(Pr.c),i.Tb(i.R),i.Tb(p.a),i.Tb(Tr.a),i.Tb(ft.a))},Zs.\u0275cmp=i.Nb({type:Zs,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(cs,!0),i.Oc(ls,!0),i.Oc(us,!0),i.Oc(yt.a,!0),i.Oc(ds,!0),i.Oc(fs,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.basketHome=n.first))},decls:59,vars:69,consts:[[1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content",2,"padding-bottom","20px"],[1,"title",2,"cursor","pointer",3,"click"],[1,"far",2,"cursor","pointer","margin-left","10px"],["class","title-divider",4,"ngIf"],["class","content",4,"ngIf"],[1,"bg-head-content"],[2,"flex","1","overflow-x","auto","overflow-y","hidden",3,"listProperties","totalRes","selectedRes","routeDatas","title","toggleAllRes","refreshEventAfterAction","refreshEvent"],["filtersTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","refreshEvent","refreshPanelFolders"],["actionsList",""],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","folder-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","dataSource"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","style","cursor: pointer;","cdkDrag","",3,"locked","cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],["actionsListContext",""],[1,"title-divider"],[1,"content"],[1,"content-item"],["class","content-item private",4,"ngIf"],["class","content-item",4,"ngIf"],[1,"content-item","private"],[2,"max-height","100px","overflow","auto"],[4,"ngFor","ngForOf"],["color","secondary"],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[1,"main-info"],[2,"width","50px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[2,"margin-bottom","5px",3,"ngClass"],["style","cursor:pointer;","class","main-info-status",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title"],[1,"main-info-action"],["color","warn",4,"ngIf"],["class","folder-info",4,"ngIf"],[1,"main-info-status",2,"cursor","pointer"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],["color","warn"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",2,"cursor","pointer",3,"cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"div"),i.Zb(14,"div",8),i.hc("click",(function(){return e.folderInfoOpened=!e.folderInfoOpened})),i.Ub(15,"i",9),i.Sc(16),i.mc(17,"translate"),i.Qc(18,hs,1,0,"div",10),i.Yb(),i.Qc(19,bs,9,6,"div",11),i.Yb(),i.Yb(),i.Zb(20,"div",12),i.Zb(21,"app-filters-tool",13,14),i.hc("toggleAllRes",(function(t){return e.toggleAllRes(t)}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshEvent",(function(){return e.refreshDao()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(23,"div",15),i.Zb(24,"div",16),i.Qc(25,ys,2,1,"div",17),i.Zb(26,"div",18),i.Zb(27,"div",19),i.Zb(28,"mat-checkbox",20),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(29,"translate"),i.Yb(),i.Sc(30),i.mc(31,"ucfirst"),i.mc(32,"translate"),i.Qc(33,_s,3,4,"small",21),i.Yb(),i.Zb(34,"div",22),i.Zb(35,"span"),i.Ub(36,"mat-paginator",23,24),i.Yb(),i.Zb(38,"span"),i.Zb(39,"app-folder-action-list",25,26),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(41,"div",27),i.Zb(42,"table",28,29),i.Xb(44,30),i.Qc(45,Rs,15,20,"td",31),i.Wb(),i.Qc(46,js,3,4,"tr",32),i.Yb(),i.Yb(),i.Ub(47,"div",18),i.Yb(),i.Yb(),i.Yb(),i.Zb(48,"mat-sidenav",33,34),i.Qc(50,Ys,1,2,"div",35),i.Zb(51,"div",36),i.Zb(52,"button",37),i.hc("click",(function(){return i.Hc(n),i.Dc(49).close()})),i.Ub(53,"mat-icon",38),i.Yb(),i.Yb(),i.Zb(54,"app-panel-list",39,40),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(56,"mat-divider"),i.Yb(),i.Yb(),i.Zb(57,"app-folder-action-list",25,41),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(3),i.sc("src",i.nc(4,54,i.nc(5,56,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("banner-opened",e.folderInfoOpened)("banner-closed",!e.folderInfoOpened),i.Eb(2),i.Jb("fa-plus-square",!e.folderInfoOpened)("fa-minus-square",e.folderInfoOpened),i.Eb(1),i.Uc("\xa0",i.nc(17,58,"lang.folderInformations")," "),i.Eb(2),i.sc("ngIf",e.folderInfoOpened),i.Eb(1),i.sc("ngIf",e.folderInfoOpened),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("listProperties",e.listProperties)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("routeDatas","/rest/folders/"+e.folderInfo.id+"/filters")("title",e.translate.instant("lang.searchMailInFolder")),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(29,60,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.resultsLength," ",i.nc(31,62,i.nc(32,64,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(66,Ns)),i.Eb(3),i.sc("contextMode",!1)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes),i.Eb(3),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode())("dataSource",e.data),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",e.innerHtml),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(67,Us,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml),i.Eb(7),i.sc("contextMode",!0)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes))},directives:[v.e,v.f,Z.a,ht.a,pt.a,y.t,Kr,C.a,yt.a,ss.a,dt.n,po.e,_t.a,dt.c,dt.b,dt.m,v.d,y.w,g.b,b.a,Mo,O.a,y.s,_.c,dt.a,y.q,Vn.a,dt.l,po.a,po.c,po.d,x.b],pipes:[y.b,xt.a,l.d,Dr.u,no.a,Dr.p],styles:[".dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.banner-opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;background:#1a80ab;width:100%}.banner-opened[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.banner-opened[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:16px}.banner-opened[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex:1;padding-left:20px;padding-right:20px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .private[_ngcontent-%COMP%]{font-style:italic;display:flex;justify-content:flex-end;align-items:center}.banner-closed[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;position:relative;width:100%}.banner-closed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.followIcon[_ngcontent-%COMP%]{color:#f99830}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{cursor:pointer;background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),Zs),zs=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.filtersListService=n}return _createClass(t,[{key:"getRepoIssues",value:function(t,e,n,i,a,r){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(r),this.http.get("".concat(i,"?limit=").concat(r,"&offset=").concat(n*r).concat(a))}}]),t}(),Vs=n("LYlH"),Hs=n("8N1J"),Qs=["listFilter"];function Ws(t,e){1&t&&(i.Zb(0,"div",32),i.Ub(1,"mat-spinner"),i.Yb())}function Gs(t,e){if(1&t&&(i.Zb(0,"mat-option",33),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n," ")}}function qs(t,e){if(1&t&&(i.Zb(0,"mat-option",33),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n," ")}}function Xs(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",34),i.Zb(1,"mat-form-field",5),i.Zb(2,"mat-label"),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"mat-select",35),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().exportModel.delimiter=t})),i.mc(6,"translate"),i.Qc(7,qs,2,2,"mat-option",7),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc();i.Eb(3),i.Tc(i.nc(4,5,"lang.delimiter")),i.Eb(2),i.tc("placeholder",i.nc(6,7,"lang.delimiter")),i.sc("ngModel",a.exportModel.delimiter)("disabled","csv"!=a.exportModel.format),i.Eb(2),i.sc("ngForOf",a.delimiters)}}function $s(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",36),i.Sc(1),i.Zb(2,"i",37),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc().addData(t)})),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit;i.tc("id",a.value),i.Eb(1),i.Uc("",a.label," ")}}function Js(t,e){1&t&&(i.Zb(0,"div",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noDataAvailable")))}function Ks(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",36),i.Sc(1),i.Zb(2,"i",39),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeData(t)})),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit;i.tc("id",a.value),i.Eb(1),i.Uc("",a.label," ")}}function tc(t,e){1&t&&(i.Zb(0,"div",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noDataAvailable")))}var ec,nc=function(t){return[t]},ic=((ec=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.data=a,this.sortPipe=r,this.loading=!1,this.loadingExport=!1,this.delimiters=[";",",","TAB"],this.formats=["csv","pdf"],this.exportModel={delimiter:";",format:"csv",data:[],resources:[]},this.dataAvailable=[{value:"res_id",label:this.translate.instant("lang.resId"),isFunction:!1},{value:"type_label",label:this.translate.instant("lang.doctype"),isFunction:!1},{value:"doctypes_first_level_label",label:this.translate.instant("lang.firstLevelDoctype"),isFunction:!1},{value:"doctypes_second_level_label",label:this.translate.instant("lang.secondLevelDoctype"),isFunction:!1},{value:"format",label:this.translate.instant("lang.format"),isFunction:!1},{value:"doc_date",label:this.translate.instant("lang.docDate"),isFunction:!1},{value:"departure_date",label:this.translate.instant("lang.departureDate"),isFunction:!1},{value:"barcode",label:this.translate.instant("lang.barcode"),isFunction:!1},{value:"getFolder",label:this.translate.instant("lang.folderName"),isFunction:!0},{value:"confidentiality",label:this.translate.instant("lang.confidentiality"),isFunction:!1},{value:"alt_identifier",label:this.translate.instant("lang.chronoNumber"),isFunction:!1},{value:"admission_date",label:this.translate.instant("lang.admissionDate"),isFunction:!1},{value:"process_limit_date",label:this.translate.instant("lang.processLimitDate"),isFunction:!1},{value:"opinion_limit_date",label:this.translate.instant("lang.getOpinionLimitDate"),isFunction:!1},{value:"closing_date",label:this.translate.instant("lang.closingDate"),isFunction:!1},{value:"subject",label:this.translate.instant("lang.subject"),isFunction:!1},{value:"getStatus",label:this.translate.instant("lang.status"),isFunction:!0},{value:"getPriority",label:this.translate.instant("lang.priority"),isFunction:!0},{value:"getCopies",label:this.translate.instant("lang.copyUsersEntities"),isFunction:!0},{value:"getDetailLink",label:this.translate.instant("lang.detailLink"),isFunction:!0},{value:"getParentFolder",label:this.translate.instant("lang.parentFolder"),isFunction:!0},{value:"getCategory",label:this.translate.instant("lang.category_id"),isFunction:!0},{value:"getInitiatorEntity",label:this.translate.instant("lang.initiatorEntity"),isFunction:!0},{value:"getDestinationEntity",label:this.translate.instant("lang.destinationEntity"),isFunction:!0},{value:"getDestinationEntityType",label:this.translate.instant("lang.destinationEntityType"),isFunction:!0},{value:"getSenders",label:this.translate.instant("lang.getSenders"),isFunction:!0},{value:"getRecipients",label:this.translate.instant("lang.getRecipients"),isFunction:!0},{value:"getTypist",label:this.translate.instant("lang.typist"),isFunction:!0},{value:"getAssignee",label:this.translate.instant("lang.dest_user"),isFunction:!0},{value:"getTags",label:this.translate.instant("lang.tags"),isFunction:!0},{value:"getSignatories",label:this.translate.instant("lang.signUser"),isFunction:!0},{value:"getSignatureDates",label:this.translate.instant("lang.signatureDate"),isFunction:!0},{value:"getDepartment",label:this.translate.instant("lang.department"),isFunction:!0},{value:"getAcknowledgementSendDate",label:this.translate.instant("lang.acknowledgementSendDate"),isFunction:!0},{value:"getVisaCircuit",label:this.translate.instant("lang.getVisaWorkflow"),isFunction:!0},{value:"getOpinionCircuit",label:this.translate.instant("lang.opinionCircuit"),isFunction:!0},{value:"",label:this.translate.instant("lang.comment"),isFunction:!0}],this.dataAvailableClone=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.dataAvailableClone=JSON.parse(JSON.stringify(this.dataAvailable)),this.http.get("../rest/resourcesList/exportTemplate").subscribe((function(e){t.exportModel.resources=t.data.selectedRes,t.exportModelList=e.templates,t.exportModel.data=e.templates.csv.data,t.exportModel.data.forEach((function(e){t.dataAvailable.forEach((function(n,i){e.value===n.value&&t.dataAvailable.splice(i,1)}))})),t.loading=!1}),(function(e){t.notify.handleErrors(e)})),this.http.get("../rest/customFields").pipe(Object(wr.a)((function(t){return t.customFields=t.customFields.map((function(t){return{value:"custom_"+t.id,label:t.label,isFunction:!0}})),t})),Object(lt.a)((function(e){t.dataAvailable=t.dataAvailable.concat(e.customFields),t.dataAvailableClone=t.dataAvailableClone.concat(e.customFields)})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"drop",value:function(t){var e=this;if(t.previousContainer===t.container)Object(po.h)(t.container.data,t.previousIndex,t.currentIndex);else{var n=t.previousIndex;if("selectedElements"===t.container.id&&(n=0,void 0!==$(".available-data .columns")[t.previousIndex])){var i=$(".available-data .columns")[t.previousIndex].id;n=this.dataAvailable.map((function(t){return t.value})).indexOf(i)}Object(po.i)(t.previousContainer.data,t.container.data,n,t.currentIndex);var a=this.listFilter.nativeElement.value;this.listFilter.nativeElement.value="",setTimeout((function(){e.listFilter.nativeElement.value=a}),10)}}},{key:"exportData",value:function(){var t=this;this.loadingExport=!0,this.http.put("../rest/resourcesList/users/"+this.data.ownerId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/exports",this.exportModel,{responseType:"blob"}).pipe(Object(lt.a)((function(e){if("text/html"!==e.type){var n,i,a,r,o=document.createElement("a");o.href=window.URL.createObjectURL(e),i=(n=new Date).getDate(),a=n.getMonth()+1,r=n.getFullYear(),i<10&&(i="0"+i),a<10&&(a="0"+a),n=i+"-"+a+"-"+r,o.setAttribute("download","export_maarch_"+n+"."+t.exportModel.format.toLowerCase()),document.body.appendChild(o),o.click(),t.exportModelList[t.exportModel.format.toLowerCase()].data=t.exportModel.data}else alert(t.translate.instant("lang.tooMuchDatas"))})),Object(Ln.a)((function(){return t.loadingExport=!1})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"addData",value:function(t){var e=this,n=0;this.dataAvailable.forEach((function(e,i){e.value===t.value&&(n=i)})),Object(po.i)(this.dataAvailable,this.exportModel.data,n,this.exportModel.data.length);var i=this.listFilter.nativeElement.value;this.listFilter.nativeElement.value="",setTimeout((function(){e.listFilter.nativeElement.value=i}),10)}},{key:"removeData",value:function(t){Object(po.i)(this.exportModel.data,this.dataAvailable,t,this.dataAvailable.length),this.sortPipe.transform(this.dataAvailable,"label")}},{key:"removeAllData",value:function(){this.dataAvailable=this.dataAvailable.concat(this.exportModel.data),this.exportModel.data=[]}},{key:"addAllData",value:function(){for(this.exportModel.data=this.exportModel.data.concat(this.dataAvailable);this.dataAvailable.length>0;)this.dataAvailable.pop();this.listFilter.nativeElement.value=""}},{key:"changeTemplate",value:function(t){var e=this;this.dataAvailable=JSON.parse(JSON.stringify(this.dataAvailableClone)),this.exportModel.format=t.value,this.exportModel.data=this.exportModelList[t.value].data,this.exportModel.data.forEach((function(t){e.dataAvailable.forEach((function(n,i){t.value===n.value&&e.dataAvailable.splice(i,1)}))}))}}]),t}()).\u0275fac=function(t){return new(t||ec)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.a),i.Tb(no.a))},ec.\u0275cmp=i.Nb({type:ec,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&i.Oc(Qs,!0),2&t&&i.Cc(n=i.ic())&&(e.listFilter=n.first)},features:[i.Db([no.a])],decls:63,vars:62,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],["mat-dialog-content",""],["class","loader",4,"ngIf"],[1,"row"],["appearance","outline"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-9",4,"ngIf"],[3,"expanded"],[1,"col-md-12"],["appearance","outline",1,"listFilter"],["matInput","","cdkFocusInitial","",3,"placeholder"],["listFilter",""],[1,"row","exportList"],[1,"col-md-6","available-data"],[1,"title"],["color","primary",1,"fa","fa-plus-circle","removeAllDatas",3,"title","click"],["id","availableElements","cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["dataAvailableList","cdkDropList"],["class","columns","cdkDrag","",3,"id",4,"ngFor","ngForOf"],["class","noData",4,"ngIf"],[2,"display","flex","align-items","center"],[1,"fas","fa-arrow-right"],[1,"col-md-6","active-data"],["color","warn",1,"fa","fa-minus-circle","removeAllDatas",3,"title","click"],["id","selectedElements","cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["dataExportList","cdkDropList"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"],[1,"loader"],[3,"value"],[1,"col-md-9"],[3,"placeholder","ngModel","disabled","ngModelChange"],["cdkDrag","",1,"columns",3,"id"],["color","primary",1,"fa","fa-plus",2,"cursor","pointer",3,"click"],[1,"noData"],["color","warn",1,"fa","fa-minus",2,"cursor","pointer",3,"click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",2),i.Qc(5,Ws,2,0,"div",3),i.Zb(6,"div",4),i.Zb(7,"div"),i.Zb(8,"mat-form-field",5),i.Zb(9,"mat-label"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Zb(12,"mat-select",6),i.hc("ngModelChange",(function(t){return e.exportModel.format=t}))("selectionChange",(function(t){return e.changeTemplate(t)})),i.mc(13,"translate"),i.Qc(14,Gs,2,2,"mat-option",7),i.Yb(),i.Yb(),i.Yb(),i.Qc(15,Xs,8,9,"div",8),i.Yb(),i.Zb(16,"mat-accordion"),i.Zb(17,"mat-expansion-panel",9),i.Zb(18,"mat-expansion-panel-header"),i.Zb(19,"mat-panel-title"),i.Sc(20),i.mc(21,"translate"),i.Yb(),i.Yb(),i.Zb(22,"div",4),i.Zb(23,"div",10),i.Zb(24,"mat-form-field",11),i.Ub(25,"input",12,13),i.mc(27,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(28,"div",14),i.Zb(29,"div",15),i.Zb(30,"h2"),i.Zb(31,"span",16),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Zb(34,"i",17),i.hc("click",(function(){return e.addAllData()})),i.mc(35,"translate"),i.Yb(),i.Yb(),i.Zb(36,"div",18,19),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(38,$s,3,2,"div",20),i.mc(39,"filterList"),i.mc(40,"sortBy"),i.Qc(41,Js,3,3,"div",21),i.Yb(),i.Yb(),i.Zb(42,"div",22),i.Ub(43,"i",23),i.Yb(),i.Zb(44,"div",24),i.Zb(45,"h2"),i.Zb(46,"span",16),i.Sc(47),i.mc(48,"translate"),i.Yb(),i.Zb(49,"i",25),i.hc("click",(function(){return e.removeAllData()})),i.mc(50,"translate"),i.Yb(),i.Yb(),i.Zb(51,"div",26,27),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(53,Ks,3,2,"div",20),i.Qc(54,tc,3,3,"div",21),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(55,"span",28),i.Zb(56,"div",29),i.Zb(57,"button",30),i.hc("click",(function(){return e.exportData()})),i.Sc(58),i.mc(59,"translate"),i.Yb(),i.Zb(60,"button",31),i.Sc(61),i.mc(62,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.Dc(26),a=i.Dc(37),r=i.Dc(52);i.Eb(2),i.Tc(i.nc(3,29,"lang.exportDatas")),i.Eb(3),i.sc("ngIf",e.loadingExport),i.Eb(2),i.Jb("col-md-12","csv"!=e.exportModel.format)("col-md-3","csv"==e.exportModel.format),i.Eb(3),i.Tc(i.nc(11,31,"lang.format")),i.Eb(2),i.tc("placeholder",i.nc(13,33,"lang.format")),i.sc("ngModel",e.exportModel.format),i.Eb(2),i.sc("ngForOf",e.formats),i.Eb(1),i.sc("ngIf","csv"==e.exportModel.format),i.Eb(2),i.sc("expanded",!0),i.Eb(3),i.Uc(" ",i.nc(21,35,"lang.datasToExport")," "),i.Eb(5),i.tc("placeholder",i.nc(27,37,"lang.searchDatas")),i.Eb(7),i.Tc(i.nc(33,39,"lang.availableDatas")),i.Eb(2),i.tc("title",i.nc(35,41,"lang.addAllData")),i.Eb(2),i.sc("cdkDropListData",e.dataAvailable)("cdkDropListConnectedTo",i.zc(58,nc,r)),i.Eb(2),i.sc("ngForOf",i.pc(39,43,i.oc(40,47,e.dataAvailable,"label"),n.value,"label")),i.Eb(3),i.sc("ngIf",0==e.dataAvailable.length),i.Eb(6),i.Tc(i.nc(48,50,"lang.chosenDatas")),i.Eb(2),i.tc("title",i.nc(50,52,"lang.removeAllDatas")),i.Eb(2),i.sc("cdkDropListData",e.exportModel.data)("cdkDropListConnectedTo",i.zc(60,nc,a)),i.Eb(2),i.sc("ngForOf",e.exportModel.data),i.Eb(1),i.sc("ngIf",0==e.exportModel.data.length),i.Eb(3),i.sc("disabled",0==e.exportModel.data.length),i.Eb(1),i.Tc(i.nc(59,54,"lang.toExport")),i.Eb(3),i.Tc(i.nc(62,56,"lang.cancel"))}},directives:[Y.i,Y.f,y.t,N.c,N.g,gt.a,j.t,j.w,y.s,ut.a,ut.c,ut.g,ut.h,U.b,po.e,Y.c,g.b,Y.d,_.c,w.o,po.a],pipes:[l.d,Hs.a,no.a],styles:[".mat-dialog-container{position:relative}.mat-dialog-content[_ngcontent-%COMP%]{padding-bottom:10px;overflow-x:hidden} .mat-expansion-panel-body{padding-bottom:50px}.mat-expansion-panel-header[_ngcontent-%COMP%], .noData[_ngcontent-%COMP%]{opacity:.5}.noData[_ngcontent-%COMP%]{text-align:center}.removeAllDatas[_ngcontent-%COMP%]{float:right;font-size:14px;opacity:1;cursor:pointer;margin-right:10px}.listFilter[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-20px}.exportList[_ngcontent-%COMP%]{display:flex}.exportList[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{float:left;height:20px;font-size:10px;font-weight:700;opacity:.5}.exportList[_ngcontent-%COMP%]   .cdk-list[_ngcontent-%COMP%]{height:100%}.cdk-list[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;display:block;border-radius:4px;max-height:310px;min-height:310px;overflow:auto}.cdk-list[_ngcontent-%COMP%], .columns[_ngcontent-%COMP%]{width:100%;background:#fff}.columns[_ngcontent-%COMP%]{height:50px;padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}"]}),ec);function ac(t,e){1&t&&(i.Zb(0,"div",25),i.Ub(1,"mat-spinner"),i.Yb())}function rc(t,e){if(1&t&&(i.Zb(0,"div"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit,a=i.lc(3).$implicit;i.Gb(a.css),i.Eb(1),i.Uc(" ",n," ")}}function oc(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",38),i.hc("click",(function(){i.Hc(n);var t=i.lc(2).$implicit;return t.enabled=!t.enabled})),i.Qc(1,rc,2,4,"div",39),i.Yb()}if(2&t){var a=i.lc(2).$implicit;i.Eb(1),i.sc("ngForOf",a.desc)}}function sc(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",38),i.hc("click",(function(){i.Hc(n);var t=i.lc(2).$implicit;return t.enabled=!t.enabled})),i.Ub(1,"div",40),i.Yb()}if(2&t){var a=i.lc(2).$implicit;i.Eb(1),i.sc("innerHTML",a.advanced_desc,i.Ic)}}function cc(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",41),i.hc("click",(function(){i.Hc(n);var t=i.lc(2).index;return i.lc().removeCustomUnit(t)})),i.mc(1,"translate"),i.Ub(2,"mat-icon",42),i.Yb()}2&t&&i.tc("title",i.nc(1,1,"lang.deleteUnit"))}function lc(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",27),i.Zb(1,"div",28),i.Zb(2,"div",29),i.kc(),i.Zb(3,"svg",30),i.Ub(4,"path",31),i.Ub(5,"path",32),i.Yb(),i.Yb(),i.jc(),i.Zb(6,"mat-form-field",33),i.Zb(7,"input",34),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().$implicit.label=t}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(9,oc,2,1,"div",35),i.Ub(10,"br"),i.Qc(11,sc,2,1,"div",35),i.Zb(12,"mat-slide-toggle",36),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().$implicit.enabled=t})),i.Yb(),i.Qc(13,cc,3,3,"button",37),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc();i.Jb("disabled",!a.enabled),i.tc("id",a.id),i.Eb(7),i.tc("placeholder",i.nc(8,9,"lang.label")),i.sc("ngModel",a.label),i.Eb(2),i.sc("ngIf",!r.functions.empty(a.desc)),i.Eb(2),i.sc("ngIf",a.advanced_desc),i.Eb(1),i.sc("ngModel",a.enabled),i.Eb(1),i.sc("ngIf","freeField"==a.unit)}}function uc(t,e){if(1&t&&(i.Xb(0),i.Qc(1,lc,14,11,"div",26),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf","qrcode"!==n.unit)}}function dc(t,e){1&t&&(i.Zb(0,"div",20),i.Zb(1,"span",43),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.Tc(i.nc(3,1,"lang.firstSummarySheetsGenerated")))}function fc(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",44),i.hc("click",(function(){return i.Hc(n),i.lc().closeModalWithParams()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.validate")))}function hc(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",44),i.hc("click",(function(){return i.Hc(n),i.lc().genSummarySheets()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.genSummarySheets")))}var pc,mc,gc=((mc=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.data=r,this.functions=o,this.sanitizer=s,this.loading=!1,this.withQrcode=!0,this.paramMode=!1,this.dataAvailable=[{id:"primaryInformations",unit:"primaryInformations",label:this.translate.instant("lang.primaryInformations"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.mailDate"),this.translate.instant("lang.arrivalDate"),this.translate.instant("lang.nature"),this.translate.instant("lang.creation_date"),this.translate.instant("lang.mailType"),this.translate.instant("lang.initiator")],enabled:!0},{id:"senderRecipientInformations",unit:"senderRecipientInformations",label:this.translate.instant("lang.senderRecipientInformations"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.senders"),this.translate.instant("lang.recipients")],enabled:!0},{id:"secondaryInformations",unit:"secondaryInformations",label:this.translate.instant("lang.secondaryInformations"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.category_id"),this.translate.instant("lang.status"),this.translate.instant("lang.priority"),this.translate.instant("lang.processLimitDate"),this.translate.instant("lang.customFieldsAdmin")],enabled:!0},{id:"diffusionList",unit:"diffusionList",label:this.translate.instant("lang.diffusionList"),css:"col-md-6 text-left",desc:[this.translate.instant("lang.dest_user"),this.translate.instant("lang.copyUsersEntities")],enabled:!0},{id:"opinionWorkflow",unit:"opinionWorkflow",label:this.translate.instant("lang.avis"),css:"col-md-4 text-center",desc:[this.translate.instant("lang.firstname")+" "+this.translate.instant("lang.lastname")+" ("+this.translate.instant("lang.destination").toLowerCase()+")",this.translate.instant("lang.role"),this.translate.instant("lang.processDate")],enabled:!0},{id:"visaWorkflow",unit:"visaWorkflow",label:this.translate.instant("lang.visaWorkflow"),css:"col-md-4 text-center",desc:[this.translate.instant("lang.firstname")+" "+this.translate.instant("lang.lastname")+" ("+this.translate.instant("lang.destination").toLowerCase()+")",this.translate.instant("lang.role"),this.translate.instant("lang.processDate")],enabled:!0},{id:"notes",unit:"notes",label:this.translate.instant("lang.notes"),css:"col-md-4 text-center",desc:[this.translate.instant("lang.firstname")+" "+this.translate.instant("lang.lastname"),this.translate.instant("lang.creation_date"),this.translate.instant("lang.content")],enabled:!0},{id:"trafficRecords",unit:"trafficRecords",label:this.translate.instant("lang.trafficRecordSummarySheet"),css:"col-md-4 text-center",desc:[],enabled:!0}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.paramMode=!this.functions.empty(this.data.paramMode),this.http.get("../rest/parameters").pipe(Object(lt.a)((function(e){var n=e.parameters.filter((function(e){return"traffic_record_summary_sheet"===e.id&&!t.functions.empty(e.param_value_string)}));t.dataAvailable=0===n.length?t.dataAvailable.filter((function(t){return"trafficRecords"!==t.id})):t.dataAvailable.map((function(e){return"trafficRecords"===e.id&&(e.advanced_desc=t.sanitizer.bypassSecurityTrustHtml(n[0].param_value_string)),e}))}))).subscribe()}},{key:"drop",value:function(t){t.previousContainer===t.container&&Object(po.h)(t.container.data,t.previousIndex,t.currentIndex)}},{key:"genSummarySheets",value:function(){var t=this;this.loading=!0,this.http.post("../rest/resourcesList/users/"+this.data.ownerId+"/groups/"+this.data.groupId+"/baskets/"+this.data.basketId+"/summarySheets",{units:this.formatSummarySheet(),resources:this.data.selectedRes},{responseType:"blob"}).subscribe((function(e){if("text/html"!==e.type){var n,i,a,r,o=document.createElement("a");o.href=window.URL.createObjectURL(e),i=(n=new Date).getDate(),a=n.getMonth()+1,r=n.getFullYear(),i<10&&(i="0"+i),a<10&&(a="0"+a),n=i+"-"+a+"-"+r,o.setAttribute("download",t.translate.instant("lang.summarySheetsAlt")+"_"+n+".pdf"),document.body.appendChild(o),o.click()}else alert(t.translate.instant("lang.tooMuchDatas"));t.loading=!1}),(function(e){t.notify.handleErrors(e)}))}},{key:"formatSummarySheet",value:function(){var t=[];return this.withQrcode&&t.push({unit:"qrcode",label:""}),this.dataAvailable.forEach((function(e){e.enabled&&t.push({unit:e.unit,label:e.label})})),t}},{key:"toggleQrcode",value:function(){this.withQrcode=!this.withQrcode}},{key:"addCustomUnit",value:function(){this.dataAvailable.push({id:"freeField_"+this.dataAvailable.length,unit:"freeField",label:this.translate.instant("lang.comments"),css:"col-md-12 text-left",desc:[this.translate.instant("lang.freeNote")],enabled:!0})}},{key:"removeCustomUnit",value:function(t){this.dataAvailable.splice(t,1)}},{key:"closeModalWithParams",value:function(){this.dialogRef.close(this.formatSummarySheet())}}]),t}()).\u0275fac=function(t){return new(t||mc)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.h),i.Tb(Y.a),i.Tb(ft.a),i.Tb(An.b))},mc.\u0275cmp=i.Nb({type:mc,selectors:[["ng-component"]],decls:44,vars:36,consts:[[1,"mat-dialog-content-container"],["mat-dialog-content","",1,"summarySheet"],["class","loader",4,"ngIf"],[1,"row","header"],[1,"col-md-4","text-left"],[1,"col-md-4","text-center"],[1,"col-md-4","text-right"],["multiple","",2,"position","absolute","top","-2px","right","0px",3,"change"],[1,"qrcode",2,"width","40px","height","40px",3,"checked","title"],["fontSet","fas","fontIcon","fa-qrcode",2,"height","auto","font-size","30px"],[1,"row"],[1,"col-md-12","title"],[1,"col-md-12"],["cdkDropList","",1,"cdk-list",3,"cdkDropListData","cdkDropListDropped"],["dataAvailableList","cdkDropList"],[4,"ngFor","ngForOf"],["mat-dialog-actions","","class","actions",4,"ngIf"],[2,"padding","10px"],[1,"alert-message","alert-message-info"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"],["mat-mini-fab","","color","primary",2,"position","absolute","right","30px",3,"title","click"],["fontSet","fas","fontIcon","fa-plus",2,"height","auto"],[1,"loader"],["class","columns","cdkDrag","","style","position: relative;",3,"disabled","id",4,"ngIf"],["cdkDrag","",1,"columns",2,"position","relative",3,"id"],[1,"unitTitle"],["cdkDragHandle","",1,"handleDrag"],["width","24px","fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],["floatLabel","never",2,"margin-top","-10px"],["matInput","",3,"placeholder","ngModel","ngModelChange","click"],["class","row","class","unitData",3,"click",4,"ngIf"],["color","primary",1,"unitToggle",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn","style","position: absolute;right:5px;top:0px;",3,"title","click",4,"ngIf"],[1,"unitData",3,"click"],[3,"class",4,"ngFor","ngForOf"],["name","traffic_record_summary_sheet","id","traffic_record_summary_sheet",2,"padding-top","10px",3,"innerHTML"],["mat-icon-button","","color","warn",2,"position","absolute","right","5px","top","0px",3,"title","click"],["fontSet","fas","fontIcon","fa-minus"],[2,"color","#d24747","font-style","italic"],["mat-raised-button","","mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Qc(2,ac,2,0,"div",2),i.Zb(3,"div",3),i.Zb(4,"div",4),i.Sc(5),i.mc(6,"translate"),i.mc(7,"translate"),i.Yb(),i.Zb(8,"div",5),i.Zb(9,"b"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Ub(12,"br"),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Zb(15,"div",6),i.Zb(16,"mat-button-toggle-group",7),i.hc("change",(function(){return e.toggleQrcode()})),i.Zb(17,"mat-button-toggle",8),i.mc(18,"translate"),i.Ub(19,"mat-icon",9),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"div",10),i.Zb(21,"div",11),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Yb(),i.Zb(24,"div",10),i.Zb(25,"div",12),i.Zb(26,"div",13,14),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(28,uc,2,1,"ng-container",15),i.Yb(),i.Yb(),i.Yb(),i.Qc(29,dc,4,3,"div",16),i.Zb(30,"div",17),i.Zb(31,"span",18),i.Sc(32),i.mc(33,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Ub(34,"span",19),i.Zb(35,"div",20),i.Qc(36,fc,3,3,"button",21),i.Qc(37,hc,3,3,"button",21),i.Zb(38,"button",22),i.Sc(39),i.mc(40,"translate"),i.Yb(),i.Zb(41,"button",23),i.hc("click",(function(){return e.addCustomUnit()})),i.mc(42,"translate"),i.Ub(43,"mat-icon",24),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(2),i.sc("ngIf",e.loading),i.Eb(3),i.Vc(" ",i.nc(6,18,"lang.appName")," / ",i.nc(7,20,"lang.printDate")," "),i.Eb(5),i.Tc(i.nc(11,22,"lang.summarySheet")),i.Eb(3),i.Uc("",i.nc(14,24,"lang.chronoNumber")," "),i.Eb(2),i.Jb("disabled",!e.withQrcode),i.Eb(2),i.tc("title",i.nc(18,26,"lang.toggleQrcode")),i.sc("checked",e.withQrcode),i.Eb(5),i.Uc(" ",i.nc(23,28,"lang.object")," "),i.Eb(4),i.sc("cdkDropListData",e.dataAvailable),i.Eb(2),i.sc("ngForOf",e.dataAvailable),i.Eb(1),i.sc("ngIf",!e.functions.empty(e.data.selectedRes)&&e.data.selectedRes.length>500&&!e.paramMode),i.Eb(3),i.Tc(i.nc(33,30,"lang.arGenWithModelMessage")),i.Eb(4),i.sc("ngIf",e.paramMode),i.Eb(1),i.sc("ngIf",!e.paramMode),i.Eb(2),i.Tc(i.nc(40,32,"lang.cancel")),i.Eb(2),i.tc("title",i.nc(42,34,"lang.addCustomUnit")))},directives:[Y.f,y.t,Rr.b,Rr.a,b.a,po.e,y.s,Y.c,g.b,Y.d,_.c,po.a,po.b,N.c,U.b,j.c,j.t,j.w,vt.a],pipes:[l.d],styles:[".mat-expansion-panel-body{padding-bottom:50px} .mat-slide-toggle-content{color:rgba(0,0,0,.87)}.summarySheet[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:10px;padding:10px}.summarySheet[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:24px;margin-top:10px;margin-bottom:10px;border:1px solid #000}.summarySheet[_ngcontent-%COMP%]   .unitTitle[_ngcontent-%COMP%]{display:flex;cursor:auto;position:absolute;top:2px;left:5px;width:50%}.summarySheet[_ngcontent-%COMP%]   .unitData[_ngcontent-%COMP%]{cursor:pointer;margin-top:30px;width:100%;opacity:.5}.summarySheet[_ngcontent-%COMP%]   .unitToggle[_ngcontent-%COMP%]{position:absolute;right:10px}.cdk-list[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;min-height:60px;display:block;border-radius:4px;overflow:auto}.cdk-list[_ngcontent-%COMP%], .columns[_ngcontent-%COMP%]{width:100%;background:#fff}.columns[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.actions[_ngcontent-%COMP%]{position:relative}.actions[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{justify-content:center}.loader[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;left:0;top:0;height:100%;background:hsla(0,0%,100%,.6);z-index:1;align-items:center}.disabled[_ngcontent-%COMP%]{opacity:.5}.qrcode[_ngcontent-%COMP%]    .mat-button-toggle-label-content{padding-left:7px!important;line-height:40px!important}.qrcode.mat-button-toggle-checked.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{background-color:#135f7f;color:#fff}.handleDrag[_ngcontent-%COMP%]{padding-right:5px;cursor:move;display:inline-block;opacity:.5}"]}),mc),bc=((pc=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=i,this.priorities=[],this.categories=[],this.entitiesList=[],this.statuses=[],this.metaSearchInput="",this.stateGroups=[],this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"openExport",value:function(){this.dialog.open(ic,{panelClass:"maarch-modal",width:"800px",data:{ownerId:this.currentBasketInfo.ownerId,groupId:this.currentBasketInfo.groupId,basketId:this.currentBasketInfo.basketId,selectedRes:this.selectedRes}})}},{key:"openSummarySheet",value:function(){this.dialog.open(gc,{panelClass:"maarch-full-height-modal",width:"800px",data:{ownerId:this.currentBasketInfo.ownerId,groupId:this.currentBasketInfo.groupId,basketId:this.currentBasketInfo.basketId,selectedRes:this.selectedRes}})}}]),t}()).\u0275fac=function(t){return new(t||pc)(i.Tb(l.e),i.Tb(u.b),i.Tb(Y.b))},pc.\u0275cmp=i.Nb({type:pc,selectors:[["app-tools-list"]],viewQuery:function(t,e){var n;1&t&&i.Oc(Ar.d,!0),2&t&&i.Cc(n=i.ic())&&(e.autocomplete=n.first)},inputs:{listProperties:"listProperties",currentBasketInfo:"currentBasketInfo",sidenavRight:["snavR","sidenavRight"],selectedRes:"selectedRes",totalRes:"totalRes"},decls:6,vars:8,consts:[["mat-mini-fab","",3,"disabled","title","click"],[1,"fa","fa-link"],[1,"fa","fa-file-download"]],template:function(t,e){1&t&&(i.Zb(0,"button",0),i.hc("click",(function(){return e.openSummarySheet()})),i.mc(1,"translate"),i.Ub(2,"mat-icon",1),i.Yb(),i.Zb(3,"button",0),i.hc("click",(function(){return e.openExport()})),i.mc(4,"translate"),i.Ub(5,"mat-icon",2),i.Yb()),2&t&&(i.tc("title",i.nc(1,4,"lang.summarySheets")),i.sc("disabled",0==e.selectedRes.length),i.Eb(3),i.tc("title",i.nc(4,6,"lang.exportDatas")),i.sc("disabled",0==e.selectedRes.length))},directives:[g.b,b.a],pipes:[l.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-mini-fab[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;box-shadow:none;margin-left:5px;margin-right:5px}.mat-mini-fab[_ngcontent-%COMP%]:disabled{border:1px solid #fff}"]}),pc);function vc(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",8),i.hc("click",(function(){return i.Hc(n),i.lc().loadActionList()})),i.Sc(1,"Actions "),i.Ub(2,"mat-icon",9),i.Yb()}if(2&t){i.lc();var a=i.Dc(3);i.sc("matMenuTriggerFor",a)}}function yc(t,e){if(1&t&&i.Ub(0,"span",10,11),2&t){var n=i.lc(),a=i.Dc(3);i.Pc("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),i.sc("matMenuTriggerFor",a)}}function _c(t,e){if(1&t&&(i.Zb(0,"div",12),i.Sc(1),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Uc(" ",n.contextMenuTitle," ")}}function kc(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",13),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc().launchEvent(t)})),i.Zb(1,"span"),i.Sc(2),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.sc("disabled",""==a.component||0==r.selectedRes.length),i.Eb(2),i.Tc(a.label)}}var Cc,xc=((Cc=function(){function t(e,n,a,r,o,s,c,l){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.router=o,this.actionService=s,this.headerService=c,this.functionService=l,this.loading=!1,this.triggerEvent=new i.o,this.contextMenuPosition={x:"0px",y:"0px"},this.contextMenuTitle="",this.currentAction={},this.basketInfo={},this.contextResId=0,this.currentLock=null,this.arrRes=[],this.folderList=[],this.actionsList=[],this.currentResource={},this.refreshEvent=new i.o,this.refreshEventAfterAction=new i.o,this.refreshPanelFolders=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"open",value:function(t,e,n){return this.loadActionList(),this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=e+"px",this.currentResource=n,this.contextMenuTitle=n.chrono,this.contextResId=n.resId,this.folderList=void 0!==n.folders?n.folders:[],this.contextMenu.openMenu(),!1}},{key:"launchEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.arrRes=[],this.currentAction=t,this.arrRes=this.selectedRes,this.contextMode&&this.selectedRes.length>1&&(this.contextMenuTitle="",this.contextResId=0),this.functionService.empty(e)||(this.contextMenuTitle=e.chrono,this.currentResource=e),this.actionService.launchAction(t,this.currentBasketInfo.ownerId,this.currentBasketInfo.groupId,this.currentBasketInfo.basketId,this.selectedRes,this.currentResource,!0)}},{key:"loadActionList",value:function(){var t=this;JSON.stringify(this.basketInfo)!=JSON.stringify(this.currentBasketInfo)&&(this.basketInfo=JSON.parse(JSON.stringify(this.currentBasketInfo)),this.http.get("../rest/resourcesList/users/"+this.currentBasketInfo.ownerId+"/groups/"+this.currentBasketInfo.groupId+"/baskets/"+this.currentBasketInfo.basketId+"/actions").subscribe((function(e){t.actionsList=e.actions.length>0?e.actions:[{id:0,label:t.translate.instant("lang.noAction"),component:""}],t.loading=!1}),(function(e){t.notify.handleErrors(e)})))}},{key:"refreshList",value:function(){this.refreshEvent.emit()}},{key:"refreshFolders",value:function(){this.refreshPanelFolders.emit()}},{key:"unFollow",value:function(){var t=this;this.dialogRef=this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return t.http.request("DELETE","../rest/resources/unfollow",{body:{resources:t.selectedRes}})})),Object(lt.a)((function(e){t.notify.success(t.translate.instant("lang.removedFromFolder")),t.headerService.nbResourcesFollowed-=e.unFollowed,t.refreshList()}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Cc)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.b),i.Tb(o.c),i.Tb(qi.a),i.Tb(f.a),i.Tb(ft.a))},Cc.\u0275cmp=i.Nb({type:Cc,selectors:[["app-actions-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(to.d,!0),2&t&&i.Cc(n=i.ic())&&(e.contextMenu=n.first)},inputs:{selectedRes:"selectedRes",totalRes:"totalRes",contextMode:"contextMode",currentBasketInfo:"currentBasketInfo",currentResource:"currentResource"},outputs:{triggerEvent:"triggerEvent",refreshEvent:"refreshEvent",refreshEventAfterAction:"refreshEventAfterAction",refreshPanelFolders:"refreshPanelFolders"},decls:14,vars:12,consts:[["mat-stroked-button","",3,"matMenuTriggerFor","click",4,"ngIf"],["style","position: fixed;",3,"matMenuTriggerFor","left","top",4,"ngIf"],["menu","matMenu"],["style","text-align: center;font-size: 10px;color: white;background: #135F7F;padding: 5px;font-weight: bold;",4,"ngIf"],["mat-menu-item","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"followAction",3,"disabled","click"],[1,"far","fa-star","fa-2x"],[3,"resIds","currentFolders","refreshList","refreshFolders"],["mat-stroked-button","",3,"matMenuTriggerFor","click"],["matSuffix","",1,"fa","fa-caret-down"],[2,"position","fixed",3,"matMenuTriggerFor"],["menu2",""],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"disabled","click"]],template:function(t,e){1&t&&(i.Qc(0,vc,3,1,"button",0),i.Qc(1,yc,2,5,"span",1),i.Zb(2,"mat-menu",null,2),i.Qc(4,_c,2,1,"div",3),i.Qc(5,kc,3,2,"button",4),i.Ub(6,"mat-divider"),i.Zb(7,"button",5),i.hc("click",(function(){return e.unFollow()})),i.Ub(8,"mat-icon",6),i.Zb(9,"span"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Ub(12,"mat-divider"),i.Zb(13,"folder-menu",7),i.hc("refreshList",(function(){return e.refreshList()}))("refreshFolders",(function(){return e.refreshFolders()})),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",!e.contextMode),i.Eb(1),i.sc("ngIf",e.contextMode),i.Eb(1),i.Gb("actionListMenu"),i.Eb(2),i.sc("ngIf",e.contextMode&&1==e.selectedRes.length),i.Eb(1),i.sc("ngForOf",e.actionsList),i.Eb(2),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(11,10,"lang.untrackThisMail")),i.Eb(3),i.sc("resIds",e.selectedRes)("currentFolders",e.folderList))},directives:[y.t,to.e,y.s,O.a,to.b,b.a,eo.a,g.b,to.d,N.j],pipes:[l.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px;border-color:#135f7f;color:#135f7f} .actionListMenu .mat-menu-content{padding-top:0;padding-bottom:0}.followAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#8e3e52}"]}),Cc),wc=n("8IW6"),Oc=["snav2"],Sc=["actionsListContext"],Ec=["filtersTool"],Mc=["appPanelList"],Ic=["tableBasketListSort"];function Pc(t,e){1&t&&i.Ub(0,"mat-spinner")}function Tc(t,e){if(1&t&&(i.Zb(0,"div",39),i.Qc(1,Pc,1,0,"mat-spinner",16),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function Ac(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Vc("- ",n.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}function Dc(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"i",61),i.mc(2,"translate"),i.Sc(3,"\xa0"),i.Ub(4,"span",62),i.mc(5,"timeAgo"),i.mc(6,"fullDate"),i.Wb()),2&t){var n=i.lc(4).$implicit;i.Eb(1),i.tc("title",i.nc(2,3,"lang.closingDate")),i.Eb(3),i.tc("title",i.nc(6,7,n.closing_date)),i.sc("innerHTML",i.nc(5,5,n.closing_date),i.Ic)}}function Rc(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"i",63),i.mc(2,"translate"),i.Sc(3,"\xa0"),i.Ub(4,"span",62),i.mc(5,"timeAgo"),i.mc(6,"fullDate"),i.Sc(7," - "),i.Ub(8,"i",64),i.mc(9,"translate"),i.Sc(10,"\xa0"),i.Ub(11,"span",62),i.mc(12,"timeLimit"),i.mc(13,"fullDate"),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.tc("title",i.nc(2,6,"lang.creationDate")),i.Eb(3),i.tc("title",i.nc(6,10,n.displayValue.creationDate)),i.sc("innerHTML",i.nc(5,8,n.displayValue.creationDate),i.Ic),i.Eb(4),i.tc("title",i.nc(9,12,"lang.processLimitDate")),i.Eb(3),i.tc("title",i.nc(13,16,n.displayValue.processLimitDate)),i.sc("innerHTML",i.nc(12,14,n.displayValue.processLimitDate),i.Ic)}}function Lc(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Dc,7,9,"ng-container",16),i.Qc(2,Rc,14,18,"ng-container",16),i.Wb()),2&t){var n=i.lc(3).$implicit,a=i.lc();i.Eb(1),i.sc("ngIf",n.closing_date!=a.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",n.closing_date==a.translate.instant("lang.undefined"))}}function Fc(t,e){if(1&t&&(i.Xb(0),i.Ub(1,"i",65),i.Sc(2," \xa0 "),i.Wb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Hb("fa ",n.icon,""),i.tc("title",n.label)}}function jc(t,e){if(1&t&&(i.Zb(0,"span",68),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc(2).$implicit;i.uc("title","id: ",n.displayValue,""),i.Eb(1),i.Tc(i.nc(2,2,"lang.undefined"))}}function Yc(t,e){if(1&t&&(i.Zb(0,"span",65),i.mc(1,"translate"),i.Sc(2),i.mc(3,"translate"),i.Yb()),2&t){var n=i.lc(2).$implicit;i.tc("title",i.nc(1,2,"lang."+n.displayValue)),i.Eb(2),i.Tc(i.nc(3,4,"lang."+n.displayValue))}}function Zc(t,e){if(1&t&&(i.Xb(0),i.Qc(1,jc,3,4,"span",66),i.Qc(2,Yc,4,6,"span",67),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc(3);i.Eb(1),i.sc("ngIf",!a.translate.instant("lang."+n.displayValue)),i.Eb(1),i.sc("ngIf",a.translate.instant("lang."+n.displayValue))}}function Nc(t,e){if(1&t&&i.Ub(0,"span",71),2&t){var n=i.lc(2).$implicit;i.tc("title",n.displayTitle),i.sc("innerHTML",n.displayValue,i.Ic)}}function Uc(t,e){if(1&t&&(i.Ub(0,"span",72),i.mc(1,"timeAgo")),2&t){var n=i.lc(2).$implicit;i.sc("innerHTML",i.nc(1,1,n.displayValue),i.Ic)}}function Bc(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Nc,1,2,"span",69),i.Qc(2,Uc,2,3,"span",70),i.Wb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!n.value.includes("Date")),i.Eb(1),i.sc("ngIf",n.value.includes("Date"))}}function zc(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",60),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=i.lc(2).$implicit;return i.lc().launchEventSubData(t,a)})),i.Qc(1,Lc,3,2,"ng-container",16),i.Qc(2,Fc,3,4,"ng-container",16),i.Qc(3,Zc,3,2,"ng-container",16),i.Qc(4,Bc,3,2,"ng-container",16),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(3);i.Gb(a.cssClasses.join(" ")),i.Jb("hasEvent",a.event&&a.displayValue!==r.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf","getCreationAndProcessLimitDates"==a.value),i.Eb(1),i.sc("ngIf",""!=a.icon),i.Eb(1),i.sc("ngIf","getCategory"==a.value),i.Eb(1),i.sc("ngIf","getCategory"!=a.value&&"getCreationAndProcessLimitDates"!=a.value)}}function Vc(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,zc,5,8,"span",59),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Hb("sub-info column-",a.templateColumns,"-list"),i.Eb(1),i.sc("ngForOf",n.display)}}var Hc=function(t){return{color:t}};function Qc(t,e){if(1&t&&i.Ub(0,"mat-icon",77),2&t){var n=i.lc(2).$implicit;i.Ib("",n.statusImage.charAt(0),"",n.statusImage.charAt(1)," ",n.statusImage," ",n.statusImage.charAt(0),"",n.statusImage.charAt(1),"-2x"),i.tc("title",n.statusLabel),i.sc("ngStyle",i.zc(9,Hc,n.priorityColor))}}function Wc(t,e){1&t&&(i.Zb(0,"span",78),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function Gc(t,e){if(1&t&&(i.Ub(0,"mat-icon",79),i.mc(1,"translate")),2&t){var n=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",n.locker,"")}}function qc(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",73),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit,e=i.lc();return e.launch(e.defaultAction,t)})),i.Qc(1,Qc,1,11,"mat-icon",74),i.Qc(2,Wc,3,3,"span",75),i.Qc(3,Gc,2,4,"mat-icon",76),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==a.isLocked),i.Eb(1),i.sc("ngIf","Y"===a.confidentiality),i.Eb(1),i.sc("ngIf",!0===a.isLocked)}}function Xc(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",81),i.Ub(2,"i",82),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",n.barcode,"")}}function $c(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",n.chrono," ")}}function Jc(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",80),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit,e=i.lc();return e.launch(e.defaultAction,t)})),i.Qc(1,Xc,5,4,"ng-container",16),i.Qc(2,$c,2,1,"ng-container",16),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc();i.Eb(1),i.sc("ngIf",a.chrono==r.translate.instant("lang.undefined")&&a.barcode!=r.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",a.chrono!=r.translate.instant("lang.undefined"))}}function Kc(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",85),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.goToFolder(a)})),i.mc(1,"translate"),i.Ub(2,"i",86),i.Sc(3),i.Yb()}if(2&t){var a=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",a.label,""),i.Eb(3),i.Uc(" ",a.label,"")}}function tl(t,e){if(1&t&&(i.Zb(0,"div",83),i.Qc(1,Kc,4,5,"span",84),i.mc(2,"sortBy"),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,n.folders,"label"))}}var el=function(t){return[t]};function nl(t,e){if(1&t){var n=i.ac();i.Zb(0,"td",40),i.Qc(1,Vc,2,4,"div",41),i.Zb(2,"div",42),i.Zb(3,"span",43),i.Zb(4,"mat-checkbox",44),i.hc("change",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().toggleRes(t,a)}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(5,"button",45),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.toggleMailTracking(a)})),i.Ub(6,"mat-icon",46),i.Yb(),i.Qc(7,qc,4,3,"span",47),i.Qc(8,Jc,3,2,"span",48),i.Zb(9,"span",49),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=i.lc();return a.launch(a.defaultAction,t)})),i.Sc(10),i.mc(11,"shorten"),i.Yb(),i.Zb(12,"span",50),i.Zb(13,"button",51),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.togglePanel("note",a)})),i.mc(14,"translate"),i.Ub(15,"mat-icon",52),i.Yb(),i.Zb(16,"button",51),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.togglePanel("attachment",a)})),i.mc(17,"translate"),i.Ub(18,"mat-icon",53),i.Yb(),i.Zb(19,"button",51),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.togglePanel("diffusion",a)})),i.mc(20,"translate"),i.Ub(21,"mat-icon",54),i.Yb(),i.Zb(22,"button",55),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.viewDocument(a)}))("mouseenter",(function(){i.Hc(n);var t=e.$implicit;return i.lc().viewThumbnail(t)}))("mouseleave",(function(){return i.Hc(n),i.lc().closeThumbnail()})),i.Ub(23,"mat-icon",56),i.Yb(),i.Zb(24,"button",51),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.goToDetail(a)})),i.mc(25,"translate"),i.Ub(26,"mat-icon",57),i.Yb(),i.Yb(),i.Yb(),i.Qc(27,tl,3,4,"div",58),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(),o=i.Dc(44);i.Jb("selected-data",a.checked),i.Eb(1),i.sc("ngIf",!o.opened&&!r.appService.getViewMode()&&a.display.length>0),i.Eb(3),i.sc("checked",a.checked),i.Eb(1),i.sc("title",r.translate.instant(!0===a.mailTracking?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.sc("ngClass",i.zc(43,el,!0===a.mailTracking?"fas fa-star":"far fa-star")),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.Jb("undefined",a.subject==r.translate.instant("lang.undefined")),i.tc("title",a.subject),i.Eb(1),i.Tc(i.pc(11,31,a.subject,150,"...")),i.Eb(3),i.Jb("noData",0==a.countNotes),i.tc("title",i.nc(14,35,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==a.countNotes),i.tc("matBadge",a.countNotes),i.sc("color",o.opened&&a.checked&&"note"==r.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==a.countAttachments),i.tc("title",i.nc(17,37,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==a.countAttachments),i.tc("matBadge",a.countAttachments),i.sc("color",o.opened&&a.checked&&"attachment"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(20,39,"lang.diffusionList")),i.Eb(2),i.sc("color",o.opened&&a.checked&&"diffusion"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",r.translate.instant(a.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!a.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(45,el,a.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(25,41,"lang.linkDetails")),i.Eb(3),i.sc("ngIf",r.displayFolderTags&&void 0!==a.folders&&a.folders.length>0)}}function il(t,e){1&t&&i.Ub(0,"div",90)}function al(t,e){if(1&t&&(i.Zb(0,"div",91),i.Ub(1,"i",92),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(3),i.Uc("",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(n.chrono)}}function rl(t,e){if(1&t){var n=i.ac();i.Zb(0,"tr",87),i.hc("contextmenu",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("cdkDragStarted",(function(){i.Hc(n);var t=e.$implicit;return i.lc().selectSpecificRes(t)})),i.Qc(1,il,1,0,"div",88),i.Qc(2,al,7,4,"div",89),i.Yb()}if(2&t){var a=e.$implicit;i.Jb("locked",1==a.isLocked),i.sc("cdkDragData",a)}}function ol(t,e){if(1&t&&i.Ub(0,"div",93),2&t){var n=i.lc();i.sc("matTooltip",n.currentChrono)("innerHTML",n.innerHtml,i.Ic)}}var sl,cl=function(){return[10,25,50,100,150]},ll=function(t){return{width:t}},ul=((sl=function(){function t(e,n,a,r,o,s,c,l,u,d,f,h,p,m,g){var b=this;_classCallCheck(this,t),this.translate=e,this.router=n,this._activatedRoute=a,this.route=r,this.http=o,this.dialog=s,this.sanitizer=c,this.headerService=l,this.filtersListService=u,this.notify=d,this.overlay=f,this.viewContainerRef=h,this.appService=p,this.foldersService=m,this.actionService=g,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.templateColumns=7,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.displayedSecondaryData=[],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentBasketInfo={},this.currentChrono="",this.currentMode="",this.defaultAction={id:19,component:"processAction"},this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.specificChrono="",this.displayFolderTags=!1,this.destroy$=new Er.Subject,this.currentSelectedChrono="",a.queryParams.subscribe((function(t){return b.specificChrono=t.chrono})),this.subscription=this.foldersService.catchEvent().subscribe((function(t){"function"===t.type&&b[t.content]()})),this.subscription2=this.actionService.catchAction().subscribe((function(t){b.refreshDaoAfterAction()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!1,this.isLoadingResults=!1,this.route.params.subscribe((function(e){t.dragInit=!0,t.destroy$.next(!0),t.basketUrl="../rest/resourcesList/users/"+e.userSerialId+"/groups/"+e.groupSerialId+"/baskets/"+e.basketId,t.currentBasketInfo={ownerId:e.userSerialId,groupId:e.groupSerialId,basketId:e.basketId},t.headerService.currentBasketInfo=t.currentBasketInfo,t.filtersListService.filterMode=!1,t.selectedRes=[],t.sidenavRight.close(),t.listProperties=t.filtersListService.initListsProperties(t.currentBasketInfo.ownerId,t.currentBasketInfo.groupId,t.currentBasketInfo.basketId,"basket",t.specificChrono),setTimeout((function(){t.dragInit=!1}),1e3),t.initResultList()}),(function(e){t.notify.handleErrors(e)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0),this.subscription.unsubscribe(),this.subscription2.unsubscribe()}},{key:"initResultList",value:function(){var t=this;this.resultListDatabase=new dl(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(Mr.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(Cr.a)(this.destroy$),Object(xr.a)({}),Object(ct.a)((function(){return t.data=[],t.isLoadingResults=!0,t.resultListDatabase.getRepoIssues(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.basketUrl,t.filtersListService.getUrlFilters(),t.paginator.pageSize)})),Object(wr.a)((function(e){return t.isLoadingResults=!1,e=t.processPostData(e),t.resultsLength=e.count,t.allResInBasket=e.allResources,t.currentBasketInfo.basket_id=e.basket_id,t.defaultAction=e.defaultAction,t.displayFolderTags=e.displayFolderTags,t.templateColumns=e.templateColumns,t.headerService.setHeader(e.basketLabel,"","fa fa-inbox"),e.resources})),Object(wn.a)((function(e){return t.notify.handleErrors(e),t.router.navigate(["/home"]),t.isLoadingResults=!1,Object(On.of)(!1)}))).subscribe((function(e){return t.data=e}))}},{key:"goTo",value:function(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}},{key:"goToDetail",value:function(t){this.router.navigate(["/resources/"+t.resId])}},{key:"goToFolder",value:function(t){this.router.navigate(["/folders/"+t.id])}},{key:"togglePanel",value:function(t,e){var n=this.currentResource;e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),n.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}},{key:"refreshBadgeNotes",value:function(t){this.currentResource.countNotes=t}},{key:"refreshBadgeAttachments",value:function(t){this.currentResource.countAttachments=t}},{key:"refreshDao",value:function(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}},{key:"refreshDaoAfterAction",value:function(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}},{key:"filterThis",value:function(t){this.filtersTool.setInputSearch(t)}},{key:"viewThumbnail",value:function(t){if(t.hasDocument){var e=+new Date;this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail?tsp="+e,$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"})}}},{key:"closeThumbnail",value:function(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}},{key:"processPostData",value:function(t){var e=this;return this.displayedSecondaryData=[],t.resources.forEach((function(t){Object.keys(t).forEach((function(n){"statusImage"===n&&null==t[n]?t[n]="fa-question undefined":null!=t[n]&&""!==t[n]||-1!==["closingDate","countAttachments","countNotes","display","folders","hasDocument","integrations","mailTracking"].indexOf(n)||(t[n]=e.translate.instant("lang.undefined"))})),t.display.forEach((function(t){if(t.event=!1,t.displayTitle=t.displayValue,null!=t.displayValue&&""!==t.displayValue||-1!==["getCreationAndProcessLimitDates","getParallelOpinionsNumber"].indexOf(t.value))if(["getSenders","getRecipients"].indexOf(t.value)>-1)t.event=!0,t.displayValue.length>1?(t.displayTitle=t.displayValue.join(" - "),t.displayValue="<b>"+t.displayValue.length+"</b> "+e.translate.instant("lang.contactsAlt")):t.displayValue=1===t.displayValue.length?t.displayValue[0]:e.translate.instant("lang.undefined");else if("getCreationAndProcessLimitDates"===t.value)t.icon="";else if("getVisaWorkflow"===t.value){var n=[],i="",a="",r=[];t.displayValue.forEach((function(t,o){i="",a=t.user,r.push(a),"sign"===t.mode&&(a="<u>"+a+"</u>"),i=""===t.date?'<i class="fa fa-hourglass-half"></i> <span title="'+e.translate.instant("lang."+t.mode+"User")+'">'+a+"</span>":'<span color="accent" style=""><i class="fa fa-check"></i> <span title="'+e.translate.instant("lang."+t.mode+"User")+'">'+a+"</span></span>",t.current&&o>=0&&(i='<b color="primary">'+i+"</b>"),n.push(i)}));var o=t.displayValue.map((function(t){return t.current})).indexOf(!0);if(o>0){n=(n=n.slice(o-1)).reverse();var s=t.displayValue.map((function(t){return t.current})).reverse().indexOf(!0);s>1&&(n=n.slice(s-1)),n=n.reverse()}else 0===o?n=(n=(n=n.reverse()).slice(o-2)).reverse():-1===o&&(n=n.slice(n.length-2));(o>=2||-1===o&&t.displayValue.length>=3)&&n.unshift("..."),-1!==o&&o-2<=t.displayValue.length&&o+2<t.displayValue.length&&t.displayValue.length>=3&&n.push("..."),t.displayValue=n.join(' <i class="fas fa-long-arrow-alt-right"></i> '),t.displayTitle=r.join(" - ")}else if("getSignatories"===t.value){var c=[];t.displayValue.forEach((function(t){c.push(t.user)})),t.displayValue=c.join(", "),t.displayTitle=c.join(", ")}else"getParallelOpinionsNumber"===t.value&&(t.displayTitle=t.displayValue+" "+e.translate.instant("lang.opinionsSent"),t.displayValue=t.displayValue>0?'<b color="primary">'+t.displayValue+"</b> "+e.translate.instant("lang.opinionsSent"):t.displayValue+" "+e.translate.instant("lang.opinionsSent"));else t.displayValue=e.translate.instant("lang.undefined"),t.displayTitle="";t.label=e.translate.instant("lang."+t.value)})),t.checked=-1!==e.selectedRes.indexOf(t.resId)})),t}},{key:"toggleRes",value:function(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.currentResource=e,this.selectedRes.push(e.resId),e.checked=!0);else{var n=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(n,1),e.checked=!1}}},{key:"toggleAllRes",value:function(t){this.selectedRes=[],t.checked?(this.data.forEach((function(t){t.checked=!0})),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach((function(t){t.checked=!1}))}},{key:"selectSpecificRes",value:function(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}},{key:"open",value:function(t,e){var n=t.x,i=t.y;return!1===e.checked&&(e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e)),this.actionsList.open(n,i,e),!1}},{key:"launch",value:function(t,e){var n=this;e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),setTimeout((function(){n.actionsList.launchEvent(t,e)}),200)}},{key:"listTodrag",value:function(){return this.foldersService.getDragIds()}},{key:"launchEventSubData",value:function(t,e){t.event&&["getSenders","getRecipients"].indexOf(t.value)>-1&&t.displayValue!==this.translate.instant("lang.undefined")&&this.openContact(e,"getSenders"===t.value?"senders":"recipients")}},{key:"openContact",value:function(t,e){this.dialog.open(Vs.a,{panelClass:"maarch-modal",data:{title:"".concat(t.chrono," - ").concat(t.subject),mode:e,resId:t.resId}})}},{key:"viewDocument",value:function(t){var e=this;this.http.get("../rest/resources/".concat(t.resId,"/content?mode=view"),{responseType:"blob"}).pipe(Object(lt.a)((function(e){var n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),a=window.open();a.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(i,'" frameborder="0" allowfullscreen></iframe>')),a.document.title=t.chrono})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"toggleMailTracking",value:function(t){var e=this;t.mailTracking?this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}}).pipe(Object(lt.a)((function(){return e.headerService.nbResourcesFollowed--})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe():this.http.post("../rest/resources/follow",{resources:[t.resId]}).pipe(Object(lt.a)((function(){return e.headerService.nbResourcesFollowed++})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe(),t.mailTracking=!t.mailTracking}}]),t}()).\u0275fac=function(t){return new(t||sl)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(o.a),i.Tb(u.b),i.Tb(Y.b),i.Tb(An.b),i.Tb(f.a),i.Tb(Ir),i.Tb(h.a),i.Tb(Pr.c),i.Tb(i.R),i.Tb(p.a),i.Tb(Tr.a),i.Tb(qi.a))},sl.\u0275cmp=i.Nb({type:sl,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Oc,!0),i.Oc(Sc,!0),i.Oc(Ec,!0),i.Oc(Mc,!0),i.Oc(yt.a,!0),i.Oc(Ic,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.filtersTool=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first))},decls:54,vars:57,consts:[[1,"maarch-container"],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[2,"flex","1","overflow-x","auto","overflow-y","hidden",3,"listProperties","totalRes","selectedRes","routeDatas","title","toggleAllRes","refreshEventAfterAction","refreshEvent"],["filtersTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[3,"selectedRes","currentBasketInfo"],["actionsList",""],[3,"contextMode","totalRes","selectedRes","currentBasketInfo","currentResource","refreshEvent","refreshPanelFolders"],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","document-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","dataSource","cdkDropListDisabled"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","cdkDrag","",3,"locked","cdkDragData","contextmenu","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],[3,"contextMode","totalRes","selectedRes","currentBasketInfo","refreshEvent","refreshEventAfterAction","refreshPanelFolders"],["actionsListContext",""],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[3,"class",4,"ngIf"],[1,"main-info"],[2,"width","50px","height","16px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[3,"ngClass"],["style","cursor:pointer;","class","main-info-status",3,"click",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",3,"click",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title","click"],[1,"main-info-action"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],["class","folder-info",4,"ngIf"],["class","sub-info-data","style","flex:1;white-space: pre;\n                                    overflow: hidden;\n                                    text-overflow: ellipsis;\n                                    padding-left: 5px;\n                                    padding-right: 5px;",3,"class","hasEvent","click",4,"ngFor","ngForOf"],[1,"sub-info-data",2,"flex","1","white-space","pre","overflow","hidden","text-overflow","ellipsis","padding-left","5px","padding-right","5px",3,"click"],[1,"fa","fa-lock",3,"title"],[3,"innerHTML","title"],[1,"fa","fa-calendar",3,"title"],[1,"fa","fa-stopwatch",3,"title"],[3,"title"],["style","opacity: 0.5",3,"title",4,"ngIf"],[3,"title",4,"ngIf"],[2,"opacity","0.5",3,"title"],[3,"title","innerHTML",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"title","innerHTML"],[3,"innerHTML"],[1,"main-info-status",2,"cursor","pointer",3,"click"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer",3,"click"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",3,"cdkDragData","contextmenu","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"mat-card",1),i.Ub(3,"img",2),i.mc(4,"async"),i.mc(5,"secureUrl"),i.Yb(),i.Zb(6,"div",3),i.Zb(7,"div",4),i.Zb(8,"div",5),i.Ub(9,"header-left"),i.Yb(),i.Zb(10,"div",6),i.Ub(11,"header-right"),i.Yb(),i.Yb(),i.Zb(12,"div",7),i.Zb(13,"app-filters-tool",8,9),i.hc("toggleAllRes",(function(t){return e.toggleAllRes(t)}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshEvent",(function(){return e.refreshDao()})),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",10),i.Zb(16,"div",11),i.Qc(17,Tc,2,1,"div",12),i.Zb(18,"div",13),i.Zb(19,"div",14),i.Zb(20,"mat-checkbox",15),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(21,"translate"),i.Yb(),i.Sc(22),i.mc(23,"ucfirst"),i.mc(24,"translate"),i.Qc(25,Ac,3,4,"small",16),i.Yb(),i.Zb(26,"div",17),i.Zb(27,"span"),i.Ub(28,"mat-paginator",18,19),i.Yb(),i.Zb(30,"span"),i.Ub(31,"app-tools-list",20,21),i.Yb(),i.Zb(33,"span"),i.Zb(34,"app-actions-list",22,21),i.hc("refreshEvent",(function(){return e.refreshDao()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(36,"div",23),i.Zb(37,"table",24,25),i.Xb(39,26),i.Qc(40,nl,28,47,"td",27),i.Wb(),i.Qc(41,rl,3,3,"tr",28),i.Yb(),i.Yb(),i.Ub(42,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Zb(43,"mat-sidenav",29,30),i.Qc(45,ol,1,2,"div",31),i.Zb(46,"div",32),i.Zb(47,"button",33),i.hc("click",(function(){return i.Hc(n),i.Dc(44).close()})),i.Ub(48,"mat-icon",34),i.Yb(),i.Yb(),i.Zb(49,"app-panel-list",35,36),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(51,"mat-divider"),i.Yb(),i.Yb(),i.Zb(52,"app-actions-list",37,38),i.hc("refreshEvent",(function(){return e.refreshDao()}))("refreshEventAfterAction",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(3),i.sc("src",i.nc(4,44,i.nc(5,46,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("listProperties",e.listProperties)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("routeDatas","/rest/resourcesList/users/"+e.currentBasketInfo.ownerId+"/groups/"+e.currentBasketInfo.groupId+"/baskets/"+e.currentBasketInfo.basketId+"/filters")("title",e.translate.instant("lang.searchMailInBasket")),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(21,48,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.allResInBasket.length," ",i.nc(23,50,i.nc(24,52,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(54,cl)),i.Eb(3),i.sc("selectedRes",e.selectedRes)("currentBasketInfo",e.currentBasketInfo),i.Eb(3),i.sc("contextMode",!1)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("currentBasketInfo",e.currentBasketInfo)("currentResource",e.currentResource),i.Eb(3),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("dataSource",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode()),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",!e.filtersListService.filterMode),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(55,ll,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml&&!e.filtersListService.filterMode),i.Eb(7),i.sc("contextMode",!0)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes)("currentBasketInfo",e.currentBasketInfo))},directives:[v.e,v.f,Z.a,ht.a,pt.a,Kr,y.t,C.a,yt.a,bc,xc,dt.n,po.e,_t.a,dt.c,dt.b,dt.m,v.d,y.w,g.b,b.a,Mo,O.a,_.c,dt.a,y.q,Vn.a,y.s,dt.l,po.a,po.c,po.d,x.b],pipes:[y.b,xt.a,l.d,Dr.u,Dr.p,Hn.a,wc.a,Qn.a,no.a],styles:[".align_leftData[_ngcontent-%COMP%]{text-align:left}.align_centerData[_ngcontent-%COMP%]{text-align:center}.align_rightData[_ngcontent-%COMP%]{text-align:right}.boldFontData[_ngcontent-%COMP%]{font-weight:700}.bigFontData[_ngcontent-%COMP%]{font-size:14px}.smallFontData[_ngcontent-%COMP%]{font-size:10px}.normalData[_ngcontent-%COMP%]{flex:1}.chronoData[_ngcontent-%COMP%]{width:150px}.longData[_ngcontent-%COMP%]{flex:3}.locked[_ngcontent-%COMP%]{opacity:.5}.watermark[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%) rotate(-20deg);color:red;font-weight:700;opacity:.6}.dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.badge-folder[_ngcontent-%COMP%], .hasEvent[_ngcontent-%COMP%]{cursor:pointer}.hasEvent[_ngcontent-%COMP%]:hover{color:#135f7f}.followIcon[_ngcontent-%COMP%]{color:#f99830}"]}),sl),dl=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.filtersListService=n}return _createClass(t,[{key:"getRepoIssues",value:function(t,e,n,i,a,r){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(r),this.http.get("".concat(i,"?limit=").concat(r,"&offset=").concat(n*r).concat(a))}}]),t}(),fl=n("iadO"),hl=["numberInput"];function pl(t,e){1&t&&(i.Zb(0,"div",10),i.Ub(1,"mat-spinner",11),i.Yb())}function ml(t,e){if(1&t&&i.Ub(0,"mat-datepicker-toggle",33),2&t){i.lc();var n=i.Dc(7);i.sc("for",n)}}function gl(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field",29),i.hc("click",(function(){return i.Hc(n),i.Dc(7).open()})),i.Zb(1,"mat-label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"input",30),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).receivedDate=t})),i.Yb(),i.Qc(5,ml,1,1,"mat-datepicker-toggle",31),i.Ub(6,"mat-datepicker",null,32),i.Yb()}if(2&t){var a=i.Dc(7),r=i.lc(2);i.Eb(2),i.Tc(i.nc(3,7,"lang.registeredMailReceivedDate")),i.Eb(2),i.sc("ngModel",r.receivedDate)("matDatepicker",a)("disabled","distributed"===r.type)("placeholder",r.translate.instant("lang.chooseDate"))("max",r.today),i.Eb(1),i.sc("ngIf",!r.receivedDate)}}function bl(t,e){if(1&t&&(i.Zb(0,"mat-option",15),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Tc(n)}}function vl(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"mat-select",34),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).reason=t})),i.mc(2,"translate"),i.Qc(3,bl,2,2,"mat-option",35),i.Zb(4,"mat-option",15),i.mc(5,"translate"),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(1),i.tc("placeholder",i.nc(2,5,"lang.returnReason")),i.sc("ngModel",a.reason),i.Eb(2),i.sc("ngForOf",a.returnReasons),i.Eb(1),i.tc("value",i.nc(5,7,"lang.others")),i.Eb(2),i.Tc(i.nc(7,9,"lang.others"))}}function yl(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"mat-label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"input",36),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).reasonOther=t})),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(2),i.Tc(i.nc(3,2,"lang.precise")),i.Eb(2),i.sc("ngModel",a.reasonOther)}}function _l(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"mat-label"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"input",37,38),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).number=t})),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(2),i.Tc(i.nc(3,2,"lang.registeredMailNumber")),i.Eb(2),i.sc("ngModel",a.number)}}function kl(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.returnType")))}function Cl(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.mc(2,"translate"),i.mc(3,"translate"),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ","distributed"===n.type?i.nc(2,1,"lang.registeredMailDistributed"):i.nc(3,3,"lang.registeredMailNotDistributed")," ")}}function xl(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.registeredMailNumber")))}function wl(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.number," ")}}function Ol(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.registeredMailReceivedDate")))}function Sl(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc(" ",n.receivedDate," ")}}function El(t,e){1&t&&(i.Zb(0,"mat-header-cell"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.returnReason")))}function Ml(t,e){if(1&t&&(i.Zb(0,"mat-cell"),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.Uc("",n.returnReason," ")}}function Il(t,e){1&t&&i.Ub(0,"mat-header-row")}function Pl(t,e){1&t&&i.Ub(0,"mat-row")}function Tl(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-card",12),i.Zb(1,"form",13),i.Zb(2,"div"),i.Zb(3,"mat-form-field"),i.Zb(4,"mat-select",14),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().type=t}))("ngModelChange",(function(){i.Hc(n);var t=i.lc();return t.focusRegisteredMailNumber(),t.receivedDate=t.today})),i.mc(5,"translate"),i.Zb(6,"mat-option",15),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Zb(9,"mat-option",15),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(12,gl,8,9,"mat-form-field",16),i.Qc(13,vl,8,11,"mat-form-field",17),i.Qc(14,yl,5,4,"mat-form-field",17),i.Qc(15,_l,6,4,"mat-form-field",17),i.Zb(16,"div",18),i.Zb(17,"button",19),i.hc("click",(function(){i.Hc(n);var t=i.lc();return t.receiveAcknowledgement(),t.focusRegisteredMailNumber()})),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(20,"mat-table",20),i.Xb(21,21),i.Qc(22,kl,3,3,"mat-header-cell",22),i.Qc(23,Cl,4,5,"mat-cell",23),i.Wb(),i.Xb(24,24),i.Qc(25,xl,3,3,"mat-header-cell",22),i.Qc(26,wl,2,1,"mat-cell",23),i.Wb(),i.Xb(27,25),i.Qc(28,Ol,3,3,"mat-header-cell",22),i.Qc(29,Sl,2,1,"mat-cell",23),i.Wb(),i.Xb(30,26),i.Qc(31,El,3,3,"mat-header-cell",22),i.Qc(32,Ml,2,1,"mat-cell",23),i.Wb(),i.Qc(33,Il,1,0,"mat-header-row",27),i.Qc(34,Pl,1,0,"mat-row",28),i.Yb(),i.Yb()}if(2&t){var a=i.lc();i.Eb(1),i.sc("formGroup",a.adminFormGroup),i.Eb(3),i.tc("placeholder",i.nc(5,16,"lang.returnType")),i.sc("ngModel",a.type),i.Eb(2),i.sc("value","distributed"),i.Eb(1),i.Tc(i.nc(8,18,"lang.registeredMailDistributed")),i.Eb(2),i.sc("value","notDistributed"),i.Eb(1),i.Tc(i.nc(11,20,"lang.registeredMailNotDistributed")),i.Eb(2),i.sc("ngIf","notDistributed"===a.type||"distributed"===a.type),i.Eb(1),i.sc("ngIf","notDistributed"===a.type),i.Eb(1),i.sc("ngIf","notDistributed"===a.type&&a.reason===a.translate.instant("lang.others")),i.Eb(1),i.sc("ngIf","notDistributed"===a.type||"distributed"===a.type),i.Eb(2),i.sc("disabled",!a.adminFormGroup.valid),i.Eb(1),i.Tc(i.nc(19,22,"lang.validate")),i.Eb(2),i.sc("dataSource",a.dataSource),i.Eb(13),i.sc("matHeaderRowDef",a.displayedColumns),i.Eb(1),i.sc("matRowDefColumns",a.displayedColumns)}}var Al,Dl=((Al=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.http=e,this.notify=n,this.headerService=i,this.functions=a,this.appService=r,this.translate=o,this._formBuilder=s,this.loading=!1,this.today=new Date,this.receivedDate=this.today,this.displayedColumns=["type","number","receivedDate","returnReason"],this.returnReasons=[this.translate.instant("lang.returnReasonCannotAccess"),this.translate.instant("lang.returnReasonNotClaimed"),this.translate.instant("lang.returnReasonRejected"),this.translate.instant("lang.returnReasonUnknown")]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.headerService.setHeader(this.translate.instant("lang.arReception"));var e=[j.H.pattern(/(2C|2D|RW) ([0-9]{3} [0-9]{3} [0-9]{4}) ([0-9])/),j.H.required];this.adminFormGroup=this._formBuilder.group({type:["",j.H.required],number:["",e],receivedDate:[""],returnReason:[""],returnReasonOther:[""]}),this.loading=!1,this.dataSource=new dt.o([]),this.returnReasons.sort(),this.adminFormGroup.controls.number.valueChanges.pipe(Object(rt.a)(500),Object(lt.a)((function(){return t.receiveAcknowledgement()}))).subscribe()}},{key:"receiveAcknowledgement",value:function(){var t=this,e={type:this.type,number:this.number,receivedDate:this.functions.formatDateObjectToDateString(this.receivedDate),returnReason:this.reason};if(!this.functions.empty(this.number)){if("distributed"===this.type){if(!this.adminFormGroup.get("number").valid)return void this.notify.error(this.translate.instant("lang.fieldsNotValid"))}else{if(!this.adminFormGroup.get("number").valid||!this.adminFormGroup.get("receivedDate").valid||!this.adminFormGroup.get("returnReason").valid)return void this.notify.error(this.translate.instant("lang.fieldsNotValid"));if(this.reason===this.translate.instant("lang.others")&&this.functions.empty(this.reasonOther))return void this.notify.error(this.translate.instant("lang.fieldsNotValid"));this.reason!==this.translate.instant("lang.others")||this.functions.empty(this.reasonOther)||(e.returnReason=this.reasonOther)}this.http.put("../rest/registeredMails/acknowledgement",e).pipe(Object(lt.a)((function(){t.notify.success(t.translate.instant("lang.arReceived"));var n=t.dataSource.data;n.unshift(e),t.dataSource.data=n,t.number="",t.receivedDate=t.today,t.reason="",t.reasonOther="",t.focusRegisteredMailNumber()})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}}},{key:"focusRegisteredMailNumber",value:function(){var t=this;setTimeout((function(){t.numberInput.nativeElement.focus()}),0)}}]),t}()).\u0275fac=function(t){return new(t||Al)(i.Tb(u.b),i.Tb(h.a),i.Tb(f.a),i.Tb(ft.a),i.Tb(p.a),i.Tb(l.e),i.Tb(j.g))},Al.\u0275cmp=i.Nb({type:Al,selectors:[["app-acknowledgement-reception"]],viewQuery:function(t,e){var n;1&t&&i.ad(hl,!0),2&t&&i.Cc(n=i.ic())&&(e.numberInput=n.first)},decls:13,vars:8,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[1,"container"],[1,"container-content"],["style","display:flex;height:100%;",4,"ngIf"],["class","card-app-content",4,"ngIf"],[2,"display","flex","height","100%"],[2,"margin","auto"],[1,"card-app-content"],[2,"display","contents",3,"formGroup"],["formControlName","type",3,"ngModel","placeholder","ngModelChange"],[3,"value"],["appearance","outline","style","cursor:pointer;margin-top: 10px;",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],[3,"dataSource"],["matColumnDef","type"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","number"],["matColumnDef","receivedDate"],["matColumnDef","returnReason"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["appearance","outline",2,"cursor","pointer","margin-top","10px",3,"click"],["matInput","","readonly","","formControlName","receivedDate","required","",2,"cursor","pointer",3,"ngModel","matDatepicker","disabled","placeholder","max","ngModelChange"],["matSuffix","",3,"for",4,"ngIf"],["picker",""],["matSuffix","",3,"for"],["formControlName","returnReason","required","",3,"ngModel","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","returnReasonOther","formControlName","returnReasonOther",3,"ngModel","ngModelChange"],["type","text","matInput","","required","","formControlName","number",3,"ngModel","ngModelChange"],["numberInput",""]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Zb(1,"mat-sidenav-content"),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Zb(4,"div",3),i.Ub(5,"header-left"),i.Yb(),i.Zb(6,"div",4),i.Ub(7,"header-right"),i.Yb(),i.Yb(),i.Ub(8,"div",5),i.Yb(),i.Zb(9,"div",6),i.Zb(10,"div",7),i.Qc(11,pl,2,0,"div",8),i.Qc(12,Tl,35,24,"mat-card",9),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(3),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",!e.loading))},directives:[v.e,v.f,ht.a,pt.a,y.t,_.c,Z.a,j.J,j.u,j.l,N.c,gt.a,j.t,j.j,w.o,g.b,dt.n,dt.c,dt.i,dt.b,dt.k,dt.m,N.g,U.b,j.c,fl.f,j.E,fl.d,fl.h,N.j,y.s,dt.h,dt.a,dt.j,dt.l],pipes:[l.d],encapsulation:2}),Al),Rl=n("3nLB");function Ll(t,e){if(1&t&&(i.Zb(0,"mat-list-option",8),i.Zb(1,"span",9),i.Sc(2),i.Yb(),i.Zb(3,"span",10),i.Sc(4),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.sc("selected",n.selected),i.Eb(1),i.sc("title",n.label),i.Eb(1),i.Tc(n.label),i.Eb(2),i.Tc(n.resCount)}}function Fl(t,e){if(1&t&&(i.Zb(0,"mat-selection-list",4),i.Zb(1,"div",5),i.Sc(2),i.Yb(),i.Ub(3,"mat-divider",6),i.Qc(4,Ll,5,4,"mat-list-option",7),i.Yb()),2&t){var n=e.$implicit,a=i.lc();i.Eb(2),i.Vc("",n.key," (",a.filters[n.key].length,")"),i.Eb(2),i.sc("ngForOf",a.filters[n.key])}}var jl,Yl=((jl=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.appService=i,this.functions=a,this.latinisePipe=r,this.filters={categories:[],priorities:[],statuses:[],doctypes:[],destinations:[],folders:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){this.filters={categories:[{id:"outgoing",label:"Courrier d\xe9part",resCount:24,selected:!0},{id:"incoming",label:"Courrier arriv\xe9",resCount:4,selected:!0}],priorities:[{id:"IUDZIZOJD",label:"Normal",resCount:4,selected:!0},{id:"IUDZIZOJD",label:"Urgent",resCount:42,selected:!0}],statuses:[{id:"IUDZIZOJD",label:"En cours",resCount:42,selected:!0}],doctypes:[{id:"IUDZIZOJD",label:"Convocations",resCount:42,selected:!0},{id:"IUDZIZOJD",label:"Litiges",resCount:42,selected:!0}],destinations:[{id:"IUDZIZOJD",label:"P\xf4le Jeunesse et Sport",resCount:42,selected:!0},{id:"IUDZIZOJD",label:"P\xf4le culturel",resCount:42,selected:!0}],folders:[]}}}]),t}()).\u0275fac=function(t){return new(t||jl)(i.Tb(l.e),i.Tb(u.b),i.Tb(p.a),i.Tb(ft.a),i.Tb(Dr.c))},jl.\u0275cmp=i.Nb({type:jl,selectors:[["app-filter-tool-adv-search"]],decls:9,vars:6,consts:[["expanded","",1,"FilterContainer"],["basketPanel",""],[1,"fas","fa-filter","panelIconMenu"],["class","filter-list",4,"ngFor","ngForOf"],[1,"filter-list"],[1,"catGroupTitle"],[2,"width","80%"],["color","primary","class","catContent","checkboxPosition","before",3,"selected",4,"ngFor","ngForOf"],["color","primary","checkboxPosition","before",1,"catContent",3,"selected"],[1,"catLabel",3,"title"],[1,"catBadge"]],template:function(t,e){1&t&&(i.Zb(0,"mat-expansion-panel",0,1),i.Zb(2,"mat-expansion-panel-header"),i.Zb(3,"mat-panel-title"),i.Ub(4,"i",2),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Yb(),i.Qc(7,Fl,5,3,"mat-selection-list",3),i.mc(8,"keyvalue"),i.Yb()),2&t&&(i.Eb(5),i.Uc("\xa0",i.nc(6,2,"lang.filterBy")," "),i.Eb(2),i.sc("ngForOf",i.nc(8,4,e.filters)))},directives:[ut.c,ut.g,ut.h,y.s,k.i,O.a,k.f],pipes:[l.d,y.l],styles:[".catGroupTitle[_ngcontent-%COMP%]{color:#135f7f;font-size:14px;font-weight:500;padding-left:10px}.catContent[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.catLabel[_ngcontent-%COMP%]{flex:1}.catBadge[_ngcontent-%COMP%]{color:#135f7f;font-size:14px;font-weight:700!important;min-width:auto}.filter-list[_ngcontent-%COMP%]    .mat-list-text{flex-direction:row}.FilterContainer[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}.FilterContainer[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.FilterContainer[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#135f7f;display:flex;align-items:center;font-size:14px;font-weight:500}.FilterContainer[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.panelIconMenu[_ngcontent-%COMP%]{font-size:22px}"]}),jl),Zl=["snav2"],Nl=["adminMenuTemplate"],Ul=["actionsListContext"],Bl=["appPanelList"],zl=["appCriteriaTool"],Vl=["tableBasketListSort"],Hl=["basketHome"];function Ql(t,e){1&t&&i.Ub(0,"app-filter-tool-adv-search")}function Wl(t,e){1&t&&i.Ub(0,"mat-spinner")}function Gl(t,e){if(1&t&&(i.Zb(0,"div",37),i.Qc(1,Wl,1,0,"mat-spinner",17),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function ql(t,e){if(1&t&&(i.Zb(0,"small"),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Vc("- ",n.selectedRes.length," ",i.nc(2,2,"lang.selected"),"")}}var Xl=function(t){return{color:t}};function $l(t,e){if(1&t&&i.Ub(0,"mat-icon",54),2&t){var n=i.lc(2).$implicit;i.Ib("",n.statusImage.charAt(0),"",n.statusImage.charAt(1)," ",n.statusImage," ",n.statusImage.charAt(0),"",n.statusImage.charAt(1),"-2x"),i.tc("title",n.statusLabel),i.sc("ngStyle",i.zc(9,Xl,n.priorityColor))}}function Jl(t,e){1&t&&(i.Zb(0,"span",55),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.confidential")))}function Kl(t,e){if(1&t&&(i.Ub(0,"mat-icon",56),i.mc(1,"translate")),2&t){var n=i.lc(2).$implicit;i.vc("title","",i.nc(1,2,"lang.warnLockResInProgress")," : ",n.locker,"")}}function tu(t,e){if(1&t&&(i.Zb(0,"span",50),i.Qc(1,$l,1,11,"mat-icon",51),i.Qc(2,Jl,3,3,"span",52),i.Qc(3,Kl,2,4,"mat-icon",53),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngIf",!0!==n.isLocked),i.Eb(1),i.sc("ngIf","Y"===n.confidentiality),i.Eb(1),i.sc("ngIf",!0===n.isLocked)}}function eu(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"span",58),i.Ub(2,"i",59),i.mc(3,"translate"),i.Sc(4),i.Yb(),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(2),i.tc("title",i.nc(3,2,"lang.barcode")),i.Eb(2),i.Uc(" ",n.barcode,"")}}function nu(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",n.chrono," ")}}function iu(t,e){if(1&t&&(i.Zb(0,"span",57),i.Qc(1,eu,5,4,"ng-container",17),i.Qc(2,nu,2,1,"ng-container",17),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngIf",n.chrono==a.translate.instant("lang.undefined")&&n.barcode!=a.translate.instant("lang.undefined")),i.Eb(1),i.sc("ngIf",n.chrono!=a.translate.instant("lang.undefined"))}}function au(t,e){1&t&&(i.Zb(0,"div",60),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.documentOutOfPerimeter")," "))}var ru=function(t){return[t]};function ou(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",61),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("note",e)})),i.mc(2,"translate"),i.Ub(3,"mat-icon",62),i.Yb(),i.Zb(4,"button",61),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("attachment",e)})),i.mc(5,"translate"),i.Ub(6,"mat-icon",63),i.Yb(),i.Zb(7,"button",61),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.togglePanel("diffusion",e)})),i.mc(8,"translate"),i.Ub(9,"mat-icon",64),i.Yb(),i.Zb(10,"button",65),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.viewDocument(e)}))("mouseenter",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc().viewThumbnail(t)}))("mouseleave",(function(){return i.Hc(n),i.lc(2).closeThumbnail()})),i.Ub(11,"mat-icon",66),i.Yb(),i.Zb(12,"button",61),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc();return t.stopPropagation(),a.goToDetail(e)})),i.mc(13,"translate"),i.Ub(14,"mat-icon",67),i.Yb(),i.Wb()}if(2&t){var a=i.lc().$implicit,r=i.lc(),o=i.Dc(41);i.Eb(1),i.Jb("noData",0==a.countNotes),i.tc("title",i.nc(2,18,"lang.notes")),i.Eb(2),i.tc("matBadgeHidden",0==a.countNotes),i.tc("matBadge",a.countNotes),i.sc("color",o.opened&&a.checked&&"note"==r.currentMode?"primary":""),i.Eb(1),i.Jb("noData",0==a.countAttachments),i.tc("title",i.nc(5,20,"lang.attachments")),i.Eb(2),i.tc("matBadgeHidden",0==a.countAttachments),i.tc("matBadge",a.countAttachments),i.sc("color",o.opened&&a.checked&&"attachment"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",i.nc(8,22,"lang.diffusionList")),i.Eb(2),i.sc("color",o.opened&&a.checked&&"diffusion"==r.currentMode?"primary":""),i.Eb(1),i.tc("title",r.translate.instant(a.hasDocument?"lang.viewResource":"lang.noDocument")),i.sc("disabled",!a.hasDocument),i.Eb(1),i.sc("ngClass",i.zc(26,ru,a.hasDocument?"fa-eye":"fa-eye-slash")),i.Eb(1),i.tc("title",i.nc(13,24,"lang.linkDetails"))}}function su(t,e){if(1&t){var n=i.ac();i.Zb(0,"span",70),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.goToFolder(a)})),i.mc(1,"translate"),i.Ub(2,"i",71),i.Sc(3),i.Yb()}if(2&t){var a=e.$implicit;i.vc("title","",i.nc(1,3,"lang.goToFolder")," : ",a.label,""),i.Eb(3),i.Uc(" ",a.label,"")}}function cu(t,e){if(1&t&&(i.Zb(0,"div",68),i.Qc(1,su,4,5,"span",69),i.mc(2,"sortBy"),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngForOf",i.oc(2,1,n.folders,"label"))}}function lu(t,e){if(1&t){var n=i.ac();i.Zb(0,"td",38),i.Zb(1,"div",39),i.Zb(2,"span",40),i.Zb(3,"mat-checkbox",41),i.hc("change",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().toggleRes(t,a)}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Yb(),i.Yb(),i.Zb(4,"button",42),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.toggleMailTracking(a)})),i.Ub(5,"mat-icon",43),i.Yb(),i.Qc(6,tu,4,3,"span",44),i.Qc(7,iu,3,2,"span",45),i.Zb(8,"span",46),i.Sc(9),i.mc(10,"shorten"),i.Yb(),i.Zb(11,"span",47),i.Qc(12,au,3,3,"div",48),i.Qc(13,ou,15,28,"ng-container",17),i.Yb(),i.Yb(),i.Qc(14,cu,3,4,"div",49),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.Jb("selected-data",a.checked),i.Eb(3),i.sc("checked",a.checked),i.Eb(1),i.sc("title",r.translate.instant(!0===a.mailTracking?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.sc("ngClass",i.zc(18,ru,!0===a.mailTracking?"fas fa-star":"far fa-star")),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.sc("ngIf",!r.appService.getViewMode()),i.Eb(1),i.Jb("undefined",a.subject==r.translate.instant("lang.undefined")),i.tc("title",a.subject),i.Eb(1),i.Tc(i.pc(10,14,a.subject,150,"...")),i.Eb(3),i.sc("ngIf",!a.allowed),i.Eb(1),i.sc("ngIf",a.allowed),i.Eb(1),i.sc("ngIf",void 0!==a.folders&&a.folders.length>0)}}function uu(t,e){1&t&&i.Ub(0,"div",75)}function du(t,e){if(1&t&&(i.Zb(0,"div",76),i.Ub(1,"i",77),i.Ub(2,"br"),i.Sc(3),i.mc(4,"translate"),i.Zb(5,"b"),i.Sc(6),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.classifyInFolder")," : "),i.Eb(3),i.Tc(n.chrono)}}function fu(t,e){if(1&t){var n=i.ac();i.Zb(0,"tr",72),i.hc("contextmenu",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("click",(function(t){i.Hc(n);var a=e.$implicit;return i.lc().open(t,a)}))("cdkDragStarted",(function(){i.Hc(n);var t=e.$implicit;return i.lc().selectSpecificRes(t)})),i.Qc(1,uu,1,0,"div",73),i.Qc(2,du,7,4,"div",74),i.Yb()}if(2&t){var a=e.$implicit;i.Jb("locked",1==a.isLocked),i.sc("cdkDragDisabled",!a.allowed)("cdkDragData",a)}}function hu(t,e){if(1&t&&i.Ub(0,"div",78),2&t){var n=i.lc();i.sc("matTooltip",n.currentChrono)("innerHTML",n.innerHtml,i.Ic)}}var pu,mu=function(){return["doctype","subject"]},gu=function(){return[10,25,50,100,150]},bu=function(t){return{width:t}},vu=((pu=function(){function t(e,n,a,r,o,s,c,l,u,d,f,h,p,m){_classCallCheck(this,t),this.translate=e,this.router=n,this.route=a,this.http=r,this.dialog=o,this.sanitizer=s,this.headerService=c,this.filtersListService=l,this.notify=u,this.overlay=d,this.viewContainerRef=f,this.appService=h,this.foldersService=p,this.functions=m,this.loading=!1,this.docUrl="",this.injectDatasParam={resId:0,editable:!1},this.currentResource={},this.filtersChange=new i.o,this.dragInit=!0,this.displayedColumnsBasket=["resId"],this.displayedMainData=[{value:"chrono",cssClasses:["softColorData","align_centerData","chronoData"],icon:""},{value:"subject",cssClasses:["longData"],icon:""}],this.resultsLength=0,this.isLoadingResults=!0,this.listProperties={},this.currentChrono="",this.currentMode="",this.thumbnailUrl="",this.selectedRes=[],this.allResInBasket=[],this.selectedDiffusionTab=0,this.folderInfo={id:0,label:"",ownerDisplayName:"",entitiesSharing:[]},this.folderInfoOpened=!1,this.destroy$=new Er.Subject,this.currentSelectedChrono=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.sideBarAdmin=!0,this.loading=!1,this.isLoadingResults=!1,this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu"),this.headerService.setHeader(this.translate.instant("lang.searchMails"),"",""),this.appCriteriaTool.getCriterias()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(!0)}},{key:"launchSearch",value:function(t){this.refreshDao()}},{key:"initResultList",value:function(){var t=this;this.resultListDatabase=new yu(this.http,this.filtersListService),this.paginator.pageIndex=this.listProperties.page,this.paginator.pageSize=this.listProperties.pageSize,this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(Mr.merge)(this.sort.sortChange,this.paginator.page,this.filtersChange).pipe(Object(Cr.a)(this.destroy$),Object(xr.a)({}),Object(ct.a)((function(){return t.isLoadingResults=!0,t.resultListDatabase.getRepoIssues(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.basketUrl,t.filtersListService.getUrlFilters(),t.paginator.pageSize)})),Object(wr.a)((function(e){return t.isLoadingResults=!1,e=t.processPostData(e),t.resultsLength=e.countResources,t.allResInBasket=e.allResources,e.resources})),Object(wn.a)((function(e){return t.notify.handleErrors(e),t.router.navigate(["/home"]),t.isLoadingResults=!1,Object(On.of)(!1)}))).subscribe((function(e){return t.data=e}))}},{key:"goTo",value:function(t){this.filtersListService.filterMode=!1,this.docUrl==="../rest/resources/"+t.resId+"/content"&&this.sidenavRight.opened?this.sidenavRight.close():(this.docUrl="../rest/resources/"+t.resId+"/content",this.currentChrono=t.chrono,this.innerHtml=this.sanitizer.bypassSecurityTrustHtml("<iframe style='height:100%;width:100%;' src='"+this.docUrl+"' class='embed-responsive-item'></iframe>"),this.sidenavRight.open())}},{key:"goToDetail",value:function(t){this.router.navigate(["/resources/"+t.resId])}},{key:"goToFolder",value:function(t){this.router.navigate(["/folders/"+t.id])}},{key:"togglePanel",value:function(t,e){e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e),this.currentResource.resId===e.resId&&this.sidenavRight.opened&&this.currentMode===t?this.sidenavRight.close():(this.currentMode=t,this.currentResource=e,this.appPanelList.loadComponent(t,e),this.sidenavRight.open())}},{key:"refreshBadgeNotes",value:function(t){this.currentResource.countNotes=t}},{key:"refreshFolderInformations",value:function(){var t=this;this.http.get("../rest/folders/"+this.folderInfo.id).subscribe((function(e){var n=[{keyword:"ALL_ENTITIES",text:t.translate.instant("lang.allEntities")}];t.folderInfo={id:e.folder.id,label:e.folder.label,ownerDisplayName:e.folder.ownerDisplayName,entitiesSharing:e.folder.sharing.entities.map((function(e){return t.functions.empty(e.label)?n.filter((function(t){return t.keyword===e.keyword}))[0].text:e.label}))},t.headerService.setHeader(t.folderInfo.label,"","fa fa-folder-open")}))}},{key:"refreshBadgeAttachments",value:function(t){this.currentResource.countAttachments=t}},{key:"refreshDao",value:function(){this.paginator.pageIndex=this.listProperties.page,this.filtersChange.emit()}},{key:"refreshDaoAfterAction",value:function(){this.sidenavRight.close(),this.refreshDao(),this.toggleAllRes({checked:!1})}},{key:"viewThumbnail",value:function(t){t.hasDocument&&(this.thumbnailUrl="../rest/resources/"+t.resId+"/thumbnail",$("#viewThumbnail").show(),$("#listContent").css({overflow:"hidden"}))}},{key:"closeThumbnail",value:function(){$("#viewThumbnail").hide(),$("#listContent").css({overflow:"auto"})}},{key:"processPostData",value:function(t){var e=this;return t.resources.forEach((function(t){Object.keys(t).forEach((function(n){"statusImage"===n&&null==t[n]?t[n]="fa-question undefined":null!=t[n]&&""!==t[n]||-1!==["closingDate","countAttachments","countNotes","display","mailTracking","hasDocument"].indexOf(n)||(t[n]=e.translate.instant("lang.undefined"))})),t.checked=-1!==e.selectedRes.indexOf(t.resId)})),t}},{key:"toggleRes",value:function(t,e){if(t.checked)-1===this.selectedRes.indexOf(e.resId)&&(this.selectedRes.push(e.resId),e.checked=!0);else{var n=this.selectedRes.indexOf(e.resId);this.selectedRes.splice(n,1),e.checked=!1}}},{key:"toggleAllRes",value:function(t){this.selectedRes=[],t.checked?(this.data.forEach((function(t){t.checked=!0})),this.selectedRes=JSON.parse(JSON.stringify(this.allResInBasket))):this.data.forEach((function(t){t.checked=!1}))}},{key:"selectSpecificRes",value:function(t){this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},t)}},{key:"open",value:function(t,e){var n=t.x,i=t.y;return!1===e.checked&&(e.checked=!0,this.toggleAllRes({checked:!1}),this.toggleRes({checked:!0},e)),this.actionsList.open(n,i,e),!1}},{key:"listTodrag",value:function(){return this.foldersService.getDragIds()}},{key:"toggleMailTracking",value:function(t){var e=this;t.mailTracking?this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[t.resId]}}).pipe(Object(lt.a)((function(){e.headerService.nbResourcesFollowed--,t.mailTracking=!t.mailTracking})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe():this.http.post("../rest/resources/follow",{resources:[t.resId]}).pipe(Object(lt.a)((function(){e.headerService.nbResourcesFollowed++,t.mailTracking=!t.mailTracking})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"viewDocument",value:function(t){var e=this;this.http.get("../rest/resources/".concat(t.resId,"/content?mode=view"),{responseType:"blob"}).pipe(Object(lt.a)((function(e){var n=new Blob([e],{type:"application/pdf"}),i=URL.createObjectURL(n),a=window.open();a.document.write('<iframe style="width: 100%;height: 100%;margin: 0;padding: 0;" src="'.concat(i,'" frameborder="0" allowfullscreen></iframe>')),a.document.title=t.chrono})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||pu)(i.Tb(l.e),i.Tb(o.c),i.Tb(o.a),i.Tb(u.b),i.Tb(Y.b),i.Tb(An.b),i.Tb(f.a),i.Tb(Ir),i.Tb(h.a),i.Tb(Pr.c),i.Tb(i.R),i.Tb(p.a),i.Tb(Tr.a),i.Tb(ft.a))},pu.\u0275cmp=i.Nb({type:pu,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Zl,!0),i.Oc(Nl,!0),i.Oc(Ul,!0),i.Oc(Bl,!0),i.Oc(zl,!0),i.Oc(yt.a,!0),i.Oc(Vl,!0),i.Oc(Hl,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.actionsList=n.first),i.Cc(n=i.ic())&&(e.appPanelList=n.first),i.Cc(n=i.ic())&&(e.appCriteriaTool=n.first),i.Cc(n=i.ic())&&(e.paginator=n.first),i.Cc(n=i.ic())&&(e.sort=n.first),i.Cc(n=i.ic())&&(e.basketHome=n.first))},decls:51,vars:47,consts:[[1,"maarch-container"],["adminMenuTemplate",""],["id","viewThumbnail",2,"display","none","position","fixed","z-index","2","margin-left","1px"],[2,"max-height","100vh",3,"src"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content"],[2,"width","100%",3,"defaultCriteria","searchUrlGenerated"],["appCriteriaTool",""],[1,"container"],[1,"container-content"],["class","example-loading-shade",4,"ngIf"],[1,"table-head"],[1,"table-head-result"],["color","primary",2,"margin","10px","padding-right","10px",3,"checked","indeterminate","title","change"],[4,"ngIf"],[1,"table-head-tool"],[1,"paginatorResultList",3,"length","pageSizeOptions"],["paginatorResultList",""],[2,"height","90%","overflow","auto","position","absolute","width","100%"],["cdkDropList","","id","folder-list","mat-table","","matSort","","matSortActive","resId","matSortDisableClear","","matSortDirection","asc",2,"width","100%",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDisabled","dataSource"],["tableBasketListSort","matSort"],["matColumnDef","resId"],["mat-cell","","style","padding:0;border-top: solid 1px rgba(0, 0, 0, 0.12);",3,"selected-data",4,"matCellDef"],["mat-row","","class","rowData","style","cursor: pointer;","cdkDrag","",3,"locked","cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted",4,"matRowDef","matRowDefColumns"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],["style","height: 100%;overflow: hidden;",3,"matTooltip","innerHTML",4,"ngIf"],[2,"display","flex","position","sticky","top","0px","z-index","2"],["mat-icon-button","",2,"font-size","20px","color","#666",3,"click"],[1,"fa","fa-arrow-right"],[3,"refreshBadgeNotes","refreshBadgeAttachments"],["appPanelList",""],[3,"contextMode","currentFolderInfo","totalRes","selectedRes","refreshEvent","refreshPanelFolders"],["actionsListContext",""],[1,"example-loading-shade"],["mat-cell","",2,"padding","0","border-top","solid 1px rgba(0, 0, 0, 0.12)"],[1,"main-info"],[2,"width","50px"],["color","primary",3,"checked","change","click"],["mat-icon-button","",1,"followIcon",2,"margin-left","-25px",3,"title","click"],[2,"margin-bottom","5px",3,"ngClass"],["style","cursor:pointer;","class","main-info-status",4,"ngIf"],["class","main-info-data","style","width:200px;text-align:center;cursor:pointer;",4,"ngIf"],[1,"main-info-data",2,"font-weight","bold","flex","1","cursor","pointer",3,"title"],[1,"main-info-action"],["color","warn",4,"ngIf"],["class","folder-info",4,"ngIf"],[1,"main-info-status",2,"cursor","pointer"],["color","primary",3,"title","ngStyle","class",4,"ngIf"],["class","watermark",4,"ngIf"],["style","color: red;","class","fa fa-lock fa-2x",3,"title",4,"ngIf"],["color","primary",3,"title","ngStyle"],[1,"watermark"],[1,"fa","fa-lock","fa-2x",2,"color","red",3,"title"],[1,"main-info-data",2,"width","200px","text-align","center","cursor","pointer"],[2,"color","rgba(0,0,0,0.4)","font-size","90%"],[1,"fas","fa-barcode",3,"title"],["color","warn"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-comments fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-paperclip fa-2x",3,"matBadgeHidden","matBadge","color"],["fontSet","fas","fontIcon","fa-sitemap fa-2x",3,"color"],["mat-icon-button","",3,"title","disabled","click","mouseenter","mouseleave"],[1,"fa",3,"ngClass"],["fontSet","fas","fontIcon","fa-info-circle fa-2x"],[1,"folder-info"],["class","badge badge-folder",3,"title","click",4,"ngFor","ngForOf"],[1,"badge","badge-folder",3,"title","click"],[1,"fa","fa-folder"],["mat-row","","cdkDrag","",1,"rowData",2,"cursor","pointer",3,"cdkDragDisabled","cdkDragData","contextmenu","click","cdkDragStarted"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],["class","dragPreview",4,"cdkDragPreview"],[1,"example-custom-placeholder"],[1,"dragPreview"],[1,"fas","fa-envelope-open-text","fa-2x"],[2,"height","100%","overflow","hidden",3,"matTooltip","innerHTML"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-sidenav-container",0),i.Qc(1,Ql,1,0,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content"),i.Zb(4,"mat-card",2),i.Ub(5,"img",3),i.mc(6,"async"),i.mc(7,"secureUrl"),i.Yb(),i.Zb(8,"div",4),i.Zb(9,"div",5),i.Zb(10,"div",6),i.Ub(11,"header-left"),i.Yb(),i.Zb(12,"div",7),i.Ub(13,"header-right"),i.Yb(),i.Yb(),i.Zb(14,"div",8),i.Zb(15,"app-criteria-tool",9,10),i.hc("searchUrlGenerated",(function(t){return e.launchSearch(t)})),i.Yb(),i.Yb(),i.Yb(),i.Zb(17,"div",11),i.Zb(18,"div",12),i.Qc(19,Gl,2,1,"div",13),i.Zb(20,"div",14),i.Zb(21,"div",15),i.Zb(22,"mat-checkbox",16),i.hc("change",(function(t){return e.toggleAllRes(t)})),i.mc(23,"translate"),i.Yb(),i.Sc(24),i.mc(25,"ucfirst"),i.mc(26,"translate"),i.Qc(27,ql,3,4,"small",17),i.Yb(),i.Zb(28,"div",18),i.Zb(29,"span"),i.Ub(30,"mat-paginator",19,20),i.Yb(),i.Ub(32,"span"),i.Yb(),i.Yb(),i.Zb(33,"div",21),i.Zb(34,"table",22,23),i.Xb(36,24),i.Qc(37,lu,15,20,"td",25),i.Wb(),i.Qc(38,fu,3,4,"tr",26),i.Yb(),i.Yb(),i.Ub(39,"div",14),i.Yb(),i.Yb(),i.Yb(),i.Zb(40,"mat-sidenav",27,28),i.Qc(42,hu,1,2,"div",29),i.Zb(43,"div",30),i.Zb(44,"button",31),i.hc("click",(function(){return i.Hc(n),i.Dc(41).close()})),i.Ub(45,"mat-icon",32),i.Yb(),i.Yb(),i.Zb(46,"app-panel-list",33,34),i.hc("refreshBadgeNotes",(function(t){return e.refreshBadgeNotes(t)}))("refreshBadgeAttachments",(function(t){return e.refreshBadgeAttachments(t)})),i.Yb(),i.Ub(48,"mat-divider"),i.Yb(),i.Yb(),i.Zb(49,"app-folder-action-list",35,36),i.hc("refreshEvent",(function(){return e.refreshDaoAfterAction()}))("refreshPanelFolders",(function(){return e.foldersService.getFolders()})),i.Yb()}2&t&&(i.Eb(5),i.sc("src",i.nc(6,33,i.nc(7,35,e.thumbnailUrl)),i.Kc),i.Eb(4),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(1),i.sc("defaultCriteria",i.yc(43,mu)),i.Eb(2),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",e.isLoadingResults),i.Eb(3),i.tc("title",i.nc(23,37,"lang.selectAllResInBasket")),i.sc("checked",e.selectedRes.length==e.allResInBasket.length&&e.selectedRes.length>0)("indeterminate",e.selectedRes.length>0&&e.selectedRes.length<e.allResInBasket.length),i.Eb(2),i.Vc("\xa0",e.resultsLength," ",i.nc(25,39,i.nc(26,41,"lang.records")),"\xa0"),i.Eb(3),i.sc("ngIf",e.selectedRes.length>0),i.Eb(3),i.sc("length",e.resultsLength)("pageSizeOptions",i.yc(44,gu)),i.Eb(4),i.sc("cdkDropListConnectedTo",e.listTodrag())("cdkDropListData",e.data)("cdkDropListDisabled",e.dragInit||e.appService.getViewMode())("dataSource",e.data),i.Eb(4),i.sc("matRowDefColumns",e.displayedColumnsBasket),i.Eb(2),i.Jb("docView",e.innerHtml),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(45,bu,e.appService.getViewMode()?"80%":"30%")),i.Eb(2),i.sc("ngIf",e.innerHtml),i.Eb(7),i.sc("contextMode",!0)("currentFolderInfo",e.folderInfo)("totalRes",e.allResInBasket.length)("selectedRes",e.selectedRes))},directives:[v.e,v.f,Z.a,ht.a,pt.a,Rl.a,y.t,C.a,yt.a,dt.n,po.e,_t.a,dt.c,dt.b,dt.m,v.d,y.w,g.b,b.a,Mo,O.a,ss.a,Yl,_.c,dt.a,y.q,Vn.a,y.s,dt.l,po.a,po.c,po.d,x.b],pipes:[y.b,xt.a,l.d,Dr.u,Dr.p,no.a],styles:[".bg-head-content[_ngcontent-%COMP%]{flex-direction:column}.dragPreview[_ngcontent-%COMP%]{text-align:center;border-radius:5px;background:#fff;padding:10px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);color:#135f7f}.banner-opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;background:#1a80ab;width:100%}.banner-opened[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.banner-opened[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:16px}.banner-opened[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex:1;padding-left:20px;padding-right:20px}.banner-opened[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .private[_ngcontent-%COMP%]{font-style:italic;display:flex;justify-content:flex-end;align-items:center}.banner-closed[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;position:relative;width:100%}.banner-closed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.followIcon[_ngcontent-%COMP%]{color:#f99830}.folder-info[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.badge-folder[_ngcontent-%COMP%]{cursor:pointer;background:#f99830;margin:5px;font-size:12px;border-radius:3px;opacity:.8;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),pu),yu=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.filtersListService=n}return _createClass(t,[{key:"getRepoIssues",value:function(t,e,n,i,a,r){return this.filtersListService.updateListsPropertiesPage(n),this.filtersListService.updateListsPropertiesPageSize(r),this.http.get("".concat(i,"?limit=").concat(r,"&offset=").concat(n*r).concat(a))}}]),t}(),_u=n("Nqwj");function ku(t,e){1&t&&(i.Zb(0,"div",11),i.Ub(1,"mat-spinner",12),i.Yb())}function Cu(t,e){1&t&&i.Ub(0,"mat-spinner")}function xu(t,e){if(1&t&&(i.Zb(0,"div",20),i.Qc(1,Cu,1,0,"mat-spinner",21),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngIf",n.isLoadingResults)}}function wu(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-expansion-panel",22),i.Zb(1,"mat-expansion-panel-header"),i.Zb(2,"mat-panel-title",23),i.Zb(3,"mat-checkbox",24),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc(2).mainDocument=t})),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.sc("title",a.mainDocumentInformation.canConvert?"":"Aucune version pdf trouv\xe9!"),i.Eb(3),i.sc("ngModel",a.mainDocument)("disabled",!a.mainDocumentInformation.canConvert),i.Eb(1),i.Uc("",i.nc(5,4,"lang.mainDocument")," ")}}function Ou(t,e){if(1&t&&(i.Zb(0,"div",36),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.chronoMaster," ")}}function Su(t,e){if(1&t&&(i.Zb(0,"div",36),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.chrono," ")}}function Eu(t,e){if(1&t&&(i.Zb(0,"div",37),i.Sc(1),i.mc(2,"ucfirst"),i.mc(3,"translate"),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Vc(" ",i.nc(2,2,i.nc(3,4,"lang.for"))," : ",n.recipients," ")}}function Mu(t,e){if(1&t&&(i.Zb(0,"div",36),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.creator," ")}}function Iu(t,e){if(1&t&&(i.Zb(0,"div",38),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.type," ")}}function Pu(t,e){if(1&t&&(i.Zb(0,"div",40),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.attachment_"+n.status)," ")}}function Tu(t,e){if(1&t&&(i.Zb(0,"div"),i.Qc(1,Pu,3,3,"div",39),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("ngIf","SIGN"===n.status)}}function Au(t,e){if(1&t&&(i.Zb(0,"mat-list-option",30),i.Zb(1,"div"),i.Qc(2,Ou,2,1,"div",31),i.Qc(3,Su,2,1,"div",31),i.Qc(4,Eu,4,6,"div",32),i.Qc(5,Mu,2,1,"div",31),i.Ub(6,"div",33),i.mc(7,"shorten"),i.Qc(8,Iu,2,1,"div",34),i.Qc(9,Tu,2,1,"div",21),i.Zb(10,"div",35),i.mc(11,"fullDate"),i.Sc(12),i.mc(13,"date"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc(2).$implicit,r=i.lc(2);i.Jb("disabled",!n.canConvert),i.sc("title",n.canConvert?"":"Aucune version pdf trouv\xe9!")("disabled",!n.canConvert)("value",n.id),i.Eb(1),i.Hb("printedFolderElement-item ",a.key,""),i.Eb(1),i.sc("ngIf",!r.functions.empty(n.chronoMaster)),i.Eb(1),i.sc("ngIf",!r.functions.empty(n.chrono)),i.Eb(1),i.sc("ngIf",!r.functions.empty(n.recipients)),i.Eb(1),i.sc("ngIf",!r.functions.empty(n.creator)),i.Eb(1),i.sc("title",n.label)("innerHTML",i.pc(7,19,n.label,150,"..."),i.Ic),i.Eb(2),i.sc("ngIf",!r.functions.empty(n.type)),i.Eb(1),i.sc("ngIf",!r.functions.empty(n.status)),i.Eb(1),i.sc("title",i.nc(11,23,n.creationDate)),i.Eb(2),i.Vc(" ",n.creationDate," ",i.oc(13,25,n.creationDate,"dd/MM/y HH:mm")," ")}}function Du(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",26),i.Zb(1,"mat-expansion-panel"),i.Zb(2,"mat-expansion-panel-header"),i.Zb(3,"mat-panel-title",23),i.Zb(4,"mat-checkbox",27),i.hc("change",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc(2);return t?a.toggleAllElements(t.checked,e.key):null}))("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(7,"mat-selection-list",28),i.Qc(8,Au,14,28,"mat-list-option",29),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(2);i.Eb(4),i.sc("checked",r.selectedPrintedFolderElement[a.key].value.length>0&&r.selectedPrintedFolderElement[a.key].value.length===r.printedFolderElement[a.key].length)("indeterminate",r.selectedPrintedFolderElement[a.key].value.length>0&&r.selectedPrintedFolderElement[a.key].value.length!==r.printedFolderElement[a.key].length),i.Eb(1),i.Uc("",i.nc(6,5,"lang."+a.key)," "),i.Eb(2),i.sc("formControl",r.selectedPrintedFolderElement[a.key]),i.Eb(1),i.sc("ngForOf",r.printedFolderElement[a.key])}}function Ru(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Du,9,7,"div",25),i.Wb()),2&t){var n=e.$implicit,a=i.lc(2);i.Eb(1),i.sc("ngIf",a.printedFolderElement[n.key].length>0)}}function Lu(t,e){if(1&t){var n=i.ac();i.Qc(0,xu,2,1,"div",13),i.Zb(1,"div",14),i.Zb(2,"mat-slide-toggle",15),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().summarySheet=t}))("change",(function(t){i.Hc(n);var e=i.lc();return!!t.checked&&e.openSummarySheet()})),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Yb(),i.Zb(5,"div",14),i.Zb(6,"mat-slide-toggle",16),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().withSeparator=t})),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Zb(9,"div",17),i.Qc(10,wu,6,6,"mat-expansion-panel",18),i.Qc(11,Ru,2,1,"ng-container",19),i.mc(12,"keyvalue"),i.Yb()}if(2&t){var a=i.lc();i.sc("ngIf",a.isLoadingResults),i.Eb(2),i.sc("ngModel",a.summarySheet),i.Eb(1),i.Uc("",i.nc(4,7,"lang.attachSummarySheet")," "),i.Eb(3),i.sc("ngModel",a.withSeparator),i.Eb(1),i.Uc("",i.nc(8,9,"lang.generateSeparators")," "),i.Eb(3),i.sc("ngIf",null!==a.mainDocumentInformation.format),i.Eb(1),i.sc("ngForOf",i.nc(12,11,a.printedFolderElement))}}var Fu,ju=((Fu=function(){function t(e,n,i,a,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.data=a,this.dialogRef=r,this.functions=o,this.sortPipe=s,this.dialog=c,this.loading=!0,this.document=[],this.mainDocument=!1,this.summarySheet=!1,this.withSeparator=!1,this.isLoadingResults=!1,this.mainDocumentInformation={},this.printedFolderElement={attachments:[],notes:[],emails:[],acknowledgementReceipts:[],linkedResources:[],linkedResourcesAttachments:[]},this.selectedPrintedFolderElement={}}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.keys(this.printedFolderElement).forEach((function(t){e.selectedPrintedFolderElement[t]=new j.h({value:[],disabled:!1})})),this.getMainDocInfo(),this.getAttachments(),this.getEmails(),this.getAcknowledgementReceips(),this.getNotes(),t.next=8,this.getLinkedResources();case 8:this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getMainDocInfo",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/fileInformation")).pipe(Object(wr.a)((function(e){return Object.assign(Object.assign({},e.information),{id:t.data.resId})})),Object(lt.a)((function(n){t.mainDocumentInformation=n,e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getAttachments",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/"+t.data.resId+"/attachments").pipe(Object(wr.a)((function(e){return e.attachments=e.attachments.map((function(e){return{id:e.resId,label:e.title,chrono:t.functions.empty(e.chrono)?t.translate.instant("lang.undefined"):e.chrono,type:e.typeLabel,creationDate:e.creationDate,canConvert:e.canConvert,status:e.status}})),e.attachments})),Object(lt.a)((function(n){t.printedFolderElement.attachments=t.sortPipe.transform(n,"chrono"),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getLinkedResources",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/linkedResources")).pipe(Object(lt.a)((function(n){return Object(xn.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.linkedResources.length)){t.next=8;break}return this.printedFolderElement.linkedResources.push({id:n.linkedResources[i].resId,label:n.linkedResources[i].subject,chrono:this.functions.empty(n.linkedResources[i].chrono)?this.translate.instant("lang.undefined"):n.linkedResources[i].chrono,creationDate:n.linkedResources[i].documentDate,canConvert:n.linkedResources[i].canConvert}),t.next=5,this.getLinkedAttachments(n.linkedResources[i]);case 5:i++,t.next=1;break;case 8:e(!0);case 9:case"end":return t.stop()}}),t,this)})))})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getLinkedAttachments",value:function(t){var e=this;return new Promise((function(n){e.http.get("../rest/resources/".concat(t.resId,"/attachments")).pipe(Object(wr.a)((function(n){return n.attachments=n.attachments.map((function(n){return{id:n.resId,label:n.title,resIdMaster:t.resId,chronoMaster:t.chrono,chrono:e.functions.empty(n.chrono)?e.translate.instant("lang.undefined"):n.chrono,type:n.typeLabel,creationDate:n.creationDate,canConvert:n.canConvert,status:n.status}})),n.attachments})),Object(lt.a)((function(t){e.printedFolderElement.linkedResourcesAttachments=e.printedFolderElement.linkedResourcesAttachments.concat(e.sortPipe.transform(t,"chronoMaster")),n(!0)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),n(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getEmails",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/emails?type=email")).pipe(Object(wr.a)((function(e){return e.emails=e.emails.map((function(e){return{id:e.id,recipients:e.recipients,creationDate:e.creation_date,label:t.functions.empty(e.object)?"<i>".concat(t.translate.instant("lang.emptySubject"),"<i>"):e.object,canConvert:!0}})),e.emails})),Object(lt.a)((function(n){t.printedFolderElement.emails=t.sortPipe.transform(n,"creationDate"),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getNotes",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/notes")).pipe(Object(wr.a)((function(t){return t.notes=t.notes.map((function(t){return{id:t.id,creator:"".concat(t.firstname," ").concat(t.lastname),creationDate:t.creation_date,label:t.value,canConvert:!0}})),t.notes})),Object(lt.a)((function(n){t.printedFolderElement.notes=t.sortPipe.transform(n,"creationDate"),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getAcknowledgementReceips",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/acknowledgementReceipts?type=ar")).pipe(Object(wr.a)((function(e){return e.map((function(e){var n,i;return n=t.functions.empty(e.contact.email)?t.translate.instant("lang.contactDeleted"):e.contact.email,i=t.functions.empty(e.contact.firstname)||t.functions.empty(e.contact.lastname)?t.translate.instant("lang.contactDeleted"):"".concat(e.contact.firstname," ").concat(e.contact.lastname),{id:e.id,sender:!1,recipients:"html"===e.format?n:i,creationDate:e.creationDate,label:t.translate.instant("html"===e.format?"lang.ARelectronic":"lang.ARPaper"),canConvert:!0}}))})),Object(lt.a)((function(n){t.printedFolderElement.acknowledgementReceipts=t.sortPipe.transform(n,"creationDate"),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"toggleAllElements",value:function(t,e){this.selectedPrintedFolderElement[e].setValue(t?this.printedFolderElement[e].filter((function(t){return t.canConvert})).map((function(t){return t.id})):[])}},{key:"onSubmit",value:function(){var t=this;this.isLoadingResults=!0,this.http.post("../rest/resources/folderPrint",this.formatPrintedFolder(),{responseType:"blob"}).pipe(Object(lt.a)((function(t){var e,n,i,a,r=document.createElement("a");r.href=window.URL.createObjectURL(t),n=(e=new Date).getDate(),i=e.getMonth()+1,a=e.getFullYear(),n<10&&(n="0"+n),i<10&&(i="0"+i),e=n+"-"+i+"-"+a,r.setAttribute("download","export_maarch_"+e+".pdf"),document.body.appendChild(r),r.click()})),Object(Ln.a)((function(){return t.isLoadingResults=!1})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"formatPrintedFolder",value:function(){var t=this,e={withSeparator:this.withSeparator,summarySheet:this.summarySheet,resources:[]},n={resId:this.data.resId,document:this.mainDocument};return Object.keys(this.printedFolderElement).forEach((function(e){n[e]=t.selectedPrintedFolderElement[e].value.length===t.printedFolderElement[e].length?"ALL":t.selectedPrintedFolderElement[e].value})),e.resources.push(n),e}},{key:"openSummarySheet",value:function(){var t=this;this.dialog.open(gc,{panelClass:"maarch-full-height-modal",width:"800px",data:{paramMode:!0}}).afterClosed().pipe(Object(lt.a)((function(e){t.summarySheet=e})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"isEmptySelection",value:function(){var t=this,e=!0;return Object.keys(this.printedFolderElement).forEach((function(n){t.selectedPrintedFolderElement[n].value.length>0&&(e=!1)})),(this.summarySheet||this.mainDocument)&&(e=!1),e}}]),t}()).\u0275fac=function(t){return new(t||Fu)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.a),i.Tb(Y.h),i.Tb(ft.a),i.Tb(no.a),i.Tb(Y.b))},Fu.\u0275cmp=i.Nb({type:Fu,selectors:[["ng-component"]],features:[i.Db([no.a])],decls:16,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[2,"padding-bottom","10px"],["class","loading",4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"loading"],[2,"margin","auto"],["class","example-loading-shade",4,"ngIf"],[2,"padding","10px"],["color","primary",3,"ngModel","ngModelChange","change"],["color","primary",3,"ngModel","ngModelChange"],[1,"printedFolderContainer"],["hideToggle","","disabled","",3,"title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"example-loading-shade"],[4,"ngIf"],["hideToggle","","disabled","",3,"title"],[2,"color","#135f7f","font-weight","bold"],["color","primary","disableRipple","",3,"ngModel","disabled","ngModelChange"],["class","printedFolderElement",4,"ngIf"],[1,"printedFolderElement"],["color","primary","disableRipple","",3,"checked","indeterminate","change","click"],["color","primary",1,"printedFolderElement-content",3,"formControl"],["class","printedFolderElement-option","checkboxPosition","before",3,"title","disabled","value",4,"ngFor","ngForOf"],["checkboxPosition","before",1,"printedFolderElement-option",3,"title","disabled","value"],["color","primary","style","flex:1;font-size: 80%;padding-right: 10px;",4,"ngIf"],["color","primary","style","flex:1;display: flex;font-size: 80%;white-space: pre;padding-right: 10px;",4,"ngIf"],[2,"flex","2","padding-right","10px",3,"title","innerHTML"],["color","primary","style","flex:1;font-size: 80%;white-space: pre;padding-right: 10px;",4,"ngIf"],["color","primary",2,"flex","1","justify-content","flex-end","display","flex","font-size","80%",3,"title"],["color","primary",2,"flex","1","font-size","80%","padding-right","10px"],["color","primary",2,"flex","1","display","flex","font-size","80%","white-space","pre","padding-right","10px"],["color","primary",2,"flex","1","font-size","80%","white-space","pre","padding-right","10px"],["style","color: green",4,"ngIf"],[2,"color","green"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"button",3),i.hc("click",(function(){return e.dialogRef.close()})),i.Ub(6,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(7,"mat-dialog-content",5),i.Qc(8,ku,2,0,"div",6),i.Qc(9,Lu,13,13,"ng-template",null,7,i.Rc),i.Yb(),i.Ub(11,"span",8),i.Zb(12,"div",9),i.Zb(13,"button",10),i.hc("click",(function(){return e.onSubmit()})),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.Dc(10);i.Eb(3),i.Uc(" ",i.nc(4,6,"lang.generateAndDownloadPrintedFolder")," "),i.Eb(2),i.sc("title",e.translate.instant("lang.close")),i.Eb(3),i.sc("ngIf",e.loading)("ngIfElse",n),i.Eb(5),i.sc("disabled",e.isLoadingResults||e.isEmptySelection()),i.Eb(1),i.Tc(i.nc(15,8,"lang.validate"))}},directives:[Y.i,g.b,b.a,Y.f,y.t,Y.c,_.c,vt.a,j.t,j.w,y.s,ut.c,ut.g,ut.h,C.a,k.i,j.i,k.f],pipes:[l.d,y.l,Dr.p,wc.a,y.f,Dr.u],styles:[".mat-dialog-title[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center}.modal-container[_ngcontent-%COMP%]{min-height:250px;height:auto;padding-bottom:5px}.modal-body[_ngcontent-%COMP%]{min-height:auto}.loading[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:10px;top:0;left:0}.printedFolderElement-title[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:-10px;padding:10px;font-size:20px;font-weight:700;color:#135f7f;background:#fff;z-index:1}.printedFolderElement-option[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.printedFolderElement-item[_ngcontent-%COMP%]{font-size:14px!important;align-items:center;display:grid;grid-template-columns:1fr 2fr 1fr;grid-gap:20px}.attachments[_ngcontent-%COMP%]{grid-template-columns:1fr 2fr 1fr 1fr 1fr}.linkedResourcesAttachments[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 2fr 1fr 1fr 1fr}.printedFolderContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:20px}.mat-expansion-panel-header[aria-disabled=true][_ngcontent-%COMP%]{color:initial!important}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}"]}),Fu),Yu=n("LRne");function Zu(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function Nu(t,e){if(1&t&&(i.Zb(0,"div",8),i.Zb(1,"div",9),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Zb(5,"div",10),i.Sc(6),i.mc(7,"shorten"),i.Yb(),i.Zb(8,"div",11),i.Sc(9),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("title",i.nc(2,4,n.event_date)),i.Eb(2),i.Uc(" ",i.nc(4,6,n.event_date)," "),i.Eb(3),i.Uc(" ",i.pc(7,8,n.info,110,"...")," "),i.Eb(3),i.Uc(" ",n.userLabel," ")}}function Uu(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",12),i.hc("click",(function(){return i.Hc(n),i.lc(3).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function Bu(t,e){1&t&&(i.Zb(0,"div",13),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noEvent")," "))}function zu(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Nu,10,12,"div",5),i.Qc(2,Uu,3,3,"button",6),i.Qc(3,Bu,3,3,"div",7),i.Wb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngForOf",n.histories),i.Eb(1),i.sc("ngIf",3===n.histories.length),i.Eb(1),i.sc("ngIf",0===n.histories.length)}}function Vu(t,e){1&t&&(i.Zb(0,"div",13),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.historyDisabled")," "))}function Hu(t,e){if(1&t&&(i.Qc(0,zu,4,3,"ng-container",0),i.Qc(1,Vu,3,3,"ng-template",null,4,i.Rc)),2&t){var n=i.Dc(2),a=i.lc();i.sc("ngIf",!a.disabledHistory)("ngIfElse",n)}}var Qu,Wu=((Qu=function(){function t(e,n,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.privilegeService=r,this.loading=!0,this.disabledHistory=!0,this.histories=[],this.resId=null,this.goTo=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.privilegeService.hasCurrentUserPrivilege("view_full_history")||this.privilegeService.hasCurrentUserPrivilege("view_doc_history")?(this.disabledHistory=!1,this.loadHistory(this.resId)):this.loading=!1}},{key:"loadHistory",value:function(t){var e=this;this.loading=!0,this.http.get("../rest/history?resId=".concat(t,"&limit=3&onlyActions=true")).pipe(Object(lt.a)((function(t){e.histories=t.history})),Object(Ln.a)((function(){return e.loading=!1})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(Yu.a)(!1)}))).subscribe()}},{key:"showMore",value:function(){this.goTo.emit()}}]),t}()).\u0275fac=function(t){return new(t||Qu)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Gi.a))},Qu.\u0275cmp=i.Nb({type:Qu,selectors:[["app-history-workflow-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["noPrivilegeTemplate",""],["class","historyList",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"historyList"],[1,"date",3,"title"],[1,"info"],[1,"date"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,Zu,3,0,"ng-container",0),i.Qc(1,Hu,3,2,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[y.t,_.c,y.s,g.b],pipes:[wc.a,Hn.a,Dr.p,l.d],styles:[".historyList[_ngcontent-%COMP%]{font-size:13px;width:100%;display:grid;grid-template-columns:15% 70% 15%;align-items:center}.historyList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}"]}),Qu);function Gu(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function qu(t,e){if(1&t&&(i.Zb(0,"div",7),i.Zb(1,"div",8),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Zb(5,"div",9),i.Sc(6),i.mc(7,"shorten"),i.Yb(),i.Zb(8,"div",10),i.Sc(9),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("title",i.nc(2,6,n.creation_date)),i.Eb(2),i.Uc(" ",i.nc(4,8,n.creation_date)," "),i.Eb(2),i.sc("title",n.value),i.Eb(1),i.Uc(" ",i.pc(7,10,n.value,110,"...")," "),i.Eb(3),i.Vc(" ",n.firstname," ",n.lastname," ")}}function Xu(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",11),i.hc("click",(function(){return i.Hc(n),i.lc(2).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function $u(t,e){1&t&&(i.Zb(0,"div",12),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noNote")," "))}function Ju(t,e){if(1&t&&(i.Qc(0,qu,10,14,"div",4),i.Qc(1,Xu,3,3,"button",5),i.Qc(2,$u,3,3,"div",6)),2&t){var n=i.lc();i.sc("ngForOf",n.notes),i.Eb(1),i.sc("ngIf",3===n.notes.length),i.Eb(1),i.sc("ngIf",0===n.notes.length)}}var Ku,td=((Ku=function(){function t(e,n,a){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.loading=!0,this.notes=[],this.resId=null,this.goTo=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.loadNotes(this.resId)}},{key:"loadNotes",value:function(t){var e=this;this.loading=!0,this.http.get("../rest/resources/".concat(t,"/notes?limit=3")).pipe(Object(lt.a)((function(t){e.notes=t.notes})),Object(Ln.a)((function(){return e.loading=!1})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(Yu.a)(!1)}))).subscribe()}},{key:"showMore",value:function(){this.goTo.emit()}}]),t}()).\u0275fac=function(t){return new(t||Ku)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a))},Ku.\u0275cmp=i.Nb({type:Ku,selectors:[["app-note-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["class","noteList",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"noteList"],[1,"date",3,"title"],[1,"info",3,"title"],[1,"date"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,Gu,3,0,"ng-container",0),i.Qc(1,Ju,3,3,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[y.t,_.c,y.s,g.b],pipes:[wc.a,Hn.a,Dr.p,l.d],styles:[".noteList[_ngcontent-%COMP%]{font-size:13px;width:100%;display:grid;grid-template-columns:15% 70% 15%;align-items:center}.noteList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}"]}),Ku);function ed(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function nd(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",10),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Wb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("title",i.nc(2,2,n.modificationDate)),i.Eb(2),i.Uc(" ",i.nc(4,4,n.modificationDate)," ")}}function id(t,e){if(1&t&&(i.Zb(0,"div",10),i.mc(1,"fullDate"),i.Sc(2),i.mc(3,"timeAgo"),i.Yb()),2&t){var n=i.lc().$implicit;i.sc("title",i.nc(1,2,n.creationDate)),i.Eb(2),i.Uc(" ",i.nc(3,4,n.creationDate)," ")}}function ad(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",7),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).showAttachment(t)})),i.Qc(1,nd,5,6,"ng-container",0),i.Qc(2,id,4,6,"ng-template",null,1,i.Rc),i.Zb(4,"div",8),i.Sc(5),i.mc(6,"shorten"),i.Yb(),i.Zb(7,"div",9),i.Sc(8),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.Dc(3);i.Eb(1),i.sc("ngIf",null!==a.modificationDate)("ngIfElse",r),i.Eb(4),i.Uc(" ",i.pc(6,4,a.title,110,"...")," "),i.Eb(3),i.Uc(" ",a.typeLabel," ")}}function rd(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",11),i.hc("click",(function(){return i.Hc(n),i.lc(2).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function od(t,e){1&t&&(i.Zb(0,"div",12),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAttachment")," "))}function sd(t,e){if(1&t&&(i.Qc(0,ad,9,8,"div",4),i.Qc(1,rd,3,3,"button",5),i.Qc(2,od,3,3,"div",6)),2&t){var n=i.lc();i.sc("ngForOf",n.attachments),i.Eb(1),i.sc("ngIf",3===n.attachments.length),i.Eb(1),i.sc("ngIf",0===n.attachments.length)}}var cd,ld=((cd=function(){function t(e,n,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.loading=!0,this.attachments=[],this.resId=null,this.goTo=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.loadAttachments(this.resId)}},{key:"loadAttachments",value:function(t){var e=this;this.loading=!0,this.http.get("../rest/resources/".concat(t,"/attachments?limit=3")).pipe(Object(lt.a)((function(t){e.attachments=t.attachments})),Object(Ln.a)((function(){return e.loading=!1})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(Yu.a)(!1)}))).subscribe()}},{key:"showAttachment",value:function(t){var e=this;this.dialogRef=this.dialog.open(Wi.a,{height:"99vh",width:"99vw",disableClose:!0,panelClass:"modal-container",data:{resId:t.resId}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"success"===t})),Object(lt.a)((function(){e.loadAttachments(e.resId)})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(Yu.a)(!1)}))).subscribe()}},{key:"showMore",value:function(){this.goTo.emit()}}]),t}()).\u0275fac=function(t){return new(t||cd)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.b))},cd.\u0275cmp=i.Nb({type:cd,selectors:[["app-attachments-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["class","attachmentsList",3,"click",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"attachmentsList",3,"click"],[1,"info"],[1,"attachmentType"],[1,"date",3,"title"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,ed,3,0,"ng-container",0),i.Qc(1,sd,3,3,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[y.t,_.c,y.s,g.b],pipes:[Dr.p,wc.a,Hn.a,l.d],styles:[".attachmentsList[_ngcontent-%COMP%]{cursor:pointer;font-size:13px;width:100%;display:grid;grid-template-columns:15% 65% 20%;align-items:center}.attachmentsList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.attachmentType[_ngcontent-%COMP%]{font-size:10px;color:#135f7f}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}"]}),cd);function ud(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner",3),i.Yb(),i.Wb())}function dd(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",10),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Wb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.sc("title",i.nc(2,2,n.send_date)),i.Eb(2),i.Uc(" ",i.nc(4,4,n.send_date)," ")}}function fd(t,e){if(1&t&&(i.Zb(0,"div",12),i.mc(1,"fullDate"),i.Sc(2),i.mc(3,"translate"),i.Yb()),2&t){var n=i.lc(2).$implicit;i.sc("title",i.nc(1,2,n.send_date)),i.Eb(2),i.Uc(" ",i.nc(3,4,"lang.sendError")," ")}}function hd(t,e){if(1&t&&i.Qc(0,fd,4,6,"div",11),2&t){var n=i.lc().$implicit;i.sc("ngIf","ERROR"===n.status)}}function pd(t,e){if(1&t&&(i.Zb(0,"div",7),i.Qc(1,dd,5,6,"ng-container",0),i.Qc(2,hd,1,1,"ng-template",null,1,i.Rc),i.Ub(4,"div",8),i.mc(5,"shorten"),i.Zb(6,"div",9),i.Sc(7),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.Dc(3);i.Eb(1),i.sc("ngIf","SENT"===n.status)("ngIfElse",a),i.Eb(3),i.Jb("arType","aknowledgement_receipt"===n.type),i.sc("innerHTML",i.pc(5,6,n.object,110,"..."),i.Ic),i.Eb(3),i.Uc(" ",n.userInfo," ")}}function md(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",13),i.hc("click",(function(){return i.Hc(n),i.lc(2).showMore()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.showMore")))}function gd(t,e){1&t&&(i.Zb(0,"div",14),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noSendmail")," "))}function bd(t,e){if(1&t&&(i.Qc(0,pd,8,10,"div",4),i.Qc(1,md,3,3,"button",5),i.Qc(2,gd,3,3,"div",6)),2&t){var n=i.lc();i.sc("ngForOf",n.mails),i.Eb(1),i.sc("ngIf",3===n.mails.length),i.Eb(1),i.sc("ngIf",0===n.mails.length)}}var vd,yd=((vd=function(){function t(e,n,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.functions=r,this.loading=!0,this.mails=[],this.resId=null,this.goTo=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){this.loading=!0,this.loadMails(this.resId)}},{key:"loadMails",value:function(t){var e=this;this.loading=!0,this.http.get("../rest/externalSummary/".concat(t,"?limit=3")).pipe(Object(wr.a)((function(t){return t.elementsSend=t.elementsSend.map((function(t){var n=t.object,i=t.type;return"aknowledgement_receipt"==t.type&&e.functions.empty(t.object)?(n=e.translate.instant("lang.ARPaper"),i="aknowledgement_receipt"):"aknowledgement_receipt"==t.type&&t.object.startsWith("[AR]")&&(n=e.translate.instant("lang.ARelectronic"),i="aknowledgement_receipt"),{object:e.functions.empty(n)?"<i>".concat(e.translate.instant("lang.emptySubject"),"<i>"):n,send_date:t.send_date,status:t.status,userInfo:t.userInfo,type:i}})),t})),Object(lt.a)((function(t){e.mails=t.elementsSend})),Object(Ln.a)((function(){return e.loading=!1})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(Yu.a)(!1)}))).subscribe()}},{key:"showMore",value:function(){this.goTo.emit()}}]),t}()).\u0275fac=function(t){return new(t||vd)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(ft.a))},vd.\u0275cmp=i.Nb({type:vd,selectors:[["app-mail-resume"]],inputs:{resId:"resId"},outputs:{goTo:"goTo"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"loading"],["diameter","35"],["class","mailList",4,"ngFor","ngForOf"],["mat-button","","class","showMore",3,"click",4,"ngIf"],["class","noData",4,"ngIf"],[1,"mailList"],[1,"info",3,"innerHTML"],[1,"date"],[1,"date",3,"title"],["class","error",3,"title",4,"ngIf"],[1,"error",3,"title"],["mat-button","",1,"showMore",3,"click"],[1,"noData"]],template:function(t,e){if(1&t&&(i.Qc(0,ud,3,0,"ng-container",0),i.Qc(1,bd,3,3,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[y.t,_.c,y.s,g.b],pipes:[Dr.p,wc.a,Hn.a,l.d],styles:[".mailList[_ngcontent-%COMP%]{font-size:13px;width:100%;display:grid;grid-template-columns:15% 70% 15%;align-items:center}.mailList[_ngcontent-%COMP%]:nth-child(2n){background:rgba(19,95,127,.1)}.date[_ngcontent-%COMP%]{color:#135f7f}.date[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{padding:5px}.noData[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:700;opacity:.3}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%}.showMore[_ngcontent-%COMP%]{float:right;font-size:10px;position:absolute;right:10px;margin-top:-2px;padding:0;line-height:20px;width:35px;color:#f99830;font-weight:700}.error[_ngcontent-%COMP%]{padding:5px;color:#8e3e52}.arType[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{font-style:italic}.arType[_ngcontent-%COMP%]{color:#666}"]}),vd),_d=n("FtGj"),kd=n("A5z7"),Cd=n("fBaO"),xd=["recipientsField"],wd=["copiesField"],Od=["invisibleCopiesField"];function Sd(t,e){1&t&&(i.Zb(0,"div",32),i.Ub(1,"mat-spinner",33),i.Yb())}function Ed(t,e){if(1&t&&i.Ub(0,"input",34),2&t){var n=i.lc();i.sc("value",n.currentSender.email)}}function Md(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Vc(" ",n.label," (",n.email,") ")}}function Id(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-select",35),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().currentSender=t})),i.Qc(1,Md,2,3,"mat-option",18),i.mc(2,"sortBy"),i.Yb()}if(2&t){var a=i.lc();i.sc("compareWith",a.compareSenders)("ngModel",a.currentSender),i.Eb(1),i.sc("ngForOf",i.oc(2,3,a.availableSenders,"label"))}}function Pd(t,e){1&t&&i.Ub(0,"mat-icon",39)}function Td(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",37),i.hc("removed",(function(){i.Hc(n);var t=e.$implicit;return i.lc().remove(t,"recipients")}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc().remove(t,"recipients")})),i.Sc(1),i.Qc(2,Pd,1,0,"mat-icon",38),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.Jb("badFormat",a.badFormat),i.sc("cdkDragDisabled","SENT"==r.emailStatus||"ERROR"==r.emailStatus)("removable",r.canManageMail())("title",a.email),i.Eb(1),i.Vc(" ",a.label,"",a.label!==a.email?" ("+a.email+")":""," "),i.Eb(1),i.sc("ngIf",r.canManageMail())}}function Ad(t,e){if(1&t&&(i.Zb(0,"span",41),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" (",n.email,")")}}function Dd(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Qc(2,Ad,2,1,"span",40),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n.label,""),i.Eb(1),i.sc("ngIf","contactGroup"!==n.type)}}function Rd(t,e){1&t&&i.Ub(0,"mat-icon",39)}function Ld(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",47),i.hc("removed",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).remove(t,"copies")}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).remove(t,"recipients")})),i.Sc(1),i.Qc(2,Rd,1,0,"mat-icon",38),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Jb("badFormat",a.badFormat),i.sc("cdkDragDisabled","SENT"==r.emailStatus||"ERROR"==r.emailStatus)("removable",r.canManageMail())("title",a.email),i.Eb(1),i.Vc(" ",a.label,"",a.label!==a.email?" ("+a.email+")":""," "),i.Eb(1),i.sc("ngIf",r.canManageMail())}}function Fd(t,e){if(1&t&&(i.Zb(0,"span",41),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" (",n.email,")")}}function jd(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Qc(2,Fd,2,1,"span",40),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n.label,""),i.Eb(1),i.sc("ngIf","contactGroup"!==n.type)}}var Yd=function(){return["recipients-list","invcopies-list"]};function Zd(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"span",7),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-chip-list",42,43),i.hc("cdkDropListDropped",(function(t){return i.Hc(n),i.lc().drop(t)})),i.Qc(6,Ld,3,8,"mat-chip",44),i.Zb(7,"input",14,45),i.hc("matChipInputTokenEnd",(function(t){return i.Hc(n),i.lc().add(t,"copies")}))("focus",(function(){return i.Hc(n),i.lc().resetAutocomplete()}))("paste",(function(t){return i.Hc(n),i.lc().onPaste(t,"copies")})),i.Yb(),i.Yb(),i.Zb(9,"mat-autocomplete",16,46),i.hc("optionSelected",(function(t){return i.Hc(n),i.lc().addEmail(t.option.value,"copies")})),i.Qc(11,jd,3,3,"mat-option",18),i.mc(12,"async"),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(5),r=i.Dc(10),o=i.lc();i.Eb(2),i.Uc("",i.nc(3,10,"lang.copieShort"),"\xa0:\xa0"),i.Eb(2),i.sc("cdkDropListConnectedTo",i.yc(14,Yd))("cdkDropListData",o.copies),i.Eb(2),i.sc("ngForOf",o.copies),i.Eb(1),i.sc("formControl",o.recipientsInput)("matChipInputFor",a)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes)("matChipInputAddOnBlur",!0)("matAutocomplete",r),i.Eb(4),i.sc("ngForOf",i.nc(12,12,o.filteredEmails))}}function Nd(t,e){1&t&&i.Ub(0,"mat-icon",39)}function Ud(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",47),i.hc("removed",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).remove(t,"invisibleCopies")}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).remove(t,"recipients")})),i.Sc(1),i.Qc(2,Nd,1,0,"mat-icon",38),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Jb("badFormat",a.badFormat),i.sc("cdkDragDisabled","SENT"==r.emailStatus||"ERROR"==r.emailStatus)("removable",r.canManageMail())("title",a.email),i.Eb(1),i.Vc(" ",a.label,"",a.label!==a.email?" ("+a.email+")":""," "),i.Eb(1),i.sc("ngIf",r.canManageMail())}}function Bd(t,e){if(1&t&&(i.Zb(0,"span",41),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" (",n.email,")")}}function zd(t,e){if(1&t&&(i.Zb(0,"mat-option",36),i.Sc(1),i.Qc(2,Bd,2,1,"span",40),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Uc(" ",n.label,""),i.Eb(1),i.sc("ngIf","contactGroup"!==n.type)}}var Vd=function(){return["recipients-list","copies-list"]};function Hd(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-form-field"),i.Zb(1,"span",7),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-chip-list",48,49),i.hc("cdkDropListDropped",(function(t){return i.Hc(n),i.lc().drop(t)})),i.Qc(6,Ud,3,8,"mat-chip",44),i.Zb(7,"input",14,50),i.hc("matChipInputTokenEnd",(function(t){return i.Hc(n),i.lc().add(t,"invisibleCopies")}))("focus",(function(){return i.Hc(n),i.lc().resetAutocomplete()}))("paste",(function(t){return i.Hc(n),i.lc().onPaste(t,"invisibleCopies")})),i.Yb(),i.Yb(),i.Zb(9,"mat-autocomplete",16,51),i.hc("optionSelected",(function(t){return i.Hc(n),i.lc().addEmail(t.option.value,"invisibleCopies")})),i.Qc(11,zd,3,3,"mat-option",18),i.mc(12,"async"),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(5),r=i.Dc(10),o=i.lc();i.Eb(2),i.Uc("",i.nc(3,10,"lang.invisibleCopyShort"),"\xa0:\xa0"),i.Eb(2),i.sc("cdkDropListConnectedTo",i.yc(14,Vd))("cdkDropListData",o.invisibleCopies),i.Eb(2),i.sc("ngForOf",o.invisibleCopies),i.Eb(1),i.sc("formControl",o.recipientsInput)("matChipInputFor",a)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes)("matChipInputAddOnBlur",!0)("matAutocomplete",r),i.Eb(4),i.sc("ngForOf",i.nc(12,12,o.filteredEmails))}}function Qd(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",52),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.currentEmailAttachTool=a.key})),i.Ub(1,"mat-icon",53),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(),o=i.Dc(40);i.sc("disabled",!r.canManageMail()||0===r.emailAttachTool[a.key].list.length)("title",r.emailAttachTool[a.key].title)("matMenuTriggerFor",o),i.Eb(1),i.Gb(r.emailAttachTool[a.key].icon),i.Jb("activeButton","document"===a.key&&r.emailAttach.document.isLinked||"document"!==a.key&&r.emailAttach[a.key].length>0)}}function Wd(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",61),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit,e=i.lc(2).$implicit;return i.lc().toggleAttachMail(t,e.key,"original")})),i.Sc(1),i.Yb()}if(2&t){var a=i.lc().$implicit;i.Eb(1),i.Uc(".",a.format,"")}}function Gd(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",61),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit,e=i.lc(2).$implicit;return i.lc().toggleAttachMail(t,e.key,"pdf")})),i.Sc(1,".pdf"),i.Yb()}}function qd(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.Wb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.chrono," \xa0 ")}}function Xd(t,e){1&t&&(i.Zb(0,"span",62),i.Sc(1),i.mc(2,"lowercase"),i.mc(3,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc("\xa0(",i.nc(2,1,i.nc(3,3,"lang.signed")),")"))}function $d(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",54),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Zb(2,"div",55),i.Zb(3,"div"),i.Qc(4,Wd,2,1,"button",56),i.Ub(5,"br"),i.Qc(6,Gd,2,0,"button",56),i.Yb(),i.Zb(7,"div"),i.Zb(8,"span",57),i.Zb(9,"div",58),i.Qc(10,qd,2,1,"ng-container",19),i.Sc(11),i.Yb(),i.Zb(12,"div"),i.Sc(13),i.mc(14,"shorten"),i.Yb(),i.Zb(15,"div",59),i.Sc(16),i.Qc(17,Xd,4,5,"span",60),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(18,"mat-divider"),i.Wb()}if(2&t){var a=e.$implicit,r=i.lc(2).$implicit,o=i.lc();i.Eb(1),i.sc("disabled",o.isSelectedAttachMail(a,r.key)),i.Eb(3),i.sc("ngIf","SIGN"!==a.status),i.Eb(2),i.sc("ngIf",!o.functions.empty(a.convertedDocument)),i.Eb(2),i.sc("title",a.label),i.Eb(2),i.sc("ngIf",!o.functions.empty(a.chrono)),i.Eb(1),i.Uc(" ",a.creator," "),i.Eb(2),i.Uc(" ",i.pc(14,9,a.label,45,"...")," "),i.Eb(3),i.Uc(" ",a.typeLabel,""),i.Eb(1),i.sc("ngIf","SIGN"===a.status)}}function Jd(t,e){if(1&t&&(i.Xb(0),i.Qc(1,$d,19,13,"ng-container",24),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngForOf",a.emailAttachTool[n.key].list)}}function Kd(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Jd,2,1,"ng-container",19),i.Wb()),2&t){var n=e.$implicit,a=i.lc();i.Eb(1),i.sc("ngIf",n.key===a.currentEmailAttachTool)}}function tf(t,e){1&t&&i.Ub(0,"mat-icon",39)}function ef(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",63),i.hc("removed",(function(){return i.Hc(n),i.lc().removeAttachMail(0,"document")})),i.Ub(1,"i",64),i.Sc(2),i.mc(3,"shorten"),i.Zb(4,"small",41),i.Sc(5),i.Yb(),i.Qc(6,tf,1,0,"mat-icon",38),i.Yb()}if(2&t){var a=i.lc();i.sc("removable",a.canManageMail())("title",a.emailAttach.document.chrono+" - "+a.emailAttach.document.label),i.Eb(2),i.Uc("\xa0",i.pc(3,6,a.emailAttach.document.label,25,"..."),"\xa0"),i.Eb(3),i.Vc("(",a.emailAttach.document.format," - ",a.emailAttach.document.size,")"),i.Eb(1),i.sc("ngIf",a.canManageMail())}}function nf(t,e){1&t&&i.Ub(0,"mat-icon",39)}function af(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",63),i.hc("removed",(function(){i.Hc(n);var t=e.index,a=i.lc(2).$implicit;return i.lc().removeAttachMail(t,a.key)})),i.Ub(1,"i"),i.Sc(2),i.mc(3,"shorten"),i.Zb(4,"small",41),i.Sc(5),i.Yb(),i.Qc(6,nf,1,0,"mat-icon",38),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2).$implicit,o=i.lc();i.sc("removable",o.canManageMail())("title",a.title),i.Eb(1),i.Hb("",o.emailAttachTool[r.key].icon," attachLabel"),i.Eb(1),i.Uc("\xa0",i.pc(3,9,a.label,25,"..."),"\xa0"),i.Eb(3),i.Vc("(",a.format,"",o.functions.empty(a.size)?"":" - "+a.size,")"),i.Eb(1),i.sc("ngIf",o.canManageMail())}}function rf(t,e){if(1&t&&(i.Xb(0),i.Qc(1,af,7,13,"mat-chip",65),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngForOf",a.emailAttach[n.key])}}function of(t,e){if(1&t&&(i.Xb(0),i.Qc(1,rf,2,1,"ng-container",19),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf","document"!==n.key)}}function sf(t,e){if(1&t){var n=i.ac();i.Zb(0,"plugin-select-search",68),i.hc("afterSelected",(function(t){return i.Hc(n),i.lc(2).mergeEmailTemplate(t)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("label",a.translate.instant("lang.emailModel"))("placeholderLabel",a.translate.instant("lang.emailModel"))("datas",a.availableEmailModels)("formControlSelect",a.templateEmailListForm)}}function cf(t,e){if(1&t){var n=i.ac();i.Zb(0,"plugin-select-search",68,69),i.hc("afterSelected",(function(t){return i.Hc(n),i.lc(2).mergeSignEmailTemplate(t)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("label",a.translate.instant("lang.emailSignatures"))("placeholderLabel",a.translate.instant("lang.emailSignatures"))("datas",a.availableSignEmailModels)("formControlSelect",a.emailSignListForm)}}function lf(t,e){if(1&t&&(i.Zb(0,"div",66),i.Qc(1,sf,1,4,"plugin-select-search",67),i.Qc(2,cf,2,4,"plugin-select-search",67),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.availableEmailModels.length>0),i.Eb(1),i.sc("ngIf",n.availableSignEmailModels.length>0)}}function uf(t,e){if(1&t){var n=i.ac();i.Zb(0,"textarea",70),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().emailContent=t})),i.Yb()}if(2&t){var a=i.lc();i.sc("ngModel",a.emailContent)}}function df(t,e){if(1&t&&i.Ub(0,"app-document-viewer",71,72),2&t){var n=i.lc();i.sc("editMode",!1)("base64",n.emailContent)}}function ff(t,e){if(1&t&&(i.Zb(0,"button",79),i.Ub(1,"mat-icon",80),i.Yb()),2&t){i.lc();var n=i.Dc(3);i.sc("matMenuTriggerFor",n)}}function hf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",81),i.hc("click",(function(){return i.Hc(n),i.lc(2).switchEditionMode()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.switchInPlainText")," "))}function pf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",81),i.hc("click",(function(){return i.Hc(n),i.lc(2).switchEditionMode()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.switchInHtml")," "))}function mf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",82),i.hc("click",(function(){return i.Hc(n),i.lc(2).onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc(2);i.sc("disabled",0===a.recipients.length||a.emailsubject.length>256),i.Eb(1),i.Tc(i.nc(2,2,"lang.send"))}}function gf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",83),i.hc("click",(function(){return i.Hc(n),i.lc(2).deleteEmail()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc(2);i.sc("disabled",a.headerService.user.id!==a.emailCreatorId),i.Eb(1),i.Tc(i.nc(2,2,"lang.delete"))}}function bf(t,e){if(1&t&&(i.Zb(0,"div",73),i.Qc(1,ff,2,1,"button",74),i.Zb(2,"mat-menu",null,75),i.Qc(4,hf,3,3,"button",76),i.Qc(5,pf,3,3,"button",76),i.Yb(),i.Qc(6,mf,3,4,"button",77),i.Qc(7,gf,3,4,"button",78),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.canManageMail()&&n.privilegeService.hasCurrentUserPrivilege("sendmail")),i.Eb(1),i.Gb("attachListMenu"),i.Eb(2),i.sc("ngIf",n.htmlMode),i.Eb(1),i.sc("ngIf",!n.htmlMode),i.Eb(1),i.sc("ngIf",n.canManageMail()&&n.privilegeService.hasCurrentUserPrivilege("sendmail")),i.Eb(1),i.sc("ngIf",n.data.emailId&&"email"===n.data.emailType)}}var vf,yf=function(){return["copies-list","invcopies-list"]},_f=((vf=function(){function t(e,n,i,a,r,o,s,c,l,u){_classCallCheck(this,t),this.http=e,this.notify=n,this.data=i,this.dialog=a,this.dialogRef=r,this.functions=o,this.contactService=s,this.privilegeService=c,this.headerService=l,this.translate=u,this.loading=!0,this.separatorKeysCodes=[_d.c,_d.p,_d.i,190],this.availableEmailModels=[],this.availableSignEmailModels=[],this.resourceData=null,this.availableSenders=[],this.currentSender={},this.recipients=[],this.copies=[],this.invisibleCopies=[],this.recipientsInput=new j.h,this.emailSignListForm=new j.h,this.templateEmailListForm=new j.h,this.showCopies=!1,this.showInvisibleCopies=!1,this.emailCreatorId=null,this.emailId=null,this.emailsubject="",this.emailStatus="WAITING",this.emailContent="",this.currentEmailAttachTool="",this.emailAttachTool={document:{icon:"fa fa-file",title:this.translate.instant("lang.attachMainDocument"),list:[]},notes:{icon:"fas fa-pen-square",title:this.translate.instant("lang.attachNote"),list:[]},attachments:{icon:"fa fa-paperclip",title:this.translate.instant("lang.attachAttachment"),list:[]}},this.emailAttach={},this.canManage=!1,this.pdfMode=!1,this.htmlMode=!0}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.keys(this.emailAttachTool).forEach((function(t){e.emailAttach[t]="document"===t?{id:e.data.resId,isLinked:!1,original:!1}:[]})),t.next=3,this.getAttachElements();case 3:if(!this.data.emailId||"email"!==this.data.emailType){t.next=8;break}return t.next=6,this.getEmailData(this.data.emailId);case 6:t.next=12;break;case 8:if(t.t0=this.data.emailId&&"acknowledgementReceipt"===this.data.emailType,!t.t0){t.next=12;break}return t.next=12,this.getAcknowledgementReceiptData(this.data.emailId);case 12:if(t.t1=this.canManageMail(),!t.t1){t.next=22;break}return this.initEmailModelsList(),this.initEmailsList(),this.initSignEmailModelsList(),t.next=19,this.getResourceData();case 19:return t.next=21,this.getUserEmails();case 21:"DRAFT"!==this.emailStatus&&this.setDefaultInfo();case 22:setTimeout((function(){e.initMce()}),0);case 23:case"end":return t.stop()}}),t,this)})))}},{key:"initMce",value:function(){var t=this;tinymce.init({selector:"textarea#emailSignature",base_url:"../node_modules/tinymce/",setup:function(e){e.on("init",(function(e){t.loading=!1}))},readonly:"SENT"===this.emailStatus,height:"400",suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:"../node_modules/tinymce-i18n/langs/".concat(this.translate.instant("lang.langISO").replace("-","_"),".js"),menubar:!1,statusbar:!1,plugins:["autolink"],external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_drawer:"floating",toolbar:"SENT"!==this.emailStatus&&"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |             alignleft aligncenter alignright alignjustify             bullist numlist outdent indent | removeformat"})}},{key:"add",value:function(t,e){var n=t.input,i=t.value;(i||"").trim()&&this[e].push({label:i.trim(),email:i.trim(),badFormat:this.isBadEmailFormat(i.trim())}),n&&(n.value="")}},{key:"isBadEmailFormat",value:function(t){return null===t.trim().match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/g)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";tinymce.remove(),this.dialogRef.close(t)}},{key:"addEmail",value:function(t,e){var n=this;this[e].splice(this[e].length-1,1),"contactGroup"===t.type?this.http.get("../rest/contactsGroups/"+t.id).pipe(Object(wr.a)((function(t){return t.contactsGroup.contacts.filter((function(t){return!n.functions.empty(t.email)})).map((function(t){return{label:t.contact,email:t.email}}))})),Object(lt.a)((function(t){n[e]=n[e].concat(t)})),Object(wn.a)((function(t){return n.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe():this[e].push({label:t.label,email:t.email})}},{key:"mergeEmailTemplate",value:function(t){var e=this;this.templateEmailListForm.reset(),this.http.post("../rest/templates/".concat(t,"/mergeEmail"),{data:{resId:this.data.resId}}).pipe(Object(lt.a)((function(t){var n=document.createElement("div");if(n.innerHTML=tinymce.get("emailSignature").getContent(),n.getElementsByClassName("signature").length>0){var i=n.getElementsByClassName("signature")[0].innerHTML;n.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent("".concat(n.innerHTML).concat(t.mergedDocument,'<div class="signature">').concat(i,"</div>"))}else tinymce.get("emailSignature").setContent("".concat(tinymce.get("emailSignature").getContent()).concat(t.mergedDocument));e.htmlMode||tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent({format:"text"})),e.functions.empty(t.mergedSubject)||(e.emailsubject=t.mergedSubject)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"mergeSignEmailTemplate",value:function(t){var e=this;this.emailSignListForm.reset(),this.http.get("../rest/currentUser/emailSignatures/"+t).pipe(Object(lt.a)((function(t){var n=document.createElement("div");n.innerHTML=tinymce.get("emailSignature").getContent(),n.getElementsByClassName("signature").length>0?(n.getElementsByClassName("signature")[0].remove(),tinymce.get("emailSignature").setContent("".concat(n.innerHTML,'<div class="signature">').concat(t.emailSignature.content,"</div>"))):tinymce.get("emailSignature").setContent("".concat(tinymce.get("emailSignature").getContent(),'<div class="signature">').concat(t.emailSignature.content,"</div>")),e.htmlMode||tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent({format:"text"}))})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"remove",value:function(t,e){if(this.canManageMail()){var n=this[e].indexOf(t);n>=0&&this[e].splice(n,1)}}},{key:"getEmailData",value:function(t){var e=this;return new Promise((function(n){e.http.get("../rest/emails/"+t).pipe(Object(lt.a)((function(t){e.emailCreatorId=t.userId,e.recipients=t.recipients.map((function(t){return{label:t,email:t,badFormat:e.isBadEmailFormat(t)}})),e.copies=t.cc.map((function(t){return{label:t,email:t,badFormat:e.isBadEmailFormat(t)}})),e.invisibleCopies=t.cci.map((function(t){return{label:t,email:t,badFormat:e.isBadEmailFormat(t)}})),e.showCopies=e.copies.length>0,e.showInvisibleCopies=e.invisibleCopies.length>0,e.emailsubject=t.object,e.emailStatus=t.status,e.currentSender={entityId:t.sender.entityId,label:t.sender.label,email:t.sender.email},e.emailContent=t.body,Object.keys(t.document).forEach((function(n){-1===["id","isLinked","original"].indexOf(n)?(e.emailAttach[n]=[],t.document[n].forEach((function(t){var i=e.emailAttachTool[n].list.filter((function(e){return e.id===t.id||e.id===t}));i.length>0&&(e.emailAttach[n]=e.emailAttach[n].concat(i.map((function(e){return Object.assign(Object.assign({},e),{format:t.original||void 0===t.original?e.format:"pdf",original:t.original,size:t.original||void 0===t.original?e.size:e.convertedDocument.size})}))))}))):"isLinked"===n&&!0===t.document.isLinked&&(e.emailAttach.document.isLinked=!0,e.emailAttach.document.format=t.document.original||void 0===t.document.original?e.emailAttachTool.document.list[0].format:"pdf",e.emailAttach.document.original=t.document.original,e.emailAttach.document.size=e.emailAttach.document.original?e.emailAttachTool.document.list[0].size:e.emailAttachTool.document.list[0].convertedDocument.size)})),n(!0)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),n(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getAcknowledgementReceiptData",value:function(t){var e=this;return new Promise((function(n){e.http.get("../rest/acknowledgementReceipts/"+t).pipe(Object(lt.a)((function(t){e.currentSender={label:t.acknowledgementReceipt.userLabel,email:t.acknowledgementReceipt.userLabel},e.recipients=[{label:e.functions.empty(t.acknowledgementReceipt.contact)?e.translate.instant("lang.contactDeleted"):e.contactService.formatContact(t.acknowledgementReceipt.contact),email:e.functions.empty(t.acknowledgementReceipt.contact.email)?e.translate.instant("lang.withoutEmail"):t.acknowledgementReceipt.contact.email}],e.emailStatus="SENT"})),Object(Or.a)((function(){return e.http.get("../rest/acknowledgementReceipts/".concat(t,"/content"))})),Object(lt.a)((function(t){e.pdfMode="pdf"===t.format,e.pdfMode?(e.emailsubject=e.translate.instant("lang.ARPaper"),e.emailContent=t.encodedDocument):(e.emailsubject=e.translate.instant("lang.ARelectronic"),e.emailContent=e.b64DecodeUnicode(t.encodedDocument)),n(!0)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),n(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getResourceData",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"?light=true")).pipe(Object(lt.a)((function(n){t.resourceData=n,t.emailAttach.document.chrono=t.resourceData.chrono,t.emailAttach.document.label=t.resourceData.subject,e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"setDefaultInfo",value:function(){var t=this;this.emailsubject="[".concat(this.resourceData.chrono,"] ").concat(this.resourceData.subject),this.emailsubject=this.emailsubject.substring(0,70),this.currentSender=this.availableSenders.filter((function(e){return e.entityId===t.headerService.user.entities[0].id})).length>0?this.availableSenders.filter((function(e){return e.entityId===t.headerService.user.entities[0].id}))[0]:this.availableSenders[0],this.functions.empty(this.resourceData.senders)||this.resourceData.senders.forEach((function(e){t.setSender(e.id)}))}},{key:"setSender",value:function(t){var e=this;this.http.get("../rest/contacts/"+t).pipe(Object(lt.a)((function(t){e.functions.empty(t.email)||e.recipients.push({label:e.contactService.formatContact(t),email:t.email})})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"getUserEmails",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/currentUser/availableEmails").pipe(Object(lt.a)((function(n){t.availableSenders=n.emails,e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getAttachElements",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/emailsInitialization")).pipe(Object(lt.a)((function(n){Object.keys(n).forEach((function(e){"resource"===e?(t.emailAttachTool.document.list=[],t.functions.empty(n[e])||(t.emailAttachTool.document.list=[n[e]])):t.emailAttachTool[e].list=n[e].map((function(n){return n.attachInMail&&t.toggleAttachMail(n,e,"SIGN"===n.status?"pdf":"original"),Object.assign(Object.assign({},n),{original:void 0===n.original||n.original,title:void 0!==n.chrono?"".concat(n.chrono," - ").concat(n.label," (").concat(n.typeLabel,")"):"".concat(n.label," (").concat(n.typeLabel,")")})}))})),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"initEmailsList",value:function(){var t=this;this.recipientsInput.valueChanges.pipe(Object(ot.a)((function(t){return null!==t})),Object(rt.a)(300),Object(lt.a)((function(e){0===e.length&&(t.filteredEmails=Object(On.of)([]))})),Object(ot.a)((function(t){return t.length>2})),Object(st.a)(),Object(ct.a)((function(e){return t.http.get("../rest/autocomplete/correspondents",{params:{search:e,searchEmails:"true"}})})),Object(lt.a)((function(e){e=e.filter((function(e){return!t.functions.empty(e.email)||"contactGroup"===e.type})).map((function(e){var n;return n="user"===e.type||"contact"===e.type?t.functions.empty(e.firstname)&&t.functions.empty(e.lastname)?e.company:e.firstname+" "+e.lastname:"contactGroup"===e.type?"".concat(e.firstname," ").concat(e.lastname):""+e.lastname,{id:e.id,type:e.type,label:n,email:e.email}})),t.filteredEmails=Object(On.of)(e)})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"initEmailModelsList",value:function(){var t=this;this.http.get("../rest/resources/".concat(this.data.resId,"/emailTemplates")).pipe(Object(lt.a)((function(e){t.availableEmailModels=e.templates})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"initSignEmailModelsList",value:function(){var t=this;this.http.get("../rest/currentUser/emailSignatures").pipe(Object(lt.a)((function(e){t.availableSignEmailModels=e.emailSignatures})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"resetAutocomplete",value:function(){this.filteredEmails=Object(On.of)([])}},{key:"onSubmit",value:function(){var t=this;this.emailStatus="WAITING",null===this.data.emailId?this.isAllEmailRightFormat()?""===this.emailsubject?this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:this.translate.instant("lang.warnEmptySubject")}}).afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){t.createEmail(!0)}))).subscribe():this.createEmail(!0):this.notify.error(this.translate.instant("lang.badEmailsFormat")):this.updateEmail(!0)}},{key:"createEmail",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.http.post("../rest/emails",this.formatEmail()).pipe(Object(lt.a)((function(){"DRAFT"===t.emailStatus||t.notify.success(t.translate.instant("lang.sendingEmail")+"..."),e&&t.closeModal("success")})),Object(Ln.a)((function(){"DRAFT"===t.emailStatus&&t.closeModal("success")})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"deleteEmail",value:function(){var t=this;this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return t.http.delete("../rest/emails/"+t.data.emailId)})),Object(lt.a)((function(){t.notify.success(t.translate.instant("lang.emailDeleted")),t.closeModal("success")})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"updateEmail",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.http.put("../rest/emails/"+this.data.emailId,this.formatEmail()).pipe(Object(lt.a)((function(){"DRAFT"===t.emailStatus||t.notify.success(t.translate.instant("lang.sendingEmail")+"..."),e&&t.closeModal("success")})),Object(Ln.a)((function(){"DRAFT"===t.emailStatus&&t.closeModal("success")})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"saveDraft",value:function(){this.canManageMail()?(this.emailStatus="DRAFT",null===this.data.emailId?this.functions.empty(tinymce.get("emailSignature").getContent())?this.closeModal():this.createEmail(!0):this.updateEmail(!0)):this.closeModal()}},{key:"drop",value:function(t){t.previousContainer!==t.container&&Object(po.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}},{key:"toggleAttachMail",value:function(t,e,n){"document"===e?!1===this.emailAttach.document.isLinked&&(this.emailAttach.document.isLinked=!0,this.emailAttach.document.format="pdf"!==n?t.format:"pdf",this.emailAttach.document.original="pdf"!==n,this.emailAttach.document.size="pdf"===n?t.convertedDocument.size:t.size):0===this.emailAttach[e].filter((function(e){return e.id===t.id})).length&&this.emailAttach[e].push(Object.assign(Object.assign({},t),{format:"pdf"!==n?t.format:"pdf",original:"pdf"!==n,size:"pdf"===n?t.convertedDocument.size:t.size}))}},{key:"removeAttachMail",value:function(t,e){"document"===e?(this.emailAttach.document.isLinked=!1,this.emailAttach.document.original=!1):this.emailAttach[e].splice(t,1)}},{key:"switchEditionMode",value:function(){var t=this;this.htmlMode=!this.htmlMode,this.htmlMode?($(".tox-editor-header").show(),tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent())):this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.switchInPlainText"),msg:this.translate.instant("lang.confirmSwitchInPlanText")}}).afterClosed().pipe(Object(lt.a)((function(e){"ok"===e?($(".tox-editor-header").hide(),tinymce.get("emailSignature").setContent(tinymce.get("emailSignature").getContent({format:"text"}))):t.htmlMode=!t.htmlMode}))).subscribe()}},{key:"formatEmail",value:function(){var t=this,e={};Object.keys(this.emailAttach).forEach((function(n){t.functions.empty(t.emailAttach[n])||("document"===n?e={id:t.emailAttach[n].id,isLinked:t.emailAttach[n].isLinked,original:t.emailAttach[n].original}:e[n]=t.emailAttach[n].map("notes"===n?function(t){return t.id}:function(t){return{id:t.id,original:t.original}}))}));var n={email:this.currentSender.email,entityId:this.functions.empty(this.currentSender.entityId)?null:this.currentSender.entityId};return{document:e,sender:n,recipients:this.recipients.map((function(t){return t.email})),cc:this.showCopies?this.copies.map((function(t){return t.email})):[],cci:this.showInvisibleCopies?this.invisibleCopies.map((function(t){return t.email})):[],object:this.emailsubject,body:this.htmlMode?tinymce.get("emailSignature").getContent():tinymce.get("emailSignature").getContent({format:"text"}),isHtml:!0,status:this.emailStatus}}},{key:"isSelectedAttachMail",value:function(t,e){return"document"===e?this.emailAttach.document.isLinked:this.emailAttach[e].filter((function(e){return e.id===t.id})).length>0}},{key:"canManageMail",value:function(){return null===this.data.emailId||"SENT"!==this.emailStatus&&this.headerService.user.id===this.emailCreatorId?(this.recipientsInput.enable(),!0):(this.recipientsInput.disable(),!1)}},{key:"isAllEmailRightFormat",value:function(){var t=this,e=!0;return this.recipients.concat(this.copies).concat(this.invisibleCopies).map((function(t){return t.email})).forEach((function(n){t.isBadEmailFormat(n)&&(e=!1)})),e}},{key:"compareSenders",value:function(t,e){return!(t.label!==e.label&&(null!==t.label&&null!==e.label||null!==t.entityId&&null!==e.entityId)||t.entityId!==e.entityId||t.email!==e.email)}},{key:"b64DecodeUnicode",value:function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},{key:"onPaste",value:function(t,e){var n=t.clipboardData.getData("text");this.formatEmailAddress(n,e)}},{key:"formatEmailAddress",value:function(t,e){var n=this,i=t.split(/[,;]+/);this.functions.empty(i)||(setTimeout((function(){n.recipientsInput.setValue(null),n[e+"Field"].nativeElement.value=""}),0),i.forEach((function(t){t=t.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi),n.functions.empty(t)||n[e].push({label:t[0],email:t[0]})})))}}]),t}()).\u0275fac=function(t){return new(t||vf)(i.Tb(u.b),i.Tb(h.a),i.Tb(Y.a),i.Tb(Y.b),i.Tb(Y.h),i.Tb(ft.a),i.Tb(_u.a),i.Tb(Gi.a),i.Tb(f.a),i.Tb(l.e))},vf.\u0275cmp=i.Nb({type:vf,selectors:[["app-sent-resource-page"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(xd,!0),i.ad(wd,!0),i.ad(Od,!0)),2&t&&(i.Cc(n=i.ic())&&(e.recipientsField=n.first),i.Cc(n=i.ic())&&(e.copiesField=n.first),i.Cc(n=i.ic())&&(e.invisibleCopiesField=n.first))},features:[i.Db([_u.a,p.a])],decls:53,vars:56,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"modal-container"],["class","loading",4,"ngIf"],["matPrefix","",1,"attachLabel"],["matInput","","readonly","",3,"value",4,"ngIf"],[3,"compareWith","ngModel","ngModelChange",4,"ngIf"],["mat-button","","color","primary","matSuffix","",3,"disabled","click"],["id","recipients-list","cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["recipientsList",""],["cdkDrag","","class","recipients",3,"cdkDragDisabled","removable","title","badFormat","removed","click",4,"ngFor","ngForOf"],[3,"formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matAutocomplete","matChipInputTokenEnd","focus","paste"],["recipientsField",""],[3,"optionSelected"],["autoEmails","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["floatLabel","never"],["matInput","","maxlength","255",3,"placeholder","readonly","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click",4,"ngFor","ngForOf"],["emailAttachListMenu","matMenu"],[4,"ngFor","ngForOf"],["class","copy",3,"removable","title","removed",4,"ngIf"],["class","models",4,"ngIf"],[2,"padding-top","10px"],["style","padding-top: 10px;","name","emailSignature","id","emailSignature",3,"ngModel","ngModelChange",4,"ngIf"],["style","display:block;height:400px;width:100%;overflow: auto;",3,"editMode","base64",4,"ngIf"],[1,"divider-modal"],["mat-dialog-actions","","class","actions",4,"ngIf"],[1,"loading"],[2,"margin","auto"],["matInput","","readonly","",3,"value"],[3,"compareWith","ngModel","ngModelChange"],[3,"value"],["cdkDrag","",1,"recipients",3,"cdkDragDisabled","removable","title","removed","click"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],["class","attachLabel",4,"ngIf"],[1,"attachLabel"],["id","copies-list","cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["copiesList",""],["cdkDrag","","class","copy",3,"cdkDragDisabled","removable","title","badFormat","removed","click",4,"ngFor","ngForOf"],["copiesField",""],["autoEmails2","matAutocomplete"],["cdkDrag","",1,"copy",3,"cdkDragDisabled","removable","title","removed","click"],["id","invcopies-list","cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["invCopiesList",""],["invisibleCopiesField",""],["autoEmails3","matAutocomplete"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click"],["color","primary"],["mat-menu-item","","disableRipple","",1,"attachListButton",2,"line-height","normal","height","auto","padding","10px",3,"disabled","click"],[1,"attachListContainer"],["mat-raised-button","","class","extensionButton","color","primary",3,"click",4,"ngIf"],[3,"title"],[2,"font-size","10px","opacity","0.5"],[1,"attachLabel",2,"font-size","10px"],["style","color:green",4,"ngIf"],["mat-raised-button","","color","primary",1,"extensionButton",3,"click"],[2,"color","green"],[1,"copy",3,"removable","title","removed"],[1,"fa","fa-file","attachLabel"],["class","copy",3,"removable","title","removed",4,"ngFor","ngForOf"],[1,"models"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected",4,"ngIf"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],["name","emailSignature","id","emailSignature",2,"padding-top","10px",3,"ngModel","ngModelChange"],[2,"display","block","height","400px","width","100%","overflow","auto",3,"editMode","base64"],["appDocumentViewer",""],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary","style","min-width: auto;width: 30px;padding: 0;background-color: white; color: grey;",3,"matMenuTriggerFor",4,"ngIf"],["emailActionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",2,"min-width","auto","width","30px","padding","0","background-color","white","color","grey",3,"matMenuTriggerFor"],[1,"fas","fa-ellipsis-v",2,"height","auto"],["mat-menu-item","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.Yb(),i.Zb(4,"button",3),i.hc("click",(function(){return e.saveDraft()})),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"mat-dialog-content",5),i.Qc(7,Sd,2,0,"div",6),i.Zb(8,"mat-form-field"),i.Zb(9,"span",7),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Qc(12,Ed,1,1,"input",8),i.Qc(13,Id,3,6,"mat-select",9),i.Zb(14,"button",10),i.hc("click",(function(t){return t.stopPropagation(),e.showCopies=!e.showCopies})),i.Sc(15),i.mc(16,"translate"),i.Yb(),i.Zb(17,"button",10),i.hc("click",(function(t){return t.stopPropagation(),e.showInvisibleCopies=!e.showInvisibleCopies})),i.Sc(18),i.mc(19,"translate"),i.Yb(),i.Yb(),i.Zb(20,"mat-form-field"),i.Zb(21,"span",7),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Zb(24,"mat-chip-list",11,12),i.hc("cdkDropListDropped",(function(t){return e.drop(t)})),i.Qc(26,Td,3,8,"mat-chip",13),i.Zb(27,"input",14,15),i.hc("matChipInputTokenEnd",(function(t){return e.add(t,"recipients")}))("focus",(function(){return e.resetAutocomplete()}))("paste",(function(t){return e.onPaste(t,"recipients")})),i.Yb(),i.Yb(),i.Zb(29,"mat-autocomplete",16,17),i.hc("optionSelected",(function(t){return e.addEmail(t.option.value,"recipients")})),i.Qc(31,Dd,3,3,"mat-option",18),i.mc(32,"async"),i.Yb(),i.Yb(),i.Qc(33,Zd,13,15,"mat-form-field",19),i.Qc(34,Hd,13,15,"mat-form-field",19),i.Zb(35,"mat-form-field",20),i.Zb(36,"input",21),i.hc("ngModelChange",(function(t){return e.emailsubject=t})),i.Yb(),i.Qc(37,Qd,2,8,"button",22),i.mc(38,"keyvalue"),i.Zb(39,"mat-menu",null,23),i.Qc(41,Kd,2,1,"ng-container",24),i.mc(42,"keyvalue"),i.Yb(),i.Yb(),i.Zb(43,"mat-chip-list"),i.Qc(44,ef,7,10,"mat-chip",25),i.Qc(45,of,2,1,"ng-container",24),i.mc(46,"keyvalue"),i.Yb(),i.Qc(47,lf,3,2,"div",26),i.Zb(48,"div",27),i.Qc(49,uf,1,1,"textarea",28),i.Qc(50,df,2,2,"app-document-viewer",29),i.Yb(),i.Yb(),i.Ub(51,"span",30),i.Qc(52,bf,8,7,"div",31),i.Yb()),2&t){var n=i.Dc(25),a=i.Dc(30);i.Eb(3),i.Uc(" ",e.data.title," "),i.Eb(1),i.sc("title",e.translate.instant("lang.saveAndClose")),i.Eb(3),i.sc("ngIf",e.loading),i.Eb(3),i.Uc("",i.nc(11,39,"lang.senderShort"),"\xa0:\xa0"),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(1),i.Jb("activeButton",e.showCopies),i.sc("disabled",!e.canManageMail()),i.Eb(1),i.Tc(i.nc(16,41,"lang.copieShort")),i.Eb(2),i.Jb("activeButton",e.showInvisibleCopies),i.sc("disabled",!e.canManageMail()),i.Eb(1),i.Tc(i.nc(19,43,"lang.invisibleCopyShort")),i.Eb(4),i.Uc("",i.nc(23,45,"lang.recipientShort"),"\xa0:\xa0"),i.Eb(2),i.sc("cdkDropListConnectedTo",i.yc(55,yf))("cdkDropListData",e.recipients),i.Eb(2),i.sc("ngForOf",e.recipients),i.Eb(1),i.sc("formControl",e.recipientsInput)("matChipInputFor",n)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",!0)("matAutocomplete",a),i.Eb(4),i.sc("ngForOf",i.nc(32,47,e.filteredEmails)),i.Eb(2),i.sc("ngIf",e.showCopies),i.Eb(1),i.sc("ngIf",e.showInvisibleCopies),i.Eb(2),i.sc("placeholder",e.translate.instant("lang.object"))("readonly",!e.canManageMail())("ngModel",e.emailsubject),i.Eb(1),i.sc("ngForOf",i.nc(38,49,e.emailAttachTool)),i.Eb(2),i.Gb("attachListMenu"),i.Eb(2),i.sc("ngForOf",i.nc(42,51,e.emailAttachTool)),i.Eb(3),i.sc("ngIf",e.emailAttach.document.isLinked),i.Eb(1),i.sc("ngForOf",i.nc(46,53,e.emailAttach)),i.Eb(2),i.sc("ngIf",e.canManageMail()),i.Eb(2),i.sc("ngIf",!e.pdfMode),i.Eb(1),i.sc("ngIf",e.pdfMode),i.Eb(2),i.sc("ngIf",!e.loading)}},directives:[Y.i,g.b,b.a,Y.f,y.t,N.c,N.i,N.j,kd.d,po.e,y.s,j.c,kd.c,Ar.d,j.t,j.i,Ar.a,U.b,j.o,j.w,to.e,_.c,gt.a,w.o,kd.a,po.a,kd.e,to.d,to.b,O.a,Cd.a,Li.a,Y.c],pipes:[l.d,y.b,y.l,no.a,Dr.p,y.p],styles:[".loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;z-index:2;width:100%;top:0;left:0;background:#fff}.mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center}.copy[_ngcontent-%COMP%], .recipients[_ngcontent-%COMP%]{font-size:12px!important;padding:5px!important;min-height:auto;height:auto;border-radius:5px;cursor:pointer}.copy[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .recipients[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:auto;font-size:12px;height:auto}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px}.activeButton[_ngcontent-%COMP%]{color:#f99830;font-weight:700}.attachLabel[_ngcontent-%COMP%], .pdfVersion[_ngcontent-%COMP%]:hover{color:#135f7f} .attachListMenu{width:auto;max-width:none;min-height:auto}.attachListButton[_ngcontent-%COMP%]:hover{background:initial!important;cursor:default}.attachListContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-gap:10px;align-items:center}.extensionButton[_ngcontent-%COMP%]{line-height:20px;min-width:50px;padding:0}.badFormat[_ngcontent-%COMP%]{background-color:#d03c3c;color:#fff}"]}),vf),kf=["recipientsInput"];function Cf(t,e){1&t&&(i.Zb(0,"div",35),i.Ub(1,"mat-spinner",36),i.Yb())}var xf=function(t){return{value1:t}};function wf(t,e){if(1&t&&(i.Ub(0,"div",37),i.mc(1,"translate")),2&t){var n=i.lc();i.sc("innerHTML",i.oc(1,1,"lang.sendNumericPackageInfo",i.zc(4,xf,n.maarch2maarchUrl)),i.Ic)}}function Of(t,e){if(1&t&&i.Ub(0,"input",38),2&t){var n=i.lc();i.sc("value",n.currentSender.label)}}function Sf(t,e){if(1&t&&(i.Zb(0,"mat-option",41),i.Sc(1),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(1),i.Vc(" ",n.label," (",n.m2m,") ")}}function Ef(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-select",39),i.hc("ngModelChange",(function(t){return i.Hc(n),i.lc().currentSender=t})),i.Qc(1,Sf,2,3,"mat-option",40),i.mc(2,"sortBy"),i.Yb()}if(2&t){var a=i.lc();i.sc("compareWith",a.compareSenders)("ngModel",a.currentSender),i.Eb(1),i.sc("ngForOf",i.oc(2,3,a.availableSenders,"label"))}}function Mf(t,e){1&t&&i.Ub(0,"mat-icon",44)}function If(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-chip",42),i.hc("removed",(function(){i.Hc(n);var t=e.$implicit;return i.lc().remove(t,"recipients")}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc().remove(t,"recipients")})),i.Zb(1,"span",2),i.Zb(2,"div"),i.Sc(3),i.Zb(4,"b"),i.Sc(5),i.Yb(),i.Yb(),i.Zb(6,"div",8),i.Sc(7),i.mc(8,"translate"),i.Yb(),i.Yb(),i.Qc(9,Mf,1,0,"mat-icon",43),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.sc("removable",r.canManageMail()),i.Eb(3),i.Uc(" ",a.label," - "),i.Eb(2),i.Tc(a.m2m),i.Eb(2),i.Vc(" (",i.nc(8,6,"lang.communicationMean")," : ",a.communicationMeans,") "),i.Eb(2),i.sc("ngIf",r.canManageMail())}}function Pf(t,e){if(1&t&&(i.Zb(0,"mat-option",45),i.Zb(1,"div"),i.Sc(2),i.Zb(3,"b"),i.Sc(4),i.Yb(),i.Yb(),i.Zb(5,"div",8),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.sc("value",n),i.Eb(2),i.Uc(" ",n.label," - "),i.Eb(2),i.Tc(n.m2m),i.Eb(2),i.Vc(" (",i.nc(7,5,"lang.communicationMean")," : ",n.communicationMeans,") ")}}function Tf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",46),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc();return t.stopPropagation(),r.numericPackageCurrentAttachTool=a.key})),i.Ub(1,"mat-icon",47),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(),o=i.Dc(36);i.sc("disabled",!r.canManageMail()||0===r.numericPackageAttachTool[a.key].list.length)("title",r.numericPackageAttachTool[a.key].title)("matMenuTriggerFor",o),i.Eb(1),i.Gb(r.numericPackageAttachTool[a.key].icon),i.Jb("activeButton",r.isSelectedAttachType(a.key))}}function Af(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",49),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(2).$implicit,o=i.lc();return t.stopPropagation(),o.toggleAttach(a,r.key,"original")})),i.Zb(1,"span",50),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(2).$implicit,o=i.lc();return t.stopPropagation(),o.toggleAttach(a,r.key,"original")})),i.Zb(2,"div",51),i.Sc(3),i.Yb(),i.Sc(4),i.mc(5,"shorten"),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2).$implicit,o=i.lc();i.sc("disabled",o.isSelectedAttach(a,r.key)),i.Eb(1),i.sc("title",a.label),i.Eb(2),i.Wc("",a.chrono," - ",a.typeLabel," (",a.creator,")"),i.Eb(1),i.Vc(" ",i.pc(5,7,a.label,45,"...")," - ",a.format," ")}}function Df(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Af,6,11,"button",48),i.Wb()),2&t){var n=i.lc().$implicit,a=i.lc();i.Eb(1),i.sc("ngForOf",a.numericPackageAttachTool[n.key].list)}}function Rf(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Df,2,1,"ng-container",23),i.Wb()),2&t){var n=e.$implicit,a=i.lc();i.Eb(1),i.sc("ngIf",n.key===a.numericPackageCurrentAttachTool)}}function Lf(t,e){if(1&t&&(i.Zb(0,"mat-form-field"),i.Zb(1,"mat-label",8),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Ub(4,"input",38),i.Yb()),2&t){var n=i.lc();i.Eb(2),i.Tc(i.nc(3,2,"lang.reference")),i.Eb(2),i.sc("value",n.reference)}}function Ff(t,e){1&t&&(i.Zb(0,"div",52),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"i",53),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.attachItemToNumericPackage")," "))}function jf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",62),i.hc("click",(function(){return i.Hc(n),i.lc(3).numericPackage.mainExchangeDoc=null})),i.Ub(1,"mat-icon",63),i.Yb()}}function Yf(t,e){if(1&t&&(i.Zb(0,"mat-list-item",56),i.Zb(1,"p",57),i.Zb(2,"span",58),i.Sc(3),i.Yb(),i.Zb(4,"span",59),i.Sc(5),i.Yb(),i.Zb(6,"span",60),i.Sc(7),i.Yb(),i.Qc(8,jf,2,0,"button",61),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(3),i.Tc(n.numericPackage.mainExchangeDoc.label),i.Eb(2),i.Tc(n.numericPackage.mainExchangeDoc.typeLabel),i.Eb(2),i.Uc(".",n.numericPackage.mainExchangeDoc.format,""),i.Eb(1),i.sc("ngIf",n.canManageMail())}}function Zf(t,e){if(1&t&&(i.Zb(0,"mat-list"),i.Zb(1,"h3",54),i.Sc(2),i.Yb(),i.Qc(3,Yf,9,4,"mat-list-item",55),i.Yb()),2&t){var n=i.lc();i.Eb(2),i.Tc(n.canManageMail()?n.translate.instant("lang.mainDocNumericPackageToSend"):n.translate.instant("lang.mainDocNumericPackage")),i.Eb(1),i.sc("ngIf",null!==n.numericPackage.mainExchangeDoc)}}function Nf(t,e){1&t&&i.Ub(0,"mat-divider")}function Uf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",62),i.hc("click",(function(){i.Hc(n);var t=i.lc().index;return i.lc(2).removeAttach(t)})),i.Ub(1,"mat-icon",63),i.Yb()}}function Bf(t,e){if(1&t&&(i.Zb(0,"mat-list-item",56),i.Zb(1,"p",57),i.Zb(2,"span",65),i.Sc(3),i.Yb(),i.Zb(4,"span",59),i.Sc(5),i.Yb(),i.Zb(6,"span",60),i.Sc(7),i.Yb(),i.Qc(8,Uf,2,0,"button",61),i.Yb(),i.Yb()),2&t){var n=e.$implicit,a=i.lc(2);i.Eb(2),i.sc("title",n.label),i.Eb(1),i.Tc(n.label),i.Eb(2),i.Tc(n.typeLabel),i.Eb(2),i.Uc(".",n.format,""),i.Eb(1),i.sc("ngIf",a.canManageMail())}}function zf(t,e){if(1&t&&(i.Zb(0,"mat-list"),i.Zb(1,"h3",54),i.Sc(2),i.Yb(),i.Qc(3,Bf,9,5,"mat-list-item",64),i.Yb()),2&t){var n=i.lc();i.Eb(2),i.Tc(n.canManageMail()?n.translate.instant("lang.attachmentsNumericPackageToSend"):n.translate.instant("lang.attachmentsNumericPackage")),i.Eb(1),i.sc("ngForOf",n.numericPackageAttach)}}function Vf(t,e){if(1&t){var n=i.ac();i.Zb(0,"plugin-select-search",68),i.hc("afterSelected",(function(t){return i.Hc(n),i.lc(2).mergeEmailTemplate(t)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("label",a.translate.instant("lang.emailModel"))("placeholderLabel",a.translate.instant("lang.emailModel"))("datas",a.availableEmailModels)("formControlSelect",a.templateEmailListForm)}}function Hf(t,e){if(1&t){var n=i.ac();i.Zb(0,"plugin-select-search",68,69),i.hc("afterSelected",(function(t){return i.Hc(n),i.lc(2).mergeSignEmailTemplate(t)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("label",a.translate.instant("lang.emailSignatures"))("placeholderLabel",a.translate.instant("lang.emailSignatures"))("datas",a.availableSignEmailModels)("formControlSelect",a.emailSignListForm)}}function Qf(t,e){if(1&t&&(i.Zb(0,"div",66),i.Qc(1,Vf,1,4,"plugin-select-search",67),i.Qc(2,Hf,2,4,"plugin-select-search",67),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.sc("ngIf",n.availableEmailModels.length>0),i.Eb(1),i.sc("ngIf",n.availableSignEmailModels.length>0)}}function Wf(t,e){if(1&t&&(i.Zb(0,"div",78),i.Zb(1,"div",79),i.Sc(2),i.mc(3,"timeAgo"),i.Yb(),i.Zb(4,"div"),i.Sc(5),i.Yb(),i.Yb()),2&t){var n=e.$implicit;i.Eb(2),i.Uc(" ",i.oc(3,2,n.date,"full")," "),i.Eb(3),i.Uc(" ",n.content," ")}}function Gf(t,e){1&t&&(i.Zb(0,"div",80),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.noActionProcessed")))}function qf(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",70),i.Zb(1,"div",71),i.Zb(2,"label",8),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Zb(5,"div",72),i.Qc(6,Wf,6,5,"div",73),i.Qc(7,Gf,3,3,"div",74),i.Yb(),i.Yb(),i.Zb(8,"div",75),i.Zb(9,"button",76),i.hc("click",(function(){return i.Hc(n),i.lc().saveNumericPackageFile()})),i.Ub(10,"i",77),i.Ub(11,"br"),i.Zb(12,"span"),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc();i.Eb(3),i.Tc(i.nc(4,4,"lang.actionsHistory")),i.Eb(3),i.sc("ngForOf",a.messageReview),i.Eb(1),i.sc("ngIf",0===a.messageReview.length),i.Eb(6),i.Tc(i.nc(14,6,"lang.downloadNumericPackage"))}}function Xf(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",81),i.hc("click",(function(){return i.Hc(n),i.lc().onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc();i.sc("disabled",0===a.recipients.length||null===a.numericPackage.mainExchangeDoc||a.loading),i.Eb(1),i.Tc(i.nc(2,2,"lang.send"))}}function $f(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",82),i.hc("click",(function(){return i.Hc(n),i.lc().deleteEmail()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc();i.sc("disabled",a.headerService.user.id!==a.numericPackageCreatorId),i.Eb(1),i.Tc(i.nc(2,2,"lang.delete"))}}var Jf,Kf=((Jf=function(){function t(e,n,i,r,o,s,c,l,u,d,f,h){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.data=r,this.dialog=o,this.dialogRef=s,this.functions=c,this.contactService=l,this.privilegeService=u,this.headerService=d,this.stringPipe=f,this.reversePipe=h,this.loading=!0,this.availableEmailModels=[],this.availableSignEmailModels=[],this.resourceData=null,this.availableSenders=[],this.currentSender={},this.recipients=[],this.recipientsCtrl=new j.h,this.emailSignListForm=new j.h,this.templateEmailListForm=new j.h,this.numericPackageCreatorId=null,this.numericPackageStatus="WAITING",this.numericPackageCurrentAttachTool="",this.numericPackageAttachTool={document:{icon:"fa fa-file",title:this.translate.instant("lang.attachMainDocument"),list:[]},notes:{icon:"fas fa-pen-square",title:this.translate.instant("lang.attachNote"),list:[]},attachments:{icon:"fa fa-paperclip",title:this.translate.instant("lang.attachAttachment"),list:[]}},this.numericPackageAttach=[],this.numericPackage={mainExchangeDoc:null,object:"",contacts:[],joinFile:[],joinAttachment:[],notes:[],content:"",senderEmail:null},this.reference=null,this.messageReview=[],this.maarch2maarchUrl="https://docs.maarch.org/gitbook/html/MaarchCourrier/".concat(a.a.VERSION.split(".")[0]+"."+a.a.VERSION.split(".")[1],"/guat/guat_exploitation/maarch2maarch.html")}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAttachElements();case 2:if(t.t0=this.data.emailId,!t.t0){t.next=6;break}return t.next=6,this.getNumericPackageData(this.data.emailId);case 6:if(t.t1=this.canManageMail(),!t.t1){t.next=16;break}return this.initEmailModelsList(),this.initM2MList(),this.initSignEmailModelsList(),t.next=13,this.getResourceData();case 13:return t.next=15,this.getM2MSenders();case 15:this.setDefaultInfo();case 16:this.loading=!1;case 17:case"end":return t.stop()}}),t,this)})))}},{key:"isBadEmailFormat",value:function(t){return null===t.trim().match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/g)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dialogRef.close(t)}},{key:"addRecipient",value:function(t){this.recipients.push(t),this.recipientsInput.nativeElement.value="",this.recipientsCtrl.setValue("")}},{key:"mergeEmailTemplate",value:function(t){var e=this;this.templateEmailListForm.reset(),this.http.post("../rest/templates/".concat(t,"/mergeEmail"),{data:{resId:this.data.resId}}).pipe(Object(lt.a)((function(t){var n=document.createElement("textarea");n.innerHTML=t.mergedDocument,e.numericPackage.content+=e.stringPipe.transform(n.value)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"mergeSignEmailTemplate",value:function(t){var e=this;this.emailSignListForm.reset(),this.http.get("../rest/currentUser/emailSignatures/"+t).pipe(Object(lt.a)((function(t){var n=document.createElement("textarea");n.innerHTML=t.emailSignature.content,e.numericPackage.content+=e.stringPipe.transform(n.value)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"remove",value:function(t,e){if(this.canManageMail()){var n=this[e].indexOf(t);n>=0&&this[e].splice(n,1)}}},{key:"getNumericPackageData",value:function(t){var e=this;return new Promise((function(n){e.http.get("../rest/messageExchanges/"+t).pipe(Object(wr.a)((function(t){return t.messageExchange})),Object(lt.a)((function(t){e.numericPackageCreatorId=t.userId,t.recipient.communicationMeans=t.communicationType,e.recipients=[t.recipient],e.currentSender.label=t.sender,e.numericPackage.object=t.object,e.numericPackageStatus=t.status.toUpperCase(),e.numericPackage.content=t.body,e.reference=t.reference,e.messageReview=t.messageReview.map((function(t){return{date:e.functions.formatFrenchDateToObjectDate(t.substring(1,19),"/"),content:t.substring(21)}})),e.messageReview=e.reversePipe.transform(e.messageReview),"res_letterbox"===t.disposition.tablename?(e.numericPackage.mainExchangeDoc=Object.assign(Object.assign({},e.numericPackageAttachTool.document.list[0]),{typeLabel:e.translate.instant("lang.mainDocument"),type:"document"}),e.numericPackageAttach=e.numericPackageAttach.concat(e.numericPackageAttachTool.attachments.list.filter((function(e){return t.attachments.indexOf(e.id.toString())>-1})))):(e.numericPackage.mainExchangeDoc=Object.assign(Object.assign({},e.numericPackageAttachTool.attachments.list.filter((function(e){return e.id===t.disposition.res_id}))[0]),{type:"attachments"}),e.numericPackageAttach=e.numericPackageAttach.concat(e.numericPackageAttachTool.attachments.list.filter((function(e){return t.attachments.indexOf(e.id.toString())>-1&&e.id!==t.disposition.res_id})))),t.resMasterAttached&&"res_letterbox"!==t.disposition.tablename&&e.numericPackageAttach.push(Object.assign(Object.assign({},e.numericPackageAttachTool.document.list[0]),{typeLabel:e.translate.instant("lang.mainDocument"),type:"document"})),e.numericPackageAttach=e.numericPackageAttach.concat(e.numericPackageAttachTool.notes.list.filter((function(e){return t.notes.indexOf(e.id.toString())>-1}))),n(!0)})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),n(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getResourceData",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"?light=true")).pipe(Object(lt.a)((function(n){t.resourceData=n,t.numericPackage.object=t.resourceData.subject,e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"setDefaultInfo",value:function(){var t=this;this.functions.empty(this.resourceData.senders)||this.resourceData.senders.forEach((function(e){t.setSender(e.id)}))}},{key:"setSender",value:function(t){var e=this;this.http.get("../rest/contacts/"+t).pipe(Object(lt.a)((function(t){e.functions.empty(t.communicationMeans)||e.functions.empty(t.externalId.m2m)||e.recipients.push({label:e.contactService.formatContact(t),email:t.email,m2m:t.externalId.m2m,communicationMeans:t.communicationMeans})})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"getM2MSenders",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/messageExchangesInitialization").pipe(Object(lt.a)((function(n){t.availableSenders=n.entities,t.currentSender=t.availableSenders[0],e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"getAttachElements",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.data.resId,"/emailsInitialization")).pipe(Object(lt.a)((function(n){Object.keys(n).forEach((function(e){"resource"===e?(t.numericPackageAttachTool.document.list=[],t.functions.empty(n[e])||(t.numericPackageAttachTool.document.list=[n[e]])):t.numericPackageAttachTool[e].list=n[e].map((function(t){return Object.assign(Object.assign({},t),{original:void 0===t.original||t.original,title:void 0!==t.chrono?"".concat(t.chrono," - ").concat(t.label," (").concat(t.typeLabel,")"):"".concat(t.label," (").concat(t.typeLabel,")")})}))})),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(On.of)(!1)}))).subscribe()}))}},{key:"initM2MList",value:function(){var t=this;this.recipientsCtrl.valueChanges.pipe(Object(ot.a)((function(t){return null!==t})),Object(rt.a)(300),Object(lt.a)((function(e){0===e.length&&(t.filteredEmails=Object(On.of)([]))})),Object(ot.a)((function(t){return t.length>2})),Object(st.a)(),Object(ct.a)((function(e){return t.http.get("../rest/autocomplete/contacts/m2m",{params:{search:e}})})),Object(lt.a)((function(e){e=e.map((function(e){return Object.assign(Object.assign({},e),{address:t.contactService.formatContact(e),label:t.contactService.formatContact(e)})})),t.filteredEmails=Object(On.of)(e)})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"initEmailModelsList",value:function(){var t=this;this.http.get("../rest/resources/".concat(this.data.resId,"/emailTemplates")).pipe(Object(lt.a)((function(e){t.availableEmailModels=e.templates})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"initSignEmailModelsList",value:function(){var t=this;this.http.get("../rest/currentUser/emailSignatures").pipe(Object(lt.a)((function(e){t.availableSignEmailModels=e.emailSignatures})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"resetAutocomplete",value:function(){this.filteredEmails=Object(On.of)([])}},{key:"onSubmit",value:function(){var t=this;this.loading=!0,this.numericPackageStatus="WAITING",null===this.data.emailId?""===this.numericPackage.object?this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:this.translate.instant("lang.warnEmptySubject")}}).afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){t.createEmail(!0)}))).subscribe():this.createEmail(!0):this.updateEmail(!0)}},{key:"createEmail",value:function(){var t=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this.http.post("../rest/resources/".concat(this.data.resId,"/messageExchange"),this.formatNumericPackage()).pipe(Object(lt.a)((function(){t.notify.success(t.translate.instant("lang.numericPackageSent")),t.closeModal("success")})),Object(Ln.a)((function(){return t.loading=!1})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"deleteEmail",value:function(){var t=this;this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return t.http.delete("../rest/messageExchanges/"+t.data.emailId)})),Object(lt.a)((function(){t.notify.success(t.translate.instant("lang.numericPackageDeleted")),t.closeModal("success")})),Object(Ln.a)((function(){return t.loading=!1})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"updateEmail",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.http.put("../rest/emails/"+this.data.emailId,this.formatNumericPackage()).pipe(Object(lt.a)((function(){t.notify.success(t.translate.instant("lang.numericPackageSent")),e&&t.closeModal("success")})),Object(Ln.a)((function(){return t.loading=!1})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"toggleAttach",value:function(t,e,n){null===this.numericPackage.mainExchangeDoc&&"notes"!==e?this.numericPackage.mainExchangeDoc=Object.assign(Object.assign({},t),{typeLabel:void 0!==t.typeLabel?t.typeLabel:this.translate.instant("lang.mainDocument"),type:e}):this.numericPackageAttach.push(Object.assign(Object.assign({},t),{typeLabel:void 0!==t.typeLabel?t.typeLabel:this.translate.instant("lang.mainDocument"),type:e}))}},{key:"removeAttach",value:function(t){this.numericPackageAttach.splice(t,1)}},{key:"formatNumericPackage",value:function(){var t={};if(null!==this.numericPackage.mainExchangeDoc){var e="res_letterbox";"attachments"===this.numericPackage.mainExchangeDoc.type?e="res_attachments":"notes"===this.numericPackage.mainExchangeDoc.type&&(e="notes"),t.joinFile=[parseInt(this.numericPackage.mainExchangeDoc.id)],t.mainExchangeDoc="".concat(e,"__").concat(this.numericPackage.mainExchangeDoc.id)}return t.object=this.numericPackage.object,t.content=this.numericPackage.content,t.contacts=this.recipients.map((function(t){return t.id})),t.joinAttachment=this.numericPackageAttach.filter((function(t){return"attachments"===t.type})).map((function(t){return t.id})),t.notes=this.numericPackageAttach.filter((function(t){return"notes"===t.type})).map((function(t){return t.id})),t.senderEmail=this.currentSender.id,t}},{key:"isSelectedAttach",value:function(t,e){return this.numericPackageAttach.filter((function(n){return n.id===t.id&&n.type===e})).length>0||null!==this.numericPackage.mainExchangeDoc&&this.numericPackage.mainExchangeDoc.id===t.id&&e===this.numericPackage.mainExchangeDoc.type}},{key:"isSelectedAttachType",value:function(t){return this.numericPackageAttach.filter((function(e){return e.type===t})).length>0||null!==this.numericPackage.mainExchangeDoc&&t===this.numericPackage.mainExchangeDoc.type}},{key:"canManageMail",value:function(){return null===this.data.emailId||"SENT"!==this.numericPackageStatus&&this.headerService.user.id===this.numericPackageCreatorId?(this.recipientsCtrl.enable(),!0):(this.recipientsCtrl.disable(),!1)}},{key:"compareSenders",value:function(t,e){return!(t.label!==e.label&&(null!==t.label&&null!==e.label||null!==t.entityId&&null!==e.entityId)||t.entityId!==e.entityId||t.email!==e.email)}},{key:"saveNumericPackageFile",value:function(){var t=this;this.http.get("../rest/messageExchanges/".concat(this.data.emailId,"/archiveContent"),{responseType:"blob"}).pipe(Object(lt.a)((function(e){var n,i,a,r,o=document.createElement("a");o.href=window.URL.createObjectURL(e),i=(n=new Date).getDate(),a=n.getMonth()+1,r=n.getFullYear(),i<10&&(i="0"+i),a<10&&(a="0"+a),n=i+"-"+a+"-"+r,o.setAttribute("download",t.translate.instant("lang.summarySheetsAlt")+"_"+n+".pdf"),document.body.appendChild(o),o.click()})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Jf)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.a),i.Tb(Y.b),i.Tb(Y.h),i.Tb(ft.a),i.Tb(_u.a),i.Tb(Gi.a),i.Tb(f.a),i.Tb(Dr.r),i.Tb(Dr.l))},Jf.\u0275cmp=i.Nb({type:Jf,selectors:[["app-sent-numeric-package-page"]],viewQuery:function(t,e){var n;1&t&&i.Oc(kf,!0),2&t&&i.Cc(n=i.ic())&&(e.recipientsInput=n.first)},features:[i.Db([_u.a,Dr.r,Dr.l])],decls:58,vars:47,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[2,"flex","1"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"modal-container"],["class","loading",4,"ngIf"],["class","alert-message alert-message-info",3,"innerHTML",4,"ngIf"],[1,"attachLabel"],["matInput","","readonly","",3,"value",4,"ngIf"],["required","",3,"compareWith","ngModel","ngModelChange",4,"ngIf"],["id","recipients-list"],["recipientsList",""],["class","recipients",3,"removable","removed","click",4,"ngFor","ngForOf"],["required","",3,"formControl","matChipInputFor","matAutocomplete","focus"],["recipientsInput",""],[3,"optionSelected"],["autoEmails","matAutocomplete"],["class","m2mRecipientList",3,"value",4,"ngFor","ngForOf"],["matInput","","maxlength","70","required","",3,"readonly","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click",4,"ngFor","ngForOf"],["emailAttachListMenu","matMenu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","attachMsg",4,"ngIf"],[2,"overflow","auto","max-height","300px"],["class","models",4,"ngIf"],["class","row","style","margin: 0;padding-top: 10px;",4,"ngIf"],[2,"padding-top","10px"],["appearance","outline"],["matInput","","matTextareaAutosize","",2,"padding","0",3,"placeholder","ngModel","readonly","ngModelChange"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],[1,"loading"],[2,"margin","auto"],[1,"alert-message","alert-message-info",3,"innerHTML"],["matInput","","readonly","",3,"value"],["required","",3,"compareWith","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"recipients",3,"removable","removed","click"],["matChipRemove","","class","fa fa-times",4,"ngIf"],["matChipRemove","",1,"fa","fa-times"],[1,"m2mRecipientList",3,"value"],["mat-icon-button","","matSuffix","",3,"disabled","title","matMenuTriggerFor","click"],["color","primary"],["mat-menu-item","","style","line-height: normal;","disableRipple","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","","disableRipple","",2,"line-height","normal",3,"disabled","click"],[3,"title","click"],[2,"font-size","10px","opacity","0.5"],[1,"attachMsg"],[1,"fas","fa-arrow-up"],["mat-subheader","",1,"attachLabel"],["class","numericPackageAttach",4,"ngIf"],[1,"numericPackageAttach"],["mat-line","",1,"numericPackageAttachItem"],[2,"overflow","hidden","text-overflow","ellipsis"],[1,"badge"],[1,"subInfo"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"fa","fa-trash"],["class","numericPackageAttach",4,"ngFor","ngForOf"],[2,"overflow","hidden","text-overflow","ellipsis",3,"title"],[1,"models"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected",4,"ngIf"],[3,"label","placeholderLabel","datas","formControlSelect","afterSelected"],["templateList",""],[1,"row",2,"margin","0","padding-top","10px"],[1,"col-md-9"],[1,"messageExchangeHistory"],["class","messageExchangeHistoryItem",4,"ngFor","ngForOf"],["class","noAction",4,"ngIf"],[1,"col-md-3","text-center"],["mat-button","","color","primary",2,"width","180px","white-space","initial","line-height","20px","padding","10px",3,"click"],[1,"fas","fa-file-download",2,"font-size","40px"],[1,"messageExchangeHistoryItem"],[1,"messageExchangeHistoryDate"],[1,"noAction"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Zb(2,"span",2),i.Sc(3),i.Yb(),i.Zb(4,"button",3),i.hc("click",(function(){return e.closeModal()})),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"mat-dialog-content",5),i.Qc(7,Cf,2,0,"div",6),i.Qc(8,wf,2,6,"div",7),i.Zb(9,"mat-form-field"),i.Zb(10,"mat-label",8),i.Sc(11),i.mc(12,"translate"),i.Yb(),i.Qc(13,Of,1,1,"input",9),i.Qc(14,Ef,3,6,"mat-select",10),i.Yb(),i.Zb(15,"mat-form-field"),i.Zb(16,"mat-label",8),i.Sc(17),i.mc(18,"translate"),i.Yb(),i.Zb(19,"mat-chip-list",11,12),i.Qc(21,If,10,8,"mat-chip",13),i.Zb(22,"input",14,15),i.hc("focus",(function(){return e.resetAutocomplete()})),i.Yb(),i.Yb(),i.Zb(24,"mat-autocomplete",16,17),i.hc("optionSelected",(function(t){return e.addRecipient(t.option.value)})),i.Qc(26,Pf,8,7,"mat-option",18),i.mc(27,"async"),i.Yb(),i.Yb(),i.Zb(28,"mat-form-field"),i.Zb(29,"mat-label",8),i.Sc(30),i.mc(31,"translate"),i.Yb(),i.Zb(32,"input",19),i.hc("ngModelChange",(function(t){return e.numericPackage.object=t})),i.Yb(),i.Qc(33,Tf,2,8,"button",20),i.mc(34,"keyvalue"),i.Zb(35,"mat-menu",null,21),i.Qc(37,Rf,2,1,"ng-container",22),i.mc(38,"keyvalue"),i.Yb(),i.Yb(),i.Qc(39,Lf,5,4,"mat-form-field",23),i.Qc(40,Ff,4,3,"div",24),i.Zb(41,"div",25),i.Qc(42,Zf,4,2,"mat-list",23),i.Qc(43,Nf,1,0,"mat-divider",23),i.Qc(44,zf,4,2,"mat-list",23),i.Yb(),i.Qc(45,Qf,3,2,"div",26),i.Ub(46,"mat-divider"),i.Qc(47,qf,15,8,"div",27),i.Zb(48,"div",28),i.Zb(49,"mat-form-field",29),i.Zb(50,"mat-label",8),i.Sc(51),i.mc(52,"translate"),i.Yb(),i.Zb(53,"textarea",30),i.hc("ngModelChange",(function(t){return e.numericPackage.content=t})),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(54,"span",31),i.Zb(55,"div",32),i.Qc(56,Xf,3,4,"button",33),i.Qc(57,$f,3,4,"button",34),i.Yb(),i.Yb()),2&t){var n=i.Dc(20),a=i.Dc(25);i.Eb(3),i.Uc(" ",e.functions.empty(e.reference)?e.translate.instant("lang.sendNumericPackage"):e.reference," "),i.Eb(1),i.sc("title",e.translate.instant("lang.close")),i.Eb(3),i.sc("ngIf",e.loading),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(3),i.Tc(i.nc(12,33,"lang.sender")),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(3),i.Uc("",i.nc(18,35,"lang.recipient")," *"),i.Eb(4),i.sc("ngForOf",e.recipients),i.Eb(1),i.sc("formControl",e.recipientsCtrl)("matChipInputFor",n)("matAutocomplete",a),i.Eb(4),i.sc("ngForOf",i.nc(27,37,e.filteredEmails)),i.Eb(4),i.Tc(i.nc(31,39,"lang.mailSubject")),i.Eb(2),i.sc("readonly",!e.canManageMail())("ngModel",e.numericPackage.object),i.Eb(1),i.sc("ngForOf",i.nc(34,41,e.numericPackageAttachTool)),i.Eb(2),i.Gb("attachListMenu"),i.Eb(2),i.sc("ngForOf",i.nc(38,43,e.numericPackageAttachTool)),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(1),i.sc("ngIf",null===e.numericPackage.mainExchangeDoc&&0===e.numericPackageAttach.length&&e.canManageMail()),i.Eb(2),i.sc("ngIf",null!==e.numericPackage.mainExchangeDoc),i.Eb(1),i.sc("ngIf",e.numericPackageAttach.length>0),i.Eb(1),i.sc("ngIf",e.numericPackageAttach.length>0),i.Eb(1),i.sc("ngIf",e.canManageMail()),i.Eb(2),i.sc("ngIf",!e.canManageMail()),i.Eb(4),i.Tc(i.nc(52,45,"lang.note")),i.Eb(2),i.sc("placeholder",e.translate.instant("lang.addNoteToNumericPackage"))("ngModel",e.numericPackage.content)("readonly",!e.canManageMail()),i.Eb(3),i.sc("ngIf",e.canManageMail()&&e.privilegeService.hasCurrentUserPrivilege("sendmail")&&"ERROR"!==e.numericPackageStatus),i.Eb(1),i.sc("ngIf",e.data.emailId&&!e.loading&&"ERROR"===e.numericPackageStatus)}},directives:[Y.i,g.b,b.a,Y.f,y.t,N.c,N.g,kd.d,y.s,j.c,kd.c,Ar.d,j.E,j.t,j.i,Ar.a,U.b,j.o,j.w,to.e,O.a,U.d,Y.c,_.c,gt.a,w.o,kd.a,kd.e,N.j,to.d,to.b,k.a,k.g,k.d,w.k,Cd.a],pipes:[l.d,y.b,y.l,no.a,Dr.p,Hn.a],styles:[".loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;z-index:2;width:100%;top:0;left:0;background:#fff}.models[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;padding-top:10px}.activeButton[_ngcontent-%COMP%]{color:#f99830;font-weight:700}.attachLabel[_ngcontent-%COMP%]{color:#135f7f} .attachListMenu{width:auto;max-width:none;min-height:auto}.numericPackageAttachItem[_ngcontent-%COMP%]{font-size:14px;display:grid!important;grid-template-columns:1fr 150px 50px 50px;grid-gap:10px;align-items:center}.numericPackageAttachItem[_ngcontent-%COMP%]   .subInfo[_ngcontent-%COMP%]{color:#135f7f;font-size:80%}.m2mRecipientList[_ngcontent-%COMP%]{line-height:normal;font-size:14px}.recipients[_ngcontent-%COMP%]{font-size:14px!important;padding:10px!important;width:100%;min-height:auto;height:auto;border-radius:5px;cursor:pointer}.attachMsg[_ngcontent-%COMP%]{font-size:20px;padding:30px;opacity:.5;font-weight:700;position:relative;text-align:center}.attachMsg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:0;right:40px;transform:rotate(29deg)}.badge[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;font-size:10px!important;color:#fff;font-weight:400;border-radius:.25em;background:#135f7f}.alert-message[_ngcontent-%COMP%]{min-width:100%}.messageExchangeHistory[_ngcontent-%COMP%]{max-height:300px;overflow:auto}.messageExchangeHistoryItem[_ngcontent-%COMP%]{display:grid;grid-template-columns:130px 1fr;grid-gap:10px;align-items:center;padding:10px}.messageExchangeHistoryItem[_ngcontent-%COMP%]:nth-child(odd){background:rgba(19,95,127,.1)}.messageExchangeHistoryDate[_ngcontent-%COMP%]{color:#135f7f}.noAction[_ngcontent-%COMP%]{padding:10px;opacity:.5;font-style:italic}"]}),Jf);function th(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner"),i.Yb(),i.Wb())}function eh(t,e){if(1&t&&(i.Zb(0,"mat-button-toggle",13),i.Sc(1),i.Yb()),2&t){var n=e.$implicit,a=i.lc(3);i.sc("checked",a.currentFilter===n.id)("value",n.id),i.Eb(1),i.Uc("",n.label," ")}}function nh(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-button-toggle-group",12),i.hc("change",(function(t){return i.Hc(n),i.lc(2).filterType(t)})),i.Zb(1,"mat-button-toggle",13),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Qc(4,eh,2,3,"mat-button-toggle",14),i.mc(5,"sortBy"),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(1),i.sc("checked",""===a.currentFilter)("value",""),i.Eb(1),i.Tc(i.nc(3,4,"lang.all")),i.Eb(2),i.sc("ngForOf",i.oc(5,6,a.filterTypes,"label"))}}function ih(t,e){if(1&t&&(i.Zb(0,"span",34),i.mc(1,"fullDate"),i.Sc(2),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(2);i.sc("title",i.nc(1,3,n.creationDate)),i.Eb(2),i.Uc(" ",a.translate.instant("m2m_ARCHIVETRANSFER"==n.type?"lang.sent":"lang.createdAlt")," : "),i.Eb(2),i.Tc(i.oc(5,5,n.creationDate,"full"))}}function ah(t,e){if(1&t&&(i.Zb(0,"span",35),i.mc(1,"fullDate"),i.Sc(2),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(2);i.sc("title",i.nc(1,3,n.sendDate)),i.Eb(2),i.Uc(" ","m2m_ARCHIVETRANSFER"==n.type?"Re\xe7u":a.translate.instant("lang.sent")," : "),i.Eb(2),i.Tc(i.oc(5,5,n.sendDate,"full"))}}function rh(t,e){1&t&&(i.Zb(0,"span",36),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.draft")," "))}function oh(t,e){1&t&&(i.Zb(0,"span",36),i.Sc(1," En attente de r\xe9ception "),i.Yb())}function sh(t,e){1&t&&(i.Zb(0,"span",37),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.emailSendInProgress")," "))}function ch(t,e){1&t&&(i.Zb(0,"span",38),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.notSent")," "))}function lh(t,e){1&t&&(i.Zb(0,"span",36),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.manualSendingAR")," "))}function uh(t,e){if(1&t&&(i.Zb(0,"span",35),i.mc(1,"fullDate"),i.Sc(2),i.mc(3,"translate"),i.Zb(4,"b"),i.Sc(5),i.mc(6,"timeAgo"),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.sc("title",i.nc(1,3,n.operationDate)),i.Eb(2),i.Uc(" ",i.nc(3,5,"lang.delivery")," : "),i.Eb(3),i.Tc(i.oc(6,7,n.operationDate,"full"))}}function dh(t,e){1&t&&i.Ub(0,"i",39)}function fh(t,e){1&t&&i.Ub(0,"i",40)}function hh(t,e){1&t&&i.Ub(0,"i",41)}function ph(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t){var n=i.lc().$implicit;i.sc("title",n.sender),i.Eb(1),i.Vc(" ",i.nc(2,3,"lang.senderShort")," : ",n.sender," ")}}function mh(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-cell",15),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).open(t)})),i.Zb(1,"div",16),i.Qc(2,ih,6,8,"span",17),i.Qc(3,ah,6,8,"span",18),i.Qc(4,rh,3,3,"span",19),i.Qc(5,oh,2,0,"span",19),i.Qc(6,sh,3,3,"span",20),i.Qc(7,ch,3,3,"span",21),i.Qc(8,lh,3,3,"span",19),i.Qc(9,uh,7,10,"span",18),i.Yb(),i.Zb(10,"div",22),i.Zb(11,"div",23),i.Zb(12,"span",24),i.Zb(13,"span",25),i.Sc(14),i.mc(15,"translate"),i.Yb(),i.Zb(16,"div",26),i.Qc(17,dh,1,0,"i",27),i.Qc(18,fh,1,0,"i",28),i.Qc(19,hh,1,0,"i",29),i.Yb(),i.Yb(),i.Yb(),i.Ub(20,"div",30),i.Zb(21,"div",31),i.Qc(22,ph,3,5,"span",32),i.Zb(23,"span",33),i.Sc(24),i.mc(25,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Jb("canManage",a.canManage),i.Eb(2),i.sc("ngIf",null===a.sendDate&&"SENT"===a.status&&"m2m_ARCHIVETRANSFER"==a.type||"m2m_ARCHIVETRANSFER"!=a.type),i.Eb(1),i.sc("ngIf",null!==a.sendDate),i.Eb(1),i.sc("ngIf","DRAFT"===a.status),i.Eb(1),i.sc("ngIf",null===a.sendDate&&"SENT"===a.status),i.Eb(1),i.sc("ngIf","WAITING"===a.status),i.Eb(1),i.sc("ngIf","ERROR"===a.status),i.Eb(1),i.sc("ngIf","ERROR"!==a.status&&"acknowledgementReceipt"==a.type&&r.functions.empty(a.sendDate)),i.Eb(1),i.sc("ngIf",!r.functions.empty(a.operationDate)),i.Eb(4),i.Pc("background",a.typeColor,i.Mb),i.sc("title",r.translate.instant("lang."+a.type)),i.Eb(1),i.Tc(i.nc(15,22,"lang."+a.type)),i.Eb(3),i.sc("ngIf",a.hasMainDoc),i.Eb(1),i.sc("ngIf",a.hasAttach),i.Eb(1),i.sc("ngIf",a.hasNote),i.Eb(1),i.sc("innerHTML",a.desc,i.Ic),i.Eb(2),i.sc("ngIf",a.sender),i.Eb(1),i.sc("title",a.recipients),i.Eb(1),i.Vc(" ",i.nc(25,24,"lang.recipientShort")," : ",a.recipients," ")}}function gh(t,e){1&t&&i.Ub(0,"mat-row")}function bh(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",42),i.hc("click",(function(){return i.Hc(n),i.lc(2).openPromptMail()})),i.Ub(1,"mat-icon",43),i.Yb()}if(2&t){var a=i.lc(2);i.sc("title",a.translate.instant("lang.sendElement"))}}function vh(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",42),i.hc("click",(function(){return i.Hc(n),i.lc(2).openPromptNumericPackage()})),i.Zb(1,"mat-icon",44),i.Ub(2,"i",45),i.Ub(3,"i",46),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.sc("title",a.translate.instant("lang.sendNumericPackage"))}}function yh(t,e){if(1&t&&(i.Zb(0,"div",3),i.Zb(1,"div",4),i.Qc(2,nh,6,9,"mat-button-toggle-group",5),i.Yb(),i.Yb(),i.Zb(3,"mat-table",6,7),i.Xb(5,8),i.Qc(6,mh,26,26,"mat-cell",9),i.Wb(),i.Qc(7,gh,1,0,"mat-row",10),i.Yb(),i.Qc(8,bh,2,1,"button",11),i.Qc(9,vh,4,1,"button",11)),2&t){var n=i.lc();i.Eb(2),i.sc("ngIf",n.sentResources.length>0),i.Eb(1),i.sc("dataSource",n.dataSource),i.Eb(4),i.sc("matRowDefColumns",n.displayedColumns),i.Eb(1),i.sc("ngIf",n.privilegeService.hasCurrentUserPrivilege("sendmail")),i.Eb(1),i.sc("ngIf",n.privilegeService.hasCurrentUserPrivilege("sendmail"))}}var _h,kh,Ch=((kh=function(){function t(e,n,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.functions=o,this.privilegeService=s,this.loading=!0,this.displayedColumns=["creationDate"],this.sentResources=[],this.resultsLength=0,this.currentFilter="",this.filterTypes=[],this.resId=null,this.reloadBadgeSentResource=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loadList();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"loadList",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sentResources=[],this.loading=!0,t.next=4,this.initAcknowledgementReceiptList();case 4:return t.next=6,this.initEmailList();case 6:return t.next=8,this.initMessageExchange();case 8:return t.next=10,this.initShippings();case 10:this.reloadBadgeSentResource.emit(""+this.sentResources.length),this.initFilter(),setTimeout((function(){e.dataSource=new dt.o(e.sentResources),e.dataSource.sort=e.sort}),0),this.loading=!1;case 14:case"end":return t.stop()}}),t,this)})))}},{key:"initAcknowledgementReceiptList",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.resId,"/acknowledgementReceipts?type=ar")).pipe(Object(wr.a)((function(e){return e.map((function(e){var n,i;return n=t.functions.empty(e.contact.email)?t.translate.instant("lang.withoutEmail"):e.contact.email,i=t.functions.empty(e.contact.firstname)&&t.functions.empty(e.contact.lastname)?t.functions.empty(e.contact.company)?t.translate.instant("lang.contactDeleted"):e.contact.company:e.contact.firstname+" "+e.contact.lastname,{id:e.id,sender:!1,recipients:"html"===e.format?n:i,creationDate:e.creationDate,sendDate:e.sendDate,type:"acknowledgementReceipt",typeColor:"#7d5ba6",desc:t.translate.instant("html"===e.format?"lang.ARelectronic":"lang.ARPaper"),status:"html"===e.format&&null===e.sendDate?"ERROR":"SENT",hasAttach:!1,hasNote:!1,hasMainDoc:!1,canManage:!0}}))})),Object(lt.a)((function(n){t.sentResources=t.sentResources.concat(n),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(Yu.a)(!1)}))).subscribe()}))}},{key:"initEmailList",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.resId,"/emails?type=email")).pipe(Object(wr.a)((function(e){return e.emails=e.emails.map((function(e){return{id:e.id,sender:e.sender.email,recipients:e.recipients,creationDate:e.creation_date,sendDate:e.send_date,type:"email",typeColor:"#5bc0de",desc:t.functions.empty(e.object)?"<i>".concat(t.translate.instant("lang.emptySubject"),"<i>"):e.object,status:e.status,hasAttach:!t.functions.empty(e.document.attachments),hasNote:!t.functions.empty(e.document.notes),hasMainDoc:e.document.isLinked,canManage:!0}})),e.emails})),Object(lt.a)((function(n){t.sentResources=t.sentResources.concat(n),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(Yu.a)(!1)}))).subscribe()}))}},{key:"initMessageExchange",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.resId,"/messageExchanges")).pipe(Object(wr.a)((function(e){return e.messageExchanges=e.messageExchanges.map((function(e){return{id:e.messageId,sender:e.sender,recipients:e.recipient,creationDate:e.creationDate,sendDate:e.receptionDate,operationDate:e.operationDate,type:"m2m_ARCHIVETRANSFER",typeColor:"#F99830",desc:t.translate.instant("lang.m2m_ARCHIVETRANSFER"),status:e.status.toUpperCase(),hasAttach:!1,hasNote:!1,hasMainDoc:!1,canManage:!0}})),e.messageExchanges})),Object(lt.a)((function(n){t.sentResources=t.sentResources.concat(n),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(Yu.a)(!1)}))).subscribe()}))}},{key:"initShippings",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.resId,"/shippings")).pipe(Object(wr.a)((function(e){return e.map((function(e){return{id:e.id,sender:e.userLabel,recipients:e.recipients.map((function(t){return t.contactLabel})),creationDate:e.creationDate,sendDate:e.creationDate,type:"shipping",typeColor:"#9440D5",desc:t.translate.instant("lang.shipping"),status:"SENT",hasAttach:"attachment"===e.creationDate,hasNote:!1,hasMainDoc:"resource"===e.creationDate,canManage:!1}}))})),Object(lt.a)((function(n){t.sentResources=t.sentResources.concat(n),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(Yu.a)(!1)}))).subscribe()}))}},{key:"initFilter",value:function(){var t=this;this.sentResources.forEach((function(e){0===t.filterTypes.filter((function(t){return t.id===e.type})).length&&t.filterTypes.push({id:e.type,label:t.translate.instant("lang."+e.type)})}))}},{key:"filterType",value:function(t){this.currentFilter=t.value,this.dataSource.filter=t.value}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,type:null};"m2m_ARCHIVETRANSFER"===t.type?this.openPromptNumericPackage(t):this.openPromptMail(t)}},{key:"openPromptMail",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,type:null},n=this.translate.instant("lang.sendElement");null!==e.id&&(n=this.translate.instant("lang."+e.type)),(e.canManage||null===e.id)&&this.dialog.open(_f,{panelClass:"maarch-modal",width:"60vw",disableClose:!0,data:{title:n,resId:this.resId,emailId:e.id,emailType:e.type}}).afterClosed().pipe(Object(ot.a)((function(t){return"success"===t.state||"success"===t})),Object(lt.a)((function(){t.refreshEmailList(),setTimeout((function(){t.refreshWaitingElements()}),5e3)})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(Yu.a)(!1)}))).subscribe()}},{key:"openPromptNumericPackage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,type:null},n=this.translate.instant("lang.sendElement");null!==e.id&&(n=this.translate.instant("lang."+e.type)),(e.canManage||null===e.id)&&this.dialog.open(Kf,{panelClass:"maarch-modal",width:"60vw",disableClose:!0,data:{title:n,resId:this.resId,emailId:e.id}}).afterClosed().pipe(Object(ot.a)((function(t){return"success"===t.state||"success"===t})),Object(lt.a)((function(){t.loadList()})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(Yu.a)(!1)}))).subscribe()}},{key:"refreshWaitingElements",value:function(){var t=this;this.sentResources.forEach((function(e){"WAITING"==e.status&&"email"==e.type&&t.http.get("../rest/emails/"+e.id).pipe(Object(lt.a)((function(n){"SENT"!=n.status&&"ERROR"!=n.status||("SENT"==n.status?t.notify.success(t.translate.instant("lang.emailSent")):t.notify.error(t.translate.instant("lang.emailCannotSent")),t.sentResources.forEach((function(i,a){i.id==e.id&&"email"==i.type&&(t.sentResources[a].status=n.status,t.sentResources[a].sendDate=n.sendDate)})))}))).subscribe()})),setTimeout((function(){t.dataSource=new dt.o(t.sentResources),t.dataSource.sort=t.sort}),0)}},{key:"refreshEmailList",value:function(){var t=this;return new Promise((function(e){t.http.get("../rest/resources/".concat(t.resId,"/emails?type=email")).pipe(Object(wr.a)((function(e){return e.emails=e.emails.map((function(e){return{id:e.id,sender:e.sender.email,recipients:e.recipients,creationDate:e.creation_date,sendDate:e.send_date,type:"email",typeColor:"#5bc0de",desc:t.functions.empty(e.object)?"<i>".concat(t.translate.instant("lang.emptySubject"),"<i>"):e.object,status:e.status,hasAttach:!t.functions.empty(e.document.attachments),hasNote:!t.functions.empty(e.document.notes),hasMainDoc:e.document.isLinked,canManage:!0}})),e.emails})),Object(lt.a)((function(n){var i=t.sentResources.filter((function(t){return"email"!==t.type}));t.sentResources=i.concat(n),setTimeout((function(){t.dataSource=new dt.o(t.sentResources),t.dataSource.sort=t.sort}),0),t.initFilter(),e(!0)})),Object(wn.a)((function(n){return t.notify.handleSoftErrors(n),e(!1),Object(Yu.a)(!1)}))).subscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||kh)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.b),i.Tb(ft.a),i.Tb(Gi.a))},kh.\u0275cmp=i.Nb({type:kh,selectors:[["app-sent-resource-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(_t.a,!0),2&t&&i.Cc(n=i.ic())&&(e.sort=n.first)},inputs:{resId:"resId"},outputs:{reloadBadgeSentResource:"reloadBadgeSentResource"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseLoading",""],[1,"loading"],[1,"row",2,"margin","0px"],[1,"col-md-12",2,"padding-bottom","10px"],["class","filterTypes",3,"change",4,"ngIf"],["matSort","","matSortActive","creationDate","matSortDirection","desc",3,"dataSource"],["table",""],["matColumnDef","creationDate"],["class","dataLine","style","flex: 1;padding: 0px;flex-direction: column;",3,"canManage","click",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],["mat-fab","","class","addSentResource","color","primary",3,"title","click",4,"ngIf"],[1,"filterTypes",3,"change"],[3,"checked","value"],[3,"checked","value",4,"ngFor","ngForOf"],[1,"dataLine",2,"flex","1","padding","0px","flex-direction","column",3,"click"],[1,"subinfo"],["style","flex:1",3,"title",4,"ngIf"],["style","flex:1;color:green",3,"title",4,"ngIf"],["style","flex:1;color:orange",4,"ngIf"],["style","flex:1;color:orange;font-weight: bold;",4,"ngIf"],["style","flex:1;color:red;font-weight: bold;",4,"ngIf"],[2,"display","grid","grid-template-columns","100px 1fr 170px","width","100%","grid-gap","10px","align-items","center","padding","10px"],[1,"dateType"],[1,"type"],[1,"badge",3,"title"],[1,"attach"],["class","fas fa-file","title","Document attach\xe9",4,"ngIf"],["class","fas fa-paperclip","title","Pi\xe8ce(s) jointe(s) attach\xe9e(s)",4,"ngIf"],["class","fas fa-pen-square","title","Note(s) attach\xe9e(s)",4,"ngIf"],[1,"desc",3,"innerHTML"],[1,"contact"],["style","white-space: pre;overflow: hidden;text-overflow: ellipsis;",3,"title",4,"ngIf"],[2,"white-space","pre","overflow","hidden","text-overflow","ellipsis",3,"title"],[2,"flex","1",3,"title"],[2,"flex","1","color","green",3,"title"],[2,"flex","1","color","orange"],[2,"flex","1","color","orange","font-weight","bold"],[2,"flex","1","color","red","font-weight","bold"],["title","Document attach\xe9",1,"fas","fa-file"],["title","Pi\xe8ce(s) jointe(s) attach\xe9e(s)",1,"fas","fa-paperclip"],["title","Note(s) attach\xe9e(s)",1,"fas","fa-pen-square"],["mat-fab","","color","primary",1,"addSentResource",3,"title","click"],[1,"fa","fa-plus",2,"height","auto","width","auto"],[2,"height","auto","width","auto","font-size","20px"],[1,"fas","fa-envelope-open-text",2,"left","-5px","position","relative"],[1,"fas","fa-wifi",2,"position","absolute","font-size","10px","transform","rotate(35deg)","margin-left","-3px","margin-top","-3px"]],template:function(t,e){if(1&t&&(i.Qc(0,th,3,0,"ng-container",0),i.Qc(1,yh,10,5,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[y.t,_.c,dt.n,_t.a,dt.c,dt.b,dt.m,Rr.b,Rr.a,y.s,dt.a,dt.l,g.b,b.a],pipes:[l.d,no.a,wc.a,Hn.a],styles:[".dateType[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center}.dateType[_ngcontent-%COMP%], .dateType[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;font-size:10px!important}.dateType[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;color:#fff;font-weight:400;border-radius:.25em}.dateType[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{opacity:.5}.desc[_ngcontent-%COMP%]{font-size:13px;flex:1;display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:red}.success[_ngcontent-%COMP%]{color:green}.contact[_ngcontent-%COMP%]{font-size:10px;flex-direction:column;display:flex}.filterTypes[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden;width:auto;max-width:100%;margin-left:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked{background:#f99830;color:#fff;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-label-content{line-height:0}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-button{height:100%}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button{color:#135f7f;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button .mat-button-toggle-label-content{line-height:0}.subinfo[_ngcontent-%COMP%]{padding:5px;display:flex;font-size:10px;width:100%}.canManage[_ngcontent-%COMP%]{cursor:pointer;transition:all .5s}.canManage[_ngcontent-%COMP%]:hover{background:rgba(19,95,127,.1);transition:all .5s}.attach[_ngcontent-%COMP%]{font-size:13px;display:flex;padding:5px;color:#135f7f}.attach[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex:1;cursor:help}.addSentResource[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:2;bottom:10px;margin-left:10px}.loading[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:center}"]}),kh),xh=((_h=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialogRef=a,this.notify=r}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var t=this;this.http.post("../rest/indexingModels",this.data.indexingModel).pipe(Object(lt.a)((function(e){t.data.indexingModel.id=e.id,t.notify.success(t.translate.instant("lang.indexingModelAdded")),t.dialogRef.close(t.data)})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(Yu.a)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||_h)(i.Tb(l.e),i.Tb(u.b),i.Tb(Y.a),i.Tb(Y.h),i.Tb(h.a))},_h.\u0275cmp=i.Nb({type:_h,selectors:[["ng-component"]],decls:21,vars:18,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[3,"ngSubmit"],["submitForm","ngForm"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px",3,"innerHTML"],["appearance","outline"],["matInput","","name","label","required","","maxlength","256",3,"placeholder","ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","default","type","button",3,"click"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-dialog-content"),i.Zb(5,"form",2,3),i.hc("ngSubmit",(function(){return e.onSubmit()})),i.Ub(7,"div",4),i.Zb(8,"mat-form-field",5),i.Zb(9,"mat-label"),i.Sc(10),i.mc(11,"translate"),i.Yb(),i.Zb(12,"input",6),i.hc("ngModelChange",(function(t){return e.data.indexingModel.label=t})),i.mc(13,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Zb(14,"mat-dialog-actions"),i.Zb(15,"button",7),i.hc("click",(function(){return i.Hc(n),i.Dc(6).ngSubmit.emit()})),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Zb(18,"button",8),i.hc("click",(function(){return e.dialogRef.close()})),i.Sc(19),i.mc(20,"translate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(6);i.Eb(2),i.Tc(i.nc(3,8,"lang.privateIndexingModelCreation")),i.Eb(5),i.sc("innerHTML",e.translate.instant("lang.addPrivateIndexingModelMsg")+" <b>"+e.data.masterIndexingModel.label+"</b> "+e.translate.instant("lang.addPrivateIndexingModelMsg2"),i.Ic),i.Eb(3),i.Tc(i.nc(11,10,"lang.label")),i.Eb(2),i.tc("placeholder",i.nc(13,12,"lang.label")),i.sc("ngModel",e.data.indexingModel.label),i.Eb(3),i.sc("disabled",!a.form.valid),i.Eb(1),i.Tc(i.nc(17,14,"lang.validate")),i.Eb(3),i.Tc(i.nc(20,16,"lang.cancel"))}},directives:[Y.i,Y.f,j.J,j.u,j.v,N.c,N.g,U.b,j.c,j.E,j.o,j.t,j.w,Y.c,g.b],pipes:[l.d],styles:["mat-icon[_ngcontent-%COMP%]{height:auto!important}"]}),_h);function wh(t,e){if(1&t&&(i.Zb(0,"div",3),i.Sc(1),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Vc(" Mod\xe8le utilis\xe9 : ",n.currentIndexingModel.label," ",n.currentIndexingModel.default?"("+n.translate.instant("lang.default")+")":""," ")}}function Oh(t,e){if(1&t&&(i.Zb(0,"div",19),i.Sc(1),i.mc(2,"shorten"),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc(2);i.Eb(1),i.Vc(" ",i.pc(2,2,n.label,45,"...")," ",n.default?"("+a.translate.instant("lang.default")+")":""," ")}}function Sh(t,e){if(1&t&&(i.Zb(0,"div",19),i.Sc(1),i.mc(2,"shorten"),i.Zb(3,"span",20),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",i.pc(2,2,n.label,45,"..."),"\xa0"),i.Eb(3),i.Tc(i.nc(5,6,"lang.private"))}}function Eh(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",21),i.hc("click",(function(t){i.Hc(n);var e=i.lc(),a=e.$implicit,r=e.index,o=i.lc(2);return t.stopPropagation(),o.deletePrivateIndexingModel(a.id,r)})),i.Ub(1,"mat-icon",22),i.Yb()}if(2&t){var a=i.lc(3);i.sc("title",a.translate.instant("lang.delete"))}}function Mh(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",16),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).selectIndexingModel(t)})),i.Qc(2,Oh,3,6,"div",17),i.Qc(3,Sh,6,8,"div",17),i.Qc(4,Eh,2,1,"button",18),i.Yb(),i.Wb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Eb(1),i.Jb("listModels-menu-selected",a.id===r.currentIndexingModel.id)("private",a.private),i.sc("title",a.label),i.Eb(1),i.sc("ngIf",!a.private),i.Eb(1),i.sc("ngIf",a.private),i.Eb(1),i.sc("ngIf",a.id!==r.currentIndexingModel.id&&a.private)}}function Ih(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",4),i.Ub(1,"mat-icon",5),i.Zb(2,"span",6),i.Sc(3),i.Yb(),i.Ub(4,"i",7),i.Yb(),i.Zb(5,"mat-menu",null,8),i.Zb(7,"div",9),i.Zb(8,"span"),i.Sc(9),i.mc(10,"translate"),i.Yb(),i.Zb(11,"mat-form-field",10),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Zb(12,"input",11,12),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("keydown",(function(t){return i.Hc(n),t.stopPropagation()})),i.mc(14,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(15,Mh,5,8,"ng-container",13),i.mc(16,"filterList"),i.Yb(),i.Zb(17,"button",14),i.hc("click",(function(){return i.Hc(n),i.lc().savePrivateIndexingModel()})),i.Ub(18,"mat-icon",15),i.Yb()}if(2&t){var a=i.Dc(6),r=i.Dc(13),o=i.lc();i.sc("matMenuTriggerFor",a),i.Eb(2),i.sc("title",o.currentIndexingModel.label),i.Eb(1),i.Vc(" ",o.currentIndexingModel.label," ",o.currentIndexingModel.default?"("+o.translate.instant("lang.default")+")":""," "),i.Eb(2),i.Gb("menuForm listModels-menu"),i.Eb(4),i.Uc(" ",i.nc(10,10,"lang.indexingModel")," "),i.Eb(3),i.tc("placeholder",i.nc(14,12,"lang.filterBy")),i.Eb(3),i.sc("ngForOf",i.pc(16,14,o.indexingModels,r.value,"label")),i.Eb(2),i.sc("title",o.translate.instant("lang.createPrivateIndexingModel"))}}var Ph,Th=((Ph=function(){function t(e,n,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this.headerService=a,this.notify=r,this.sortPipe=o,this.dialog=s,this.loading=!0,this.defaultIndexingModelId=null,this.indexingModels=[],this.adminMode=!1,this.afterListModelsLoaded=new i.o,this.afterSelectedListModel=new i.o,this.currentIndexingModel={}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getIndexingModelList()}},{key:"getIndexingModelList",value:function(){var t=this;this.http.get("../rest/indexingModels").pipe(Object(Pn.tap)((function(e){t.indexingModels=e.indexingModels,t.indexingModels.length>0&&(t.currentIndexingModel=null===t.defaultIndexingModelId?t.indexingModels.filter((function(t){return!0===t.default}))[0]:t.indexingModels.filter((function(e){return e.id===t.defaultIndexingModelId}))[0],void 0===t.currentIndexingModel&&(t.currentIndexingModel=t.indexingModels[0],t.notify.error(t.translate.instant("lang.noDefaultIndexingModel"))),t.loadIndexingModelsList())})),Object(Ln.a)((function(){return t.loading=!1})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"loadIndexingModelsList",value:function(){var t=this,e=this.sortPipe.transform(this.indexingModels.filter((function(t){return null===t.master})),"label"),n=this.sortPipe.transform(this.indexingModels.filter((function(t){return null!==t.master})),"label");this.indexingModels=[],e.forEach((function(e){t.indexingModels.push(e),n.forEach((function(n){n.master===e.id&&t.indexingModels.push(n)}))})),this.afterListModelsLoaded.emit(this.currentIndexingModel)}},{key:"resetIndexingModel",value:function(){this.currentIndexingModel=this.indexingModels.filter((function(t){return!0===t.default}))[0],this.afterSelectedListModel.emit(this.currentIndexingModel)}},{key:"selectIndexingModel",value:function(t){this.currentIndexingModel=t,this.afterSelectedListModel.emit(t)}},{key:"getCurrentIndexingModel",value:function(){return this.currentIndexingModel}},{key:"getIndexingModels",value:function(){return this.indexingModels}},{key:"savePrivateIndexingModel",value:function(){var t=this,e=JSON.parse(JSON.stringify(this.indexingForm.getDatas()));e.forEach((function(t,n){delete e[n].event,delete e[n].label,delete e[n].system,delete e[n].type,delete e[n].values}));var n={category:this.indexingForm.getCategory(),label:"",owner:this.headerService.user.id,private:!0,fields:e,master:null!==this.currentIndexingModel.master?this.currentIndexingModel.master:this.currentIndexingModel.id},i=this.indexingModels.filter((function(t){return t.id===n.master}))[0];this.dialog.open(xh,{panelClass:"maarch-modal",autoFocus:!0,disableClose:!0,data:{indexingModel:n,masterIndexingModel:i}}).afterClosed().pipe(Object(ot.a)((function(t){return void 0!==t})),Object(Pn.tap)((function(e){t.indexingModels.push(e.indexingModel),t.currentIndexingModel=t.indexingModels.filter((function(t){return t.id===e.indexingModel.id}))[0],t.loadIndexingModelsList()})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"deletePrivateIndexingModel",value:function(t,e){var n=this;this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return n.http.delete("../rest/indexingModels/"+t)})),Object(Pn.tap)((function(){n.indexingModels.splice(e,1),n.notify.success(n.translate.instant("lang.indexingModelDeleted"))})),Object(wn.a)((function(t){return n.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ph)(i.Tb(l.e),i.Tb(u.b),i.Tb(f.a),i.Tb(h.a),i.Tb(no.a),i.Tb(Y.b))},Ph.\u0275cmp=i.Nb({type:Ph,selectors:[["app-select-indexing-model"]],inputs:{defaultIndexingModelId:"defaultIndexingModelId",indexingModels:"indexingModels",indexingForm:"indexingForm",adminMode:"adminMode"},outputs:{afterListModelsLoaded:"afterListModelsLoaded",afterSelectedListModel:"afterSelectedListModel"},features:[i.Db([no.a])],decls:4,vars:2,consts:[[1,"listModels"],["class","primary",4,"ngIf","ngIfElse"],["menuModel",""],[1,"primary"],["mat-button","",1,"button-form-primary","listModels-button",3,"matMenuTriggerFor"],["mattPrefix","",1,"fab","fa-wpforms"],[1,"menu-label",3,"title"],[1,"fa","fa-chevron-down","menu-icon"],["IndexingModelsMenu","matMenu"],[1,"menuTitle"],["floatLabel","never","appearance","outline",1,"smallInput",2,"width","220px !important",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","click","keydown"],["listFilter",""],[4,"ngFor","ngForOf"],["mat-icon-button","","type","button","color","primary",3,"title","click"],[1,"far","fa-copy"],["mat-menu-item","",2,"display","flex","align-items","center",3,"title","click"],["style","flex:1;",4,"ngIf"],["mat-icon-button","","class","listModels-menu-delete",3,"title","click",4,"ngIf"],[2,"flex","1"],[1,"listModels-menu-badge"],["mat-icon-button","",1,"listModels-menu-delete",3,"title","click"],["color","warn",1,"fa","fa-trash"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0),i.Qc(1,wh,2,2,"div",1),i.Qc(2,Ih,19,18,"ng-template",null,2,i.Rc),i.Yb()),2&t){var n=i.Dc(3);i.Eb(1),i.sc("ngIf",!e.adminMode)("ngIfElse",n)}},directives:[y.t,g.b,to.d,b.a,to.e,N.c,U.b,y.s,to.b],pipes:[l.d,Hs.a,Dr.p],styles:[".listModels[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;padding:10px 40px}@media (max-width:768px){.listModels[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:0;padding-right:0}}.listModels[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:auto}.listModels-button[_ngcontent-%COMP%]{margin-right:20px;width:450px!important} .listModels-menu{min-width:450px!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-badge{background:#fff!important;color:#135f7f!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-delete .mat-icon{color:#fff!important} .listModels-menu-badge{font-size:70%;background:#135f7f;border-radius:20px;color:#fff;padding:2px 5px;font-weight:700} .listModels-menu-delete .mat-icon{margin-right:0} .listModels-menu-selected{color:#fff!important;background:#135f7f} .listModels-menu-selected .listModels-menu-badge{background:#fff!important;color:#135f7f!important}.smallInput[_ngcontent-%COMP%]{padding:10px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0}.menuTitle[_ngcontent-%COMP%]{display:flex;padding-left:20px;align-items:center;color:#135f7f;font-weight:700}.private[_ngcontent-%COMP%]{padding-left:50px}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),Ph),Ah=n("enVo"),Dh=["snav2"],Rh=["adminMenuTemplate"],Lh=["appDocumentViewer"],Fh=["indexingForm"],jh=["appDiffusionsList"],Yh=["appVisaWorkflow"],Zh=["appAvisWorkflow"];function Nh(t,e){1&t&&i.Ub(0,"i",27)}function Uh(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",25),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=i.lc(2);return!!a.isToolEnabled(t.id)&&a.changeTab(t.id)})),i.Qc(1,Nh,1,0,"i",26),i.Ub(2,"i"),i.Zb(3,"span"),i.Sc(4),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Jb("processTool-module-active",a.id===r.currentTool)("tool-disabled",!r.isToolEnabled(a.id)),i.Eb(1),i.sc("ngIf",a.count>0),i.Eb(1),i.Gb(a.icon),i.Eb(2),i.Tc(a.label)}}function Bh(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",28),i.Zb(1,"button",29),i.hc("click",(function(){return i.Hc(n),i.lc(2).createModal()})),i.Ub(2,"mat-icon",30),i.Yb(),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(1),i.sc("title",a.translate.instant("lang.openInExternalModal"))}}function zh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-history-workflow-resume",38),i.hc("goTo",(function(){return i.Hc(n),i.lc(3).currentTool="history"})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)}}function Vh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-note-resume",38),i.hc("goTo",(function(){return i.Hc(n),i.lc(3).currentTool="notes"})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)}}function Hh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-attachments-resume",38),i.hc("goTo",(function(){return i.Hc(n),i.lc(3).currentTool="attachments"})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)}}function Qh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-mail-resume",38),i.hc("goTo",(function(){return i.Hc(n),i.lc(3).currentTool="emails"})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)}}function Wh(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"div",31),i.Zb(2,"button",32),i.hc("click",(function(){return i.Hc(n),i.lc(2).openPrintedFolderPrompt()})),i.Ub(3,"mat-icon",33),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Zb(6,"div",34),i.Zb(7,"div",35),i.hc("click",(function(){return i.Hc(n),i.lc(2).currentTool="history"})),i.Sc(8),i.mc(9,"translate"),i.Ub(10,"div",36),i.Yb(),i.Zb(11,"div",12),i.Qc(12,zh,1,1,"app-history-workflow-resume",37),i.Yb(),i.Yb(),i.Zb(13,"div",34),i.Zb(14,"div",35),i.hc("click",(function(){return i.Hc(n),i.lc(2).currentTool="notes"})),i.Sc(15),i.mc(16,"translate"),i.Ub(17,"div",36),i.Yb(),i.Zb(18,"div",12),i.Qc(19,Vh,1,1,"app-note-resume",37),i.Yb(),i.Yb(),i.Zb(20,"div",34),i.Zb(21,"div",35),i.hc("click",(function(){return i.Hc(n),i.lc(2).currentTool="attachments"})),i.Sc(22),i.mc(23,"translate"),i.Ub(24,"div",36),i.Yb(),i.Zb(25,"div",12),i.Qc(26,Hh,1,1,"app-attachments-resume",37),i.Yb(),i.Yb(),i.Zb(27,"div",34),i.Zb(28,"div",35),i.hc("click",(function(){return i.Hc(n),i.lc(2).currentTool="emails"})),i.Sc(29),i.mc(30,"translate"),i.Ub(31,"div",36),i.Yb(),i.Zb(32,"div",12),i.Qc(33,Qh,1,1,"app-mail-resume",37),i.Yb(),i.Yb(),i.Wb()}if(2&t){var a=i.lc(2);i.Eb(2),i.sc("title",a.translate.instant("lang.generateAndDownloadPrintedFolder")),i.Eb(2),i.Uc(" ",i.nc(5,10,"lang.printedFolder")," "),i.Eb(4),i.Uc(" ",i.nc(9,12,"lang.history")," "),i.Eb(4),i.sc("ngIf",!a.loading),i.Eb(3),i.Uc(" ",i.nc(16,14,"lang.notesAlt")," "),i.Eb(4),i.sc("ngIf",!a.loading),i.Eb(3),i.Uc(" ",i.nc(23,16,"lang.attachments")," "),i.Eb(4),i.sc("ngIf",!a.loading),i.Eb(3),i.Uc(" ",i.nc(30,18,"lang.mailsSentAlt")," "),i.Eb(4),i.sc("ngIf",!a.loading)}}function Gh(t,e){if(1&t&&i.Ub(0,"app-history-list",51,52),2&t){var n=i.lc(3);i.sc("resId",n.currentResourceInformations.resId)}}function qh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-notes-list",53,54),i.hc("reloadBadgeNotes",(function(t){return i.Hc(n),i.lc(3).refreshBadge(t,"notes")})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("editMode",!0)("resId",a.currentResourceInformations.resId)}}function Xh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-linked-resource-list",55,56),i.hc("reloadBadgeLinkedResources",(function(t){return i.Hc(n),i.lc(3).refreshBadge(t,"linkedResources")})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)}}function $h(t,e){if(1&t&&i.Ub(0,"app-diffusions-list",57,58),2&t){var n=i.lc(3);i.sc("adminMode",!0)("target",n.detailMode?"details":"process")("resId",n.currentResourceInformations.resId)("expanded",!0)}}function Jh(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-sent-resource-list",59,60),i.hc("reloadBadgeSentResource",(function(t){return i.Hc(n),i.lc(3).refreshBadge(t,"emails")})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)}}function Kh(t,e){if(1&t&&i.Ub(0,"app-visa-workflow",61,62),2&t){var n=i.lc(3);i.sc("resId",n.currentResourceInformations.resId)("adminMode",n.privilegeService.hasCurrentUserPrivilege(n.detailMode?"config_visa_workflow_in_detail":"config_visa_workflow"))}}function tp(t,e){if(1&t&&i.Ub(0,"app-avis-workflow",61,63),2&t){var n=i.lc(3);i.sc("resId",n.currentResourceInformations.resId)("adminMode",n.privilegeService.hasCurrentUserPrivilege(n.detailMode?"config_avis_workflow_in_detail":"config_avis_workflow"))}}function ep(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-attachments-list",64,65),i.hc("reloadBadgeAttachments",(function(t){return i.Hc(n),i.lc(3).refreshBadge(t,"attachments")})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("resId",a.currentResourceInformations.resId)("autoOpenCreation",a.isMailing)("target","process")}}function np(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-select-indexing-model",66,67),i.hc("afterSelectedListModel",(function(t){return i.Hc(n),i.lc(3).indexingForm.loadForm(t.id,!1)})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("defaultIndexingModelId",a.currentResourceInformations.modelId)("adminMode",a.canChangeModel)("indexingForm",a.indexingForm)}}function ip(t,e){1&t&&(i.Ub(0,"div",68),i.mc(1,"translate")),2&t&&i.sc("innerHTML",i.nc(1,1,"lang.dispositListGeneratedMsg"),i.Ic)}function ap(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-indexing-form",69,70),i.hc("loadingFormEndEvent",(function(){return i.Hc(n),i.lc(3).triggerProcessAction()}))("retrieveDocumentEvent",(function(){return i.Hc(n),i.lc(3).appDocumentViewer.saveDocService()}))("afterSaveEvent",(function(){return i.Hc(n),i.lc(3).refreshData()})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("groupId",a.currentGroupId)("resId",a.currentResourceInformations.resId)("indexingFormId",a.currentResourceInformations.modelId)("mode","process")("canEdit",a.canEditData)("hideDiffusionList",!0)}}function rp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(n),i.lc(3).saveTool()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){var a=i.lc(3);i.sc("title",a.translate.instant("lang.saveModifications"))}}function op(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Gh,2,1,"app-history-list",39),i.Qc(2,qh,2,2,"app-notes-list",40),i.Qc(3,Xh,2,1,"app-linked-resource-list",41),i.Qc(4,$h,2,4,"app-diffusions-list",42),i.Qc(5,Jh,2,1,"app-sent-resource-list",43),i.Qc(6,Kh,2,2,"app-visa-workflow",44),i.Qc(7,tp,2,2,"app-avis-workflow",44),i.Qc(8,ep,2,3,"app-attachments-list",45),i.Qc(9,np,2,3,"app-select-indexing-model",46),i.Qc(10,ip,2,3,"div",47),i.Qc(11,ap,2,6,"app-indexing-form",48),i.Zb(12,"div",49),i.Qc(13,rp,2,1,"button",50),i.Yb(),i.Wb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngIf","history"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","notes"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","linkedResources"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","diffusionList"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","emails"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","visaCircuit"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","opinionCircuit"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","attachments"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","info"===n.currentTool&&!n.loading),i.Eb(1),i.sc("ngIf","info"===n.currentTool&&!n.loading&&!n.functions.empty(n.currentResourceInformations.registeredMail_deposit_id)),i.Eb(1),i.sc("ngIf","info"===n.currentTool&&!n.loading),i.Eb(2),i.sc("ngIf",n.isToolModified())}}function sp(t,e){1&t&&(i.Zb(0,"div",73),i.Ub(1,"i",30),i.Sc(2),i.mc(3,"translate"),i.Yb()),2&t&&(i.Eb(2),i.Uc(" ",i.nc(3,1,"lang.openedInExternalModal")," "))}function cp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",88),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(4).selectAction(t)})),i.Zb(1,"span",89),i.Sc(2),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(4);i.Jb("listModels-menu-selected",a.id===r.selectedAction.id),i.sc("title",a.label),i.Eb(2),i.Tc(a.label)}}function lp(t,e){if(1&t&&(i.Xb(0),i.Qc(1,cp,3,4,"button",87),i.Wb()),2&t){var n=e.$implicit,a=i.lc(4);i.Eb(1),i.sc("ngIf",a.showActionInCurrentCategory(n))}}function up(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",90),i.hc("click",(function(){return i.Hc(n),i.lc(4).onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc(4);i.sc("disabled",a.actionService.loading||0===a.selectedAction.id||void 0!==a.appDocumentViewer&&!a.appDocumentViewer.isEditorLoaded()),i.Eb(1),i.Tc(i.nc(2,2,"lang.validate"))}}function dp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",91),i.hc("click",(function(){return i.Hc(n),i.lc(4).onSubmit()})),i.Ub(1,"mat-icon",92),i.Yb()}}function fp(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",76),i.Ub(2,"span",77),i.Ub(3,"i",78),i.Yb(),i.Zb(4,"mat-menu",null,79),i.Zb(6,"div",80),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Zb(10,"mat-form-field",81),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Zb(11,"input",82,83),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("keydown",(function(t){return i.Hc(n),t.stopPropagation()})),i.mc(13,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(14,lp,2,1,"ng-container",84),i.mc(15,"filterList"),i.Yb(),i.Qc(16,up,3,4,"button",85),i.Qc(17,dp,2,0,"button",86),i.Wb()}if(2&t){var a=i.Dc(5),r=i.Dc(12),o=i.lc(3);i.Eb(1),i.sc("disabled",0===o.selectedAction.id)("matMenuTriggerFor",a)("title",o.selectedAction.label),i.Eb(1),i.sc("innerHTML",o.selectedAction.label,i.Ic),i.Eb(2),i.Gb("menuForm menuAction"),i.Eb(4),i.Uc(" ",i.nc(9,11,"lang.actions")," "),i.Eb(3),i.tc("placeholder",i.nc(13,13,"lang.filterBy")),i.Eb(3),i.sc("ngForOf",i.pc(15,15,o.actionsList,r.value,"label")),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(1),i.sc("ngIf",o.appService.getViewMode())}}function hp(t,e){if(1&t&&i.Ub(0,"div",93),2&t){var n=i.lc(3);i.sc("innerHTML",n.translate.instant("lang.noAvailableActionProcess"),i.Ic)}}function pp(t,e){if(1&t&&(i.Zb(0,"div",74),i.Qc(1,fp,18,19,"ng-container",22),i.Qc(2,hp,1,1,"div",75),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("ngIf",n.actionsList.length>0&&void 0!==n.selectedAction),i.Eb(1),i.sc("ngIf",0===n.actionsList.length)}}function mp(t,e){if(1&t&&(i.Zb(0,"div",17),i.Zb(1,"div",18),i.Qc(2,Uh,5,8,"div",19),i.Yb(),i.Yb(),i.Zb(3,"div",20),i.Qc(4,Bh,3,1,"div",21),i.Qc(5,Wh,34,20,"ng-container",22),i.Qc(6,op,14,12,"ng-container",9),i.Qc(7,sp,4,3,"ng-template",null,23,i.Rc),i.Yb(),i.Qc(9,pp,3,2,"div",24)),2&t){var n=i.Dc(8),a=i.lc();i.Eb(2),i.sc("ngForOf",a.processTool),i.Eb(2),i.sc("ngIf",!a.isModalOpen()&&"dashboard"!==a.currentTool),i.Eb(1),i.sc("ngIf","dashboard"===a.currentTool),i.Eb(1),i.sc("ngIf",!a.isModalOpen()&&!a.loading)("ngIfElse",n),i.Eb(3),i.sc("ngIf",!a.detailMode)}}function gp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Zb(1,"b"),i.Ub(2,"i",107),i.Sc(3),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(2),i.Pc("color",n.currentResourceInformations.priorityColor),i.Eb(1),i.Uc(" ",n.currentResourceInformations.priorityLabel,"")}}function bp(t,e){if(1&t&&i.Ub(0,"i",108),2&t){var n=i.lc(2);i.Pc("color",n.senderLightInfo.filling)}}function vp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Zb(1,"div"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",101),i.mc(5,"fullDate"),i.Sc(6),i.mc(7,"date"),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(2),i.Uc("",i.nc(3,3,"lang.returnDate")," :"),i.Eb(2),i.sc("title",i.nc(5,5,n.currentResourceInformations.registeredMail_returnDate)),i.Eb(2),i.Uc(" ",i.oc(7,7,n.currentResourceInformations.registeredMail_returnDate,"dd/MM/y"),"")}}function yp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Zb(1,"div"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"div",101),i.Sc(5),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(2),i.Uc("",i.nc(3,3,"lang.returnReason")," :"),i.Eb(2),i.sc("title",n.currentResourceInformations.registeredMail_returnReason),i.Eb(1),i.Uc(" ",n.currentResourceInformations.registeredMail_returnReason,"")}}function _p(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",110),i.mc(2,"fullDate"),i.Sc(3),i.mc(4,"translate"),i.mc(5,"timeAgo"),i.Ub(6,"i",111),i.Yb(),i.Wb()),2&t){var n=i.lc(3);i.Eb(1),i.sc("title",i.nc(2,3,n.currentResourceInformations.closingDate)),i.Eb(2),i.Vc(" ",i.nc(4,5,"lang.closed")," ",i.oc(5,7,n.currentResourceInformations.closingDate,"full"),"\xa0\xa0")}}function kp(t,e){if(1&t&&(i.Zb(0,"div"),i.Sc(1),i.mc(2,"translate"),i.Yb(),i.Ub(3,"div",112),i.mc(4,"fullDate"),i.mc(5,"timeLimit")),2&t){var n=i.lc(3);i.Eb(1),i.Uc("",i.nc(2,3,"lang.processLimitDate")," :"),i.Eb(2),i.sc("title",i.nc(4,5,n.currentResourceInformations.processLimitDate))("innerHTML",i.oc(5,7,n.currentResourceInformations.processLimitDate,"badge"),i.Ic)}}function Cp(t,e){if(1&t&&(i.Zb(0,"div",100),i.Qc(1,_p,7,10,"ng-container",9),i.Qc(2,kp,6,10,"ng-template",null,109,i.Rc),i.Yb()),2&t){var n=i.Dc(3),a=i.lc(2);i.Eb(1),i.sc("ngIf",null!==a.currentResourceInformations.closingDate)("ngIfElse",n)}}function xp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",113),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).toggleIntegration(t.key)})),i.mc(1,"translate"),i.Ub(2,"mat-icon"),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.tc("matTooltip",i.nc(1,7,"lang."+a.key)),i.Eb(2),i.Gb(a.value.icon),i.Jb("checked",r.currentResourceInformations.integrations[a.key])("unchecked",!r.currentResourceInformations.integrations[a.key])}}function wp(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"div",94),i.Zb(2,"span",95),i.Sc(3),i.Zb(4,"small",96),i.Sc(5),i.Yb(),i.Yb(),i.Ub(6,"div",36),i.Yb(),i.Zb(7,"div",12),i.Zb(8,"button",97),i.hc("click",(function(){return i.Hc(n),i.lc().toggleFollow()})),i.Ub(9,"mat-icon",98),i.Yb(),i.Qc(10,gp,4,3,"div",99),i.Zb(11,"div",100),i.Zb(12,"div"),i.Sc(13),i.mc(14,"translate"),i.Yb(),i.Zb(15,"div",101),i.Sc(16),i.Yb(),i.Yb(),i.Zb(17,"div",102),i.hc("click",(function(){return i.Hc(n),i.lc().openContact()})),i.Zb(18,"div"),i.Sc(19),i.Yb(),i.Zb(20,"div",103),i.Sc(21),i.Qc(22,bp,1,2,"i",104),i.Yb(),i.Yb(),i.Qc(23,vp,8,10,"div",99),i.Qc(24,yp,6,5,"div",99),i.Qc(25,Cp,4,2,"div",99),i.Zb(26,"div",105),i.Qc(27,xp,3,9,"button",106),i.mc(28,"keyvalue"),i.Yb(),i.Yb(),i.Wb()}if(2&t){var a=i.lc();i.Eb(2),i.sc("title",a.currentResourceInformations.subject+" ("+a.currentResourceInformations.statusLabel+")"),i.Eb(1),i.Uc(" ",a.currentResourceInformations.subject," "),i.Eb(2),i.Tc(a.currentResourceInformations.statusLabel),i.Eb(3),i.sc("title",a.translate.instant(a.resourceFollowed?"lang.untrackThisMail":"lang.trackThisMail")),i.Eb(1),i.Hb("followIcon ",a.resourceFollowed?"fas":"far"," fa-star"),i.Eb(1),i.sc("ngIf",void 0!==a.currentResourceInformations.priority),i.Eb(3),i.Uc("",i.nc(14,18,"lang.chronoNumberShort")," :"),i.Eb(2),i.sc("title","N\xb0 "+a.currentResourceInformations.resId),i.Eb(1),i.Uc(" ",a.currentResourceInformations.chrono,""),i.Eb(3),i.Uc("",a.translate.instant("outgoing"!==a.currentResourceInformations.categoryId?"lang.senders":"lang.recipient")," :"),i.Eb(2),i.Uc("",a.senderLightInfo.displayName," "),i.Eb(1),i.sc("ngIf",a.senderLightInfo.filling),i.Eb(1),i.sc("ngIf",!a.functions.empty(a.currentResourceInformations.registeredMail_returnDate)),i.Eb(1),i.sc("ngIf",!a.functions.empty(a.currentResourceInformations.registeredMail_returnReason)),i.Eb(1),i.sc("ngIf",void 0!==a.currentResourceInformations.processLimitDate),i.Eb(2),i.sc("ngForOf",i.nc(28,20,a.integrationsInfo))}}function Op(t,e){1&t&&(i.Zb(0,"div",114),i.Ub(1,"mat-spinner",115),i.Yb())}function Sp(t,e){if(1&t&&i.Ub(0,"app-document-viewer",116,117),2&t){var n=i.lc();i.sc("editMode",n.canEditData)("resId",n.currentResourceInformations.resId)("title",n.currentResourceInformations.chrono+" - "+n.currentResourceInformations.subject)}}function Ep(t,e){if(1&t&&i.Ub(0,"app-history-list",51,52),2&t){var n=i.lc(2);i.sc("resId",n.currentResourceInformations.resId)}}function Mp(t,e){if(1&t&&i.Ub(0,"app-notes-list",129,54),2&t){var n=i.lc(2);i.sc("editMode",!0)("resId",n.currentResourceInformations.resId)}}function Ip(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-linked-resource-list",55,56),i.hc("reloadBadgeLinkedResources",(function(t){return i.Hc(n),i.lc(2).refreshBadge(t,"linkedResources")})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("resId",a.currentResourceInformations.resId)}}function Pp(t,e){if(1&t&&i.Ub(0,"app-diffusions-list",57,58),2&t){var n=i.lc(2);i.sc("adminMode",!0)("target",n.detailMode?"details":"process")("resId",n.currentResourceInformations.resId)("expanded",!0)}}function Tp(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-sent-resource-list",59,60),i.hc("reloadBadgeSentResource",(function(t){return i.Hc(n),i.lc(2).refreshBadge(t,"emails")})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("resId",a.currentResourceInformations.resId)}}function Ap(t,e){if(1&t&&i.Ub(0,"app-visa-workflow",130,62),2&t){var n=i.lc(2);i.sc("adminMode",n.privilegeService.hasCurrentUserPrivilege(n.detailMode?"config_visa_workflow_in_detail":"config_visa_workflow"))("resId",n.currentResourceInformations.resId)}}function Dp(t,e){if(1&t&&i.Ub(0,"app-avis-workflow",61,63),2&t){var n=i.lc(2);i.sc("resId",n.currentResourceInformations.resId)("adminMode",n.privilegeService.hasCurrentUserPrivilege(n.detailMode?"config_avis_workflow_in_detail":"config_avis_workflow"))}}function Rp(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-attachments-list",131,65),i.hc("reloadBadgeAttachments",(function(t){return i.Hc(n),i.lc(2).refreshBadge(t,"attachments")})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("resId",a.currentResourceInformations.resId)("autoOpenCreation",a.isMailing)}}function Lp(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-select-indexing-model",132,67),i.hc("afterSelectedListModel",(function(t){return i.Hc(n),i.lc(2).indexingForm.loadForm(t.id,!1)})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("adminMode",a.canChangeModel)("indexingForm",a.indexingForm)("defaultIndexingModelId",a.currentResourceInformations.modelId)}}function Fp(t,e){1&t&&(i.Ub(0,"div",68),i.mc(1,"translate")),2&t&&i.sc("innerHTML",i.nc(1,1,"lang.dispositListGeneratedMsg"),i.Ic)}function jp(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-indexing-form",133,70),i.hc("loadingFormEndEvent",(function(){return i.Hc(n),i.lc(2).triggerProcessAction()}))("retrieveDocumentEvent",(function(){return i.Hc(n),i.lc(2).appDocumentViewer.saveDocService()}))("afterSaveEvent",(function(){return i.Hc(n),i.lc(2).refreshData()})),i.Yb()}if(2&t){var a=i.lc(2);i.sc("groupId",a.currentGroupId)("indexingFormId",a.currentResourceInformations.modelId)("resId",a.currentResourceInformations.resId)("mode","process")("canEdit",a.canEditData)("hideDiffusionList",!0)}}function Yp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(n),i.lc(2).confirmModification()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){var a=i.lc(2);i.sc("title",a.translate.instant("lang.saveModifications"))}}function Zp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(n),i.lc(2).saveListinstance()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){var a=i.lc(2);i.sc("title",a.translate.instant("lang.saveModifications"))}}function Np(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",71),i.hc("click",(function(){return i.Hc(n),i.lc(2).saveVisaWorkflow()})),i.Ub(1,"mat-icon",72),i.Yb()}if(2&t){var a=i.lc(2);i.sc("title",a.translate.instant("lang.saveModifications"))}}function Up(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",118),i.Zb(1,"div",119),i.Zb(2,"span"),i.Sc(3),i.Yb(),i.Zb(4,"button",120),i.hc("click",(function(){i.Hc(n);var t=e.index;return i.lc().removeModal(t)})),i.Ub(5,"mat-icon",121),i.Yb(),i.Yb(),i.Zb(6,"div",122),i.Qc(7,Ep,2,1,"app-history-list",39),i.Qc(8,Mp,2,2,"app-notes-list",123),i.Qc(9,Ip,2,1,"app-linked-resource-list",41),i.Qc(10,Pp,2,4,"app-diffusions-list",42),i.Qc(11,Tp,2,1,"app-sent-resource-list",43),i.Qc(12,Ap,2,2,"app-visa-workflow",124),i.Qc(13,Dp,2,2,"app-avis-workflow",44),i.Qc(14,Rp,2,2,"app-attachments-list",125),i.Qc(15,Lp,2,3,"app-select-indexing-model",126),i.Qc(16,Fp,2,3,"div",47),i.Qc(17,jp,2,6,"app-indexing-form",127),i.Zb(18,"div",128),i.Qc(19,Yp,2,1,"button",50),i.Qc(20,Zp,2,1,"button",50),i.Qc(21,Np,2,1,"button",50),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc();i.Hb("modal-module ",a.id,""),i.Jb("largeModal","info"===a.id||"history"===a.id),i.Eb(3),i.Uc(" ",a.label," "),i.Eb(4),i.sc("ngIf","history"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","notes"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","linkedResources"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","diffusionList"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","emails"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","visaCircuit"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","opinionCircuit"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","attachments"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","info"===a.id&&!r.loading),i.Eb(1),i.sc("ngIf","info"===a.id&&!r.loading&&!r.functions.empty(r.currentResourceInformations.registeredMail_deposit_id)),i.Eb(1),i.sc("ngIf","info"===a.id&&!r.loading),i.Eb(2),i.sc("ngIf",void 0!==r.indexingForm&&r.indexingForm.isResourceModified()&&"info"===a.id),i.Eb(1),i.sc("ngIf",void 0!==r.appDiffusionsList&&r.appDiffusionsList.isModified()&&"diffusionList"===a.id),i.Eb(1),i.sc("ngIf",void 0!==r.appVisaWorkflow&&r.appVisaWorkflow.isModified()&&"visaCircuit"===a.id)}}var Bp,zp=function(t){return{width:t}},Vp=((Bp=function(){function t(e,n,i,a,r,o,s,c,l,u,d,f,h,p,m,g){var b=this;_classCallCheck(this,t),this.translate=e,this.route=n,this._activatedRoute=i,this.http=a,this.dialog=r,this.headerService=o,this.filtersListService=s,this.notify=c,this.overlay=l,this.viewContainerRef=u,this.appService=d,this.actionService=f,this.contactService=h,this.router=p,this.privilegeService=m,this.functions=g,this.loading=!0,this.detailMode=!1,this.isMailing=!1,this.actionsList=[],this.currentUserId=null,this.currentBasketId=null,this.currentGroupId=null,this.selectedAction={id:0,label:"",component:"",default:!1,categoryUse:[]},this.currentResourceInformations={},this.processTool=[{id:"dashboard",icon:"fas fa-columns",label:this.translate.instant("lang.newsFeed"),count:0},{id:"history",icon:"fas fa-history",label:this.translate.instant("lang.history"),count:0},{id:"notes",icon:"fas fa-pen-square",label:this.translate.instant("lang.notesAlt"),count:0},{id:"attachments",icon:"fas fa-paperclip",label:this.translate.instant("lang.attachments"),count:0},{id:"linkedResources",icon:"fas fa-link",label:this.translate.instant("lang.links"),count:0},{id:"emails",icon:"fas fa-envelope",label:this.translate.instant("lang.mailsSentAlt"),count:0},{id:"diffusionList",icon:"fas fa-share-alt",label:this.translate.instant("lang.diffusionList"),editMode:!1,count:0},{id:"visaCircuit",icon:"fas fa-list-ol",label:this.translate.instant("lang.visaWorkflow"),count:0},{id:"opinionCircuit",icon:"fas fa-comment-alt",label:this.translate.instant("lang.avis"),count:0},{id:"info",icon:"fas fa-info-circle",label:this.translate.instant("lang.informations"),count:0}],this.modalModule=[],this.currentTool="dashboard",this.actionEnded=!1,this.canEditData=!1,this.canChangeModel=!1,this.autoAction=!1,this.integrationsInfo={inSignatureBook:{icon:"fas fa-file-signature"}},this.senderLightInfo={displayName:null,fillingRate:null},this.hasContact=!1,this.resourceFollowed=!1,this.route.params.subscribe((function(t){b.loading=!0,b.headerService.sideBarForm=!0,b.headerService.showhHeaderPanel=!0,b.headerService.showMenuShortcut=!1,b.headerService.showMenuNav=!1,b.headerService.sideBarAdmin=!0,void 0!==t.detailResId?b.initDetailPage(t):b.initProcessPage(t)}),(function(t){b.notify.handleErrors(t)})),this.subscription=this.actionService.catchAction().subscribe((function(t){b.actionEnded=!0,b.router.navigate(["/basketList/users/".concat(b.currentUserId,"/groups/").concat(b.currentGroupId,"/baskets/").concat(b.currentBasketId)])}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu","form"),this.headerService.setHeader(this.translate.instant("lang.eventProcessDoc"))}},{key:"checkAccesDocument",value:function(t){var e=this;return new Promise((function(n,i){e.http.get("../rest/resources/".concat(t,"/isAllowed")).pipe(Object(lt.a)((function(t){t.isAllowed?n(!0):(e.notify.error(e.translate.instant("lang.documentOutOfPerimeter")),e.router.navigate(["/home"]))})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),e.router.navigate(["/home"]),Object(On.of)(!1)}))).subscribe()}))}},{key:"initProcessPage",value:function(t){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.detailMode=!1,this.currentUserId=t.userSerialId,this.currentGroupId=t.groupSerialId,this.currentBasketId=t.basketId,this.currentResourceInformations={resId:t.resId,mailtracking:!1},this.headerService.sideBarButton={icon:"fa fa-inbox",label:this.translate.instant("lang.backBasket"),route:"/basketList/users/".concat(this.currentUserId,"/groups/").concat(this.currentGroupId,"/baskets/").concat(this.currentBasketId)},e.next=8,this.checkAccesDocument(this.currentResourceInformations.resId);case 8:this.actionService.lockResource(this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId]),this.loadBadges(),this.loadResource(),this.appService.getViewMode()&&setTimeout((function(){n.headerService.sideNavLeft.open()}),800),this.http.get("../rest/resourcesList/users/".concat(this.currentUserId,"/groups/").concat(this.currentGroupId,"/baskets/").concat(this.currentBasketId,"/actions?resId=").concat(this.currentResourceInformations.resId)).pipe(Object(wr.a)((function(t){return t.actions=t.actions.map((function(t,e){return{id:t.id,label:t.label,component:t.component,categoryUse:t.categories}})),t})),Object(lt.a)((function(t){n.selectedAction=t.actions[0],n.actionsList=t.actions})),Object(wn.a)((function(t){return n.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe();case 13:case"end":return e.stop()}}),e,this)})))}},{key:"initDetailPage",value:function(t){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._activatedRoute.queryParamMap.subscribe((function(t){n.isMailing=!n.functions.empty(t.get("isMailing"))})),this.detailMode=!0,this.currentResourceInformations={resId:t.detailResId,mailtracking:!1},this.headerService.sideBarButton={icon:"fas fa-arrow-left",label:this.translate.instant("lang.back"),route:"__GOBACK"},e.next=6,this.checkAccesDocument(this.currentResourceInformations.resId);case 6:this.loadBadges(),this.loadResource(),this.appService.getViewMode()&&setTimeout((function(){n.headerService.sideNavLeft.open()}),800);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"isActionEnded",value:function(){return this.actionEnded}},{key:"loadResource",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.http.get("../rest/resources/".concat(this.currentResourceInformations.resId,"?light=true")).pipe(Object(lt.a)((function(n){t.currentResourceInformations=n,t.resourceFollowed=n.followed,"outgoing"!==t.currentResourceInformations.categoryId?t.loadSenders():t.loadRecipients(),e&&t.setEditDataPrivilege(),t.loadAvaibleIntegrations(n.integrations),t.headerService.setHeader(t.translate.instant(t.detailMode?"lang.detailDoc":"lang.eventProcessDoc"),t.translate.instant("lang."+t.currentResourceInformations.categoryId))})),Object(Ln.a)((function(){return t.loading=!1})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"setEditDataPrivilege",value:function(){var t=this;this.detailMode?(this.canEditData=this.privilegeService.hasCurrentUserPrivilege("edit_resource")&&this.currentResourceInformations.statusAlterable&&this.functions.empty(this.currentResourceInformations.registeredMail_deposit_id),this.isMailing&&this.isToolEnabled("attachments")&&(this.currentTool="attachments",setTimeout((function(){t.isMailing=!1}),200))):this.http.get("../rest/resources/".concat(this.currentResourceInformations.resId,"/users/").concat(this.currentUserId,"/groups/").concat(this.currentGroupId,"/baskets/").concat(this.currentBasketId,"/processingData")).pipe(Object(lt.a)((function(e){null!==e.listEventData&&(t.isToolEnabled(e.listEventData.defaultTab)&&(t.currentTool=e.listEventData.defaultTab),t.canEditData=e.listEventData.canUpdateData&&t.functions.empty(t.currentResourceInformations.registeredMail_deposit_id),t.canChangeModel=e.listEventData.canUpdateModel)})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"loadAvaibleIntegrations",value:function(t){var e=this;this.integrationsInfo.inSignatureBook.enable=!this.functions.empty(t.inSignatureBook)&&t.inSignatureBook,this.http.get("../rest/externalConnectionsEnabled").pipe(Object(lt.a)((function(t){Object.keys(t.connection).filter((function(t){return"maarchParapheur"!==t})).forEach((function(t){"maileva"===t&&(e.integrationsInfo.inShipping={icon:"fas fa-shipping-fast"})}))})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"toggleIntegration",value:function(t){var e=this;this.http.put("../rest/resourcesList/integrations",{resources:[this.currentResourceInformations.resId],integrations:_defineProperty({},t,!this.currentResourceInformations.integrations[t])}).pipe(Object(lt.a)((function(){e.currentResourceInformations.integrations[t]=!e.currentResourceInformations.integrations[t],e.notify.success(e.translate.instant("lang.actionDone"))})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"loadBadges",value:function(){var t=this;this.http.get("../rest/resources/".concat(this.currentResourceInformations.resId,"/items")).pipe(Object(lt.a)((function(e){t.processTool.forEach((function(t){t.count=void 0!==e[t.id]?e[t.id]:0}))})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"loadSenders",value:function(){var t=this;void 0===this.currentResourceInformations.senders||0===this.currentResourceInformations.senders.length?(this.hasContact=!1,this.senderLightInfo={displayName:this.translate.instant("lang.noSelectedContact"),filling:null}):1===this.currentResourceInformations.senders.length?(this.hasContact=!0,"contact"===this.currentResourceInformations.senders[0].type?this.http.get("../rest/contacts/"+this.currentResourceInformations.senders[0].id).pipe(Object(lt.a)((function(e){var n=[];t.empty(e.firstname)&&t.empty(e.lastname)?t.senderLightInfo=t.functions.empty(e.fillingRate)?{displayName:e.company}:{displayName:e.company,filling:t.contactService.getFillingColor(e.fillingRate.thresholdLevel)}:(n.push(e.firstname),n.push(e.lastname),t.empty(e.company)||n.push("("+e.company+")"),t.senderLightInfo=t.functions.empty(e.fillingRate)?{displayName:n.filter((function(t){return""!==t})).join(" ")}:{displayName:n.filter((function(t){return""!==t})).join(" "),filling:t.contactService.getFillingColor(e.fillingRate.thresholdLevel)})}))).subscribe():"entity"===this.currentResourceInformations.senders[0].type?this.http.get("../rest/entities/"+this.currentResourceInformations.senders[0].id).pipe(Object(lt.a)((function(e){t.senderLightInfo={displayName:e.entity_label,filling:null}}))).subscribe():"user"===this.currentResourceInformations.senders[0].type&&this.http.get("../rest/users/"+this.currentResourceInformations.senders[0].id).pipe(Object(lt.a)((function(e){t.senderLightInfo={displayName:e.firstname+" "+e.lastname,filling:null}}))).subscribe()):this.currentResourceInformations.senders.length>1&&(this.hasContact=!0,this.senderLightInfo={displayName:this.currentResourceInformations.senders.length+" "+this.translate.instant("lang.senders"),filling:null})}},{key:"loadRecipients",value:function(){var t=this;void 0===this.currentResourceInformations.recipients||0===this.currentResourceInformations.recipients.length?(this.hasContact=!1,this.senderLightInfo={displayName:this.translate.instant("lang.noSelectedContact"),filling:null}):1===this.currentResourceInformations.recipients.length?(this.hasContact=!0,"contact"===this.currentResourceInformations.recipients[0].type?this.http.get("../rest/contacts/"+this.currentResourceInformations.recipients[0].id).pipe(Object(lt.a)((function(e){var n=[];t.empty(e.firstname)&&t.empty(e.lastname)?t.senderLightInfo=t.functions.empty(e.fillingRate)?{displayName:e.company}:{displayName:e.company,filling:t.contactService.getFillingColor(e.fillingRate.thresholdLevel)}:(n.push(e.firstname),n.push(e.lastname),t.empty(e.company)||n.push("("+e.company+")"),t.senderLightInfo=t.functions.empty(e.fillingRate)?{displayName:n.filter((function(t){return""!==t})).join(" ")}:{displayName:n.filter((function(t){return""!==t})).join(" "),filling:t.contactService.getFillingColor(e.fillingRate.thresholdLevel)})}))).subscribe():"entity"===this.currentResourceInformations.recipients[0].type?this.http.get("../rest/entities/"+this.currentResourceInformations.recipients[0].id).pipe(Object(lt.a)((function(e){t.senderLightInfo={displayName:e.entity_label,filling:null}}))).subscribe():"user"===this.currentResourceInformations.recipients[0].type&&this.http.get("../rest/users/"+this.currentResourceInformations.recipients[0].id).pipe(Object(lt.a)((function(e){t.senderLightInfo={displayName:e.firstname+" "+e.lastname,filling:null}}))).subscribe()):this.currentResourceInformations.recipients.length>1&&(this.hasContact=!0,this.senderLightInfo={displayName:this.currentResourceInformations.recipients.length+" "+this.translate.instant("lang.recipients"),filling:null})}},{key:"onSubmit",value:function(){var t=this;"info"===this.currentTool||this.isModalOpen("info")?this.processAction():this.isToolModified()?this.openConfirmModification().afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){t.saveTool()})),Object(Ln.a)((function(){t.autoAction=!0,t.currentTool="info"})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe():(this.autoAction=!0,this.currentTool="info")}},{key:"triggerProcessAction",value:function(){this.autoAction&&(this.processAction(),this.autoAction=!this.autoAction)}},{key:"processAction",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.indexingForm.isValidForm()){t.next=13;break}if(this.actionService.loading=!0,!this.isToolModified()){t.next=6;break}this.openConfirmModification().afterClosed().pipe(Object(lt.a)((function(t){"ok"!==t&&(e.refreshTool(),e.actionService.loading=!1)})),Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){return Object(xn.a)(e,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.saveTool();case 2:if(t.t0=this.appDocumentViewer.isEditingTemplate(),!t.t0){t.next=6;break}return t.next=6,this.appDocumentViewer.saveMainDocument();case 6:this.actionService.launchAction(this.selectedAction,this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId],this.currentResourceInformations,!1);case 7:case"end":return t.stop()}}),t,this)})))})),Object(wn.a)((function(t){return e.notify.handleSoftErrors(t),e.actionService.loading=!1,Object(On.of)(!1)}))).subscribe(),t.next=11;break;case 6:if(t.t0=this.appDocumentViewer.isEditingTemplate(),!t.t0){t.next=10;break}return t.next=10,this.appDocumentViewer.saveMainDocument();case 10:this.actionService.launchAction(this.selectedAction,this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId],this.currentResourceInformations,!1);case 11:t.next=14;break;case 13:this.notify.error(this.translate.instant("lang.mustFixErrors"));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"showActionInCurrentCategory",value:function(t){var e=this;if(-1===this.selectedAction.categoryUse.indexOf(this.currentResourceInformations.categoryId)){var n=this.actionsList.filter((function(t){return t.categoryUse.indexOf(e.currentResourceInformations.categoryId)>-1}))[0];this.selectedAction=void 0!==n?this.actionsList.filter((function(t){return t.categoryUse.indexOf(e.currentResourceInformations.categoryId)>-1}))[0]:{id:0,label:"",component:"",default:!1,categoryUse:[]}}return t.categoryUse.indexOf(this.currentResourceInformations.categoryId)>-1}},{key:"selectAction",value:function(t){this.selectedAction=t}},{key:"createModal",value:function(){var t=this;this.modalModule.push(this.processTool.filter((function(e){return e.id===t.currentTool}))[0])}},{key:"removeModal",value:function(t){var e=this;"info"===this.modalModule[t].id&&this.indexingForm.isResourceModified()?this.openConfirmModification().afterClosed().pipe(Object(lt.a)((function(n){"ok"!==n&&e.modalModule.splice(t,1)})),Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){e.indexingForm.saveData(),setTimeout((function(){e.loadResource(!1)}),400),e.modalModule.splice(t,1)})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe():this.modalModule.splice(t,1)}},{key:"isModalOpen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTool;return this.modalModule.map((function(t){return t.id})).indexOf(t)>-1}},{key:"ngOnDestroy",value:function(){this.detailMode||(this.actionService.stopRefreshResourceLock(),this.actionService.actionEnded||this.actionService.unlockResource(this.currentUserId,this.currentGroupId,this.currentBasketId,[this.currentResourceInformations.resId])),this.subscription.unsubscribe()}},{key:"changeTab",value:function(t){var e=this;this.isToolModified()&&!this.isModalOpen()?this.openConfirmModification().afterClosed().pipe(Object(lt.a)((function(n){"ok"!==n&&(e.currentTool=t)})),Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){e.saveTool(),setTimeout((function(){e.loadResource(!1)}),400),e.currentTool=t})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe():this.currentTool=t}},{key:"openConfirmModification",value:function(){return this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.confirm"),msg:this.translate.instant("lang.saveModifiedData"),buttonValidate:this.translate.instant("lang.yes"),buttonCancel:this.translate.instant("lang.no")}})}},{key:"confirmModification",value:function(){var t=this;this.indexingForm.saveData(),setTimeout((function(){t.loadResource(!1)}),400)}},{key:"saveModificationBeforeClose",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isToolModified()&&!this.isModalOpen(),!t.t0){t.next=4;break}return t.next=4,this.saveTool();case 4:if(t.t1=this.appDocumentViewer.isEditingTemplate(),!t.t1){t.next=8;break}return t.next=8,this.appDocumentViewer.saveMainDocument();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"refreshData",value:function(){this.appDocumentViewer.loadRessource(this.currentResourceInformations.resId)}},{key:"refreshBadge",value:function(t,e){this.processTool.filter((function(t){return t.id===e}))[0].count=t}},{key:"openContact",value:function(){this.hasContact&&this.dialog.open(Vs.a,{panelClass:"maarch-modal",data:{title:"".concat(this.currentResourceInformations.chrono," - ").concat(this.currentResourceInformations.subject),mode:"outgoing"!==this.currentResourceInformations.categoryId?"senders":"recipients",resId:this.currentResourceInformations.resId}})}},{key:"saveListinstance",value:function(){this.appDiffusionsList.saveListinstance()}},{key:"saveVisaWorkflow",value:function(){this.appVisaWorkflow.saveVisaWorkflow()}},{key:"isToolModified",value:function(){return!!("info"===this.currentTool&&void 0!==this.indexingForm&&this.indexingForm.isResourceModified()||"diffusionList"===this.currentTool&&void 0!==this.appDiffusionsList&&this.appDiffusionsList.isModified()||"visaCircuit"===this.currentTool&&void 0!==this.appVisaWorkflow&&this.appVisaWorkflow.isModified()||"opinionCircuit"===this.currentTool&&void 0!==this.appAvisWorkflow&&this.appAvisWorkflow.isModified())}},{key:"refreshTool",value:function(){var t=this,e=this.currentTool;this.currentTool="",setTimeout((function(){t.currentTool=e}),0)}},{key:"saveTool",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("info"!==this.currentTool||void 0===this.indexingForm){t.next=6;break}return t.next=3,this.indexingForm.saveData();case 3:setTimeout((function(){e.loadResource(!1)}),400),t.next=23;break;case 6:if("diffusionList"!==this.currentTool||void 0===this.appDiffusionsList){t.next=12;break}return t.next=9,this.appDiffusionsList.saveListinstance();case 9:this.loadBadges(),t.next=23;break;case 12:if("visaCircuit"!==this.currentTool||void 0===this.appVisaWorkflow){t.next=18;break}return t.next=15,this.appVisaWorkflow.saveVisaWorkflow();case 15:this.loadBadges(),t.next=23;break;case 18:if(t.t0="opinionCircuit"===this.currentTool&&void 0!==this.appAvisWorkflow,!t.t0){t.next=23;break}return t.next=22,this.appAvisWorkflow.saveAvisWorkflow();case 22:this.loadBadges();case 23:case"end":return t.stop()}}),t,this)})))}},{key:"empty",value:function(t){return null==t||(Array.isArray(t)?!(t.length>0):""===String(t))}},{key:"toggleFollow",value:function(){var t=this;this.resourceFollowed=!this.resourceFollowed,this.resourceFollowed?this.http.post("../rest/resources/follow",{resources:[this.currentResourceInformations.resId]}).pipe(Object(lt.a)((function(){return t.headerService.nbResourcesFollowed++})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe():this.http.request("DELETE","../rest/resources/unfollow",{body:{resources:[this.currentResourceInformations.resId]}}).pipe(Object(lt.a)((function(){return t.headerService.nbResourcesFollowed--})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"isToolEnabled",value:function(t){return"history"!==t||!(!this.privilegeService.hasCurrentUserPrivilege("view_full_history")&&!this.privilegeService.hasCurrentUserPrivilege("view_doc_history"))}},{key:"openPrintedFolderPrompt",value:function(){this.dialog.open(ju,{panelClass:"maarch-modal",data:{resId:this.currentResourceInformations.resId}})}}]),t}()).\u0275fac=function(t){return new(t||Bp)(i.Tb(l.e),i.Tb(o.a),i.Tb(o.a),i.Tb(u.b),i.Tb(Y.b),i.Tb(f.a),i.Tb(Ir),i.Tb(h.a),i.Tb(Pr.c),i.Tb(i.R),i.Tb(p.a),i.Tb(qi.a),i.Tb(_u.a),i.Tb(o.c),i.Tb(Gi.a),i.Tb(ft.a))},Bp.\u0275cmp=i.Nb({type:Bp,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Dh,!0),i.Oc(Rh,!0),i.ad(Lh,!0),i.ad(Fh,!0),i.ad(jh,!0),i.ad(Yh,!0),i.ad(Zh,!0)),2&t&&(i.Cc(n=i.ic())&&(e.sidenavRight=n.first),i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.appDocumentViewer=n.first),i.Cc(n=i.ic())&&(e.indexingForm=n.first),i.Cc(n=i.ic())&&(e.appDiffusionsList=n.first),i.Cc(n=i.ic())&&(e.appVisaWorkflow=n.first),i.Cc(n=i.ic())&&(e.appAvisWorkflow=n.first))},features:[i.Db([qi.a,_u.a])],decls:21,vars:18,consts:[[1,"maarch-container"],["adminMenuTemplate",""],[1,"process-content"],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"bg-head-content",2,"padding-bottom","20px"],[1,"resourceInfo"],[4,"ngIf","ngIfElse"],["elseInfoRes",""],[1,"document-container"],[1,"content"],["style","height:100%;width:100%;",3,"editMode","resId","title",4,"ngIf"],["cdkDrag","","cdkDragBoundary",".process-content",3,"class","largeModal",4,"ngFor","ngForOf"],["position","end","autoFocus","false",1,"panel-right",2,"overflow-x","hidden",3,"fixedInViewport","opened","mode","ngStyle"],["snav2",""],[1,"listModels"],[1,"processTool"],["class","processTool-module jiggle","matRipple","",3,"processTool-module-active","tool-disabled","click",4,"ngFor","ngForOf"],[1,"indexing-form-container"],["style","display: flex;justify-content: flex-end;",4,"ngIf"],[4,"ngIf"],["elseTemplate",""],["class","actions-indexing-form",4,"ngIf"],["matRipple","",1,"processTool-module","jiggle",3,"click"],["class","fas fa-circle haveContent",4,"ngIf"],[1,"fas","fa-circle","haveContent"],[2,"display","flex","justify-content","flex-end"],["mat-icon-button","","color","primary",3,"title","click"],[1,"fas","fa-external-link-alt"],[2,"display","flex","align-items","center","justify-content","flex-end","margin-top","10px","margin-bottom","-20px"],["mat-button","","color","primary",3,"title","click"],[1,"fa","fa-print",2,"height","auto"],[1,"banner"],[1,"title",3,"click"],[1,"title-divider"],[3,"resId","goTo",4,"ngIf"],[3,"resId","goTo"],[3,"resId",4,"ngIf"],[3,"editMode","resId","reloadBadgeNotes",4,"ngIf"],[3,"resId","reloadBadgeLinkedResources",4,"ngIf"],[3,"adminMode","target","resId","expanded",4,"ngIf"],[3,"resId","reloadBadgeSentResource",4,"ngIf"],[3,"resId","adminMode",4,"ngIf"],[3,"resId","autoOpenCreation","target","reloadBadgeAttachments",4,"ngIf"],[3,"defaultIndexingModelId","adminMode","indexingForm","afterSelectedListModel",4,"ngIf"],["class","alert-message alert-message-info","style","min-width: 100%;",3,"innerHTML",4,"ngIf"],[3,"groupId","resId","indexingFormId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent",4,"ngIf"],[2,"position","sticky","bottom","0px","text-align","right"],["mat-fab","","color","accent",3,"title","click",4,"ngIf"],[3,"resId"],["appHistoryList",""],[3,"editMode","resId","reloadBadgeNotes"],["appNotesList",""],[3,"resId","reloadBadgeLinkedResources"],["appLinkedResourceList",""],[3,"adminMode","target","resId","expanded"],["appDiffusionsList",""],[3,"resId","reloadBadgeSentResource"],["appSentResource",""],[3,"resId","adminMode"],["appVisaWorkflow",""],["appAvisWorkflow",""],[3,"resId","autoOpenCreation","target","reloadBadgeAttachments"],["appAttachmentsList",""],[3,"defaultIndexingModelId","adminMode","indexingForm","afterSelectedListModel"],["appSelectIndexingModel",""],[1,"alert-message","alert-message-info",2,"min-width","100%",3,"innerHTML"],[3,"groupId","resId","indexingFormId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent"],["indexingForm",""],["mat-fab","","color","accent",3,"title","click"],[1,"fas","fa-check",2,"height","auto","font-size","20px"],[1,"openedModal"],[1,"actions-indexing-form"],["class","emptyAction",3,"innerHTML",4,"ngIf"],["mat-button","",1,"button-form-primary",2,"width","350px","margin-right","20px",3,"disabled","matMenuTriggerFor","title"],[1,"menu-label",3,"innerHTML"],[1,"fa","fa-chevron-down","menu-icon"],["menu","matMenu"],[1,"menuTitle"],["floatLabel","never","appearance","outline",1,"smallInput",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","click","keydown"],["listFilter",""],[4,"ngFor","ngForOf"],["mat-button","","class","button-form-primary-filled","style","width: 150px;align-items: center;justify-content: center;text-align: center;display: flex;",3,"disabled","click",4,"ngIf"],["mat-icon-button","","class","button-form-primary",3,"click",4,"ngIf"],["mat-menu-item","",3,"title","listModels-menu-selected","click",4,"ngIf"],["mat-menu-item","",3,"title","click"],[2,"flex","1"],["mat-button","",1,"button-form-primary-filled",2,"width","150px","align-items","center","justify-content","center","text-align","center","display","flex",3,"disabled","click"],["mat-icon-button","",1,"button-form-primary",3,"click"],[1,"fa","fa-check"],[1,"emptyAction",3,"innerHTML"],[1,"title"],[2,"white-space","nowrap","padding-left","10px","padding-right","10px",3,"title"],[1,"subSubject"],["mat-icon-button","",1,"categoryLabel",3,"title","click"],[2,"font-size","20px"],["class","content-item",4,"ngIf"],[1,"content-item"],[1,"content-item-value",3,"title"],[1,"content-item",2,"cursor","pointer",3,"click"],[1,"content-item-value"],["class","fas fa-circle","style","font-size: 8px",3,"color",4,"ngIf"],[2,"position","absolute","right","0px","top","0px","height","100%","display","flex","flex-direction","column","justify-content","center"],["mat-icon-button","",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"fas","fa-flag",2,"font-size","25px","padding-right","20px"],[1,"fas","fa-circle",2,"font-size","8px"],["elseLimitDate",""],[2,"font-weight","bold",3,"title"],[1,"fa","fa-lock"],[1,"content-item-value",3,"title","innerHTML"],["mat-icon-button","",3,"matTooltip","click"],[1,"loadingBanner"],["diameter","35"],[2,"height","100%","width","100%",3,"editMode","resId","title"],["appDocumentViewer",""],["cdkDrag","","cdkDragBoundary",".process-content"],["cdkDragHandle","",1,"modal-module-title"],["mat-icon-button","",3,"click"],[1,"fas","fa-times"],[1,"modal-module-content"],[3,"editMode","resId",4,"ngIf"],[3,"adminMode","resId",4,"ngIf"],[3,"resId","autoOpenCreation","reloadBadgeAttachments",4,"ngIf"],[3,"adminMode","indexingForm","defaultIndexingModelId","afterSelectedListModel",4,"ngIf"],[3,"groupId","indexingFormId","resId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent",4,"ngIf"],[2,"position","sticky","bottom","0px","text-align","right","padding","15px"],[3,"editMode","resId"],[3,"adminMode","resId"],[3,"resId","autoOpenCreation","reloadBadgeAttachments"],[3,"adminMode","indexingForm","defaultIndexingModelId","afterSelectedListModel"],[3,"groupId","indexingFormId","resId","mode","canEdit","hideDiffusionList","loadingFormEndEvent","retrieveDocumentEvent","afterSaveEvent"]],template:function(t,e){if(1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Qc(1,mp,10,6,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content",2),i.Zb(4,"div",3),i.Zb(5,"div",4),i.Zb(6,"div",5),i.Ub(7,"header-left"),i.Yb(),i.Zb(8,"div",6),i.Ub(9,"header-right"),i.Yb(),i.Yb(),i.Zb(10,"div",7),i.Zb(11,"div",8),i.Qc(12,wp,29,22,"ng-container",9),i.Qc(13,Op,2,0,"ng-template",null,10,i.Rc),i.Yb(),i.Yb(),i.Yb(),i.Zb(15,"div",11),i.Zb(16,"div",12),i.Qc(17,Sp,2,3,"app-document-viewer",13),i.Yb(),i.Yb(),i.Qc(18,Up,22,20,"div",14),i.Yb(),i.Ub(19,"mat-sidenav",15,16),i.Yb()),2&t){var n=i.Dc(14);i.Eb(5),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",!e.loading)("ngIfElse",n),i.Eb(3),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.sc("ngIf",!e.loading),i.Eb(1),i.sc("ngForOf",e.modalModule),i.Eb(1),i.Jb("docView",!e.filtersListService.filterMode),i.sc("fixedInViewport",e.appService.getViewMode())("opened",(e.appService.getViewMode(),!1))("mode",e.appService.getViewMode()?"over":"side")("ngStyle",i.zc(16,zp,e.appService.getViewMode()?"80%":"30%"))}},directives:[v.e,v.f,ht.a,pt.a,y.t,y.s,v.d,y.w,w.t,g.b,b.a,Wu,td,ld,yd,Ji.a,Xi.a,Ki.a,mo.a,Ch,$i.a,go.a,ta.a,Th,Ah.a,to.d,to.e,N.c,U.b,to.b,x.b,_.c,Li.a,po.a,po.b],pipes:[l.d,Hs.a,y.l,wc.a,y.f,Hn.a,Qn.a],styles:[".document-container[_ngcontent-%COMP%]{flex:1;padding-left:50px;padding-right:50px;color:#fff;margin-top:0;width:100%;overflow:hidden;background-color:#135f7f}@media (max-width:768px){.document-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.document-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;position:relative;height:100%;min-height:200px;width:100%;border-radius:0;box-shadow:none;border:1px solid #fff;justify-content:center;display:flex;align-items:center;text-align:center;font-weight:700;flex-direction:column}.indexing-form-container[_ngcontent-%COMP%]{position:relative;height:100%;overflow:auto;padding-left:20px;padding-right:20px;padding-bottom:20px}@media (max-width:768px){.indexing-form-container[_ngcontent-%COMP%]{padding-right:0;padding-left:0}}.actions-indexing-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;box-shadow:0 -5px 10px 0 rgba(0,0,0,.07);padding:10px 40px}@media (max-width:768px){.actions-indexing-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.emptyModel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center;text-align:center;padding-left:20px;padding-right:20px;font-size:25px;opacity:.3;font-weight:700}.listModels[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;padding:10px 40px}@media (max-width:768px){.listModels[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:0;padding-right:0}}.listModels[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:auto}.listModels-button[_ngcontent-%COMP%]{margin-right:20px;width:450px!important} .listModels-menu{min-width:450px!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-badge{background:#fff!important;color:#135f7f!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-delete .mat-icon{color:#fff!important} .listModels-menu-badge{font-size:70%;background:#135f7f;border-radius:20px;color:#fff;padding:2px 5px;font-weight:700} .listModels-menu-delete .mat-icon{margin-right:0} .listModels-menu-selected{color:#fff!important;background:#135f7f} .listModels-menu-selected .listModels-menu-badge{background:#fff!important;color:#135f7f!important}.emptyAction[_ngcontent-%COMP%]{color:#8e3e52;font-size:14px;text-align:center}.loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;width:100%;background:hsla(0,0%,100%,.73);z-index:2}.loadingBanner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center} .menuAction{min-width:350px!important}.resourceInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px 40px 20px 20px;background:#1a80ab;width:100%}.resourceInfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#fff}.resourceInfo[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#1a80ab;height:1px}.resourceInfo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;font-size:15px;overflow:auto}.resourceInfo[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center;display:flex;flex:1;padding-left:20px;padding-right:20px;white-space:pre}.resourceInfo[_ngcontent-%COMP%]   .content-item-value[_ngcontent-%COMP%]{font-weight:700;display:flex;align-items:center}.resourceInfo[_ngcontent-%COMP%]   .content-item-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:10px}.processTool[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:20% 20% 20% 20% 20%;background-color:#fff;color:#b3b3b3;border:1px solid #dedede;padding:5px;border-radius:15px;text-align:center}.processTool-module[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:5px;border-right:1px solid #dedede;cursor:pointer;transition:all .3s}.processTool-module[_ngcontent-%COMP%]:nth-child(-n+5){border-bottom:1px solid #dedede}.processTool-module[_ngcontent-%COMP%]:nth-child(5n){border-right:none}.processTool-module[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.processTool-module[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:pre;font-size:10px}.processTool-module-active[_ngcontent-%COMP%]{font-weight:700;color:#135f7f}.processTool-module[_ngcontent-%COMP%]:hover:not(.tool-disabled){transition:all .3s;color:#135f7f}.haveContent[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px;font-size:10px!important;color:#f99830}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{cursor:pointer}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.jiggle[_ngcontent-%COMP%]:active:not(.tool-disabled)   i[_ngcontent-%COMP%]{-webkit-animation:jiggle .2s;-moz-animation-duration:.2s;-moz-animation-name:jiggle;-moz-animation-iteration-count:2;-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg)}@-webkit-keyframes jiggle{0%{-webkit-transform:rotate(-9deg)}50%{-webkit-transform:rotate(9deg)}}.modal-module[_ngcontent-%COMP%]{background:#fff;position:absolute;right:50px;z-index:1;box-shadow:10px 10px 21px -15px rgba(0,0,0,.75);border-radius:5px;padding:10px;width:400px}.modal-module-title[_ngcontent-%COMP%]{cursor:move;color:#fff;padding-left:10px;padding-right:10px;background:#f99830;margin-top:-10px;margin-left:-10px;margin-right:-10px;border-top-left-radius:5px;border-top-right-radius:5px;display:flex;align-items:center}.modal-module-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex:1}.modal-module-content[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.openedModal[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:center;align-items:center;font-size:30px;font-weight:700;opacity:.2}.largeModal[_ngcontent-%COMP%]{width:560px}.menuTitle[_ngcontent-%COMP%]{display:flex;padding-left:20px;align-items:center;color:#135f7f;font-weight:700}.smallInput[_ngcontent-%COMP%]{padding:10px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0}.followIcon[_ngcontent-%COMP%]{color:#f99830}.tool-disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.3}.checked[_ngcontent-%COMP%]{opacity:1;color:#f99830}.unchecked[_ngcontent-%COMP%]{opacity:.5}.emails[_ngcontent-%COMP%], .linkedResources[_ngcontent-%COMP%]{width:600px}.subSubject[_ngcontent-%COMP%]{color:#f99830}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),Bp),Hp=n("IzEk"),Qp=["adminMenuTemplate"],Wp=["appSelectIndexingModel"],Gp=["indexingForm"],qp=["appDocumentViewer"];function Xp(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-indexing-form",19,20),i.hc("retrieveDocumentEvent",(function(){return i.Hc(n),i.lc(3),i.Dc(13).saveDocService()})),i.Yb()}if(2&t){var a=i.lc(3);i.sc("groupId",a.currentGroupId)("indexingFormId",a.currentIndexingModel.id)}}function $p(t,e){1&t&&(i.Zb(0,"small",36),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Tc(i.nc(2,1,"lang.badActionParam")))}function Jp(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",33),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(4).selectAction(t)})),i.Zb(1,"span",34),i.Sc(2),i.Yb(),i.Qc(3,$p,3,3,"small",35),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(4);i.Jb("listModels-menu-selected",a.id===r.selectedAction.id),i.sc("title",a.label)("disabled",!a.enabled),i.Eb(2),i.Tc(a.label),i.Eb(1),i.sc("ngIf",!a.enabled)}}function Kp(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Jp,4,6,"button",32),i.Wb()),2&t){var n=e.$implicit,a=i.lc(4);i.Eb(1),i.sc("ngIf",a.showActionInCurrentCategory(n))}}function tm(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",37),i.hc("click",(function(){return i.Hc(n),i.lc(4).onSubmit()})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc(4),r=i.Dc(13);i.sc("disabled",a.actionService.loading||0===a.selectedAction.id||void 0!==r&&!r.isEditorLoaded()),i.Eb(1),i.Tc(i.nc(2,2,"lang.validate"))}}function em(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",38),i.hc("click",(function(){return i.Hc(n),i.lc(4).onSubmit()})),i.Ub(1,"mat-icon",39),i.Yb()}}function nm(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"button",21),i.Ub(2,"span",22),i.Ub(3,"i",23),i.Yb(),i.Zb(4,"mat-menu",null,24),i.Zb(6,"div",25),i.Zb(7,"span"),i.Sc(8),i.mc(9,"translate"),i.Yb(),i.Zb(10,"mat-form-field",26),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()})),i.Zb(11,"input",27,28),i.hc("click",(function(t){return i.Hc(n),t.stopPropagation()}))("keydown",(function(t){return i.Hc(n),t.stopPropagation()})),i.mc(13,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Qc(14,Kp,2,1,"ng-container",29),i.mc(15,"filterList"),i.Yb(),i.Qc(16,tm,3,4,"button",30),i.Qc(17,em,2,0,"button",31),i.Wb()}if(2&t){var a=i.Dc(5),r=i.Dc(12),o=i.lc(3);i.Eb(1),i.sc("disabled",0===o.selectedAction.id)("matMenuTriggerFor",a)("title",o.selectedAction.label),i.Eb(1),i.sc("innerHTML",o.selectedAction.label,i.Ic),i.Eb(2),i.Gb("menuForm menuAction"),i.Eb(4),i.Uc(" ",i.nc(9,11,"lang.actions")," "),i.Eb(3),i.tc("placeholder",i.nc(13,13,"lang.filterBy")),i.Eb(3),i.sc("ngForOf",i.pc(15,15,o.actionsList,r.value,"label")),i.Eb(2),i.sc("ngIf",!o.appService.getViewMode()),i.Eb(1),i.sc("ngIf",o.appService.getViewMode())}}function im(t,e){if(1&t&&i.Ub(0,"div",40),2&t){var n=i.lc(3);i.sc("innerHTML",n.translate.instant("lang.noAvailableAction"),i.Ic)}}function am(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",15),i.Qc(2,Xp,2,2,"app-indexing-form",16),i.Yb(),i.Zb(3,"div",17),i.Qc(4,nm,18,19,"ng-container",13),i.Qc(5,im,1,1,"div",18),i.Yb(),i.Wb()),2&t){var n=i.lc(2);i.Eb(2),i.sc("ngIf",void 0!==n.currentIndexingModel.id),i.Eb(2),i.sc("ngIf",n.actionsList.length>0&&void 0!==n.indexingForm&&void 0!==n.selectedAction),i.Eb(1),i.sc("ngIf",0===n.actionsList.length)}}function rm(t,e){if(1&t&&i.Ub(0,"div",41),2&t){var n=i.lc(2);i.sc("innerHTML",n.translate.instant("lang.noAvailableIndexingModel"),i.Ic)}}function om(t,e){if(1&t){var n=i.ac();i.Zb(0,"app-select-indexing-model",11,12),i.hc("afterListModelsLoaded",(function(t){return i.Hc(n),i.lc().loadIndexingModel(t)}))("afterSelectedListModel",(function(t){i.Hc(n);var e=i.lc();return e.currentIndexingModel=t,e.indexingForm.loadForm(t.id)})),i.Yb(),i.Qc(2,am,6,3,"ng-container",13),i.Qc(3,rm,1,1,"div",14)}if(2&t){var a=i.lc();i.sc("adminMode",!0)("indexingForm",a.indexingForm),i.Eb(2),i.sc("ngIf",!a.isEmptyIndexingModels()),i.Eb(1),i.sc("ngIf",a.isEmptyIndexingModels())}}function sm(t,e){1&t&&(i.Zb(0,"div",42),i.Ub(1,"i",43),i.Yb())}var cm,lm,um,dm,fm,hm=[{path:"resources/:resId/content",canActivate:[s.b],component:Yi},{path:"install",loadChildren:function(){return n.e(6).then(n.bind(null,"6S62")).then((function(t){return t.InstallerModule}))}},{path:"administration",loadChildren:function(){return n.e(5).then(n.bind(null,"aPMI")).then((function(t){return t.AdministrationModule}))}},{path:"signatureBook/users/:userId/groups/:groupId/baskets/:basketId/resources/:resId",canActivate:[s.b],component:kr},{path:"followed",canActivate:[s.b],component:rs},{path:"saveNumericPackage",canActivate:[s.b],component:vi},{path:"separators/print",canActivate:[s.b],component:Mi},{path:"forgot-password",component:Ii},{path:"reset-password",component:Ri},{path:"activate-user",component:F},{path:"password-modification",component:it},{path:"folders/:folderId",canActivate:[s.b],component:Bs},{path:"profile",canActivate:[s.b],component:Cn},{path:"about-us",canActivate:[s.b],component:In},{path:"home",canActivate:[s.b],component:hi},{path:"basketList/users/:userSerialId/groups/:groupSerialId/baskets/:basketId",canActivate:[s.b],component:ul},{path:"login",component:Hi},{path:"registeredMail/acknowledgement",canActivate:[s.b],component:Dl},{path:"search",canActivate:[s.b],component:vu},{path:"process/users/:userSerialId/groups/:groupSerialId/baskets/:basketId/resId/:resId",canActivate:[s.b],canDeactivate:[s.a],component:Vp},{path:"resources/:detailResId",canActivate:[s.b],canDeactivate:[s.a],component:Vp},{path:"indexing/:groupId",canActivate:[s.b],component:(cm=function(){function t(e,n,i,a,r,o,s,c,l,u,d,f,h,p,m){var g=this;_classCallCheck(this,t),this.translate=e,this.route=n,this._activatedRoute=i,this.http=a,this.dialog=r,this.headerService=o,this.filtersListService=s,this.notify=c,this.overlay=l,this.viewContainerRef=u,this.appService=d,this.actionService=f,this.router=h,this.sortPipe=p,this.functions=m,this.loading=!1,this.indexingModels=[],this.currentIndexingModel={},this.actionsList=[],this.selectedAction={id:0,label:"",component:"",default:!1,categoryUse:[]},this.tmpFilename="",this.isMailing=!1,i.queryParams.subscribe((function(t){return g.tmpFilename=t.tmpfilename})),this.subscription=this.actionService.catchAction().subscribe((function(t){["closeAndIndexAction","saveAndIndexRegisteredMailAction"].indexOf(g.selectedAction.component)>-1?(g.appDocumentViewer.templateListForm.reset(),g.appDocumentViewer.file={name:"",type:"",content:null,src:null},g.appDocumentViewer.triggerEvent.emit("cleanFile"),g.appSelectIndexingModel.resetIndexingModel()):g.router.navigate(["/resources/"+t[0]],{queryParams:g.isMailing?{isMailing:!0}:null})}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.injectInSideBarLeft(this.adminMenuTemplate,this.viewContainerRef,"adminMenu","form"),this.headerService.sideBarButton={icon:"fa fa-home",label:this.translate.instant("lang.backHome"),route:"/home"},this.fetchData()}},{key:"fetchData",value:function(){var t=this;this.loading=!1,this.headerService.setHeader(this.translate.instant("lang.recordingMail")),this.route.params.subscribe((function(e){t.currentGroupId=e.groupId,t.http.get("../rest/indexing/groups/"+t.currentGroupId+"/actions").pipe(Object(wr.a)((function(t){return t.actions=t.actions.map((function(t,e){return{id:t.id,label:t.label,component:t.component,enabled:t.enabled,default:0===e,categoryUse:t.categories}})),t})),Object(lt.a)((function(e){t.selectedAction=e.actions[0],t.actionsList=e.actions})),Object(Ln.a)((function(){return t.loading=!1})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}),(function(e){t.notify.handleErrors(e)}))}},{key:"isEmptyIndexingModels",value:function(){return void 0!==this.appSelectIndexingModel&&0===this.appSelectIndexingModel.getIndexingModels().length}},{key:"onSubmit",value:function(){var t=this;if(this.indexingForm.isValidForm()){this.actionService.loading=!0;var e=this.indexingForm.formatDatas(this.indexingForm.getDatas());e.modelId=null!==this.currentIndexingModel.master?this.currentIndexingModel.master:this.currentIndexingModel.id,e.chrono=!0,this.appDocumentViewer.getFile().pipe(Object(Hp.a)(1),Object(lt.a)((function(n){e.encodedFile=n.content,e.format=n.format,t.isMailing=!t.functions.empty(e.recipients)&&e.recipients.length>0&&"outgoing"===t.currentIndexingModel.category&&null===e.encodedFile,null===e.encodedFile&&"registeredMail"!==t.currentIndexingModel.category?(t.dialogRef=t.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:t.translate.instant("lang.noFile"),msg:t.translate.instant("lang.noFileMsg")}}),t.dialogRef.afterClosed().pipe(Object(lt.a)((function(e){"ok"!==e&&(t.actionService.loading=!1)})),Object(ot.a)((function(t){return"ok"===t})),Object(lt.a)((function(){t.actionService.launchIndexingAction(t.selectedAction,t.headerService.user.id,t.currentGroupId,e)})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()):t.actionService.launchIndexingAction(t.selectedAction,t.headerService.user.id,t.currentGroupId,e)}))).subscribe()}else this.notify.error(this.translate.instant("lang.mustFixErrors"))}},{key:"formatDatas",value:function(t){var e={},n=/indexingCustomField_[.]*/g;return e.customFields={},t.forEach((function(t){null!==t.identifier.match(n)?e.customFields[t.identifier.split("_")[1]]=t.default_value:e[t.identifier]=t.default_value})),e}},{key:"loadIndexingModel",value:function(t){this.currentIndexingModel=t}},{key:"selectAction",value:function(t){this.selectedAction=t}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"showActionInCurrentCategory",value:function(t){var e=this;if(-1===this.selectedAction.categoryUse.indexOf(this.indexingForm.getCategory())){var n=this.actionsList.filter((function(t){return t.categoryUse.indexOf(e.indexingForm.getCategory())>-1}))[0];this.selectedAction=void 0!==n?this.actionsList.filter((function(t){return t.categoryUse.indexOf(e.indexingForm.getCategory())>-1}))[0]:{id:0,label:"",component:"",default:!1,categoryUse:[]}}return t.categoryUse.indexOf(this.indexingForm.getCategory())>-1}},{key:"refreshDatas",value:function(){this.appDocumentViewer.setDatas(this.indexingForm.formatDatas(this.indexingForm.getDatas()))}}]),t}(),cm.\u0275fac=function(t){return new(t||cm)(i.Tb(l.e),i.Tb(o.a),i.Tb(o.a),i.Tb(u.b),i.Tb(Y.b),i.Tb(f.a),i.Tb(Ir),i.Tb(h.a),i.Tb(Pr.c),i.Tb(i.R),i.Tb(p.a),i.Tb(qi.a),i.Tb(o.c),i.Tb(no.a),i.Tb(ft.a))},cm.\u0275cmp=i.Nb({type:cm,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Qp,!0),i.ad(Wp,!0),i.ad(Gp,!0),i.ad(qp,!0)),2&t&&(i.Cc(n=i.ic())&&(e.adminMenuTemplate=n.first),i.Cc(n=i.ic())&&(e.appSelectIndexingModel=n.first),i.Cc(n=i.ic())&&(e.indexingForm=n.first),i.Cc(n=i.ic())&&(e.appDocumentViewer=n.first))},features:[i.Db([qi.a,no.a])],decls:15,vars:9,consts:[[1,"maarch-container"],["adminMenuTemplate",""],[1,"bg-head"],[1,"bg-head-title"],[1,"bg-head-title-label"],[1,"bg-head-title-tool"],[1,"document-container"],[1,"content"],[2,"height","100%","width","100%",3,"editMode","tmpFilename","triggerEvent"],["appDocumentViewer",""],["style","font-size: 120px;opacity: 0.4;",4,"ngIf"],[3,"adminMode","indexingForm","afterListModelsLoaded","afterSelectedListModel"],["appSelectIndexingModel",""],[4,"ngIf"],["class","emptyModel",3,"innerHTML",4,"ngIf"],[1,"indexing-form-container"],[3,"groupId","indexingFormId","retrieveDocumentEvent",4,"ngIf"],[1,"actions-indexing-form"],["class","emptyAction",3,"innerHTML",4,"ngIf"],[3,"groupId","indexingFormId","retrieveDocumentEvent"],["indexingForm",""],["mat-button","",1,"button-form-primary",2,"width","350px","margin-right","20px",3,"disabled","matMenuTriggerFor","title"],[1,"menu-label",3,"innerHTML"],[1,"fa","fa-chevron-down","menu-icon"],["menu","matMenu"],[1,"menuTitle"],["floatLabel","never","appearance","outline",1,"smallInput",3,"click"],["matInput","","id","searchTerm","autocomplete","off",3,"placeholder","click","keydown"],["listFilter",""],[4,"ngFor","ngForOf"],["mat-button","","class","button-form-primary-filled","style","width: 150px;align-items: center;justify-content: center;text-align: center;display: flex;",3,"disabled","click",4,"ngIf"],["mat-icon-button","","class","button-form-primary",3,"click",4,"ngIf"],["mat-menu-item","",3,"title","listModels-menu-selected","disabled","click",4,"ngIf"],["mat-menu-item","",3,"title","disabled","click"],[2,"flex","1"],["style","position: absolute;top: 15px;left: 140px;","color","warn",4,"ngIf"],["color","warn",2,"position","absolute","top","15px","left","140px"],["mat-button","",1,"button-form-primary-filled",2,"width","150px","align-items","center","justify-content","center","text-align","center","display","flex",3,"disabled","click"],["mat-icon-button","",1,"button-form-primary",3,"click"],[1,"fa","fa-check"],[1,"emptyAction",3,"innerHTML"],[1,"emptyModel",3,"innerHTML"],[2,"font-size","120px","opacity","0.4"],[1,"fas","fa-dolly-flatbed"]],template:function(t,e){1&t&&(i.Zb(0,"mat-sidenav-container",0),i.Qc(1,om,4,4,"ng-template",null,1,i.Rc),i.Zb(3,"mat-sidenav-content"),i.Zb(4,"div",2),i.Zb(5,"div",3),i.Zb(6,"div",4),i.Ub(7,"header-left"),i.Yb(),i.Zb(8,"div",5),i.Ub(9,"header-right"),i.Yb(),i.Yb(),i.Yb(),i.Zb(10,"div",6),i.Zb(11,"div",7),i.Zb(12,"app-document-viewer",8,9),i.hc("triggerEvent",(function(){return e.refreshDatas()})),i.Yb(),i.Qc(14,sm,2,0,"div",10),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.Jb("customContainerRight",e.appService.getViewMode()),i.Eb(5),i.Jb("fullContainer",e.appService.getViewMode()),i.Eb(2),i.Pc("display","registeredMail"!==e.currentIndexingModel.category?"block":"none"),i.sc("editMode",!0)("tmpFilename",e.tmpFilename),i.Eb(2),i.sc("ngIf","registeredMail"===e.currentIndexingModel.category))},directives:[v.e,v.f,ht.a,pt.a,Li.a,y.t,Th,Ah.a,g.b,to.d,to.e,N.c,U.b,y.s,to.b,b.a],pipes:[l.d,Hs.a],styles:[".panel-left[_ngcontent-%COMP%]    .mat-drawer-inner-container{display:flex;flex-direction:column}.document-container[_ngcontent-%COMP%]{flex:1;padding-left:50px;padding-right:50px;color:#fff;margin-top:0;width:100%;overflow:hidden;background-color:#135f7f}@media (max-width:768px){.document-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.document-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;position:relative;height:100%;min-height:200px;width:100%;border-radius:0;box-shadow:none;border:1px solid #fff;justify-content:center;display:flex;align-items:center;text-align:center;font-weight:700;flex-direction:column}.indexing-form-container[_ngcontent-%COMP%]{height:100%;overflow:auto;padding-left:20px;padding-right:20px;padding-bottom:20px}@media (max-width:768px){.indexing-form-container[_ngcontent-%COMP%]{padding-right:0;padding-left:0}}.actions-indexing-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;box-shadow:0 -5px 10px 0 rgba(0,0,0,.07);padding:10px 40px}@media (max-width:768px){.actions-indexing-form[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.emptyModel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center;text-align:center;padding-left:20px;padding-right:20px;font-size:25px;opacity:.3;font-weight:700}.listModels[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;padding:10px 40px}@media (max-width:768px){.listModels[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:0;padding-right:0}}.listModels[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:auto}.listModels-button[_ngcontent-%COMP%]{margin-right:20px;width:450px!important} .listModels-menu{min-width:450px!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-badge{background:#fff!important;color:#135f7f!important} .listModels-menu .mat-menu-item:hover:hover .listModels-menu-delete .mat-icon{color:#fff!important} .listModels-menu-badge{font-size:70%;background:#135f7f;border-radius:20px;color:#fff;padding:2px 5px;font-weight:700} .listModels-menu-delete .mat-icon{margin-right:0} .listModels-menu-selected{color:#fff!important;background:#135f7f} .listModels-menu-selected .listModels-menu-badge{background:#fff!important;color:#135f7f!important}.emptyAction[_ngcontent-%COMP%]{color:#8e3e52;font-size:14px;text-align:center}.loading[_ngcontent-%COMP%]{display:flex;height:100%;position:absolute;width:100%;background:hsla(0,0%,100%,.73);z-index:2} .menuAction{min-width:350px!important}.menuTitle[_ngcontent-%COMP%]{display:flex;padding-left:20px;align-items:center;color:#135f7f;font-weight:700}.smallInput[_ngcontent-%COMP%]{padding:10px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding-bottom:0}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),cm)},{path:"",redirectTo:"home",pathMatch:"full"}],pm=((lm=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:lm}),lm.\u0275inj=i.Qb({factory:function(t){return new(t||lm)},imports:[[o.g.forRoot(hm,{preloadingStrategy:o.b,useHash:!0})],o.g]}),lm),mm=n("R1ws"),gm=n("cMWS"),bm=n("U+qY"),vm=((fm=function t(e){_classCallCheck(this,t),e.setDefaultLang("fr")}).\u0275mod=i.Rb({type:fm}),fm.\u0275inj=i.Qb({factory:function(t){return new(t||fm)(i.dc(l.e))},imports:[[r.a,bm.a,gm.a],bm.a]}),fm),ym=((dm=function t(e){_classCallCheck(this,t),e.setDefaultLang("fr")}).\u0275mod=i.Rb({type:dm}),dm.\u0275inj=i.Qb({factory:function(t){return new(t||dm)(i.dc(l.e))},imports:[[r.a,Dr.i,gm.a],r.a]}),dm),_m=((um=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.router=i,this.notificationService=a,this.authService=r,this.functionsService=o,this.byPassToken=[{route:"../rest/prerequisites",method:["GET"]},{route:"../rest/authenticate",method:["POST"]},{route:"../rest/authenticate/token",method:["GET"]},{route:"../rest/authenticationInformation",method:["GET"]},{route:"../rest/passwordRules",method:["GET"]},{route:"../rest/languages",method:["GET"]}],this.byPassHandleErrors=[{route:"/password",method:["PUT"]}]}return _createClass(t,[{key:"addAuthHeader",value:function(t){var e=this.authService.getToken();return t.clone({setHeaders:{Authorization:"Bearer "+e}})}},{key:"logout",value:function(){this.authService.logout(!1),this.notificationService.error(this.translate.instant("lang.sessionExpired"))}},{key:"intercept",value:function(t,e){var n=this;return this.byPassToken.filter((function(e){return t.url.indexOf(e.route)>-1&&e.method.indexOf(t.method)>-1})).length>0?e.handle(t):(t=this.addAuthHeader(t),e.handle(t).pipe(Object(wn.a)((function(i){if(n.byPassHandleErrors.filter((function(e){return t.url.indexOf(e.route)>-1&&e.method.indexOf(t.method)>-1})).length>0)return e.handle(t);if(401===i.status)return n.functionsService.debug("Auth error",t.url),n.http.get("../rest/authenticate/token",{params:{refreshToken:n.authService.getRefreshToken()}}).pipe(Object(ct.a)((function(i){return n.functionsService.debug("Attempt get token ... !",t.url),n.authService.setToken(i.token),n.authService.updateUserInfo(i.token),t=n.addAuthHeader(t),e.handle(t).pipe(Object(wn.a)((function(t){if(401===t.status)return n.logout(),Object(On.of)(!1)})))})),Object(wn.a)((function(e){return 401===e.status&&(n.functionsService.debug("Refresh token failed !",t.url),n.logout()),Object(On.of)(!1)})));if("User must change his password"===i.error.errors)return n.router.navigate(["/password-modification"]);var a=new u.d({error:i.error,status:i.status,statusText:i.statusText,headers:i.headers,url:i.url});return Promise.reject(a)}))))}}]),t}()).\u0275fac=function(t){return new(t||um)(i.dc(l.e),i.dc(u.b),i.dc(o.c),i.dc(h.a),i.dc(d.a),i.dc(ft.a))},um.\u0275prov=i.Pb({token:um,factory:um.\u0275fac}),um),km=n("qQ0q"),Cm=n("mLrj"),xm=n("ZnWJ"),wm=n("QNbu");function Om(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-list-item",4),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).gotToFolder(t)}))("cdkDropListDropped",(function(t){i.Hc(n);var a=e.$implicit;return i.lc(2).drop(t,a)}))("cdkDropListEntered",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).dragEnter(t)}))("cdkDropListExited",(function(){return e.$implicit.drag=!1})),i.Zb(1,"mat-icon",5),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(2);return t.stopPropagation(),r.foldersService.unpinFolder(a)})),i.Ub(2,"i",6),i.Yb(),i.Zb(3,"span",7),i.Zb(4,"span",8),i.Sc(5),i.Yb(),i.Yb(),i.Zb(6,"span",9),i.Sc(7),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.lc(2);i.Jb("selectedFolder",r.foldersService.getCurrentFolder().id==a.id),i.sc("id","folder-list-"+a.id),i.Eb(1),i.sc("title",r.translate.instant("lang.unpinFolder")),i.Eb(3),i.Jb("drag",a.drag),i.sc("title",a.label),i.Eb(1),i.Uc(" ",a.label," "),i.Eb(1),i.Jb("empty",0===a.countResources),i.Eb(1),i.Uc(" ",a.countResources," ")}}function Sm(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"mat-list",2),i.Qc(2,Om,8,11,"mat-list-item",3),i.Yb(),i.Wb()),2&t){var n=i.lc();i.Eb(2),i.sc("ngForOf",n.foldersService.getPinnedList())}}function Em(t,e){1&t&&(i.Zb(0,"div",10),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noPinnedFolder")," "))}var Mm,Im=((Mm=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.http=n,this.foldersService=i,this.noInit=!1,this.subscription=this.foldersService.catchEvent().subscribe((function(t){}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.foldersService.initFolder(),this.noInit||this.foldersService.getPinnedFolders()}},{key:"gotToFolder",value:function(t){this.foldersService.goToFolder(t)}},{key:"dragEnter",value:function(t){t.drag=!0}},{key:"drop",value:function(t,e){this.foldersService.classifyDocument(t,e)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Mm)(i.Tb(l.e),i.Tb(u.b),i.Tb(Tr.a))},Mm.\u0275cmp=i.Nb({type:Mm,selectors:[["folder-pinned"]],inputs:{noInit:"noInit"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"pinnedFolderList"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']",3,"selectedFolder","id","click","cdkDropListDropped","cdkDropListEntered","cdkDropListExited",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']",3,"id","click","cdkDropListDropped","cdkDropListEntered","cdkDropListExited"],["mat-list-icon","",1,"pinnedIcon",3,"title","click"],[1,"fa","fa-thumbtack"],[1,"pinnedFolderItem"],[1,"treeLabel",3,"title"],[1,"countResources"],[1,"noPinnedFolder"]],template:function(t,e){if(1&t&&(i.Qc(0,Sm,3,1,"ng-container",0),i.Qc(1,Em,3,3,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.foldersService.getPinnedList().length>0)("ngIfElse",n)}},directives:[y.t,k.a,y.s,k.d,po.e,b.a,k.c],pipes:[l.d],styles:[".pinnedFolderList[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{cursor:pointer;height:45px}.pinnedFolderList[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.pinnedFolderList[_ngcontent-%COMP%]    .mat-list-text{padding-left:0!important}.pinnedFolderList[_ngcontent-%COMP%]   .pinnedFolderItem[_ngcontent-%COMP%]{font-weight:700;font-size:12px;width:90%;overflow:hidden;text-overflow:ellipsis}.pinnedFolderList[_ngcontent-%COMP%]   .folderAction[_ngcontent-%COMP%]{color:#666}.pinnedIcon[_ngcontent-%COMP%]{cursor:pointer;color:#135f7f;text-align:center}.pinnedIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;transition:all .3s}.pinnedIcon[_ngcontent-%COMP%]:hover{color:#8e3e52}.pinnedIcon[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transition:all .3s;transform:rotate(45deg) translateY(-50%)}.countResources[_ngcontent-%COMP%]{color:#135f7f;font-weight:700;font-size:14px}.empty[_ngcontent-%COMP%]{opacity:.5;font-size:12px;color:#666}button[_ngcontent-%COMP%]:disabled{opacity:1}.selectedFolder[_ngcontent-%COMP%]{border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.public[_ngcontent-%COMP%]{color:#f99830}.drag[_ngcontent-%COMP%]{color:#f99830!important}.noPinnedFolder[_ngcontent-%COMP%]{text-align:center;font-size:13px;opacity:.5;font-style:italic}.treeLabel[_ngcontent-%COMP%]{white-space:pre;color:#666}"]}),Mm),Pm=n("FvrZ"),Tm=n("R0Ic"),Am=n("8yBR");function Dm(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-expansion-panel",22),i.Zb(1,"mat-expansion-panel-header"),i.Zb(2,"mat-panel-title"),i.Sc(3),i.Yb(),i.Yb(),i.Zb(4,"mat-slide-toggle",23),i.hc("change",(function(t){i.Hc(n);var e=i.lc().$implicit;return i.lc(2).toggleAdmin(e,t)})),i.Sc(5),i.mc(6,"translate"),i.Yb(),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(2);i.Eb(3),i.Uc(" ",a.entity_label," "),i.Eb(1),i.sc("checked",r.isAdminEnabled(a)),i.Eb(1),i.Uc("",i.nc(6,3,"lang.canManageFolder")," ")}}function Rm(t,e){if(1&t&&(i.Xb(0),i.Qc(1,Dm,7,5,"mat-expansion-panel",21),i.Wb()),2&t){var n=e.$implicit,a=i.lc(2);i.Eb(1),i.sc("ngIf",a.checkSelectedFolder(n))}}function Lm(t,e){if(1&t&&(i.Zb(0,"div",17),i.Zb(1,"div",18),i.Zb(2,"div",19),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Qc(5,Rm,2,1,"ng-container",20),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Eb(3),i.Uc(" ",i.nc(4,2,"lang.parameters")," "),i.Eb(2),i.sc("ngForOf",n.entities)}}var Fm,jm=((Fm=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.dialogRef=a,this.functions=r,this.data=o,this.folder={id:0,label:"",public:!0,user_id:0,parent_id:null,level:0,sharing:{entities:[]}},this.sharingFolderCLone=[],this.holdShift=!1,this.entities=[]}return _createClass(t,[{key:"onKeydownHandler",value:function(t){this.holdShift=!0}},{key:"onKeyupHandler",value:function(t){this.holdShift=!1}},{key:"ngOnInit",value:function(){this.getFolder()}},{key:"getFolder",value:function(){var t=this;this.http.get("../rest/folders/"+this.data.folderId).pipe(Object(lt.a)((function(e){return t.folder=e.folder})),Object(Or.a)((function(){return t.http.get("../rest/entities")})),Object(wr.a)((function(e){var n={serialId:"ALL_ENTITIES",keyword:"ALL_ENTITIES",parent:"#",icon:"fa fa-hashtag",allowed:!0,text:t.translate.instant("lang.allEntities"),state:{opened:!1,selected:!1},parent_entity_id:"",id:"ALL_ENTITIES",entity_label:t.translate.instant("lang.allEntities")};return e.entities.unshift(n),t.entities=e.entities,e.entities.forEach((function(e){(t.folder.sharing.entities.map((function(t){return t.entity_id})).indexOf(e.serialId)>-1||t.folder.sharing.entities.map((function(t){return t.keyword})).indexOf(e.serialId)>-1)&&(e.state.selected=!0),e.state.allowed=!0,e.state.disabled=!1})),e})),Object(lt.a)((function(e){t.initEntitiesTree(e.entities)})),Object(Or.a)((function(){return t.http.get("../rest/folders")})),Object(wr.a)((function(e){var n=0;return e.folders.forEach((function(e){e.state={opened:!0},null===e.parent_id&&(e.parent_id="#"),e.id===t.folder.parent_id&&(e.state.selected=!0),e.id!==t.folder.id&&n!==e.parent_id&&e.canEdit||(n=e.id,e.state.opened=!1,e.state.disabled=!0),e.parent=e.parent_id,e.text=e.label})),e})),Object(lt.a)((function(e){t.initFoldersTree(e.folders)})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)})),Object(Ln.a)((function(){return t.sharingFolderCLone=JSON.parse(JSON.stringify(t.folder.sharing.entities))}))).subscribe()}},{key:"initFoldersTree",value:function(t){var e=this;$("#jstreeFolders").jstree({checkbox:{deselect_all:!0,three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},multiple:!1,data:t},plugins:["checkbox","search"]}),$("#jstreeFolders").on("select_node.jstree",(function(t,n){e.folder.parent_id=n.node.original.id})).on("deselect_node.jstree",(function(t,n){e.folder.parent_id=""})).jstree();var n=!1;$("#jstree_searchFolders").keyup((function(){n&&clearTimeout(n),n=setTimeout((function(){var t=$("#jstree_searchFolders").val();$("#jstreeFolders").jstree(!0).search(t)}),250)}))}},{key:"initEntitiesTree",value:function(t){var e=this;$("#jstree").jstree({checkbox:{three_state:!1},core:{force_text:!0,themes:{name:"proton",responsive:!0},data:t},plugins:["checkbox","search"]}),$("#jstree").on("select_node.jstree",(function(t,n){e.selectEntity(n.node.original)})).on("deselect_node.jstree",(function(t,n){e.deselectEntity(n.node.original)})).jstree();var n=!1;$("#jstree_search").keyup((function(){n&&clearTimeout(n),n=setTimeout((function(){var t=$("#jstree_search").val();$("#jstree").jstree(!0).search(t)}),250)}))}},{key:"selectEntity",value:function(t){this.holdShift?($("#jstree").jstree("deselect_all"),this.folder.sharing.entities=[]):this.functions.empty(t.keyword)?this.folder.sharing.entities.push({entity_id:t.serialId,edition:!1}):this.folder.sharing.entities.push({keyword:t.keyword,edition:!1})}},{key:"deselectEntity",value:function(t){var e=this.folder.sharing.entities.map((function(t){return t.entity_id})).indexOf(t.serialId);(e>-1||(e=this.folder.sharing.entities.map((function(t){return t.keyword})).indexOf(t.serialId))>-1)&&this.folder.sharing.entities.splice(e,1)}},{key:"onSubmit",value:function(){var t=this;this.http.put("../rest/folders/"+this.folder.id,this.folder).pipe(Object(Or.a)((function(){return JSON.stringify(t.sharingFolderCLone)!==JSON.stringify(t.folder.sharing.entities)?t.http.put("../rest/folders/"+t.folder.id+"/sharing",{public:t.folder.sharing.entities.length>0,sharing:t.folder.sharing}):Object(On.of)(!1)})),Object(lt.a)((function(){t.notify.success(t.translate.instant("lang.folderUpdated")),t.dialogRef.close("success")})),Object(wn.a)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"checkSelectedFolder",value:function(t){return this.folder.sharing.entities.map((function(t){return t.entity_id})).indexOf(t.serialId)>-1||this.folder.sharing.entities.map((function(t){return t.keyword})).indexOf(t.serialId)>-1}},{key:"initService",value:function(t){1===t.index&&this.initEntitiesTree(this.entities)}},{key:"toggleAdmin",value:function(t,e){var n=this.folder.sharing.entities.map((function(t){return t.entity_id})).indexOf(t.serialId);(n>-1||(n=this.folder.sharing.entities.map((function(t){return t.keyword})).indexOf(t.serialId))>-1)&&(this.folder.sharing.entities[n].edition=e.checked)}},{key:"isAdminEnabled",value:function(t){var e=this.folder.sharing.entities.map((function(t){return t.entity_id})).indexOf(t.serialId);return(e>-1||(e=this.folder.sharing.entities.map((function(t){return t.keyword})).indexOf(t.serialId))>-1)&&this.folder.sharing.entities[e].edition}}]),t}()).\u0275fac=function(t){return new(t||Fm)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.h),i.Tb(ft.a),i.Tb(Y.a))},Fm.\u0275cmp=i.Nb({type:Fm,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&i.hc("keydown.Shift",(function(t){return e.onKeydownHandler(t)}),!1,i.Fc)("keyup",(function(t){return e.onKeyupHandler(t)}),!1,i.Fc)},decls:35,vars:31,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[3,"ngSubmit"],["submitForm","ngForm"],[1,"col-md-12"],["matInput","","name","label",3,"placeholder","ngModel","ngModelChange"],[3,"selectedTabChange"],[3,"label"],["appearance","outline"],["matInput","","id","jstree_searchFolders","type","text",3,"placeholder"],["id","jstreeFolders",1,"entitiesList"],["matInput","","id","jstree_search","type","text",3,"placeholder"],["id","jstree",1,"entitiesList"],["class","col-md-6",4,"ngIf"],[1,"divider-modal"],["mat-raised-button","","color","primary","type","submit",3,"click"],["mat-raised-button","","type","button","color","default",3,"click"],[1,"col-md-6"],[1,"formType","jstreeEntities"],[1,"formType-title"],[4,"ngFor","ngForOf"],["class","selectedEntities","opened","",4,"ngIf"],["opened","",1,"selectedEntities"],["color","primary",3,"checked","change"]],template:function(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Zb(4,"mat-dialog-content"),i.Zb(5,"form",2,3),i.hc("ngSubmit",(function(){return e.onSubmit()})),i.Zb(7,"div",4),i.Zb(8,"mat-form-field"),i.Zb(9,"input",5),i.hc("ngModelChange",(function(t){return e.folder.label=t})),i.mc(10,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"div",4),i.Zb(12,"mat-tab-group",6),i.hc("selectedTabChange",(function(t){return e.initService(t)})),i.Zb(13,"mat-tab",7),i.mc(14,"translate"),i.Zb(15,"mat-form-field",8),i.Ub(16,"input",9),i.mc(17,"translate"),i.Yb(),i.Ub(18,"div",10),i.Yb(),i.Zb(19,"mat-tab",7),i.mc(20,"translate"),i.Zb(21,"div"),i.Zb(22,"mat-form-field",8),i.Ub(23,"input",11),i.mc(24,"translate"),i.Yb(),i.Ub(25,"div",12),i.Yb(),i.Qc(26,Lm,6,4,"div",13),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Ub(27,"span",14),i.Zb(28,"mat-dialog-actions"),i.Zb(29,"button",15),i.hc("click",(function(){return i.Hc(n),i.Dc(6).ngSubmit.emit()})),i.Sc(30),i.mc(31,"translate"),i.Yb(),i.Zb(32,"button",16),i.hc("click",(function(){return e.dialogRef.close()})),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Yb(),i.Yb()}2&t&&(i.Eb(2),i.Vc("",i.nc(3,15,"lang.folder")," : ",e.folder.label,""),i.Eb(7),i.tc("placeholder",i.nc(10,17,"lang.label")),i.sc("ngModel",e.folder.label),i.Eb(4),i.tc("label",i.nc(14,19,"lang.setInParentFolder")),i.Eb(3),i.tc("placeholder",i.nc(17,21,"lang.searchFolder")),i.Eb(3),i.tc("label",i.nc(20,23,"lang.shareToEntities")),i.Eb(2),i.Jb("col-md-12",0===e.folder.sharing.entities.length)("col-md-6",e.folder.sharing.entities.length>0),i.Eb(2),i.tc("placeholder",i.nc(24,25,"lang.searchEntities")),i.Eb(3),i.sc("ngIf",e.folder.sharing.entities.length>0),i.Eb(4),i.Tc(i.nc(31,27,"lang.validate")),i.Eb(3),i.Tc(i.nc(34,29,"lang.cancel")))},directives:[Y.i,Y.f,j.J,j.u,j.v,N.c,U.b,j.c,j.t,j.w,mt.c,mt.a,y.t,Y.c,g.b,y.s,ut.c,ut.g,ut.h,vt.a],pipes:[l.d],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px}.formType[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;border-radius:4px;border:1px solid #ccc;position:relative;padding:10px}.formType-title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;background:#fff;position:absolute;top:-18px;left:10px;padding:0;margin:0;color:#135f7f}.entitiesList[_ngcontent-%COMP%]{overflow:auto}.selectedEntities[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}"]}),Fm),Ym=n("OGgV"),Zm=n("7RJT"),Nm=["itemValue"],Um=["autocomplete"],Bm=["tree"];function zm(t,e){1&t&&(i.Zb(0,"div",10),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAvailableFolder")," "))}function Vm(t,e){1&t&&(i.Ub(0,"i",31),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function Hm(t,e){1&t&&i.Ub(0,"mat-icon",32)}function Qm(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Jb("empty",0===n.countResources),i.Eb(1),i.Uc(" ",n.countResources," ")}}function Wm(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-tree-node",15),i.hc("cdkDropListDropped",(function(t){i.Hc(n);var a=e.$implicit;return i.lc(3).drop(t,a)}))("cdkDropListEntered",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).dragEnter(t)}))("cdkDropListExited",(function(){return e.$implicit.drag=!1})),i.Ub(1,"button",16),i.Zb(2,"a",17),i.hc("mouseenter",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).showAction(t)}))("mouseleave",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).hideAction(t)}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).foldersService.goToFolder(t)})),i.Zb(3,"span",18),i.Zb(4,"span",19),i.Qc(5,Vm,2,3,"i",20),i.Sc(6),i.Yb(),i.Yb(),i.Zb(7,"button",21),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.showAction(a),r.checkRights(a)})),i.Qc(8,Hm,1,0,"mat-icon",22),i.Qc(9,Qm,2,3,"span",23),i.Yb(),i.Zb(10,"mat-menu",null,24),i.Zb(12,"button",25),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).togglePinFolder(t)})),i.Zb(13,"mat-icon"),i.Ub(14,"i",26),i.Yb(),i.Zb(15,"span"),i.Sc(16),i.Yb(),i.Yb(),i.Zb(17,"button",27),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).addNewItem(t)})),i.Zb(18,"mat-icon",28),i.Ub(19,"i",7),i.Yb(),i.Zb(20,"span"),i.Sc(21),i.mc(22,"translate"),i.Yb(),i.Yb(),i.Zb(23,"button",27),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).deleteNode(t)})),i.Zb(24,"mat-icon",28),i.Ub(25,"i",29),i.Yb(),i.Zb(26,"span"),i.Sc(27),i.mc(28,"translate"),i.Yb(),i.Yb(),i.Zb(29,"button",27),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).openFolderAdmin(t)})),i.Zb(30,"mat-icon",28),i.Ub(31,"i",30),i.Yb(),i.Zb(32,"span"),i.Sc(33),i.mc(34,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.Dc(11),o=i.lc(3);i.sc("id","treefolder-list-"+a.id)("@hideShow",void 0),i.Eb(2),i.Jb("selectedFolder",o.foldersService.getCurrentFolder().id==a.id),i.Eb(2),i.Jb("drag",a.drag),i.sc("title",a.label),i.Eb(1),i.sc("ngIf",a.public),i.Eb(1),i.Uc(" ",a.label," "),i.Eb(1),i.sc("matMenuTriggerFor",r)("disabled",!a.showAction),i.Eb(1),i.sc("ngIf",a.showAction),i.Eb(1),i.sc("ngIf",!a.showAction),i.Eb(1),i.Gb("folderListMenu"),i.Eb(3),i.Jb("pinnedActionIcon",!a.pinned)("revertPinnedActionIcon",a.pinned),i.Eb(3),i.Tc(o.translate.instant(a.pinned?"lang.unpinFolder":"lang.pinFolder")),i.Eb(1),i.sc("disabled",o.createItemNode||!a.canAdd||a.level>6),i.Eb(4),i.Tc(i.nc(22,26,"lang.addSubFolder")),i.Eb(2),i.sc("disabled",!a.canDelete),i.Eb(4),i.Uc(" ",i.nc(28,28,"lang.delete")," "),i.Eb(2),i.sc("disabled",!a.edition),i.Eb(4),i.Uc(" ",i.nc(34,30,"lang.properties")," ")}}function Gm(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-tree-node",34),i.Zb(1,"form"),i.Zb(2,"mat-form-field",35),i.Ub(3,"input",36,37),i.mc(5,"translate"),i.Zb(6,"button",38),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=i.Dc(4);return i.lc(3).saveNode(t,a.value)})),i.Ub(7,"mat-icon",39),i.Yb(),i.Zb(8,"button",40),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).removeTemporaryNode(t)})),i.Ub(9,"mat-icon",41),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.Dc(4),r=i.lc(3);i.Eb(3),i.uc("placeholder","",i.nc(5,4,"lang.addFolder"),"..."),i.Eb(3),i.sc("disabled",""===a.value),i.Eb(1),i.sc("title",r.translate.instant("lang.add")),i.Eb(2),i.sc("title",r.translate.instant("lang.delete"))}}function qm(t,e){1&t&&(i.Ub(0,"i",31),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.sharedFolder"))}function Xm(t,e){1&t&&i.Ub(0,"mat-icon",32)}function $m(t,e){if(1&t&&(i.Zb(0,"span",33),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Jb("empty",0===n.countResources),i.Eb(1),i.Uc(" ",n.countResources," ")}}function Jm(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-tree-node",42),i.hc("cdkDropListDropped",(function(t){i.Hc(n);var a=e.$implicit;return i.lc(3).drop(t,a)}))("cdkDropListEntered",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).dragEnter(t)}))("cdkDropListExited",(function(){return e.$implicit.drag=!1})),i.Zb(1,"button",43),i.Ub(2,"mat-icon"),i.Yb(),i.Zb(3,"a",44),i.hc("mouseleave",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).hideAction(t)}))("mouseenter",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).showAction(t)}))("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).foldersService.goToFolder(t)})),i.Zb(4,"span",18),i.Zb(5,"span",19),i.Qc(6,qm,2,3,"i",20),i.Sc(7),i.Yb(),i.Yb(),i.Zb(8,"button",21),i.hc("click",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(3);return t.stopPropagation(),r.checkRights(a)})),i.Qc(9,Xm,1,0,"mat-icon",22),i.Qc(10,$m,2,3,"span",23),i.Yb(),i.Zb(11,"mat-menu",null,24),i.Zb(13,"button",25),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).togglePinFolder(t)})),i.Zb(14,"mat-icon"),i.Ub(15,"i",26),i.Yb(),i.Zb(16,"span"),i.Sc(17),i.Yb(),i.Yb(),i.Zb(18,"button",27),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).addNewItem(t)})),i.Zb(19,"mat-icon",28),i.Ub(20,"i",7),i.Yb(),i.Zb(21,"span"),i.Sc(22),i.mc(23,"translate"),i.Yb(),i.Yb(),i.Zb(24,"button",27),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).deleteNode(t)})),i.Zb(25,"mat-icon",28),i.Ub(26,"i",29),i.Yb(),i.Zb(27,"span"),i.Sc(28),i.mc(29,"translate"),i.Yb(),i.Yb(),i.Zb(30,"button",27),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(3).openFolderAdmin(t)})),i.Zb(31,"mat-icon",28),i.Ub(32,"i",30),i.Yb(),i.Zb(33,"span"),i.Sc(34),i.mc(35,"translate"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.Dc(12),o=i.lc(3);i.sc("id","treefolder-list-"+a.id)("@hideShow",void 0),i.Eb(1),i.Fb("aria-label","toggle "+a.name),i.Eb(1),i.Hb("mat-icon-rtl-mirror fa ",o.treeControl.isExpanded(a)?"fa-chevron-down":"fa-chevron-right",""),i.Eb(1),i.Jb("selectedFolder",o.foldersService.getCurrentFolder().id==a.id),i.Eb(2),i.Jb("drag",a.drag),i.sc("title",a.label),i.Eb(1),i.sc("ngIf",a.public),i.Eb(1),i.Uc(" ",a.label," "),i.Eb(1),i.sc("matMenuTriggerFor",r)("disabled",!a.showAction),i.Eb(1),i.sc("ngIf",a.showAction),i.Eb(1),i.sc("ngIf",!a.showAction),i.Eb(1),i.Gb("folderListMenu"),i.Eb(3),i.Jb("pinnedActionIcon",!a.pinned)("revertPinnedActionIcon",a.pinned),i.Eb(3),i.Tc(o.translate.instant(a.pinned?"lang.unpinFolder":"lang.pinFolder")),i.Eb(1),i.sc("disabled",o.createItemNode||!a.canAdd||a.level>6),i.Eb(4),i.Tc(i.nc(23,30,"lang.addSubFolder")),i.Eb(2),i.sc("disabled",!a.canDelete),i.Eb(4),i.Uc(" ",i.nc(29,32,"lang.delete")," "),i.Eb(2),i.sc("disabled",!a.edition),i.Eb(4),i.Uc(" ",i.nc(35,34,"lang.properties")," ")}}function Km(t,e){if(1&t&&(i.Zb(0,"mat-nav-list"),i.Zb(1,"mat-tree",11),i.Qc(2,Wm,35,32,"mat-tree-node",12),i.Qc(3,Gm,10,6,"mat-tree-node",13),i.Qc(4,Jm,36,36,"mat-tree-node",14),i.Yb(),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.sc("dataSource",n.dataSource)("treeControl",n.treeControl),i.Eb(2),i.sc("matTreeNodeDefWhen",n.hasNoContent),i.Eb(1),i.sc("matTreeNodeDefWhen",n.hasChild)}}var tg=function(){return["/rest/autocomplete/folders"]};function eg(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"div",2),i.Zb(2,"div",3),i.Zb(3,"plugin-autocomplete",4,5),i.hc("triggerEvent",(function(t){return i.Hc(n),i.lc().goTo(t)})),i.Yb(),i.Yb(),i.Zb(5,"div"),i.Zb(6,"button",6),i.hc("click",(function(){return i.Hc(n),i.lc().openCreateFolderModal()})),i.mc(7,"translate"),i.Ub(8,"mat-icon",7),i.Yb(),i.Yb(),i.Yb(),i.Qc(9,zm,3,3,"div",8),i.Qc(10,Km,5,4,"mat-nav-list",9),i.Wb()}if(2&t){var a=i.lc();i.Eb(3),i.sc("size","small")("labelPlaceholder",a.translate.instant("lang.searchFolder"))("routeDatas",i.yc(9,tg))("targetSearchKey","idToDisplay"),i.Eb(3),i.tc("title",i.nc(7,7,"lang.addRootFolder")),i.Eb(3),i.sc("ngIf",0===a.dataSource.data.length),i.Eb(1),i.sc("ngIf",a.dataSource.data.length>0)}}function ng(t,e){1&t&&(i.Zb(0,"div",45),i.Ub(1,"mat-spinner"),i.Yb())}var ig,ag=function t(){_classCallCheck(this,t)},rg=((ig=function(){function t(e,n,a,r,o,s,c,l,u){var d=this;_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.router=o,this.renderer=s,this.headerService=c,this.foldersService=l,this.functions=u,this.loading=!0,this.searchTerm=new j.h,this.TREE_DATA=[],this.createRootNode=!1,this.createItemNode=!1,this.dataChange=new Zm.BehaviorSubject([]),this.refreshDocList=new i.o,this.refreshFolderList=new i.o,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.transformer=function(t,e){var n=d.nestedNodeMap.get(t),i=n&&n.label===t.label?n:new ag;return i.label=t.label,i.countResources=t.countResources,i.public=t.public,i.pinned=t.pinned,i.parent_id=t.parent_id,i.id=t.id,i.level=e,i.expandable=!!t.children,d.flatNodeMap.set(i,t),d.nestedNodeMap.set(t,i),i},this.treeControl=new Pm.j((function(t){return t.level}),(function(t){return t.expandable})),this.treeFlattener=new Am.d(this.transformer,(function(t){return t.level}),(function(t){return t.expandable}),(function(t){return t.children})),this.dataSource=new Am.c(this.treeControl,this.treeFlattener),this.hasChild=function(t,e){return e.expandable},this.hasNoContent=function(t,e){return""===e.label},this.subscription=this.foldersService.catchEvent().subscribe((function(t){if("initTree"===t.type){var e=d.flatToNestedObject(d.foldersService.getList());e.length>0&&(d.initTree(e),d.openTree(d.foldersService.getCurrentFolder().id)),d.loading=!1}else"refreshFolderCount"===t.type?d.treeControl.dataNodes.filter((function(e){return e.id===t.content.id}))[0].countResources=t.content.countResources:"refreshFolderPinned"===t.type?d.treeControl.dataNodes.filter((function(e){return e.id===t.content.id}))[0].pinned=t.content.pinned:void 0!==d.treeControl.dataNodes&&d.openTree(d.foldersService.getCurrentFolder().id)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getFolders()}},{key:"getFolders",value:function(){this.loading=!0,this.foldersService.getFolders()}},{key:"initTree",value:function(t){var e=this;this.dataChange.next(t),this.dataChange.subscribe((function(t){e.dataSource.data=t}))}},{key:"openTree",value:function(t){for(var e=this.treeControl.dataNodes.map((function(t){return t.id})).indexOf(parseInt(t));-1!==e;)-1!==(e=this.treeControl.dataNodes.map((function(t){return t.id})).indexOf(this.treeControl.dataNodes[e].parent_id))&&this.treeControl.expand(this.treeControl.dataNodes[e])}},{key:"showAction",value:function(t){this.treeControl.dataNodes.forEach((function(t){t.showAction=!1})),t.showAction=!0}},{key:"hideAction",value:function(t){t.showAction=!1}},{key:"flatToNestedObject",value:function(t){var e=this;return t.reduce((function(t,n,i,a){return null===n.parent_id?(t.left.length&&e.checkLeftOvers(t.left,n),delete n.parent_id,n.root=!0,t.nested.push(n)):e.findParent(t.nested,n)?e.checkLeftOvers(t.left,n):t.left.push(n),i<a.length-1?t:t.nested}),{nested:[],left:[]})}},{key:"checkLeftOvers",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n].parent_id===e.id){e.children?e.children.push(t[n]):e.children=[t[n]],e.count=e.children.length;var i=t.splice(n,1);this.checkLeftOvers(t,i[0])}}},{key:"findParent",value:function(t,e){for(var n=!1,i=0;i<t.length;i++){if(t[i].id===e.parent_id)return n=!0,t[i].children?t[i].children.push(e):t[i].children=[e],t[i].count=t[i].children.length,!0;t[i].children&&(n=this.findParent(t[i].children,e))}return n}},{key:"addNewItem",value:function(t){this.createItemNode=!0;var e=this.flatNodeMap.get(t);void 0===e.children&&(e.children=[]),e.children.push({label:"",parent_id:e.id,public:e.public}),this.dataChange.next(this.data),this.treeControl.expand(t),this.renderer.selectRootElement("#itemValue").focus()}},{key:"saveNode",value:function(t,e){var n=this;this.http.post("../rest/folders",{label:e,parent_id:t.parent_id}).pipe(Object(lt.a)((function(i){var a=n.flatNodeMap.get(t);a.label=e,a.id=i.folder,a.countResources=0,n.dataChange.next(n.data),n.treeControl.collapseAll(),n.openTree(a.id),n.createItemNode=!1,n.foldersService.getPinnedFolders()})),Object(lt.a)((function(){return n.notify.success(n.translate.instant("lang.folderAdded"))})),Object(wn.a)((function(t){return n.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"removeTemporaryNode",value:function(t){var e=this.getParentNode(t),n=e.children.map((function(t){return t.id})).indexOf(t.id);-1!==n&&e.children.splice(n,1),this.flatNodeMap.delete(t),this.dataChange.next(this.data),this.createItemNode=!1}},{key:"openCreateFolderModal",value:function(){var t=this;this.dialogRef=this.dialog.open(Ym.a,{panelClass:"maarch-modal",data:{folderName:this.autocomplete.getValue()}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(e){return!t.functions.empty(e)})),Object(lt.a)((function(){t.autocomplete.resetValue(),t.getFolders(),t.foldersService.getPinnedFolders()})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"deleteNode",value:function(t){var e=this;this.dialogRef=this.dialog.open(Sr.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}),this.dialogRef.afterClosed().pipe(Object(ot.a)((function(t){return"ok"===t})),Object(Or.a)((function(){return e.http.delete("../rest/folders/"+t.id)})),Object(lt.a)((function(){var n=e.getParentNode(t);if(null!==n){var i=n.children.map((function(t){return t.id})).indexOf(t.id);-1!==i&&n.children.splice(i,1)}else{var a=e.data.map((function(t){return t.id})).indexOf(t.id);-1!==a&&e.data.splice(a,1)}e.flatNodeMap.delete(t),e.dataChange.next(e.data)})),Object(lt.a)((function(){e.foldersService.getPinnedFolders(),e.notify.success(e.translate.instant("lang.folderDeleted"))})),Object(wn.a)((function(t){return e.notify.handleErrors(t),Object(On.of)(!1)}))).subscribe()}},{key:"getParentNode",value:function(t){var e=t.level;if(e<1)return null;for(var n=this.treeControl.dataNodes.indexOf(t)-1;n>=0;n--){var i=this.treeControl.dataNodes[n];if(i.level<e)return this.flatNodeMap.get(i)}return null}},{key:"drop",value:function(t,e){this.foldersService.classifyDocument(t,e)}},{key:"dragEnter",value:function(t){t.drag=!0}},{key:"openFolderAdmin",value:function(t){var e=this;this.dialogRef=this.dialog.open(jm,{panelClass:"maarch-modal",autoFocus:!1,data:{folderId:t.id}}),this.dialogRef.afterClosed().pipe(Object(lt.a)((function(n){void 0!==n&&(e.getFolders(),e.foldersService.getPinnedFolders(),e.foldersService.setEvent({type:"refreshFolderInformations",content:t}))}))).subscribe()}},{key:"checkRights",value:function(t){var e=this,n=[],i=0;this.http.get("../rest/folders/"+t.id).pipe(Object(lt.a)((function(a){n=e.headerService.user.entities.map((function(t){return t.id})),i=e.headerService.user.id;var r=!1,o=!1,s=a.folder.sharing.entities.filter((function(t){return n.indexOf(t)>-1}));a.folder.sharing.entities.filter((function(t){return s.indexOf(t.id)})).forEach((function(t){!0===t.edition&&(r=!0),!0===t.canDelete&&(o=!0)})),t.edition=!(!r&&a.folder.user_id!==i),t.canAdd=t.edition,t.canDelete=o||a.folder.user_id===i}))).subscribe()}},{key:"goTo",value:function(t){this.selectedId=t.id,this.getFolders(),this.router.navigate(["/folders/"+t.id])}},{key:"togglePinFolder",value:function(t){t.pinned?this.foldersService.unpinFolder(t):this.foldersService.pinFolder(t)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"data",get:function(){return this.dataChange.value}}]),t}()).\u0275fac=function(t){return new(t||ig)(i.Tb(l.e),i.Tb(u.b),i.Tb(h.a),i.Tb(Y.b),i.Tb(o.c),i.Tb(i.H),i.Tb(f.a),i.Tb(Tr.a),i.Tb(ft.a))},ig.\u0275cmp=i.Nb({type:ig,selectors:[["folder-tree"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(Nm,!0),i.ad(Um,!0),i.Oc(Bm,!0)),2&t&&(i.Cc(n=i.ic())&&(e.itemValue=n.first),i.Cc(n=i.ic())&&(e.autocomplete=n.first),i.Cc(n=i.ic())&&(e.tree=n.first))},inputs:{selectedId:"selectedId"},outputs:{refreshDocList:"refreshDocList",refreshFolderList:"refreshFolderList"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"folderTools"],[1,"filter"],["appearance","outline",3,"size","labelPlaceholder","routeDatas","targetSearchKey","triggerEvent"],["autocomplete",""],["mat-icon-button","","color","primary",3,"title","click"],[1,"fas","fa-folder-plus"],["class","noFolder",4,"ngIf"],[4,"ngIf"],[1,"noFolder"],[3,"dataSource","treeControl"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodePaddingIndent","0px",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cdkDropList","","cdkDropListConnectedTo","list-1","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited",4,"matTreeNodeDef","matTreeNodeDefWhen"],["cdkDropList","","cdkDropListConnectedTo","['document-list','folder-list']","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited"],["mat-icon-button","","disabled","",1,"expandButton"],["mat-list-item","","disableRipple","",1,"folderTreeItem",3,"mouseenter","mouseleave","click"],[2,"width","90%","overflow","hidden","text-overflow","ellipsis"],[1,"treeLabel",3,"title"],["class","fa fa-users private",3,"title",4,"ngIf"],["mat-icon-button","",2,"position","absolute","right","0px",3,"matMenuTriggerFor","disabled","click"],["class","folderAction fa fa-ellipsis-v",4,"ngIf"],["class","countResources",3,"empty",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"fas","fa-thumbtack"],["mat-menu-item","",3,"disabled","click"],[2,"width","auto","height","auto"],[1,"far","fa-trash-alt"],[1,"fas","fa-sliders-h"],[1,"fa","fa-users","private",3,"title"],[1,"folderAction","fa","fa-ellipsis-v"],[1,"countResources"],["matTreeNodePadding","","matTreeNodePaddingIndent","0px"],["floatLabel","never",2,"width","100%","padding-left","10px","padding-right","10px"],["matInput","","id","itemValue",3,"placeholder"],["itemValue",""],["type","submit","matSuffix","","mat-icon-button","",3,"disabled","click"],["color","accent",1,"fa","fa-check",3,"title"],["type","button","matSuffix","","mat-icon-button","",3,"click"],[1,"fa","fa-times",2,"color","#8e3e52",3,"title"],["cdkDropList","","cdkDropListConnectedTo","list-1","matTreeNodePadding","","matTreeNodePaddingIndent","20px",3,"id","cdkDropListDropped","cdkDropListEntered","cdkDropListExited"],["mat-icon-button","","matTreeNodeToggle","",1,"expandButton"],["mat-list-item","","disableRipple","",1,"folderTreeItem",3,"mouseleave","mouseenter","click"],[1,"loading"]],template:function(t,e){if(1&t&&(i.Qc(0,eg,11,10,"ng-container",0),i.Qc(1,ng,2,0,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",!e.loading)("ngIfElse",n)}},directives:[y.t,kt.a,g.b,b.a,k.h,Am.b,Am.h,Am.g,po.e,Am.j,k.d,to.d,to.e,to.b,j.J,j.u,j.v,N.c,U.b,N.j,Am.k,_.c],pipes:[l.d],styles:[".selectedFolder[_ngcontent-%COMP%]{border-left:5px solid #135f7f;background:rgba(19,95,127,.14)}.mat-icon-rtl-mirror[_ngcontent-%COMP%]{opacity:.5}.folderAction[_ngcontent-%COMP%]{color:#666}.mat-form-field-appearance-outline[_ngcontent-%COMP%]{font-size:11px} .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#135f7f}.example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree-node[_ngcontent-%COMP%]{display:block}.example-tree-node[_ngcontent-%COMP%]   .example-tree-node[_ngcontent-%COMP%]{padding-left:40px}.expandButton[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.mat-list-item[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700;height:40px;width:90%}.mat-tree-node[_ngcontent-%COMP%]{min-height:0;height:40px}.mat-tree-node[_ngcontent-%COMP%]    .mat-list-item-content{padding-left:0}form[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}.treeLabel[_ngcontent-%COMP%]{white-space:pre;color:#666}.drag[_ngcontent-%COMP%]{color:#f99830!important}.more[_ngcontent-%COMP%]{width:100%;opacity:.6}.more[_ngcontent-%COMP%]    .mat-list-item-content{justify-content:center}.rootFolder[_ngcontent-%COMP%]{width:100%}.private[_ngcontent-%COMP%]{margin-left:5px;color:#f99830}button[_ngcontent-%COMP%]:disabled{opacity:1}.countResources[_ngcontent-%COMP%]{font-weight:700;color:#135f7f}.empty[_ngcontent-%COMP%]{opacity:.5;font-size:12px;color:#666}.folderTools[_ngcontent-%COMP%]{padding-right:15px;display:flex;justify-content:center;align-items:baseline}.folderTools[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex:1}.noFolder[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;font-style:italic}.noFolder[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer} .folderListMenu .mat-menu-content{padding-top:0;padding-bottom:0} .folderListMenu .mat-menu-content .mat-menu-item .pinnedActionIcon{color:#8e3e52;height:auto} .folderListMenu .mat-menu-content .mat-menu-item .pinnedActionIcon i{font-size:13px;transition:all .3s;transform:rotate(15deg) translateY(-50%)} .folderListMenu .mat-menu-content .mat-menu-item .revertPinnedActionIcon{color:#135f7f;height:auto} .folderListMenu .mat-menu-content .mat-menu-item .revertPinnedActionIcon i{font-size:13px;transition:all .3s;transform:rotate(0deg) translate(0)} .folderListMenu .mat-menu-content .mat-menu-item:hover .pinnedActionIcon{color:#135f7f} .folderListMenu .mat-menu-content .mat-menu-item:hover .pinnedActionIcon i{transition:all .3s;transform:rotate(0deg) translate(0)} .folderListMenu .mat-menu-content .mat-menu-item:hover .revertPinnedActionIcon{color:#8e3e52} .folderListMenu .mat-menu-content .mat-menu-item:hover .revertPinnedActionIcon i{transition:all .3s;transform:rotate(15deg) translateY(-50%)}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[Object(Tm.n)("hideShow",[Object(Tm.m)(":enter",[Object(Tm.l)({height:"0px"}),Object(Tm.e)("200ms",Object(Tm.l)({height:"30px"}))]),Object(Tm.m)(":leave",[Object(Tm.l)({height:"30px"}),Object(Tm.e)("200ms",Object(Tm.l)({height:"0px"}))])])]}}),ig),og=["folderTree"];function sg(t,e){1&t&&(i.Zb(0,"mat-expansion-panel",4),i.Zb(1,"mat-expansion-panel-header"),i.Zb(2,"mat-panel-title"),i.Ub(3,"i",5),i.Sc(4),i.mc(5,"translate"),i.Yb(),i.Yb(),i.Ub(6,"folder-pinned",6),i.Yb()),2&t&&(i.Eb(4),i.Uc("\xa0",i.nc(5,2,"lang.myPinnedFolder")," "),i.Eb(2),i.sc("noInit",!0))}function cg(t,e){if(1&t){var n=i.ac();i.Zb(0,"folder-tree",7,8),i.hc("refreshDocList",(function(){return i.Hc(n),i.lc().refreshDocList()})),i.Yb()}}var lg,ug=((lg=function(){function t(e,n,a){var r=this;_classCallCheck(this,t),this.translate=e,this.foldersService=n,this.actionService=a,this.refreshEvent=new i.o,this.subscription=this.actionService.catchAction().subscribe((function(t){r.refreshFoldersTree()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.foldersService.getPinnedFolders()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"initTree",value:function(){this.folderTree.openTree(this.selectedId)}},{key:"refreshDocList",value:function(){this.refreshEvent.emit()}},{key:"refreshFoldersTree",value:function(){void 0!==this.folderTree&&this.folderTree.getFolders()}}]),t}()).\u0275fac=function(t){return new(t||lg)(i.Tb(l.e),i.Tb(Tr.a),i.Tb(qi.a))},lg.\u0275cmp=i.Nb({type:lg,selectors:[["panel-folder"]],viewQuery:function(t,e){var n;1&t&&i.ad(og,!0),2&t&&i.Cc(n=i.ic())&&(e.folderTree=n.first)},inputs:{selectedId:"selectedId"},outputs:{refreshEvent:"refreshEvent"},decls:9,vars:5,consts:[["class","folderList","expanded","",4,"ngIf"],[1,"folderList",3,"expanded"],[1,"fa","fa-folder","panelIconMenu"],["matExpansionPanelContent",""],["expanded","",1,"folderList"],[1,"fa","fa-thumbtack","panelIconMenu"],[3,"noInit"],[3,"refreshDocList"],["folderTree",""]],template:function(t,e){1&t&&(i.Qc(0,sg,7,4,"mat-expansion-panel",0),i.Ub(1,"mat-divider"),i.Zb(2,"mat-expansion-panel",1),i.Zb(3,"mat-expansion-panel-header"),i.Zb(4,"mat-panel-title"),i.Ub(5,"i",2),i.Sc(6),i.mc(7,"translate"),i.Yb(),i.Yb(),i.Qc(8,cg,2,0,"ng-template",3),i.Yb()),2&t&&(i.sc("ngIf",e.foldersService.getPinnedList().length>0),i.Eb(2),i.sc("expanded",!1),i.Eb(4),i.Uc("\xa0",i.nc(7,3,"lang.folders")," "))},directives:[y.t,O.a,ut.c,ut.g,ut.h,ut.e,Im,rg],pipes:[l.d],styles:[".folderList[_ngcontent-%COMP%]{box-shadow:none}.folderList[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.folderList[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#135f7f;display:flex;align-items:center;font-size:14px;font-weight:500}.folderList[_ngcontent-%COMP%]   .mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0}.folderList[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.panelIconMenu[_ngcontent-%COMP%]{font-size:22px}.showFolderTree[_ngcontent-%COMP%]{font-size:13px;opacity:.8;font-weight:700;color:#666;width:100%}"]}),lg);function dg(t,e){if(1&t&&(i.Sc(0),i.Zb(1,"p",13),i.Sc(2,"\xa0"),i.Yb()),2&t){var n=i.lc(2).$implicit,a=i.lc();i.Uc(" ",n.key,"\xa0"),i.Eb(1),i.sc("matBadge",a.missingLang[n.key].length)}}function fg(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Zb(1,"mat-form-field",14),i.Zb(2,"mat-label"),i.Sc(3),i.Yb(),i.Zb(4,"input",15,16),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.value=t})),i.Yb(),i.Zb(6,"button",17),i.hc("click",(function(){i.Hc(n);var t=e.$implicit,a=i.Dc(5),r=i.lc(3);return a.select(),r.openTranslation(t.value)})),i.Ub(7,"mat-icon",18),i.Yb(),i.Yb(),i.Wb()}if(2&t){var a=e.$implicit;i.Eb(3),i.Tc(a.id),i.Eb(1),i.sc("ngModel",a.value)}}function hg(t,e){if(1&t&&(i.Zb(0,"mat-tab",10),i.Qc(1,dg,3,2,"ng-template",11),i.Zb(2,"div",12),i.Qc(3,fg,8,2,"ng-container",4),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit,a=i.lc();i.sc("label",n.key),i.Eb(3),i.sc("ngForOf",a.missingLang[n.key])}}function pg(t,e){if(1&t&&(i.Xb(0),i.Qc(1,hg,4,2,"mat-tab",9),i.Wb()),2&t){var n=e.$implicit;i.Eb(1),i.sc("ngIf","fr"!==n.key)}}var mg,gg,bg=((mg=function(){function t(e,n,i,a){_classCallCheck(this,t),this.data=e,this.dialogRef=n,this.http=i,this.notify=a,this.missingLang=[],this.currentLang="en"}return _createClass(t,[{key:"ngOnInit",value:function(){this.getLangs()}},{key:"getLangs",value:function(){var t=this;this.http.get("../rest/dev/lang").pipe(Object(Pn.tap)((function(e){t.allLang=e.langs,Object.keys(t.allLang).forEach((function(e){t.missingLang[e]=Object.keys(t.allLang.fr).filter((function(n){return-1===Object.keys(t.allLang[e]).indexOf(n)})).map((function(e){return{id:e,value:t.allLang.fr[e]+"__TO_TRANSLATE"}}))}))})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"openTranslation",value:function(t){window.open("https://translate.google.fr/?hl=fr#view=home&op=translate&sl=fr&tl="+this.currentLang+"&text="+t.replace("__TO_TRANSLATE",""),"_blank")}},{key:"setActiveLang",value:function(t){this.currentLang=t.tab.textLabel}},{key:"generateMissingLang",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={},i=this.allLang[this.currentLang],a=/__TO_TRANSLATE$/g;this.missingLang[this.currentLang].forEach((function(t){null===t.value.match(a)&&e?n[t.id]=t.value:e||(n[t.id]=t.value)})),i=Object.assign(Object.assign({},i),n),this.http.put("../rest/dev/lang",{langId:this.currentLang,jsonContent:i}).pipe(Object(Pn.tap)((function(e){Object.keys(n).forEach((function(e){delete t.allLang[t.currentLang][e],t.missingLang[t.currentLang]=t.missingLang[t.currentLang].filter((function(t){return t.id!==e})),t.data.countMissingLang--})),t.dialogRef.close(t.data.countMissingLang)})),Object(wn.a)((function(e){return t.notify.handleSoftErrors(e),console.log(e),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||mg)(i.Tb(Y.a),i.Tb(Y.h),i.Tb(u.b),i.Tb(h.a))},mg.\u0275cmp=i.Nb({type:mg,selectors:[["ng-component"]],decls:15,vars:3,consts:[[1,"mat-dialog-content-container","lang-container"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"selectedTabChange"],[4,"ngFor","ngForOf"],[1,"divider-modal"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",1,"actions",3,"click"],["mat-raised-button","","color","","mat-dialog-close","","cdkFocusInitial","",1,"actions"],[3,"label",4,"ngIf"],[3,"label"],["mat-tab-label",""],[2,"display","grid"],[3,"matBadge"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["toto",""],["mat-button","","color","primary","matSuffix","","mat-icon-button","",3,"click"],[1,"fas","fa-language"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Zb(1,"h1",1),i.Sc(2,"Lang checking"),i.Yb(),i.Zb(3,"div",2),i.Zb(4,"mat-tab-group",3),i.hc("selectedTabChange",(function(t){return e.setActiveLang(t)})),i.Qc(5,pg,2,1,"ng-container",4),i.mc(6,"keyvalue"),i.Yb(),i.Yb(),i.Ub(7,"span",5),i.Zb(8,"div",6),i.Zb(9,"button",7),i.hc("click",(function(){return e.generateMissingLang(!1)})),i.Sc(10,"Generate lang variables"),i.Yb(),i.Zb(11,"button",7),i.hc("click",(function(){return e.generateMissingLang(!0)})),i.Sc(12,"Generate lang variables (IGNORE __TO_TRANSLATE)"),i.Yb(),i.Zb(13,"button",8),i.Sc(14,"Close"),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Eb(5),i.sc("ngForOf",i.nc(6,1,e.allLang)))},directives:[Y.i,Y.f,mt.c,y.s,Y.c,g.b,Y.d,y.t,mt.a,mt.d,Vn.a,N.c,N.g,U.b,j.c,j.t,j.w,N.j,b.a],pipes:[y.l],styles:[".mat-dialog-content[_ngcontent-%COMP%]{padding-top:0}.lang-container[_ngcontent-%COMP%]    .mat-tab-header{position:-webkit-sticky;position:sticky;top:0;z-index:2}.lang-container[_ngcontent-%COMP%]    .mat-tab-label-container{background:#fff}"]}),mg),vg=n("4ik+"),yg=((gg=function(){function t(e,n,i,a){_classCallCheck(this,t),this.notify=e,this.dialog=n,this.http=i,this.functionsService=a,this.countMissingLang=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.getLangs()}},{key:"openLangTool",value:function(){var t=this;this.dialog.open(bg,{panelClass:"maarch-modal",height:"99%",width:"80%",data:{countMissingLang:this.countMissingLang}}).afterClosed().pipe(Object(vg.filter)((function(e){return!t.functionsService.empty(e)})),Object(Pn.tap)((function(e){t.countMissingLang=e})),Object(Tn.catchError)((function(e){return t.notify.handleErrors(e),Object(On.of)(!1)}))).subscribe()}},{key:"getLangs",value:function(){var t=this;this.http.get("../rest/dev/lang").pipe(Object(Pn.tap)((function(e){t.allLang=e.langs,Object.keys(t.allLang).forEach((function(e){t.countMissingLang+=Object.keys(t.allLang.fr).filter((function(n){return-1===Object.keys(t.allLang[e]).indexOf(n)})).length}))})),Object(Tn.catchError)((function(e){return t.notify.handleSoftErrors(e),Object(On.of)(!1)}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||gg)(i.Tb(h.a),i.Tb(Y.b),i.Tb(u.b),i.Tb(ft.a))},gg.\u0275cmp=i.Nb({type:gg,selectors:[["app-dev-tool"]],decls:11,vars:5,consts:[["mat-fab","","cdkDrag","","color","warn",2,"position","fixed","right","50px","top","50px","z-index","1",3,"matBadge","matMenuTriggerFor"],[1,"fas","fa-toolbox",2,"height","auto","font-size","23px"],["menu","matMenu"],["mat-menu-item","",3,"click"],["color","primary",1,"fas","fa-language",2,"height","auto"],[3,"matBadge"]],template:function(t,e){if(1&t&&(i.Zb(0,"button",0),i.Ub(1,"mat-icon",1),i.Yb(),i.Zb(2,"mat-menu",null,2),i.Zb(4,"button",3),i.hc("click",(function(){return e.openLangTool()})),i.Ub(5,"mat-icon",4),i.Zb(6,"span"),i.Sc(7,"Missing lang"),i.Yb(),i.Sc(8,"\xa0\xa0"),i.Zb(9,"span",5),i.Sc(10,"\xa0"),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.Dc(3);i.sc("matBadge",e.countMissingLang)("matMenuTriggerFor",n),i.Eb(2),i.Gb("devToolListMenu"),i.Eb(7),i.sc("matBadge",e.countMissingLang)}},directives:[g.b,po.a,Vn.a,to.d,b.a,to.e,to.b],styles:[".devToolListMenu{min-height:auto!important;width:250px}"]}),gg),_g=["snavLeft"];function kg(t,e){1&t&&i.Ub(0,"header-panel")}function Cg(t,e){1&t&&i.Ub(0,"menu-shortcut")}function xg(t,e){1&t&&i.Ub(0,"menu-nav")}function wg(t,e){1&t&&(i.Xb(0),i.Ub(1,"basket-home",null,6),i.Ub(3,"mat-divider"),i.Ub(4,"panel-folder",null,7),i.Wb())}function Og(t,e){1&t&&i.Ub(0,"div",8)}var Sg=function(t){return{width:t}};function Eg(t,e){if(1&t&&(i.Zb(0,"mat-sidenav-container",2),i.Zb(1,"mat-sidenav",3,4),i.Qc(3,kg,1,0,"header-panel",1),i.Qc(4,Cg,1,0,"menu-shortcut",1),i.Qc(5,xg,1,0,"menu-nav",1),i.Qc(6,wg,6,0,"ng-container",1),i.Qc(7,Og,1,0,"div",5),i.Yb(),i.Zb(8,"mat-sidenav-content"),i.Ub(9,"router-outlet"),i.Yb(),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Jb("sideBarForm",n.headerService.sideBarForm&&!n.appService.getViewMode())("sideBarFormMobile",n.appService.getViewMode()&&n.headerService.sideBarForm),i.sc("mode",n.appService.getViewMode()?"over":"side")("fixedInViewport",n.appService.getViewMode())("opened",!n.appService.getViewMode()&&!n.headerService.hideSideBar)("ngStyle",i.zc(13,Sg,n.appService.getViewMode()?"80%":"350px")),i.Eb(2),i.sc("ngIf",n.headerService.showhHeaderPanel&&!n.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",n.headerService.showMenuShortcut&&!n.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",n.headerService.showMenuShortcut&&!n.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",!n.headerService.sideBarAdmin&&!n.headerService.hideSideBar),i.Eb(1),i.sc("ngIf",!n.headerService.hideSideBar)}}function Mg(t,e){1&t&&i.Ub(0,"app-dev-tool")}var Ig,Pg,Tg,Ag={showDelay:500,hideDelay:0,touchendHideDelay:0},Dg=((Ig=function(){function t(e,n,i,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.appService=o,this.headerService=s,this.authService=c,this.debugMode=!1,this.loading=!0,e.setDefaultLang("fr"),i.addSvgIcon("maarchLogo",r.bypassSecurityTrustResourceUrl("../rest/images?image=onlyLogo")),i.addSvgIcon("maarchLogoFull",r.bypassSecurityTrustResourceUrl("../rest/images?image=logo")),i.addSvgIcon("maarchLogoWhite",r.bypassSecurityTrustResourceUrl("assets/logo_only_white.svg")),i.addSvgIcon("maarchLogoWhiteFull",r.bypassSecurityTrustResourceUrl("assets/logo_white.svg")),i.addSvgIcon("maarchBox",r.bypassSecurityTrustResourceUrl("assets/maarch_box.svg")),i.addSvgIcon("alfresco",r.bypassSecurityTrustResourceUrl("assets/alfresco.svg")),a.a.production||(this.debugMode=!0)}return _createClass(t,[{key:"onResize",value:function(){this.appService.setScreenWidth(window.innerWidth)}},{key:"ngOnInit",value:function(){return Object(xn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.appService.checkAppSecurity(),t.next=3,this.appService.applyMinorUpdate();case 3:this.loading=!1,this.headerService.hideSideBar=!0,setTimeout((function(){e.headerService.sideNavLeft=e.snavLeft}),0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"ngAfterViewInit",value:function(){this.appService.setScreenWidth(window.innerWidth)}}]),t}()).\u0275fac=function(t){return new(t||Ig)(i.Tb(l.e),i.Tb(u.b),i.Tb(b.c),i.Tb(An.b),i.Tb(p.a),i.Tb(f.a),i.Tb(d.a))},Ig.\u0275cmp=i.Nb({type:Ig,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&i.ad(_g,!0),2&t&&i.Cc(n=i.ic())&&(e.snavLeft=n.first)},hostBindings:function(t,e){1&t&&i.hc("resize",(function(t){return e.onResize(t)}),!1,i.Gc)},features:[i.Db([p.a,{provide:x.a,useValue:Ag}],[b.c])],decls:2,vars:2,consts:[["class","maarch-container","autosize","",4,"ngIf"],[4,"ngIf"],["autosize","",1,"maarch-container"],["autoFocus","false",1,"panel-left",2,"overflow-x","hidden",3,"mode","fixedInViewport","opened","ngStyle"],["snavLeft",""],["id","adminMenu","style","display: contents;",4,"ngIf"],["basketHome",""],["panelFolder",""],["id","adminMenu",2,"display","contents"]],template:function(t,e){1&t&&(i.Qc(0,Eg,10,15,"mat-sidenav-container",0),i.Qc(1,Mg,1,0,"app-dev-tool",1)),2&t&&(i.sc("ngIf",!e.loading),i.Eb(1),i.sc("ngIf",e.debugMode&&e.authService.isAuth()))},directives:[y.t,v.e,v.d,y.w,v.f,o.h,km.a,Cm.b,xm.a,wm.a,O.a,ug,yg],encapsulation:2}),Ig),Rg=n("L6pT"),Lg=((Pg=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).overrides={pinch:{enable:!1},rotate:{enable:!1}},t}return n}(An.d)).\u0275fac=function(t){return Fg(t||Pg)},Pg.\u0275prov=i.Pb({token:Pg,factory:Pg.\u0275fac}),Pg),Fg=i.bc(Lg),jg=((Tg=function t(){_classCallCheck(this,t)}).\u0275mod=i.Rb({type:Tg,bootstrap:[Dg]}),Tg.\u0275inj=i.Qb({factory:function(t){return new(t||Tg)},providers:[{provide:u.a,useClass:_m,multi:!0},Ir,Tr.a,qi.a,Gi.a,{provide:An.c,useClass:Lg}],imports:[[An.a,mm.b,u.c,gm.a,vm,Rg.a,Rn.b.forRoot(),r.a,pm,bm.a,ym],r.a]}),Tg);a.a.production&&(window.console.debug=function(){},Object(i.V)()),An.e().bootstrapModule(jg)},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("XNiG"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).scheduler=t,a.work=i,a}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(n("3N8a").a),r=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(a),o=n("quSY"),s=n("7o/Q"),c=n("WMd4"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(a=e.call(this,t)).scheduler=i,a.delay=r,a}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(c.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(c.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(c.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(s.a),u=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n},d=n("9ppp"),f=n("Ylt2"),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=r,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new p(this._getNow(),t)),this._trimBufferThenGetEvents()),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,r=i.length;if(this.closed)throw new d.a;if(this.isStopped||this.hasError?e=o.a.EMPTY:(this.observers.push(t),e=new f.a(this,t)),a&&t.add(t=new l(t,a)),n)for(var s=0;s<r&&!t.closed;s++)t.next(i[s]);else for(var c=0;c<r&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||r).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,a=i.length,r=0;r<a&&!(t-i[r].time<n);)r++;return a>e&&(r=Math.max(r,a-e)),r>0&&i.splice(0,r),i}}]),n}(i.a),p=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},kiQV:function(t){t.exports=JSON.parse('{"name":"MaarchCourrier","version":"20.10.1","description":"MaarchCourrier","scripts":{"build-css":"node-sass --include-path scss src/frontend/css/maarch-material.scss   src/frontend/css/maarch-material.css --output-style compressed","build-prod":"ng build --prod && npm run build-css","build-watch":"ng build --watch","build":"ng build","check-update":"ncu","dep-list":"npm list --depth=0","upgrade":"ncu -u","create-component":"echo Component name ?\xa0&& read varname && ng g c $varname --module app","create-component-admin":"echo Component name ?\xa0&& read varname && ng g c administration/$varname --module administration","ee-launch":"webdriver-manager update && webdriver-manager start --detach && protractor test/e2e/conf.js && webdriver-manager shutdown && fuser -k 4444/tcp","ee-update":"webdriver-manager update","ee-start-server":"webdriver-manager start","ee-test":"protractor test/e2e/conf.js"},"keywords":[],"author":"Maarch","license":"GPL-3.0","dependencies":{"@ngx-translate/core":"^13.0.0","@ngx-translate/http-loader":"^6.0.0","core-js":"^3.6.5","flat-to-nested":"^1.1.0","ngx-joyride":"^2.3.1","ngx-papaparse":"^5.0.0","zone.js":"~0.10.3"},"devDependencies":{"@angular-devkit/build-angular":"^0.901.9","@angular/animations":"^9.1.9","@angular/cdk":"^9.2.4","@angular/cli":"^9.1.9","@angular/common":"^9.1.9","@angular/compiler":"^9.1.9","@angular/compiler-cli":"^9.1.9","@angular/core":"^9.1.9","@angular/forms":"^9.1.9","@angular/material":"^9.2.4","@angular/platform-browser":"^9.1.9","@angular/platform-browser-dynamic":"^9.1.9","@angular/platform-server":"^9.1.9","@angular/router":"^9.1.9","@fortawesome/fontawesome-free":"^5.14.0","@swimlane/ngx-charts":"^13.0.4","@types/datatables.net":"^1.10.19","@types/jquery":"^3.5.0","@types/jquery.nicescroll":"^3.7.1","@types/jstree":"^3.3.40","@types/tooltipster":"0.0.29","ajv":"^6.12.5","bootstrap":"^3.4.1","chosen-js":"^1.8.7","codelyzer":"^5.2.2","hammerjs":"^2.0.8","html-minifier":"^4.0.0","jquery":"^3.5.1","jquery-typeahead":"^2.11.1","jquery.nicescroll":"^3.7.6","jstree-bootstrap-theme":"^1.0.1","ng2-dnd":"^5.0.2","ng2-pdf-viewer":"^6.3.0","ngx-cookie-service":"^3.0.4","ngx-pipes":"^2.7.3","node-sass":"^4.14.1","nodemon":"^2.0.4","npm-check-updates":"^4.1.2","pdfjs-dist":"2.4.456","photoswipe":"^4.1.3","protractor":"^5.4.4","rxjs":"^6.6.3","tinymce":"^5.4.2","tinymce-i18n":"^19.9.17","tooltipster":"^4.2.8","tslib":"^1.13.0","tslint":"^6.1.2","typescript":"3.8.3","uglify-es":"3.3.9","uglifyjs-webpack-plugin":"2.2.0","url-loader":"^4.1.0","webpack":"^4.43.0"},"repository":{}}')},kmnG:function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return F})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return Y})),n.d(e,"e",(function(){return $})),n.d(e,"f",(function(){return U})),n.d(e,"g",(function(){return B})),n.d(e,"h",(function(){return z})),n.d(e,"i",(function(){return V})),n.d(e,"j",(function(){return H}));var i=n("GU7r"),a=n("ofXK"),r=n("fXoL"),o=n("FKr1"),s=n("8LU1"),c=n("XNiG"),l=n("VRyK"),u=n("xgIS"),d=n("JX91"),f=n("1G5W"),h=n("IzEk"),p=n("R0Ic"),m=n("R1ws"),g=n("cH1L"),b=n("nLfN"),v=["underline"],y=["connectionContainer"],_=["inputContainer"],k=["label"];function C(t,e){1&t&&(r.Xb(0),r.Zb(1,"div",14),r.Ub(2,"div",15),r.Ub(3,"div",16),r.Ub(4,"div",17),r.Yb(),r.Zb(5,"div",18),r.Ub(6,"div",15),r.Ub(7,"div",16),r.Ub(8,"div",17),r.Yb(),r.Wb())}function x(t,e){1&t&&(r.Zb(0,"div",19),r.qc(1,1),r.Yb())}function w(t,e){if(1&t&&(r.Xb(0),r.qc(1,2),r.Zb(2,"span"),r.Sc(3),r.Yb(),r.Wb()),2&t){var n=r.lc(2);r.Eb(3),r.Tc(n._control.placeholder)}}function O(t,e){1&t&&r.qc(0,3,["*ngSwitchCase","true"])}function S(t,e){1&t&&(r.Zb(0,"span",23),r.Sc(1," *"),r.Yb())}function E(t,e){if(1&t){var n=r.ac();r.Zb(0,"label",20,21),r.hc("cdkObserveContent",(function(){return r.Hc(n),r.lc().updateOutlineGap()})),r.Qc(2,w,4,1,"ng-container",12),r.Qc(3,O,1,0,void 0,12),r.Qc(4,S,2,0,"span",22),r.Yb()}if(2&t){var i=r.lc();r.Jb("mat-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),r.sc("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),r.Fb("for",i._control.id)("aria-owns",i._control.id),r.Eb(2),r.sc("ngSwitchCase",!1),r.Eb(1),r.sc("ngSwitchCase",!0),r.Eb(1),r.sc("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function M(t,e){1&t&&(r.Zb(0,"div",24),r.qc(1,4),r.Yb())}function I(t,e){if(1&t&&(r.Zb(0,"div",25,26),r.Ub(2,"span",27),r.Yb()),2&t){var n=r.lc();r.Eb(2),r.Jb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function P(t,e){if(1&t&&(r.Zb(0,"div"),r.qc(1,5),r.Yb()),2&t){var n=r.lc();r.sc("@transitionMessages",n._subscriptAnimationState)}}function T(t,e){if(1&t&&(r.Zb(0,"div",31),r.Sc(1),r.Yb()),2&t){var n=r.lc(2);r.sc("id",n._hintLabelId),r.Eb(1),r.Tc(n.hintLabel)}}function A(t,e){if(1&t&&(r.Zb(0,"div",28),r.Qc(1,T,2,2,"div",29),r.qc(2,6),r.Ub(3,"div",30),r.qc(4,7),r.Yb()),2&t){var n=r.lc();r.sc("@transitionMessages",n._subscriptAnimationState),r.Eb(1),r.sc("ngIf",n.hintLabel)}}var D=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],R=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],L=0,F=function(){var t=function t(){_classCallCheck(this,t),this.id="mat-error-"+L++};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Fb("id",e.id)},inputs:{id:"id"}}),t}(),j={transitionMessages:Object(p.n)("transitionMessages",[Object(p.k)("enter",Object(p.l)({opacity:1,transform:"translateY(0%)"})),Object(p.m)("void => enter",[Object(p.l)({opacity:0,transform:"translateY(-100%)"}),Object(p.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Y=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t}),t}();function Z(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var N=0,U=function(){var t=function t(){_classCallCheck(this,t),this.align="start",this.id="mat-hint-"+N++};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Fb("id",e.id)("align",null),r.Jb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t}(),B=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-label"]]}),t}(),z=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["mat-placeholder"]]}),t}(),V=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","matPrefix",""]]}),t}(),H=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ob({type:t,selectors:[["","matSuffix",""]]}),t}(),Q=0,W=Object(o.z)((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),G=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),q=new r.r("MatFormField"),X=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,l,u){var d;return _classCallCheck(this,n),(d=e.call(this,t))._elementRef=t,d._changeDetectorRef=i,d._dir=r,d._defaults=o,d._platform=s,d._ngZone=l,d._outlineGapCalculationNeededImmediately=!1,d._outlineGapCalculationNeededOnStable=!1,d._destroyed=new c.a,d._showAlwaysAnimate=!1,d._subscriptAnimationState="",d._hintLabel="",d._hintLabelId="mat-hint-"+Q++,d._labelId="mat-form-field-label-"+Q++,d._labelOptions=a||{},d.floatLabel=d._getDefaultFloatLabelState(),d._animationsEnabled="NoopAnimations"!==u,d.appearance=o&&o.appearance?o.appearance:"legacy",d._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker,d}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Object(d.a)(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Object(f.a)(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Object(f.a)(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Object(l.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Object(d.a)(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Object(d.a)(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Object(f.a)(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t.updateOutlineGap()}))})):t.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Object(u.a)(this._label.nativeElement,"transitionend").pipe(Object(h.a)(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(i){if("start"===i.align){if(t||n.hintLabel)throw Z("start");t=i}else if("end"===i.align){if(e)throw Z("end");e=i}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,a=i.querySelectorAll(".mat-form-field-outline-start"),r=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var o=i.getBoundingClientRect();if(0===o.width&&0===o.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,c=this._getStartEnd(o),l=this._getStartEnd(t.children[0].getBoundingClientRect()),u=0,d=_createForOfIteratorHelper(t.children);try{for(d.s();!(s=d.n()).done;){u+=s.value.offsetWidth}}catch(p){d.e(p)}finally{d.f()}e=Math.abs(l-c)-5,n=u>0?.75*u+10:0}for(var f=0;f<a.length;f++)a[f].style.width=e+"px";for(var h=0;h<r.length;h++)r[h].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Object(s.c)(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(W);return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.l),r.Tb(r.h),r.Tb(o.g,8),r.Tb(g.c,8),r.Tb(G,8),r.Tb(b.a),r.Tb(r.B),r.Tb(m.a,8))},t.\u0275cmp=r.Nb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,Y,!0),r.Nc(n,Y,!0),r.Lb(n,B,!0),r.Nc(n,B,!0),r.Lb(n,z,!0),r.Lb(n,F,!0),r.Lb(n,U,!0),r.Lb(n,V,!0),r.Lb(n,H,!0)),2&t&&(r.Cc(i=r.ic())&&(e._controlNonStatic=i.first),r.Cc(i=r.ic())&&(e._controlStatic=i.first),r.Cc(i=r.ic())&&(e._labelChildNonStatic=i.first),r.Cc(i=r.ic())&&(e._labelChildStatic=i.first),r.Cc(i=r.ic())&&(e._placeholderChild=i.first),r.Cc(i=r.ic())&&(e._errorChildren=i),r.Cc(i=r.ic())&&(e._hintChildren=i),r.Cc(i=r.ic())&&(e._prefixChildren=i),r.Cc(i=r.ic())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.ad(v,!0),r.Oc(y,!0),r.ad(_,!0),r.ad(k,!0)),2&t&&(r.Cc(n=r.ic())&&(e.underlineRef=n.first),r.Cc(n=r.ic())&&(e._connectionContainerRef=n.first),r.Cc(n=r.ic())&&(e._inputContainerRef=n.first),r.Cc(n=r.ic())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Jb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Db([{provide:q,useExisting:t}]),r.Bb],ngContentSelectors:R,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.rc(D),r.Zb(0,"div",0),r.Zb(1,"div",1,2),r.hc("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.Qc(3,C,9,0,"ng-container",3),r.Qc(4,x,2,0,"div",4),r.Zb(5,"div",5,6),r.qc(7),r.Zb(8,"span",7),r.Qc(9,E,5,16,"label",8),r.Yb(),r.Yb(),r.Qc(10,M,2,0,"div",9),r.Yb(),r.Qc(11,I,3,4,"div",10),r.Zb(12,"div",11),r.Qc(13,P,2,1,"div",12),r.Qc(14,A,5,2,"div",13),r.Yb(),r.Yb()),2&t&&(r.Eb(3),r.sc("ngIf","outline"==e.appearance),r.Eb(1),r.sc("ngIf",e._prefixChildren.length),r.Eb(5),r.sc("ngIf",e._hasFloatingLabel()),r.Eb(1),r.sc("ngIf",e._suffixChildren.length),r.Eb(1),r.sc("ngIf","outline"!=e.appearance),r.Eb(1),r.sc("ngSwitch",e._getDisplayedMessages()),r.Eb(1),r.sc("ngSwitchCase","error"),r.Eb(1),r.sc("ngSwitchCase","hint"))},directives:[a.t,a.x,a.y,i.a],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[j.transitionMessages]},changeDetection:0}),t}(),$=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},imports:[[a.c,o.j,i.c],o.j]}),t}()},lJEt:function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return k})),n.d(e,"f",(function(){return w})),n.d(e,"e",(function(){return E})),n.d(e,"g",(function(){return M}));var i=n("fXoL"),a=n("3Pt+");function r(t){return null!=t}var o,s=function(){var t=function t(e){_classCallCheck(this,t),this.name=e};return t.COPY=new t("copy"),t.LINK=new t("link"),t.MOVE=new t("move"),t.NONE=new t("none"),t}(),c=function t(){_classCallCheck(this,t),this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=s.MOVE,this.dropEffect=s.MOVE,this.dragCursor="move",this.defaultCursor="pointer"},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){var t=function t(){_classCallCheck(this,t),this.allowedDropZones=[]};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),d=function(){var t=function(){function t(e){_classCallCheck(this,t),this._config=e}return _createClass(t,[{key:"markSortable",value:function(t){r(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),r(t)&&(this._elem=t,this._elem.classList.add(this._config.onSortableDragClass))}},{key:"elem",get:function(){return this._elem}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([l("design:paramtypes",[c])],t)}(),f=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){var t=function(){function t(e,n,i,a){var o=this;_classCallCheck(this,t),this._dragDropService=n,this._config=i,this._cdr=a,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=i.defaultCursor,this._elem=e.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=function(t){o._onDragEnter(t)},this._elem.ondragover=function(t){return o._onDragOver(t),null!=t.dataTransfer&&(t.dataTransfer.dropEffect=o._config.dropEffect.name),!1},this._elem.ondragleave=function(t){o._onDragLeave(t)},this._elem.ondrop=function(t){o._onDrop(t)},this._elem.onmousedown=function(t){o._target=t.target},this._elem.ondragstart=function(t){if(!o._dragHandle||o._dragHandle.contains(o._target)){if(o._onDragStart(t),null!=t.dataTransfer){if(t.dataTransfer.setData("text",""),t.dataTransfer.effectAllowed=o.effectAllowed||o._config.dragEffect.name,r(o.dragImage))if("string"==typeof o.dragImage)t.dataTransfer.setDragImage(function(t){var e=new HTMLImageElement;return e.src=t,e}(o.dragImage));else if("function"==typeof o.dragImage)t.dataTransfer.setDragImage((0,o.dragImage)());else{var e=o.dragImage;t.dataTransfer.setDragImage(e.imageElement,e.x_offset,e.y_offset)}else if(r(o._config.dragImage)){var n=o._config.dragImage;t.dataTransfer.setDragImage(n.imageElement,n.x_offset,n.y_offset)}else o.cloneItem&&(o._dragHelper=o._elem.cloneNode(!0),o._dragHelper.classList.add("dnd-drag-item"),o._dragHelper.style.position="absolute",o._dragHelper.style.top="0px",o._dragHelper.style.left="-1000px",o._elem.parentElement.appendChild(o._dragHelper),t.dataTransfer.setDragImage(o._dragHelper,t.offsetX,t.offsetY));(o._dragHandle?o._dragHandle:o._elem).style.cursor=o._dragEnabled?o.effectCursor?o.effectCursor:o._config.dragCursor:o._defaultCursor}}else t.preventDefault()},this._elem.ondragend=function(t){o._elem.parentElement&&o._dragHelper&&o._elem.parentElement.removeChild(o._dragHelper),o._onDragEnd(t),(o._dragHandle?o._dragHandle:o._elem).style.cursor=o._defaultCursor}}return _createClass(t,[{key:"setDragHandle",value:function(t){this._dragHandle=t}},{key:"detectChanges",value:function(){var t=this;setTimeout((function(){t._cdr&&!t._cdr.destroyed&&t._cdr.detectChanges()}),250)}},{key:"_onDragEnter",value:function(t){this._isDropAllowed(t)&&this._onDragEnterCallback(t)}},{key:"_onDragOver",value:function(t){this._isDropAllowed(t)&&(t.preventDefault&&t.preventDefault(),this._onDragOverCallback(t))}},{key:"_onDragLeave",value:function(t){this._isDropAllowed(t)&&this._onDragLeaveCallback(t)}},{key:"_onDrop",value:function(t){this._isDropAllowed(t)&&(this._preventAndStop(t),this._onDropCallback(t),this.detectChanges())}},{key:"_isDropAllowed",value:function(t){if((this._dragDropService.isDragged||t.dataTransfer&&t.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var e=0;e<this._dragDropService.allowedDropZones.length;e++)if(-1!==this.dropZones.indexOf(this._dragDropService.allowedDropZones[e]))return!0}return!1}},{key:"_preventAndStop",value:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()}},{key:"_onDragStart",value:function(t){this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(t))}},{key:"_onDragEnd",value:function(t){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(t)}},{key:"_onDragEnterCallback",value:function(t){}},{key:"_onDragOverCallback",value:function(t){}},{key:"_onDragLeaveCallback",value:function(t){}},{key:"_onDropCallback",value:function(t){}},{key:"_onDragStartCallback",value:function(t){}},{key:"_onDragEndCallback",value:function(t){}},{key:"dragEnabled",set:function(t){this._dragEnabled=!!t,this._elem.draggable=this._dragEnabled},get:function(){return this._dragEnabled}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(i.l),i.dc(u),i.dc(c),i.dc(i.h))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([f("design:paramtypes",[i.l,u,c,i.h])],t)}(),p=function t(e,n,i,a,r){_classCallCheck(this,t),this._dragDropService=n,this._config=i,this._Component=a,this._cdr=r,this._elem=e.nativeElement,this._Component.setDragHandle(this._elem)},m=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,a,r,o)).onDragStart=new i.o,s.onDragEnd=new i.o,s.onDragSuccessCallback=new i.o,s._defaultCursor=s._elem.style.cursor,s.dragEnabled=!0,s}return _createClass(n,[{key:"_onDragStartCallback",value:function(t){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:t})}},{key:"_onDragEndCallback",value:function(t){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:t})}},{key:"draggable",set:function(t){this.dragEnabled=!!t}},{key:"dropzones",set:function(t){this.dropZones=t}},{key:"effectallowed",set:function(t){this.effectAllowed=t}},{key:"effectcursor",set:function(t){this.effectCursor=t}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u),i.Tb(c),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-draggable",""]],inputs:{draggable:["dragEnabled","draggable"],dropzones:["dropZones","dropzones"],effectallowed:["effectAllowed","effectallowed"],effectcursor:["effectCursor","effectcursor"],dragData:"dragData",dragImage:"dragImage",cloneItem:"cloneItem"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDragSuccessCallback:"onDragSuccess"},features:[i.Bb]}),m([Object(i.t)("dragEnabled"),g("design:type",Boolean),g("design:paramtypes",[Boolean])],t.prototype,"draggable",null),m([Object(i.D)(),g("design:type",i.o)],t.prototype,"onDragStart",void 0),m([Object(i.D)(),g("design:type",i.o)],t.prototype,"onDragEnd",void 0),m([Object(i.t)(),g("design:type",Object)],t.prototype,"dragData",void 0),m([Object(i.D)("onDragSuccess"),g("design:type",i.o)],t.prototype,"onDragSuccessCallback",void 0),m([Object(i.t)("dropZones"),g("design:type",Array),g("design:paramtypes",[Array])],t.prototype,"dropzones",null),m([Object(i.t)("effectAllowed"),g("design:type",String),g("design:paramtypes",[String])],t.prototype,"effectallowed",null),m([Object(i.t)("effectCursor"),g("design:type",String),g("design:paramtypes",[String])],t.prototype,"effectcursor",null),m([Object(i.t)(),g("design:type",Object)],t.prototype,"dragImage",void 0),m([Object(i.t)(),g("design:type",Boolean)],t.prototype,"cloneItem",void 0),t=m([g("design:paramtypes",[i.l,u,c,i.h])],t)}(),v=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){return _classCallCheck(this,n),e.call(this,t,i,a,r,o)}return n}(p);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u),i.Tb(c),i.Tb(b),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-draggable-handle",""]],features:[i.Bb]}),t=m([g("design:paramtypes",[i.l,u,c,b,i.h])],t)}(),y=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,a,r,o)).onDropSuccess=new i.o,s.onDragEnter=new i.o,s.onDragOver=new i.o,s.onDragLeave=new i.o,s.dropEnabled=!0,s}return _createClass(n,[{key:"_onDragEnterCallback",value:function(t){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:t}))}},{key:"_onDragOverCallback",value:function(t){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:t}))}},{key:"_onDragLeaveCallback",value:function(t){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:t}))}},{key:"_onDropCallback",value:function(t){var e=t.dataTransfer;(this._dragDropService.isDragged||e&&e.files)&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:t}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:t}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))}},{key:"droppable",set:function(t){this.dropEnabled=!!t}},{key:"allowdrop",set:function(t){this.allowDrop=t}},{key:"dropzones",set:function(t){this.dropZones=t}},{key:"effectallowed",set:function(t){this.effectAllowed=t}},{key:"effectcursor",set:function(t){this.effectCursor=t}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u),i.Tb(c),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-droppable",""]],inputs:{droppable:["dropEnabled","droppable"],allowdrop:["allowDrop","allowdrop"],dropzones:["dropZones","dropzones"],effectallowed:["effectAllowed","effectallowed"],effectcursor:["effectCursor","effectcursor"]},outputs:{onDropSuccess:"onDropSuccess",onDragEnter:"onDragEnter",onDragOver:"onDragOver",onDragLeave:"onDragLeave"},features:[i.Bb]}),y([Object(i.t)("dropEnabled"),_("design:type",Boolean),_("design:paramtypes",[Boolean])],t.prototype,"droppable",null),y([Object(i.D)(),_("design:type",i.o)],t.prototype,"onDropSuccess",void 0),y([Object(i.D)(),_("design:type",i.o)],t.prototype,"onDragEnter",void 0),y([Object(i.D)(),_("design:type",i.o)],t.prototype,"onDragOver",void 0),y([Object(i.D)(),_("design:type",i.o)],t.prototype,"onDragLeave",void 0),y([Object(i.t)("allowDrop"),_("design:type",Function),_("design:paramtypes",[Function])],t.prototype,"allowdrop",null),y([Object(i.t)("dropZones"),_("design:type",Array),_("design:paramtypes",[Array])],t.prototype,"dropzones",null),y([Object(i.t)("effectAllowed"),_("design:type",String),_("design:paramtypes",[String])],t.prototype,"effectallowed",null),y([Object(i.t)("effectCursor"),_("design:type",String),_("design:paramtypes",[String])],t.prototype,"effectcursor",null),t=y([_("design:paramtypes",[i.l,u,c,i.h])],t)}(),C=function(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},x=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},w=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,i,a,r))._sortableDataService=o,s._sortableData=[],s.dragEnabled=!1,s}return _createClass(n,[{key:"_onDragEnterCallback",value:function(t){if(this._sortableDataService.isDragged){var e=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);-1===this.indexOf(e)&&(this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this.insertItemAt(e,0),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=0),this.detectChanges()}}},{key:"getItemAt",value:function(t){return this.sortableHandler.getItemAt(this._sortableData,t)}},{key:"indexOf",value:function(t){return this.sortableHandler.indexOf(this._sortableData,t)}},{key:"removeItemAt",value:function(t){this.sortableHandler.removeItemAt(this._sortableData,t)}},{key:"insertItemAt",value:function(t,e){this.sortableHandler.insertItemAt(this._sortableData,t,e)}},{key:"draggable",set:function(t){this.dragEnabled=!!t}},{key:"sortableData",set:function(t){this._sortableData=t,this.sortableHandler=t instanceof a.e?new S:new O,this.dropEnabled=!!this._sortableData},get:function(){return this._sortableData}},{key:"dropzones",set:function(t){this.dropZones=t}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u),i.Tb(c),i.Tb(i.h),i.Tb(d))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-sortable-container",""]],inputs:{draggable:["dragEnabled","draggable"],sortableData:"sortableData",dropzones:["dropZones","dropzones"]},features:[i.Bb]}),C([Object(i.t)("dragEnabled"),x("design:type",Boolean),x("design:paramtypes",[Boolean])],t.prototype,"draggable",null),C([Object(i.t)(),x("design:type",Object),x("design:paramtypes",[Object])],t.prototype,"sortableData",null),C([Object(i.t)("dropZones"),x("design:type",Array),x("design:paramtypes",[Array])],t.prototype,"dropzones",null),t=C([x("design:paramtypes",[i.l,u,c,i.h,d])],t)}(),O=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getItemAt",value:function(t,e){return t[e]}},{key:"indexOf",value:function(t,e){return t.indexOf(e)}},{key:"removeItemAt",value:function(t,e){t.splice(e,1)}},{key:"insertItemAt",value:function(t,e,n){t.splice(n,0,e)}}]),t}(),S=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getItemAt",value:function(t,e){return t.at(e)}},{key:"indexOf",value:function(t,e){return t.controls.indexOf(e)}},{key:"removeItemAt",value:function(t,e){t.removeAt(e)}},{key:"insertItemAt",value:function(t,e,n){t.insert(n,e)}}]),t}(),E=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r,o,s,c){var l;return _classCallCheck(this,n),(l=e.call(this,t,a,r,c))._sortableContainer=o,l._sortableDataService=s,l.onDragSuccessCallback=new i.o,l.onDragStartCallback=new i.o,l.onDragOverCallback=new i.o,l.onDragEndCallback=new i.o,l.onDropSuccessCallback=new i.o,l.dropZones=l._sortableContainer.dropZones,l.dragEnabled=!0,l.dropEnabled=!0,l}return _createClass(n,[{key:"_onDragStartCallback",value:function(t){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)}},{key:"_onDragOverCallback",value:function(t){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))}},{key:"_onDragEndCallback",value:function(t){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)}},{key:"_onDragEnterCallback",value:function(t){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){var e=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this._sortableContainer.insertItemAt(e,this.index),this._sortableContainer.dropEnabled&&(this._sortableContainer.dropEnabled=!1),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this.detectChanges()}}},{key:"_onDropCallback",value:function(t){this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit(this._dragDropService.dragData),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())}},{key:"draggable",set:function(t){this.dragEnabled=!!t}},{key:"droppable",set:function(t){this.dropEnabled=!!t}},{key:"effectallowed",set:function(t){this.effectAllowed=t}},{key:"effectcursor",set:function(t){this.effectCursor=t}}]),n}(h);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u),i.Tb(c),i.Tb(w),i.Tb(d),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-sortable",""]],inputs:{draggable:["dragEnabled","draggable"],droppable:["dropEnabled","droppable"],effectallowed:["effectAllowed","effectallowed"],effectcursor:["effectCursor","effectcursor"],index:["sortableIndex","index"],dragData:"dragData"},outputs:{onDragSuccessCallback:"onDragSuccess",onDragStartCallback:"onDragStart",onDragOverCallback:"onDragOver",onDragEndCallback:"onDragEnd",onDropSuccessCallback:"onDropSuccess"},features:[i.Bb]}),C([Object(i.t)("sortableIndex"),x("design:type",Number)],t.prototype,"index",void 0),C([Object(i.t)("dragEnabled"),x("design:type",Boolean),x("design:paramtypes",[Boolean])],t.prototype,"draggable",null),C([Object(i.t)("dropEnabled"),x("design:type",Boolean),x("design:paramtypes",[Boolean])],t.prototype,"droppable",null),C([Object(i.t)(),x("design:type",Object)],t.prototype,"dragData",void 0),C([Object(i.t)("effectAllowed"),x("design:type",String),x("design:paramtypes",[String])],t.prototype,"effectallowed",null),C([Object(i.t)("effectCursor"),x("design:type",String),x("design:paramtypes",[String])],t.prototype,"effectcursor",null),C([Object(i.D)("onDragSuccess"),x("design:type",i.o)],t.prototype,"onDragSuccessCallback",void 0),C([Object(i.D)("onDragStart"),x("design:type",i.o)],t.prototype,"onDragStartCallback",void 0),C([Object(i.D)("onDragOver"),x("design:type",i.o)],t.prototype,"onDragOverCallback",void 0),C([Object(i.D)("onDragEnd"),x("design:type",i.o)],t.prototype,"onDragEndCallback",void 0),C([Object(i.D)("onDropSuccess"),x("design:type",i.o)],t.prototype,"onDropSuccessCallback",void 0),t=C([x("design:paramtypes",[i.l,u,c,w,d,i.h])],t)}(),M=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){return _classCallCheck(this,n),e.call(this,t,i,a,r,o)}return n}(p);return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u),i.Tb(c),i.Tb(E),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","dnd-sortable-handle",""]],features:[i.Bb]}),t=C([x("design:paramtypes",[i.l,u,c,E,i.h])],t)}(),I=[c,{provide:u,useFactory:function(){return new u}},{provide:d,useFactory:function(t){return new d(t)},deps:[c]}],P=function(){var t=o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){return{ngModule:o,providers:I}}}]),t}();return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t}()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("7o/Q");function a(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new r(t,e))}}var r=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.count=0,r.thisArg=a||_assertThisInitialized(r),r}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(i.a)},lRFz:function lRFz(module,exports,__webpack_require__){var factory;factory=function factory(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,(function(e){return t[e]}).bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=n(1),a=n(3),r=n(16),o=n(17),s=n(4),c=n(18),l=n(10),u=n(6);if(n(7).isNodeJS){var d=n(19).PDFNodeStream;a.setPDFNetworkStreamFactory((function(t){return new d(t)}))}else{var f,h=n(22).PDFNetworkStream;s.isFetchSupported()&&(f=n(23).PDFFetchStream),a.setPDFNetworkStreamFactory((function(t){return f&&s.isValidFetchUrl(t.url)?new f(t):new h(t)}))}e.build=a.build,e.version=a.version,e.getDocument=a.getDocument,e.LoopbackPort=a.LoopbackPort,e.PDFDataRangeTransport=a.PDFDataRangeTransport,e.PDFWorker=a.PDFWorker,e.renderTextLayer=r.renderTextLayer,e.AnnotationLayer=o.AnnotationLayer,e.createPromiseCapability=i.createPromiseCapability,e.PasswordResponses=i.PasswordResponses,e.InvalidPDFException=i.InvalidPDFException,e.MissingPDFException=i.MissingPDFException,e.SVGGraphics=c.SVGGraphics,e.NativeImageDecoding=i.NativeImageDecoding,e.CMapCompressionType=i.CMapCompressionType,e.PermissionFlag=i.PermissionFlag,e.UnexpectedResponseException=i.UnexpectedResponseException,e.OPS=i.OPS,e.VerbosityLevel=i.VerbosityLevel,e.UNSUPPORTED_FEATURES=i.UNSUPPORTED_FEATURES,e.createValidAbsoluteUrl=i.createValidAbsoluteUrl,e.createObjectURL=i.createObjectURL,e.removeNullCharacters=i.removeNullCharacters,e.shadow=i.shadow,e.Util=i.Util,e.RenderingCancelledException=s.RenderingCancelledException,e.getFilenameFromUrl=s.getFilenameFromUrl,e.LinkTarget=s.LinkTarget,e.addLinkAttributes=s.addLinkAttributes,e.loadScript=s.loadScript,e.PDFDateString=s.PDFDateString,e.GlobalWorkerOptions=l.GlobalWorkerOptions,e.apiCompatibilityParams=u.apiCompatibilityParams},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=f,e.arraysToBytes=function(t){var e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];for(var n=0,i=0;i<e;i++)n+=f(t[i]);for(var a=0,r=new Uint8Array(n),o=0;o<e;o++){var s=t[o];s instanceof Uint8Array||(s="string"==typeof s?d(s):new Uint8Array(s));var c=s.byteLength;r.set(s,a),a+=c}return r},e.assert=s,e.bytesToString=function(t){s(null!==t&&"object"==typeof t&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length;if(e<8192)return String.fromCharCode.apply(null,t);for(var n=[],i=0;i<e;i+=8192){var a=Math.min(i+8192,e),r=t.subarray(i,a);n.push(String.fromCharCode.apply(null,r))}return n.join("")},e.createPromiseCapability=function(){var t=Object.create(null),e=!1;return Object.defineProperty(t,"settled",{get:function(){return e}}),t.promise=new Promise((function(n,i){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,i(t)}})),t},e.getVerbosityLevel=function(){return a},e.info=function(t){a>=i.INFOS&&console.log("Info: "+t)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))},e.isBool=function(t){return"boolean"==typeof t},e.isEmptyObj=function(t){for(var e in t)return!1;return!0},e.isNum=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSameOrigin=function(t,e){var n;try{if(!(n=new URL(t)).origin||"null"===n.origin)return!1}catch(a){return!1}var i=new URL(e,n);return n.origin===i.origin},e.createValidAbsoluteUrl=function(t,e){if(!t)return null;try{var n=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(i){}return null},e.removeNullCharacters=function(t){return"string"!=typeof t?(r("The argument for removeNullCharacters must be a string."),t):t.replace(u,"")},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(a=t)},e.shadow=c,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=d,e.stringToPDFString=function(t){var e=t.length,n=[];if("\xfe"===t[0]&&"\xff"===t[1])for(var i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i)<<8|t.charCodeAt(i+1)));else if("\xff"===t[0]&&"\xfe"===t[1])for(var a=2;a<e;a+=2)n.push(String.fromCharCode(t.charCodeAt(a+1)<<8|t.charCodeAt(a)));else for(var r=0;r<e;++r){var o=g[t.charCodeAt(r)];n.push(o?String.fromCharCode(o):t.charAt(r))}return n.join("")},e.stringToUTF8String=function(t){return decodeURIComponent(escape(t))},e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=r,e.unreachable=o,e.IsEvalSupportedCached=e.IsLittleEndianCached=e.createObjectURL=e.FormatError=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.NativeImageDecoding=e.MissingPDFException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=e.BaseException=void 0,n(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var i={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=i,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var a=i.WARNINGS;function r(t){a>=i.WARNINGS&&console.log("Warning: "+t)}function o(t){throw new Error(t)}function s(t,e){t||o(e)}function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var l=function(){function t(e){this.constructor===t&&o("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=l,e.PasswordException=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).code=i,a}return n}(l),e.UnknownErrorException=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).details=i,a}return n}(l),e.InvalidPDFException=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(l),e.MissingPDFException=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(l),e.UnexpectedResponseException=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).status=i,a}return n}(l),e.FormatError=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(l),e.AbortException=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(l);var u=/\x00/g;function d(t){s("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function f(t){return void 0!==t.length?t.length:(s(void 0!==t.byteLength),t.byteLength)}e.IsLittleEndianCached={get value(){return c(this,"value",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}},e.IsEvalSupportedCached={get value(){return c(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};var h=["rgb(",0,",",0,",",0,")"],p=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"makeCssRgb",value:function(t,e,n){return h[1]=t,h[3]=e,h[5]=n,h.join("")}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(e,n){var i=t.applyTransform(e,n),a=t.applyTransform(e.slice(2,4),n),r=t.applyTransform([e[0],e[3]],n),o=t.applyTransform([e[2],e[1]],n);return[Math.min(i[0],a[0],r[0],o[0]),Math.min(i[1],a[1],r[1],o[1]),Math.max(i[0],a[0],r[0],o[0]),Math.max(i[1],a[1],r[1],o[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"apply3dTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[2]*e[1]+t[3]*e[3],a=(n+i)/2,r=Math.sqrt((n+i)*(n+i)-4*(n*i-(t[2]*e[0]+t[3]*e[2])*(t[0]*e[1]+t[1]*e[3])))/2,o=a-r||1;return[Math.sqrt(a+r||1),Math.sqrt(o)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(e,n){function i(t,e){return t-e}var a=[e[0],e[2],n[0],n[2]].sort(i),r=[e[1],e[3],n[1],n[3]].sort(i),o=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),a[0]===e[0]&&a[1]===n[0]||a[0]===n[0]&&a[1]===e[0]?(o[0]=a[1],o[2]=a[2],r[0]===e[1]&&r[1]===n[1]||r[0]===n[1]&&r[1]===e[1]?(o[1]=r[1],o[3]=r[2],o):null):null}}]),t}();e.Util=p;var m,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],b=(m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n&&URL.createObjectURL){var i=new Blob([t],{type:e});return URL.createObjectURL(i)}for(var a="data:".concat(e,";base64,"),r=0,o=t.length;r<o;r+=3){var s=255&t[r],c=255&t[r+1],l=255&t[r+2];a+=m[s>>2]+m[(3&s)<<4|c>>4]+m[r+1<o?(15&c)<<2|l>>6:64]+m[r+2<o?63&l:64]}return a});e.createObjectURL=b},function(t,e,n){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,n=new PDFDocumentLoadingTask;if("string"==typeof t)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var i=Object.create(null),a=null,r=null;for(var o in e)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||e[o]instanceof Uint8Array)i[o]=e[o];else{var s=e[o];if("string"==typeof s)i[o]=(0,_util.stringToBytes)(s);else if("object"!=typeof s||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");i[o]=new Uint8Array(s)}else i[o]=new Uint8Array(s)}else r=e[o];else a=e[o];else i[o]=new URL(e[o],window.location).href;i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.pdfBug=!0===i.pdfBug;var c=Object.values(_util.NativeImageDecoding);if(void 0!==i.nativeImageDecoderSupport&&c.includes(i.nativeImageDecoderSupport)||(i.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),"boolean"!=typeof i.disableCreateObjectURL&&(i.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(i.verbosity),!r){var l={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};r=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=r}var u=n.docId;return r.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");return _fetchDocument(r,i,a,u).then((function(t){if(n.destroyed)throw new Error("Loading aborted");var e;a?e=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,disableRange:i.disableRange,disableStream:i.disableStream},a):i.data||(e=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream}));var o=new _message_handler.MessageHandler(u,t,r.port);o.postMessageTransfers=r.postMessageTransfers;var s=new WorkerTransport(o,n,e,i);n._transport=s,o.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(t,e,n,i){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone),t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.4.456",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,disableCreateObjectURL:e.disableCreateObjectURL,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported}).then((function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})))}var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"destroy",value:function(){var t=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){t._transport=null,t._worker&&(t._worker.destroy(),t._worker=null)}))}},{key:"then",value:function(t,e){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._capability.promise}}]),t}()),nextDocumentId,PDFDataRangeTransport=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.length=e,this.initialData=n,this.progressiveDone=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var n,i=_createForOfIteratorHelper(this._rangeListeners);try{for(i.s();!(n=i.n()).done;){(0,n.value)(t,e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"onDataProgress",value:function(t,e){var n=this;this._readyCapability.promise.then((function(){var i,a=_createForOfIteratorHelper(n._progressListeners);try{for(a.s();!(i=a.n()).done;){(0,i.value)(t,e)}}catch(r){a.e(r)}finally{a.f()}}))}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then((function(){var n,i=_createForOfIteratorHelper(e._progressiveReadListeners);try{for(i.s();!(n=i.n()).done;){(0,n.value)(t)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then((function(){var e,n=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(i){n.e(i)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,n){_classCallCheck(this,t),this._pdfInfo=e,this._transport=n}return _createClass(t,[{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(t){return t&&t.dest?t.dest:null}))}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(t,[{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=t.rotation,i=void 0===n?this.rotate:n,a=t.offsetX,r=void 0===a?0:a,o=t.offsetY,s=void 0===o?0:o,c=t.dontFlip,l=void 0!==c&&c;if(arguments.length>1||"number"==typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:i,offsetX:r,offsetY:s,dontFlip:l})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?null:e;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(t){var e=this,n=t.canvasContext,i=t.viewport,a=t.intent,r=void 0===a?"display":a,o=t.enableWebGL,s=void 0!==o&&o,c=t.renderInteractiveForms,l=void 0!==c&&c,u=t.transform,d=void 0===u?null:u,f=t.imageLayer,h=void 0===f?null:f,p=t.canvasFactory,m=void 0===p?null:p,g=t.background,b=void 0===g?null:g;this._stats&&this._stats.time("Overall");var v="print"===r?"print":"display";this.pendingCleanup=!1,this.intentStates[v]||(this.intentStates[v]=Object.create(null));var y=this.intentStates[v];y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);var _=m||new _display_utils.DOMCanvasFactory,k=new _webgl.WebGLContext({enable:s});y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:v,renderInteractiveForms:!0===l}));var C=function(t){var n=y.renderTasks.indexOf(x);n>=0&&y.renderTasks.splice(n,1),(e.cleanupAfterRender||"print"===v)&&(e.pendingCleanup=!0),e._tryCleanup(),t?(x.capability.reject(t),e._abortOperatorList({intentState:y,reason:t})):x.capability.resolve(),e._stats&&(e._stats.timeEnd("Rendering"),e._stats.timeEnd("Overall"))},x=new InternalRenderTask({callback:C,params:{canvasContext:n,viewport:i,transform:d,imageLayer:h,background:b},objs:this.objs,commonObjs:this.commonObjs,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:_,webGLContext:k,useRequestAnimationFrame:"print"!==v,pdfBug:this._pdfBug});y.renderTasks||(y.renderTasks=[]),y.renderTasks.push(x);var w=x.task;return y.displayReadyCapability.promise.then((function(t){e.pendingCleanup?C():(e._stats&&e._stats.time("Rendering"),x.initializeGraphics(t),x.operatorListChanged())})).catch(C),w}},{key:"getOperatorList",value:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var t,e=this.intentStates.oplist;return e.opListReadCapability||((t={}).operatorListChanged=function(){if(e.operatorList.lastChunk){e.opListReadCapability.resolve(e.operatorList);var n=e.renderTasks.indexOf(t);n>=0&&e.renderTasks.splice(n,1)}},e.opListReadCapability=(0,_util.createPromiseCapability)(),e.renderTasks=[],e.renderTasks.push(t),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),e.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.normalizeWhitespace,n=void 0!==e&&e,i=t.disableCombineTextItems,a=void 0!==i&&i;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==a},{highWaterMark:100,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.streamTextContent(t);return new Promise((function(t,n){var i=e.getReader(),a={items:[],styles:Object.create(null)};!function e(){i.read().then((function(n){var i,r=n.value;n.done?t(a):(Object.assign(a.styles,r.styles),(i=a.items).push.apply(i,_toConsumableArray(r.items)),e())}),n)}()}))}},{key:"_destroy",value:function(){var t=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e=[];return Object.keys(this.intentStates).forEach((function(n){var i=t.intentStates[n];t._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==n&&i.renderTasks.forEach((function(t){var n=t.capability.promise.catch((function(){}));e.push(n),t.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some((function(e){var n=t.intentStates[e];return 0!==n.renderTasks.length||!n.operatorList.lastChunk}))||(Object.keys(this.intentStates).forEach((function(e){delete t.intentStates[e]})),this.objs.clear(),this.annotationsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}},{key:"_startRenderPage",value:function(t,e){var n=this.intentStates[e];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk;for(var a=0;a<e.renderTasks.length;a++)e.renderTasks[a].operatorListChanged();t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),i=this.intentStates[t.intent];i.streamReader=n;!function t(){n.read().then((function(n){var a=n.value;n.done?i.streamReader=null:e._transport.destroyed||(e._renderPageChunk(a,i),t())}),(function(t){if(i.streamReader=null,!e._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(var n=0;n<i.renderTasks.length;n++)i.renderTasks[n].operatorListChanged();e._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(t);else{if(!i.opListReadCapability)throw t;i.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function(t){var e=this,n=t.intentState,i=t.reason,a=t.force,r=void 0!==a&&a;if((0,_util.assert)(i instanceof Error||"object"==typeof i&&null!==i,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!r){if(0!==n.renderTasks.length)return;if(i instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){e._abortOperatorList({intentState:n,reason:i,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(i&&i.message)),n.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((function(t){return e.intentStates[t]===n&&(delete e.intentStates[t],!0)})),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,t),this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(t,e){var n=this;if(this._defer){var i=new WeakMap,a={data:function t(n){if("object"!=typeof n||null===n)return n;if(i.has(n))return i.get(n);var a,r;if((a=n.buffer)&&(0,_util.isArrayBuffer)(a))return r=e&&e.includes(a)?new n.constructor(a,n.byteOffset,n.byteLength):new n.constructor(n),i.set(n,r),r;for(var o in r=Array.isArray(n)?[]:{},i.set(n,r),n){for(var s=void 0,c=n;!(s=Object.getOwnPropertyDescriptor(c,o));)c=Object.getPrototypeOf(c);if(void 0!==s.value)if("function"!=typeof s.value)r[o]=t(s.value);else if(n.hasOwnProperty&&n.hasOwnProperty(o))throw new Error("LoopbackPort.postMessage - cannot clone: "+n[o])}return r}(t)};this._deferred.then((function(){n._listeners.forEach((function(t){t.call(n,a)}))}))}else this._listeners.forEach((function(e){e.call(n,{data:t})}))}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{t=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref38=_asyncToGenerator(regeneratorRuntime.mark((function _callee65(){var mainWorkerMessageHandler,worker;return regeneratorRuntime.wrap((function _callee65$(_context65){for(;;)switch(_context65.prev=_context65.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context65.next=3;break}return _context65.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context65.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context65.abrupt("return",worker.WorkerMessageHandler);case 6:return _context65.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context65.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context65.stop()}}),_callee65)})));return function(){return _ref38.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){return URL.createObjectURL(new Blob(["importScripts('"+t+"');"]))}var PDFWorker=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,i=void 0===n?null:n,a=e.port,r=void 0===a?null:a,o=e.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,t),r&&pdfWorkerPorts.has(r))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=i,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,r)return pdfWorkerPorts.set(r,this),void this._initializeFromPort(r);this._initialize()}return _createClass(t,[{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var e=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));var n=new Worker(e),i=new _message_handler.MessageHandler("main","worker",n),a=function(){n.removeEventListener("error",r),i.destroy(),n.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},r=function(){t._webWorker||a()};n.addEventListener("error",r),i.on("test",(function(e){n.removeEventListener("error",r),t.destroyed?a():e?(t._messageHandler=i,t._port=n,t._webWorker=n,e.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),i.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),i.destroy(),n.terminate())})),i.on("ready",(function(e){if(n.removeEventListener("error",r),t.destroyed)a();else try{o()}catch(i){t._setupFakeWorker()}}));var o=function(){var e=new Uint8Array([t.postMessageTransfers?255:0]);try{i.send("test",e,[e.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,i.send("test",e)}};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(e){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;t._port=n;var i="fake"+nextFakeWorkerId++,a=new _message_handler.MessageHandler(i+"_worker",i,n);e.setup(a,n);var r=new _message_handler.MessageHandler(i,i+"_worker",n);t._messageHandler=r,t._readyCapability.resolve(),r.send("configure",{verbosity:t.verbosity})}})).catch((function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new t(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),t}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function t(e,n,i,a){_classCallCheck(this,t),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=a,this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(t,[{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e=[];this.pageCache.forEach((function(t){t&&e.push(t._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((function(){t.fontLoader.clear(),t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,n=this.loadingTask;e.on("GetReader",(function(e,n){(0,_util.assert)(t._networkStream),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then((function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e)),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){t._fullReader.cancel(e)}})),e.on("ReaderHeadersReady",(function(e){var i=(0,_util.createPromiseCapability)(),a=t._fullReader;return a.headersReady.then((function(){a.isStreamingSupported&&a.isRangeSupported||(t._lastProgress&&n.onProgress&&n.onProgress(t._lastProgress),a.onProgress=function(t){n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}),i.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})}),i.reject),i.promise})),e.on("GetRangeReader",(function(e,n){(0,_util.assert)(t._networkStream);var i=t._networkStream.getRangeReader(e.begin,e.end);i?(n.onPull=function(){i.read().then((function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e)),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(t){i.cancel(t)}):n.close()})),e.on("GetDoc",(function(e){var i=e.pdfInfo;t._numPages=i.numPages,n._capability.resolve(new PDFDocumentProxy(i,t))})),e.on("DocException",(function(t){var e;switch(t.name){case"PasswordException":e=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":e=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":e=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":e=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":e=new _util.UnknownErrorException(t.message,t.details)}n._capability.reject(e)})),e.on("PasswordRequest",(function(e){if(t._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword){try{n.onPassword((function(e){t._passwordCapability.resolve({password:e})}),e.code)}catch(i){t._passwordCapability.reject(i)}}else t._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return t._passwordCapability.promise})),e.on("DataLoaded",(function(e){n.onProgress&&n.onProgress({loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(function(e){t.destroyed||t.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)})),e.on("commonobj",(function(n){if(!t.destroyed){var i=_slicedToArray(n,3),a=i[0],r=i[1],o=i[2];if(!t.commonObjs.has(a))switch(r){case"Font":var s=t._params;if("error"in o){var c=o.error;(0,_util.warn)("Error during font loading: "+c),t.commonObjs.resolve(a,c);break}var l=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(l={registerFont:function(t,e){globalThis.FontInspector.fontAdded(t,e)}});var u=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:l});t.fontLoader.bind(u).then((function(){t.commonObjs.resolve(a,u)}),(function(n){e.sendWithPromise("FontFallback",{id:a}).finally((function(){t.commonObjs.resolve(a,u)}))}));break;case"FontPath":case"FontType3Res":t.commonObjs.resolve(a,o);break;default:throw new Error("Got unknown common object type "+r)}}})),e.on("obj",(function(e){if(!t.destroyed){var n=_slicedToArray(e,4),i=n[0],a=n[1],r=n[2],o=n[3],s=t.pageCache[a];if(!s.objs.has(i))switch(r){case"JpegStream":return new Promise((function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=function(){e(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(n)},n.src=o})).then((function(t){s.objs.resolve(i,t)}));case"Image":s.objs.resolve(i,o);o&&"data"in o&&o.data.length>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+r)}}})),e.on("DocProgress",(function(e){t.destroyed||n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("JpegDecode",(function(e){if(t.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var n=_slicedToArray(e,2),i=n[0],a=n[1];return 3!==a&&1!==a?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise((function(t,e){var n=new Image;n.onload=function(){var e=n.width,i=n.height,r=e*i,o=4*r,s=new Uint8ClampedArray(r*a),c=document.createElement("canvas");c.width=e,c.height=i;var l=c.getContext("2d");l.drawImage(n,0,0);var u=l.getImageData(0,0,e,i).data;if(3===a)for(var d=0,f=0;d<o;d+=4,f+=3)s[f]=u[d],s[f+1]=u[d+1],s[f+2]=u[d+2];else if(1===a)for(var h=0,p=0;h<o;h+=4,p++)s[p]=u[h];t({data:s,width:e,height:i}),(0,_display_utils.releaseImageResources)(n),c.width=0,c.height=0,c=null,l=null},n.onerror=function(){e(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(n)},n.src=i}))})),e.on("FetchBuiltInCMap",(function(e,n){if(t.destroyed)n.error(new Error("Worker was destroyed"));else{var i=!1;n.onPull=function(){i?n.close():(i=!0,t.CMapReaderFactory.fetch(e).then((function(t){n.enqueue(t,1,[t.cMapData.buffer])})).catch((function(t){n.error(t)})))}}}))}},{key:"_onUnsupportedFeature",value:function(t){var e=t.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(t){if(e.destroyed)throw new Error("Transport destroyed");var i=new PDFPageProxy(n,t,e,e._params.pdfBug);return e.pageCache[n]=i,i}));return this.pagePromises[n]=i,i}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(t){return Promise.reject(new Error(t))}))}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(e){return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var t=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var e=0,n=t.pageCache.length;e<n;e++){var i=t.pageCache[e];if(i&&!i.cleanup())throw new Error("startCleanup: Page ".concat(e+1," is currently rendering."))}t.commonObjs.clear(),t.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableCreateObjectURL:t.disableCreateObjectURL,disableFontFace:t.disableFontFace,nativeImageDecoderSupport:t.nativeImageDecoderSupport})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var n=this._objs[t];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var e=this._objs[t];return!!e&&e.resolved}},{key:"resolve",value:function(t,e){var n=this._ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)}},{key:"clear",value:function(){for(var t in this._objs){var e=this._objs[t].data;"undefined"!=typeof Image&&e instanceof Image&&(0,_display_utils.releaseImageResources)(e)}this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(t,e){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),t}(),InternalRenderTask=(canvasInRendering=new WeakSet,function(){function t(e){var n=e.callback,i=e.params,a=e.objs,r=e.commonObjs,o=e.operatorList,s=e.pageIndex,c=e.canvasFactory,l=e.webGLContext,u=e.useRequestAnimationFrame,d=void 0!==u&&u,f=e.pdfBug,h=void 0!==f&&f;_classCallCheck(this,t),this.callback=n,this.params=i,this.objs=a,this.commonObjs=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.webGLContext=l,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}var e;return _createClass(t,[{key:"initializeGraphics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var e=this.params,n=e.canvasContext,i=e.viewport,a=e.transform,r=e.imageLayer,o=e.background;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,r),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page "+(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t.cancel.bind(t))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback())));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}()),version="2.4.456",canvasInRendering;exports.version=version;var build="228a591c";exports.build=build},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,a=e.target,r=e.rel,o=e.enabled,c=void 0===o||o;(0,i.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,i.removeNullCharacters)(n);c?t.href=t.title=l:(t.href="",t.title="Disabled: "+l,t.onclick=function(){return!1});var u="";switch(a){case s.NONE:break;case s.SELF:u="_self";break;case s.BLANK:u="_blank";break;case s.PARENT:u="_parent";break;case s.TOP:u="_top"}t.target=u,t.rel="string"==typeof r?r:"noopener noreferrer nofollow"},e.getFilenameFromUrl=function(t){var e=t.indexOf("#"),n=t.indexOf("?"),i=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",i)+1,i)},e.isFetchSupported=c,e.isValidFetchUrl=l,e.loadScript=function(t){return new Promise((function(e,n){var i=document.createElement("script");i.src=t,i.onload=e,i.onerror=function(){n(new Error("Cannot load script at: "+i.src))},(document.head||document.documentElement).appendChild(i)}))},e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.releaseImageResources=function(t){(0,i.assert)(t instanceof Image,"Invalid `img` parameter.");var e=t.src;"string"==typeof e&&e.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(e),t.removeAttribute("src")},e.PDFDateString=e.StatTimer=e.DOMSVGFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=e.LinkTarget=e.RenderingCancelledException=e.PageViewport=void 0;var i=n(1);e.DEFAULT_LINK_REL="noopener noreferrer nofollow";var a="http://www.w3.org/2000/svg";e.DOMCanvasFactory=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=e,{canvas:n,context:i}}},{key:"reset",value:function(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}}]),t}(),e.DOMCMapReaderFactory=function(){function t(e){var n=e.baseUrl,i=void 0===n?null:n,a=e.isCompressed,r=void 0!==a&&a;_classCallCheck(this,t),this.baseUrl=i,this.isCompressed=r}return _createClass(t,[{key:"fetch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var n,a,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return a=this.baseUrl+n+(this.isCompressed?".bcmap":""),r=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE,t.abrupt("return",c()&&l(a,document.baseURI)?fetch(a).then(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error(e.statusText);case 2:if(!o.isCompressed){t.next=10;break}return t.t1=Uint8Array,t.next=6,e.arrayBuffer();case 6:t.t2=t.sent,t.t0=new t.t1(t.t2),t.next=15;break;case 10:return t.t3=i.stringToBytes,t.next=13,e.text();case 13:t.t4=t.sent,t.t0=(0,t.t3)(t.t4);case 15:return n=t.t0,t.abrupt("return",{cMapData:n,compressionType:r});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){throw new Error("Unable to load "+(o.isCompressed?"binary ":"")+"CMap at: "+a)})):new Promise((function(t,e){var n=new XMLHttpRequest;n.open("GET",a,!0),o.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var a;if(200===n.status||0===n.status)if(o.isCompressed&&n.response?a=new Uint8Array(n.response):!o.isCompressed&&n.responseText&&(a=(0,i.stringToBytes)(n.responseText)),a)return void t({cMapData:a,compressionType:r});e(new Error(n.statusText))}},n.send(null)})).catch((function(t){throw new Error("Unable to load "+(o.isCompressed?"binary ":"")+"CMap at: "+a)})));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}())}]),t}(),e.DOMSVGFactory=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t,e){(0,i.assert)(t>0&&e>0,"Invalid SVG dimensions");var n=document.createElementNS(a,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",t+"px"),n.setAttribute("height",e+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+t+" "+e),n}},{key:"createElement",value:function(t){return(0,i.assert)("string"==typeof t,"Invalid SVG element type"),document.createElementNS(a,t)}}]),t}();var r=function(){function t(e){var n=e.viewBox,i=e.scale,a=e.rotation,r=e.offsetX,o=void 0===r?0:r,s=e.offsetY,c=void 0===s?0:s,l=e.dontFlip,u=void 0!==l&&l;_classCallCheck(this,t),this.viewBox=n,this.scale=i,this.rotation=a,this.offsetX=o,this.offsetY=c;var d,f,h,p,m,g,b,v,y=(n[2]+n[0])/2,_=(n[3]+n[1])/2;switch(a=(a%=360)<0?a+360:a){case 180:d=-1,f=0,h=0,p=1;break;case 90:d=0,f=1,h=1,p=0;break;case 270:d=0,f=-1,h=-1,p=0;break;default:d=1,f=0,h=0,p=-1}u&&(h=-h,p=-p),0===d?(m=Math.abs(_-n[1])*i+o,g=Math.abs(y-n[0])*i+c,b=Math.abs(n[3]-n[1])*i,v=Math.abs(n[2]-n[0])*i):(m=Math.abs(y-n[0])*i+o,g=Math.abs(_-n[1])*i+c,b=Math.abs(n[2]-n[0])*i,v=Math.abs(n[3]-n[1])*i),this.transform=[d*i,f*i,h*i,p*i,m-d*i*y-h*i*_,g-f*i*y-p*i*_],this.width=b,this.height=v}return _createClass(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scale,i=void 0===n?this.scale:n,a=e.rotation,r=void 0===a?this.rotation:a,o=e.offsetX,s=void 0===o?this.offsetX:o,c=e.offsetY,l=void 0===c?this.offsetY:c,u=e.dontFlip,d=void 0!==u&&u;return new t({viewBox:this.viewBox.slice(),scale:i,rotation:r,offsetX:s,offsetY:l,dontFlip:d})}},{key:"convertToViewportPoint",value:function(t,e){return i.Util.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=i.Util.applyTransform([t[0],t[1]],this.transform),n=i.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(t,e){return i.Util.applyInverseTransform([t,e],this.transform)}}]),t}();e.PageViewport=r,e.RenderingCancelledException=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).type=i,a}return n}(i.BaseException);var o,s={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function c(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function l(t,e){try{var n=(e?new URL(t,e):new URL(t)).protocol;return"http:"===n||"https:"===n}catch(i){return!1}}e.LinkTarget=s,e.StatTimer=function(){function t(){_classCallCheck(this,t),this.started=Object.create(null),this.times=[]}return _createClass(t,[{key:"time",value:function(t){t in this.started&&(0,i.warn)("Timer is already running for "+t),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,i.warn)("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],n=0,i=_createForOfIteratorHelper(this.times);try{for(i.s();!(t=i.n()).done;){var a=t.value.name;a.length>n&&(n=a.length)}}catch(l){i.e(l)}finally{i.f()}var r,o=_createForOfIteratorHelper(this.times);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=s.end-s.start;e.push("".concat(s.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(l){o.e(l)}finally{o.f()}return e.join("")}}]),t}(),e.PDFDateString=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"toDateObject",value:function(t){if(!t||!(0,i.isString)(t))return null;o||(o=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=o.exec(t);if(!e)return null;var n=parseInt(e[1],10),a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;var r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;var s=parseInt(e[4],10);s=s>=0&&s<=23?s:0;var c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;var l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;var u=e[7]||"Z",d=parseInt(e[8],10);d=d>=0&&d<=23?d:0;var f=parseInt(e[9],10)||0;return f=f>=0&&f<=59?f:0,"-"===u?(s+=d,c+=f):"+"===u&&(s-=d,c-=f),new Date(Date.UTC(n,a,r,s,c,l))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i,a=n(1),r=function(){function t(e){var n=e.docId,i=e.onUnsupportedFeature;_classCallCheck(this,t),this.constructor===t&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=i,this.nativeFontFaces=[],this.styleElement=null}var e;return _createClass(t,[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.push(t),document.fonts.add(t)}},{key:"insertRule",value:function(t){var e=this.styleElement;e||((e=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach((function(t){document.fonts.delete(t)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var n,i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.attached&&!e.missingFile){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!this.isFontLoadingAPISupported){t.next=15;break}if(!(n=e.createNativeFontFace())){t.next=14;break}return this.addNativeFontFace(n),t.prev=6,t.next=9,n.loaded;case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(6),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.font}),(0,a.warn)("Failed to load font '".concat(n.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 14:return t.abrupt("return");case 15:if(!(i=e.createFontFaceRule())){t.next=21;break}if(this.insertRule(i),!this.isSyncFontLoadingSupported){t.next=19;break}return t.abrupt("return");case 19:return t.next=21,new Promise((function(t){var n=r._queueLoadingCallback(t);r._prepareFontLoadEvent([i],[e],n)}));case 21:case"end":return t.stop()}}),t,this,[[6,11]])}))),function(t){return e.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(t){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(t,e,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var t="undefined"!=typeof document&&!!document.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}}]),t}();e.FontLoader=i,e.FontLoader=i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).loadingContext={requests:[],nextRequestId:0},i.loadTestFontId=0,i}return _createClass(n,[{key:"_queueLoadingCallback",value:function(t){var e=this.loadingContext,n={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function(){for((0,a.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){var t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}},{key:"_prepareFontLoadEvent",value:function(t,e,n){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function r(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}var o,s,c=document.createElement("canvas");c.width=1,c.height=1;var l=c.getContext("2d"),u=0,d="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,h=i(f=r(f,976,d.length,d),16);for(o=0,s=d.length-3;o<s;o+=4)h=h-1482184792+i(d,o)|0;o<d.length&&(h=h-1482184792+i(d+"XXX",o)|0),f=r(f,16,4,(0,a.string32)(h));var p="url(data:font/opentype;base64,".concat(btoa(f),");");this.insertRule('@font-face {font-family:"'.concat(d,'";src:').concat(p,"}"));var m=[];for(o=0,s=e.length;o<s;o++)m.push(e[o].loadedName);m.push(d);var g=document.createElement("div");for(g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px",o=0,s=m.length;o<s;++o){var b=document.createElement("span");b.textContent="Hi",b.style.fontFamily=m[o],g.appendChild(b)}document.body.appendChild(g),function t(e,n){if(++u>30)return(0,a.warn)("Load test font never loaded."),void n();l.font="30px "+e,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(d,(function(){document.body.removeChild(g),n.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);e&&e[1]>=14&&(t=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),n}(r),e.FontFaceObject=function(){function t(e,n){var i=n.isEvalSupported,a=void 0===i||i,r=n.disableFontFace,o=void 0!==r&&r,s=n.ignoreErrors,c=void 0!==s&&s,l=n.onUnsupportedFeature,u=void 0===l?null:l,d=n.fontRegistry,f=void 0===d?null:d;for(var h in _classCallCheck(this,t),this.compiledGlyphs=Object.create(null),e)this[h]=e[h];this.isEvalSupported=!1!==a,this.disableFontFace=!0===o,this.ignoreErrors=!0===c,this._onUnsupportedFeature=u,this.fontRegistry=f}return _createClass(t,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var t=(0,a.bytesToString)(new Uint8Array(this.data)),e="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var n,i;try{n=t.get(this.loadedName+"_path_"+e)}catch(l){if(!this.ignoreErrors)throw l;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.font}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(l,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){for(var r,o="",s=0,c=n.length;s<c;s++)r=void 0!==(i=n[s]).args?i.args.join(","):"",o+="c."+i.cmd+"("+r+");\n";return this.compiledGlyphs[e]=new Function("c","size",o)}return this.compiledGlyphs[e]=function(t,e){for(var a=0,r=n.length;a<r;a++)"scale"===(i=n[a]).cmd&&(i.args=[e,-e]),t[i.cmd].apply(t,i.args)}}}]),t}()},function(t,e,n){"use strict";var i=Object.create(null),a=n(7).isNodeJS,r="undefined"!=typeof navigator&&navigator.userAgent||"",o=/Trident/.test(r),s=/CriOS/.test(r);(o||s)&&(i.disableCreateObjectURL=!0),a&&(i.disableFontFace=!0,i.nativeImageDecoderSupport="none"),e.apiCompatibilityParams=Object.freeze(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var i="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;e.isNodeJS=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(1),a=n(9);function r(t){t.mozCurrentTransform||(t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],i=t[2],a=t[3],r=t[4],o=t[5],s=e*a-n*i,c=n*i-e*a;return[a/s,n/c,i/c,e/s,(a*r-i*o)/c,(n*r-e*o)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,i,a,r,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*i+s[2]*a,s[1]*i+s[3]*a,s[0]*r+s[2]*o+s[4],s[1]*r+s[3]*o+s[5]],t._originalTransform(e,n,i,a,r,o)},t.setTransform=function(e,n,i,a,r,o){this._transformMatrix=[e,n,i,a,r,o],t._originalSetTransform(e,n,i,a,r,o)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*e+i[2]*n,i[1]*e+i[3]*n,i[0]*-n+i[2]*e,i[1]*-n+i[3]*e,i[4],i[5]],this._originalRotate(t)})}var o=function(){function t(t){this.canvasFactory=t,this.cache=Object.create(null)}return t.prototype={getCanvas:function(t,e,n,i){var a;return void 0!==this.cache[t]?(this.canvasFactory.reset(a=this.cache[t],e,n),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(e,n),this.cache[t]=a),i&&r(a.context),a},clear:function(){for(var t in this.cache)this.canvasFactory.destroy(this.cache[t]),delete this.cache[t]}},t}(),s=function(){function t(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),c=function(){function t(t,e,n,i,a,c){this.ctx=t,this.current=new s,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.webGLContext=a,this.imageLayer=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new o(this.canvasFactory),t&&r(t),this._cachedGetSinglePixelWidth=null}function e(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var n,a,r,o,s,c=e.height,l=e.width,u=c%16,d=(c-u)/16,f=0===u?d:d+1,h=t.createImageData(l,16),p=0,m=e.data,g=h.data;if(e.kind===i.ImageKind.GRAYSCALE_1BPP){var b=m.byteLength,v=new Uint32Array(g.buffer,0,g.byteLength>>2),y=v.length,_=l+7>>3,k=4294967295,C=i.IsLittleEndianCached.value?4278190080:255;for(a=0;a<f;a++){for(o=a<d?16:u,n=0,r=0;r<o;r++){for(var x=b-p,w=0,O=x>_?l:8*x-7,S=-8&O,E=0,M=0;w<S;w+=8)M=m[p++],v[n++]=128&M?k:C,v[n++]=64&M?k:C,v[n++]=32&M?k:C,v[n++]=16&M?k:C,v[n++]=8&M?k:C,v[n++]=4&M?k:C,v[n++]=2&M?k:C,v[n++]=1&M?k:C;for(;w<O;w++)0===E&&(M=m[p++],E=128),v[n++]=M&E?k:C,E>>=1}for(;n<y;)v[n++]=0;t.putImageData(h,0,16*a)}}else if(e.kind===i.ImageKind.RGBA_32BPP){for(r=0,s=16*l*4,a=0;a<d;a++)g.set(m.subarray(p,p+s)),p+=s,t.putImageData(h,0,r),r+=16;a<f&&(g.set(m.subarray(p,p+(s=l*u*4))),t.putImageData(h,0,r))}else{if(e.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+e.kind);for(s=l*(o=16),a=0;a<f;a++){for(a>=d&&(s=l*(o=u)),n=0,r=s;r--;)g[n++]=m[p++],g[n++]=m[p++],g[n++]=m[p++],g[n++]=255;t.putImageData(h,0,16*a)}}}}function n(t,e){for(var n=e.height,i=e.width,a=n%16,r=(n-a)/16,o=0===a?r:r+1,s=t.createImageData(i,16),c=0,l=e.data,u=s.data,d=0;d<o;d++){for(var f=d<r?16:a,h=3,p=0;p<f;p++)for(var m=0,g=0;g<i;g++){if(!m){var b=l[c++];m=128}u[h]=b&m?0:255,h+=4,m>>=1}t.putImageData(s,0,16*d)}}function c(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,a=n.length;i<a;i++){var r=n[i];void 0!==t[r]&&(e[r]=t[r])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function l(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function u(t,e,n,i){for(var a=t.length,r=3;r<a;r+=4){var o=t[r];if(0===o)t[r-3]=e,t[r-2]=n,t[r-1]=i;else if(o<255){var s=255-o;t[r-3]=t[r-3]*o+e*s>>8,t[r-2]=t[r-2]*o+n*s>>8,t[r-1]=t[r-1]*o+i*s>>8}}}function d(t,e,n){for(var i=t.length,a=3;a<i;a+=4)e[a]=e[a]*(n?n[t[a]]:t[a])*(1/255)|0}function f(t,e,n){for(var i=t.length,a=3;a<i;a+=4){var r=77*t[a-3]+152*t[a-2]+28*t[a-1];e[a]=n?e[a]*n[r>>8]>>8:e[a]*r>>16}}function h(t,e,n,i){var a=e.canvas,r=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY);var o=e.backdrop||null;if(!e.transferMap&&i.isEnabled){var s=i.composeSMask({layer:n.canvas,mask:a,properties:{subtype:e.subtype,backdrop:o}});return t.setTransform(1,0,0,1,0,0),void t.drawImage(s,e.offsetX,e.offsetY)}!function(t,e,n,i,a,r,o){var s,c=!!r,l=c?r[0]:0,h=c?r[1]:0,p=c?r[2]:0;s="Luminosity"===a?f:d;for(var m=Math.min(i,Math.ceil(1048576/n)),g=0;g<i;g+=m){var b=Math.min(m,i-g),v=t.getImageData(0,g,n,b),y=e.getImageData(0,g,n,b);c&&u(v.data,l,h,p),s(v.data,y.data,o),t.putImageData(y,0,g)}}(r,n,a.width,a.height,e.subtype,o,e.transferMap),t.drawImage(a,0,0)}var p=["butt","round","square"],m=["miter","round","bevel"],g={},b={};for(var v in t.prototype={beginDrawing:function(t){var e=t.transform,n=t.viewport,i=t.transparency,a=void 0!==i&&i,r=t.background,o=void 0===r?null:r,s=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,c),this.ctx.restore(),a){var u=this.cachedCanvases.getCanvas("transparent",s,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),l(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,n,a){var r=t.argsArray,o=t.fnArray,s=e||0,c=r.length;if(c===s)return s;for(var l,u=c-s>10&&"function"==typeof n,d=u?Date.now()+15:0,f=0,h=this.commonObjs,p=this.objs;;){if(void 0!==a&&s===a.nextBreakPoint)return a.breakIt(s,n),s;if((l=o[s])!==i.OPS.dependency)this[l].apply(this,r[s]);else{var m,g=_createForOfIteratorHelper(r[s]);try{for(g.s();!(m=g.n()).done;){var b=m.value,v=b.startsWith("g_")?h:p;if(!v.has(b))return v.get(b,n),s}}catch(y){g.e(y)}finally{g.f()}}if(++s===c)return s;if(u&&++f>10){if(Date.now()>d)return n(),s;f=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=p[t]},setLineJoin:function(t){this.ctx.lineJoin=m[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)},setRenderingIntent:function(t){},setFlatness:function(t){},setGState:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e],a=i[1];switch(i[0]){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,t.canvas.width,t.canvas.height,!0),n=this.ctx,i=n.mozCurrentTransform;this.ctx.save();var a=e.context;a.scale(1/t.scaleX,1/t.scaleY),a.translate(-t.offsetX,-t.offsetY),a.transform.apply(a,i),t.startTransformInverse=a.mozCurrentTransformInverse,c(n,a),this.ctx=a,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++},suspendSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),h(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),this.ctx.save(),c(t,this.ctx),this.current.resumeSMaskCtx=t;var e=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()},resumeSMaskGroup:function(){var t=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),h(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),c(t,this.ctx);var e=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(t,e,n,i,a,r){this.ctx.transform(t,e,n,i,a,r),this._cachedGetSinglePixelWidth=null},constructPath:function(t,e){for(var n=this.ctx,a=this.current,r=a.x,o=a.y,s=0,c=0,l=t.length;s<l;s++)switch(0|t[s]){case i.OPS.rectangle:r=e[c++],o=e[c++];var u=e[c++],d=e[c++];0===u&&(u=this.getSinglePixelWidth()),0===d&&(d=this.getSinglePixelWidth());var f=r+u,h=o+d;this.ctx.moveTo(r,o),this.ctx.lineTo(f,o),this.ctx.lineTo(f,h),this.ctx.lineTo(r,h),this.ctx.lineTo(r,o),this.ctx.closePath();break;case i.OPS.moveTo:r=e[c++],o=e[c++],n.moveTo(r,o);break;case i.OPS.lineTo:r=e[c++],o=e[c++],n.lineTo(r,o);break;case i.OPS.curveTo:n.bezierCurveTo(e[c],e[c+1],e[c+2],e[c+3],r=e[c+4],o=e[c+5]),c+=6;break;case i.OPS.curveTo2:n.bezierCurveTo(r,o,e[c],e[c+1],e[c+2],e[c+3]),r=e[c+2],o=e[c+3],c+=4;break;case i.OPS.curveTo3:n.bezierCurveTo(e[c],e[c+1],r=e[c+2],o=e[c+3],r,o),c+=4;break;case i.OPS.closePath:n.closePath()}a.setCurrentPoint(r,o)},closePath:function(){this.ctx.closePath()},stroke:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){e.save();var a=i.Util.singularValueDecompose2dScale(e.mozCurrentTransform)[0];e.strokeStyle=n.getPattern(e,this),e.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*a),e.stroke(),e.restore()}else e.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),e.stroke();t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.fillColor,i=!1;this.current.patternFill&&(e.save(),this.baseTransform&&e.setTransform.apply(e,this.baseTransform),e.fillStyle=n.getPattern(e,this),i=!0),this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill(),i&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=g},eoClip:function(){this.pendingClip=b},beginText:function(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var n=0;n<t.length;n++){var i=t[n];e.setTransform.apply(e,i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,e){var n=this.commonObjs.get(t),a=this.current;if(!n)throw new Error("Can't find font for "+t);if(a.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var r="normal";n.black?r="900":n.bold&&(r="bold");var o=n.italic?"italic":"normal",s='"'.concat(n.loadedName||"sans-serif",'", ').concat(n.fallbackName),c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font="".concat(o," ").concat(r," ").concat(c,"px ").concat(s)}},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,i,a,r){this.current.textMatrix=[t,e,n,i,a,r],this.current.textMatrixScale=Math.sqrt(t*t+e*e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(t,e,n,a){var r,o=this.ctx,s=this.current,c=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,d=l&i.TextRenderingMode.FILL_STROKE_MASK,f=!!(l&i.TextRenderingMode.ADD_TO_PATH_FLAG),h=s.patternFill&&c.data;(c.disableFontFace||f||h)&&(r=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||h?(o.save(),o.translate(e,n),o.beginPath(),r(o,u),a&&o.setTransform.apply(o,a),d!==i.TextRenderingMode.FILL&&d!==i.TextRenderingMode.FILL_STROKE||o.fill(),d!==i.TextRenderingMode.STROKE&&d!==i.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(d!==i.TextRenderingMode.FILL&&d!==i.TextRenderingMode.FILL_STROKE||o.fillText(t,e,n),d!==i.TextRenderingMode.STROKE&&d!==i.TextRenderingMode.FILL_STROKE||o.strokeText(t,e,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:e,y:n,fontSize:u,addToPath:r})},get isFontSubpixelAAEnabled(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var a=e.fontSize;if(0!==a){var r,o=this.ctx,s=e.fontSizeScale,c=e.charSpacing,l=e.wordSpacing,u=e.fontDirection,d=e.textHScale*u,f=t.length,h=n.vertical,p=h?1:-1,m=n.defaultVMetrics,g=a*e.fontMatrix[0],b=e.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;if(o.save(),e.patternFill){o.save();var v=e.fillColor.getPattern(o,this);r=o.mozCurrentTransform,o.restore(),o.fillStyle=v}o.transform.apply(o,e.textMatrix),o.translate(e.x,e.y+e.textRise),o.scale(d,u>0?-1:1);var y=e.lineWidth,_=e.textMatrixScale;if(0===_||0===y){var k=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;k!==i.TextRenderingMode.STROKE&&k!==i.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,y=.65*this.getSinglePixelWidth())}else y/=_;1!==s&&(o.scale(s,s),y/=s),o.lineWidth=y;var C,x=0;for(C=0;C<f;++C){var w=t[C];if((0,i.isNum)(w))x+=p*w*a/1e3;else{var O,S,E,M,I=!1,P=(w.isSpace?l:0)+c,T=w.fontChar,A=w.accent,D=w.width;if(h?(E=w.vmetric||m,M=w.vmetric?E[1]:.5*D,D=E?-E[0]:D,O=(M=-M*g)/s,S=(x+E[2]*g)/s):(O=x/s,S=0),n.remeasure&&D>0){var R=1e3*o.measureText(T).width/a*s;if(D<R&&this.isFontSubpixelAAEnabled){var L=D/R;I=!0,o.save(),o.scale(L,1),O/=L}else D!==R&&(O+=(D-R)/2e3*a/s)}(w.isInFont||n.missingFile)&&(b&&!A?o.fillText(T,O,S):(this.paintChar(T,O,S,r),A&&this.paintChar(A.fontChar,O+A.offset.x/s,S-A.offset.y/s,r))),x+=h?D*g-P*u:D*g+P*u,I&&o.restore()}}h?e.y-=x:e.x+=x*d,o.restore()}},showType3Text:function(t){var e,n,a,r,o=this.ctx,s=this.current,c=s.font,l=s.fontSize,u=s.fontDirection,d=c.vertical?1:-1,f=s.charSpacing,h=s.wordSpacing,p=s.textHScale*u,m=s.fontMatrix||i.FONT_IDENTITY_MATRIX,g=t.length;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==l){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,u),e=0;e<g;++e)if((0,i.isNum)(n=t[e]))this.ctx.translate(r=d*n*l/1e3,0),s.x+=r*p;else{var b=(n.isSpace?h:0)+f,v=c.charProcOperatorList[n.operatorListId];if(v){this.processingType3=n,this.save(),o.scale(l,l),o.transform.apply(o,m),this.executeOperatorList(v),this.restore();var y=i.Util.applyTransform([n.width,0],m);o.translate(a=y[0]*l+b,0),s.x+=a*p}else(0,i.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}},setCharWidth:function(t,e){},setCharWidthAndBounds:function(t,e,n,i,a,r){this.ctx.rect(n,i,a-n,r-i),this.clip(),this.endPath()},getColorN_Pattern:function(e){var n,i=this;if("TilingPattern"===e[0]){var r=e[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new a.TilingPattern(e,r,this.ctx,{createCanvasGraphics:function(e){return new t(e,i.commonObjs,i.objs,i.canvasFactory,i.webGLContext)}},o)}else n=(0,a.getShadingPatternFromIR)(e);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(t,e,n){var a=i.Util.makeCssRgb(t,e,n);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(t,e,n){var a=i.Util.makeCssRgb(t,e,n);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(t){var e=this.ctx;this.save();var n=(0,a.getShadingPatternFromIR)(t);e.fillStyle=n.getPattern(e,this,!0);var r=e.mozCurrentTransformInverse;if(r){var o=e.canvas,s=o.width,c=o.height,l=i.Util.applyTransform([0,0],r),u=i.Util.applyTransform([0,c],r),d=i.Util.applyTransform([s,0],r),f=i.Util.applyTransform([s,c],r),h=Math.min(l[0],u[0],d[0],f[0]),p=Math.min(l[1],u[1],d[1],f[1]),m=Math.max(l[0],u[0],d[0],f[0]),g=Math.max(l[1],u[1],d[1],f[1]);this.ctx.fillRect(h,p,m-h,g-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,i.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,i.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(t){this.save();var e=this.ctx;t.isolated||(0,i.info)("TODO: Support non-isolated groups."),t.knockout&&(0,i.warn)("Knockout groups not supported.");var n=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var a=i.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform);a=i.Util.intersect(a,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];var r=Math.floor(a[0]),o=Math.floor(a[1]),s=Math.max(Math.ceil(a[2])-r,1),l=Math.max(Math.ceil(a[3])-o,1),u=1,d=1;s>4096&&(u=s/4096,s=4096),l>4096&&(d=l/4096,l=4096);var f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);var h=this.cachedCanvases.getCanvas(f,s,l,!0),p=h.context;p.scale(1/u,1/d),p.translate(-r,-o),p.transform.apply(p,n),t.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:r,offsetY:o,scaleX:u,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,o),e.scale(u,d)),c(e,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++,this.current.activeSMask=null},endGroup:function(t){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){this.save(),l(this.ctx),this.current=new s,Array.isArray(t)&&4===t.length&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath()),this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,e,n){var a=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(a){this.save();var r=this.ctx;if(r.scale(1/e,-1/n),r.drawImage(a,0,0,a.width,a.height,0,-n,e,n),this.imageLayer){var o=r.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:s[0],top:s[1],width:e/o[0],height:n/o[3]})}this.restore()}else(0,i.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(t){var e=this.ctx,i=t.width,a=t.height,r=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=i<=1e3&&a<=1e3?function(t){var e,n,i,a,r=t.width,o=t.height,s=r+1,c=new Uint8Array(s*(o+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=r+7&-8,d=t.data,f=new Uint8Array(u*o),h=0;for(e=0,a=d.length;e<a;e++)for(var p=128,m=d[e];p>0;)f[h++]=m&p?0:255,p>>=1;var g=0;for(0!==f[h=0]&&(c[0]=1,++g),n=1;n<r;n++)f[h]!==f[h+1]&&(c[n]=f[h]?2:1,++g),h++;for(0!==f[h]&&(c[n]=2,++g),e=1;e<o;e++){i=e*s,f[(h=e*u)-u]!==f[h]&&(c[i]=f[h]?1:8,++g);var b=(f[h]?4:0)+(f[h-u]?8:0);for(n=1;n<r;n++)l[b=(b>>2)+(f[h+1]?4:0)+(f[h-u+1]?8:0)]&&(c[i+n]=l[b],++g),h++;if(f[h-u]!==f[h]&&(c[i+n]=f[h]?2:4,++g),g>1e3)return null}for(i=e*s,0!==f[h=u*(o-1)]&&(c[i]=8,++g),n=1;n<r;n++)f[h]!==f[h+1]&&(c[i+n]=f[h]?4:8,++g),h++;if(0!==f[h]&&(c[i+n]=4,++g),g>1e3)return null;var v=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=[];for(e=0;g&&e<=o;e++){for(var _=e*s,k=_+r;_<k&&!c[_];)_++;if(_!==k){var C,x=[_%s,e],w=c[_],O=_;do{var S=v[w];do{_+=S}while(!c[_]);5!==(C=c[_])&&10!==C?(w=C,c[_]=0):c[_]&=(w=C&51*w>>4)>>2|w<<2,x.push(_%s),x.push(_/s|0),c[_]||--g}while(O!==_);y.push(x),--e}}return function(t){t.save(),t.scale(1/r,-1/o),t.translate(0,-o),t.beginPath();for(var e=0,n=y.length;e<n;e++){var i=y[e];t.moveTo(i[0],i[1]);for(var a=2,s=i.length;a<s;a+=2)t.lineTo(i[a],i[a+1])}t.fill(),t.beginPath(),t.restore()}}({data:t.data,width:i,height:a}):null),s&&s.compiled)s.compiled(e);else{var c=this.cachedCanvases.getCanvas("maskCanvas",i,a),l=c.context;l.save(),n(l,t),l.globalCompositeOperation="source-in",l.fillStyle=o?r.getPattern(l,this):r,l.fillRect(0,0,i,a),l.restore(),this.paintInlineImageXObject(c.canvas)}},paintImageMaskXObjectRepeat:function(t,e,i,a){var r=t.width,o=t.height,s=this.current.fillColor,c=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",r,o),u=l.context;u.save(),n(u,t),u.globalCompositeOperation="source-in",u.fillStyle=c?s.getPattern(u,this):s,u.fillRect(0,0,r,o),u.restore();for(var d=this.ctx,f=0,h=a.length;f<h;f+=2)d.save(),d.transform(e,0,0,i,a[f],a[f+1]),d.scale(1,-1),d.drawImage(l.canvas,0,0,r,o,0,-1,1,1),d.restore()},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,i=this.current.fillColor,a=this.current.patternFill,r=0,o=t.length;r<o;r++){var s=t[r],c=s.width,l=s.height,u=this.cachedCanvases.getCanvas("maskCanvas",c,l),d=u.context;d.save(),n(d,s),d.globalCompositeOperation="source-in",d.fillStyle=a?i.getPattern(d,this):i,d.fillRect(0,0,c,l),d.restore(),e.save(),e.transform.apply(e,s.transform),e.scale(1,-1),e.drawImage(u.canvas,0,0,c,l,0,-1,1,1),e.restore()}},paintImageXObject:function(t){var e=this.processingType3?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(t,e,n,a){var r=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(r){for(var o=r.width,s=r.height,c=[],l=0,u=a.length;l<u;l+=2)c.push({transform:[e,0,0,n,a[l],a[l+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(r,c)}else(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(t){var n=t.width,i=t.height,a=this.ctx;this.save(),a.scale(1/n,-1/i);var r,o,s=a.mozCurrentTransformInverse,c=s[0],l=s[1],u=Math.max(Math.sqrt(c*c+l*l),1),d=s[2],f=s[3],h=Math.max(Math.sqrt(d*d+f*f),1);if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)r=t;else{var p=(o=this.cachedCanvases.getCanvas("inlineImage",n,i)).context;e(p,t),r=o.canvas}for(var m=n,g=i,b="prescale1";u>2&&m>1||h>2&&g>1;){var v=m,y=g;u>2&&m>1&&(u/=m/(v=Math.ceil(m/2))),h>2&&g>1&&(h/=g/(y=Math.ceil(g/2))),(p=(o=this.cachedCanvases.getCanvas(b,v,y)).context).clearRect(0,0,v,y),p.drawImage(r,0,0,m,g,0,0,v,y),r=o.canvas,m=v,g=y,b="prescale1"===b?"prescale2":"prescale1"}if(a.drawImage(r,0,0,m,g,0,-i,n,i),this.imageLayer){var _=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:t,left:_[0],top:_[1],width:n/s[0],height:i/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,n){var i=this.ctx,a=t.width,r=t.height,o=this.cachedCanvases.getCanvas("inlineImage",a,r);e(o.context,t);for(var s=0,c=n.length;s<c;s++){var l=n[s];if(i.save(),i.transform.apply(i,l.transform),i.scale(1,-1),i.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:t,left:u[0],top:u[1],width:a,height:r})}i.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,i.warn)("Unsupported 'paintXObject' command.")},markPoint:function(t){},markPointProps:function(t,e){},beginMarkedContent:function(t){},beginMarkedContentProps:function(t,e){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===b?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()},getSinglePixelWidth:function(t){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}},i.OPS)t.prototype[i.OPS[v]]=t.prototype[v];return t}();e.CanvasGraphics=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPatternFromIR=function(t){var e=a[t[0]];if(!e)throw new Error("Unknown IR type: "+t[0]);return e.fromIR(t)},e.TilingPattern=void 0;var i=n(1),a={};function r(t,e){if(e&&"undefined"!=typeof Path2D){var n=e[2]-e[0],i=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],n,i),t.clip(a)}}a.RadialAxial={fromIR:function(t){var e=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],c=t[7];return{type:"Pattern",getPattern:function(t){var l;r(t,n),"axial"===e?l=t.createLinearGradient(a[0],a[1],o[0],o[1]):"radial"===e&&(l=t.createRadialGradient(a[0],a[1],s,o[0],o[1],c));for(var u=0,d=i.length;u<d;++u){var f=i[u];l.addColorStop(f[0],f[1])}return l}}}};var o=function(){function t(t,e,n,i,a,r,o,s){var c,l=e.coords,u=e.colors,d=t.data,f=4*t.width;l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=r,r=o,o=c),l[i+1]>l[a+1]&&(c=i,i=a,a=c,c=o,o=s,s=c),l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=r,r=o,o=c);var h=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,g=(l[i+1]+e.offsetY)*e.scaleY,b=(l[a]+e.offsetX)*e.scaleX,v=(l[a+1]+e.offsetY)*e.scaleY;if(!(p>=v))for(var y,_,k,C,x,w,O,S,E=u[r],M=u[r+1],I=u[r+2],P=u[o],T=u[o+1],A=u[o+2],D=u[s],R=u[s+1],L=u[s+2],F=Math.round(p),j=Math.round(v),Y=F;Y<=j;Y++){if(Y<g){var Z;y=h-(h-m)*(Z=Y<p?0:p===g?1:(p-Y)/(p-g)),_=E-(E-P)*Z,k=M-(M-T)*Z,C=I-(I-A)*Z}else{var N;y=m-(m-b)*(N=Y>v?1:g===v?0:(g-Y)/(g-v)),_=P-(P-D)*N,k=T-(T-R)*N,C=A-(A-L)*N}var U;x=h-(h-b)*(U=Y<p?0:Y>v?1:(p-Y)/(p-v)),w=E-(E-D)*U,O=M-(M-R)*U,S=I-(I-L)*U;for(var B=Math.round(Math.min(y,x)),z=Math.round(Math.max(y,x)),V=f*Y+4*B,H=B;H<=z;H++){var Q=(y-H)/(y-x);Q<0?Q=0:Q>1&&(Q=1),d[V++]=_-(_-w)*Q|0,d[V++]=k-(k-O)*Q|0,d[V++]=C-(C-S)*Q|0,d[V++]=255}}}function e(e,n,i){var a,r,o=n.coords,s=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,l=Math.floor(o.length/c)-1,u=c-1;for(a=0;a<l;a++)for(var d=a*c,f=0;f<u;f++,d++)t(e,i,o[d],o[d+1],o[d+c],s[d],s[d+1],s[d+c]),t(e,i,o[d+c+1],o[d+1],o[d+c],s[d+c+1],s[d+1],s[d+c]);break;case"triangles":for(a=0,r=o.length;a<r;a+=3)t(e,i,o[a],o[a+1],o[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}return function(t,n,i,a,r,o,s,c){var l,u,d,f,h=Math.floor(t[0]),p=Math.floor(t[1]),m=Math.ceil(t[2])-h,g=Math.ceil(t[3])-p,b=Math.min(Math.ceil(Math.abs(m*n[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*n[1]*1.1)),3e3),y=m/b,_=g/v,k={coords:i,colors:a,offsetX:-h,offsetY:-p,scaleX:1/y,scaleY:1/_},C=b+4,x=v+4;if(c.isEnabled)l=c.drawFigures({width:b,height:v,backgroundColor:o,figures:r,context:k}),(u=s.getCanvas("mesh",C,x,!1)).context.drawImage(l,2,2),l=u.canvas;else{var w=(u=s.getCanvas("mesh",C,x,!1)).context,O=w.createImageData(b,v);if(o){var S=O.data;for(d=0,f=S.length;d<f;d+=4)S[d]=o[0],S[d+1]=o[1],S[d+2]=o[2],S[d+3]=255}for(d=0;d<r.length;d++)e(O,r[d],k);w.putImageData(O,2,2),l=u.canvas}return{canvas:l,offsetX:h-2*y,offsetY:p-2*_,scaleX:y,scaleY:_}}}();a.Mesh={fromIR:function(t){var e=t[2],n=t[3],a=t[4],s=t[5],c=t[6],l=t[7],u=t[8];return{type:"Pattern",getPattern:function(t,d,f){var h;if(r(t,l),f)h=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(h=i.Util.singularValueDecompose2dScale(d.baseTransform),c){var p=i.Util.singularValueDecompose2dScale(c);h=[h[0]*p[0],h[1]*p[1]]}var m=o(s,h,e,n,a,f?null:u,d.cachedCanvases,d.webGLContext);return f||(t.setTransform.apply(t,d.baseTransform),c&&t.transform.apply(t,c)),t.translate(m.offsetX,m.offsetY),t.scale(m.scaleX,m.scaleY),t.createPattern(m.canvas,"no-repeat")}}}},a.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){function t(t,e,n,i,a){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.canvasGraphicsFactory=i,this.baseTransform=a,this.type="Pattern",this.ctx=n}return t.prototype={createPatternCanvas:function(t){var e=this.operatorList,n=this.bbox,a=this.xstep,r=this.ystep,o=this.paintType,s=this.color,c=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);var l=n[0],u=n[1],d=n[2],f=n[3],h=i.Util.singularValueDecompose2dScale(this.matrix),p=i.Util.singularValueDecompose2dScale(this.baseTransform),m=[h[0]*p[0],h[1]*p[1]],g=this.getSizeAndScale(a,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(r,this.ctx.canvas.height,m[1]),v=t.cachedCanvases.getCanvas("pattern",g.size,b.size,!0),y=c.createCanvasGraphics(v.context);return y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(y,o,s),y.transform(g.scale,0,0,b.scale,0,0),y.transform(1,0,0,1,-l,-u),this.clipBbox(y,n,l,u,d,f),y.executeOperatorList(e),this.ctx.transform(1,0,0,1,l,u),this.ctx.scale(1/g.scale,1/b.scale),v.canvas},getSizeAndScale:function(t,e,n){t=Math.abs(t);var i=Math.max(3e3,e),a=Math.ceil(t*n);return a>=i?a=i:n=a/t,{scale:n,size:a}},clipBbox:function(t,e,n,i,a,r){Array.isArray(e)&&4===e.length&&(t.ctx.rect(n,i,a-n,r-i),t.clip(),t.endPath())},setFillAndStrokeStyleToContext:function(t,e,n){var a=t.ctx,r=t.current;switch(e){case 1:var o=this.ctx;a.fillStyle=o.fillStyle,a.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case 2:var s=i.Util.makeCssRgb(n[0],n[1],n[2]);a.fillStyle=s,a.strokeStyle=s,r.fillColor=s,r.strokeColor=s;break;default:throw new i.FormatError("Unsupported paint type: "+e)}},getPattern:function(t,e){(t=this.ctx).setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix);var n=this.createPatternCanvas(e);return t.createPattern(n,"repeat")}},t}();e.TilingPattern=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=void 0===i.workerPort?null:i.workerPort,i.workerSrc=void 0===i.workerSrc?"":i.workerSrc},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=n(1);function a(t){if("object"!=typeof t||null===t)return t;switch(t.name){case"AbortException":return new i.AbortException(t.message);case"MissingPDFException":return new i.MissingPDFException(t.message);case"UnexpectedResponseException":return new i.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new i.UnknownErrorException(t.message,t.details);default:return new i.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===r.sourceName)if(e.stream)r._processStreamMessage(e);else if(e.callback){var n=e.callbackId,o=r.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback "+n);if(delete r.callbackCapabilities[n],1===e.callback)o.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");o.reject(a(e.reason))}}else{var s=r.actionHandler[e.action];if(!s)throw new Error("Unknown action from worker: "+e.action);if(e.callbackId){var c=r.sourceName,l=e.sourceName;new Promise((function(t){t(s(e.data))})).then((function(t){i.postMessage({sourceName:c,targetName:l,callback:1,callbackId:e.callbackId,data:t})}),(function(t){i.postMessage({sourceName:c,targetName:l,callback:2,callbackId:e.callbackId,reason:a(t)})}))}else e.streamId?r._createStreamSink(e):s(e.data)}},i.addEventListener("message",this._onComObjOnMessage)}var e;return _createClass(t,[{key:"on",value:function(t,e){var n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}},{key:"send",value:function(t,e,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}},{key:"sendWithPromise",value:function(t,e,n){var a=this.callbackId++,r=(0,i.createPromiseCapability)();this.callbackCapabilities[a]=r;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},n)}catch(o){r.reject(o)}return r.promise}},{key:"sendWithStream",value:function(t,e,n,r){var o=this,s=this.streamId++,c=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:function(n){var a=(0,i.createPromiseCapability)();return o.streamControllers[s]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},o._postMessage({sourceName:c,targetName:l,action:t,streamId:s,data:e,desiredSize:n.desiredSize},r),a.promise},pull:function(t){var e=(0,i.createPromiseCapability)();return o.streamControllers[s].pullCall=e,u.postMessage({sourceName:c,targetName:l,stream:6,streamId:s,desiredSize:t.desiredSize}),e.promise},cancel:function(t){(0,i.assert)(t instanceof Error,"cancel must have a valid reason");var e=(0,i.createPromiseCapability)();return o.streamControllers[s].cancelCall=e,o.streamControllers[s].isClosed=!0,u.postMessage({sourceName:c,targetName:l,stream:1,streamId:s,reason:a(t)}),e.promise}},n)}},{key:"_createStreamSink",value:function(t){var e=this,n=this.actionHandler[t.action],r=t.streamId,o=this.sourceName,s=t.sourceName,c=this.comObj,l={enqueue:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e._postMessage({sourceName:o,targetName:s,stream:4,streamId:r,chunk:t},a)}},close:function(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:s,stream:3,streamId:r}),delete e.streamSinks[r])},error:function(t){(0,i.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:s,stream:5,streamId:r,reason:a(t)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,new Promise((function(e){e(n(t.data,l))})).then((function(){c.postMessage({sourceName:o,targetName:s,stream:8,streamId:r,success:!0})}),(function(t){c.postMessage({sourceName:o,targetName:s,stream:8,streamId:r,reason:a(t)})}))}},{key:"_processStreamMessage",value:function(t){var e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj;switch(t.stream){case 8:t.success?this.streamControllers[e].startCall.resolve():this.streamControllers[e].startCall.reject(a(t.reason));break;case 7:t.success?this.streamControllers[e].pullCall.resolve():this.streamControllers[e].pullCall.reject(a(t.reason));break;case 6:if(!this.streamSinks[e]){o.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0});break}this.streamSinks[e].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[e].sinkCapability.resolve(),this.streamSinks[e].desiredSize=t.desiredSize;var s=this.streamSinks[t.streamId].onPull;new Promise((function(t){t(s&&s())})).then((function(){o.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,reason:a(t)})}));break;case 4:if((0,i.assert)(this.streamControllers[e],"enqueue should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].controller.enqueue(t.chunk);break;case 3:if((0,i.assert)(this.streamControllers[e],"close should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].isClosed=!0,this.streamControllers[e].controller.close(),this._deleteStreamController(e);break;case 5:(0,i.assert)(this.streamControllers[e],"error should have stream controller"),this.streamControllers[e].controller.error(a(t.reason)),this._deleteStreamController(e);break;case 2:t.success?this.streamControllers[e].cancelCall.resolve():this.streamControllers[e].cancelCall.reject(a(t.reason)),this._deleteStreamController(e);break;case 1:if(!this.streamSinks[e])break;var c=this.streamSinks[t.streamId].onCancel;new Promise((function(e){e(c&&c(a(t.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,reason:a(t)})})),this.streamSinks[e].sinkCapability.reject(a(t.reason)),this.streamSinks[e].isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([this.streamControllers[e].startCall,this.streamControllers[e].pullCall,this.streamControllers[e].cancelCall].map((function(t){return t&&t.promise})));case 2:delete this.streamControllers[e];case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_postMessage",value:function(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(1),a=n(13);e.Metadata=function(){function t(e){_classCallCheck(this,t),(0,i.assert)("string"==typeof e,"Metadata: input is not a string"),e=this._repair(e);var n=(new a.SimpleXMLParser).parseFromString(e);this._metadataMap=new Map,n&&this._parse(n)}return _createClass(t,[{key:"_repair",value:function(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,e){for(var n=e.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,e,n,i){return String.fromCharCode(64*e+8*n+1*i)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,e){switch(e){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(e," isn't defined."))})),i="",a=0,r=n.length;a<r;a+=2){var o=256*n.charCodeAt(a)+n.charCodeAt(a+1);i+=o>=32&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+i}))}},{key:"_parse",value:function(t){var e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var n=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===n&&e.hasChildNodes())for(var i=e.childNodes,a=0,r=i.length;a<r;a++){var o=i[a];if("rdf:description"===o.nodeName.toLowerCase())for(var s=0,c=o.childNodes.length;s<c;s++)if("#text"!==o.childNodes[s].nodeName.toLowerCase()){var l=o.childNodes[s],u=l.nodeName.toLowerCase();this._metadataMap.set(u,l.textContent.trim())}}}},{key:"get",value:function(t){return this._metadataMap.has(t)?this._metadataMap.get(t):null}},{key:"getAll",value:function(){var t,e=Object.create(null),n=_createForOfIteratorHelper(this._metadataMap);try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),a=i[0],r=i[1];e[a]=r}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"has",value:function(t){return this._metadataMap.has(t)}}]),t}()},function(t,e,n){"use strict";function i(t,e){var n=t[e];return" "===n||"\n"===n||"\r"===n||"\t"===n}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleXMLParser=void 0;var a=function(){function t(e,n){_classCallCheck(this,t),this.nodeName=e,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(t,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var t=this.parentNode.childNodes;if(t){var e=t.indexOf(this);return-1!==e?t[e+1]:void 0}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}}]),t}();e.SimpleXMLParser=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this))._currentFragment=null,t._stack=null,t._errorCode=0,t}return _createClass(n,[{key:"parseFromString",value:function(t){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(t),0===this._errorCode){var e=_slicedToArray(this._currentFragment,1)[0];return e?{documentElement:e}:void 0}}},{key:"onResolveEntity",value:function(t){switch(t){case"apos":return"'"}return _get(_getPrototypeOf(n.prototype),"onResolveEntity",this).call(this,t)}},{key:"onText",value:function(t){if(!function(t){for(var e=0,n=t.length;e<n;e++)if(!i(t,e))return!1;return!0}(t)){var e=new a("#text",t);this._currentFragment.push(e)}}},{key:"onCdata",value:function(t){var e=new a("#text",t);this._currentFragment.push(e)}},{key:"onBeginElement",value:function(t,e,n){var i=new a(t);i.childNodes=[],this._currentFragment.push(i),n||(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}},{key:"onEndElement",value:function(t){this._currentFragment=this._stack.pop()||[];var e=this._currentFragment[this._currentFragment.length-1];if(e)for(var n=0,i=e.childNodes.length;n<i;n++)e.childNodes[n].parentNode=e}},{key:"onError",value:function(t){this._errorCode=t}}]),n}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"_resolveEntities",value:function(t){var e=this;return t.replace(/&([^;]+);/g,(function(t,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return e.onResolveEntity(n)}))}},{key:"_parseContent",value:function(t,e){var n=[],a=e;function r(){for(;a<t.length&&i(t,a);)++a}for(;a<t.length&&!i(t,a)&&">"!==t[a]&&"/"!==t[a];)++a;var o=t.substring(e,a);for(r();a<t.length&&">"!==t[a]&&"/"!==t[a]&&"?"!==t[a];){r();for(var s,c="";a<t.length&&!i(t,a)&&"="!==t[a];)c+=t[a],++a;if(r(),"="!==t[a])return null;++a,r();var l=t[a];if('"'!==l&&"'"!==l)return null;var u=t.indexOf(l,++a);if(u<0)return null;s=t.substring(a,u),n.push({name:c,value:this._resolveEntities(s)}),a=u+1,r()}return{name:o,attributes:n,parsed:a-e}}},{key:"_parseProcessingInstruction",value:function(t,e){for(var n=e;n<t.length&&!i(t,n)&&">"!==t[n]&&"/"!==t[n];)++n;var a=t.substring(e,n);!function(){for(;n<t.length&&i(t,n);)++n}();for(var r=n;n<t.length&&("?"!==t[n]||">"!==t[n+1]);)++n;return{name:a,value:t.substring(r,n),parsed:n-e}}},{key:"parseXml",value:function(t){for(var e=0;e<t.length;){var n=e;if("<"===t[e]){var i=void 0;switch(t[++n]){case"/":if(++n,(i=t.indexOf(">",n))<0)return void this.onError(-9);this.onEndElement(t.substring(n,i)),n=i+1;break;case"?":++n;var a=this._parseProcessingInstruction(t,n);if("?>"!==t.substring(n+a.parsed,n+a.parsed+2))return void this.onError(-3);this.onPi(a.name,a.value),n+=a.parsed+2;break;case"!":if("--"===t.substring(n+1,n+3)){if((i=t.indexOf("--\x3e",n+3))<0)return void this.onError(-5);this.onComment(t.substring(n+3,i)),n=i+3}else if("[CDATA["===t.substring(n+1,n+8)){if((i=t.indexOf("]]>",n+8))<0)return void this.onError(-2);this.onCdata(t.substring(n+8,i)),n=i+3}else{if("DOCTYPE"!==t.substring(n+1,n+8))return void this.onError(-6);var r=t.indexOf("[",n+8),o=!1;if((i=t.indexOf(">",n+8))<0)return void this.onError(-4);if(r>0&&i>r){if((i=t.indexOf("]>",n+8))<0)return void this.onError(-4);o=!0}var s=t.substring(n+8,i+(o?1:0));this.onDoctype(s),n=i+(o?2:1)}break;default:var c=this._parseContent(t,n);if(null===c)return void this.onError(-6);var l=!1;if("/>"===t.substring(n+c.parsed,n+c.parsed+2))l=!0;else if(">"!==t.substring(n+c.parsed,n+c.parsed+1))return void this.onError(-9);this.onBeginElement(c.name,c.attributes,l),n+=c.parsed+(l?2:1)}}else{for(;n<t.length&&"<"!==t[n];)n++;var u=t.substring(e,n);this.onText(this._resolveEntities(u))}e=n}}},{key:"onResolveEntity",value:function(t){return"&".concat(t,";")}},{key:"onPi",value:function(t,e){}},{key:"onComment",value:function(t){}},{key:"onCdata",value:function(t){}},{key:"onDoctype",value:function(t){}},{key:"onText",value:function(t){}},{key:"onBeginElement",value:function(t,e,n){}},{key:"onEndElement",value:function(t){}},{key:"onError",value:function(t){}}]),t}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=n(1);e.PDFDataTransportStream=function(){function t(e,n){var a=this;_classCallCheck(this,t),(0,i.assert)(n),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1;var r=e.initialData;if(r&&r.length>0){var o=new Uint8Array(r).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(t,e){a._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener((function(t,e){a._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(t){a._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){a._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(t,[{key:"_onReceiveData",value:function(t){var e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{var n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,i.assert)(n)}}},{key:"_onProgress",value:function(t){if(void 0===t.total){var e=this._rangeReaders[0];e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,i.assert)(!this._fullRequestReader);var t=this._queuedChunks;return this._queuedChunks=null,new a(this,t,this._progressiveDone)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new r(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach((function(e){e.cancel(t)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();var a=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this._stream=e,this._done=i||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var a,r=_createForOfIteratorHelper(this._queuedChunks);try{for(r.s();!(a=r.n()).done;){var o=a.value;this._loaded+=o.byteLength}}catch(s){r.e(s)}finally{r.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}var e;return _createClass(t,[{key:"_enqueue",value:function(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}},{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=2;break}return t.abrupt("return",{value:this._queuedChunks.shift(),done:!1});case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:return e=(0,i.createPromiseCapability)(),t.abrupt("return",(this._requests.push(e),e.promise));case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),t}(),r=function(){function t(e,n,i){_classCallCheck(this,t),this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return _createClass(t,[{key:"_enqueue",value:function(t){this._done||(0===this._requests.length?this._queuedChunk=t:(this._requests.shift().resolve({value:t,done:!1}),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=3;break}return e=this._queuedChunk,t.abrupt("return",(this._queuedChunk=null,{value:e,done:!1}));case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,i.createPromiseCapability)(),t.abrupt("return",(this._requests.push(n),n.promise));case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=void 0;var i=n(1);e.WebGLContext=function(){function t(e){var n=e.enable,i=void 0!==n&&n;_classCallCheck(this,t),this._enabled=!0===i}return _createClass(t,[{key:"composeSMask",value:function(t){var e=t.layer,n=t.mask,i=t.properties;return a.composeSMask(e,n,i)}},{key:"drawFigures",value:function(t){var e=t.width,n=t.height,i=t.backgroundColor,r=t.figures,o=t.context;return a.drawFigures(e,n,i,r,o)}},{key:"clear",value:function(){a.cleanup()}},{key:"isEnabled",get:function(){var t=this._enabled;return t&&(t=a.tryInitGL()),(0,i.shadow)(this,"isEnabled",t)}}]),t}();var a=function(){function t(t,e,n){var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+a)}return i}function e(e,n){return t(e,n,e.VERTEX_SHADER)}function n(e,n){return t(e,n,e.FRAGMENT_SHADER)}function i(t,e){for(var n=t.createProgram(),i=0,a=e.length;i<a;++i)t.attachShader(n,e[i]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){var r=t.getProgramInfoLog(n);throw new Error("Error during program linking: "+r)}return n}function a(t,e,n){t.activeTexture(n);var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}var r,o;function s(){r||(o=document.createElement("canvas"),r=o.getContext("webgl",{premultipliedalpha:!1}))}var c=null,l=null;return{tryInitGL:function(){try{return s(),!!r}catch(t){}return!1},composeSMask:function(t,l,u){var d=t.width,f=t.height;c||function(){var t,a;s(),t=o,o=null,a=r,r=null;var l=i(a,[e(a,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(a,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);a.useProgram(l);var u={};u.gl=a,u.canvas=t,u.resolutionLocation=a.getUniformLocation(l,"u_resolution"),u.positionLocation=a.getAttribLocation(l,"a_position"),u.backdropLocation=a.getUniformLocation(l,"u_backdrop"),u.subtypeLocation=a.getUniformLocation(l,"u_subtype");var d=a.getAttribLocation(l,"a_texCoord"),f=a.getUniformLocation(l,"u_image"),h=a.getUniformLocation(l,"u_mask"),p=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,p),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW),a.enableVertexAttribArray(d),a.vertexAttribPointer(d,2,a.FLOAT,!1,0,0),a.uniform1i(f,0),a.uniform1i(h,1),c=u}();var h=c,p=h.canvas,m=h.gl;p.width=d,p.height=f,m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),m.uniform2f(h.resolutionLocation,d,f),u.backdrop?m.uniform4f(h.resolutionLocation,u.backdrop[0],u.backdrop[1],u.backdrop[2],1):m.uniform4f(h.resolutionLocation,0,0,0,0),m.uniform1i(h.subtypeLocation,"Luminosity"===u.subtype?1:0);var g=a(m,t,m.TEXTURE0),b=a(m,l,m.TEXTURE1),v=m.createBuffer();return m.bindBuffer(m.ARRAY_BUFFER,v),m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,f,0,f,d,0,d,f]),m.STATIC_DRAW),m.enableVertexAttribArray(h.positionLocation),m.vertexAttribPointer(h.positionLocation,2,m.FLOAT,!1,0,0),m.clearColor(0,0,0,0),m.enable(m.BLEND),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.clear(m.COLOR_BUFFER_BIT),m.drawArrays(m.TRIANGLES,0,6),m.flush(),m.deleteTexture(g),m.deleteTexture(b),m.deleteBuffer(v),p},drawFigures:function(t,a,c,u,d){l||function(){var t,a;s(),t=o,o=null,a=r,r=null;var c=i(a,[e(a,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(a,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);a.useProgram(c);var u={};u.gl=a,u.canvas=t,u.resolutionLocation=a.getUniformLocation(c,"u_resolution"),u.scaleLocation=a.getUniformLocation(c,"u_scale"),u.offsetLocation=a.getUniformLocation(c,"u_offset"),u.positionLocation=a.getAttribLocation(c,"a_position"),u.colorLocation=a.getAttribLocation(c,"a_color"),l=u}();var f=l,h=f.canvas,p=f.gl;h.width=t,h.height=a,p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),p.uniform2f(f.resolutionLocation,t,a);var m,g,b,v=0;for(m=0,g=u.length;m<g;m++)switch(u[m].type){case"lattice":v+=((b=u[m].coords.length/u[m].verticesPerRow|0)-1)*(u[m].verticesPerRow-1)*6;break;case"triangles":v+=u[m].coords.length}var y=new Float32Array(2*v),_=new Uint8Array(3*v),k=d.coords,C=d.colors,x=0,w=0;for(m=0,g=u.length;m<g;m++){var O=u[m],S=O.coords,E=O.colors;switch(O.type){case"lattice":var M=O.verticesPerRow;b=S.length/M|0;for(var I=1;I<b;I++)for(var P=I*M+1,T=1;T<M;T++,P++)y[x]=k[S[P-M-1]],y[x+1]=k[S[P-M-1]+1],y[x+2]=k[S[P-M]],y[x+3]=k[S[P-M]+1],y[x+4]=k[S[P-1]],y[x+5]=k[S[P-1]+1],_[w]=C[E[P-M-1]],_[w+1]=C[E[P-M-1]+1],_[w+2]=C[E[P-M-1]+2],_[w+3]=C[E[P-M]],_[w+4]=C[E[P-M]+1],_[w+5]=C[E[P-M]+2],_[w+6]=C[E[P-1]],_[w+7]=C[E[P-1]+1],_[w+8]=C[E[P-1]+2],y[x+6]=y[x+2],y[x+7]=y[x+3],y[x+8]=y[x+4],y[x+9]=y[x+5],y[x+10]=k[S[P]],y[x+11]=k[S[P]+1],_[w+9]=_[w+3],_[w+10]=_[w+4],_[w+11]=_[w+5],_[w+12]=_[w+6],_[w+13]=_[w+7],_[w+14]=_[w+8],_[w+15]=C[E[P]],_[w+16]=C[E[P]+1],_[w+17]=C[E[P]+2],x+=12,w+=18;break;case"triangles":for(var A=0,D=S.length;A<D;A++)y[x]=k[S[A]],y[x+1]=k[S[A]+1],_[w]=C[E[A]],_[w+1]=C[E[A]+1],_[w+2]=C[E[A]+2],x+=2,w+=3}}c?p.clearColor(c[0]/255,c[1]/255,c[2]/255,1):p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);var R=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,R),p.bufferData(p.ARRAY_BUFFER,y,p.STATIC_DRAW),p.enableVertexAttribArray(f.positionLocation),p.vertexAttribPointer(f.positionLocation,2,p.FLOAT,!1,0,0);var L=p.createBuffer();return p.bindBuffer(p.ARRAY_BUFFER,L),p.bufferData(p.ARRAY_BUFFER,_,p.STATIC_DRAW),p.enableVertexAttribArray(f.colorLocation),p.vertexAttribPointer(f.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0),p.uniform2f(f.scaleLocation,d.scaleX,d.scaleY),p.uniform2f(f.offsetLocation,d.offsetX,d.offsetY),p.drawArrays(p.TRIANGLES,0,v),p.flush(),p.deleteBuffer(R),p.deleteBuffer(L),h},cleanup:function(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),c=null,l=null}}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=void 0;var i=n(1),a=function(){var t=/\S/;function e(e,n,a){var r=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(r),!t.test(n.str))return o.isWhitespace=!0,void e._textDivProperties.set(r,o);var s=i.Util.transform(e._viewport.transform,n.transform),c=Math.atan2(s[1],s[0]),l=a[n.fontName];l.vertical&&(c+=Math.PI/2);var u,d,f=Math.sqrt(s[2]*s[2]+s[3]*s[3]),h=f;if(l.ascent?h*=l.ascent:l.descent&&(h*=1+l.descent),0===c?(u=s[4],d=s[5]-h):(u=s[4]+h*Math.sin(c),d=s[5]-h*Math.cos(c)),r.style.left=u+"px",r.style.top=d+"px",r.style.fontSize=f+"px",r.style.fontFamily=l.fontFamily,r.textContent=n.str,e._fontInspectorEnabled&&(r.dataset.fontName=n.fontName),0!==c&&(o.angle=c*(180/Math.PI)),n.str.length>1&&(o.canvasWidth=l.vertical?n.height*e._viewport.scale:n.width*e._viewport.scale),e._textDivProperties.set(r,o),e._textContentStream&&e._layoutText(r),e._enhanceTextSelection){var p=1,m=0;0!==c&&(p=Math.cos(c),m=Math.sin(c));var g,b,v=(l.vertical?n.height:n.width)*e._viewport.scale,y=f;b=0!==c?i.Util.getAxialAlignedBoundingBox([0,0,v,y],g=[p,m,-m,p,u,d]):[u,d,u+v,d+y],e._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:r,size:[v,y],m:g})}}function n(t){if(!t._canceled){var e=t._textDivs,n=t._capability,i=e.length;if(i>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var a=0;a<i;a++)t._layoutText(e[a]);t._renderingDone=!0,n.resolve()}}function a(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach((function(t){for(var e=0;e<n.length&&n[e].end<=t.y1;)e++;for(var i,a,r=n.length-1;r>=0&&n[r].start>=t.y2;)r--;var o,s,c=-1/0;for(o=e;o<=r;o++){var l;(l=(a=(i=n[o]).boundary).x2>t.x1?a.index>t.index?a.x1New:t.x1:void 0===a.x2New?(a.x2+t.x1)/2:a.x2New)>c&&(c=l)}for(t.x1New=c,o=e;o<=r;o++)void 0===(a=(i=n[o]).boundary).x2New?a.x2>t.x1?a.index>t.index&&(a.x2New=a.x2):a.x2New=c:a.x2New>c&&(a.x2New=Math.max(c,a.x2));var u=[],d=null;for(o=e;o<=r;o++){var f=(a=(i=n[o]).boundary).x2>t.x2?a:t;d===f?u[u.length-1].end=i.end:(u.push({start:i.start,end:i.end,boundary:f}),d=f)}for(n[e].start<t.y1&&(u[0].start=t.y1,u.unshift({start:n[e].start,end:t.y1,boundary:n[e].boundary})),t.y2<n[r].end&&(u[u.length-1].end=t.y2,u.push({start:t.y2,end:n[r].end,boundary:n[r].boundary})),o=e;o<=r;o++)if(void 0===(a=(i=n[o]).boundary).x2New){var h=!1;for(s=e-1;!h&&s>=0&&n[s].start>=a.y1;s--)h=n[s].boundary===a;for(s=r+1;!h&&s<n.length&&n[s].end<=a.y2;s++)h=n[s].boundary===a;for(s=0;!h&&s<u.length;s++)h=u[s].boundary===a;h||(a.x2New=c)}Array.prototype.splice.apply(n,[e,r-e+1].concat(u))})),n.forEach((function(e){var n=e.boundary;void 0===n.x2New&&(n.x2New=Math.max(t,n.x2))}))}function r(t){var e=this,n=t.textContent,a=t.textContentStream,r=t.container,o=t.viewport,s=t.textDivs,c=t.textContentItemsStr,l=t.enhanceTextSelection;this._textContent=n,this._textContentStream=a,this._container=r,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){e._layoutTextCtx&&(e._layoutTextCtx.canvas.width=0,e._layoutTextCtx.canvas.height=0,e._layoutTextCtx=null)})).catch((function(){}))}return r.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(t,n){for(var i=0,a=t.length;i<a;i++)this._textContentItemsStr.push(t[i].str),e(this,t[i],n)},_layoutText:function(t){var e=this._textDivProperties.get(t);if(!e.isWhitespace){var n="";if(0!==e.canvasWidth){var i=t.style,a=i.fontSize,r=i.fontFamily;a===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(a," ").concat(r),this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=r);var o=this._layoutTextCtx.measureText(t.textContent).width;o>0&&(e.scale=e.canvasWidth/o,n="scaleX(".concat(e.scale,")"))}0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),this._textDivProperties.set(t,e),this._container.appendChild(t)}},_render:function(t){var e=this,a=(0,i.createPromiseCapability)(),r=Object.create(null),o=document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),a.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function t(){e._reader.read().then((function(n){var i=n.value;n.done?a.resolve():(Object.assign(r,i.styles),e._processItems(i.items,r),t())}),a.reject)}()}a.promise.then((function(){r=null,t?e._renderTimer=setTimeout((function(){n(e),e._renderTimer=null}),t):n(e)}),this._capability.reject)},expandTextDivs:function(t){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(t){for(var e=t._bounds,n=t._viewport,r=function(t,e,n){var i=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));a(t,i);var r=new Array(n.length);return i.forEach((function(t){r[t.index]={left:t.x1New,top:0,right:t.x2New,bottom:0}})),n.map((function(e,n){var a=r[n],o=i[n];o.x1=e.top,o.y1=t-a.right,o.x2=e.bottom,o.y2=t-a.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),a(e,i),i.forEach((function(t){var e=t.index;r[e].top=t.x1New,r[e].bottom=t.x2New})),r}(n.width,n.height,e),o=0;o<r.length;o++){var s=e[o].div,c=t._textDivProperties.get(s);if(0!==c.angle){var l=r[o],u=e[o],d=u.m,f=d[0],h=d[1],p=[[0,0],[0,u.size[1]],[u.size[0],0],u.size],m=new Float64Array(64);p.forEach((function(t,e){var n=i.Util.applyTransform(t,d);m[e+0]=f&&(l.left-n[0])/f,m[e+4]=h&&(l.top-n[1])/h,m[e+8]=f&&(l.right-n[0])/f,m[e+12]=h&&(l.bottom-n[1])/h,m[e+16]=h&&(l.left-n[0])/-h,m[e+20]=f&&(l.top-n[1])/f,m[e+24]=h&&(l.right-n[0])/-h,m[e+28]=f&&(l.bottom-n[1])/f,m[e+32]=f&&(l.left-n[0])/-f,m[e+36]=h&&(l.top-n[1])/-h,m[e+40]=f&&(l.right-n[0])/-f,m[e+44]=h&&(l.bottom-n[1])/-h,m[e+48]=h&&(l.left-n[0])/h,m[e+52]=f&&(l.top-n[1])/-f,m[e+56]=h&&(l.right-n[0])/h,m[e+60]=f&&(l.bottom-n[1])/-f}));var g=function(t,e,n){for(var i=0,a=0;a<n;a++){var r=t[e++];r>0&&(i=i?Math.min(r,i):r)}return i},b=1+Math.min(Math.abs(f),Math.abs(h));c.paddingLeft=g(m,32,16)/b,c.paddingTop=g(m,48,16)/b,c.paddingRight=g(m,0,16)/b,c.paddingBottom=g(m,16,16)/b,t._textDivProperties.set(s,c)}else c.paddingLeft=e[o].left-r[o].left,c.paddingTop=e[o].top-r[o].top,c.paddingRight=r[o].right-e[o].right,c.paddingBottom=r[o].bottom-e[o].bottom,t._textDivProperties.set(s,c)}}(this),this._bounds=null);for(var e=[],n=[],r=0,o=this._textDivs.length;r<o;r++){var s=this._textDivs[r],c=this._textDivProperties.get(s);c.isWhitespace||(t?(e.length=0,n.length=0,c.originalTransform&&e.push(c.originalTransform),c.paddingTop>0?(n.push(c.paddingTop+"px"),e.push("translateY(".concat(-c.paddingTop,"px)"))):n.push(0),n.push(c.paddingRight>0?c.paddingRight/c.scale+"px":0),n.push(c.paddingBottom>0?c.paddingBottom+"px":0),c.paddingLeft>0?(n.push(c.paddingLeft/c.scale+"px"),e.push("translateX(".concat(-c.paddingLeft/c.scale,"px)"))):n.push(0),s.style.padding=n.join(" "),e.length&&(s.style.transform=e.join(" "))):(s.style.padding=null,s.style.transform=c.originalTransform))}}}},function(t){var e=new r({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e}}();e.renderTextLayer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(4),a=n(1),r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t){switch(t.data.annotationType){case a.AnnotationType.LINK:return new s(t);case a.AnnotationType.TEXT:return new c(t);case a.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new u(t);case"Btn":return t.data.radioButton?new f(t):t.data.checkBox?new d(t):new h(t);case"Ch":return new p(t)}return new l(t);case a.AnnotationType.POPUP:return new m(t);case a.AnnotationType.FREETEXT:return new b(t);case a.AnnotationType.LINE:return new v(t);case a.AnnotationType.SQUARE:return new y(t);case a.AnnotationType.CIRCLE:return new _(t);case a.AnnotationType.POLYLINE:return new k(t);case a.AnnotationType.CARET:return new x(t);case a.AnnotationType.INK:return new w(t);case a.AnnotationType.POLYGON:return new C(t);case a.AnnotationType.HIGHLIGHT:return new O(t);case a.AnnotationType.UNDERLINE:return new S(t);case a.AnnotationType.SQUIGGLY:return new E(t);case a.AnnotationType.STRIKEOUT:return new M(t);case a.AnnotationType.STAMP:return new I(t);case a.AnnotationType.FILEATTACHMENT:return new P(t);default:return new o(t)}}}]),t}(),o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,n&&(this.container=this._createContainer(i))}return _createClass(t,[{key:"_createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data,n=this.page,i=this.viewport,r=document.createElement("section"),o=e.rect[2]-e.rect[0],s=e.rect[3]-e.rect[1];r.setAttribute("data-annotation-id",e.id);var c=a.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(r.style.transform="matrix(".concat(i.transform.join(","),")"),r.style.transformOrigin="-".concat(c[0],"px -").concat(c[1],"px"),!t&&e.borderStyle.width>0){r.style.borderWidth=e.borderStyle.width+"px",e.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(o-=2*e.borderStyle.width,s-=2*e.borderStyle.width);var l=e.borderStyle.horizontalCornerRadius,u=e.borderStyle.verticalCornerRadius;switch((l>0||u>0)&&(r.style.borderRadius="".concat(l,"px / ").concat(u,"px")),e.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:r.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:r.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:r.style.borderBottomStyle="solid"}e.color?r.style.borderColor=a.Util.makeCssRgb(0|e.color[0],0|e.color[1],0|e.color[2]):r.style.borderWidth=0}return r.style.left=c[0]+"px",r.style.top=c[1]+"px",r.style.width=o+"px",r.style.height=s+"px",r}},{key:"_createPopup",value:function(t,e,n){e||((e=document.createElement("div")).style.height=t.style.height,e.style.width=t.style.width,t.appendChild(e));var i=new g({container:t,trigger:e,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();i.style.left=t.style.width,t.appendChild(i)}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.url||t.data.dest||t.data.action))}return _createClass(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var t=this.data,e=this.linkService,n=document.createElement("a");return t.url?(0,i.addLinkAttributes)(n,{url:t.url,target:t.newWindow?i.LinkTarget.BLANK:e.externalLinkTarget,rel:e.externalLinkRel,enabled:e.externalLinkEnabled}):t.action?this._bindNamedAction(n,t.action):this._bindLink(n,t.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.navigateTo(e),!1},e&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}}]),n}(o),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents))}return _createClass(n,[{key:"render",value:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}}]),n}(o),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){return this.container}}]),n}(o),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue)}return _createClass(n,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea")).textContent=this.data.fieldValue:((t=document.createElement("input")).type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){var e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing="calc(".concat(e,"px - 1ch)")}}else{(t=document.createElement("div")).textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";var n=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(n=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(t,n)}return null!==this.data.textAlignment&&(t.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(t),this.container}},{key:"_setTextStyle",value:function(t,e){var n=t.style;if(n.fontSize=this.data.fontSize+"px",n.direction=this.data.fontDirection<0?"rtl":"ltr",e){var i="normal";e.black?i="900":e.bold&&(i="bold"),n.fontWeight=i,n.fontStyle=e.italic?"italic":"normal",n.fontFamily=(e.loadedName?'"'.concat(e.loadedName,'", '):"")+(e.fallbackName||"Helvetica, sans-serif")}}}]),n}(l),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,t.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}]),n}(l),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,t.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="radio",t.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}]),n}(l),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){var t=_get(_getPrototypeOf(n.prototype),"render",this).call(this);return t.className="buttonWidgetAnnotation pushButton",t}}]),n}(s),p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,t.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var t=document.createElement("select");t.disabled=this.data.readOnly,this.data.combo||(t.size=this.data.options.length,this.data.multiSelect&&(t.multiple=!0));var e,n=_createForOfIteratorHelper(this.data.options);try{for(n.s();!(e=n.n()).done;){var i=e.value,a=document.createElement("option");a.textContent=i.displayValue,a.value=i.exportValue,this.data.fieldValue.includes(i.displayValue)&&a.setAttribute("selected",!0),t.appendChild(a)}}catch(r){n.e(r)}finally{n.f()}return this.container.appendChild(t),this.container}}]),n}(l),m=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!(!t.data.title&&!t.data.contents))}return _createClass(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var t=this.layer.querySelector('[data-annotation-id="'.concat(this.data.parentId,'"]'));if(!t)return this.container;var e=new g({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),n=parseFloat(t.style.left),i=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(n+i,"px -").concat(t.style.top),this.container.style.left=n+i+"px",this.container.appendChild(e.render()),this.container}}]),n}(o),g=function(){function t(e){_classCallCheck(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return _createClass(t,[{key:"render",value:function(){var t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);var e=document.createElement("div");e.className="popup";var n=this.color;n&&(e.style.backgroundColor=a.Util.makeCssRgb(0|.7*(255-n[0])+n[0],0|.7*(255-n[1])+n[1],0|.7*(255-n[2])+n[2]));var r=document.createElement("h1");r.textContent=this.title,e.appendChild(r);var o=i.PDFDateString.toDateObject(this.modificationDate);if(o){var s=document.createElement("span");s.textContent="{{date}}, {{time}}",s.dataset.l10nId="annotation_date_string",s.dataset.l10nArgs=JSON.stringify({date:o.toLocaleDateString(),time:o.toLocaleTimeString()}),e.appendChild(s)}var c=this._formatContents(this.contents);return e.appendChild(c),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),e.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(e),t}},{key:"_formatContents",value:function(t){for(var e=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/),i=0,a=n.length;i<a;++i)e.appendChild(document.createTextNode(n[i])),i<a-1&&e.appendChild(document.createElement("br"));return e}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),t}(),b=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),n.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),n.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),n.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),e.appendChild(n),this.container.append(e),this._createPopup(this.container,n,t),this.container}}]),n}(o),y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),a=t.borderStyle.width,r=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",a/2),r.setAttribute("y",a/2),r.setAttribute("width",e-a),r.setAttribute("height",n-a),r.setAttribute("stroke-width",a||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","none"),i.appendChild(r),this.container.append(i),this._createPopup(this.container,r,t),this.container}}]),n}(o),_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),a=t.borderStyle.width,r=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-a/2),r.setAttribute("ry",n/2-a/2),r.setAttribute("stroke-width",a||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","none"),i.appendChild(r),this.container.append(i),this._createPopup(this.container,r,t),this.container}}]),n}(o),k=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)).containerClassName="polylineAnnotation",i.svgElementName="svg:polyline",i}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),i=[],a=_createForOfIteratorHelper(e.vertices);try{for(a.s();!(t=a.n()).done;){var r=t.value;i.push(r.x-e.rect[0]+","+(e.rect[3]-r.y))}}catch(s){a.e(s)}finally{a.f()}i=i.join(" ");var o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",i),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),n.appendChild(o),this.container.append(n),this._createPopup(this.container,o,e),this.container}}]),n}(o),C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).containerClassName="polygonAnnotation",i.svgElementName="svg:polygon",i}return n}(k),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)).containerClassName="inkAnnotation",i.svgElementName="svg:polyline",i}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),i=_createForOfIteratorHelper(e.inkLists);try{for(i.s();!(t=i.n()).done;){var a,r=t.value,o=[],s=_createForOfIteratorHelper(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;o.push("".concat(c.x-e.rect[0],",").concat(e.rect[3]-c.y))}}catch(u){s.e(u)}finally{s.f()}o=o.join(" ");var l=this.svgFactory.createElement(this.svgElementName);l.setAttribute("points",o),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","none"),this._createPopup(this.container,l,e),n.appendChild(l)}}catch(u){i.e(u)}finally{i.f()}return this.container.append(n),this.container}}]),n}(o),O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),M=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),I=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t,!!(t.data.hasPopup||t.data.title||t.data.contents),!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(o),P=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;_classCallCheck(this,n);var o=(r=e.call(this,t,!0)).data.file,s=o.filename,c=o.content;return r.filename=(0,i.getFilenameFromUrl)(s),r.content=c,r.linkService.eventBus&&r.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(r),id:(0,a.stringToPDFString)(s),filename:s,content:c}),r}return _createClass(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,a.warn)("Download cannot be started due to unavailable download manager")}}]),n}(o);e.AnnotationLayer=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"render",value:function(t){var e,n=[],o=[],s=_createForOfIteratorHelper(t.annotations);try{for(s.s();!(e=s.n()).done;){var c=e.value;c&&(c.annotationType!==a.AnnotationType.POPUP?n.push(c):o.push(c))}}catch(h){s.e(h)}finally{s.f()}o.length&&n.push.apply(n,o);for(var l=0,u=n;l<u.length;l++){var d=u[l],f=r.create({data:d,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:t.renderInteractiveForms||!1,svgFactory:new i.DOMSVGFactory});f.isRenderable&&t.div.appendChild(f.render())}}},{key:"update",value:function(t){var e,n=_createForOfIteratorHelper(t.annotations);try{for(n.s();!(e=n.n()).done;){var i=e.value,a=t.div.querySelector('[data-annotation-id="'.concat(i.id,'"]'));a&&(a.style.transform="matrix(".concat(t.viewport.transform.join(","),")"))}}catch(r){n.e(r)}finally{n.f()}t.div.removeAttribute("hidden")}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(1),a=n(4),r=n(7),o=function(){throw new Error("Not implemented: SVGGraphics")};e.SVGGraphics=o;var s=function(t){if(Number.isInteger(t))return t.toString();var e=t.toFixed(10),n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)},c=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(s(t[0])," ").concat(s(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2])return"rotate(".concat(s(180*Math.acos(t[0])/Math.PI),")")}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(s(t[4])," ").concat(s(t[5]),")");return"matrix(".concat(s(t[0])," ").concat(s(t[1])," ").concat(s(t[2])," ").concat(s(t[3])," ").concat(s(t[4])," ")+s(t[5])+")"},l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/1999/xlink",d=["butt","round","square"],f=["miter","round","bevel"],h=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256),n=0;n<256;n++){for(var a=n,o=0;o<8;o++)a=1&a?3988292384^a>>1&2147483647:a>>1&2147483647;e[n]=a}function s(t,n,i,a){var r=a,o=n.length;i[r]=o>>24&255,i[r+1]=o>>16&255,i[r+2]=o>>8&255,i[r+3]=255&o,i[r+=4]=255&t.charCodeAt(0),i[r+1]=255&t.charCodeAt(1),i[r+2]=255&t.charCodeAt(2),i[r+3]=255&t.charCodeAt(3),r+=4,i.set(n,r);var s=function(t,n,i){for(var a=-1,r=n;r<i;r++)a=a>>>8^e[255&(a^t[r])];return-1^a}(i,a+4,r+=n.length);i[r]=s>>24&255,i[r+1]=s>>16&255,i[r+2]=s>>8&255,i[r+3]=255&s}function c(t){var e=t.length,n=Math.ceil(e/65535),i=new Uint8Array(2+e+5*n+4),a=0;i[a++]=120,i[a++]=156;for(var r=0;e>65535;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(t.subarray(r,r+65535),a),a+=65535,r+=65535,e-=65535;i[a++]=1,i[a++]=255&e,i[a++]=e>>8&255,i[a++]=255&~e,i[a++]=(65535&~e)>>8&255,i.set(t.subarray(r),a),a+=t.length-r;var o=function(t,e,n){for(var i=1,a=0,r=0;r<n;++r)a=(a+(i=(i+(255&t[r]))%65521))%65521;return a<<16|i}(t,0,t.length);return i[a++]=o>>24&255,i[a++]=o>>16&255,i[a++]=o>>8&255,i[a++]=255&o,i}return function(e,n,a){return function(e,n,a,o){var l,u,d,f=e.width,h=e.height,p=e.data;switch(n){case i.ImageKind.GRAYSCALE_1BPP:u=0,l=1,d=f+7>>3;break;case i.ImageKind.RGB_24BPP:u=2,l=8,d=3*f;break;case i.ImageKind.RGBA_32BPP:u=6,l=8,d=4*f;break;default:throw new Error("invalid format")}for(var m=new Uint8Array((1+d)*h),g=0,b=0,v=0;v<h;++v)m[g++]=0,m.set(p.subarray(b,b+d),g),b+=d,g+=d;if(n===i.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(var y=0;y<h;y++){g++;for(var _=0;_<d;_++)m[g++]^=255}}var k=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,h>>24&255,h>>16&255,h>>8&255,255&h,l,u,0,0,0]),C=function(t){if(!r.isNodeJS)return c(t);try{var e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);var n=__webpack_require__(1).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(a){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+a)}return c(t)}(m),x=new Uint8Array(t.length+36+k.length+C.length),w=0;return x.set(t,w),s("IHDR",k,x,w+=t.length),s("IDATA",C,x,w+=12+k.length),w+=12+C.length,s("IEND",new Uint8Array(0),x,w),(0,i.createObjectURL)(x,"image/png",a)}(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,n,a)}}(),p=function(){function t(){_classCallCheck(this,t),this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}(),m=0,g=0,b=0;e.SVGGraphics=o=function(){function t(e,n,r){for(var o in _classCallCheck(this,t),this.svgFactory=new a.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r,this._operatorIdMapping=[],i.OPS)this._operatorIdMapping[i.OPS[o]]=o}return _createClass(t,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(t){this.save(),this.executeOpTree(t),this.restore()}},{key:"loadDependencies",value:function(t){for(var e=this,n=t.fnArray,a=t.argsArray,r=0,o=n.length;r<o;r++)if(n[r]===i.OPS.dependency){var s,c=_createForOfIteratorHelper(a[r]);try{var l=function(){var t=s.value,n=t.startsWith("g_")?e.commonObjs:e.objs,i=new Promise((function(e){n.get(t,e)}));e.current.dependencies.push(i)};for(c.s();!(s=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(t,e,n,a,r,o){this.transformMatrix=i.Util.transform(this.transformMatrix,[t,e,n,a,r,o]),this.tgrp=null}},{key:"getSVG",value:function(t,e){var n=this;this.viewport=e;var a=this._initialize(e);return this.loadDependencies(t).then((function(){return n.transformMatrix=i.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(t)),a}))}},{key:"convertOpList",value:function(t){for(var e=this._operatorIdMapping,n=t.argsArray,i=t.fnArray,a=[],r=0,o=i.length;r<o;r++){var s=i[r];a.push({fnId:s,fn:e[s],args:n[r]})}return function(t){var e,n=[],i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;"save"!==r.fn?"restore"===r.fn?n=i.pop():n.push(r):(n.push({fnId:92,fn:"group",items:[]}),i.push(n),n=n[n.length-1].items)}}catch(o){a.e(o)}finally{a.f()}return n}(a)}},{key:"executeOpTree",value:function(t){var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=a.fn,o=a.args;switch(0|a.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(o);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case i.OPS.setFont:this.setFont(o);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(o[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(o[0],o[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case i.OPS.setHScale:this.setHScale(o[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case i.OPS.setTextRise:this.setTextRise(o[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case i.OPS.setLineWidth:this.setLineWidth(o[0]);break;case i.OPS.setLineJoin:this.setLineJoin(o[0]);break;case i.OPS.setLineCap:this.setLineCap(o[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case i.OPS.setFillColorN:this.setFillColorN(o);break;case i.OPS.shadingFill:this.shadingFill(o[0]);break;case i.OPS.setDash:this.setDash(o[0],o[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case i.OPS.setFlatness:this.setFlatness(o[0]);break;case i.OPS.setGState:this.setGState(o[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintJpegXObject:this.paintJpegXObject(o[0],o[1],o[2]);break;case i.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case i.OPS.constructPath:this.constructPath(o[0],o[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,i.warn)("Unimplemented operator "+r)}}}catch(s){n.e(s)}finally{n.f()}}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(t,e,n,i,a,r){var o=this.current;o.textMatrix=o.lineMatrix=[t,e,n,i,a,r],o.textMatrixScale=Math.sqrt(t*t+e*e),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",s(o.fontSize)+"px"),o.tspan.setAttributeNS(null,"y",s(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[]}},{key:"moveText",value:function(t,e){var n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",s(n.fontSize)+"px"),n.tspan.setAttributeNS(null,"y",s(-n.y))}},{key:"showText",value:function(t){var e=this.current,n=e.font,a=e.fontSize;if(0!==a){var r,o=e.charSpacing,u=e.wordSpacing,d=e.fontDirection,f=e.textHScale*d,h=n.vertical,p=a*e.fontMatrix[0],m=0,g=_createForOfIteratorHelper(t);try{for(g.s();!(r=g.n()).done;){var b=r.value;if(null!==b)if((0,i.isNum)(b))m+=-b*a*.001;else{var v=b.fontChar,y=b.width*p+((b.isSpace?u:0)+o)*d;b.isInFont||n.missingFile?(e.xcoords.push(e.x+m),e.tspan.textContent+=v,m+=y):m+=y}else m+=d*u}}catch(C){g.e(C)}finally{g.f()}h?e.y-=m*f:e.x+=m*f,e.tspan.setAttributeNS(null,"x",e.xcoords.map(s).join(" ")),e.tspan.setAttributeNS(null,"y",s(-e.y)),e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",s(e.fontSize)+"px"),e.fontStyle!==l.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==l.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);var _=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;_===i.TextRenderingMode.FILL||_===i.TextRenderingMode.FILL_STROKE?(e.fillColor!==l.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.tspan.setAttributeNS(null,"fill",e.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(_===i.TextRenderingMode.STROKE||_===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(e.tspan,1/(e.textMatrixScale||1));var k=e.textMatrix;0!==e.textRise&&((k=k.slice())[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(c(k)," scale(").concat(s(f),", -1)")),e.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"addFontStyle",value:function(t){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var e=(0,i.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'"; src: url(').concat(e,"); }\n")}},{key:"setFont",value:function(t){var e=this.current,n=this.commonObjs.get(t[0]),a=t[1];e.font=n,this.embedFonts&&n.data&&!this.embeddedFonts[n.loadedName]&&(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX;var r="normal";n.black?r="900":n.bold&&(r="bold");var o=n.italic?"italic":"normal";a<0?(a=-a,e.fontDirection=-1):e.fontDirection=1,e.fontSize=a,e.fontFamily=n.loadedName,e.fontWeight=r,e.fontStyle=o,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",s(-e.y)),e.xcoords=[]}},{key:"endText",value:function(){var t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function(t){this.current.lineCap=d[t]}},{key:"setLineJoin",value:function(t){this.current.lineJoin=f[t]}},{key:"setMiterLimit",value:function(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function(t,e,n){this.current.strokeColor=i.Util.makeCssRgb(t,e,n)}},{key:"setFillAlpha",value:function(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function(t,e,n){this.current.fillColor=i.Util.makeCssRgb(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function(t){var e=this.viewport.width,n=this.viewport.height,a=i.Util.inverseTransform(this.transformMatrix),r=i.Util.applyTransform([0,0],a),o=i.Util.applyTransform([0,n],a),s=i.Util.applyTransform([e,0],a),c=i.Util.applyTransform([e,n],a),l=Math.min(r[0],o[0],s[0],c[0]),u=Math.min(r[1],o[1],s[1],c[1]),d=Math.max(r[0],o[0],s[0],c[0]),f=Math.max(r[1],o[1],s[1],c[1]),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",l),h.setAttributeNS(null,"y",u),h.setAttributeNS(null,"width",d-l),h.setAttributeNS(null,"height",f-u),h.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this._ensureTransformGroup().appendChild(h)}},{key:"_makeColorN_Pattern",value:function(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function(t){var e=t[1],n=t[2],a=t[3]||i.IDENTITY_MATRIX,r=_slicedToArray(t[4],4),o=r[0],s=r[1],c=r[2],l=r[3],u=t[5],d=t[6],f=t[7],h="shading"+b++,p=_slicedToArray(i.Util.applyTransform([o,s],a),2),m=p[0],g=p[1],v=_slicedToArray(i.Util.applyTransform([c,l],a),2),y=v[0],_=v[1],k=_slicedToArray(i.Util.singularValueDecompose2dScale(a),2),C=u*k[0],x=d*k[1],w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",h),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",C),w.setAttributeNS(null,"height",x),w.setAttributeNS(null,"x",""+m),w.setAttributeNS(null,"y",""+g);var O=this.svg,S=this.transformMatrix,E=this.current.fillColor,M=this.current.strokeColor,I=this.svgFactory.create(y-m,_-g);if(this.svg=I,this.transformMatrix=a,2===f){var P,T=(P=i.Util).makeCssRgb.apply(P,_toConsumableArray(e));this.current.fillColor=T,this.current.strokeColor=T}return this.executeOpTree(this.convertOpList(n)),this.svg=O,this.transformMatrix=S,this.current.fillColor=E,this.current.strokeColor=M,w.appendChild(I.childNodes[0]),this.defs.appendChild(w),"url(#".concat(h,")")}},{key:"_makeShadingPattern",value:function(t){switch(t[0]){case"RadialAxial":var e,n="shading"+b++,a=t[3];switch(t[1]){case"axial":var r=t[4],o=t[5];(e=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",r[0]),e.setAttributeNS(null,"y1",r[1]),e.setAttributeNS(null,"x2",o[0]),e.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=t[4],c=t[5],l=t[6],u=t[7];(e=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",c[0]),e.setAttributeNS(null,"cy",c[1]),e.setAttributeNS(null,"r",u),e.setAttributeNS(null,"fx",s[0]),e.setAttributeNS(null,"fy",s[1]),e.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: "+t[1])}var d,f=_createForOfIteratorHelper(a);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=this.svgFactory.createElement("svg:stop");p.setAttributeNS(null,"offset",h[0]),p.setAttributeNS(null,"stop-color",h[1]),e.appendChild(p)}}catch(m){f.e(m)}finally{f.f()}return this.defs.appendChild(e),"url(#".concat(n,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: "+t[0])}}},{key:"setDash",value:function(t,e){this.current.dashArray=t,this.current.dashPhase=e}},{key:"constructPath",value:function(t,e){var n,a=this.current,r=a.x,o=a.y,c=[],l=0,u=_createForOfIteratorHelper(t);try{for(u.s();!(n=u.n()).done;){switch(0|n.value){case i.OPS.rectangle:r=e[l++],o=e[l++];var d=r+e[l++],f=o+e[l++];c.push("M",s(r),s(o),"L",s(d),s(o),"L",s(d),s(f),"L",s(r),s(f),"Z");break;case i.OPS.moveTo:r=e[l++],o=e[l++],c.push("M",s(r),s(o));break;case i.OPS.lineTo:r=e[l++],o=e[l++],c.push("L",s(r),s(o));break;case i.OPS.curveTo:r=e[l+4],o=e[l+5],c.push("C",s(e[l]),s(e[l+1]),s(e[l+2]),s(e[l+3]),s(r),s(o)),l+=6;break;case i.OPS.curveTo2:c.push("C",s(r),s(o),s(e[l]),s(e[l+1]),s(e[l+2]),s(e[l+3])),r=e[l+2],o=e[l+3],l+=4;break;case i.OPS.curveTo3:r=e[l+2],o=e[l+3],c.push("C",s(e[l]),s(e[l+1]),s(r),s(o),s(r),s(o)),l+=4;break;case i.OPS.closePath:c.push("Z")}}}catch(h){u.e(h)}finally{u.f()}c=c.join(" "),a.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?c=a.path.getAttributeNS(null,"d")+c:(a.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(a.path)),a.path.setAttributeNS(null,"d",c),a.path.setAttributeNS(null,"fill","none"),a.element=a.path,a.setCurrentPoint(r,o)}},{key:"endPath",value:function(){var t=this.current;if(t.path=null,this.pendingClip)if(t.element){var e="clippath"+m++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",c(this.transformMatrix));var i=t.element.cloneNode(!0);i.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(i),this.defs.appendChild(n),t.activeClipUrl&&(t.clipGroup=null,this.extraStack.forEach((function(t){t.clipGroup=null})),n.setAttributeNS(null,"clip-path",t.activeClipUrl)),t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(t){this.pendingClip=t}},{key:"closePath",value:function(){var t=this.current;if(t.path){var e=t.path.getAttributeNS(null,"d")+"Z";t.path.setAttributeNS(null,"d",e)}}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var a=_slicedToArray(e.value,2),r=a[0],o=a[1];switch(r){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,i.warn)("Unimplemented graphic state operator "+r)}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,i=n.dashArray;1!==e&&i.length>0&&(i=i.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",s(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",s(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",i.map(s).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",s(e*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}},{key:"paintJpegXObject",value:function(t,e,n){var i=this.objs.get(t),a=this.svgFactory.createElement("svg:image");a.setAttributeNS(u,"xlink:href",i.src),a.setAttributeNS(null,"width",s(e)),a.setAttributeNS(null,"height",s(n)),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",s(-n)),a.setAttributeNS(null,"transform","scale(".concat(s(1/e)," ").concat(s(-1/n),")")),this._ensureTransformGroup().appendChild(a)}},{key:"paintImageXObject",value:function(t){var e=this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(t,e){var n=t.width,i=t.height,a=h(t,this.forceDataSchema,!!e),r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width",s(n)),r.setAttributeNS(null,"height",s(i)),this.current.element=r,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS(u,"xlink:href",a),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",s(-i)),o.setAttributeNS(null,"width",s(n)+"px"),o.setAttributeNS(null,"height",s(i)+"px"),o.setAttributeNS(null,"transform","scale(".concat(s(1/n)," ").concat(s(-1/i),")")),e?e.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(t){var e=this.current,n=t.width,i=t.height,a=e.fillColor;e.maskId="mask"+g++;var r=this.svgFactory.createElement("svg:mask");r.setAttributeNS(null,"id",e.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",s(n)),o.setAttributeNS(null,"height",s(i)),o.setAttributeNS(null,"fill",a),o.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.appendChild(r),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(t,r)}},{key:"paintFormXObjectBegin",value:function(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){var n=e[2]-e[0],i=e[3]-e[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",e[0]),a.setAttributeNS(null,"y",e[1]),a.setAttributeNS(null,"width",s(n)),a.setAttributeNS(null,"height",s(i)),this.current.element=a,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(t){var e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.appendChild(n),this.defs=n;var i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",c(t.transform)),e.appendChild(i),this.svg=i,e}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=n(1),a=n(20),r=__webpack_require__(2),o=__webpack_require__(3),s=__webpack_require__(4),c=__webpack_require__(5),l=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=function(){function t(e){var n,i;_classCallCheck(this,t),this.source=e,this.url=(n=e.url,"file:"===(i=c.parse(n)).protocol||i.host?i:/^[a-z]:[/\\]/i.test(n)?c.parse("file:///"+n):(i.host||(i.protocol="file:"),i)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new m(this):new h(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=this.isFsUrl?new g(this,t,e):new p(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();var u=function(){function t(e){_classCallCheck(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:return e=this._readableStream.read(),t.abrupt("return",null===e?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}(),d=function(){function t(e){_classCallCheck(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!e.source.disableStream}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:return e=this._readableStream.read(),t.abrupt("return",null===e?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}();function f(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}var h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;_classCallCheck(this,n);var c=function(e){if(404===e.statusCode){var n=new i.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(e);var o=function(t){return r._readableStream.headers[t.toLowerCase()]},s=(0,a.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:t.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),c=s.allowRangeRequests,l=s.suggestedLength;r._isRangeSupported=c,r._contentLength=l||r._contentLength,r._filename=(0,a.extractFilenameFromHeader)(o)};return(r=e.call(this,t))._request=null,r._request="http:"===r._url.protocol?o.request(f(r._url,t.httpHeaders),c):s.request(f(r._url,t.httpHeaders),c),r._request.on("error",(function(t){r._storedError=t,r._headersCapability.reject(t)})),r._request.end(),r}return n}(u),p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,r){var c;for(var l in _classCallCheck(this,n),(c=e.call(this,t))._httpHeaders={},t.httpHeaders){var u=t.httpHeaders[l];void 0!==u&&(c._httpHeaders[l]=u)}c._httpHeaders.Range="bytes=".concat(a,"-").concat(r-1);var d=function(t){if(404!==t.statusCode)c._setReadableStream(t);else{var e=new i.MissingPDFException('Missing PDF "'.concat(c._url,'".'));c._storedError=e}};return c._request=null,c._request="http:"===c._url.protocol?o.request(f(c._url,c._httpHeaders),d):s.request(f(c._url,c._httpHeaders),d),c._request.on("error",(function(t){c._storedError=t})),c._request.end(),c}return n}(d),m=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var a;_classCallCheck(this,n),a=e.call(this,t);var o=decodeURIComponent(a._url.path);return l.test(a._url.href)&&(o=o.replace(/^\//,"")),r.lstat(o,(function(t,e){if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException('Missing PDF "'.concat(o,'".'))),a._storedError=t,void a._headersCapability.reject(t);a._contentLength=e.size,a._setReadableStream(r.createReadStream(o)),a._headersCapability.resolve()})),a}return n}(u),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var o;_classCallCheck(this,n),o=e.call(this,t);var s=decodeURIComponent(o._url.path);return l.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(r.createReadStream(s,{start:i,end:a-1})),o}return n}(d)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+e+'".'):new i.UnexpectedResponseException("Unexpected server response ("+t+') while retrieving PDF "'+e+'".',t)},e.extractFilenameFromHeader=function(t){var e=t("Content-Disposition");if(e){var n=(0,a.getFilenameFromContentDispositionHeader)(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(i){}if(/\.pdf$/i.test(n))return n}return null},e.validateRangeRequestCapabilities=function(t){var e=t.getResponseHeader,n=t.isHttp,a=t.rangeChunkSize,r=t.disableRange;(0,i.assert)(a>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);return Number.isInteger(s)?(o.suggestedLength=s,s<=2*a||r||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o):o},e.validateResponseStatus=function(t){return 200===t||206===t};var i=n(1),a=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){var e=!0,n=r("filename\\*","i").exec(t);if(n){var i=c(n=n[1]);return s(i=u(i=l(i=unescape(i))))}if(n=function(t){for(var e,n=[],i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(e=i.exec(t));){var a=_slicedToArray(e,4),o=a[1],s=a[2],u=a[3];if((o=parseInt(o,10))in n){if(0===o)break}else n[o]=[s,u]}for(var d=[],f=0;f<n.length&&f in n;++f){var h=_slicedToArray(n[f],2),p=h[0],m=h[1];m=c(m),p&&(m=unescape(m),0===f&&(m=l(m))),d.push(m)}return d.join("")}(t))return s(u(n));if(n=r("filename","i").exec(t)){var a=c(n=n[1]);return s(a=u(a))}function r(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function o(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(t,{fatal:!0}),a=Array.from(n,(function(t){return 255&t.charCodeAt(0)}));n=i.decode(new Uint8Array(a)),e=!1}catch(r){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),e=!1}catch(o){}}}return n}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=o("utf-8",t),e&&(t=o("iso-8859-1",t))),t}function c(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),n=0;n<e.length;++n){var i=e[n].indexOf('"');-1!==i&&(e[n]=e[n].slice(0,i),e.length=n+1),e[n]=e[n].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){var e=t.indexOf("'");return-1===e?t:o(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function u(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return o(e,i=(i=i.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{i=atob(i)}catch(a){}return o(e,i)}))}return""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=n(1),a=n(20),r=function(){function t(e,n){_classCallCheck(this,t),this.url=e,n=n||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(t,[{key:"requestRange",value:function(t,e,n){var i={begin:t,end:e};for(var a in n)i[a]=n[a];return this.request(i)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};for(var a in e.open("GET",this.url),e.withCredentials=this.withCredentials,this.httpHeaders){var r=this.httpHeaders[a];void 0!==r&&e.setRequestHeader(a,r)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}},{key:"onProgress",value:function(t,e){var n=this.pendingRequests[t];n&&n.onProgress&&n.onProgress(e)}},{key:"onStateChange",value:function(t,e){var n=this.pendingRequests[t];if(n){var a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===a.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===a.status&&this.isHttp)n.onError&&n.onError(a.status);else{var r=a.status||200;if(200===r&&206===n.expectedStatus||r===n.expectedStatus){var o=function(t){var e=t.response;return"string"!=typeof e?e:(0,i.stringToBytes)(e).buffer}(a);if(206===r){var s=a.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(c[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(a.status)}else n.onError&&n.onError(a.status)}}}},{key:"hasPendingRequests",value:function(){for(var t in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var t in this.pendingRequests)this.abortRequest(0|t)}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}]),t}();e.PDFNetworkStream=function(){function t(e){_classCallCheck(this,t),this._source=e,this._manager=new r(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var n=new s(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}}]),t}();var o=function(){function t(e,n){_classCallCheck(this,t),this._manager=e;var a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(a),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return _createClass(t,[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=function(t){return e.getResponseHeader(t)},i=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),r=i.allowRangeRequests,o=i.suggestedLength;r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(t){var e=(0,a.createResponseStatusError)(t,this._url);this._storedError=e,this._headersReceivedCapability.reject(e),this._requests.forEach((function(t){t.reject(e)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=4;break}return t.abrupt("return",{value:this._cachedChunks.shift(),done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return e=(0,i.createPromiseCapability)(),t.abrupt("return",(this._requests.push(e),e.promise));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),t}(),s=function(){function t(e,n,i){_classCallCheck(this,t),this._manager=e;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(n,i,a),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var e;return _createClass(t,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(t){var e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}},{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===this._queuedChunk){t.next=3;break}return e=this._queuedChunk,t.abrupt("return",(this._queuedChunk=null,{value:e,done:!1}));case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,i.createPromiseCapability)(),t.abrupt("return",(this._requests.push(n),n.promise));case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=n(1),a=n(20);function r(t,e,n){return{method:"GET",headers:t,signal:n&&n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function o(t){var e=new Headers;for(var n in t){var i=t[n];void 0!==i&&e.append(n,i)}return e}e.PDFFetchStream=function(){function t(e){_classCallCheck(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new s(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new c(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();var s=function(){function t(e){var n=this;_classCallCheck(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var s=e.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=o(this._stream.httpHeaders);var c=s.url;fetch(c,r(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,c);n._reader=t.body.getReader(),n._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=(0,a.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),o=r.allowRangeRequests,s=r.suggestedLength;n._isRangeSupported=o,n._contentLength=s||n._contentLength,n._filename=(0,a.extractFilenameFromHeader)(e),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new i.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:return e=t.sent,n=e.value,i=e.done,t.abrupt("return",i?{value:n,done:i}:(this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(n).buffer,done:!1}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}(),c=function(){function t(e,n,s){var c=this;_classCallCheck(this,t),this._stream=e,this._reader=null,this._loaded=0;var l=e.source;this._withCredentials=l.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!l.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=o(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(s-1));var u=l.url;fetch(u,r(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,u);c._readCapability.resolve(),c._reader=t.body.getReader()})),this.onProgress=null}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:return e=t.sent,n=e.value,i=e.done,t.abrupt("return",i?{value:n,done:i}:(this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(n).buffer,done:!1}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}()}])},module.exports=factory()},louq:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,(function(e){return t[e]}).bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return i.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return i.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return a.DefaultTextLayerFactory}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return a.TextLayerBuilder}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return r.NullL10n}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return s.DownloadManager}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return l.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return d.PDFPageView}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return f.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return h.PDFViewer}});var i=n(1),a=n(5),r=n(3),o=n(4),s=n(6),c=n(7),l=n(9),u=n(11),d=n(12),f=n(15),h=n(17)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultAnnotationLayerFactory=e.AnnotationLayerBuilder=void 0;var i=n(2),a=n(3),r=n(4),o=function(){function t(e){var n=e.pageDiv,i=e.pdfPage,r=e.linkService,o=e.downloadManager,s=e.imageResourcesPath,c=void 0===s?"":s,l=e.renderInteractiveForms,u=void 0!==l&&l,d=e.l10n,f=void 0===d?a.NullL10n:d;_classCallCheck(this,t),this.pageDiv=n,this.pdfPage=i,this.linkService=r,this.downloadManager=o,this.imageResourcesPath=c,this.renderInteractiveForms=u,this.l10n=f,this.div=null,this._cancelled=!1}return _createClass(t,[{key:"render",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";this.pdfPage.getAnnotations({intent:n}).then((function(n){if(!e._cancelled){var a={viewport:t.clone({dontFlip:!0}),div:e.div,annotations:n,page:e.pdfPage,imageResourcesPath:e.imageResourcesPath,renderInteractiveForms:e.renderInteractiveForms,linkService:e.linkService,downloadManager:e.downloadManager};if(e.div)i.AnnotationLayer.update(a);else{if(0===n.length)return;e.div=document.createElement("div"),e.div.className="annotationLayer",e.pageDiv.appendChild(e.div),a.div=e.div,i.AnnotationLayer.render(a),e.l10n.translate(e.div)}}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),t}();e.AnnotationLayerBuilder=o,e.DefaultAnnotationLayerFactory=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createAnnotationLayerBuilder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.NullL10n;return new o({pageDiv:t,pdfPage:e,imageResourcesPath:n,renderInteractiveForms:i,linkService:new r.SimpleLinkService,l10n:s})}}]),t}()},function(t,e,i){"use strict";var a;a="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n("lRFz"),t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidRotation=function(t){return Number.isInteger(t)&&t%90==0},e.isValidScrollMode=function(t){return Number.isInteger(t)&&Object.values(i).includes(t)&&t!==i.UNKNOWN},e.isValidSpreadMode=function(t){return Number.isInteger(t)&&Object.values(s).includes(t)&&t!==s.UNKNOWN},e.isPortraitOrientation=function(t){return t.width<=t.height},e.getGlobalEventBus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return console.error("getGlobalEventBus is deprecated, use a manually created EventBus instance instead."),p||(p=new h({dispatchToDOM:t})),p},e.clamp=m,e.getPDFFileNameFromURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(function(t){for(var e=0,n=t.length;e<n&&""===t[e].trim();)e++;return"data:"===t.substring(e,e+5).toLowerCase()}(t))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),e;var n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t),a=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=n.exec(decodeURIComponent(a))[0]}catch(r){}return a||e},e.noContextMenuHandler=function(t){t.preventDefault()},e.parseQueryString=function(t){for(var e=t.split("&"),n=Object.create(null),i=0,a=e.length;i<a;++i){var r=e[i].split("="),o=r[0].toLowerCase(),s=r.length>1?r[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},e.backtrackBeforeAllVisibleElements=l,e.getVisibleElements=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.scrollTop,r=a+t.clientHeight,o=t.scrollLeft,s=o+t.clientWidth,u=[],d=e.length,f=0===d?0:c(e,i?function(t){var e=t.div;return e.offsetLeft+e.clientLeft+e.clientWidth>o}:function(t){var e=t.div;return e.offsetTop+e.clientTop+e.clientHeight>a});f>0&&f<d&&!i&&(f=l(f,e,a));for(var h=i?s:-1,p=f;p<d;p++){var m=e[p],g=m.div,b=g.offsetLeft+g.clientLeft,v=g.offsetTop+g.clientTop,y=g.clientWidth,_=g.clientHeight,k=b+y,C=v+_;if(-1===h)C>=r&&(h=C);else if((i?b:v)>h)break;if(!(C<=a||v>=r||k<=o||b>=s)){var x=Math.max(0,a-v)+Math.max(0,C-r),w=Math.max(0,o-b)+Math.max(0,k-s);u.push({id:m.id,x:b,y:v,view:m,percent:(_-x)*(y-w)*100/_/y|0})}}var O=u[0],S=u[u.length-1];return n&&u.sort((function(t,e){var n=t.percent-e.percent;return Math.abs(n)>.001?-n:t.id-e.id})),{first:O,last:S,views:u}},e.roundToDivide=function(t,e){var n=t%e;return 0===n?t:Math.round(t-n+e)},e.getPageSizeInches=function(t){var e=t.view,n=t.userUnit,i=t.rotate,a=_slicedToArray(e,4),r=a[0],o=a[1],s=i%180!=0,c=(a[2]-r)/72*n,l=(a[3]-o)/72*n;return{width:s?l:c,height:s?c:l}},e.approximateFraction=function(t){if(Math.floor(t)===t)return[t,1];var e=1/t;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];for(var n=t>1?e:t,i=0,a=1,r=1,o=1;;){var s=i+r,c=a+o;if(c>8)break;n<=s/c?(r=s,o=c):(i=s,a=c)}return n-i/a<r/o-n?n===t?[i,a]:[a,i]:n===t?[r,o]:[o,r]},e.getOutputScale=function(t){var e=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1);return{sx:e,sy:e,scaled:1!==e}},e.scrollIntoView=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.offsetParent;if(i){for(var a=t.offsetTop+t.clientTop,r=t.offsetLeft+t.clientLeft;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(a/=i.dataset._scaleY,r/=i.dataset._scaleX),a+=i.offsetTop,r+=i.offsetLeft,!(i=i.offsetParent))return;e&&(void 0!==e.top&&(a+=e.top),void 0!==e.left&&(r+=e.left,i.scrollLeft=r)),i.scrollTop=a}else console.error("offsetParent is not set -- cannot scroll")},e.watchScroll=function(t,e){var n=function(n){a||(a=window.requestAnimationFrame((function(){a=null;var n=t.scrollLeft,r=i.lastX;n!==r&&(i.right=n>r),i.lastX=n;var o=t.scrollTop,s=i.lastY;o!==s&&(i.down=o>s),i.lastY=o,e(i)})))},i={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:n},a=null;return t.addEventListener("scroll",n,!0),i},e.binarySearchFirstItem=c,e.normalizeWheelEventDelta=function(t){var e=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY),n=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(e=-e),0===t.deltaMode?e/=900:1===t.deltaMode&&(e/=30),e},e.waitOnEventOrTimeout=function(t){var e=t.target,n=t.name,i=t.delay,a=void 0===i?0:i;return new Promise((function(t,i){if("object"!=typeof e||!n||"string"!=typeof n||!(Number.isInteger(a)&&a>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function r(i){e instanceof h?e._off(n,o):e.removeEventListener(n,o),c&&clearTimeout(c),t(i)}var o=r.bind(null,u.EVENT);e instanceof h?e._on(n,o):e.addEventListener(n,o);var s=r.bind(null,u.TIMEOUT),c=setTimeout(s,a)}))},e.moveToEndOfArray=function(t,e){for(var n=[],i=t.length,a=0,r=0;r<i;++r)e(t[r])?n.push(t[r]):(t[a]=t[r],++a);for(var o=0;a<i;++o,++a)t[a]=n[o]},e.WaitOnType=e.animationStarted=e.ProgressBar=e.EventBus=e.NullL10n=e.SpreadMode=e.ScrollMode=e.TextLayerMode=e.RendererType=e.PresentationModeState=e.VERTICAL_PADDING=e.SCROLLBAR_PADDING=e.MAX_AUTO_SCALE=e.UNKNOWN_SCALE=e.MAX_SCALE=e.MIN_SCALE=e.DEFAULT_SCALE=e.DEFAULT_SCALE_VALUE=e.CSS_UNITS=e.AutoPrintRegExp=void 0,e.CSS_UNITS=96/72,e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5,e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var i={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};e.ScrollMode=i;var a,r,o,s={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function c(t,e){var n=0,i=t.length-1;if(0===t.length||!e(t[i]))return t.length;if(e(t[n]))return n;for(;n<i;){var a=n+i>>1;e(t[a])?i=a:n=a+1}return n}function l(t,e,n){if(t<2)return t;var i=e[t].div,a=i.offsetTop+i.clientTop;a>=n&&(a=(i=e[t-1].div).offsetTop+i.clientTop);for(var r=t-2;r>=0&&!((i=e[r].div).offsetTop+i.clientTop+i.clientHeight<=a);--r)t=r;return t}e.SpreadMode=s,e.AutoPrintRegExp=/\bprint\s*\(/,e.NullL10n={getLanguage:(o=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","en-us");case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)}),getDirection:(r=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","ltr");case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),get:(a=_asyncToGenerator(regeneratorRuntime.mark((function t(e,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(t,n){return n in e?e[n]:"{{"+n+"}}"})):t}(i,n));case 1:case"end":return t.stop()}}),t)}))),function(t,e,n){return a.apply(this,arguments)}),translate:function(t){return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}};var u={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=u;var d=new Promise((function(t){window.requestAnimationFrame(t)}));function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.create(null);if(e&&e.length>0){var i=e[0];for(var a in i){var r=i[a];if("source"!==a)n[a]=r;else if(r===window||r===document)return}}var o=document.createEvent("CustomEvent");o.initCustomEvent(t,!0,!0,n),document.dispatchEvent(o)}e.animationStarted=d;var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.dispatchToDOM,i=void 0!==n&&n;_classCallCheck(this,t),this._listeners=Object.create(null),this._dispatchToDOM=!0===i,i&&console.error("The `eventBusDispatchToDOM` option/preference is deprecated, add event listeners to the EventBus instance rather than the DOM.")}return _createClass(t,[{key:"on",value:function(t,e){this._on(t,e,{external:!0})}},{key:"off",value:function(t,e){this._off(t,e,{external:!0})}},{key:"dispatch",value:function(t){var e=this._listeners[t];if(e&&0!==e.length){var n,i=Array.prototype.slice.call(arguments,1);e.slice(0).forEach((function(t){var e=t.listener;if(t.external)return n||(n=[]),void n.push(e);e.apply(null,i)})),n&&(n.forEach((function(t){t.apply(null,i)})),n=null),this._dispatchToDOM&&f(t,i)}else this._dispatchToDOM&&f(t,Array.prototype.slice.call(arguments,1))}},{key:"_on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this._listeners[t];i||(this._listeners[t]=i=[]),i.push({listener:e,external:!0===(n&&n.external)})}},{key:"_off",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this._listeners[t];if(n)for(var i=0,a=n.length;i<a;i++)if(n[i].listener===e)return void n.splice(i,1)}}]),t}();e.EventBus=h;var p=null;function m(t,e,n){return Math.min(Math.max(t,e),n)}e.ProgressBar=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.height,a=n.width,r=n.units;_classCallCheck(this,t),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=i||100,this.width=a||100,this.units=r||"%",this.div.style.height=this.height+this.units,this.percent=0}return _createClass(t,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(t){if(t){var e=t.parentNode.offsetWidth-t.offsetWidth;e>0&&(this.bar.style.width="calc(100% - ".concat(e,"px)"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(t){this._indeterminate=isNaN(t),this._percent=m(t,0,100),this._updateBar()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=void 0;var i=n(3);e.PDFLinkService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.eventBus,a=e.externalLinkTarget,r=void 0===a?null:a,o=e.externalLinkRel,s=void 0===o?null:o,c=e.externalLinkEnabled,l=void 0===c||c,u=e.ignoreDestinationZoom,d=void 0!==u&&u;_classCallCheck(this,t),this.eventBus=n||(0,i.getGlobalEventBus)(),this.externalLinkTarget=r,this.externalLinkRel=s,this.externalLinkEnabled=l,this._ignoreDestinationZoom=d,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return _createClass(t,[{key:"setDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=e,this.pdfDocument=t,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setHistory",value:function(t){this.pdfHistory=t}},{key:"navigateTo",value:function(t){var e=this;new Promise((function(n,i){"string"!=typeof t?n({namedDest:"",explicitDest:t}):e.pdfDocument.getDestination(t).then((function(e){n({namedDest:t,explicitDest:e})}))})).then((function(n){Array.isArray(n.explicitDest)?function n(i){var a,r=i.namedDest,o=i.explicitDest,s=o[0];if(s instanceof Object){if(null===(a=e._cachedPageNumber(s)))return void e.pdfDocument.getPageIndex(s).then((function(t){e.cachePageRef(t+1,s),n({namedDest:r,explicitDest:o})})).catch((function(){console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not a valid page reference, for dest="').concat(t,'".'))}))}else{if(!Number.isInteger(s))return void console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not a valid destination reference, for dest="').concat(t,'".'));a=s+1}!a||a<1||a>e.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(a,'" is not a valid page number, for dest="').concat(t,'".')):(e.pdfHistory&&(e.pdfHistory.pushCurrentPosition(),e.pdfHistory.push({namedDest:r,explicitDest:o,pageNumber:a})),e.pdfViewer.scrollPageIntoView({pageNumber:a,destArray:o,ignoreDestinationZoom:e._ignoreDestinationZoom}))}(n):console.error('PDFLinkService.navigateTo: "'.concat(n.explicitDest,'" is not a valid destination array, for dest="').concat(t,'".'))}))}},{key:"getDestinationHash",value:function(t){if("string"==typeof t)return this.getAnchorUrl("#"+escape(t));if(Array.isArray(t)){var e=JSON.stringify(t);return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(t){return(this.baseUrl||"")+t}},{key:"setHash",value:function(t){var e,n;if(t.includes("=")){var a=(0,i.parseQueryString)(t);if("search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)return void this.navigateTo(a.nameddest);if("page"in a&&(e=0|a.page||1),"zoom"in a){var r=a.zoom.split(","),o=r[0],s=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},r.length>1?0|r[1]:null]:"FitR"===o?5!==r.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:o},0|r[1],0|r[2],0|r[3],0|r[4]]:console.error('PDFLinkService.setHash: "'.concat(o,'" is not a valid zoom value.')):n=[null,{name:"XYZ"},r.length>1?0|r[1]:null,r.length>2?0|r[2]:null,s?s/100:o]}n?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:n,allowNegativeOffset:!0}):e&&(this.page=e),"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{n=unescape(t);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(c){}if("string"==typeof n||function(t){if(!Array.isArray(t))return!1;var e=t.length;if(e<2)return!1;var n=t[0];if(!("object"==typeof n&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;var i=t[1];if("object"!=typeof i||"string"!=typeof i.name)return!1;var a=!0;switch(i.name){case"XYZ":if(5!==e)return!1;break;case"Fit":case"FitB":return 2===e;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==e)return!1;break;case"FitR":if(6!==e)return!1;a=!1;break;default:return!1}for(var r=2;r<e;r++){var o=t[r];if(!("number"==typeof o||a&&null===o))return!1}return!0}(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(t),'" is not a valid destination.'))}}},{key:"executeNamedAction",value:function(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"cachePageRef",value:function(t,e){e&&(this._pagesRefCache[0===e.gen?e.num+"R":"".concat(e.num,"R").concat(e.gen)]=t)}},{key:"_cachedPageNumber",value:function(t){return this._pagesRefCache&&this._pagesRefCache[0===t.gen?t.num+"R":"".concat(t.num,"R").concat(t.gen)]||null}},{key:"isPageVisible",value:function(t){return this.pdfViewer.isPageVisible(t)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(t){this.pdfViewer.pagesRotation=t}}]),t}(),e.SimpleLinkService=function(){function t(){_classCallCheck(this,t),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return _createClass(t,[{key:"navigateTo",value:function(t){}},{key:"getDestinationHash",value:function(t){return"#"}},{key:"getAnchorUrl",value:function(t){return"#"}},{key:"setHash",value:function(t){}},{key:"executeNamedAction",value:function(t){}},{key:"cachePageRef",value:function(t,e){}},{key:"isPageVisible",value:function(t){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(t){}},{key:"rotation",get:function(){return 0},set:function(t){}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultTextLayerFactory=e.TextLayerBuilder=void 0;var i=n(3),a=n(2),r=function(){function t(e){var n=e.textLayerDiv,a=e.eventBus,r=e.pageIndex,o=e.viewport,s=e.findController,c=void 0===s?null:s,l=e.enhanceTextSelection,u=void 0!==l&&l;_classCallCheck(this,t),this.textLayerDiv=n,this.eventBus=a||(0,i.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=r,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=o,this.textDivs=[],this.findController=c,this.textLayerRenderTask=null,this.enhanceTextSelection=u,this._onUpdateTextLayerMatches=null,this._bindMouse()}return _createClass(t,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,a.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){t.textLayerDiv.appendChild(n),t._finishRendering(),t._updateMatches()}),(function(t){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(e){e.pageIndex!==t.pageIdx&&-1!==e.pageIndex||t._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(t){this.cancel(),this.textContentStream=t}},{key:"setTextContent",value:function(t){this.cancel(),this.textContent=t}},{key:"_convertMatches",value:function(t,e){if(!t)return[];for(var n=this.findController,i=this.textContentItemsStr,a=0,r=0,o=i.length-1,s=n.state.query.length,c=[],l=0,u=t.length;l<u;l++){for(var d=t[l];a!==o&&d>=r+i[a].length;)r+=i[a].length,a++;a===i.length&&console.error("Could not find a matching mapping");var f={begin:{divIdx:a,offset:d-r}};for(d+=e?e[l]:s;a!==o&&d>r+i[a].length;)r+=i[a].length,a++;f.end={divIdx:a,offset:d-r},c.push(f)}return c}},{key:"_renderMatches",value:function(t){if(0!==t.length){var e=this.findController,n=this.pageIdx,i=this.textContentItemsStr,a=this.textDivs,r=n===e.selected.pageIdx,o=e.selected.matchIdx,s=null,c=o,l=c+1;if(e.state.highlightAll)c=0,l=t.length;else if(!r)return;for(var u=c;u<l;u++){var d=t[u],f=d.begin,h=d.end,p=r&&u===o,m=p?" selected":"";if(p&&e.scrollMatchIntoView({element:a[f.divIdx],pageIndex:n,matchIndex:o}),s&&f.divIdx===s.divIdx?y(s.divIdx,s.offset,f.offset):(null!==s&&y(s.divIdx,s.offset,void 0),v(f)),f.divIdx===h.divIdx)y(f.divIdx,f.offset,h.offset,"highlight"+m);else{y(f.divIdx,f.offset,void 0,"highlight begin"+m);for(var g=f.divIdx+1,b=h.divIdx;g<b;g++)a[g].className="highlight middle"+m;v(h,"highlight end"+m)}s=h}s&&y(s.divIdx,s.offset,void 0)}function v(t,e){var n=t.divIdx;a[n].textContent="",y(n,0,t.offset,e)}function y(t,e,n,r){var o=a[t],s=i[t].substring(e,n),c=document.createTextNode(s);if(r){var l=document.createElement("span");return l.className=r,l.appendChild(c),void o.appendChild(l)}o.appendChild(c)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var t=this.findController,e=this.matches,n=this.pageIdx,i=this.textContentItemsStr,a=this.textDivs,r=-1,o=0,s=e.length;o<s;o++){for(var c=e[o],l=Math.max(r,c.begin.divIdx),u=c.end.divIdx;l<=u;l++){var d=a[l];d.textContent=i[l],d.className=""}r=c.end.divIdx+1}t&&t.highlightMatches&&(this.matches=this._convertMatches(t.pageMatches[n]||null,t.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var t=this,e=this.textLayerDiv,n=null;e.addEventListener("mousedown",(function(i){if(t.enhanceTextSelection&&t.textLayerRenderTask)return t.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var a=e.querySelector(".endOfContent");if(a){var r=i.target!==e;if(r=r&&"none"!==window.getComputedStyle(a).getPropertyValue("-moz-user-select")){var o=e.getBoundingClientRect(),s=Math.max(0,(i.pageY-o.top)/o.height);a.style.top=(100*s).toFixed(2)+"%"}a.classList.add("active")}})),e.addEventListener("mouseup",(function(){if(t.enhanceTextSelection&&t.textLayerRenderTask)n=setTimeout((function(){t.textLayerRenderTask&&t.textLayerRenderTask.expandTextDivs(!1),n=null}),300);else{var i=e.querySelector(".endOfContent");i&&(i.style.top="",i.classList.remove("active"))}}))}}]),t}();e.TextLayerBuilder=r,e.DefaultTextLayerFactory=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createTextLayerBuilder",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return new r({textLayerDiv:t,pageIndex:e,viewport:n,enhanceTextSelection:i,eventBus:a})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var i=n(2),a=i.apiCompatibilityParams.disableCreateObjectURL||!1;function r(t,e){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=t,n.target="_parent","download"in n&&(n.download=e),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}e.DownloadManager=function(){function t(e){var n=e.disableCreateObjectURL,i=void 0===n?a:n;_classCallCheck(this,t),this.disableCreateObjectURL=i}return _createClass(t,[{key:"downloadUrl",value:function(t,e){(0,i.createValidAbsoluteUrl)(t,"http://example.com")&&r(t+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(t,e,n){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([t],{type:n}),e):r((0,i.createObjectURL)(t,n,this.disableCreateObjectURL),e)}},{key:"download",value:function(t,e,n){navigator.msSaveBlob?navigator.msSaveBlob(t,n)||this.downloadUrl(e,n):this.disableCreateObjectURL?this.downloadUrl(e,n):r(URL.createObjectURL(t),n)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0,n(8);var i=document.webL10n;e.GenericL10n=function(){function t(e){_classCallCheck(this,t),this._lang=e,this._ready=new Promise((function(t,n){i.setLanguage(e,(function(){t(i)}))}))}var e,n,a,r;return _createClass(t,[{key:"getLanguage",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.getLanguage());case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getDirection",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.getDirection());case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"get",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function t(e,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.get(e,n,i));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,i){return n.apply(this,arguments)})},{key:"translate",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.translate(e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}()},function(t,e,n){"use strict";document.webL10n=function(t,e,n){var i={},a="",r="textContent",o="",s={},c="loading";function l(t,e,n){e=e||function(t){},n=n||function(){};var i=new XMLHttpRequest;i.open("GET",t,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?e(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(a){n()}}function u(t,e,n){var a=i[t];if(!a){if(console.warn("#"+t+" is undefined."),!n)return null;a=n}var r={};for(var o in a){var s=a[o];s=f(s=d(s,e,t,o),e,t),r[o]=s}return r}function d(t,e,n,a){var r=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(t);if(!r||!r.length)return t;var o,c=r[1],l=r[2];return e&&l in e?o=e[l]:l in i&&(o=i[l]),c in s&&(t=(0,s[c])(t,o,n,a)),t}function f(t,e,n){return t.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(t,a){return e&&a in e?e[a]:a in i?i[a]:(console.log("argument {{"+a+"}} for #"+n+" is undefined."),t)}))}function h(t){var n=function(t){if(!t)return{};var e=t.getAttribute("data-l10n-id"),n=t.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(a){console.warn("could not parse arguments for #"+e)}return{id:e,args:i}}(t);if(n.id){var i=u(n.id,n.args);if(i){if(i[r]){if(0===function(t){if(t.children)return t.children.length;if(void 0!==t.childElementCount)return t.childElementCount;for(var e=0,n=0;n<t.childNodes.length;n++)e+=1===t.nodeType?1:0;return e}(t))t[r]=i[r];else{for(var a=t.childNodes,o=!1,s=0,c=a.length;s<c;s++)3===a[s].nodeType&&/\S/.test(a[s].nodeValue)&&(o?a[s].nodeValue="":(a[s].nodeValue=i[r],o=!0));if(!o){var l=e.createTextNode(i[r]);t.insertBefore(l,t.firstChild)}}delete i[r]}for(var d in i)t[d]=i[d]}else console.warn("#"+n.id+" is undefined.")}}return s.plural=function(t,e,n,a){var c=parseFloat(e);if(isNaN(c))return t;if(a!=r)return t;s._pluralRules||(s._pluralRules=function(t){function e(t,e){return-1!==e.indexOf(t)}function n(t,e,n){return e<=t&&t<=n}var i={0:function(t){return"other"},1:function(t){return n(t%100,3,10)?"few":0===t?"zero":n(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function(t){return 1==t?"one":"other"},4:function(t){return n(t,0,1)?"one":"other"},5:function(t){return n(t,0,2)&&2!=t?"one":"other"},6:function(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function(t){return 2==t?"two":1==t?"one":"other"},8:function(t){return n(t,3,6)?"few":n(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function(t){return 0===t||1!=t&&n(t%100,1,19)?"few":1==t?"one":"other"},10:function(t){return n(t%10,2,9)&&!n(t%100,11,19)?"few":t%10!=1||n(t%100,11,19)?"other":"one"},11:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":t%10==0||n(t%10,5,9)||n(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function(t){return n(t,2,4)?"few":1==t?"one":"other"},13:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":1!=t&&n(t%10,0,1)||n(t%10,5,9)||n(t%100,12,14)?"many":1==t?"one":"other"},14:function(t){return n(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function(t){return 0===t||n(t%100,2,10)?"few":n(t%100,11,19)?"many":1==t?"one":"other"},16:function(t){return t%10==1&&11!=t?"one":"other"},17:function(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function(t){return 0===t?"zero":n(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function(t){return n(t,2,10)?"few":n(t,0,1)?"one":"other"},20:function(t){return!n(t%10,3,4)&&t%10!=9||n(t%100,10,19)||n(t%100,70,79)||n(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||e(t%100,[12,72,92])?t%10!=1||e(t%100,[11,71,91])?"other":"one":"two":"few"},21:function(t){return 0===t?"zero":1==t?"one":"other"},22:function(t){return n(t,0,1)||n(t,11,99)?"one":"other"},23:function(t){return n(t%10,1,2)||t%20==0?"one":"other"},24:function(t){return n(t,3,10)||n(t,13,19)?"few":e(t,[2,12])?"two":e(t,[1,11])?"one":"other"}},a={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[t.replace(/-.*$/,"")];return a in i?i[a]:(console.warn("plural form unknown for ["+t+"]"),function(){return"other"})}(o));var l="["+s._pluralRules(c)+"]";return 0===c&&n+"[zero]"in i?t=i[n+"[zero]"][a]:1==c&&n+"[one]"in i?t=i[n+"[one]"][a]:2==c&&n+"[two]"in i?t=i[n+"[two]"][a]:n+l in i?t=i[n+l][a]:n+"[other]"in i&&(t=i[n+"[other]"][a]),t},{get:function(t,e,n){var i,a=t.lastIndexOf("."),o=r;a>0&&(o=t.substring(a+1),t=t.substring(0,a)),n&&((i={})[o]=n);var s=u(t,e,i);return s&&o in s?s[o]:"{{"+t+"}}"},getData:function(){return i},getText:function(){return a},getLanguage:function(){return o},setLanguage:function(t,n){!function(t,n){t&&(t=t.toLowerCase()),n=n||function(){},i={},a="",o="",o=t;var s=e.querySelectorAll('link[type="application/l10n"]'),u=s.length;if(0!==u){var d,f,h=0;f=function(){++h>=u&&(n(),c="complete")};for(var p=0;p<u;p++)new v(s[p]).load(t,f)}else{var m=(d=e.querySelector('script[type="application/l10n"]'))?JSON.parse(d.innerHTML):null;if(m&&m.locales&&m.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(i=m.locales[t])){var g=m.default_locale.toLowerCase();for(var b in m.locales){if((b=b.toLowerCase())===t){i=m.locales[t];break}b===g&&(i=m.locales[g])}}n()}else console.log("no resource to load, early way out");c="complete"}function v(t){var e=t.href;this.load=function(t,n){!function(t,e,n,o){var s=t.replace(/[^\/]*$/,"")||"./";function c(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(t,(function(t){a+=t,function(t,a){var o={},u=/^\s*|\s*$/,d=/^\s*#|^\s*$/,f=/^\s*\[(.*)\]\s*$/,h=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function m(t,n,i){var a=t.replace(u,"").split(/[\r\n]+/),r="*",l=e.split("-",1)[0],m=!1,b="";!function t(){for(;;){if(!a.length)return void i();var u=a.shift();if(!d.test(u)){if(n){if(b=f.exec(u)){r=b[1].toLowerCase(),m="*"!==r&&r!==e&&r!==l;continue}if(m)continue;if(b=h.exec(u))return void g(s+b[1],t)}var v=u.match(p);v&&3==v.length&&(o[v[1]]=c(v[2]))}}}()}function g(t,e){l(t,(function(t){m(t,!1,e)}),(function(){console.warn(t+" not found."),e()}))}m(t,!0,(function(){!function(t){for(var e in t){var a,o,s=e.lastIndexOf(".");s>0?(a=e.substring(0,s),o=e.substring(s+1)):(a=e,o=r),i[a]||(i[a]={}),i[a][o]=t[e]}n&&n()}(o)}))}(t)}),o)}(e,t,n,(function(){console.warn(e+" not found."),console.warn('"'+t+'" resource not found'),o="",n()}))}}}(t,(function(){n&&n()}))},getDirection:function(){var t=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function(t){for(var n=function(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}(t=t||e.documentElement),i=n.length,a=0;a<i;a++)h(n[a]);h(t)},getReadyState:function(){return c},ready:function(n){n&&("complete"==c||"interactive"==c?t.setTimeout((function(){n()})):e.addEventListener&&e.addEventListener("localized",(function t(){e.removeEventListener("localized",t),n()})))}}}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var i=n(3),a=n(2),r=n(10),o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=o;var s={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},c=null;function l(t){if(!c){var e=Object.keys(s).join("");c=new RegExp("[".concat(e,"]"),"g")}return t.replace(c,(function(t){return s[t]}))}e.PDFFindController=function(){function t(e){var n=e.linkService,a=e.eventBus;_classCallCheck(this,t),this._linkService=n,this._eventBus=a||(0,i.getGlobalEventBus)(),this._reset(),a._on("findbarclose",this._onFindBarClose.bind(this))}return _createClass(t,[{key:"setDocument",value:function(t){this._pdfDocument&&this._reset(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(t,e){var n=this;if(e){var i=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,e))&&(this._dirtyMatch=!0),this._state=e,"findhighlightallchange"!==t&&this._updateUIState(o.PENDING),this._firstPageCapability.promise.then((function(){if(n._pdfDocument&&(!i||n._pdfDocument===i)){n._extractText();var e=!n._highlightMatches,a=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===t?n._findTimeout=setTimeout((function(){n._nextMatch(),n._findTimeout=null}),250):n._dirtyMatch?n._nextMatch():"findagain"===t?(n._nextMatch(),e&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===t?(a?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(t){var e=t.element,n=void 0===e?null:e,a=t.pageIndex,r=void 0===a?-1:a,o=t.matchIndex,s=void 0===o?-1:o;this._scrollMatches&&n&&-1!==s&&s===this._selected.matchIdx&&-1!==r&&r===this._selected.pageIdx&&(this._scrollMatches=!1,(0,i.scrollIntoView)(n,{top:-50,left:-400},!0))}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,a.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(t,e){if(e.query!==this._state.query)return!0;switch(t){case"findagain":var n=this._selected.pageIdx+1,i=this._linkService;return n>=1&&n<=i.pagesCount&&n!==i.page&&!i.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(t,e,n){function i(e){var n=t[e];if(e<t.length-1&&n.match===t[e+1].match)return n.skipped=!0,!0;for(var i=e-1;i>=0;i--){var a=t[i];if(!a.skipped){if(a.match+a.matchLength<n.match)break;if(a.match+a.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}t.sort((function(t,e){return t.match===e.match?t.matchLength-e.matchLength:t.match-e.match}));for(var a=0,r=t.length;a<r;a++)i(a)||(e.push(t[a].match),n.push(t[a].matchLength))}},{key:"_isEntireWord",value:function(t,e,n){if(e>0){var i=t.charCodeAt(e),a=t.charCodeAt(e-1);if((0,r.getCharacterType)(i)===(0,r.getCharacterType)(a))return!1}var o=e+n-1;if(o<t.length-1){var s=t.charCodeAt(o),c=t.charCodeAt(o+1);if((0,r.getCharacterType)(s)===(0,r.getCharacterType)(c))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(t,e,n,i){for(var a=[],r=t.length,o=-r;-1!==(o=n.indexOf(t,o+r));)i&&!this._isEntireWord(n,o,r)||a.push(o);this._pageMatches[e]=a}},{key:"_calculateWordMatch",value:function(t,e,n,i){for(var a=[],r=t.match(/\S+/g),o=0,s=r.length;o<s;o++)for(var c=r[o],l=c.length,u=-l;-1!==(u=n.indexOf(c,u+l));)i&&!this._isEntireWord(n,u,l)||a.push({match:u,matchLength:l,skipped:!1});this._pageMatchesLength[e]=[],this._pageMatches[e]=[],this._prepareMatches(a,this._pageMatches[e],this._pageMatchesLength[e])}},{key:"_calculateMatch",value:function(t){var e=this._pageContents[t],n=this._query,i=this._state,a=i.caseSensitive,r=i.entireWord,o=i.phraseSearch;if(0!==n.length){a||(e=e.toLowerCase(),n=n.toLowerCase()),o?this._calculatePhraseMatch(n,t,e,r):this._calculateWordMatch(n,t,e,r),this._state.highlightAll&&this._updatePage(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[t].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var t=this;if(!(this._extractTextPromises.length>0))for(var e=Promise.resolve(),n=function(n,i){var r=(0,a.createPromiseCapability)();t._extractTextPromises[i]=r.promise,e=e.then((function(){return t._pdfDocument.getPage(i+1).then((function(t){return t.getTextContent({normalizeWhitespace:!0})})).then((function(e){for(var n=e.items,a=[],o=0,s=n.length;o<s;o++)a.push(n[o].str);t._pageContents[i]=l(a.join("")),r.resolve(i)}),(function(e){console.error("Unable to get text content for page "+(i+1),e),t._pageContents[i]="",r.resolve(i)}))}))},i=0,r=this._linkService.pagesCount;i<r;i++)n(0,i)}},{key:"_updatePage",value:function(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var t=this,e=this._state.findPrevious,n=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var a=0;a<i;a++)!0!==this._pendingFindMatches[a]&&(this._pendingFindMatches[a]=!0,this._extractTextPromises[a].then((function(e){delete t._pendingFindMatches[e],t._calculateMatch(e)})))}if(""!==this._query){if(!this._resumePageIdx){var r=this._offset;if(this._pagesToSearch=i,null!==r.matchIdx){var s=this._pageMatches[r.pageIdx].length;if(!e&&r.matchIdx+1<s||e&&r.matchIdx>0)return r.matchIdx=e?r.matchIdx-1:r.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(e)}this._nextPageMatch()}}else this._updateUIState(o.FOUND)}},{key:"_matchesReady",value:function(t){var e=this._offset,n=t.length,i=this._state.findPrevious;return n?(e.matchIdx=i?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var e=this._offset.pageIdx;if(!(t=this._pageMatches[e])){this._resumePageIdx=e;break}}while(!this._matchesReady(t))}},{key:"_advanceOffsetPage",value:function(t){var e=this._offset,n=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=n||e.pageIdx<0)&&(e.pageIdx=t?n-1:0,e.wrapped=!0)}},{key:"_updateMatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=o.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,t){var i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=n?o.WRAPPED:o.FOUND,-1!==i&&i!==this._selected.pageIdx&&this._updatePage(i)}this._updateUIState(e,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(t){var e=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!e._pdfDocument||n&&e._pdfDocument!==n||(e._findTimeout&&(clearTimeout(e._findTimeout),e._findTimeout=null),e._resumePageIdx&&(e._resumePageIdx=null,e._dirtyMatch=!0),e._updateUIState(o.FOUND),e._highlightMatches=!1,e._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var t=this._selected,e=t.pageIdx,n=t.matchIdx,i=0,a=this._matchesCountTotal;if(-1!==n){for(var r=0;r<e;r++)i+=this._pageMatches[r]&&this._pageMatches[r].length||0;i+=n+1}return(i<1||i>a)&&(i=a=0),{current:i,total:a}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(t,e){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:e,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=l(this._state.query)),this._normalizedQuery}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharacterType=function(t){return function(t){return t<11904}(t)?function(t){return 0==(65408&t)}(t)?function(t){return 32===t||9===t||13===t||10===t}(t)?i.SPACE:function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function(t){return t>=48&&t<=57}(t)||95===t?i.ALPHA_LETTER:i.PUNCT:function(t){return 3584==(65408&t)}(t)?i.THAI_LETTER:160===t?i.SPACE:i.ALPHA_LETTER:function(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?i.HAN_LETTER:function(t){return t>=12448&&t<=12543}(t)?i.KATAKANA_LETTER:function(t){return t>=12352&&t<=12447}(t)?i.HIRAGANA_LETTER:function(t){return t>=65376&&t<=65439}(t)?i.HALFWIDTH_KATAKANA_LETTER:i.ALPHA_LETTER},e.CharacterType=void 0;var i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDestHashesEqual=r,e.isDestArraysEqual=o,e.PDFHistory=void 0;var i=n(3);function a(){return document.location.hash}function r(t,e){return"string"==typeof t&&"string"==typeof e&&(t===e||(0,i.parseQueryString)(t).nameddest===e)}function o(t,e){function n(t,e){if(typeof t!=typeof e)return!1;if(Array.isArray(t)||Array.isArray(e))return!1;if(null!==t&&"object"==typeof t&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!n(t[i],e[i]))return!1;return!0}return t===e||Number.isNaN(t)&&Number.isNaN(e)}if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!n(t[i],e[i]))return!1;return!0}e.PDFHistory=function(){function t(e){var n=this,a=e.linkService,r=e.eventBus;_classCallCheck(this,t),this.linkService=a,this.eventBus=r||(0,i.getGlobalEventBus)(),this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",(function(t){n._isViewerInPresentationMode=t.active||t.switchInProgress})),this.eventBus._on("pagesinit",(function(){n._isPagesLoaded=!1;n.eventBus._on("pagesloaded",(function t(e){n.eventBus._off("pagesloaded",t),n._isPagesLoaded=!!e.pagesCount}))}))}return _createClass(t,[{key:"initialize",value:function(t){var e=t.fingerprint,n=t.resetHistory,i=void 0!==n&&n,r=t.updateUrl,o=void 0!==r&&r;if(e&&"string"==typeof e){this._initialized&&this.reset();var s=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===o,this._initialized=!0,this._bindEvents();var c=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(c,!0)||i){var l=this._parseCurrentHash(),u=l.hash,d=l.page,f=l.rotation;return!u||s||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:u,page:d,rotation:f},!0)}var h=c.destination;this._updateInternalState(h,c.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==h.rotation&&(this._initialRotation=h.rotation),h.dest?(this._initialBookmark=JSON.stringify(h.dest),this._destination.page=null):h.hash?this._initialBookmark=h.hash:h.page&&(this._initialBookmark="page="+h.page)}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(t){var e=this,n=t.namedDest,i=void 0===n?null:n,a=t.explicitDest,s=t.pageNumber;if(this._initialized)if(i&&"string"!=typeof i)console.error('PDFHistory.push: "'.concat(i,'" is not a valid namedDest parameter.'));else if(Array.isArray(a))if(Number.isInteger(s)&&s>0&&s<=this.linkService.pagesCount||null===s&&!this._destination){var c=i||JSON.stringify(a);if(c){var l=!1;if(this._destination&&(r(this._destination.hash,c)||o(this._destination.dest,a))){if(this._destination.page)return;l=!0}this._popStateInProgress&&!l||(this._pushOrReplaceState({dest:a,hash:c,page:s,rotation:this.linkService.rotation},l),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){e._popStateInProgress=!1}))))}}else console.error('PDFHistory.push: "'.concat(s,'" is not a valid pageNumber parameter.'));else console.error('PDFHistory.push: "'.concat(a,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n||!this._destination,a={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:t};if(this._updateInternalState(t,a.uid),this._updateUrl&&t&&t.hash){var r=document.location.href.split("#")[0];r.startsWith("file://")||(e="".concat(r,"#").concat(t.hash))}i?window.history.replaceState(a,"",e):(this._maxUid=this._uid,window.history.pushState(a,"",e))}},{key:"_tryPushCurrentPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var e=this._position;if(t&&((e=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(e,!0);else if(this._destination.hash!==e.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(e,n)}}else this._pushOrReplaceState(e)}}},{key:"_isValidState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!e)return!1;if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),i=_slicedToArray(n,1),a=i[0];if(!a||"reload"!==a.type)return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&null!==t.destination&&"object"==typeof t.destination}},{key:"_updateInternalState",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var t=unescape(a()).substring(1),e=0|(0,i.parseQueryString)(t).page;return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount||(e=null),{hash:t,page:e,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(t){var e=this,n=t.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page="+n.pageNumber:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout((function(){e._popStateInProgress||e._tryPushCurrentPosition(!0),e._updateViewareaTimeout=null}),1e3))}},{key:"_popState",value:function(t){var e=this,n=t.state,r=a(),o=this._currentHash!==r;if(this._currentHash=r,n){if(this._isValidState(n)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){e._blockHashChange--})));var s=n.destination;this._updateInternalState(s,n.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,i.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.navigateTo(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then((function(){e._popStateInProgress=!1}))}}else{this._uid++;var c=this._parseCurrentHash(),l=c.hash,u=c.page,d=c.rotation;this._pushOrReplaceState({hash:l,page:u,rotation:d},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var i=n(3),a=n(2),r=n(13),o=n(14).viewerCompatibilityParams.maxCanvasPixels||16777216;e.PDFPageView=function(){function t(e){_classCallCheck(this,t);var n=e.container,a=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||i.DEFAULT_SCALE,this.viewport=a,this.pdfPageRotate=a.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||o,this.eventBus=e.eventBus||(0,i.getGlobalEventBus)(),this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.renderer=e.renderer||i.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.l10n=e.l10n||i.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=r.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),this.div=s,n.appendChild(s)}return _createClass(t,[{key:"setPdfPage",value:function(t){this.pdfPage=t,this.pdfPageRotate=t.rotate,this.viewport=t.getViewport({scale:this.scale*i.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=t.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var e=this.zoomLayer.firstChild;this.paintedViewportMap.delete(e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(e),this.renderingState=r.RenderingStates.INITIAL;var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var i=n.childNodes,a=t&&this.zoomLayer||null,o=e&&this.annotationLayer&&this.annotationLayer.div||null,s=i.length-1;s>=0;s--){var c=i[s];a!==c&&o!==c&&n.removeChild(c)}n.removeAttribute("data-loaded"),o?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(t,e){if(this.scale=t||this.scale,void 0!==e&&(this.rotation=e),this.viewport=this.viewport.clone({scale:this.scale*i.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var n=!1;if(this.canvas&&this.maxCanvasPixels>0){var a=this.outputScale;(Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>this.maxCanvasPixels&&(n=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&n)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!t&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,i=this.viewport.height,a=this.div;t.style.width=t.parentNode.style.width=a.style.width=Math.floor(n)+"px",t.style.height=t.parentNode.style.height=a.style.height=Math.floor(i)+"px";var r=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,o=Math.abs(r),s=1,c=1;if(90!==o&&270!==o||(s=i/n,c=n/i),t.style.transform="rotate("+r+"deg) scale("+s+","+c+")",this.textLayer){var l=this.textLayer.viewport,u=Math.abs(this.viewport.rotation-l.rotation),d=n/l.width;90!==u&&270!==u||(d=n/l.height);var f,h,p=this.textLayer.textLayerDiv;switch(u){case 0:f=h=0;break;case 90:f=0,h="-"+p.style.height;break;case 180:f="-"+p.style.width,h="-"+p.style.height;break;case 270:f="-"+p.style.width,h=0;break;default:console.error("Bad rotation value.")}p.style.transform="rotate("+u+"deg) scale("+d+", "+d+") translate("+f+", "+h+")",p.style.transformOrigin="0% 0%"}e&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(t,e){return this.viewport.convertToPdfPoint(t,e)}},{key:"draw",value:function(){var t=this;this.renderingState!==r.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var e=this.div,n=this.pdfPage;if(!n)return this.renderingState=r.RenderingStates.FINISHED,this.loadingIconDiv&&(e.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=r.RenderingStates.RUNNING;var o=document.createElement("div");o.style.width=e.style.width,o.style.height=e.style.height,o.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?e.insertBefore(o,this.annotationLayer.div):e.appendChild(o);var s=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){var c=document.createElement("div");c.className="textLayer",c.style.width=o.style.width,c.style.height=o.style.height,this.annotationLayer&&this.annotationLayer.div?e.insertBefore(c,this.annotationLayer.div):e.appendChild(c),s=this.textLayerFactory.createTextLayerBuilder(c,this.id-1,this.viewport,this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=s;var l=null;this.renderingQueue&&(l=function(e){if(!t.renderingQueue.isHighestPriority(t))return t.renderingState=r.RenderingStates.PAUSED,void(t.resume=function(){t.renderingState=r.RenderingStates.RUNNING,e()});e()});var u=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function i(o){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(d===t.paintTask&&(t.paintTask=null),!(o instanceof a.RenderingCancelledException)){i.next=4;break}t.error=null,i.next=6;break;case 4:if(t.renderingState=r.RenderingStates.FINISHED,t.loadingIconDiv&&(e.removeChild(t.loadingIconDiv),delete t.loadingIconDiv),t._resetZoomLayer(!0),t.error=o,t.stats=n.stats,t.eventBus.dispatch("pagerendered",{source:t,pageNumber:t.id,cssTransform:!1,timestamp:performance.now()}),!o){i.next=6;break}throw o;case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),d=this.renderer===i.RendererType.SVG?this.paintOnSvg(o):this.paintOnCanvas(o);d.onRenderContinue=l,this.paintTask=d;var f=d.promise.then((function(){return u(null).then((function(){if(s){var t=n.streamTextContent({normalizeWhitespace:!0});s.setTextContentStream(t),s.render()}}))}),(function(t){return u(t)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(e,n,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),f}},{key:"paintOnCanvas",value:function(t){var e=(0,a.createPromiseCapability)(),n={promise:e.promise,onRenderContinue:function(t){t()},cancel:function(){m.cancel()}},r=this.viewport,o=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(t){o.setAttribute("aria-label",t)})),o.setAttribute("hidden","hidden");var s=!0,c=function(){s&&(o.removeAttribute("hidden"),s=!1)};t.appendChild(o),this.canvas=o,o.mozOpaque=!0;var l=o.getContext("2d",{alpha:!1}),u=(0,i.getOutputScale)(l);if(this.outputScale=u,this.useOnlyCssZoom){var d=r.clone({scale:i.CSS_UNITS});u.sx*=d.width/r.width,u.sy*=d.height/r.height,u.scaled=!0}if(this.maxCanvasPixels>0){var f=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));u.sx>f||u.sy>f?(u.sx=f,u.sy=f,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var h=(0,i.approximateFraction)(u.sx),p=(0,i.approximateFraction)(u.sy);o.width=(0,i.roundToDivide)(r.width*u.sx,h[0]),o.height=(0,i.roundToDivide)(r.height*u.sy,p[0]),o.style.width=(0,i.roundToDivide)(r.width,h[1])+"px",o.style.height=(0,i.roundToDivide)(r.height,p[1])+"px",this.paintedViewportMap.set(o,r);var m=this.pdfPage.render({canvasContext:l,transform:u.scaled?[u.sx,0,0,u.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return m.onContinue=function(t){c(),n.onRenderContinue?n.onRenderContinue(t):t()},m.promise.then((function(){c(),e.resolve(void 0)}),(function(t){c(),e.reject(t)})),n}},{key:"paintOnSvg",value:function(t){var e=this,n=!1,o=function(){if(n)throw new a.RenderingCancelledException("Rendering cancelled, page "+e.id,"svg")},s=this.pdfPage,c=this.viewport.clone({scale:i.CSS_UNITS});return{promise:s.getOperatorList().then((function(n){return o(),new a.SVGGraphics(s.commonObjs,s.objs).getSVG(n,c).then((function(n){o(),e.svg=n,e.paintedViewportMap.set(n,c),n.style.width=t.style.width,n.style.height=t.style.height,e.renderingState=r.RenderingStates.FINISHED,t.appendChild(n)}))})),onRenderContinue:function(t){t()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(t){this.pageLabel="string"==typeof t?t:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=e.RenderingStates=void 0;var i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};e.RenderingStates=i,e.PDFRenderingQueue=function(){function t(){_classCallCheck(this,t),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return _createClass(t,[{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(t,e,n){var i=t.views,a=i.length;if(0===a)return null;for(var r=0;r<a;++r){var o=i[r].view;if(!this.isViewFinished(o))return o}if(n){var s=t.last.id;if(e[s]&&!this.isViewFinished(e[s]))return e[s]}else{var c=t.first.id-2;if(e[c]&&!this.isViewFinished(e[c]))return e[c]}return null}},{key:"isViewFinished",value:function(t){return t.renderingState===i.FINISHED}},{key:"renderView",value:function(t){var e=this;switch(t.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case i.RUNNING:this.highestPriorityPage=t.renderingId;break;case i.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally((function(){e.renderHighestPriority()})).catch((function(t){console.error('renderView: "'.concat(t,'"'))}))}return!0}}]),t}()},function(t,e,n){"use strict";var i=Object.create(null),a="undefined"!=typeof navigator&&navigator.userAgent||"",r="undefined"!=typeof navigator&&navigator.platform||"",o="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,s=/Android/.test(a);(/\b(iPad|iPhone|iPod)(?=;)/.test(a)||"MacIntel"===r&&o>1||s)&&(i.maxCanvasPixels=5242880),e.viewerCompatibilityParams=Object.freeze(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFSinglePageViewer=void 0;var i=n(16),a=n(2);e.PDFSinglePageViewer=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).eventBus._on("pagesinit",(function(t){i._ensurePageViewVisible()})),i}return _createClass(n,[{key:"_resetView",value:function(){_get(_getPrototypeOf(n.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var t=this._pages[this._currentPageNumber-1],e=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(n[0]!==e.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===e)break;this._shadowViewer.appendChild(e.div),this.viewer.appendChild(t.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),_get(_getPrototypeOf(n.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(t){var e=this,i=t.pageDiv,a=t.pageSpot,r=void 0===a?null:a,o=t.pageNumber,s=void 0===o?null:o;s&&this._setCurrentPageNumber(s);var c=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),_get(_getPrototypeOf(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:i,pageSpot:r,pageNumber:s}),this._updateScrollDown=function(){e.scroll.down=c,e._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(t){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_setDocumentViewerElement",get:function(){return(0,a.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,a.shadow)(this,"_isScrollModeHorizontal",!1)}}]),n}(i.BaseViewer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewer=void 0;var i=n(3),a=n(13),r=n(1),o=n(2),s=n(12),c=n(4),l=n(5);function u(t){var e=[];this.push=function(n){var i=e.indexOf(n);i>=0&&e.splice(i,1),e.push(n),e.length>t&&e.shift().destroy()},this.resize=function(n,a){if(t=n,a){for(var r=new Set,o=0,s=a.length;o<s;++o)r.add(a[o].id);(0,i.moveToEndOfArray)(e,(function(t){return r.has(t.id)}))}for(;e.length>t;)e.shift().destroy()}}var d=function(){function t(e){var n=this;if(_classCallCheck(this,t),this.constructor===t)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.eventBus=e.eventBus||(0,i.getGlobalEventBus)(),this.linkService=e.linkService||new c.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms=e.renderInteractiveForms||!1,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||i.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||i.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((function(){n.eventBus.dispatch("baseviewerinit",{source:n})}))}return _createClass(t,[{key:"getPageView",value:function(t){return this._pages[t]}},{key:"_setCurrentPageNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===t?(e&&this._resetCurrentPageView(),!0):0<t&&t<=this.pagesCount&&(this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1]}),e&&this._resetCurrentPageView(),!0)}},{key:"setDocument",value:function(t){var e=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=t,t){var n=t.numPages,a=t.getPage(1);this._pagesCapability.promise.then((function(){e.eventBus.dispatch("pagesloaded",{source:e,pagesCount:n})})),this._onBeforeDraw=function(t){var n=e._pages[t.pageNumber-1];n&&e._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(t){t.cssTransform||e._onePageRenderedCapability.settled||(e._onePageRenderedCapability.resolve(),e.eventBus._off("pagerendered",e._onAfterDraw),e._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),a.then((function(a){e._firstPageCapability.resolve(a);for(var r=e.currentScale,o=a.getViewport({scale:r*i.CSS_UNITS}),c=e.textLayerMode!==i.TextLayerMode.DISABLE?e:null,l=1;l<=n;++l){var u=new s.PDFPageView({container:e._setDocumentViewerElement,eventBus:e.eventBus,id:l,scale:r,defaultViewport:o.clone(),renderingQueue:e.renderingQueue,textLayerFactory:c,textLayerMode:e.textLayerMode,annotationLayerFactory:e,imageResourcesPath:e.imageResourcesPath,renderInteractiveForms:e.renderInteractiveForms,renderer:e.renderer,enableWebGL:e.enableWebGL,useOnlyCssZoom:e.useOnlyCssZoom,maxCanvasPixels:e.maxCanvasPixels,l10n:e.l10n});e._pages.push(u)}var d=e._pages[0];d&&(d.setPdfPage(a),e.linkService.cachePageRef(1,a.ref)),e._spreadMode!==i.SpreadMode.NONE&&e._updateSpreadMode(),e._onePageRenderedCapability.promise.then((function(){if(e.findController&&e.findController.setDocument(t),t.loadingParams.disableAutoFetch||n>7500)e._pagesCapability.resolve();else{var i=n-1;if(i<=0)e._pagesCapability.resolve();else for(var a=function(n){t.getPage(n).then((function(t){var a=e._pages[n-1];a.pdfPage||a.setPdfPage(t),e.linkService.cachePageRef(n,t.ref),0==--i&&e._pagesCapability.resolve()}),(function(t){console.error("Unable to get page ".concat(n," to initialize viewer"),t),0==--i&&e._pagesCapability.resolve()}))},r=2;r<=n;++r)a(r)}})),e.eventBus.dispatch("pagesinit",{source:e}),e.defaultRenderingQueue&&e.update()})).catch((function(t){console.error("Unable to initialize viewer",t)}))}}},{key:"setPageLabels",value:function(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var e=0,n=this._pages.length;e<n;e++)this._pages[e].setPageLabel(this._pageLabels&&this._pageLabels[e])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new u(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,o.createPromiseCapability)(),this._onePageRenderedCapability=(0,o.createPromiseCapability)(),this._pagesCapability=(0,o.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(t){var e=t.pageDiv,n=t.pageSpot,a=void 0===n?null:n;t.pageNumber;(0,i.scrollIntoView)(e,a)}},{key:"_setScaleUpdatePages",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=e.toString(),function(t,e){return e===t||Math.abs(e-t)<1e-15}(this._currentScale,t))i&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});else{for(var a=0,r=this._pages.length;a<r;a++)this._pages[a].update(t);if(this._currentScale=t,!n){var o,s=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(s=this._location.pageNumber,o=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:o,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:i?e:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(t);if(n>0)this._setScaleUpdatePages(n,t,e,!1);else{var a,r=this._pages[this._currentPageNumber-1];if(!r)return;var o=this.isInPresentationMode||this.removePageBorders,s=o?0:i.SCROLLBAR_PADDING,c=o?0:i.VERTICAL_PADDING;!o&&this._isScrollModeHorizontal&&(s=(a=[c,s])[0],c=a[1]);var l=(this.container.clientWidth-s)/r.width*r.scale,u=(this.container.clientHeight-c)/r.height*r.scale;switch(t){case"page-actual":n=1;break;case"page-width":n=l;break;case"page-height":n=u;break;case"page-fit":n=Math.min(l,u);break;case"auto":var d=(0,i.isPortraitOrientation)(r)?l:Math.min(u,l);n=Math.min(i.MAX_AUTO_SCALE,d);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(t,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,t,e,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(t){var e=t.pageNumber,n=t.destArray,a=void 0===n?null:n,r=t.allowNegativeOffset,o=void 0!==r&&r,s=t.ignoreDestinationZoom,c=void 0!==s&&s;if(this.pdfDocument){var l=Number.isInteger(e)&&this._pages[e-1];if(l)if(!this.isInPresentationMode&&a){var u,d,f=0,h=0,p=0,m=0,g=l.rotation%180!=0,b=(g?l.height:l.width)/l.scale/i.CSS_UNITS,v=(g?l.width:l.height)/l.scale/i.CSS_UNITS,y=0;switch(a[1].name){case"XYZ":f=a[2],h=a[3],y=a[4],f=null!==f?f:0,h=null!==h?h:v;break;case"Fit":case"FitB":y="page-fit";break;case"FitH":case"FitBH":y="page-width",null===(h=a[2])&&this._location&&(f=this._location.left,h=this._location.top);break;case"FitV":case"FitBV":f=a[2],p=b,m=v,y="page-height";break;case"FitR":f=a[2],h=a[3],p=a[4]-f,m=a[5]-h,u=(this.container.clientWidth-(this.removePageBorders?0:i.SCROLLBAR_PADDING))/p/i.CSS_UNITS,d=(this.container.clientHeight-(this.removePageBorders?0:i.VERTICAL_PADDING))/m/i.CSS_UNITS,y=Math.min(Math.abs(u),Math.abs(d));break;default:return void console.error(this._name+".scrollPageIntoView: "+'"'.concat(a[1].name,'" is not a valid destination type.'))}if(c||(y&&y!==this._currentScale?this.currentScaleValue=y:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"!==y||a[4]){var _=[l.viewport.convertToViewportPoint(f,h),l.viewport.convertToViewportPoint(f+p,h+m)],k=Math.min(_[0][0],_[1][0]),C=Math.min(_[0][1],_[1][1]);o||(k=Math.max(k,0),C=Math.max(C,0)),this._scrollIntoView({pageDiv:l.div,pageSpot:{left:k,top:C},pageNumber:e})}else this._scrollIntoView({pageDiv:l.div,pageNumber:e})}else this._setCurrentPageNumber(e,!0);else console.error(this._name+".scrollPageIntoView: "+'"'.concat(e,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(t){var e=this._currentScale,n=this._currentScaleValue,i=parseFloat(n)===e?Math.round(1e4*e)/100:n,a=t.id,r="#page="+a;r+="&zoom="+i;var o=this.container,s=this._pages[a-1].getPagePoint(o.scrollLeft-t.x,o.scrollTop-t.y),c=Math.round(s[0]),l=Math.round(s[1]);r+=","+c+","+l,this._location={pageNumber:a,scale:i,top:l,left:c,rotation:this._pagesRotation,pdfOpenParams:r}}},{key:"_updateHelper",value:function(t){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var t=this._getVisiblePages(),e=t.views,n=e.length;if(0!==n){var i=Math.max(10,2*n+1);this._buffer.resize(i,e),this.renderingQueue.renderHighestPriority(t),this._updateHelper(e),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(t){return this.container.contains(t)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var t=this._pages[this._currentPageNumber-1],e=t.div,n={id:t.id,x:e.offsetLeft+e.clientLeft,y:e.offsetTop+e.clientTop,view:t};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,i.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(t){return!!this.pdfDocument&&(t<1||t>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(t,'" is out of bounds.')),!1):this._getVisiblePages().views.some((function(e){return e.id===t})))}},{key:"cleanup",value:function(){for(var t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].renderingState!==a.RenderingStates.FINISHED&&this._pages[t].reset()}},{key:"_cancelRendering",value:function(){for(var t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(t){var e=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var n=this.pdfDocument.getPage(t.id).then((function(n){return t.pdfPage||t.setPdfPage(n),e._pagesRequests.delete(t),n})).catch((function(n){console.error("Unable to get page for page view",n),e._pagesRequests.delete(t)}));return this._pagesRequests.set(t,n),n}},{key:"forceRendering",value:function(t){var e=this,n=t||this._getVisiblePages(),i=this.renderingQueue.getHighestPriority(n,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!i&&(this._ensurePdfPageLoaded(i).then((function(){e.renderingQueue.renderView(i)})),!0)}},{key:"createTextLayerBuilder",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return new l.TextLayerBuilder({textLayerDiv:t,eventBus:a,pageIndex:e,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}},{key:"createAnnotationLayerBuilder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.NullL10n;return new r.AnnotationLayerBuilder({pageDiv:t,pdfPage:e,imageResourcesPath:n,renderInteractiveForms:a,linkService:this.linkService,downloadManager:this.downloadManager,l10n:o})}},{key:"getPagesOverview",value:function(){var t=this._pages.map((function(t){var e=t.pdfPage.getViewport({scale:1});return{width:e.width,height:e.height,rotation:e.rotation}}));if(!this.enablePrintAutoRotate)return t;var e=(0,i.isPortraitOrientation)(t[0]);return t.map((function(t){return e===(0,i.isPortraitOrientation)(t)?t:{width:t.height,height:t.width,rotation:(t.rotation+90)%360}}))}},{key:"_updateScrollMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",e===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",e===i.ScrollMode.WRAPPED),this.pdfDocument&&t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(t,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var e=this.viewer,n=this._pages;if(e.textContent="",this._spreadMode===i.SpreadMode.NONE)for(var a=0,r=n.length;a<r;++a)e.appendChild(n[a].div);else for(var o=this._spreadMode-1,s=null,c=0,l=n.length;c<l;++c)null===s?((s=document.createElement("div")).className="spread",e.appendChild(s)):c%2===o&&(s=s.cloneNode(!1),e.appendChild(s)),s.appendChild(n[c].div);t&&(this._setCurrentPageNumber(t,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every((function(t){return t&&t.pdfPage}))}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(t,'" is not a valid page.')))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(t){if(this.pdfDocument){var e=0|t;if(this._pageLabels){var n=this._pageLabels.indexOf(t);n>=0&&(e=n+1)}this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(t,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(t){this.pdfDocument&&this._setScale(t,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(t){if(!(0,i.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var e=this._currentPageNumber,n=0,a=this._pages.length;n<a;n++){var r=this._pages[n];r.update(r.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:e}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_setDocumentViewerElement",get:function(){throw new Error("Not implemented: _setDocumentViewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var t=this._pages[0],e=1,n=this._pages.length;e<n;++e){var i=this._pages[e];if(i.width!==t.width||i.height!==t.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(t){if(this._scrollMode!==t){if(!(0,i.isValidScrollMode)(t))throw new Error("Invalid scroll mode: "+t);this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(t){if(this._spreadMode!==t){if(!(0,i.isValidSpreadMode)(t))throw new Error("Invalid spread mode: "+t);this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}}]),t}();e.BaseViewer=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=void 0;var i=n(16),a=n(2);e.PDFViewer=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_scrollIntoView",value:function(t){var e=t.pageDiv,i=t.pageSpot,a=void 0===i?null:i,r=t.pageNumber,o=void 0===r?null:r;if(!a&&!this.isInPresentationMode){var s=e.offsetLeft+e.clientLeft,c=s+e.clientWidth,l=this.container,u=l.scrollLeft,d=l.clientWidth;(this._isScrollModeHorizontal||s<u||c>u+d)&&(a={left:0,top:0})}_get(_getPrototypeOf(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:e,pageSpot:a,pageNumber:o})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():_get(_getPrototypeOf(n.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(t){if(!this.isInPresentationMode){var e,n=this._currentPageNumber,i=!1,a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(r.percent<100)break;if(r.id===n){i=!0;break}}}catch(o){a.e(o)}finally{a.f()}i||(n=t[0].id),this._setCurrentPageNumber(n)}}},{key:"_setDocumentViewerElement",get:function(){return(0,a.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]),n}(i.BaseViewer)}])},t.exports=i()},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=n("SpAZ");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r(e)}function r(t){return 0===t.length?i.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},mCt4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("0IaG"),a=n("fXoL"),r=n("sYmb"),o=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.translate=e,this.dialogRef=n,this.data=i,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(i.h),a.Tb(i.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["ng-component"]],decls:11,vars:7,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title",""],[1,"divider-modal"],["mat-icon-button","",3,"title","mat-dialog-close"],[1,"fa","fa-times-circle","fa-2x"],[2,"height","100%","width","100%",3,"editMode","base64","title"],["appDocumentViewer",""]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"h1",1),a.Zb(2,"span"),a.Sc(3),a.Yb(),a.Ub(4,"span",2),a.Zb(5,"button",3),a.mc(6,"translate"),a.Ub(7,"mat-icon",4),a.Yb(),a.Yb(),a.Zb(8,"mat-dialog-content"),a.Ub(9,"app-document-viewer",5,6),a.Yb(),a.Yb()),2&t&&(a.Eb(3),a.Tc(e.data.title),a.Eb(2),a.tc("title",a.nc(6,5,"lang.close")),a.Eb(4),a.sc("editMode",!1)("base64",e.data.base64)("title",e.data.title))},styles:[""]}),t}()},mLrj:function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return M}));var i=n("0IaG"),a=n("fXoL"),r=n("sYmb"),o=n("tk/3"),s=n("tyNb"),c=n("A6w4"),l=n("eiH7"),u=n("4zkx"),d=n("MutI"),f=n("ofXK"),h=n("f0Cb"),p=n("bTqV"),m=n("Qu3c"),g=n("NFeN"),b=n("TU8p"),v=n("0vfS"),y=n("1YbM"),_=n("aEDk"),k=n("FKr1");function C(t,e){if(1&t){var n=a.ac();a.Zb(0,"span",5),a.Zb(1,"button",6),a.hc("click",(function(){a.Hc(n);var t=a.lc().$implicit;return a.lc().gotToMenu(t)})),a.mc(2,"translate"),a.Ub(3,"mat-icon",7),a.Yb(),a.Yb()}if(2&t){var i=a.lc().$implicit,r=a.lc();a.Eb(1),a.tc("matTooltip",a.nc(2,7,i.label)),a.sc("id",i.id),a.Eb(2),a.Hb("fa ",i.style,""),a.tc("matBadge",r.headerService.nbResourcesFollowed),a.tc("matBadgeHidden","followed"!=i.id)}}function x(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",15),a.hc("click",(function(){a.Hc(n);var t=e.$implicit,i=a.lc(2).$implicit;return a.lc().onSpeedDialFabClicked(t,i)})),a.Zb(1,"span",16),a.Sc(2),a.mc(3,"shorten"),a.Yb(),a.Ub(4,"mat-icon",17),a.Yb()}if(2&t){var i=e.$implicit,r=a.lc(2).$implicit;a.sc("id",r.id),a.Eb(2),a.Tc(a.pc(3,2,i.label,20,"..."))}}function w(t,e){if(1&t){var n=a.ac();a.Zb(0,"span",8),a.Zb(1,"smd-fab-speed-dial",9,10),a.hc("mouseenter",(function(){return a.Hc(n),a.Dc(2).open=!0}))("mouseleave",(function(){return a.Hc(n),a.Dc(2).open=!1})),a.Zb(3,"smd-fab-trigger",11),a.Zb(4,"button",12),a.Ub(5,"mat-icon",13),a.Yb(),a.Yb(),a.Zb(6,"smd-fab-actions"),a.Qc(7,x,5,6,"button",14),a.mc(8,"sortBy"),a.Yb(),a.Yb(),a.Yb()}if(2&t){var i=a.lc().$implicit;a.Eb(5),a.Hb("fa ",i.style," spin360"),a.Eb(2),a.sc("ngForOf",a.oc(8,4,i.groups,"label"))}}function O(t,e){if(1&t&&(a.Xb(0),a.Qc(1,C,4,9,"span",3),a.Qc(2,w,9,7,"span",4),a.Wb()),2&t){var n=e.$implicit;a.Eb(1),a.sc("ngIf","indexing"==n.id&&n.groups.length<=1||"indexing"!=n.id),a.Eb(1),a.sc("ngIf","indexing"==n.id&&n.groups.length>1)}}function S(t,e){if(1&t){var n=a.ac();a.Xb(0),a.Zb(1,"a",3),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc().goTo(t)})),a.Ub(2,"mat-icon",4),a.Zb(3,"p",5),a.Sc(4),a.Yb(),a.Yb(),a.Wb()}if(2&t){var i=e.$implicit;a.Eb(4),a.Uc(" ",i.label," ")}}var E=function(){var t=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this.translate=e,this.http=n,this._router=i,this.dialog=a,this.appService=r,this.privilegeService=o,this.headerService=s,this.config={},this.speedDialFabButtons=[],this.speedDialFabColumnDirection="column",this.router=i}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSpeedDialFabClicked",value:function(t,e){this.router.navigate(["/indexing/"+t.id])}},{key:"gotToMenu",value:function(t){"indexing"===t.id?this.router.navigate([t.route+"/"+t.groups[0].id]):!0===t.angular?this.router.navigate([t.route]):location.href=t.route}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.e),a.Tb(o.b),a.Tb(s.c),a.Tb(i.b),a.Tb(c.a),a.Tb(l.a),a.Tb(u.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["menu-shortcut"]],decls:5,vars:1,consts:[[2,"position","relative"],[1,"button-row",2,"padding-left","10px","padding-right","10px","display","flex","width","300px","margin-top","-10px","margin-bottom","10px"],[4,"ngFor","ngForOf"],["style","flex:1;text-align: left;padding: 5px;",4,"ngIf"],["style","flex:1;text-align: left;padding: 5px;position: relative;",4,"ngIf"],[2,"flex","1","text-align","left","padding","5px"],["color","default","mat-fab","","matTooltipPosition","above",1,"followedShortcut",2,"z-index","9999",3,"id","matTooltip","click"],[2,"height","auto","font-size","22px",3,"matBadge","matBadgeHidden"],[2,"flex","1","text-align","left","padding","5px","position","relative"],["direction","down","animationMode","fling","fixed","false",3,"mouseenter","mouseleave"],["myFab",""],["spin","true"],["color","default","mat-fab",""],[2,"font-size","22px"],["color","primary","mat-mini-fab","",3,"id","click",4,"ngFor","ngForOf"],["color","primary","mat-mini-fab","",3,"id","click"],["color","primary",1,"speedDialLabel",2,"display","none","position","absolute","margin-left","20px","margin-top","-5px"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(a.Ub(0,"mat-nav-list",0),a.Zb(1,"mat-nav-list"),a.Zb(2,"div",1),a.Qc(3,O,3,2,"ng-container",2),a.Yb(),a.Yb(),a.Ub(4,"mat-divider")),2&t&&(a.Eb(3),a.sc("ngForOf",e.privilegeService.shortcuts))},directives:[d.h,f.s,h.a,f.t,p.b,m.b,g.a,b.a,v.b,v.c,v.a],pipes:[r.d,y.a,_.p],styles:[".button-row[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{border:2px solid #135f7f;color:#135f7f}.mat-fab[_ngcontent-%COMP%]    .mat-button-wrapper{padding:0}.speedDialLabel[_ngcontent-%COMP%]{margin-left:-220px!important;width:200px;text-align:right;z-index:0;font-weight:700}.smd-opened[_ngcontent-%COMP%]   .speedDialLabel[_ngcontent-%COMP%]{transition:opacity 1s ease-in!important;display:block!important}.mat-icon[_ngcontent-%COMP%]{height:auto!important}.followedShortcut[_ngcontent-%COMP%]    .mat-badge-content{width:auto;min-width:25px;min-height:25px;text-align:center;align-items:center;padding:2px;font-size:15px;top:-23px!important;right:-22px!important}"]}),t}(),M=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this.http=e,this.router=n,this.data=i,this.dialogRef=a}return _createClass(t,[{key:"goTo",value:function(t){this.router.navigate(["/indexing/"+t.id]),this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(o.b),a.Tb(s.c),a.Tb(i.a),a.Tb(i.h))},t.\u0275cmp=a.Nb({type:t,selectors:[["ng-component"]],decls:7,vars:4,consts:[[1,"mat-dialog-content-container"],["mat-dialog-title","","color","primary"],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["color","primary","mat-list-icon","",1,"fa","fa-users"],["mat-line",""]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"h2",1),a.Sc(2),a.mc(3,"translate"),a.Yb(),a.Zb(4,"mat-dialog-content"),a.Zb(5,"mat-nav-list"),a.Qc(6,S,5,1,"ng-container",2),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Eb(2),a.Tc(a.nc(3,2,"lang.chooseIndexationProfil")),a.Eb(4),a.sc("ngForOf",e.data.indexingGroups))},directives:[i.i,i.f,d.h,f.s,d.d,g.a,d.c,k.k],pipes:[r.d],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height: 65vh;width:600px;}"]}),t}()},mb9D:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n("fXoL"),a=n("STbY"),r=n("2c88"),o=n("pLZG"),s=n("XqQ8"),c=n("vkgz"),l=n("JIr8"),u=n("I65S"),d=n("sYmb"),f=n("tk/3"),h=n("AXEc"),p=n("0IaG"),m=n("tyNb"),g=n("4zkx"),b=n("6Psc"),v=n("ofXK"),y=n("f0Cb"),_=n("NFeN"),k=n("dXBx"),C=n("bTqV"),x=n("kmnG"),w=n("1YbM");function O(t,e){if(1&t&&(i.Zb(0,"button",13),i.Sc(1),i.mc(2,"translate"),i.Ub(3,"mat-icon",14),i.Yb()),2&t){i.lc();var n=i.Dc(3);i.sc("matMenuTriggerFor",n),i.Eb(1),i.Tc(i.nc(2,2,"lang.actionsAlt"))}}function S(t,e){if(1&t&&i.Ub(0,"span",15,16),2&t){var n=i.lc(),a=i.Dc(3);i.Pc("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),i.sc("matMenuTriggerFor",a)}}function E(t,e){if(1&t&&(i.Zb(0,"div",17),i.Sc(1),i.Yb()),2&t){var n=i.lc();i.Eb(1),i.Uc(" ",n.contextMenuTitle," ")}}function M(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",18),i.hc("menuOpened",(function(){return i.Hc(n),i.lc().getBaskets()})),i.Zb(1,"span"),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Yb()}if(2&t){i.lc();var a=i.Dc(7);i.sc("matMenuTriggerFor",a),i.Eb(2),i.Tc(i.nc(3,2,"lang.goToBasket"))}}function I(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",21),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).goTo(t)})),i.Sc(1),i.Yb()}if(2&t){var a=i.lc().$implicit;i.tc("title",a.basketName),i.Eb(1),i.Uc("",a.basketName," ")}}function P(t,e){if(1&t&&(i.Xb(0),i.Qc(1,I,2,2,"button",20),i.Wb()),2&t){var n=e.$implicit,a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",n.groupId===a.groupId)}}function T(t,e){if(1&t&&(i.Xb(0),i.Zb(1,"div",19),i.Sc(2),i.Yb(),i.Qc(3,P,2,1,"ng-container",6),i.mc(4,"sortBy"),i.Wb()),2&t){var n=e.$implicit,a=i.lc();i.Eb(2),i.Tc(n.groupName),i.Eb(1),i.sc("ngForOf",i.oc(4,2,a.basketList.list,"basketName"))}}function A(t,e){1&t&&(i.Zb(0,"div",22),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.mailNotPresentInBasket")," "))}var D=function(){var t=function(){function t(e,n,a,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.router=o,this.headerService=s,this.foldersService=c,this.loading=!1,this.triggerEvent=new i.o,this.contextMenuPosition={x:"0px",y:"0px"},this.contextMenuTitle="",this.currentAction={},this.basketInfo={},this.contextResId=0,this.currentLock=null,this.arrRes=[],this.actionsList=[],this.basketList={groups:[],list:[]},this.refreshEvent=new i.o,this.refreshPanelFolders=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"open",value:function(t,e,n){return this.contextMenuPosition.x=t+"px",this.contextMenuPosition.y=e+"px",this.contextMenuTitle=n.chrono,this.contextResId=n.resId,this.contextMenu.openMenu(),!1}},{key:"refreshFolders",value:function(){this.refreshPanelFolders.emit()}},{key:"refreshDaoAfterAction",value:function(){this.refreshEvent.emit()}},{key:"unclassify",value:function(){var t=this;this.dialogRef=this.dialog.open(r.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:"Voulez-vous enlever <b>"+this.selectedRes.length+"</b> document(s) du classement ?"}}),this.dialogRef.afterClosed().pipe(Object(o.a)((function(t){return"ok"===t})),Object(s.a)((function(){return t.http.request("DELETE","../rest/folders/"+t.currentFolderInfo.id+"/resources",{body:{resources:t.selectedRes}})})),Object(c.a)((function(e){t.notify.success(t.translate.instant("lang.removedFromFolder")),t.refreshFolders(),t.foldersService.getPinnedFolders(),t.refreshDaoAfterAction()})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.of)(!1)}))).subscribe()}},{key:"getBaskets",value:function(){var t=this;this.http.get("../rest/folders/"+this.currentFolderInfo.id+"/resources/"+this.selectedRes+"/baskets").pipe(Object(c.a)((function(e){t.basketList.groups=e.groupsBaskets.filter((function(t,e,n){return t&&n.map((function(t){return t.groupId})).indexOf(t.groupId)===e})),t.basketList.list=e.groupsBaskets})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.of)(!1)}))).subscribe()}},{key:"goTo",value:function(t){this.contextMenuTitle!==this.translate.instant("lang.undefined")?this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId],{queryParams:{chrono:'"'+this.contextMenuTitle+'"'}}):this.router.navigate(["/basketList/users/"+this.headerService.user.id+"/groups/"+t.groupId+"/baskets/"+t.basketId])}},{key:"unFollow",value:function(){var t=this;this.dialogRef=this.dialog.open(r.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.stopFollowingAlert")}}),this.dialogRef.afterClosed().pipe(Object(o.a)((function(t){return"ok"===t})),Object(s.a)((function(){return t.http.request("DELETE","../rest/resources/unfollow",{body:{resources:t.selectedRes}})})),Object(c.a)((function(e){t.notify.success(t.translate.instant("lang.removedFromFolder")),t.headerService.nbResourcesFollowed-=e.unFollowed,t.refreshDaoAfterAction()})),Object(l.a)((function(e){return t.notify.handleSoftErrors(e),Object(u.of)(!1)}))).subscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(d.e),i.Tb(f.b),i.Tb(h.a),i.Tb(p.b),i.Tb(m.c),i.Tb(g.a),i.Tb(b.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-folder-action-list"]],viewQuery:function(t,e){var n;1&t&&i.ad(a.d,!0),2&t&&i.Cc(n=i.ic())&&(e.contextMenu=n.first)},inputs:{selectedRes:"selectedRes",totalRes:"totalRes",contextMode:"contextMode",currentFolderInfo:"currentFolderInfo"},outputs:{triggerEvent:"triggerEvent",refreshEvent:"refreshEvent",refreshPanelFolders:"refreshPanelFolders"},decls:24,vars:22,consts:[["mat-stroked-button","",3,"matMenuTriggerFor",4,"ngIf"],["style","position: fixed;",3,"matMenuTriggerFor","left","top",4,"ngIf"],["menu","matMenu"],["style","text-align: center;font-size: 10px;color: white;background: #135F7F;padding: 5px;font-weight: bold;",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened",4,"ngIf"],["baskets","matMenu"],[4,"ngFor","ngForOf"],["class","noAvailableBasket",4,"ngIf"],["mat-menu-item","",1,"followAction",3,"disabled","click"],[1,"far","fa-star","fa-2x"],["mat-menu-item","",1,"folderAction",3,"disabled","click"],[1,"fa","fa-folder-minus","fa-2x"],[3,"resIds","refreshList","refreshFolders"],["mat-stroked-button","",3,"matMenuTriggerFor"],["matSuffix","",1,"fa","fa-caret-down"],[2,"position","fixed",3,"matMenuTriggerFor"],["menu2",""],[2,"text-align","center","font-size","10px","color","white","background","#135F7F","padding","5px","font-weight","bold"],["mat-menu-item","",3,"matMenuTriggerFor","menuOpened"],[1,"basketGroupName"],["mat-menu-item","","class","labelBasket",3,"title","click",4,"ngIf"],["mat-menu-item","",1,"labelBasket",3,"title","click"],[1,"noAvailableBasket"]],template:function(t,e){1&t&&(i.Qc(0,O,4,4,"button",0),i.Qc(1,S,2,5,"span",1),i.Zb(2,"mat-menu",null,2),i.Qc(4,E,2,1,"div",3),i.Qc(5,M,4,4,"button",4),i.Zb(6,"mat-menu",null,5),i.Qc(8,T,5,5,"ng-container",6),i.mc(9,"sortBy"),i.Qc(10,A,3,3,"div",7),i.Yb(),i.Ub(11,"mat-divider"),i.Zb(12,"button",8),i.hc("click",(function(){return e.unFollow()})),i.Ub(13,"mat-icon",9),i.Zb(14,"span"),i.Sc(15),i.mc(16,"translate"),i.Yb(),i.Yb(),i.Ub(17,"mat-divider"),i.Zb(18,"button",10),i.hc("click",(function(){return e.unclassify()})),i.Ub(19,"mat-icon",11),i.Zb(20,"span"),i.Sc(21),i.mc(22,"translate"),i.Yb(),i.Yb(),i.Zb(23,"folder-menu",12),i.hc("refreshList",(function(){return e.refreshDaoAfterAction()}))("refreshFolders",(function(){return e.refreshFolders()})),i.Yb(),i.Yb()),2&t&&(i.sc("ngIf",!e.contextMode),i.Eb(1),i.sc("ngIf",e.contextMode),i.Eb(1),i.Gb("actionListMenu"),i.Eb(2),i.sc("ngIf",e.contextMode&&1==e.selectedRes.length),i.Eb(1),i.sc("ngIf",1==e.selectedRes.length),i.Eb(1),i.Gb("folderListMenu"),i.Eb(2),i.sc("ngForOf",i.oc(9,15,e.basketList.groups,"groupName")),i.Eb(2),i.sc("ngIf",0==e.basketList.groups.length),i.Eb(2),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(16,18,"lang.untrackThisMail")),i.Eb(3),i.sc("disabled",0===e.selectedRes.length),i.Eb(3),i.Tc(i.nc(22,20,"lang.removeFromFolder")),i.Eb(2),i.sc("resIds",e.selectedRes))},directives:[v.t,a.e,v.s,y.a,a.b,_.a,k.a,C.b,a.d,x.j],pipes:[w.a,d.d],styles:[".mat-icon[_ngcontent-%COMP%]{height:auto}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px;border-color:#135f7f;color:#135f7f} .actionListMenu .mat-menu-content{padding-top:0;padding-bottom:0}.folderAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .followAction[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#8e3e52}.basketGroupName[_ngcontent-%COMP%]{color:#135f7f;padding-left:10px;padding-right:10px}.labelBasket[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:700}.noAvailableBasket[_ngcontent-%COMP%]{text-align:center;font-size:12px;opacity:.5;font-style:italic;padding:22px}"]}),t}()},mbIT:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))((function(a,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((i=i.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return i}))},n3uD:function(t,e,n){"use strict";var i=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",(function(){return i}))},n73p:function(t,e,n){"use strict";var i=n("Q1FS"),a=n("zB/H");e.schedulePromise=function(t,e){return new i.Observable((function(n){var i=new a.Subscription;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}))}},nLfN:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return m}));var i,a=n("fXoL"),r=n("ofXK");try{i="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(v){i=!1}var o,s,c,l,u=function(){var t=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?Object(r.I)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!i)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return t.\u0275fac=function(e){return new(e||t)(a.dc(a.E,8))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(a.E,8))},token:t,providedIn:"root"}),t}(),d=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)}}),t}(),f=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function h(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(f);var t=document.createElement("input");return o=new Set(f.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function p(t){return function(){if(null==s&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return s=!0}}))}finally{s=s||!1}return s}()?t:!!t.capture}function m(){return!("object"!=typeof document||!("scrollBehavior"in document.documentElement.style))}function g(){if("object"!=typeof document||!document)return 0;if(null==c){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),c=0,0===t.scrollLeft&&(t.scrollLeft=1,c=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return c}function b(t){if(function(){if(null==l){var t="undefined"!=typeof document?document.head:null;l=!(!t||!t.createShadowRoot&&!t.attachShadow)}return l}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("7o/Q"),a=n("quSY");function r(t){return function(e){return e.lift(new o(t))}}var o=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.callback))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).add(new a.a(i)),r}return n}(i.a)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},nzqU:function(t,e,n){"use strict";e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return Tt})),n.d(e,"c",(function(){return qt})),n.d(e,"d",(function(){return Ht})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return Ft})),n.d(e,"g",(function(){return zt})),n.d(e,"h",(function(){return C})),n.d(e,"i",(function(){return Yt})),n.d(e,"j",(function(){return Zt})),n.d(e,"k",(function(){return Nt})),n.d(e,"l",(function(){return Ut})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return x})),n.d(e,"o",(function(){return v})),n.d(e,"p",(function(){return At})),n.d(e,"q",(function(){return dt})),n.d(e,"r",(function(){return ft})),n.d(e,"s",(function(){return pt})),n.d(e,"t",(function(){return gt})),n.d(e,"u",(function(){return xt})),n.d(e,"v",(function(){return wt})),n.d(e,"w",(function(){return Ot})),n.d(e,"x",(function(){return _t})),n.d(e,"y",(function(){return kt})),n.d(e,"z",(function(){return Ct})),n.d(e,"A",(function(){return St})),n.d(e,"B",(function(){return k})),n.d(e,"C",(function(){return Vt})),n.d(e,"D",(function(){return l})),n.d(e,"E",(function(){return Gt})),n.d(e,"F",(function(){return Rt})),n.d(e,"G",(function(){return Lt})),n.d(e,"H",(function(){return Jt})),n.d(e,"I",(function(){return $t})),n.d(e,"J",(function(){return s})),n.d(e,"K",(function(){return Xt})),n.d(e,"L",(function(){return r})),n.d(e,"M",(function(){return ut})),n.d(e,"N",(function(){return o}));var i=n("fXoL"),a=null;function r(){return a}function o(t){a||(a=t)}var s=function t(){_classCallCheck(this,t)},c=new i.r("DocumentToken"),l=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:u,token:t,providedIn:"platform"}),t}();function u(){return Object(i.dc)(f)}var d=new i.r("Location Initialized"),f=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=r().getLocation(),this._history=r().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return r().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(l);return t.\u0275fac=function(e){return new(e||t)(i.dc(c))},t.\u0275prov=Object(i.Pb)({factory:p,token:t,providedIn:"platform"}),t}();function h(){return!!window.history.pushState}function p(){return new f(Object(i.dc)(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}var v=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Pb)({factory:y,token:t,providedIn:"root"}),t}();function y(t){var e=Object(i.dc)(c).location;return new k(Object(i.dc)(l),e&&e.origin||"")}var _=new i.r("appBaseHref"),k=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;if(_classCallCheck(this,n),(a=e.call(this))._platformLocation=t,null==i&&(i=a._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return a._baseHref=i,_possibleConstructorReturn(a)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return m(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var a=this.prepareExternalUrl(n+b(i));this._platformLocation.pushState(t,e,a)}},{key:"replaceState",value:function(t,e,n,i){var a=this.prepareExternalUrl(n+b(i));this._platformLocation.replaceState(t,e,a)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.dc(l),i.dc(_,8))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),C=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this))._platformLocation=t,a._baseHref="",null!=i&&(a._baseHref=i),a}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=m(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var a=this.prepareExternalUrl(n+b(i));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,e,a)}},{key:"replaceState",value:function(t,e,n,i){var a=this.prepareExternalUrl(n+b(i));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,a)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.dc(l),i.dc(_,8))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),x=function(){var t=function(){function t(e,n){var a=this;_classCallCheck(this,t),this._subject=new i.o,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(O(r)),this._platformStrategy.onPopState((function(t){a._subject.emit({url:a.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+b(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(v),i.dc(l))},t.normalizeQueryParams=b,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(i.Pb)({factory:w,token:t,providedIn:"root"}),t}();function w(){return new x(Object(i.dc)(v),Object(i.dc)(l))}function O(t){return t.replace(/\/index.html$/,"")}var S={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},E=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),M=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),I=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),P=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),T=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),A=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function D(t,e){return N(Object(i.nb)(t)[i.db.DateFormat],e)}function R(t,e){return N(Object(i.nb)(t)[i.db.TimeFormat],e)}function L(t,e){return N(Object(i.nb)(t)[i.db.DateTimeFormat],e)}function F(t,e){var n=Object(i.nb)(t),a=n[i.db.NumberSymbols][e];if(void 0===a){if(e===A.CurrencyDecimal)return n[i.db.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[i.db.NumberSymbols][A.Group]}return a}function j(t,e){return Object(i.nb)(t)[i.db.NumberFormats][e]}var Y=i.qb;function Z(t){if(!t[i.db.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[i.db.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function N(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){var e=_slicedToArray(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var B=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},V=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,H=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Q=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),W=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,r="";(t<0||a&&t<=0)&&(a?t=1-t:(t=-t,r=n));for(var o=String(t);o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),r+o}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(r,o){var s,c=function(t,e){switch(t){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,r);if((n>0||c>-n)&&(c+=n),t===Q.Hours)0===c&&-12===n&&(c=12);else if(t===Q.FractionalSeconds)return s=e,q(c,3).substr(0,s);var l=F(o,A.MinusSign);return q(c,e,l,i,a)}}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.Format,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,o){return function(t,e,n,a,r,o){switch(n){case W.Months:return function(t,e,n){var a=Object(i.nb)(t),r=N([a[i.db.MonthsFormat],a[i.db.MonthsStandalone]],e);return N(r,n)}(e,r,a)[t.getMonth()];case W.Days:return function(t,e,n){var a=Object(i.nb)(t),r=N([a[i.db.DaysFormat],a[i.db.DaysStandalone]],e);return N(r,n)}(e,r,a)[t.getDay()];case W.DayPeriods:var s=t.getHours(),c=t.getMinutes();if(o){var l,u=function(t){var e=Object(i.nb)(t);return Z(e),(e[i.db.ExtraData][2]||[]).map((function(t){return"string"==typeof t?U(t):[U(t[0]),U(t[1])]}))}(e),d=function(t,e,n){var a=Object(i.nb)(t);Z(a);var r=N([a[i.db.ExtraData][0],a[i.db.ExtraData][1]],e)||[];return N(r,n)||[]}(e,r,a);if(u.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],i=n.hours,a=n.minutes,r=t[1],o=r.hours,u=r.minutes;s>=i&&c>=a&&(s<o||s===o&&c<u)&&(l=d[e])}else{var f=t.hours,h=t.minutes;f===s&&h===c&&(l=d[e])}})),l)return l}return function(t,e,n){var a=Object(i.nb)(t),r=N([a[i.db.DayPeriodsFormat],a[i.db.DayPeriodsStandalone]],e);return N(r,n)}(e,r,a)[s<12?0:1];case W.Eras:return function(t,e){return N(Object(i.nb)(t)[i.db.Eras],e)}(e,a)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,o,t,e,n,a)}}function J(t){return function(e,n,i){var a=-1*i,r=F(n,A.MinusSign),o=a>0?Math.floor(a/60):Math.ceil(a/60);switch(t){case H.Short:return(a>=0?"+":"")+q(o,2,r)+q(Math.abs(a%60),2,r);case H.ShortGMT:return"GMT"+(a>=0?"+":"")+q(o,1,r);case H.Long:return"GMT"+(a>=0?"+":"")+q(o,2,r)+":"+q(Math.abs(a%60),2,r);case H.Extended:return 0===i?"Z":(a>=0?"+":"")+q(o,2,r)+":"+q(Math.abs(a%60),2,r);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function K(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var a,r,o,s;if(e){var c=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();a=1+Math.floor((l+c)/7)}else{var u=(r=n.getFullYear(),o=new Date(r,0,1).getDay(),new Date(r,0,1+(o<=4?4:11)-o)),d=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-u.getTime();a=1+Math.round(d/6048e5)}return q(a,t,F(i,A.MinusSign))}}var tt={};function et(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}var it=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function at(t,e,n,i,a,r){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(t)){var l=function(t){var e,n,i,a,r,o=Math.abs(t)+"",s=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;"0"===o.charAt(i);i++);if(i===(r=o.length))e=[0],n=1;else{for(r--;"0"===o.charAt(r);)r--;for(n-=i,e=[],a=0;i<=r;i++,a++)e[a]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);o&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var u=e.minInt,d=e.minFrac,f=e.maxFrac;if(r){var h=r.match(it);if(null===h)throw new Error(r+" is not a valid digit info");var p=h[1],m=h[3],g=h[5];null!=p&&(u=ot(p)),null!=m&&(d=ot(m)),null!=g?f=ot(g):null!=m&&d>f&&(f=d)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var i=t.digits,a=i.length-t.integerLen,r=Math.min(Math.max(e,a),n),o=r+t.integerLen,s=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(var c=o;c<i.length;c++)i[c]=0}else{a=Math.max(0,a),t.integerLen=1,i.length=Math.max(1,o=r+1),i[0]=0;for(var l=1;l<o;l++)i[l]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;a<Math.max(0,r);a++)i.push(0);var d=0!==r,f=e+t.integerLen,h=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,d&&(0===i[n]&&n>=f?i.pop():d=!1),e>=10?1:0}),0);h&&(i.unshift(h),t.integerLen++)}(l,d,f);var b=l.digits,v=l.integerLen,y=l.exponent,_=[];for(c=b.every((function(t){return!t}));v<u;v++)b.unshift(0);for(;v<0;v++)b.unshift(0);v>0?_=b.splice(v,b.length):(_=b,b=[0]);var k=[];for(b.length>=e.lgSize&&k.unshift(b.splice(-e.lgSize,b.length).join(""));b.length>e.gSize;)k.unshift(b.splice(-e.gSize,b.length).join(""));b.length&&k.unshift(b.join("")),s=k.join(F(n,i)),_.length&&(s+=F(n,a)+_.join("")),y&&(s+=F(n,A.Exponential)+"+"+y)}else s=F(n,A.Infinity);return s=t<0&&!c?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),a=i[0],r=i[1],o=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],s=o[0],c=o[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<c.length;l++){var u=c.charAt(l);"0"===u?n.minFrac=n.maxFrac=l+1:"#"===u?n.maxFrac=l+1:n.posSuf+=u}var d=s.split(",");if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,r){var f=a.length-n.posPre.length-n.posSuf.length,h=r.indexOf("#");n.negPre=r.substr(0,h).replace(/'/g,""),n.negSuf=r.substr(h+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function ot(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var st=function t(){_classCallCheck(this,t)};function ct(t,e,n,i){var a="="+t;if(e.indexOf(a)>-1)return a;if(a=n.getPluralCategory(t,i),e.indexOf(a)>-1)return a;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(t,'"'))}var lt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).locale=t,i}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(Y(e||this.locale)(t)){case M.Zero:return"zero";case M.One:return"one";case M.Two:return"two";case M.Few:return"few";case M.Many:return"many";default:return"other"}}}]),n}(st);return t.\u0275fac=function(e){return new(e||t)(i.dc(i.w))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}();function ut(t,e){e=encodeURIComponent(e);var n,i=_createForOfIteratorHelper(t.split(";"));try{for(i.s();!(n=i.n()).done;){var a=n.value,r=a.indexOf("="),o=_slicedToArray(-1==r?[a,""]:[a.slice(0,r),a.slice(r+1)],2),s=o[0],c=o[1];if(s.trim()===e)return decodeURIComponent(c)}}catch(l){i.e(l)}finally{i.f()}return null}var dt=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.zb)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.tb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.u),i.Tb(i.v),i.Tb(i.l),i.Tb(i.H))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),ft=function(){var t=function(){function t(e){_classCallCheck(this,t),this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(i.z);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var a=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(i.j)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(a,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.Cb]}),t}(),ht=function(){function t(e,n,i,a){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=a}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),pt=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,i,a){if(null==t.previousIndex){var r=e._viewContainer.createEmbeddedView(e._template,new ht(null,e._ngForOf,-1,-1),null===a?void 0:a),o=new mt(t,r);n.push(o)}else if(null==a)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,a);var c=new mt(t,s);n.push(c)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var a=0,r=this._viewContainer.length;a<r;a++){var o=this._viewContainer.get(a);o.context.index=a,o.context.count=r,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(i.Y)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O),i.Tb(i.u))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),mt=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},gt=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){vt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){vt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),bt=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function vt(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(i.zb)(e),"'."))}var yt=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),_t=function(){var t=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t}(),kt=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.ngSwitch=i,i._addCase(),this._view=new yt(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O),i.Tb(_t,1))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t}(),Ct=function(){var t=function t(e,n,i){_classCallCheck(this,t),i._addDefault(new yt(e,n))};return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R),i.Tb(i.O),i.Tb(_t,1))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngSwitchDefault",""]]}),t}(),xt=function(){var t=function(){function t(e){_classCallCheck(this,t),this._localization=e,this._caseViews={}}return _createClass(t,[{key:"addCase",value:function(t,e){this._caseViews[t]=e}},{key:"_updateView",value:function(){this._clearViews();var t=Object.keys(this._caseViews),e=ct(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(t){t&&(this._activeView=t,this._activeView.create())}},{key:"ngPlural",set:function(t){this._switchValue=t,this._updateView()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(st))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t}(),wt=function(){var t=function t(e,n,i,a){_classCallCheck(this,t),this.value=e;var r=!isNaN(Number(e));a.addCase(r?"="+e:e,new yt(i,n))};return t.\u0275fac=function(e){return new(e||t)(i.ec("ngPluralCase"),i.Tb(i.O),i.Tb(i.R),i.Tb(xt,1))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngPluralCase",""]]}),t}(),Ot=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=_slicedToArray(t.split("."),2),i=n[0],a=n[1];null!=(e=null!=e&&a?"".concat(e).concat(a):e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))}},{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(i.v),i.Tb(i.H))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}(),St=function(){var t=function(){function t(e){_classCallCheck(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(-1===e.indexOf(r))return!0}}catch(o){a.e(o)}finally{a.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.R))},t.\u0275dir=i.Ob({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Cb]}),t}();function Et(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(i.zb)(t),"'"))}var Mt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),It=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Pt=new Mt,Tt=function(){var t=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(i.wb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.T.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Object(i.vb)(e))return It;if(Object(i.ub)(e))return Pt;throw Et(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.fc())},t.\u0275pipe=i.Sb({name:"async",type:t,pure:!1}),t}(),At=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Et(t,e);return e.toLowerCase()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"lowercase",type:t,pure:!0}),t}(),Dt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Rt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Et(t,e);return e.replace(Dt,(function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"titlecase",type:t,pure:!0}),t}(),Lt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Et(t,e);return e.toUpperCase()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"uppercase",type:t,pure:!0}),t}(),Ft=function(){var t=function(){function t(e){_classCallCheck(this,t),this.locale=e}return _createClass(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return function(t,e,n,a){var r=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var i=_slicedToArray(t.split("-").map((function(t){return+t})),3),a=i[0],r=i[1],o=i[2];return new Date(a,r-1,o)}if(e=t.match(B))return function(t){var e=new Date(0),n=0,i=0,a=t[8]?e.setUTCFullYear:e.setFullYear,r=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),a.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-n,s=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return r.call(e,o,s,c,l),e}(e)}var s=new Date(t);if(!nt(s))throw new Error('Unable to convert "'.concat(t,'" into a date'));return s}(t);e=function t(e,n){var a=function(t){return Object(i.nb)(t)[i.db.LocaleId]}(e);if(z[a]=z[a]||{},z[a][n])return z[a][n];var r="";switch(n){case"shortDate":r=D(e,T.Short);break;case"mediumDate":r=D(e,T.Medium);break;case"longDate":r=D(e,T.Long);break;case"fullDate":r=D(e,T.Full);break;case"shortTime":r=R(e,T.Short);break;case"mediumTime":r=R(e,T.Medium);break;case"longTime":r=R(e,T.Long);break;case"fullTime":r=R(e,T.Full);break;case"short":var o=t(e,"shortTime"),s=t(e,"shortDate");r=G(L(e,T.Short),[o,s]);break;case"medium":var c=t(e,"mediumTime"),l=t(e,"mediumDate");r=G(L(e,T.Medium),[c,l]);break;case"long":var u=t(e,"longTime"),d=t(e,"longDate");r=G(L(e,T.Long),[u,d]);break;case"full":var f=t(e,"fullTime"),h=t(e,"fullDate");r=G(L(e,T.Full),[f,h])}return r&&(z[a][n]=r),r}(n,e)||e;for(var o,s=[];e;){if(!(o=V.exec(e))){s.push(e);break}var c=(s=s.concat(o.slice(1))).pop();if(!c)break;e=c}var l=r.getTimezoneOffset();a&&(l=et(a,l),r=function(t,e,n){var i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,i)-i))}(r,a));var u="";return s.forEach((function(t){var e=function(t){if(tt[t])return tt[t];var e;switch(t){case"G":case"GG":case"GGG":e=$(W.Eras,P.Abbreviated);break;case"GGGG":e=$(W.Eras,P.Wide);break;case"GGGGG":e=$(W.Eras,P.Narrow);break;case"y":e=X(Q.FullYear,1,0,!1,!0);break;case"yy":e=X(Q.FullYear,2,0,!0,!0);break;case"yyy":e=X(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=X(Q.FullYear,4,0,!1,!0);break;case"M":case"L":e=X(Q.Month,1,1);break;case"MM":case"LL":e=X(Q.Month,2,1);break;case"MMM":e=$(W.Months,P.Abbreviated);break;case"MMMM":e=$(W.Months,P.Wide);break;case"MMMMM":e=$(W.Months,P.Narrow);break;case"LLL":e=$(W.Months,P.Abbreviated,I.Standalone);break;case"LLLL":e=$(W.Months,P.Wide,I.Standalone);break;case"LLLLL":e=$(W.Months,P.Narrow,I.Standalone);break;case"w":e=K(1);break;case"ww":e=K(2);break;case"W":e=K(1,!0);break;case"d":e=X(Q.Date,1);break;case"dd":e=X(Q.Date,2);break;case"E":case"EE":case"EEE":e=$(W.Days,P.Abbreviated);break;case"EEEE":e=$(W.Days,P.Wide);break;case"EEEEE":e=$(W.Days,P.Narrow);break;case"EEEEEE":e=$(W.Days,P.Short);break;case"a":case"aa":case"aaa":e=$(W.DayPeriods,P.Abbreviated);break;case"aaaa":e=$(W.DayPeriods,P.Wide);break;case"aaaaa":e=$(W.DayPeriods,P.Narrow);break;case"b":case"bb":case"bbb":e=$(W.DayPeriods,P.Abbreviated,I.Standalone,!0);break;case"bbbb":e=$(W.DayPeriods,P.Wide,I.Standalone,!0);break;case"bbbbb":e=$(W.DayPeriods,P.Narrow,I.Standalone,!0);break;case"B":case"BB":case"BBB":e=$(W.DayPeriods,P.Abbreviated,I.Format,!0);break;case"BBBB":e=$(W.DayPeriods,P.Wide,I.Format,!0);break;case"BBBBB":e=$(W.DayPeriods,P.Narrow,I.Format,!0);break;case"h":e=X(Q.Hours,1,-12);break;case"hh":e=X(Q.Hours,2,-12);break;case"H":e=X(Q.Hours,1);break;case"HH":e=X(Q.Hours,2);break;case"m":e=X(Q.Minutes,1);break;case"mm":e=X(Q.Minutes,2);break;case"s":e=X(Q.Seconds,1);break;case"ss":e=X(Q.Seconds,2);break;case"S":e=X(Q.FractionalSeconds,1);break;case"SS":e=X(Q.FractionalSeconds,2);break;case"SSS":e=X(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=J(H.Short);break;case"ZZZZZ":e=J(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=J(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=J(H.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(r,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}(e,n,r||this.locale,a)}catch(o){throw Et(t,o.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w))},t.\u0275pipe=i.Sb({name:"date",type:t,pure:!0}),t}(),jt=/#/g,Yt=function(){var t=function(){function t(e){_classCallCheck(this,t),this._localization=e}return _createClass(t,[{key:"transform",value:function(e,n,i){if(null==e)return"";if("object"!=typeof n||null===n)throw Et(t,n);return n[ct(e,Object.keys(n),this._localization,i)].replace(jt,e.toString())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(st))},t.\u0275pipe=i.Sb({name:"i18nPlural",type:t,pure:!0}),t}(),Zt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Et(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"i18nSelect",type:t,pure:!0}),t}(),Nt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"json",type:t,pure:!1}),t}(),Ut=function(){var t=function(){function t(e){_classCallCheck(this,t),this.differs=e,this.keyValues=[]}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var i=this.differ.diff(t);return i&&(this.keyValues=[],i.forEachItem((function(t){e.keyValues.push({key:t.key,value:t.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.v))},t.\u0275pipe=i.Sb({name:"keyvalue",type:t,pure:!1}),t}();function Bt(t,e){var n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var a=String(n),r=String(i);return a==r?0:a<r?-1:1}var zt=function(){var t=function(){function t(e){_classCallCheck(this,t),this._locale=e}return _createClass(t,[{key:"transform",value:function(e,n,i){if(Qt(e))return null;i=i||this._locale;try{return function(t,e,n){return at(t,rt(j(e,E.Decimal),F(e,A.MinusSign)),e,A.Group,A.Decimal,n)}(Wt(e),i,n)}catch(a){throw Et(t,a.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w))},t.\u0275pipe=i.Sb({name:"number",type:t,pure:!0}),t}(),Vt=function(){var t=function(){function t(e){_classCallCheck(this,t),this._locale=e}return _createClass(t,[{key:"transform",value:function(e,n,i){if(Qt(e))return null;i=i||this._locale;try{return function(t,e,n){return at(t,rt(j(e,E.Percent),F(e,A.MinusSign)),e,A.Group,A.Decimal,n,!0).replace(new RegExp("%","g"),F(e,A.PercentSign))}(Wt(e),i,n)}catch(a){throw Et(t,a.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w))},t.\u0275pipe=i.Sb({name:"percent",type:t,pure:!0}),t}(),Ht=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,t),this._locale=e,this._defaultCurrencyCode=n}return _createClass(t,[{key:"transform",value:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(Qt(e))return null;o=o||this._locale,"boolean"==typeof a&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),a=a?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==a&&(s="symbol"===a||"symbol-narrow"===a?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",a=function(t){return Object(i.nb)(t)[i.db.Currencies]}(n)[t]||S[t]||[],r=a[1];return"narrow"===e&&"string"==typeof r?r:a[0]||t}(s,"symbol"===a?"wide":"narrow",o):a);try{return function(t,e,n,i,a){var r=rt(j(e,E.Currency),F(e,A.MinusSign));return r.minFrac=function(t){var e,n=S[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),r.maxFrac=r.minFrac,at(t,r,e,A.CurrencyGroup,A.CurrencyDecimal,a).replace("\xa4",n).replace("\xa4","").trim()}(Wt(e),o,s,n,r)}catch(c){throw Et(t,c.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.w),i.Tb(i.k))},t.\u0275pipe=i.Sb({name:"currency",type:t,pure:!0}),t}();function Qt(t){return null==t||""===t||t!=t}function Wt(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var Gt=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e,n,i){if(null==e)return e;if(!this.supports(e))throw Et(t,e);return e.slice(n,i)}},{key:"supports",value:function(t){return"string"==typeof t||Array.isArray(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Sb({name:"slice",type:t,pure:!1}),t}(),qt=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[{provide:st,useClass:lt}]}),t}(),Xt="browser";function $t(t){return t===Xt}var Jt=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=Object(i.Pb)({token:t,providedIn:"root",factory:function(){return new Kt(Object(i.dc)(c),window,Object(i.dc)(i.n))}}),t}(),Kt=function(){function t(e,n,i){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],i-a[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}()},ozli:function(t,e,n){"use strict";var i=n("zfKp");e.subscribeToObservable=function(t){return function(e){var n=t[i.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},"p//D":function(t,e,n){"use strict";e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("7o/Q");function a(t,e){return function(n){return n.lift(new r(t,e))}}var r=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t)).predicate=i,r.thisArg=a,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(i.a)},pWCv:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("FWf1"),o=n("w5QO"),s=n("pshJ");e.tap=function(t,e,n){return function(i){return i.lift(new c(t,e,n))}};var c=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))},t}(),l=function(t){function e(e,n,i,a){var r=t.call(this,e)||this;return r._tapNext=o.noop,r._tapError=o.noop,r._tapComplete=o.noop,r._tapError=i||o.noop,r._tapComplete=a||o.noop,s.isFunction(n)?(r._context=r,r._tapNext=n):n&&(r._context=n,r._tapNext=n.next||o.noop,r._tapError=n.error||o.noop,r._tapComplete=n.complete||o.noop),r}return a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(r.Subscriber)},poJ0:function(t,e,n){"use strict";var i=n("VKeD");e.subscribeToIterable=function(t){return function(e){for(var n=t[i.iterator]();;){var a=void 0;try{a=n.next()}catch(r){return e.error(r),e}if(a.done){e.complete();break}if(e.next(a.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},pshJ:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},q3Kh:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("FWf1");e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=o;var s=function(t){function e(e,n,i){var a=t.call(this,e)||this;return a.project=n,a.count=0,a.thisArg=i||a,a}return a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(r.Subscriber)},qFsG:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d}));var i=n("ihCf"),a=n("fXoL"),r=n("8LU1"),o=n("nLfN"),s=n("FKr1"),c=n("kmnG"),l=n("XNiG"),u=n("3Pt+"),d=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"matAutosizeMinRows",get:function(){return this.minRows},set:function(t){this.minRows=t}},{key:"matAutosizeMaxRows",get:function(){return this.maxRows},set:function(t){this.maxRows=t}},{key:"matAutosize",get:function(){return this.enabled},set:function(t){this.enabled=t}},{key:"matTextareaAutosize",get:function(){return this.enabled},set:function(t){this.enabled=t}}]),n}(i.c);return t.\u0275fac=function(e){return f(e||t)},t.\u0275dir=a.Ob({type:t,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[a.Bb]}),t}(),f=a.bc(d),h=new a.r("MAT_INPUT_VALUE_ACCESSOR"),p=["button","checkbox","file","hidden","image","radio","range","reset","submit"],m=0,g=Object(s.C)((function t(e,n,i,a){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=a})),b=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,s,c,u,d,f){var h;_classCallCheck(this,n),(h=e.call(this,c,r,s,a))._elementRef=t,h._platform=i,h.ngControl=a,h._autofillMonitor=d,h._uid="mat-input-"+m++,h.focused=!1,h.stateChanges=new l.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return Object(o.e)().has(t)}));var p=h._elementRef.nativeElement,g=p.nodeName.toLowerCase();return h._inputValueAccessor=u||p,h._previousNativeValue=h.value,h.id=h.id,i.IOS&&f.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===g,h._isTextarea="textarea"===g,h._isNativeSelect&&(h.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(p.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Object(r.c)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(r.c)(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Object(o.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Object(r.c)(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(g);return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(o.a),a.Tb(u.s,10),a.Tb(u.v,8),a.Tb(u.l,8),a.Tb(s.d),a.Tb(h,10),a.Tb(i.a),a.Tb(a.B))},t.\u0275dir=a.Ob({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&a.hc("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(a.cc("disabled",e.disabled)("required",e.required),a.Fb("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),a.Jb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[a.Db([{provide:c.d,useExisting:t}]),a.Bb,a.Cb]}),t}(),v=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[s.d],imports:[[i.d,c.e],i.d,c.e]}),t}()},qQ0q:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("fXoL"),a=n("sYmb"),r=n("4zkx"),o=n("A6w4"),s=n("tyNb"),c=n("ofXK"),l=n("bTqV"),u=n("NFeN"),d=n("f0Cb");function f(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",8),i.Zb(1,"button",9),i.hc("click",(function(){return i.Hc(n),i.lc().goTo()})),i.Ub(2,"i",10),i.Sc(3,"\xa0 "),i.Zb(4,"span"),i.Sc(5),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=i.lc();i.Eb(2),i.Gb(a.headerService.sideBarButton.icon),i.Eb(3),i.Tc(a.headerService.sideBarButton.label)}}var h=function(){var t=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.translate=e,this.headerService=n,this.appService=i,this.router=a,this._location=r,this.config={},this.navButton=null}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"goTo",value:function(){"__GOBACK"===this.headerService.sideBarButton.route?this._location.back():this.router.navigate([this.headerService.sideBarButton.route])}},{key:"goToHome",value:function(){this.router.navigate(["/home"])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(a.e),i.Tb(r.a),i.Tb(o.a),i.Tb(s.c),i.Tb(c.n))},t.\u0275cmp=i.Nb({type:t,selectors:[["header-panel"]],inputs:{navButton:"navButton",snavLeft:"snavLeft"},decls:11,vars:9,consts:[[1,"panelHeader"],["class","panelHeader-backHome",4,"ngIf"],[1,"panelHeader-logo"],["mat-button","",2,"margin-right","30px",3,"title","click"],["svgIcon","maarchLogoFull",1,"maarchLogo"],[1,"panelHeader-button"],["mat-icon-button","",3,"title","click"],["fontSet","fas","fontIcon","fa-stream",2,"transform","rotate(180deg)"],[1,"panelHeader-backHome"],["mat-button","",2,"padding-top","5px","padding-bottom","5px",3,"click"],[2,"height","auto"]],template:function(t,e){1&t&&(i.Zb(0,"div",0),i.Qc(1,f,6,4,"div",1),i.Zb(2,"div",2),i.Zb(3,"button",3),i.hc("click",(function(){return e.goToHome()})),i.mc(4,"translate"),i.Ub(5,"mat-icon",4),i.Yb(),i.Yb(),i.Zb(6,"div",5),i.Zb(7,"button",6),i.hc("click",(function(){return e.headerService.sideNavLeft.close()})),i.mc(8,"translate"),i.Ub(9,"mat-icon",7),i.Yb(),i.Yb(),i.Yb(),i.Ub(10,"mat-divider")),2&t&&(i.Eb(1),i.sc("ngIf",null!==e.headerService.sideBarButton),i.Eb(1),i.Jb("text-center",null!==e.headerService.sideBarButton),i.Eb(1),i.tc("title",i.nc(4,5,"lang.home")),i.Eb(4),i.tc("title",i.nc(8,7,"lang.closeSidePanel")))},directives:[c.t,l.b,u.a,d.a],pipes:[a.d],styles:[".panelHeader[_ngcontent-%COMP%]{display:flex;align-items:center}.panelHeader-logo[_ngcontent-%COMP%]{flex:1}.panelHeader-button[_ngcontent-%COMP%]{display:flex;align-items:center}.panelHeader-button[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{font-size:25px;color:#666}.panelHeader-backHome[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:auto;color:#666;background:#d8d8d8;padding:10px;border-radius:20px;font-size:18px}.panelHeader-backHome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#666}.maarchLogo[_ngcontent-%COMP%]{height:80px;width:auto;padding:20px}"]}),t}()},qSQ4:function(t,e,n){"use strict";n.d(e,"a",(function(){return it}));var i=n("fXoL"),a=n("vkgz"),r=n("nYR2"),o=n("JIr8"),s=n("pLZG"),c=n("XqQ8"),l=n("LRne"),u=n("R0Ic"),d=n("zkFj"),f=n("V5D/"),h=n("2c88"),p=n("/de/"),m=n("sYmb"),g=n("tk/3"),b=n("AXEc"),v=n("0IaG"),y=n("A6w4"),_=n("4zkx"),k=n("eiH7"),C=n("ofXK"),x=n("Xa2L"),w=n("bTqV"),O=n("NFeN"),S=n("jaxi"),E=n("Wp6s"),M=n("STbY"),I=n("bSwM"),P=n("3Pt+"),T=n("f0Cb"),A=n("8N1J"),D=n("1YbM"),R=n("wQTr"),L=n("aEDk"),F=n("ZI/H");function j(t,e){1&t&&(i.Xb(0),i.Zb(1,"div",2),i.Ub(2,"mat-spinner"),i.Yb(),i.Wb())}function Y(t,e){1&t&&(i.Zb(0,"div",9),i.Sc(1),i.mc(2,"translate"),i.Yb()),2&t&&(i.Eb(1),i.Uc(" ",i.nc(2,1,"lang.noAttachment")," "))}function Z(t,e){if(1&t&&(i.Zb(0,"mat-button-toggle",11),i.Sc(1),i.Yb()),2&t){var n=e.$implicit,a=i.lc(3);i.sc("checked",a.currentFilter===n.id)("value",n.id),i.Eb(1),i.Uc("",n.label," ")}}function N(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-button-toggle-group",10),i.hc("change",(function(t){return i.Hc(n),i.lc(2).filterType(t)})),i.Zb(1,"mat-button-toggle",11),i.Sc(2,"Tous"),i.Yb(),i.Qc(3,Z,2,3,"mat-button-toggle",12),i.mc(4,"sortBy"),i.Yb()}if(2&t){var a=i.lc(2);i.Eb(1),i.sc("checked",""===a.currentFilter)("value",""),i.Eb(2),i.sc("ngForOf",i.oc(4,3,a.filterAttachTypes,"label"))}}function U(t,e){if(1&t){var n=i.ac();i.Zb(0,"button",34),i.hc("click",(function(t){i.Hc(n);var e=i.lc(2).$implicit,a=i.lc(2);return t.stopPropagation(),a.deleteAttachment(e)})),i.Sc(1),i.mc(2,"translate"),i.Yb()}if(2&t){var a=i.lc(2).$implicit;i.sc("disabled",!a.canDelete),i.Eb(1),i.Tc(i.nc(2,2,"lang.deleteResource"))}}function B(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",31),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).showAttachment(t)})),i.Zb(1,"button",32),i.hc("click",(function(t){i.Hc(n);var e=i.lc().$implicit,a=i.lc(2);return t.stopPropagation(),a.showAttachment(e)})),i.Sc(2),i.mc(3,"translate"),i.Yb(),i.Qc(4,U,3,4,"button",33),i.Yb()}if(2&t){var a=i.lc().$implicit,r=i.lc(2);i.sc("@myAnimation",void 0),i.Eb(2),i.Tc(i.nc(3,3,"lang.viewResource")),i.Eb(2),i.sc("ngIf","SIGN"!==a.status&&"FRZ"!==a.status&&r.canModify)}}function z(t,e){if(1&t&&(i.Zb(0,"span",35),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b",36),i.Sc(4),i.Yb(),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc("",i.nc(2,2,"lang.version")," "),i.Eb(3),i.Tc(n.relation)}}function V(t,e){if(1&t){var n=i.ac();i.Xb(0),i.Ub(1,"mat-divider"),i.Zb(2,"button",37),i.hc("click",(function(){i.Hc(n);var t=i.lc().$implicit;return i.lc(2).openMaarchParapheurWorkflow(t)})),i.Sc(3),i.mc(4,"translate"),i.Yb(),i.Wb()}2&t&&(i.Eb(3),i.Uc(" ",i.nc(4,1,"lang.externalVisaWorkflow")," "))}function H(t,e){1&t&&(i.Ub(0,"i",38),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.inSignatureBook"))}function Q(t,e){1&t&&(i.Ub(0,"i",39),i.mc(1,"translate")),2&t&&i.tc("title",i.nc(1,1,"lang.inShipping"))}function W(t,e){if(1&t&&(i.Zb(0,"div",40),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.chrono,"\xa0 ")}}function G(t,e){if(1&t&&(i.Zb(0,"div",40),i.Sc(1),i.mc(2,"shorten"),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",i.pc(2,1,n.title,40,"...")," ")}}function q(t,e){if(1&t&&(i.Zb(0,"div",41),i.Sc(1),i.Yb()),2&t){var n=i.lc().$implicit;i.Eb(1),i.Uc(" ",n.typeLabel," ")}}function X(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Sc(6),i.mc(7,"lowercase"),i.mc(8,"translate"),i.Zb(9,"b"),i.Sc(10),i.Yb(),i.Wb()),2&t){var n=i.lc(2).$implicit;i.Eb(1),i.Uc(" ",i.nc(2,4,"lang.signedAlt")," "),i.Eb(3),i.Tc(i.oc(5,6,n.signDate,"full")),i.Eb(2),i.Uc(" ",i.nc(7,9,i.nc(8,11,"lang.by"))," "),i.Eb(4),i.Tc(n.signatory)}}function $(t,e){if(1&t&&(i.Xb(0),i.Sc(1),i.mc(2,"translate"),i.Zb(3,"b"),i.Sc(4),i.mc(5,"timeAgo"),i.Yb(),i.Sc(6),i.mc(7,"lowercase"),i.mc(8,"translate"),i.Zb(9,"b"),i.Sc(10),i.Yb(),i.Wb()),2&t){var n=i.lc(3).$implicit;i.Eb(1),i.Uc(" ",i.nc(2,4,"lang.modified")," "),i.Eb(3),i.Tc(i.oc(5,6,n.modificationDate,"full")),i.Eb(2),i.Uc(" ",i.nc(7,9,i.nc(8,11,"lang.by"))," "),i.Eb(4),i.Tc(n.modifiedBy)}}function J(t,e){if(1&t&&(i.Sc(0),i.mc(1,"translate"),i.Zb(2,"b"),i.Sc(3),i.mc(4,"timeAgo"),i.Yb(),i.Sc(5),i.mc(6,"lowercase"),i.mc(7,"translate"),i.Zb(8,"b"),i.Sc(9),i.Yb()),2&t){var n=i.lc(3).$implicit;i.Uc(" ",i.nc(1,4,"lang.created")," "),i.Eb(3),i.Tc(i.oc(4,6,n.creationDate,"full")),i.Eb(2),i.Uc(" ",i.nc(6,9,i.nc(7,11,"lang.by"))," "),i.Eb(4),i.Tc(n.typistLabel)}}function K(t,e){if(1&t&&(i.Qc(0,$,11,13,"ng-container",0),i.Qc(1,J,10,13,"ng-template",null,43,i.Rc)),2&t){var n=i.Dc(2),a=i.lc(2).$implicit;i.sc("ngIf",null!==a.modificationDate)("ngIfElse",n)}}function tt(t,e){if(1&t&&(i.Zb(0,"div",41),i.Qc(1,X,11,13,"ng-container",0),i.Qc(2,K,3,2,"ng-template",null,42,i.Rc),i.Yb()),2&t){var n=i.Dc(3),a=i.lc().$implicit;i.Eb(1),i.sc("ngIf",void 0!==a.signDate)("ngIfElse",n)}}function et(t,e){if(1&t){var n=i.ac();i.Zb(0,"mat-card",13),i.hc("mouseover",(function(t){i.Hc(n);var a=e.$implicit,r=i.lc(2);return t.stopPropagation(),r.toggleInfo(a,!0)})),i.mc(1,"async"),i.mc(2,"secureUrl"),i.Qc(3,B,5,5,"div",14),i.Zb(4,"div",15),i.Qc(5,z,5,4,"span",16),i.Zb(6,"button",17),i.Ub(7,"mat-icon",18),i.Yb(),i.Zb(8,"mat-menu",null,19),i.Zb(10,"button",20),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).setInSignatureBook(t)})),i.Zb(11,"mat-checkbox",21),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.inSignatureBook=t})),i.Yb(),i.Sc(12),i.mc(13,"translate"),i.Yb(),i.Zb(14,"button",20),i.hc("click",(function(){i.Hc(n);var t=e.$implicit;return i.lc(2).setInSendAttachment(t)})),i.Zb(15,"mat-checkbox",22),i.hc("ngModelChange",(function(t){return i.Hc(n),e.$implicit.inSendAttach=t})),i.Yb(),i.Sc(16),i.mc(17,"translate"),i.Yb(),i.Qc(18,V,5,3,"ng-container",23),i.Yb(),i.Yb(),i.Zb(19,"div",24),i.Zb(20,"div",25),i.Qc(21,H,2,3,"i",26),i.Sc(22,"\xa0 "),i.Qc(23,Q,2,3,"i",27),i.Yb(),i.Qc(24,W,2,1,"div",28),i.Qc(25,G,3,5,"div",28),i.Qc(26,q,2,1,"div",29),i.Qc(27,tt,4,2,"div",29),i.Zb(28,"div",30),i.Sc(29),i.mc(30,"translate"),i.Yb(),i.Yb(),i.Yb()}if(2&t){var a=e.$implicit,r=i.Dc(9),o=i.lc(2);i.Pc("background-image","url("+i.nc(1,22,i.nc(2,24,a.thumbnailUrl))+")",i.Mb),i.Jb("signed","SIGN"===a.status),i.Eb(3),i.sc("ngIf",a.hideMainInfo),i.Eb(2),i.sc("ngIf",a.relation>1),i.Eb(1),i.sc("matMenuTriggerFor",r),i.Eb(4),i.sc("disabled","FRZ"===a.status),i.Eb(1),i.sc("ngModel",a.inSignatureBook),i.Eb(1),i.Uc(" ",i.nc(13,26,"lang.putInSignatureBook")," "),i.Eb(2),i.sc("disabled",!o.mailevaEnabled),i.Eb(1),i.sc("ngModel",a.inSendAttach)("disabled",!o.mailevaEnabled),i.Eb(1),i.Uc(" ",i.nc(17,28,"lang.putInSendAttach")," "),i.Eb(2),i.sc("ngIf",o.maarchParapheurEnabled&&"FRZ"===a.status),i.Eb(3),i.sc("ngIf",a.inSignatureBook),i.Eb(2),i.sc("ngIf",a.inSendAttach),i.Eb(1),i.sc("ngIf",!a.hideMainInfo),i.Eb(1),i.sc("ngIf",a.hideMainInfo),i.Eb(1),i.sc("ngIf",!a.hideMainInfo),i.Eb(1),i.sc("ngIf",a.hideMainInfo),i.Eb(2),i.Uc(" ",i.nc(30,30,"lang.attachment_"+a.status)," ")}}function nt(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",3),i.hc("mouseover",(function(){return i.Hc(n),i.lc().resetToggleInfo()})),i.Qc(1,Y,3,3,"div",4),i.Qc(2,N,5,6,"mat-button-toggle-group",5),i.Qc(3,et,31,32,"mat-card",6),i.mc(4,"filterList"),i.Yb(),i.Zb(5,"button",7),i.hc("click",(function(){return i.Hc(n),i.lc().createAttachment()})),i.Ub(6,"mat-icon",8),i.Yb()}if(2&t){var a=i.lc();i.Eb(1),i.sc("ngIf",0==a.attachments.length),i.Eb(1),i.sc("ngIf",a.attachments.length>0),i.Eb(1),i.sc("ngForOf",i.pc(4,8,a.attachments,a.currentFilter,"type")),i.Eb(2),i.Jb("addPjPanel","panel"===a.target)("addPjProcess","process"===a.target),i.sc("title",a.translate.instant("lang.addAttachment"))}}var it=function(){var t=function(){function t(e,n,a,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=a,this.dialog=r,this.appService=o,this.headerService=s,this.privilegeService=c,this.loading=!0,this.pos=0,this.mailevaEnabled=!1,this.maarchParapheurEnabled=!1,this.hideMainInfo=!1,this.filterAttachTypes=[],this.currentFilter="",this.resId=null,this.target="panel",this.autoOpenCreation=!1,this.canModify=!1,this.reloadBadgeAttachments=new i.o,this.afterActionAttachment=new i.o}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.autoOpenCreation&&this.createAttachment(),this.checkMaarchParapheurEnabled(),null!==this.resId&&this.http.get("../rest/resources/".concat(this.resId,"/attachments")).pipe(Object(a.a)((function(e){t.mailevaEnabled=e.mailevaEnabled,t.attachments=e.attachments,t.attachments.forEach((function(e){0===t.filterAttachTypes.filter((function(t){return t.id===e.type})).length&&t.filterAttachTypes.push({id:e.type,label:e.typeLabel}),e.thumbnailUrl="../rest/attachments/"+e.resId+"/thumbnail",e.canDelete=t.privilegeService.hasCurrentUserPrivilege("manage_attachments")||t.headerService.user.id===e.typist}))})),Object(r.a)((function(){return t.loading=!1})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}},{key:"checkMaarchParapheurEnabled",value:function(){var t=this;this.http.get("../rest/externalSignatureBooks/enabled").subscribe((function(e){"maarchParapheur"===e.enabledSignatureBook&&(t.maarchParapheurEnabled=!0)}),(function(e){t.notify.error(e.error.errors)}))}},{key:"loadAttachments",value:function(t){var e=this,n=+new Date;this.resId=t,this.loading=!0,this.filterAttachTypes=[],this.http.get("../rest/resources/"+this.resId+"/attachments").subscribe((function(t){e.mailevaEnabled=t.mailevaEnabled,e.attachments=t.attachments,e.attachments.forEach((function(t){0===e.filterAttachTypes.filter((function(e){return e.id===t.type})).length&&e.filterAttachTypes.push({id:t.type,label:t.typeLabel}),t.thumbnailUrl="../rest/attachments/"+t.resId+"/thumbnail?tsp="+n,t.canDelete=e.privilegeService.hasCurrentUserPrivilege("manage_attachments")||e.headerService.user.id===t.typist})),0===e.attachments.filter((function(t){return t.type===e.currentFilter})).length&&(e.currentFilter=""),e.reloadBadgeAttachments.emit(""+e.attachments.length),e.loading=!1}),(function(t){e.notify.error(t.error.errors)}))}},{key:"setInSignatureBook",value:function(t){var e=this;this.http.put("../rest/attachments/"+t.resId+"/inSignatureBook",{}).subscribe((function(){t.inSignatureBook=!t.inSignatureBook,e.afterActionAttachment.emit("setInSignatureBook"),e.notify.success(e.translate.instant("lang.actionDone"))}),(function(t){e.notify.error(t.error.errors)}))}},{key:"setInSendAttachment",value:function(t){var e=this;this.http.put("../rest/attachments/"+t.resId+"/inSendAttachment",{}).subscribe((function(){t.inSendAttach=!t.inSendAttach,e.afterActionAttachment.emit("setInSendAttachment"),e.notify.success(e.translate.instant("lang.actionDone"))}),(function(t){e.notify.error(t.error.errors)}))}},{key:"toggleInfo",value:function(t,e){this.attachments.forEach((function(t){t.hideMainInfo=!1})),t.hideMainInfo=e}},{key:"resetToggleInfo",value:function(){this.attachments.forEach((function(t){t.hideMainInfo=!1}))}},{key:"showAttachment",value:function(t){var e=this;this.dialogRef=this.dialog.open(d.a,{height:"99vh",width:this.appService.getViewMode()?"99vw":"90vw",maxWidth:this.appService.getViewMode()?"99vw":"90vw",panelClass:"attachment-modal-container",disableClose:!0,data:{resId:t.resId,editMode:this.canModify}}),this.dialogRef.afterClosed().pipe(Object(s.a)((function(t){return"success"===t})),Object(a.a)((function(){e.loadAttachments(e.resId)})),Object(o.a)((function(t){return e.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"createAttachment",value:function(){var t=this;this.dialogRef=this.dialog.open(f.a,{disableClose:!0,panelClass:"attachment-modal-container",height:"90vh",width:this.appService.getViewMode()?"99vw":"90vw",maxWidth:this.appService.getViewMode()?"99vw":"90vw",data:{resIdMaster:this.resId}}),this.dialogRef.afterClosed().pipe(Object(s.a)((function(t){return"success"===t})),Object(a.a)((function(){t.loadAttachments(t.resId),t.afterActionAttachment.emit("setInSendAttachment")})),Object(o.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}},{key:"deleteAttachment",value:function(t){var e=this;this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.delete"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(s.a)((function(t){return"ok"===t})),Object(c.a)((function(){return e.http.delete("../rest/attachments/"+t.resId)})),Object(a.a)((function(){e.loadAttachments(e.resId),e.afterActionAttachment.emit("setInSendAttachment"),e.notify.success(e.translate.instant("lang.attachmentDeleted"))})),Object(o.a)((function(t){return e.notify.handleErrors(t),Object(l.a)(!1)}))).subscribe()}},{key:"filterType",value:function(t){this.currentFilter=t.value}},{key:"openMaarchParapheurWorkflow",value:function(t){this.dialog.open(p.a,{panelClass:"maarch-modal",data:{id:t.resId,type:"attachment"}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(m.e),i.Tb(g.b),i.Tb(b.a),i.Tb(v.b),i.Tb(y.a),i.Tb(_.a),i.Tb(k.a))},t.\u0275cmp=i.Nb({type:t,selectors:[["app-attachments-list"]],inputs:{injectDatas:"injectDatas",resId:"resId",target:"target",autoOpenCreation:"autoOpenCreation",canModify:"canModify"},outputs:{reloadBadgeAttachments:"reloadBadgeAttachments",afterActionAttachment:"afterActionAttachment"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseLoading",""],[1,"loading"],[3,"mouseover"],["style","text-align:center;font-size:24px;font-weight:bold;opacity:0.3;",4,"ngIf"],["class","filterTypes",3,"change",4,"ngIf"],["style","padding:0;margin: 30px;min-height: 300px;background-size: cover;overflow: hidden;",3,"signed","background-image","mouseover",4,"ngFor","ngForOf"],["mat-fab","","color","primary",1,"addPj",3,"title","click"],[1,"fa","fa-plus"],[2,"text-align","center","font-size","24px","font-weight","bold","opacity","0.3"],[1,"filterTypes",3,"change"],[3,"checked","value"],[3,"checked","value",4,"ngFor","ngForOf"],[2,"padding","0","margin","30px","min-height","300px","background-size","cover","overflow","hidden",3,"mouseover"],["class","layout",3,"click",4,"ngIf"],[1,"pjToolsContent"],["color","primary","class","versionButton",4,"ngIf"],["color","primary","mat-icon-button","",1,"actionsButton",3,"matMenuTriggerFor"],["fontSet","fas","fontIcon","fa-ellipsis-v"],["menuPjAction","matMenu"],["mat-menu-item","",3,"disabled","click"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[1,"infosPj"],[1,"stateInfo"],["class","fas fa-file-signature",3,"title",4,"ngIf"],["class","fa fa-shipping-fast",3,"title",4,"ngIf"],["class","mainInfos",4,"ngIf"],["class","subInfos",4,"ngIf"],[1,"statusInfo"],[1,"layout",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"disabled","click"],["color","primary",1,"versionButton"],["color","secondary"],["mat-menu-item","",3,"click"],[1,"fas","fa-file-signature",3,"title"],[1,"fa","fa-shipping-fast",3,"title"],[1,"mainInfos"],[1,"subInfos"],["elseTemplate",""],["creationTemplate",""]],template:function(t,e){if(1&t&&(i.Qc(0,j,3,0,"ng-container",0),i.Qc(1,nt,7,12,"ng-template",null,1,i.Rc)),2&t){var n=i.Dc(2);i.sc("ngIf",e.loading)("ngIfElse",n)}},directives:[C.t,x.c,C.s,w.b,O.a,S.b,S.a,E.a,M.d,M.e,M.b,I.a,P.t,P.w,T.a],pipes:[A.a,m.d,D.a,C.b,R.a,L.p,F.a,C.p],styles:[".mat-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 0 8px 0 rgba(0,0,0,.75)}.layout[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.layout[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:200px}.infosPj[_ngcontent-%COMP%]{background:#f9f9f9;border-top:1px solid rgba(0,0,0,.12);position:absolute;width:100%;bottom:0;padding:5px;display:flex;flex-direction:column;align-items:center}.infosPj[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.infosPj[_ngcontent-%COMP%]    .mat-form-field-label{color:#135f7f}.mainInfos[_ngcontent-%COMP%]{display:block;font-size:16px;color:#666}.subInfos[_ngcontent-%COMP%]{display:block;font-size:10px;color:#135f7f}.stateInfo[_ngcontent-%COMP%]{color:#135f7f;left:0;justify-content:left;padding-left:10px}.stateInfo[_ngcontent-%COMP%], .statusInfo[_ngcontent-%COMP%]{font-size:12px;position:absolute;height:100%;top:0;width:100px;display:flex;align-items:center;font-style:italic}.statusInfo[_ngcontent-%COMP%]{color:#666;opacity:.5;right:0;justify-content:center}.subInfosBottom[_ngcontent-%COMP%]{font-style:italic;font-size:12px;color:#666}.signed[_ngcontent-%COMP%]{border:1px solid green}.signed[_ngcontent-%COMP%]   .infosPj[_ngcontent-%COMP%]{background:green}.signed[_ngcontent-%COMP%]   .mainInfos[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .stateInfo[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .statusInfo[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .subInfos[_ngcontent-%COMP%], .signed[_ngcontent-%COMP%]   .subInfosBottom[_ngcontent-%COMP%]{color:#fff}.mat-icon[_ngcontent-%COMP%]{height:auto}.pjToolsContent[_ngcontent-%COMP%]{position:absolute;right:0;border-bottom:1px solid #e0e0e0;border-left:1px solid #e0e0e0;border-bottom-left-radius:5px;background:#fff}.pjToolsContent[_ngcontent-%COMP%]   .actionsButton[_ngcontent-%COMP%], .pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%], .pjToolsContent[_ngcontent-%COMP%]   .versionButton[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;font-size:10px}.pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%]:active, .pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%]:focus, .pjToolsContent[_ngcontent-%COMP%]   .downloadButton[_ngcontent-%COMP%]:hover{text-decoration:none}.pjToolsContent[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:0;top:-7px;font-size:10px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;top:0;left:0;width:100%;background:hsla(0,0%,100%,.7);z-index:1;overflow:hidden}.filterTypes[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden;width:auto;max-width:100%;margin-left:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked{background:#f99830;color:#fff;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-label-content{line-height:0}.filterTypes[_ngcontent-%COMP%]    .mat-button-toggle-checked .mat-button-toggle-button{height:100%}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button{color:#135f7f;font-weight:700;height:25px;font-size:10px}.filterTypes[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not( .mat-button-toggle-checked)  .mat-button-toggle-button .mat-button-toggle-label-content{line-height:0}.addPjProcess[_ngcontent-%COMP%]{bottom:0}.addPjPanel[_ngcontent-%COMP%], .addPjProcess[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:2;margin-left:10px}.addPjPanel[_ngcontent-%COMP%]{bottom:10px}"],data:{animation:[Object(u.n)("myAnimation",[Object(u.m)(":enter",[Object(u.l)({transform:"translateY(-10%)",opacity:0}),Object(u.e)("150ms",Object(u.l)({transform:"translateY(0)",opacity:1}))]),Object(u.m)(":leave",[Object(u.l)({transform:"translateY(0)",opacity:1}),Object(u.e)("150ms",Object(u.l)({transform:"translateY(-10%)",opacity:0}))])])]}}),t}()},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i,a,r=n("DH7j"),o=n("XoHu"),s=n("n6bG"),c=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=((a=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,a=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d)n[d].remove(this);if(Object(s.a)(a)){i&&(this._unsubscribe=void 0);try{a.call(this)}catch(m){e=m instanceof c?u(m.errors):[m]}}if(Object(r.a)(l))for(var f=-1,h=l.length;++f<h;){var p=l[f];if(Object(o.a)(p))try{p.unsubscribe()}catch(m){e=e||[],m instanceof c?e=e.concat(u(m.errors)):e.push(m)}}if(e)throw new c(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var a=n._parentOrParents;if(null===a)n._parentOrParents=this;else if(a instanceof t){if(a===this)return n;n._parentOrParents=[a,this]}else{if(-1!==a.indexOf(this))return n;a.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((i=new a).closed=!0,i),a);function u(t){return t.reduce((function(t,e){return t.concat(e instanceof c?e.errors:e)}),[])}},rDax:function(t,e,n){"use strict";n.d(e,"a",(function(){return H})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return T})),n.d(e,"f",(function(){return W}));var i=n("vxfF"),a=n("fXoL"),r=n("nLfN"),o=n("cH1L"),s=n("ofXK"),c=n("8LU1"),l=n("+rOU"),u=n("XNiG"),d=n("quSY"),f=n("VRyK"),h=n("IzEk"),p=n("1G5W"),m=n("FtGj"),g=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(c.d)(-this._previousScrollPosition.left),t.style.top=Object(c.d)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=a}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function b(){return Error("Scroll strategy has already been attached.")}var v=function(){function t(e,n,i,a){var r=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=a,this._scrollSubscription=null,this._detach=function(){r.disable(),r._overlayRef.hasAttached()&&r._ngZone.run((function(){return r._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw b();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),y=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function _(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function k(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var C=function(){function t(e,n,i,a){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=a,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw b();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,a=n.height;_(e,[{width:i,height:a,bottom:a,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),x=function(){var t=function t(e,n,i,a){var r=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new y},this.close=function(t){return new v(r._scrollDispatcher,r._ngZone,r._viewportRuler,t)},this.block=function(){return new g(r._viewportRuler,r._document)},this.reposition=function(t){return new C(r._scrollDispatcher,r._viewportRuler,r._ngZone,t)},this._document=a};return t.\u0275fac=function(e){return new(e||t)(a.dc(i.f),a.dc(i.h),a.dc(a.B),a.dc(s.e))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(i.f),Object(a.dc)(i.h),Object(a.dc)(a.B),Object(a.dc)(s.e))},token:t,providedIn:"root"}),t}(),w=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new y,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];void 0!==e[a]&&(this[a]=e[a])}},O=function t(e,n,i,a,r){_classCallCheck(this,t),this.offsetX=i,this.offsetY=a,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},S=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function E(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "top", "bottom" or "center".'))}function M(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "start", "end" or "center".'))}var I=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,i=e.length-1;i>-1;i--)if(e[i]._keydownEvents.observers.length>0){e[i]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(s.e))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(s.e))},token:t,providedIn:"root"}),t}(),P=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),T=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._platform=n,this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||P)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var i=this._document.createElement("div");i.classList.add("cdk-overlay-container"),P?i.setAttribute("platform","test"):t||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(s.e),a.dc(r.a))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(s.e),Object(a.dc)(r.a))},token:t,providedIn:"root"}),t}(),A=function(){function t(e,n,i,a,r,o,s,c){var l=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=a,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=c,this._backdropElement=null,this._backdropClick=new u.a,this._attachments=new u.a,this._detachments=new u.a,this._locationChanges=d.a.EMPTY,this._backdropClickHandler=function(t){return l._backdropClick.next(t)},this._keydownEvents=new u.a,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Object(c.d)(this._config.width),t.height=Object(c.d)(this._config.height),t.minWidth=Object(c.d)(this._config.minWidth),t.minHeight=Object(c.d)(this._config.minHeight),t.maxWidth=Object(c.d)(this._config.maxWidth),t.maxHeight=Object(c.d)(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",i)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;Object(c.b)(e).forEach((function(t){t&&(n?i.add(t):i.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Object(p.a)(Object(f.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),D=/([A-Za-z%]+)$/,R=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this._viewportRuler=n,this._document=i,this._platform=a,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.a,this._resizeSubscription=d.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,a=this._viewportRect,r=[],o=_createForOfIteratorHelper(this._preferredPositions);try{for(o.s();!(e=o.n()).done;){var s=e.value,c=this._getOriginPoint(n,s),l=this._getOverlayPoint(c,i,s),u=this._getOverlayFit(l,i,a,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,c);this._canFitWithFlexibleDimensions(u,l,a)?r.push({position:s,origin:c,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(c,s)}):(!t||t.overlayFit.visibleArea<u.visibleArea)&&(t={overlayFit:u,overlayPoint:l,originPoint:c,position:s,overlayRect:i})}}catch(b){o.e(b)}finally{o.f()}if(r.length){var d,f=null,h=-1,p=_createForOfIteratorHelper(r);try{for(p.s();!(d=p.n()).done;){var m=d.value,g=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);g>h&&(h=g,f=m)}}catch(b){p.e(b)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&L(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;n="start"==e.originX?i:a}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,a;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+a}}},{key:"_getOverlayFit",value:function(t,e,n,i){var a=t.x,r=t.y,o=this._getOffset(i,"x"),s=this._getOffset(i,"y");o&&(a+=o),s&&(r+=s);var c=0-r,l=r+e.height-n.height,u=this._subtractOverflows(e.width,0-a,a+e.width-n.width),d=this._subtractOverflows(e.height,c,l),f=u*d;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:u==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,a=n.right-e.x,r=F(this._overlayRef.getConfig().minHeight),o=F(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=o&&o<=a;return(t.fitsInViewportVertically||null!=r&&r<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,a,r=this._viewportRect,o=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),c=Math.max(r.top-n.top-t.y,0),l=Math.max(r.left-n.left-t.x,0);return i=e.width<=r.width?l||-o:t.x<this._viewportMargin?r.left-n.left-t.x:0,a=e.height<=r.height?c||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:i,y:a},{x:t.x+i,y:t.y+a}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new S(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var a=0;a<n.length;a++)n[a].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,a,r,o,s,c=this._viewportRect,l=this._isRtl();if("top"===e.overlayY)i=t.y,n=c.height-i+this._viewportMargin;else if("bottom"===e.overlayY)a=c.height-t.y+2*this._viewportMargin,n=c.height-a+this._viewportMargin;else{var u=Math.min(c.bottom-t.y+c.top,t.y),d=this._lastBoundingBoxSize.height;n=2*u,i=t.y-u,n>d&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-d/2)}if("end"===e.overlayX&&!l||"start"===e.overlayX&&l)s=c.width-t.x+this._viewportMargin,r=t.x-this._viewportMargin;else if("start"===e.overlayX&&!l||"end"===e.overlayX&&l)o=t.x,r=c.right-t.x;else{var f=Math.min(c.right-t.x+c.left,t.x),h=this._lastBoundingBoxSize.width;r=2*f,o=t.x-f,r>h&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.x-h/2)}return{top:i,left:o,bottom:a,right:s,width:r,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var a=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Object(c.d)(n.height),i.top=Object(c.d)(n.top),i.bottom=Object(c.d)(n.bottom),i.width=Object(c.d)(n.width),i.left=Object(c.d)(n.left),i.right=Object(c.d)(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Object(c.d)(a)),r&&(i.maxWidth=Object(c.d)(r))}this._lastBoundingBoxSize=n,L(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){L(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){L(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(i){var o=this._viewportRuler.getViewportScrollPosition();L(n,this._getExactOverlayY(e,t,o)),L(n,this._getExactOverlayX(e,t,o))}else n.position="static";var s="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(s+="translateX(".concat(l,"px) ")),u&&(s+="translateY(".concat(u,"px)")),n.transform=s.trim(),r.maxHeight&&(i?n.maxHeight=Object(c.d)(r.maxHeight):a&&(n.maxHeight="")),r.maxWidth&&(i?n.maxWidth=Object(c.d)(r.maxWidth):a&&(n.maxWidth="")),L(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n));var r=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=r,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Object(c.d)(a.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Object(c.d)(a.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:k(t,n),isOriginOutsideView:_(t,n),isOverlayClipped:k(e,n),isOverlayOutsideView:_(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){M("originX",t.originX),E("originY",t.originY),M("overlayX",t.overlayX),E("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Object(c.b)(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof a.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function L(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function F(t){if("number"!=typeof t&&null!=t){var e=_slicedToArray(t.split(D),2),n=e[0],i=e[1];return i&&"px"!==i?null:parseFloat(n)}return t||null}var j=function(){function t(e,n,i,a,r,o,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new R(i,a,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var a=new O(t,e,n,i);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),Y=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,a=n.height,r=n.maxWidth,o=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||r&&"100%"!==r&&"100vw"!==r),c=!("100%"!==a&&"100vh"!==a||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Z=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=a}return _createClass(t,[{key:"global",value:function(){return new Y}},{key:"connectedTo",value:function(t,e,n){return new j(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new R(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(i.h),a.dc(s.e),a.dc(r.a),a.dc(T))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(i.h),Object(a.dc)(s.e),Object(a.dc)(r.a),Object(a.dc)(T))},token:t,providedIn:"root"}),t}(),N=0,U=function(){var t=function(){function t(e,n,i,a,r,o,s,c,l,u){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=c,this._directionality=l,this._location=u}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),a=new w(t);return a.direction=a.direction||this._directionality.value,new A(i,e,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+N++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(a.g)),new l.f(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(x),a.dc(T),a.dc(a.j),a.dc(Z),a.dc(I),a.dc(a.s),a.dc(a.B),a.dc(s.e),a.dc(o.c),a.dc(s.n,8))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac}),t}(),B=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],z=new a.r("cdk-connected-overlay-scroll-strategy"),V=function(){var t=function t(e){_classCallCheck(this,t),this.elementRef=e};return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t}(),H=function(){var t=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=d.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new a.o,this.positionChange=new a.o,this.attach=new a.o,this.detach=new a.o,this.overlayKeydown=new a.o,this._templatePortal=new l.j(n,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;this.positions&&this.positions.length||(this.positions=B),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe((function(e){t.overlayKeydown.next(e),e.keyCode!==m.h||Object(m.v)(e)||(e.preventDefault(),t._detachOverlay())}))}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new w({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}},{key:"_updatePositionStrategy",value:function(t){var e=this,n=this.positions.map((function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY,panelClass:t.panelClass||void 0}}));return t.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this,e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e.positionChanges.subscribe((function(e){return t.positionChange.emit(e)})),e}},{key:"_attachOverlay",value:function(){var t=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe((function(e){t.backdropClick.emit(e)})):this._backdropSubscription.unsubscribe()}},{key:"_detachOverlay",value:function(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}},{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Object(c.c)(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=Object(c.c)(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=Object(c.c)(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=Object(c.c)(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=Object(c.c)(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(U),a.Tb(a.O),a.Tb(a.R),a.Tb(z),a.Tb(o.c,8))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[a.Cb]}),t}(),Q={provide:z,deps:[U],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},W=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[U,Q],imports:[[o.a,l.i,i.g],i.g]}),t}()},"rH+9":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),a=n("sYmb"),r=n("uqn4"),o=n("4zkx"),s=n("aEDk"),c=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this.translate=e,this.authService=n,this.headerService=i,this.latinisePipe=a}return _createClass(t,[{key:"empty",value:function(t){return null==t||(Array.isArray(t)?!(t.length>0):""===String(t))}},{key:"formatFrenchDateToTechnicalDate",value:function(t){if(this.empty(t))return t;var e=t.split("-");return(e=e.concat(e[e.length-1].split(" "))).splice(2,1),this.empty(e[3])&&(e[3]="00:00:00"),"".concat(e[2],"-").concat(e[1],"-").concat(e[0]," ").concat(e[3])}},{key:"formatFrenchDateToObjectDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(this.empty(t))return t;var n=t.split(e);return(n=n.concat(n[n.length-1].split(" "))).splice(2,1),this.empty(n[3])&&(n[3]="00:00:00"),new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0]," ").concat(n[3]))}},{key:"formatDateObjectToDateString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dd-mm-yyyy";if(null!==t){var i=[];n.split("-").forEach((function(e){if("dd"===e){var n=t.getDate();n=("00"+n).slice(-2),i.push(n)}else if("mm"===e){var a=t.getMonth()+1;a=("00"+a).slice(-2),i.push(a)}else if("yyyy"===e){var r=t.getFullYear();i.push(r)}}));var a="";return e&&(a=" 23:59:59"),"".concat(i.join("-")).concat(a)}return t}},{key:"listSortingDataAccessor",value:function(t,e){return"string"==typeof t[e]?t[e].toLowerCase():t[e]}},{key:"filterUnSensitive",value:function(t,e,n){var i=this,a=!1;return e=this.latinisePipe.transform(e),n.forEach((function(n){var r=t[n];"string"!=typeof t[n]&&(r=void 0===r?"":JSON.stringify(r)),a=a||i.latinisePipe.transform(r.toLowerCase()).includes(e)})),a}},{key:"debug",value:function(t,e){var n={route:e,session:"No user logged !",refreshSession:"No user logged !",user:"No user logged !"};null!=this.authService.getToken()&&(n={route:e,session:{id:this.authService.getAppSession(),expireIn:new Date(1e3*JSON.parse(atob(this.authService.getToken().split(".")[1])).exp)},refreshSession:{id:this.authService.getAppSession(),expireIn:new Date(1e3*JSON.parse(atob(this.authService.getRefreshToken().split(".")[1])).exp)},user:this.headerService.user}),""!==t?console.log(t,n):console.log(n)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(a.e),i.dc(r.a),i.dc(o.a),i.dc(s.c))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},rNzc:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("wjEo");e.catchError=function(t){return function(e){var n=new o(t),i=e.lift(n);return n.caught=i}};var o=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.selector,this.caught))},t}(),s=function(t){function e(e,n,i){var a=t.call(this,e)||this;return a.selector=n,a.caught=i,a}return a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var i=new r.SimpleInnerSubscriber(this);this.add(i);var a=r.innerSubscribe(n,i);a!==i&&this.add(a)}},e}(r.SimpleOuterSubscriber)},sTim:function(t,e,n){"use strict";n.d(e,"a",(function(){return Q}));var i=n("1YbM"),a=n("5+WD"),r=n("fXoL"),o=n("sYmb"),s=n("tk/3"),c=n("0IaG"),l=n("A6w4"),u=n("ofXK"),d=n("kmnG"),f=n("qFsG"),h=n("d3UM"),p=n("FKr1"),m=n("iadO"),g=n("QibW"),b=n("MutI"),v=n("A5z7");function y(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-form-field",13),r.Ub(2,"textarea",14),r.Yb(),r.Wb()),2&t){var n=r.lc().$implicit,i=r.lc(2);r.Eb(2),r.sc("placeholder",i.translate.instant("lang."+n.type+"Input"))}}function _(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-form-field",13),r.Ub(2,"input",15),r.Yb(),r.Wb()),2&t){var n=r.lc().$implicit,i=r.lc(2);r.Eb(2),r.sc("placeholder",i.translate.instant("lang."+n.type+"Input"))}}function k(t,e){if(1&t&&(r.Zb(0,"mat-option",18),r.Sc(1),r.Yb()),2&t){var n=e.$implicit;r.sc("value",n),r.Eb(1),r.Uc(" ",n," ")}}function C(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-form-field",13),r.Zb(2,"mat-select",16),r.Qc(3,k,2,2,"mat-option",17),r.Yb(),r.Yb(),r.Wb()),2&t){var n=r.lc().$implicit,i=r.lc(2);r.Eb(2),r.sc("placeholder",i.translate.instant("lang."+n.type+"Input")),r.Eb(1),r.sc("ngForOf",n.values)}}function x(t,e){if(1&t){var n=r.ac();r.Xb(0),r.Zb(1,"mat-form-field",13),r.Zb(2,"input",19),r.hc("click",(function(){return r.Hc(n),r.Dc(5).open()})),r.Yb(),r.Ub(3,"mat-datepicker-toggle",20),r.Ub(4,"mat-datepicker",null,21),r.Yb(),r.Wb()}if(2&t){var i=r.Dc(5),a=r.lc().$implicit,o=r.lc(2);r.Eb(2),r.sc("matDatepicker",i)("placeholder",o.translate.instant("lang."+a.type+"Input")),r.Eb(1),r.sc("for",i)}}function w(t,e){if(1&t&&(r.Zb(0,"mat-radio-button",18),r.Sc(1),r.Yb()),2&t){var n=e.$implicit;r.sc("value",n.id),r.Eb(1),r.Uc(" ",n.label," ")}}function O(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-radio-group",22),r.Qc(2,w,2,2,"mat-radio-button",17),r.Yb(),r.Wb()),2&t){var n=r.lc().$implicit;r.Eb(2),r.sc("ngForOf",n.values)}}function S(t,e){if(1&t&&(r.Zb(0,"mat-list-option",29),r.Sc(1),r.Yb()),2&t){var n=e.$implicit;r.sc("value",n.id),r.Eb(1),r.Uc(" ",n.label," ")}}function E(t,e){1&t&&(r.Zb(0,"mat-chip",30),r.Sc(1),r.mc(2,"translate"),r.Yb()),2&t&&(r.Eb(1),r.Uc(" ",r.nc(2,1,"lang.selectedValue")," "))}function M(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"div",23),r.Zb(2,"mat-selection-list",24,25),r.Qc(4,S,2,2,"mat-list-option",26),r.Yb(),r.Yb(),r.Zb(5,"mat-chip-list",27),r.Qc(6,E,3,3,"mat-chip",28),r.Yb(),r.Wb()),2&t){var n=r.Dc(3),i=r.lc().$implicit;r.Eb(4),r.sc("ngForOf",i.values),r.Eb(2),r.sc("ngForOf",n.selectedOptions.selected)}}var I=function(){return["string","autocomplete","banAutocomplete"]};function P(t,e){if(1&t&&(r.Zb(0,"div",4),r.Zb(1,"div",5),r.Ub(2,"i",6),r.Yb(),r.Zb(3,"div",7),r.Zb(4,"div",8),r.Sc(5),r.Yb(),r.Zb(6,"div",9),r.Qc(7,y,3,1,"ng-container",10),r.Qc(8,_,3,1,"ng-container",10),r.Qc(9,C,4,2,"ng-container",10),r.Qc(10,x,6,3,"ng-container",10),r.Qc(11,O,3,1,"ng-container",10),r.Qc(12,M,7,2,"ng-container",10),r.Yb(),r.Zb(13,"div",11),r.Ub(14,"i",12),r.Yb(),r.Yb(),r.Yb()),2&t){var n=e.$implicit;r.sc("cdkDragData",n),r.Eb(4),r.sc("id",n.identifier),r.Eb(1),r.Uc(" ",n.label," "),r.Eb(1),r.Jb("advancedInput","checkbox"===n.type),r.Eb(1),r.sc("ngIf",r.yc(13,I).indexOf(n.type)>-1),r.Eb(1),r.sc("ngIf","integer"===n.type),r.Eb(1),r.sc("ngIf","select"===n.type),r.Eb(1),r.sc("ngIf","date"===n.type),r.Eb(1),r.sc("ngIf","radio"===n.type),r.Eb(1),r.sc("ngIf","checkbox"===n.type),r.Eb(2),r.Jb("noMandatory",!n.mandatory)}}var T=function(){return["indexingModelsCustomFieldsList_mail","indexingModelsCustomFieldsList_contact","indexingModelsCustomFieldsList_process","indexingModelsCustomFieldsList_classifying"]};function A(t,e){if(1&t){var n=r.ac();r.Zb(0,"div",2),r.hc("cdkDropListDropped",(function(t){return r.Hc(n),r.lc().drop(t)})),r.Qc(1,P,15,14,"div",3),r.mc(2,"sortBy"),r.Yb()}if(2&t){var i=r.lc();r.sc("cdkDropListConnectedTo",r.yc(6,T))("cdkDropListData",i.dataCustomFields),r.Eb(1),r.sc("ngForOf",r.oc(2,3,i.dataCustomFields,"label"))}}function D(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-form-field",13),r.Ub(2,"textarea",14),r.Yb(),r.Wb()),2&t){var n=r.lc(2).$implicit,i=r.lc(2);r.Eb(2),r.sc("placeholder",i.translate.instant("lang."+n.type+"Input"))}}function R(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-form-field",13),r.Ub(2,"input",15),r.Yb(),r.Wb()),2&t){var n=r.lc(2).$implicit,i=r.lc(2);r.Eb(2),r.sc("placeholder",i.translate.instant("lang."+n.type+"Input"))}}function L(t,e){if(1&t&&(r.Zb(0,"mat-option",18),r.Sc(1),r.Yb()),2&t){var n=e.$implicit;r.sc("value",n),r.Eb(1),r.Uc(" ",n," ")}}function F(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-form-field",13),r.Zb(2,"mat-select",16),r.Qc(3,L,2,2,"mat-option",17),r.Yb(),r.Yb(),r.Wb()),2&t){var n=r.lc(2).$implicit,i=r.lc(2);r.Eb(2),r.sc("placeholder",i.translate.instant("lang."+n.type+"Input")),r.Eb(1),r.sc("ngForOf",n.values)}}function j(t,e){if(1&t){var n=r.ac();r.Xb(0),r.Zb(1,"mat-form-field",13),r.Zb(2,"input",19),r.hc("click",(function(){return r.Hc(n),r.Dc(5).open()})),r.Yb(),r.Ub(3,"mat-datepicker-toggle",20),r.Ub(4,"mat-datepicker",null,21),r.Yb(),r.Wb()}if(2&t){var i=r.Dc(5),a=r.lc(2).$implicit,o=r.lc(2);r.Eb(2),r.sc("matDatepicker",i)("placeholder",o.translate.instant("lang."+a.type+"Input")),r.Eb(1),r.sc("for",i)}}function Y(t,e){if(1&t&&(r.Zb(0,"mat-radio-button",18),r.Sc(1),r.Yb()),2&t){var n=e.$implicit;r.sc("value",n.id),r.Eb(1),r.Uc(" ",n.label," ")}}function Z(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"mat-radio-group",22),r.Qc(2,Y,2,2,"mat-radio-button",17),r.Yb(),r.Wb()),2&t){var n=r.lc(2).$implicit;r.Eb(2),r.sc("ngForOf",n.values)}}function N(t,e){if(1&t&&(r.Zb(0,"mat-list-option",29),r.Sc(1),r.Yb()),2&t){var n=e.$implicit;r.sc("value",n.id),r.Eb(1),r.Uc(" ",n.label," ")}}function U(t,e){1&t&&(r.Zb(0,"mat-chip",30),r.Sc(1),r.mc(2,"translate"),r.Yb()),2&t&&(r.Eb(1),r.Uc(" ",r.nc(2,1,"lang.selectedValue")," "))}function B(t,e){if(1&t&&(r.Xb(0),r.Zb(1,"div",23),r.Zb(2,"mat-selection-list",24,38),r.Qc(4,N,2,2,"mat-list-option",26),r.Yb(),r.Yb(),r.Zb(5,"mat-chip-list",27),r.Qc(6,U,3,3,"mat-chip",28),r.Yb(),r.Wb()),2&t){var n=r.Dc(3),i=r.lc(2).$implicit;r.Eb(4),r.sc("ngForOf",i.values),r.Eb(2),r.sc("ngForOf",n.selectedOptions.selected)}}function z(t,e){if(1&t&&(r.Zb(0,"div",35),r.Zb(1,"div",36),r.Ub(2,"i",37),r.Yb(),r.Zb(3,"div",7),r.Zb(4,"div",8),r.Sc(5),r.Yb(),r.Zb(6,"div",9),r.Qc(7,D,3,1,"ng-container",10),r.Qc(8,R,3,1,"ng-container",10),r.Qc(9,F,4,2,"ng-container",10),r.Qc(10,j,6,3,"ng-container",10),r.Qc(11,Z,3,1,"ng-container",10),r.Qc(12,B,7,2,"ng-container",10),r.Yb(),r.Zb(13,"div",11),r.Ub(14,"i",12),r.Yb(),r.Yb(),r.Yb()),2&t){var n=r.lc().$implicit;r.Eb(4),r.sc("id",n.identifier),r.Eb(1),r.Uc(" ",n.label," "),r.Eb(2),r.sc("ngIf","string"===n.type||"autocomplete"===n.type),r.Eb(1),r.sc("ngIf","integer"===n.type),r.Eb(1),r.sc("ngIf","select"===n.type),r.Eb(1),r.sc("ngIf","date"===n.type),r.Eb(1),r.sc("ngIf","radio"===n.type),r.Eb(1),r.sc("ngIf","checkbox"===n.type),r.Eb(2),r.Jb("noMandatory",!n.mandatory)}}function V(t,e){if(1&t&&(r.Zb(0,"div",33),r.Qc(1,z,15,10,"div",34),r.Yb()),2&t){var n=e.$implicit;r.sc("cdkDragData",n),r.Eb(1),r.sc("ngIf",-1===n.identifier.indexOf("registeredMail_"))}}function H(t,e){if(1&t){var n=r.ac();r.Zb(0,"div",31),r.hc("cdkDropListDropped",(function(t){return r.Hc(n),r.lc().drop(t)})),r.Qc(1,V,2,2,"div",32),r.mc(2,"sortBy"),r.Yb()}if(2&t){var i=r.lc();r.sc("cdkDropListConnectedTo",r.yc(6,T))("cdkDropListData",i.dataFields),r.Eb(1),r.sc("ngForOf",r.oc(2,3,i.dataFields,"label"))}}var Q=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this.translate=e,this.http=n,this.dialog=i,this.appService=a,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"drop",value:function(t){t.item.data.unit=t.container.id.split("_")[1],t.previousContainer===t.container?Object(a.h)(t.container.data,t.previousIndex,t.currentIndex):Object(a.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(o.e),r.Tb(s.b),r.Tb(c.b),r.Tb(l.a))},t.\u0275cmp=r.Nb({type:t,selectors:[["app-field-list"]],inputs:{dataCustomFields:"dataCustomFields",dataFields:"dataFields"},features:[r.Db([i.a])],decls:2,vars:2,consts:[["class","content","cdkDropList","","id","customFieldsList",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped",4,"ngIf"],["class","content","cdkDropList","","id","fieldsList",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","customFieldsList",1,"content",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["class","customFieldRow","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",1,"customFieldRow",3,"cdkDragData"],[1,"customFieldDrag"],["color","primary","cdkDragHandle","",1,"fas","fa-arrows-alt","fa-2x"],[2,"flex","1","display","flex"],[1,"fieldLabel",3,"id"],[1,"fieldInput"],[4,"ngIf"],[1,"fieldState"],[1,"fas","fa-asterisk"],["floatLabel","never",1,"input-form"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","1","cdkAutosizeMaxRows","6","disabled","",3,"placeholder"],["type","number","matInput","","disabled","",3,"placeholder"],["disabled","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","disabled","",3,"matDatepicker","placeholder","click"],["matSuffix","",3,"for"],["picker",""],["color","primary","disabled","",1,"radio-form"],[1,"input-form","checkbox-form"],["disabled","",1,"div-list"],["checkboxCustomElement",""],["checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],[1,"checkbox-selected-list"],["selected","",4,"ngFor","ngForOf"],["checkboxPosition","before",3,"value"],["selected",""],["cdkDropList","","id","fieldsList",1,"content",3,"cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragData"],["class","customFieldRow",4,"ngIf"],[1,"customFieldRow"],["cdkDragHandle","",1,"customFieldDrag"],["color","primary",1,"fas","fa-arrows-alt","fa-2x"],["checkboxElement",""]],template:function(t,e){1&t&&(r.Qc(0,A,3,7,"div",0),r.Qc(1,H,3,7,"div",1)),2&t&&(r.sc("ngIf",void 0!==e.dataCustomFields),r.Eb(1),r.sc("ngIf",void 0!==e.dataFields))},directives:[u.t,a.e,u.s,a.a,a.b,d.c,f.b,f.d,h.a,p.o,m.f,m.h,d.j,m.d,g.b,g.a,b.i,v.d,b.f,v.a],pipes:[i.a,o.d],styles:["div[id^=registeredMail_][_ngcontent-%COMP%]{color:orange}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},sYmb:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return F})),n.d(e,"d",(function(){return L})),n.d(e,"e",(function(){return D}));var i=n("fXoL"),a=n("LRne"),r=n("7+OI"),o=n("cp0P"),s=n("GyhO"),c=n("NXyV"),l=n("IzEk"),u=n("UXun"),d=n("lJxs"),f=n("bOdf"),h=n("eIep"),p=function t(){_classCallCheck(this,t)},m=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTranslation",value:function(t){return Object(a.a)({})}}]),n}(p);return t.\u0275fac=function(e){return g(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),g=i.bc(m),b=function t(){_classCallCheck(this,t)},v=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"handle",value:function(t){return t.key}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}();function y(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,a,r=typeof t;if(r==typeof e&&"object"==r){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in a=Object.create(null),t){if(!y(t[i],e[i]))return!1;a[i]=!0}for(i in e)if(!(i in a)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!y(t[i],e[i]))return!1;return!0}}return!1}function _(t){return null!=t}function k(t){return t&&"object"==typeof t&&!Array.isArray(t)}var C=function t(){_classCallCheck(this,t)},x=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,t}return _createClass(n,[{key:"interpolate",value:function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t}},{key:"getValue",value:function(t,e){var n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!_(t)||!_(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}},{key:"interpolateFunction",value:function(t,e){return t(e)}},{key:"interpolateString",value:function(t,e){var n=this;return e?t.replace(this.templateMatcher,(function(t,i){var a=n.getValue(e,i);return _(a)?a:t})):t}}]),n}(C);return t.\u0275fac=function(e){return w(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),w=i.bc(x),O=function t(){_classCallCheck(this,t)},S=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"compile",value:function(t,e){return t}},{key:"compileTranslations",value:function(t,e){return t}}]),n}(O);return t.\u0275fac=function(e){return E(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),E=i.bc(S),M=function t(){_classCallCheck(this,t),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.o,this.onLangChange=new i.o,this.onDefaultLangChange=new i.o},I=new i.r("USE_STORE"),P=new i.r("USE_DEFAULT_LANG"),T=new i.r("DEFAULT_LANGUAGE"),A=new i.r("USE_EXTEND"),D=function(){var t=function(){function t(e,n,a,r,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8?arguments[8]:void 0;_classCallCheck(this,t),this.store=e,this.currentLoader=n,this.compiler=a,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=s,this.isolate=c,this.extend=l,this.pending=!1,this._onTranslationChange=new i.o,this._onLangChange=new i.o,this._onDefaultLangChange=new i.o,this._langs=[],this._translations={},this._translationRequests={},u&&this.setDefaultLang(u)}return _createClass(t,[{key:"setDefaultLang",value:function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(Object(l.a)(1)).subscribe((function(n){e.changeDefaultLang(t)}))):this.changeDefaultLang(t)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var e=this;if(t===this.currentLang)return Object(a.a)(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(Object(l.a)(1)).subscribe((function(n){e.changeLang(t)})),n):(this.changeLang(t),Object(a.a)(this.translations[t]))}},{key:"retrieveTranslations",value:function(t){var e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}},{key:"getTranslation",value:function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(Object(u.a)(1),Object(l.a)(1));return this.loadingTranslations=n.pipe(Object(d.a)((function(n){return e.compiler.compileTranslations(n,t)})),Object(u.a)(1),Object(l.a)(1)),this.loadingTranslations.subscribe({next:function(n){e.translations[t]=e.extend&&e.translations[t]?Object.assign(Object.assign({},n),e.translations[t]):n,e.updateLangs(),e.pending=!1},error:function(t){e.pending=!1}}),n}},{key:"setTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){var i=Object.assign({},e);return k(e)&&k(n)&&Object.keys(n).forEach((function(a){k(n[a])&&a in e?i[a]=t(e[a],n[a]):Object.assign(i,_defineProperty({},a,n[a]))})),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(t){var e=this;t.forEach((function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)}))}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(t,e,n){var i;if(e instanceof Array){var s,c={},l=!1,u=_createForOfIteratorHelper(e);try{for(u.s();!(s=u.n()).done;){var f=s.value;c[f]=this.getParsedResult(t,f,n),Object(r.a)(c[f])&&(l=!0)}}catch(m){u.e(m)}finally{u.f()}if(l){var h=e.map((function(t){return Object(r.a)(c[t])?c[t]:Object(a.a)(c[t])}));return Object(o.a)(h).pipe(Object(d.a)((function(t){var n={};return t.forEach((function(t,i){n[e[i]]=t})),n})))}return c}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){var p={key:e,translateService:this};void 0!==n&&(p.interpolateParams=n),i=this.missingTranslationHandler.handle(p)}return void 0!==i?i:e}},{key:"get",value:function(t,e){var n=this;if(!_(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(f.a)((function(i){return i=n.getParsedResult(i,t,e),Object(r.a)(i)?i:Object(a.a)(i)})));var i=this.getParsedResult(this.translations[this.currentLang],t,e);return Object(r.a)(i)?i:Object(a.a)(i)}},{key:"getStreamOnTranslationChange",value:function(t,e){var n=this;if(!_(t)||!t.length)throw new Error('Parameter "key" required');return Object(s.a)(Object(c.a)((function(){return n.get(t,e)})),this.onTranslationChange.pipe(Object(h.a)((function(i){var r=n.getParsedResult(i.translations,t,e);return"function"==typeof r.subscribe?r:Object(a.a)(r)}))))}},{key:"stream",value:function(t,e){var n=this;if(!_(t)||!t.length)throw new Error('Parameter "key" required');return Object(s.a)(Object(c.a)((function(){return n.get(t,e)})),this.onLangChange.pipe(Object(h.a)((function(i){var o=n.getParsedResult(i.translations,t,e);return Object(r.a)(o)?o:Object(a.a)(o)}))))}},{key:"instant",value:function(t,e){if(!_(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Object(r.a)(n)){if(t instanceof Array){var i={};return t.forEach((function(e,n){i[t[n]]=t[n]})),i}return t}return n}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}},{key:"changeDefaultLang",value:function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}},{key:"reloadLang",value:function(t){return this.resetLang(t),this.getTranslation(t)}},{key:"resetLang",value:function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}},{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(M),i.dc(p),i.dc(O),i.dc(C),i.dc(b),i.dc(P),i.dc(I),i.dc(A),i.dc(T))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),R=function(){var t=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.translateService=e,this.element=n,this._ref=i,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe((function(t){t.lang===a.translateService.currentLang&&a.checkNodes(!0,t.translations)}))),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe((function(t){a.checkNodes(!0,t.translations)}))),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe((function(t){a.checkNodes(!0)})))}return _createClass(t,[{key:"ngAfterViewChecked",value:function(){this.checkNodes()}},{key:"checkNodes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(var i=0;i<n.length;++i){var a=n[i];if(3===a.nodeType){var r=void 0;if(t&&(a.lastKey=null),_(a.lookupKey))r=a.lookupKey;else if(this.key)r=this.key;else{var o=this.getContent(a),s=o.trim();s.length&&(a.lookupKey=s,o!==a.currentValue?(r=s,a.originalContent=o||a.originalContent):a.originalContent?r=a.originalContent.trim():o!==a.currentValue&&(r=s,a.originalContent=o||a.originalContent))}this.updateValue(r,a,e)}}}},{key:"updateValue",value:function(t,e,n){var i=this;if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;var a=function(n){n!==t&&(e.lastKey=t),e.originalContent||(e.originalContent=i.getContent(e)),e.currentValue=_(n)?n:e.originalContent||t,i.setContent(e,i.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),i._ref.markForCheck()};if(_(n)){var o=this.translateService.getParsedResult(n,t,this.currentParams);Object(r.a)(o)?o.subscribe(a):a(o)}else this.translateService.get(t,this.currentParams).subscribe(a)}}},{key:"getContent",value:function(t){return _(t.textContent)?t.textContent:t.data}},{key:"setContent",value:function(t,e){_(t.textContent)?t.textContent=e:t.data=e}},{key:"ngOnDestroy",value:function(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}},{key:"translate",set:function(t){t&&(this.key=t,this.checkNodes())}},{key:"translateParams",set:function(t){y(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(D),i.Tb(i.l),i.Tb(i.h))},t.\u0275dir=i.Ob({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),t}(),L=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this._ref=n,this.value=""}return _createClass(t,[{key:"updateValue",value:function(t,e,n){var i=this,a=function(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,t,e);Object(r.a)(o.subscribe)?o.subscribe(a):a(o)}this.translate.get(t,e).subscribe(a)}},{key:"transform",value:function(t){var e,n=this;if(!t||!t.length)return t;for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];if(y(t,this.lastKey)&&y(a,this.lastParams))return this.value;if(_(a[0])&&a.length)if("string"==typeof a[0]&&a[0].length){var o=a[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{e=JSON.parse(o)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+a[0])}}else"object"!=typeof a[0]||Array.isArray(a[0])||(e=a[0]);return this.lastKey=t,this.lastParams=a,this.updateValue(t,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe((function(i){n.lastKey&&i.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(t,e,i.translations))}))),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe((function(i){n.lastKey&&(n.lastKey=null,n.updateValue(t,e,i.translations))}))),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe((function(){n.lastKey&&(n.lastKey=null,n.updateValue(t,e))}))),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(D),i.fc())},t.\u0275pipe=i.Sb({name:"translate",type:t,pure:!1}),t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),F=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:p,useClass:m},e.compiler||{provide:O,useClass:S},e.parser||{provide:C,useClass:x},e.missingTranslationHandler||{provide:b,useClass:v},M,{provide:I,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:A,useValue:e.extend},{provide:T,useValue:e.defaultLanguage},D]}}},{key:"forChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:p,useClass:m},e.compiler||{provide:O,useClass:S},e.parser||{provide:C,useClass:x},e.missingTranslationHandler||{provide:b,useClass:v},{provide:I,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:A,useValue:e.extend},{provide:T,useValue:e.defaultLanguage},D]}}}]),t}();return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)}}),t}()},"tk/3":function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return f}));var i=n("fXoL"),a=n("LRne"),r=n("HDdC"),o=n("bOdf"),s=n("pLZG"),c=n("lJxs"),l=n("ofXK"),u=function t(){_classCallCheck(this,t)},d=function t(){_classCallCheck(this,t)},f=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),a=i.toLowerCase(),r=t.slice(e+1).trim();n.maybeSetNormalizedName(i,a),n.headers.has(a)?n.headers.get(a).push(r):n.headers.set(a,[r])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var i=e[t],a=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(a,i),n.maybeSetNormalizedName(t,a))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(e,i);break;case"d":var a=t.value;if(a){var r=this.headers.get(e);if(!r)return;0===(r=r.filter((function(t){return-1===a.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),h=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return p(t)}},{key:"encodeValue",value:function(t){return p(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var m=function(){function t(){var e,n,i,a=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new h,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=r.fromString,n=this.encoder,i=new Map,e.length>0&&e.split("&").forEach((function(t){var e=t.indexOf("="),a=_slicedToArray(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),r=a[0],o=a[1],s=i.get(r)||[];s.push(o),i.set(r,s)})),i)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach((function(t){var e=r.fromObject[t];a.map.set(t,Array.isArray(e)?e:[e])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],a=i.indexOf(e.value);-1!==a&&i.splice(a,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function g(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function b(t){return"undefined"!=typeof Blob&&t instanceof Blob}function v(t){return"undefined"!=typeof FormData&&t instanceof FormData}var y=function(){function t(e,n,i,a){var r;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,r=a):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new f),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new m,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:g(this.body)||b(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||v(this.body)?null:b(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),l)),new t(n,i,r,{params:l,headers:c,reportProgress:s,responseType:a,withCredentials:o})}}]),t}(),_=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),k=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new f,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},C=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=_.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(k),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=_.Response,t.body=void 0!==i.body?i.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(k),w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return n}(k);function O(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var S=function(){var t=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof y)n=t;else{var l=void 0;l=r.headers instanceof f?r.headers:new f(r.headers);var u=void 0;r.params&&(u=r.params instanceof m?r.params:new m({fromObject:r.params})),n=new y(t,e,void 0!==r.body?r.body:null,{headers:l,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var d=Object(a.a)(n).pipe(Object(o.a)((function(t){return i.handler.handle(t)})));if(t instanceof y||"events"===r.observe)return d;var h=d.pipe(Object(s.a)((function(t){return t instanceof x})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return h.pipe(Object(c.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return h.pipe(Object(c.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return h.pipe(Object(c.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return h.pipe(Object(c.a)((function(t){return t.body})))}case"response":return h;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new m).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,O(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,O(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,O(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(u))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),E=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),M=new i.r("HTTP_INTERCEPTORS"),I=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),P=/^\)\]\}',?\n/,T=function t(){_classCallCheck(this,t)},A=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),D=function(){var t=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new r.a((function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((function(t,e){return i.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var a=t.detectContentTypeHeader();null!==a&&i.setRequestHeader("Content-Type",a)}if(t.responseType){var r=t.responseType.toLowerCase();i.responseType="json"!==r?r:"text"}var o=t.serializeBody(),s=null,c=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",a=new f(i.getAllResponseHeaders()),r=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new C({headers:a,status:e,statusText:n,url:r})},l=function(){var e=c(),a=e.headers,r=e.status,o=e.statusText,s=e.url,l=null;204!==r&&(l=void 0===i.response?i.responseText:i.response),0===r&&(r=l?200:0);var u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){var d=l;l=l.replace(P,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=d,u&&(u=!1,l={error:f,text:l})}}u?(n.next(new x({body:l,headers:a,status:r,statusText:o,url:s||void 0})),n.complete()):n.error(new w({error:l,headers:a,status:r,statusText:o,url:s||void 0}))},u=function(t){var e=c().url,a=new w({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(a)},d=!1,h=function(e){d||(n.next(c()),d=!0);var a={type:_.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(a.total=e.total),"text"===t.responseType&&i.responseText&&(a.partialText=i.responseText),n.next(a)},p=function(t){var e={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",l),i.addEventListener("error",u),t.reportProgress&&(i.addEventListener("progress",h),null!==o&&i.upload&&i.upload.addEventListener("progress",p)),i.send(o),n.next({type:_.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",l),t.reportProgress&&(i.removeEventListener("progress",h),null!==o&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(T))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),R=new i.r("XSRF_COOKIE_NAME"),L=new i.r("XSRF_HEADER_NAME"),F=function t(){_classCallCheck(this,t)},j=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.M)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(l.e),i.dc(i.E),i.dc(R))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),Y=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(F),i.dc(L))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),Z=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(M,[]);this.chain=e.reduceRight((function(t,e){return new E(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(d),i.dc(i.s))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),N=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Y,useClass:I}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:R,useValue:e.cookieName}:[],e.headerName?{provide:L,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[Y,{provide:M,useExisting:Y,multi:!0},{provide:F,useClass:j},{provide:R,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),t}(),U=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},providers:[S,{provide:u,useClass:Z},D,{provide:d,useExisting:D},A,{provide:T,useExisting:A}],imports:[[N.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}()},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return ee})),n.d(e,"b",(function(){return Sn})),n.d(e,"c",(function(){return fn})),n.d(e,"d",(function(){return hn})),n.d(e,"e",(function(){return _n})),n.d(e,"f",(function(){return pn})),n.d(e,"g",(function(){return Ln})),n.d(e,"h",(function(){return xn})),n.d(e,"i",(function(){return dt}));var i=n("ofXK"),a=n("fXoL"),r=n("LRne"),o=n("Cfvw"),s=n("2Vo4"),c=n("HDdC"),l=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),u=n("itXk"),d=n("NXyV"),f=n("XNiG"),h=n("EY2u"),p=n("lJxs"),m=n("0EUg"),g=n("pLZG"),b=n("7o/Q"),v=n("4I5i");function y(t){return function(e){return 0===t?Object(h.b)():e.lift(new _(t))}}var _=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new v.a}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new k(t,this.total))}}]),t}(),k=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).total=i,a.ring=new Array,a.count=0,a}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,a=0;a<n;a++){var r=e++%n;t.next(i[r])}t.complete()}}]),n}(b.a);function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return function(e){return e.lift(new x(t))}}var x=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new w(t,this.errorFactory))}}]),t}(),w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).errorFactory=i,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(b.a);function O(){return new l}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new E(t))}}var E=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new M(t,this.defaultValue))}}]),t}(),M=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).defaultValue=i,a.isEmpty=!0,a}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(b.a),I=n("SpAZ");function P(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(g.a)((function(e,n){return t(e,n,i)})):I.a,y(1),n?S(e):C((function(){return new l})))}}var T=n("JIr8"),A=n("IzEk");function D(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(g.a)((function(e,n){return t(e,n,i)})):I.a,Object(A.a)(1),n?S(e):C((function(){return new l})))}}var R=n("5+tZ"),L=function(){function t(e,n,i){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new F(t,this.predicate,this.thisArg,this.source))}}]),t}(),F=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=a,o.source=r,o.index=0,o.thisArg=a||_assertThisInitialized(o),o}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(b.a),j=n("eIep"),Y=n("JX91");function Z(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new U(t,e,n))}}var N,U=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new B(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),B=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).accumulator=i,o._seed=a,o.hasSeed=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(b.a),z=n("bOdf"),V=n("mCNh"),H=n("vkgz"),Q=n("nYR2"),W=n("bHdf"),G=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(a=e.call(this,t,i)).navigationTrigger=r,a.restoredState=o,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(G),X=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).urlAfterRedirects=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(G),$=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).reason=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(G),J=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).error=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(G),K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=a,o.state=r,o}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(G),tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=a,o.state=r,o}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(G),et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,i)).urlAfterRedirects=a,s.state=r,s.shouldActivate=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(G),nt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=a,o.state=r,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(G),it=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=a,o.state=r,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(G),at=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),rt=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),ot=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),st=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ct=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),lt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ut=function(){function t(e,n,i){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),dt=((N=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||N)},N.\u0275cmp=a.Nb({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&a.Ub(0,"router-outlet")},directives:function(){return[xn]},encapsulation:2}),N),ft=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function ht(t){return new ft(t)}function pt(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mt(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var a={},r=0;r<i.length;r++){var o=i[r],s=t[r];if(o.startsWith(":"))a[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}var gt=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function bt(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];vt(i,yt(e,i))}}function vt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&bt(t.children,e)}function yt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function _t(t){var e=t.children&&t.children.map(_t),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=dt),n}function kt(t,e){var n,i=Object.keys(t),a=Object.keys(e);if(!i||!a||i.length!=a.length)return!1;for(var r=0;r<i.length;r++)if(!Ct(t[n=i[r]],e[n]))return!1;return!0}function Ct(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function xt(t){return Array.prototype.concat.apply([],t)}function wt(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function St(t){return Object(a.ub)(t)?t:Object(a.vb)(t)?Object(o.a)(Promise.resolve(t)):Object(r.a)(t)}function Et(t,e,n){return n?function(t,e){return kt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Tt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return Ct(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,a){if(n.segments.length>a.length)return!!Tt(n.segments.slice(0,a.length),a)&&!i.hasChildren();if(n.segments.length===a.length){if(!Tt(n.segments,a))return!1;for(var r in i.children){if(!n.children[r])return!1;if(!t(n.children[r],i.children[r]))return!1}return!0}var o=a.slice(0,n.segments.length),s=a.slice(n.segments.length);return!!Tt(n.segments,o)&&!!n.children.primary&&e(n.children.primary,i,s)}(e,n,n.segments)}(t.root,e.root)}var Mt=function(){function t(e,n,i){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=i}return _createClass(t,[{key:"toString",value:function(){return Lt.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}}]),t}(),It=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Ot(n,(function(t,e){return t.parent=i}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Ft(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Pt=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Bt(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ht(this.parameters)),this._parameterMap}}]),t}();function Tt(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function At(t,e){var n=[];return Ot(t.children,(function(t,i){"primary"===i&&(n=n.concat(e(t,i)))})),Ot(t.children,(function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))})),n}var Dt=function t(){_classCallCheck(this,t)},Rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Wt(t);return new Mt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Ft(e);if(n){var i=e.children.primary?t(e.children.primary,!1):"",a=[];return Ot(e.children,(function(e,n){"primary"!==n&&a.push("".concat(n,":").concat(t(e,!1)))})),a.length>0?"".concat(i,"(").concat(a.join("//"),")"):i}var r=At(e,(function(n,i){return"primary"===i?[t(e.children.primary,!1)]:["".concat(i,":").concat(t(n,!1))]}));return"".concat(Ft(e),"/(").concat(r.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Yt(t),"=").concat(Yt(e))})).join("&"):"".concat(Yt(t),"=").concat(Yt(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Lt=new Rt;function Ft(t){return t.segments.map((function(t){return Bt(t)})).join("/")}function jt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yt(t){return jt(t).replace(/%3B/gi,";")}function Zt(t){return jt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nt(t){return decodeURIComponent(t)}function Ut(t){return Nt(t.replace(/\+/g,"%20"))}function Bt(t){return"".concat(Zt(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Zt(t),"=").concat(Zt(e[t]))})).join("")));var e}var zt=/^[^\/()?;=#]+/;function Vt(t){var e=t.match(zt);return e?e[0]:""}var Ht=/^[^=?&#]+/,Qt=/^[^?&#]+/,Wt=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new It(t,e)),n}},{key:"parseSegment",value:function(){var t=Vt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Pt(Nt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Vt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Vt(this.remaining);i&&(n=i,this.capture(n))}t[Nt(e)]=Nt(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Ht);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Qt);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var a=Ut(e),r=Ut(n);if(t.hasOwnProperty(a)){var o=t[a];Array.isArray(o)||(o=[o],t[a]=o),o.push(r)}else t[a]=r}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Vt(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var a=void 0;n.indexOf(":")>-1?(a=n.substr(0,n.indexOf(":")),this.capture(a),this.capture(":")):t&&(a="primary");var r=this.parseChildren();e[a]=1===Object.keys(r).length?r.primary:new It([],r),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Gt=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=qt(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=qt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Xt(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Xt(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function qt(t,e){if(t===e.value)return e;var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var a=qt(t,n.value);if(a)return a}}catch(r){i.e(r)}finally{i.f()}return null}function Xt(t,e){if(t===e.value)return[e];var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var a=Xt(t,n.value);if(a.length)return a.unshift(e),a}}catch(r){i.e(r)}finally{i.f()}return[]}var $t=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Jt(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Kt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).snapshot=i,re(_assertThisInitialized(a),t),a}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Gt);function te(t,e){var n=function(t,e){var n=new ie([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ae("",new $t(n,[]))}(t,e),i=new s.a([new Pt("",{})]),a=new s.a({}),r=new s.a({}),o=new s.a({}),c=new s.a(""),l=new ee(i,a,o,c,r,"primary",e,n.root);return l.snapshot=n.root,new Kt(new $t(l,[]),n)}var ee=function(){function t(e,n,i,a,r,o,s,c){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=a,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=c}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)((function(t){return ht(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)((function(t){return ht(t)})))),this._queryParamMap}}]),t}();function ne(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var a=n[i],r=n[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(r.component)break;i--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var ie=function(){function t(e,n,i,a,r,o,s,c,l,u,d){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=a,this.data=r,this.outlet=o,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=d}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ht(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}}]),t}(),ae=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,i)).url=t,re(_assertThisInitialized(a),i),a}return _createClass(n,[{key:"toString",value:function(){return oe(this._root)}}]),n}(Gt);function re(t,e){e.value._routerState=t,e.children.forEach((function(e){return re(t,e)}))}function oe(t){var e=t.children.length>0?" { ".concat(t.children.map(oe).join(", ")," } "):"";return"".concat(t.value).concat(e)}function se(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!kt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ce(t,e){var n,i;return kt(t.params,e.params)&&Tt(n=t.url,i=e.url)&&n.every((function(t,e){return kt(t.parameters,i[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||ce(t.parent,e.parent))}function le(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ue(t,e,n,i,a){var r={};return i&&Ot(i,(function(t,e){r[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Mt(n.root===t?e:function t(e,n,i){var a={};return Ot(e.children,(function(e,r){a[r]=e===n?i:t(e,n,i)})),new It(e.segments,a)}(n.root,t,e),r,a)}var de=function(){function t(e,n,i){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&le(i[0]))throw new Error("Root segment cannot have matrix parameters");var a=i.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(a&&a!==wt(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),fe=function t(e,n,i){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function he(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function pe(t,e,n){if(t||(t=new It([],{})),0===t.segments.length&&t.hasChildren())return me(t,e,n);var i=function(t,e,n){for(var i=0,a=e,r={match:!1,pathIndex:0,commandIndex:0};a<t.segments.length;){if(i>=n.length)return r;var o=t.segments[a],s=he(n[i]),c=i<n.length-1?n[i+1]:null;if(a>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!ye(s,c,o))return r;i+=2}else{if(!ye(s,{},o))return r;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(t,e,n),a=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var r=new It(t.segments.slice(0,i.pathIndex),{});return r.children.primary=new It(t.segments.slice(i.pathIndex),t.children),me(r,0,a)}return i.match&&0===a.length?new It(t.segments,{}):i.match&&!t.hasChildren()?ge(t,e,n):i.match?me(t,0,a):ge(t,e,n)}function me(t,e,n){if(0===n.length)return new It(t.segments,{});var i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),a={};return Ot(i,(function(n,i){null!==n&&(a[i]=pe(t.children[i],e,n))})),Ot(t.children,(function(t,e){void 0===i[e]&&(a[e]=t)})),new It(t.segments,a)}function ge(t,e,n){for(var i=t.segments.slice(0,e),a=0;a<n.length;){if("object"==typeof n[a]&&void 0!==n[a].outlets){var r=be(n[a].outlets);return new It(i,r)}if(0===a&&le(n[0]))i.push(new Pt(t.segments[e].path,n[0])),a++;else{var o=he(n[a]),s=a<n.length-1?n[a+1]:null;o&&s&&le(s)?(i.push(new Pt(o,ve(s))),a+=2):(i.push(new Pt(o,{})),a++)}}return new It(i,{})}function be(t){var e={};return Ot(t,(function(t,n){null!==t&&(e[n]=ge(new It([],{}),0,t))})),e}function ve(t){var e={};return Ot(t,(function(t,n){return e[n]=""+t})),e}function ye(t,e,n){return t==n.path&&kt(e,n.parameters)}var _e=function(){function t(e,n,i,a){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=a}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),se(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,a=Jt(e);t.children.forEach((function(t){var e=t.value.outlet;i.deactivateRoutes(t,a[e],n),delete a[e]})),Ot(a,(function(t,e){i.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,a=e?e.value:null;if(i===a)if(i.component){var r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else a&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var a=Jt(t),r=t.value.component?i.children:e;Ot(a,(function(t,e){return n.deactivateRouteAndItsChildren(t,r)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,a=Jt(e);t.children.forEach((function(t){i.activateRoutes(t,a[t.value.outlet],n),i.forwardEvent(new lt(t.value.snapshot))})),t.children.length&&this.forwardEvent(new st(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,a=e?e.value:null;if(se(i),i===a)if(i.component){var r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),ke(s.route)}else{var c=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=c?c.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function ke(t){se(t.value),t.children.forEach(ke)}function Ce(t){return"function"==typeof t}function xe(t){return t instanceof Mt}var we=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Oe=function t(e){_classCallCheck(this,t),this.urlTree=e};function Se(t){return new c.a((function(e){return e.error(new we(t))}))}function Ee(t){return new c.a((function(e){return e.error(new Oe(t))}))}function Me(t){return new c.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Ie=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(a.z)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(p.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Object(T.a)((function(e){if(e instanceof Oe)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof we)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(p.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Object(T.a)((function(t){if(t instanceof we)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new It([],{primary:t}):t;return new Mt(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(p.a)((function(t){return new It([],t)}))):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){var i=this;return function(n,a){if(0===Object.keys(n).length)return Object(r.a)({});var o=[],s=[],c={};return Ot(n,(function(n,a){var r,l,u=(r=a,l=n,i.expandSegmentGroup(t,e,l,r)).pipe(Object(p.a)((function(t){return c[a]=t})));"primary"===a?o.push(u):s.push(u)})),r.a.apply(null,o.concat(s)).pipe(Object(m.a)(),P(),Object(p.a)((function(){return c})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,a,o){var s=this;return Object(r.a).apply(void 0,_toConsumableArray(n)).pipe(Object(p.a)((function(c){return s.expandSegmentAgainstRoute(t,e,n,c,i,a,o).pipe(Object(T.a)((function(t){if(t instanceof we)return Object(r.a)(null);throw t})))})),Object(m.a)(),D((function(t){return!!t})),Object(T.a)((function(t,n){if(t instanceof l||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,a))return Object(r.a)(new It([],{}));throw new we(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,a,r,o){return De(i)!==r?Se(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,a,r):Se(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,a,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,a,r)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var a=this,r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ee(r):this.lineralizeSegments(n,r).pipe(Object(R.a)((function(n){var r=new It(n,{});return a.expandSegment(t,r,e,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,a,r){var o=this,s=Pe(e,i,a),c=s.matched,l=s.consumedSegments,u=s.lastChild,d=s.positionalParamSegments;if(!c)return Se(e);var f=this.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?Ee(f):this.lineralizeSegments(i,f).pipe(Object(R.a)((function(i){return o.expandSegment(t,e,n,i.concat(a.slice(u)),r,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i){var a=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(p.a)((function(t){return n._loadedConfig=t,new It(i,{})}))):Object(r.a)(new It(i,{}));var o=Pe(e,n,i),s=o.matched,c=o.consumedSegments,l=o.lastChild;if(!s)return Se(e);var u=i.slice(l);return this.getChildConfig(t,n,i).pipe(Object(R.a)((function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some((function(n){return Ae(t,e,n)&&"primary"!==De(n)}))}(t,n,i)?{segmentGroup:Te(new It(e,function(t,e){var n={};n.primary=e;var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var r=i.value;""===r.path&&"primary"!==De(r)&&(n[De(r)]=new It([],{}))}}catch(o){a.e(o)}finally{a.f()}return n}(i,new It(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Ae(t,e,n)}))}(t,n,i)?{segmentGroup:Te(new It(t.segments,function(t,e,n,i){var a,r={},o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;Ae(t,e,s)&&!i[De(s)]&&(r[De(s)]=new It([],{}))}}catch(c){o.e(c)}finally{o.f()}return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,c,u,i),s=o.segmentGroup,l=o.slicedSegments;return 0===l.length&&s.hasChildren()?a.expandChildren(n,i,s).pipe(Object(p.a)((function(t){return new It(c,t)}))):0===i.length&&0===l.length?Object(r.a)(new It(c,{})):a.expandSegment(n,s,i,l,"primary",!0).pipe(Object(p.a)((function(t){return new It(c.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?Object(r.a)(new gt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(r.a)(e._loadedConfig):function(t,e,n){var i,a=e.canLoad;return a&&0!==a.length?Object(o.a)(a).pipe(Object(p.a)((function(i){var a,r=t.get(i);if(function(t){return t&&Ce(t.canLoad)}(r))a=r.canLoad(e,n);else{if(!Ce(r))throw new Error("Invalid CanLoad guard");a=r(e,n)}return St(a)}))).pipe(Object(m.a)(),(i=function(t){return!0===t},function(t){return t.lift(new L(i,void 0,t))})):Object(r.a)(!0)}(t.injector,e,n).pipe(Object(R.a)((function(n){return n?i.configLoader.load(t.injector,e).pipe(Object(p.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new c.a((function(e){return e.error(pt("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(r.a)(new gt([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(r.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Me(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var a=this.createSegmentGroup(t,e.root,n,i);return new Mt(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ot(t,(function(t,i){if("string"==typeof t&&t.startsWith(":")){var a=t.substring(1);n[i]=e[a]}else n[i]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var a=this,r=this.createSegments(t,e.segments,n,i),o={};return Ot(e.children,(function(e,r){o[r]=a.createSegmentGroup(t,e,n,i)})),new It(r,o)}},{key:"createSegments",value:function(t,e,n,i){var a=this;return e.map((function(e){return e.path.startsWith(":")?a.findPosParam(t,e,i):a.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.path===t.path)return e.splice(i),r;i++}}catch(o){a.e(o)}finally{a.f()}return t}}]),t}();function Pe(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||mt)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Te(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new It(t.segments.concat(e.segments),e.children)}return t}function Ae(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function De(t){return t.outlet||"primary"}var Re=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Le=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Fe(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function je(t,e,n){var i=Jt(t),a=t.value;Ot(i,(function(t,i){je(t,a.component?e?e.children.getContext(i):null:e,n)})),n.canDeactivateChecks.push(new Le(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}var Ye=Symbol("INITIAL_VALUE");function Ze(){return Object(j.a)((function(t){return Object(u.a).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Object(A.a)(1),Object(Y.a)(Ye))})))).pipe(Z((function(t,e){var n=!1;return e.reduce((function(t,i,a){if(t!==Ye)return t;if(i===Ye&&(n=!0),!n){if(!1===i)return i;if(a===e.length-1||xe(i))return i}return t}),t)}),Ye),Object(g.a)((function(t){return t!==Ye})),Object(p.a)((function(t){return xe(t)?t:!0===t})),Object(A.a)(1))}))}function Ne(t,e){return null!==t&&e&&e(new ct(t)),Object(r.a)(!0)}function Ue(t,e){return null!==t&&e&&e(new ot(t)),Object(r.a)(!0)}function Be(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(r.a)(!0);var a=i.map((function(i){return Object(d.a)((function(){var a,r=Fe(i,e,n);if(function(t){return t&&Ce(t.canActivate)}(r))a=St(r.canActivate(e,t));else{if(!Ce(r))throw new Error("Invalid CanActivate guard");a=St(r(e,t))}return a.pipe(D())}))}));return Object(r.a)(a).pipe(Ze())}function ze(t,e,n){var i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Object(d.a)((function(){var a=e.guards.map((function(a){var r,o=Fe(a,e.node,n);if(function(t){return t&&Ce(t.canActivateChild)}(o))r=St(o.canActivateChild(i,t));else{if(!Ce(o))throw new Error("Invalid CanActivateChild guard");r=St(o(i,t))}return r.pipe(D())}));return Object(r.a)(a).pipe(Ze())}))}));return Object(r.a)(a).pipe(Ze())}var Ve=function t(){_classCallCheck(this,t)},He=function(){function t(e,n,i,a,r,o){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}return _createClass(t,[{key:"recognize",value:function(){try{var t=Ge(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ie([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $t(n,e),a=new ae(this.url,i);return this.inheritParamsAndData(a._root),Object(r.a)(a)}catch(o){return new c.a((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=ne(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,i=this,a=At(e,(function(e,n){return i.processSegmentGroup(t,e,n)}));return n={},a.forEach((function(t){var e=n[t.value.outlet];if(e){var i=e.url.map((function(t){return t.toString()})).join("/"),a=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(a,"'."))}n[t.value.outlet]=t.value})),a.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),a}},{key:"processSegment",value:function(t,e,n,i){var a,r=_createForOfIteratorHelper(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;try{return this.processSegmentAgainstRoute(o,e,n,i)}catch(s){if(!(s instanceof Ve))throw s}}}catch(c){r.e(c)}finally{r.f()}if(this.noLeftoversInUrl(e,n,i))return[];throw new Ve}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo)throw new Ve;if((t.outlet||"primary")!==i)throw new Ve;var a,r=[],o=[];if("**"===t.path){var s=n.length>0?wt(n).parameters:{};a=new ie(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$e(t),i,t.component,t,Qe(e),We(e)+n.length,Je(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ve;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||mt)(n,t,e);if(!i)throw new Ve;var a={};Ot(i.posParams,(function(t,e){a[e]=t.path}));var r=i.consumed.length>0?Object.assign(Object.assign({},a),i.consumed[i.consumed.length-1].parameters):a;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(e,t,n);r=c.consumedSegments,o=n.slice(c.lastChild),a=new ie(r,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$e(t),i,t.component,t,Qe(e),We(e)+r.length,Je(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),u=Ge(e,r,o,l,this.relativeLinkResolution),d=u.segmentGroup,f=u.slicedSegments;if(0===f.length&&d.hasChildren()){var h=this.processChildren(l,d);return[new $t(a,h)]}if(0===l.length&&0===f.length)return[new $t(a,[])];var p=this.processSegment(l,d,f,"primary");return[new $t(a,p)]}}]),t}();function Qe(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function We(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ge(t,e,n,i,a){if(n.length>0&&function(t,e,n){return n.some((function(n){return qe(t,e,n)&&"primary"!==Xe(n)}))}(t,n,i)){var r=new It(e,function(t,e,n,i){var a={};a.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var r,o=_createForOfIteratorHelper(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(""===s.path&&"primary"!==Xe(s)){var c=new It([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,a[Xe(s)]=c}}}catch(l){o.e(l)}finally{o.f()}return a}(t,e,i,new It(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return qe(t,e,n)}))}(t,n,i)){var o=new It(t.segments,function(t,e,n,i,a,r){var o,s={},c=_createForOfIteratorHelper(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(qe(t,n,l)&&!a[Xe(l)]){var u=new It([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===r?t.segments.length:e.length,s[Xe(l)]=u}}}catch(d){c.e(d)}finally{c.f()}return Object.assign(Object.assign({},a),s)}(t,e,n,i,t.children,a));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new It(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function qe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Xe(t){return t.outlet||"primary"}function $e(t){return t.data||{}}function Je(t){return t.resolve||{}}function Ke(t,e,n,i){var a=Fe(t,e,i);return St(a.resolve?a.resolve(e,n):a(e,n))}function tn(t){return function(e){return e.pipe(Object(j.a)((function(e){var n=t(e);return n?Object(o.a)(n).pipe(Object(p.a)((function(){return e}))):Object(o.a)([e])})))}}var en=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),nn=new a.r("ROUTES"),an=function(){function t(e,n,i,a){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=a}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(p.a)((function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var a=i.create(t);return new gt(xt(a.injector.get(nn)).map(_t),a)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(o.a)(this.loader.load(t)):St(t()).pipe(Object(R.a)((function(t){return t instanceof a.x?Object(r.a)(t):Object(o.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),rn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function on(t){throw t}function sn(t,e,n){return e.parse("/")}function cn(t,e){return Object(r.a)(null)}var ln,un,dn,fn=((dn=function(){function t(e,n,i,r,o,c,l,u){var d=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new f.a,this.errorHandler=on,this.malformedUriErrorHandler=sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cn,afterPreactivation:cn},this.urlHandlingStrategy=new rn,this.routeReuseStrategy=new en,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(a.z),this.console=o.get(a.bb);var h=o.get(a.B);this.isNgZoneEnabled=h instanceof a.B,this.resetConfig(u),this.currentUrlTree=new Mt(new It([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new an(c,l,(function(t){return d.triggerEvent(new at(t))}),(function(t){return d.triggerEvent(new rt(t))})),this.routerState=te(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(g.a)((function(t){return 0!==t.id})),Object(p.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Object(j.a)((function(t){var i,a,c,l=!1,u=!1;return Object(r.a)(t).pipe(Object(H.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(j.a)((function(t){var i,a,o,s,c=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||c)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(r.a)(t).pipe(Object(j.a)((function(t){var i=e.transitions.getValue();return n.next(new q(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?h.a:[t]})),Object(j.a)((function(t){return Promise.resolve(t)})),(i=e.ngModule.injector,a=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(Object(j.a)((function(t){return function(t,e,n,i,a){return new Ie(t,e,n,i,a).apply()}(i,a,o,t.extractedUrl,s).pipe(Object(p.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(H.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,i,a,r){return function(i){return i.pipe(Object(R.a)((function(i){return function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new He(t,e,n,i,a,r).recognize()}(t,n,i.urlAfterRedirects,(o=i.urlAfterRedirects,e.serializeUrl(o)),a,r).pipe(Object(p.a)((function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})})));var o})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(H.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(H.a)((function(t){var i=new K(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)})));if(c&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,u=t.extractedUrl,d=t.source,f=t.restoredState,m=t.extras,g=new q(l,e.serializeUrl(u),d,f);n.next(g);var b=te(u,e.rootComponentType).snapshot;return Object(r.a)(Object.assign(Object.assign({},t),{targetSnapshot:b,urlAfterRedirects:u,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),h.a})),tn((function(t){var n=t.targetSnapshot,i=t.id,a=t.extractedUrl,r=t.rawUrl,o=t.extras,s=o.skipLocationChange,c=o.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:a,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!c})})),Object(H.a)((function(t){var n=new tt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(p.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,i=t.currentSnapshot,a=e.rootContexts,r=n._root,function t(e,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Jt(n);return e.children.forEach((function(e){!function(e,n,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=n?n.value:null,c=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tt(t.url,e.url)||!kt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ce(t,e)||!kt(t.queryParams,e.queryParams);case"paramsChange":default:return!ce(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Re(a)):(o.data=s.data,o._resolvedData=s._resolvedData),t(e,n,o.component?c?c.children:null:i,a,r),l&&r.canDeactivateChecks.push(new Le(c&&c.outlet&&c.outlet.component||null,s))}else s&&je(n,c,r),r.canActivateChecks.push(new Re(a)),t(e,null,o.component?c?c.children:null:i,a,r)}(e,o[e.value.outlet],i,a.concat([e.value]),r),delete o[e.value.outlet]})),Ot(o,(function(t,e){return je(t,i.getContext(e),r)})),r}(r,i?i._root:null,a,[r.value]))});var n,i,a,r})),function(t,e){return function(n){return n.pipe(Object(R.a)((function(n){var i=n.targetSnapshot,a=n.currentSnapshot,s=n.guards,c=s.canActivateChecks,l=s.canDeactivateChecks;return 0===l.length&&0===c.length?Object(r.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(o.a)(t).pipe(Object(R.a)((function(t){return function(t,e,n,i,a){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(r.a)(!0);var s=o.map((function(r){var o,s=Fe(r,e,a);if(function(t){return t&&Ce(t.canDeactivate)}(s))o=St(s.canDeactivate(t,e,n,i));else{if(!Ce(s))throw new Error("Invalid CanDeactivate guard");o=St(s(t,e,n,i))}return o.pipe(D())}));return Object(r.a)(s).pipe(Ze())}(t.component,t.route,n,e,i)})),D((function(t){return!0!==t}),!0))}(l,i,a,t).pipe(Object(R.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return Object(o.a)(e).pipe(Object(z.a)((function(e){return Object(o.a)([Ue(e.route.parent,i),Ne(e.route,i),ze(t,e.path,n),Be(t,e.route,n)]).pipe(Object(m.a)(),D((function(t){return!0!==t}),!0))})),D((function(t){return!0!==t}),!0))}(i,c,t,e):Object(r.a)(n)})),Object(p.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(H.a)((function(t){if(xe(t.guardsResult)){var n=pt('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(H.a)((function(t){var n=new et(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Object(g.a)((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new $(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0})),tn((function(t){if(t.guards.canActivateChecks.length)return Object(r.a)(t).pipe(Object(H.a)((function(t){var n=new nt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Object(R.a)((function(t){var e=t.targetSnapshot,a=t.guards.canActivateChecks;return a.length?Object(o.a)(a).pipe(Object(z.a)((function(t){return function(t,e,n,i){return function(t,e,n,i){var a=Object.keys(t);if(0===a.length)return Object(r.a)({});if(1===a.length){var s=a[0];return Ke(t[s],e,n,i).pipe(Object(p.a)((function(t){return _defineProperty({},s,t)})))}var c={};return Object(o.a)(a).pipe(Object(R.a)((function(a){return Ke(t[a],e,n,i).pipe(Object(p.a)((function(t){return c[a]=t,t})))}))).pipe(P(),Object(p.a)((function(){return c})))}(t._resolve,t,e,i).pipe(Object(p.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ne(t,n).resolve),null})))}(t.route,e,n,i)})),function(t,e){return arguments.length>=2?function(n){return Object(V.a)(Z(t,e),y(1),S(e))(n)}:function(e){return Object(V.a)(Z((function(e,n,i){return t(e,n,i+1)})),y(1))(e)}}((function(t,e){return t})),Object(p.a)((function(e){return t}))):Object(r.a)(t)})))}),Object(H.a)((function(t){var n=new it(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,i})),tn((function(t){var n=t.targetSnapshot,i=t.id,a=t.extractedUrl,r=t.rawUrl,o=t.extras,s=o.skipLocationChange,c=o.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:a,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!c})})),Object(p.a)((function(t){var n=function(t,e,n){var i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){var a=i.value;a._futureSnapshot=n.value;var r=function(e,n,i){return n.children.map((function(n){var a,r=_createForOfIteratorHelper(i.children);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(e.shouldReuseRoute(o.value.snapshot,n.value))return t(e,n,o)}}catch(s){r.e(s)}finally{r.f()}return t(e,n)}))}(e,n,i);return new $t(a,r)}var o=e.retrieve(n.value);if(o){var c=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,c),c}var l,u=new ee(new s.a((l=n.value).url),new s.a(l.params),new s.a(l.queryParams),new s.a(l.fragment),new s.a(l.data),l.outlet,l.component,l),d=n.children.map((function(n){return t(e,n)}));return new $t(u,d)}(t,e._root,n?n._root:void 0);return new Kt(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(H.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,a=e.routeReuseStrategy,c=function(t){return e.triggerEvent(t)},Object(p.a)((function(t){return new _e(a,t.targetRouterState,t.currentRouterState,c).activate(i),t}))),Object(H.a)({next:function(){l=!0},complete:function(){l=!0}}),Object(Q.a)((function(){if(!l&&!u){e.resetUrlToCurrentUrlTree();var i=new $(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null})),Object(T.a)((function(i){if(u=!0,(s=i)&&s.ngNavigationCancelingError){var a=xe(i.url);a||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var r=new $(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(r),a?setTimeout((function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new J(t.id,e.serializeUrl(t.extractedUrl),i);n.next(o);try{t.resolve(e.errorHandler(i))}catch(c){t.reject(c)}}var s;return h.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",a=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,i,a,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){bt(t),this.config=t.map(_t),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,c=e.preserveFragment;Object(a.Y)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:r,d=null;if(s)switch(s){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=o?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,i,a){if(0===n.length)return ue(e.root,e.root,e,i,a);var r=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new de(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,a){if("object"==typeof i&&null!=i){if(i.outlets){var r={};return Ot(i.outlets,(function(t,e){r[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:r}])}if(i.segmentPath)return[].concat(_toConsumableArray(t),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(t),[i]):0===a?(i.split("/").forEach((function(i,a){0==a&&"."===i||(0==a&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))})),t):[].concat(_toConsumableArray(t),[i])}),[]);return new de(n,e,i)}(n);if(r.toRoot())return ue(e.root,new It([],{}),e,i,a);var o=function(t,e,n){if(t.isAbsolute)return new fe(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new fe(n.snapshot._urlSegment,!0,0);var i=le(t.commands[0])?0:1;return function(t,e,n){for(var i=t,a=e,r=n;r>a;){if(r-=a,!(i=i.parent))throw new Error("Invalid number of '../'");a=i.segments.length}return new fe(i,!1,a-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(r,e,t),s=o.processChildren?me(o.segmentGroup,o.index,r.commands):pe(o.segmentGroup,o.index,r.commands);return ue(o.segmentGroup,s,e,i,a)}(l,this.currentUrlTree,t,d,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(a.Y)()&&this.isNgZoneEnabled&&!a.B.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=xe(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(xe(t))return Et(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Et(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var i=t[n];return null!=i&&(e[n]=i),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new X(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,i,a){var r,o,s,c=this.getTransition();if(c&&"imperative"!==e&&"imperative"===c.source&&c.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(c&&"hashchange"==e&&"popstate"===c.source&&c.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(c&&"popstate"==e&&"hashchange"===c.source&&c.rawUrl.toString()===t.toString())return Promise.resolve(!0);a?(r=a.resolve,o=a.reject,s=a.promise):s=new Promise((function(t,e){r=t,o=e}));var l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:r,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,i){var a=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(a)||e?this.location.replaceState(a,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(a,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){a.gc()},dn.\u0275dir=a.Ob({type:dn}),dn),hn=((un=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==i&&a.setAttribute(r.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:mn(this.skipLocationChange),replaceUrl:mn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(a.Y)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||un)(a.Tb(fn),a.Tb(ee),a.ec("tabindex"),a.Tb(a.H),a.Tb(a.l))},un.\u0275dir=a.Ob({type:un,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&a.hc("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),un),pn=((ln=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=i,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof X&&a.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:mn(this.skipLocationChange),replaceUrl:mn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(a.Y)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mn(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ln)(a.Tb(fn),a.Tb(ee),a.Tb(i.o))},ln.\u0275dir=a.Ob({type:ln,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&a.hc("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(a.cc("href",e.href,a.Kc),a.Fb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[a.Cb]}),ln);function mn(t){return""===t||!!t}var gn,bn,vn,yn,_n=((gn=function(){function t(e,n,i,a,r){var o=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=i,this.link=a,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe((function(t){t instanceof X&&o.update()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}()).\u0275fac=function(t){return new(t||gn)(a.Tb(fn),a.Tb(a.l),a.Tb(a.H),a.Tb(hn,8),a.Tb(pn,8))},gn.\u0275dir=a.Ob({type:gn,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(a.Lb(n,hn,!0),a.Lb(n,pn,!0)),2&t&&(a.Cc(i=a.ic())&&(e.links=i),a.Cc(i=a.ic())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[a.Cb]}),gn),kn=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Cn,this.attachRef=null},Cn=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new kn,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),xn=((bn=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.o,this.deactivateEvents=new a.o,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,a=new wn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||bn)(a.Tb(Cn),a.Tb(a.R),a.Tb(a.j),a.ec("name"),a.Tb(a.h))},bn.\u0275dir=a.Ob({type:bn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),bn),wn=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=i}return _createClass(t,[{key:"get",value:function(t,e){return t===ee?this.route:t===Cn?this.childContexts:this.parent.get(t,e)}}]),t}(),On=function t(){_classCallCheck(this,t)},Sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Object(T.a)((function(){return Object(r.a)(null)})))}}]),t}(),En=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(r.a)(null)}}]),t}(),Mn=((yn=function(){function t(e,n,i,a,r){_classCallCheck(this,t),this.router=e,this.injector=a,this.preloadingStrategy=r,this.loader=new an(n,i,(function(t){return e.triggerEvent(new at(t))}),(function(t){return e.triggerEvent(new rt(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(g.a)((function(t){return t instanceof X})),Object(z.a)((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(a.z);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r.loadChildren&&!r.canLoad&&r._loadedConfig){var s=r._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else r.loadChildren&&!r.canLoad?i.push(this.preloadConfig(t,r)):r.children&&i.push(this.processRoutes(t,r.children))}}catch(c){a.e(c)}finally{a.f()}return Object(o.a)(i).pipe(Object(W.a)(),Object(p.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(R.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||yn)(a.dc(fn),a.dc(a.y),a.dc(a.i),a.dc(a.s),a.dc(On))},yn.\u0275prov=a.Pb({token:yn,factory:yn.\u0275fac}),yn),In=((vn=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof q?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof X&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof ut&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ut(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){a.gc()},vn.\u0275dir=a.Ob({type:vn}),vn),Pn=new a.r("ROUTER_CONFIGURATION"),Tn=new a.r("ROUTER_FORROOT_GUARD"),An=[i.n,{provide:Dt,useClass:Rt},{provide:fn,useFactory:function(t,e,n,a,r,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,d=new fn(null,t,e,n,a,r,o,xt(s));if(l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),c.errorHandler&&(d.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(d.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var f=Object(i.L)();d.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return c.onSameUrlNavigation&&(d.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(d.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(d.relativeLinkResolution=c.relativeLinkResolution),d},deps:[Dt,Cn,i.n,a.s,a.y,a.i,nn,Pn,[function(){return function t(){_classCallCheck(this,t)}}(),new a.C],[function(){return function t(){_classCallCheck(this,t)}}(),new a.C]]},Cn,{provide:ee,useFactory:function(t){return t.routerState.root},deps:[fn]},{provide:a.y,useClass:a.N},Mn,En,Sn,{provide:Pn,useValue:{enableTracing:!1}}];function Dn(){return new a.A("Router",fn)}var Rn,Ln=((Rn=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[An,Zn(e),{provide:Tn,useFactory:Yn,deps:[[fn,new a.C,new a.M]]},{provide:Pn,useValue:n||{}},{provide:i.o,useFactory:jn,deps:[i.D,[new a.q(i.a),new a.C],Pn]},{provide:In,useFactory:Fn,deps:[fn,i.H,Pn]},{provide:On,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:En},{provide:a.A,multi:!0,useFactory:Dn},[Un,{provide:a.d,multi:!0,useFactory:Bn,deps:[Un]},{provide:Vn,useFactory:zn,deps:[Un]},{provide:a.b,multi:!0,useExisting:Vn}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Zn(e)]}}}]),t}()).\u0275mod=a.Rb({type:Rn}),Rn.\u0275inj=a.Qb({factory:function(t){return new(t||Rn)(a.dc(Tn,8),a.dc(fn,8))}}),Rn);function Fn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new In(t,e,n)}function jn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new i.h(t,e):new i.B(t,e)}function Yn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Zn(t){return[{provide:a.a,multi:!0,useValue:t},{provide:nn,multi:!0,useValue:t}]}var Nn,Un=((Nn=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new f.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(i.m,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),i=t.injector.get(fn),a=t.injector.get(Pn);if(t.isLegacyDisabled(a)||t.isLegacyEnabled(a))e(!0);else if("disabled"===a.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==a.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(a.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return t.initNavigation?Object(r.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Pn),n=this.injector.get(Mn),i=this.injector.get(In),r=this.injector.get(fn),o=this.injector.get(a.g);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Nn)(a.dc(a.s))},Nn.\u0275prov=a.Pb({token:Nn,factory:Nn.\u0275fac}),Nn);function Bn(t){return t.appInitializer.bind(t)}function zn(t){return t.bootstrapListener.bind(t)}var Vn=new a.r("Router Initializer")},u47x:function(t,e,n){"use strict";n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return k})),n.d(e,"d",(function(){return R})),n.d(e,"e",(function(){return N})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return Y})),n.d(e,"i",(function(){return I})),n.d(e,"j",(function(){return U})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return L}));var i=n("ofXK"),a=n("fXoL"),r=n("XNiG"),o=n("quSY"),s=n("LRne"),c=n("FtGj"),l=n("vkgz"),u=n("Kj3r"),d=n("pLZG"),f=n("lJxs"),h=n("IzEk"),p=n("8LU1"),m=n("nLfN"),g=n("GU7r");function b(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var v=0,y=new Map,_=null,k=function(){var t=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"describe",value:function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),y.set(e,{messageElement:e,referenceCount:0})):y.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}},{key:"removeDescription",value:function(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var n=y.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e)}_&&0===_.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var t=this._document.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");_&&this._deleteMessagesContainer(),y.clear()}},{key:"_createMessageElement",value:function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),_.appendChild(e),y.set(t,{messageElement:e,referenceCount:0})}},{key:"_setMessageId",value:function(t){t.id||(t.id="cdk-describedby-message-"+v++)}},{key:"_deleteMessageElement",value:function(t){var e=y.get(t),n=e&&e.messageElement;_&&n&&_.removeChild(n),y.delete(t)}},{key:"_createMessagesContainer",value:function(){if(!_){var t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),(_=this._document.createElement("div")).id="cdk-describedby-message-container",_.setAttribute("aria-hidden","true"),_.style.display="none",this._document.body.appendChild(_)}}},{key:"_deleteMessagesContainer",value:function(){_&&_.parentNode&&(_.parentNode.removeChild(_),_=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(t){var e=b(t,"aria-describedby").filter((function(t){return 0!=t.indexOf("cdk-describedby-message")}));t.setAttribute("aria-describedby",e.join(" "))}},{key:"_addMessageReference",value:function(t,e){var n,i,a,r,o=y.get(e);n=t,i="aria-describedby",a=o.messageElement.id,(r=b(n,i)).some((function(t){return t.trim()==a.trim()}))||(r.push(a.trim()),n.setAttribute(i,r.join(" "))),t.setAttribute("cdk-describedby-host",""),o.referenceCount++}},{key:"_removeMessageReference",value:function(t,e){var n,i,a,r,o=y.get(e);o.referenceCount--,n=t,i="aria-describedby",a=o.messageElement.id,(r=b(n,i).filter((function(t){return t!=a.trim()}))).length?n.setAttribute(i,r.join(" ")):n.removeAttribute(i),t.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(t,e){var n=b(t,"aria-describedby"),i=y.get(e),a=i&&i.messageElement.id;return!!a&&-1!=n.indexOf(a)}},{key:"_canBeDescribed",value:function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var n=null==e?"":(""+e).trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}},{key:"_isElementNode",value:function(t){return t.nodeType===this._document.ELEMENT_NODE}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(i.e))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(i.e))},token:t,providedIn:"root"}),t}(),C=function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new r.a,this._typeaheadSubscription=o.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new r.a,this.change=new r.a,e instanceof a.G&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(l.a)((function(e){return t._pressedLetters.push(e)})),Object(u.a)(e),Object(d.a)((function(){return t._pressedLetters.length>0})),Object(f.a)((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var a=(t._activeItemIndex+i)%n.length,r=n[a];if(!t._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(a);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case c.r:return void this.tabOut.next();case c.e:if(this._vertical&&i){this.setNextItemActive();break}return;case c.s:if(this._vertical&&i){this.setPreviousItemActive();break}return;case c.o:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case c.k:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||Object(c.v)(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=c.a&&n<=c.t||n>=c.u&&n<=c.l)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof a.G?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}(),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(C),w=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._origin="program",t}return _createClass(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(C),O=function(){var t=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(e){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===E(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var a=t.nodeName.toLowerCase(),r=E(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===a)return!1;if("audio"===a){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===a){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==a||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||S(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(m.a))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(m.a))},token:t,providedIn:"root"}),t}();function S(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function E(t){if(!S(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var M=function(){function t(e,n,i,a){var r=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=a,this._hasAttached=!1,this.startAnchorListener=function(){return r.focusLastTabbableElement()},this.endAnchorListener=function(){return r.focusFirstTabbableElement()},this._enabled=!0,o||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(a.Y)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),I=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=i}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new M(t,this._checker,this._ngZone,this._document,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(O),a.dc(a.B),a.dc(i.e))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(O),Object(a.dc)(a.B),Object(a.dc)(i.e))},token:t,providedIn:"root"}),t}(),P=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}},{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(t){this.focusTrap.enabled=Object(p.c)(t)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(t){this._autoCapture=Object(p.c)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(I),a.Tb(i.e))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"]}),t}();"undefined"!=typeof Element&&Element;var T=new a.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),A=new a.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),D=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._ngZone=n,this._defaultOptions=a,this._document=i,this._liveElement=e||this._createLiveElement()}return _createClass(t,[{key:"announce",value:function(t){for(var e,n,i,a=this,r=this._defaultOptions,o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];return 1===s.length&&"number"==typeof s[0]?i=s[0]:(n=(e=_slicedToArray(s,2))[0],i=e[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=r&&r.politeness?r.politeness:"polite"),null==i&&r&&(i=r.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(e){clearTimeout(a._previousTimeout),a._previousTimeout=setTimeout((function(){a._liveElement.textContent=t,e(),"number"==typeof i&&(a._previousTimeout=setTimeout((function(){return a.clear()}),i))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(T,8),a.dc(a.B),a.dc(i.e),a.dc(A,8))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(T,8),Object(a.dc)(a.B),Object(a.dc)(i.e),Object(a.dc)(A,8))},token:t,providedIn:"root"}),t}(),R=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._elementRef=e,this._liveAnnouncer=n,this._contentObserver=i,this._ngZone=a,this._politeness="off"}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}},{key:"politeness",get:function(){return this._politeness},set:function(t){var e=this;this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular((function(){return e._contentObserver.observe(e._elementRef).subscribe((function(){var t=e._elementRef.nativeElement.textContent;t!==e._previousAnnouncedText&&(e._liveAnnouncer.announce(t,e._politeness),e._previousAnnouncedText=t)}))})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(D),a.Tb(g.b),a.Tb(a.B))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),t}();function L(t){return 0===t.buttons}var F=new a.r("cdk-focus-monitor-default-options"),j=Object(m.f)({passive:!0,capture:!0}),Y=function(){var t=function(){function t(e,n,i,a){var r=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){r._lastTouchTarget=null,r._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!r._lastTouchTarget){var e=L(t)?"keyboard":"mouse";r._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=r._touchTimeoutId&&clearTimeout(r._touchTimeoutId),r._lastTouchTarget=Z(t),r._touchTimeoutId=setTimeout((function(){return r._lastTouchTarget=null}),650)},this._windowFocusListener=function(){r._windowFocused=!0,r._windowFocusTimeoutId=setTimeout((function(){return r._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(t){for(var e=Z(t),n="focus"===t.type?r._onFocus:r._onBlur,i=e;i;i=i.parentElement)n.call(r,t,i)},this._document=i,this._detectionMode=(null==a?void 0:a.detectionMode)||0}return _createClass(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(s.a)(null);var n=Object(p.e)(t),i=Object(m.c)(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return e&&(a.checkChildren=!0),a.subject.asObservable();var o={checkChildren:e,subject:new r.a,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Object(p.e)(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var i=Object(p.e)(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout((function(){return e._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(t){var e=Z(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===Z(t))){var i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,j),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,j)})),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,j),t.addEventListener("mousedown",e._documentMousedownListener,j),t.addEventListener("touchstart",e._documentTouchstartListener,j),n.addEventListener("focus",e._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,j),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,j),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var i=this._getDocument(),a=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,j),i.removeEventListener("mousedown",this._documentMousedownListener,j),i.removeEventListener("touchstart",this._documentTouchstartListener,j),a.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(a.B),a.dc(m.a),a.dc(i.e,8),a.dc(F,8))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(a.B),Object(a.dc)(m.a),Object(a.dc)(i.e,8),Object(a.dc)(F,8))},token:t,providedIn:"root"}),t}();function Z(t){return t.composedPath?t.composedPath()[0]:t.target}var N=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new a.o,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe((function(t){return i.cdkFocusChange.emit(t)}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(a.l),a.Tb(Y))},t.\u0275dir=a.Ob({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t}(),U=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.dc(m.a),a.dc(i.e))},t.\u0275prov=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(m.a),Object(a.dc)(i.e))},token:t,providedIn:"root"}),t}(),B=function(){var t=function t(e){_classCallCheck(this,t),e._applyBodyHighContrastModeCssClasses()};return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)(a.dc(U))},imports:[[m.b,g.c]]}),t}()},uqn4:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("mrSG"),a=n("ds6q"),r=n("fXoL"),o=n("tk/3"),s=n("tyNb"),c=n("4zkx"),l=n("AXEc"),u=n("5cI5"),d=function(){var t=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.http=e,this.router=n,this.headerService=i,this.notify=r,this.localStorage=o,this.authMode="default",this.changeKey=null,this.user={},this.eventAction=new a.Subject}return _createClass(t,[{key:"catchEvent",value:function(){return this.eventAction.asObservable()}},{key:"setEvent",value:function(t){return this.eventAction.next(t)}},{key:"getToken",value:function(){return this.localStorage.get("MaarchCourrierToken")}},{key:"getAppSession",value:function(){return this.localStorage.getAppSession()}},{key:"setAppSession",value:function(t){this.localStorage.setAppSession(t)}},{key:"setCachedUrl",value:function(t){this.localStorage.save("MaarchCourrierCachedUrl",t)}},{key:"getCachedUrl",value:function(){return this.localStorage.get("MaarchCourrierCachedUrl")}},{key:"cleanCachedUrl",value:function(){return this.localStorage.remove("MaarchCourrierCachedUrl")}},{key:"getUrl",value:function(t){return this.localStorage.get("MaarchCourrierUrl_"+t)}},{key:"setUrl",value:function(t){var e=t.split("/");-1===e.indexOf("resources")&&-1===e.indexOf("content")&&this.localStorage.save("MaarchCourrierUrl_"+JSON.parse(atob(this.getToken().split(".")[1])).user.id,t)}},{key:"cleanUrl",value:function(t){return this.localStorage.remove("MaarchCourrierUrl_"+t)}},{key:"setToken",value:function(t){this.localStorage.save("MaarchCourrierToken",t)}},{key:"getRefreshToken",value:function(){return this.localStorage.get("MaarchCourrierRefreshToken")}},{key:"setRefreshToken",value:function(t){this.localStorage.save("MaarchCourrierRefreshToken",t)}},{key:"clearTokens",value:function(){this.localStorage.remove("MaarchCourrierToken"),this.localStorage.remove("MaarchCourrierRefreshToken")}},{key:"logout",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==this.getToken()&&t&&this.cleanUrl(JSON.parse(atob(this.getToken().split(".")[1])).user.id),this.headerService.setUser(),e.next=4,this.router.navigate(["/login"]);case 4:this.clearTokens();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"saveTokens",value:function(t,e){this.setToken(t),this.setRefreshToken(e)}},{key:"isAuth",value:function(){return null!==this.getToken()}},{key:"updateUserInfo",value:function(t){var e=this.user.picture;this.user=JSON.parse(atob(t.split(".")[1])).user,this.user.picture=e}},{key:"updateUserInfoWithTokenRefresh",value:function(){var t=this;this.http.get("../rest/authenticate/token",{params:{refreshToken:this.getRefreshToken()}}).subscribe({next:function(e){t.setToken(e.token),t.updateUserInfo(t.getToken())},error:function(e){t.notify.handleSoftErrors(e)}})}},{key:"setUser",value:function(t){this.user=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.dc(o.b),r.dc(s.c),r.dc(c.a),r.dc(l.a),r.dc(u.a))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},vWc3:function(t,e,n){"use strict";n.d(e,"a",(function(){return ct}));var i,a,r,o,s,c,l,u=n("ofXK"),d=n("3Pt+"),f=n("tyNb"),h=n("5+WD"),p=n("aEDk"),m=n("fXoL"),g=((a=function(){function t(e,n){_classCallCheck(this,t),this.document=e,this.platformId=n,this.documentIsAccessible=Object(u.I)(this.platformId)}return _createClass(t,[{key:"check",value:function(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}},{key:"get",value:function(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);var e=this.getCookieRegExp(t).exec(this.document.cookie);return this.safeDecodeURIComponent(e[1])}return""}},{key:"getAll",value:function(){var t=this;if(!this.documentIsAccessible)return{};var e={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach((function(n){var i=_slicedToArray(n.split("="),2),a=i[0],r=i[1];e[t.safeDecodeURIComponent(a.replace(/^ /,""))]=t.safeDecodeURIComponent(r)})),e}},{key:"set",value:function(t,e,n,i,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"Lax";if(this.documentIsAccessible){var s=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";n&&(s+="number"==typeof n?"expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toUTCString()+";":"expires="+n.toUTCString()+";"),i&&(s+="path="+i+";"),a&&(s+="domain="+a+";"),!1===r&&"None"===o&&(r=!0,console.warn("[ngx-cookie-service] Cookie ".concat(t," was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130"))),r&&(s+="secure;"),s+="sameSite="+o+";",this.document.cookie=s}}},{key:"delete",value:function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Lax";this.documentIsAccessible&&this.set(t,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),e,n,i,a)}},{key:"deleteAll",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Lax";if(this.documentIsAccessible){var a=this.getAll();for(var r in a)a.hasOwnProperty(r)&&this.delete(r,t,e,n,i)}}},{key:"getCookieRegExp",value:function(t){var e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}},{key:"safeDecodeURIComponent",value:function(t){try{return decodeURIComponent(t)}catch(e){return t}}}]),t}()).\u0275fac=function(t){return new(t||a)(m.dc(u.e),m.dc(m.E))},a.\u0275prov=Object(m.Pb)({factory:function(){return new a(Object(m.dc)(u.e),Object(m.dc)(m.E))},token:a,providedIn:"root"}),a),b=((i=function t(){_classCallCheck(this,t)}).\u0275mod=m.Rb({type:i}),i.\u0275inj=m.Qb({factory:function(t){return new(t||i)},providers:[p.c,g],imports:[[p.j],p.j]}),i),v=n("FKr1"),y=n("lJEt"),_=n("/1cH"),k=n("TU8p"),C=n("2ChS"),x=n("bTqV"),w=n("jaxi"),O=n("Wp6s"),S=n("bSwM"),E=n("A5z7"),M=n("iadO"),I=n("0IaG"),P=n("7EHt"),T=n("zkoq"),A=n("NFeN"),D=n("qFsG"),R=n("MutI"),L=n("STbY"),F=n("M9IT"),j=n("bv9b"),Y=n("Xa2L"),Z=n("QibW"),N=n("d3UM"),U=n("XhcP"),B=n("1jcm"),z=n("5RNC"),V=n("dNgK"),H=n("Dh3D"),Q=n("xHqg"),W=n("+0xr"),G=n("wZkO"),q=n("/t3+"),X=n("Qu3c"),$=n("vxfF"),J=n("8yBR"),K=function(t,e,n){return 0==n||0==e?"0 of "+n:function(t,e,n){if(0==n||0==e)return"0 de "+n;var i=t*e;return i<(n=Math.max(n,0))&&Math.min(i+e,n),"Page ".concat(t+1," / ").concat(Math.ceil(n/e))}(t,e,n)},tt=((r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(t){if("string"==typeof t&&t.indexOf("/")>-1){var e=t.split("/"),n=Number(e[2]),i=Number(e[1])-1,a=Number(e[0]);return new Date(n,i,a)}var r="number"==typeof t?t:Date.parse(t);return isNaN(r)?null:new Date(r)}},{key:"format",value:function(t,e){if("input"==e){var n=t.getDate(),i=t.getMonth()+1,a=t.getFullYear();return this._to2digit(n)+"/"+this._to2digit(i)+"/"+a}return t.toLocaleDateString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}},{key:"_to2digit",value:function(t){return("00"+t).slice(-2)}},{key:"getFirstDayOfWeek",value:function(){return 1}}]),n}(v.v)).\u0275fac=function(t){return et(t||r)},r.\u0275prov=m.Pb({token:r,factory:r.\u0275fac}),r),et=m.bc(tt),nt={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{month:"short",year:"numeric",day:"numeric"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},it=((s=function t(){_classCallCheck(this,t)}).\u0275mod=m.Rb({type:s}),s.\u0275inj=m.Qb({factory:function(t){return new(t||s)},providers:[{provide:F.b,useValue:(o=new F.b,o.nextPageLabel="Next page",o.previousPageLabel="Previous page",o.getRangeLabel=K,o.itemsPerPageLabel="",o)},{provide:v.f,useValue:"FR-fr"},{provide:v.c,useClass:tt},{provide:v.e,useValue:nt}],imports:[[S.b,N.b,B.b,D.c,X.c,G.g,U.g,x.c,O.j,w.c,Y.b,j.b,q.b,L.c,T.c,W.p,F.c,H.c,M.g,v.m,P.b,_.b,V.d,A.b,I.g,R.e,E.g,Q.g,Z.c,z.b,k.b,C.b,J.e,v.u,$.g,y.a.forRoot()],S.b,N.b,B.b,D.c,X.c,G.g,U.g,x.c,O.j,w.c,Y.b,j.b,q.b,L.c,T.c,W.p,F.c,H.c,M.g,v.m,P.b,_.b,V.d,A.b,I.g,R.e,E.g,Q.g,Z.c,z.b,k.b,C.b,v.u,J.e,$.g,y.a]}),s),at=n("AXEc"),rt=((c=function t(){_classCallCheck(this,t)}).\u0275mod=m.Rb({type:c}),c.\u0275inj=m.Qb({factory:function(t){return new(t||c)},providers:[at.a],imports:[[it,u.c]]}),c),ot=n("cMWS"),st=n("sYmb"),ct=((l=function t(e){_classCallCheck(this,t),e.setDefaultLang("fr")}).\u0275mod=m.Rb({type:l}),l.\u0275inj=m.Qb({factory:function(t){return new(t||l)(m.dc(st.e))},providers:[],imports:[[u.c,f.g,d.n,d.D,it,h.g,b,rt,ot.a],u.c,d.n,d.D,f.g,it,b,rt,h.g]}),l)},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");function a(){}var r=n("n6bG");function o(t,e,n){return function(i){return i.lift(new s(t,e,n))}}var s=function(){function t(e,n,i){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var c;return _classCallCheck(this,n),(c=e.call(this,t))._tapNext=a,c._tapError=a,c._tapComplete=a,c._tapError=o||a,c._tapComplete=s||a,Object(r.a)(i)?(c._context=_assertThisInitialized(c),c._tapNext=i):i&&(c._context=i,c._tapNext=i.next||a,c._tapError=i.error||a,c._tapComplete=i.complete||a),c}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(i.a)},vxfF:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return N})),n.d(e,"c",(function(){return q})),n.d(e,"d",(function(){return G})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return Z})),n.d(e,"g",(function(){return X})),n.d(e,"h",(function(){return U}));var i=n("8LU1"),a=n("fXoL"),r=n("XNiG"),o=n("LRne"),s=n("HDdC"),c=n("xgIS"),l=n("VRyK"),u=n("eNwd"),d=n("7Hc7"),f=n("quSY"),h=n("7+OI"),p=n("/uUt"),m=n("3UWI"),g=n("pLZG"),b=n("1G5W"),v=n("JX91"),y=n("7o/Q"),_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new k(t))}}]),t}(),k=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).hasPrev=!1,i}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(y.a),C=n("eIep"),x=n("UXun"),w=n("nLfN"),O=n("ofXK"),S=n("cH1L"),E=n("0EQZ"),M=["contentWrapper"],I=["*"],P=new a.r("VIRTUAL_SCROLL_STRATEGY"),T=function(){function t(e,n,i){_classCallCheck(this,t),this._scrolledIndexChange=new r.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Object(p.a)()),this._viewport=null,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i}return _createClass(t,[{key:"attach",value:function(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(t,e,n){if(n<e)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}},{key:"_updateTotalContentSize",value:function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var t=this._viewport.measureScrollOffset(),e=t/this._itemSize,n=this._viewport.getRenderedRange(),i={start:n.start,end:n.end},a=this._viewport.getViewportSize(),r=this._viewport.getDataLength(),o=t-i.start*this._itemSize;if(o<this._minBufferPx&&0!=i.start){var s=Math.ceil((this._maxBufferPx-o)/this._itemSize);i.start=Math.max(0,i.start-s),i.end=Math.min(r,Math.ceil(e+(a+this._minBufferPx)/this._itemSize))}else{var c=i.end*this._itemSize-(t+a);if(c<this._minBufferPx&&i.end!=r){var l=Math.ceil((this._maxBufferPx-c)/this._itemSize);l>0&&(i.end=Math.min(r,i.end+l),i.start=Math.max(0,Math.floor(e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(i),this._viewport.setRenderedContentOffset(this._itemSize*i.start),this._scrolledIndexChange.next(Math.floor(e))}}}]),t}();function A(t){return t._scrollStrategy}var D,R,L,F,j,Y=((F=function(){function t(){_classCallCheck(this,t),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new T(this.itemSize,this.minBufferPx,this.maxBufferPx)}return _createClass(t,[{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}},{key:"itemSize",get:function(){return this._itemSize},set:function(t){this._itemSize=Object(i.f)(t)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(t){this._minBufferPx=Object(i.f)(t)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(t){this._maxBufferPx=Object(i.f)(t)}}]),t}()).\u0275fac=function(t){return new(t||F)},F.\u0275dir=a.Ob({type:F,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[a.Db([{provide:P,useFactory:A,deps:[Object(a.W)((function(){return F}))]}]),a.Cb]}),F),Z=((L=function(){function t(e,n,i){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new r.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new s.a((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(Object(m.a)(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(o.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(g.a)((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,a){e._scrollableContainsElement(a,t)&&n.push(a)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var e=t._getWindow();return Object(c.a)(e.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||L)(a.dc(a.B),a.dc(w.a),a.dc(O.e,8))},L.\u0275prov=Object(a.Pb)({factory:function(){return new L(Object(a.dc)(a.B),Object(a.dc)(w.a),Object(a.dc)(O.e,8))},token:L,providedIn:"root"}),L),N=((R=function(){function t(e,n,i,a){var o=this;_classCallCheck(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=a,this._destroyed=new r.a,this._elementScrolled=new s.a((function(t){return o.ngZone.runOutsideAngular((function(){return Object(c.a)(o.elementRef.nativeElement,"scroll").pipe(Object(b.a)(o._destroyed)).subscribe(t)}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Object(w.d)()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Object(w.d)()?t.left=t.right:1==Object(w.d)()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;Object(w.g)()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==Object(w.d)()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==Object(w.d)()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}()).\u0275fac=function(t){return new(t||R)(a.Tb(a.l),a.Tb(Z),a.Tb(a.B),a.Tb(S.c,8))},R.\u0275dir=a.Ob({type:R,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),R),U=((D=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this._platform=e,this._document=i,n.runOutsideAngular((function(){var t=a._getWindow();a._change=e.isBrowser?Object(l.a)(Object(c.a)(t,"resize"),Object(c.a)(t,"orientationchange")):Object(o.a)(),a._invalidateCache=a.change().subscribe((function(){return a._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Object(m.a)(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||D)(a.dc(w.a),a.dc(a.B),a.dc(O.e,8))},D.\u0275prov=Object(a.Pb)({factory:function(){return new D(Object(a.dc)(w.a),Object(a.dc)(a.B),Object(a.dc)(O.e,8))},token:D,providedIn:"root"}),D),B="undefined"!=typeof requestAnimationFrame?u.a:d.a,z=((j=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,o,c,l,u){var d;if(_classCallCheck(this,n),(d=e.call(this,t,l,a,c)).elementRef=t,d._changeDetectorRef=i,d._scrollStrategy=o,d._detachedSubject=new r.a,d._renderedRangeSubject=new r.a,d._orientation="vertical",d.scrolledIndexChange=new s.a((function(t){return d._scrollStrategy.scrolledIndexChange.subscribe((function(e){return Promise.resolve().then((function(){return d.ngZone.run((function(){return t.next(e)}))}))}))})),d.renderedRangeStream=d._renderedRangeSubject.asObservable(),d._totalContentSize=0,d._totalContentWidth="",d._totalContentHeight="",d._renderedRange={start:0,end:0},d._dataLength=0,d._viewportSize=0,d._renderedContentOffset=0,d._renderedContentOffsetNeedsRewrite=!1,d._isChangeDetectionPending=!1,d._runAfterChangeDetection=[],d._viewportChanges=f.a.EMPTY,!o)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');return u&&(d._viewportChanges=u.change().subscribe((function(){d.checkViewportSize()}))),_possibleConstructorReturn(d)}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){t._measureViewportSize(),t._scrollStrategy.attach(t),t.elementScrolled().pipe(Object(v.a)(null),Object(m.a)(0,B)).subscribe((function(){return t._scrollStrategy.onContentScrolled()})),t._markChangeDetectionNeeded()}))}))}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(t){var e=this;if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular((function(){e._forOf=t,e._forOf.dataStream.pipe(Object(b.a)(e._detachedSubject)).subscribe((function(t){var n=t.length;n!==e._dataLength&&(e._dataLength=n,e._scrollStrategy.onDataLengthChanged()),e._doChangeDetection()}))}))}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(t){var e,n,i=this;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded((function(){return i._scrollStrategy.onContentRendered()})))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",i="horizontal"==this.orientation,a=i?"X":"Y",r="translate".concat(a,"(").concat(Number((i&&this.dir&&"rtl"==this.dir.value?-1:1)*t),"px)");this._renderedContentOffset=t,"to-end"===n&&(r+=" translate".concat(a,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=r&&(this._renderedContentTransform=r,this._markChangeDetectionNeeded((function(){e._renderedContentOffsetNeedsRewrite?(e._renderedContentOffset-=e.measureRenderedContentSize(),e._renderedContentOffsetNeedsRewrite=!1,e.setRenderedContentOffset(e._renderedContentOffset)):e._scrollStrategy.onRenderedOffsetChanged()})))}},{key:"scrollToOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}},{key:"scrollToIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(t,e)}},{key:"measureScrollOffset",value:function(t){return _get(_getPrototypeOf(n.prototype),"measureScrollOffset",this).call(this,t||("horizontal"===this.orientation?"start":"top"))}},{key:"measureRenderedContentSize",value:function(){var t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}},{key:"measureRangeSize",value:function(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(t){var e=this;t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular((function(){return Promise.resolve().then((function(){e._doChangeDetection()}))})))}},{key:"_doChangeDetection",value:function(){var t=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run((function(){return t._changeDetectorRef.markForCheck()}));var e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(a){i.e(a)}finally{i.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}}]),n}(N)).\u0275fac=function(t){return new(t||j)(a.Tb(a.l),a.Tb(a.h),a.Tb(a.B),a.Tb(P,8),a.Tb(S.c,8),a.Tb(Z),a.Tb(U,8))},j.\u0275cmp=a.Nb({type:j,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;1&t&&a.Oc(M,!0),2&t&&a.Cc(n=a.ic())&&(e._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&a.Jb("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[a.Db([{provide:N,useExisting:j}]),a.Bb],ngContentSelectors:I,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(a.rc(),a.Zb(0,"div",0,1),a.qc(2),a.Yb(),a.Ub(3,"div",2)),2&t&&(a.Eb(3),a.Pc("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),j);function V(t,e){if(!e.getBoundingClientRect)return 0;var n=e.getBoundingClientRect();return"horizontal"==t?n.width:n.height}var H,Q,W,G=((W=function(){function t(e,n,i,a,o){var s=this;_classCallCheck(this,t),this._viewContainerRef=e,this._template=n,this._differs=i,this._viewport=a,this.viewChange=new r.a,this._dataSourceChanges=new r.a,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(Object(v.a)(null),(function(t){return t.lift(new _)}),Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];return s._changeDataSource(n,i)})),Object(x.a)(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new r.a,this.dataStream.subscribe((function(t){s._data=t,s._onRenderedDataChange()})),this._viewport.renderedRangeStream.pipe(Object(b.a)(this._destroyed)).subscribe((function(t){s._renderedRange=t,o.run((function(){return s.viewChange.next(s._renderedRange)})),s._onRenderedDataChange()})),this._viewport.attach(this)}return _createClass(t,[{key:"measureRangeSize",value:function(t,e){if(t.start>=t.end)return 0;if(t.start<this._renderedRange.start||t.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");for(var n=t.start-this._renderedRange.start,i=0,a=t.end-t.start;a--;)for(var r=this._viewContainerRef.get(a+n),o=r?r.rootNodes.length:0;o--;)i+=V(e,r.rootNodes[o]);return i}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();var t,e=_createForOfIteratorHelper(this._templateCache);try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(n){e.e(n)}finally{e.f()}}},{key:"_onRenderedDataChange",value:function(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Object(o.a)()}},{key:"_updateContext",value:function(){for(var t=this._data.length,e=this._viewContainerRef.length;e--;){var n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}},{key:"_applyChanges",value:function(t){var e=this;t.forEachOperation((function(t,n,i){if(null==t.previousIndex)e._insertViewForNewItem(i).context.$implicit=t.item;else if(null==i)e._cacheView(e._detachView(n));else{var a=e._viewContainerRef.get(n);e._viewContainerRef.move(a,i),a.context.$implicit=t.item}})),t.forEachIdentityChange((function(t){e._viewContainerRef.get(t.currentIndex).context.$implicit=t.item}));for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=n,this._updateComputedContextProperties(a.context)}}},{key:"_cacheView",value:function(t){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(t);else{var e=this._viewContainerRef.indexOf(t);-1===e?t.destroy():this._viewContainerRef.remove(e)}}},{key:"_insertViewForNewItem",value:function(t){return this._insertViewFromCache(t)||this._createEmbeddedViewAt(t)}},{key:"_updateComputedContextProperties",value:function(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}},{key:"_createEmbeddedViewAt",value:function(t){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},t)}},{key:"_insertViewFromCache",value:function(t){var e=this._templateCache.pop();return e&&this._viewContainerRef.insert(e,t),e||null}},{key:"_detachView",value:function(t){return this._viewContainerRef.detach(t)}},{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(t){this._cdkVirtualForOf=t,Object(E.e)(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new E.a(Object(h.a)(t)?t:Array.prototype.slice.call(t||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(t){var e=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?function(n,i){return t(n+(e._renderedRange?e._renderedRange.start:0),i)}:void 0}},{key:"cdkVirtualForTemplate",set:function(t){t&&(this._needsUpdate=!0,this._template=t)}}]),t}()).\u0275fac=function(t){return new(t||W)(a.Tb(a.R),a.Tb(a.O),a.Tb(a.u),a.Tb(z,4),a.Tb(a.B))},W.\u0275dir=a.Ob({type:W,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize",cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate"}}),W),q=((Q=function t(){_classCallCheck(this,t)}).\u0275mod=a.Rb({type:Q}),Q.\u0275inj=a.Qb({factory:function(t){return new(t||Q)}}),Q),X=((H=function t(){_classCallCheck(this,t)}).\u0275mod=a.Rb({type:H}),H.\u0275inj=a.Qb({factory:function(t){return new(t||H)},imports:[[S.a,w.b,q],S.a,q]}),H)},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("XNiG"),a=n("HDdC"),r=n("7o/Q"),o=n("quSY");function s(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new u(t,n),a=e.subscribe(i);return i.closed||(i.connection=n.connect()),a}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).connectable=i,a}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(r.a),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this)).source=t,a.subjectFactory=i,a._refCount=0,a._isComplete=!1,a}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new o.a).add(this.source.subscribe(new h(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}},{key:"refCount",value:function(){return s()(this)}}]),n}(a.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=d.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this,t)).connectable=i,a}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b);function p(){return new i.a}function m(){return function(t){return s()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,f);return i.source=t,i.subjectFactory=n,i})(t));var e}}},w5QO:function(t,e,n){"use strict";e.noop=function(){}},w9N8:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t),this.onFileDropped=new i.o,this.disabled=!1,this.background="none",this.opacity="1"}return _createClass(t,[{key:"onDragOver",value:function(t){this.disabled||(t.preventDefault(),t.stopPropagation(),this.background="#9ecbec",this.opacity="0.8")}},{key:"onDragLeave",value:function(t){this.disabled||(t.preventDefault(),t.stopPropagation(),this.background="rgba(255,255,255,0)",this.opacity="1")}},{key:"ondrop",value:function(t){if(!this.disabled){t.preventDefault(),t.stopPropagation(),this.background="rgba(255,255,255,0)",this.opacity="1";var e=t.dataTransfer.files;e.length>0&&this.onFileDropped.emit(e)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","appUploadFileDragDrop",""]],hostVars:4,hostBindings:function(t,e){1&t&&i.hc("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&i.Pc("background-color",e.background)("opacity",e.opacity)},inputs:{disabled:"disabled"},outputs:{onFileDropped:"onFileDropped"}}),t}()},wQTr:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("tk/3"),a=n("Q1FS"),r=n("fXoL"),o=n("uqn4"),s=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.authService=n}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=new i.f({Authorization:"Bearer "+this.authService.getToken()});return new a.Observable((function(i){return i.next("data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),void 0!==t&&e.http.get(t,{headers:n,responseType:"blob"}).subscribe((function(t){var e=new FileReader;e.readAsDataURL(t),e.onloadend=function(){i.next(e.result)}})),{unsubscribe:function(){}}}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Tb(i.b),r.Tb(o.a))},t.\u0275pipe=r.Sb({name:"secureUrl",type:t,pure:!0}),t}()},wZkO:function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return V})),n.d(e,"c",(function(){return rt})),n.d(e,"d",(function(){return H})),n.d(e,"e",(function(){return gt})),n.d(e,"f",(function(){return ht})),n.d(e,"g",(function(){return bt}));var i=n("u47x"),a=n("GU7r"),r=n("+rOU"),o=n("ofXK"),s=n("fXoL"),c=n("FKr1"),l=n("R1ws"),u=n("XNiG"),d=n("quSY"),f=n("VRyK"),h=n("xgIS"),p=n("LRne"),m=n("PqYM"),g=n("R0Ic"),b=n("JX91"),v=n("/uUt"),y=n("1G5W"),_=n("8LU1"),k=n("nLfN"),C=n("FtGj"),x=n("cH1L"),w=n("vxfF");function O(t,e){1&t&&s.qc(0)}var S=["*"];function E(t,e){}var M=function(t){return{animationDuration:t}},I=function(t,e){return{value:t,params:e}},P=["tabBodyWrapper"],T=["tabHeader"];function A(t,e){}function D(t,e){if(1&t&&s.Qc(0,A,0,0,"ng-template",9),2&t){var n=s.lc().$implicit;s.sc("cdkPortalOutlet",n.templateLabel)}}function R(t,e){if(1&t&&s.Sc(0),2&t){var n=s.lc().$implicit;s.Tc(n.textLabel)}}function L(t,e){if(1&t){var n=s.ac();s.Zb(0,"div",6),s.hc("click",(function(){s.Hc(n);var t=e.$implicit,i=e.index,a=s.lc(),r=s.Dc(1);return a._handleClick(t,r,i)})),s.Zb(1,"div",7),s.Qc(2,D,1,1,"ng-template",8),s.Qc(3,R,1,1,"ng-template",8),s.Yb(),s.Yb()}if(2&t){var i=e.$implicit,a=e.index,r=s.lc();s.Jb("mat-tab-label-active",r.selectedIndex==a),s.sc("id",r._getTabLabelId(a))("disabled",i.disabled)("matRippleDisabled",i.disabled||r.disableRipple),s.Fb("tabIndex",r._getTabIndex(i,a))("aria-posinset",a+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(a))("aria-selected",r.selectedIndex==a)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),s.Eb(2),s.sc("ngIf",i.templateLabel),s.Eb(1),s.sc("ngIf",!i.templateLabel)}}function F(t,e){if(1&t){var n=s.ac();s.Zb(0,"mat-tab-body",10),s.hc("_onCentered",(function(){return s.Hc(n),s.lc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(t){return s.Hc(n),s.lc()._setTabBodyWrapperHeight(t)})),s.Yb()}if(2&t){var i=e.$implicit,a=e.index,r=s.lc();s.Jb("mat-tab-body-active",r.selectedIndex==a),s.sc("id",r._getTabContentId(a))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",r.animationDuration),s.Fb("aria-labelledby",r._getTabLabelId(a))}}var j=["tabListContainer"],Y=["tabList"],Z=["nextPaginator"],N=["previousPaginator"],U=["mat-tab-nav-bar",""],B=new s.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(t){return{left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"}}}}),z=function(){var t=function(){function t(e,n,i,a){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._inkBarPositioner=i,this._animationMode=a}return _createClass(t,[{key:"alignToElement",value:function(t){var e=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return e._setStyles(t)}))})):this._setStyles(t)}},{key:"show",value:function(){this._elementRef.nativeElement.style.visibility="visible"}},{key:"hide",value:function(){this._elementRef.nativeElement.style.visibility="hidden"}},{key:"_setStyles",value:function(t){var e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.B),s.Tb(B),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&s.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t}(),V=function(){var t=function t(e){_classCallCheck(this,t),this.template=e};return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.O))},t.\u0275dir=s.Ob({type:t,selectors:[["","matTabContent",""]]}),t}(),H=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(r.b);return t.\u0275fac=function(e){return Q(e||t)},t.\u0275dir=s.Ob({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[s.Bb]}),t}(),Q=s.bc(H),W=Object(c.B)((function t(){_classCallCheck(this,t)})),G=new s.r("MAT_TAB_GROUP"),q=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var a;return _classCallCheck(this,n),(a=e.call(this))._viewContainerRef=t,a._closestTabGroup=i,a.textLabel="",a._contentPortal=null,a._stateChanges=new u.a,a.position=null,a.origin=null,a.isActive=!1,a}return _createClass(n,[{key:"ngOnChanges",value:function(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"ngOnInit",value:function(){this._contentPortal=new r.j(this._explicitContent||this._implicitContent,this._viewContainerRef)}},{key:"templateLabel",get:function(){return this._templateLabel},set:function(t){t&&(this._templateLabel=t)}},{key:"content",get:function(){return this._contentPortal}}]),n}(W);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.R),s.Tb(G,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(s.Lb(n,H,!0),s.Nc(n,V,!0,s.O)),2&t&&(s.Cc(i=s.ic())&&(e.templateLabel=i.first),s.Cc(i=s.ic())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&s.Oc(s.O,!0),2&t&&s.Cc(n=s.ic())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[s.Bb,s.Cb],ngContentSelectors:S,decls:1,vars:0,template:function(t,e){1&t&&(s.rc(),s.Qc(0,O,1,0,"ng-template"))},encapsulation:2}),t}(),X={translateTab:Object(g.n)("translateTab",[Object(g.k)("center, void, left-origin-center, right-origin-center",Object(g.l)({transform:"none"})),Object(g.k)("left",Object(g.l)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(g.k)("right",Object(g.l)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(g.m)("* => left, * => right, left => center, right => center",Object(g.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(g.m)("void => left-origin-center",[Object(g.l)({transform:"translate3d(-100%, 0, 0)"}),Object(g.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(g.m)("void => right-origin-center",[Object(g.l)({transform:"translate3d(100%, 0, 0)"}),Object(g.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},$=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i,r))._host=a,o._centeringSub=d.a.EMPTY,o._leavingSub=d.a.EMPTY,o}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this._centeringSub=this._host._beforeCentering.pipe(Object(b.a)(this._host._isCenterPosition(this._host._position))).subscribe((function(e){e&&!t.hasAttached()&&t.attach(t._host._content)})),this._leavingSub=this._host._afterLeavingCenter.subscribe((function(){t.detach()}))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}]),n}(r.c);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.j),s.Tb(s.R),s.Tb(Object(s.W)((function(){return K}))),s.Tb(o.e))},t.\u0275dir=s.Ob({type:t,selectors:[["","matTabBodyHost",""]],features:[s.Bb]}),t}(),J=function(){var t=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this._elementRef=e,this._dir=n,this._dirChangeSubscription=d.a.EMPTY,this._translateTabComplete=new u.a,this._onCentering=new s.o,this._beforeCentering=new s.o,this._afterLeavingCenter=new s.o,this._onCentered=new s.o(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe((function(t){a._computePositionAnimationState(t),i.markForCheck()}))),this._translateTabComplete.pipe(Object(v.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){a._isCenterPosition(t.toState)&&a._isCenterPosition(a._position)&&a._onCentered.emit(),a._isCenterPosition(t.fromState)&&!a._isCenterPosition(a._position)&&a._afterLeavingCenter.emit()}))}return _createClass(t,[{key:"ngOnInit",value:function(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}},{key:"ngOnDestroy",value:function(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}},{key:"_onTranslateTabStarted",value:function(t){var e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_isCenterPosition",value:function(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}},{key:"_computePositionAnimationState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getLayoutDirection();this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}},{key:"_computePositionFromOrigin",value:function(t){var e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}},{key:"position",set:function(t){this._positionIndex=t,this._computePositionAnimationState()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(x.c,8),s.Tb(s.h))},t.\u0275dir=s.Ob({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t}(),K=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){return _classCallCheck(this,n),e.call(this,t,i,a)}return n}(J);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(x.c,8),s.Tb(s.h))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&s.ad(r.g,!0),2&t&&s.Cc(n=s.ic())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[s.Bb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(s.Zb(0,"div",0,1),s.hc("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),s.Qc(2,E,0,0,"ng-template",2),s.Yb()),2&t&&s.sc("@translateTab",s.Ac(3,I,e._position,s.zc(1,M,e.animationDuration)))},directives:[$],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[X.translateTab]}}),t}(),tt=new s.r("MAT_TABS_CONFIG"),et=0,nt=function t(){_classCallCheck(this,t)},it=Object(c.z)(Object(c.A)((function t(e){_classCallCheck(this,t),this._elementRef=e})),"primary"),at=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t))._changeDetectorRef=i,o._animationMode=r,o._tabs=new s.G,o._indexToSelect=0,o._tabBodyWrapperHeight=0,o._tabsSubscription=d.a.EMPTY,o._tabLabelSubscription=d.a.EMPTY,o._dynamicHeight=!1,o._selectedIndex=null,o.headerPosition="above",o.selectedIndexChange=new s.o,o.focusChange=new s.o,o.animationDone=new s.o,o.selectedTabChange=new s.o(!0),o._groupId=et++,o.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",o.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,o}return _createClass(n,[{key:"ngAfterContentChecked",value:function(){var t=this,e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){var n=null==this._selectedIndex;n||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then((function(){t._tabs.forEach((function(t,n){return t.isActive=n===e})),n||t.selectedIndexChange.emit(e)}))}this._tabs.forEach((function(n,i){n.position=i-e,null==t._selectedIndex||0!=n.position||n.origin||(n.origin=e-t._selectedIndex)})),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}},{key:"ngAfterContentInit",value:function(){var t=this;this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe((function(){if(t._clampTabIndex(t._indexToSelect)===t._selectedIndex)for(var e=t._tabs.toArray(),n=0;n<e.length;n++)if(e[n].isActive){t._indexToSelect=t._selectedIndex=n;break}t._changeDetectorRef.markForCheck()}))}},{key:"_subscribeToAllTabChanges",value:function(){var t=this;this._allTabs.changes.pipe(Object(b.a)(this._allTabs)).subscribe((function(e){t._tabs.reset(e.filter((function(e){return!e._closestTabGroup||e._closestTabGroup===t}))),t._tabs.notifyOnChanges()}))}},{key:"ngOnDestroy",value:function(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}},{key:"realignInkBar",value:function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}},{key:"_focusChanged",value:function(t){this.focusChange.emit(this._createChangeEvent(t))}},{key:"_createChangeEvent",value:function(t){var e=new nt;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}},{key:"_subscribeToTabLabels",value:function(){var t=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(f.a).apply(void 0,_toConsumableArray(this._tabs.map((function(t){return t._stateChanges})))).subscribe((function(){return t._changeDetectorRef.markForCheck()}))}},{key:"_clampTabIndex",value:function(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}},{key:"_getTabLabelId",value:function(t){return"mat-tab-label-".concat(this._groupId,"-").concat(t)}},{key:"_getTabContentId",value:function(t){return"mat-tab-content-".concat(this._groupId,"-").concat(t)}},{key:"_setTabBodyWrapperHeight",value:function(t){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}}},{key:"_removeTabBodyWrapperHeight",value:function(){var t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}},{key:"_handleClick",value:function(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}},{key:"_getTabIndex",value:function(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}},{key:"dynamicHeight",get:function(){return this._dynamicHeight},set:function(t){this._dynamicHeight=Object(_.c)(t)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){this._indexToSelect=Object(_.f)(t,null)}},{key:"animationDuration",get:function(){return this._animationDuration},set:function(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}}]),n}(it);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(tt,8),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[s.Bb]}),t}(),rt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){return _classCallCheck(this,n),e.call(this,t,i,a,r)}return n}(at);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(tt,8),s.Tb(l.a,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&s.Lb(n,q,!0),2&t&&s.Cc(i=s.ic())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(s.ad(P,!0),s.ad(T,!0)),2&t&&(s.Cc(n=s.ic())&&(e._tabBodyWrapper=n.first),s.Cc(n=s.ic())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&s.Jb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[s.Db([{provide:G,useExisting:t}]),s.Bb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(s.Zb(0,"mat-tab-header",0,1),s.hc("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),s.Qc(2,L,4,14,"div",2),s.Yb(),s.Zb(3,"div",3,4),s.Qc(5,F,1,8,"mat-tab-body",5),s.Yb()),2&t&&(s.sc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),s.Eb(2),s.sc("ngForOf",e._tabs),s.Eb(1),s.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode),s.Eb(2),s.sc("ngForOf",e._tabs))},directives:function(){return[dt,o.s,st,c.t,i.e,o.t,r.c,K]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t}(),ot=Object(c.B)((function t(){_classCallCheck(this,t)})),st=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).elementRef=t,i}return _createClass(n,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"getOffsetLeft",value:function(){return this.elementRef.nativeElement.offsetLeft}},{key:"getOffsetWidth",value:function(){return this.elementRef.nativeElement.offsetWidth}}]),n}(ot);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l))},t.\u0275dir=s.Ob({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(s.Fb("aria-disabled",!!e.disabled),s.Jb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[s.Bb]}),t}(),ct=Object(k.f)({passive:!0}),lt=function(){var t=function(){function t(e,n,i,a,r,o,c){var l=this;_classCallCheck(this,t),this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=i,this._dir=a,this._ngZone=r,this._platform=o,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new u.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new u.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new s.o,this.indexFocused=new s.o,r.runOutsideAngular((function(){Object(h.a)(e.nativeElement,"mouseleave").pipe(Object(y.a)(l._destroyed)).subscribe((function(){l._stopInterval()}))}))}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;Object(h.a)(this._previousPaginator.nativeElement,"touchstart",ct).pipe(Object(y.a)(this._destroyed)).subscribe((function(){t._handlePaginatorPress("before")})),Object(h.a)(this._nextPaginator.nativeElement,"touchstart",ct).pipe(Object(y.a)(this._destroyed)).subscribe((function(){t._handlePaginatorPress("after")}))}},{key:"ngAfterContentInit",value:function(){var t=this,e=this._dir?this._dir.change:Object(p.a)(null),n=this._viewportRuler.change(150),a=function(){t.updatePagination(),t._alignInkBarToSelectedTab()};this._keyManager=new i.g(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(a):a(),Object(f.a)(e,n,this._items.changes).pipe(Object(y.a)(this._destroyed)).subscribe((function(){Promise.resolve().then(a),t._keyManager.withHorizontalOrientation(t._getLayoutDirection())})),this._keyManager.change.pipe(Object(y.a)(this._destroyed)).subscribe((function(e){t.indexFocused.emit(e),t._setTabFocus(e)}))}},{key:"ngAfterContentChecked",value:function(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}},{key:"_handleKeydown",value:function(t){if(!Object(C.v)(t))switch(t.keyCode){case C.j:this._keyManager.setFirstItemActive(),t.preventDefault();break;case C.f:this._keyManager.setLastItemActive(),t.preventDefault();break;case C.g:case C.q:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}},{key:"_onContentChanges",value:function(){var t=this,e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run((function(){t.updatePagination(),t._alignInkBarToSelectedTab(),t._changeDetectorRef.markForCheck()})))}},{key:"updatePagination",value:function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}},{key:"_isValidIndex",value:function(t){if(!this._items)return!0;var e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}},{key:"_setTabFocus",value:function(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();var e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_updateTabScrollPosition",value:function(){if(!this.disablePagination){var t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform="translateX(".concat(Math.round(n),"px)"),e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}}},{key:"_scrollHeader",value:function(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}},{key:"_handlePaginatorClick",value:function(t){this._stopInterval(),this._scrollHeader(t)}},{key:"_scrollToLabel",value:function(t){if(!this.disablePagination){var e=this._items?this._items.toArray()[t]:null;if(e){var n,i,a=this._tabListContainer.nativeElement.offsetWidth,r=e.elementRef.nativeElement,o=r.offsetLeft,s=r.offsetWidth;"ltr"==this._getLayoutDirection()?i=(n=o)+s:n=(i=this._tabList.nativeElement.offsetWidth-o)-s;var c=this.scrollDistance,l=this.scrollDistance+a;n<c?this.scrollDistance-=c-n+60:i>l&&(this.scrollDistance+=i-l+60)}}}},{key:"_checkPaginationEnabled",value:function(){if(this.disablePagination)this._showPaginationControls=!1;else{var t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}},{key:"_checkScrollingControls",value:function(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}},{key:"_getMaxScrollDistance",value:function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}},{key:"_alignInkBarToSelectedTab",value:function(){var t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}},{key:"_stopInterval",value:function(){this._stopScrolling.next()}},{key:"_handlePaginatorPress",value:function(t,e){var n=this;e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(m.a)(650,100).pipe(Object(y.a)(Object(f.a)(this._stopScrolling,this._destroyed))).subscribe((function(){var e=n._scrollHeader(t),i=e.maxScrollDistance,a=e.distance;(0===a||a>=i)&&n._stopInterval()})))}},{key:"_scrollTo",value:function(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};var e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){t=Object(_.f)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}},{key:"focusIndex",get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}},{key:"scrollDistance",get:function(){return this._scrollDistance},set:function(t){this._scrollTo(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(w.h),s.Tb(x.c,8),s.Tb(s.B),s.Tb(k.a),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,inputs:{disablePagination:"disablePagination"}}),t}(),ut=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c){var l;return _classCallCheck(this,n),(l=e.call(this,t,i,a,r,o,s,c))._disableRipple=!1,l}return _createClass(n,[{key:"_itemSelected",value:function(t){t.preventDefault()}},{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Object(_.c)(t)}}]),n}(lt);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(w.h),s.Tb(x.c,8),s.Tb(s.B),s.Tb(k.a),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,inputs:{disableRipple:"disableRipple"},features:[s.Bb]}),t}(),dt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c){return _classCallCheck(this,n),e.call(this,t,i,a,r,o,s,c)}return n}(ut);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(s.h),s.Tb(w.h),s.Tb(x.c,8),s.Tb(s.B),s.Tb(k.a),s.Tb(l.a,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&s.Lb(n,st,!1),2&t&&s.Cc(i=s.ic())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(s.Oc(z,!0),s.Oc(j,!0),s.Oc(Y,!0),s.ad(Z,!0),s.ad(N,!0)),2&t&&(s.Cc(n=s.ic())&&(e._inkBar=n.first),s.Cc(n=s.ic())&&(e._tabListContainer=n.first),s.Cc(n=s.ic())&&(e._tabList=n.first),s.Cc(n=s.ic())&&(e._nextPaginator=n.first),s.Cc(n=s.ic())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&s.Jb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[s.Bb],ngContentSelectors:S,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(s.rc(),s.Zb(0,"div",0,1),s.hc("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),s.Ub(2,"div",2),s.Yb(),s.Zb(3,"div",3,4),s.hc("keydown",(function(t){return e._handleKeydown(t)})),s.Zb(5,"div",5,6),s.hc("cdkObserveContent",(function(){return e._onContentChanges()})),s.Zb(7,"div",7),s.qc(8),s.Yb(),s.Ub(9,"mat-ink-bar"),s.Yb(),s.Yb(),s.Zb(10,"div",8,9),s.hc("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),s.Ub(12,"div",2),s.Yb()),2&t&&(s.Jb("mat-tab-header-pagination-disabled",e._disableScrollBefore),s.sc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),s.Eb(5),s.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode),s.Eb(5),s.Jb("mat-tab-header-pagination-disabled",e._disableScrollAfter),s.sc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[c.t,a.a,z],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t}(),ft=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c){var l;return _classCallCheck(this,n),(l=e.call(this,t,r,o,i,a,s,c))._disableRipple=!1,l.color="primary",l}return _createClass(n,[{key:"_itemSelected",value:function(){}},{key:"ngAfterContentInit",value:function(){var t=this;this._items.changes.pipe(Object(b.a)(null),Object(y.a)(this._destroyed)).subscribe((function(){t.updateActiveLink()})),_get(_getPrototypeOf(n.prototype),"ngAfterContentInit",this).call(this)}},{key:"updateActiveLink",value:function(t){if(this._items){for(var e=this._items.toArray(),n=0;n<e.length;n++)if(e[n].active)return this.selectedIndex=n,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement.classList;e.remove("mat-background-"+this.backgroundColor),t&&e.add("mat-background-"+t),this._backgroundColor=t}},{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Object(_.c)(t)}}]),n}(lt);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(x.c,8),s.Tb(s.B),s.Tb(s.h),s.Tb(w.h),s.Tb(k.a,8),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,inputs:{color:"color",backgroundColor:"backgroundColor",disableRipple:"disableRipple"},features:[s.Bb]}),t}(),ht=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,c){return _classCallCheck(this,n),e.call(this,t,i,a,r,o,s,c)}return n}(ft);return t.\u0275fac=function(e){return new(e||t)(s.Tb(s.l),s.Tb(x.c,8),s.Tb(s.B),s.Tb(s.h),s.Tb(w.h),s.Tb(k.a,8),s.Tb(l.a,8))},t.\u0275cmp=s.Nb({type:t,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,e,n){var i;1&t&&s.Lb(n,gt,!0),2&t&&s.Cc(i=s.ic())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(s.Oc(z,!0),s.Oc(j,!0),s.Oc(Y,!0),s.ad(Z,!0),s.ad(N,!0)),2&t&&(s.Cc(n=s.ic())&&(e._inkBar=n.first),s.Cc(n=s.ic())&&(e._tabListContainer=n.first),s.Cc(n=s.ic())&&(e._tabList=n.first),s.Cc(n=s.ic())&&(e._nextPaginator=n.first),s.Cc(n=s.ic())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(t,e){2&t&&s.Jb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())("mat-primary","warn"!==e.color&&"accent"!==e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[s.Bb],attrs:U,ngContentSelectors:S,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(s.rc(),s.Zb(0,"div",0,1),s.hc("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),s.Ub(2,"div",2),s.Yb(),s.Zb(3,"div",3,4),s.hc("keydown",(function(t){return e._handleKeydown(t)})),s.Zb(5,"div",5,6),s.hc("cdkObserveContent",(function(){return e._onContentChanges()})),s.Zb(7,"div",7),s.qc(8),s.Yb(),s.Ub(9,"mat-ink-bar"),s.Yb(),s.Yb(),s.Zb(10,"div",8,9),s.hc("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),s.Ub(12,"div",2),s.Yb()),2&t&&(s.Jb("mat-tab-header-pagination-disabled",e._disableScrollBefore),s.sc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),s.Eb(5),s.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode),s.Eb(5),s.Jb("mat-tab-header-pagination-disabled",e._disableScrollAfter),s.sc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[c.t,a.a,z],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n'],encapsulation:2}),t}(),pt=Object(c.E)(Object(c.A)(Object(c.B)((function t(){_classCallCheck(this,t)})))),mt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s){var c;return _classCallCheck(this,n),(c=e.call(this))._tabNavBar=t,c.elementRef=i,c._focusMonitor=o,c._isActive=!1,c.rippleConfig=a||{},c.tabIndex=parseInt(r)||0,"NoopAnimations"===s&&(c.rippleConfig.animation={enterDuration:0,exitDuration:0}),o.monitor(i),c}return _createClass(n,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this.elementRef)}},{key:"active",get:function(){return this._isActive},set:function(t){t!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink(this.elementRef))}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}}]),n}(pt);return t.\u0275fac=function(e){return new(e||t)(s.Tb(ft),s.Tb(s.l),s.Tb(c.i,8),s.ec("tabindex"),s.Tb(i.h),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,inputs:{active:"active"},features:[s.Bb]}),t}(),gt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r,o,s,l,u){var d;return _classCallCheck(this,n),(d=e.call(this,t,i,o,s,l,u))._tabLinkRipple=new c.w(_assertThisInitialized(d),a,i,r),d._tabLinkRipple.setupTriggerEvents(i.nativeElement),d}return _createClass(n,[{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._tabLinkRipple._removeTriggerEvents()}}]),n}(mt);return t.\u0275fac=function(e){return new(e||t)(s.Tb(ht),s.Tb(s.l),s.Tb(s.B),s.Tb(k.a),s.Tb(c.i,8),s.ec("tabindex"),s.Tb(i.h),s.Tb(l.a,8))},t.\u0275dir=s.Ob({type:t,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){2&t&&(s.Fb("aria-current",e.active?"page":null)("aria-disabled",e.disabled)("tabIndex",e.tabIndex),s.Jb("mat-tab-disabled",e.disabled)("mat-tab-label-active",e.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[s.Bb]}),t}(),bt=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=s.Rb({type:t}),t.\u0275inj=s.Qb({factory:function(e){return new(e||t)},imports:[[o.c,c.j,r.i,c.u,a.c,i.a],c.j]}),t}()},wjEo:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=n("FWf1"),o=n("Q1FS"),s=n("6qA3");e.SimpleInnerSubscriber=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return a(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(r.Subscriber),e.ComplexInnerSubscriber=function(t){function e(e,n,i){var a=t.call(this)||this;return a.parent=e,a.outerValue=n,a.outerIndex=i,a}return a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r.Subscriber),e.SimpleOuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(r.Subscriber),e.ComplexOuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.notifyNext=function(t,e,n,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.Subscriber),e.innerSubscribe=function(t,e){if(!e.closed)return t instanceof o.Observable?t.subscribe(e):s.subscribeTo(t)(e)}},xHqg:function(t,e,n){"use strict";n.d(e,"a",(function(){return N})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return P})),n.d(e,"e",(function(){return Y})),n.d(e,"f",(function(){return F})),n.d(e,"g",(function(){return W})),n.d(e,"h",(function(){return z})),n.d(e,"i",(function(){return H})),n.d(e,"j",(function(){return B}));var i=n("+rOU"),a=n("B/XX"),r=n("ofXK"),o=n("fXoL"),s=n("bTqV"),c=n("FKr1"),l=n("NFeN"),u=n("XNiG"),d=n("1G5W"),f=n("/uUt"),h=n("R0Ic"),p=n("u47x"),m=n("cH1L");function g(t,e){if(1&t&&o.Vb(0,9),2&t){var n=o.lc();o.sc("ngTemplateOutlet",n.iconOverrides[n.state])("ngTemplateOutletContext",n._getIconContext())}}function b(t,e){if(1&t&&(o.Zb(0,"span"),o.Sc(1),o.Yb()),2&t){var n=o.lc(2);o.Eb(1),o.Tc(n._getDefaultTextForState(n.state))}}function v(t,e){if(1&t&&(o.Zb(0,"mat-icon"),o.Sc(1),o.Yb()),2&t){var n=o.lc(2);o.Eb(1),o.Tc(n._getDefaultTextForState(n.state))}}function y(t,e){if(1&t&&(o.Xb(0,10),o.Qc(1,b,2,1,"span",11),o.Qc(2,v,2,1,"mat-icon",12),o.Wb()),2&t){var n=o.lc();o.sc("ngSwitch",n.state),o.Eb(1),o.sc("ngSwitchCase","number")}}function _(t,e){if(1&t&&o.Vb(0,13),2&t){var n=o.lc();o.sc("ngTemplateOutlet",n._templateLabel().template)}}function k(t,e){if(1&t&&(o.Zb(0,"div",14),o.Sc(1),o.Yb()),2&t){var n=o.lc();o.Eb(1),o.Tc(n.label)}}function C(t,e){if(1&t&&(o.Zb(0,"div",15),o.Sc(1),o.Yb()),2&t){var n=o.lc();o.Eb(1),o.Tc(n._intl.optionalLabel)}}function x(t,e){if(1&t&&(o.Zb(0,"div",16),o.Sc(1),o.Yb()),2&t){var n=o.lc();o.Eb(1),o.Tc(n.errorMessage)}}function w(t,e){1&t&&o.qc(0)}var O=["*"];function S(t,e){1&t&&o.Ub(0,"div",6)}function E(t,e){if(1&t){var n=o.ac();o.Xb(0),o.Zb(1,"mat-step-header",4),o.hc("click",(function(){return e.$implicit.select()}))("keydown",(function(t){return o.Hc(n),o.lc()._onKeydown(t)})),o.Yb(),o.Qc(2,S,1,0,"div",5),o.Wb()}if(2&t){var i=e.$implicit,a=e.index,r=e.last,s=o.lc();o.Eb(1),o.sc("tabIndex",s._getFocusIndex()===a?0:-1)("id",s._getStepLabelId(a))("index",a)("state",s._getIndicatorType(a,i.state))("label",i.stepLabel||i.label)("selected",s.selectedIndex===a)("active",i.completed||s.selectedIndex===a||!s.linear)("optional",i.optional)("errorMessage",i.errorMessage)("iconOverrides",s._iconOverrides)("disableRipple",s.disableRipple),o.Fb("aria-posinset",a+1)("aria-setsize",s.steps.length)("aria-controls",s._getStepContentId(a))("aria-selected",s.selectedIndex==a)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),o.Eb(1),o.sc("ngIf",!r)}}function M(t,e){if(1&t){var n=o.ac();o.Zb(0,"div",7),o.hc("@stepTransition.done",(function(t){return o.Hc(n),o.lc()._animationDone.next(t)})),o.Vb(1,8),o.Yb()}if(2&t){var i=e.$implicit,a=e.index,r=o.lc();o.sc("@stepTransition",r._getAnimationDirection(a))("id",r._getStepContentId(a)),o.Fb("tabindex",r.selectedIndex===a?0:null)("aria-labelledby",r._getStepLabelId(a))("aria-expanded",r.selectedIndex===a),o.Eb(1),o.sc("ngTemplateOutlet",i.content)}}function I(t,e){if(1&t){var n=o.ac();o.Zb(0,"div",1),o.Zb(1,"mat-step-header",2),o.hc("click",(function(){return e.$implicit.select()}))("keydown",(function(t){return o.Hc(n),o.lc()._onKeydown(t)})),o.Yb(),o.Zb(2,"div",3),o.Zb(3,"div",4),o.hc("@stepTransition.done",(function(t){return o.Hc(n),o.lc()._animationDone.next(t)})),o.Zb(4,"div",5),o.Vb(5,6),o.Yb(),o.Yb(),o.Yb(),o.Yb()}if(2&t){var i=e.$implicit,a=e.index,r=e.last,s=o.lc();o.Eb(1),o.sc("tabIndex",s._getFocusIndex()==a?0:-1)("id",s._getStepLabelId(a))("index",a)("state",s._getIndicatorType(a,i.state))("label",i.stepLabel||i.label)("selected",s.selectedIndex===a)("active",i.completed||s.selectedIndex===a||!s.linear)("optional",i.optional)("errorMessage",i.errorMessage)("iconOverrides",s._iconOverrides)("disableRipple",s.disableRipple),o.Fb("aria-posinset",a+1)("aria-setsize",s.steps.length)("aria-controls",s._getStepContentId(a))("aria-selected",s.selectedIndex===a)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),o.Eb(1),o.Jb("mat-stepper-vertical-line",!r),o.Eb(1),o.sc("@stepTransition",s._getAnimationDirection(a))("id",s._getStepContentId(a)),o.Fb("tabindex",s.selectedIndex===a?0:null)("aria-labelledby",s._getStepLabelId(a))("aria-expanded",s.selectedIndex===a),o.Eb(2),o.sc("ngTemplateOutlet",i.content)}}var P=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(a.c);return t.\u0275fac=function(e){return T(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["","matStepLabel",""]],features:[o.Bb]}),t}(),T=o.bc(P),A=function(){var t=function t(){_classCallCheck(this,t),this.changes=new u.a,this.optionalLabel="Optional"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(o.Pb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),D={provide:A,deps:[[new o.C,new o.M,A]],useFactory:function(t){return t||new A}},R=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,a))._intl=t,o._focusMonitor=i,i.monitor(a,!0),o._intlSubscription=t.changes.subscribe((function(){return r.markForCheck()})),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){this._focusMonitor.focusVia(this._elementRef,"program")}},{key:"_stringLabel",value:function(){return this.label instanceof P?null:this.label}},{key:"_templateLabel",value:function(){return this.label instanceof P?this.label:null}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_getIconContext",value:function(){return{index:this.index,active:this.active,optional:this.optional}}},{key:"_getDefaultTextForState",value:function(t){return"number"==t?""+(this.index+1):"edit"==t?"create":"error"==t?"warning":t}}]),n}(a.b);return t.\u0275fac=function(e){return new(e||t)(o.Tb(A),o.Tb(p.h),o.Tb(o.l),o.Tb(o.h))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[o.Bb],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],[3,"ngTemplateOutlet",4,"ngIf"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Zb(1,"div"),o.Zb(2,"div",1),o.Qc(3,g,1,2,"ng-container",2),o.Qc(4,y,3,2,"ng-container",3),o.Yb(),o.Yb(),o.Zb(5,"div",4),o.Qc(6,_,1,1,"ng-container",5),o.Qc(7,k,2,1,"div",6),o.Qc(8,C,2,1,"div",7),o.Qc(9,x,2,1,"div",8),o.Yb()),2&t&&(o.sc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),o.Eb(1),o.Hb("mat-step-icon-state-",e.state," mat-step-icon"),o.Jb("mat-step-icon-selected",e.selected),o.Eb(1),o.sc("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),o.Eb(1),o.sc("ngSwitchCase",!0),o.Eb(2),o.Jb("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),o.Eb(1),o.sc("ngIf",e._templateLabel()),o.Eb(1),o.sc("ngIf",e._stringLabel()),o.Eb(1),o.sc("ngIf",e.optional&&"error"!=e.state),o.Eb(1),o.sc("ngIf","error"==e.state))},directives:[c.t,r.x,r.y,r.z,r.t,r.A,l.a],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t}(),L={horizontalStepTransition:Object(h.n)("stepTransition",[Object(h.k)("previous",Object(h.l)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Object(h.k)("current",Object(h.l)({transform:"none",visibility:"visible"})),Object(h.k)("next",Object(h.l)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Object(h.m)("* => *",Object(h.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:Object(h.n)("stepTransition",[Object(h.k)("previous",Object(h.l)({height:"0px",visibility:"hidden"})),Object(h.k)("next",Object(h.l)({height:"0px",visibility:"hidden"})),Object(h.k)("current",Object(h.l)({height:"*",visibility:"visible"})),Object(h.m)("* <=> current",Object(h.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])},F=function(){var t=function t(e){_classCallCheck(this,t),this.templateRef=e};return t.\u0275fac=function(e){return new(e||t)(o.Tb(o.O))},t.\u0275dir=o.Ob({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t}(),j=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a){var r;return _classCallCheck(this,n),(r=e.call(this,t,a))._errorStateMatcher=i,r}return _createClass(n,[{key:"isErrorState",value:function(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}]),n}(a.a);return t.\u0275fac=function(e){return new(e||t)(o.Tb(Object(o.W)((function(){return Y}))),o.Tb(c.d,4),o.Tb(a.h,8))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-step"]],contentQueries:function(t,e,n){var i;1&t&&o.Lb(n,P,!0),2&t&&o.Cc(i=o.ic())&&(e.stepLabel=i.first)},exportAs:["matStep"],features:[o.Db([{provide:c.d,useExisting:t},{provide:a.a,useExisting:t}]),o.Bb],ngContentSelectors:O,decls:1,vars:0,template:function(t,e){1&t&&(o.rc(),o.Qc(0,w,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t}(),Y=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).animationDone=new o.o,t._iconOverrides={},t._animationDone=new u.a,t}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._icons.forEach((function(e){var n=e.name,i=e.templateRef;return t._iconOverrides[n]=i})),this._steps.changes.pipe(Object(d.a)(this._destroyed)).subscribe((function(){t._stateChanged()})),this._animationDone.pipe(Object(f.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState})),Object(d.a)(this._destroyed)).subscribe((function(e){"current"===e.toState&&t.animationDone.emit()}))}}]),n}(a.d);return t.\u0275fac=function(e){return Z(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["","matStepper",""]],contentQueries:function(t,e,n){var i;1&t&&(o.Lb(n,j,!0),o.Lb(n,F,!0)),2&t&&(o.Cc(i=o.ic())&&(e._steps=i),o.Cc(i=o.ic())&&(e._icons=i))},viewQuery:function(t,e){var n;1&t&&o.ad(R,!0),2&t&&o.Cc(n=o.ic())&&(e._stepHeader=n)},inputs:{disableRipple:"disableRipple"},outputs:{animationDone:"animationDone"},features:[o.Db([{provide:a.d,useExisting:t}]),o.Bb]}),t}(),Z=o.bc(Y),N=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).labelPosition="end",t}return n}(Y);return t.\u0275fac=function(e){return U(e||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-horizontal-stepper"]],hostAttrs:["aria-orientation","horizontal","role","tablist",1,"mat-stepper-horizontal"],hostVars:4,hostBindings:function(t,e){2&t&&o.Jb("mat-stepper-label-position-end","end"==e.labelPosition)("mat-stepper-label-position-bottom","bottom"==e.labelPosition)},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition"},exportAs:["matHorizontalStepper"],features:[o.Db([{provide:Y,useExisting:t},{provide:a.d,useExisting:t}]),o.Bb],decls:4,vars:2,consts:[[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[1,"mat-horizontal-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(o.Zb(0,"div",0),o.Qc(1,E,3,18,"ng-container",1),o.Yb(),o.Zb(2,"div",2),o.Qc(3,M,2,6,"div",3),o.Yb()),2&t&&(o.Eb(1),o.sc("ngForOf",e.steps),o.Eb(2),o.sc("ngForOf",e.steps))},directives:[r.s,R,r.t,r.A],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[L.horizontalStepTransition]},changeDetection:0}),t}(),U=o.bc(N),B=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i,a,r))._orientation="vertical",o}return n}(Y);return t.\u0275fac=function(e){return new(e||t)(o.Tb(m.c,8),o.Tb(o.h),o.Tb(o.l),o.Tb(r.e))},t.\u0275cmp=o.Nb({type:t,selectors:[["mat-vertical-stepper"]],hostAttrs:["aria-orientation","vertical","role","tablist",1,"mat-stepper-vertical"],inputs:{selectedIndex:"selectedIndex"},exportAs:["matVerticalStepper"],features:[o.Db([{provide:Y,useExisting:t},{provide:a.d,useExisting:t}]),o.Bb],decls:1,vars:1,consts:[["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","click","keydown"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&o.Qc(0,I,6,25,"div",0),2&t&&o.sc("ngForOf",e.steps)},directives:[r.s,R,r.A],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:36px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;top:36px;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto;padding:24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;padding:24px;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;top:-16px;bottom:-16px;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[L.verticalStepTransition]},changeDetection:0}),t}(),z=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(a.f);return t.\u0275fac=function(e){return V(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["button","matStepperNext",""]],hostVars:1,hostBindings:function(t,e){2&t&&o.cc("type",e.type)},inputs:{type:"type"},features:[o.Bb]}),t}(),V=o.bc(z),H=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(a.g);return t.\u0275fac=function(e){return Q(e||t)},t.\u0275dir=o.Ob({type:t,selectors:[["button","matStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){2&t&&o.cc("type",e.type)},inputs:{type:"type"},features:[o.Bb]}),t}(),Q=o.bc(H),W=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(e){return new(e||t)},providers:[D,c.d],imports:[[c.j,r.c,i.i,s.c,a.e,l.b,c.u],c.j]}),t}()},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC"),a=n("DH7j"),r=n("n6bG"),o=n("lJxs");function s(t,e,n,c){return Object(r.a)(n)&&(c=n,n=void 0),c?s(t,e,n).pipe(Object(o.a)((function(t){return Object(a.a)(t)?c.apply(void 0,_toConsumableArray(t)):c(t)}))):new i.a((function(i){!function t(e,n,i,a,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,i,r),o=function(){return s.removeEventListener(n,i,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,i),o=function(){return c.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,i),o=function(){return l.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,d=e.length;u<d;u++)t(e[u],n,i,a,r)}a.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)}))}},y9tK:function(t,e,n){"use strict";n.d(e,"a",(function(){return B}));var i=n("mrSG"),a=n("fXoL"),r=n("5+WD"),o=n("lJxs"),s=n("vkgz"),c=n("JIr8"),l=n("LRne"),u=n("SIQe"),d=n("sYmb"),f=n("tk/3"),h=n("AXEc"),p=n("0IaG"),m=n("rH+9"),g=n("4zkx"),b=n("ofXK"),v=n("63qU"),y=n("7EHt"),_=n("MutI"),k=n("NFeN"),C=n("FKr1"),x=n("bTqV"),w=n("STbY"),O=n("Xa2L"),S=function(){return["/rest/autocomplete/users","/rest/autocomplete/entities"]};function E(t,e){if(1&t){var n=a.ac();a.Zb(0,"plugin-autocomplete",6,7),a.hc("triggerEvent",(function(t){return a.Hc(n),a.lc(2).addElem(t)})),a.Yb()}if(2&t){var i=a.lc(2);a.sc("labelPlaceholder",i.translate.instant("lang.addUserOrEntity"))("routeDatas",a.yc(4,S))("targetSearchKey","idToDisplay")("subInfoKey","descriptionToDisplay")}}function M(t,e){1&t&&(a.Zb(0,"div",8),a.Sc(1),a.mc(2,"translate"),a.Yb()),2&t&&(a.Eb(1),a.Uc(" ",a.nc(2,1,"lang.noDiffusionList")," "))}function I(t,e){if(1&t&&a.Ub(0,"div",9),2&t){var n=a.lc(2);a.sc("innerHTML",n.translate.instant("lang.diffNoDestmsg"),a.Ic)}}function P(t,e){if(1&t&&(a.Xb(0),a.Sc(1),a.Wb()),2&t){var n=a.lc(2).$implicit,i=a.lc(2);a.Eb(1),a.Uc("(",i.diffList[n.id].items.length,") ")}}function T(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",22),a.hc("click",(function(){a.Hc(n);var t=e.$implicit;return a.lc(6).changeDest(t)})),a.Zb(1,"span"),a.Sc(2),a.Yb(),a.Yb()}if(2&t){var i=e.$implicit;a.Eb(2),a.Tc(i.labelToDisplay)}}function A(t,e){if(1&t){var n=a.ac();a.Zb(0,"div"),a.Zb(1,"button",18),a.hc("click",(function(){return a.Hc(n),a.lc(5).loadDestUserList()})),a.mc(2,"translate"),a.Ub(3,"mat-icon",19),a.Yb(),a.Zb(4,"mat-menu",null,20),a.Qc(6,T,3,1,"button",21),a.Yb(),a.Yb()}if(2&t){var i=a.Dc(5),r=a.lc(5);a.Eb(1),a.tc("title",a.nc(2,3,"lang.chooseAnotherEntityUser")),a.sc("matMenuTriggerFor",i),a.Eb(5),a.sc("ngForOf",r.userDestList)}}function D(t,e){if(1&t){var n=a.ac();a.Zb(0,"button",27),a.hc("click",(function(){a.Hc(n);var t=a.lc().$implicit,e=a.lc(2).$implicit,i=a.lc(2).$implicit;return a.lc(2).changeRole(e,i,t)})),a.Sc(1),a.Yb()}if(2&t){var i=a.lc().$implicit;a.Eb(1),a.Tc(i.label)}}function R(t,e){if(1&t&&(a.Xb(0),a.Qc(1,D,2,1,"button",26),a.Wb()),2&t){var n=e.$implicit,i=a.lc(6);a.Eb(1),a.sc("ngIf",n.canUpdate&&"redirect"!==i.target||"dest"!==n.id&&"redirect"===i.target&&n.canUpdate)}}function L(t,e){if(1&t&&(a.Zb(0,"div"),a.Zb(1,"button",23),a.Sc(2),a.Ub(3,"i",24),a.Yb(),a.Zb(4,"mat-menu",null,25),a.Qc(6,R,2,1,"ng-container",5),a.Yb(),a.Yb()),2&t){var n=a.Dc(5),i=a.lc(3).$implicit,r=a.lc(2);a.Eb(1),a.sc("matMenuTriggerFor",n)("disabled",!r.canUpdateRoles()),a.Eb(1),a.Uc("",i.label," "),a.Eb(2),a.Gb("roleListMenu"),a.Eb(2),a.sc("ngForOf",r.availableRoles)}}function F(t,e){if(1&t){var n=a.ac();a.Zb(0,"div"),a.Zb(1,"button",28),a.hc("click",(function(){a.Hc(n);var t=a.lc().index,e=a.lc(2).$implicit;return a.lc(2).deleteItem(e.id,t)})),a.Ub(2,"mat-icon",29),a.Yb(),a.Yb()}if(2&t){var i=a.lc(5);a.Eb(1),a.sc("disabled",!i.canUpdateRoles())}}function j(t,e){if(1&t&&(a.Zb(0,"mat-list-item",13),a.Ub(1,"mat-icon",14),a.Zb(2,"div",15),a.Zb(3,"p",16),a.Sc(4),a.Yb(),a.Zb(5,"p",17),a.Sc(6),a.Yb(),a.Yb(),a.Qc(7,A,7,5,"div",0),a.Qc(8,L,7,6,"div",0),a.Qc(9,F,3,1,"div",0),a.Yb()),2&t){var n=e.$implicit,i=a.lc(2).$implicit,r=a.lc(2);a.Eb(1),a.Jb("fa-user","user_id"===n.item_type||"user"===n.item_type)("fa-sitemap","entity_id"===n.item_type||"entity"===n.item_type),a.Eb(2),a.sc("title",n.itemLabel),a.Eb(1),a.Tc(n.itemLabel),a.Eb(1),a.sc("title",n.itemSubLabel),a.Eb(1),a.Uc(" ",n.itemSubLabel,""),a.Eb(1),a.sc("ngIf","dest"===i.id&&"redirect"===r.target&&r.adminMode),a.Eb(1),a.sc("ngIf","dest"!==i.id&&r.adminMode&&("user_id"===n.item_type||"user"===n.item_type)),a.Eb(1),a.sc("ngIf","dest"!==i.id&&r.adminMode)}}function Y(t,e){if(1&t&&(a.Zb(0,"mat-expansion-panel",11),a.Zb(1,"mat-expansion-panel-header"),a.Zb(2,"mat-panel-title"),a.Sc(3),a.Qc(4,P,2,1,"ng-container",0),a.Yb(),a.Yb(),a.Zb(5,"mat-list"),a.Qc(6,j,10,11,"mat-list-item",12),a.Yb(),a.Yb()),2&t){var n=a.lc().$implicit,i=a.lc(2);a.sc("expanded","dest"===n.id||i.adminMode||i.expanded),a.Eb(3),a.Uc(" ",n.label," "),a.Eb(1),a.sc("ngIf","dest"!==n.id),a.Eb(2),a.sc("ngForOf",i.diffList[n.id].items)}}function Z(t,e){if(1&t&&(a.Xb(0),a.Qc(1,Y,7,4,"mat-expansion-panel",10),a.Wb()),2&t){var n=e.$implicit,i=a.lc(2);a.Eb(1),a.sc("ngIf",i.diffList[n.id].items.length>0)}}function N(t,e){if(1&t&&(a.Xb(0),a.Qc(1,E,2,5,"plugin-autocomplete",2),a.Qc(2,M,3,3,"div",3),a.Qc(3,I,1,1,"div",4),a.Qc(4,Z,2,1,"ng-container",5),a.Wb()),2&t){var n=a.lc();a.Eb(1),a.sc("ngIf",n.adminMode&&n.canUpdateRoles()),a.Eb(1),a.sc("ngIf",n.isEmptyList()&&!n.loading),a.Eb(1),a.sc("ngIf",n.hasNoDest),a.Eb(1),a.sc("ngForOf",n.availableRoles)}}function U(t,e){1&t&&(a.Zb(0,"div",30),a.Ub(1,"mat-spinner",31),a.Yb())}var B=function(){var t=function(){function t(e,n,i,r,o,s,c){_classCallCheck(this,t),this.translate=e,this.http=n,this.notify=i,this.renderer=r,this.dialog=o,this.functions=s,this.headerService=c,this.roles=[],this.loading=!0,this.availableRoles=[],this.keepRoles=[],this.currentEntityId=0,this.userDestList=[],this.diffList=null,this.listinstanceClone=[],this.hasNoDest=!1,this.resId=null,this.keepDestForRedirection=!1,this.entityId=null,this.selfDest=!1,this.adminMode=!1,this.allowedEntities=[],this.expanded=!1,this.target="",this.triggerEvent=new a.o}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initRoles();case 2:null!==this.resId&&0!=this.resId&&"redirect"!==this.target?this.loadListinstance(this.resId):null!==this.resId&&0!=this.resId||this.functions.empty(this.entityId)||this.loadListModel(this.entityId,!1,this.selfDest),this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"drop",value:function(t){t.previousContainer===t.container||"dest"!=t.container.id&&Object(r.i)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}},{key:"noReturnPredicate",value:function(){return!1}},{key:"allPredicate",value:function(){return!0}},{key:"loadListModel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,r,o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.loading=!0,this.currentEntityId=t,this.userDestList=[],i.next=3,this.getListModel(t);case 3:if(a=i.sent,this.removeAllItems(),a.length>0&&a[0].forEach((function(t){o.diffList[t.item_mode].items.push(t)})),n&&this.headerService.user.entities[0].id===t&&(this.diffList.dest.items=[{item_mode:"dest",item_type:"user",itemSerialId:this.headerService.user.id,itemId:"",itemLabel:"".concat(this.headerService.user.firstname," ").concat(this.headerService.user.lastname),itemSubLabel:this.headerService.user.entities[0].entity_label,difflist_type:"entity_id",process_date:null,process_comment:null}]),null===this.resId){i.next=9;break}return i.next=7,this.getListinstance(this.resId);case 7:void 0!==(r=i.sent)&&r.forEach((function(t){e&&"dest"==t.item_mode&&(o.diffList[t.item_mode].items=[t]),o.keepRoles.indexOf(t.item_mode)>-1&&0===o.diffList[t.item_mode].items.filter((function(e){return e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type})).length&&o.diffList[t.item_mode].items.push(t),o.keepDestForRedirection&&"dest"==t.item_mode&&0===o.diffList.cc.items.filter((function(e){return e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type})).length&&o.diffList.cc.items.push(t)}));case 9:void 0!==this.diffFormControl&&this.setFormValues(),this.listinstanceClone=JSON.parse(JSON.stringify(this.getCurrentListinstance())),this.loading=!1;case 10:case"end":return i.stop()}}),i,this)})))}},{key:"getListModel",value:function(t){var e=this;return new Promise((function(n,i){e.http.get("../rest/listTemplates/entities/".concat(t,"?type=diffusionList")).pipe(Object(o.a)((function(t){return t.listTemplates=t.listTemplates.map((function(t){return t.items.map((function(t){return{listmodel_id:t.id,listinstance_id:t.listinstance_id,item_mode:t.item_mode,item_type:t.item_type,itemSerialId:t.item_id,itemId:"",itemLabel:t.labelToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:"entity_id",process_date:null,process_comment:null}}))})),t.listTemplates})),Object(s.a)((function(t){n(t)})),Object(c.a)((function(t){return e.notify.handleSoftErrors(t),Object(l.a)(!1)}))).subscribe()}))}},{key:"getListinstance",value:function(t){var e=this;return new Promise((function(n,i){0!=t?e.http.get("../rest/resources/".concat(t,"/listInstance")).pipe(Object(o.a)((function(t){return t.listInstance=t.listInstance.map((function(t){return{listinstance_id:t.listinstance_id,item_mode:t.item_mode,item_type:"user_id"===t.item_type?"user":"entity",itemSerialId:t.itemSerialId,itemId:t.item_id,itemLabel:t.labelToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:t.difflist_type,process_date:null,process_comment:null}})),t.listInstance})),Object(s.a)((function(t){n(t)})),Object(c.a)((function(t){return e.notify.handleSoftErrors(t),Object(l.a)(!1)}))).subscribe():n([])}))}},{key:"loadListinstance",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.http.get("../rest/resources/".concat(t,"/fields/destination?alt=true")).pipe(Object(s.a)((function(t){i.currentEntityId=t.field})),Object(c.a)((function(t){return i.notify.handleSoftErrors(t),Object(l.a)(!1)}))).subscribe(),this.loading=!0,e.next=3,this.getListinstance(t);case 3:n=e.sent,this.removeAllItems(),n.forEach((function(t){i.functions.empty(i.diffList[t.item_mode])||i.diffList[t.item_mode].items.push(t)})),0===n.filter((function(t){return"dest"===t.item_mode})).length&&!this.availableRoles.filter((function(t){return"dest"===t.id}))[0].canUpdate&&this.adminMode&&(this.adminMode=!1,this.hasNoDest=!0),void 0!==this.diffFormControl&&this.setFormValues(),this.loading=!1,this.listinstanceClone=JSON.parse(JSON.stringify(this.getCurrentListinstance()));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"saveListinstance",value:function(){var t=this;if(!this.hasEmptyDest())return new Promise((function(e,n){var i=[{resId:t.resId,listInstances:t.getCurrentListinstance()}];t.http.put("../rest/listinstances",i).pipe(Object(s.a)((function(n){n&&null!=n.errors?t.notify.error(n.errors):(t.listinstanceClone=JSON.parse(JSON.stringify(t.getCurrentListinstance())),t.notify.success(t.translate.instant("lang.diffusionListUpdated")),e(!0))})),Object(c.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}));this.notify.error(this.translate.instant("lang.noDest"))}},{key:"initRoles",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/roles?context="+t.target).pipe(Object(o.a)((function(t){return t.roles=t.roles.map((function(t){return Object.assign(Object.assign({},t),{id:t.id})})),t.roles})),Object(s.a)((function(n){t.diffList={},t.availableRoles=n,t.availableRoles.forEach((function(e){t.diffList[e.id]={label:e.label,items:[]},e.keepInListInstance&&t.keepRoles.push(e.id)})),e(!0)})),Object(c.a)((function(e){return t.notify.handleSoftErrors(e),Object(l.a)(!1)}))).subscribe()}))}},{key:"deleteItem",value:function(t,e){this.diffList[t].items.splice(e,1),void 0!==this.diffFormControl&&this.setFormValues()}},{key:"getCurrentListinstance",value:function(){var t=this,e=[];return null!==this.diffList&&Object.keys(this.diffList).forEach((function(n){t.diffList[n].items.length>0&&t.diffList[n].items.forEach((function(t){e.push({difflist_type:t.difflist_type,item_id:t.itemSerialId,item_mode:"copy"===n?"cc":n,item_type:t.item_type,process_date:t.process_date,process_comment:t.process_comment})}))})),e}},{key:"loadDestUserList",value:function(){var t=this;this.currentEntityId>0&&0==this.userDestList.length&&this.http.get("../rest/entities/"+this.currentEntityId+"/users").subscribe((function(e){t.userDestList=e.users,t.loading=!1}),(function(e){t.notify.handleErrors(e)}))}},{key:"changeDest",value:function(t){this.diffList.dest.items[0]={listinstance_id:null,item_mode:"dest",item_type:"user",itemSerialId:t.id,itemId:t.user_id,itemLabel:t.labelToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:"entity_id",process_date:null,process_comment:null}}},{key:"getDestUser",value:function(){return!(null===this.diffList||!this.diffList.dest)&&this.diffList.dest.items}},{key:"addElem",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="cc",e.t0=this.hasEmptyDest()&&"user"==t.type,!e.t0){e.next=19;break}if(!this.currentEntityId){e.next=17;break}return e.next=6,this.isUserInCurrentEntity(t.serialId);case 6:if(e.t2=e.sent,!e.t2){e.next=9;break}e.t2=this.availableRoles.filter((function(t){return"dest"===t.id}))[0].canUpdate;case 9:if(!e.t2){e.next=13;break}e.t3="dest",e.next=14;break;case 13:e.t3="cc";case 14:e.t1=e.t3,e.next=18;break;case 17:e.t1=this.availableRoles.filter((function(t){return"dest"===t.id}))[0].canUpdate?"dest":"cc";case 18:n=e.t1;case 19:"",i="user"==t.type?"user":"entity",a={listinstance_id:null,item_mode:n,item_type:i,itemSerialId:t.serialId,itemId:t.id,itemLabel:t.idToDisplay,itemSubLabel:t.descriptionToDisplay,difflist_type:"entity_id",process_date:null,process_comment:null},this.isItemInThisRole(a,"cc")||(this.diffList[n].items.unshift(a),void 0!==this.diffFormControl&&this.setFormValues());case 23:case"end":return e.stop()}}),e,this)})))}},{key:"isItemInThisRole",value:function(t,e){return this.diffList[e].items.map((function(t,e){return Object.assign(Object.assign({},t),{index:e})})).filter((function(e){return e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type})).length>0}},{key:"isUserInCurrentEntity",value:function(t){var e=this;return new Promise((function(n,i){e.http.get("../rest/entities/".concat(e.currentEntityId,"/users")).pipe(Object(s.a)((function(e){var i=e.users.filter((function(e){return e.id===t})).length>0;n(i)})),Object(c.a)((function(t){return e.notify.handleSoftErrors(t),Object(l.a)(!1)}))).subscribe()}))}},{key:"removeAllItems",value:function(){var t=this;Object.keys(this.diffList).forEach((function(e){t.diffList[e].items=[]}))}},{key:"hasEmptyDest",value:function(){return 0===this.diffList.dest.items.length}},{key:"isEmptyList",value:function(){var t=this,e=!0;return null!==this.diffList&&Object.keys(this.diffList).forEach((function(n){t.diffList[n].items.length>0&&(e=!1)})),e}},{key:"changeRole",value:function(t,e,n){"dest"===n.id?this.switchUserWithOldDest(t,e):this.changeUserRole(t,e,n)}},{key:"switchMode",value:function(){var t=this;this.adminMode=!this.adminMode,this.adminMode&&this.canUpdateRoles()&&setTimeout((function(){t.renderer.selectRootElement("#autoCompleteInput").focus()}),100)}},{key:"switchUserWithOldDest",value:function(t,e){var n=this;this.http.get("../rest/users/"+t.itemSerialId+"/entities").pipe(Object(o.a)((function(t){return t.entities=t.entities.map((function(t){return t.id})),t})),Object(s.a)((function(i){var a=!1,r=[];if(n.allowedEntities.forEach((function(t){i.entities.indexOf(t)>-1&&(a=!0,r.push(i.entities[i.entities.indexOf(t)]))})),a||"process"===n.target||"details"===n.target){if(n.diffList.dest.items.length>0){var o=n.diffList.dest.items[0];-1!==n.diffList[e.id].items.map((function(t){return t.itemSerialId})).indexOf(o.itemSerialId)||n.isItemInThisRole(o,e.id)||(o.item_mode=e.id,n.diffList[e.id].items.push(o))}var s=n.diffList[e.id].items.map((function(t,e){return Object.assign(Object.assign({},t),{index:e})})).filter((function(e){return e.itemSerialId===t.itemSerialId&&e.item_type===t.item_type}));s.length>0&&n.diffList[e.id].items.splice(s[0].index,1),t.item_mode="dest",n.diffList.dest.items[0]=t,void 0!==n.diffFormControl&&n.setFormValues(),void 0!==n.triggerEvent&&n.triggerEvent.emit(r)}else n.dialog.open(u.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:n.translate.instant("lang.userUnauthorized"),msg:"<b>"+t.itemLabel+"</b> "+n.translate.instant("lang.notInAuthorizedEntities")}})}))).subscribe()}},{key:"changeUserRole",value:function(t,e,n){var i;(i=this.diffList[e.id].items.map((function(t){return t.itemSerialId})).indexOf(t.itemSerialId))>-1&&this.diffList[e.id].items.splice(i,1),this.isItemInThisRole(t,n.id)||(t.item_mode=n.id,this.diffList[n.id].items.push(t)),void 0!==this.diffFormControl&&this.setFormValues()}},{key:"setFormValues",value:function(){var t=this,e=[];Object.keys(this.diffList).forEach((function(n){e=e.concat(t.diffList[n].items.map((function(t){return{id:t.itemSerialId,mode:n,type:"user"===t.item_type?"user":"entity"}})))})),this.diffFormControl.setValue(e),this.diffFormControl.markAsTouched()}},{key:"canUpdateRoles",value:function(){return this.availableRoles.filter((function(t){return!0===t.canUpdate})).length>0}},{key:"isModified",value:function(){return JSON.stringify(this.listinstanceClone)!==JSON.stringify(this.getCurrentListinstance())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Tb(d.e),a.Tb(f.b),a.Tb(h.a),a.Tb(a.H),a.Tb(p.b),a.Tb(m.a),a.Tb(g.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-diffusions-list"]],inputs:{resId:"resId",keepDestForRedirection:"keepDestForRedirection",entityId:"entityId",selfDest:"selfDest",adminMode:"adminMode",allowedEntities:"allowedEntities",expanded:"expanded",target:"target",diffFormControl:"diffFormControl"},outputs:{triggerEvent:"triggerEvent"},decls:2,vars:2,consts:[[4,"ngIf"],["style","display:flex;",4,"ngIf"],["appearance","ouline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent",4,"ngIf"],["style","text-align:center;font-size:24px;font-weight:bold;opacity:0.3;",4,"ngIf"],["class","alert-message alert-message-danger","role","alert",3,"innerHTML",4,"ngIf"],[4,"ngFor","ngForOf"],["appearance","ouline",3,"labelPlaceholder","routeDatas","targetSearchKey","subInfoKey","triggerEvent"],["test",""],[2,"text-align","center","font-size","24px","font-weight","bold","opacity","0.3"],["role","alert",1,"alert-message","alert-message-danger",3,"innerHTML"],["class","diffusionList",3,"expanded",4,"ngIf"],[1,"diffusionList",3,"expanded"],["disableRipple","","class","item-diffusion-list",4,"ngFor","ngForOf"],["disableRipple","",1,"item-diffusion-list"],["mat-list-icon","","color","primary",1,"fa"],[1,"item-diffusion"],["mat-line","",3,"title"],["mat-line","",1,"subInfo",3,"title"],["mat-icon-button","",3,"matMenuTriggerFor","title","click"],["color","primary",1,"fa","fa-edit"],["menuDestUserList","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor","disabled"],[1,"fa","fa-chevron-down"],["menu","matMenu"],["mat-menu-item","","style","font-size:13px;",3,"click",4,"ngIf"],["mat-menu-item","",2,"font-size","13px",3,"click"],["mat-icon-button","","color","warn",3,"disabled","click"],[1,"fa","fa-trash",2,"height","auto"],[2,"display","flex"],[2,"margin","auto"]],template:function(t,e){1&t&&(a.Qc(0,N,5,4,"ng-container",0),a.Qc(1,U,2,0,"div",1)),2&t&&(a.sc("ngIf",!e.loading),a.Eb(1),a.sc("ngIf",e.loading))},directives:[b.t,b.s,v.a,y.c,y.g,y.h,_.a,_.d,k.a,_.c,C.k,x.b,w.d,w.e,w.b,O.c],pipes:[d.d],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#fff;padding:10px}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]:last-child{border:none}.cdk-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.columns[_ngcontent-%COMP%]{cursor:move}.notDraggable[_ngcontent-%COMP%]{cursor:not-allowed}.notEditable[_ngcontent-%COMP%]{cursor:auto}.roleList[_ngcontent-%COMP%]{padding-bottom:40px}.diffusionList[_ngcontent-%COMP%]{box-shadow:none}.diffusionList[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#4a4a4a;font-weight:700;font-size:13px}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]{height:55px;margin-bottom:10px;background-color:hsla(0,0%,84.7%,.1);border-radius:10px;font-size:13px}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:13px;height:13px;width:13px;padding-right:10px}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .item-diffusion[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;overflow:hidden}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .item-diffusion[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{margin:0}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .subInfo[_ngcontent-%COMP%]{font-size:13px;opacity:.5}.diffusionList[_ngcontent-%COMP%]   .item-diffusion-list[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{background:#fff;font-size:13px;border:.5px solid rgba(74,74,74,.32);border-radius:29.5px;color:#4a4a4a} .roleListMenu .mat-menu-content{padding-top:0;padding-bottom:0;font-size:13px;color:#4a4a4a}"]}),t}()},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),a=n("ngJS"),r=n("jZKg");function o(t,e){return e?Object(r.a)(t,e):new i.a(Object(a.a)(t))}},yLV6:function(t,e,n){var i;!function(a,r,o,s){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=r.createElement("div"),d=Math.round,f=Math.abs,h=Date.now;function p(t,e,n){return setTimeout(k(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function b(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=a.console&&(a.console.warn||a.console.log);return r&&r.call(a.console,i,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e}:Object.assign;var v=b((function(t,e,n){for(var i=Object.keys(e),a=0;a<i.length;)(!n||n&&void 0===t[i[a]])&&(t[i[a]]=e[i[a]]),a++;return t}),"extend","Use `assign`."),y=b((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var i,a=e.prototype;(i=t.prototype=Object.create(a)).constructor=t,i._super=a,n&&c(i,n)}function k(t,e){return function(){return t.apply(e,arguments)}}function C(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function x(t,e){return void 0===t?e:t}function w(t,e,n){g(M(e),(function(e){t.addEventListener(e,n,!1)}))}function O(t,e,n){g(M(e),(function(e){t.removeEventListener(e,n,!1)}))}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function E(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function T(t,e,n){for(var i=[],a=[],r=0;r<t.length;){var o=e?t[r][e]:t[r];I(a,o)<0&&i.push(t[r]),a[r]=o,r++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function A(t,e){for(var n,i,a=e[0].toUpperCase()+e.slice(1),r=0;r<l.length;){if((i=(n=l[r])?n+a:e)in t)return i;r++}}var D=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||a}var L="ontouchstart"in a,F=void 0!==A(a,"PointerEvent"),j=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Y=["x","y"],Z=["clientX","clientY"];function N(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){C(t.options.enable,[t])&&n.handler(e)},this.init()}function U(t,e,n){var i=n.pointers.length,a=n.changedPointers.length,r=1&e&&i-a==0,o=12&e&&i-a==0;n.isFirst=!!r,n.isFinal=!!o,r&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,a=i.length;n.firstInput||(n.firstInput=B(e)),a>1&&!n.firstMultiple?n.firstMultiple=B(e):1===a&&(n.firstMultiple=!1);var r=n.firstInput,o=n.firstMultiple,s=o?o.center:r.center,c=e.center=z(i);e.timeStamp=h(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=W(s,c),e.distance=Q(s,c),function(t,e){var n=e.center,i=t.offsetDelta||{},a=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(a=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=a.x+(n.x-i.x),e.deltaY=a.y+(n.y-i.y)}(n,e),e.offsetDirection=H(e.deltaX,e.deltaY);var l,u,d=V(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=f(d.x)>f(d.y)?d.x:d.y,e.scale=o?(l=o.pointers,Q((u=i)[0],u[1],Z)/Q(l[0],l[1],Z)):1,e.rotation=o?function(t,e){return W(e[1],e[0],Z)+W(t[1],t[0],Z)}(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,a,r,o=t.lastInterval||e,s=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(s>25||void 0===o.velocity)){var c=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,u=V(s,c,l);i=u.x,a=u.y,n=f(u.x)>f(u.y)?u.x:u.y,r=H(c,l),t.lastInterval=e}else n=o.velocity,i=o.velocityX,a=o.velocityY,r=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=a,e.direction=r}(n,e);var p=t.element;S(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function B(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,a=0;a<e;)n+=t[a].clientX,i+=t[a].clientY,a++;return{x:d(n/e),y:d(i/e)}}function V(t,e,n){return{x:e/t||0,y:n/t||0}}function H(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function Q(t,e,n){n||(n=Y);var i=e[n[0]]-t[n[0]],a=e[n[1]]-t[n[1]];return Math.sqrt(i*i+a*a)}function W(t,e,n){return n||(n=Y),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}N.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(R(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,N.apply(this,arguments)}_(q,N,{handler:function(t){var e=G[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},$={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",K="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=K,N.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}a.MSPointerEvent&&!a.PointerEvent&&(J="MSPointerDown",K="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,N,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),a=X[i],r=$[t.pointerType]||t.pointerType,o="touch"==r,s=I(e,t.pointerId,"pointerId");1&a&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):12&a&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,a,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,N.apply(this,arguments)}function it(t,e){var n=P(t.touches),i=P(t.changedTouches);return 12&e&&(n=T(n.concat(i),"identifier",!0)),[n,i]}_(nt,N,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},N.apply(this,arguments)}function ot(t,e){var n=P(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,r,o=P(t.changedTouches),s=[],c=this.target;if(r=n.filter((function(t){return S(t.target,c)})),1===e)for(a=0;a<r.length;)i[r[a].identifier]=!0,a++;for(a=0;a<o.length;)i[o[a].identifier]&&s.push(o[a]),12&e&&delete i[o[a].identifier],a++;return s.length?[T(r.concat(s),"identifier",!0),s]:void 0}function st(){N.apply(this,arguments);var t=k(this.handler,this);this.touch=new rt(this.manager,t),this.mouse=new q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var a=this.lastTouches[i],r=Math.abs(e-a.x),o=Math.abs(n-a.y);if(r<=25&&o<=25)return!0}return!1}_(rt,N,{handler:function(t){var e=at[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),_(st,N,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ct.call(this,e,n);else if(i&&ut.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=A(u.style,"touchAction"),ft=void 0!==dt,ht=function(){if(!ft)return!1;var t={},e=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||a.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function mt(t){this.options=c({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function bt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function vt(t,e){var n=e.manager;return n?n.get(t):t}function yt(){mt.apply(this,arguments)}function _t(){yt.apply(this,arguments),this.pX=null,this.pY=null}function kt(){yt.apply(this,arguments)}function Ct(){mt.apply(this,arguments),this._timer=null,this._input=null}function xt(){yt.apply(this,arguments)}function wt(){yt.apply(this,arguments)}function Ot(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function St(t,e){return(e=e||{}).recognizers=x(e.recognizers,St.defaults.preset),new Et(t,e)}function Et(t,e){var n;this.options=c({},St.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?tt:j?rt:L?st:q))(n,U),this.touchAction=new pt(this,this.options.touchAction),Mt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Mt(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,(function(a,r){n=A(i.style,r),e?(t.oldCssProps[n]=i.style[n],i.style[n]=a):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&ht[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){C(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(E(t,"none"))return"none";var e=E(t,"pan-x"),n=E(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":E(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,a=E(i,"none")&&!ht.none,r=E(i,"pan-y")&&!ht["pan-y"],o=E(i,"pan-x")&&!ht["pan-x"];if(a&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!r)return a||r&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=vt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=vt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=vt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=vt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+gt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!C(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(yt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,a=this.attrTest(t);return i&&(8&n||!a)?16|e:i||a?4&n?8|e:2&e?4|e:2:32}}),_(_t,yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,a=t.direction,r=t.deltaX,o=t.deltaY;return a&e.direction||(6&e.direction?(a=0===r?1:r<0?2:4,n=r!=this.pX,i=Math.abs(t.deltaX)):(a=0===o?1:o<0?8:16,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=a,n&&i>e.threshold&&a&e.direction},attrTest:function(t){return yt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=bt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(kt,yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(Ct,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!a)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(xt,yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(wt,yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=bt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Ot,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&a&&n){if(4!=t.eventType)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||Q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),St.VERSION="2.0.7",St.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[xt,{enable:!1}],[kt,{enable:!1},["rotate"]],[wt,{direction:6}],[_t,{direction:6},["swipe"]],[Ot],[Ot,{event:"doubletap",taps:2},["tap"]],[Ct]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Et.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,a=e.curRecognizer;(!a||a&&8&a.state)&&(a=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(t),!a&&14&n.state&&(a=e.curRecognizer=n),r++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(M(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(M(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(St,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Et,Input:N,TouchAction:pt,TouchInput:rt,MouseInput:q,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:yt,Tap:Ot,Pan:_t,Swipe:wt,Pinch:kt,Rotate:xt,Press:Ct,on:w,off:O,each:g,merge:y,extend:v,assign:c,inherit:_,bindFn:k,prefixed:A}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=St,void 0===(i=(function(){return St}).call(e,n,e,t))||(t.exports=i)}(window,document)},yRPT:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},yoF8:function(t,e,n){"use strict";e.identity=function(t){return t}},yx2s:function(t,e,n){"use strict";var i=n("FWf1");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof i.Subscriber?e:null}return!0}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return i}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC");function a(t,e){return new i.a(e?function(n){return e.schedule(r,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function r(t){var e=t.error;t.subscriber.error(e)}},"zB/H":function(t,e,n){"use strict";var i=n("mbIT"),a=n("GMZp"),r=n("pshJ"),o=n("LBXl");function s(t){return t.reduce((function(t,e){return t.concat(e instanceof o.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,c=this._ctorUnsubscribe,l=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d)n[d].remove(this);if(r.isFunction(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(p){e=p instanceof o.UnsubscriptionError?s(p.errors):[p]}}if(i.isArray(u)){d=-1;for(var f=u.length;++d<f;){var h=u[d];if(a.isObject(h))try{h.unsubscribe()}catch(p){e=e||[],p instanceof o.UnsubscriptionError?e=e.concat(s(p.errors)):e.push(p)}}}if(e)throw new o.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var a=n._parentOrParents;if(null===a)n._parentOrParents=this;else if(a instanceof t){if(a===this)return n;n._parentOrParents=[a,this]}else{if(-1!==a.indexOf(this))return n;a.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}()},zZ42:function(t,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return at})),n.d(e,"c",(function(){return nt}));var i=n("fXoL"),a=n("ofXK"),r=n("jtHE"),o=n("LRne"),s=n("HDdC"),c=n("XNiG"),l=n("tyNb"),u=n("nYR2"),d=["stepHolder"],f=["stepContainer"];function h(t,e){if(1&t&&i.Ub(0,"joyride-arrow",17),2&t){var n=i.lc();i.Pc("top",n.arrowTopPosition,"px")("left",n.arrowLeftPosition,"px"),i.sc("position",n.arrowPosition)}}function p(t,e){1&t&&i.Vb(0)}function m(t,e){if(1&t&&(i.Sc(0),i.mc(1,"async")),2&t){var n=i.lc();i.Uc(" ",i.nc(1,1,n.text)," ")}}function g(t,e){1&t&&i.Vb(0)}function b(t,e){if(1&t&&(i.Zb(0,"div",20),i.Sc(1),i.Yb()),2&t){var n=i.lc(2);i.Eb(1),i.Tc(n.counter)}}function v(t,e){if(1&t&&(i.Zb(0,"div",18),i.Qc(1,g,1,0,"ng-container",9),i.Qc(2,b,2,1,"ng-template",null,19,i.Rc),i.Yb()),2&t){var n=i.Dc(3),a=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",a.customCounter?a.customCounter:n)("ngTemplateOutletContext",a.counterData)}}function y(t,e){1&t&&i.Vb(0)}function _(t,e){if(1&t&&(i.Zb(0,"joyride-button",24),i.Sc(1),i.mc(2,"async"),i.Yb()),2&t){var n=i.lc(2);i.sc("color",n.themeColor),i.Eb(1),i.Tc(i.nc(2,2,n.prevText))}}function k(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",21),i.hc("click",(function(){return i.Hc(n),i.lc().prev()})),i.Qc(1,y,1,0,"ng-container",22),i.Qc(2,_,3,4,"ng-template",null,23,i.Rc),i.Yb()}if(2&t){var a=i.Dc(3),r=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",r.customPrevButton?r.customPrevButton:a)}}function C(t,e){1&t&&i.Vb(0)}function x(t,e){if(1&t&&(i.Zb(0,"joyride-button",27),i.Sc(1),i.mc(2,"async"),i.Yb()),2&t){var n=i.lc(2);i.sc("color",n.themeColor),i.Eb(1),i.Tc(i.nc(2,2,n.nextText))}}function w(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",25),i.hc("click",(function(){return i.Hc(n),i.lc().next()})),i.Qc(1,C,1,0,"ng-container",22),i.Qc(2,x,3,4,"ng-template",null,26,i.Rc),i.Yb()}if(2&t){var a=i.Dc(3),r=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",r.customNextButton?r.customNextButton:a)}}function O(t,e){1&t&&i.Vb(0)}function S(t,e){if(1&t&&(i.Zb(0,"joyride-button",30),i.Sc(1),i.mc(2,"async"),i.Yb()),2&t){var n=i.lc(2);i.sc("color",n.themeColor),i.Eb(1),i.Tc(i.nc(2,2,n.doneText))}}function E(t,e){if(1&t){var n=i.ac();i.Zb(0,"div",28),i.hc("click",(function(){return i.Hc(n),i.lc().close()})),i.Qc(1,O,1,0,"ng-container",22),i.Qc(2,S,3,4,"ng-template",null,29,i.Rc),i.Yb()}if(2&t){var a=i.Dc(3),r=i.lc();i.Eb(1),i.sc("ngTemplateOutlet",r.customDoneButton?r.customDoneButton:a)}}var M,I=function(t,e,n){return{"background-color":t,color:e,"border-color":n}},P=["*"],T=function t(){_classCallCheck(this,t),this.title=new r.a,this.text=new r.a},A={prev:Object(o.a)("prev"),next:Object(o.a)("next"),done:Object(o.a)("done"),close:Object(o.a)(null)},D=function(){var t=function(){function t(){_classCallCheck(this,t),this.themeColor="#3b5560",this.stepDefaultPosition="bottom",this.logsEnabled=!1,this.showCounter=!0,this.showPrevButton=!0,this.stepsOrder=[]}return _createClass(t,[{key:"setOptions",value:function(t){this.stepsOrder=t.steps,this.stepDefaultPosition=t.stepDefaultPosition?t.stepDefaultPosition:this.stepDefaultPosition,this.logsEnabled=void 0!==t.logsEnabled?t.logsEnabled:this.logsEnabled,this.showCounter=void 0!==t.showCounter?t.showCounter:this.showCounter,this.showPrevButton=void 0!==t.showPrevButton?t.showPrevButton:this.showPrevButton,this.themeColor=t.themeColor?t.themeColor:this.themeColor,this.firstStep=t.startWith,this.waitingTime=void 0!==t.waitingTime?t.waitingTime:1,this.setCustomText(void 0!==t.customTexts?t.customTexts:A)}},{key:"getBackdropColor",value:function(){return this.hexToRgb(this.themeColor)}},{key:"getThemeColor",value:function(){return this.themeColor}},{key:"getStepDefaultPosition",value:function(){return this.stepDefaultPosition}},{key:"getStepsOrder",value:function(){return this.stepsOrder}},{key:"getFirstStep",value:function(){return this.firstStep}},{key:"getWaitingTime",value:function(){return this.waitingTime}},{key:"areLogsEnabled",value:function(){return this.logsEnabled}},{key:"isCounterVisible",value:function(){return this.showCounter}},{key:"isPrevButtonVisible",value:function(){return this.showPrevButton}},{key:"getCustomTexts",value:function(){return this.customTexts}},{key:"setCustomText",value:function(t){var e,n,i,a;e=t.prev?t.prev:A.prev,n=t.next?t.next:A.next,i=t.done?t.done:A.done,a=t.close?t.close:A.close,this.customTexts={prev:this.toObservable(e),next:this.toObservable(n),done:this.toObservable(i),close:this.toObservable(a)}}},{key:"toObservable",value:function(t){return t instanceof s.a?t:Object(o.a)(t)}},{key:"hexToRgb",value:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?"".concat(parseInt(e[1],16),", ").concat(parseInt(e[2],16),", ").concat(parseInt(e[3],16)):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),R="ngx-joyride:::",L=function(){var t=function(){function t(e){_classCallCheck(this,t),this.optionService=e}return _createClass(t,[{key:"debug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.optionService.areLogsEnabled()&&console.debug(R+t,e)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.optionService.areLogsEnabled()&&console.info(R+t,e)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.optionService.areLogsEnabled()&&console.warn(R+t,e)}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.optionService.areLogsEnabled()&&console.error(R+t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(D))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),F=function(t){_inherits(n,_wrapNativeSuper(Error));var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),i=e.call(this,t),Object.setPrototypeOf(_assertThisInitialized(i),n.prototype),i}return n}(),j=function(t){_inherits(n,_wrapNativeSuper(Error));var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),i=e.call(this,t),Object.setPrototypeOf(_assertThisInitialized(i),n.prototype),i}return n}(),Y=function(t){_inherits(n,_wrapNativeSuper(Error));var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),i=e.call(this,t),Object.setPrototypeOf(_assertThisInitialized(i),n.prototype),i}return n}(),Z=function(t){return t.NEXT="NEXT",t.PREV="PREV",t}({}),N=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.stepOptions=e,this.logger=n,this.tempSteps=[],this.currentStepIndex=-2,this.stepHasBeenModified=new c.a}return _createClass(t,[{key:"getFirstStepIndex",value:function(){var t=this.stepOptions.getFirstStep(),e=this.stepOptions.getStepsOrder().indexOf(t);return e<0&&(e=0,void 0!==t&&this.logger.warn("The step ".concat(t," does not exist. Check in your step list if it's present."))),e}},{key:"init",value:function(){var t=this;this.logger.info("Initializing the steps array."),this.steps=[],this.currentStepIndex=this.getFirstStepIndex()-1,this.stepOptions.getStepsOrder().forEach((function(e){return t.steps.push({id:e,step:null})}))}},{key:"addStep",value:function(t){if(this.tempSteps.filter((function(e){return e.name===t.name})).length>0){var e=this.tempSteps.findIndex((function(e){return e.name===t.name}));this.tempSteps[e]=t}else this.logger.info("Adding step ".concat(t.name," to the steps list.")),this.tempSteps.push(t)}},{key:"get",value:function(t){if(t===Z.NEXT?this.currentStepIndex++:this.currentStepIndex--,this.currentStepIndex<0||this.currentStepIndex>=this.steps.length)throw new Y("The first or last step of the tour cannot be found!");var e=this.getStepName(this.steps[this.currentStepIndex].id),n=this.tempSteps.findIndex((function(t){return t.name===e})),i=this.tempSteps[n];return this.steps[this.currentStepIndex].step=i,null==i&&this.logger.warn("Step ".concat(this.steps[this.currentStepIndex].id," not found in the DOM. Check if it's hidden by *ngIf directive.")),i}},{key:"getStepRoute",value:function(t){var e;return(e=t===Z.NEXT?this.steps[this.currentStepIndex+1]?this.steps[this.currentStepIndex+1].id:null:this.steps[this.currentStepIndex-1]?this.steps[this.currentStepIndex-1].id:null)&&e.includes("@")?e.split("@")[1]:""}},{key:"updatePosition",value:function(t,e){var n=this.getStepIndex(t);this.steps[n].step?(this.steps[n].step.position=e,this.stepHasBeenModified.next(this.steps[n].step)):this.logger.warn("Trying to modify the position of ".concat(t," to ").concat(e,". Step not found!Is this step located in a different route?"))}},{key:"getStepNumber",value:function(t){return this.getStepIndex(t)+1}},{key:"getStepsCount",value:function(){return this.stepOptions.getStepsOrder().length}},{key:"getStepIndex",value:function(t){var e=this.steps.map((function(t){return t.id.includes("@")?t.id.split("@")[0]:t.id})).findIndex((function(e){return t===e}));if(-1===e)throw new F("The step with name: ".concat(t," does not exist in the step list."));return e}},{key:"getStepName",value:function(t){return t&&t.includes("@")?t.split("@")[0]:t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(D),i.dc(L))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),U=function(){var t=function(){function t(e){_classCallCheck(this,t),this.platformId=e,this.fakeDocument={body:{},documentElement:{}},this.fakeWindow={document:this.fakeDocument,navigator:{}}}return _createClass(t,[{key:"getNativeWindow",value:function(){return Object(a.I)(this.platformId)?window:this.fakeWindow}},{key:"getNativeDocument",value:function(){return Object(a.I)(this.platformId)?document:this.fakeDocument}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(i.E))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),B=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"setPrevButton",value:function(t){this._prevButton=t}},{key:"getPrevButton",value:function(){return this._prevButton}},{key:"setNextButton",value:function(t){this._nextButton=t}},{key:"getNextButton",value:function(){return this._nextButton}},{key:"setDoneButton",value:function(t){this._doneButton=t}},{key:"getDoneButton",value:function(){return this._doneButton}},{key:"setCounter",value:function(t){this._counter=t}},{key:"getCounter",value:function(){return this._counter}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),z=function(){var t=function(){function t(e,n,a,r,o,s){_classCallCheck(this,t),this.joyrideStepsContainer=e,this.viewContainerRef=n,this.domService=a,this.router=r,this.templateService=o,this.platformId=s,this.stepPosition="NO_POSITION",this.prev=new i.o,this.next=new i.o,this.done=new i.o,this.subscriptions=[],this.windowRef=this.domService.getNativeWindow(),this.step=new T}return _createClass(t,[{key:"ngAfterViewInit",value:function(){if(Object(a.I)(this.platformId)){if(this.prevTemplate&&this.templateService.setPrevButton(this.prevTemplate),this.nextTemplate&&this.templateService.setNextButton(this.nextTemplate),this.doneTemplate&&this.templateService.setDoneButton(this.doneTemplate),this.counterTemplate&&this.templateService.setCounter(this.counterTemplate),this.step.position=this.stepPosition,this.step.targetViewContainer=this.viewContainerRef,this.setAsyncFields(this.step),this.step.stepContent=this.stepContent,this.step.stepContentParams=this.stepContentParams,this.step.nextClicked=this.next,this.step.prevCliked=this.prev,this.step.tourDone=this.done,!this.name)throw new F("All the steps should have the 'joyrideStep' property set with a custom name.");this.step.name=this.name,this.step.route="/"===this.router.url.substr(0,1)?this.router.url.substr(1):this.router.url,this.step.transformCssStyle=this.windowRef.getComputedStyle(this.viewContainerRef.element.nativeElement).transform,this.step.isElementOrAncestorFixed=this.isElementFixed(this.viewContainerRef.element)||this.isAncestorsFixed(this.viewContainerRef.element.nativeElement.parentElement),this.joyrideStepsContainer.addStep(this.step)}}},{key:"ngOnChanges",value:function(t){(t.title||t.text)&&this.setAsyncFields(this.step)}},{key:"isElementFixed",value:function(t){return"fixed"===this.windowRef.getComputedStyle(t.nativeElement).position}},{key:"setAsyncFields",value:function(t){this.title instanceof s.a?this.subscriptions.push(this.title.subscribe((function(e){t.title.next(e)}))):t.title.next(this.title),this.text instanceof s.a?this.subscriptions.push(this.text.subscribe((function(e){t.text.next(e)}))):t.text.next(this.text)}},{key:"isAncestorsFixed",value:function(t){if(!t||!t.parentElement)return!1;var e="fixed"===this.windowRef.getComputedStyle(t.parentElement).position;return"BODY"===t.nodeName?e:!!e||this.isAncestorsFixed(t.parentElement)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){t.unsubscribe()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(N),i.Tb(i.R),i.Tb(U),i.Tb(l.c),i.Tb(B),i.Tb(i.E))},t.\u0275dir=i.Ob({type:t,selectors:[["joyrideStep"],["","joyrideStep",""]],inputs:{stepPosition:"stepPosition",name:["joyrideStep","name"],nextStep:"nextStep",title:"title",text:"text",stepContent:"stepContent",stepContentParams:"stepContentParams",prevTemplate:"prevTemplate",nextTemplate:"nextTemplate",doneTemplate:"doneTemplate",counterTemplate:"counterTemplate"},outputs:{prev:"prev",next:"next",done:"done"},features:[i.Cb]}),t}(),V=function(){var t=function(){function t(e){_classCallCheck(this,t),this.DOMService=e,this.setDocumentHeight(),document.elementsFromPoint||(document.elementsFromPoint=this.elementsFromPoint.bind(this))}return _createClass(t,[{key:"getElementFixedTop",value:function(t){return t.nativeElement.getBoundingClientRect().top}},{key:"getElementFixedLeft",value:function(t){return t.nativeElement.getBoundingClientRect().left}},{key:"getElementAbsoluteTop",value:function(t){var e=this.getScrollOffsets();return t.nativeElement.getBoundingClientRect().top+e.y}},{key:"getElementAbsoluteLeft",value:function(t){var e=this.getScrollOffsets();return t.nativeElement.getBoundingClientRect().left+e.x}},{key:"setDocumentHeight",value:function(){this.documentHeight=this.calculateDocumentHeight()}},{key:"getDocumentHeight",value:function(){return this.documentHeight}},{key:"isParentScrollable",value:function(t){return this.getFirstScrollableParent(t.nativeElement)!==this.DOMService.getNativeDocument().body}},{key:"isElementBeyondOthers",value:function(t,e,n){var i=e?this.getElementFixedLeft(t):this.getElementAbsoluteLeft(t),a=e?this.getElementFixedTop(t):this.getElementAbsoluteTop(t),r=i+t.nativeElement.getBoundingClientRect().width-1,o=a+t.nativeElement.getBoundingClientRect().height-1,s=this.DOMService.getNativeDocument().elementsFromPoint(i,a),c=this.DOMService.getNativeDocument().elementsFromPoint(r,o);return 0===s.length&&0===c.length?1:this.getFirstElementWithoutKeyword(s,n)!==t.nativeElement||this.getFirstElementWithoutKeyword(c,n)!==t.nativeElement?2:3}},{key:"scrollIntoView",value:function(t,e){var n=this.getFirstScrollableParent(t.nativeElement),i=e?this.getElementFixedTop(t):this.getElementAbsoluteTop(t);n!==this.DOMService.getNativeDocument().body?n.scrollTo?n.scrollTo(0,i-150):n.scrollTop=i-150:this.DOMService.getNativeWindow().scrollTo(0,i-150)}},{key:"scrollToTheTop",value:function(t){var e=this.getFirstScrollableParent(t.nativeElement);e!==this.DOMService.getNativeDocument().body?e.scrollTo?e.scrollTo(0,0):e.scrollTop=0:this.DOMService.getNativeWindow().scrollTo(0,0)}},{key:"scrollToTheBottom",value:function(t){var e=this.getFirstScrollableParent(t.nativeElement);e!==this.DOMService.getNativeDocument().body?e.scrollTo?e.scrollTo(0,this.DOMService.getNativeDocument().body.scrollHeight):e.scrollTop=e.scrollHeight-e.clientHeight:this.DOMService.getNativeWindow().scrollTo(0,this.DOMService.getNativeDocument().body.scrollHeight)}},{key:"getFirstScrollableParent",value:function(t){var e=this,n=/(auto|scroll|overlay)/,i=function(t,n){return e.DOMService.getNativeWindow().getComputedStyle(t,null).getPropertyValue(n)};return function t(a){return a&&a!==e.DOMService.getNativeDocument().body?function(t){return n.test(i(t,"overflow")+i(t,"overflow-y")+i(t,"overflow-x"))}(a)?a:t(a.parentNode):e.DOMService.getNativeDocument().body}(t)}},{key:"calculateDocumentHeight",value:function(){var t=this.DOMService.getNativeDocument();return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)}},{key:"getScrollOffsets",value:function(){var t=this.DOMService.getNativeWindow(),e=this.DOMService.getNativeDocument();return null!=t.pageXOffset?{x:t.pageXOffset,y:t.pageYOffset}:"CSS1Compat"==e.compatMode?{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop}:{x:e.body.scrollLeft,y:e.body.scrollTop}}},{key:"elementsFromPoint",value:function(t,e){var n=[],i=void 0;do{var a=this.DOMService.getNativeDocument().elementFromPoint(t,e);a&&i!==a?(n.push(i=a),i.style.pointerEvents="none"):i=!1}while(i);return n.forEach((function(t){return t.style.pointerEvents="all"})),n}},{key:"getFirstElementWithoutKeyword",value:function(t,e){for(;t[0]&&t[0].classList.toString().includes(e);)t.shift();return t[0]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(U))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),H=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.documentService=e,this.optionsService=n,this.rendererFactory=i,this.lastXScroll=0,this.lastYScroll=0,this.setRenderer()}return _createClass(t,[{key:"setRenderer",value:function(){this.renderer=this.rendererFactory.createRenderer(null,null)}},{key:"draw",value:function(t){this.elementRef=t.targetViewContainer,this.targetAbsoluteTop=this.getTargetTotalTop(t),this.targetAbsoluteLeft=this.getTargetTotalLeft(t),this.currentBackdropContainer=this.renderer.createElement("div"),this.renderer.addClass(this.currentBackdropContainer,"backdrop-container"),this.renderer.setStyle(this.currentBackdropContainer,"position","fixed"),this.renderer.setStyle(this.currentBackdropContainer,"top","0px"),this.renderer.setStyle(this.currentBackdropContainer,"left","0px"),this.renderer.setStyle(this.currentBackdropContainer,"width","100%"),this.renderer.setStyle(this.currentBackdropContainer,"height","100%"),this.renderer.setStyle(this.currentBackdropContainer,"z-index","1000"),this.renderer.setAttribute(this.currentBackdropContainer,"id","backdrop-"+t.name),this.backdropContent=this.renderer.createElement("div"),this.renderer.addClass(this.backdropContent,"backdrop-content"),this.renderer.setStyle(this.backdropContent,"position","relative"),this.renderer.setStyle(this.backdropContent,"height","100%"),this.renderer.setStyle(this.backdropContent,"display","flex"),this.renderer.setStyle(this.backdropContent,"flex-direction","column"),this.renderer.appendChild(this.currentBackdropContainer,this.backdropContent),this.backdropTop=this.renderer.createElement("div"),this.renderer.addClass(this.backdropTop,"joyride-backdrop"),this.renderer.addClass(this.backdropTop,"backdrop-top"),this.renderer.setStyle(this.backdropTop,"width","100%"),this.renderer.setStyle(this.backdropTop,"height",this.targetAbsoluteTop-this.lastYScroll+"px"),this.renderer.setStyle(this.backdropTop,"flex-shrink","0"),this.renderer.setStyle(this.backdropTop,"background-color","rgba(".concat(this.optionsService.getBackdropColor(),", 0.7)")),this.renderer.appendChild(this.backdropContent,this.backdropTop),this.backdropMiddleContainer=this.renderer.createElement("div"),this.renderer.addClass(this.backdropMiddleContainer,"backdrop-middle-container"),this.renderer.setStyle(this.backdropMiddleContainer,"height",this.elementRef.element.nativeElement.offsetHeight+"px"),this.renderer.setStyle(this.backdropMiddleContainer,"width","100%"),this.renderer.setStyle(this.backdropMiddleContainer,"flex-shrink","0"),this.renderer.appendChild(this.backdropContent,this.backdropMiddleContainer),this.backdropMiddleContent=this.renderer.createElement("div"),this.renderer.addClass(this.backdropMiddleContent,"backdrop-middle-content"),this.renderer.setStyle(this.backdropMiddleContent,"display","flex"),this.renderer.setStyle(this.backdropMiddleContent,"width","100%"),this.renderer.setStyle(this.backdropMiddleContent,"height","100%"),this.renderer.appendChild(this.backdropMiddleContainer,this.backdropMiddleContent),this.leftBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.leftBackdrop,"joyride-backdrop"),this.renderer.addClass(this.leftBackdrop,"backdrop-left"),this.renderer.setStyle(this.leftBackdrop,"flex-shrink","0"),this.renderer.setStyle(this.leftBackdrop,"width",this.targetAbsoluteLeft-this.lastXScroll+"px"),this.renderer.setStyle(this.leftBackdrop,"background-color","rgba(".concat(this.optionsService.getBackdropColor(),", 0.7)")),this.renderer.appendChild(this.backdropMiddleContent,this.leftBackdrop),this.targetBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.targetBackdrop,"backdrop-target"),this.renderer.setStyle(this.targetBackdrop,"flex-shrink","0"),this.renderer.setStyle(this.targetBackdrop,"width",this.elementRef.element.nativeElement.offsetWidth+"px"),this.renderer.appendChild(this.backdropMiddleContent,this.targetBackdrop),this.rightBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.rightBackdrop,"joyride-backdrop"),this.renderer.addClass(this.rightBackdrop,"backdrop-right"),this.renderer.setStyle(this.rightBackdrop,"width","100%"),this.renderer.setStyle(this.rightBackdrop,"background-color","rgba(".concat(this.optionsService.getBackdropColor(),", 0.7)")),this.renderer.appendChild(this.backdropMiddleContent,this.rightBackdrop),this.backdropBottom=this.renderer.createElement("div"),this.renderer.addClass(this.backdropBottom,"joyride-backdrop"),this.renderer.addClass(this.backdropBottom,"backdrop-bottom"),this.renderer.setStyle(this.backdropBottom,"width","100%"),this.renderer.setStyle(this.backdropBottom,"height","100%"),this.renderer.setStyle(this.backdropBottom,"background-color","rgba(".concat(this.optionsService.getBackdropColor(),", 0.7)")),this.renderer.appendChild(this.backdropContent,this.backdropBottom),this.removeLastBackdrop(),this.drawCurrentBackdrop(),this.lastBackdropContainer=this.currentBackdropContainer}},{key:"remove",value:function(){this.removeLastBackdrop()}},{key:"redrawTarget",value:function(t){this.targetAbsoluteLeft=this.getTargetTotalLeft(t),this.targetAbsoluteTop=this.getTargetTotalTop(t),this.handleVerticalScroll(t),this.handleHorizontalScroll(t)}},{key:"getTargetTotalTop",value:function(t){var e=t.targetViewContainer;return t.isElementOrAncestorFixed?this.documentService.getElementFixedTop(e.element):this.documentService.getElementAbsoluteTop(e.element)}},{key:"getTargetTotalLeft",value:function(t){var e=t.targetViewContainer;return t.isElementOrAncestorFixed?this.documentService.getElementFixedLeft(e.element):this.documentService.getElementAbsoluteLeft(e.element)}},{key:"redraw",value:function(t,e){this.lastYScroll!==e.scrollY&&(this.lastYScroll=e.scrollY,this.elementRef&&this.handleVerticalScroll(t)),this.lastXScroll!==e.scrollX&&(this.lastXScroll=e.scrollX,this.elementRef&&this.handleHorizontalScroll(t))}},{key:"handleHorizontalScroll",value:function(t){var e=t.isElementOrAncestorFixed?this.targetAbsoluteLeft:this.targetAbsoluteLeft-this.lastXScroll;e>=0?(this.renderer.setStyle(this.leftBackdrop,"width",e+"px"),this.renderer.setStyle(this.targetBackdrop,"width",this.elementRef.element.nativeElement.offsetWidth+"px")):this.handleTargetPartialWidth(e)}},{key:"handleTargetPartialWidth",value:function(t){this.renderer.setStyle(this.leftBackdrop,"width","0px");var e=this.elementRef.element.nativeElement.offsetWidth+t;this.renderer.setStyle(this.targetBackdrop,"width",e>=0?e+"px":"0px")}},{key:"handleVerticalScroll",value:function(t){var e=t.isElementOrAncestorFixed?this.targetAbsoluteTop:this.targetAbsoluteTop-this.lastYScroll;e>=0?(this.renderer.setStyle(this.backdropTop,"height",e+"px"),this.renderer.setStyle(this.backdropMiddleContainer,"height",this.elementRef.element.nativeElement.offsetHeight+"px")):this.handleTargetPartialHeight(e)}},{key:"handleTargetPartialHeight",value:function(t){this.renderer.setStyle(this.backdropTop,"height","0px");var e=this.elementRef.element.nativeElement.offsetHeight+t;this.renderer.setStyle(this.backdropMiddleContainer,"height",e>=0?e+"px":"0px")}},{key:"removeLastBackdrop",value:function(){this.lastBackdropContainer&&(this.renderer.removeChild(document.body,this.lastBackdropContainer),this.lastBackdropContainer=void 0)}},{key:"drawCurrentBackdrop",value:function(){this.renderer.appendChild(document.body,this.currentBackdropContainer)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(V),i.dc(D),i.dc(i.I))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),Q=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.rendererFactory=e,this.DOMService=n,this.scrollEvent=new c.a,this.resizeEvent=new c.a,this.renderer=e.createRenderer(null,null)}return _createClass(t,[{key:"startListeningScrollEvents",value:function(){var t=this;this.scrollUnlisten=this.renderer.listen("document","scroll",(function(e){t.scrollEvent.next({scrollX:t.DOMService.getNativeWindow().pageXOffset,scrollY:t.DOMService.getNativeWindow().pageYOffset})}))}},{key:"startListeningResizeEvents",value:function(){var t=this;this.resizeUnlisten=this.renderer.listen("window","resize",(function(e){t.resizeEvent.next(e)}))}},{key:"stopListeningScrollEvents",value:function(){this.scrollUnlisten()}},{key:"stopListeningResizeEvents",value:function(){this.resizeUnlisten()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(i.I),i.dc(U))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),W=function(){var t=function(){function t(e,n,i,a,r,o,s,c){_classCallCheck(this,t),this.injector=e,this.stepsContainerService=n,this.eventListenerService=i,this.documentService=a,this.renderer=r,this.logger=o,this.optionsService=s,this.templateService=c,this.stepWidth=200,this.stepHeight=200,this.showArrow=!0,this.arrowSize=K,this.subscriptions=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.joyrideStepService=this.injector.get(tt),this.documentHeight=this.documentService.getDocumentHeight(),this.subscriptions.push(this.subscribeToResizeEvents()),this.title=this.step.title.asObservable(),this.text=this.step.text.asObservable(),this.setCustomTemplates(),this.setCustomTexts(),this.counter=this.getCounter(),this.isCounterVisible=this.optionsService.isCounterVisible(),this.isPrevButtonVisible=this.optionsService.isPrevButtonVisible(),this.themeColor=this.optionsService.getThemeColor(),this.text&&this.text.subscribe((function(e){return t.checkRedraw(e)})),this.title&&this.title.subscribe((function(e){return t.checkRedraw(e)}))}},{key:"ngAfterViewInit",value:function(){if(this.isCustomized())this.renderer.setStyle(this.stepContainer.nativeElement,"max-width","90vw"),this.updateStepDimensions();else{this.renderer.setStyle(this.stepContainer.nativeElement,"max-width","400px");var t=this.getDimensionsByAspectRatio(this.stepContainer.nativeElement.clientWidth,this.stepContainer.nativeElement.clientHeight,1.212);t=this.adjustDimensions(t.width,t.height),this.stepWidth=t.width,this.stepHeight=t.height,this.renderer.setStyle(this.stepContainer.nativeElement,"width",this.stepWidth+"px"),this.renderer.setStyle(this.stepContainer.nativeElement,"height",this.stepHeight+"px")}this.drawStep()}},{key:"checkRedraw",value:function(t){var e=this;null!=t&&setTimeout((function(){e.redrawStep()}),2)}},{key:"isCustomized",value:function(){return this.step.stepContent||this.templateService.getCounter()||this.templateService.getPrevButton()||this.templateService.getNextButton()||this.templateService.getDoneButton()}},{key:"setCustomTexts",value:function(){var t=this.optionsService.getCustomTexts();this.prevText=t.prev,this.nextText=t.next,this.doneText=t.done}},{key:"drawStep",value:function(){var t=this.step.isElementOrAncestorFixed?"fixed":"absolute";this.renderer.setStyle(this.stepHolder.nativeElement,"position",t),this.renderer.setStyle(this.stepHolder.nativeElement,"transform",this.step.transformCssStyle),this.targetWidth=this.step.targetViewContainer.element.nativeElement.getBoundingClientRect().width,this.targetHeight=this.step.targetViewContainer.element.nativeElement.getBoundingClientRect().height,this.targetAbsoluteLeft="fixed"===t?this.documentService.getElementFixedLeft(this.step.targetViewContainer.element):this.documentService.getElementAbsoluteLeft(this.step.targetViewContainer.element),this.targetAbsoluteTop="fixed"===t?this.documentService.getElementFixedTop(this.step.targetViewContainer.element):this.documentService.getElementAbsoluteTop(this.step.targetViewContainer.element),this.setStepStyle()}},{key:"getCounter",value:function(){var t=this.stepsContainerService.getStepNumber(this.step.name),e=this.stepsContainerService.getStepsCount();return this.counterData={step:t,total:e},t+"/"+e}},{key:"setCustomTemplates",value:function(){this.customContent=this.step.stepContent,this.ctx=this.step.stepContentParams,this.customPrevButton=this.templateService.getPrevButton(),this.customNextButton=this.templateService.getNextButton(),this.customDoneButton=this.templateService.getDoneButton(),this.customCounter=this.templateService.getCounter()}},{key:"prev",value:function(){this.joyrideStepService.prev()}},{key:"next",value:function(){this.joyrideStepService.next()}},{key:"close",value:function(){this.joyrideStepService.close()}},{key:"isFirstStep",value:function(){return 1===this.stepsContainerService.getStepNumber(this.step.name)}},{key:"isLastStep",value:function(){return this.stepsContainerService.getStepNumber(this.step.name)===this.stepsContainerService.getStepsCount()}},{key:"setStepStyle",value:function(){switch(this.step.position){case"top":this.setStyleTop();break;case"bottom":this.setStyleBottom();break;case"right":this.setStyleRight();break;case"left":this.setStyleLeft();break;case"center":this.setStyleCenter();break;default:this.setStyleBottom()}}},{key:"setStyleTop",value:function(){this.stepsContainerService.updatePosition(this.step.name,"top"),this.topPosition=this.targetAbsoluteTop-J-this.stepHeight,this.stepAbsoluteTop=this.targetAbsoluteTop-J-this.stepHeight,this.arrowTopPosition=this.stepHeight,this.leftPosition=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.stepAbsoluteLeft=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.arrowLeftPosition=this.stepWidth/2-this.arrowSize,this.adjustLeftPosition(),this.adjustRightPosition(),this.arrowPosition="bottom",this.autofixTopPosition()}},{key:"setStyleRight",value:function(){this.stepsContainerService.updatePosition(this.step.name,"right"),this.topPosition=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.arrowTopPosition=this.stepHeight/2-this.arrowSize,this.leftPosition=this.targetAbsoluteLeft+this.targetWidth+J,this.stepAbsoluteLeft=this.targetAbsoluteLeft+this.targetWidth+J,this.arrowLeftPosition=-this.arrowSize,this.adjustTopPosition(),this.adjustBottomPosition(),this.arrowPosition="left",this.autofixRightPosition()}},{key:"setStyleBottom",value:function(){this.stepsContainerService.updatePosition(this.step.name,"bottom"),this.topPosition=this.targetAbsoluteTop+this.targetHeight+J,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight+J,this.arrowTopPosition=-this.arrowSize,this.arrowLeftPosition=this.stepWidth/2-this.arrowSize,this.leftPosition=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.stepAbsoluteLeft=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.adjustLeftPosition(),this.adjustRightPosition(),this.arrowPosition="top",this.autofixBottomPosition()}},{key:"setStyleLeft",value:function(){this.stepsContainerService.updatePosition(this.step.name,"left"),this.topPosition=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.arrowTopPosition=this.stepHeight/2-this.arrowSize,this.leftPosition=this.targetAbsoluteLeft-this.stepWidth-J,this.stepAbsoluteLeft=this.targetAbsoluteLeft-this.stepWidth-J,this.arrowLeftPosition=this.stepWidth,this.adjustTopPosition(),this.adjustBottomPosition(),this.arrowPosition="right",this.autofixLeftPosition()}},{key:"setStyleCenter",value:function(){this.renderer.setStyle(this.stepHolder.nativeElement,"position","fixed"),this.renderer.setStyle(this.stepHolder.nativeElement,"top","50%"),this.renderer.setStyle(this.stepHolder.nativeElement,"left","50%"),this.updateStepDimensions(),this.renderer.setStyle(this.stepHolder.nativeElement,"transform","translate(-".concat(this.stepWidth/2,"px, -").concat(this.stepHeight/2,"px)")),this.showArrow=!1}},{key:"adjustLeftPosition",value:function(){this.leftPosition<0&&(this.arrowLeftPosition=this.arrowLeftPosition+this.leftPosition-2,this.leftPosition=2)}},{key:"adjustRightPosition",value:function(){var t=document.body.clientWidth;if(this.stepAbsoluteLeft+this.stepWidth>t){var e=this.leftPosition-(this.stepAbsoluteLeft+this.stepWidth+5-t),n=e-this.leftPosition;this.leftPosition=e,this.arrowLeftPosition=this.arrowLeftPosition-n}}},{key:"adjustTopPosition",value:function(){this.stepAbsoluteTop<0&&(this.arrowTopPosition=this.arrowTopPosition+this.topPosition-2,this.topPosition=2)}},{key:"adjustBottomPosition",value:function(){if(this.stepAbsoluteTop+this.stepHeight>this.documentHeight){var t=this.topPosition-(this.stepAbsoluteTop+this.stepHeight+5-this.documentHeight),e=t-this.topPosition;this.topPosition=t,this.arrowTopPosition=this.arrowTopPosition-e}}},{key:"autofixTopPosition",value:function(){this.positionAlreadyFixed?this.logger.warn("No step positions found for this step. The step will be centered."):this.targetAbsoluteTop-this.stepHeight-this.arrowSize<0&&(this.positionAlreadyFixed=!0,this.setStyleRight())}},{key:"autofixRightPosition",value:function(){this.targetAbsoluteLeft+this.targetWidth+this.stepWidth+this.arrowSize>document.body.clientWidth&&this.setStyleBottom()}},{key:"autofixBottomPosition",value:function(){this.targetAbsoluteTop+this.stepHeight+this.arrowSize+this.targetHeight>this.documentHeight&&this.setStyleLeft()}},{key:"autofixLeftPosition",value:function(){this.targetAbsoluteLeft-this.stepWidth-this.arrowSize<0&&this.setStyleTop()}},{key:"subscribeToResizeEvents",value:function(){var t=this;return this.eventListenerService.resizeEvent.subscribe((function(){t.redrawStep()}))}},{key:"redrawStep",value:function(){this.updateStepDimensions(),this.drawStep()}},{key:"getDimensionsByAspectRatio",value:function(t,e,n){var i=(t+e)/(1+n);return{width:i*n,height:i}}},{key:"adjustDimensions",value:function(t,e){var n=t,i=e;return t>400?i=t*e/(n=400):t<200&&(n=200,i=200/1.212),{width:n,height:i}}},{key:"updateStepDimensions",value:function(){this.stepWidth=this.stepContainer.nativeElement.clientWidth,this.stepHeight=this.stepContainer.nativeElement.clientHeight}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){t.unsubscribe()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.s),i.Tb(N),i.Tb(Q),i.Tb(V),i.Tb(i.H),i.Tb(L),i.Tb(D),i.Tb(B))},t.\u0275cmp=i.Nb({type:t,selectors:[["joyride-step"]],viewQuery:function(t,e){var n;1&t&&(i.Oc(d,!0),i.Oc(f,!0)),2&t&&(i.Cc(n=i.ic())&&(e.stepHolder=n.first),i.Cc(n=i.ic())&&(e.stepContainer=n.first))},inputs:{step:"step"},decls:21,vars:17,consts:[[1,"joyride-step__holder",3,"id"],["stepHolder",""],["class","joyride-step__arrow",3,"position","top","left",4,"ngIf"],[1,"joyride-step__container"],["stepContainer",""],[1,"joyride-step__close",3,"click"],[1,"joyride-step__header"],[1,"joyride-step__title"],[1,"joyride-step__body"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultContent",""],[1,"joyride-step__footer"],["class","joyride-step__counter-container",4,"ngIf"],[1,"joyride-step__buttons-container"],["class","joyride-step__prev-container joyride-step__button",3,"click",4,"ngIf"],["class","joyride-step__next-container joyride-step__button",3,"click",4,"ngIf","ngIfElse"],["doneButton",""],[1,"joyride-step__arrow",3,"position"],[1,"joyride-step__counter-container"],["defaultCounter",""],[1,"joyride-step__counter"],[1,"joyride-step__prev-container","joyride-step__button",3,"click"],[4,"ngTemplateOutlet"],["defaultPrevButton",""],[1,"joyride-step__prev-button",3,"color"],[1,"joyride-step__next-container","joyride-step__button",3,"click"],["defaulNextButton",""],[3,"color"],[1,"joyride-step__done-container","joyride-step__button",3,"click"],["defaultDoneButton",""],[1,"joyride-step__done-button",3,"color"]],template:function(t,e){if(1&t&&(i.Zb(0,"div",0,1),i.Qc(2,h,1,5,"joyride-arrow",2),i.Zb(3,"div",3,4),i.Zb(5,"joy-close-button",5),i.hc("click",(function(){return e.close()})),i.Yb(),i.Zb(6,"div",6),i.Zb(7,"div",7),i.Sc(8),i.mc(9,"async"),i.Yb(),i.Yb(),i.Zb(10,"div",8),i.Qc(11,p,1,0,"ng-container",9),i.Qc(12,m,2,3,"ng-template",null,10,i.Rc),i.Yb(),i.Zb(14,"div",11),i.Qc(15,v,4,2,"div",12),i.Zb(16,"div",13),i.Qc(17,k,4,1,"div",14),i.Qc(18,w,4,1,"div",15),i.Qc(19,E,4,1,"ng-template",null,16,i.Rc),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t){var n=i.Dc(13),a=i.Dc(20);i.Pc("top",e.topPosition,"px")("left",e.leftPosition,"px"),i.sc("id","joyride-step-"+e.step.name),i.Eb(2),i.sc("ngIf",e.showArrow),i.Eb(5),i.Pc("color",e.themeColor),i.Eb(1),i.Tc(i.nc(9,15,e.title)),i.Eb(3),i.sc("ngTemplateOutlet",e.customContent?e.customContent:n)("ngTemplateOutletContext",e.ctx),i.Eb(4),i.sc("ngIf",e.isCounterVisible),i.Eb(2),i.sc("ngIf",e.isPrevButtonVisible&&!e.isFirstStep()),i.Eb(1),i.sc("ngIf",!e.isLastStep())("ngIfElse",a)}},directives:function(){return[a.t,X,a.A,G,q]},pipes:function(){return[a.b]},styles:[".joyride-step__holder{position:absolute;font-family:Arial,Helvetica,sans-serif;font-size:16px;z-index:1001}.joyride-step__arrow{position:absolute;left:40px;z-index:1002}.joyride-step__container{box-sizing:border-box;position:relative;color:#000;background-color:#fff;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;padding:10px;box-shadow:0 0 30px 1px #000}.joyride-step__header{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:8px}.joyride-step__title{font-weight:700;font-size:20px}.joyride-step__close{position:absolute;right:10px;top:10px;width:14px;height:14px;cursor:pointer}.joyride-step__body{text-align:left;padding:10px 8px}.joyride-step__footer{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding-left:8px}.joyride-step__buttons-container{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.joyride-step__button:first-child{margin-right:2.5px}.joyride-step__button:last-child{margin-left:2.5px}.joyride-step__counter{font-weight:700;font-size:14px}.joyride-step__counter-container{margin-right:10px}"],encapsulation:2}),t}(),G=function(){var t=function t(){_classCallCheck(this,t),this.position="top"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["joyride-arrow"]],inputs:{position:"position"},decls:1,vars:8,template:function(t,e){1&t&&i.Ub(0,"div"),2&t&&i.Jb("joyride-arrow__top","top"==e.position)("joyride-arrow__bottom","bottom"==e.position)("joyride-arrow__left","left"==e.position)("joyride-arrow__right","right"==e.position)},styles:[".joyride-arrow__top{border-left:11px solid transparent;border-right:11px solid transparent;border-bottom:11px solid #fff}.joyride-arrow__bottom{border-left:11px solid transparent;border-right:11px solid transparent;border-top:11px solid #fff}.joyride-arrow__right{border-left:11px solid #fff;border-bottom:11px solid transparent;border-top:11px solid transparent}.joyride-arrow__left{border-right:11px solid #fff;border-top:11px solid transparent;border-bottom:11px solid transparent}"],encapsulation:2}),t}(),q=function(){var t=function(){function t(){_classCallCheck(this,t),this.clicked=new i.o}return _createClass(t,[{key:"onClick",value:function(){this.clicked.emit()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["joyride-button"]],inputs:{color:"color"},outputs:{clicked:"clicked"},ngContentSelectors:P,decls:2,vars:5,consts:[[1,"joyride-button",3,"ngStyle","mouseleave","mouseover","click"]],template:function(t,e){1&t&&(i.rc(),i.Zb(0,"button",0),i.hc("mouseleave",(function(){return e.hover=!1}))("mouseover",(function(){return e.hover=!0}))("click",(function(){return e.onClick()})),i.qc(1),i.Yb()),2&t&&i.sc("ngStyle",i.Bc(1,I,e.hover?"#fff":e.color,e.hover?e.color:"#fff",e.hover?e.color:"transparent"))},directives:[a.w],styles:[".joyride-button[_ngcontent-%COMP%]{text-transform:uppercase;border:2px solid transparent;outline:0;padding:6px 12px;font-size:12px;font-weight:700;color:#fff;background-color:#3b5560;cursor:pointer}.joyride-button[_ngcontent-%COMP%]:hover{color:#3b5560;border:2px solid #3b5560;background-color:#fff}"]}),t}(),X=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["joy-close-button"]],decls:3,vars:0,consts:[["viewBox","0 0 25 25","xmlns","http://www.w3.org/2000/svg"],["x1","1","y1","24","x2","24","y2","1","stroke","black","stroke-width","3"],["x1","1","y1","1","x2","24","y2","24","stroke","black","stroke-width","3"]],template:function(t,e){1&t&&(i.kc(),i.Zb(0,"svg",0),i.Ub(1,"line",1),i.Ub(2,"line",2),i.Yb())},encapsulation:2}),t}(),$=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.componentFactoryResolver=e,this.appRef=n,this.injector=i,this.refMap={}}return _createClass(t,[{key:"draw",value:function(t){var e=this.componentFactoryResolver.resolveComponentFactory(W).create(this.injector);this.appRef.attachView(e.hostView),document.body.appendChild(e.hostView.rootNodes[0]);var n=e.instance;n.step=t,e.changeDetectorRef.detectChanges(),t.stepInstance=n,this.refMap[t.name]=e}},{key:"remove",value:function(t){this.appRef.detachView(this.refMap[t.name].hostView),this.refMap[t.name].destroy()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(i.j),i.dc(i.g),i.dc(i.s))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),J=15,K=10,tt=function(){var t=function(){function t(e,n,i,a,o,s,c,l,u){_classCallCheck(this,t),this.backDropService=e,this.eventListener=n,this.stepsContainerService=i,this.documentService=a,this.DOMService=o,this.stepDrawerService=s,this.optionsService=c,this.router=l,this.logger=u,this.winTopPosition=0,this.winBottomPosition=0,this.stepsObserver=new r.a,this.initViewportPositions(),this.subscribeToScrollEvents(),this.subscribeToResizeEvents()}return _createClass(t,[{key:"initViewportPositions",value:function(){this.winTopPosition=0,this.winBottomPosition=this.DOMService.getNativeWindow().innerHeight-20}},{key:"subscribeToScrollEvents",value:function(){var t=this;this.eventListener.startListeningScrollEvents(),this.eventListener.scrollEvent.subscribe((function(e){t.winTopPosition=e.scrollY,t.winBottomPosition=t.winTopPosition+t.DOMService.getNativeWindow().innerHeight-20,t.currentStep&&t.backDropService.redraw(t.currentStep,e)}))}},{key:"subscribeToResizeEvents",value:function(){var t=this;this.eventListener.resizeEvent.subscribe((function(){t.currentStep&&t.backDropService.redrawTarget(t.currentStep)}))}},{key:"drawStep",value:function(t){t.position="NO_POSITION"===t.position?this.optionsService.getStepDefaultPosition():t.position,this.stepDrawerService.draw(t)}},{key:"startTour",value:function(){return this.stepsObserver=new r.a,this.stepsContainerService.init(),this.documentService.setDocumentHeight(),this.tryShowStep(Z.NEXT),this.eventListener.startListeningResizeEvents(),this.subscribeToStepsUpdates(),this.stepsObserver.asObservable()}},{key:"close",value:function(){this.removeCurrentStep(),this.notifyTourIsFinished(),this.DOMService.getNativeWindow().scrollTo(0,0),this.eventListener.stopListeningResizeEvents(),this.backDropService.remove()}},{key:"prev",value:function(){this.removeCurrentStep(),this.currentStep.prevCliked.emit(),this.tryShowStep(Z.PREV)}},{key:"next",value:function(){this.removeCurrentStep(),this.currentStep.nextClicked.emit(),this.tryShowStep(Z.NEXT)}},{key:"navigateToStepPage",value:function(t){var e=this.stepsContainerService.getStepRoute(t);e&&this.router.navigate([e])}},{key:"subscribeToStepsUpdates",value:function(){var t=this;this.stepsContainerService.stepHasBeenModified.subscribe((function(e){t.currentStep&&t.currentStep.name===e.name&&(t.currentStep=e)}))}},{key:"tryShowStep",value:function(t){var e=this;this.navigateToStepPage(t);var n=this.optionsService.getWaitingTime();n>100&&this.backDropService.remove(),setTimeout((function(){try{e.showStep(t)}catch(n){if(n instanceof j)e.tryShowStep(t);else{if(!(n instanceof Y))throw new Error(n);e.logger.error("Forcing the tour closure: First or Last step not found in the DOM."),e.close()}}}),n)}},{key:"showStep",value:function(t){if(this.currentStep=this.stepsContainerService.get(t),null==this.currentStep)throw new j("");this.scrollIfElementBeyondOtherElements(),this.backDropService.draw(this.currentStep),this.drawStep(this.currentStep),this.scrollIfStepAndTargetAreNotVisible(),this.notifyStepClicked(t)}},{key:"notifyStepClicked",value:function(t){var e={number:this.stepsContainerService.getStepNumber(this.currentStep.name),name:this.currentStep.name,route:this.currentStep.route,actionType:t};this.stepsObserver.next(e)}},{key:"notifyTourIsFinished",value:function(){this.currentStep&&this.currentStep.tourDone.emit(),this.stepsObserver.complete()}},{key:"removeCurrentStep",value:function(){this.currentStep&&this.stepDrawerService.remove(this.currentStep)}},{key:"scrollIfStepAndTargetAreNotVisible",value:function(){this.scrollWhenTargetOrStepAreHiddenBottom(),this.scrollWhenTargetOrStepAreHiddenTop()}},{key:"scrollWhenTargetOrStepAreHiddenBottom",value:function(){var t=this.getMaxTargetAndStepBottomPosition();t>this.winBottomPosition&&this.DOMService.getNativeWindow().scrollBy(0,t-this.winBottomPosition)}},{key:"scrollWhenTargetOrStepAreHiddenTop",value:function(){var t=this.getMaxTargetAndStepTopPosition();t<this.winTopPosition&&this.DOMService.getNativeWindow().scrollBy(0,t-this.winTopPosition)}},{key:"getMaxTargetAndStepBottomPosition",value:function(){var t=this.documentService.getElementAbsoluteTop(this.currentStep.targetViewContainer.element);return"top"===this.currentStep.position?t+this.currentStep.stepInstance.targetHeight:"bottom"===this.currentStep.position?t+this.currentStep.stepInstance.targetHeight+this.currentStep.stepInstance.stepHeight+K+J:"right"===this.currentStep.position||"left"===this.currentStep.position?Math.max(t+this.currentStep.stepInstance.targetHeight,t+this.currentStep.stepInstance.targetHeight/2+this.currentStep.stepInstance.stepHeight/2):void 0}},{key:"getMaxTargetAndStepTopPosition",value:function(){var t=this.documentService.getElementAbsoluteTop(this.currentStep.targetViewContainer.element);return"top"===this.currentStep.position?t-(this.currentStep.stepInstance.stepHeight+K+J):"bottom"===this.currentStep.position?t:"right"===this.currentStep.position||"left"===this.currentStep.position?Math.min(t,t+this.currentStep.stepInstance.targetHeight/2-this.currentStep.stepInstance.stepHeight/2):void 0}},{key:"scrollIfElementBeyondOtherElements",value:function(){2===this.isElementBeyondOthers()&&this.documentService.scrollToTheTop(this.currentStep.targetViewContainer.element),2===this.isElementBeyondOthers()&&this.documentService.scrollToTheBottom(this.currentStep.targetViewContainer.element),1===this.isElementBeyondOthers()&&this.documentService.isParentScrollable(this.currentStep.targetViewContainer.element)&&this.documentService.scrollIntoView(this.currentStep.targetViewContainer.element,this.currentStep.isElementOrAncestorFixed),1===this.isElementBeyondOthers()&&this.documentService.isParentScrollable(this.currentStep.targetViewContainer.element)&&this.currentStep.targetViewContainer.element.nativeElement.scrollIntoView()}},{key:"isElementBeyondOthers",value:function(){return this.documentService.isElementBeyondOthers(this.currentStep.targetViewContainer.element,this.currentStep.isElementOrAncestorFixed,"backdrop")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(H),i.dc(Q),i.dc(N),i.dc(V),i.dc(U),i.dc($),i.dc(D),i.dc(l.c),i.dc(L))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),et=function t(){_classCallCheck(this,t)},nt=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.platformId=e,this.stepService=n,this.optionsService=i,this.tourInProgress=!1}return _createClass(t,[{key:"startTour",value:function(t){var e=this;return Object(a.I)(this.platformId)?(this.tourInProgress||(this.tourInProgress=!0,t&&this.optionsService.setOptions(t),this.tour$=this.stepService.startTour().pipe(Object(u.a)((function(){return e.tourInProgress=!1}))),this.tour$.subscribe()),this.tour$):Object(o.a)(new et)}},{key:"closeTour",value:function(){this.isTourInProgress()&&this.stepService.close()}},{key:"isTourInProgress",value:function(){return this.tourInProgress}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.dc(i.E),i.dc(tt),i.dc(D))},t.\u0275prov=i.Pb({token:t,factory:t.\u0275fac}),t}(),it=l.g.forChild([]),at=function(){var t=M=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){return{ngModule:M,providers:[nt,tt,N,H,Q,V,D,$,U,L,B]}}},{key:"forChild",value:function(){return{ngModule:M,providers:[]}}}]),t}();return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.c,it]]}),t}()},zfKp:function(t,e,n){"use strict";e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zkFj:function(t,e,n){"use strict";n.d(e,"a",(function(){return yt}));var i=n("mrSG"),a=n("vkgz"),r=n("JIr8"),o=n("pLZG"),s=n("XqQ8"),c=n("nYR2"),l=n("LRne"),u=n("0IaG"),d=n("1YbM"),f=n("3Pt+"),h=n("2c88"),p=n("fXoL"),m=n("sYmb"),g=n("tk/3"),b=n("A6w4"),v=n("AXEc"),y=n("4zkx"),_=n("eiH7"),k=n("rH+9"),C=n("ofXK"),x=n("bTqV"),w=n("NFeN"),O=n("Xa2L"),S=n("kmnG"),E=n("qFsG"),M=n("fBaO"),I=n("7EHt"),P=n("iadO"),T=n("1jcm"),A=n("dATD"),D=n("wZkO"),R=n("GUHb"),L=n("aEDk"),F=n("ZI/H"),j=["appAttachmentViewer"];function Y(t,e){1&t&&(p.Zb(0,"div",13),p.Ub(1,"mat-spinner"),p.Yb())}function Z(t,e){if(1&t&&(p.Xb(0),p.Sc(1),p.Wb()),2&t){var n=p.lc(2);p.Eb(1),p.Uc(" ",n.attachment.chrono.value," - ")}}function N(t,e){if(1&t&&(p.Zb(0,"span",14),p.Qc(1,Z,2,1,"ng-container",7),p.Sc(2),p.mc(3,"shorten"),p.Yb()),2&t){var n=p.lc();p.sc("title",n.attachment.title.value),p.Eb(1),p.sc("ngIf",null!==n.attachment.chrono.value),p.Eb(1),p.Uc(" ",p.pc(3,3,n.attachment.title.value,50,"...")," ")}}function U(t,e){if(1&t){var n=p.ac();p.Zb(0,"div",17),p.Zb(1,"mat-slide-toggle",35),p.hc("change",(function(){p.Hc(n);var t=p.lc(2);return t.newVersion=!t.newVersion})),p.Sc(2),p.mc(3,"translate"),p.Yb(),p.Yb()}if(2&t){var i=p.lc(2);p.Eb(1),p.sc("checked",i.newVersion),p.Eb(1),p.Tc(p.nc(3,2,"lang.newVersion"))}}function B(t,e){if(1&t&&(p.Zb(0,"div",17),p.Ub(1,"div",36),p.Yb()),2&t){var n=p.lc(2);p.Eb(1),p.sc("innerHTML",n.translate.instant("lang.mustEditDocument"),p.Ic)}}function z(t,e){1&t&&p.Ub(0,"i",37)}function V(t,e){1&t&&p.Ub(0,"i",38)}function H(t,e){1&t&&p.Ub(0,"i",39)}function Q(t,e){1&t&&p.Ub(0,"i",37)}function W(t,e){1&t&&p.Ub(0,"i",38)}function G(t,e){1&t&&p.Ub(0,"i",39)}function q(t,e){if(1&t&&(p.Zb(0,"div",40),p.Ub(1,"div",41),p.Yb()),2&t){var n=p.lc(2);p.Eb(1),p.sc("innerHTML",n.translate.instant("lang.mailingMsg"),p.Ic)}}function X(t,e){if(1&t&&(p.Zb(0,"div",17),p.Ub(1,"app-contact-autocomplete",42),p.Zb(2,"div",20),p.Ub(3,"i",21),p.Yb(),p.Yb()),2&t){var n=p.lc(2);p.Eb(1),p.sc("control",n.attachment.recipient)("singleMode",!0)}}function $(t,e){if(1&t&&(p.Zb(0,"div",17),p.Zb(1,"mat-form-field",18),p.Ub(2,"input",19),p.mc(3,"translate"),p.mc(4,"timeAgo"),p.Yb(),p.Zb(5,"div",20),p.Ub(6,"i",21),p.Yb(),p.Yb()),2&t){var n=p.lc(2);p.Eb(2),p.tc("placeholder",p.nc(3,3,"lang.signedAlt")),p.sc("formControl",n.attachment.signDate)("value",p.oc(4,5,n.attachment.signDate.value,"full"))}}function J(t,e){if(1&t&&(p.Zb(0,"div",17),p.Zb(1,"mat-form-field",18),p.Ub(2,"input",26),p.mc(3,"translate"),p.mc(4,"translate"),p.Yb(),p.Zb(5,"div",20),p.Ub(6,"i",21),p.Yb(),p.Yb()),2&t){var n=p.lc(2);p.Eb(2),p.vc("placeholder","",p.nc(3,3,"lang.signedAlt")," ",p.nc(4,5,"lang.by"),""),p.sc("formControl",n.attachment.signatory)}}function K(t,e){if(1&t&&(p.Zb(0,"div",17),p.Zb(1,"mat-form-field",18),p.Ub(2,"input",19),p.mc(3,"translate"),p.mc(4,"timeAgo"),p.Yb(),p.Zb(5,"div",20),p.Ub(6,"i",21),p.Yb(),p.Yb()),2&t){var n=p.lc(2);p.Eb(2),p.tc("placeholder",p.nc(3,3,"lang.modified")),p.sc("formControl",n.attachment.modificationDate)("value",p.oc(4,5,n.attachment.modificationDate.value,"full"))}}function tt(t,e){if(1&t&&(p.Zb(0,"div",17),p.Zb(1,"mat-form-field",18),p.Ub(2,"input",26),p.mc(3,"translate"),p.mc(4,"translate"),p.Yb(),p.Zb(5,"div",20),p.Ub(6,"i",21),p.Yb(),p.Yb()),2&t){var n=p.lc(2);p.Eb(2),p.vc("placeholder","",p.nc(3,3,"lang.modified")," ",p.nc(4,5,"lang.by"),""),p.sc("formControl",n.attachment.modifiedBy)}}function et(t,e){if(1&t&&p.Ub(0,"mat-datepicker-toggle",43),2&t){p.lc();var n=p.Dc(60);p.sc("for",n)}}function nt(t,e){if(1&t){var n=p.ac();p.Zb(0,"button",44),p.hc("click",(function(t){p.Hc(n);var e=p.lc(2);return t.stopPropagation(),e.attachment.validationDate.reset()})),p.Ub(1,"mat-icon",45),p.Yb()}if(2&t){var i=p.lc(2);p.sc("title",i.translate.instant("lang.eraseValue"))}}function it(t,e){1&t&&p.Ub(0,"i",21)}function at(t,e){1&t&&p.Ub(0,"i",39)}function rt(t,e){if(1&t){var n=p.ac();p.Xb(0),p.Zb(1,"div",15),p.Qc(2,U,4,4,"div",16),p.Qc(3,B,2,1,"div",16),p.Zb(4,"div",17),p.Zb(5,"mat-form-field",18),p.Ub(6,"input",19),p.mc(7,"translate"),p.Yb(),p.Zb(8,"div",20),p.Ub(9,"i",21),p.Yb(),p.Yb(),p.Zb(10,"div",17),p.Zb(11,"plugin-select-search",22),p.hc("afterSelected",(function(t){return p.Hc(n),p.lc().getAttachType(t)})),p.Yb(),p.Zb(12,"div",20),p.Qc(13,z,1,0,"i",23),p.Qc(14,V,1,0,"i",24),p.Qc(15,H,1,0,"i",25),p.Yb(),p.Yb(),p.Zb(16,"div",17),p.Zb(17,"mat-form-field",18),p.Ub(18,"input",26),p.mc(19,"translate"),p.Yb(),p.Zb(20,"div",20),p.Qc(21,Q,1,0,"i",23),p.Qc(22,W,1,0,"i",24),p.Qc(23,G,1,0,"i",25),p.Yb(),p.Yb(),p.Qc(24,q,2,1,"div",27),p.Qc(25,X,4,2,"div",16),p.Qc(26,$,7,8,"div",16),p.Qc(27,J,7,7,"div",16),p.Zb(28,"mat-expansion-panel"),p.Zb(29,"mat-expansion-panel-header"),p.Zb(30,"mat-panel-title"),p.Sc(31),p.mc(32,"translate"),p.Yb(),p.Yb(),p.Zb(33,"div",17),p.Zb(34,"mat-form-field",18),p.Ub(35,"input",19),p.mc(36,"translate"),p.mc(37,"timeAgo"),p.Yb(),p.Zb(38,"div",20),p.Ub(39,"i",21),p.Yb(),p.Yb(),p.Zb(40,"div",17),p.Zb(41,"mat-form-field",18),p.Ub(42,"input",26),p.mc(43,"translate"),p.mc(44,"translate"),p.Yb(),p.Zb(45,"div",20),p.Ub(46,"i",21),p.Yb(),p.Yb(),p.Qc(47,K,7,8,"div",16),p.Qc(48,tt,7,7,"div",16),p.Zb(49,"div",17),p.Zb(50,"mat-form-field",18),p.Ub(51,"input",19),p.mc(52,"translate"),p.Yb(),p.Zb(53,"div",20),p.Ub(54,"i",21),p.Yb(),p.Yb(),p.Zb(55,"div",17),p.Zb(56,"mat-form-field",28),p.hc("click",(function(){return p.Hc(n),p.Dc(60).open()})),p.Ub(57,"input",29),p.Qc(58,et,1,1,"mat-datepicker-toggle",30),p.Ub(59,"mat-datepicker",31,32),p.Qc(61,nt,2,1,"button",33),p.Yb(),p.Zb(62,"div",20),p.Qc(63,it,1,0,"i",34),p.Qc(64,at,1,0,"i",25),p.Yb(),p.Yb(),p.Yb(),p.Yb(),p.Wb()}if(2&t){var i=p.Dc(60),a=p.lc();p.Eb(2),p.sc("ngIf",a.editMode),p.Eb(1),p.sc("ngIf",a.newVersion),p.Eb(3),p.tc("placeholder",p.nc(7,42,"lang.status")),p.sc("formControl",a.attachment.status)("value",a.translate.instant("lang.attachment_"+a.attachment.status.value)),p.Eb(5),p.sc("label",a.translate.instant("lang.type"))("placeholderLabel",a.translate.instant("lang.type"))("formControlSelect",a.attachment.type)("datas",a.attachmentsTypes),p.Eb(2),p.sc("ngIf",a.attachment.type.hasError("required")&&a.attachment.type.untouched),p.Eb(1),p.sc("ngIf",a.attachment.type.touched&&a.attachment.type.hasError("required")),p.Eb(1),p.sc("ngIf",a.attachment.type.valid&&!a.isEmptyField(a.attachment.type)),p.Eb(3),p.tc("placeholder",p.nc(19,44,"lang.subject")),p.sc("formControl",a.attachment.title),p.Eb(3),p.sc("ngIf",a.attachment.title.hasError("required")&&a.attachment.title.untouched),p.Eb(1),p.sc("ngIf",a.attachment.title.touched&&a.attachment.title.hasError("required")),p.Eb(1),p.sc("ngIf",a.attachment.title.valid&&!a.isEmptyField(a.attachment.title)),p.Eb(1),p.sc("ngIf",a.sendMassMode),p.Eb(1),p.sc("ngIf",!a.sendMassMode),p.Eb(1),p.sc("ngIf",void 0!==a.attachment.signedResponse.value),p.Eb(1),p.sc("ngIf",void 0!==a.attachment.signedResponse.value),p.Eb(4),p.Uc(" ",p.nc(32,46,"lang.othersInfos")," "),p.Eb(4),p.tc("placeholder",p.nc(36,48,"lang.created")),p.sc("formControl",a.attachment.creationDate)("value",p.oc(37,50,a.attachment.creationDate.value,"full")),p.Eb(7),p.vc("placeholder","",p.nc(43,53,"lang.created")," ",p.nc(44,55,"lang.by"),""),p.sc("formControl",a.attachment.typistLabel),p.Eb(5),p.sc("ngIf",null!==a.attachment.modificationDate.value),p.Eb(1),p.sc("ngIf",null!==a.attachment.modificationDate.value),p.Eb(3),p.tc("placeholder",p.nc(52,57,"lang.version")),p.sc("formControl",a.attachment.relation)("value",a.translate.instant("lang.version")+" "+a.attachment.relation.value),p.Eb(6),p.sc("formControl",a.attachment.validationDate)("matDatepicker",i)("placeholder",a.translate.instant("lang.expectedReturnDate"))("min",a.now),p.Eb(1),p.sc("ngIf",!a.attachment.validationDate.value),p.Eb(1),p.sc("touchUi",a.appService.getViewMode()),p.Eb(2),p.sc("ngIf",a.attachment.validationDate.value&&!a.attachment.validationDate.disabled),p.Eb(2),p.sc("ngIf",a.attachment.validationDate.valid&&a.isEmptyField(a.attachment.validationDate)),p.Eb(1),p.sc("ngIf",a.attachment.validationDate.valid&&!a.isEmptyField(a.attachment.validationDate))}}function ot(t,e){if(1&t&&p.Ub(0,"app-document-viewer",54,55),2&t){var n=p.lc(3);p.sc("editMode",!1)("resId",n.attachment.resIdMaster.value)("title","Document principal")}}function st(t,e){1&t&&(p.Zb(0,"mat-tab",52),p.Qc(1,ot,2,3,"ng-template",53),p.Yb())}function ct(t,e){1&t&&(p.Zb(0,"span",57),p.Sc(1),p.mc(2,"translate"),p.Yb()),2&t&&(p.Eb(1),p.Tc(p.nc(2,1,"lang.signedAttachment")))}function lt(t,e){if(1&t&&(p.Zb(0,"mat-tab"),p.Qc(1,ct,3,3,"ng-template",48),p.Ub(2,"app-document-viewer",56,55),p.Yb()),2&t){var n=p.lc(2);p.Eb(2),p.sc("editMode",!1)("resId",n.attachment.signedResponse.value)("mode","attachment")("title",n.attachment.chrono.value+" - "+n.attachment.title.value+" ("+n.translate.instant("lang.signed")+")")}}function ut(t,e){1&t&&(p.Zb(0,"span",58),p.Sc(1),p.mc(2,"translate"),p.Yb()),2&t&&(p.Eb(1),p.Tc(p.nc(2,1,"lang.attachment")))}function dt(t,e){if(1&t&&p.Ub(0,"app-document-viewer",60,55),2&t){var n=p.lc().$implicit,i=p.lc(2);p.sc("editMode",!1)("resId",n.resId)("mode","attachment")("format",i.attachment.format.value)("title",i.attachment.chrono.value+" - "+i.attachment.title.value+" ("+n.relation+")")}}function ft(t,e){if(1&t&&(p.Zb(0,"mat-tab",59),p.mc(1,"translate"),p.mc(2,"translate"),p.Qc(3,dt,2,5,"ng-template",53),p.Yb()),2&t){var n=e.$implicit;p.wc("label","",p.nc(1,3,"lang.attachment")," (",p.nc(2,5,"lang.version")," ",n.relation,")")}}function ht(t,e){if(1&t){var n=p.ac();p.Zb(0,"mat-tab-group",46),p.Qc(1,st,2,0,"mat-tab",47),p.Qc(2,lt,4,4,"mat-tab",7),p.Zb(3,"mat-tab"),p.Qc(4,ut,3,3,"ng-template",48),p.Zb(5,"app-document-viewer",49,50),p.hc("triggerEvent",(function(t){return p.Hc(n),p.lc().setDatasViewer(t)})),p.Yb(),p.Yb(),p.Qc(7,ft,4,7,"mat-tab",51),p.Yb()}if(2&t){var i=p.lc();p.sc("selectedIndex",1),p.Eb(1),p.sc("ngIf",null!==i.attachment.res_id_master),p.Eb(1),p.sc("ngIf","SIGN"===i.attachment.status.value),p.Eb(3),p.sc("editMode",i.editMode)("resId",i.data.resId)("resIdMaster",i.attachment.resIdMaster.value)("mode","attachment")("format",i.attachment.format.value)("attachType",i.attachment.type.value)("title",i.attachment.chrono.value+" - "+i.attachment.title.value),p.Eb(2),p.sc("ngForOf",i.versions)}}function pt(t,e){if(1&t){var n=p.ac();p.Zb(0,"button",61),p.hc("click",(function(){return p.Hc(n),p.lc().updateAttachment()})),p.Sc(1),p.mc(2,"translate"),p.Yb()}if(2&t){var i=p.lc();p.sc("disabled",!(i.loading||i.editMode&&i.attachFormGroup.valid)),p.Eb(1),p.Tc(p.nc(2,2,"lang.validate"))}}function mt(t,e){if(1&t){var n=p.ac();p.Zb(0,"button",61),p.hc("click",(function(){return p.Hc(n),p.lc().updateAttachment("mailing")})),p.Sc(1),p.mc(2,"translate"),p.Yb()}if(2&t){var i=p.lc();p.sc("disabled",!(i.loading||i.editMode&&i.attachFormGroup.valid)),p.Eb(1),p.Tc(p.nc(2,2,"lang.mailing"))}}function gt(t,e){if(1&t){var n=p.ac();p.Zb(0,"button",61),p.hc("click",(function(){return p.Hc(n),p.lc().createNewVersion()})),p.Sc(1),p.mc(2,"translate"),p.Yb()}if(2&t){var i=p.lc();p.sc("disabled",!i.editMode||!i.isEditing()),p.Eb(1),p.Tc(p.nc(2,2,"lang.createNewVersion"))}}function bt(t,e){if(1&t){var n=p.ac();p.Zb(0,"button",61),p.hc("click",(function(){return p.Hc(n),p.lc().createNewVersion("mailing")})),p.Sc(1),p.mc(2,"translate"),p.Yb()}if(2&t){var i=p.lc();p.sc("disabled",!i.editMode||!i.isEditing()),p.Eb(1),p.Tc(p.nc(2,2,"lang.mailing"))}}function vt(t,e){if(1&t){var n=p.ac();p.Zb(0,"button",62),p.hc("click",(function(){return p.Hc(n),p.lc().deleteSignedVersion()})),p.Sc(1),p.mc(2,"translate"),p.Yb()}2&t&&(p.Eb(1),p.Tc(p.nc(2,1,"lang.deleteSignedVersion")))}var yt=function(){var t=function(){function t(e,n,i,a,r,o,s,c,l,u,d){_classCallCheck(this,t),this.translate=e,this.http=n,this.data=i,this.dialog=a,this.dialogRef=r,this.appService=o,this.notify=s,this.sortPipe=c,this.headerService=l,this.privilegeService=u,this.functions=d,this.loading=!0,this.sendMassMode=!1,this.sendingData=!1,this.attachmentsTypes=[],this.versions=[],this.hidePanel=!1,this.newVersion=!1,this.attachFormGroup=null,this.editMode=!1,this.now=new Date}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.hidePanel=void 0!==this.data.hidePanel&&this.data.hidePanel,t.next=3,this.loadAttachmentTypes();case 3:return t.next=5,this.loadAttachment();case 5:this.loading=!1;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"loadAttachmentTypes",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/attachmentsTypes").pipe(Object(a.a)((function(n){Object.keys(n.attachmentsTypes).forEach((function(e){n.attachmentsTypes[e].show&&t.attachmentsTypes.push(Object.assign({id:e},n.attachmentsTypes[e]))})),t.attachmentsTypes=t.sortPipe.transform(t.attachmentsTypes,"label"),e(!0)})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"loadAttachment",value:function(){var t=this;return new Promise((function(e,n){t.http.get("../rest/attachments/"+t.data.resId).pipe(Object(a.a)((function(n){var i=null;t.functions.empty(t.data.editMode)?!t.privilegeService.hasCurrentUserPrivilege("manage_attachments")&&t.headerService.user.id!==n.typist||"SIGN"===n.status||"FRZ"===n.status||(t.editMode=!0):t.editMode=t.data.editMode,null!==n.recipientId&&"SEND_MASS"!==n.status&&(i=[{id:n.recipientId,type:n.recipientType}]),t.sendMassMode="SEND_MASS"===n.status,t.attachment={typist:new f.h({value:n.typist,disabled:!0},[f.H.required]),typistLabel:new f.h({value:n.typistLabel,disabled:!0},[f.H.required]),creationDate:new f.h({value:n.creationDate,disabled:!0},[f.H.required]),modificationDate:new f.h({value:n.modificationDate,disabled:!0}),modifiedBy:new f.h({value:n.modifiedBy,disabled:!0}),signatory:new f.h({value:n.signatory,disabled:!0}),signDate:new f.h({value:n.signDate,disabled:!0}),resId:new f.h({value:t.data.resId,disabled:!0},[f.H.required]),chrono:new f.h({value:n.chrono,disabled:!0}),originId:new f.h({value:n.originId,disabled:!0}),resIdMaster:new f.h({value:n.resIdMaster,disabled:!0},[f.H.required]),status:new f.h({value:n.status,disabled:!0},[f.H.required]),relation:new f.h({value:n.relation,disabled:!0},[f.H.required]),title:new f.h({value:n.title,disabled:!t.editMode},[f.H.required]),recipient:new f.h({value:i,disabled:!t.editMode}),type:new f.h({value:n.type,disabled:!t.editMode},[f.H.required]),validationDate:new f.h({value:null!==n.validationDate?new Date(n.validationDate):null,disabled:!t.editMode}),signedResponse:new f.h({value:n.signedResponse,disabled:!1}),encodedFile:new f.h({value:"_CURRENT_FILE",disabled:!t.editMode},[f.H.required]),format:new f.h({value:n.format,disabled:!0},[f.H.required])},t.versions=n.versions,t.attachFormGroup=new f.k(t.attachment),e(!0)})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"createNewVersion",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.sendingData=!0,this.appAttachmentViewer.getFile().pipe(Object(a.a)((function(e){t.attachment.encodedFile.setValue(e.content),t.attachment.format.setValue(e.format),t.functions.empty(t.attachment.encodedFile.value)&&(t.notify.error(t.translate.instant("lang.mustEditAttachmentFirst")),t.sendingData=!1)})),Object(o.a)((function(){return!t.functions.empty(t.attachment.encodedFile.value)})),Object(s.a)((function(){return t.http.post("../rest/attachments",t.getAttachmentValues(!0,e))})),Object(a.a)((function(n){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sendMassMode||"mailing"!==e){t.next=6;break}return t.next=3,this.generateMailling(n.id);case 3:this.notify.success(this.translate.instant("lang.attachmentGenerated")),t.next=7;break;case 6:this.notify.success(this.translate.instant("lang.newVersionAdded"));case 7:this.dialogRef.close("success");case 8:case"end":return t.stop()}}),t,this)})))})),Object(c.a)((function(){return t.sendingData=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}},{key:"updateAttachment",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.sendingData=!0,this.appAttachmentViewer.getFile().pipe(Object(a.a)((function(e){t.attachment.encodedFile.setValue(e.content),t.attachment.format.setValue(e.format)})),Object(s.a)((function(){return t.http.put("../rest/attachments/"+t.attachment.resId.value,t.getAttachmentValues(!1,e))})),Object(a.a)((function(){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sendMassMode||"mailing"!==e){t.next=6;break}return t.next=3,this.generateMailling(this.attachment.resId.value);case 3:this.notify.success(this.translate.instant("lang.attachmentGenerated")),t.next=7;break;case 6:this.notify.success(this.translate.instant("lang.attachmentUpdated"));case 7:this.dialogRef.close("success");case 8:case"end":return t.stop()}}),t,this)})))})),Object(c.a)((function(){return t.sendingData=!1})),Object(r.a)((function(e){return t.notify.handleSoftErrors(e),t.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}},{key:"generateMailling",value:function(t){var e=this;return new Promise((function(n,i){e.http.post("../rest/attachments/".concat(t,"/mailing"),{}).pipe(Object(a.a)((function(){n(!0)})),Object(r.a)((function(t){return e.notify.handleSoftErrors(t),e.dialogRef.close(""),Object(l.a)(!1)}))).subscribe()}))}},{key:"enableForm",value:function(t){var e=this;Object.keys(this.attachment).forEach((function(n){-1===["status","typistLabel","creationDate","relation","modificationDate","modifiedBy"].indexOf(n)&&(t?e.attachment[n].enable():e.attachment[n].disable())}))}},{key:"getAttachmentValues",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,i={};return Object.keys(this.attachment).forEach((function(e){if(void 0!==t.attachment[e]&&null!=t.attachment[e].value){if("validationDate"===e){var a=t.attachment[e].value.getDate(),r=t.attachment[e].value.getMonth()+1,o=t.attachment[e].value.getFullYear();i[e]=("00"+a).slice(-2)+"-"+("00"+r).slice(-2)+"-"+o+" 23:59:59"}else"recipient"===e?(i.recipientId=t.attachment[e].value.length>0?t.attachment[e].value[0].id:null,i.recipientType=t.attachment[e].value.length>0?t.attachment[e].value[0].type:null):i[e]=t.attachment[e].value;"encodedFile"===e&&"_CURRENT_FILE"===t.attachment[e].value&&(i.encodedFile=null),"mailing"===n&&(i.inMailing=!0)}})),e&&(i.originId=null!==this.attachment.originId.value?this.attachment.originId.value:i.resId,i.relation=this.attachment.relation.value+1,delete i.resId),i}},{key:"setDatasViewer",value:function(t){var e=this,n={};Object.keys(this.attachment).forEach((function(t){["title","validationDate","effectiveDate"].indexOf(t)>-1&&(n["attachment_"+t]=e.attachment[t].value)})),"setData"===t?this.appAttachmentViewer.setDatas(n):"cleanFile"===t?this.attachment.encodedFile.setValue(null):(n.resId=this.attachment.resIdMaster.value,this.appAttachmentViewer.setDatas(n))}},{key:"getAttachType",value:function(t){this.appAttachmentViewer.loadTemplatesByResId(this.attachment.resIdMaster.value,t)}},{key:"setNewVersion",value:function(){var t=this;this.newVersion||this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.createNewVersion"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(o.a)((function(t){return"ok"===t})),Object(a.a)((function(){t.newVersion=!0})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}},{key:"deleteSignedVersion",value:function(){var t=this;this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.deleteSignedVersion"),msg:this.translate.instant("lang.confirmAction")}}).afterClosed().pipe(Object(o.a)((function(t){return"ok"===t})),Object(s.a)((function(){return t.http.put("../rest/attachments/".concat(t.attachment.resId.value,"/unsign"),{})})),Object(a.a)((function(){t.attachment.status.setValue("A_TRA"),t.attachment.signedResponse.setValue(null),(t.privilegeService.hasCurrentUserPrivilege("manage_attachments")||t.headerService.user.id===t.attachment.typist.value)&&(t.editMode=!0,t.enableForm(t.editMode)),t.notify.success(t.translate.instant("lang.signedVersionDeleted")),t.dialogRef.close("success")})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe()}},{key:"isEmptyField",value:function(t){return null===t.value||(Array.isArray(t.value)?!(t.value.length>0):""===String(t.value))}},{key:"isEditing",value:function(){return!this.functions.empty(this.appAttachmentViewer)&&this.appAttachmentViewer.isEditorLoaded()}},{key:"closeModal",value:function(){var t=this;this.appAttachmentViewer.isEditingTemplate()?this.dialog.open(h.a,{panelClass:"maarch-modal",autoFocus:!1,disableClose:!0,data:{title:this.translate.instant("lang.close"),msg:this.translate.instant("lang.editingDocumentMsg")}}).afterClosed().pipe(Object(o.a)((function(t){return"ok"===t})),Object(a.a)((function(){t.dialogRef.close()})),Object(r.a)((function(e){return t.notify.handleErrors(e),Object(l.a)(!1)}))).subscribe():this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Tb(m.e),p.Tb(g.b),p.Tb(u.a),p.Tb(u.b),p.Tb(u.h),p.Tb(b.a),p.Tb(v.a),p.Tb(d.a),p.Tb(y.a),p.Tb(_.a),p.Tb(k.a))},t.\u0275cmp=p.Nb({type:t,selectors:[["app-attachment-page"]],viewQuery:function(t,e){var n;1&t&&p.ad(j,!0),2&t&&p.Cc(n=p.ic())&&(e.appAttachmentViewer=n.first)},features:[p.Db([d.a])],decls:18,vars:14,consts:[[1,"attach-container"],["class","example-loading-shade",4,"ngIf"],["mat-dialog-title",""],["style","flex: 1;",3,"title",4,"ngIf"],["mat-icon-button","",3,"title","click"],[1,"fa","fa-times"],[1,"attach-content"],[4,"ngIf"],["class","pjList","animationDuration","0","style","height: 100%",3,"selectedIndex",4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"disabled","click"],[1,"example-loading-shade"],[2,"flex","1",3,"title"],[1,"attachment-form","col-md-3","col-sm-12"],["class","attachment-form-item",4,"ngIf"],[1,"attachment-form-item"],[1,"input-form"],["matInput","",3,"placeholder","formControl","value"],[1,"fieldState"],[1,"fas","fa-asterisk","noMandatory"],[2,"width","100%",3,"label","placeholderLabel","formControlSelect","datas","afterSelected"],["class","fas fa-asterisk fieldRequired",4,"ngIf"],["class","fas fa-exclamation-triangle fieldError",4,"ngIf"],["class","fas fa-check fieldFull",4,"ngIf"],["matInput","",3,"placeholder","formControl"],["class","attachment-form-item","style","display: block;",4,"ngIf"],[1,"input-form",2,"cursor","pointer",3,"click"],["matInput","","readonly","",2,"cursor","pointer",3,"formControl","matDatepicker","placeholder","min"],["matSuffix","",3,"for",4,"ngIf"],[3,"touchUi"],["picker",""],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click",4,"ngIf"],["class","fas fa-asterisk noMandatory",4,"ngIf"],["color","primary",3,"checked","change"],["role","alert",1,"alert-message","alert-message-danger",3,"innerHTML"],[1,"fas","fa-asterisk","fieldRequired"],[1,"fas","fa-exclamation-triangle","fieldError"],[1,"fas","fa-check","fieldFull"],[1,"attachment-form-item",2,"display","block"],["role","alert",1,"alert","alert-info",3,"innerHTML"],[2,"width","100%",3,"control","singleMode"],["matSuffix","",3,"for"],["mat-button","","color","warn","matSuffix","","mat-icon-button","",3,"title","click"],["color","warn",1,"fa","fa-calendar-times"],["animationDuration","0",1,"pjList",2,"height","100%",3,"selectedIndex"],["label","Document principal",4,"ngIf"],["mat-tab-label",""],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","resIdMaster","mode","format","attachType","title","triggerEvent"],["appAttachmentViewer",""],[3,"label",4,"ngFor","ngForOf"],["label","Document principal"],["matTabContent",""],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","title"],["appDocumentViewer",""],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","mode","title"],[2,"color","green"],[2,"color","#135f7f"],[3,"label"],[2,"display","block","height","100%","width","100%","overflow","auto",3,"editMode","resId","mode","format","title"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(p.Zb(0,"div",0),p.Qc(1,Y,2,0,"div",1),p.Zb(2,"h1",2),p.Qc(3,N,4,7,"span",3),p.Zb(4,"button",4),p.hc("click",(function(){return e.dialogRef.close()})),p.Ub(5,"mat-icon",5),p.Yb(),p.Yb(),p.Zb(6,"mat-dialog-content",6),p.Qc(7,rt,65,59,"ng-container",7),p.Qc(8,ht,8,11,"mat-tab-group",8),p.Yb(),p.Zb(9,"div",9),p.Qc(10,pt,3,4,"button",10),p.Qc(11,mt,3,4,"button",10),p.Qc(12,gt,3,4,"button",10),p.Qc(13,bt,3,4,"button",10),p.Qc(14,vt,3,3,"button",11),p.Zb(15,"button",12),p.hc("click",(function(){return e.closeModal()})),p.Sc(16),p.mc(17,"translate"),p.Yb(),p.Yb(),p.Yb()),2&t&&(p.Eb(1),p.sc("ngIf",e.sendingData),p.Eb(2),p.sc("ngIf",!e.loading),p.Eb(1),p.sc("title",e.translate.instant("lang.close")),p.Eb(3),p.sc("ngIf",!e.loading),p.Eb(1),p.sc("ngIf",!e.loading),p.Eb(2),p.sc("ngIf",!e.newVersion),p.Eb(1),p.sc("ngIf",!e.newVersion&&e.sendMassMode&&!e.loading),p.Eb(1),p.sc("ngIf",e.newVersion),p.Eb(1),p.sc("ngIf",e.newVersion&&e.sendMassMode&&!e.loading),p.Eb(1),p.sc("ngIf",!e.loading&&"SIGN"===e.attachment.status.value&&(e.privilegeService.hasCurrentUserPrivilege("sign_document")||e.headerService.user.id==e.attachment.typist.value)),p.Eb(1),p.sc("disabled",e.loading),p.Eb(1),p.Tc(p.nc(17,12,"lang.close")))},directives:[C.t,u.i,x.b,w.a,u.f,u.c,O.c,S.c,E.b,f.c,f.t,f.i,M.a,I.c,I.g,I.h,P.f,P.d,T.a,A.a,P.h,S.j,D.c,D.a,D.d,R.a,C.s,D.b],pipes:[m.d,L.p,F.a],styles:[".attach-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:100%}.attach-container[_ngcontent-%COMP%]    .mat-tab-body-content, .attach-container[_ngcontent-%COMP%]    .mat-tab-body-wrapper{height:100%!important}.attach-container[_ngcontent-%COMP%]    .mat-drawer-inner-container{overflow-x:hidden}.mat-dialog-title[_ngcontent-%COMP%]{margin:0!important;display:flex;align-items:center}.attach-content[_ngcontent-%COMP%]{margin:0;padding:0!important;display:block;overflow:auto;max-height:100vh!important;height:calc(100% - 75px)}.attachment-form[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;overflow:auto;height:100%;padding:10px}.attachment-form[_ngcontent-%COMP%]    .mat-expansion-panel-body{padding:0}.attachment-form-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:10px;padding-bottom:10px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label-wrapper{margin-top:-7px}.attachment-form-item[_ngcontent-%COMP%]    .mat-form-field-should-float  .mat-form-field-label{background:#fff;width:auto!important;padding-top:5px;padding-left:5px;padding-right:5px}.pjList[_ngcontent-%COMP%]{flex:1}.pjList[_ngcontent-%COMP%]    .mat-tab-header{position:-webkit-sticky;position:sticky;z-index:1;height:50px;background:#fff;top:0}.pjList[_ngcontent-%COMP%]    .mat-tab-body-wrapper{flex:1}.pjList[_ngcontent-%COMP%]    .mat-tab-body-content{display:block;height:100%!important;text-align:center;background:#135f7f;color:#fff}.example-loading-shade[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.77);z-index:2}.actions[_ngcontent-%COMP%]{margin:0}.complete[_ngcontent-%COMP%]{color:green;font-weight:700}.fieldState[_ngcontent-%COMP%]{padding-top:0!important}.stateDoc[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.documentContent[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:center;text-align:center;background:#135f7f;overflow:auto;color:#fff}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:14px;color:#666}",".banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:30px;border-radius:20px;border:1px solid #ccc;position:relative;padding:20px;width:100%}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;max-width:85%;text-overflow:ellipsis;z-index:1;font-size:20px;font-weight:700;letter-spacing:2px;position:absolute;top:-18px;left:20px;padding:0;margin:0;color:#135f7f}.banner[_ngcontent-%COMP%]   .title-divider[_ngcontent-%COMP%]{position:absolute;width:99%;z-index:-1;top:17px;background:#fff;height:1px}.banner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;padding-right:10px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px}.fieldRow[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.fieldLabel[_ngcontent-%COMP%]{color:#4a4a4a}.fieldLabel[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{margin-right:10px}.fieldState[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;width:40px;justify-content:center;align-items:normal!important;padding-top:15px}.fieldState[_ngcontent-%COMP%]   .fieldRequired[_ngcontent-%COMP%]{font-size:5px;color:#135f7f}.fieldState[_ngcontent-%COMP%]   .fieldError[_ngcontent-%COMP%]{font-size:15px;color:#f99830}.fieldState[_ngcontent-%COMP%]   .fieldFull[_ngcontent-%COMP%]{font-size:15px;color:green}.fieldInput[_ngcontent-%COMP%]{position:relative}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:13px;flex:1}@media (max-width:768px){.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%]{font-size:1em}}.fieldInput[_ngcontent-%COMP%], .fieldLabel[_ngcontent-%COMP%], .fieldState[_ngcontent-%COMP%]{align-items:center;display:flex}.input-form[_ngcontent-%COMP%]{font-size:13px;color:#666;width:500px}.input-form[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#135f7f}.input-form[_ngcontent-%COMP%]    .mat-form-field-label{top:15px;left:20px}.input-form[_ngcontent-%COMP%]    .mat-form-field-infix{display:flex;padding-top:0;padding-bottom:5px}.input-form[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-13px}.input-form[_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff;height:40px;border-radius:10px;border:1px solid #135f7f}.input-form[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.search-select[_ngcontent-%COMP%]    .mat-form-field-label-wrapper{top:-15px}.input-form.input-date[_ngcontent-%COMP%]    .mat-form-field-infix{padding-top:5px}.input-form-filled[_ngcontent-%COMP%]{color:#fff;width:500px;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-flex, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-flex{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-form-field-label, .input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-placeholder, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-form-field-label, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-placeholder{color:#135f7f!important}.input-form-filled[_ngcontent-%COMP%]:hover    .mat-select-arrow, .input-form-filled[aria-expanded=true][_ngcontent-%COMP%]    .mat-select-arrow{color:rgba(19,95,127,.54)}.input-form-filled[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{color:#135f7f;padding-left:20px}.input-form-filled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value{text-align:left;font-weight:400}.input-form-filled[_ngcontent-%COMP%]    .mat-select-value-text{padding-left:20px;color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-label{color:#fff;left:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-infix{padding-bottom:15px}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-flex{background:#135f7f;border-radius:30px;border:1px solid #fff}.input-form-filled[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-suffix{margin-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{padding-right:20px}.input-form-filled[_ngcontent-%COMP%]    .mat-select-arrow{color:hsla(0,0%,100%,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-select-placeholder{color:#fff}.input-form-filled[_ngcontent-%COMP%]    .mat-list-option{color:rgba(0,0,0,.54)}.input-form-filled[_ngcontent-%COMP%]    .mat-form-field-wrapper{padding:0}.input-form-filled[_ngcontent-%COMP%]   textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:4px 0!important}.input-form-filled[_ngcontent-%COMP%]    .mat-datepicker-toggle-default-icon{height:auto}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-input-element{cursor:not-allowed;padding-left:20px}.input-form.mat-form-field-disabled[_ngcontent-%COMP%]    .mat-form-field-flex{cursor:not-allowed;border:1px dashed #353232}.opt-group[_ngcontent-%COMP%]{font-weight:700}.smallInput[_ngcontent-%COMP%]{font-size:11px;padding-left:20px;padding-right:20px}.smallInput[_ngcontent-%COMP%]    .mat-form-field-infix{padding:0 0 5px}.button-form-primary[_ngcontent-%COMP%]{background:#fff;border:1px solid #135f7f;color:#135f7f;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary[_ngcontent-%COMP%]{width:auto}}.button-form-primary[_ngcontent-%COMP%]:hover, .button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{background:#135f7f!important;border:1px solid #fff!important;color:#fff!important;transition:all .1s}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-filled[_ngcontent-%COMP%]{background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding-left:20px;padding-right:20px;width:240px;height:45px;transition:all .1s}@media (max-width:768px){.button-form-primary-filled[_ngcontent-%COMP%]{width:auto}}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.button-form-primary-filled[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary-alt[_ngcontent-%COMP%]{font-size:13px;background:#135f7f;border:1px solid #fff;color:#fff;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}@media (max-width:768px){.button-form-primary-alt[_ngcontent-%COMP%]{font-size:1em}}.button-form-primary-alt[_ngcontent-%COMP%]:hover, .button-form-primary-alt[aria-expanded=true][_ngcontent-%COMP%]{background:#fff!important;border:1px solid #fff!important;color:#135f7f!important;transition:all .1s}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper{display:flex;align-items:center;justify-content:center;width:100%}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-label{display:flex;flex:1}.button-form-primary-alt[_ngcontent-%COMP%]    .mat-button-wrapper .menu-icon{display:flex}.button-form-primary[aria-expanded=true][_ngcontent-%COMP%]{color:#135f7f;background:#fff;transition:all .1s;border:1px solid #135f7f}.button-form[_ngcontent-%COMP%]{background:#fff;color:#135f7f;border-radius:30px;padding:5px 20px;width:240px;transition:all .1s}.button-form[aria-expanded=true][_ngcontent-%COMP%]{transition:all .1s;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:30px;border-top-right-radius:30px} .menuForm{width:240px;border-radius:30px;border:1px solid #fff;min-height:auto} .menuForm .mat-menu-content{padding-top:0;padding-bottom:0} .menuForm .mat-menu-content .mat-menu-item{transition:all .1s;font-size:13px;color:#666}@media (max-width:768px){ .menuForm .mat-menu-content .mat-menu-item{font-size:1em}} .menuForm .mat-menu-content .mat-menu-item:hover{transition:all .1s;color:#fff;background:#1a80ab} .parametersFieldsMenu{min-height:auto}.div-list[_ngcontent-%COMP%]{padding:0;max-height:150px;overflow:auto}.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.div-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:1em}}.checkbox-form[_ngcontent-%COMP%]{width:100%;padding:0;border:1px solid #135f7f;border-radius:30px;overflow:hidden}.checkbox-selected-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]    .mat-chip-list-wrapper{justify-content:center}.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:13px}@media (max-width:768px){.checkbox-selected-list[_ngcontent-%COMP%]   .mat-chip[_ngcontent-%COMP%]{font-size:1em}}.radio-form[_ngcontent-%COMP%]{padding-left:20px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{flex:1}.radio-form[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]    .mat-radio-label-content{font-weight:400;color:rgba(0,0,0,.54)}.radio-form[_ngcontent-%COMP%]   .mat-radio-disabled[_ngcontent-%COMP%]{opacity:.5}.input-radio[_ngcontent-%COMP%]    .mat-form-field-infix{overflow:auto;padding-top:0}.input-radio[_ngcontent-%COMP%]    .mat-form-field-flex{height:auto}.input-radio[_ngcontent-%COMP%]    .mat-form-field-label{top:0;font-size:12px}.disabled[_ngcontent-%COMP%]{opacity:.2}.customFieldRow[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-bottom:20px}.customFieldDrag[_ngcontent-%COMP%]{cursor:move;width:50px;display:flex;align-items:center;justify-content:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{background:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.indexingModelsCustomFieldsList.cdk-drop-list-dragging[_ngcontent-%COMP%]   .indexingModelsCustomFieldsList[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.advancedInput[_ngcontent-%COMP%]{flex-direction:column}.noMandatory[_ngcontent-%COMP%]{visibility:hidden}.checkboxInput[_ngcontent-%COMP%]{display:block}.categoryLabel[_ngcontent-%COMP%]{letter-spacing:1px;font-size:13px;color:#135f7f;font-weight:700}@media (max-width:768px){.categoryLabel[_ngcontent-%COMP%]{font-size:1em}}.textareaInput[_ngcontent-%COMP%]    .mat-form-field{line-height:normal}.textareaInput[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0;color:#135f7f}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-flex{padding-left:20px;height:auto!important;min-height:40px!important}.textareaInput[_ngcontent-%COMP%]    .mat-form-field-label{left:0}"]}),t}()},zkoq:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return f}));var i=n("fXoL"),a=n("FKr1"),r=n("8LU1"),o=n("cH1L"),s=["*"],c=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],l=["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"],u=new i.r("MAT_GRID_LIST"),d=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}return _createClass(t,[{key:"_setStyle",value:function(t,e){this._element.nativeElement.style[t]=e}},{key:"rowspan",get:function(){return this._rowspan},set:function(t){this._rowspan=Math.round(Object(r.f)(t))}},{key:"colspan",get:function(){return this._colspan},set:function(t){this._colspan=Math.round(Object(r.f)(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(u,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&i.Fb("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:s,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(i.rc(),i.Zb(0,"figure",0),i.qc(1),i.Yb())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t}(),f=function(){var t=function(){function t(e){_classCallCheck(this,t),this._element=e}return _createClass(t,[{key:"ngAfterContentInit",value:function(){Object(a.F)(this._lines,this._element)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(t,e,n){var r;1&t&&i.Lb(n,a.k,!0),2&t&&i.Cc(r=i.ic())&&(e._lines=r)},ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(t,e){1&t&&(i.rc(c),i.qc(0),i.Zb(1,"div",0),i.qc(2,1),i.Yb(),i.qc(3,2))},encapsulation:2,changeDetection:0}),t}(),h=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["","mat-grid-avatar",""],["","matGridAvatar",""]],hostAttrs:[1,"mat-grid-avatar"]}),t}(),p=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]}),t}(),m=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Ob({type:t,selectors:[["mat-grid-tile-footer"]],hostAttrs:[1,"mat-grid-tile-footer"]}),t}(),g=function(){function t(){_classCallCheck(this,t),this.columnIndex=0,this.rowIndex=0}return _createClass(t,[{key:"update",value:function(t,e){var n=this;this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map((function(t){return n._trackTile(t)}))}},{key:"_trackTile",value:function(t){var e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new b(this.rowIndex,e)}},{key:"_findMatchingGap",value:function(t){if(t>this.tracker.length)throw Error("mat-grid-list: tile with colspan ".concat(t,' is wider than grid with cols="').concat(this.tracker.length,'".'));var e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}},{key:"_nextRow",value:function(){this.columnIndex=0,this.rowIndex++;for(var t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}},{key:"_findGapEndIndex",value:function(t){for(var e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}},{key:"_markTilePosition",value:function(t,e){for(var n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}},{key:"rowCount",get:function(){return this.rowIndex+1}},{key:"rowspan",get:function(){var t=Math.max.apply(Math,_toConsumableArray(this.tracker));return t>1?this.rowCount+t-1:this.rowCount}}]),t}(),b=function t(e,n){_classCallCheck(this,t),this.row=e,this.col=n},v=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,y=function(){function t(){_classCallCheck(this,t),this._rows=0,this._rowspan=0}return _createClass(t,[{key:"init",value:function(t,e,n,i){this._gutterSize=w(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}},{key:"getBaseTileSize",value:function(t,e){return"(".concat(t,"% - (").concat(this._gutterSize," * ").concat(e,"))")}},{key:"getTilePosition",value:function(t,e){return 0===e?"0":x("(".concat(t," + ").concat(this._gutterSize,") * ").concat(e))}},{key:"getTileSize",value:function(t,e){return"(".concat(t," * ").concat(e,") + (").concat(e-1," * ").concat(this._gutterSize,")")}},{key:"setStyle",value:function(t,e,n){var i=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(t,n,i,a),this.setRowStyles(t,e,i,a)}},{key:"setColStyles",value:function(t,e,n,i){var a=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(a,e)),t._setStyle("width",x(this.getTileSize(a,t.colspan)))}},{key:"getGutterSpan",value:function(){return"".concat(this._gutterSize," * (").concat(this._rowspan," - 1)")}},{key:"getTileSpan",value:function(t){return"".concat(this._rowspan," * ").concat(this.getTileSize(t,1))}},{key:"getComputedHeight",value:function(){return null}}]),t}(),_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).fixedRowHeight=t,i}return _createClass(n,[{key:"init",value:function(t,e,i,a){if(_get(_getPrototypeOf(n.prototype),"init",this).call(this,t,e,i,a),this.fixedRowHeight=w(this.fixedRowHeight),!v.test(this.fixedRowHeight))throw Error('Invalid value "'.concat(this.fixedRowHeight,'" set as rowHeight.'))}},{key:"setRowStyles",value:function(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",x(this.getTileSize(this.fixedRowHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["height",x("".concat(this.getTileSpan(this.fixedRowHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),n}(y),k=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._parseRatio(t),i}return _createClass(n,[{key:"setRowStyles",value:function(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",x(this.getTileSize(this.baseTileHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["paddingBottom",x("".concat(this.getTileSpan(this.baseTileHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach((function(t){t._setStyle("marginTop",null),t._setStyle("paddingTop",null)}))}},{key:"_parseRatio",value:function(t){var e=t.split(":");if(2!==e.length)throw Error('mat-grid-list: invalid ratio given for row-height: "'.concat(t,'"'));this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}]),n}(y),C=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"setRowStyles",value:function(t,e){var n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",x(this.getTileSize(n,t.rowspan)))}},{key:"reset",value:function(t){t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),n}(y);function x(t){return"calc(".concat(t,")")}function w(t){return t.match(/([A-Za-z%]+)$/)?t:t+"px"}var O=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._element=e,this._dir=n,this._gutter="1px"}return _createClass(t,[{key:"ngOnInit",value:function(){this._checkCols(),this._checkRowHeight()}},{key:"ngAfterContentChecked",value:function(){this._layoutTiles()}},{key:"_checkCols",value:function(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}},{key:"_checkRowHeight",value:function(){this._rowHeight||this._setTileStyler("1:1")}},{key:"_setTileStyler",value:function(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new C:t&&t.indexOf(":")>-1?new k(t):new _(t)}},{key:"_layoutTiles",value:function(){var t=this;this._tileCoordinator||(this._tileCoordinator=new g);var e=this._tileCoordinator,n=this._tiles.filter((function(e){return!e._gridList||e._gridList===t})),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,i),n.forEach((function(n,i){var a=e.positions[i];t._tileStyler.setStyle(n,a.row,a.col)})),this._setListStyle(this._tileStyler.getComputedHeight())}},{key:"_setListStyle",value:function(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}},{key:"cols",get:function(){return this._cols},set:function(t){this._cols=Math.max(1,Math.round(Object(r.f)(t)))}},{key:"gutterSize",get:function(){return this._gutter},set:function(t){this._gutter=""+(null==t?"":t)}},{key:"rowHeight",get:function(){return this._rowHeight},set:function(t){var e=""+(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Tb(i.l),i.Tb(o.c,8))},t.\u0275cmp=i.Nb({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){var a;1&t&&i.Lb(n,d,!0),2&t&&i.Cc(a=i.ic())&&(e._tiles=a)},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&i.Fb("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[i.Db([{provide:u,useExisting:t}])],ngContentSelectors:s,decls:2,vars:0,template:function(t,e){1&t&&(i.rc(),i.Zb(0,"div"),i.qc(1),i.Yb())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t}(),S=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=i.Rb({type:t}),t.\u0275inj=i.Qb({factory:function(e){return new(e||t)},imports:[[a.l,a.j],a.l,a.j]}),t}()},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return c}));var i=n("7o/Q"),a=n("HDdC"),r=n("SeVD"),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).parent=t,i}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(i.a),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(i.a);function c(t,e){if(!e.closed)return t instanceof a.a?t.subscribe(e):Object(r.a)(t)(e)}},zzsZ:function(t,e,n){"use strict";var i=n("Q1FS"),a=n("OAkW"),r=n("2qMH");e.fromArray=function(t,e){return e?r.scheduleArray(t,e):new i.Observable(a.subscribeToArray(t))}}},[[0,0]]]);